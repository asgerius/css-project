[{"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1557403510, "post_id": 56050428, "comment_id": 98758475, "body": "<a href=\"https://ionicframework.com/docs/api/modal#usage\" rel=\"nofollow noreferrer\">ionicframework.com/docs/api/modal#usage</a>"}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 0, "creation_date": 1557926965, "post_id": 56050428, "comment_id": 98930473, "body": "@FernandoPie were you able to solve this?"}, {"owner": {"reputation": 798, "user_id": 3926106, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100005088515645/picture?type=large", "display_name": "Fernando Pie", "link": "https://stackoverflow.com/users/3926106/fernando-pie"}, "reply_to_user": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 0, "creation_date": 1558061594, "post_id": 56050428, "comment_id": 98984049, "body": "@sebaferreras OH yeah sebas  I have found my solution here:<a href=\"https://medium.com/@david.dalbusco/how-to-declare-and-use-modals-in-ionic-v4-4d3f42ac30a3\" rel=\"nofollow noreferrer\">medium.com/@david.dalbusco/&hellip;</a>"}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 1, "creation_date": 1558076448, "post_id": 56050428, "comment_id": 98987943, "body": "@FernandoPie ok glad to hear that you solved the issue. When asking a question on SO please take some time to review the answers to see if any of them may solve your issue, and if they don\u2019t and you find a better solution, you can add your own answer. That way you can accept an answer and close the question. Otherwise your question will remain open which make other users think that it doesn\u2019t have a solution at all. The goal is just to help some other users facing the same issue to find the way to solve it."}], "answers": [{"tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": false, "score": 0, "last_activity_date": 1557476332, "last_edit_date": 1557476332, "creation_date": 1557402042, "answer_id": 56058617, "question_id": 56050428, "link": "https://stackoverflow.com/questions/56050428/property-ondiddismiss-does-not-exist-on-type-ionic-4-and-angular/56058617#56058617", "title": "Property &#39;onDidDismiss&#39; does not exist on type ionic 4 and Angular", "body": "<p>Since you're using <code>await</code> to create the modal, you don't need to use the <code>then</code> like that.</p>\n\n<p>Please try the following:</p>\n\n<pre><code>async addItem()  {\n\n  // Create the modal\n  const modal = await this.modalCtrl.create({   \n    component: AddItemPage,\n    componentProps: {\n      'prop1': \"cadena!!!!!!!\"   \n    } \n  });\n\n  // Present the modal\n  return await modal.present();\n\n  // Wait for the modal to be dismissed before continuing...\n  const eventDetails = await modal.onDidDismiss();\n\n  if (eventDetails) {\n    console.log(eventDetails.data);\n  }\n\n  // ...\n\n}\n</code></pre>\n\n<p>The code above assumes you're returning something when dismissing the modal, like this:</p>\n\n<pre><code>// Dismiss the modal returning some data object\nmodalController.dismiss({\n  'result': 'This is the result returned by the modal!'\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3210, "user_id": 6690002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-AkfGoT9kPCI/AAAAAAAAAAI/AAAAAAAAEXM/QiCULOdIgNM/photo.jpg?sz=128", "display_name": "Khurshid Ansari", "link": "https://stackoverflow.com/users/6690002/khurshid-ansari"}, "is_accepted": false, "score": -1, "last_activity_date": 1557403152, "creation_date": 1557403152, "answer_id": 56058950, "question_id": 56050428, "link": "https://stackoverflow.com/questions/56050428/property-ondiddismiss-does-not-exist-on-type-ionic-4-and-angular/56058950#56058950", "title": "Property &#39;onDidDismiss&#39; does not exist on type ionic 4 and Angular", "body": "<p>Try : </p>\n\n<pre><code>const modal = await modalController.create({...});\nconst { data } = await modal.onDidDismiss();\nconsole.log(data);\n</code></pre>\n\n<p>As per official <a href=\"https://ionicframework.com/docs/api/modal#returning-data\" rel=\"nofollow noreferrer\">documentation</a> . </p>\n"}, {"tags": [], "owner": {"reputation": 798, "user_id": 3926106, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100005088515645/picture?type=large", "display_name": "Fernando Pie", "link": "https://stackoverflow.com/users/3926106/fernando-pie"}, "is_accepted": true, "score": 4, "last_activity_date": 1562985798, "creation_date": 1562985798, "answer_id": 57015750, "question_id": 56050428, "link": "https://stackoverflow.com/questions/56050428/property-ondiddismiss-does-not-exist-on-type-ionic-4-and-angular/57015750#57015750", "title": "Property &#39;onDidDismiss&#39; does not exist on type ionic 4 and Angular", "body": "<p>How is related in this post:<a href=\"https://medium.com/@david.dalbusco/how-to-declare-and-use-modals-in-ionic-v4-4d3f42ac30a3\" rel=\"nofollow noreferrer\">https://medium.com/@david.dalbusco/how-to-declare-and-use-modals-in-ionic-v4-4d3f42ac30a3</a>\nMy error was just How I was creating the modal. I have followed this code to create my modal property.</p>\n\n<pre><code>async openModal() {\n    const modal: HTMLIonModalElement =\n       await this.modalController.create({\n          component: DatePickerModal,\n          componentProps: {\n             aParameter: true,\n             otherParameter: new Date()\n          }\n    });\n\n    modal.onDidDismiss().then((detail: OverlayEventDetail) =&gt; {\n       if (detail !== null) {\n         console.log('The result:', detail.data);\n       }\n    });\n\n    await modal.present();\n}\n</code></pre>\n"}], "owner": {"reputation": 798, "user_id": 3926106, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100005088515645/picture?type=large", "display_name": "Fernando Pie", "link": "https://stackoverflow.com/users/3926106/fernando-pie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3686, "favorite_count": 0, "accepted_answer_id": 57015750, "answer_count": 3, "score": 3, "last_activity_date": 1562985798, "creation_date": 1557359677, "last_edit_date": 1557430453, "question_id": 56050428, "link": "https://stackoverflow.com/questions/56050428/property-ondiddismiss-does-not-exist-on-type-ionic-4-and-angular", "title": "Property &#39;onDidDismiss&#39; does not exist on type ionic 4 and Angular", "body": "<p>I am developing an app and I have the next class in TypeScript.</p>\n\n<p>I want to try to get the data in a method of type callback in \u00b4ModalController\u00b4 when it dismiss the modal:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core'; \nimport {NavController, ModalController} from '@ionic/angular'; \nimport { Router } from '@angular/router'; \nimport { HomePage } from '../home/home.page'; \nimport {AddItemPage} from '../add-item/add-item.page';\n\n@Component({   \n  selector: 'app-todo',   \n  templateUrl: './todo.component.html',   \n  styleUrls: ['./todo.component.scss']\n})\n\nexport class TodoComponent implements OnInit {\n\n  public items;\n\n  constructor(public navCtrl: NavController, public modalCtrl: ModalController) {\n    this.ionViewDidLoad();    \n  }\n\n  ngOnInit() {}\n\n  async addItem()  {\n    // Create a modal using MyModalComponent with some initial data \n     const modal = await this.modalCtrl.create({   \n        component: AddItemPage,  componentProps: {\n           'prop1': \"cadena!!!!!!!\"   \n        } \n     }).then(function(modal) {   \n        return modal.present(); \n     });\n\n     modal.onDidDismiss(() =&gt; {\n        // Call the method to do whatever in your home.ts\n        console.log('Modal closed');\n    });\n  }\n}\n</code></pre>\n\n<p>I got this error:</p>\n\n<blockquote>\n  <p>core.js:15724 ERROR Error: Uncaught (in promise): TypeError: Cannot\n  read property 'onDidDismiss' of undefinedTypeError: Cannot read\n  property 'onDidDismiss' of undefine</p>\n</blockquote>\n"}, {"tags": ["typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1557363616, "post_id": 56050214, "comment_id": 98742854, "body": "It does seem like the quickinfo/IntelliSense for <code>Omit2_2</code> is weird... the seemingly unbound type parameter <code>K1</code> is present, which is surprising.  Maybe that part is a bug in Intellisense?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1557364668, "post_id": 56050214, "comment_id": 98743051, "body": "The fact that an intersection shows up where you never used one in your definition is due to a <a href=\"https://github.com/microsoft/TypeScript/pull/29437\" rel=\"nofollow noreferrer\">change in TS3.4</a> whereby <code>T extends U ? F&lt;T&gt; : V</code> is simplified to <code>F&lt;T &amp; U&gt;</code> if <code>T</code> definitely extends <code>U</code>.  The part where the type parameter makes it into IntelliSense is unexpected, though."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1557365579, "post_id": 56050214, "comment_id": 98743244, "body": "Shorter repro: <code>type Hmm&lt;T extends U, U&gt; = T extends U ? { [K in keyof T]: any } : never; type What = Hmm&lt;{ a: string }, {}&gt;</code>"}, {"owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557419443, "post_id": 56050214, "comment_id": 98767725, "body": "The intersection type shows up because <code>P1</code> extends <code>K1</code>? I&#39;ve read the change but don&#39;t grasp the rationale - isn&#39;t <code>P1</code> already specific enough? What extra information is conveyed by <code>P1 &amp; K1</code> as a type?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1557419606, "post_id": 56050214, "comment_id": 98767786, "body": "Yeah <a href=\"https://github.com/microsoft/TypeScript/pull/29437#issuecomment-475471829\" rel=\"nofollow noreferrer\">me too</a>... I guess optional properties do add info"}, {"owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557501951, "post_id": 56050214, "comment_id": 98799348, "body": "That&#39;s interesting, I&#39;ll try and come up with an example using optional properties there these two implementations differ."}], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 0, "creation_date": 1557501919, "post_id": 56062486, "comment_id": 98799330, "body": "This is exciting! Thanks for posting the bug report. Are you sure our examples relate to the same thing? I ask because in my example I could assign the correct types to e.g. <code>T7.a.d</code>, it&#39;s just that the type information isn&#39;t very clear. In your example it seems like the type is inferred incorrectly altogether."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 1, "creation_date": 1557502378, "post_id": 56062486, "comment_id": 98799607, "body": "I was a little surprised that the issue was actually affecting the type system and not just IntelliSense.  The fact that an intersection of a runaway type parameter survived into the final type is either your whole problem or a big problem that&#39;s hiding other issues you&#39;re having.  Either way I think it needs to be fixed in the compiler before I could feel confident about any further advice here."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 1, "creation_date": 1557610598, "post_id": 56062486, "comment_id": 98824915, "body": "Yes, and pushed to the master branch, so we can test it.  Updated the answer with the results (spoiler: looks good now!)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1557610562, "last_edit_date": 1557610562, "creation_date": 1557414554, "answer_id": 56062486, "question_id": 56050214, "link": "https://stackoverflow.com/questions/56050214/typescript-nested-map-type-gives-confusing-type-hints/56062486#56062486", "title": "Typescript - nested map type gives confusing type hints", "body": "<p>This looks like a bug in the compiler to me.  I've just filed <a href=\"https://github.com/microsoft/TypeScript/issues/31326\" rel=\"nofollow noreferrer\">Microsoft/TypeScript#31326</a> and will report back with updated information from there.  Good luck!</p>\n\n<p>UPDATE, 2019-05-10:  This has been marked as bug by one of the language designers.  Not sure when it will be fixed, but at least we know you're right to be confused about that type information.</p>\n\n<p>UPDATE, 2019-05-11: As you noticed, this bug is now <a href=\"https://github.com/microsoft/TypeScript/pull/31337\" rel=\"nofollow noreferrer\">fixed</a> and has been merged into <code>master</code>.  That means if you now try your code with <code>typescript@next</code> you should see the new behavior:</p>\n\n<pre><code>type omit_union_2 = Omit2_2&lt;HasSameNested, 'a' | 'b', 'c'&gt;;\ndeclare let T7: omit_union_2;\nT7.a; // works, type is { d: string }\nT7.b; // works, type is { d: number }\n</code></pre>\n\n<p>I don't see a difference between your <code>T6</code> and <code>T7</code> types anymore.  So, looks like this was entirely caused by that compiler bug, and should go away when TypeScript 3.5 is released on or around May 30, 2019.</p>\n\n<p>Okay, good luck to you!</p>\n"}], "owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 56062486, "answer_count": 1, "score": 2, "last_activity_date": 1557610562, "creation_date": 1557357373, "question_id": 56050214, "link": "https://stackoverflow.com/questions/56050214/typescript-nested-map-type-gives-confusing-type-hints", "title": "Typescript - nested map type gives confusing type hints", "body": "<p>I've written a nested <code>Omit</code> type in two different ways, but the one that makes more sense to me gives convoluted type hints while the one that's less intuitive actually looks best. Here goes:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type HasSameNested = {\n    a: {\n        c: number; d: string\n    },\n    b: {\n        c: string; d: number\n    }\n}; // flipped C and D types\n\ntype Omit2&lt;T, K1 extends keyof T, K2 extends keyof T[K1]&gt; = {\n    [P1 in keyof T]: P1 extends K1 ? {\n        [P2 in Exclude&lt;keyof T[K1], K2&gt;]: T[P1][P2]\n    } : T[P1]\n}\n\ntype Omit2_2&lt;T, K1 extends keyof T, K2 extends keyof T[K1]&gt; = {\n    [P1 in keyof T]: P1 extends K1 ? {\n        [P2 in Exclude&lt;keyof T[P1], K2&gt;]: T[P1][P2]\n    } : T[P1]\n}\n\ntype omit_union = Omit2&lt;HasSameNested, 'a' | 'b', 'c'&gt;;\nlet T6: omit_union;\nT6.a; // works, type is { d: string }\nT6.b; // works, type is { d: number }\n\ntype omit_union_2 = Omit2_2&lt;HasSameNested, 'a' | 'b', 'c'&gt;;\nlet T7: omit_union_2;\nT7.a.d = 'a'; // works but types are ugly:\n// a: { [P2 in Exclude&lt;keyof HasSameNested[K1 &amp; \"a\"], \"c\"&gt;]: HasSameNested[K1 &amp; \"a\"][P2]; }\n// d: d: HasSameNested[K1 &amp; \"a\"][\"d\"]\n\nT7.b.d = 4; // works but types are ugly, as above\n</code></pre>\n\n<p>Assigning the wrong type to <code>T7.b.d</code> or <code>T7.a.d</code> does tell me e.g. <code>string is not assignable to number</code>, but <strong>I don't understand</strong> why using <code>Exclude&lt;keyof T[P1], K2&gt;</code> gives such convoluted typing even though <code>P1 in keyof T</code> and <code>P1 extends K1</code>, and <code>Exclude&lt;keyof T[K1], K2&gt;</code> gives the correct types.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "edited": false, "score": 1, "creation_date": 1557349704, "post_id": 56048913, "comment_id": 98739583, "body": "Any reason you&#39;re using <code>@ViewChild()</code> instead of <code>@Output()</code>? If not, you should be using <code>@Output()</code>. Otherwise, your TS looks fine. Can you include the HTML of both though? Might be missing something there."}, {"owner": {"reputation": 20736, "user_id": 337128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qo1Yy.jpg?s=128&g=1", "display_name": "Thalaivar", "link": "https://stackoverflow.com/users/337128/thalaivar"}, "edited": false, "score": 1, "creation_date": 1557350299, "post_id": 56048913, "comment_id": 98739760, "body": "Use a service which will update and keep the value both in parent in child in sync."}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1557352533, "post_id": 56048913, "comment_id": 98740526, "body": "If a parent component needs to keep a property in sync with a child, the child component needs to output the value via an <code>@Output()</code> when it changes. <a href=\"https://angular.io/guide/architecture-components#data-binding\" rel=\"nofollow noreferrer\">angular.io/guide/architecture-components#data-binding</a>"}], "owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557348844, "creation_date": 1557348844, "question_id": 56048913, "link": "https://stackoverflow.com/questions/56048913/child-property-in-parent-component-wont-update", "title": "Child property in parent component won&#39;t update", "body": "<p>I'm trying to get access of the child property menuType. I have some code so far, but somehow the parent isn't updating the property along with its child component. </p>\n\n<p>This is my approach: </p>\n\n<p><strong>Parent:</strong></p>\n\n<pre><code>import {AfterViewInit, Component, OnInit, ViewChild} from '@angular/core';\nimport { MenuHeaderComponent } from './menu-header/menu-header.component';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.scss']\n})\nexport class MenuComponent implements OnInit, AfterViewInit {\n  @ViewChild(MenuHeaderComponent) menuTypeDetail: MenuHeaderComponent;\n  menuType: number;\n\n  constructor() { }\n\n  ngAfterViewInit(): void {\n    this.getChildProperty();\n  }\n\n  getChildProperty(): void {\n    this.menuType = this.menuTypeDetail.menuType;\n  }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p><strong>Child:</strong> </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-menu-header',\n  templateUrl: './menu-header.component.html',\n  styleUrls: ['./menu-header.component.scss']\n})\nexport class MenuHeaderComponent implements OnInit {\n\n  menuType = 3;\n\n  menuClicked(type): void {\n    this.menuType = type;\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "systemjs"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1557348245, "post_id": 56048760, "comment_id": 98739025, "body": "Please take some time to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, especially the part titled &quot;Write a title that summarizes the specific problem&quot;. Your current title... doesn&#39;t do that :)."}, {"owner": {"reputation": 299, "user_id": 706747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7zsV6.jpg?s=128&g=1", "display_name": "AlfieJ", "link": "https://stackoverflow.com/users/706747/alfiej"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557359076, "post_id": 56048760, "comment_id": 98742036, "body": "Yes, the title wasn&#39;t very good. Edited it, and hopefully it&#39;s better now. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 706747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7zsV6.jpg?s=128&g=1", "display_name": "AlfieJ", "link": "https://stackoverflow.com/users/706747/alfiej"}, "edited": false, "score": 0, "creation_date": 1557357391, "post_id": 56048981, "comment_id": 98741711, "body": "Hmm. So the &#39;declare var angular;&#39; is doing the typings as well? I was of the impression that it was simply declaring &#39;angular&#39; to be such that TypeScript wouldn&#39;t do any type checking on it..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11390576"}, "reply_to_user": {"reputation": 299, "user_id": 706747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7zsV6.jpg?s=128&g=1", "display_name": "AlfieJ", "link": "https://stackoverflow.com/users/706747/alfiej"}, "edited": false, "score": 0, "creation_date": 1557386305, "post_id": 56048981, "comment_id": 98748963, "body": "I added more detail to my answer."}, {"owner": {"reputation": 299, "user_id": 706747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7zsV6.jpg?s=128&g=1", "display_name": "AlfieJ", "link": "https://stackoverflow.com/users/706747/alfiej"}, "edited": false, "score": 0, "creation_date": 1557423573, "post_id": 56048981, "comment_id": 98769582, "body": "Thank you for adding more detail!  I loaded Angular globally in the HTML because I use other Angular-related things like angular-route and the main Angular.js file needs to be loaded first. They aren&#39;t used in my TypeScript code, so I was just loading them instead of <i>importing</i> them. I have since taken the time to add all of those to the SystemJS configuration, then tried importing them into my TypeScript code so SystemJS will load them in the right order, but I get the same error.  I find a lot of this baffling. What&#39;s the point of the @types/angular/index.d.ts if I can&#39;t use it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11390576"}, "reply_to_user": {"reputation": 299, "user_id": 706747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7zsV6.jpg?s=128&g=1", "display_name": "AlfieJ", "link": "https://stackoverflow.com/users/706747/alfiej"}, "edited": false, "score": 0, "creation_date": 1557436014, "post_id": 56048981, "comment_id": 98774862, "body": "There must be something wrong with your imports. Console.log angular and see what you\u2019re getting. Apparently not the object with module as a method."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11390576"}, "is_accepted": false, "score": 1, "last_activity_date": 1557386265, "last_edit_date": 1557386265, "creation_date": 1557349177, "answer_id": 56048981, "question_id": 56048760, "link": "https://stackoverflow.com/questions/56048760/why-is-declare-var-angular-necessary-when-using-typescript-with-angularjs/56048981#56048981", "title": "Why is \u201cdeclare var angular\u201d necessary when using Typescript with AngularJS?", "body": "<p>Your Typescript types, <code>@types/angular</code>, look for the <code>angular</code> variable to attach their types to.  </p>\n\n<p>Normally, you'd have imported angular like this: <code>import angular from \"angular\"</code> and the types would be applied to the <code>angular</code> variable you just created, and all would work just fine.</p>\n\n<p>However, you are already loading Angular globally in your HTML <code>&lt;script&gt;</code>.  In this case, you don't want to <code>import angular from \"angular\"</code> because then you will have loaded Angular more than once, and things might break.</p>\n\n<p>By writing <code>declare var angular</code> you are simply telling Typescript to trust you that it exists, even though it hasn't seen it be imported into the scope of this file.</p>\n\n<p>This means</p>\n\n<ul>\n<li>Typescript won't complain about Angular being undefined.</li>\n<li><code>@types/angular</code> will attach to your variable <code>angular</code>.</li>\n</ul>\n\n<p>When you get to runtime, assuming <code>angular</code> does really exist on <code>window</code>, then it will work.</p>\n\n<p>This is a problem that will be required while you are moving to bundlers like Webpack or SystemJS.  Once you remove the global Angular from <code>index.html</code> <code>&lt;script&gt;</code>, you can import into your TS files and delete the <code>declare var</code>.</p>\n"}], "owner": {"reputation": 299, "user_id": 706747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7zsV6.jpg?s=128&g=1", "display_name": "AlfieJ", "link": "https://stackoverflow.com/users/706747/alfiej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2785, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557417169, "creation_date": 1557348125, "last_edit_date": 1557417169, "question_id": 56048760, "link": "https://stackoverflow.com/questions/56048760/why-is-declare-var-angular-necessary-when-using-typescript-with-angularjs", "title": "Why is \u201cdeclare var angular\u201d necessary when using Typescript with AngularJS?", "body": "<p>I have a functional AngularJS 1.7 application where all my code is written in TypeScript. But something's always bothered me.</p>\n\n<p>In my app.module.ts file, I have this bit of ugliness:<br>\n<code>declare var angular;</code><br>\nin order for the<br>\n<code>this.app = angular.module('app'...</code><br>\nto transpile and run.</p>\n\n<p>Things I've tried:</p>\n\n<p>1) Replacing <code>declare var angular;</code> with<br>\n<code>import angular from \"angular\";</code><br>\ntranspiles just fine, but then the browser complains<br>\n<code>Uncaught (in promise) TypeError: angular_1.default.module is not a function</code> </p>\n\n<p>2) Replacing <code>declare var angular;</code> with<br>\n<code>import * as angular from \"angular\";</code><br>\nalso transpiles fine, but the browser gives a similar error:<br>\n<code>Uncaught (in promise) TypeError: angular.module is not a function</code></p>\n\n<p>3) Replacing <code>declare var angular;</code> with<br>\n<code>import ng from \"angular\";</code><br>\nand then using <code>ng.angular.module</code> or <code>ng.module</code> doesn't transpile at all.</p>\n\n<p>I'm sure I've tried some other things, but the only way I've ever been able to get things to work is with that <code>declare var angular;</code>  </p>\n\n<p>It all works fine, but that sure smells bad to me. Why do I have to do that? What am I doing wrong? Is there a better way to do it?</p>\n\n<hr>\n\n<p>Details:  </p>\n\n<ul>\n<li>Visual Studio 2017/2019  </li>\n<li>TypeScript 3.3  </li>\n<li>SystemJS (not RequireJS)</li>\n<li>AngularJS 1.7.8</li>\n<li>@types/angular 1.6.54</li>\n</ul>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>\"devDependencies\": {\n    \"@types/angular\": \"^1.6.54\",\n    ...\n},\n\"dependencies\": {\n    \"angular\": \"~1.7.8\",\n    ...\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n    \"compileOnSave\": true,\n    \"compilerOptions\": {\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"*\": [ \"node_modules/types/*\", \"node_modules/*\" ],\n        },\n        \"module\": \"system\",\n        \"target\": \"es6\",\n        \"sourceMap\": true,\n        \"lib\": [ \"es6\", \"dom\" ],\n        \"allowSyntheticDefaultImports\": true,\n        \"outFile\": \"./app/everything.js\",\n        \"moduleResolution\": \"node\",\n        \"types\": [\n            \"angular\",\n            \"jquery\"\n        ]\n    },\n    \"include\": [\"app/**/*\"],\n    \"exclude\": [\"node_modules\", \"lib\"],\n    \"strict\": true\n}\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>declare var angular;\n...\nexport class App {\n    app: ng.IModule;\n\n    constructor() {\n        this.app = angular.module('app', [\n        ...\n        ]);\n    }\n\n    public run() {\n        this.app.run([\n        ...\n        ]);\n        ...\n    }\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>...\n&lt;script src=\"lib/systemjs/system.js\"&gt;&lt;/script&gt;\n&lt;script src=\"lib/angular/angular.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n...\n&lt;script src=\"app/everything.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    System.config({\n        map: {\n            \"angular\": \"lib/angular\",\n            ...\n        },\n        packages: {\n            \"angular\": { main: \"angular.min.js\", defaultExtension: \"js\" },\n            ...\n        }\n    });\n    System.import(\"app.module\")\n        .then(function (app) {\n            let a = new app.App();\n            a.run();\n\n            angular.element(function () {\n                angular.bootstrap(document, ['app']);\n            });\n        });\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["typescript", "type-safety"], "comments": [{"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1557350257, "post_id": 56048731, "comment_id": 98739743, "body": "Also worth reading: <a href=\"https://stackoverflow.com/questions/34834033/should-i-throw-on-null-parameters-in-private-internal-methods\" title=\"should i throw on null parameters in private internal methods\">stackoverflow.com/questions/34834033/&hellip;</a>"}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 1, "creation_date": 1557350978, "post_id": 56048731, "comment_id": 98740018, "body": "Please don&#39;t return <code>null</code>s when your program gets unexpected input, throw an error instead. Returning <code>false</code> is even worse, its so arbitrary, its like returning <code>-4.2</code>. Also <code>typeof (coinPair.name.toUpperCase()) === &#39;string&#39;</code> will never be false, its either true or it errors out. Your instructor clearly missed some classes."}, {"owner": {"reputation": 396, "user_id": 1032617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X23pT.jpg?s=128&g=1", "display_name": "Arto Kalishian", "link": "https://stackoverflow.com/users/1032617/arto-kalishian"}, "edited": false, "score": 0, "creation_date": 1557354278, "post_id": 56048731, "comment_id": 98740980, "body": "This is my code not the instructor&#39;s. The instructors code is here and I&#39;d like to know your opinion about it: <a href=\"https://github.com/pirple/The-NodeJS-Master-Class/blob/master/Section%203/FINAL/lib/handlers.js\" rel=\"nofollow noreferrer\">github.com/pirple/The-NodeJS-Master-Class/blob/master/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 1032617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X23pT.jpg?s=128&g=1", "display_name": "Arto Kalishian", "link": "https://stackoverflow.com/users/1032617/arto-kalishian"}, "edited": false, "score": 0, "creation_date": 1557354577, "post_id": 56049118, "comment_id": 98741040, "body": "Very informative. Thanks! If you believe the validity checks are not necessary then what is your definition for a robust app? Also do you know any good books that talk about boundaries?"}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 396, "user_id": 1032617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X23pT.jpg?s=128&g=1", "display_name": "Arto Kalishian", "link": "https://stackoverflow.com/users/1032617/arto-kalishian"}, "edited": false, "score": 1, "creation_date": 1557384255, "post_id": 56049118, "comment_id": 98747986, "body": "A robust application is an application that responds as the end user expects regardless of user or other external input.  Not every function needs to be robust for the application to be robust.  As for books about boundaries, Clean Architecture might be a nice one although there are a lot of blog posts about it too you can read instead of a book."}], "tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": true, "score": 1, "last_activity_date": 1557349922, "creation_date": 1557349922, "answer_id": 56049118, "question_id": 56048731, "link": "https://stackoverflow.com/questions/56048731/typescript-type-safety-in-node-apps/56049118#56049118", "title": "TypeScript Type-Safety in Node Apps", "body": "<p>If you only use your code for yourself or your team and everything you or your team create is in TypeScript then you don't need those kinds of checks.  Otherwise, if you are sharing, or plan to share your code it will need boundaries.  Even code you don't write should have boundaries.  Where these boundaries are and is a design and development decision.  Some libraries have large boundaries (e.g. a language's standard library) and others have very small controlled boundaries.</p>\n\n<p>At these boundaries you may choose to do the above checks.  As your peer claims, nothing in TS will protect you at runtime.  If you created a TS module and publish it on NPM you should be publishing the JS.  A JS developer can import/require your module and use it in their JS code and pass in whatever they want.</p>\n\n<p>Also, even if you were certain your callers would also be using TypeScript you could still have these kinds of boundary-checking issues.  For example, checking if objects are undefined or null, making sure JSON passed in from a web request is valid, etc.  However, JS is such a loose language that it tends to require fairly exhaustive boundary checks so it's no surprise you'd see them in TS tutorials as JS developers who migrated are pretty used to having to do them.</p>\n\n<p>At this point it probably gets opinion based.  For example, I know many developers that sprinkle null checks exhaustively throughout a code base.  In general I personally see this as a symptom of poor design and lack of awareness of boundaries.  I am personally fairly against the idea of performing validity checks &amp; asserts so that a bug is detected earlier.  Such checks complicate the readability of code and reduce it's maintenance.</p>\n"}], "owner": {"reputation": 396, "user_id": 1032617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X23pT.jpg?s=128&g=1", "display_name": "Arto Kalishian", "link": "https://stackoverflow.com/users/1032617/arto-kalishian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 56049118, "answer_count": 1, "score": 0, "last_activity_date": 1557349922, "creation_date": 1557347967, "question_id": 56048731, "link": "https://stackoverflow.com/questions/56048731/typescript-type-safety-in-node-apps", "title": "TypeScript Type-Safety in Node Apps", "body": "<p>In a vanilla NodeJS tutorial I noticed the instructor always trying to define his variables in a way to guarantee no surprising assignments or values such as this one:</p>\n\n<pre><code>p.name = typeof (coinPair.name.toUpperCase()) === 'string' ? coinPair.name.toUpperCase() : false\n</code></pre>\n\n<p>I started to use this method in many of my codes to sort of guarantee if the value is not going to be assigned as expected it better be assigned to false (or some other specific default) so that it's easier to detect app crash reasons and avoid unexpected behavior.</p>\n\n<p>When I started to use TypeScript, I realized its' native type safety features, which made me ask: Is the method used above still reasonable when using static strict typing my variables? Will it be useful when TypeScript already will not allow type changes during execution?</p>\n\n<p>A developer I was discussing with was arguing that TypeScript transpiles to JavaScript at the end of the day, and claiming that its' type safety is only useful for debugging and that during runtime it's still javaScript without the TypeScript safety. He claimed that a variable defined as string with TypeScript may still accept a number (perhaps coercing even?).</p>\n\n<p>I am confused now. Should TypeScript type safety measures suffice or I should still use the above method as necessary?</p>\n"}, {"tags": ["angular", "typescript", "electron", "tooltip", "truncation"], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 5896886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rq20R.jpg?s=128&g=1", "display_name": "Stout", "link": "https://stackoverflow.com/users/5896886/stout"}, "edited": false, "score": 0, "creation_date": 1557351294, "post_id": 56048902, "comment_id": 98740139, "body": "Works perfectly. Thank you for your help."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 6, "last_activity_date": 1557349134, "last_edit_date": 1557349134, "creation_date": 1557348794, "answer_id": 56048902, "question_id": 56048594, "link": "https://stackoverflow.com/questions/56048594/how-can-i-prevent-a-mattooltip-text-from-being-truncated/56048902#56048902", "title": "How can I prevent a matTooltip text from being truncated?", "body": "<p>The truncation happens with CSS. You can override that CSS like this: </p>\n\n<pre><code>.example-tooltip-red1 {\n  word-break: break-all !important;\n  white-space: normal !important;\n}\n</code></pre>\n\n<p>Here is <a href=\"https://stackblitz.com/edit/truncatedtooltips-pmkpdf?file=styles.css\" rel=\"noreferrer\">your original example with the updated CSS</a>. </p>\n\n<p><strong>Note:</strong> I put the CSS into <code>style.css</code> and used the <code>!important</code> keyword, because I am not sure how the cascade works in Angular apps. You might want to avoid the <code>!important</code> keyword and put the CSS somewhere more appropriate.</p>\n"}], "owner": {"reputation": 375, "user_id": 5896886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rq20R.jpg?s=128&g=1", "display_name": "Stout", "link": "https://stackoverflow.com/users/5896886/stout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2501, "favorite_count": 0, "accepted_answer_id": 56048902, "answer_count": 1, "score": 2, "last_activity_date": 1557349134, "creation_date": 1557347359, "question_id": 56048594, "link": "https://stackoverflow.com/questions/56048594/how-can-i-prevent-a-mattooltip-text-from-being-truncated", "title": "How can I prevent a matTooltip text from being truncated?", "body": "<p>I have a page that displays a hostname. The hostname could be up to 63 characters, with no spaces. We truncate the text on the UI. But when the user hovers over the truncated text, we need a tooltip to appear and inform the user of the full hostname.</p>\n\n<p><a href=\"https://stackblitz.com/edit/truncatedtooltips?file=app%2Ftooltip-overview-example.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/truncatedtooltips?file=app%2Ftooltip-overview-example.html</a></p>\n\n<p>I have this sample page on StackBlitz. There are two buttons in the sample, both with long text. The difference is that one has spaces, and the other does not.</p>\n\n<p><strong><em>The tooltip containing spaces does not get truncated, but unfortunately, the tooltip that lacks spaces gets truncated.</em></strong> Hostnames do not have spaces, hence tooltips do not behave as intended in this situation.</p>\n\n<p>Can someone inform me what to do with the tooltip that does not contain any spaces?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["typescript", "abstract-syntax-tree"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1557351839, "creation_date": 1557351839, "answer_id": 56049450, "question_id": 56048340, "link": "https://stackoverflow.com/questions/56048340/typescript-compiler-how-to-get-functiondeclaration-of-the-original-function-fro/56049450#56049450", "title": "TypeScript Compiler: how to get FunctionDeclaration of the original function from CallExpression?", "body": "<p>You need to get the symbol of the type and then you can get the declarations for the symbol:</p>\n\n<pre><code>import * as ts from 'typescript'\n\nlet p = ts.createProgram({\n    rootNames: [\"test.ts\"],\n    options: {\n\n    }\n})\n\nconst t = p.getTypeChecker();\n\nvar source = p.getSourceFile(\"test.ts\");\n\nconst decl = source.statements[2] as ts.FunctionDeclaration; // function test(): void {....}\nconst fnCallStatement = decl.body.statements[1] as ts.ExpressionStatement; // foo&lt;number&gt;();\nconst fnCall = fnCallStatement.expression as ts.CallExpression; // foo&lt;number&gt;()\nconst fnTarget = fnCall.expression; // foo \nlet type = t.getTypeAtLocation(fnTarget) // &lt;T&gt;() =&gt; A&lt;T&gt;\nlet symbol = type.getSymbol() // symbol: f\nlet fnDecl = symbol.getDeclarations()[0]\nconsole.log(fnDecl.getFullText());\n// output: \n// function f&lt;T&gt;(): A&lt;T&gt; {\n//     return new A&lt;T&gt;();\n// }\n</code></pre>\n"}], "owner": {"reputation": 1014, "user_id": 1722840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPcQF.jpg?s=128&g=1", "display_name": "Alexander Dvornikov", "link": "https://stackoverflow.com/users/1722840/alexander-dvornikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 56049450, "answer_count": 1, "score": 3, "last_activity_date": 1557351839, "creation_date": 1557346205, "last_edit_date": 1557348219, "question_id": 56048340, "link": "https://stackoverflow.com/questions/56048340/typescript-compiler-how-to-get-functiondeclaration-of-the-original-function-fro", "title": "TypeScript Compiler: how to get FunctionDeclaration of the original function from CallExpression?", "body": "<p>I'm just starting to hack on TypeScript internals and I'm puzzled with how do I get <code>Signature</code> or <code>FunctionDeclaration</code> of the original function given a reference to its usage in an arbitrary <code>CallExpression</code>.</p>\n\n<p>Consider the example:</p>\n\n<pre><code>class A&lt;T&gt; {\n    ...\n}\n\nfunction f&lt;T&gt;(): A&lt;T&gt; {\n    return new A&lt;T&gt;();\n}\n\nfunction test(): void {\n    const foo = f;\n    foo&lt;number&gt;();\n}\n</code></pre>\n\n<p>Given a reference to <code>foo&lt;number&gt;()</code> CallExpression I can easily infer its materialized type as well as the type of its return value with <code>typechecker.getTypeAtLocation(node)</code>. However, what I'd actually like to do is to get the type of the original function, which is <code>function f&lt;T&gt;(): A&lt;T&gt; { ... }</code>, and I'm not sure how do I achieve that.</p>\n\n<p>I would appreciate any help with that, thanks!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1557345980, "post_id": 56048234, "comment_id": 98738058, "body": "That means editor tooling like tsserver."}, {"owner": {"reputation": 964, "user_id": 10315025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/055ebeeddf60ec2f1d1e953b944175cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jclangst", "link": "https://stackoverflow.com/users/10315025/jclangst"}, "edited": false, "score": 0, "creation_date": 1557346003, "post_id": 56048234, "comment_id": 98738067, "body": "Immediately underneath that statement in the docs it lists the two ways to get the tools. By tools it means the typescript package. There are tons of other typescript tools, but since this is the Typescript docs, it explicitly talking about the main Typescript tool: the compiler and language server."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1557346038, "post_id": 56048234, "comment_id": 98738080, "body": "It is talking about ways to install <code>tsc</code>. <code>tsc</code> is the main way to transpile ts to js, although it can be done with babel as well"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11155857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1544930c1af893560c003f113f6dd18e?s=128&d=identicon&r=PG&f=1", "display_name": "VSjolund", "link": "https://stackoverflow.com/users/11155857/vsjolund"}, "is_accepted": true, "score": 2, "last_activity_date": 1557346103, "creation_date": 1557346103, "answer_id": 56048315, "question_id": 56048234, "link": "https://stackoverflow.com/questions/56048234/are-there-any-other-typescript-tools-than-tsc/56048315#56048315", "title": "Are there any other TypeScript tools than tsc?", "body": "<p>Looking in node_modules/typescript/bin and you'll see two executable files: </p>\n\n<ul>\n<li>tsc</li>\n<li>tsserver</li>\n</ul>\n\n<p>A description of tsserver has been answered <a href=\"https://stackoverflow.com/questions/37772230/what-is-typescript-tsserver-all-about\">here</a>.</p>\n"}], "owner": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56048315, "answer_count": 1, "score": -2, "last_activity_date": 1557346103, "creation_date": 1557345731, "question_id": 56048234, "link": "https://stackoverflow.com/questions/56048234/are-there-any-other-typescript-tools-than-tsc", "title": "Are there any other TypeScript tools than tsc?", "body": "<p>The <a href=\"https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html\" rel=\"nofollow noreferrer\">TypeScript docs</a> say:</p>\n\n<blockquote>\n  <p>There are two main ways to get the TypeScript tools:\n  ...</p>\n</blockquote>\n\n<p>But I cannot identify any other TypeScript tools than tsc.</p>\n\n<p>Are there any other TypeScript tools?</p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 11155857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1544930c1af893560c003f113f6dd18e?s=128&d=identicon&r=PG&f=1", "display_name": "VSjolund", "link": "https://stackoverflow.com/users/11155857/vsjolund"}, "edited": false, "score": 0, "creation_date": 1557386976, "post_id": 56048714, "comment_id": 98749279, "body": "Thanks! That&#39;s a really interesting workaround, I think I can make it work. The only downside is that it only typechecks, it doesn&#39;t infer types in the same way as template generics infer types (a method fn&lt;T&gt;(a: T): T will infer T from either a or the return value of the function). Even if you return 5, seed will still be any until you explicitly type it to number, or something else which then triggers CheckAttr.   For VSCode linting of Javascript files, it&#39;s a lot more useful to achieve inferred typings as you get autocomplete without explicitly using JSDoc notations."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1557347894, "creation_date": 1557347894, "answer_id": 56048714, "question_id": 56048207, "link": "https://stackoverflow.com/questions/56048207/typescript-generics-restrict-function-parameter-and-return-type-to-same-type-a/56048714#56048714", "title": "Typescript generics - restrict function parameter and return type to same type and infer type from usage", "body": "<p>I'd stick to the function on each handler. Ensuring on the <code>div</code> function that the <code>on*</code> attributes  have a tuple where the two elements are related in the way you want is possible, but not in a straight forward way. </p>\n\n<p>It will involve capturing the actual type of the object literal passed into the <code>div</code> function and checking this custom constraint with a conditional type:</p>\n\n<pre><code>function div&lt;TAttr extends {\n  onClick:EventHandler&lt;MouseEvent&gt;,\n  onKeyDown:EventHandler&lt;KeyboardEvent&gt;\n}&gt;(attributes: TAttr &amp; CheckAttr&lt;TAttr&gt;): TAttr {\n  return attributes;\n}\n\ntype UnionToIntersection&lt;U&gt; = \n  (U extends any ? (k: U) =&gt; void : never) extends ((k: infer I) =&gt; void) ? I : never\n\ntype CheckAttr&lt;T&gt; = UnionToIntersection&lt;CheckAttrHelper&lt;T&gt;[keyof T]&gt; \ntype CheckAttrHelper&lt;T&gt; = {\n  [K in keyof T]:\n    T[K] extends [(ev: Event, seed: infer P) =&gt; infer R, infer S] ?\n      ([R] extends [P] ? [S] extends [P] ? never\n          : Record&lt;K, \"Seed type is not assignable to parameter type\"&gt;\n          : Record&lt;K, \"Return type is not assignable to parameter type\"&gt;\n      ): never\n}\n\ntype EventHandler&lt;T extends Event&gt; = ((ev: T) =&gt; void) | [(ev: T, seed: any) =&gt; any, any];\n\n//ok\nlet a = div({\n  onClick: [(ev, n: string | number) =&gt; 2, \"1\"],\n  onKeyDown: [(ev, n: number) =&gt; n + 1, 1]\n});\n\n//err \n// Type '(string | ((ev: MouseEvent, n: string) =&gt; number))[]' is not assignable to type \n//'[(ev: MouseEvent, n: string) =&gt; number, string] &amp; \n// \"Return type is not assignable to parameter type\"'.\nlet a2 = div({\n  onClick: [(ev, n: string) =&gt; 2, \"1\"],\n  onKeyDown: [(ev, n: number) =&gt; n + 1, 1]\n});\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 11155857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1544930c1af893560c003f113f6dd18e?s=128&d=identicon&r=PG&f=1", "display_name": "VSjolund", "link": "https://stackoverflow.com/users/11155857/vsjolund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1557347894, "creation_date": 1557345632, "last_edit_date": 1557347197, "question_id": 56048207, "link": "https://stackoverflow.com/questions/56048207/typescript-generics-restrict-function-parameter-and-return-type-to-same-type-a", "title": "Typescript generics - restrict function parameter and return type to same type and infer type from usage", "body": "<p>I'm trying to restrict a function parameter to extend a function where parameters and return values are restricted to the same type, without requiring the function itself to be generic. </p>\n\n<p>I have a simple factory function which creates dom nodes with attributes, like this:</p>\n\n<pre><code>function div(className, attributes, children)\n</code></pre>\n\n<p>EventListener attributes (such as onclick) are restricted to either a function or a tuple:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type EventHandler&lt;T extends Event&gt; = ((ev: T) =&gt; void) | [(ev: T, seed: SameType) =&gt; SameType, SameType];\n</code></pre>\n\n<p>Where SameType basically annotates that you should provide a tuple where the first item is a function which accepts a seed value, and a second argument which specifies the initial seed passed to the function once it is invoked.</p>\n\n<p>I've tried to make the parameter itself be the generic, pass itself to a type and then using conditional matching, but with no luck. I cannot use generics on the interface itself as that would make no sense (onclick, oninput and onmouseover would all have different SameType seed values). </p>\n\n<p>The function is inspired by Inferno's linkEvent function (<a href=\"https://github.com/infernojs/inferno/blob/master/packages/inferno/src/core/types.ts#L45\" rel=\"nofollow noreferrer\">https://github.com/infernojs/inferno/blob/master/packages/inferno/src/core/types.ts#L45</a>), but instead of invoking a function you'd just pass in a tuple which I thought was handy, but the typing of it turned out a nightmare! Grateful for any input.</p>\n\n<p>Is this issue related to the fact that Typescript disallows generics on the value level, or is there something I am missing? I'm thinking of <a href=\"https://github.com/Microsoft/TypeScript/issues/17574\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n"}, {"tags": ["typescript", "webview", "nativescript"], "answers": [{"tags": [], "owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "is_accepted": true, "score": 0, "last_activity_date": 1557425249, "creation_date": 1557425249, "answer_id": 56065232, "question_id": 56048022, "link": "https://stackoverflow.com/questions/56048022/change-css-styles-in-webview/56065232#56065232", "title": "Change css styles in webview", "body": "<p>You can inject CSS by creating a Style element via JavaScript after page is loaded.</p>\n\n<pre><code>const webView = &lt;WebView&gt;args.object,\n    jsStr = `var parent = document.getElementsByTagName('head').item(0);\n            var style = document.createElement('style');\n            style.type = 'text/css';\n            style.innerHTML = \".-bg-blue {background-color: red !important;}\";\n            parent.appendChild(style)`;\n\nif (webView.ios) {\n    webView.ios.evaluateJavaScriptCompletionHandler(jsStr,\n        function (\n            result,\n            error\n        ) {\n            if (error) {\n                console.log(\"error...\");\n            }\n        });\n} else if (webView.android) {\n    // Works only on Android 19 and above\n    webView.android.evaluateJavascript(\n        jsStr,\n        null\n    );\n}\n</code></pre>\n\n<p><a href=\"https://play.nativescript.org/?template=play-tsc&amp;id=FuYuXe\" rel=\"nofollow noreferrer\">Playground Sample</a></p>\n\n<p>The above code turns the background blue background at <a href=\"https://www.nativescript.org/\" rel=\"nofollow noreferrer\">https://www.nativescript.org/</a> into red.</p>\n"}], "owner": {"reputation": 3, "user_id": 11472031, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZ6CAe7qidM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekIIpaiz5N9FUoYxniB9hO_GAkqw/mo/photo.jpg?sz=128", "display_name": "Anton", "link": "https://stackoverflow.com/users/11472031/anton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 56065232, "answer_count": 1, "score": 0, "last_activity_date": 1557425249, "creation_date": 1557344787, "question_id": 56048022, "link": "https://stackoverflow.com/questions/56048022/change-css-styles-in-webview", "title": "Change css styles in webview", "body": "<p>I load the page through web viewing in NativeScript, I need to hide some blocks of elements.\nWhat is the option to insert css in html I received?\nOr what are the alternatives?\nI did not find the answer to my question: c</p>\n\n<p>page.xml // XML to display the page</p>\n\n<pre><code>&lt;GridLayout class=\"page-content\"&gt;\n        &lt;Label row=\"1\" text=\"{{ result }}\" style=\"text-align:center; z-index:99\" /&gt;\n        &lt;WebView row=\"2\" loaded=\"onWebViewLoaded\" id=\"myWebView\" src=\"{{ webViewSrc }}\"\n            style=\"z-index:1\"&gt;\n        &lt;/WebView&gt;\n &lt;/GridLayout&gt; \n\n</code></pre>\n\n<p>page.ts // The logic in which I want to add styles</p>\n\n<pre><code>\nexport function onDrawerButtonTap(args: EventData) {\n    const sideDrawer = &lt;RadSideDrawer&gt;app.getRootView();\n    sideDrawer.showDrawer();\n}\n\n\nexport function onNavigatingTo(args) {\n    const page: Page = &lt;Page&gt;args.object;\n    const vm = new Observable();\n    vm.set(\"webViewSrc\", \"https://m.stoloto.ru/check?int=sitemap\");\n    vm.set(\"result\", \"\");\n    page.bindingContext = vm;\n}\n// handling WebView load finish event\nexport function onWebViewLoaded(webargs) {\n    const page: Page = &lt;Page&gt;webargs.object.page;\n    const vm = page.bindingContext;\n    const webview: WebView = &lt;WebView&gt;webargs.object;\n    vm.set(\"result\", \"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...\");\n    vm.set(\"enabled\", false);\n\n    webview.on(WebView.loadFinishedEvent, (args: LoadEventData) =&gt; {\n        let message = \"\";\n        if (!args.error) {\n        } else {\n            message = `\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c`;\n        }\n\n        vm.set(\"result\", message);\n    });\n}\n// going to the previous page if such is available\nexport function goBack(args) {\n    const page: Page = &lt;Page&gt;args.object.page;\n    const vm = page.bindingContext;\n    const webview: WebView = &lt;WebView&gt;page.getViewById(\"myWebView\");\n    if (webview.canGoBack) {\n        webview.goBack();\n        vm.set(\"enabled\", true);\n    }\n}\n// going forward if a page is available\nexport function goForward(args) {\n    const page: Page = &lt;Page&gt;args.object.page;\n    const vm = page.bindingContext;\n    const webview: WebView = &lt;WebView&gt;page.getViewById(\"myWebView\");\n    if (webview.canGoForward) {\n        webview.goForward();\n    } else {\n        vm.set(\"enabled\", false);\n    }\n}\n\n</code></pre>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1557346148, "post_id": 56048057, "comment_id": 98738132, "body": "Show me how to do that"}, {"owner": {"reputation": 843, "user_id": 4321082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a59318b291bceb5563df9fc53a0573?s=128&d=identicon&r=PG&f=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/4321082/dude"}, "reply_to_user": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1557350429, "post_id": 56048057, "comment_id": 98739817, "body": "Oh youre not using express are you? That would exppain that. I highly recommend looking into express (unless you are trying to master plain node for practice purposes). Look up express and express generator on the express website. Express is a node framework that makes handling the server stuff easier. Express generator is a starter server itll setup for you to extend. If you are new to node servers looking at the example server can be edifying."}, {"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1557366601, "post_id": 56048057, "comment_id": 98743432, "body": "I only want to do it with nodejs"}, {"owner": {"reputation": 305, "user_id": 2977450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4l343.jpg?s=128&g=1", "display_name": "mcmonkeys1", "link": "https://stackoverflow.com/users/2977450/mcmonkeys1"}, "edited": false, "score": 0, "creation_date": 1614016506, "post_id": 56048057, "comment_id": 117249813, "body": "there are situations where you cannot use express. I am also looking for this solution"}], "tags": [], "owner": {"reputation": 843, "user_id": 4321082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a59318b291bceb5563df9fc53a0573?s=128&d=identicon&r=PG&f=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/4321082/dude"}, "is_accepted": false, "score": 2, "last_activity_date": 1557346656, "last_edit_date": 1557346656, "creation_date": 1557344977, "answer_id": 56048057, "question_id": 56047973, "link": "https://stackoverflow.com/questions/56047973/how-do-you-access-the-url-query-params-in-nodejs/56048057#56048057", "title": "How do you access the url query params in nodejs?", "body": "<p>Inside your route handling middleware there are the <code>req, res, next</code> parameters of the router callback. You are looking for req.query.[your query param].</p>\n\n<p>For typescript, you'll want to create an interface that extends express.Request and add your query param there. Then assign that type to your request param.</p>\n\n<pre><code>interface myReq extends express.Request {\n    query: {\n        [Whatever params you have in your route]: string;\n    }\n}\n\nrouter.get(\"/\", (req: myReq, res, next) =&gt; {\n  ...\n})\n</code></pre>\n\n<p>Youll also have to import express in the file if you havent already</p>\n"}], "owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557347190, "creation_date": 1557344602, "last_edit_date": 1557347190, "question_id": 56047973, "link": "https://stackoverflow.com/questions/56047973/how-do-you-access-the-url-query-params-in-nodejs", "title": "How do you access the url query params in nodejs?", "body": "<p>How do you access the url query params in nodejs with typescript?\nWhat I tried is here?    </p>\n\n<pre><code>    /**\n * My Server app\n */\nimport * as Http from \"http\";\nimport * as url from \"url\";\nimport { HttpServer } from \"./HttpServer\";\nimport { TaxCalculator } from \"./TaxCalculator\";\nexport interface myReq extends Http.IncomingMessage {\n  amount: string;\n  rate: string;\n}\n/**\n * MyServer class\n * Create MyServer from HttpServer\n */\nclass MyServer extends HttpServer {\n  /**\n   * Create a new NodeServer object\n   * @param port Port number of the server\n   * @param name Name of the server\n   */\n  constructor(port: number, name: string) {\n    super(port, name);\n  }\n  /**\n   * Handle the Request in request nad populate the response to response\n   * @param request Incoming Request\n   * @param response Outgoing Response\n   */\n  onRequest(request: myReq, response: Http.ServerResponse): void {\n    response.writeHead(200, {\"Content-Type\": \"text/plain\"});\n// const { amount, rate } = url.parse(request.url, true).query;\n    const query = url.parse(request.url, true).query;\n    const tc = new TaxCalculator();\n    const tax = tc.calculate(query.amount, query.rate);\n    response.end(JSON.stringify(tax));\n  }\n}\n\n// Create a server instance\nconst port = 8080;\nnew MyServer(port, \"Test server\");\n</code></pre>\n\n<p>The error is Argument of type 'string | string[]' is not assignable to parameter of type 'n\number'.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4330, "user_id": 5736236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UHJW49zI260/AAAAAAAAAAI/AAAAAAAAAqs/QeHB6Qr5kMI/photo.jpg?sz=128", "display_name": "Kamil Naja", "link": "https://stackoverflow.com/users/5736236/kamil-naja"}, "edited": false, "score": 0, "creation_date": 1557345784, "post_id": 56047888, "comment_id": 98737980, "body": "You are using the same model for every input, this is cause of error. I think, that you should try FormArray instead. <a href=\"https://angular.io/api/forms/FormArray\" rel=\"nofollow noreferrer\">angular.io/api/forms/FormArray</a>"}], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 7948938, "user_type": "registered", "profile_image": "https://graph.facebook.com/1572478202770614/picture?type=large", "display_name": "Bruno Ribeiro", "link": "https://stackoverflow.com/users/7948938/bruno-ribeiro"}, "edited": false, "score": 0, "creation_date": 1557346182, "post_id": 56048243, "comment_id": 98738148, "body": "Worked like a charm! Thanks a lot!"}], "tags": [], "owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "is_accepted": true, "score": 1, "last_activity_date": 1557345769, "creation_date": 1557345769, "answer_id": 56048243, "question_id": 56047888, "link": "https://stackoverflow.com/questions/56047888/why-changing-an-select-change-others-when-using-ngfor-and-ngmodel/56048243#56048243", "title": "Why changing an select change others when using ngFor and ngModel?", "body": "<p>I edited your <a href=\"https://stackblitz.com/edit/angular-v8zzqj?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">stackblitz</a>. To use ngFor with primitive data types you have to use \"trackBy\"</p>\n\n<p>Two modifications:</p>\n\n<pre><code>  trackByIdx(index: number, obj: any): any {\n    return index;\n  }\n</code></pre>\n\n<p>and in your html:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let valueInput of valueInputs; let i = index; trackBy:trackByIdx\"&gt;\n</code></pre>\n\n<p>Also check this <a href=\"https://stackoverflow.com/a/46991565/2050306\">answer</a> for more details.</p>\n"}], "owner": {"reputation": 327, "user_id": 7948938, "user_type": "registered", "profile_image": "https://graph.facebook.com/1572478202770614/picture?type=large", "display_name": "Bruno Ribeiro", "link": "https://stackoverflow.com/users/7948938/bruno-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 56048243, "answer_count": 1, "score": 0, "last_activity_date": 1557345769, "creation_date": 1557344227, "last_edit_date": 1557345604, "question_id": 56047888, "link": "https://stackoverflow.com/questions/56047888/why-changing-an-select-change-others-when-using-ngfor-and-ngmodel", "title": "Why changing an select change others when using ngFor and ngModel?", "body": "<p>I want to let the user create a couple of selects, choose the options and agreggate these options in an array to be sent to a parent component.</p>\n\n<p>I'm trying to do this with an <code>*ngFor</code> that loops an array of strings (<code>valueInputs</code>), creating a select for each element. An add button push a new empty string to <code>valueInputs</code>, thus increasing the amount of selects. Finally, each select updates an index of <code>valueInputs</code> via <code>ngModel</code>.</p>\n\n<p>Here's a Stackblitz to show it: <a href=\"https://stackblitz.com/edit/angular-q5nwjq\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-q5nwjq</a></p>\n\n<p>Component:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  valueInputs = ['', '', ''];\n}\n</code></pre>\n\n<p>Template:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let valueInput of valueInputs; let i = index\"&gt;\n  &lt;select\n    [(ngModel)]=\"valueInputs[i]\"&gt;\n    &lt;option value=\"\" disabled&gt;Select an option...&lt;/option&gt;\n    &lt;option value=\"opt1\"&gt;Option 1&lt;/option&gt;\n    &lt;option value=\"opt2\"&gt;Option 2&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/ng-container&gt;\n\n&lt;div&gt;\n  &lt;button (click)=\"valueInputs.push('')\"&gt;Add input&lt;/button&gt;\n  &lt;p&gt;Value Inputs: {{ valueInputs | json }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Problem is: when I choose an option for the first select, the second select changes too! The actual value in the second <code>valueInputs</code> index doesn't change, only the selected option.</p>\n\n<p>This happens to all selects. You change one, the next changes too.</p>\n\n<p>Does this make any sense? Or it's a bug in Angular? Do you have any suggestions to achieve the same results?</p>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1557343697, "post_id": 56047753, "comment_id": 98737153, "body": "If you don&#39;t care how many keys there are, you want an <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"nofollow noreferrer\">index signature</a>: <code>{[k: string]: string}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1557343828, "creation_date": 1557343828, "answer_id": 56047804, "question_id": 56047753, "link": "https://stackoverflow.com/questions/56047753/constrain-type-of-values-of-an-object-in-typescript/56047804#56047804", "title": "constrain type of values of an object in Typescript", "body": "<p>You can use an index signature to state that all values will be a string...</p>\n\n<pre><code>type Example = { [key: string]: string };\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>type Example = { [key: string]: string };\n\nconst a: Example = {\n    \"anything\": \"any string\", // ok\n    anotherkey: \"a string\", // ok\n    thirdKey: 1 // Error\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "is_accepted": false, "score": 0, "last_activity_date": 1557343974, "creation_date": 1557343974, "answer_id": 56047838, "question_id": 56047753, "link": "https://stackoverflow.com/questions/56047753/constrain-type-of-values-of-an-object-in-typescript/56047838#56047838", "title": "constrain type of values of an object in Typescript", "body": "<p>I am guessing you are looking at a <code>enum</code> definition for the values of your properties.</p>\n\n<p>I think you can declare it something like:</p>\n\n<pre><code>let foo: { [k: string]: 'foo' | 'bar' | 'type'};\n\nfoo.a = 'bar';\nfoo.d = 'type';\nfoo.q = 'bar';\nfoo.c = 'let'; // shows as not assignable\n</code></pre>\n\n<p>You can see it in <a href=\"https://www.typescriptlang.org/play/#src=let%20foo%3A%20%7B%20%5Bk%3A%20string%5D%3A%20&#39;foo&#39;%20%7C%20&#39;bar&#39;%20%7C%20&#39;type&#39;%7D%3B%0D%0A%0D%0Afoo.a%20%3D%20&#39;bar&#39;%3B%0D%0Afoo.d%20%3D%20&#39;type&#39;%3B%0D%0Afoo.q%20%3D%20&#39;bar&#39;%3B%0D%0Afoo.c%20%3D%20&#39;let&#39;%3B%0D%0A\" rel=\"nofollow noreferrer\">this typescript fiddle</a></p>\n"}], "owner": {"reputation": 630, "user_id": 3750874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a602fad35669d9e179ff7446a56781da?s=128&d=identicon&r=PG&f=1", "display_name": "Algorithmic Canary", "link": "https://stackoverflow.com/users/3750874/algorithmic-canary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 56047804, "answer_count": 2, "score": 0, "last_activity_date": 1557343974, "creation_date": 1557343584, "question_id": 56047753, "link": "https://stackoverflow.com/questions/56047753/constrain-type-of-values-of-an-object-in-typescript", "title": "constrain type of values of an object in Typescript", "body": "<p>In typescript, how to I write the type signature for plain old javascript object that can have any key, but the values are always strings. For example, <code>{a:\"foo\"}</code>, <code>{b:\"bar\"}</code> are both valid values but <code>{a:[1,2,3]}</code> and <code>{b:3}</code> are not.</p>\n\n<p>I want to be able to write something like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let foo : {*: string} = {a: \"foo\"}\n</code></pre>\n\n<p>Currently, I am using <code>any</code> to achieve this, but that isn't as precise as I would like.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "tensorflow", "tensorflow.js"], "answers": [{"tags": [], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "is_accepted": true, "score": 0, "last_activity_date": 1557344142, "creation_date": 1557344142, "answer_id": 56047871, "question_id": 56047654, "link": "https://stackoverflow.com/questions/56047654/tensorflowjs-typeerror-cannot-read-property-fetch-of-undefined/56047871#56047871", "title": "TensorflowJS: TypeError: Cannot read property &#39;fetch&#39; of undefined", "body": "<p>I found out that the problem was that I had different versions for @tensorflow/tfs and @tensorflow/tfjs-core on my packade.json.</p>\n\n<p>So, I change my package config from:</p>\n\n<pre><code>...\n\"@tensorflow/tfjs\": \"^1.1.2\",\n\"@tensorflow/tfjs-core\": \"^1.0.2\",\n...\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>...\n\"@tensorflow/tfjs\": \"^1.1.2\",\n\"@tensorflow/tfjs-core\": \"^1.1.2\",\n...\n</code></pre>\n\n<p>And the error vanished.</p>\n"}], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 56047871, "answer_count": 1, "score": 1, "last_activity_date": 1557419228, "creation_date": 1557343172, "last_edit_date": 1557419228, "question_id": 56047654, "link": "https://stackoverflow.com/questions/56047654/tensorflowjs-typeerror-cannot-read-property-fetch-of-undefined", "title": "TensorflowJS: TypeError: Cannot read property &#39;fetch&#39; of undefined", "body": "<p>I have an angular 7 application and I'm trying to load the mobilenet model by following <a href=\"https://github.com/tensorflow/tfjs-models/tree/master/mobilenet\" rel=\"nofollow noreferrer\">this</a> example.</p>\n\n<p>I installed the tensorflowjs by running <code>npm install @tensorflow/tfjs</code> (following <a href=\"https://www.tensorflow.org/js/tutorials/setup\" rel=\"nofollow noreferrer\">this</a> instructions) and the mobilenet model by running <code>@tensorflow-models/mobilenet</code>.</p>\n\n<p>After that I imported the mobile net by doing:</p>\n\n<pre><code>import * as mobilenet from '@tensorflow-models/mobilenet';\n</code></pre>\n\n<p>And execute the following code in order to load the model:</p>\n\n<pre><code>mobilenet.load().then(() =&gt; {\n     obs.next();\n}).catch((err) =&gt; {\n     console.log(err);\n     console.log(\"ERROR\");\n});\n</code></pre>\n\n<p>But I'm receiving the following error:</p>\n\n<pre><code>TypeError: Cannot read property 'fetch' of undefined\n    at new e (tf-core.esm.js:17)\n    at browserHTTPRequest (tf-core.esm.js:17)\n    at httpRequestRouter (tf-core.esm.js:17)\n    at tf-core.esm.js:17\n    at Array.forEach (&lt;anonymous&gt;)\n    at Function.e.getHandlers (tf-core.esm.js:17)\n    at Function.e.getLoadHandlers (tf-core.esm.js:17)\n    at Object.getLoadHandlers (tf-core.esm.js:17)\n    at e.findIOHandler (tf-converter.esm.js:17)\n    at e.&lt;anonymous&gt; (tf-converter.esm.js:17)\n</code></pre>\n\n<p>Does anyone know what is the issue?</p>\n"}, {"tags": ["node.js", "typescript", "express", "oop", "middleware"], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1557342401, "creation_date": 1557342401, "answer_id": 56047476, "question_id": 56047410, "link": "https://stackoverflow.com/questions/56047410/return-middleware-in-class/56047476#56047476", "title": "Return middleware in class", "body": "<p><code>validate</code> is a callback and should be bound to correct <code>this</code>, e.g. with class field:</p>\n\n<pre><code>private validate = (req, res, next) =&gt; { ... }\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 10118025, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LJvgh3pH7hc/AAAAAAAAAAI/AAAAAAAAAKE/2V6pAxlu0is/photo.jpg?sz=128", "display_name": "domanskyi", "link": "https://stackoverflow.com/users/10118025/domanskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 56047476, "answer_count": 1, "score": 1, "last_activity_date": 1557342401, "creation_date": 1557342091, "last_edit_date": 1557342323, "question_id": 56047410, "link": "https://stackoverflow.com/questions/56047410/return-middleware-in-class", "title": "Return middleware in class", "body": "<p>I have a class with middleware function, which I want to return.\nIn middleware I want to use <code>this</code> statement, but now it is just undefined.\nClass :</p>\n\n<pre><code>export class Validator {\n    constructor(options: validatorOptions) {\n        this.schema = options.schema\n        this.validateRequest = options.validateRequest\n        this.validateResponse = options.validateResponse\n    }\n\n    private validate(req, res, next) {\n        console.log(this.schema) //undefined\n    }\n\n    public getValidator() {\n        return this.validate\n    }\n}\n</code></pre>\n\n<p>Class declaration: </p>\n\n<pre><code>import {Validator} from './validator/validator'\n\nexport const validator = () =&gt; {\n    const config = {\n    schema,\n    validateRequest: true,\n    validateResponse: true\n  }\n\n  let v = new Validator(config)\n\n  return v.getValidator()\n}\n</code></pre>\n\n<p>Middleware usage: </p>\n\n<pre><code>import { validator } from './middleware'\napp.use(validator())\n</code></pre>\n\n<p>How I can use <code>this</code> in returned middleware?</p>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1557341918, "post_id": 56047313, "comment_id": 98736354, "body": "can you share your package.json at all as this is likely to be important to your problem."}], "answers": [{"comments": [{"owner": {"reputation": 2959, "user_id": 11041731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86bWo.jpg?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/11041731/avi"}, "edited": false, "score": 0, "creation_date": 1557378784, "post_id": 56052406, "comment_id": 98746010, "body": "why we need to download all protractor libraries??"}, {"owner": {"reputation": 1330, "user_id": 9858573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOrYz.jpg?s=128&g=1", "display_name": "Madhan", "link": "https://stackoverflow.com/users/9858573/madhan"}, "reply_to_user": {"reputation": 2959, "user_id": 11041731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86bWo.jpg?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/11041731/avi"}, "edited": false, "score": 0, "creation_date": 1557381842, "post_id": 56052406, "comment_id": 98747022, "body": "@Avi <code>browser</code> can be imported from <code>protractor</code> only if its libraries are downloaded"}], "tags": [], "owner": {"reputation": 1330, "user_id": 9858573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOrYz.jpg?s=128&g=1", "display_name": "Madhan", "link": "https://stackoverflow.com/users/9858573/madhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557381752, "last_edit_date": 1557381752, "creation_date": 1557377632, "answer_id": 56052406, "question_id": 56047313, "link": "https://stackoverflow.com/questions/56047313/unable-to-import-protractor-in-typescript-app/56052406#56052406", "title": "Unable to Import Protractor in TypeScript App", "body": "<p>Go to your project folder</p>\n\n<p>First run  <code>npm i protractor --save-dev</code>.</p>\n\n<p>Run <code>npm i</code> from your project folder that conatains the <code>package.json</code>. // To download all the required libraries</p>\n\n<p>Hope it helps you</p>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 12672720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0295e356bd9f2061030f3e83699869c0?s=128&d=identicon&r=PG&f=1", "display_name": "Neh18", "link": "https://stackoverflow.com/users/12672720/neh18"}, "is_accepted": true, "score": 1, "last_activity_date": 1578486096, "creation_date": 1578486096, "answer_id": 59645782, "question_id": 56047313, "link": "https://stackoverflow.com/questions/56047313/unable-to-import-protractor-in-typescript-app/59645782#59645782", "title": "Unable to Import Protractor in TypeScript App", "body": "<p>Add dependies in your package.json (To add package.json file in your project\nrun command in the terminal or command prompt</p>\n\n<pre><code> npm init  \n</code></pre>\n\n<p>after this command, some question will be asked like</p>\n\n<pre><code>{\n  \"name\": \"newprotractor\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n</code></pre>\n\n<p>after giving details, file be created and then add some dependencies like protractor, typescript</p>\n\n<pre><code>\"dependencies\": {\n \"protractor\": \"^5.4.2\",\n}\n</code></pre>\n\n<p>then you will not get any error</p>\n"}], "owner": {"reputation": 3, "user_id": 11471845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vlm7a.jpg?s=128&g=1", "display_name": "Muthu Raveendran", "link": "https://stackoverflow.com/users/11471845/muthu-raveendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 59645782, "answer_count": 2, "score": -2, "last_activity_date": 1578486096, "creation_date": 1557341698, "last_edit_date": 1557341844, "question_id": 56047313, "link": "https://stackoverflow.com/questions/56047313/unable-to-import-protractor-in-typescript-app", "title": "Unable to Import Protractor in TypeScript App", "body": "<p>I am unable to import protractor in my TypeScript application...</p>\n\n<pre><code>import { browser } from \"protractor\";\n</code></pre>\n\n<p>I receive the error:</p>\n\n<blockquote>\n  <p>Cannot find module 'protractor' ts2307</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/aqdr5.png\" rel=\"nofollow noreferrer\">Image of the Problem</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 3, "creation_date": 1557341604, "post_id": 56047275, "comment_id": 98736225, "body": "<code>of(true)</code> creates a new observable that emits the value <code>true</code>"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1557341727, "post_id": 56047275, "comment_id": 98736285, "body": "Using <code>of()</code> we can return a fake response without creating any real backend connection. Here it&#39;s using true to set the <code>isLoggedIn</code> status for the user.The only thing that <code>of()</code> does is that it emits its parameters as single emissions immediately on subscription and then sends the <code>complete</code> notification."}], "answers": [{"comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1557343958, "post_id": 56047338, "comment_id": 98737266, "body": "uh? why should he rewrite that?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 1, "creation_date": 1557344481, "post_id": 56047338, "comment_id": 98737464, "body": "@Jota.Toledo - <code>could != should</code>"}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1557341769, "creation_date": 1557341769, "answer_id": 56047338, "question_id": 56047275, "link": "https://stackoverflow.com/questions/56047275/what-does-oftrue-method-do-in-angular-7/56047338#56047338", "title": "What does of(true) method do in Angular 7?", "body": "<p><code>of(true)</code> creates a new observable that emits the value <code>true</code>. Your complete code above simulates a timeout of 1 second before setting <code>isLoggedIn</code> to <code>true</code>. </p>\n\n<p>You could also rewrite that using <a href=\"https://www.learnrxjs.io/operators/creation/timer.html\" rel=\"nofollow noreferrer\"><code>timer</code></a> instead (add <code>map</code> only if you care that <code>true</code> was returned).</p>\n\n<pre><code>return timer(1000).pipe(tap(val =&gt; this.isLoggedIn = true), map(() =&gt; true));\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5126453, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-8qQcFH6TFmA/AAAAAAAAAAI/AAAAAAAAAEA/JV7JNEN-UhI/photo.jpg?sz=128", "display_name": "VivekT", "link": "https://stackoverflow.com/users/5126453/vivekt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557341769, "creation_date": 1557341511, "question_id": 56047275, "link": "https://stackoverflow.com/questions/56047275/what-does-oftrue-method-do-in-angular-7", "title": "What does of(true) method do in Angular 7?", "body": "<p>I was reading from <a href=\"https://angular.io/guide/router#canactivate-requiring-authentication\" rel=\"nofollow noreferrer\">angular official site</a>.\nWhat does <strong>of(true)</strong> method mean and why it is used?  </p>\n\n<pre><code>login(): Observable&lt;boolean&gt; {\n    return of(true).pipe(\n      delay(1000),\n      tap(val =&gt; this.isLoggedIn = true)\n    );\n  }\n\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1557341513, "post_id": 56047201, "comment_id": 98736191, "body": "this has nothing to to with angular, is plainly related to the type check performed by typescript"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 9951977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108cdffd8e24d3c5a1043457d038f304?s=128&d=identicon&r=PG&f=1", "display_name": "Darron", "link": "https://stackoverflow.com/users/9951977/darron"}, "edited": false, "score": 0, "creation_date": 1557342774, "post_id": 56047448, "comment_id": 98736690, "body": "Thank you. I am still getting the same error. Thanks for your submission. I will update the question using your recommendations."}], "tags": [], "owner": {"reputation": 1075, "user_id": 7841916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRA8O.jpg?s=128&g=1", "display_name": "Krantisinh", "link": "https://stackoverflow.com/users/7841916/krantisinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1557342284, "creation_date": 1557342284, "answer_id": 56047448, "question_id": 56047201, "link": "https://stackoverflow.com/questions/56047201/type-is-missing-the-following-properties-from-type-productinput-id-in/56047448#56047448", "title": "Type &#39;{}[]&#39; is missing the following properties from type &#39;ProductInput&#39;: id, inputName, required, deleted, values[]", "body": "<p>Couple of things going wrong -</p>\n\n<p>1) product input should be an array. Hence its name and type should be changed.</p>\n\n<p>2)You need to use === in filter method.</p>\n\n<pre><code>productInputs: ProductInput[] = [];\n\nconstructor() { }\n\nngOnInit() {\n    const inputs = Object.values(INPUTS);\n\n    this.productInputs = inputs.filter((input) =&gt; input.inputName === 'testing');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 10676573, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EyJTUOiaHmI/AAAAAAAAAAI/AAAAAAAAhXc/ZJBHQ0rT34g/photo.jpg?sz=128", "display_name": "Jordi Cuevas", "link": "https://stackoverflow.com/users/10676573/jordi-cuevas"}, "is_accepted": false, "score": 0, "last_activity_date": 1557345705, "last_edit_date": 1557345705, "creation_date": 1557343942, "answer_id": 56047829, "question_id": 56047201, "link": "https://stackoverflow.com/questions/56047201/type-is-missing-the-following-properties-from-type-productinput-id-in/56047829#56047829", "title": "Type &#39;{}[]&#39; is missing the following properties from type &#39;ProductInput&#39;: id, inputName, required, deleted, values[]", "body": "<p>you should do this instead:</p>\n\n<p>in your <code>db-data.ts</code>:</p>\n\n<pre><code> export const INPUTS: any = [\n     {\n       id: 0,\n       inputName: 'hello',\n       required: true,\n       deleted: false,\n       values: [\n         'Initial',\n         '1st Appeal',\n         '2nd Appeal'\n       ]\n     },\n     {\n       id: 1,\n       inputName: 'testing',\n       required: true,\n       deleted: false,\n       values: [\n         'Initial',\n         '1st Appeal',\n         '2nd Appeal'\n     ]\n     },\n     {\n       id: 2,\n       inputName: 'testing',\n       required: true,\n       deleted: false,\n       values: [\n         'Initial',\n         '1st Appeal',\n         '2nd Appeal'\n       ]\n     }\n   ];\n\n\n\n\n\n\n\n</code></pre>\n\n<p>and in your <code>ngOnInit</code> write this down:</p>\n\n<pre><code>this.productInput = this.INPUTS.filter((input) =&gt; input.inputName === 'testing');\nconsole.log(this.productInput);\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 9951977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108cdffd8e24d3c5a1043457d038f304?s=128&d=identicon&r=PG&f=1", "display_name": "Darron", "link": "https://stackoverflow.com/users/9951977/darron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2240, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557345705, "creation_date": 1557341207, "last_edit_date": 1557342802, "question_id": 56047201, "link": "https://stackoverflow.com/questions/56047201/type-is-missing-the-following-properties-from-type-productinput-id-in", "title": "Type &#39;{}[]&#39; is missing the following properties from type &#39;ProductInput&#39;: id, inputName, required, deleted, values[]", "body": "<p>I am new to Angular. I have dummy data that I would like to display in the application.</p>\n\n<p>When I set my variable equal to the interface I created I keep getting the error in the title.</p>\n\n<p>Here is my <code>db-data.ts</code> file.</p>\n\n<pre><code>\nexport const INPUTS: any = {\n  0: {\n    id: 0,\n    inputName: 'testing',\n    required: true,\n    deleted: false,\n    values: [\n      'Initial',\n      '1st Appeal',\n      '2nd Appeal'\n    ]\n  },\n  1: {\n    id: 1,\n    inputName: 'testing',\n    required: true,\n    deleted: false,\n    values: [\n      'Initial',\n      '1st Appeal',\n      '2nd Appeal'\n    ]\n  },\n  2: {\n    id: 2,\n    inputName: 'testing',\n    required: true,\n    deleted: false,\n    values: [\n      'Initial',\n      '1st Appeal',\n      '2nd Appeal'\n    ]\n  }\n};\n\n</code></pre>\n\n<p>Here is my interface <code>product-input.ts</code> file</p>\n\n<pre><code>export interface ProductInput {\n  id: number;\n  inputName: string;\n  required: boolean;\n  deleted: boolean;\n  values: string[];\n}\n\n</code></pre>\n\n<p>Here is the component <code>menu.component.ts</code> file.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ProductInput } from '../../model/product-input';\nimport {INPUTS} from '../../model/db-data';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.scss']\n})\nexport class MenuComponent implements OnInit {\n\n  productInput: ProductInput[] = [];\n\n  constructor() { }\n\n  ngOnInit() {\n    const inputs = Object.values(INPUTS);\n\n    this.productInput = inputs.filter(input =&gt; input.inputName === 'testing');\n  }\n\n}\n\n</code></pre>\n\n<p>I am expecting to view a list of values taken from the json file. What am I doing wrong?</p>\n"}, {"tags": ["node.js", "typescript", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 458, "user_id": 5831347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d94454de7fc6cb7f97a892e5bdfaad?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad", "link": "https://stackoverflow.com/users/5831347/mehrdad"}, "is_accepted": false, "score": 0, "last_activity_date": 1557399470, "creation_date": 1557399470, "answer_id": 56057880, "question_id": 56047018, "link": "https://stackoverflow.com/questions/56047018/parameters-to-typeorm-annotations/56057880#56057880", "title": "Parameters to TypeORM annotations", "body": "<p>you should read .env file at the begining of your file, not in the class.</p>\n\n<pre><code>import * as dotenv from 'dotenv';\ndotenv.config();\n</code></pre>\n\n<p>and you can put this line just in your main file, eg, server.ts, and you'll have access to all the env variables.</p>\n"}], "owner": {"reputation": 521, "user_id": 2816272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0aPA.png?s=128&g=1", "display_name": "Jean J. Michel", "link": "https://stackoverflow.com/users/2816272/jean-j-michel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557399470, "creation_date": 1557340287, "question_id": 56047018, "link": "https://stackoverflow.com/questions/56047018/parameters-to-typeorm-annotations", "title": "Parameters to TypeORM annotations", "body": "<p>I'm using an ORM framework in TypeScript (TypeORM), and I can set somethings using annotations (like @entity(database: '')).</p>\n\n<p>Can I receive the parameter value from an annotation from a .env file or a class with constants?</p>\n\n<p>I tryed: </p>\n\n<pre><code>@entity(database: process.env.DATA_BASE_NAME)\nclass UserEntity {...}\n</code></pre>\n\n<p>With no sucess =/\nBecause at this moment my .env was not instantiate yet =/</p>\n\n<p>But it works fine:</p>\n\n<pre><code>@entity(database: 'Users')\nclass UserEntity {\n\n  dotenv.config();\n\n  @(column: process.env.TABLE_USER_COL_ID_NAME, ...)\n  private id: number;\n}\n</code></pre>\n\n<p>Some tip to resolve it?</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 1271, "user_id": 6787953, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/45c56fb1b9be4c3f84df777389a6e255?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/6787953/stefan"}, "edited": false, "score": 0, "creation_date": 1557340467, "post_id": 56046978, "comment_id": 98735709, "body": "It should help you <a href=\"https://www.w3schools.com/css/css_link.asp\" rel=\"nofollow noreferrer\">w3schools.com/css/css_link.asp</a>"}, {"owner": {"reputation": 561, "user_id": 10436218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b824a0f3921ef9538186237610df7c?s=128&d=identicon&r=PG&f=1", "display_name": "carreankush", "link": "https://stackoverflow.com/users/10436218/carreankush"}, "reply_to_user": {"reputation": 1271, "user_id": 6787953, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/45c56fb1b9be4c3f84df777389a6e255?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/6787953/stefan"}, "edited": false, "score": 0, "creation_date": 1557340695, "post_id": 56046978, "comment_id": 98735807, "body": "This we need to do in angular may be need to use [ngClass] for changing based on route condition"}, {"owner": {"reputation": 1143, "user_id": 3151722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lR1o.jpg?s=128&g=1", "display_name": "Brozorec", "link": "https://stackoverflow.com/users/3151722/brozorec"}, "edited": false, "score": 0, "creation_date": 1557341244, "post_id": 56046978, "comment_id": 98736077, "body": "To detect if a link is <code>active</code> you can use <code>RouterLinkActive</code> <a href=\"https://angular.io/api/router/RouterLinkActive\" rel=\"nofollow noreferrer\">angular.io/api/router/RouterLinkActive</a>"}, {"owner": {"reputation": 561, "user_id": 10436218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b824a0f3921ef9538186237610df7c?s=128&d=identicon&r=PG&f=1", "display_name": "carreankush", "link": "https://stackoverflow.com/users/10436218/carreankush"}, "edited": false, "score": 0, "creation_date": 1557341766, "post_id": 56046978, "comment_id": 98736296, "body": "I am not getting how to use here and I need to make previous routes complete also"}], "owner": {"reputation": 561, "user_id": 10436218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b824a0f3921ef9538186237610df7c?s=128&d=identicon&r=PG&f=1", "display_name": "carreankush", "link": "https://stackoverflow.com/users/10436218/carreankush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557340135, "creation_date": 1557340135, "question_id": 56046978, "link": "https://stackoverflow.com/questions/56046978/how-to-change-the-class-name-of-links-based-on-routing-in-angular-6", "title": "How to change the class name of links based on routing in angular 6", "body": "<p>I have some links,here I need to change the class name of the links based on routing.Suppose I am in home page the class of anchor tag will be active,again suppose I route to steps1,my steps1 link should be active and class name of home link should be changed to complete,again if I route to steps2,my steps2 link should be active and and class name of steps1 link should be complete..so on\nHere is the code below,I am totally new to angular</p>\n\n<h2>steps.component.ts</h2>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-steps',\n  templateUrl: './steps.component.html',\n  styleUrls: [ './steps.component.css' ]\n})\nexport class StepsComponent implements OnInit {\n\n\n  constructor() {}\n\n  ngOnInit() {}\n\n\n}\n</code></pre>\n\n<h2>steps.component.html</h2>\n\n<pre><code>&lt;div&gt;\n&lt;a class=\"active\" [routerLink] = \"['/project']\"&gt;Home&lt;/a&gt;\n&lt;a class=\"disabled\" [routerLink] = \"['/project/steps1']\"&gt;Steps1&lt;/a&gt;\n&lt;a class=\"disabled\" [routerLink] = \"['/project/steps2']\"&gt;Steps2&lt;/a&gt;\n&lt;a class=\"disabled\" [routerLink] = \"['/project/steps3']\"&gt;Steps3&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>steps.component.css</h2>\n\n<pre><code>.active{color:red}\n.complete{color:green}\n.disabled{color:yellow}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557341511, "post_id": 56046927, "comment_id": 98736189, "body": "If you need to do custom code inside get and set and you also want to use a different backing field, I don&#39;t see how it can get much simpler than the first case.  If you are just trying to prevent users from setting a public field, you can mark it <code>readonly</code> (with caveats).  I&#39;m confused about what you&#39;re trying to simplify."}, {"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557341693, "post_id": 56046927, "comment_id": 98736267, "body": "@jcalz I discovered <b>by coincidence</b> that I could set the params to constructor as public to make them properties. Earlier, I discovered <b>by mistake</b> that not setting public/void on method declarations means they are there implicitly. Loving the compact syntax, I&#39;m always asking myself if my code can be improved. Regrettably, judging from your comment, the answer is &quot;no&quot; in this particular case."}], "answers": [{"comments": [{"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 1, "creation_date": 1557341795, "post_id": 56047308, "comment_id": 98736307, "body": "There&#39;s a purpose, indeed. I just omitted it for the sake of brevity and to-the-point&#39;ness."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1557341865, "post_id": 56047308, "comment_id": 98736327, "body": "@KonradViltersten I thought that might be the case :)"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1557341673, "creation_date": 1557341673, "answer_id": 56047308, "question_id": 56046927, "link": "https://stackoverflow.com/questions/56046927/valid-possible-to-declare-get-set-for-a-property-thats-being-declared-as-public/56047308#56047308", "title": "Valid/possible to declare get/set for a property that&#39;s being declared as public in constructor in TypeScript?", "body": "<p>You are already doing it the correct way in your question, assuming you are going to use the getter and setter for a purpose:</p>\n\n<pre><code>export class Thing {\n  constructor(private some: string) { ... }\n  get thing() { return this.some; }\n  set thing(value: string) { this.some = value; } \n}\n</code></pre>\n\n<p>If your getter and setter really are as plain as this example, there is little benefit over your other example:</p>\n\n<pre><code>export class Thing {\n  constructor(public thing: string) { ... }\n}\n</code></pre>\n"}], "owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 56047308, "answer_count": 1, "score": 0, "last_activity_date": 1557341673, "creation_date": 1557339915, "question_id": 56046927, "link": "https://stackoverflow.com/questions/56046927/valid-possible-to-declare-get-set-for-a-property-thats-being-declared-as-public", "title": "Valid/possible to declare get/set for a property that&#39;s being declared as public in constructor in TypeScript?", "body": "<p>If I have a class like this:</p>\n\n<pre><code>export class Thing{\n  constructor(private some: string) { ... }\n  get thing() { return this.some; }\n  set thing(value: string) { this.some = value; } \n}\n</code></pre>\n\n<p>I wonder if this is a proper way to have a controlled property (by get and set) with a backing field that is assignable from constructor. Is there a simpler way to do this?</p>\n\n<p>One way would be of, of course, to do this:</p>\n\n<pre><code>export class Thing{\n  constructor(public some: string) { ... }\n}\n</code></pre>\n\n<p>but then we have only control over set in the initial stage. Another would be: </p>\n\n<pre><code>export class Thing{\n  constructor(private some: string) { ... }\n}\n</code></pre>\n\n<p>but then we have no access to it publicly. And only using set/get makes it impossible to set while creating the object.</p>\n"}, {"tags": ["typescript", "types", "conditional-types"], "answers": [{"comments": [{"owner": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "edited": false, "score": 0, "creation_date": 1557341226, "post_id": 56047142, "comment_id": 98736068, "body": "Awesome, this definetely helped! Both of approaches are usable for me, thank you a lot!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1557340874, "creation_date": 1557340874, "answer_id": 56047142, "question_id": 56046822, "link": "https://stackoverflow.com/questions/56046822/typescript-using-conditional-typing-in-conditional-statements/56047142#56047142", "title": "Typescript: using conditional typing in conditional statements", "body": "<p>If you plan to check a union-typed value with a <code>switch/case</code> statement, you should probably make it a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">disciminated union</a> where the <code>type</code> property of each constituent of the union is declared to be the relevant <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#string-literal-types\" rel=\"nofollow noreferrer\">string literal</a> instead of just <code>string</code>.  You don't really need conditional types to deal with this, at least not inside your <code>someFunction()</code> implementation.</p>\n\n<p>For example, let's say your types look like this:</p>\n\n<pre><code>type MyType1 = { type: \"type1\", data: { a: string, b: number } };\ntype MyType2 = { type: \"type2\", data: { c: boolean, d: string } };\ntype MyType3 = { type: \"type3\", data: { e: number, f: boolean } };\n\ntype MyComplexType = MyType1 | MyType2 | MyType3;\n</code></pre>\n\n<p>Then the compiler will automatically treat checks on <code>MyComplexType[\"type\"]</code> as a type guard, like this:</p>\n\n<pre><code>const exhaustivenessCheck = (x: never) =&gt; x;\n\nfunction someFunction(item: MyComplexType) {\n    switch (item.type) {\n        case \"type1\":\n            console.log(2 * item.data.b); // okay\n            break;\n        case \"type2\":\n            console.log(item.data.d.charAt(0)); // okay\n            break;\n        case \"type3\":\n            console.log(7 - item.data.e); // okay\n            break;\n        default:\n            throw exhaustivenessCheck(item); // okay\n    }\n}\n</code></pre>\n\n<p>That <code>exhaustivenessCheck()</code> is basically a <code>throw</code> statement if the function somehow falls through to <code>default</code>.  That shouldn't happen, but the usefulness is that the compiler will warn you if it doesn't think you checked everything.  That's because <code>exhaustivenessCheck()</code> requires its parameter to be of type <code>never</code>, which can't happen.  If you comment out the <code>case \"type3\"</code> clause, or sometime later add a new constituent to the <code>MyComplexType</code> union, the <code>exhaustivenessCheck()</code> line will throw an error saying you failed to check a case.</p>\n\n<hr>\n\n<p>At this point you could stop, but if your types are really that programmatic in that they contain just two properties, a <code>type</code> discriminant string and a <code>data</code> property, then you can define your types with less repetition like this:</p>\n\n<pre><code>// a mapping from type string to data type\ntype MyTypes = {\n    type1: { a: string, b: number };\n    type2: { c: boolean, d: string };\n    type3: { e: number, f: boolean };\n}\n\n// convert the mapping to the union of types\ntype MyType&lt;K extends keyof MyTypes = keyof MyTypes&gt; = {\n    [P in K]: { type: P, data: MyTypes[P] }\n}[K]\n</code></pre>\n\n<p>You can verify that <code>MyType</code> or <code>MyType&lt;keyof MyTypes&gt;</code> expands to the <code>MyComplexType</code> union I defined above.  Your old <code>MyType1</code> is now <code>MyType&lt;\"type1\"&gt;</code>, and so forth.  That is, if you need to use your old names for the types you can do it like this:</p>\n\n<pre><code>type MyType1 = MyType&lt;\"type1\"&gt;;\ntype MyType2 = MyType&lt;\"type2\"&gt;;\ntype MyType3 = MyType&lt;\"type3\"&gt;\ntype MyComplexType = MyType;\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "accepted_answer_id": 56047142, "answer_count": 1, "score": 0, "last_activity_date": 1557340874, "creation_date": 1557339373, "question_id": 56046822, "link": "https://stackoverflow.com/questions/56046822/typescript-using-conditional-typing-in-conditional-statements", "title": "Typescript: using conditional typing in conditional statements", "body": "<p>Assume I have some a-lot-of-union type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var MyComplexType = MyType1 | MyType2 | MyType3 | ... | MyTypeN\n</code></pre>\n\n<p>where <code>MyType{N}</code> has this kind of signature:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type MyType1 = {\n    type: string,\n    data: &lt;different data for different types&gt;\n}\n</code></pre>\n\n<p>I know that I can use a kind of type guard function, e. g.:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function isMyComplexTypeOfMyType1(item: MyComplexType): item is MyType1 {\n    return item.type == \"type of MyType1\"\n}\n</code></pre>\n\n<p>but in this case I should write a lot of this kind of functions.</p>\n\n<p>So, the question is: can I dynamically define type inside a conditional statements (<code>if ... else</code> or <code>switch ... case</code>)? For example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function someFunction(item: MyComplexType) {\n    switch (item.type) {\n        case \"type of MyType1\":\n            // item is MyType1\n            // do something\n            break\n        case \"type of MyType2\":\n            // item is MyType2\n            // do something\n            break\n        ...\n    }\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "express"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1557339777, "post_id": 56046774, "comment_id": 98735410, "body": "it complains request.query doesn&#39;t exist on type IncomingMessage"}, {"owner": {"reputation": 2052, "user_id": 4527878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Xf8iNcWL1Y/AAAAAAAAAAI/AAAAAAAAAGc/UUSRGDEXvXg/photo.jpg?sz=128", "display_name": "Murtaza Hussain", "link": "https://stackoverflow.com/users/4527878/murtaza-hussain"}, "reply_to_user": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1557339884, "post_id": 56046774, "comment_id": 98735462, "body": "try now, changed to params"}, {"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1557339952, "post_id": 56046774, "comment_id": 98735502, "body": "now params.query doesn&#39;t exist on type IncomingMessage"}, {"owner": {"reputation": 2052, "user_id": 4527878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Xf8iNcWL1Y/AAAAAAAAAAI/AAAAAAAAAGc/UUSRGDEXvXg/photo.jpg?sz=128", "display_name": "Murtaza Hussain", "link": "https://stackoverflow.com/users/4527878/murtaza-hussain"}, "reply_to_user": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1557340475, "post_id": 56046774, "comment_id": 98735711, "body": "try now with url change"}], "tags": [], "owner": {"reputation": 2052, "user_id": 4527878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Xf8iNcWL1Y/AAAAAAAAAAI/AAAAAAAAAGc/UUSRGDEXvXg/photo.jpg?sz=128", "display_name": "Murtaza Hussain", "link": "https://stackoverflow.com/users/4527878/murtaza-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1557340465, "last_edit_date": 1557340465, "creation_date": 1557339154, "answer_id": 56046774, "question_id": 56046700, "link": "https://stackoverflow.com/questions/56046700/how-do-we-get-the-url-params-in-nodejs-via-typescript/56046774#56046774", "title": "How do we get the url params in nodejs via typescript?", "body": "<p>If you are using ES6 and Express, try this destructuring approach:</p>\n\n<pre><code>   const { amount, rate } = url.parse(request.url, true).query;\n</code></pre>\n\n<p>in code:</p>\n\n<pre><code>  var url = require('url');\n\n  onRequest(request: Http.IncomingMessage, response: Http.ServerResponse): void {\n        response.writeHead(200, {\"Content-Type\": \"text/plain\"});\n        const tc = new TaxCalculator();\n        const queryData = url.parse(request.url, true).query;\n        const { amount, rate } = queryData;\n        const tax = JSON.stringify(tc.calculate(amount, rate));\n        res.send(tax);\n      }\n</code></pre>\n"}], "owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557340465, "creation_date": 1557338814, "question_id": 56046700, "link": "https://stackoverflow.com/questions/56046700/how-do-we-get-the-url-params-in-nodejs-via-typescript", "title": "How do we get the url params in nodejs via typescript?", "body": "<p>I have this onRequest method written below, </p>\n\n<pre><code>      onRequest(request: Http.IncomingMessage, response: Http.ServerResponse): void {\n        response.writeHead(200, {\"Content-Type\": \"text/plain\"});\n        const tc = new TaxCalculator();\n        const tax = JSON.stringify(tc.calculate(request.amount, request.rate));\n        res.send(tax);\n      }\n</code></pre>\n\n<p>I get the error with the above method\nProperty 'amount' does not exist on type 'IncomingMessage'.</p>\n\n<p>My question is how do we get the amount and rate params passed through url?</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1557337381, "post_id": 56046100, "comment_id": 98734234, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46639154/how-can-get-httpclient-status-code-in-angular-4\">How can get HttpClient Status Code in Angular 4</a>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557337407, "post_id": 56046100, "comment_id": 98734247, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/46019771/1260204\">Catching errors in Angular HttpClient</a>"}, {"owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557357498, "post_id": 56046100, "comment_id": 98741741, "body": "It is not a direct duplicate as I have a further issue that is not answered by the listed questions"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557394782, "post_id": 56046100, "comment_id": 98753653, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/35326689/1260204\">How to catch exception correctly from http.request()?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "edited": false, "score": 0, "creation_date": 1557337249, "post_id": 56046222, "comment_id": 98734179, "body": "I still only have an account object (ie response is of type &#39;Account&#39;)"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "edited": false, "score": 0, "creation_date": 1557337367, "post_id": 56046222, "comment_id": 98734225, "body": "@coolblue2000, the response should be of type <code>HttpResponse&lt;Account&gt;</code>"}], "tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": false, "score": 4, "last_activity_date": 1557337343, "last_edit_date": 1557337343, "creation_date": 1557336815, "answer_id": 56046222, "question_id": 56046100, "link": "https://stackoverflow.com/questions/56046100/how-do-i-get-the-response-code-in-angular-7/56046222#56046222", "title": "How do I get the response code in angular 7", "body": "<p>You need to tell Angular you want to get the <a href=\"https://angular.io/guide/http#reading-the-full-response\" rel=\"nofollow noreferrer\">complete response</a> with the option <code>observe: 'response'</code>, this will give you access to the headers and the status code:</p>\n\n<pre><code>this.http.post&lt;Account&gt;(url, { observe: 'response' }).pipe(\n    map(response =&gt; response.headers['status'])\n)\n</code></pre>\n\n<p>The response will be of type <code>HttpResponse&lt;Account&gt;</code>.</p>\n"}], "owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5552, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1557357039, "creation_date": 1557336334, "last_edit_date": 1557357039, "question_id": 56046100, "link": "https://stackoverflow.com/questions/56046100/how-do-i-get-the-response-code-in-angular-7", "title": "How do I get the response code in angular 7", "body": "<p>I have the following code in an angular 7 app</p>\n\n<pre><code>insertAccount(submittedAccount:Account):Observable&lt;Account&gt;{\n    return this.http.post&lt;Account&gt;(this.baseApiUrl+\"Account\",submittedAccount,this.httpNormalOptions).pipe(\n      map(response=&gt;{\n        return response;\n      }\n    ))\n   }\n</code></pre>\n\n<p>How do I get the http response code? For instance if it returns a 401 error I need to handle it and currently it is obviously simply returning the object.</p>\n\n<p>----Update----</p>\n\n<p>Okay so I followed the solutions below but the map method was never reached as there was no response as such (I assume because it failed due to a 401)</p>\n\n<p>So I changed it to the following</p>\n\n<pre><code>let result:Account[]=[];\n    this.http.get&lt;HttpResponse&lt;Account[]&gt;&gt;(this.baseApiUrl+\"Account\",this.httpNormalOptions).pipe(map(\n      response=&gt;{\n       return response;\n      }\n    )).subscribe(r=&gt;{result= r.body},p=&gt;{if(p.status===401){this.clearToken()}})\n\n    return result;\n</code></pre>\n\n<p>However is obviously now does not return an observable... Is that an issue? (I am pretty new to observables) Is there a benefit to returning an observable over simply returning the Account[] object?</p>\n\n<p>Just for completeness I am building the headers I send with the response as follows</p>\n\n<pre><code>this.httpNormalOptions = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.auth_token,\n          observe:'response'\n        })\n      }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 557, "user_id": 1630959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EQ2gD.png?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/1630959/nicolas"}, "is_accepted": true, "score": 6, "last_activity_date": 1557334121, "creation_date": 1557334121, "answer_id": 56045507, "question_id": 56045470, "link": "https://stackoverflow.com/questions/56045470/concatenate-array-if-is-not-undefined/56045507#56045507", "title": "Concatenate array if is not undefined", "body": "<p>You may use this syntax </p>\n\n<pre><code>let myarray = [...(myarray1 || []), ...(myarray2 || [])];\n</code></pre>\n"}], "owner": {"reputation": 1273, "user_id": 3767655, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3b91d5a21d6f5b8a5ff18d7228f1c8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Goldbones", "link": "https://stackoverflow.com/users/3767655/goldbones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 56045507, "answer_count": 1, "score": 1, "last_activity_date": 1557334360, "creation_date": 1557333994, "last_edit_date": 1557334360, "question_id": 56045470, "link": "https://stackoverflow.com/questions/56045470/concatenate-array-if-is-not-undefined", "title": "Concatenate array if is not undefined", "body": "<p>I\u00b4m concatenate two different arrays into one,</p>\n\n<pre><code>let myarray = [...myarray1, ...myarray2];\n</code></pre>\n\n<p>If myarray2 is undefined how can I make this concatenation in the best way?</p>\n\n<pre><code> if(myarray2){\n         let myarray = [...myarray1, ...myarray2];\n    }\n</code></pre>\n\n<p>This is too ugly INMHO. Could i not do something like:</p>\n\n<pre><code>let myarray = [...myarray1, ...?myarray2];\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "node-modules", "javascript-debugger"], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 6610661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e9991b7d7d84e2ae29dd0bc403e330a3?s=128&d=identicon&r=PG&f=1", "display_name": "KshitijAnil Rangari", "link": "https://stackoverflow.com/users/6610661/kshitijanil-rangari"}, "edited": false, "score": 2, "creation_date": 1557335607, "post_id": 56045408, "comment_id": 98733324, "body": "Of course, I am aware of that !! It does not work with dev tools opened up"}, {"owner": {"reputation": 590, "user_id": 1335789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/20ce603ab853be76377b179f66047a62?s=128&d=identicon&r=PG", "display_name": "Johan Aspeling", "link": "https://stackoverflow.com/users/1335789/johan-aspeling"}, "edited": false, "score": 0, "creation_date": 1568287950, "post_id": 56045408, "comment_id": 102231467, "body": "xD Chuckled at this reply... Mine is also not being hit, I get this behaviour when optimization is set to true in the angular.json file (<code>&quot;optimization&quot;: true</code>) under the configuration"}, {"owner": {"reputation": 382, "user_id": 3052022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7CIf.jpg?s=128&g=1", "display_name": "AbdolHosein", "link": "https://stackoverflow.com/users/3052022/abdolhosein"}, "reply_to_user": {"reputation": 176, "user_id": 6610661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e9991b7d7d84e2ae29dd0bc403e330a3?s=128&d=identicon&r=PG&f=1", "display_name": "KshitijAnil Rangari", "link": "https://stackoverflow.com/users/6610661/kshitijanil-rangari"}, "edited": false, "score": 0, "creation_date": 1573493120, "post_id": 56045408, "comment_id": 103891707, "body": "@KshitijAnilRangari I was like you! but after a short checking and manipulation of <code>Developer Tools</code>, I found that my <code>Developer Tools</code> Debugging was manipulated by me! And I&#39;ve forgot about that! When I turned the manipulated situations like <code>Deactivating of Breakpoints</code> to defaults (<code>Activating Breakpoints</code> and so etc.), I got it working! and <code>debugger</code> statement started to work as I expected!"}], "tags": [], "owner": {"reputation": 1272, "user_id": 2911348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PoQXe.jpg?s=128&g=1", "display_name": "Prateek Jain", "link": "https://stackoverflow.com/users/2911348/prateek-jain"}, "is_accepted": false, "score": 2, "last_activity_date": 1557333773, "creation_date": 1557333773, "answer_id": 56045408, "question_id": 56045274, "link": "https://stackoverflow.com/questions/56045274/typescript-debugger-statement-does-not-work-while-working-with-qa-environme/56045408#56045408", "title": "TypeScript - &quot;debugger;&quot; statement does not work while working with QA Environment in Angular", "body": "<p><code>debugger</code> statement works only when you have <code>Developer tools</code> open. Use <code>Cmd+Opt+I</code> and select the <code>sources</code> pane. Please refer <a href=\"https://javascript.info/debugging-chrome#debugger-command\" rel=\"nofollow noreferrer\">this</a> for more info.</p>\n"}, {"tags": [], "owner": {"reputation": 10380, "user_id": 530634, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c9929d2d4c53790b35e9cf7a8e566b05?s=128&d=identicon&r=PG", "display_name": "tjb", "link": "https://stackoverflow.com/users/530634/tjb"}, "is_accepted": false, "score": 0, "last_activity_date": 1619088226, "creation_date": 1619088226, "answer_id": 67211680, "question_id": 56045274, "link": "https://stackoverflow.com/questions/56045274/typescript-debugger-statement-does-not-work-while-working-with-qa-environme/67211680#67211680", "title": "TypeScript - &quot;debugger;&quot; statement does not work while working with QA Environment in Angular", "body": "<p>Don't forget the obvious, if your linter disallows the debugger statement you may have to put in a line to ignore it:</p>\n<pre><code>//eslint-disable-next-line\ndebugger\n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 6610661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e9991b7d7d84e2ae29dd0bc403e330a3?s=128&d=identicon&r=PG&f=1", "display_name": "KshitijAnil Rangari", "link": "https://stackoverflow.com/users/6610661/kshitijanil-rangari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1585, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1619088226, "creation_date": 1557333263, "last_edit_date": 1557333381, "question_id": 56045274, "link": "https://stackoverflow.com/questions/56045274/typescript-debugger-statement-does-not-work-while-working-with-qa-environme", "title": "TypeScript - &quot;debugger;&quot; statement does not work while working with QA Environment in Angular", "body": "<p>I am working on a angular application with a setup of various environments. I am facing issues when I am trying set up some debug points using <code>debugger;</code></p>\n\n<p>I am using <code>ng serve -o --webconfiguration==qa</code> to compile node_modules run the server.</p>\n\n<p>However, when I use <code>ng serve -o</code> debug points are hit. </p>\n\n<p>How do I set up my application to hit debug points while working with QA Environment </p>\n\n<p>Here's my configuration - \n<code>Angular CLI Version - 7.3.8\nNode Version - 10.15.3\nNPM - 6.4.1\nTypeScript - 3.1.6</code></p>\n\n<p>angular.json</p>\n\n<pre><code>{\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"projects\": {\n    \"Media-Service-Status\": {\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"projectType\": \"application\",\n      \"prefix\": \"app\",\n      \"schematics\": {},\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/Media-Service-Status\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.app.json\",\n            \"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\"\n            ],\n            \"styles\": [\n              \"src/styles.css\"\n            ],\n            \"scripts\": []\n          },\n          \"configurations\": {\n            \"production\": {\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.prod.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            },\n            \"qa\": {\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.qa.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            },\n            \"webvenus\":{\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.webvenus.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            },\n            \"aliasuat\":{\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.aliasuat.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            },\n            \"websaturn\":{\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.websaturn.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            },\n            \"localDev\":{\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.localDev.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            }\n          }\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"options\": {\n            \"browserTarget\": \"Media-Service-Status:build\",\n            \"port\":58911\n          },\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"Media-Service-Status:build:production\"\n            },\n            \"webvenus\":{\n              \"browserTarget\": \"Media-Service-Status:build:webvenus\"\n            },\n            \"aliasuat\":{\n              \"browserTarget\": \"Media-Service-Status:build:aliasuat\"\n            },\n            \"websaturn\":{\n              \"browserTarget\": \"Media-Service-Status:build:websaturn\"\n            },\n            \"localDev\":{\n              \"browserTarget\": \"Media-Service-Status:build:localDev\"\n            }\n          }\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n          \"options\": {\n            \"browserTarget\": \"Media-Service-Status:build\"\n          }\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"main\": \"src/test.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.spec.json\",\n            \"karmaConfig\": \"src/karma.conf.js\",\n            \"styles\": [\n              \"src/styles.css\"\n            ],\n            \"scripts\": [],\n            \"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\"\n            ]\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": [\n              \"src/tsconfig.app.json\",\n              \"src/tsconfig.spec.json\"\n            ],\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        }\n      }\n    },\n    \"Media-Service-Status-e2e\": {\n      \"root\": \"e2e/\",\n      \"projectType\": \"application\",\n      \"architect\": {\n        \"e2e\": {\n          \"builder\": \"@angular-devkit/build-angular:protractor\",\n          \"options\": {\n            \"protractorConfig\": \"e2e/protractor.conf.js\",\n            \"devServerTarget\": \"Media-Service-Status:serve\"\n          },\n          \"configurations\": {\n            \"production\": {\n              \"devServerTarget\": \"Media-Service-Status:serve:production\"\n            }\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": \"e2e/tsconfig.e2e.json\",\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        }\n      }\n    }\n  },\n  \"defaultProject\": \"Media-Service-Status\"\n}\n</code></pre>\n\n<p>tsconfig.json </p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/\",\n    \"inlineSourceMap\": true,\n    \"inlineSources\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>I am expecting <code>debugger;</code> statement to work just as it is intended. \nAny help is greatly appreciated. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1557332855, "post_id": 56044872, "comment_id": 98732044, "body": "More info on enums: <a href=\"https://stackoverflow.com/questions/28818849/how-do-the-different-enum-variants-work-in-typescript\" title=\"how do the different enum variants work in typescript\">stackoverflow.com/questions/28818849/&hellip;</a>. How to get keys/values: <a href=\"https://github.com/Microsoft/TypeScript/issues/17198#issuecomment-315400819\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1200, "user_id": 9298910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9819944a4b6fdd239fcefe369a25a129?s=128&d=identicon&r=PG&f=1", "display_name": "Lehks", "link": "https://stackoverflow.com/users/9298910/lehks"}, "edited": false, "score": 0, "creation_date": 1557332056, "post_id": 56044932, "comment_id": 98731703, "body": "Okay, thank you very much. Is there a way to only get the values then? I suppose it would be possible to get that result by using Array.splice() but I am not sure if the order is always the same (although it seems that way)."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1557332145, "post_id": 56044932, "comment_id": 98731749, "body": "<code>const values = Object.values(Enum).filter(v =&gt; typeof v === &#39;number&#39;);</code>"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 16, "last_activity_date": 1557332801, "last_edit_date": 1557332801, "creation_date": 1557331908, "answer_id": 56044932, "question_id": 56044872, "link": "https://stackoverflow.com/questions/56044872/typescript-enum-object-values-return-value/56044932#56044932", "title": "Typescript Enum Object.values() return value", "body": "<p>That's how <code>enum</code> types are transpiled by TypeScript.</p>\n\n<pre><code>enum Enum {\n    FOO,\n    BAR\n}\n</code></pre>\n\n<p>will become</p>\n\n<pre><code>\"use strict\";\nvar Enum;\n(function (Enum) {\n    Enum[Enum[\"FOO\"] = 0] = \"FOO\";\n    Enum[Enum[\"BAR\"] = 1] = \"BAR\";\n})(Enum || (Enum = {}));\n</code></pre>\n\n<p>Notice that both numeric keys and string keys are provided for easy mapping to and from both types, enabling you to do something like this:</p>\n\n<pre><code>const value = Enum.FOO;  // inferred type Enum.FOO\nconst key = Enum[value]; // inferred type string\n</code></pre>\n\n<p>If you want to get an array of only the numeric or string keys, you can do this:</p>\n\n<pre><code>const numericKeys = Object.keys(Enum).map(x =&gt; parseInt(x)).filter(x =&gt; !isNaN(x));\nconst stringKeys = Object.keys(Enum).filter(x =&gt; isNaN(parseInt(x)));\n</code></pre>\n\n<p>Or for the numeric or string values (requires the <code>es2017</code> library in your <code>tsconfig</code>):</p>\n\n<pre><code>const numericValues = Object.values(Enum).filter(x =&gt; typeof x === \"number\");\nconst stringValues = Object.values(Enum).filter(x =&gt; typeof x === \"string\");\n</code></pre>\n"}], "owner": {"reputation": 1200, "user_id": 9298910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9819944a4b6fdd239fcefe369a25a129?s=128&d=identicon&r=PG&f=1", "display_name": "Lehks", "link": "https://stackoverflow.com/users/9298910/lehks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8154, "favorite_count": 0, "accepted_answer_id": 56044932, "answer_count": 1, "score": 12, "last_activity_date": 1557332801, "creation_date": 1557331695, "question_id": 56044872, "link": "https://stackoverflow.com/questions/56044872/typescript-enum-object-values-return-value", "title": "Typescript Enum Object.values() return value", "body": "<p>Why does <code>Object.values()</code> and <code>Object.keys()</code> always give both the keys and the values?</p>\n\n<p>Consider the following code: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>enum Enum {\n    FOO,\n    BAR\n}\n\nconsole.log(Object.values(Enum));\nconsole.log(Object.keys(Enum));\n</code></pre>\n\n<p>The output of this would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[ 'FOO', 'BAR', 0, 1 ]\n[ '0', '1', 'FOO', 'BAR' ]\n</code></pre>\n\n<p>Why does it do that and how do I only get the keys and values?</p>\n"}, {"tags": ["json", "angular", "typescript", "ngx-treeview"], "comments": [{"owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1557331628, "post_id": 56044732, "comment_id": 98731528, "body": "Your <code>json</code> is invalid."}, {"owner": {"reputation": 2299, "user_id": 4851126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02d0041271b0178482aee8a36237e09e?s=128&d=identicon&r=PG", "display_name": "Shan-Desai", "link": "https://stackoverflow.com/users/4851126/shan-desai"}, "reply_to_user": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1557332122, "post_id": 56044732, "comment_id": 98731735, "body": "@TheHeadRush have the query updated with a Github Gist"}], "answers": [{"tags": [], "owner": {"reputation": 2299, "user_id": 4851126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02d0041271b0178482aee8a36237e09e?s=128&d=identicon&r=PG", "display_name": "Shan-Desai", "link": "https://stackoverflow.com/users/4851126/shan-desai"}, "is_accepted": true, "score": 0, "last_activity_date": 1557940450, "last_edit_date": 1557940450, "creation_date": 1557428497, "answer_id": 56066003, "question_id": 56044732, "link": "https://stackoverflow.com/questions/56044732/check-a-recursive-json-structure-for-matchinig-numerical-values-in-set-in-typesc/56066003#56066003", "title": "Check a recursive JSON structure for matchinig numerical values in Set in Typescript Angular", "body": "<p>I solved it by creating a Recursion Parsing Function which takes in the JSON Structure.</p>\n\n<ol>\n<li>Within the <code>ngOnInit()</code> I call the service and pass it to the <code>parseTree</code> function</li>\n<li>I recursively parse it and compare the values with the <code>Set</code></li>\n<li>I add additional information like a Font-Awesome class text within the <code>value</code> structure to render it</li>\n<li>pass the updated JSON to the respective <code>items</code> variable</li>\n</ol>\n\n<p><strong>component.ts</strong>:</p>\n\n<pre><code>parseTree(factors: TreeviewItem[]) {\nfactors.forEach(factor =&gt; {\n  // console.log(factor);\n  if (!isNil(factor.value)) {\n    let labels: number[] = factor.value['label_ids'];\n    labels.forEach(label =&gt; {\n      if(this.selected.findIndex(l =&gt; l == label) &gt; -1) {\n        factor.value['highlighted'] = true;\n        factor.value['class'] = 'fas fa-flag';\n      }\n    });\n  }\n  if (!isNil(factor.children)) {\n    this.parseTree(factor.children);\n  }\n\n});\nthis.items = factors;\n\n}\n</code></pre>\n\n<p>here <code>selections</code> is a <code>Set</code> and within <code>ngOnInit()</code> I set it a fixed value:</p>\n\n<pre><code>ngOnInit() {\n    this.selections.add(15);\n    this.items = this.parseTree(this.service.getDataQualityFactors());\n  }\n</code></pre>\n\n<p>Based on <a href=\"https://github.com/leovo2708/ngx-treeview/blob/master/src/demo/product/product.component.html\" rel=\"nofollow noreferrer\"><code>ngx-treeview</code> example</a> I use the <code>itemTemplate</code> in the code and add the Font-Awesome fonts next to the selections as follows:</p>\n\n<p><strong>component.html</strong></p>\n\n<pre><code> &lt;label class=\"form-check-label\" *ngIf=\"item.value !== null &amp;&amp; item.value['highlighted']\"&gt;\n        &lt;i class=\"{{item.value['class']}}\" aria-hidden=\"true\" title=\"Highlighted\" [ngClass]=\"{'marked': item.checked}\"&gt;&lt;/i&gt;\n      &lt;/label&gt;\n</code></pre>\n\n<p>and use the CSS classes to manipulate the color change of the font:</p>\n\n<pre><code>.fa-flag {\n  color: red;\n}\n.fa-flag.marked {\n  color: green;\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/qualiexplore\" rel=\"nofollow noreferrer\">StackBlitz Example Code</a></p>\n"}], "owner": {"reputation": 2299, "user_id": 4851126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02d0041271b0178482aee8a36237e09e?s=128&d=identicon&r=PG", "display_name": "Shan-Desai", "link": "https://stackoverflow.com/users/4851126/shan-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 1, "accepted_answer_id": 56066003, "answer_count": 1, "score": 0, "last_activity_date": 1557940450, "creation_date": 1557331139, "last_edit_date": 1557332095, "question_id": 56044732, "link": "https://stackoverflow.com/questions/56044732/check-a-recursive-json-structure-for-matchinig-numerical-values-in-set-in-typesc", "title": "Check a recursive JSON structure for matchinig numerical values in Set in Typescript Angular", "body": "<p>I have a UI where initially a User has to check some checkboxes. The checkboxes have sequential IDs. The JSON Structure for it is as follows:</p>\n\n<pre><code>{\n  \"categories\": [{\n    \"name\": \"Product\",\n    \"labels\": [{\n      \"id\": 1,\n      \"name\": \"I work on an asset (capital good).\",\n      \"checked\": false\n    }, {\n      \"id\": 2,\n      \"name\": \"I work on a consumer product.\",\n      \"checked\": false\n    }, {\n      \"id\": 3,\n      \"name\": \"I am not sure what type of product I work on.\",\n      \"checked\": false\n    }\n    ]\n  }, {\n    \"name\": \"Goal\",\n    \"labels\": [{\n      \"id\": 4,\n      \"name\": \"I want to improve the product's reliability.\",\n      \"checked\": false\n    }, {\n      \"id\": 5,\n      \"name\": \"I need information to identify root causes.\",\n      \"checked\": false\n    }, {\n      \"id\": 6,\n      \"name\": \"I need information about the product's environment.\",\n      \"checked\": false\n    }, {\n      \"id\": 7,\n      \"name\": \"I need information about customer requirements.\",\n      \"checked\": false\n    }, {\n      \"id\": 8,\n      \"name\": \"I need quantified information.\",\n      \"checked\": false\n    }, {\n      \"id\": 9,\n      \"name\": \"I am not sure what I need.\",\n      \"checked\": false\n    }\n    ]\n  }\n]\n}\n</code></pre>\n\n<p>I render it Angular using the following Code:</p>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;div class=\"row mt-lg-auto\" *ngFor=\"let filter of filters['categories']\"&gt;\n    &lt;div class=\"col-lg-12\"&gt;\n      &lt;h4&gt;\n        {{filter['name']}}\n      &lt;/h4&gt;\n      &lt;div *ngFor=\"let label of filter['labels']\"&gt;\n          &lt;div class=\"form-check\"&gt;\n            &lt;input class=\"form-check-input\"\n                   type=\"checkbox\"\n                   value=\"{{label['id']}}\"\n                   id=\"{{label['id']}}\"\n                   [(ngModel)]=\"label['checked']\"\n                   (change)=\"changeCheck(label['id'], $event)\"\n            &gt;\n              &lt;label class=\"form-check-label\" for=\"{{label['id']}}\"&gt;\n                {{label['name']}}\n              &lt;/label&gt;\n          &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p><strong>component.ts</strong>\nI directly import the JSON file from <code>src/assets/</code> folder and save the <code>id</code> to a <code>Set</code> in order to avoid duplicate values when the user selects a checkbox.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport * as FilterFunc from 'src/assets/FilterFunction.json';\n\nconst Filters: any = FilterFunc;\n\n@Component({\n  selector: 'explore-step1',\n  templateUrl: './explore-step1.component.html',\n  styleUrls: ['./explore-step1.component.css']\n})\nexport class ExploreStep1Component implements OnInit {\n  filters = Filters.default;\n  selections = new Set();\n\n  constructor() {\n  }\n  ngOnInit(): void {\n  }\n  changeCheck(id: number, event: any) {\n    (event.target.checked) ?\n      this.selections.add(id):\n      this.selections.delete(id);\n    console.log(this.selections);\n  }\n}\n</code></pre>\n\n<p>I am using <code>ngx-treeview</code> to render a tree view for a fixed JSON file that has the following structure:\n<a href=\"https://gist.github.com/shantanoo-desai/5163182aba74baf7ec04d7ac426bd944\" rel=\"nofollow noreferrer\">GitHub Gist of the Complete Recursive JSON</a></p>\n\n<p>Here on the children in the most depth have the following key-value pair:</p>\n\n<pre><code>\"value\": {\n     \"label_ids\": [relevant ids from the first json],\n     \"description\": \"some text to render\"\n}\n</code></pre>\n\n<p>else the \"value\" is null.</p>\n\n<p>I wish to compare the <code>Set</code> values to the above mentioned recursive JSON's <code>label_ids</code> and if one or more than one values in the <code>label_ids</code> match with the <code>Set</code> then change the <code>checked</code> value to <code>true</code></p>\n\n<p>How does one accomplish this in Typescript/Angular?</p>\n"}, {"tags": ["typescript", "jestjs", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 1532979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a21e3ac60fa0589779874728f615d2e?s=128&d=identicon&r=PG", "display_name": "Mrutyunjay", "link": "https://stackoverflow.com/users/1532979/mrutyunjay"}, "edited": false, "score": 2, "creation_date": 1600396087, "post_id": 56045577, "comment_id": 113081492, "body": "This one is really nice example for mocking out private methods in a javascript class. I have been trying out different ways jest.fn(), jest.spyOn() but couldn&#39;t make it work earlier. But now I do."}], "tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 28, "last_activity_date": 1557334380, "creation_date": 1557334380, "answer_id": 56045577, "question_id": 56044471, "link": "https://stackoverflow.com/questions/56044471/testing-private-functions-in-typescript-with-jest/56045577#56045577", "title": "testing private functions in typescript with jest", "body": "<p>It looks like you are wanting to verify that <code>handleError</code> gets called when <code>build</code> runs.</p>\n\n<p>Private methods are compiled to normal JavaScript prototype methods, so you can use the <code>any</code> type to let the spy creation pass through the TypeScript type checking.</p>\n\n<p>Here is a highly simplified example:</p>\n\n<pre><code>class OrderBuilder {\n  public build() {\n    this.handleError()\n  }\n  private handleError() {\n    throw new Error('missing ... field in order')\n  }\n}\n\ndescribe('Order Builder', () =&gt; {\n  it('should test the handleError', () =&gt; {\n    const handleErrorSpy = jest.spyOn(OrderBuilder.prototype as any, 'handleError');\n    const orderBuilder = new OrderBuilder()\n    expect(() =&gt; orderBuilder.build()).toThrow('missing ... field in order');  // Success!\n    expect(handleErrorSpy).toHaveBeenCalled();  // Success!\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 2794, "user_id": 8208248, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TYMi5.jpg?s=128&g=1", "display_name": "sravan ganji", "link": "https://stackoverflow.com/users/8208248/sravan-ganji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11817, "favorite_count": 1, "accepted_answer_id": 56045577, "answer_count": 1, "score": 7, "last_activity_date": 1557472432, "creation_date": 1557330311, "last_edit_date": 1557472432, "question_id": 56044471, "link": "https://stackoverflow.com/questions/56044471/testing-private-functions-in-typescript-with-jest", "title": "testing private functions in typescript with jest", "body": "<p>In the below code my test case was passed as expected but i am using stryker for mutation testing , handleError function is survived in mutation testing , so i want to kill the mutant by testing the handleError function is being called or not. need to help to test the private function.</p>\n\n<p>i tried spyOn but didn't work </p>\n\n<pre><code>const orderBuilderSpy = jest.spyOn(orderBuilder, 'build')\nconst handleError = jest.fn()\nexpect(rderBuilderSpy).toHaveBeenCalledWith(handleError)\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// code written in nestJS/typescript\r\n\r\nexport class OrderBuilder {\r\n  private amount: number\r\n\r\n  public withAmount(amount: number): BuyOrderBuilder {\r\n    this.amount = amount\r\n    return this\r\n  }\r\n\r\n\r\n  public build(): TransactionRequest {\r\n    this.handleError()\r\n    return {\r\n      amount: this.amount,\r\n      acceptedWarningRules: [\r\n        {\r\n          ruleNumber: 4464\r\n        }\r\n      ]\r\n    }\r\n  }\r\n  private handleError() {\r\n    const errors: string[] = []\r\n    const dynamicFields: string[] = [\r\n      'amount',\r\n    ]\r\n    dynamicFields.forEach((field: string) =&gt; {\r\n      if (!this[field]) {\r\n        errors.push(field)\r\n      }\r\n    })\r\n    if (errors.length &gt; 0) {\r\n      const errorMessage = errors.join()\r\n      throw new Error(`missing ${errorMessage} field in order`)\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n// test\r\ndescribe('Order Builder', () =&gt; {\r\n  it('should test the handleError', () =&gt; {\r\n    const orderBuilder = new OrderBuilder()\r\n    const errorMessage = new Error(\r\n      `missing amount field in order`\r\n    )\r\n    try {\r\n      orderBuilder.build()\r\n    } catch (error) {\r\n      expect(error).toEqual(errorMessage)\r\n    }\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "object"], "comments": [{"owner": {"reputation": 4725, "user_id": 9931092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dDivw.jpg?s=128&g=1", "display_name": "Amit Baranes", "link": "https://stackoverflow.com/users/9931092/amit-baranes"}, "edited": false, "score": 0, "creation_date": 1557330555, "post_id": 56044441, "comment_id": 98731030, "body": "Please post the result you would like to get."}, {"owner": {"reputation": 115, "user_id": 8441040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USLkq.jpg?s=128&g=1", "display_name": "Willie", "link": "https://stackoverflow.com/users/8441040/willie"}, "reply_to_user": {"reputation": 4725, "user_id": 9931092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dDivw.jpg?s=128&g=1", "display_name": "Amit Baranes", "link": "https://stackoverflow.com/users/9931092/amit-baranes"}, "edited": false, "score": 0, "creation_date": 1557332066, "post_id": 56044441, "comment_id": 98731711, "body": "I got this to work by doing the following: <code>this.templateReports.sort((a,b) =&gt; (Object.keys(a)[0] &gt; Object.keys(b)[0]) ? 1 : ((Object.keys(b)[0] &gt; Object.keys(a)[0]) ? -1 : 0));</code>"}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 4140013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/endMn.jpg?s=128&g=1", "display_name": "Cowabunghole", "link": "https://stackoverflow.com/users/4140013/cowabunghole"}, "is_accepted": false, "score": 0, "last_activity_date": 1557330918, "creation_date": 1557330918, "answer_id": 56044650, "question_id": 56044441, "link": "https://stackoverflow.com/questions/56044441/sorting-array-of-objects-by-object-name-typescript/56044650#56044650", "title": "Sorting Array of Objects by Object Name Typescript", "body": "<p>To answer your question, you can get the object key by calling <code>Object.keys(obj)[0]</code> which gets the first enumerable key. Since each of these objects has exactly one key-value pair, this will work fine. If you add a second key-value pair, this will NOT work.</p>\n\n<p>My next question, then, is why the objects are in this configuration in the first place? Considering the object keys are simply the <code>name</code> value repeated, I would think it would make more sense to have an array of just the objects, no? I'm not sure what you gain from having each object nested in a second object.</p>\n"}, {"tags": [], "owner": {"reputation": 3286, "user_id": 342918, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/621fc7a49bb15b4f8a0814c7271afc78?s=128&d=identicon&r=PG", "display_name": "einarmagnus", "link": "https://stackoverflow.com/users/342918/einarmagnus"}, "is_accepted": true, "score": 1, "last_activity_date": 1557330929, "creation_date": 1557330929, "answer_id": 56044655, "question_id": 56044441, "link": "https://stackoverflow.com/questions/56044441/sorting-array-of-objects-by-object-name-typescript/56044655#56044655", "title": "Sorting Array of Objects by Object Name Typescript", "body": "<p>When you have an object like this:</p>\n\n<pre><code>let o = {\"Project Report\": {name: \"Project Report\", docType: \"Project\"}}\n</code></pre>\n\n<p>the first string is the property name.\ni.e to get the values you have to write something like:</p>\n\n<pre><code>o[\"Project Report\"].name // =&gt; \"Project Report\"\n</code></pre>\n\n<p>That creates a problem for you as you don't know beforehand what the name is of the only key inside the objects you are trying to sort by.</p>\n\n<p>But you can ask an object for its keys with <code>Object.keys()</code>:</p>\n\n<pre><code>let keys = Object.keys(o) // =&gt; [\"Project Report\"]\n</code></pre>\n\n<p>And since you know you have only on key per object in your list you can write something like this:</p>\n\n<pre><code>function getName(o) {\n    return Object.keys(o)[0];\n}\n\ntemplateReports.sort((first, second) =&gt; getName(first).localeCompare(getName(second)));\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "is_accepted": false, "score": 1, "last_activity_date": 1557331367, "creation_date": 1557331367, "answer_id": 56044802, "question_id": 56044441, "link": "https://stackoverflow.com/questions/56044441/sorting-array-of-objects-by-object-name-typescript/56044802#56044802", "title": "Sorting Array of Objects by Object Name Typescript", "body": "<p>That's a weird object structure.</p>\n\n<p>You can do it - but you need to figure out what the accessor of the property should be. How do you define this key of each object?</p>\n\n<p>You could use the first key in the object: (<strong>disclaimer - is this maintainable?)</strong></p>\n\n<pre><code>const accessSortingKey(object: Object): string {\n    const key = Object.keys(object)[0];\n    return key;\n} \n\nconst weirdArray = [\n    {\"Project Report\": {name: \"Project Report\", docType: \"Project\"}},\n    {\"Department Report\": {name: \"Department Report\", docType: \"Department\"}},\n    {\"Room Report\": {name: \"Room Report\", docType: \"Room\"}}\n];\n\nweirdArray.sort((a, b) =&gt; {\n   const aVal = accessSortingKey(a);\n   const bVal = accessSortingKey(b);\n\n   return aVal &gt; bVal ? 1 : aVal &lt; bVal ? -1 : 0;\n</code></pre>\n\n<p>});</p>\n"}], "owner": {"reputation": 115, "user_id": 8441040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USLkq.jpg?s=128&g=1", "display_name": "Willie", "link": "https://stackoverflow.com/users/8441040/willie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 56044655, "answer_count": 3, "score": 0, "last_activity_date": 1557331367, "creation_date": 1557330220, "last_edit_date": 1557330927, "question_id": 56044441, "link": "https://stackoverflow.com/questions/56044441/sorting-array-of-objects-by-object-name-typescript", "title": "Sorting Array of Objects by Object Name Typescript", "body": "<p>Using TypeScript, I am trying to sort an array of Objects by the name of the actual object, not an object key. A name key does exist on these objects as well that is the same name of the actual object. I am trying to see where I am going wrong with my logic here. I have attempted to sort by the name key of the object with no success.</p>\n\n<p>I have tried using the .sort() function in multiple ways.</p>\n\n<p>An example array is as follows:</p>\n\n<pre><code>templateReports = [\n\n{\"Project Report\": {name: \"Project Report\", docType: \"Project\"}},\n{\"Department Report\": {name: \"Department Report\", docType: \"Department\"}},\n{\"Room Report\": {name: \"Room Report\", docType: \"Room\"}}\n\n]\n\n</code></pre>\n\n<p>I have tried the following:</p>\n\n<pre><code>templateReports.sort((a,b) =&gt; (a.name &gt; b.name) ? 1 : ((b.name &gt; a.name) ? -1 : 0));\n</code></pre>\n\n<p>I understand this doesn't work because to call the first name key in the array, I could do something like:</p>\n\n<pre><code>console.log(templateReports[0][\"Project Report\"].name);\n</code></pre>\n\n<p>and that would get me the name value for the first object in the array. So I know I would have to modify how I'm using the source function to be something like:</p>\n\n<pre><code>templateReports.sort((a,b) =&gt; (a[nameOfObject].name &gt; b[nameOfNextObject].name) ? 1 : ((b[nameOfNextObject].name &gt; a[nameOfObject].name) ? -1 : 0));\n</code></pre>\n\n<p>I'm trying to get it to sort alphabetically to become:</p>\n\n<pre><code>templateReports = [\n\n{\"Department Report\": {name: \"Department Report\", docType: \"Department\"}},\n{\"Project Report\": {name: \"Project Report\", docType: \"Project\"}},\n{\"Room Report\": {name: \"Room Report\", docType: \"Room\"}}\n\n]\n</code></pre>\n\n<p>How do I either a) accomplish this using the sort method or b) do something to sort by the actual name of an object?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["reactjs", "typescript", "filepond"], "answers": [{"comments": [{"owner": {"reputation": 358, "user_id": 803297, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/06be8f5ec0188297a84fb25224cc5663?s=128&d=identicon&r=PG", "display_name": "lamont", "link": "https://stackoverflow.com/users/803297/lamont"}, "edited": false, "score": 2, "creation_date": 1557340904, "post_id": 56047087, "comment_id": 98735896, "body": "OK that makes sense, especially considering it looked like the first item was an empty object. It&#39;s definitely not clear that this is what&#39;s happening from what I&#39;ve seen in the docs, so maybe just updating those would save someone from confusion in the future? Thanks for replying."}, {"owner": {"reputation": 13950, "user_id": 1029088, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/deOKl.jpg?s=128&g=1", "display_name": "Bishan", "link": "https://stackoverflow.com/users/1029088/bishan"}, "edited": false, "score": 0, "creation_date": 1575874175, "post_id": 56047087, "comment_id": 104697997, "body": "Hi @Rik Is there any easier configuration for this issue?"}, {"owner": {"reputation": 469, "user_id": 2901184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rEknV.png?s=128&g=1", "display_name": "big data nerd", "link": "https://stackoverflow.com/users/2901184/big-data-nerd"}, "edited": false, "score": 1, "creation_date": 1583937275, "post_id": 56047087, "comment_id": 107280667, "body": "@Rik is there any update on this? Depending on the server side technology one is using, you might have to jump through hoops in order to get the second file (especially as they are using the same name in the transfer)."}, {"owner": {"reputation": 2372, "user_id": 1774081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3c93cbf28ac15eab9655246e5667965?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/1774081/rik"}, "reply_to_user": {"reputation": 469, "user_id": 2901184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rEknV.png?s=128&g=1", "display_name": "big data nerd", "link": "https://stackoverflow.com/users/2901184/big-data-nerd"}, "edited": false, "score": 0, "creation_date": 1584001180, "post_id": 56047087, "comment_id": 107302534, "body": "@bigdatanerd it&#39;s still the same, but you can use the process example in the server docs and all will work fine."}], "tags": [], "owner": {"reputation": 2372, "user_id": 1774081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3c93cbf28ac15eab9655246e5667965?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/1774081/rik"}, "is_accepted": true, "score": 4, "last_activity_date": 1557340615, "creation_date": 1557340615, "answer_id": 56047087, "question_id": 56044285, "link": "https://stackoverflow.com/questions/56044285/when-uploading-a-single-file-filepond-submits-an-empty-file-before-submitting-t/56047087#56047087", "title": "When uploading a single file, Filepond submits an empty file before submitting the &quot;real&quot; file", "body": "<p>FilePond's author here. FilePond sends two items for each file. The file itself and its metadata.</p>\n\n<p>The metadata part is the first one you're seeing. It can contain custom meta data, image crop information, etc. The second one is the file.</p>\n\n<p>I can understand that this might be confusing, I'm looking into making this optional/easier to configure. If you want to work around this you can set up a custom processing method, the <a href=\"https://pqina.nl/filepond/docs/patterns/api/server/#advanced\" rel=\"nofollow noreferrer\">process example in the server docs</a> should work out of the box.</p>\n"}], "owner": {"reputation": 358, "user_id": 803297, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/06be8f5ec0188297a84fb25224cc5663?s=128&d=identicon&r=PG", "display_name": "lamont", "link": "https://stackoverflow.com/users/803297/lamont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1737, "favorite_count": 0, "accepted_answer_id": 56047087, "answer_count": 1, "score": 3, "last_activity_date": 1557340615, "creation_date": 1557329652, "question_id": 56044285, "link": "https://stackoverflow.com/questions/56044285/when-uploading-a-single-file-filepond-submits-an-empty-file-before-submitting-t", "title": "When uploading a single file, Filepond submits an empty file before submitting the &quot;real&quot; file", "body": "<p>I'm trying to understand what Filepond is uploading to my server method and I've run across something really confusing. I'm only using the <code>process</code> server method and I'm testing with a single file at a time. Here's my Filepond definition (this is react with typescript)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;FilePond\n   ref={this.pond}\n   allowMultiple={true}\n   maxFiles={3}\n   instantUpload={false}\n   onupdatefiles={(files) =&gt; this.setState({files: files})}\n   files={this.state.files}\n\n   // @ts-ignore\n   server={{\n       process: this.getProcessUrl(),\n       revert: null,\n       fetch: null,\n       load: null,\n       restore: null,\n   }}/&gt;\n</code></pre>\n\n<p><code>files</code> is defined on the state object as <code>any[]</code>. We're manually triggering the upload by calling <code>processFiles()</code> via the element ref the component keeps around. <code>getProcessUrl</code> builds a <code>ServerUrl</code> for FilePond based on an id that's generated elsewhere on the page and gives it an auth header to pass. So essentially <code>server.process</code> winds up looking like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{ \n  url: \"http://server/api/1234/upload\",\n  method: \"POST\",\n  headers: {\"Authorization\": \"foo\"}\n}\n</code></pre>\n\n<p>When the upload is triggered with a single file added (via drag-and-drop if that matters, it occurs to me I haven't tested this with a browse) if I look at <code>state.files</code> there's one item in the array. However, what Filepond submits to my server looks like this:</p>\n\n<pre><code>------WebKitFormBoundary1YHKxKgBU2cvURKi\nContent-Disposition: form-data; name=\"filepond\"\n\n{}\n------WebKitFormBoundary1YHKxKgBU2cvURKi\nContent-Disposition: form-data; name=\"filepond\"; filename=\"test.csv\"\nContent-Type: text/csv\n\n\n------WebKitFormBoundary1YHKxKgBU2cvURKi--\n\n</code></pre>\n\n<p>Note the extra form-data with the name \"filepond\" that's being sent first.</p>\n\n<p>I've been looking at the documentation, and it's vague on what the actual post body is supposed to look like in this case short of telling me to expect multipart form-data, so I don't understand what I'm seeing. Is that additional piece of form data supposed to be there and my server code should just ignore it or what?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript", "protractor", "cucumber"], "comments": [{"owner": {"reputation": 1330, "user_id": 9858573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOrYz.jpg?s=128&g=1", "display_name": "Madhan", "link": "https://stackoverflow.com/users/9858573/madhan"}, "edited": false, "score": 0, "creation_date": 1557378497, "post_id": 56044035, "comment_id": 98745919, "body": "share the html of <code>el</code> and your implementation"}, {"owner": {"reputation": 131, "user_id": 2692790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d53078cdb17de3df83646bd30f10699?s=128&d=identicon&r=PG&f=1", "display_name": "Crama", "link": "https://stackoverflow.com/users/2692790/crama"}, "reply_to_user": {"reputation": 1330, "user_id": 9858573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOrYz.jpg?s=128&g=1", "display_name": "Madhan", "link": "https://stackoverflow.com/users/9858573/madhan"}, "edited": false, "score": 0, "creation_date": 1557394497, "post_id": 56044035, "comment_id": 98753505, "body": "I&#39;m happy to share html, but you can use any html to replicate this issue"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1557396734, "post_id": 56044035, "comment_id": 98754804, "body": "Is the popup one of the default browser alert windows or some customer popup you have created?"}, {"owner": {"reputation": 131, "user_id": 2692790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d53078cdb17de3df83646bd30f10699?s=128&d=identicon&r=PG&f=1", "display_name": "Crama", "link": "https://stackoverflow.com/users/2692790/crama"}, "edited": false, "score": 0, "creation_date": 1557408864, "post_id": 56044035, "comment_id": 98761559, "body": "custom popup which can be found with the selector:     <code>md-dialog[name=&#39;customActionDialog&#39;]</code>"}, {"owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "edited": false, "score": 0, "creation_date": 1557425731, "post_id": 56044035, "comment_id": 98770593, "body": "I highly recommend to start using <code>async&#47;await</code> keywords to make your code more readable and syntax would be much easier to solve this problem"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 2692790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d53078cdb17de3df83646bd30f10699?s=128&d=identicon&r=PG&f=1", "display_name": "Crama", "link": "https://stackoverflow.com/users/2692790/crama"}, "edited": false, "score": 0, "creation_date": 1557394423, "post_id": 56044734, "comment_id": 98753452, "body": "same happens with this code at line 1 &gt;&gt; isPresent() stops the test because of a timeout."}, {"owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "reply_to_user": {"reputation": 131, "user_id": 2692790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d53078cdb17de3df83646bd30f10699?s=128&d=identicon&r=PG&f=1", "display_name": "Crama", "link": "https://stackoverflow.com/users/2692790/crama"}, "edited": false, "score": 0, "creation_date": 1557425599, "post_id": 56044734, "comment_id": 98770527, "body": "@Crama what kind of timeout"}, {"owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "edited": false, "score": 0, "creation_date": 1557425811, "post_id": 56044734, "comment_id": 98770627, "body": "the above code should work. If it doesn&#39;t the problem is not in condition or likely in your framework set up or somewhere else in the spec"}], "tags": [], "owner": {"reputation": 187, "user_id": 8931968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f374c45b9ff941ce7e6bc19fe14d38?s=128&d=identicon&r=PG&f=1", "display_name": "tz0", "link": "https://stackoverflow.com/users/8931968/tz0"}, "is_accepted": false, "score": 0, "last_activity_date": 1557331144, "creation_date": 1557331144, "answer_id": 56044734, "question_id": 56044035, "link": "https://stackoverflow.com/questions/56044035/test-stops-with-conditional-action-on-element-isdisplayed-and-element-is-not-dis/56044734#56044734", "title": "Test stops with conditional action on element.isDisplayed and element is not displayed", "body": "<p>If the element is not present, you cannot check its visibility.\nYou could try:</p>\n\n<pre><code>     el.isPresent().then(isPresent =&gt; {\n        if (isPresent) {\n            el.isDisplayed().then(isDisplayed =&gt; {\n                if (isDisplayed) {\n                    cancel.click();\n                } else { // so you'll know that it had failed:\n                    expect(isDisplayed).toBeTruthy();\n                }\n                // the rest of the code\n            });\n        }\n        expect(isPresent).toBeTruthy(); // again, so you'll know that it had failed:\n        // the rest of the code\n    });\n</code></pre>\n\n<p>Now, I know this is not the most elegant of solutions, but it should work. Also, if there are more steps to be done after cancel that do not depend on it and you want the test to continue regardless of the popup's visibility, you could remove <code>expect</code>s, but that would mean test would pass even when popup does not appear and you'd have no way of knowing. </p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 2692790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d53078cdb17de3df83646bd30f10699?s=128&d=identicon&r=PG&f=1", "display_name": "Crama", "link": "https://stackoverflow.com/users/2692790/crama"}, "edited": false, "score": 0, "creation_date": 1557409306, "post_id": 56059752, "comment_id": 98761831, "body": "error:  Operator &#39;===&#39; cannot be applied to types &#39;Promise&lt;boolean&gt;&#39; and &#39;boolean&#39;."}, {"owner": {"reputation": 1330, "user_id": 9858573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOrYz.jpg?s=128&g=1", "display_name": "Madhan", "link": "https://stackoverflow.com/users/9858573/madhan"}, "reply_to_user": {"reputation": 131, "user_id": 2692790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d53078cdb17de3df83646bd30f10699?s=128&d=identicon&r=PG&f=1", "display_name": "Crama", "link": "https://stackoverflow.com/users/2692790/crama"}, "edited": false, "score": 0, "creation_date": 1557473593, "post_id": 56059752, "comment_id": 98784398, "body": "@Crama Do mark the answer correct if it really helped you. Thanks"}], "tags": [], "owner": {"reputation": 1330, "user_id": 9858573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOrYz.jpg?s=128&g=1", "display_name": "Madhan", "link": "https://stackoverflow.com/users/9858573/madhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557472198, "last_edit_date": 1557472198, "creation_date": 1557405876, "answer_id": 56059752, "question_id": 56044035, "link": "https://stackoverflow.com/questions/56044035/test-stops-with-conditional-action-on-element-isdisplayed-and-element-is-not-dis/56059752#56059752", "title": "Test stops with conditional action on element.isDisplayed and element is not displayed", "body": "<p>Try the below one</p>\n\n<pre><code>if(await el.isPresent() === true) {\n        // click cancel\n    }\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 2692790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d53078cdb17de3df83646bd30f10699?s=128&d=identicon&r=PG&f=1", "display_name": "Crama", "link": "https://stackoverflow.com/users/2692790/crama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557472198, "creation_date": 1557328835, "last_edit_date": 1557411561, "question_id": 56044035, "link": "https://stackoverflow.com/questions/56044035/test-stops-with-conditional-action-on-element-isdisplayed-and-element-is-not-dis", "title": "Test stops with conditional action on element.isDisplayed and element is not displayed", "body": "<p>In my test I have a condition to check if a popup is displayed. If so, the cancel button is clicked. But if the popup is not shown the test stops with the error: \nNoSuchElementError: No element found using locator (<em>locator of popup</em>)</p>\n\n<p>I found an old post with the same problem:\n<a href=\"https://stackoverflow.com/questions/27947094/how-to-create-a-condition-in-protractor-for-when-an-element-exists-or-not\">How to create a condition in protractor for when an element exists or not</a></p>\n\n<p>but the solutions mentioned did not work for me.</p>\n\n<p>isDisplayed() gives: NoSuchElementError</p>\n\n<p>elementPresent() gives: timeout</p>\n\n<p>my code:</p>\n\n<pre><code>el.isDisplayed().then((result) =&gt; {\n                if (result) {\n                    // click cancel\n                }\n            });\n</code></pre>\n\n<p>I expect the test to continue when the popup is not displayed.\nBut, if the popup is not displayed then I get an error or timeout.</p>\n"}, {"tags": ["typescript", "interface"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1557329297, "post_id": 56043986, "comment_id": 98730354, "body": "<code>patch(item, 7, false); &#47;&#47; no error \ud83d\ude15</code>"}, {"owner": {"reputation": 5903, "user_id": 1803156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KrAhH.png?s=128&g=1", "display_name": "Jeffrey Roosendaal", "link": "https://stackoverflow.com/users/1803156/jeffrey-roosendaal"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557329550, "post_id": 56043986, "comment_id": 98730499, "body": "@jcalz Ah you&#39;re right! <code>keyof</code> doesn&#39;t work at all. It just didn&#39;t give a compile error. I&#39;ll remove it from the question."}], "answers": [{"comments": [{"owner": {"reputation": 5903, "user_id": 1803156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KrAhH.png?s=128&g=1", "display_name": "Jeffrey Roosendaal", "link": "https://stackoverflow.com/users/1803156/jeffrey-roosendaal"}, "edited": false, "score": 0, "creation_date": 1557329880, "post_id": 56044294, "comment_id": 98730684, "body": "Very nice, just tested it, and now it only accepts known keys. Also thanks for the second one, Definitely comes in handy for my generic Store class. Great, thanks!"}, {"owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "reply_to_user": {"reputation": 5903, "user_id": 1803156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KrAhH.png?s=128&g=1", "display_name": "Jeffrey Roosendaal", "link": "https://stackoverflow.com/users/1803156/jeffrey-roosendaal"}, "edited": false, "score": 0, "creation_date": 1557330013, "post_id": 56044294, "comment_id": 98730742, "body": "@JeffreyRoosendaal no worries! updated it with a non-item specific version too"}, {"owner": {"reputation": 5903, "user_id": 1803156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KrAhH.png?s=128&g=1", "display_name": "Jeffrey Roosendaal", "link": "https://stackoverflow.com/users/1803156/jeffrey-roosendaal"}, "edited": false, "score": 0, "creation_date": 1557330312, "post_id": 56044294, "comment_id": 98730912, "body": "I hope you don&#39;t mind I choose the other answer as the accepted one, even though you were first!"}], "tags": [], "owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "is_accepted": false, "score": 2, "last_activity_date": 1557329913, "last_edit_date": 1557329913, "creation_date": 1557329715, "answer_id": 56044294, "question_id": 56043986, "link": "https://stackoverflow.com/questions/56043986/how-to-set-an-interface-on-an-existing-but-currently-unknown-key-value-pair/56044294#56044294", "title": "How to set an interface on an existing, but currently unknown, key/value pair?", "body": "<p>Since the value type <strong>depends</strong> on the key passed, you should use a generic type parameter. </p>\n\n<ul>\n<li>We can define Key as extending keyof Item (this means Key is assignable to the type keyof Item)</li>\n<li>Then use Key to index the item type for the value (Item[Key]).</li>\n</ul>\n\n<p>Result:</p>\n\n<pre><code>function patch&lt;Key extends keyof Item&gt;(item: Item, key: Key, value: Item[Key]): Item {\n    return {\n        ...item,\n        [key]: value\n    };\n}\n</code></pre>\n\n<p>You could go one step of abstraction further. It's not important that this function is aware of the type of item:</p>\n\n<pre><code>function patch&lt;TItem, TKey extends keyof TItem&gt;(item: TItem, key: Key, value: TItem[Key]): TItem {\n    return {\n        ...item,\n        [key]: value\n    };\n}\n</code></pre>\n\n<p>Now with any item you pass, you can patch a value</p>\n"}, {"comments": [{"owner": {"reputation": 5903, "user_id": 1803156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KrAhH.png?s=128&g=1", "display_name": "Jeffrey Roosendaal", "link": "https://stackoverflow.com/users/1803156/jeffrey-roosendaal"}, "edited": false, "score": 0, "creation_date": 1557330433, "post_id": 56044406, "comment_id": 98730976, "body": "Thanks! Definately helpfull. I appreciate the extra context and links too."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1557332314, "last_edit_date": 1557332314, "creation_date": 1557330071, "answer_id": 56044406, "question_id": 56043986, "link": "https://stackoverflow.com/questions/56043986/how-to-set-an-interface-on-an-existing-but-currently-unknown-key-value-pair/56044406#56044406", "title": "How to set an interface on an existing, but currently unknown, key/value pair?", "body": "<p>Your original code will allow the unfortunate calling of <code>patch</code> like</p>\n\n<pre><code>declare const item: Item;\npatch(item, 7, false); // no error \ud83d\ude15\n</code></pre>\n\n<p>despite the fact that <code>7</code> is not a valid property key of <code>Item</code>, and <code>false</code> is not a valid property value for that or any key of <code>Item</code>.</p>\n\n<hr>\n\n<p>Let's examine your particular <code>Item</code> interface and see what <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\"><code>keyof</code> and lookup types</a> do to it.</p>\n\n<p>The <code>keyof</code> type operator takes an object type and returns the type of its keys.  If the object doesn't have an <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"nofollow noreferrer\">index signature</a>, that type should be the union of <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#string-literal-types\" rel=\"nofollow noreferrer\">literal types</a> corresponding to its known-valid keys:</p>\n\n<pre><code>type KeysOfItem = keyof Item\n// type KeysOfItem = \"_id\" | \"name\" | \"amount\" | \"type\" | \"value\"\n</code></pre>\n\n<p>So you want the <code>key</code> parameter to be one of those.  Now, let's say you have a valid key like <code>\"amount\"</code>. Then you can look up the property type for that key like this:</p>\n\n<pre><code>type ItemAmount = Item[\"amount\"];\n// type ItemAmount = number\n</code></pre>\n\n<p>So for whatever the type <code>K</code> the <code>key</code> parameter is, you want the <code>value</code> parameter to be <code>Item[K]</code>.</p>\n\n<hr>\n\n<p>So a first shot at your function type could be something like this:</p>\n\n<pre><code>function patch(item: Item, key: keyof Item, value: Item[keyof Item]): Item {\n    return {\n        ...item,\n        [key]: value\n    };\n}\n\ndeclare const item: Item;\npatch(item, 7, false); // error! 7 is not a key, false is not a value\n</code></pre>\n\n<p>That's better, but:</p>\n\n<pre><code>patch(item, \"name\", 14); // no error \ud83d\ude15\n</code></pre>\n\n<p>The problem is that there is no correlation between the particular <code>key</code> you used and the <code>value</code> you passed.  Since <code>\"name\"</code> is <em>some</em> key, and <code>number</code> is <em>some</em> acceptable value (for <code>\"amount\"</code>), then it doesn't error.</p>\n\n<p>The way to fix this is to make <code>key</code> a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> type <code>K</code> that can be <em>more specific than</em> (or \"extend\") <code>keyof Item</code> and then constrain <code>value</code> to type <code>Item[K]</code>:</p>\n\n<pre><code>function patch&lt;K extends keyof Item&gt;(item: Item, key: K, value: Item[K]): Item {\n    return {\n        ...item,\n        [key]: value\n    };\n}\n\ndeclare const item: Item;\npatch(item, 7, false); // error! 7 is not a key, false is not a value\npatch(item, \"name\", 14); // error! 14 is not a string\npatch(item, \"name\", \"okay\"); // works\npatch(item, \"amount\", 14); // okay\n</code></pre>\n\n<p>So that is what I'd suggest. Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 5903, "user_id": 1803156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KrAhH.png?s=128&g=1", "display_name": "Jeffrey Roosendaal", "link": "https://stackoverflow.com/users/1803156/jeffrey-roosendaal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56044406, "answer_count": 2, "score": 0, "last_activity_date": 1557725141, "creation_date": 1557328655, "last_edit_date": 1557725141, "question_id": 56043986, "link": "https://stackoverflow.com/questions/56043986/how-to-set-an-interface-on-an-existing-but-currently-unknown-key-value-pair", "title": "How to set an interface on an existing, but currently unknown, key/value pair?", "body": "<p>I have the following interface:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Item {\n    _id: string;\n    name: string;\n    amount: number;\n    type: 'a' | 'b' | 'c';\n    value: string;\n}\n</code></pre>\n\n<p>Now I want to create a generic method for updating <em>one</em> of the values, which can be <em>any of the five</em>. </p>\n\n<p>Simplified, the function looks like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>patch(item: Item, key: any, value: any): Item {\n    return {\n        ...item,\n        [key]: value\n    };\n}\n</code></pre>\n\n<hr>\n\n<ul>\n<li>What to use for the <code>key</code>? </li>\n<li>What to use for the <code>value</code>?</li>\n</ul>\n"}, {"tags": ["android", "ios", "angular", "typescript", "nativescript"], "comments": [{"owner": {"reputation": 1164, "user_id": 3157899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f590cb295c3083b8a119f61aa73c201?s=128&d=identicon&r=PG", "display_name": "Naxos84", "link": "https://stackoverflow.com/users/3157899/naxos84"}, "edited": false, "score": 0, "creation_date": 1557395510, "post_id": 56043761, "comment_id": 98754097, "body": "Please show a little bit more effort. What have you done/tried? What exact error do you get? How does your code/html/xml look like?"}, {"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "reply_to_user": {"reputation": 1164, "user_id": 3157899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f590cb295c3083b8a119f61aa73c201?s=128&d=identicon&r=PG", "display_name": "Naxos84", "link": "https://stackoverflow.com/users/3157899/naxos84"}, "edited": false, "score": 0, "creation_date": 1557475611, "post_id": 56043761, "comment_id": 98785276, "body": "I modified the question with more information and a Playground."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557387255, "post_id": 56044426, "comment_id": 98749416, "body": "I have a form tha has more than one TextField. I add <code>&lt;StackLayout class=&quot;form&quot; (tap)=&quot;dismissKeyboard()&quot;&gt;</code> in my .html file and in my .ts file I have a function called <code>dismissKeyboard()</code> that has the code you suggested but it gives 2 errors. the first one is <code>error TS2304: Cannot find name &#39;UIApplication&#39;</code> and the second one is <code>ERROR TypeError: _co.dismissKeyboard is not a function</code>. How can I solve?"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "reply_to_user": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557426574, "post_id": 56044426, "comment_id": 98770972, "body": "The first one sounds like a simple TypeScript error, either do <code>declare var UIApplication: any;</code> at top of your file Or install <a href=\"https://www.npmjs.com/package/tns-platform-declarations\" rel=\"nofollow noreferrer\">tns-platform-declarations</a> plugin. Check yourself whether you have a method dismissKeyboard visible to the HTML component. If you still have issues, please share the Playground sample."}, {"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557475240, "post_id": 56044426, "comment_id": 98785118, "body": "I solved this error <code>ERROR TypeError: _co.dismissKeyboard is not a function</code>, but I have another one. This is the <a href=\"https://play.nativescript.org/?template=play-ng&amp;id=mRwOuh\" rel=\"nofollow noreferrer\">Playground</a>. It gives error with UIApplication"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "reply_to_user": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557490491, "post_id": 56044426, "comment_id": 98792904, "body": "As I already mentioned in my above comment, <code>UIApplication</code> can be solved by a TS declaration. It&#39;s global class not member of your component. Also you should conditionally use the code on respective platform, updated <a href=\"https://play.nativescript.org/?template=play-ng&amp;id=mRwOuh&amp;v=3\" rel=\"nofollow noreferrer\">Playground</a>"}, {"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557491873, "post_id": 56044426, "comment_id": 98793646, "body": "Sorry I didn&#39;t understand before. Thank you, now it works!"}, {"owner": {"reputation": 602, "user_id": 9967934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2219a8533eac5960706ea6451261a95e?s=128&d=identicon&r=PG&f=1", "display_name": "lolelo", "link": "https://stackoverflow.com/users/9967934/lolelo"}, "edited": false, "score": 0, "creation_date": 1571054223, "post_id": 56044426, "comment_id": 103101390, "body": "The tap event handler attached to the layout is firing when tapping the textfield:/"}], "tags": [], "owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "is_accepted": true, "score": 1, "last_activity_date": 1587073467, "last_edit_date": 1587073467, "creation_date": 1557330147, "answer_id": 56044426, "question_id": 56043761, "link": "https://stackoverflow.com/questions/56043761/how-to-hide-keyboard-after-touch-outside-the-textfield/56044426#56044426", "title": "How to hide keyboard after touch outside the textfield?", "body": "<p>Add a <code>tap</code> listener to your layout and hide keyboard using</p>\n\n<p><strong>iOS</strong></p>\n\n<pre><code>import * as utils from \"tns-core-modules/utils/utils\";\n\nUIApplication.sharedApplication\n        .keyWindow\n        .endEditing(true);\n</code></pre>\n\n<p><strong>Android</strong></p>\n\n<pre><code>utils.ad.dismissSoftInput();\n</code></pre>\n\n<p><strong>Edit</strong> </p>\n\n<p>You may simply call <code>dismissSoftInput()</code> method on the <code>TextField</code> if it's just one <code>TextField</code> in your <code>Page</code>. The above code helps if you have multiple <code>TextField</code>s on your <code>Page</code> and not sure which one is actually focused.</p>\n\n<p><a href=\"https://play.nativescript.org/?template=play-ng&amp;id=mRwOuh&amp;v=4\" rel=\"nofollow noreferrer\">Playground Sample</a></p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557388905, "post_id": 56045943, "comment_id": 98750303, "body": "Thank you, but it&#39;s not my case. I have a nativescript app"}, {"owner": {"reputation": 1, "user_id": 10684959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecb99bb47a483c142d0aa38aeaca52e7?s=128&d=identicon&r=PG&f=1", "display_name": "TVulpes", "link": "https://stackoverflow.com/users/10684959/tvulpes"}, "reply_to_user": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557393959, "post_id": 56045943, "comment_id": 98753154, "body": "You have Android tagged in the question though?"}, {"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557395311, "post_id": 56045943, "comment_id": 98753976, "body": "Yes, but I need this feature for both android and ios"}], "tags": [], "owner": {"reputation": 1, "user_id": 10684959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecb99bb47a483c142d0aa38aeaca52e7?s=128&d=identicon&r=PG&f=1", "display_name": "TVulpes", "link": "https://stackoverflow.com/users/10684959/tvulpes"}, "is_accepted": false, "score": 0, "last_activity_date": 1557389688, "last_edit_date": 1557389688, "creation_date": 1557335749, "answer_id": 56045943, "question_id": 56043761, "link": "https://stackoverflow.com/questions/56043761/how-to-hide-keyboard-after-touch-outside-the-textfield/56045943#56045943", "title": "How to hide keyboard after touch outside the textfield?", "body": "<p>Kotlin: </p>\n\n<pre><code>yourTextView.onFocusChangeListener = View.OnFocusChangeListener { v, hasFocus -&gt; if (!hasFocus) {\n //hide Keyboard\n  }\n}\n</code></pre>\n\n<p>Also make add to the parent layout 'focusableInTouchMode = true'  in the XML</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557386431, "post_id": 56052912, "comment_id": 98749027, "body": "Thank you, but it&#39;s not my case. I have a nativescript app."}, {"owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "reply_to_user": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557386636, "post_id": 56052912, "comment_id": 98749125, "body": "Then you specified in your question!"}, {"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557387577, "post_id": 56052912, "comment_id": 98749592, "body": "Sorry! I modified the question."}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "reply_to_user": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557492007, "post_id": 56052912, "comment_id": 98793733, "body": "@gsarme FYI, <code>utils.ad.dismissSoftInput();</code> does nothing but executes the same code as above internally, You can always access any native apis from NativeScript but with JavaScript syntax."}, {"owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "edited": false, "score": 0, "creation_date": 1557496430, "post_id": 56052912, "comment_id": 98796170, "body": "Ok, I didn&#39;t know"}], "tags": [], "owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1557380694, "creation_date": 1557380694, "answer_id": 56052912, "question_id": 56043761, "link": "https://stackoverflow.com/questions/56043761/how-to-hide-keyboard-after-touch-outside-the-textfield/56052912#56052912", "title": "How to hide keyboard after touch outside the textfield?", "body": "<p>In <code>Android</code> hide keyboard with:</p>\n\n<pre><code>public void hideSoftKeyboard(Activity mActivity) {\n    InputMethodManager inputManager = (InputMethodManager) mActivity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    inputManager.hideSoftInputFromWindow(mActivity.getCurrentFocus().getWindowToken(), 0);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 6391238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6365b247e3af099d653790bf31a65156?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler V", "link": "https://stackoverflow.com/users/6391238/tyler-v"}, "is_accepted": false, "score": 4, "last_activity_date": 1580832414, "creation_date": 1580832414, "answer_id": 60061308, "question_id": 56043761, "link": "https://stackoverflow.com/questions/56043761/how-to-hide-keyboard-after-touch-outside-the-textfield/60061308#60061308", "title": "How to hide keyboard after touch outside the textfield?", "body": "<p>The correct way to hide the keyboard in the latest version of NS 6.0+ is to directly access the context.</p>\n\n<pre><code>import { isIOS, isAndroid } from 'tns-core-modules/platform';\nimport * as utils from 'tns-core-modules/utils/utils';\ndeclare const UIApplication;\n\n  dismissKeyboard() {\n    if (isIOS) {\n      UIApplication.sharedApplication.keyWindow.endEditing(true);\n    }\n    if (isAndroid) {\n      utils.ad.dismissSoftInput();\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 8893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b73acaef2d9cb9645f111b3c572ce12?s=128&d=identicon&r=PG&f=1", "display_name": "gsarme", "link": "https://stackoverflow.com/users/8893480/gsarme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1658, "favorite_count": 0, "accepted_answer_id": 56044426, "answer_count": 4, "score": 1, "last_activity_date": 1587073467, "creation_date": 1557327998, "last_edit_date": 1557475583, "question_id": 56043761, "link": "https://stackoverflow.com/questions/56043761/how-to-hide-keyboard-after-touch-outside-the-textfield", "title": "How to hide keyboard after touch outside the textfield?", "body": "<p>I have a cross-platform app. I have a form that has more than one TextField. I want to hide the keyboard when the user touch outside of the textfield because it covers the button that sends the data.</p>\n\n<p>How can I do?</p>\n\n<p>In my .html file I have:</p>\n\n<pre><code>&lt;ScrollView&gt;\n  &lt;GridLayout ios:style=\"margin-top:50\"&gt;\n    &lt;StackLayout class=\"form\"&gt;\n\n      &lt;!-- Some TextView --&gt;\n\n    &lt;/StackLayout&gt;\n  &lt;/GridLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is a <a href=\"https://play.nativescript.org/?template=play-ng&amp;id=mRwOuh\" rel=\"nofollow noreferrer\">Playground</a> that show the error.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 999, "user_id": 9840834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Flyii", "link": "https://stackoverflow.com/users/9840834/flyii"}, "is_accepted": true, "score": 1, "last_activity_date": 1557328148, "creation_date": 1557328148, "answer_id": 56043813, "question_id": 56043759, "link": "https://stackoverflow.com/questions/56043759/how-to-use-super-class-while-extending-it-from-an-abstract-class/56043813#56043813", "title": "How to use SUPER class while extending it from an Abstract class", "body": "<p>your AbstactType needs 4 parameters so you need to call super with those 4 parameters</p>\n\n<pre><code>export abstract class SubAbstractType extends AbstractType{\n    constructor(\n          abc: abc,\n          def: def,\n          ghi: ghi,\n          jkl: jkl\n          protected readonly mno: mno,\n          protected readonly pqr: pqr) {}\n    super(abc, def, ghi, jkl);\n    }\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 7055311, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9ddc5dff146fac30860599c4af95a6c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/7055311/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56043813, "answer_count": 1, "score": -1, "last_activity_date": 1557328254, "creation_date": 1557327989, "last_edit_date": 1557328254, "question_id": 56043759, "link": "https://stackoverflow.com/questions/56043759/how-to-use-super-class-while-extending-it-from-an-abstract-class", "title": "How to use SUPER class while extending it from an Abstract class", "body": "<p>I have an abstract class which has 4 arguments in its own constructor:</p>\n\n<pre><code>export abstract class AbstractType implements OnInit, Destroy{\nconstructor(\n      protected readonly abc: abc,\n      protected readonly def: def,\n      protected readonly ghi: ghi,\n      protected readonly jkl: jkl) {}\n\n}\n</code></pre>\n\n<p>I am adding a subclass which extends the above abstract class and also have two new arguments in this subclass:</p>\n\n<pre><code>export abstract class SubAbstractType extends AbstractType{\n    constructor(\n          protected readonly mno: mno,\n          protected readonly pqr: pqr) {}\n    super(mno, pqr);\n    }\n</code></pre>\n\n<p>I have an error here on Super Class which says </p>\n\n<blockquote>\n  <p>expected 4 arguments, but got 2</p>\n</blockquote>\n\n<p>can someone help me solve this and explain it please. Thank you.</p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1557329036, "post_id": 56044059, "comment_id": 98730211, "body": "Great minds think alike :) I&#39;m gonna leave my answer as I think the <code>Type</code> version might have some uses, and yours has function returning constructor approach which is also nice"}, {"owner": {"reputation": 110, "user_id": 5056421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22f136742a26076557eb2fd6ece9c0e7?s=128&d=identicon&r=PG", "display_name": "Krzyrok", "link": "https://stackoverflow.com/users/5056421/krzyrok"}, "edited": false, "score": 0, "creation_date": 1557407599, "post_id": 56044059, "comment_id": 98760807, "body": "Both answers (<a href=\"https://stackoverflow.com/a/56044068/5056421\">2nd answer</a>) are great (and suggestion with <code>Type</code> usage to remove <code>null casting</code>! I used <code>curried helper function</code> from @jcalz because I needed constructor itself (not an instance). Thanks a lot - everything works like a charm :)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1557328902, "creation_date": 1557328902, "answer_id": 56044059, "question_id": 56043642, "link": "https://stackoverflow.com/questions/56043642/can-i-use-type-as-value-or-correctly-infer-generic-class-type-from-constructor/56044059#56044059", "title": "Can I use type as value (or correctly infer generic class type from constructor parameter)?", "body": "<p>The problem is that you want to manually specify one type parameter and have the compiler infer the other one.  That's called <a href=\"https://github.com/Microsoft/TypeScript/issues/26242\" rel=\"nofollow noreferrer\">partial type argument inference</a> and TypeScript doesn't have it (as of TS3.4). You can either manually specify all type parameters (which you don't want to do), or have all type parameters inferred by the compiler (which you can't do because there's nothing from which you can infer the specified type).</p>\n\n<p>There are two main workarounds for this situation:</p>\n\n<p>The first is to rely entirely on type inference and use a <em>dummy parameter</em> to infer the type you would normally specify.  For example:</p>\n\n<pre><code>class GenericCLass&lt;T, K extends keyof T&gt; {\n    keyNameFromAnotherType: K; \n\n    // add dummy parameter\n    constructor(dummy: T, keyNameFromAnotherType: K) {\n        this.keyNameFromAnotherType = keyNameFromAnotherType;\n    }\n}\n\nconst test = new GenericCLass(null! as InterfaceWithProperties, 'stringProperty');\n// inferred as GenericCLass&lt;InterfaceWithProperties, \"stringProperty\"&gt;\n</code></pre>\n\n<p>You can see that the value passed in as the first parameter is just <code>null</code> at runtime, and the constructor doesn't look at it at runtime anyway.  But the type system has been told that is is of type <code>InterfaceWithProperties</code>, which is enough for the type to be inferred the way you want.</p>\n\n<p>The other workaround is to break up anything that would normally use partial inference into two pieces via <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"nofollow noreferrer\">currying</a>; the first generic function will let you specify one parameter, and it returns a generic function (or a generic constructor in this case) that infers the other parameter.  For example</p>\n\n<pre><code>// unchanged\nclass GenericCLass&lt;T, K extends keyof T&gt; {\n    keyNameFromAnotherType: K;\n\n    constructor(keyNameFromAnotherType: K) {\n        this.keyNameFromAnotherType = keyNameFromAnotherType;\n    }\n}\n\n// curried helper function\nconst genericClassMaker =\n    &lt;T&gt;(): (new &lt;K extends keyof T&gt;(\n        keyNameFromAnotherType: K\n    ) =&gt; GenericCLass&lt;T, K&gt;) =&gt;\n        GenericCLass;\n\n// specify the one param\nconst InterfaceWithPropertiesGenericClass =\n    genericClassMaker&lt;InterfaceWithProperties&gt;();\n\n// infer the other param\nconst test = new InterfaceWithPropertiesGenericClass('stringProperty');\n// inferred as GenericCLass&lt;InterfaceWithProperties, \"stringProperty\"&gt;\n</code></pre>\n\n<p>That leaves your class definition alone but creates a new helper function which returns a partially specified version of the <code>GenericClass</code> constructor for you to use.  You can do it in one shot but it's ugly:</p>\n\n<pre><code>const test = new (genericClassMaker&lt;InterfaceWithProperties&gt;())('stringProperty');\n// inferred as GenericCLass&lt;InterfaceWithProperties, \"stringProperty\"&gt;\n</code></pre>\n\n<p>Anyway, hope one of those works for you.  Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1557328919, "creation_date": 1557328919, "answer_id": 56044068, "question_id": 56043642, "link": "https://stackoverflow.com/questions/56043642/can-i-use-type-as-value-or-correctly-infer-generic-class-type-from-constructor/56044068#56044068", "title": "Can I use type as value (or correctly infer generic class type from constructor parameter)?", "body": "<p>The bad new is you can't do this easily. The best way to do it would to let the compiler infer <code>ExactKey</code> based on constructor args. This can be done only if we let typescript infer all type parameters. But you need to specify one type parameter and infer the other and this is not possible as there is no support for partial inference (at least as of 3.5, there was a plan to add it, but it was pushed back, and then removed from the roadmap). </p>\n\n<p>One option would be to use function currying with a static function instead of the constructor: </p>\n\n<pre><code>interface InterfaceWithProperties {\n    stringProperty: string;\n    numberProperty: number;\n}\n\nclass GenericCLass&lt;TypeWithKeys, ExactKey extends keyof TypeWithKeys&gt; {\n    keyNameFromAnotherType: ExactKey; \n    private constructor(keyNameFromAnotherType: ExactKey) {\n        this.keyNameFromAnotherType = keyNameFromAnotherType;\n    }\n    static new&lt;T&gt;(){\n        return function &lt;ExactKey extends keyof T&gt;(keyNameFromAnotherType: ExactKey) {\n            return new GenericCLass&lt;T, ExactKey&gt;(keyNameFromAnotherType);\n        }         \n    } \n}\n\n\nconst test1 = GenericCLass.new&lt;InterfaceWithProperties&gt;()('stringProperty')\n</code></pre>\n\n<p>Another option would be to give the compiler an inference site for <code>TypeWithKeys</code> in the constructor args:</p>\n\n<pre><code>interface InterfaceWithProperties {\n    stringProperty: string;\n    numberProperty: number;\n}\n\nclass GenericCLass&lt;TypeWithKeys, ExactKey extends keyof TypeWithKeys&gt; {\n    keyNameFromAnotherType: ExactKey; \n    constructor(t: TypeWithKeys, keyNameFromAnotherType: ExactKey) {\n        this.keyNameFromAnotherType = keyNameFromAnotherType;\n    }\n}\n\n\nconst test1 = new GenericCLass(null as InterfaceWithProperties, 'stringProperty')\n</code></pre>\n\n<p>Or if <code>null as InterfaceWithProperties</code> scares you, you could use a <code>Type</code> class: </p>\n\n<pre><code>class Type&lt;T&gt; { private t:T }\nclass GenericCLass&lt;TypeWithKeys, ExactKey extends keyof TypeWithKeys&gt; {\n    keyNameFromAnotherType: ExactKey; \n    constructor(t: Type&lt;TypeWithKeys&gt;, keyNameFromAnotherType: ExactKey) {\n        this.keyNameFromAnotherType = keyNameFromAnotherType;\n    }\n}\n\n\nconst test1 = new GenericCLass(new Type&lt;InterfaceWithProperties&gt;(), 'stringProperty')\n</code></pre>\n\n<p>Neither solution is great, neither is particularly intuitive, <a href=\"https://github.com/microsoft/TypeScript/pull/26349\" rel=\"nofollow noreferrer\">partial argument inference </a> would be the best solution.</p>\n"}], "owner": {"reputation": 110, "user_id": 5056421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22f136742a26076557eb2fd6ece9c0e7?s=128&d=identicon&r=PG", "display_name": "Krzyrok", "link": "https://stackoverflow.com/users/5056421/krzyrok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 974, "favorite_count": 0, "accepted_answer_id": 56044059, "answer_count": 2, "score": 1, "last_activity_date": 1557328957, "creation_date": 1557327612, "last_edit_date": 1557328957, "question_id": 56043642, "link": "https://stackoverflow.com/questions/56043642/can-i-use-type-as-value-or-correctly-infer-generic-class-type-from-constructor", "title": "Can I use type as value (or correctly infer generic class type from constructor parameter)?", "body": "<p>I have generic class which accepts another type and the key name from this type. I want to also initialise property with this key name. I've defined this in TS but I have to explicitly pass the name of the key as generic param and the same same value to constructor. It looks a little unnecessary - these values are always the same (type and value). </p>\n\n<p>Is it possible to infer type for generic class from its constructor parameter? Or use generic \"type\" as \"value\" (probably not - I've got error: <code>'ValueKey' only refers to a type, but is being used as a value here.ts(2693)</code>).</p>\n\n<p>Code with definition:</p>\n\n<pre><code>interface InterfaceWithProperties {\n    stringProperty: string;\n    numberProperty: number;\n}\n\nclass GenericCLass&lt;TypeWithKeys, ExactKey extends keyof TypeWithKeys&gt; {\n    keyNameFromAnotherType: ExactKey; // this property should have value equal to key from another type;\n\n    // is it a way to remove this parameter? it's exactly duplicated with ExactKey\n    // or to detect correctly ExactKey type based on `property` value\n    constructor(keyNameFromAnotherType: ExactKey) {\n        // this.property = ExactKey; // ofc: not working code\n        this.keyNameFromAnotherType = keyNameFromAnotherType;\n    }\n}\n</code></pre>\n\n<p>current usage:</p>\n\n<pre><code>const test1 = new GenericCLass&lt;InterfaceWithProperties, 'stringProperty'&gt;('stringProperty');\n</code></pre>\n\n<p>I want the same result but without this extra parameter. Something like this:</p>\n\n<pre><code>const test2 = new GenericCLass&lt;InterfaceWithProperties, 'stringProperty'&gt;();\n</code></pre>\n\n<p>or smth like this:</p>\n\n<pre><code>const test3 = new GenericCLass&lt;InterfaceWithProperties&gt;('stringProperty');\n</code></pre>\n\n<p>TS playground with this code: <a href=\"https://www.typescriptlang.org/play/#src=interface%20InterfaceWithProperties%20%7B%0A%20%20%20%20stringProperty%3A%20string%3B%0A%20%20%20%20numberProperty%3A%20number%3B%0A%7D%0A%0Aclass%20GenericCLass%3CTypeWithKeys%2C%20ExactKey%20extends%20keyof%20TypeWithKeys%3E%20%7B%0A%20%20%20%20keyNameFromAnotherType%3A%20ExactKey%3B%20%2F%2F%20this%20property%20should%20have%20value%20equal%20to%20key%20from%20another%20type%3B%0A%0A%20%20%20%20%2F%2F%20is%20it%20a%20way%20to%20remove%20this%20parameter%3F%20it%27s%20exactly%20duplicated%20with%20ExactKey%0A%20%20%20%20%2F%2F%20or%20to%20detect%20correctly%20ExactKey%20type%20based%20on%20%60property%60%20value%20and%20use%20default%20generic%20type%3F%0A%20%20%20%20constructor%28keyNameFromAnotherType%3A%20ExactKey%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20this.property%20%3D%20ExactKey%3B%20%2F%2F%20ofc%3A%20not%20working%20code%0A%20%20%20%20%20%20%20%20this.keyNameFromAnotherType%20%3D%20keyNameFromAnotherType%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%0A%2F%2F%20USAGE%20%0Aconst%20test1%20%3D%20new%20GenericCLass%3CInterfaceWithProperties%2C%20%27stringProperty%27%3E%28%27stringProperty%27%29%3B%0A%0A%2F%2F%20I%20want%20the%20same%20result%20but%20without%20this%20extra%20parameter.%20Smth%20like%20this%3A%0A%2F%2F%20const%20test2%20%3D%20new%20GenericCLass%3CInterfaceWithProperties%2C%20%27stringProperty%27%3E%28%29%3B%0A%2F%2F%20or%20smth%20like%20this%3A%0A%2F%2F%20const%20test3%20%3D%20new%20GenericCLass%3CInterfaceWithProperties%3E%28%27stringProperty%27%29%3B%0A%0A%2F%2F%20test3.keyNameFromAnotherType\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 3, "creation_date": 1557327779, "post_id": 56043639, "comment_id": 98729414, "body": "<code>if (jobEnd &lt; myMonthly &amp;&amp; myMonthly &lt; jobStart)</code>"}, {"owner": {"reputation": 216, "user_id": 10782560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWgkp_-XQcg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iWwyXgmqvBJutXuDduDIz0VeaMRw/mo/photo.jpg?sz=128", "display_name": "Devla", "link": "https://stackoverflow.com/users/10782560/devla"}, "reply_to_user": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1557327847, "post_id": 56043639, "comment_id": 98729450, "body": "Yep this helped. Will wait for the explanation why this works and that didn&#39;t."}, {"owner": {"reputation": 718999, "user_id": 5445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932fb89b9d4049cec5cba357bf0ae388?s=128&d=identicon&r=PG", "display_name": "Christian C. Salvad&#243;", "link": "https://stackoverflow.com/users/5445/christian-c-salvad%c3%b3"}, "edited": false, "score": 1, "creation_date": 1557328024, "post_id": 56043639, "comment_id": 98729547, "body": "The <code>&lt;</code> operator is binary, has two operands, the problem is that the expression is parsed as: <code>(jobEnd &lt; myMonthly) &lt; jobStart</code>, the first operand <code>(jobEnd &lt; myMonthly)</code> results in a boolean value, and the subsequent operator gets a boolean and a number. Check the <a href=\"https://astexplorer.net/#/gist/0fb4ba4b7d2573dfcfc2e77b381d7eda/16afc30310b053c9f347c6d7778197ed90a4dc5e\" rel=\"nofollow noreferrer\">AST</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "is_accepted": false, "score": 0, "last_activity_date": 1557327864, "creation_date": 1557327864, "answer_id": 56043717, "question_id": 56043639, "link": "https://stackoverflow.com/questions/56043639/operator-cannot-be-applied-to-types-number-and-boolean/56043717#56043717", "title": "Operator &lt; cannot be applied to types Number and boolean", "body": "<p>If you stack the &lt; operator like that it will evaluate <code>jobEnd &lt; myMonthly</code> which results in a boolean and compare the result to <code>jobStart</code> which is a number. Use <code>&amp;&amp;</code> like</p>\n\n<pre><code>if (jobEnd &lt; myMonthly &amp;&amp;  myMonthly &lt; jobStart)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 3, "last_activity_date": 1557327925, "creation_date": 1557327925, "answer_id": 56043737, "question_id": 56043639, "link": "https://stackoverflow.com/questions/56043639/operator-cannot-be-applied-to-types-number-and-boolean/56043737#56043737", "title": "Operator &lt; cannot be applied to types Number and boolean", "body": "<pre><code>jobEnd &lt; myMonthly\n</code></pre>\n\n<p>will evaluate to true or false.\nSo if you write:</p>\n\n<pre><code>if( jobEnd &lt; myMonthly &lt; jobStart)\n</code></pre>\n\n<p>it essentially tries to evaluate</p>\n\n<pre><code>if( true &lt; jobStart )\n</code></pre>\n\n<p>which is <strong>applying a &lt; operator to boolean</strong> because jobStart is a number.</p>\n\n<p>You need to write it like this:</p>\n\n<pre><code>if( jobEnd &lt; myMonthly &amp;&amp; myMonthly &lt; jobStart )\n</code></pre>\n"}], "owner": {"reputation": 216, "user_id": 10782560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWgkp_-XQcg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iWwyXgmqvBJutXuDduDIz0VeaMRw/mo/photo.jpg?sz=128", "display_name": "Devla", "link": "https://stackoverflow.com/users/10782560/devla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 56043737, "answer_count": 2, "score": 2, "last_activity_date": 1557327925, "creation_date": 1557327598, "question_id": 56043639, "link": "https://stackoverflow.com/questions/56043639/operator-cannot-be-applied-to-types-number-and-boolean", "title": "Operator &lt; cannot be applied to types Number and boolean", "body": "<p>I have three numbers and I am trying to compare if one of them includes in other 2.</p>\n\n<pre><code>  let myMonthly = this.profile.expectedpayhourlystart + \n  this.profile.expectedpayhourlyend;\n  myMonthly = ((((myMonthly/2)*8)*5)*4);\n  let jobStart = item.monthlyPrice - 200;\n  let jobEnd = item.monthlyPrice + 200;\n\n  if( jobEnd &lt; myMonthly &lt; jobStart ){ &lt;-- 'Operator &lt; cannot be applied to boolean or number'\n\n  }\n</code></pre>\n\n<p>Why I am getting this error ? What should I change ?</p>\n"}, {"tags": ["javascript", "typescript", "systemjs"], "comments": [{"owner": {"reputation": 8011, "user_id": 3049127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ef44fca009f9f18ecaf67b5c53936?s=128&d=identicon&r=PG&f=1", "display_name": "Shilly", "link": "https://stackoverflow.com/users/3049127/shilly"}, "edited": false, "score": 0, "creation_date": 1557327635, "post_id": 56043471, "comment_id": 98729338, "body": "Maybe I&#39;m missing something, but I don&#39;t understand the question. A REST API runs on the server, so why do you need to use systemJS? Node can load ES6 modules in different ways as well and hopefully native very soon."}, {"owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "edited": false, "score": 0, "creation_date": 1557327649, "post_id": 56043471, "comment_id": 98729348, "body": "Yes I tried doing that it doesn&#39;t work"}, {"owner": {"reputation": 603, "user_id": 9281314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d083113239e5932ea7b9b30aaf4b210?s=128&d=identicon&r=PG", "display_name": "Claudio Busatto", "link": "https://stackoverflow.com/users/9281314/claudio-busatto"}, "edited": false, "score": 0, "creation_date": 1557327691, "post_id": 56043471, "comment_id": 98729371, "body": "Can&#39;t you use <code>&quot;module&quot;: &quot;commonjs&quot;</code> in your <code>tsconfig.json</code>? When you define to <code>system</code>, it will transpile targeting SystemJS, which is a module loader to provide compatibility for ES modules on browsers. As your API is going to work in a Node server, you should be able to change it to <code>commonjs</code> without breaking changes"}, {"owner": {"reputation": 603, "user_id": 9281314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d083113239e5932ea7b9b30aaf4b210?s=128&d=identicon&r=PG", "display_name": "Claudio Busatto", "link": "https://stackoverflow.com/users/9281314/claudio-busatto"}, "edited": false, "score": 1, "creation_date": 1557329083, "post_id": 56043471, "comment_id": 98730234, "body": "I created a <a href=\"https://github.com/anirudha-music/RESTful_API/pull/1\" rel=\"nofollow noreferrer\">pull request</a> in your repository with a working version"}, {"owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "reply_to_user": {"reputation": 603, "user_id": 9281314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d083113239e5932ea7b9b30aaf4b210?s=128&d=identicon&r=PG", "display_name": "Claudio Busatto", "link": "https://stackoverflow.com/users/9281314/claudio-busatto"}, "edited": false, "score": 0, "creation_date": 1557332153, "post_id": 56043471, "comment_id": 98731755, "body": "@ClaudioBusatto It worked thank you so much."}, {"owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "edited": false, "score": 0, "creation_date": 1557332674, "post_id": 56043471, "comment_id": 98731968, "body": "Okay so as your code will run on node server, you don&#39;t need to use SystemJS. Using commonJS &amp; ES5 will convert typescript keywords like import and export? Where I can find this changes on internet?"}, {"owner": {"reputation": 603, "user_id": 9281314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d083113239e5932ea7b9b30aaf4b210?s=128&d=identicon&r=PG", "display_name": "Claudio Busatto", "link": "https://stackoverflow.com/users/9281314/claudio-busatto"}, "edited": false, "score": 0, "creation_date": 1557335658, "post_id": 56043471, "comment_id": 98733344, "body": "You can have a look on Typescript <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">modules documentation</a>. On the chapter &quot;Code Generation for Modules&quot;, it explains the differences of the resulting code based on the module target specified"}], "owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557328112, "creation_date": 1557326982, "question_id": 56043471, "link": "https://stackoverflow.com/questions/56043471/system-is-not-defined-when-building-restful-apis-with-typescript", "title": "&quot;System is not defined&quot; when building RESTful APIs with TypeScript", "body": "<p>I am trying to build RESTful APIs using TypeScript and SystemJS</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// index.ts\n// Import express\nimport express from \"express\"\n// Imports routes\nimport apiRoutes from \"api-routes.js\"\n\n// Initialise the app\nconst app = express()\n\n// set up server port\nconst port = process.env.port || 3000\n\n// Send message for default URL\napp.get('/', (request, response) =&gt; response.send('Hello World with Express.'))\n\n// Launch app to listen to specified port\napp.listen(port, function(){\n    console.log(`Listening on port ${port}`)\n})\n\n// Use API routes in the app.\napp.use('/api', apiRoutes)\n</code></pre>\n\n<p>This file gets compiled to javascript</p>\n\n<pre><code>System.register([\"express\", \"api-routes.js\"], function (exports_1, context_1) {\n    \"use strict\";\n    var express_1, api_routes_js_1, app, port;\n    var __moduleName = context_1 &amp;&amp; context_1.id;\n    return {\n        setters: [\n            function (express_1_1) {\n                express_1 = express_1_1;\n            },\n            function (api_routes_js_1_1) {\n                api_routes_js_1 = api_routes_js_1_1;\n            }\n        ],\n        execute: function () {\n            // import * as express from \"express\"\n            // import * apiRoutes from './build/'\n            // Initialise the app\n            app = express_1.default();\n            // set up server port\n            port = process.env.port || 3000;\n            // Send message for default URL\n            app.get('/', function (request, response) { return response.send('Hello World with Express.'); });\n            // Launch app to listen to specified port\n            app.listen(port, function () {\n                console.log(\"Listening on port \" + port);\n            });\n            // Use API routes in the app.\n            app.use('/api', api_routes_js_1.default);\n        }\n    };\n});\n\n</code></pre>\n\n<p>I get the below error</p>\n\n<p><a href=\"https://i.stack.imgur.com/bxQy5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxQy5.png\" alt=\"enter image description here\"></a></p>\n\n<p>It says I am unable to refer <code>system</code> from system module.\nHere is the link to my <a href=\"https://github.com/anirudha-music/RESTful_API/tree/feature/develop\" rel=\"nofollow noreferrer\">repo</a> </p>\n\n<p>In <code>html</code> I import the SystemJS like so </p>\n\n<p><code>&lt;script src=\"node_modules/systemjs/dist/system.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>How do I import SystemJS in my <code>index.ts</code> file?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "foreach", "angular6"], "comments": [{"owner": {"reputation": 8011, "user_id": 3049127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ef44fca009f9f18ecaf67b5c53936?s=128&d=identicon&r=PG&f=1", "display_name": "Shilly", "link": "https://stackoverflow.com/users/3049127/shilly"}, "edited": false, "score": 0, "creation_date": 1557326974, "post_id": 56043343, "comment_id": 98728931, "body": "What&#39;s the difference between uploadFile() and uploadFile2() ? I would expect only one uploadFile() function and then pass in the differences as a parameter so the switch statement is not needed. Or have the typesFurniture array also contain the correct method."}, {"owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "edited": false, "score": 0, "creation_date": 1557326996, "post_id": 56043343, "comment_id": 98728950, "body": "any errors in console?"}, {"owner": {"reputation": 26053, "user_id": 982341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07129b74cbf0de1a592c7a98224f9e16?s=128&d=identicon&r=PG", "display_name": "GreyBeardedGeek", "link": "https://stackoverflow.com/users/982341/greybeardedgeek"}, "edited": false, "score": 0, "creation_date": 1557330560, "post_id": 56043343, "comment_id": 98731032, "body": "What does &quot;it didn&#39;t work&quot; mean?  Do you get a compiler error?  Do you get a runtime error?  Do you get unexpected behavior with no error?"}, {"owner": {"reputation": 45, "user_id": 11392126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf49e3fdfbc9e9a9595bb2cfd37c2e52?s=128&d=identicon&r=PG&f=1", "display_name": "Darko", "link": "https://stackoverflow.com/users/11392126/darko"}, "edited": false, "score": 0, "creation_date": 1557330581, "post_id": 56043343, "comment_id": 98731047, "body": "There is no errors, but it won&#39;t  execute the product that I&#39;ve selected. uploadFile() upload data to specific firebase path and uploadFile2() upload data to other firebase path"}, {"owner": {"reputation": 26053, "user_id": 982341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07129b74cbf0de1a592c7a98224f9e16?s=128&d=identicon&r=PG", "display_name": "GreyBeardedGeek", "link": "https://stackoverflow.com/users/982341/greybeardedgeek"}, "edited": false, "score": 0, "creation_date": 1557330729, "post_id": 56043343, "comment_id": 98731112, "body": "So, you get no errors. I guess that means that you are getting unexpected behavior. Please tell us what the expected behavior is, and how the actual behavior differs from the expected behavior. BTW, &quot;execute the product&quot; may mean something specific to you, but I can&#39;t figure out what that&#39;s supposed to mean."}, {"owner": {"reputation": 45, "user_id": 11392126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf49e3fdfbc9e9a9595bb2cfd37c2e52?s=128&d=identicon&r=PG&f=1", "display_name": "Darko", "link": "https://stackoverflow.com/users/11392126/darko"}, "edited": false, "score": 0, "creation_date": 1557331751, "post_id": 56043343, "comment_id": 98731580, "body": "i want to add images when i select one of my products through the dropdown list, my products are in array typesFurniture.  But my problem here is i don&#39;t know to target selected product from dropdown list and then paste this code -----&gt;  const fileToUpload = this.files;       const filesIdx = _.range(fileToUpload.length);       _.each(filesIdx, (idx) =&gt; {        this.upload = new Upload(fileToUpload[idx]);        this.uploadService.uploadFile(this.upload);"}], "owner": {"reputation": 45, "user_id": 11392126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf49e3fdfbc9e9a9595bb2cfd37c2e52?s=128&d=identicon&r=PG&f=1", "display_name": "Darko", "link": "https://stackoverflow.com/users/11392126/darko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1557408135, "creation_date": 1557326596, "last_edit_date": 1557408135, "question_id": 56043343, "link": "https://stackoverflow.com/questions/56043343/how-to-use-case-statement-with-foreach-in-angular-6", "title": "How to use case statement with forEach in angular 6?", "body": "<p>I want to select product in app.html from <strong>typesFurniture</strong>, in the uploadFiles() function to execute the product that I've selected, but i can't make it work. Help me please! </p>\n\n<p>I've tryed with forEach and case statement but it didn't work. Don't know why...</p>\n\n<p>i want to add images when i select one of my products through the dropdown list, my products are in array typesFurniture. But my problem here is i don't know to target selected product from dropdown list and then paste this code </p>\n\n<pre><code>const fileToUpload = this.files; \nconst filesIdx = _.range(fileToUpload.length); \n_.each(filesIdx, (idx) =&gt; { \nthis.upload = new Upload(fileToUpload[idx]); this.uploadService.uploadFile(this.upload);\n</code></pre>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>export class DodavanjeSlikaComponent {\n  typesFurniture = [\"Kuhinje\", \"Klizni ormari\", \"Ormari\", \"Radni stolovi\", \"Stolovi\", \"Cipelari\", \"TV Komode\", \"Police\", \"Paravani\"];\n\n  files: FileList;\n  upload: Upload;\n\n  constructor(private uploadService: UploadService) { }\n\n  handleFiles(event) {\n    this.files = event.target.files;\n  }\n\n  uploadFiles() {\n    /* this have to include!\n    const fileToUpload = this.files;\n      const filesIdx = _.range(fileToUpload.length);\n      _.each(filesIdx, (idx) =&gt; {\n       this.upload = new Upload(fileToUpload[idx]);\n       this.uploadService.uploadFile(this.upload);\n */\n\n    // why this does not work, it won't execute the check that I've selected\n\n    this.typesFurniture.forEach(i =&gt; {\n      const fileToUpload = this.files;\n      const filesIdx = _.range(fileToUpload.length);\n\n      switch (i) {\n        case \"Kuhinje\":\n          _.each(filesIdx, (idx) =&gt; {\n            this.upload = new Upload(fileToUpload[idx]);\n            this.uploadService.uploadFile(this.upload);\n          });\n          break;\n\n        case \"Klizni ormari\":\n          _.each(filesIdx, (idx) =&gt; {\n            this.upload = new Upload(fileToUpload[idx]);\n            this.uploadService.uploadFile2(this.upload);\n          });\n          break;\n      }\n    })\n\n  }\n\n}\n\n</code></pre>\n\n<p><strong>app.html</strong></p>\n\n<pre><code>&lt;div id=\"dodavanje-proizvoda\"&gt;\n  &lt;div class=\"dodavanje-kocka\"&gt;\n    &lt;div class=\"vrsta\"&gt;\n      &lt;p&gt;Izaberite vrstu proizvoda:&lt;/p&gt;\n      &lt;select&gt;\n        &lt;option *ngFor=\"let furniture of typesFurniture\"&gt;{{furniture}}&lt;/option&gt;\n      &lt;/select&gt;     \n    &lt;/div&gt;\n    &lt;div class=\"vrsta2\"&gt;\n      &lt;input type=\"file\" (change)=\"handleFiles($event)\" multiple&gt;\n    &lt;/div&gt;\n    &lt;div class=\"vrsta3\"&gt;\n      &lt;input type=\"submit\" value=\"Dodajte sliku\" (click)=\"uploadFiles()\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "puppeteer", "ava"], "comments": [{"owner": {"reputation": 15319, "user_id": 5627599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/27jw3.jpg?s=128&g=1", "display_name": "Thomas Dondorf", "link": "https://stackoverflow.com/users/5627599/thomas-dondorf"}, "edited": false, "score": 1, "creation_date": 1557336550, "post_id": 56043182, "comment_id": 98733817, "body": "What is your question? :)"}, {"owner": {"reputation": 12797, "user_id": 6161265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4cc9f4b0d916aec6e10fa7ee2c18e1?s=128&d=identicon&r=PG", "display_name": "Md. Abu Taher", "link": "https://stackoverflow.com/users/6161265/md-abu-taher"}, "edited": false, "score": 0, "creation_date": 1557336748, "post_id": 56043182, "comment_id": 98733917, "body": "He wants to run puppeteer before running all tests on ava. But he is not able to do so. Though I don&#39;t see what exact issue he faced."}, {"owner": {"reputation": 751, "user_id": 4628787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-CTj2qRQiY6Y/AAAAAAAAAAI/AAAAAAAAA_0/mYFGO5iRFNw/photo.jpg?sz=128", "display_name": "muuvmuuv", "link": "https://stackoverflow.com/users/4628787/muuvmuuv"}, "reply_to_user": {"reputation": 15319, "user_id": 5627599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/27jw3.jpg?s=128&g=1", "display_name": "Thomas Dondorf", "link": "https://stackoverflow.com/users/5627599/thomas-dondorf"}, "edited": false, "score": 0, "creation_date": 1557406153, "post_id": 56043182, "comment_id": 98760004, "body": "Ah, sorry @ThomasDondorf. I have edited my post. It simply does not work. I just wanna know how this should be done correctly. I read that this is the way but AVA is cloning the context before passing to the tests which in this case would destroy the puppeteer instance, does it? And of course there is something wrong with my way of using the ExecutionContext.."}], "owner": {"reputation": 751, "user_id": 4628787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-CTj2qRQiY6Y/AAAAAAAAAAI/AAAAAAAAA_0/mYFGO5iRFNw/photo.jpg?sz=128", "display_name": "muuvmuuv", "link": "https://stackoverflow.com/users/4628787/muuvmuuv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557405925, "creation_date": 1557326057, "last_edit_date": 1557405925, "question_id": 56043182, "link": "https://stackoverflow.com/questions/56043182/run-puppeteer-before-tests-and-pass-page-to-tests", "title": "Run puppeteer before tests and pass page to tests", "body": "<p>I want to start a puppeteer instance in <strong>ava</strong> before all tests and pass the page to all tests, so I can work with that active puppeteer instance. I'm using TypeScript and have followed these guides:</p>\n\n<ul>\n<li><a href=\"https://github.com/avajs/ava/blob/master/docs/recipes/puppeteer.md\" rel=\"nofollow noreferrer\">https://github.com/avajs/ava/blob/master/docs/recipes/puppeteer.md</a></li>\n<li><a href=\"https://github.com/avajs/ava/blob/master/docs/recipes/typescript.md\" rel=\"nofollow noreferrer\">https://github.com/avajs/ava/blob/master/docs/recipes/typescript.md</a></li>\n</ul>\n\n<p>The problem is, that I don't understand how to pass these things between them. Ava gives me a TypeScript error, which sounds reasonable but I don't know how I should build the logic to get this working:</p>\n\n<pre><code>test/current.spec.ts:41:50 - error TS2345: Argument of type '(t: TestExecutionContext, bp: number, expected: string) =&gt; Promise&lt;void&gt;' is not assignable to parameter of type 'OneOrMoreMacros&lt;any, {}&gt;'\n</code></pre>\n\n<p>currrent.spec.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import path from 'path'\nimport test, { ExecutionContext } from 'ava'\nimport runBrowserWithPage from './_withPage'\nimport { Page } from 'puppeteer'\n\ninterface TestExecutionContext extends ExecutionContext {\n  context: {\n    page: Page\n  }\n}\n\nconst url = 'file://' + path.resolve(__dirname, '../docs/index.html')\n\nconst widths = [575, 576, 768, 992, 1200]\n\ntest.before(runBrowserWithPage, async (t: TestExecutionContext, page: Page) =&gt; {\n  await page.goto(url, { waitUntil: 'load' })\n  t.context.page = page\n})\n\n// test.beforeEach(async ({ context }: TestExecutionContext) =&gt; {\n//   await context.page.reload()\n// })\n\nasync function currentMacro(t: TestExecutionContext, bp: number, expected: string) {\n  await t.context.page.setViewport({ width: bp, height: 800 })\n  await t.context.page.screenshot({ path: `assets/${bp}.png` })\n\n  const current: any = await t.context.page.evaluate(() =&gt; {\n    // @ts-ignore\n    const Breakpoint = new Boobreaks()\n    return Breakpoint.current() // return breakpoint alias\n  })\n\n  t.is(current, expected)\n}\n\n// test('Boobreaks should be loaded', async (t: TestExecutionContext) =&gt; {\n// })\n\ntest('Boobreaks should return the alias for xs', currentMacro, widths[0], 'xs')\n</code></pre>\n\n<p>_withPage.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import puppeteer from 'puppeteer'\n\nexport default async function withPage(t: any, run: any) {\n  const browser = await puppeteer.launch()\n  const page = await browser.newPage()\n\n  try {\n    await run(t, page)\n  } finally {\n    await page.close()\n    await browser.close()\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 322, "user_id": 648455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNUqT.png?s=128&g=1", "display_name": "Scott Baldwin", "link": "https://stackoverflow.com/users/648455/scott-baldwin"}, "edited": false, "score": 0, "creation_date": 1557325770, "post_id": 56042785, "comment_id": 98728193, "body": "The fun part is you don&#39;t even need two objects to make this happen, it seems like a[&#39;a&#39;|&#39;b&#39;] is number|string and so it will let you assign either a number or a string to it even though we know that that&#39;s incorrect. Seems like when assigning it should be asserting that the value is number&amp;string, not number|string? (Edit: Oh, looks like they&#39;ve already got that all figured out based on the answer below, ignore me.)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1557326445, "last_edit_date": 1592644375, "creation_date": 1557325817, "answer_id": 56043098, "question_id": 56042785, "link": "https://stackoverflow.com/questions/56042785/unsafe-dictionary-value-assignment-by-key-of-a-union-type-in-strict-mode/56043098#56043098", "title": "Unsafe dictionary value assignment by key of a union type in strict mode", "body": "<p>Yes, this is unsound and is a known hole in type system that is going to get fixed in 3.5 with this <a href=\"https://github.com/microsoft/TypeScript/pull/30769\" rel=\"nofollow noreferrer\">PR</a>. From the PR:</p>\n<blockquote>\n<p>With this PR we improve soundness of indexed access types in a number of ways:</p>\n<ul>\n<li>When an indexed access <code>T[K]</code> occurs on the source side of a type relationship, it resolves to a union type of the properties selected by <code>T[K]</code>, <strong>but when it occurs on the target side of a type relationship, it now resolves to an intersection type of the properties selected by <code>T[K]</code></strong>. Previously, the target side would resolve to a union type as well, which is unsound.</li>\n<li>Given a type variable <code>T</code> with a constraint <code>C</code>, when an indexed access <code>T[K]</code> occurs on the target side of a type relationship, index signatures in <code>C</code> are now ignored. This is because a type argument for <code>T</code> isn't actually required to have an index signature, it is just required to have properties with matching types.</li>\n<li>A type <code>{ [key: string]: number }</code> is no longer related to a mapped type <code>{ [P in K]: number }</code>, where <code>K</code> is a type variable. This is consistent with a string index signature in the source not matching actual properties in the target.</li>\n<li>Constraints of indexed access types are now more thoroughly explored. For example, given type variables <code>T</code> and <code>K extends 'a' | 'b'</code>, the types <code>{ a: T, b: T }[K]</code> and <code>T</code> are now considered related where previously they weren't.</li>\n</ul>\n</blockquote>\n<p><strong>Note</strong>: Highlighted the bit probably relevant for this issue.\nYou can try it out on 3.5 now by installing it with <code>npm install typescript@next</code> and you will get the expected error.</p>\n"}], "owner": {"reputation": 701, "user_id": 675333, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abd9ac1fb20133294dc7b06108b54583?s=128&d=identicon&r=PG", "display_name": "Evgeny A.", "link": "https://stackoverflow.com/users/675333/evgeny-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 56043098, "answer_count": 1, "score": 1, "last_activity_date": 1557326445, "creation_date": 1557324681, "question_id": 56042785, "link": "https://stackoverflow.com/questions/56042785/unsafe-dictionary-value-assignment-by-key-of-a-union-type-in-strict-mode", "title": "Unsafe dictionary value assignment by key of a union type in strict mode", "body": "<p>TypeScript looks unsound when a dictionary value is assigned by key of a union type, even when using the latest typescript@3.4.5 and strict mode.</p>\n\n<p>Is it a known issue?  Can someone point me to a related bug report?</p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"strict\": true\n  }\n}\n</code></pre>\n\n<p>test.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n  a: number;\n  b: string;\n}\n\ninterface B {\n  a: string;\n  b: number;\n}\n\n\nfunction someFunction(a: A, b: B, field: 'a'|'b'): void {\n  // ...\n  // A lot of unrelated code\n  // ...\n  b[field] = a[field];\n  // ...\n  // A lot of unrelated code\n  // ...\n}\n\n\nconst a = { a: 1, b: '1' };\nconst b = { a: '2', b: 2 };\nsomeFunction(a, b, 'a');\n// type of B.a is string, but in this instance a number is assigned\n// and TypeScript fails to warn about it even in strict mode :-(\nconsole.log(typeof b['a']);\n</code></pre>\n\n<p>Running this code with typescript@3.4.5 and ts-node (<code>ts-node test.ts</code>) yields</p>\n\n<pre><code>number\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 73231, "user_id": 156142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7dcad6d7e959ef6d6cfd67c6fb15c171?s=128&d=identicon&r=PG", "display_name": "ChaosPandion", "link": "https://stackoverflow.com/users/156142/chaospandion"}, "edited": false, "score": 0, "creation_date": 1557353543, "post_id": 56046864, "comment_id": 98740805, "body": "It worked out great with only minor modifications. Thank you."}], "tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": true, "score": 1, "last_activity_date": 1557339557, "creation_date": 1557339557, "answer_id": 56046864, "question_id": 56042766, "link": "https://stackoverflow.com/questions/56042766/can-this-be-refactored-to-the-more-composable-style-seen-in-examples/56046864#56046864", "title": "Can this be refactored to the more composable style seen in examples?", "body": "<p>Depends exactly what you're trying to do but roughly it should look something like...</p>\n\n<pre><code>const filtered = data.pipe(switchMap(data =&gt; {\n  return value.pipe(startWith(''), combineLatest(clicks.pipe(startWith(null))), map(([value, _]) =&gt; {\n    return data.filter(item =&gt; item.includes(value));\n  }));\n}));\n</code></pre>\n\n<p>Here is a Gist you can play with: <a href=\"https://gist.github.com/westonpace/4f7811b6735c94e97928be1bb6a377ce\" rel=\"nofollow noreferrer\">https://gist.github.com/westonpace/4f7811b6735c94e97928be1bb6a377ce</a></p>\n\n<p>I left out the <code>format</code> and simplified <code>filter</code> for brevity but that could be achieved by throwing a <code>map</code> on <code>value</code> between the <code>startWith</code> and the <code>combineLatest</code>.  This will behave different than your code in a few minor ways which you can tweak if you want.</p>\n\n<p>In your example, if <code>initialData</code> is cold and takes a while to fire and <code>clickSource</code> and <code>valueSource</code> fire earlier then you could get an empty array.  In my example you will not get any results until <code>initialData</code> has fired at least once.  You could use <code>startWith</code> on <code>data</code> before the <code>switchMap</code> if you want this behavior. </p>\n\n<p>Also, in your example, if <code>initalData</code> fired a second time then nothing would happen (the observable would continue to filter the old original value) where in this example if <code>initialData</code> fires again then it will switch over to filtering the new array but probably lose the value from <code>valueSource</code>.</p>\n\n<p>In your example you will not get any results to start with and then the first result will arrive if either <code>clickSource</code> or <code>valueSource</code> fire.  I couldn't think of a way to replicate this exactly off the top of my head.  My code will fire once right away as soon as <code>data</code> fires.  If you leave off the <code>startWith</code> on <code>clicks</code> then it will fire only when <code>clickSource</code> fires.  If you leave off the <code>startWith</code> on <code>value</code> then it will fire only when <code>valueSource</code> fires at least once.  If you really need this behavior you could probably start, instead of <code>data.filter</code> with <code>merge(clicks, value).pipe(switchMap(_ =&gt; data.filter...</code></p>\n"}], "owner": {"reputation": 73231, "user_id": 156142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7dcad6d7e959ef6d6cfd67c6fb15c171?s=128&d=identicon&r=PG", "display_name": "ChaosPandion", "link": "https://stackoverflow.com/users/156142/chaospandion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 56046864, "answer_count": 1, "score": 1, "last_activity_date": 1557339557, "creation_date": 1557324613, "last_edit_date": 1557326716, "question_id": 56042766, "link": "https://stackoverflow.com/questions/56042766/can-this-be-refactored-to-the-more-composable-style-seen-in-examples", "title": "Can this be refactored to the more composable style seen in examples?", "body": "<p>I'm pretty new to rxjs and this example I've come up with doesn't feel so elegant. Essentially how can I compose 3 drastically different observables into one? Can you actually do it in the style of higher order functions like many of the examples online show?</p>\n\n<pre><code>createFilteredDataObservable(initialData: Observable&lt;Data[]&gt;,\n                             valueSource: Observable&lt;any&gt;, \n                             clickSource: Subject&lt;boolean&gt;): Observable&lt;Data[]&gt; {\n    let data: Data[] = [];\n    let text = '';\n\n    initialData.subscribe(value =&gt; {\n      data= value;\n    });\n\n    function format(x: string): string {\n      return x.toLowerCase().trim();\n    }\n\n    function filter() {\n      if (text === '') {\n        return data;\n      }\n\n      const result = data.filter(d=&gt; {\n        const name = format(d.DisplayName);\n        return name === text || name.includes(text);\n      });\n\n      return result;\n    }\n\n    return new Observable&lt;Data[]&gt;((observer) =&gt; {\n\n      clickSource.subscribe(_ =&gt; {\n        const result = filter();\n        observer.next(result);\n      });\n\n      valueSource.subscribe((v: string|Data) =&gt; {\n        if (typeof v !== 'string') {\n          return;\n        }\n        text = format(v);\n        const result = filter();\n        observer.next(result);\n      });\n\n    });\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "recursion", "tree", "rxjs"], "comments": [{"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1557855110, "post_id": 56042539, "comment_id": 98902420, "body": "no need here for Rxjs. Angular has its own way, by using <code>ControlValueAccessors</code> google it, maybe you will even find examples with dynamic components"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1557855542, "post_id": 56042539, "comment_id": 98902608, "body": "How would ControlValueAccessor make a request to an API and make its children to make the same thing with their corresponding APIs?"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1557855616, "post_id": 56042539, "comment_id": 98902644, "body": "Its not <code>ControlValueAccessor</code>, but your Component, which implements <code>ControlValueAccessor</code>."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1557861154, "post_id": 56042539, "comment_id": 98905256, "body": "This accessor allows only custom form value change handling using custom inputs etc. but not saving form by its parts..."}], "answers": [{"comments": [{"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557330802, "post_id": 56043063, "comment_id": 98731157, "body": "How do I know when I can start doing it? This emitting doesn&#39;t solve the problem of not knowing the amount of children that have to emit this event."}, {"owner": {"reputation": 1610, "user_id": 2658652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GFL1k.jpg?s=128&g=1", "display_name": "katwhocodes", "link": "https://stackoverflow.com/users/2658652/katwhocodes"}, "edited": false, "score": 0, "creation_date": 1557331417, "post_id": 56043063, "comment_id": 98731450, "body": "the children emitting events - are these calls to APIs?"}, {"owner": {"reputation": 117, "user_id": 6227484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eef6c16e1f437341a894343448f61b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Gardner", "link": "https://stackoverflow.com/users/6227484/bill-gardner"}, "edited": false, "score": 0, "creation_date": 1557333595, "post_id": 56043063, "comment_id": 98732373, "body": "Is your intention to have the child forms be separate forms from the parent form?  Or is your intention to have them be one form spread across several child components?"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557468500, "post_id": 56043063, "comment_id": 98782086, "body": "My intention is to save these forms spread across the tree separately. However, for saving the descendants I need to save an ancestor and pass its ID down the tree. Then save children and so on. After that I need to know that <b>all</b> children have been saved and to close the form page."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 1610, "user_id": 2658652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GFL1k.jpg?s=128&g=1", "display_name": "katwhocodes", "link": "https://stackoverflow.com/users/2658652/katwhocodes"}, "edited": false, "score": 0, "creation_date": 1557468593, "post_id": 56043063, "comment_id": 98782117, "body": "@katwhocodes children should emit events after call to API. And I need to count these children and their events so that I can know that form is fully saved and I&#39;m free to close the form."}, {"owner": {"reputation": 117, "user_id": 6227484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eef6c16e1f437341a894343448f61b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Gardner", "link": "https://stackoverflow.com/users/6227484/bill-gardner"}, "reply_to_user": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557491509, "post_id": 56043063, "comment_id": 98793423, "body": "@Sergey here is what I can suggest: in the parent form make variable w/ id &amp; pass to the child component: <code>private parentFormId: any = parentForm.id; &lt;child-form-component #childFormEmit [id]=&quot;id&quot;&gt;&lt;&#47;child-form-component&gt;</code> where it is received by the child component and passed to the grandchild component with an event emitter passing a submitted flag back up the tree:  <code>@Input(&#39;id&#39;) id:any; @Output() childFormEmit: EventEmitter&lt;any&gt; = new EventEmitter&lt;any&gt;(); &lt;dynamic-grandchild-form-component #grandChildFormEmit [id]=&quot;id&quot;&gt;&lt;&#47;dynamic-grandchild-form-component&gt;</code> and so on down the tree."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557492735, "post_id": 56043063, "comment_id": 98794154, "body": "@BillGardner this doesn&#39;t give me any info about submit status of all the children though."}, {"owner": {"reputation": 117, "user_id": 6227484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eef6c16e1f437341a894343448f61b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Gardner", "link": "https://stackoverflow.com/users/6227484/bill-gardner"}, "reply_to_user": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557493508, "post_id": 56043063, "comment_id": 98794543, "body": "@Sergey This is what you will submit your event emitter $event. Make a variable on the child component that is set to true when the form is submitted and then passed to an event emitter: <code>childFormEmit.emit(id)</code> This is then received by the parent Form <code>(childFormEmit)=&quot;receiveChildFormId($event)&quot;</code> and then passed to the parent form function <code>receiveChildFormId()</code> where you can do what you need to do with the data."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557495981, "post_id": 56043063, "comment_id": 98795893, "body": "@BillGardner but the number of children is unlimited and therefore I cannot know how many of them I should be waiting for"}, {"owner": {"reputation": 117, "user_id": 6227484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eef6c16e1f437341a894343448f61b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Gardner", "link": "https://stackoverflow.com/users/6227484/bill-gardner"}, "reply_to_user": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557496699, "post_id": 56043063, "comment_id": 98796307, "body": "@Sergey You need to post code.  I&#39;ve tried to help, but am guessing at this point with no code to look at."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557745568, "post_id": 56043063, "comment_id": 98855703, "body": "I&#39;ve tried to show what I have. Please, check the updated question"}], "tags": [], "owner": {"reputation": 117, "user_id": 6227484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eef6c16e1f437341a894343448f61b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Gardner", "link": "https://stackoverflow.com/users/6227484/bill-gardner"}, "is_accepted": false, "score": 0, "last_activity_date": 1557325675, "creation_date": 1557325675, "answer_id": 56043063, "question_id": 56042539, "link": "https://stackoverflow.com/questions/56042539/save-tree-form-recursively-and-emit-event-on-finish/56043063#56043063", "title": "Save tree form recursively and emit event on finish", "body": "<p>Use event emitters to submit form data from your child forms to your parent form.  The parent form will then be able to collect the emitted data and you can process it however you'd like, including passing it to an Observable as you mentioned.</p>\n"}, {"comments": [{"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557847851, "post_id": 56131885, "comment_id": 98898895, "body": "This tree is just for simplicity. The real one is fully dynamic and not as easy describable as you&#39;ve shown."}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "reply_to_user": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557848158, "post_id": 56131885, "comment_id": 98899052, "body": "My illustration was based on the example stackblitz you provided... if the dynamic form is built in the fashion you have provided in your stackblitz, you still have all values at the <code>app.component.ts</code> level when the user initiates <code>submit</code> regardless of dynamic complexities."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557848926, "post_id": 56131885, "comment_id": 98899482, "body": "However for each part of the form should be performed save call to an API. For each part on different APIs with different props."}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "reply_to_user": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 1, "creation_date": 1557849306, "post_id": 56131885, "comment_id": 98899689, "body": "In order to effectively interact with the API, you will need to have intimate knowledge of that data structure with props... all of which will be in the parent form when the user initiates the submit. If you would like to revise your example to be more reflective of your actual structure, I would be more than happy to review further. Without additional detail, I will not be able to help you; debating semantics is not productive towards helping solve your problem."}], "tags": [], "owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "is_accepted": false, "score": 1, "last_activity_date": 1557841188, "creation_date": 1557841188, "answer_id": 56131885, "question_id": 56042539, "link": "https://stackoverflow.com/questions/56042539/save-tree-form-recursively-and-emit-event-on-finish/56131885#56131885", "title": "Save tree form recursively and emit event on finish", "body": "<p>You have everything you would need at the <code>app.component.ts</code> level, to iterate through the <code>tree</code> recursively and complete your save logic without any state at the child level. </p>\n\n<blockquote>\n  <p>Use your <code>Observable</code> logic in the <code>submit()</code> method to retrieve the <code>ID</code>\n  from the first save, once you receive that ID proceed to iterate over the next\n  level down values in the form and complete the next save. Once all of\n  your conditions are met at the <code>app.component.ts</code> level close the\n  form.</p>\n</blockquote>\n\n<pre><code>submit() {\n    // Here goes an initial form submit which returns an ID of saved form\n    console.log('submit a form');\n    let persons: Person[] = this.formGroup.value.persons;\n    for (let person of persons) {\n      console.log('Saving person with Birthdate: ' + person.birthDate)\n      for (let name of person.names) {\n        console.log('Saving nameObject: ' + JSON.stringify(name))\n      }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 2, "creation_date": 1557941796, "post_id": 56154745, "comment_id": 98938922, "body": "At the end of the day, you are still iterating over the form/form values as stated in my provided answer... it doesn&#39;t matter if you pass the form as an argument to a method, you are only obfuscating the solution to make it appear more complex than it needs to be. Either way, glad you were able to solve your problem."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1557942054, "post_id": 56154745, "comment_id": 98939032, "body": "I&#39;m iterating over values that I&#39;m not aware of before. The requests and values etc. are provided by components which contain dedicated parts of form and use parent&#39;s value to be saved. Thus, I&#39;m building fully dynamic saving workflow. I hope I didn&#39;t obfuscate anything because it&#39;s just a waste of time."}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 1, "creation_date": 1557942373, "post_id": 56154745, "comment_id": 98939187, "body": "Doesn&#39;t matter if you iterate over unknown values in a wrapping method, or in the original submit method within your <code>app.component.ts</code> stackblitz example. The values are still un-known both before passing the form obj to a method, and after. You just moved the solution out of <code>app.component.ts</code> into a service method and obfuscated it to make it look different."}, {"owner": {"reputation": 499, "user_id": 10852027, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NBo_atARsw8/AAAAAAAAAAI/AAAAAAAAARY/8ZvTihHno2U/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/10852027/siva-kumar"}, "edited": false, "score": 0, "creation_date": 1557992398, "post_id": 56154745, "comment_id": 98953898, "body": "can you share StackBlitz Url ??"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1557993320, "post_id": 56154745, "comment_id": 98954405, "body": "Maybe I&#39;ll try to do this later. The app is too huge to show the case. Even to show a simple mock it would take a while"}], "tags": [], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "is_accepted": true, "score": 0, "last_activity_date": 1557941327, "creation_date": 1557941327, "answer_id": 56154745, "question_id": 56042539, "link": "https://stackoverflow.com/questions/56042539/save-tree-form-recursively-and-emit-event-on-finish/56154745#56154745", "title": "Save tree form recursively and emit event on finish", "body": "<p>Finally I solved my problem using next code. Hope this will help someone</p>\n\n<pre><code>// You should provide either \"data\" or \"formGroup\"\nexport interface RecForm {\n    /** Data to be saved */\n    data?: any;\n    /** Request URI */\n    request: string;\n    /** Params that should be used from accumulator */\n    useParams?: string[] | {\n        /** Parameter to be taken from accumulator */\n        use: string;\n        /** Parameter alias to use */\n        as: string;\n    }[];\n    /** Children forms to be saved */\n    children?: RecForm[];\n    /** FormGroup to take values from */\n    formGroup?: FormGroup;\n    /** Children forms grouped by name to be saved */\n    childrenGroups?: {\n        [index: string]: RecForm[];\n    };\n    /** Names to use for storing in accumulator. The array us being used for the\n      * sake of agility */\n    valAlias: string[];\n}\n</code></pre>\n\n<p>And this is the method I use to handle that object</p>\n\n<pre><code>public saveRecursively(obj: RecForm, accumulator?: any): Observable&lt;any&gt; {\n    // Variable to store form data\n    let req;\n\n    if (obj.data) {\n        req = {...obj.data};\n    } else {\n        req = {...obj.formGroup.value};\n    }\n\n    // If there are an accumulator and parameters to be used\n    // we add these parameters to the form data\n    if (obj.useParams &amp;&amp; accumulator) {\n        (&lt;any&gt;obj.useParams).forEach(paramName =&gt; {\n            if (typeof paramName === 'string') {\n                req[paramName] = accumulator[paramName];\n            } else {\n                req[paramName.as] = accumulator[paramName.use];\n            }\n        });\n    }\n\n\n    return iif(\n        () =&gt;\n            // We need to save only changed form\n            obj.formGroup.touched &amp;&amp; obj.formGroup.dirty\n            // or the one that has children and does not\n            // have an Id to pass it to the children\n            || (\n                obj.children &amp;&amp; obj.children.length &gt; 0\n                || obj.childrenGroups &amp;&amp; Object.keys(obj.childrenGroups).length &gt; 0\n            ) &amp;&amp; !req.id\n        ,\n        defer(() =&gt; this.ss.send(obj.request, {\n            data: req\n        })),\n        of(req.id || null)\n    ).pipe(\n        pluck('data'),\n        map((id: string) =&gt; {\n            const acc = {...accumulator};\n\n            // Export returned ID with provided aliases adding them\n            // to the accumulator\n            obj.valAlias.forEach(alias =&gt; {\n                acc[alias] = id;\n            });\n\n            return acc;\n        }),\n        switchMap((acc): any =&gt; {\n            if (obj.children &amp;&amp; obj.children.length &gt; 0) {\n                return forkJoin(\n                    obj.children.map(child =&gt; this.saveRecursively(child, acc))\n                );\n            }\n            // Save children forms if there any\n            else if (obj.childrenGroups &amp;&amp; Object.keys(obj.childrenGroups).length &gt; 0) {\n                return forkJoin(\n                    flatten(Object.values(obj.childrenGroups)).map(item =&gt; this.saveRecursively(item, acc))\n                );\n            }\n            // If there is no children forms just return an accumulator\n            else {\n                return of(acc);\n            }\n        })\n    );\n}\n\n</code></pre>\n\n<p>Note: <code>flatten</code> is from Lodash and used to change and object of grouped forms by name into single array.</p>\n\n<p><code>this.ss.save</code> is a service's method which accepts a request and body to work out and returns an observable.</p>\n\n<p>Then, I just make a service which instance is being created at the root form component.\nThis service contains an <code>object: RecForm</code> and couple of Lodash methods for dynamic creating and deleting nested object props.</p>\n\n<p>Having this service I'm passing through the components tree <code>path</code> where I extend its value moving down the tree and use this path to add new <code>FormGroup</code>s to my object.</p>\n\n<p>When I'm done I just call <code>saveRecursively</code> on the object and have everything saved as it should be.</p>\n\n<p>Also if you are going to use my method and extend the object in <code>OnInit</code> don't forget to delete its value in <code>OnDestroy</code> so that any <code>FormArray</code> split into components by each control won't have any removed value.</p>\n"}], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 56154745, "answer_count": 3, "score": 3, "last_activity_date": 1557941327, "creation_date": 1557323898, "last_edit_date": 1557745406, "question_id": 56042539, "link": "https://stackoverflow.com/questions/56042539/save-tree-form-recursively-and-emit-event-on-finish", "title": "Save tree form recursively and emit event on finish", "body": "<p>I have a form with nested forms like that</p>\n\n<pre><code>Form 1\n-- Form 1.1\n-- Form 1.2\n</code></pre>\n\n<p>What I need is save Form 1, then save Form 1.1 and Form 1.2 using <code>Id</code> retrieved from saving <code>Form 1</code> and after that emit that all children are saved. </p>\n\n<p>I have to do this dynamically since the depth of this form is much bigger.</p>\n\n<p><em>How is it better to perform this action?</em></p>\n\n<p>I've tried to place a directive on children component's tags however I'm unable to read these components. These components are different and may be dynamic, so I cannot use <code>@ViewChild</code> on components.</p>\n\n<p>I want to observe these child components for the sake of knowing how many events should be emmitted before telling parent component that everything is ready.</p>\n\n<p>For now I can only think of a some service that would contain counts for every parent.</p>\n\n<h2>Update #1</h2>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/angular-vutrj7?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">StackBlitz</a> and is a simplified version of what I have. In real app there is a dynamic component presence as well as dynamic parameter names (the ones I have to pass from parent to connect children) and nesting level of the form.</p>\n\n<p>I've tried to cover workflow details with comments.</p>\n\n<p><strong>TL;DR</strong> I need to save all Persons, then save each Person's names using personId as an additional parameter to connect them in DB, after all form part are saved I need to report parent form that everything is ready.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1557323943, "post_id": 56042441, "comment_id": 98726978, "body": "I think you can just put <code>src&#47;</code> if the tsconfig is on the root already"}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1557324008, "post_id": 56042441, "comment_id": 98727016, "body": "@MikeTung I would prefer not to do so."}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1557327217, "post_id": 56042441, "comment_id": 98729072, "body": "@MikeTung Why would that make a difference?"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 1, "creation_date": 1557327307, "post_id": 56042441, "comment_id": 98729121, "body": "Maybe <a href=\"https://decembersoft.com/posts/say-goodbye-to-relative-paths-in-typescript-imports/\" rel=\"nofollow noreferrer\">this article</a> could help."}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "reply_to_user": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1557327633, "post_id": 56042441, "comment_id": 98729336, "body": "@Paleo I was looking for this. I have seen it work using <code>paths</code>"}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1557336210, "post_id": 56042441, "comment_id": 98733639, "body": "I don&#39;t see what your error has to do with the other information you showed.  You are importing <code>testRouter</code> from <code>module&#47;lib</code> but it is complaining about an import to <code>module&#47;test</code>.  The import you showed should work just fine given the <code>baseUrl</code> and, given that the error isn&#39;t talking about that import, it seems it is working just fine."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1557337094, "post_id": 56042441, "comment_id": 98734095, "body": "Also, what are you using <code>baseUrl</code> for?  What is your module loader at runtime?  Are you moving your source files into a common folder as a build step?  If you&#39;re just running this through node then you probably want <code>paths</code> as others have mentioned and not <code>baseUrl</code>.  Or to put it more generally, what are you trying to achieve?"}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1557389356, "post_id": 56042441, "comment_id": 98750562, "body": "@Paleo Is this the only way? So much wasteful boilerplate code... Not very effective. :/"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1557392817, "post_id": 56042441, "comment_id": 98752514, "body": "I personally prefer not to use this feature and let the IDE generate relative paths in imports. Maybe it&#39;s possible to configure the IDE in order to hide imports if they are too ugly for you."}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 8421261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4c8a19651d5ad48c348133d502a5829?s=128&d=identicon&r=PG&f=1", "display_name": "Ruby Tunaley", "link": "https://stackoverflow.com/users/8421261/ruby-tunaley"}, "is_accepted": false, "score": 1, "last_activity_date": 1557458109, "creation_date": 1557458109, "answer_id": 56070211, "question_id": 56042441, "link": "https://stackoverflow.com/questions/56042441/typescript-importing-module-path/56070211#56070211", "title": "TypeScript importing module path", "body": "<p>You have two options here.</p>\n\n<h1>Use Relative Imports</h1>\n\n<p>This is the simplest option. Just specify relative paths when importing stuff.</p>\n\n<pre><code>import testRouter from './module/lib';\n</code></pre>\n\n<h1>Set Up Import Aliases</h1>\n\n<p>You can edit your <code>tsconfig.json</code> so that it resolves the path you typed.</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"compilerOptions\": {\n        \"baseUrl\": \"./src/\",\n        \"paths\": {\n            \"./*\": [\"./src/*\"]\n        }\n    }\n}\n</code></pre>\n\n<p>As we can see, TypeScript will now resolve the import properly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lg4yG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lg4yG.png\" alt=\"Image of VS Code resolving the import correctly.\"></a></p>\n\n<p><strong>BEWARE:</strong> The above just tells the TypeScript compiler that paths <em>can</em> be resolved from <code>src</code>, but <em>does not affect code emit</em>. For example, the <code>import</code> statement still gets compiled to the following:</p>\n\n<pre><code>const lib_1 = require(\"module/lib\");\n</code></pre>\n\n<p>This means that unless you have another build tool which can transform that <code>require</code> into a relative path, <em>the import will not work at runtime</em> even though TypeScript says it's okay.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZQ4TV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZQ4TV.png\" alt=\"Image of Node throwing due to bad module resolution.\"></a></p>\n"}], "owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557458109, "creation_date": 1557323658, "last_edit_date": 1557344587, "question_id": 56042441, "link": "https://stackoverflow.com/questions/56042441/typescript-importing-module-path", "title": "TypeScript importing module path", "body": "<p>I have the following file:</p>\n\n<p><code>myProjectRoot/src/server.ts</code></p>\n\n<p>Inside this it has:</p>\n\n<p><code>import testRouter from 'module/lib';</code></p>\n\n<p>I have a library which exports a default value at:</p>\n\n<p><code>myProjectRoot/src/module/lib.ts</code></p>\n\n<p>My <code>myProjectRoot/tsconfig.json</code> file:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es6\",\n        \"lib\": [\n            \"es6\"\n        ],\n        \"sourceMap\": true,\n        \"baseUrl\": \"./src/\"\n    },\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>I get the error: <code>[ERROR] 15:50:42 Error: Cannot find module 'module/lib'</code></p>\n"}, {"tags": ["javascript", "angular", "html", "typescript", "sweetalert2"], "owner": {"reputation": 11, "user_id": 11470090, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cV4-Q_jxmJk/AAAAAAAAAAI/AAAAAAAAAhU/s4tCBMfLZ8Q/photo.jpg?sz=128", "display_name": "Pedro Henrique", "link": "https://stackoverflow.com/users/11470090/pedro-henrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557321646, "creation_date": 1557321646, "question_id": 56041825, "link": "https://stackoverflow.com/questions/56041825/how-to-change-an-alert-to-a-modal-using-sweetalert2", "title": "How to change an Alert to a Modal using SweetAlert2", "body": "<p>I am trying to change an Alert to a Modal, I have a function in Typescript to subscribe an user for example when the subscriber is ok, I can call a Modal of success, but I have another alert in this function if the subscribe not works, my question is, how can I change the second alert (which does not work the subscribe) from my function to a Modal of error? I mean, I want to put two different Modals for the same function.</p>\n\n<p>I've tried to make a function in JavaScript, using Sweetalert2 and using with Angular, but both it didn't work, also something like this:</p>\n\n<pre><code>&lt;swal #ok\ntype=\"success\"\ntitle=\"Cadastro realizado comsucesso!\"  (confirm)=\"CadastrarUsuario()\"&gt;\n&lt;/swal&gt;\n\n&lt;swal #ok\ntype=\"error\"\ntitle=\"Cadastro n\u00e3o realizado!\" (confirm)=\"CadastrarUsuario()\"&gt;\n&lt;/swal&gt;\n\n&lt;button type=\"submit\" [swal]=\"ok\" class=\"btn btn-primary def-button\"&gt;Cadastrar Usu\u00e1rio&lt;/button&gt;\n</code></pre>\n\n<h2>This is my function:</h2>\n\n<h3>cadastro-user.component.ts</h3>\n\n<pre><code>CadastrarUsuario() {\n\nif (this.roleVisivel == 1) {\n\n  this.lider.perfil = \"LiderTecnico\";\n  this.funcionarioService.cadastrarFuncionarioPorAdmin(this.lider).subscribe (\n    data =&gt; {\n      // alert(\"CADASTRADO COM SUCESSO !\")\n      location.reload();\n    },\n    error =&gt; {\n      alert(\"Algo de errado nao esta certo.\")\n    }\n  );\n\n\n  } else if (this.roleVisivel == 2) {\n    this.user.admin = true;\n    this.usuariosService.cadastrarGerente(this.user).subscribe (\n      data =&gt; {\n        // alert(\"CADASTRADO COM SUCESSO !\")\n        location.reload();\n      },\n      error =&gt; {\n        alert(\"Algo de errado nao esta certo.\")\n      }\n    );\n\n}\n</code></pre>\n\n<p>}</p>\n\n<h3>cadastro-user.component.html</h3>\n\n<pre><code>&lt;swal #ok\ntype=\"success\"\ntitle=\"Cadastro realizado comsucesso!\"  (confirm)=\"CadastrarUsuario()\"&gt;\n&lt;/swal&gt;\n\n&lt;button type=\"submit\" [swal]=\"ok\" class=\"btn btn-primary def-button\"&gt;Cadastrar Usu\u00e1rio&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "eslint", "prettier"], "comments": [{"owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "edited": false, "score": 0, "creation_date": 1557321139, "post_id": 56041623, "comment_id": 98725158, "body": "Share some relevant code! We can&#39;t guess the contents of your App.js and component files"}, {"owner": {"reputation": 328, "user_id": 8851062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fea990cc894007e5c12bf4c4caf382?s=128&d=identicon&r=PG&f=1", "display_name": "zrna", "link": "https://stackoverflow.com/users/8851062/zrna"}, "reply_to_user": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "edited": false, "score": 0, "creation_date": 1557321457, "post_id": 56041623, "comment_id": 98725348, "body": "I updated the question and add the code"}], "answers": [{"comments": [{"owner": {"reputation": 328, "user_id": 8851062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fea990cc894007e5c12bf4c4caf382?s=128&d=identicon&r=PG&f=1", "display_name": "zrna", "link": "https://stackoverflow.com/users/8851062/zrna"}, "edited": false, "score": 0, "creation_date": 1557323284, "post_id": 56042241, "comment_id": 98726552, "body": "I found solution which removes errors. Adding this two line of code in .eslintrc.json under rules:  &quot;@typescript-eslint/explicit-function-return-type&quot;: &quot;off&quot; and &quot;@typescript-eslint/explicit-member-accessibility&quot;: &quot;off&quot;  .What do you think is better?  Your code to add &quot;public&quot; and other stuff or just add this 2 rules?"}, {"owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "reply_to_user": {"reputation": 328, "user_id": 8851062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fea990cc894007e5c12bf4c4caf382?s=128&d=identicon&r=PG&f=1", "display_name": "zrna", "link": "https://stackoverflow.com/users/8851062/zrna"}, "edited": false, "score": 1, "creation_date": 1557324311, "post_id": 56042241, "comment_id": 98727233, "body": "It&#39;s down to personal preference. If the question is how to satisfy the linter then the above is how you do that. If you don&#39;t want the rules (imo, those aren&#39;t particularly useful linting rules), then yeah, turn them off!"}, {"owner": {"reputation": 841, "user_id": 1644178, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RoY8j.jpg?s=128&g=1", "display_name": "Antfish", "link": "https://stackoverflow.com/users/1644178/antfish"}, "edited": false, "score": 5, "creation_date": 1565080931, "post_id": 56042241, "comment_id": 101229205, "body": "I&#39;m still having this error even with the typings installed."}, {"owner": {"reputation": 8304, "user_id": 2483271, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e06c0bb33ab0c1e5bdac8c6fe2751ff6?s=128&d=identicon&r=PG", "display_name": "Nick Bull", "link": "https://stackoverflow.com/users/2483271/nick-bull"}, "edited": false, "score": 2, "creation_date": 1580992380, "post_id": 56042241, "comment_id": 106285345, "body": "Try <code>const MyComponent = () : JSX.Element =&gt; ...</code> for typing React Components, as of 2020/02/06 - the type seems to have changed a few times."}, {"owner": {"reputation": 1787, "user_id": 2092322, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mcabk.jpg?s=128&g=1", "display_name": "BairDev", "link": "https://stackoverflow.com/users/2092322/bairdev"}, "reply_to_user": {"reputation": 8304, "user_id": 2483271, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e06c0bb33ab0c1e5bdac8c6fe2751ff6?s=128&d=identicon&r=PG", "display_name": "Nick Bull", "link": "https://stackoverflow.com/users/2483271/nick-bull"}, "edited": false, "score": 0, "creation_date": 1605266035, "post_id": 56042241, "comment_id": 114604307, "body": "@NickBull Your suggestion also works for the render method of a class, which extends React <code>Component</code>. Like: <code>render() : JSX.Element { ... }</code>."}], "tags": [], "owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "is_accepted": true, "score": 1, "last_activity_date": 1557323029, "creation_date": 1557323029, "answer_id": 56042241, "question_id": 56041623, "link": "https://stackoverflow.com/questions/56041623/missing-return-type-on-function-in-react-typescript-code/56042241#56042241", "title": "Missing return type on function - in react (typescript) code", "body": "<pre><code>Missing accessibility modifier on method definition render.eslint(@typescript-eslint/explicit-member-accessibility)\n</code></pre>\n\n<p>Accessibility modifiers are things like public/private/protected. For render, this should be public.</p>\n\n<p>So add the word public to render(): </p>\n\n<pre><code>class Main extends Component {\n    public render() {\n        ...\n    }\n}\n\n\nMissing return type on function.eslint(@typescript-eslint/explicit-function-return-type)\n</code></pre>\n\n<p>You shouldn't have that error here. This is telling you to add a return type to render, but since you've extended React.Component it should be able to load the type from the type definitions.</p>\n\n<p>Have you added @types/react &amp; @types/react-dom to your project?</p>\n\n<p>If not, <code>npm i -D @types/react @types/react-dom</code></p>\n\n<p>Also looks like you need <code>@types/redux</code> for your redux code: (<code>npm i -D @types/redux</code>)\n    import { Dispatch } from 'redux';</p>\n\n<pre><code>const mapDispatchToProps = (dispatch: Dispatch&lt;any&gt;) =&gt; {\n    return {\n        onNumberUp: () =&gt; dispatch({ type: 'NUMBER_UP' }),\n        onNumberDown: () =&gt; dispatch({ type: 'NUMBER_DOWN' }),\n    };\n};\n</code></pre>\n\n<p>Final note - I'm not a fan of the public/private accessor rule in ESLint. I would just disable it. More info here (point 1): <a href=\"https://medium.com/@martin_hotell/10-typescript-pro-tips-patterns-with-or-without-react-5799488d6680\" rel=\"nofollow noreferrer\">https://medium.com/@martin_hotell/10-typescript-pro-tips-patterns-with-or-without-react-5799488d6680</a></p>\n"}], "owner": {"reputation": 328, "user_id": 8851062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fea990cc894007e5c12bf4c4caf382?s=128&d=identicon&r=PG&f=1", "display_name": "zrna", "link": "https://stackoverflow.com/users/8851062/zrna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13846, "favorite_count": 0, "accepted_answer_id": 56042241, "answer_count": 1, "score": 6, "last_activity_date": 1575132671, "creation_date": 1557321000, "last_edit_date": 1575132671, "question_id": 56041623, "link": "https://stackoverflow.com/questions/56041623/missing-return-type-on-function-in-react-typescript-code", "title": "Missing return type on function - in react (typescript) code", "body": "<p>In my App.tsx i got this:</p>\n\n<ul>\n<li>Missing return type on function.eslint(@typescript-eslint/explicit-function-return-type)</li>\n</ul>\n\n<p>And in my main class component i got these:</p>\n\n<ul>\n<li>Missing accessibility modifier on method definition render.eslint(@typescript-eslint/explicit-member-accessibility)</li>\n<li>Missing return type on function.eslint(@typescript-eslint/explicit-function-return-type)</li>\n</ul>\n\n<p>I'm using React with TypeScript.\nFor linter I use ESLint and for code formating Prettier.</p>\n\n<p>I found this info: <a href=\"https://github.com/typescript-eslint/typescript-eslint/blob/v1.6.0/packages/eslint-plugin/docs/rules/explicit-function-return-type.md\" rel=\"nofollow noreferrer\">https://github.com/typescript-eslint/typescript-eslint/blob/v1.6.0/packages/eslint-plugin/docs/rules/explicit-function-return-type.md</a> , but I don't know how and where to apply it.</p>\n\n<p>App.tsc</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Main extends Component {\n    render() {\n        return (\n            &lt;Router&gt;\n                &lt;div&gt;\n                    &lt;Link to=\"/\"&gt;Home&lt;/Link&gt;\n                    &lt;br /&gt;\n                    &lt;Link to=\"/component1\"&gt;Component1&lt;/Link&gt;\n                    &lt;br /&gt;\n                    &lt;Link to=\"/component2\"&gt;Component2&lt;/Link&gt;\n\n                    &lt;Route exact path=\"/\" render={() =&gt; &lt;h1&gt;Home Page&lt;/h1&gt;} /&gt;\n                    &lt;Route path=\"/component1\" component={Component1} /&gt;\n                    &lt;Route path=\"/component2\" component={Component2} /&gt;\n                &lt;/div&gt;\n            &lt;/Router&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>Component1.tsc</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Props {\n    number: number;\n    onNumberUp: any;\n    onNumberDown: any;\n}\n\nconst Component1 = (props: Props): JSX.Element =&gt; {\n    return (\n        &lt;div&gt;\n            &lt;h1&gt;Component1 content&lt;/h1&gt;\n            &lt;p&gt;Number: {props.number}&lt;/p&gt;\n            &lt;button onClick={props.onNumberDown}&gt;-&lt;/button&gt;\n            &lt;button onClick={props.onNumberUp}&gt;+&lt;/button&gt;\n        &lt;/div&gt;\n    );\n};\n\nconst mapStateToProps = (state: any) =&gt; {\n    return {\n        number: state.firstReducer.number,\n    };\n};\n\nconst mapDispachToProps = (dispach: any) =&gt; {\n    return {\n        onNumberUp: () =&gt; dispach({ type: 'NUMBER_UP' }),\n        onNumberDown: () =&gt; dispach({ type: 'NUMBER_DOWN' }),\n    };\n};\n</code></pre>\n\n<p>Reducer and actions are in separate folders.</p>\n\n<p>Component1 and Component2 are similar.</p>\n\n<p>Does someone knows how to fix this error?</p>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1557321117, "post_id": 56041621, "comment_id": 98725147, "body": "Read about <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>Array.map()</code></a>."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1557321157, "post_id": 56041621, "comment_id": 98725174, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19590865/from-an-array-of-objects-extract-value-of-a-property-as-array\">From an array of objects, extract value of a property as array</a>"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1557321188, "post_id": 56041621, "comment_id": 98725190, "body": "<code>this.valuesToSend.map(a =&gt; a.id)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 6573438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc9d23ce69017ce86e685f8c791e220?s=128&d=identicon&r=PG&f=1", "display_name": "holmrenser", "link": "https://stackoverflow.com/users/6573438/holmrenser"}, "is_accepted": true, "score": 0, "last_activity_date": 1557321236, "creation_date": 1557321236, "answer_id": 56041707, "question_id": 56041621, "link": "https://stackoverflow.com/questions/56041621/ignore-json-property-and-get-only-values/56041707#56041707", "title": "ignore JSON property and get only values", "body": "<p>If you know the object key, using ES6, Array.map() and object destructuring, you could do it like this</p>\n\n<pre><code>const a = [{ \"id\": 21 }, { \"id\": 22 }, { \"id\": 24 }];\nconst valuesToSend = a.map(({ id }) =&gt; id);\nalert(valuesToSend)\n</code></pre>\n"}], "owner": {"reputation": 621, "user_id": 6579134, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/07e842fb23846ce7b45f305a0fc16bc5?s=128&d=identicon&r=PG&f=1", "display_name": "user6579134", "link": "https://stackoverflow.com/users/6579134/user6579134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56041707, "answer_count": 1, "score": 0, "last_activity_date": 1557321236, "creation_date": 1557320992, "question_id": 56041621, "link": "https://stackoverflow.com/questions/56041621/ignore-json-property-and-get-only-values", "title": "ignore JSON property and get only values", "body": "<p>I pull some data from an API which returns something like this </p>\n\n<pre><code>[{\"id\":21},{\"id\":22},{\"id\":24}]\n</code></pre>\n\n<p>I will have to post the data received to a database via a different API, but when I'm sending I want it to be sent like <code>[21,22,24]</code>\nFor example the variable that receives the data from the API is called <code>valuesToSend</code> which comes <code>[{\"id\":21},{\"id\":22},{\"id\":24}]</code> but when posting, it should be <code>[21,22,24]</code></p>\n\n<pre><code>postToDb(){\nalert(this.valuesToSend)\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "time"], "comments": [{"owner": {"reputation": 145, "user_id": 10176648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7b8c8b985fe21b2abceea91cb0224e?s=128&d=identicon&r=PG&f=1", "display_name": "Pawan Jangid", "link": "https://stackoverflow.com/users/10176648/pawan-jangid"}, "edited": false, "score": 0, "creation_date": 1557322072, "post_id": 56041618, "comment_id": 98725764, "body": "do you want something like &quot;15 hours Minutes passed 10&quot; from a given start time"}, {"owner": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "reply_to_user": {"reputation": 145, "user_id": 10176648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7b8c8b985fe21b2abceea91cb0224e?s=128&d=identicon&r=PG&f=1", "display_name": "Pawan Jangid", "link": "https://stackoverflow.com/users/10176648/pawan-jangid"}, "edited": false, "score": 0, "creation_date": 1557322271, "post_id": 56041618, "comment_id": 98725905, "body": "Hi @PawanJangid, I want to have array of all hours of day (24 hours) but minutes difference can be selected by user (10minutes, 20 minutes, 15 minutes, 30, 45, 60) I am updating post to show desired results."}, {"owner": {"reputation": 145, "user_id": 10176648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7b8c8b985fe21b2abceea91cb0224e?s=128&d=identicon&r=PG&f=1", "display_name": "Pawan Jangid", "link": "https://stackoverflow.com/users/10176648/pawan-jangid"}, "edited": false, "score": 0, "creation_date": 1557323810, "post_id": 56041618, "comment_id": 98726902, "body": "Can try for (let i = startMinutes; i &lt; 24 * 60; i += parsedSlotSize)"}, {"owner": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "reply_to_user": {"reputation": 145, "user_id": 10176648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7b8c8b985fe21b2abceea91cb0224e?s=128&d=identicon&r=PG&f=1", "display_name": "Pawan Jangid", "link": "https://stackoverflow.com/users/10176648/pawan-jangid"}, "edited": false, "score": 0, "creation_date": 1557324327, "post_id": 56041618, "comment_id": 98727242, "body": "@PawanJangid That is what I am already doing."}], "owner": {"reputation": 3047, "user_id": 3032338, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/hY3Qu.jpg?s=128&g=1", "display_name": "Alwaysalearner", "link": "https://stackoverflow.com/users/3032338/alwaysalearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557324281, "creation_date": 1557320980, "last_edit_date": 1557324281, "question_id": 56041618, "link": "https://stackoverflow.com/questions/56041618/how-to-create-array-of-hours-starting-from-specific-hour-with-specific-minutes-i", "title": "How to create array of hours starting from specific hour with specific minutes interval", "body": "<p>Using typescript(Angular) I want to have list of all hours of day with minutes difference as passed and less than the time passed.</p>\n\n<p>Below is my current code:</p>\n\n<p>typescript file</p>\n\n<pre><code>  ngOnInit()\n  {\n    this.dayaHours =   this.getHours(\"15\", \"10:00:00\")\n  }\n    getHours(step, yourTime) {\n\n    const slotArray = [];\n    const startMinutes = yourTime ? this.howManyMinutesPassed(yourTime) : 0;\n    const parsedSlotSize = parseInt(step.toString(), 10);\n\n\n    for (let i = startMinutes; i &lt;= 24 * 60; i += parsedSlotSize) {\n      slotArray.push({\n        time: this.convertMinutesToTimeFormat(i),\n        minutes: i,\n      });\n    }\n\n    return [...slotArray];\n  }\n\n  howManyMinutesPassed(time) {\n    const [hour, minutes] = time.split(':').map((value) =&gt; parseInt(value, 10));\n    return hour * 60 + minutes;\n  }\n\n  public convertMinutesToTimeFormat(mins) {\n    let h: string | number = Math.floor(mins / 60);\n    let m: string | number = mins % 60;\n    h = h &lt; 10 ? '0' + h : h;\n    m = m &lt; 10 ? '0' + m : m;\n    return `${h}:${m}:00`;\n  }\n\n\n  formatTime(time)\n  {\n\n    const H = +time.substr(0, 2);\n    const h = H % 12 || 12;\n    const ampm = (H &lt; 12 || H === 24) ? \" AM\" : \" PM\";\n    return h + time.substr(2, 3) + ampm;\n\n  }\n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;div *ngFor=\"let time of dayaHours\"&gt;&lt;p&gt;{{formatTime(time.time)}}&lt;/p&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I want to restrict to add 24:00 into my array when selected time is greater than 12:00 AM.</p>\n\n<p>Please refer <a href=\"https://stackblitz.com/edit/angular-lc2agx?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">Demo stackblitz</a></p>\n\n<p>UPDATE:</p>\n\n<p>Using above code:</p>\n\n<p>If I use getHours function </p>\n\n<pre><code>getHours('10', '12:00')\n</code></pre>\n\n<blockquote>\n  <p>Output: [<strong>12:00 AM</strong>, 12:10 AM, 12:20 AM, 12:30 AM, 12:40 AM, 12:50\n  AM, 1:00 AM......so on, 11:00PM, 11:10 PM, 11:20 PM, 11:30 PM, 11:40\n  PM, 11:50 PM, <strong>12:00AM</strong>]</p>\n</blockquote>\n\n<p>In above case I don't want to have 12:00 AM again.\nSame happen if I pass time 10:00 to getHours function etc.</p>\n\n<p>Similar question <a href=\"https://stackoverflow.com/questions/49245033/javascript-generate-array-of-hours-in-the-day-starting-with-current-hour\">javascript-generate-array-of-hours-in-the-day-starting-with-current-hour</a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 6624, "user_id": 4896493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/197888927236621/picture?type=large", "display_name": "Sergey Mell", "link": "https://stackoverflow.com/users/4896493/sergey-mell"}, "is_accepted": true, "score": 1, "last_activity_date": 1557321382, "creation_date": 1557321382, "answer_id": 56041751, "question_id": 56041547, "link": "https://stackoverflow.com/questions/56041547/calling-push-method-on-array-crashes-after-object-is-updated-with-object-assign/56041751#56041751", "title": "Calling push method on array crashes after object is updated with Object.assign", "body": "<p>By using <code>Object.assign(this, model);</code> you simply bind two objects together (as long as javascript objects are passed by reference). See this code for explanation:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>obj1 = {}\r\nobj2 = {list: []}\r\nObject.assign(obj1, obj2);\r\nobj2.list.push(1);\r\nconsole.log(obj1.list);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So, after adding element to the property of second object it appears in the first one.</p>\n\n<p>Let's get back to your question. You've binded <code>this</code> and <code>model</code> objects. Iterating over <code>model.send</code> property you are pushing elements to <code>this.sent</code> which is actually the same as if you'd push elements to <code>model.send</code>. Thus you get an infinite loop.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11299236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IwLrrYuwMnM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reFdXARuWeMkWKbvonHr2rJMEroMQ/mo/photo.jpg?sz=128", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/11299236/vladimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1557331506, "creation_date": 1557331506, "answer_id": 56044831, "question_id": 56041547, "link": "https://stackoverflow.com/questions/56041547/calling-push-method-on-array-crashes-after-object-is-updated-with-object-assign/56044831#56044831", "title": "Calling push method on array crashes after object is updated with Object.assign", "body": "<p>Otherwise, using <code>this.sent.concat(new Sent(x));</code> you don\u2019t change anything due to\n<code>concat</code> method creates a new array consisting of the elements from both arrays that is returned. So, in your case, after  <code>Object.assign(this, model);</code> there is already <code>Object{\"id\":23}</code> in <code>sent</code> property that returns and <code>this.sent.concat(new Sent(x))</code> just is instruction that do nothing.</p>\n"}], "owner": {"reputation": 1220, "user_id": 3208697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kOAQA.jpg?s=128&g=1", "display_name": "kodebot", "link": "https://stackoverflow.com/users/3208697/kodebot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 56041751, "answer_count": 2, "score": 0, "last_activity_date": 1557331506, "creation_date": 1557320787, "question_id": 56041547, "link": "https://stackoverflow.com/questions/56041547/calling-push-method-on-array-crashes-after-object-is-updated-with-object-assign", "title": "Calling push method on array crashes after object is updated with Object.assign", "body": "<p>We receive JSON from the network and we are converting the data into the objects of the classes we have in TypeScript so the getter and setters work, like in the example below</p>\n\n<pre><code>class Sent {\n  id: number\n\n  constructor(model? : Sent){\n    if(model){\n      Object.assign(this, model);\n    }\n  }\n}\n\nclass Email{\n  name: string;\n  age: number;\n  sent: Sent[];\n\n  constructor(model?: Email){\n    if(model){\n      Object.assign(this, model);\n      for(let x of model.sent){\n        this.sent.push(new Sent(x))\n       }\n    }\n  }\n}\n</code></pre>\n\n<p>When we create a new object using the JSON data like in the example below, the browser crashes on the line <code>this.sent.push(new Sent(x))</code>.</p>\n\n<p>If we replace <code>push</code> with <code>concat</code> it works fine. </p>\n\n<p>If we set <code>this.sent</code> to new empty array before the loop, like this <code>this.sent = []</code>, then it works too</p>\n\n<p>Just trying to understand why <code>push</code> method crashes here. Any help is appreciated</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-ffh7ya\" rel=\"nofollow noreferrer\">Stackblitz</a> to recreate the issue.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 1, "creation_date": 1557320695, "post_id": 56041453, "comment_id": 98724866, "body": "Why are you <a href=\"https://stackoverflow.com/questions/56040561/angular-rxjs-observable-never-doesnt-work-subscription-terminates\">deleting</a> and reposting this same question? Do you think this will get you an answer??"}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1557320712, "post_id": 56041453, "comment_id": 98724873, "body": "What do you mean by <code>the subscription terminates</code>?"}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1557320749, "post_id": 56041453, "comment_id": 98724903, "body": "Subscription should continue processing <code>2</code> value instead of stopping..."}], "answers": [{"tags": [], "owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "is_accepted": false, "score": 1, "last_activity_date": 1557320856, "creation_date": 1557320856, "answer_id": 56041569, "question_id": 56041453, "link": "https://stackoverflow.com/questions/56041453/rxjs-observable-never-keeps-like-subscription/56041569#56041569", "title": "RxJS: Observable.never() keeps like subscription", "body": "<p>You get the output </p>\n\n<pre><code>1 \nerror catched\n</code></pre>\n\n<p>because the first value throws an error in <code>tap</code> which is propagated through the <code>onError</code> channel which halts the sequence. With <code>catch</code> you catch this error and move on to the next sequence (<code>never</code>), but the first sequence (<code>of(1,2)</code>) is still halted. So after <code>1</code> throws an error <code>2</code> is never processed by <code>tap</code>.</p>\n\n<p>After you return <code>never</code> in <code>catch</code> no value is emitted and the Observable never completes. If you add logs inside <code>subscribe</code> for the <code>next</code>, <code>error</code> and <code>complete</code> callbacks you will see that they are never executed.</p>\n"}, {"comments": [{"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1557324025, "post_id": 56041827, "comment_id": 98727026, "body": "I&#39;ve added my <b>real case</b> in post. As you can see, it tries to make a request to a service. Could you take a look a look? I hope no more code is needed..."}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1557328221, "post_id": 56041827, "comment_id": 98729689, "body": "@Jordi what causes the exception? <code>page =&gt; this.loadedPage(page)</code> under <code>do</code>?"}], "tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": false, "score": 1, "last_activity_date": 1557323177, "last_edit_date": 1557323177, "creation_date": 1557321655, "answer_id": 56041827, "question_id": 56041453, "link": "https://stackoverflow.com/questions/56041453/rxjs-observable-never-keeps-like-subscription/56041827#56041827", "title": "RxJS: Observable.never() keeps like subscription", "body": "<p>Yes all the explanation by @frido is correct. With that answer I would like to add:</p>\n\n<p>If you want to capture any error occuring in any particular Observable itself(say an HTTP request) then you need to handle it in that particular erroring Observable.</p>\n\n<pre><code>  let correct = Observable.of(\"correct\")\n  let inCorrect = Observable.throw('inCorect')\n\n  let obs = [inCorrect, correct];\n  let handledObs = obs.map(eachObs =&gt; {\n    return eachObs.catch((e) =&gt; {\n      console.log(\"Individual handler, Good Catch!\");\n      return Observable.of(\"I am tampered\");\n    })\n  })\n\n  forkJoin(...handledObs)\n  .do(a =&gt; {\n      console.log(a);\n  })\n  .catch(() =&gt; {\n      console.log(\"error catched\");\n      return Observable.never();\n  })\n  .subscribe(data =&gt; {\n    console.log(`data`, data)\n  },(e) =&gt; {\n      console.log(`error`, e)\n  });\n\n}\n</code></pre>\n\n<p>See an example here: <a href=\"https://stackblitz.com/edit/angular-7mmhn7?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-7mmhn7?file=src/app/app.component.ts</a></p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>However when I look at your code, it looks to me that you are trying to log something and the returned data may not have a <code>length</code> property, even in that case you want to proceed with the stream. If this is true then you can add a simple <code>try</code> <code>catch</code> under <code>do()</code></p>\n\n<pre><code>  from([1, 2])\n  .do(a =&gt; {\n      try {\n        console.log(a);\n        let d:string = null;\n        let r = d.length;\n      } catch(e) {\n        console.log(`catched under do`, e)\n      }\n  })\n  .catch(() =&gt; {\n      console.log(\"error catched\");\n      return Observable.of('catched');\n  })\n  .subscribe(data =&gt; {\n    console.log(`data`, data)\n  },(e) =&gt; {\n      console.log(`error`, e)\n  });\n</code></pre>\n\n<p>Here is an example: <a href=\"https://stackblitz.com/edit/angular-bcrava?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-bcrava?file=src/app/app.component.ts</a></p>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1557323928, "creation_date": 1557320545, "last_edit_date": 1557323928, "question_id": 56041453, "link": "https://stackoverflow.com/questions/56041453/rxjs-observable-never-keeps-like-subscription", "title": "RxJS: Observable.never() keeps like subscription", "body": "<p>I'm using rxjs 5.5.6.</p>\n\n<p>I've created this code in order to show the behavior:</p>\n\n<pre><code>Observable.of(1, 2)\n    .do(a =&gt; {\n        console.log(a);\n        let d:string = null;\n        let r = d.length;  // it raises an null exception\n    })\n    .catch(() =&gt; {\n        console.log(\"error catched\");  //exception is capture here\n        return Observable.never();\n    })\n    .subscribe();\n</code></pre>\n\n<p>I was expecting that the output is:</p>\n\n<pre><code>1\nerror catched\n2\nerror catched\n</code></pre>\n\n<p>However, the output is:</p>\n\n<pre><code>1\nerror catched\n</code></pre>\n\n<p>It means, the subscription terminates despite of an <code>Observable.never()</code> is returned on <code>.catch(...)</code> method chain.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>REAL CASE</strong></p>\n\n<pre><code>this.subs = Observable\n    .merge(this.$searchQuery, this.$lazyQuery)\n    .do(() =&gt; this.loadingPage())\n    .map(filter =&gt; this.buildURL(user, app, filter))\n    .switchMap(url =&gt; this.service.getItemsFromService(url))\n    .map(response =&gt; this.buildPage(response))\n    .do(page =&gt; this.loadedPage(page))\n    .catch(() =&gt; {\n        this.loadedPage(pojo.Page.EMPTY);\n        return Observable.never();\n    })\n    .takeUntil(this.$unsubscribe)\n    .subscribe();\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 4167801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e743c80591294003191bab3b45b2aa?s=128&d=identicon&r=PG&f=1", "display_name": "W. K.", "link": "https://stackoverflow.com/users/4167801/w-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1557387805, "creation_date": 1557387805, "answer_id": 56054503, "question_id": 56041376, "link": "https://stackoverflow.com/questions/56041376/typescript-doesn-t-recognize-d-ts-from-node-module/56054503#56054503", "title": "TypeScript doesn\u2019t recognize .d.ts from node module", "body": "<p>This is most likely because TypeScript has no context as to which version of <code>defineMessages</code> to use.<br>\nTypeScript supports <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">merging declarations</a> which also gets applied when importing modules.</p>\n\n<p>Importing <code>babel-plugin-react-intl-auto</code> alongside <code>react-intl</code> should merge these definitions, allowing TypeScript to understand both syntaxes.</p>\n"}], "owner": {"reputation": 5829, "user_id": 1154610, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fe52b3d3928f49a5057987549d39d1cb?s=128&d=identicon&r=PG", "display_name": "Remco Haszing", "link": "https://stackoverflow.com/users/1154610/remco-haszing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 56054503, "answer_count": 1, "score": 0, "last_activity_date": 1557387805, "creation_date": 1557320282, "question_id": 56041376, "link": "https://stackoverflow.com/questions/56041376/typescript-doesn-t-recognize-d-ts-from-node-module", "title": "TypeScript doesn\u2019t recognize .d.ts from node module", "body": "<p>I\u2019m using <a href=\"https://github.com/akameco/babel-plugin-react-intl-auto\" rel=\"nofollow noreferrer\"><code>babel-plugin-react-intl-auto</code></a> and TypeScript.</p>\n\n<p>This package has defined typings in <a href=\"https://github.com/akameco/babel-plugin-react-intl-auto/blob/v1.7.0/src/types.d.ts\" rel=\"nofollow noreferrer\"><em>lib/types.d.ts</em></a> (It is in lib when installed using npm). These override typings of another package.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { FormattedMessage } from 'react-intl'\n\ndeclare module 'react-intl' {\n  interface ExtractableMessage {\n    [key: string]: string\n  }\n\n  export function defineMessages&lt;T extends ExtractableMessage&gt;(\n    messages: T\n  ): { [K in keyof T]: FormattedMessage.MessageDescriptor }\n}\n</code></pre>\n\n<p>They have specified this in <a href=\"https://github.com/akameco/babel-plugin-react-intl-auto/blob/v1.7.0/package.json#L5\" rel=\"nofollow noreferrer\"><em>package.json</em></a></p>\n\n<pre><code>{\n  // ...\n  \"types\": \"lib/types.d.ts\",\n  // ...\n}\n</code></pre>\n\n<p>This all seems fine. However, When I use this package, TypeScript complains about the function signature of <code>defineMessages</code>.</p>\n\n<p>If I copy those typings into my own <em>index.d.ts</em>, it just works as expected.</p>\n\n<p>For completness sake, this is my <em>tsconfig.json</em>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"noEmit\": true,\n    \"noImplicitAny\": true,\n    \"esModuleInterop\": true,\n    \"jsx\": \"react\",\n    \"lib\": [\"es5\", \"es6\", \"dom\"]\n  }\n}\n</code></pre>\n\n<p>Why won\u2019t TypeScript use these typings?</p>\n"}, {"tags": ["javascript", "typescript", "postman", "postman-testcase"], "comments": [{"owner": {"reputation": 749, "user_id": 6677508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AktRM.jpg?s=128&g=1", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/6677508/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1557320128, "post_id": 56041283, "comment_id": 98724472, "body": "compare them with <code>.toLowerCase()</code> because right now &#39;Counter&#39; doesn&#39;t exist as the key you have is &#39;counter&#39;."}, {"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 0, "creation_date": 1557320301, "post_id": 56041283, "comment_id": 98724581, "body": "JSON is  the string used to transmit a Javascript Object. JSON stands for Javascript Object Notation. You are not comparing keys in a &quot;JSON body&quot; you are comparing keys in a javascript object."}, {"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "reply_to_user": {"reputation": 749, "user_id": 6677508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AktRM.jpg?s=128&g=1", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/6677508/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1557320328, "post_id": 56041283, "comment_id": 98724604, "body": "@Jabberwocky that is bad advice because properties are case sensitive."}, {"owner": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557320489, "post_id": 56041283, "comment_id": 98724707, "body": "@kishor What are the keys that you are looking for?"}, {"owner": {"reputation": 2321, "user_id": 2535356, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8517bb7eb580d6bed728339d79ba5d1d?s=128&d=identicon&r=PG", "display_name": "transporter_room_3", "link": "https://stackoverflow.com/users/2535356/transporter-room-3"}, "edited": false, "score": 1, "creation_date": 1557320594, "post_id": 56041283, "comment_id": 98724794, "body": "It looks like you are expecting a string to equal a number (&quot;400&quot; is not the same as 400)"}, {"owner": {"reputation": 749, "user_id": 6677508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AktRM.jpg?s=128&g=1", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/6677508/jabberwocky"}, "reply_to_user": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 0, "creation_date": 1557320661, "post_id": 56041283, "comment_id": 98724842, "body": "@Marie he was talking about counter specifically. And also if you use to lowercase on both sides of the comparison, it would still be fine."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1557320712, "post_id": 56041283, "comment_id": 98724874, "body": "&quot;<i>But I would like to compare &#39;counter&#39; to &#39;counter&#39; itself. (cases like, Counter, CounTer, etc.)</i>&quot; what do you mean? Check if the key <code>counter</code> is spelled <code>counter</code> and not <code>counTer</code>? Or what?"}, {"owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "reply_to_user": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557320777, "post_id": 56041283, "comment_id": 98724927, "body": "@KrishnaPrashatt I want to compare all those 3 keys from my JSON output ( counter, validInMinutes, currentCounter)"}, {"owner": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557320839, "post_id": 56041283, "comment_id": 98724969, "body": "@kishor compare the keys <b>with what</b>? or compare them one with other?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1557320848, "post_id": 56041283, "comment_id": 98724974, "body": "Compare the <i>keys</i> or compare <i>the values</i>? And what is the expected result from comparing them - what do you want that to give you?"}, {"owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "reply_to_user": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557321526, "post_id": 56041283, "comment_id": 98725402, "body": "@KrishnaPrashatt sorry for my Bad explanation but I will try to make to simple. I want to compare KEYS with KEYS only. I am just confused that should i use loop and compare my JSON output of only keys to some array. Sould I store 3 KEYS in any array and then compare it with JSON Key list. ?"}, {"owner": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557321677, "post_id": 56041283, "comment_id": 98725511, "body": "@kishor So you are telling, you are already having a list of keys and you need to compare them with the key list you are receiving from response?"}, {"owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1557321736, "post_id": 56041283, "comment_id": 98725543, "body": "@VLAZ Keys, not the Values"}, {"owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "reply_to_user": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557321991, "post_id": 56041283, "comment_id": 98725708, "body": "@KrishnaPrashatt  Yes, my JSON output looks same as mentioned in Question."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1557322035, "post_id": 56041283, "comment_id": 98725734, "body": "@kishor and what is the expected result of that? Do you want to check if each of a list of predefined key exists in the result? Do you want to ensure that the result <i>only</i> has the predefined list of keys and fail if it misses or has any extra ones? Do you want to instead inverse that and check if the result contains keys that are in a predefined list (as opposed to a predefined list in the result)? What should happen when you compare the keys to something else?"}, {"owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "reply_to_user": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557322125, "post_id": 56041283, "comment_id": 98725803, "body": "@KrishnaPrashatt For Example,                                                         json_response = JSON.parse(responseBody); x=json_response.counter pm.expect(x).to.equal(&quot;counter&quot;);                                                                     But this code gives the value of &#39;counter&#39; Key which is 400 not the Key itself. so Is there a way to compare Key with Key ?"}, {"owner": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557322295, "post_id": 56041283, "comment_id": 98725927, "body": "you can check <code>Object.keys(json_response)</code> this will give all keys of the response or you can use <code>for(let key in json_response)</code> and check for <code>indexOf</code> comparing the keys with your array list"}, {"owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1557322457, "post_id": 56041283, "comment_id": 98726020, "body": "@VLAZ  Thank you for writing a lot for my question. Yes, I would like to PASS it when  the JSON Key is equal to my expectations. for example, pm.expect(x).to.equal(&quot;counter&quot;). But I it doesnt compare the Keys, It will look for Values."}, {"owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "reply_to_user": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557322851, "post_id": 56041283, "comment_id": 98726280, "body": "@KrishnaPrashatt Thank you but once i have list of Key then how to test with my array. Is it possible without loop ? something like this:     pm.expect(Object.keys(jsonData)).to.eql(&quot;counter&quot;);  without loop I still want to compare all 3 parameters."}, {"owner": {"reputation": 602, "user_id": 9619207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Krishna Prashatt", "link": "https://stackoverflow.com/users/9619207/krishna-prashatt"}, "edited": false, "score": 0, "creation_date": 1557323011, "post_id": 56041283, "comment_id": 98726386, "body": "@kishor well, you cant avoid loops because there is no ordering in an object.i.e., you cannot expect the keys to follow a particular order."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1557324099, "post_id": 56041283, "comment_id": 98727091, "body": "I removed my answer temporarily. I knew Postman used Chai for its tests but apparently...it doesn&#39;t any more. And the documentation for their test syntax is a bit hard to find. I&#39;ll update my answer and re-post the answer."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1557325602, "post_id": 56041283, "comment_id": 98728086, "body": "Re-posted the answer. Postman&#39;s documentation is really frustrating. I found few places that said they <i>used</i> to use Chai and don&#39;t any more and yet the official documentation says that Postman does actually use Chai. I am fairly sure that&#39;s the case but they seem to just be exposing it through that <code>pm</code> interface. But it&#39;s not very well explained."}], "answers": [{"tags": [], "owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1557325314, "last_edit_date": 1557325314, "creation_date": 1557323567, "answer_id": 56042405, "question_id": 56041283, "link": "https://stackoverflow.com/questions/56041283/how-to-compare-json-body-object-name-keys-itself/56042405#56042405", "title": "How to compare JSON body object name (Keys) itself?", "body": "<p>Postman's <a href=\"https://learning.getpostman.com/docs/postman/scripts/postman_sandbox_api_reference/#pmcookies\" rel=\"nofollow noreferrer\"><code>pm.expect</code> uses the Chai library for assertions</a> (this links to <code>pm.cookies</code> but the entry for <code>pm.expect</code> is under that heading, for some reason). A using <a href=\"https://www.chaijs.com/api/bdd/\" rel=\"nofollow noreferrer\">the Chai API</a> you can verify the response <em>only</em> has the keys you expect by saying <code>expect(someObject).to.have.keys(expectedKeys)</code> and define what the keys should be:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//for convenience - in Postman, these would be readily available. \r\nvar pm = { \r\n  expect: chai.expect, \r\n  response: {\r\n    json: function() {\r\n      // the response you would get\r\n      return { \"counter\": 400, \"validInMinutes\": 660, \"currentCounter\": 322 };\r\n    }\r\n  }\r\n};\r\n\r\n/* --- test script begins --- */\r\n\r\nvar expectedKeys = [\"counter\", \"validInMinutes\", \"currentCounter\"];\r\n\r\npm.expect(pm.response.json()).to.have.keys(expectedKeys); // OK</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And here are some examples of how this can expectation can fail:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var pm = { \r\n  expect: chai.expect, \r\n  response: {\r\n    json: function() {\r\n      // \"Counter\" starts with capital C\r\n      return { \"Counter\": 400, \"validInMinutes\": 660, \"currentCounter\": 322 };\r\n    }\r\n  }\r\n};\r\n\r\n/* --- test script begins --- */\r\n\r\nvar expectedKeys = [\"counter\", \"validInMinutes\", \"currentCounter\"];\r\n\r\npm.expect(pm.response.json()).to.have.keys(expectedKeys); // fails</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var pm = { \r\n  expect: chai.expect, \r\n  response: {\r\n    json: function() {\r\n      // \"counter\" is missing\r\n      return { \"validInMinutes\": 660, \"currentCounter\": 322 };\r\n    }\r\n  }\r\n};\r\n\r\n/* --- test script begins --- */\r\n\r\nvar expectedKeys = [\"counter\", \"validInMinutes\", \"currentCounter\"];\r\n\r\npm.expect(pm.response.json()).to.have.keys(expectedKeys); // fails</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var pm = { \r\n  expect: chai.expect, \r\n  response: {\r\n    json: function() {\r\n      //same object you have...\r\n      return { \"counter\": 400, \"validInMinutes\": 660, \"currentCounter\": 322 };\r\n    }\r\n  }\r\n};\r\n\r\n/* --- test script begins --- */\r\n\r\n//...but there is an extra expected key\r\nvar expectedKeys = [\"counter\", \"validInMinutes\", \"currentCounter\", \"otherKey\"];\r\n\r\npm.expect(pm.response.json()).to.have.keys(expectedKeys); // fails</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 567, "user_id": 9906505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e123c0f89e74ef81b773f44007bf27a?s=128&d=identicon&r=PG&f=1", "display_name": "DieGraueEminenz", "link": "https://stackoverflow.com/users/9906505/diegraueeminenz"}, "is_accepted": false, "score": 1, "last_activity_date": 1557378988, "creation_date": 1557378988, "answer_id": 56052640, "question_id": 56041283, "link": "https://stackoverflow.com/questions/56041283/how-to-compare-json-body-object-name-keys-itself/56052640#56052640", "title": "How to compare JSON body object name (Keys) itself?", "body": "<p>You have a specific schema in your mind, that you want to check. (e.g. Mandatory fields, Types, etc.)\nAn other possible way is to validate against a pre-defined JSON-schema:</p>\n\n<pre><code>//Schema definition (can be available as a global var)\nvar schema = {\n    \"type\": \"object\",\n    \"properties\": {\n        \"counter\": {\n            \"type\": \"number\"\n        },\n        \"validInMinutes\": {\n            \"type\": \"number\"\n        },\n        \"currentCounter\": {\n            \"type\": \"number\"\n        }\n    },\n    \"required\": [\"counter\", \"validInMinutes\", \"currentCounter\"]\n};\n\n//Test\npm.test('Schema is valid', function() {\n    var jsonData = pm.response.json();\n    pm.expect(tv4.validate(jsonData, schema)).to.be.true;\n});\n</code></pre>\n\n<p>The Line <code>\"required\": [\"counter\", \"validInMinutes\", \"currentCounter\"]</code> is exactly your definition of what kind of properties must be there. But you can also define more strct rules, as \"must be of type Numer\", or must have exactly 3 digits, and so on.</p>\n"}], "owner": {"reputation": 177, "user_id": 2728356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2c837e716365738c92ed8948553a97?s=128&d=identicon&r=PG&f=1", "display_name": "kishu", "link": "https://stackoverflow.com/users/2728356/kishu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1557378988, "creation_date": 1557320005, "last_edit_date": 1557320757, "question_id": 56041283, "link": "https://stackoverflow.com/questions/56041283/how-to-compare-json-body-object-name-keys-itself", "title": "How to compare JSON body object name (Keys) itself?", "body": "<p>I am very new to Postman. I want to compare JSON body object response.</p>\n\n<pre><code>json_response = JSON.parse(responseBody);\nx=json_response.counter\npm.expect(x).to.equal(\"400\");\n</code></pre>\n\n<p>It gives me 400 value of that corresponding 'counter' (or '400' Value of Key 'counter') </p>\n\n<p>But I would like to compare 'counter' to 'counter' itself. (cases like, Counter, CounTer, etc.)</p>\n\n<pre><code>{\n\n    \"counter\": 400,\n    \"validInMinutes\": 660,\n    \"currentCounter\": 322,\n\n}\n</code></pre>\n\n<p>Basically, I want to test that received all JSON Keys are equal to what I am looking for!\n    Is there an easy way to do it?</p>\n"}, {"tags": ["reactjs", "typescript", "setstate"], "comments": [{"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 2, "creation_date": 1557319900, "post_id": 56041147, "comment_id": 98724348, "body": "Think of React as a library for creating Components that can be reused multiple times in your application. Why not creating a component which will display the items with two links <code>Show less</code> / <code>Show more</code>, this component would have a single state variable to know if the user is showing less or more items"}, {"owner": {"reputation": 1449, "user_id": 6419859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zc5GN.jpg?s=128&g=1", "display_name": "Bj&#246;rn B&#246;ing", "link": "https://stackoverflow.com/users/6419859/bj%c3%b6rn-b%c3%b6ing"}, "reply_to_user": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 1, "creation_date": 1557321633, "post_id": 56041147, "comment_id": 98725480, "body": "@OlivierBoiss&#233; is right. It seems like you are overcomplicating things by using different state attributes for parts which are the same but just duplicate. Try to build resuable components instead. Like a <code>Card</code> component which has <code>state.isExpanded</code>, a method to toggle this attribute and then render as much of them as you want."}], "answers": [{"tags": [], "owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "is_accepted": true, "score": 1, "last_activity_date": 1557322467, "creation_date": 1557322467, "answer_id": 56042069, "question_id": 56041147, "link": "https://stackoverflow.com/questions/56041147/maintaining-same-state-variable-to-implement-show-more-less-functionality/56042069#56042069", "title": "Maintaining same state variable to implement Show More/Less functionality", "body": "<p>As others have said - build it out into reusable components. Start by identifying places where you're repeating yourself and extracting those out. It becomes easier with practice.</p>\n\n<p>I would start with Card. You can use a card type (you could also use an interface but this is personal preference) and then add an onClickExpand handler to form the Props for this control.</p>\n\n<pre><code>type Item = {\n  user: string;\n}\n\ntype Card = {\n  items: Item[];\n  expanded?: boolean;\n  numItemsShowing: number;\n}\n\ntype CardProps = Card &amp; {\n  onClickExpand: () =&gt; void;\n};\n\nconst Card = (props: CardProps) =&gt; {\n  const { expanded, items, numItemsShowing, onClickExpand } = props;\n  return (\n    &lt;div&gt;\n      {items.slice(0, numItemsShowing).map((data, i) =&gt; (\n        &lt;p key={i}&gt;{data.user}&lt;/p&gt;\n      ))}\n      &lt;a onClick={onClickExpand}&gt;\n        {expanded\n          ? &lt;span&gt;Show less&lt;/span&gt;\n          : &lt;span&gt;Show more&lt;/span&gt;\n        }\n      &lt;/a&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>Then your app can be simpler:</p>\n\n<pre><code>type State = {\n  card: Card[];\n}\n\nexport default class App extends React.Component&lt;{}, State&gt; {\n  state = { cards: [] };\n\n  showMore = (index: number) =&gt; () =&gt; {\n    this.setState({\n      cards: this.state.cards.map((card, i) =&gt; {\n        // Only modify card if it's the index we care about\n        if (i === index) {\n          return {\n            ...card,\n            expanded: true,\n          }\n        }\n        return card;\n      })\n    });\n  }\n\n  addCard = () =&gt; {\n    const newCard = {\n      items: [],\n      expanded: false,\n      numItemsShowing: 0\n    };\n\n    this.setState({\n      cards: [ ...this.state.cards, newCard ] // add to end of array\n    });\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        {this.state.cards.map((card, i) =&gt;\n          &lt;Card\n            {...card}\n            onClickExpand={this.showMore(i)}\n            key={i}\n          /&gt;\n        )}\n\n        &lt;button onClick={this.addCard}&gt;Add Card&lt;/button&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre>\n\n<p>This app lets you click the button to add a new card into the state.</p>\n"}], "owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 56042069, "answer_count": 1, "score": 0, "last_activity_date": 1557322467, "creation_date": 1557319561, "last_edit_date": 1557319940, "question_id": 56041147, "link": "https://stackoverflow.com/questions/56041147/maintaining-same-state-variable-to-implement-show-more-less-functionality", "title": "Maintaining same state variable to implement Show More/Less functionality", "body": "<p>I am having a page with multiple cards, where each card has a list of items.I have been trying out the implementation of Show More/ Show Less implementation on each of the card. For a single card, I am getting it right by adding two properties to the state object. But if I implement the same for all the cards, I end up adding more state object properties one for each card.\nLooking out for a better way, where I can use one common to handle all cards Show More/Less implementation</p>\n\n<p>Just need an efficient approach to achieve this.\nHelp would be appreciated</p>\n\n<h2>Component Code</h2>\n\n<p>Example with only two cards</p>\n\n<pre><code>import * as React from 'react';\ninterface IState{\n  arr1:[],\n  arr2: [],\n  arr1ExpandFlag: boolean, // For updating Button label(More/Less)\n  arr2ExpandFlag : boolean\n  arr1temsToShow: number,  // Number of items to show\n  arr2itemsToShow: number \n  //I will end up adding two variables one for each card\n}\nexport default class App extends React.Component&lt;{},IState&gt; {\n\n  constructor(props:any){\n    super(props);\n    this.state = {\n      arr1 :[],\n      arr2 :[],\n      arr1ExpandFlag: false,\n      arr1ExpandFlag: false,\n      arr1itemsToShow: 3,\n      arr2itemsToShow: 3,\n    }\n  }\n\n  showMore = (type: string) =&gt; { // end up adding if conditions\n    if(type === 'arr1')\n    {\n      (this.state.arr1itemsToShow === 3) ? \n      (this.setState({ arr1itemsToShow: this.state.arr1.length, arr1ExpandFlag: true })):\n      (this.setState({ arr1itemsToShow: 3,arr1ExpandFlag: false}))\n    }\n    if(type === 'arr2')\n    {\n      (this.state.arr2itemsToShow === 3) ? \n      (this.setState({ arr2itemsToShow: this.state.arr2.length, arr2ExpandFlag: true })):\n      (this.setState({ arr2itemsToShow: 3, arr2ExpandFlag: false}))\n    }\n  }\n\n render()    // This is just for two cards\n {\n   return\n   (\n      &lt;div&gt; \n        &lt;div&gt;\n          {this.state.arr1.slice(0, this.state.arr1itemsToShow).map((data : any, i) =&gt; \n            &lt;p key={i}&gt;{data.user}&lt;/p&gt;\n          )}\n          &lt;a onClick={() =&gt; this.showMore('arr1')}&gt;\n            { (this.state.arr1ExpandFlag) ? \n              ( &lt;span&gt;Show less&lt;/span&gt;)   : \n              ( &lt;span&gt;Show more&lt;/span&gt;)\n            }\n          &lt;/a&gt;  \n        &lt;/div&gt;\n       &lt;div&gt;\n         {this.state.arr2.slice(0, this.state.arr2itemsToShow).map((data : any, i) =&gt; \n             &lt;p key={i}&gt;{data.user}&lt;/p&gt;\n         )}\n         &lt;a onClick={() =&gt; this.showMore('arr2')}&gt;\n          { (this.state.arr2ExpandFlag) ? \n            (&lt;span&gt;Show less&lt;/span&gt;)   : \n            (&lt;span&gt;Show more&lt;/span&gt;)\n          }\n         &lt;/a&gt;  \n      &lt;/div&gt;\n    &lt;/div&gt;\n   )\n }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "code-coverage", "istanbul"], "owner": {"reputation": 21, "user_id": 11470016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdbeba3541a6288c176a93d3b0b81a54?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/11470016/anshul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1557317716, "creation_date": 1557317377, "last_edit_date": 1557317716, "question_id": 56040488, "link": "https://stackoverflow.com/questions/56040488/how-to-instrument-angular-6-project-for-code-coverage-using-istanbul", "title": "How to instrument angular 6 project for code coverage using istanbul", "body": "<p>I want to only instrument my angular 6 project source code (ts files).\nAs I don't have any unit test cases, so I'm not able to use the angular cli inbuilt code coverage features.</p>\n\n<p>The instrumented code will be running against selenium based automation test scripts.\nNote: I'm able to instrument the (.js) files uisng istanbul but not the (.ts) file for code coverage.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2093, "user_id": 11289490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hlb8.png?s=128&g=1", "display_name": "Daniel Pi&#241;eiro", "link": "https://stackoverflow.com/users/11289490/daniel-pi%c3%b1eiro"}, "edited": false, "score": 0, "creation_date": 1557318777, "post_id": 56040476, "comment_id": 98723638, "body": "Are you calling <code>getProductHome()</code> after you log in and get the token? I can&#39;t say that you are doing by this code alone, because the main.ts should be called once."}], "answers": [{"tags": [], "owner": {"reputation": 2093, "user_id": 11289490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hlb8.png?s=128&g=1", "display_name": "Daniel Pi&#241;eiro", "link": "https://stackoverflow.com/users/11289490/daniel-pi%c3%b1eiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1557318970, "creation_date": 1557318970, "answer_id": 56040967, "question_id": 56040476, "link": "https://stackoverflow.com/questions/56040476/how-to-call-twice-a-subscribed-http-request/56040967#56040967", "title": "How to call twice a subscribed HTTP request", "body": "<p>There might be two things to consider:</p>\n\n<ol>\n<li>Are you calling the <code>getProductHome()</code> after Authenticated? If you are not, you should. The main.ts should be called once only so I guess it's not passing through that code again.</li>\n<li>If you have two calls, maybe your problems comes from the http calls <strong>cache</strong> and not the <code>Subscription</code>.</li>\n</ol>\n\n<p>You can add Headers to disable the cache like this in the <strong>http request headers</strong>:</p>\n\n<pre><code>headers = new Headers({\n        'Cache-Control':  'no-cache, no-store, must-revalidate, post- \n                            check=0, pre-check=0',\n        'Pragma': 'no-cache',\n        'Expires': '0'\n    });\n</code></pre>\n\n<p>Or you can add html tags like this:</p>\n\n<pre><code>&lt;meta http-equiv=\"cache-control\" content=\"no-cache, must-revalidate, post-check=0, pre-check=0\"&gt;\n&lt;meta http-equiv=\"expires\" content=\"0\"&gt;\n&lt;meta http-equiv=\"pragma\" content=\"no-cache\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8492316, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/429a062c8da705d77d60bb21882d434b?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Matwiejew", "link": "https://stackoverflow.com/users/8492316/jakub-matwiejew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557319285, "creation_date": 1557317353, "last_edit_date": 1557319285, "question_id": 56040476, "link": "https://stackoverflow.com/questions/56040476/how-to-call-twice-a-subscribed-http-request", "title": "How to call twice a subscribed HTTP request", "body": "<p>I'm working on app that's using SSR.\nWhile entering the app I'm sending a request to get some products.\nEverything works fine, because I don't see the request in browser.\nIf user was logged in the app API should return different values.\nThe information if user is logged is held in <code>localStorage</code> as an <code>idToken</code>.\nIf a request is sent in a browser the <code>idToken</code> is added to the header.\nAPI checks if the <code>idToken</code> is logged or not.</p>\n\n<p>Now if I send the request in prerender i get values for an unlogged user, then in browser I check if I have the <code>idToken</code> and if so I want to execute the HTTP request once again to get the right values.\nBut since the HTTP request is already subscribed the request isn't executed again in browser.</p>\n\n<p>What can I do to fix this problem?</p>\n\n<p>Should I unsubscribe first?</p>\n\n<h3>collection.service.ts:</h3>\n\n<pre><code>getProductHome() {\n  return this.apiservice.get(this.COLLECTION_CONF_TOKEN.urlHomeProducts, {});\n}\n</code></pre>\n\n<h3>main.ts:</h3>\n\n<pre><code>if (isPlatformServer(this.platformId)) {\n  this.collectionservice.getProductHome().subscribe(\n    res =&gt; {\n      this.newProducts = res;\n    }\n  );\n} else if (isPlatformBrowser(this.platformId) &amp;&amp; isLogged) {\n  this.collectionservice.getProductHome().subscribe(\n    res =&gt; {\n      this.newProducts = res;\n      }\n  );\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "primeng", "primeng-turbotable"], "comments": [{"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1557317526, "post_id": 56040442, "comment_id": 98722929, "body": "Create a stackblitz for it."}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "reply_to_user": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1557324276, "post_id": 56040442, "comment_id": 98727210, "body": "@MaihanNijat I&#39;ve added stackblitz.As you can see I&#39;m getting two dropdown whereas I want one drop down for each row"}, {"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1557327323, "post_id": 56040442, "comment_id": 98729136, "body": "Do you want color drop down under color column and brand drop down under brand column for each row? or post screenshot how you want to display it."}, {"owner": {"reputation": 1875, "user_id": 4622075, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6IZCC.jpg?s=128&g=1", "display_name": "DirtyMind", "link": "https://stackoverflow.com/users/4622075/dirtymind"}, "edited": false, "score": 0, "creation_date": 1557345803, "post_id": 56040442, "comment_id": 98737989, "body": "Not clear what exactly you r looking for ?"}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1557377530, "post_id": 56040442, "comment_id": 98745633, "body": "I want to iterate the master Arr and construct one drop down from each child array.So if I have 2 arrays in the masterArray,I want that the first dropdown goes to the first row of the table and the second goes to the second row."}, {"owner": {"reputation": 1875, "user_id": 4622075, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6IZCC.jpg?s=128&g=1", "display_name": "DirtyMind", "link": "https://stackoverflow.com/users/4622075/dirtymind"}, "edited": false, "score": 0, "creation_date": 1557380310, "post_id": 56040442, "comment_id": 98746435, "body": "@rock11 if possible pls add a screenshot or create table and show what you are trying to achieve with hardcoded data in your stackblitz ... so that we can easily understand your requirement ?"}, {"owner": {"reputation": 151, "user_id": 1597720, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd383a7ff53f0a100d7b2dff435d86fa?s=128&d=identicon&r=PG", "display_name": "guravman", "link": "https://stackoverflow.com/users/1597720/guravman"}, "edited": false, "score": 0, "creation_date": 1589974193, "post_id": 56040442, "comment_id": 109503727, "body": "Long time...but was this solved? I have exact same requirement."}], "owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1400, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557324231, "creation_date": 1557317222, "last_edit_date": 1557324231, "question_id": 56040442, "link": "https://stackoverflow.com/questions/56040442/dropdown-inside-primeng-table", "title": "Dropdown inside primeng table", "body": "<p>I am using a drop down list inside primeng turbo table. I have an array that consists of two arrays that form the options for the drop down menu. I want the first option to come in the first row and the second options to come in the second row of the table.I tried using <code>ngFor</code> but I am getting two drop downs in all the rows of the table with both set of options.</p>\n\n<p>Here is my ts code:</p>\n\n<pre><code>arr1.push({label: \"id\", value: \"1\"});\narr2.push({label: \"id\", value: \"2\"});\nmasterArr.push(arr1);\nmasterArr.push(arr2);\n</code></pre>\n\n<p>Here is my template:</p>\n\n<pre><code>&lt;ng-template pTemplate=\"body\" let-rowData let-expanded=\"expanded\" let-columns=\"columns\"&gt;\n\n            &lt;td&gt;{{rowData.name}}&lt;/td&gt;\n            &lt;td&gt;{{rowData.rollNo}}&lt;/td&gt;\n\n            &lt;td&gt;\n                &lt;p-dropdown *ngFor=\"let s of masterArr,let i = index\" [options]=\"masterArr[i]\" &gt;&lt;/p-dropdown&gt;\n            &lt;/td&gt;\n\n        &lt;/tr&gt;\n    &lt;/ng-template&gt;\n</code></pre>\n\n<p>StackBlitz: <a href=\"https://stackblitz.com/edit/p-table-primeng-v6-tq33vs\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/p-table-primeng-v6-tq33vs</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1243, "user_id": 1564931, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1258e6d6e43e9929c5ee9d0d7787c179?s=128&d=identicon&r=PG", "display_name": "netchkin", "link": "https://stackoverflow.com/users/1564931/netchkin"}, "edited": false, "score": 0, "creation_date": 1557317641, "post_id": 56040403, "comment_id": 98722997, "body": "yes, this will work always, what specific concern do you have?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1557317935, "post_id": 56040403, "comment_id": 98723140, "body": "if you don&#39;t want to rewrite the whole type of the module, in newer versions of ts you can use <code>require(&#39;.&#47;settings.node&#39;) as typeof import(&#39;.&#47;settings.node&#39;)</code>;"}, {"owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "reply_to_user": {"reputation": 1243, "user_id": 1564931, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1258e6d6e43e9929c5ee9d0d7787c179?s=128&d=identicon&r=PG", "display_name": "netchkin", "link": "https://stackoverflow.com/users/1564931/netchkin"}, "edited": false, "score": 0, "creation_date": 1557319336, "post_id": 56040403, "comment_id": 98723996, "body": "@netchkin Thanks - I&#39;m rather new to TS and I wasn&#39;t sure what&#39;s going to happen if settings.browser.ts has 100k and settings.node.ts has 500k. I was also a bit surprised that I couldn&#39;t find very much about conditional AND typesafe loading. Another thing that surprised me was how easy it was to implement. I thought I must be wrong in a way..."}, {"owner": {"reputation": 1243, "user_id": 1564931, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1258e6d6e43e9929c5ee9d0d7787c179?s=128&d=identicon&r=PG", "display_name": "netchkin", "link": "https://stackoverflow.com/users/1564931/netchkin"}, "edited": false, "score": 0, "creation_date": 1557320219, "post_id": 56040403, "comment_id": 98724533, "body": "about that: <a href=\"https://bytearcher.com/articles/loading_modules_with_require/\" rel=\"nofollow noreferrer\">bytearcher.com/articles/loading_modules_with_require</a> It does not mention typescript though. However, your code gets transpiled into javascript, so browser knows nothing about your types"}], "owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557317069, "creation_date": 1557317069, "question_id": 56040403, "link": "https://stackoverflow.com/questions/56040403/isomorphic-typescript-require", "title": "Isomorphic TypeScript / require", "body": "<p>I have 4 files</p>\n\n<p><strong>Settings.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type sayType = () =&gt; string;\n\nexport interface SettingsModule {\n    sayEnv: sayType;\n}\n</code></pre>\n\n<p><strong>settings.node.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { SettingsModule } from '@/core/persistant/Settings';\n\nexport const mod: SettingsModule = {\n    sayEnv: sayInternalEnv,\n};\n\nfunction sayInternalEnv(): string {\n    return 'Node';\n}\n</code></pre>\n\n<p><strong>settings.browser.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { SettingsModule } from '@/core/persistant/Settings';\n\nexport const mod: SettingsModule = {\n    sayEnv: sayInternalEnv,\n};\n\nfunction sayInternalEnv(): string {\n    return 'Browser';\n}\n</code></pre>\n\n<p><strong>settings.impl.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { SettingsModule } from '@/core/persistant/Settings';\n\nlet settingsModule: SettingsModule;\n\nif (window.indexedDB) {\n    // tslint:disable-next-line:no-var-requires\n    const m = require('./settings.browser') as { mod: SettingsModule };\n    settingsModule = m.mod;\n} else {\n    // tslint:disable-next-line:no-var-requires\n    const m = require('./settings.node') as { mod: SettingsModule };\n    settingsModule = m.mod;\n}\n\nexport const sayEnv = settingsModule.sayEnv;\n\n</code></pre>\n\n<p>The whole thing works like a charm but my question is it really safe to use <code>require</code> this way?</p>\n\n<p>I mean - it works fine for such small files but is <code>require</code> always synchronous? Can I be sure that 'sayEnv' is always set?  </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1557317439, "post_id": 56040302, "comment_id": 98722875, "body": "But there are no existing properties before the constructor."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557324171, "post_id": 56040302, "comment_id": 98727140, "body": "You need to mention <code>&quot;id&quot;</code> and <code>&quot;name&quot;</code> as runtime values if you want something to happen at runtime. The easiest way to do this is to mention those keys in an array. (e.g. in TS3.4, <code>([&quot;id&quot;, &quot;name&quot;] as const).forEach(k =&gt; this[k] = data[k]);</code>). The only way to avoid repeating the words <code>&quot;id&quot;</code> and <code>&quot;name&quot;</code> in the interfaces/classes and at runtime is to create a runtime constant array with those names in them and then derive the interface/class definitions from them (instead of the other way around which won&#39;t work) but that is a lot of type juggling just to avoid writing a few string literals."}, {"owner": {"reputation": 1964, "user_id": 2746447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YwTs8.jpg?s=128&g=1", "display_name": "egor.xyz", "link": "https://stackoverflow.com/users/2746447/egor-xyz"}, "edited": false, "score": 0, "creation_date": 1573391353, "post_id": 56040302, "comment_id": 103859833, "body": "Try this <a href=\"https://stackoverflow.com/a/58788876/2746447\">stackoverflow.com/a/58788876/2746447</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1128, "user_id": 672297, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/mpPFN.jpg?s=128&g=1", "display_name": "Sankalp", "link": "https://stackoverflow.com/users/672297/sankalp"}, "is_accepted": true, "score": 2, "last_activity_date": 1557747588, "creation_date": 1557747588, "answer_id": 56111553, "question_id": 56040302, "link": "https://stackoverflow.com/questions/56040302/typescript-constructor-with-spread-operator/56111553#56111553", "title": "Typescript constructor with spread operator", "body": "<p>I find a better solution for recurring code using <a href=\"https://www.npmjs.com/package/class-transformer\" rel=\"nofollow noreferrer\">class-transformer</a> package. It also helps to expose and transform input into the required output.</p>\n"}, {"tags": [], "owner": {"reputation": 7054, "user_id": 251614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/38692d14d2da39a90bc404b30c530b1e?s=128&d=identicon&r=PG", "display_name": "Homer", "link": "https://stackoverflow.com/users/251614/homer"}, "is_accepted": false, "score": 4, "last_activity_date": 1571776657, "creation_date": 1571776657, "answer_id": 58511967, "question_id": 56040302, "link": "https://stackoverflow.com/questions/56040302/typescript-constructor-with-spread-operator/58511967#58511967", "title": "Typescript constructor with spread operator", "body": "<p>This doesn't use the spread operator, but you could use the method from <a href=\"https://stackoverflow.com/a/45474453/251614\">this answer</a></p>\n\n<pre><code>constructor(data: IBrand) {\n    for (let key in data) {\n        this[key] = data[key];\n    }\n}\n</code></pre>\n\n<p>then instantiate...</p>\n\n<pre><code>new Brand(data);\n</code></pre>\n"}], "owner": {"reputation": 1128, "user_id": 672297, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/mpPFN.jpg?s=128&g=1", "display_name": "Sankalp", "link": "https://stackoverflow.com/users/672297/sankalp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3018, "favorite_count": 1, "accepted_answer_id": 56111553, "answer_count": 2, "score": 2, "last_activity_date": 1571776657, "creation_date": 1557316745, "question_id": 56040302, "link": "https://stackoverflow.com/questions/56040302/typescript-constructor-with-spread-operator", "title": "Typescript constructor with spread operator", "body": "<p>Need to assign porperties to the only defined from the interface if used with spread operator.</p>\n\n<p>I am expecting a solution for using typescript constructor with spread operator. </p>\n\n<p>For eg.</p>\n\n<pre><code>export interface IBrand {\n    id: string;\n    name: string;\n}\n\nexport class Brand implements IBrand {\n    id: string;\n    name: string;       \n\n    constructor(data: IBrand) {\n        this.id = data.id;\n        this.name = data.name;\n    }\n}\n</code></pre>\n\n<p>this is one option so the moment when I call this class like this, no way how many members are there but I would be having only <code>id, name</code> to final object.</p>\n\n<pre><code>new Brand({...data })\n</code></pre>\n\n<p>Case: But when I have 25+ keys to the <code>data</code></p>\n\n<pre><code>export interface IBrand {\n    id: string;\n    name: string;\n}\n\nexport class Brand implements IBrand {\n    id: string;\n    name: string;       \n\n    constructor(data: Partial&lt;IBrand&gt;) {\n        Object.assign(this, data);\n    }\n}\n</code></pre>\n\n<p>I am expecting not to write all properties again constructor. No matter it has 25 it would be just assigning that existing properties would be assigned. If data has <code>section, genre</code> or any other property it would be ignored.</p>\n\n<p>My 2nd snippet doesn't work. </p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 2513, "user_id": 5940860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPNks.jpg?s=128&g=1", "display_name": "mooga", "link": "https://stackoverflow.com/users/5940860/mooga"}, "edited": false, "score": 0, "creation_date": 1557316114, "post_id": 56040110, "comment_id": 98722137, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27991366/what-is-the-difference-between-state-and-props-in-react\">What is the difference between state and props in React?</a>"}, {"owner": {"reputation": 278, "user_id": 10742544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjfgH.jpg?s=128&g=1", "display_name": "Faiz Khan", "link": "https://stackoverflow.com/users/10742544/faiz-khan"}, "edited": false, "score": 0, "creation_date": 1557316217, "post_id": 56040110, "comment_id": 98722191, "body": "I think you should store your props in state and then instead of using props directly use state"}, {"owner": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "edited": false, "score": 0, "creation_date": 1557316556, "post_id": 56040110, "comment_id": 98722378, "body": "is the request fired? do you get a response? do you get any exception?"}, {"owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "edited": false, "score": 1, "creation_date": 1557317409, "post_id": 56040110, "comment_id": 98722862, "body": "call <code>this.initComponentsDropdownlist()</code> in <code>setState</code> callback, otherwise it can work on old data"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557317756, "post_id": 56040110, "comment_id": 98723052, "body": "Could you provide an example?"}], "answers": [{"comments": [{"owner": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "edited": false, "score": 1, "creation_date": 1557316434, "post_id": 56040155, "comment_id": 98722325, "body": "<code>componentWillReceiveProps</code> is deprecated. <a href=\"https://reactjs.org/docs/react-component.html#updating\" rel=\"nofollow noreferrer\">reactjs.org/docs/react-component.html#updating</a>"}, {"owner": {"reputation": 584, "user_id": 3313049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QHyBy.jpg?s=128&g=1", "display_name": "sarvon ks", "link": "https://stackoverflow.com/users/3313049/sarvon-ks"}, "reply_to_user": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "edited": false, "score": 0, "creation_date": 1557316517, "post_id": 56040155, "comment_id": 98722361, "body": "it deprecated in react 16+"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557317054, "post_id": 56040155, "comment_id": 98722668, "body": "What should I use then? It doesn&#39;t seem that the state is set when I use shouldComponentUpdate.  componentWillReceiveProps()"}, {"owner": {"reputation": 584, "user_id": 3313049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QHyBy.jpg?s=128&g=1", "display_name": "sarvon ks", "link": "https://stackoverflow.com/users/3313049/sarvon-ks"}, "edited": false, "score": 0, "creation_date": 1557317245, "post_id": 56040155, "comment_id": 98722774, "body": "if using react 15 then use componentWillReceiveProps"}], "tags": [], "owner": {"reputation": 584, "user_id": 3313049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QHyBy.jpg?s=128&g=1", "display_name": "sarvon ks", "link": "https://stackoverflow.com/users/3313049/sarvon-ks"}, "is_accepted": false, "score": -1, "last_activity_date": 1557316227, "creation_date": 1557316227, "answer_id": 56040155, "question_id": 56040110, "link": "https://stackoverflow.com/questions/56040110/how-to-make-react-component-fetch-data-when-props-is-changed/56040155#56040155", "title": "How to make react component fetch data when props is changed", "body": "<p>use componentWillReceiveProps</p>\n\n<pre><code>export default class InfoTagEditor extends React.PureComponent {        \n   componentWillReceiveProps(props)\n   {\n           $.get('/webapi/getData?componentId=' + props.id, function (data) \n           {\n                this.setState({ value: data });\n                this.initComponentsDropdownlist();\n            }.bind(this));\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557317982, "post_id": 56040439, "comment_id": 98723173, "body": "I tried this, it seem like it should work? But the state with the data isn&#39;t updated it seems in my editor. Since it use the value state."}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557318093, "post_id": 56040439, "comment_id": 98723238, "body": "can you show us the code in the method <code>initComponentsDropdownlist</code> ? Does it use variable <code>this.state.value</code> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557319081, "post_id": 56040439, "comment_id": 98723819, "body": "I updated the post with the component that uses this. Sorry but the  initComponentsDropdownlist  is wrong, it should be the editor that uses the value."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557322060, "post_id": 56040439, "comment_id": 98725755, "body": "It seems like this package with the editor: <a href=\"https://www.npmjs.com/package/@progress/kendo-editor-react-wrapper\" rel=\"nofollow noreferrer\">npmjs.com/package/@progress/kendo-editor-react-wrapper</a> has problem with updating...  I tried to remove the editor and the state changed perfectly. How can I fix this?"}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557322612, "post_id": 56040439, "comment_id": 98726116, "body": "I don&#39;t really know the <code>kendo</code> library, do you have a link to the documentation of this component ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557323925, "post_id": 56040439, "comment_id": 98726964, "body": "Hello @Olivier Boiss&#233;, should it be this.setState({ value: data }, this.initComponentsDropdownlist); or this.setState({ value: data }, this.initComponentsDropdownlist());"}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557324151, "post_id": 56040439, "comment_id": 98727130, "body": "the second argument is a callback so it should be <code>this.setState({ value: data }, this.initComponentsDropdownlist);</code> or <code>this.setState({ value: data }, () =&gt; this.initComponentsDropdownlist());</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557325297, "post_id": 56040439, "comment_id": 98727896, "body": "What does a callback mean my friend? :)  @Olivier Boiss&#233;  Here is the documentation for the library:   <a href=\"https://docs.telerik.com/kendo-ui/controls/editors/editor/overview\" rel=\"nofollow noreferrer\">docs.telerik.com/kendo-ui/controls/editors/editor/overview</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557325504, "post_id": 56040439, "comment_id": 98728035, "body": "I tried to do this after the         $(&#39;#editor&#39;).data(&#39;kendoEditor&#39;).value(this.state.editorValu&zwnj;&#8203;e); But I&#39;m getting GetSelection error.  I also tried to call InitEditor, but it seem to just created another editor each time the componentdidupdate, instead of just updating the value."}, {"owner": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "edited": false, "score": 0, "creation_date": 1557325643, "post_id": 56040439, "comment_id": 98728116, "body": "Are you using Kendo React controls (if not, perhaps you should?)? According to <a href=\"https://www.telerik.com/kendo-react-ui/components/editor/api/EditorProps/\" rel=\"nofollow noreferrer\">telerik.com/kendo-react-ui/components/editor/api/EditorProps</a> there is no <code>value</code> or <code>change</code> prop. Are you sure you&#39;re working with the correct version etc? Have you checked the sample? <a href=\"https://www.telerik.com/kendo-react-ui/components/editor/content/\" rel=\"nofollow noreferrer\">telerik.com/kendo-react-ui/components/editor/content</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "reply_to_user": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "edited": false, "score": 0, "creation_date": 1557326782, "post_id": 56040439, "comment_id": 98728824, "body": "I&#39;m using this one @NSevens docs.telerik.com/kendo-ui/controls/editors/editor/overview"}, {"owner": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "edited": false, "score": 0, "creation_date": 1557327861, "post_id": 56040439, "comment_id": 98729455, "body": "you&#39;re running a react application, why not use React components from the same library? they are much more integrated in the react lifecycle"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557328871, "post_id": 56040439, "comment_id": 98730099, "body": "When I put it outside the Jquery Get, it seem to work fine. But the editor value only appear on the next re-render when I update the prop...."}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557333727, "post_id": 56040439, "comment_id": 98732433, "body": "a callback is simply ia function that is passed as an argument of another function. it&#39;s often used when you want want to execute code asynchronously (after the end of an operation like an ajax call)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557336386, "post_id": 56040439, "comment_id": 98733726, "body": "@OlivierBoiss&#233; I have updated the post. Could you check and tell me if there is any way I could do this different? Or if this is a bad way of doing it?"}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557336698, "post_id": 56040439, "comment_id": 98733887, "body": "you don&#39;t need <code>return true</code> or <code>return false</code> in <code>componentDidUpdate</code>, so remove them. <code>setState</code> is <b>asynchronous</b> so <code>$(&#39;#editor&#39;).data(&#39;kendoEditor&#39;).value(this.state.value)</code> is wrong, you should replace it by <code>$(&#39;#editor&#39;).data(&#39;kendoEditor&#39;).value(data)</code>"}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557336806, "post_id": 56040439, "comment_id": 98733943, "body": "As you are using <code>jQuery</code> to update the value of your editor, the state <code>value</code> seems to become useless, maybe you don&#39;t need a state anymore"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "edited": false, "score": 0, "creation_date": 1557337850, "post_id": 56040439, "comment_id": 98734472, "body": "Should I include componentDidUpdate? Since I&#39;m not sure what to put in there. But in your opinion, should it work in componentDidUpdate? Because it seems like when the jquery set value, I need to re-render my component in order to &quot;see the new&quot; changes."}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557341700, "post_id": 56040439, "comment_id": 98736271, "body": "<code>this.setState({ editorValue: data }); $(&#39;#editor&#39;).data(&#39;kendoEditor&#39;).value(data));</code>"}], "tags": [], "owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1557318387, "last_edit_date": 1557318387, "creation_date": 1557317216, "answer_id": 56040439, "question_id": 56040110, "link": "https://stackoverflow.com/questions/56040110/how-to-make-react-component-fetch-data-when-props-is-changed/56040439#56040439", "title": "How to make react component fetch data when props is changed", "body": "<p>First you should add a condition in order to prevent infinite loop (<code>setState -&gt; componentDidUpdate -&gt; setState -&gt; componentDidUpdate ....</code>) : <a href=\"https://reactjs.org/docs/react-component.html#componentdidupdate\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-component.html#componentdidupdate</a></p>\n\n<blockquote>\n  <p>You may call setState() immediately in componentDidUpdate() but note that it must be wrapped in a condition like in the example above, or you\u2019ll cause an infinite loop</p>\n</blockquote>\n\n<p>Here is a possible solution</p>\n\n<pre><code>componentDidUpdate(prevProps) {\n    if(this.props.id !== prevProps.id) {\n        $.get('/webapi/getData?componentId=' + this.props.id, (data) =&gt; {\n           this.setState({ value: data });\n           this.initComponentsDropdownlist();\n        });\n     }\n}\n</code></pre>\n\n<p>Note that if the method <code>initComponentsDropdownlist</code> uses <code>this.state.value</code>, it should be called when <code>setState</code> is completed, so you should replace :</p>\n\n<pre><code>this.setState({ value: data });\nthis.initComponentsDropdownlist();\n</code></pre>\n\n<p>by </p>\n\n<pre><code> this.setState({ value: data }, this.initComponentsDropdownlist);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11321794"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1557339452, "creation_date": 1557316044, "last_edit_date": 1557339452, "question_id": 56040110, "link": "https://stackoverflow.com/questions/56040110/how-to-make-react-component-fetch-data-when-props-is-changed", "title": "How to make react component fetch data when props is changed", "body": "<p>I'm trying to make my component re-render and fetch new data when the props is changed but I can't make it work.</p>\n\n<pre><code>export default class InfoTagEditor extends React.PureComponent&lt;Props, State&gt; {\n    componentDidUpdate() {\n        $.get('/webapi/getData?componentId=' + this.props.id, function (data) {\n            this.setState({value: data});\n            this.initComponentsDropdownlist();\n        }.bind(this));\n    }\n}\n</code></pre>\n\n<p>But this doesn't update the state at all...</p>\n\n<p>Does anyone know what's wrong?</p>\n\n<p>Kendo Editor in Render function:</p>\n\n<pre><code>Render(){\n    return   &lt;Editor\n    name={\"Editor\"}\n    value={this.state.value}\n    change={this.onChangeEditor}\n    resizable={true}\n    /&gt;\n}\n</code></pre>\n\n<p>What worked for me was: </p>\n\n<pre><code>shouldComponentUpdate(nextProps)\n{\n    if (this.props.Id !== nextProps.Id) {\n        $.get('/webapi/GetData?Id=' + nextProps.Id, function (data) {\n            this.setState({value: data});\n            $('#editor').data('kendoEditor').value(this.state.value)\n            return true;\n        }.bind(this));\n    }\n\n    if (this.props.name !== nextProps.name) {\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>But would this be the correct way of doing this? The Id and Name is corresponding, which means that everytime there is a new ID, there will also be a new Name.</p>\n\n<p>Should I do this separate </p>\n\n<pre><code>this.setState({ value: data });\n$('#editor').data('kendoEditor').value(this.state.value)\n</code></pre>\n\n<p>or </p>\n\n<pre><code> this.setState({ value: data },  \n $('#editor').data('kendoEditor').value(this.state.value)); \n</code></pre>\n\n<p>Managed to get this work:</p>\n\n<pre><code>componentDidUpdate(prevProps) {\n    if(this.props.id!== prevProps.id) {\n        $.get('/webapi/GetData?id=' + this.props.id, function (data) {\n            this.setState({ editorValue: data }, $('#editor').data('kendoEditor').value(data)); \n        }.bind(this));\n     }\n}\n</code></pre>\n\n<p>Is this a correct way of doing the callback? and does it looks fine? :) or should I move the $('#editor').data('kendoEditor').value(data) outside the setState?</p>\n"}, {"tags": ["angular", "typescript", "promise", "observable"], "answers": [{"comments": [{"owner": {"reputation": 1318, "user_id": 509326, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4970171d72b64de5e7dcda560662bb9d?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/509326/simon"}, "edited": false, "score": 0, "creation_date": 1557317504, "post_id": 56040342, "comment_id": 98722909, "body": "Looks a lot cleaner than mine. Im just wondering if I should be using Observables throughout though?"}, {"owner": {"reputation": 1318, "user_id": 509326, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4970171d72b64de5e7dcda560662bb9d?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/509326/simon"}, "edited": false, "score": 0, "creation_date": 1557319611, "post_id": 56040342, "comment_id": 98724174, "body": "I need to do some investigation on switchMap. Seems like a dark art. Problem then comes is that I need to call checkGroupPermission several times and wait for the results of all those. So I guess checkGroupPermission, as you rightly have, should be an Observable&lt;&gt; and then I can use something similar for each permission check call."}, {"owner": {"reputation": 1228, "user_id": 10196188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a253d56ba4bab0beddf1a7a8ec68a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "dummdidumm", "link": "https://stackoverflow.com/users/10196188/dummdidumm"}, "reply_to_user": {"reputation": 1318, "user_id": 509326, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4970171d72b64de5e7dcda560662bb9d?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/509326/simon"}, "edited": false, "score": 0, "creation_date": 1557320023, "post_id": 56040342, "comment_id": 98724412, "body": "switchMap is two things in one:  1. like a flatmap on arrays  2. as soon as some new event comes in, the now old inner observable is &quot;thrown away&quot;"}], "tags": [], "owner": {"reputation": 1228, "user_id": 10196188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a253d56ba4bab0beddf1a7a8ec68a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "dummdidumm", "link": "https://stackoverflow.com/users/10196188/dummdidumm"}, "is_accepted": false, "score": 1, "last_activity_date": 1557319082, "last_edit_date": 1557319082, "creation_date": 1557316882, "answer_id": 56040342, "question_id": 56040057, "link": "https://stackoverflow.com/questions/56040057/nested-observables-and-mixed-promises/56040342#56040342", "title": "Nested Observables and Mixed Promises", "body": "<p><b>Using promises</b></p>\n\n<p>RxJs has a <code>toPromise</code>-method, which you can use to return a promise instead. The promise will resolve to the last emitted value of the observable once the observable completes.</p>\n\n<pre><code>subCheckOfSomething(): Promise&lt;boolean&gt; {\n  return this.myService.getFirebaseSubscribe().pipe(map(dataArray =&gt; {\n    if (dataArray.length &gt; 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }))\n  .toPromise();\n}\n</code></pre>\n\n<p><b>Using observables</b></p>\n\n<p>The problem is that you cannot break out of an observable chain early (you could do a hack and throw an error and catch that at the end, but I think this is not recommended), so you have these nested observable subscriptions. As you mentioned, you should tidy this up into several methods. You also only need to subscribe once at the very end and can pipe the rest of your methods like this:</p>\n\n<pre><code>  checkGroupPermission(groupId: string, permissionName: string): Observable&lt;boolean&gt; {\n    this.userService.getCurrentUser().pipe(\n      switchMap(user =&gt; {\n      this.userService.getUserForFirebaseUid(user.uid).pipe(\n        switchMap(users =&gt; \n          if (users.length === 0) { return of(false); }\n          return this.groupUsersService.getAllForUser(users[0].id).pipe(\n           switchMap(groupUsers =&gt; {\n           // Basically you replace subscribe with pipe(switchMap())\n        })\n      })\n    );\n  }\n</code></pre>\n\n<p>Personally I think it is ok to have promises in certain parts of your application. This one seems to be most readable with <code>async</code>/<code>await</code> (not using <code>.then</code>) to me, so as long as you don't need some additional features like \"abort this check and start a new one\" (switchMap would be great for this) I would be fine with it.  Furthermore, you can easily transfer one to the other using <code>toPromise</code> (rxjs->promise) or the static rxjs-operator <code>from</code> (promise->rxjs).</p>\n"}], "owner": {"reputation": 1318, "user_id": 509326, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4970171d72b64de5e7dcda560662bb9d?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/509326/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557319082, "creation_date": 1557315906, "question_id": 56040057, "link": "https://stackoverflow.com/questions/56040057/nested-observables-and-mixed-promises", "title": "Nested Observables and Mixed Promises", "body": "<p>I have an Angular 7 application which talks to a Firestore backend. </p>\n\n<p>Im still trying to wrap my head around Promises vs Observables due to asynchronous processing.</p>\n\n<p>Consider the following scenario. On loading a page, I need to check on some user permissions before deciding what it is we can show them.</p>\n\n<p>As the permissions are dynamic and essentially on a page level, we need to get the Firestore entry for the current page, get the logged in Firestore user, the extended user information which I store separately, the permission name Im looking for, and then finally I can check if the permission for the user exists in page user permissions.</p>\n\n<p>Yes, I should probably denormalise the data.</p>\n\n<p>But you can see from this Im going to have to have several levels of query which I need to run first before displaying the data and Im getting really rather fed up of all the nested Observable subscriptions.</p>\n\n<pre><code>  checkGroupPermission(groupId: string, permissionName: string): any {\n    this.userService.getCurrentUser().then(user =&gt; {\n      this.userService.getUserForFirebaseUid(user.uid).subscribe(users =&gt; {\n        if (users.length === 0) { return false; }\n        this.groupUsersService.getAllForUser(users[0].id).subscribe(groupUsers =&gt; {\n          const groupUser = groupUsers.find(cu =&gt; cu.groupId === groupId);\n          this.roleService.getRole(groupUser.roleId).subscribe(role =&gt; {\n            this.rolePermissionService.getRolePermissionsForRoleId(role.id).subscribe(rolePermissions =&gt; {\n              this.permissionService.getPermissionByName(permissionName).subscribe(permissions =&gt; {\n                if (permissions.length === 0) { return false; }\n                const rolePermission = rolePermissions.find(rp =&gt; rp.permissionId === permissions[0].id);\n                if (rolePermission) {\n                  return true;\n                } else {\n                  return false;\n                }\n              });\n            });\n          });\n        });\n      });\n    });\n  }\n</code></pre>\n\n<p>I've also got about five different permissions to check. I want to tidy this up and was having a look at Promises vs Observables.</p>\n\n<pre><code>checkSomething(): Promise&lt;boolean&gt; {\n  return this.myService.getData().then(data =&gt; {\n    return true;\n  }, reason =&gt; {\n    return false;\n  });\n}\n\nsubCheckOfSomething(): Observable&lt;boolean&gt; {\n  return this.myService.getFirebaseSubscribe().pipe(map(dataArray =&gt; {\n    if (dataArray.length &gt; 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }));\n}\n</code></pre>\n\n<p>The two functions separately are fine, but if I try to call one from the other:</p>\n\n<pre><code>checkSomething(): Promise&lt;boolean&gt; {\n  return this.myService.getData().then(data =&gt; {\n    this.subCheckOfSomething().subscribe(data =&gt; { return data; });\n  }, reason =&gt; {\n    return false;\n  });\n}\n</code></pre>\n\n<p>doesn't work because an Observable is not a Promise</p>\n\n<p>I know I could rewrite subCheckOfSomething to return a Promise instead:</p>\n\n<pre><code>subCheckOfSomething(): Promise&lt;boolean&gt; {\n  return new Promise(resolve,reject) =&gt; {\n  const data = this.myService.getFirebaseSubscribe().pipe(map(dataArray =&gt; {\n    if (dataArray.length &gt; 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }));\n  data.subscribe(result =&gt; {\n      resolve(result);\n  }, err =&gt; {\n      reject(err); })\n  });\n}\n</code></pre>\n\n<p>But this doesn't feel like the best solution. Are there any preferred ways of handling scenarios as this?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 7951032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/dc7d7.jpg?s=128&g=1", "display_name": "Mouad Ennaciri", "link": "https://stackoverflow.com/users/7951032/mouad-ennaciri"}, "edited": false, "score": 0, "creation_date": 1557317345, "post_id": 56040271, "comment_id": 98722814, "body": "Since the <code>rank</code> is retrieved via an<code>@input</code>, there is no way to force the category type to that location? <code>@Input() rank: Rank;</code>"}, {"owner": {"reputation": 3535, "user_id": 3884264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDJFA.jpg?s=128&g=1", "display_name": "CornelC", "link": "https://stackoverflow.com/users/3884264/cornelc"}, "reply_to_user": {"reputation": 957, "user_id": 7951032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/dc7d7.jpg?s=128&g=1", "display_name": "Mouad Ennaciri", "link": "https://stackoverflow.com/users/7951032/mouad-ennaciri"}, "edited": false, "score": 0, "creation_date": 1557318219, "post_id": 56040271, "comment_id": 98723323, "body": "@MouadEnnaciri I&#39;m not sure what&#39;s the relationship between Challenge and Rank. Can you update the question ?"}, {"owner": {"reputation": 957, "user_id": 7951032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/dc7d7.jpg?s=128&g=1", "display_name": "Mouad Ennaciri", "link": "https://stackoverflow.com/users/7951032/mouad-ennaciri"}, "edited": false, "score": 0, "creation_date": 1557318614, "post_id": 56040271, "comment_id": 98723549, "body": "I was wrong sorry, it&#39;s <code>@Input() challenge: Challenge;</code>"}], "tags": [], "owner": {"reputation": 3535, "user_id": 3884264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDJFA.jpg?s=128&g=1", "display_name": "CornelC", "link": "https://stackoverflow.com/users/3884264/cornelc"}, "is_accepted": true, "score": 2, "last_activity_date": 1557316632, "creation_date": 1557316632, "answer_id": 56040271, "question_id": 56039865, "link": "https://stackoverflow.com/questions/56039865/angular-typescript-union-type-access/56040271#56040271", "title": "Angular/TypeScript - Union type access", "body": "<p>You can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Type Guards</a></p>\n\n<p>The easiest solution would be:</p>\n\n<pre><code>function getLabel(): string {\n  return (&lt;Category&gt;this.challenge.category).label;\n}\n</code></pre>\n\n<p>But if you will use this many times it's worth creating a type guard:</p>\n\n<pre><code>function getLabel(): string {\n  if (isCategory(challenge.category)) {\n    return this.challenge.category.label;\n  } else {\n    // this will be string\n    return this.challenge.category;\n  }\n}\n\nfunction isCategory(category: Category | string): category is Category {\n  return (&lt;Category&gt;this.challenge.category).label !== undefined;\n}\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 7951032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/dc7d7.jpg?s=128&g=1", "display_name": "Mouad Ennaciri", "link": "https://stackoverflow.com/users/7951032/mouad-ennaciri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 56040271, "answer_count": 1, "score": 1, "last_activity_date": 1557316632, "creation_date": 1557315284, "question_id": 56039865, "link": "https://stackoverflow.com/questions/56039865/angular-typescript-union-type-access", "title": "Angular/TypeScript - Union type access", "body": "<p>I have an interface with a property that has a union type:</p>\n\n<pre><code>interface Challenge {\n  id: number;\n  category: Category | string;\n}\n</code></pre>\n\n<p>Category interface:</p>\n\n<pre><code>Interface Category {\n  id: number;\n  label: string;\n}\n</code></pre>\n\n<p>In my controller i have a <code>this.challenge</code> which type<code>Challenge</code>.</p>\n\n<p>now from the template I would like to show the <code>challenge.category.label</code>:</p>\n\n<pre><code>&lt;p&gt;{{ challenge.category.label }}&lt;/p&gt;\n</code></pre>\n\n<p>but it does not work because the <code>label</code> property does not exist on the string type, and it's the same error if I try to access the property from the controller:</p>\n\n<pre><code>getLabel(): string {\n  return this.challenge.category.label\n}\n</code></pre>\n\n<p>how can I specify that the type of this category instance is <code>Category</code>, since the template directly preference</p>\n"}, {"tags": ["json", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 935, "user_id": 8375099, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kjgMzRncLI8/AAAAAAAAAAI/AAAAAAAAAdk/TcCHfdrnJKo/photo.jpg?sz=128", "display_name": "arun kumar", "link": "https://stackoverflow.com/users/8375099/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1557314734, "post_id": 56039550, "comment_id": 98721413, "body": "<a href=\"https://stackoverflow.com/questions/55849690/how-to-make-real-time-search-box-in-angular-7-cli-project/55849914#55849914\" title=\"how to make real time search box in angular 7 cli project\">stackoverflow.com/questions/55849690/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "reply_to_user": {"reputation": 935, "user_id": 8375099, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kjgMzRncLI8/AAAAAAAAAAI/AAAAAAAAAdk/TcCHfdrnJKo/photo.jpg?sz=128", "display_name": "arun kumar", "link": "https://stackoverflow.com/users/8375099/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1557315625, "post_id": 56039550, "comment_id": 98721905, "body": "@arunkumar : Thanks for the reply, this question is completely related to new pipe (Keyvalue) which is introduced in Angular 6, I request you to please check again."}, {"owner": {"reputation": 935, "user_id": 8375099, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kjgMzRncLI8/AAAAAAAAAAI/AAAAAAAAAdk/TcCHfdrnJKo/photo.jpg?sz=128", "display_name": "arun kumar", "link": "https://stackoverflow.com/users/8375099/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1557316972, "post_id": 56039550, "comment_id": 98722628, "body": "I think that is suitable only for map kind of fields"}], "answers": [{"tags": [], "owner": {"reputation": 314, "user_id": 11300565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8594710e91e0e56f15f267789a51f557?s=128&d=identicon&r=PG&f=1", "display_name": "RocketMan", "link": "https://stackoverflow.com/users/11300565/rocketman"}, "is_accepted": false, "score": 1, "last_activity_date": 1563901113, "creation_date": 1563901113, "answer_id": 57169002, "question_id": 56039550, "link": "https://stackoverflow.com/questions/56039550/how-to-filter-specific-value-from-keyvalue-pipe-to-display-under-specific-header/57169002#57169002", "title": "How to filter specific value from KeyValue pipe to display under specific header in html table | Angular 6 +", "body": "<p>One of the comments above correctly mentions that the keyvalue pipe is not intended for lists, but rather for map-kind fields (something with key &amp; value pairs), so it is not applicable to <code>products: string[];</code>.</p>\n\n<p>In Component.ts, instead of the list of strings (<code>products: string[];</code>), I would do a list of custom project objects (<code>products: myCustomProduct[];</code>), where <code>myCustomProduct</code> is a custom class (or you could use a type I suppose):</p>\n\n<pre><code>class myCustomProduct {\n   parameter: string;\n   orderVal: int;\n   orderMin: int;\n   orderMax: int;\n}\n</code></pre>\n\n<p>Then in your <code>subscribe</code> statement in <code>ngOnInit()</code>, cast the JSON to <code>product</code>s (I'd have to see the full JSON to spell that out for you, not just a single product's JSON), which you can then use in HTML:</p>\n\n<pre><code>&lt;tr *ngFor='let product of products'&gt;\n    &lt;td&gt;{{product.parameter}}&lt;/td&gt;\n    &lt;td&gt;{{product.orderVal}}&lt;/td&gt;\n    &lt;td&gt;{{product.orderMin}}&lt;/td&gt;\n    &lt;td&gt;{{product.orderMax}}&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>Although it may be attractive to try and encode each project as an unconstrained dictionary and then ngFor through the attributes automatically with a keyvaluepipe, this decouples the row from the hard-coded column headers in your example. Reading in the JSON as actual object models creates code that is more readable and maintainable, in my opinion.</p>\n"}], "owner": {"reputation": 25, "user_id": 10199024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-va8RJYJCw2s/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKbEGWTSMvGs3K7j4Pe88ZJ4wDDQ/mo/photo.jpg?sz=128", "display_name": "Umesh C", "link": "https://stackoverflow.com/users/10199024/umesh-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1563901113, "creation_date": 1557314313, "last_edit_date": 1557314670, "question_id": 56039550, "link": "https://stackoverflow.com/questions/56039550/how-to-filter-specific-value-from-keyvalue-pipe-to-display-under-specific-header", "title": "How to filter specific value from KeyValue pipe to display under specific header in html table | Angular 6 +", "body": "<p>Basically i have some JSON data (objects : Key value pairs) and i want to display it in html table ,so as i have only objects in my json i am using Keyvalue pipe, But the problem is i am getting all values from Keyvalue pipe randomly and displaying in table cell. i want to display specifically under respective headers. </p>\n\n<p>I want to use data something like {{key1.value1}}, {{key2.value2}} ... so on.</p>\n\n<p>My component.ts</p>\n\n<pre><code>products: string[];\n</code></pre>\n\n<p>constructor(private httpService: HttpClient) { }</p>\n\n<p>ngOnInit() {</p>\n\n<pre><code>this.httpService.get('products.json').subscribe(\n  data =&gt; {\n    this.products = data as string[] ;\n\n\n  },\n  (err: HttpErrorResponse) =&gt; {\n    console.log (err.message);\n  });}}\n</code></pre>\n\n<p>My component.html</p>\n\n<pre><code>                          &lt;table&gt;\n                          &lt;thead&gt;\n                           &lt;tr&gt;\n\n                              &lt;th&gt;Parameter&lt;/th&gt;\n                              &lt;th&gt;Order Val&lt;/th&gt;\n                              &lt;th&gt;Order Min&lt;/th&gt;\n                              &lt;th&gt;Order Max&lt;/th&gt;\n                          &lt;/tr&gt;\n                          &lt;/thead&gt;\n\n                     &lt;tbody&gt;\n                     &lt;tr *ngFor='let product of products | keyvalue'&gt;\n                        &lt;td&gt;{{product.value}}&lt;/td&gt;\n\n                           &lt;/tr&gt;\n                         &lt;/tbody&gt;\n                        &lt;/table&gt;\n</code></pre>\n\n<p>Json data </p>\n\n<p>{\n  \"parameter\": \"specimen\",\n  \"orderVal\": 2,\n  \"orderMin\": 1,\n  \"orderMax\": 6,\n}</p>\n"}, {"tags": ["node.js", "typescript", "ubuntu", "lxc", "linux-containers"], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 6445180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6iGYEi4rQqI/AAAAAAAAAAI/AAAAAAAAAVw/OppkAIGHjhs/photo.jpg?sz=128", "display_name": "RajNikhil Marpu", "link": "https://stackoverflow.com/users/6445180/rajnikhil-marpu"}, "is_accepted": false, "score": 0, "last_activity_date": 1563526151, "creation_date": 1563526151, "answer_id": 57108817, "question_id": 56039488, "link": "https://stackoverflow.com/questions/56039488/how-to-install-node-modules-express-typescript-ws-etc-inside-ubuntu-lxc-cont/57108817#57108817", "title": "How to install node modules (express, typescript, ws etc) inside Ubuntu LXC container?", "body": "<p>So, while installing those modules, container need to go to internet to fetch those modules.</p>\n\n<p>Option1:</p>\n\n<p>open resolv.conf file in lxc contianer.</p>\n\n<pre><code>sudo vi /etc/resolv.conf\n</code></pre>\n\n<p>add </p>\n\n<p><strong>name-servers 8.8.8.8 8.8.4.4</strong> </p>\n\n<p>to the end of the file, now try installing all those modules.</p>\n\n<p>Option2:</p>\n\n<p>It's best to use Port-Forwarding </p>\n\n<p>Write a iptable/ebtable rule such that any traffic which goes out from Base Machine should be forwarded to LXC Container's Interface.</p>\n"}], "owner": {"reputation": 2379, "user_id": 6029176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1057704354272130/picture?type=large", "display_name": "Shaik Syed Ali", "link": "https://stackoverflow.com/users/6029176/shaik-syed-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563526151, "creation_date": 1557314133, "question_id": 56039488, "link": "https://stackoverflow.com/questions/56039488/how-to-install-node-modules-express-typescript-ws-etc-inside-ubuntu-lxc-cont", "title": "How to install node modules (express, typescript, ws etc) inside Ubuntu LXC container?", "body": "<p>I have a typescript application which is in turn a express web application and uses ws module for socket operations.</p>\n\n<p>My use case here is, I have to run the typescript application inside a LXC container in Ubuntu.</p>\n\n<p>I have created a container using following steps,</p>\n\n<pre><code>lxc-create -t download -n my-container\nlxc-start -n my-container -d\nlxc-attach -n my-container\n</code></pre>\n\n<p>And I installed node inside the container using,</p>\n\n<pre><code>apt-get install wget unzip nodejs npm nodejs-legacy \n</code></pre>\n\n<p>Now when I try to install express or typescript npm module, I am getting the following error,</p>\n\n<pre><code>root@myNodeCont:/# npm install -g express\nnpm http GET https://registry.npmjs.org/express\nnpm http GET https://registry.npmjs.org/express\nnpm http GET https://registry.npmjs.org/express\nnpm ERR! network tunneling socket could not be established, cause=4150015744:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:s23_clnt.c:795:\nnpm ERR! network\nnpm ERR! network This is most likely not a problem with npm itself\nnpm ERR! network and is related to network connectivity.\nnpm ERR! network In most cases you are behind a proxy or have bad network settings.\nnpm ERR! network\nnpm ERR! network If you are behind a proxy, please make sure that the\nnpm ERR! network 'proxy' config is set properly.  See: 'npm help config'\n\nnpm ERR! System Linux 4.15.0-45-generic\nnpm ERR! command \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"install\" \"-g\" \"express\"\nnpm ERR! cwd /\nnpm ERR! node -v v0.10.25\nnpm ERR! npm -v 1.3.10\nnpm ERR! code ECONNRESET\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /npm-debug.log\nnpm ERR! not ok code 0\n</code></pre>\n\n<p>It tells me I am behind a proxy, but I have no proxy configured on the container.</p>\n\n<p>Is there something I am doing wrong here?</p>\n\n<p>Is there any reference I can look up to on how to run a typescript application inside a container?</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["html", "angular", "typescript", "formio"], "owner": {"reputation": 229, "user_id": 10776598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqclCl2CX5I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hnqbJVEXoUom3N1puWYYQ2U3sY9Q/mo/photo.jpg?sz=128", "display_name": "Rajan Bosh", "link": "https://stackoverflow.com/users/10776598/rajan-bosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 531, "favorite_count": 3, "answer_count": 0, "score": 2, "last_activity_date": 1557313235, "creation_date": 1557313235, "question_id": 56039219, "link": "https://stackoverflow.com/questions/56039219/how-to-add-custom-formio-component-to-form-manager", "title": "How to add custom formio component to form manager", "body": "<p>I created  custom formio component and i have form manager where i can show list of forms. On this when click on create form it showing one form builder i have to merge my custom form component into that form builder. With this i can edit,delete and save my custom formio component...</p>\n\n<p>Can any one help me in this issue...</p>\n\n<p>Here is my code...</p>\n\n<p>customFormioComponent.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> Formio.builder(document.getElementById('builder'), {}, {\r\n      builder: {\r\n        custom: {\r\n          title: 'Custom',\r\n          weight: 0,\r\n          components: {\r\n            address: {\r\n              title: 'Address',\r\n              key: 'address',\r\n              icon: 'fa fa-th-list'\r\n            }\r\n           }\r\n          },\r\n             basic: {\r\n          default: false,\r\n        },\r\n         editForm: {\r\n        select: [\r\n          {\r\n            key: 'api',\r\n            ignore: true\r\n          },\r\n         }\r\n              \r\n </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>customFormioComponent.html</p>\n\n<pre><code>    &lt;form-builder id=\"builder\"&gt;&lt;/form-builder&gt;\n</code></pre>\n\n\n\n<p>formManager.module.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  RouterModule.forChild(FormManagerRoutes({\r\n            formIndex: ManagerComponent,\r\n            formCreate:CustomFormioComponent\r\n        }))\r\n    ],\r\n    declarations: [\r\n        ManagerComponent\r\n    ],\r\n    exports: [\r\n        ManagerComponent\r\n    ],\r\n    providers: [\r\n        FormManagerService,\r\n        {\r\n            provide: FormManagerConfig, useValue: {\r\n                tag: 'common',\r\n                includeSearch: true,\r\n                saveDraft: true\r\n            }\r\n        }\r\n    ]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>formManager.component.html\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;formio-grid *ngIf=\"auth.authenticated\" \r\n              [formio]=\"service.formio\" \r\n              [gridType]=\"'form'\" \r\n              [query]=\"{tags: config.tag, type: 'form'}\"\r\n              (rowAction)=\"onAction($event)\" \r\n              (rowSelect)=\"onSelect($event)\" \r\n              [createText]=\"'Create Form'\" \r\n              (createItem)=\"onCreateItem()\"&gt;\r\n            &lt;/formio-grid&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript", "properties", "preserve"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11367285"}, "edited": false, "score": 0, "creation_date": 1557314139, "post_id": 56039262, "comment_id": 98721089, "body": "Using <code>never</code> seems a good sollution, an property of type  <code>never</code> gets almost the same treatment as a deleted property"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11367285"}, "edited": false, "score": 0, "creation_date": 1557323455, "post_id": 56039262, "comment_id": 98726670, "body": "But how do I use the this, the type <code>OptionalKeys&lt;SomeObject&gt;</code> is <code>never</code>. So how am I able to give keys to the <code>id</code> parameter?"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1557339805, "post_id": 56039262, "comment_id": 98735433, "body": "@LivingLife Gotcha. This approach is only good for deleting <b><i>optional</i></b> keys (i.e. <code>{someValue?:string}</code>), which allows a guarantee of being able to return the same type as the input type. If I get time later, I&#39;ll make a more permissive version."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11367285"}, "edited": false, "score": 0, "creation_date": 1557401643, "post_id": 56039262, "comment_id": 98757450, "body": "I have not used the <code>type OptionalKeys</code> jet, but your answer did contain some usefull parts. I refactored my <code>omitMany()</code> and <code>omitOne()</code> methods to make use of this way of removing properrties <code>const { [id]: deleted, ...newState } = obj;</code>  and then return the newState. It is a clever way of removing properties, because you create a new object where the <code>[id]</code> property is set to <code>deleted</code> (the value doesn&#39;t matter) then <code>newState</code> will have all the remaining properties except for <code>id</code>. This for now solves my problem because I have an other way of removing propeties, than with <code>delete</code> keyword"}], "tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": false, "score": 0, "last_activity_date": 1557313346, "creation_date": 1557313346, "answer_id": 56039262, "question_id": 56039176, "link": "https://stackoverflow.com/questions/56039176/is-there-an-other-way-to-remove-a-property-from-an-object-than-with-delete/56039262#56039262", "title": "Is there an other way to remove a property from an object than with &quot;delete&quot;?", "body": "<p>This is how I solved this:</p>\n\n<pre><code>// https://stackoverflow.com/a/49579497/14357\n/** Extracts optional keys from T */\nexport type OptionalKeys&lt;T&gt; = {\n    [K in keyof T]-?: ({} extends {\n        [P in K]: T[K];\n    } ? K : never);\n}[keyof T];\n\n/** Typesafe way to delete optional properties from an object using magic of OptionalKeys&lt;T&gt; */\nexport const deleteOptionalProperty = &lt;T&gt;(obj: T, id: OptionalKeys&lt;T&gt;): T =&gt; {\n    const { [id]: deleted, ...newState } = obj;\n    return newState as T // this type-conversion is safe because we're sure we only deleted optional props\n}\n\nexport const deleteOptionalProperties = &lt;T&gt;(obj: T, ...ids: OptionalKeys&lt;T&gt;[]): T =&gt;\n    ids.reduce((prev, id) =&gt; deleteOptionalProperty(prev, id), obj)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11367285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557313346, "creation_date": 1557313117, "question_id": 56039176, "link": "https://stackoverflow.com/questions/56039176/is-there-an-other-way-to-remove-a-property-from-an-object-than-with-delete", "title": "Is there an other way to remove a property from an object than with &quot;delete&quot;?", "body": "<p>I have a question about the behavior of the <code>delete</code> keyword in Javascript or Typescript. \n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete</a></p>\n\n<p>What I need is a way of picking properties from an Object and a way of omiting properties from an Object. </p>\n\n<p>Typescript comes with a build in type <code>Pick</code> \n<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/advanced-types.html</a></p>\n\n<p><code>type Pick&lt;T, K extends keyof T&gt; = { [P in K]: T[P]; }</code></p>\n\n<p>The opposite of <code>Pick</code> is <code>Omit</code>, wich can be implementend like this: </p>\n\n<p><code>export type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;</code></p>\n\n<p>I also wrote some methods for it that take an object and an Array of properties from that object those properties will be picked or omited from the object. </p>\n\n<pre><code>export let pickMany = &lt;T, K extends keyof T&gt;(entity: T, props: K[]) =&gt; {\n   return props.reduce((s, prop) =&gt; (s[prop] = entity[prop], s) , {} as \n Pick&lt;T, K&gt;)\n}\n\nexport let omitMany = &lt;T, K extends keyof T&gt;(entity: T, props: K[]): \n      Omit&lt;T, K&gt; =&gt; {\n  return props.reduce((s, prop) =&gt; (delete s[prop] ,s), entity)\n }\n</code></pre>\n\n<p>For Omit I used the delete keyword, at the beginning it seem to work but now I am running into some issues. The main issue is that for <code>omitMany</code> the original object is modified. Wich causes problems with preserving the original data and preserving state later in my program. </p>\n\n<h2>I have written a simple example to illustrate my problem:</h2>\n\n<pre><code>// First I make some interface that contains some structure for data\ninterface SomeObject { x: string, y: number, z: boolean }\n\n// Initialize object1 with properties x, y and z, containing the important data\n// I want to preserve all the data in object1 throug the entire program\nlet object1: SomeObject = { x: \"something\", y: 0, z: false }\n// I can print all properties of object1\nconsole.log(`Object 1: x = ${object1.x}, y = ${object1.y}, z = ${object1.z}`) \n// OUTPUT: \"Object 1: x = something, y = 0, z = false\"\n\n// omit or delete property 'x' from object 1, defining object 2\nlet object2 = omitMany(object1, [\"x\"]) // The type of object2 is: {y: number, z: boolean}\n// Here I can only get properties z and y, because x has been omited\n// Calling: object2.x gives an compile error\nconsole.log(`Object 2: y = ${object2.y}, z = ${object2.z}`)\n// OUTPUT: Object 2: y = 0, z = false (as expected)\n\n// Everything works fine from here, but...\n// When I recall omitMany on object1 the following happens: \n\n// Initialize object3 from object1, removing 'x' from an object where x = undefined\nlet object3 = omitMany(object1, [\"x\"]) // This code compiles, omiting 'x' from object2 gives an compiler error\n//Printing object3 does show no problems, since it satisfies the expected result. Remove 'x' and keep 'y' and 'z'\nconsole.log(`Object 3: y = ${object3.y}, z = ${object3.z}`)\n// OUTPUT: Object 3: y = 0, z = false\n\n// But when I print object1 again\nconsole.log(`Object 1: x = ${object1.x}, y = ${object1.y}, z = ${object1.z}`) \n// OUTPUT: Object 1: x = undefined, y = 0, z = false \n// We lost the data of 'x'!!!\n\n\n// I also ran into problems when I try to pick property 'x' from the original object1 \nlet object4 = pickMany(object1, [\"x\"]) // The type of object4 is {x: string}\n// When I print 'x' from object4 it is still undefined\nconsole.log(`Object 4: x = ${object4.x}`) \n// OUTPUT: Object 4: x = undefined\n\n</code></pre>\n\n<p>I understand that this has to do with the behaviour of <code>delete</code>, but is there an other way to remove properties from an object without loosing the information of the original object? So with preserving all the values and properties.</p>\n\n<p>This problem can be solved with a temporary variable, but I first wanted to see if there are other solutions.</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1557313980, "post_id": 56039296, "comment_id": 98721002, "body": "This seems to be part of your problem, although you&#39;re describing it a bit differently. Are you able to see the <code>game.id</code> in your HTML or not? I couldn&#39;t completely gather from your initial question @sammyleighg."}, {"owner": {"reputation": 13, "user_id": 10645740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebe54998315610709db50ae74ef0cf0?s=128&d=identicon&r=PG&f=1", "display_name": "sammyleighg", "link": "https://stackoverflow.com/users/10645740/sammyleighg"}, "edited": false, "score": 0, "creation_date": 1557321105, "post_id": 56039296, "comment_id": 98725135, "body": "when i remove the $ symbol, clicking the update button does nothing.  yes it can see the game.id in the html file but not in the TS file"}, {"owner": {"reputation": 13, "user_id": 10645740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebe54998315610709db50ae74ef0cf0?s=128&d=identicon&r=PG&f=1", "display_name": "sammyleighg", "link": "https://stackoverflow.com/users/10645740/sammyleighg"}, "reply_to_user": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1557325394, "post_id": 56039296, "comment_id": 98727967, "body": "@Bjorn &#39;Bjeaurn&#39; S"}, {"owner": {"reputation": 11, "user_id": 11445796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ov0dRArL3qw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoAiGYq_u0wAbli8w6JnGA2o1V8A/mo/photo.jpg?sz=128", "display_name": "Jayaram sekar", "link": "https://stackoverflow.com/users/11445796/jayaram-sekar"}, "edited": false, "score": 0, "creation_date": 1557375919, "post_id": 56039296, "comment_id": 98745231, "body": "<a href=\"https://stackblitz.com/edit/angular-fbgb9m\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fbgb9m</a> I reproduced your issue using mock API. solution what I suggested working fine. can you share the console.log(game) in updateGame Method"}, {"owner": {"reputation": 13, "user_id": 10645740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebe54998315610709db50ae74ef0cf0?s=128&d=identicon&r=PG&f=1", "display_name": "sammyleighg", "link": "https://stackoverflow.com/users/10645740/sammyleighg"}, "edited": false, "score": 0, "creation_date": 1557395256, "post_id": 56039296, "comment_id": 98753934, "body": "its almost like its not going into the function, as nothing is being logged in the console. not an error or anything, its literally like the button does nothing."}], "tags": [], "owner": {"reputation": 11, "user_id": 11445796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ov0dRArL3qw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoAiGYq_u0wAbli8w6JnGA2o1V8A/mo/photo.jpg?sz=128", "display_name": "Jayaram sekar", "link": "https://stackoverflow.com/users/11445796/jayaram-sekar"}, "is_accepted": false, "score": 1, "last_activity_date": 1557313440, "creation_date": 1557313440, "answer_id": 56039296, "question_id": 56039045, "link": "https://stackoverflow.com/questions/56039045/how-to-get-put-request-working-in-angular-using-a-rest-api/56039296#56039296", "title": "how to get put request working in angular using a rest API", "body": "<p>Change '$game' to 'game' in HTML because *ngFor returns the value not the DOM event</p>\n\n<pre><code>&lt;button (click)=\"updateGame(game)\" class=\"btn btn-default btn-sm\"&gt;Update&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10645740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebe54998315610709db50ae74ef0cf0?s=128&d=identicon&r=PG&f=1", "display_name": "sammyleighg", "link": "https://stackoverflow.com/users/10645740/sammyleighg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557313800, "creation_date": 1557312726, "last_edit_date": 1557313800, "question_id": 56039045, "link": "https://stackoverflow.com/questions/56039045/how-to-get-put-request-working-in-angular-using-a-rest-api", "title": "how to get put request working in angular using a rest API", "body": "<p>Im working on my own project, its a game library, I have a separate file with my hard coded data in where each item has an Id and a name. The problem im having is my component.ts file cannot see the value of id, even though my get request works perfectly fine and displays the id and the name in a table. Im following a tutorial but adapting it so it works for mine however this causes issues when I cant ask for help on my specific problems.</p>\n\n<p>I have tried changing variable names incase I messed something up that way but that didn't do it so im not sure what else to do to be honest.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;&lt;/th&gt;\n    &lt;th&gt;Id&lt;/th&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr *ngFor=\"let game of games\"&gt;\n    &lt;button (click)=\"updateGame($game)\" class=\"btn btn-default btn-sm\"&gt;Update&lt;/button&gt;\n    &lt;td&gt;{{game.id}}&lt;/td&gt;\n    &lt;td&gt;{{game.name}}&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class UpdateGameBodyComponent {\n  public games: any = [];\n\n  constructor(private httpClient: HttpClient) {\n    httpClient.get('http://localhost:3000/api/games').subscribe(response =&gt; {\n      this.games = response;\n    });\n  }\n\n  updateGame(game) {\n\n    this.httpClient.put('http://localhost:3000/api/games' + '/' + game.id, JSON.stringify({\n        isRead: true\n      }))\n      .subscribe(response =&gt; {\n        console.log(response);\n      })\n  }\n};\n</code></pre>\n\n<p>When I click the update button the console displays an error saying it cannot get the value of Id, i would like to fix that issue so that i can continue making the put request work.</p>\n"}, {"tags": ["typescript", "react-native", "typescript-typings"], "comments": [{"owner": {"reputation": 1492, "user_id": 7581249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q3VMg.png?s=128&g=1", "display_name": "Milore", "link": "https://stackoverflow.com/users/7581249/milore"}, "edited": false, "score": 0, "creation_date": 1557312938, "post_id": 56038857, "comment_id": 98720410, "body": "<code>width</code> is not a prop from <code>ViewProps</code>. Check it <a href=\"https://facebook.github.io/react-native/docs/view.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 5245, "user_id": 1376627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/HLKGd.jpg?s=128&g=1", "display_name": "david_adler", "link": "https://stackoverflow.com/users/1376627/david-adler"}, "reply_to_user": {"reputation": 1492, "user_id": 7581249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q3VMg.png?s=128&g=1", "display_name": "Milore", "link": "https://stackoverflow.com/users/7581249/milore"}, "edited": false, "score": 1, "creation_date": 1557313131, "post_id": 56038857, "comment_id": 98720524, "body": "Argh this is pretty embarrassing thanks"}], "answers": [{"comments": [{"owner": {"reputation": 1492, "user_id": 7581249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q3VMg.png?s=128&g=1", "display_name": "Milore", "link": "https://stackoverflow.com/users/7581249/milore"}, "edited": false, "score": 0, "creation_date": 1557313952, "post_id": 56039226, "comment_id": 98720994, "body": "Exactly. Note that you don&#39;t need to redefine <code>style</code> prop in your <code>interface Props extends ViewProps</code> as you did in the question, &#39;cause style is already a <code>ViewProp</code>."}], "tags": [], "owner": {"reputation": 5245, "user_id": 1376627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/HLKGd.jpg?s=128&g=1", "display_name": "david_adler", "link": "https://stackoverflow.com/users/1376627/david-adler"}, "is_accepted": true, "score": 1, "last_activity_date": 1557313240, "creation_date": 1557313240, "answer_id": 56039226, "question_id": 56038857, "link": "https://stackoverflow.com/questions/56038857/typescript-extend-react-native-view-component/56039226#56039226", "title": "Typescript extend react native View component", "body": "<p>The code in the question does indeed extend the props correctly instead it was a client mistake. The client should read:</p>\n\n<pre><code>const test = () =&gt; {\n  return &lt;WrappedView pb={\"large\"} style={{width:\"100%\"}} /&gt;;\n};\n</code></pre>\n"}], "owner": {"reputation": 5245, "user_id": 1376627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/HLKGd.jpg?s=128&g=1", "display_name": "david_adler", "link": "https://stackoverflow.com/users/1376627/david-adler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 0, "accepted_answer_id": 56039226, "answer_count": 1, "score": 0, "last_activity_date": 1557314304, "creation_date": 1557312134, "last_edit_date": 1557314304, "question_id": 56038857, "link": "https://stackoverflow.com/questions/56038857/typescript-extend-react-native-view-component", "title": "Typescript extend react native View component", "body": "<p>Trying to extend <code>react-native</code> <code>View</code> component. However I'm having trouble extending props of the View component.</p>\n\n<p>Here is how I extend the <code>Props</code></p>\n\n<pre><code>import { StyleSheet, View, ViewStyle, ViewProps } from \"react-native\";\ninterface Props extends ViewProps {\n  pb?: keyof Size | number;\n  pt?: keyof Size | number;\n  pv?: keyof Size | number;\n  ph?: keyof Size | number;\n}\n</code></pre>\n\n<p>Here is my custom <code>View</code> component</p>\n\n<pre><code>class WrappedView extends Component&lt;Props&gt; {\n  render() {\n    const methods = {};\n    let { style: attrStyles, children, pb, pt, pv, ph, ...rest } = this.props;\n    let style = [attrStyles];\n    // Shorthand prop styles\n    let propStyles: ViewStyle = {};\n    propStyles.paddingBottom = pb;\n    propStyles.paddingTop = pt;\n    propStyles.paddingVertical = pv;\n    propStyles.paddingHorizontal = ph;\n    style.push(propStyles);\n    return (\n      &lt;View style={style} {...rest} {...this.state} {...methods}&gt;\n        {children}\n      &lt;/View&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>When I try a test like so </p>\n\n<pre><code>const test = () =&gt; {\n  return &lt;WrappedView pb={\"large\"} width={\"100%\"} /&gt;;\n};\n</code></pre>\n\n<p>I get the following issue </p>\n\n<pre><code>Type '{ pb: \"large\"; width: string; }' is not assignable to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;WrappedView&gt; &amp; Readonly&lt;Props&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt;'.\n  Property 'width' does not exist on type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;WrappedView&gt; &amp; Readonly&lt;Props&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt;'.\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1557312047, "creation_date": 1557312047, "answer_id": 56038829, "question_id": 56038752, "link": "https://stackoverflow.com/questions/56038752/typescript-this-when-extending-abstract-class/56038829#56038829", "title": "Typescript: &#39;this&#39; when extending abstract class", "body": "<p>But you're not returning and instance of itself, you're returning a new instance:</p>\n\n<pre><code>abstract class A {\n  public abstract fn(): this;\n}\n\nclass B extends A {\n  public fn() {\n    return this;\n  }\n}\n</code></pre>\n\n<p>Or change return:</p>\n\n<pre><code>abstract class A {\n  public abstract fn(): A;\n}\n\nclass B extends A {\n  public fn() {\n    return new B();;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 278, "user_id": 8157383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mqEIG.jpg?s=128&g=1", "display_name": "Komninos", "link": "https://stackoverflow.com/users/8157383/komninos"}, "edited": false, "score": 0, "creation_date": 1557312598, "post_id": 56038868, "comment_id": 98720175, "body": "That was a great explanation, thanks a lot! I guess I will have to change the structure of my code since, as you said, there is not a good type-safe way of achieving what I want. Will also accept the answer once SO lets me."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 278, "user_id": 8157383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mqEIG.jpg?s=128&g=1", "display_name": "Komninos", "link": "https://stackoverflow.com/users/8157383/komninos"}, "edited": false, "score": 1, "creation_date": 1557312765, "post_id": 56038868, "comment_id": 98720291, "body": "@Komninos you want to correctly type a <code>clone</code> function basically. I don&#39;t think there is a good way to model this in typescript. The function would have to be typed in such a way that all derived types must override it, <code>abstract</code> will only make you override the first level classes .."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1557312171, "creation_date": 1557312171, "answer_id": 56038868, "question_id": 56038752, "link": "https://stackoverflow.com/questions/56038752/typescript-this-when-extending-abstract-class/56038868#56038868", "title": "Typescript: &#39;this&#39; when extending abstract class", "body": "<p>The specific error you are getting is cause by the fact that you don't have an annotation on <code>fn</code>  in <code>B</code>.This means <code>fn</code> will return <code>B</code> not <code>this</code> in the derived class.  </p>\n\n<p>The only value you can really return (without type assertions) from a function returning <code>this</code> is <code>this</code>. Consider the following: </p>\n\n<pre><code>abstract class A {\n    public abstract fn(): this;\n}\n\nclass B extends A {\n    public fn(): this {\n        return new B();\n    }\n}\n\nclass C extends B {\n    m() { }\n}\nnew C().fn().m(); // runtime error since fn returned B instead of C\n</code></pre>\n\n<p>You can use a type assertion but it is not really type safe as demonstrated above: </p>\n\n<pre><code>class B extends A {\n    public fn(): this {\n        return new B() as this;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1557312803, "post_id": 56039055, "comment_id": 98720316, "body": "Yeah, that is type safe, but suffers from the inability to extend it past <code>B</code> :("}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1557312752, "creation_date": 1557312752, "answer_id": 56039055, "question_id": 56038752, "link": "https://stackoverflow.com/questions/56038752/typescript-this-when-extending-abstract-class/56039055#56039055", "title": "Typescript: &#39;this&#39; when extending abstract class", "body": "<p>Titian explained why it is not allowed. Here's how you can implement it in safer way:</p>\n\n<pre><code>abstract class A&lt;T&gt; {\n    public abstract fn(): T;\n}\n\nclass B extends A&lt;B&gt; {\n    public fn() {\n        return new B();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 278, "user_id": 8157383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mqEIG.jpg?s=128&g=1", "display_name": "Komninos", "link": "https://stackoverflow.com/users/8157383/komninos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 56038868, "answer_count": 3, "score": 1, "last_activity_date": 1557312752, "creation_date": 1557311779, "question_id": 56038752, "link": "https://stackoverflow.com/questions/56038752/typescript-this-when-extending-abstract-class", "title": "Typescript: &#39;this&#39; when extending abstract class", "body": "<p>So my issue is pretty straight forward. I have the following code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>abstract class A {\n  public abstract fn(): this;\n}\n\nclass B extends A {\n  public fn() {\n    return new B();\n  }\n}\n</code></pre>\n\n<p>which is supposed to mean that whichever class inherits from A is supposed to return an instance of itself when <code>fn</code> is called but running this code I get an error:  <code>Property 'fn' in type 'B' is not assignable to the same property in base type 'A'.</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6", "angular7"], "comments": [{"owner": {"reputation": 160, "user_id": 8668810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471032fa8390580a509a1bdec93ab802?s=128&d=identicon&r=PG&f=1", "display_name": "H. Hakvoort", "link": "https://stackoverflow.com/users/8668810/h-hakvoort"}, "edited": false, "score": 0, "creation_date": 1557311664, "post_id": 56038688, "comment_id": 98719635, "body": "Can you add/show the ts file?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1557311698, "post_id": 56038688, "comment_id": 98719662, "body": "What is your <code>.ts</code>?"}, {"owner": {"reputation": 153, "user_id": 2957758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3306518ad538f9ad9c5d5396c68c5703?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Kumar Singh", "link": "https://stackoverflow.com/users/2957758/suyash-kumar-singh"}, "edited": false, "score": 0, "creation_date": 1557311861, "post_id": 56038688, "comment_id": 98719757, "body": "ts has variable public status:string=&quot;ok&quot;; public list:any=[&#39;submitted&#39;,&#39;pending&#39;,&#39;partial&#39;] i am taking data from api soo i can&#39;t share json etc"}, {"owner": {"reputation": 153, "user_id": 2957758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3306518ad538f9ad9c5d5396c68c5703?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Kumar Singh", "link": "https://stackoverflow.com/users/2957758/suyash-kumar-singh"}, "edited": false, "score": 0, "creation_date": 1557311991, "post_id": 56038688, "comment_id": 98719828, "body": "I am also trying {{updateStatus(d.desc)}} but getting same error, updateStatus(desc:string){if(desc==&#39;pending&#39;)this.status=&#39;pe&zwnj;&#8203;nding&#39;}}"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2957758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3306518ad538f9ad9c5d5396c68c5703?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Kumar Singh", "link": "https://stackoverflow.com/users/2957758/suyash-kumar-singh"}, "edited": false, "score": 0, "creation_date": 1557313154, "post_id": 56038860, "comment_id": 98720534, "body": "thanks buddy,problem was in my ts file status belong to interface ,when i change interface to class it worked"}], "tags": [], "owner": {"reputation": 185, "user_id": 6608983, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lEbpCwTc5-M/AAAAAAAAAAI/AAAAAAAAH5s/bxZi4dEFWXs/photo.jpg?sz=128", "display_name": "Karthik Arwin", "link": "https://stackoverflow.com/users/6608983/karthik-arwin"}, "is_accepted": true, "score": 0, "last_activity_date": 1557312138, "creation_date": 1557312138, "answer_id": 56038860, "question_id": 56038688, "link": "https://stackoverflow.com/questions/56038688/unable-to-assign-a-value-in-ngfor-loop-cannot-assign-to-readonly-property-of-ob/56038860#56038860", "title": "unable to assign a value in ngFor loop: cannot assign to readonly property of object", "body": "<p>You can't achieve directly! But still you can use function and call that function from html by passing the status.\nI have created a stackblitz for that! Take a look at it!\n<a href=\"https://stackblitz.com/edit/angular-a7bxve\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-a7bxve</a></p>\n\n<p>In html...</p>\n\n<pre><code>&lt;table&gt;\n   &lt;tr *ngFor=\"let d of list\"&gt;\n      &lt;td&gt;{{showStatus(d.desc)}}&lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>And in ts file...</p>\n\n<pre><code>showStatus(status) {\n   this.status = status;\n}\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 2957758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3306518ad538f9ad9c5d5396c68c5703?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Kumar Singh", "link": "https://stackoverflow.com/users/2957758/suyash-kumar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 56038860, "answer_count": 1, "score": -1, "last_activity_date": 1557314923, "creation_date": 1557311519, "last_edit_date": 1557312257, "question_id": 56038688, "link": "https://stackoverflow.com/questions/56038688/unable-to-assign-a-value-in-ngfor-loop-cannot-assign-to-readonly-property-of-ob", "title": "unable to assign a value in ngFor loop: cannot assign to readonly property of object", "body": "<p>temp.html code </p>\n\n<pre><code>&lt;div&gt;\n&lt;div&gt;{{status}}&lt;/div&gt;\n&lt;/div&gt;\n\n\n\n\n\n &lt;table&gt;\n    &lt;tr *ngFor=\"let d of list\"&gt;\n               &lt;td&gt;{{d.desc}}&lt;/td&gt;\n    &lt;/tr&gt;\n &lt;/table&gt;\n</code></pre>\n\n<p>d.desc has value :submitted,pending,partial\nI want if d.desc is pending, status should change to pending.I don't want loop or filter in ts file\nts file has variable </p>\n\n<pre><code>public status:string=\"ok\";\npublic list:any=[{\"desc\":\"submitted\"},{\"desc\":\"pending\"},{\"desc\":\"partial\"}]\n</code></pre>\n\n<p>I am trying but got cannot assign to readonly property of object</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jestjs"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1557310914, "post_id": 56038453, "comment_id": 98719200, "body": "Please, provide <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> for your problem. It&#39;s unknown why ListItem is expected to be there. In case ListItem is rendered not by ValueAnalysisCard directly, this isn&#39;t unit test and you&#39;re moving in wrong direction."}, {"owner": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "edited": false, "score": 0, "creation_date": 1557311163, "post_id": 56038453, "comment_id": 98719347, "body": "what type of renderer are you using?"}, {"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1557311961, "post_id": 56038453, "comment_id": 98719812, "body": "This one? <a href=\"https://stackoverflow.com/a/44926856/863110\">stackoverflow.com/a/44926856/863110</a>"}, {"owner": {"reputation": 5715, "user_id": 510731, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a74c68ce91887486016938035a73245f?s=128&d=identicon&r=PG", "display_name": "Kasper Hansen", "link": "https://stackoverflow.com/users/510731/kasper-hansen"}, "edited": false, "score": 0, "creation_date": 1557313496, "post_id": 56038453, "comment_id": 98720722, "body": "It is enzyme..."}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "edited": false, "score": 0, "creation_date": 1573548959, "post_id": 56038453, "comment_id": 103908235, "body": "Add the code you want to test and the error information."}], "owner": {"reputation": 5715, "user_id": 510731, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a74c68ce91887486016938035a73245f?s=128&d=identicon&r=PG", "display_name": "Kasper Hansen", "link": "https://stackoverflow.com/users/510731/kasper-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573548872, "creation_date": 1557310791, "last_edit_date": 1573548872, "question_id": 56038453, "link": "https://stackoverflow.com/questions/56038453/how-to-inspect-component-when-writing-a-unit-test-in-jest", "title": "How to inspect component when writing a unit test in Jest", "body": "<p>I have this piece of unit test failing (2nd last line). How can I inspect the AnalysisList component to find out what is inside it after it has been instantiated by the test?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>test('should be one list', () =&gt; {\n  const component = mount(\n    &lt;ValueAnalysisCard\n      frequentValues={[]}\n      rareValues={[]}\n      objectTypeInstanceCount={objectTypeInstanceCount}\n      derived={false}\n      onSearch={onSearch}\n    /&gt;\n  );\n\n  expect(component.find(AnalysisList)).toHaveLength(1);\n  // expect(component.find(ListItem)).toHaveLength(1); // FAIL\n  expect(component.find(LinkText)).toHaveLength(0);\n});\n</code></pre>\n"}, {"tags": ["regex", "typescript"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1557311037, "post_id": 56038440, "comment_id": 98719271, "body": "<code>$</code> is a regex <i>metacharacter</i>, meaning that <code>$</code> has a special meaning in regex (you seem to have figured this out).  So, try escaping it: <code>\\$\\$[^$]+\\$\\$</code>."}, {"owner": {"reputation": 208, "user_id": 3143562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y9Op3.jpg?s=128&g=1", "display_name": "mkmayank", "link": "https://stackoverflow.com/users/3143562/mkmayank"}, "edited": false, "score": 0, "creation_date": 1557311162, "post_id": 56038440, "comment_id": 98719345, "body": "use escape character <code>` to escape </code>$` ,  regex would look like       \\$\\$(.*)\\$\\$   <code>$</code> - Match the end of the string   <code>` - Escape the next character  </code>()` - grouping metacharacters &quot;()&quot; for capture"}, {"owner": {"reputation": 41, "user_id": 7306011, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3C85Y3X1LIQ/AAAAAAAAAAI/AAAAAAAAAII/TE_FuNQg7ko/photo.jpg?sz=128", "display_name": "Ban Ovidiu", "link": "https://stackoverflow.com/users/7306011/ban-ovidiu"}, "edited": false, "score": 0, "creation_date": 1557311279, "post_id": 56038440, "comment_id": 98719410, "body": "This provides the $$characters$$, how can i get rid of it? to only get characters as a match"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11116003"}, "edited": false, "score": 1, "creation_date": 1557311394, "post_id": 56038440, "comment_id": 98719471, "body": "Right. <code>$</code> is the end of string (or line). Use this pattern:      <code>^\\$+\\w+\\$+$</code> It means: <code>^</code> - start of string (or line), <code>\\$</code> - the &#39;$&#39; char, <code>+</code> - last char one or more times, <code>\\w</code> - any word char. <code>$</code> - end of string (or line)."}], "owner": {"reputation": 41, "user_id": 7306011, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3C85Y3X1LIQ/AAAAAAAAAAI/AAAAAAAAAII/TE_FuNQg7ko/photo.jpg?sz=128", "display_name": "Ban Ovidiu", "link": "https://stackoverflow.com/users/7306011/ban-ovidiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "closed_date": 1557311035, "answer_count": 0, "score": 0, "last_activity_date": 1557311093, "creation_date": 1557310749, "last_edit_date": 1557310812, "question_id": 56038440, "link": "https://stackoverflow.com/questions/56038440/how-to-find-a-match-between-a-specific-pattern", "closed_reason": "Duplicate", "title": "How to find a match between a specific pattern", "body": "<p>I'm trying to find a pattern that would find all characters between the following pattern : <code>$$characters$$</code> with regex.</p>\n\n<p>There seems to be an issue regarding that <code>$</code> actually does something in regex.</p>\n\n<p>Tried multiple versions, but the pattern of <code>$</code> repeating seems to ruin it.</p>\n"}, {"tags": ["reactjs", "typescript", "progress-bar", "react-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 1085, "user_id": 1177921, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9SyvY.jpg?s=128&g=1", "display_name": "Ramesh Lamani", "link": "https://stackoverflow.com/users/1177921/ramesh-lamani"}, "edited": false, "score": 0, "creation_date": 1560064902, "post_id": 56412571, "comment_id": 99611811, "body": "Thanks for your reply, I used different one svg format circular progress bar."}], "tags": [], "owner": {"reputation": 3170, "user_id": 341512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8192416018e38bce99ad92b85f918ef1?s=128&d=identicon&r=PG", "display_name": "Kevin Qi", "link": "https://stackoverflow.com/users/341512/kevin-qi"}, "is_accepted": false, "score": 0, "last_activity_date": 1559455351, "creation_date": 1559455351, "answer_id": 56412571, "question_id": 56038279, "link": "https://stackoverflow.com/questions/56038279/type-percentage-number-is-not-assignable-react-typescript-for-the-circul/56412571#56412571", "title": "Type &#39;{ percentage: number; }&#39; is not assignable React Typescript for the CircularProgressbar", "body": "<p>I'm the author of react-circular-progressbar - sorry you're running into issues. Based on the props, I assume you're on version 1.x.x of react-circular-progressbar?</p>\n\n<p>Here's a react + typescript CodeSandbox which uses v1.2.1, and does compile with the code you're using without the same error: <a href=\"https://codesandbox.io/s/reactcircularprogressbar-stackoverflow-56038279-v121-cris9\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/reactcircularprogressbar-stackoverflow-56038279-v121-cris9</a></p>\n\n<p>Could you reproduce the error in a CodeSandbox or a small typescript create-react-app repo? Would be really helpful for diagnosing the issue. You could also try updating to v2.0.0.</p>\n"}], "owner": {"reputation": 1085, "user_id": 1177921, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9SyvY.jpg?s=128&g=1", "display_name": "Ramesh Lamani", "link": "https://stackoverflow.com/users/1177921/ramesh-lamani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1560692101, "creation_date": 1557310229, "question_id": 56038279, "link": "https://stackoverflow.com/questions/56038279/type-percentage-number-is-not-assignable-react-typescript-for-the-circul", "title": "Type &#39;{ percentage: number; }&#39; is not assignable React Typescript for the CircularProgressbar", "body": "<p>Hi I am going to use the React CircularProgressbar in my application. I followed the step as mentioned in the below link.</p>\n\n<p><a href=\"https://github.com/kevinsqi/react-circular-progressbar\" rel=\"nofollow noreferrer\">https://github.com/kevinsqi/react-circular-progressbar</a></p>\n\n<p><strong>I am creating the component using the Typescript</strong>, But I am getting the error and code as below. Great appreciate. </p>\n\n<pre><code>import * as React from 'react';\nimport CircularProgressbar from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n export default function CircularProgressBar(props: {percentageVal: number, textVal: string}) {  \n\n  return (&lt;div&gt;    \n    &lt;CircularProgressbar\n      percentage={props.percentageVal}\n      text={props.textVal}\n    /&gt;\n    &lt;/div&gt;);\n}\n</code></pre>\n\n<p>Error: <strong>semantic error TS2322 Type '{ percentage: number; text: string; }' is not assignable to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes &amp; Readonly'</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q0RuJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q0RuJ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "html", "typescript", "svg"], "comments": [{"owner": {"reputation": 26170, "user_id": 341201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arKK4.png?s=128&g=1", "display_name": "feeela", "link": "https://stackoverflow.com/users/341201/feeela"}, "edited": false, "score": 1, "creation_date": 1557310341, "post_id": 56038137, "comment_id": 98718869, "body": "It&#39;s hard to tell, what you are actually trying to solve. As a hint: to access attributes with a namespace in JavaScript, specialized methods exist; for example <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNS\" rel=\"nofollow noreferrer\"><code>Element.getAttributeNS()</code></a>. Using such namespacedd methods, you can alter the <code>xlink:href</code> to load another image."}, {"owner": {"reputation": 1, "user_id": 9919435, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-elKMD4GRnG4/AAAAAAAAAAI/AAAAAAAAACg/OkDB7BQlMDw/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/9919435/lucas"}, "reply_to_user": {"reputation": 26170, "user_id": 341201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arKK4.png?s=128&g=1", "display_name": "feeela", "link": "https://stackoverflow.com/users/341201/feeela"}, "edited": false, "score": 0, "creation_date": 1557310601, "post_id": 56038137, "comment_id": 98719015, "body": "I have the <code>&lt;image&gt;</code> tag hidden on my page, and now i am trying through document.getElementById() to get to the raw data such as the polygon and the paths, when i have this data i will then put it in a variable to put into my mask, this will then solve my problem, i just dont know how i get the raw data out of the element"}, {"owner": {"reputation": 26170, "user_id": 341201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arKK4.png?s=128&g=1", "display_name": "feeela", "link": "https://stackoverflow.com/users/341201/feeela"}, "edited": false, "score": 0, "creation_date": 1557311025, "post_id": 56038137, "comment_id": 98719264, "body": "This is still a description of your current (and possibly flawed) approach to whatever. It is often wise to tell something about the original problem that you are going to solve, not what attempt you&#39;ve tried to solve that problem. Why is the <code>image</code> hidden? Why is there a requirement to copy and translate polygon data at all?"}, {"owner": {"reputation": 1, "user_id": 9919435, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-elKMD4GRnG4/AAAAAAAAAAI/AAAAAAAAACg/OkDB7BQlMDw/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/9919435/lucas"}, "reply_to_user": {"reputation": 26170, "user_id": 341201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arKK4.png?s=128&g=1", "display_name": "feeela", "link": "https://stackoverflow.com/users/341201/feeela"}, "edited": false, "score": 0, "creation_date": 1557311751, "post_id": 56038137, "comment_id": 98719687, "body": "i edited my question to show why i need to copy and translate the data, hopefully now it is more clear what i am trying to do"}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1557312322, "post_id": 56038137, "comment_id": 98720023, "body": "The DOM of an &lt;image&gt; element is inaccessible"}, {"owner": {"reputation": 1, "user_id": 9919435, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-elKMD4GRnG4/AAAAAAAAAAI/AAAAAAAAACg/OkDB7BQlMDw/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/9919435/lucas"}, "edited": false, "score": 0, "creation_date": 1557314836, "post_id": 56038137, "comment_id": 98721466, "body": "this means that the thing i am trying to achieve is impossible?"}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1557318255, "post_id": 56038137, "comment_id": 98723343, "body": "You could replace &lt;image&gt; with an &lt;iframe&gt; or &lt;object&gt; tag, maybe. Alternatively you could just have the SVG inline in your html page."}], "owner": {"reputation": 1, "user_id": 9919435, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-elKMD4GRnG4/AAAAAAAAAAI/AAAAAAAAACg/OkDB7BQlMDw/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/9919435/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557311669, "creation_date": 1557309745, "last_edit_date": 1557311669, "question_id": 56038137, "link": "https://stackoverflow.com/questions/56038137/how-do-i-get-the-data-of-the-paths-and-shapes-of-an-image-tag-within-an-svg", "title": "How do i get the data of the paths and shapes of an &lt;image&gt; tag within an svg", "body": "<p>I am having problems with the displaying of my image with as a source an URL, the problem is that is will not show within my svg <code>&lt;mask&gt;</code> when used as a <code>&lt;image x=\"0\" y=\"0\" height=\"350\" width=\"350\" attr.xlink:href=\"URL\"&gt;</code> I know this must work because when i place the tag anywhere else in the svg it does show, but because i want it within the <code>&lt;mask&gt;</code> i need to find a way to succeed. when i open the image in a notepad file and copy the data into the <code>&lt;mask&gt;</code> tag it works perfectly, but because i need the <code>&lt;image&gt;</code> to change when the url changes i cannot hard code it into the <code>&lt;mask&gt;</code></p>\n\n<p>therefore the solution i thought of was to convert the <code>&lt;image&gt;</code> to a string to obtain the data and put this into a variable which i can place inside the mask. But i cannot find anywhere how i should convert this if it is even possible.\ni want to convert this element of my html page</p>\n\n<p><code>&lt;svg xmlns:attr.xlink=\"http://www.w3.org/2000/xlink\"&gt;\n      &lt;image height=\"350\" width=\"350\" attr.xlink:href=\"URL\"&gt;&lt;/image&gt;\n &lt;/svg&gt;</code> </p>\n\n<p>into this to put it in a variable:</p>\n\n<pre><code>&lt;polygon  points=\"135.956,125.591 137.161,130.401 142.109,130.061 137.906,132.693 139.759,137.294 135.956,134.111 132.153,137.294 134.006,132.693 129.803,130.061 134.751,130.401 \"/&gt;\n\n&lt;polygon  points=\"205.763,125.24 206.968,130.05 211.915,129.71 207.713,132.343 209.566,136.943 205.763,133.76 201.96,136.943 203.812,132.343 199.61,129.71 204.557,130.05 \"/&gt;\n&lt;g&gt;\n    &lt;g&gt;\n        &lt;path  d=\"M155.837,153.597c0,0,0.126-0.008,0.362-0.022c0.236-0.012,0.582-0.034,1.024-0.034 c0.441-0.003,0.979,0.018,1.591,0.059c0.611,0.037,1.298,0.045,2.05,0.025c0.752-0.022,1.565-0.062,2.42-0.161 c0.852-0.111,1.778-0.246,2.727-0.261c0.948-0.025,1.931-0.039,2.93,0.068c 0.498,0.049,0.989,0.105,1.484,0.129 c0.494,0.027,0.996,0.034,1.493,0.032c1.008,0.01,1.986-0.048,2.979-0.162c0.998-0.109,1.985-0.093,2.929-0.069 c0.477,0.017,0.943,0.039,1.401,0.092c0.453,0.058,0.896,0.114,1.327,0.168c0.854,0.099,1.667,0.138,2.42,0.161 c0.751,0.02,1.439,0.011,2.05-0.025c0.612-0.041,1.15-0.063,1.591-0.059c0.441,0,0.788,0.022,1.024,0.034 c0.236,0.014,0.362,0.022,0.362,0.022s-0.504,0.028-1.381,0.124 c-0.439,0.045-0.967,0.131-1.579,0.225 c-0.612,0.095-1.307,0.17-2.065,0.199c-0.756,0.035-1.579,0.056-2.451-0.006c-0.872-0.067-1.767-0.145-2.703-0.138 c-0.941-0.001-1.905,0.037-2.883,0.144c-0.981,0.124-2.014,0.198-3.018,0.195c-0.509-0.004-1.014-0.016-1.521-0.049 c-0.506-0.03-1.011-0.093-1.501-0.147c-0.977-0.108-1.944-0.145-2.882-0.144 c-0.939-0.006-1.832,0.069-2.704,0.138 c-0.872,0.062-1.695,0.04-2.451,0.006c-0.757-0.029-1.453-0.104-2.064-0.199c-0.611-0.093-1.14-0.179-1.579-0.224 C156.341,153.625,155.837,153.597,155.837,153.597z\"/&gt;\n    &lt;/g&gt;\n&lt;/g&gt;\n</code></pre>\n\n<p>is there a way to do this in javascript/typescript? or should i try some other way. i am using angular in this project</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>i am trying it this way because i do not know what to do to fix my problem in my angular application.</p>\n\n<p>i am trying to show designs on productimage for a webshop, the designs consists of text elements, which the users can adjust, and most of the time a svg logo of some sorts. because the designs mostly consists out of different colors, i am working with masking to make sure the correct design is shown. The problem is that the logo is not showing but the text is and when i paste the raw data into the mask it is working only with a  tag within the mask it is not. therefore i am trying to obtain the raw data out of the image tag which i now have hidden on the top of my html page</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 8, "creation_date": 1557309241, "post_id": 56037891, "comment_id": 98718251, "body": "<code>array.every(Boolean)</code>"}, {"owner": {"reputation": 5337, "user_id": 4230636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SMS4K.jpg?s=128&g=1", "display_name": "Maciej Kwas", "link": "https://stackoverflow.com/users/4230636/maciej-kwas"}, "edited": false, "score": 1, "creation_date": 1557309607, "post_id": 56037891, "comment_id": 98718477, "body": "<code>!array.some(Boolean)</code>"}, {"owner": {"reputation": 5337, "user_id": 4230636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SMS4K.jpg?s=128&g=1", "display_name": "Maciej Kwas", "link": "https://stackoverflow.com/users/4230636/maciej-kwas"}, "edited": false, "score": 0, "creation_date": 1557309826, "post_id": 56037891, "comment_id": 98718614, "body": "You should clarify what you&#39;re up to- title and question do not match"}, {"owner": {"reputation": 1273, "user_id": 3767655, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3b91d5a21d6f5b8a5ff18d7228f1c8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Goldbones", "link": "https://stackoverflow.com/users/3767655/goldbones"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1557318459, "post_id": 56037891, "comment_id": 98723455, "body": "@ritaj could you please answer below in order to give you the correct answer?"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1557320111, "post_id": 56037891, "comment_id": 98724465, "body": "There you go, thank you @Goldbones"}], "answers": [{"comments": [{"owner": {"reputation": 54393, "user_id": 1926369, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/htfUk.png?s=128&g=1", "display_name": "vals", "link": "https://stackoverflow.com/users/1926369/vals"}, "edited": false, "score": 1, "creation_date": 1557310700, "post_id": 56038187, "comment_id": 98719077, "body": "OK about using ! some - but the argument should be array&lt;string&gt;"}, {"owner": {"reputation": 11649, "user_id": 6222075, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IBUsU.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/6222075/ehsan"}, "reply_to_user": {"reputation": 54393, "user_id": 1926369, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/htfUk.png?s=128&g=1", "display_name": "vals", "link": "https://stackoverflow.com/users/1926369/vals"}, "edited": false, "score": 0, "creation_date": 1557313493, "post_id": 56038187, "comment_id": 98720721, "body": "Use <code>JSON.parse()</code> for convert to array."}], "tags": [], "owner": {"reputation": 11649, "user_id": 6222075, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IBUsU.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/6222075/ehsan"}, "is_accepted": false, "score": 1, "last_activity_date": 1557310814, "last_edit_date": 1557310814, "creation_date": 1557309956, "answer_id": 56038187, "question_id": 56037891, "link": "https://stackoverflow.com/questions/56037891/return-false-if-one-element-of-array-is-not-empty-without-use-iterators-typesc/56038187#56038187", "title": "Return false if one element of array is not empty without use Iterators - Typescript", "body": "<p>Try This:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var attrs =[true,true,false];\r\n\r\nvar result = !attrs.some( elm =&gt; (elm === false) );\r\n    \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": true, "score": 1, "last_activity_date": 1557318947, "creation_date": 1557318947, "answer_id": 56040959, "question_id": 56037891, "link": "https://stackoverflow.com/questions/56037891/return-false-if-one-element-of-array-is-not-empty-without-use-iterators-typesc/56040959#56040959", "title": "Return false if one element of array is not empty without use Iterators - Typescript", "body": "<p>Javascript <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow noreferrer\">Array</a> has a method that checks if every item satisfies a predicate: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every\" rel=\"nofollow noreferrer\">every</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>const arr = [1, 2, null];\n\nconst every = arr.every(item =&gt; item !== null); // Check if every item is not-null. This will be false\n</code></pre>\n\n<p>It can be shortened by casting an item to a boolean:</p>\n\n<pre><code>const every2 = arr.every(item =&gt; Boolean(item)); // This will give false for 0, null, undefined, etc.\n</code></pre>\n\n<p>And even shorter by just passing a Boolean constructor to a callback, which will pass items to it's constructor</p>\n\n<pre><code>const every2 = arr.every(Boolean);\n</code></pre>\n\n<p>Also check methods <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">find</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\">some</a>.</p>\n\n<p>Keep in mind this does use iterator, it's just that JS built-in functions do it <em>under the hood</em>.</p>\n"}], "owner": {"reputation": 1273, "user_id": 3767655, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3b91d5a21d6f5b8a5ff18d7228f1c8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Goldbones", "link": "https://stackoverflow.com/users/3767655/goldbones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 56040959, "answer_count": 2, "score": 0, "last_activity_date": 1557322426, "creation_date": 1557308984, "last_edit_date": 1557322426, "question_id": 56037891, "link": "https://stackoverflow.com/questions/56037891/return-false-if-one-element-of-array-is-not-empty-without-use-iterators-typesc", "title": "Return false if one element of array is not empty without use Iterators - Typescript", "body": "<p>I have a method where I receive an string array and I want to return false if one of array elements is false.</p>\n\n<pre><code> myMethod(attrs: Array&lt;String&gt;) {\n   for (const element of attrs) {\n      if (!element) {\n        return false;\n      }\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Is it possible to simplify this code?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1557308861, "post_id": 56037827, "comment_id": 98718032, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10003683/extract-get-a-number-from-a-string\">Extract (&quot;get&quot;) a number from a string</a>"}], "answers": [{"comments": [{"owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 0, "creation_date": 1557309882, "post_id": 56037914, "comment_id": 98718638, "body": "in typescript, it is giving an error that .replace is not a function."}, {"owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "reply_to_user": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 0, "creation_date": 1557310117, "post_id": 56037914, "comment_id": 98718757, "body": "its working for me. pass your string as parameter to getNumber.It will return 234231"}], "tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": true, "score": 0, "last_activity_date": 1557310138, "last_edit_date": 1557310138, "creation_date": 1557309056, "answer_id": 56037914, "question_id": 56037827, "link": "https://stackoverflow.com/questions/56037827/read-particular-number-from-a-expression/56037914#56037914", "title": "read particular number from a expression", "body": "<p>Try this:</p>\n\n<pre><code>getNumber(str) { \n    let number = str.replace(/[^0-9]/g, ''); \n    return number;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "edited": false, "score": 0, "creation_date": 1557309897, "post_id": 56037982, "comment_id": 98718652, "body": "in typescript, it is giving an error that .match is not a function"}], "tags": [], "owner": {"reputation": 645, "user_id": 11034096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c3ff2c20e2965db1fd88a943803282?s=128&d=identicon&r=PG&f=1", "display_name": "liamgbs", "link": "https://stackoverflow.com/users/11034096/liamgbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1557309255, "creation_date": 1557309255, "answer_id": 56037982, "question_id": 56037827, "link": "https://stackoverflow.com/questions/56037827/read-particular-number-from-a-expression/56037982#56037982", "title": "read particular number from a expression", "body": "<p>Use a regex with string.match():</p>\n\n<pre><code>const expression = \"ID:jv.link.weight:234231\";\nexpression.match(/(\\d+)/g)[0]\n</code></pre>\n\n<p>Which will return <code>234231</code></p>\n"}], "owner": {"reputation": 402, "user_id": 8805085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a35bfb24036bd5fcd7cab953e120e12?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh Vyas", "link": "https://stackoverflow.com/users/8805085/jayesh-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56037914, "answer_count": 2, "score": 1, "last_activity_date": 1557310138, "creation_date": 1557308746, "last_edit_date": 1557308948, "question_id": 56037827, "link": "https://stackoverflow.com/questions/56037827/read-particular-number-from-a-expression", "title": "read particular number from a expression", "body": "<p>I am trying to read a particular number from an expression.</p>\n\n<p>I want to read the digit from below expression.</p>\n\n<pre><code>ID:jv.link.weight:234231\n</code></pre>\n\n<p>in the above string, I want to read the number <code>234231</code> using typescript.</p>\n\n<p>can anyone suggest me any logic how to read this? I am new to typescript.</p>\n"}, {"tags": ["javascript", "typescript", "types", "null"], "comments": [{"owner": {"reputation": 2202, "user_id": 6193024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOy6k.jpg?s=128&g=1", "display_name": "Umbo", "link": "https://stackoverflow.com/users/6193024/umbo"}, "edited": false, "score": 0, "creation_date": 1557309668, "post_id": 56037757, "comment_id": 98718525, "body": "Could you paste the type check error?"}, {"owner": {"reputation": 215, "user_id": 10362480, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kWqCGk3jyMQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPZn09qUlQnxpEP_pxtg93qUjd2hQ/mo/photo.jpg?sz=128", "display_name": "anton zlydenko", "link": "https://stackoverflow.com/users/10362480/anton-zlydenko"}, "reply_to_user": {"reputation": 2202, "user_id": 6193024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOy6k.jpg?s=128&g=1", "display_name": "Umbo", "link": "https://stackoverflow.com/users/6193024/umbo"}, "edited": false, "score": 0, "creation_date": 1557312550, "post_id": 56037757, "comment_id": 98720149, "body": "[ts] (error in my language that saying: Maybe, object is null) (property) Example.left: Example[] | null"}], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 10429440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sn0i7.png?s=128&g=1", "display_name": "Timofey Goncharov", "link": "https://stackoverflow.com/users/10429440/timofey-goncharov"}, "edited": false, "score": 2, "creation_date": 1557308998, "post_id": 56037822, "comment_id": 98718096, "body": "It looks like the question was about the type script syntax and not about the check type in js. Sorry, I misunderstood."}], "tags": [], "owner": {"reputation": 645, "user_id": 10429440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sn0i7.png?s=128&g=1", "display_name": "Timofey Goncharov", "link": "https://stackoverflow.com/users/10429440/timofey-goncharov"}, "is_accepted": false, "score": 0, "last_activity_date": 1557308736, "creation_date": 1557308736, "answer_id": 56037822, "question_id": 56037757, "link": "https://stackoverflow.com/questions/56037757/how-to-fix-problem-with-null-ts-type-checking/56037822#56037822", "title": "How to fix problem with null ts type checking?", "body": "<p>Note the following type checking.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(typeof null); // object\r\nconsole.log(Array.isArray([])); // true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 645, "user_id": 10429440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sn0i7.png?s=128&g=1", "display_name": "Timofey Goncharov", "link": "https://stackoverflow.com/users/10429440/timofey-goncharov"}, "is_accepted": false, "score": 1, "last_activity_date": 1557310121, "creation_date": 1557310121, "answer_id": 56038250, "question_id": 56037757, "link": "https://stackoverflow.com/questions/56037757/how-to-fix-problem-with-null-ts-type-checking/56038250#56038250", "title": "How to fix problem with null ts type checking?", "body": "<pre><code>class BIT {\n  head: BIT | null = this;\n  private value: string;\n  right: BIT | BIT[] | null = null;\n  left: BIT | BIT[] | null = null; // below you try push: this.left.push(this.value). But your types it's BIT or Array of BIT or null, when 'this.value' is string. \n\n  somefunction() {\n    const haveLeft = this.left !== null;\n    const leftIsBranch = haveLeft &amp;&amp; this.left instanceof Array;\n\n    if (haveLeft) {\n      if (leftIsBranch) {\n        this.left.push(value); // you forgot to specify 'this': this.left.push(this.value);\n      }\n    }\n  }\n}\n\n</code></pre>\n\n<p>Also instead of <code>example: null | BIT</code> you can specify <code>example?: BIT</code></p>\n"}, {"tags": [], "owner": {"reputation": 2202, "user_id": 6193024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOy6k.jpg?s=128&g=1", "display_name": "Umbo", "link": "https://stackoverflow.com/users/6193024/umbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1557315469, "last_edit_date": 1592644375, "creation_date": 1557315469, "answer_id": 56039929, "question_id": 56037757, "link": "https://stackoverflow.com/questions/56037757/how-to-fix-problem-with-null-ts-type-checking/56039929#56039929", "title": "How to fix problem with null ts type checking?", "body": "<p>In TypeScript all types are nullable by default:</p>\n<blockquote>\n<p>By default null and undefined are subtypes of all other types. That means you can assign null and undefined to something like number.</p>\n<p>However, when using the <code>--strictNullChecks</code> flag, null and undefined are only assignable to void and their respective types. This helps avoid many common errors. In cases where you want to pass in either a string or null or undefined, you can use the union type string | null | undefined. Once again, more on union types later on.</p>\n</blockquote>\n<p>[From TS <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#Null-and-Undefied\" rel=\"nofollow noreferrer\">docs</a>]</p>\n<p>So unless you're using the <code>--strictNullChecks</code> compiler flag, adding <code>| null</code> is not necessary.</p>\n<p>The cause of your type check error is probably that you're checking against <code>null</code> but not <code>undefined</code> - which is the default value of uninitialized fields. A loose equality (<code>!=</code> instead of <code>!==</code>) check should help identifying also undefined cases:</p>\n<pre><code>const haveLeft = this.left != null; // This also excludes `undefined`\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 10362480, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kWqCGk3jyMQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPZn09qUlQnxpEP_pxtg93qUjd2hQ/mo/photo.jpg?sz=128", "display_name": "anton zlydenko", "link": "https://stackoverflow.com/users/10362480/anton-zlydenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1557315469, "creation_date": 1557308547, "last_edit_date": 1557312615, "question_id": 56037757, "link": "https://stackoverflow.com/questions/56037757/how-to-fix-problem-with-null-ts-type-checking", "title": "How to fix problem with null ts type checking?", "body": "<p>I have property of class that can be null and in code I'm checking if value not null and is array - push new value to it, but type checker still thinks that value can be null. Can somebody explain why and how to fix it, thanks?</p>\n\n<pre><code>class BIT {\n  head: BIT | null = this;\n  private value: string;\n  right: BIT | BIT[] | null = null;\n  left: BIT | BIT[] | null = null;\n\n  somefunction(node: BIT) {\n    const haveLeft = this.left !== null;\n    const leftIsBranch = haveLeft &amp;&amp; this.left instanceof Array;\n\n    if (haveLeft) {\n      if (leftIsBranch) {\n        this.left.push(node);\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>UPD: if I get rid of boolean variables haveLeft and leftIsBranch and explicitly add it to if statement -> everything work just fine. What the heck is going on?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 0, "creation_date": 1557308658, "post_id": 56037504, "comment_id": 98717940, "body": "Welcome, to improve your question and help us to help you please <a href=\"https://stackoverflow.com/tour\">take the tour</a> and add an <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete and Verifiable Example</a>."}], "owner": {"reputation": 364, "user_id": 11469206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IdDDv.png?s=128&g=1", "display_name": "TheodoreTsg", "link": "https://stackoverflow.com/users/11469206/theodoretsg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1557312077, "creation_date": 1557307589, "last_edit_date": 1557312077, "question_id": 56037504, "link": "https://stackoverflow.com/questions/56037504/how-to-put-placeholder-text-in-filter-input-kendo-ui-grid-with-angular", "title": "How to put placeholder text in filter input Kendo UI Grid with Angular?", "body": "<p>I'm using Kendo UI Grid with Angular and I cannot find a way to put some text/placeholder in filter inputs with Typescript.</p>\n\n<p>In my code I use kendoGridFilterCellTemplate:</p>\n\n<pre><code>&lt;kendo-grid-column field=\"sender\" title=\"Sender\" width=\"80\"&gt;\n      &lt;ng-template kendoGridFilterCellTemplate let-filter let-column=\"column\"&gt;\n        &lt;kendo-grid-string-filter-cell [showOperators]=\"false\" [column]=\"column\" [filter]=\"filter\"&gt;\n        &lt;/kendo-grid-string-filter-cell&gt;\n      &lt;/ng-template&gt;\n    &lt;/kendo-grid-column&gt;\n</code></pre>\n\n<p>By default filter inputs in Kendo UI Grid have no inputs/placeholders and I would like to put something like:</p>\n\n<pre><code>        &lt;kendo-grid-string-filter-cell [showOperators]=\"false\" [column]=\"column\" [filter]=\"filter\" placeholder=\"Search...\"&gt;\n        &lt;/kendo-grid-string-filter-cell&gt;\n</code></pre>\n\n<p>Kendo Grid won't recognize <strong>placeholder</strong> html element.How can I achieve this without using jQuery?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "edited": false, "score": 0, "creation_date": 1557307185, "post_id": 56037343, "comment_id": 98717114, "body": "I don&#39;t want to restrict to number, list can be n numbers"}, {"owner": {"reputation": 347, "user_id": 1079460, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/3661ed272533063171dd772317dceb0a?s=128&d=identicon&r=PG", "display_name": "Okyo", "link": "https://stackoverflow.com/users/1079460/okyo"}, "reply_to_user": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "edited": false, "score": 0, "creation_date": 1557308556, "post_id": 56037343, "comment_id": 98717884, "body": "number should be the length of the list"}], "tags": [], "owner": {"reputation": 347, "user_id": 1079460, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/3661ed272533063171dd772317dceb0a?s=128&d=identicon&r=PG", "display_name": "Okyo", "link": "https://stackoverflow.com/users/1079460/okyo"}, "is_accepted": false, "score": 0, "last_activity_date": 1557307013, "creation_date": 1557307013, "answer_id": 56037343, "question_id": 56037078, "link": "https://stackoverflow.com/questions/56037078/infinity-dots-getting-displaying-while-rendering-list-items/56037343#56037343", "title": "Infinity dots getting displaying while rendering list items", "body": "<p>I don't get your code. You forgot to reduce the length number? Maybe this can help you:</p>\n\n<pre><code>import {Component, Input} from \"@angular/core\";\n\n@Component({\n    selector: 'my-app',\n    template: `\n    &lt;div&gt;\n      Recursive Component\n      &lt;my-app [counter]=\"counter - 1\" *ngIf=\"counter &gt; 0\"&gt;&lt;/my-app&gt;\n    &lt;/div&gt;\n  `\n})\nexport class AppComponent {\n\n    @Input() counter : number = 3;\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "edited": false, "score": 0, "creation_date": 1557307519, "post_id": 56037462, "comment_id": 98717309, "body": "I want to do with <code>&lt;my-app&gt;</code>"}, {"owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "edited": false, "score": 0, "creation_date": 1557307549, "post_id": 56037462, "comment_id": 98717322, "body": "I don;t want to create another component for rendering the items"}], "tags": [], "owner": {"reputation": 1377, "user_id": 4164167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ip3L.jpg?s=128&g=1", "display_name": "IRSHAD", "link": "https://stackoverflow.com/users/4164167/irshad"}, "is_accepted": false, "score": 0, "last_activity_date": 1557307435, "creation_date": 1557307435, "answer_id": 56037462, "question_id": 56037078, "link": "https://stackoverflow.com/questions/56037078/infinity-dots-getting-displaying-while-rendering-list-items/56037462#56037462", "title": "Infinity dots getting displaying while rendering list items", "body": "<p>Add this line to app.component.html</p>\n\n<pre><code>&lt;app-recursion *ngFor=\"let subChild of listItems.children\" [child]=\"subChild\"&gt;&lt;/app-recursion&gt;\n</code></pre>\n\n<p>See this code - <a href=\"https://stackblitz.com/edit/angular-list-component-kpd6fm\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-list-component-kpd6fm</a></p>\n"}], "owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557312556, "creation_date": 1557306017, "last_edit_date": 1557312556, "question_id": 56037078, "link": "https://stackoverflow.com/questions/56037078/infinity-dots-getting-displaying-while-rendering-list-items", "title": "Infinity dots getting displaying while rendering list items", "body": "<p>I'm trying to render nested list elements,</p>\n\n<p>Below is the JSON structure,</p>\n\n<pre><code>listItems = {\n  \"text\": \"root\",\n  \"children\": [{\n    \"text\": \"Level 1\",\n    \"children\": [{\n      \"text\": \"Level 2\",\n      \"children\": [{\n        \"text\": \"Level 3\",\n        \"children\": [],\n        \"type\": \"unordered-list-item\"\n      }],\n      \"type\": \"unordered-list-item\"\n    }],\n    \"type\": \"unordered-list-item\"\n  }],\n  \"type\": \"unordered-list-item\"\n}\n</code></pre>\n\n<p>Below is my component html,</p>\n\n<pre><code>&lt;ul *ngIf=\"listItems.type === 'unordered-list-item' &amp;&amp; listItems.children.length &gt; 0\"&gt;\n  &lt;li *ngFor=\"let child of listItems.children\"&gt;\n    {{ child.text }}\n\n    &lt;bw-list *ngIf=\"child.type === 'unordered-list-item'\" [listItem]=\"child\"&gt;&lt;/bw-list&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>If <code>children</code>is found it needs to repeat the component and render the children. </p>\n\n<p><strong>Component.ts</strong></p>\n\n<pre><code>export class AppComponent {\n  @Input() listItem: any;\n  public listItems = {\n    \"text\": \"root\",\n    \"children\": [{\n      \"text\": \"Level 1\",\n      \"children\": [{\n        \"text\": \"Level 2\",\n        \"children\": [{\n          \"text\": \"Level 3\",\n          \"children\": [],\n          \"type\": \"unordered-list-item\"\n        }],\n        \"type\": \"unordered-list-item\"\n      }],\n      \"type\": \"unordered-list-item\"\n    }],\n    \"type\": \"unordered-list-item\"\n  };\n}\n</code></pre>\n\n<p>Issue is it renders infinity dots. Please help</p>\n\n<p>Link to project <a href=\"https://stackblitz.com/edit/angular-list-component-1smik4?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-list-component-1smik4?file=src/app/app.component.ts</a></p>\n"}, {"tags": ["typescript", "konvajs"], "comments": [{"owner": {"reputation": 1316, "user_id": 4746639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-D0PvMWvD0Gc/AAAAAAAAAAI/AAAAAAAAAGg/V6ByFqwuBPo/photo.jpg?sz=128", "display_name": "CharybdeBE", "link": "https://stackoverflow.com/users/4746639/charybdebe"}, "edited": false, "score": 0, "creation_date": 1557306110, "post_id": 56036856, "comment_id": 98716519, "body": "Have you try layer.add(&lt;Shape&gt; box) ?"}, {"owner": {"reputation": 1667, "user_id": 9279003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FelSP.png?s=128&g=1", "display_name": "Byeongin Yoon", "link": "https://stackoverflow.com/users/9279003/byeongin-yoon"}, "reply_to_user": {"reputation": 1316, "user_id": 4746639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-D0PvMWvD0Gc/AAAAAAAAAAI/AAAAAAAAAGg/V6ByFqwuBPo/photo.jpg?sz=128", "display_name": "CharybdeBE", "link": "https://stackoverflow.com/users/4746639/charybdebe"}, "edited": false, "score": 0, "creation_date": 1557306446, "post_id": 56036856, "comment_id": 98716710, "body": "@CharybdeBE error : <code>Conversion of type &#39;Rect&#39; to type &#39;Shape&lt;ShapeConfig&gt;&#39; may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to &#39;unknown&#39; first.</code>"}], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1667, "user_id": 9279003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FelSP.png?s=128&g=1", "display_name": "Byeongin Yoon", "link": "https://stackoverflow.com/users/9279003/byeongin-yoon"}, "edited": false, "score": 0, "creation_date": 1557309848, "post_id": 56037271, "comment_id": 98718627, "body": "@ByeonginYoon you plan on submitting the PR ? I might do it if you don&#39;t"}, {"owner": {"reputation": 1667, "user_id": 9279003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FelSP.png?s=128&g=1", "display_name": "Byeongin Yoon", "link": "https://stackoverflow.com/users/9279003/byeongin-yoon"}, "edited": false, "score": 0, "creation_date": 1557316288, "post_id": 56037271, "comment_id": 98722228, "body": "I&#39;m ok, You do!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1557307288, "last_edit_date": 1557307288, "creation_date": 1557306780, "answer_id": 56037271, "question_id": 56036856, "link": "https://stackoverflow.com/questions/56036856/typescript-type-a-is-not-assignable-to-type-b/56037271#56037271", "title": "Typescript type a is not assignable to type b", "body": "<p>The definitions for the library are apparently not tested with <code>strictFunctionTypes</code> unfortunately. </p>\n\n<p>If this option is not activated, functions relate bivariantly, but under <code>strictFunctionTypes</code> functions relate contravariantly with regard to parameter types. This means: </p>\n\n<pre><code>class Animal { private x:undefined }\nclass Dog extends Animal { private d: undefined }\n\ntype EventHandler&lt;E extends Animal&gt; = (event: E) =&gt; void\n\nlet o: EventHandler&lt;Animal&gt; = (o: Dog) =&gt; { } // fails under strictFunctionTyes\n</code></pre>\n\n<p>The error you are getting is on <code>hitFunc</code> (and if that is fixed on <code>sceneFunc</code>) these are functions that take a second parameter of <code>this</code>, in effect <code>Shape&lt;ShapeConfig&gt;</code>. And this triggers the error when we try to assign the <code>hitFunc</code> in <code>Rect</code> that has takes a second parameter, also typed as <code>this</code> but in effect <code>Rect</code>. You can't assign the function with the derived parameter type to a function signature that would accept any base type argument.</p>\n\n<p>There are multiple possible solution: </p>\n\n<ol>\n<li><p>Use a type assertion</p>\n\n<pre><code>layer.add(box as unknown as Shape&lt;ShapeConfig&gt;);\n</code></pre></li>\n<li><p>Disable <code>strictFunctionTypes</code> (the error goes away with <code>strictFunctionTypes: false</code> in tsconfig)</p></li>\n<li><p>Submit a pull request to definitely typed to make <code>hitFunc</code> and <code>sceneFunc</code> behave bivariantly event under <code>strictFunctionTypes: true</code> as described <a href=\"https://stackoverflow.com/questions/52667959/what-is-the-purpose-of-bivariancehack-in-typescript-types/52668133#52668133\">here</a>. In this case this would work and preserve the functionality:</p>\n\n<pre><code>export type ShapeConfigHanlder&lt;TTarget&gt; = {\n    bivarianceHack(ctx: Context, shape: TTarget): void\n}['bivarianceHack']\nexport interface Shape extends NodeConfig {\n    ...\n    hitFunc: GetSet&lt;ShapeConfigHanlder&lt;this&gt;, this&gt;;\n    sceneFunc: GetSet&lt;ShapeConfigHanlder&lt;this&gt;, this&gt;;\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1667, "user_id": 9279003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FelSP.png?s=128&g=1", "display_name": "Byeongin Yoon", "link": "https://stackoverflow.com/users/9279003/byeongin-yoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 0, "accepted_answer_id": 56037271, "answer_count": 1, "score": 1, "last_activity_date": 1557307288, "creation_date": 1557305266, "last_edit_date": 1592644375, "question_id": 56036856, "link": "https://stackoverflow.com/questions/56036856/typescript-type-a-is-not-assignable-to-type-b", "title": "Typescript type a is not assignable to type b", "body": "<h1>Story</h1>\n<p>I'm using <a href=\"https://github.com/konvajs/konva\" rel=\"nofollow noreferrer\">konva library</a> with Typescript which is HTML5 Canvas JavaScript framework.</p>\n<p>Here is a simple tutorial code that I changed from <a href=\"https://github.com/konvajs/konva#quick-look\" rel=\"nofollow noreferrer\">javascript</a> to typescript.</p>\n<pre><code>import Konva from &quot;konva&quot;;\n\nconst stage = new Konva.Stage({\n  container: 'container',\n  width: window.innerWidth,\n  height: window.innerHeight\n});\n\nconst layer = new Konva.Layer();\nstage.add(layer);\n\nconst box = new Konva.Rect({\n  x: 50,\n  y: 50,\n  width: 100,\n  height: 50,\n  fill: '#00D2FF',\n  stroke: 'black',\n  strockWidth: 4,\n  draggable: true\n});\n\nlayer.add(box);\n</code></pre>\n<p>But my Visual Studio Code shows error message like below.</p>\n<pre><code>Argument of type 'Rect' is not assignable to parameter of type 'Group | Shape&lt;ShapeConfig&gt;'.\n  Type 'Rect' is not assignable to type 'Shape&lt;ShapeConfig&gt;'.\n    Types of property 'hitFunc' are incompatible.\n      Type 'GetSet&lt;(ctx: Context, shape: Rect) =&gt; void, Rect&gt;' is not assignable to type 'GetSet&lt;(ctx: Context, shape: Shape&lt;ShapeConfig&gt;) =&gt; void, Shape&lt;ShapeConfig&gt;&gt;'.\n        Type '(ctx: Context, shape: Rect) =&gt; void' is not assignable to type '(ctx: Context, shape: Shape&lt;ShapeConfig&gt;) =&gt; void'.\n          Types of parameters 'shape' and 'shape' are incompatible.\n            Type 'Shape&lt;ShapeConfig&gt;' is missing the following properties from type 'Rect': _sceneFunc, cornerRadiusts(2345)\n</code></pre>\n<p>The class <code>Shape</code> is in <code>Shape.d.ts</code> and <code>Rect</code> is in <code>Rect.d.ts</code>.\nAnd I can see that <code>Rect</code> extended <code>Shape</code>! but VSC shows an error.</p>\n<p>If I add the two property which is in <code>Rect.d.ts</code> to <code>Shape</code> class,\n<strong>the error is gone</strong>.</p>\n<pre><code>export declare class Shape&lt;Config extends ShapeConfig = ShapeConfig&gt; extends Node&lt;Config&gt; {\n    _sceneFunc(context: any): void; // this was in Rect class\n    cornerRadius: GetSet&lt;number, this&gt;; // this was in Rect class\n    ...\n    ...\n</code></pre>\n<h1>Question</h1>\n<p>I know that <code>layer.add()</code> function accept only <code>Shape</code> type. But as you know Typescript allows downcasting like below.</p>\n<pre><code>class Base {\n  baseProperty: string = &quot;aaaa&quot;;\n}\nclass A extends Base {\n  aProperty: number = 1;\n}\nvar a: A = new A();\nfunction test(arg: Base) {\n  console.log(arg.baseProperty);\n}\ntest(a); // =&gt; No Error\n</code></pre>\n<p>I cannot understand why <code>layer.add()</code> cannot accept <code>Rect</code> type even though it extended <code>Shape</code> type.  What did I miss?</p>\n<p>I need your advice.\nThanks.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1395, "user_id": 3937794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWnAa.png?s=128&g=1", "display_name": "Sourav Dutta", "link": "https://stackoverflow.com/users/3937794/sourav-dutta"}, "edited": false, "score": 1, "creation_date": 1557308069, "post_id": 56037539, "comment_id": 98717632, "body": "The question is for Angular not AngularJs"}], "tags": [], "owner": {"reputation": 1, "user_id": 11469219, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-V2jxjx88JqU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddgVVqRDAzufKKbDuaUD03ImUDAQ/mo/photo.jpg?sz=128", "display_name": "MrPemu", "link": "https://stackoverflow.com/users/11469219/mrpemu"}, "is_accepted": false, "score": 0, "last_activity_date": 1557307716, "creation_date": 1557307716, "answer_id": 56037539, "question_id": 56036566, "link": "https://stackoverflow.com/questions/56036566/pass-required-to-custom-component-angular/56037539#56037539", "title": "Pass required to custom component Angular", "body": "<p>Maybe <a href=\"https://docs.angularjs.org/api/ng/directive/ngRequired\" rel=\"nofollow noreferrer\">ngRequired</a> and <code>&lt;input ng-model=\"required\" id=\"required\" /&gt;</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 685, "user_id": 5576015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ef9ab7eaa9c08f0be32bc225d20714?s=128&d=identicon&r=PG&f=1", "display_name": "labu4bd", "link": "https://stackoverflow.com/users/5576015/labu4bd"}, "is_accepted": true, "score": 2, "last_activity_date": 1557312847, "creation_date": 1557312847, "answer_id": 56039089, "question_id": 56036566, "link": "https://stackoverflow.com/questions/56036566/pass-required-to-custom-component-angular/56039089#56039089", "title": "Pass required to custom component Angular", "body": "<p>you can use <code>&lt;mat-form-field&gt;</code> component. then you can control <code>required</code> and also <code>error message</code></p>\n\n<pre><code>&lt;mat-form-field&gt;\n    &lt;input matInput placeholder=\"Enter Phone Number\" [formControl]=\"phoneNumber\" required&gt;\n    &lt;mat-error *ngIf=\"phoneNumber.invalid\"&gt;{{getErrorMessage()}}&lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>for better understand you can follow this <a href=\"https://material.angular.io/components/form-field/overview\" rel=\"nofollow noreferrer\">link</a> and for <a href=\"https://stackblitz.com/angular/mgnygqeyqok?file=app%2Fform-field-error-example.ts\" rel=\"nofollow noreferrer\">example</a>.</p>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 1, "accepted_answer_id": 56039089, "answer_count": 2, "score": 2, "last_activity_date": 1557312847, "creation_date": 1557304192, "last_edit_date": 1557305182, "question_id": 56036566, "link": "https://stackoverflow.com/questions/56036566/pass-required-to-custom-component-angular", "title": "Pass required to custom component Angular", "body": "<p>I have a custom component to use for phone numbers</p>\n\n<p>I need to use the required flag for it</p>\n\n<p>Here is HTML of component</p>\n\n<pre><code>  &lt;form #phoneForm=\"ngForm\" novalidate name=\"PhoneForm\"&gt;\n    &lt;div class=\"form-row\"&gt;\n        &lt;div class=\"form-group col-md-3\"&gt;\n           &lt;p-dropdown\n              #phoneCodeInput = ngModel\n              [disabled]=\"!countrycodes.length\"\n              [options]=\"countrycodes\"\n              autoWidth=\"false\"\n              [(ngModel)]=\"phoneCode\"\n              (ngModelChange)=\"onNumberChange()\"\n              [style]=\"{ width: '100%', height: '100%'}\"\n              name=\"countryCodes\"\n              [autoWidth]=\"true\"\n            &gt;&lt;/p-dropdown&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group col-md-9\"&gt;\n        &lt;input\n            [readonly] = \"isReadOnly\"\n            #phoneNumberInput = ngModel\n            number-directive\n            class=\"form-control\"\n            placeholder=\"Enter phone number\"\n            [required] = \"isFieldRequired\"\n            [(ngModel)]=\"phoneNumber\"\n            (ngModelChange)=\"onNumberChange()\"\n            class=\"form-control\"\n            type=\"text\"\n            name=\"name\"\n            maxlength=\"11\"\n        /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;validation-messages [formCtrl]=\"phoneNumberInput\"&gt;&lt;/validation-messages&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>Here is a typescript code of the component, where I use the Input parameter to make validation</p>\n\n<pre><code>import { AppComponentBase } from '@shared/common/app-component-base';\nimport {\n    Component,\n    OnInit,\n    Injector,\n    AfterContentChecked,\n    ViewChild,\n    forwardRef,\n    Input,\n} from '@angular/core';\nimport * as lookup from 'country-telephone-data';\nimport { SelectItem } from 'primeng/api';\nimport { ControlValueAccessor, ValidationErrors, NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\n\n\n@Component({\n    selector: 'phone-number',\n    templateUrl: './phone-number.component.html',\n    providers: [\n        { provide: NG_VALUE_ACCESSOR, useExisting: PhoneNumberComponent, multi: true },\n        {\n            provide: NG_VALIDATORS,\n            useExisting: forwardRef(() =&gt; PhoneNumberComponent),\n            multi: true\n        }\n    ]\n})\nexport class PhoneNumberComponent extends AppComponentBase\n    implements OnInit, ControlValueAccessor, AfterContentChecked {\n    @Input() isRequired: boolean;\n    @ViewChild('phoneForm') phoneForm;\n    constructor(injector: Injector) {\n        super(injector);\n    }\n    countrycodes: SelectItem[] = [];\n    phoneCode: string;\n    phoneNumber: string;\n    required: string | boolean;\n    isFieldRequired: boolean = false;\n    isReadOnly: boolean = false;\n\n    private changed = [];\n    private touched = [];\n\n    disabled: boolean;\n\n\n    ngAfterContentChecked(): void {\n        this.checkValidity();\n    }\n\n    checkValidity(): void {}\n    propagateChange = (_: any) =&gt; {};\n\n    get phoneNumberResult(): string {\n        const result = `${this.phoneCode ? this.phoneCode : ''} ${\n            this.phoneNumber ? this.phoneNumber : ''\n        }`;\n        return result;\n    }\n\n    set phoneNumberResult(value: string) {\n        if (this.phoneNumberResult !== value) {\n            const [phoneCode, phoneNumber] = value.split(' ');\n            this.phoneCode = phoneCode;\n            this.phoneNumber = phoneNumber;\n            this.changed.forEach(f =&gt; f(value));\n        }\n    }\n\n    writeValue(obj: string): void {\n            this.phoneNumberResult = obj ? obj : '+44';\n    }\n    registerOnChange(fn: any): void {\n        this.propagateChange = fn;\n    }\n    registerOnTouched(fn: any): void {\n        this.touched.push(fn);\n    }\n    setDisabledState?(isDisabled: boolean): void {\n        this.disabled = isDisabled;\n    }\n\n\n    ngOnInit(): void {\n        if (this.isRequired === true) {\n            this.isFieldRequired = true;\n        }\n        lookup.allCountries.forEach(element =&gt; {\n            this.countrycodes.push({\n                label: `+${element.dialCode}`,\n                value: `+${element.dialCode}`,\n            });\n        });\n    }\n\n    onNumberChange(): void {\n        this.propagateChange(this.phoneNumberResult);\n    }\n\n\n    validate(): ValidationErrors {\n        if (!this.phoneForm.valid) {\n            return { message: 'custom error' };\n        }\n        return null;\n    }\n\n    registerOnValidatorChange(fn: () =&gt; void): void {\n        this.checkValidity = fn;\n    }\n}\n</code></pre>\n\n<p>Now I use input parameters to implement the required functionality</p>\n\n<p>here is how I use my component now</p>\n\n<pre><code>&lt;phone-number [isRequired] =\" isMobileNumberRequired\" id=\"\" #mobileEdit name=\"mobile\" [(ngModel)]=\"tenant.mobileNumber\" (ngModelChange)=\"onMobileChanged()\"&gt;&lt;/phone-number&gt;\n</code></pre>\n\n<p>I need to use just <code>required</code> flag at component call instead of passing parameters. How I can do it? </p>\n"}, {"tags": ["typescript", "axios"], "comments": [{"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1557304584, "post_id": 56036556, "comment_id": 98715638, "body": "Try this <code>... = e.response!</code>"}, {"owner": {"reputation": 664, "user_id": 3331102, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1665793109/picture?type=large", "display_name": "Peter I", "link": "https://stackoverflow.com/users/3331102/peter-i"}, "reply_to_user": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1557304892, "post_id": 56036556, "comment_id": 98715794, "body": "It gets rid of the error but what is it doing?"}, {"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1557305069, "post_id": 56036556, "comment_id": 98715898, "body": "<code>var_name!</code> mean you make sure that <code>var_name</code> is defined, the syntax effects when the variable has type like <code>string | undefined</code>."}, {"owner": {"reputation": 664, "user_id": 3331102, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1665793109/picture?type=large", "display_name": "Peter I", "link": "https://stackoverflow.com/users/3331102/peter-i"}, "reply_to_user": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1557305194, "post_id": 56036556, "comment_id": 98715993, "body": "Amazing !! thank you"}], "owner": {"reputation": 664, "user_id": 3331102, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1665793109/picture?type=large", "display_name": "Peter I", "link": "https://stackoverflow.com/users/3331102/peter-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557305094, "creation_date": 1557304135, "last_edit_date": 1557305094, "question_id": 56036556, "link": "https://stackoverflow.com/questions/56036556/axios-typescript-how-to-define-error-struct", "title": "Axios typescript how to define error struct", "body": "<p>How do you define AxiosError.response type? I have a standard error interface that will be contained within e.response but unable to re-define the type or tell AxiosError my interface.</p>\n\n<p>Thanks all.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZIlq2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZIlq2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "enums"], "answers": [{"comments": [{"owner": {"reputation": 4666, "user_id": 3710481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec6a7903a01b11e5340e2dda715544f2?s=128&d=identicon&r=PG&f=1", "display_name": "patelarpan", "link": "https://stackoverflow.com/users/3710481/patelarpan"}, "edited": false, "score": 0, "creation_date": 1616413786, "post_id": 56036493, "comment_id": 117985573, "body": "this answer is in more detail <a href=\"https://stackoverflow.com/questions/39372804/how-can-i-loop-through-enum-values-for-display-in-radio-buttons\" title=\"how can i loop through enum values for display in radio buttons\">stackoverflow.com/questions/39372804/&hellip;</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 6, "last_activity_date": 1557303985, "creation_date": 1557303985, "answer_id": 56036493, "question_id": 56036446, "link": "https://stackoverflow.com/questions/56036446/typescript-enum-values-as-array/56036493#56036493", "title": "Typescript enum values as array", "body": "<p>The simplest way to do it for a <code>string</code> enum is to use <code>Object.values</code></p>\n\n<pre><code>enum MyEnum {\n    FOO = 'foo',\n    BAR = 'bar'\n}\nconsole.log(Object.values(MyEnum));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 11197798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef1594b4227a471784d1c7959753901?s=128&d=identicon&r=PG", "display_name": "marsibarsi", "link": "https://stackoverflow.com/users/11197798/marsibarsi"}, "is_accepted": true, "score": 22, "last_activity_date": 1557304023, "creation_date": 1557304023, "answer_id": 56036508, "question_id": 56036446, "link": "https://stackoverflow.com/questions/56036446/typescript-enum-values-as-array/56036508#56036508", "title": "Typescript enum values as array", "body": "<p>Yes, it is possible to use:</p>\n\n<pre><code>Object.values(MyEnum)\n</code></pre>\n\n<p>because enum is an JS object after compilation:</p>\n\n<pre><code>var MyEnum;\n(function (MyEnum) {\n    MyEnum[\"FOO\"] = \"foo\";\n    MyEnum[\"BAR\"] = \"bar\";\n})(MyEnum || (MyEnum = {}));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 210, "user_id": 6778546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uRVGp.png?s=128&g=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/6778546/fyodor"}, "edited": false, "score": 1, "creation_date": 1602651459, "post_id": 62370682, "comment_id": 113784524, "body": "Or <code>const enumAsArray = Object.values(MyEnum).filter(value =&gt; typeof value === &#39;string&#39;)</code>   (replace &#39;string&#39; with necessary type)  To remove indexes I mean"}, {"owner": {"reputation": 556, "user_id": 4279544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N17sQ.jpg?s=128&g=1", "display_name": "Marco Nascimento", "link": "https://stackoverflow.com/users/4279544/marco-nascimento"}, "reply_to_user": {"reputation": 210, "user_id": 6778546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uRVGp.png?s=128&g=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/6778546/fyodor"}, "edited": false, "score": 0, "creation_date": 1602675885, "post_id": 62370682, "comment_id": 113794435, "body": "Also a nice approach :)"}, {"owner": {"reputation": 139, "user_id": 2307604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff0a77d6632a7cce5606673cde6a146a?s=128&d=identicon&r=PG", "display_name": "Andrii M4n0w4R", "link": "https://stackoverflow.com/users/2307604/andrii-m4n0w4r"}, "edited": false, "score": 0, "creation_date": 1608656450, "post_id": 62370682, "comment_id": 115647152, "body": "This looks weird.. Why cut half of values? What if we have odd length? Splice is definitely not needed."}], "tags": [], "owner": {"reputation": 556, "user_id": 4279544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N17sQ.jpg?s=128&g=1", "display_name": "Marco Nascimento", "link": "https://stackoverflow.com/users/4279544/marco-nascimento"}, "is_accepted": false, "score": 0, "last_activity_date": 1609190055, "last_edit_date": 1609190055, "creation_date": 1592126864, "answer_id": 62370682, "question_id": 56036446, "link": "https://stackoverflow.com/questions/56036446/typescript-enum-values-as-array/62370682#62370682", "title": "Typescript enum values as array", "body": "<p>Edit:</p>\n<p>Imho @Fyodor's solution is cleaner because it covers string enums:</p>\n<pre><code>const enumAsArray = Object.values(MyEnum).filter(value =&gt; typeof value === 'string')\n</code></pre>\n"}], "owner": {"reputation": 1200, "user_id": 9298910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9819944a4b6fdd239fcefe369a25a129?s=128&d=identicon&r=PG&f=1", "display_name": "Lehks", "link": "https://stackoverflow.com/users/9298910/lehks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12457, "favorite_count": 0, "accepted_answer_id": 56036508, "answer_count": 3, "score": 14, "last_activity_date": 1609190055, "creation_date": 1557303813, "question_id": 56036446, "link": "https://stackoverflow.com/questions/56036446/typescript-enum-values-as-array", "title": "Typescript enum values as array", "body": "<p>Is it possible to get the values of an enum in TypeScript as an array?</p>\n\n<p>Like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>enum MyEnum {\n    FOO = 'foo',\n    BAR = 'bar'\n}\n</code></pre>\n\n<p>becomes</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>['foo', 'bar']\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 2, "creation_date": 1557303586, "post_id": 56036346, "comment_id": 98715166, "body": "The way TS is configured doesn&#39;t affect how Webpack works. If there&#39;s no <code>src</code> package, it will fail. Configure Webpack as well."}], "owner": {"reputation": 730, "user_id": 8853596, "user_type": "registered", "profile_image": "https://graph.facebook.com/529636140762283/picture?type=large", "display_name": "Nikita Shchypyplov", "link": "https://stackoverflow.com/users/8853596/nikita-shchypyplov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557303392, "creation_date": 1557303392, "question_id": 56036346, "link": "https://stackoverflow.com/questions/56036346/how-to-setup-tsconfig-for-absolute-path-in-typescript-react-project", "title": "How to setup .tsconfig for absolute path in TypeScript/React project?", "body": "<p>I want to use absolute paths as well and struggling to make it work.</p>\n\n<p>Right now I have following lines in .tsconfig:</p>\n\n<pre><code>{\n    \"baseUrl\": \".\",\n    \"paths\": {\n            \"src/*\": [\"./src/*\"],\n            \"/*\": [\"./node_modules/*\"]\n        }\n}\n</code></pre>\n\n<p>The idea behind is if I use <code>import 'src/path/to/component'</code> then use this rule <code>\"src/*\": [\"./src/*\"]</code>. </p>\n\n<p>If I use <code>import 'react'</code>, then <code>\"/*\": [\"./node_modules/*\"]</code> rule should fire, hence looking for module in node_modules folder.</p>\n\n<p>Right now VSCode seems like okay with resolving, but Webpack(I use webpack-dev-server) throws error like when I try to <code>import Header from 'src/features/header';</code>:</p>\n\n<pre><code>This dependency was not found:\n\n* src/features/header in ./src/features/app/index.tsx\n\nTo install it, you can run: npm install --save src/features/header\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BiS1u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BiS1u.png\" alt=\"image\"></a></p>\n\n<p>So, how may I resolve this issue?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "django-rest-framework"], "comments": [{"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1557307143, "post_id": 56036279, "comment_id": 98717098, "body": "So just to clarify, we&#39;re looking at Angular code here right? I don&#39;t think your Angular application should be setting up <code>Access-Control-Allow-Origin</code> and <code>Access-Control-Allow-Headers</code> headers. Your server should be returning these upon an <code>OPTIONS</code> or on any <code>GET</code>. Other then that, could you post the actual response from the server your Angular app is retrieving? It seems like you have gotten the CORS headers the wrong way around."}, {"owner": {"reputation": 219, "user_id": 5941993, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-cevWNiG-CzI/AAAAAAAAAAI/AAAAAAAAApg/QnZ9pIBPgjE/photo.jpg?sz=128", "display_name": "Deepak Gupta", "link": "https://stackoverflow.com/users/5941993/deepak-gupta"}, "reply_to_user": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1557311041, "post_id": 56036279, "comment_id": 98719274, "body": "I have tried without setting  Access-Control-Allow-Origin, Access-Control-Allow-Headers. It doesn&#39;t work"}, {"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1557311531, "post_id": 56036279, "comment_id": 98719550, "body": "Please try and read the full text I wrote to help you. It&#39;s not about removing these two headers, it&#39;s about the full response your server gives when you try and send something. The two headers we talked about aren&#39;t supposed to be added on the client, but rather on the server. Your server should tell the client it&#39;s okay to send an <code>Authorization</code> header. Your server logs will probably say similar."}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 5941993, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-cevWNiG-CzI/AAAAAAAAAAI/AAAAAAAAApg/QnZ9pIBPgjE/photo.jpg?sz=128", "display_name": "Deepak Gupta", "link": "https://stackoverflow.com/users/5941993/deepak-gupta"}, "edited": false, "score": 0, "creation_date": 1557310779, "post_id": 56036600, "comment_id": 98719125, "body": "i tried doing same but still its not sending any header values."}, {"owner": {"reputation": 219, "user_id": 5941993, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-cevWNiG-CzI/AAAAAAAAAAI/AAAAAAAAApg/QnZ9pIBPgjE/photo.jpg?sz=128", "display_name": "Deepak Gupta", "link": "https://stackoverflow.com/users/5941993/deepak-gupta"}, "edited": false, "score": 0, "creation_date": 1557310860, "post_id": 56036600, "comment_id": 98719176, "body": "let token=&#39;Token &#39;+&#39;d7dd1e453bae5086e33243b9adca5b63d2d927fb8&#39;;     let headers = new HttpHeaders().set(&#39;Authorization&#39;, token)                                .append(&#39;Content-Type&#39;, &#39;application/json&#39;)                                .append(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;)                                .append(&#39;Access-Control-Allow-Headers&#39;, &#39;X-Requested-With&#39;);      console.log(token);     this.http.get(&#39;<a href=\"http://localhost:8003/hello/\" rel=\"nofollow noreferrer\">localhost:8003/hello</a>&#39;, { headers: headers }).subscribe(        response=&gt;{console.log(response);}      );   }"}, {"owner": {"reputation": 168, "user_id": 4959110, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/842537222461776/picture?type=large", "display_name": "St&#246;ger", "link": "https://stackoverflow.com/users/4959110/st%c3%b6ger"}, "reply_to_user": {"reputation": 219, "user_id": 5941993, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-cevWNiG-CzI/AAAAAAAAAAI/AAAAAAAAApg/QnZ9pIBPgjE/photo.jpg?sz=128", "display_name": "Deepak Gupta", "link": "https://stackoverflow.com/users/5941993/deepak-gupta"}, "edited": false, "score": 0, "creation_date": 1557388963, "post_id": 56036600, "comment_id": 98750338, "body": "You should probably update your question to show 1) the backend configuration for receiving a request and 2) the request itself in your browser&#39;s network console, that&#39;d be quite a lot of help in order to fix your problem.. As mentioned in the comment on your question itself, those &#39;Acces-Control&#39; headers shouldn&#39;t be set in the frontend."}], "tags": [], "owner": {"reputation": 168, "user_id": 4959110, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/842537222461776/picture?type=large", "display_name": "St&#246;ger", "link": "https://stackoverflow.com/users/4959110/st%c3%b6ger"}, "is_accepted": false, "score": 0, "last_activity_date": 1557304303, "creation_date": 1557304303, "answer_id": 56036600, "question_id": 56036279, "link": "https://stackoverflow.com/questions/56036279/angular-not-sending-request-header-values/56036600#56036600", "title": "Angular not sending request header values", "body": "<p>I faced the same issue during a recent project, managed to solve it by setting Headers like this:</p>\n\n<pre><code>let headers = new HttpHeaders().set('Authorization', 'Token ...')\n                               .append('Content-Type', 'application/json')\n                               .append('Access-Control-Allow-Origin', '*')\n                               .append('Access-Control-Allow-Headers', 'X-Requested-With');\n\n // now either:\n const httpOptions = { headers: headers };\n this.http.get('http://localhost:8003/hello/', httpOptions);\n\n // or\n this.http.get('http://localhost:8003/hello/', { headers: headers });\n</code></pre>\n\n<p>Regards.</p>\n"}], "owner": {"reputation": 219, "user_id": 5941993, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-cevWNiG-CzI/AAAAAAAAAAI/AAAAAAAAApg/QnZ9pIBPgjE/photo.jpg?sz=128", "display_name": "Deepak Gupta", "link": "https://stackoverflow.com/users/5941993/deepak-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557306572, "creation_date": 1557303151, "last_edit_date": 1557306572, "question_id": 56036279, "link": "https://stackoverflow.com/questions/56036279/angular-not-sending-request-header-values", "title": "Angular not sending request header values", "body": "<p>I am using django rest framework as backend and trying to authenticate request in angular using token in request headers but angular is not sending any header values.\nI have tried all methods of adding headers to request</p>\n\n<pre><code>test(){\n    //var headers = new HttpHeaders();\n     //headers.append('Authorization',':Token '+ token);\n    let token='Token '+'d7dd1e453bae5086e33243b9adca5b63d2d927fb8';\n\n    const httpOptions = {\n      headers: new HttpHeaders({\n\n        'Authorization':'Token d7dd1e453bae5086e33243b9adca5b63d2d927fb8',\n        'Content-Type': 'application/json', \n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers':'X-Requested-With'\n\n      })\n    };\n    console.log(token);\n    this.http.get('http://localhost:8003/hello/', httpOptions).subscribe(\n\n      response=&gt;{console.log(response);}\n\n    );\n  }\n</code></pre>\n\n<blockquote>\n  <p>Access-Control-Request-Headers:\n  access-control-allow-headers,access-control-allow-origin,authorization,content-type\n  Access-Control-Request-Method: GET DNT: 1 Origin:\n  <a href=\"http://localhost:4001\" rel=\"nofollow noreferrer\">http://localhost:4001</a> Referer: <a href=\"http://localhost:4001/\" rel=\"nofollow noreferrer\">http://localhost:4001/</a></p>\n</blockquote>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1557303434, "post_id": 56036326, "comment_id": 98715106, "body": "Apparently it all depends on the compilation target: <a href=\"https://www.typescriptlang.org/play/#src=class%20ClassWithStaticMethod%20%7B%0D%0A%20%20static%20staticMethod()%20%7B%0D%0A%20%20%20%20console.log(ClassWithStaticMethod.staticMethod.name)%3B%20%2F%2F%20output%3A%20staticMethod%0D%0A%20%20%20%20return%20ClassWithStaticMethod.staticMethod.name%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconsole.log(ClassWithStaticMethod.staticMethod())%3B%20%2F%2F%20output%3A%20staticMethod\" rel=\"nofollow noreferrer\">play</a>"}, {"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 0, "creation_date": 1557303795, "post_id": 56036326, "comment_id": 98715277, "body": "Seems like zerkms answer is the right hint, but sadly I have no idea why, or how this behavior achieves. I will let this answer be at its place for research reasons. As far as an answer is provided I will delete it!"}, {"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 0, "creation_date": 1557303867, "post_id": 56036326, "comment_id": 98715306, "body": "slideshowp2 as zerkms mentioned it this behavior seems to be reasoned by the compilation target. Try the Code sample link for a running example."}], "tags": [], "owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "is_accepted": false, "score": 1, "last_activity_date": 1557303463, "last_edit_date": 1557303463, "creation_date": 1557303315, "answer_id": 56036326, "question_id": 56036142, "link": "https://stackoverflow.com/questions/56036142/how-to-get-the-name-of-static-method-in-a-class/56036326#56036326", "title": "How to get the name of static method in a class?", "body": "<p>I am getting the name of the method, or do I misunderstand anything?</p>\n\n<pre><code>class ClassWithStaticMethod {\n  static staticMethod() {\n    console.log('1: ' + ClassWithStaticMethod.staticMethod.name); // output: '1: staticMethod'\n    return ClassWithStaticMethod.staticMethod.name;\n  }\n}\n\nconsole.log('2: ' + ClassWithStaticMethod.staticMethod()); // output: '2: staticMethod'\n</code></pre>\n\n<p><a href=\"https://playcode.io/309861?tabs=console&amp;script.js&amp;output\" rel=\"nofollow noreferrer\">Code sample</a></p>\n"}, {"comments": [{"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "edited": false, "score": 0, "creation_date": 1557752015, "post_id": 56036533, "comment_id": 98858999, "body": "Is there a reason?"}], "tags": [], "owner": {"reputation": 996, "user_id": 7627963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/713Dv.jpg?s=128&g=1", "display_name": "Tony Tom", "link": "https://stackoverflow.com/users/7627963/tony-tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1557304072, "creation_date": 1557304072, "answer_id": 56036533, "question_id": 56036142, "link": "https://stackoverflow.com/questions/56036142/how-to-get-the-name-of-static-method-in-a-class/56036533#56036533", "title": "How to get the name of static method in a class?", "body": "<p>I think it's because of the public access modifier before the static method.</p>\n\n<pre><code>class CloudFunction {\n  static parse() {\n    console.log(this.name); // CloudFunction\n    console.log(CloudFunction.parse.name); // get nothing here\n\n    const context = 'parse';\n  }\n}\n\n\nCloudFunction.parse();\n</code></pre>\n\n<p>This code works without access modifier</p>\n"}, {"tags": [], "owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "is_accepted": false, "score": 0, "last_activity_date": 1557306848, "creation_date": 1557306848, "answer_id": 56037291, "question_id": 56036142, "link": "https://stackoverflow.com/questions/56036142/how-to-get-the-name-of-static-method-in-a-class/56037291#56037291", "title": "How to get the name of static method in a class?", "body": "<p>I think there is no straightforward way of getting this.</p>\n\n<p>Create a new static variable to store <code>current</code> function name, and use a decorators to change this variable when a function will be call.</p>\n\n<pre><code>function changeContextName(target: object, propertyName: string, propertyDesciptor: PropertyDescriptor) {\n  let method = propertyDesciptor.value;\n  propertyDesciptor.value = function() {\n    // let prevMethod = this.context; // backup previous method name\n    this.context = propertyName;\n    method.apply(this, arguments);\n    // this.context = prevMethod; // restore previous method name\n  };\n}\n\n\nclass CloudFunction {\n  public static context: string;\n\n  @changeContextName\n  public static parse() {\n\n    console.log({context: this.context});\n  }\n\n  @changeContextName\n  public test() {\n    console.log({ context: CloudFunction.context});\n  }\n}\n\nCloudFunction.parse();\n(new CloudFunction()).test();\n</code></pre>\n"}], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1557306848, "creation_date": 1557302601, "last_edit_date": 1557303899, "question_id": 56036142, "link": "https://stackoverflow.com/questions/56036142/how-to-get-the-name-of-static-method-in-a-class", "title": "How to get the name of static method in a class?", "body": "<p>I print many logs in the static method and I want to use the method name as context. But I don't want to declare a <code>context</code> variable and assign the function/method name to it. </p>\n\n<p>I want to use the context by accessing the method name. Not only in a class static method, but also in every function.</p>\n\n<p>Here is my try:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class CloudFunction {\n  public static parse() {\n\n    console.log(this.name); // CloudFunction\n    console.log(CloudFunction.parse.name); // get nothing here\n\n\n    // Don't want to declare `context` variable and assign method name to it.\n    const context = 'parse';\n    logger.debug('a log', { context, arguments: 'pubsubMessage' });\n\n    //... many logs use this context\n\n    // want the better way like this:\n    // const self = this;\n    // logger.error(new Error('bad'), {context: self.name })\n  }\n}\n\n\nCloudFunction.parse();\n</code></pre>\n\n<p>None of them work. Can I use <code>reflect</code> way to get it? I am not sure <code>reflect</code> can do this.</p>\n\n<p><strong>update</strong></p>\n\n<p>Here is my result:</p>\n\n<pre><code>\u2601  DL-Toolkits [master] npx ts-node /Users/ldu020/workspace/github.com/mrdulin/ts-codelab/src/class/get-static-method-name/index.ts\nCloudFunction\n\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1557300825, "post_id": 56035543, "comment_id": 98713873, "body": "The error is clear: you&#39;re trying to use <code>[formGroup]=&quot;kbForm&quot;</code> but <code>kbForm</code> is undefined unti the search finally succeeds. So either use *ngIf to avoid displaying the form while kbForm is undefined, or build your form immediately, without waiting for the search to succeed."}, {"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1557301911, "post_id": 56035543, "comment_id": 98714410, "body": "I tried to add <code>*ngIf</code>, but then the form disappears altogether, where the console says: <code>TypeError: Cannot read property &#39;createComponent&#39; of undefined</code> (I am using componentFactoryResolver for rendering components). I cannot build the form immediately because the values of my dropdown are dependent on the result from the <code>REST</code> call. Could there be a workaround for this?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1557302116, "post_id": 56035543, "comment_id": 98714501, "body": "That&#39;s the whole point of ngIf: to avoid adding something in the dom. You can&#39;t display a form if the model of the form doesn&#39;t exist. So, once again, either you don&#39;t display the form, or you display it with an unpopulated dropdown that will populate later."}], "answers": [{"tags": [], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "is_accepted": false, "score": 0, "last_activity_date": 1557308378, "creation_date": 1557308378, "answer_id": 56037698, "question_id": 56035543, "link": "https://stackoverflow.com/questions/56035543/building-form-after-subscribe-gives-expect-formgroup-instance-error/56037698#56037698", "title": "Building form after subscribe gives &quot;expect formgroup instance&quot; error", "body": "<p>Found a workaround, the <code>this.buildf2();</code> function was using the data from the response being saved in <code>projectsList</code>, so instead of adding <code>this.buildForm();</code> to the response group I added this function. It rendered the div properly with the updated response.</p>\n\n<p>Like so:</p>\n\n<pre><code>import { Component, OnInit, ViewChild, ViewContainerRef, AfterContentInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { TranslatePipe } from 'src/app/pipes/translate/translate.pipe';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { DynamicTextFieldService } from 'src/app/services/dynamic-loading/dynamic-text-field/dynamic-text-field.service';\nimport { DynamicDropdownService } from 'src/app/services/dynamic-loading/dynamic-dropdown/dynamic-dropdown.service';\nimport { DynamicTextAreaService } from 'src/app/services/dynamic-loading/dynamic-text-area/dynamic-text-area.service';\nimport { CustomSearchService } from 'src/app/services/search/custom-search/custom-search.service';\nimport { CustomValidators } from 'src/app/views/forgot-password/reset-password/custom-validators';\n\n\n@Component({\n  selector: 'app-knowledge-base-create',\n  templateUrl: './knowledge-base-create.component.html',\n  styleUrls: ['./knowledge-base-create.component.scss']\n})\nexport class KnowledgeBaseCreateComponent implements OnInit, AfterContentInit {\n\n  @ViewChild('f1', { read: ViewContainerRef }) f1;\n  @ViewChild('f2', { read: ViewContainerRef }) f2;\n  @ViewChild('f3', { read: ViewContainerRef }) f3;\n  @ViewChild('f4', { read: ViewContainerRef }) f4;\n\n  projectsList: any;\n\n  kbForm: FormGroup;\n\n  constructor(private location: Location,\n    private translate: TranslatePipe,\n    private dynamictextfield: DynamicTextFieldService,\n    private fb: FormBuilder,\n    private dynamicdropdown: DynamicDropdownService,\n    private dynamictextarea: DynamicTextAreaService,\n    private search: CustomSearchService) { }\n\n  ngOnInit() {\n    this.buildForm(); //removed call from here, replaced with buildForm()\n  }\n\n  buildForm() {\n    this.kbForm = this.fb.group({\n      'f1': ['', Validators.required],\n      'f2': ['', Validators.required],\n      'f3': ['', Validators.required],\n      'f4': ['', Validators.required]\n    })\n  }\n\n  ngAfterContentInit() {\n    this.buildf1();\n    this.buildf3();\n    this.buildf4();\n    this.retrieveProjectData(); //added function here, renders perfectly\n  }\n\n  retrieveProjectData() { //created this function instead, added to afterContentInit\n    this.search.searchCall(\"PP_1_Projects\", \"\", \"\", true).subscribe(\n      response =&gt; {\n        response = response.records;\n        this.projectsList = response;\n        this.buildf2();\n        console.log(response);\n      },\n      error=&gt;{\n        console.log(error);\n      }\n    )\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n  buildf1() {\n    let data = {\n      reference: this.f1,\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Article Name\", //TODO: change to translate\n      id: \"f1\",\n      autoComplete: false,\n      formControlName: \"f1\",\n      group: this.kbForm\n    }\n    this.dynamictextfield.loadTextField(data);\n  }\n\n  buildf2() {\n    let data: any;\n    if (this.projectsList == undefined) {\n      data = [\n        {\n          \"name\": \"\"\n        }\n      ]\n    } else {\n      data = this.projectsList;\n    }\n\n    let array = {\n      reference: this.f2,\n      id: \"f2\",\n      formControlName: \"f2\",\n      group: this.kbForm,\n      data: data,\n      placeholder: \"Select Project Name\"\n    }\n    this.dynamicdropdown.loadDropdown(array);\n  }\n\n  buildf3() {\n    let data = [\n      {\n        \"name\": \"New\"\n      },\n      {\n        \"name\": \"Published\"\n      },\n      {\n        \"name\": \"Unpublished\"\n      }\n    ]\n\n    let array = {\n      reference: this.f3,\n      id: \"f3\",\n      formControlName: \"f3\",\n      group: this.kbForm,\n      data: data,\n      placeholder: \"Select Status\"\n    }\n    this.dynamicdropdown.loadDropdown(array);\n  }\n\n  buildf4() {\n    let data = {\n      reference: this.f4,\n      placeholder: \"Enter any notes here..\", //TODO: change to translate\n      id: \"f4\",\n      formControlName: \"f4\",\n      group: this.kbForm\n    }\n    this.dynamictextarea.loadTextArea(data);\n  }\n\n  get form() {\n    return this.kbForm.controls;\n  }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557308378, "creation_date": 1557300146, "question_id": 56035543, "link": "https://stackoverflow.com/questions/56035543/building-form-after-subscribe-gives-expect-formgroup-instance-error", "title": "Building form after subscribe gives &quot;expect formgroup instance&quot; error", "body": "<p>I am trying to build a page in angular 6 containing a form, who's <code>projects</code> dropdown is populated using data retrieved from the <code>REST</code> call. When i test everything without a subscribe using hardcoded data the form works perfectly. However, when I add the rest call and build the form inside the subscribe scope, it gives me a <code>FormGroup</code> error 3 - 4 times in the console:</p>\n\n<blockquote>\n  <p>ERROR Error: formGroup expects a FormGroup instance. Please pass one in.</p>\n</blockquote>\n\n<p>I am not sure why the form works perfectly without subscribe call, maybe an issue with async calls? </p>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/42091090/angular-2-creating-form-in-a-subscription-causes-crash-saying-the-formgroup-is\">this</a> solution but it doesn't work for me, only removes the form altogether</p>\n\n<p><strong>Note</strong>: I also have a few other pages that implement this but none of them had this issue.</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>import { Component, OnInit, ViewChild, ViewContainerRef, AfterContentInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { TranslatePipe } from 'src/app/pipes/translate/translate.pipe';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { DynamicTextFieldService } from 'src/app/services/dynamic-loading/dynamic-text-field/dynamic-text-field.service';\nimport { DynamicDropdownService } from 'src/app/services/dynamic-loading/dynamic-dropdown/dynamic-dropdown.service';\nimport { DynamicTextAreaService } from 'src/app/services/dynamic-loading/dynamic-text-area/dynamic-text-area.service';\nimport { CustomSearchService } from 'src/app/services/search/custom-search/custom-search.service';\n\n@Component({\n  selector: 'app-knowledge-base-create',\n  templateUrl: './knowledge-base-create.component.html',\n  styleUrls: ['./knowledge-base-create.component.scss']\n})\nexport class KnowledgeBaseCreateComponent implements OnInit, AfterContentInit {\n\n  @ViewChild('f1', { read: ViewContainerRef }) f1;\n  @ViewChild('f2', { read: ViewContainerRef }) f2;\n  @ViewChild('f3', { read: ViewContainerRef }) f3;\n  @ViewChild('f4', { read: ViewContainerRef }) f4;\n\n  kbForm: FormGroup;\n\n  projectsList: any;\n\n  constructor(private location: Location,\n    private translate: TranslatePipe,\n    private dynamictextfield: DynamicTextFieldService,\n    private fb: FormBuilder,\n    private dynamicdropdown: DynamicDropdownService,\n    private dynamictextarea: DynamicTextAreaService,\n    private search: CustomSearchService) { }\n\n  ngOnInit() {\n    this.search.searchCall(\"PP_1_Projects\", \"\", \"\", true).subscribe(\n      response =&gt; {\n        response = response.records;\n        this.projectsList = response;\n        this.buildForm();\n      },\n      error =&gt; {\n        console.log(error);\n      }\n    );\n  }\n\n  buildForm() {\n    this.kbForm = this.fb.group({\n      'f1': ['', Validators.required],\n      'f2': ['', Validators.required],\n      'f3': ['', Validators.required],\n      'f4': ['', Validators.required]\n    })\n  }\n\n  ngAfterContentInit() {\n    this.buildf1();\n    this.buildf2();\n    this.buildf3();\n    this.buildf4();\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n  buildf1() {\n    let data = {\n      reference: this.f1,\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Article Name\", //TODO: change to translate\n      id: \"f1\",\n      autoComplete: false,\n      formControlName: \"f1\",\n      group: this.kbForm\n    }\n    this.dynamictextfield.loadTextField(data);\n  }\n\n  buildf2() {\n    let data = this.projectsList;\n    let array = {\n      reference: this.f2,\n      id: \"f2\",\n      formControlName: \"f2\",\n      group: this.kbForm,\n      data: data,\n      placeholder: \"Select Project Name\"\n    }\n    this.dynamicdropdown.loadDropdown(array);\n  }\n\n  buildf3() {\n    let data = [\n      {\n        \"name\": \"New\"\n      },\n      {\n        \"name\": \"Open\"\n      },\n      {\n        \"name\": \"Closed\"\n      }\n    ]\n\n    let array = {\n      reference: this.f3,\n      id: \"f3\",\n      formControlName: \"f3\",\n      group: this.kbForm,\n      data: data,\n      placeholder: \"Select Status\"\n    }\n    this.dynamicdropdown.loadDropdown(array);\n  }\n\n  buildf4() {\n    let data = {\n      reference: this.f4,\n      placeholder: \"Enter any notes here..\", //TODO: change to translate\n      id: \"f4\",\n      formControlName: \"f4\",\n      group: this.kbForm\n    }\n    this.dynamictextarea.loadTextArea(data);\n  }\n\n\n}\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;div&gt;\n  &lt;app-toolbar&gt;&lt;/app-toolbar&gt;\n  &lt;app-side-nav&gt;&lt;/app-side-nav&gt;\n  &lt;div class=\"container-fluid\"&gt;\n    &lt;app-button description=\"{{ 'pages[knowledge_base][buttons][go_back]' | translate }}\" class=\"btn btn-danger btn-md custom\" (callFunction)=\"goBack()\"&gt;&lt;/app-button&gt;\n    &lt;div class=\"card-group\"&gt;\n      &lt;div class=\"card p-4\"&gt;\n        &lt;form [formGroup]=\"kbForm\"&gt;\n          &lt;h2 class=\"col-md-6\"&gt;Create New Knowledge Base Article&lt;/h2&gt;\n          &lt;div class=\"col-md-3\"&gt;\n            &lt;div #f1 class=\"input\"&gt;&lt;/div&gt;\n            &lt;div #f2 class=\"input\"&gt;&lt;/div&gt;\n            &lt;div #f3 class=\"input\"&gt;&lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-6\"&gt;\n            &lt;div #f4 class=\"input\"&gt;&lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "html5-audio"], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 7098616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YCUZhvolHL0/AAAAAAAAAAI/AAAAAAAAAKQ/Q9pTlXgp2js/photo.jpg?sz=128", "display_name": "mohsen shabanian", "link": "https://stackoverflow.com/users/7098616/mohsen-shabanian"}, "is_accepted": true, "score": 0, "last_activity_date": 1557324485, "last_edit_date": 1557324485, "creation_date": 1557306866, "answer_id": 56037301, "question_id": 56035485, "link": "https://stackoverflow.com/questions/56035485/change-sound-in-react-component/56037301#56037301", "title": "change sound in react component", "body": "<p>solve problem with use <code>ref</code> JSX attribute</p>\n\n<pre><code>import React, { useState, useEffect } from 'react';\nimport './audioPlayer.css';\n\ninterface AudioPlayerProps {\n  music: string,\n}\n\nconst AudioPlayer: React.FC&lt;AudioPlayerProps&gt; = ({ music}) =&gt; {\n\n  const [audio, setAudio] = useState();\n\n  useEffect(() =&gt; {\n    if(audio){\n       audio.pause();\n       audio.load();\n       audio.play();\n    }\n  }, [music,audio]);\n\n  return (\n    &lt;audio ref={(audioref)=&gt;{ setAudio(audioref) }} &gt;\n      &lt;source src={music} type=\"audio/mpeg\" /&gt;\n      Your browser does not support the audio tag.\n    &lt;/audio&gt;\n  );\n};\n\nexport default React.memo(AudioPlayer,(prevProps, nextProps)=&gt;{\n  return prevProps.music === nextProps.music\n});\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7098616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YCUZhvolHL0/AAAAAAAAAAI/AAAAAAAAAKQ/Q9pTlXgp2js/photo.jpg?sz=128", "display_name": "mohsen shabanian", "link": "https://stackoverflow.com/users/7098616/mohsen-shabanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 56037301, "answer_count": 1, "score": 0, "last_activity_date": 1557324485, "creation_date": 1557299917, "last_edit_date": 1557324395, "question_id": 56035485, "link": "https://stackoverflow.com/questions/56035485/change-sound-in-react-component", "title": "change sound in react component", "body": "<p>I want to play music in background in react app with typescript, but when change music in parent its not any change on sound in child node.</p>\n\n<pre><code>import React from 'react';\nimport './audioPlayer.css';\n\ninterface AudioPlayerProps {\n  music: string\n}\n\nconst AudioPlayer: React.FC&lt;AudioPlayerProps&gt; = ({ music }) =&gt; {\n\n  return (\n    &lt;audio &gt;\n      &lt;source src={music} type=\"audio/mpeg\" /&gt;\n      Your browser does not support the audio tag.\n    &lt;/audio&gt;\n  );\n};\n\nexport default React.memo(AudioPlayer,(prevProps, nextProps)=&gt;{\n  return prevProps.music === nextProps.music\n});\n</code></pre>\n"}, {"tags": ["html", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1557300029, "post_id": 56035479, "comment_id": 98713499, "body": "JSON is a <i>textual notation</i> for data exchange. <a href=\"http://stackoverflow.com/a/2904181/157247\">(More here.)</a> Once you&#39;ve parsed it and are using it in your code, it&#39;s not JSON anymore. That is, if you&#39;re dealing with JavaScript source code, and not dealing with a <i>string</i>, you&#39;re not dealing with JSON."}], "answers": [{"comments": [{"owner": {"reputation": 1075, "user_id": 10856995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7802869c5b24e9d44aad91db1156808d?s=128&d=identicon&r=PG&f=1", "display_name": "JackU", "link": "https://stackoverflow.com/users/10856995/jacku"}, "edited": false, "score": 0, "creation_date": 1557301204, "post_id": 56035689, "comment_id": 98714075, "body": "I only want to display the data where the player id is in the array as well. So it should only display 3"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 1075, "user_id": 10856995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7802869c5b24e9d44aad91db1156808d?s=128&d=identicon&r=PG&f=1", "display_name": "JackU", "link": "https://stackoverflow.com/users/10856995/jacku"}, "edited": false, "score": 0, "creation_date": 1557301228, "post_id": 56035689, "comment_id": 98714084, "body": "@JackU yes I understand, you can use the same logic on the resulting array."}, {"owner": {"reputation": 1075, "user_id": 10856995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7802869c5b24e9d44aad91db1156808d?s=128&d=identicon&r=PG&f=1", "display_name": "JackU", "link": "https://stackoverflow.com/users/10856995/jacku"}, "edited": false, "score": 0, "creation_date": 1557301593, "post_id": 56035689, "comment_id": 98714258, "body": "I can display the array in the table similar to how you&#39;ve done it, but how do i filter down the &quot;JSON&quot; to only get the End Times of those in the array?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 1075, "user_id": 10856995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7802869c5b24e9d44aad91db1156808d?s=128&d=identicon&r=PG&f=1", "display_name": "JackU", "link": "https://stackoverflow.com/users/10856995/jacku"}, "edited": false, "score": 0, "creation_date": 1557301823, "post_id": 56035689, "comment_id": 98714352, "body": "@JackU I have updated my demo such that it displays only the filtered Data. I have also made some adjustments to the code you have provided initially. You may refer to it on the <code>ngOnInit()</code>"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 1075, "user_id": 10856995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7802869c5b24e9d44aad91db1156808d?s=128&d=identicon&r=PG&f=1", "display_name": "JackU", "link": "https://stackoverflow.com/users/10856995/jacku"}, "edited": false, "score": 0, "creation_date": 1557301897, "post_id": 56035689, "comment_id": 98714400, "body": "As for your other question, what are you trying to achieve? You just want an array of that consists of only <code>End_Time </code>?"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 1, "last_activity_date": 1557301768, "last_edit_date": 1557301768, "creation_date": 1557300785, "answer_id": 56035689, "question_id": 56035479, "link": "https://stackoverflow.com/questions/56035479/searching-json-keys-for-matching-object-from-array-and-push-to-table/56035689#56035689", "title": "Searching Json keys for matching object from array and push to table", "body": "<p>If I understand your question correctly, you are trying to show the corresponding <code>End_Time</code> on the table, right? On each td column, you can bind it to the respective properties, <code>Player_ID</code> and <code>End_Time</code>. This is how it will look like: </p>\n\n<pre><code>&lt;table id=\"tableContents\"&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Player ID&lt;/th&gt;\n      &lt;th&gt;End Time&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngFor=\"let player of data.allplayers\"&gt;\n      &lt;td&gt;{{ player.Player_ID }}&lt;/td&gt;\n      &lt;td&gt;{{ player.End_Time }}&lt;/td&gt;\n    &lt;/tr&gt;\n &lt;/table&gt;\n</code></pre>\n\n<p>I have made a <a href=\"https://stackblitz.com/edit/angular-ynzo9u?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">quick demo</a> over here.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 4801220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pJryTyyKwFg/AAAAAAAAAAI/AAAAAAAAABE/vDEvlWiErnw/photo.jpg?sz=128", "display_name": "marudhu raj", "link": "https://stackoverflow.com/users/4801220/marudhu-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1557301463, "last_edit_date": 1557301463, "creation_date": 1557301119, "answer_id": 56035773, "question_id": 56035479, "link": "https://stackoverflow.com/questions/56035479/searching-json-keys-for-matching-object-from-array-and-push-to-table/56035773#56035773", "title": "Searching Json keys for matching object from array and push to table", "body": "<pre><code>        {\n        \"allplayers\": [\n            {\n                \"Player_ID\": \"1004D\",\n                \"End_Time\": \"2019-04-29 13:31:06\"\n            },\n            {\n                \"Player_ID\": \"1000A\",\n                \"End_Time\": \"2019-04-29 07:39:55\"\n            },\n            {\n                \"Player_ID\": \"1002G\", \n                \"End_Time\": \"2019-04-30 09:02:21\"\n            },\n            {\n                \"Player_ID\": \"1006B\", \n                \"End_Time\": \"2019-04-30 10:21:01\"\n            }\n        ]\n    } \n\n    this.player_IDs.forEach(function(value) {\n      var id = value.toString();\n      var endTime = playerdata.allplayers.filter(e =&gt; {\n        if (e.Player_ID.includes(id)) {\n          return e.End_Time;\n        }\n      });\n      if (endTime.length != 0) {\n        console.log(endTime);\n      }\n    });\n</code></pre>\n"}], "owner": {"reputation": 1075, "user_id": 10856995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7802869c5b24e9d44aad91db1156808d?s=128&d=identicon&r=PG&f=1", "display_name": "JackU", "link": "https://stackoverflow.com/users/10856995/jacku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56035689, "answer_count": 2, "score": 0, "last_activity_date": 1557301768, "creation_date": 1557299892, "last_edit_date": 1557299958, "question_id": 56035479, "link": "https://stackoverflow.com/questions/56035479/searching-json-keys-for-matching-object-from-array-and-push-to-table", "title": "Searching Json keys for matching object from array and push to table", "body": "<p>I am trying to search a JSON to retrieve objects which match an array and then push all this data to table. \nMy array looks like this: </p>\n\n<pre><code>player_IDs: number[] = [ 1000, 1002, 1004 ]\n</code></pre>\n\n<p>And the JSON that I am searching looks like this:</p>\n\n<pre><code>{\n    \"allplayers\": [\n        {\n            \"Player_ID\": \"1004D\",\n            \"End_Time\": \"2019-04-29 13:31:06\"\n        },\n        {\n            \"Player_ID\": \"1000A\",\n            \"End_Time\": \"2019-04-29 07:39:55\"\n        }\n        {\n            \"Player_ID\": \"1002G\", \n            \"End_Time\": \"2019-04-30 09:02:21\"\n        }\n        {\n            \"Player_ID\": \"1006B\", \n            \"End_Time\": \"2019-04-30 10:21:01\"\n        }\n    ]\n}\n</code></pre>\n\n<p>In the JSON there is other data for other players that I don't want to display because their ID is not in the array.</p>\n\n<p>I am currently displaying the Player_IDs from the array in the HTML like this:</p>\n\n<pre><code> &lt;table id=\"tableContents\"&gt;\n    &lt;tr&gt;\n      &lt;th&gt;PLayer ID&lt;/th&gt;\n      &lt;th&gt;End Time&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngFor=\"let id of player_IDs\"&gt;\n      &lt;td&gt;00{{ id }}&lt;/td&gt;\n      &lt;td&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n &lt;/table&gt;\n</code></pre>\n\n<p>But in the column next to it I want to be able to display the matching end time. I can get the <code>End_Time</code> and log it to the console, but I am not sure how push it to the table so that the end time match up with the current Player_IDs in the table. Is there a way to do with <code>*ngFor</code>?</p>\n\n<p>This is how I am getting the <code>End_Time</code> and logging it to the console:</p>\n\n<pre><code>this.player_IDs.forEach(function(value) {\n   var id = value.toString()\n   var index = playerdata.allplayers.filter(e =&gt; e.Player_ID.includes(id))\n   if (index.length!=0) {\n       console.log(index[0].End_Time)\n   }\n})\n</code></pre>\n\n<p>So, how do I push the <code>End_Time</code> to the table so that they are displayed with the corresponding Player_ID?</p>\n\n<p>Side note: It does not matter what order the Player_IDs are displayed in. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 3437123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7f8a257947ed3e5d7c663c9046e0c52?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel C.", "link": "https://stackoverflow.com/users/3437123/daniel-c"}, "edited": false, "score": 0, "creation_date": 1557308501, "post_id": 56035902, "comment_id": 98717850, "body": "In addition to this: Is it possible to restrict T only with allowed strings of type DescriminatorType"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 483, "user_id": 3437123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7f8a257947ed3e5d7c663c9046e0c52?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel C.", "link": "https://stackoverflow.com/users/3437123/daniel-c"}, "edited": false, "score": 0, "creation_date": 1557308613, "post_id": 56035902, "comment_id": 98717913, "body": "@DanielC. sure just replace <code>T extends string = string</code> with <code>T extends DescriminatorType = DescriminatorType </code>, should work"}, {"owner": {"reputation": 483, "user_id": 3437123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7f8a257947ed3e5d7c663c9046e0c52?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel C.", "link": "https://stackoverflow.com/users/3437123/daniel-c"}, "edited": false, "score": 0, "creation_date": 1557309126, "post_id": 56035902, "comment_id": 98718176, "body": "I tried this too and it seems to work great! Thanks!!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1557309339, "last_edit_date": 1557309339, "creation_date": 1557301651, "answer_id": 56035902, "question_id": 56035346, "link": "https://stackoverflow.com/questions/56035346/type-guard-doesnt-work-on-sub-classes-with-same-interface/56035902#56035902", "title": "Type guard doesn&#39;t work on sub classes with same interface", "body": "<p>The typescript type system is structural in nature. If two types are declared separately such as <code>BaseClass</code> and  <code>SubClassA</code> but have the same structure, they are the exact same type as far as the type system is concerned (at least in most practical cases)</p>\n\n<p>Type guards work on the else branch, by taking out of the union the type that was matched by the type guard. Since <code>SubClassB</code> has the same structure as <code>SubClassA</code> it is also taken out of the union (essentially they are the same type under a different name)</p>\n\n<p><code>SubClassC</code> is taken out because the type guard will also take out subtypes of the matched type, and since <code>SubClasssA</code> is the same type as <code>BaseClass</code>, <code>SubClassC</code> is technically speaking, a subtype of <code>SubClassA</code></p>\n\n<p>All this leads to the else branch of the if having no types left to handle, and <code>d</code> will be of type <code>never</code></p>\n\n<p>The simplest solution in this case is to keep the <code>discriminator</code> as a type parameter on <code>BaseClass</code> this way the classes will be structurally different (with this type parameter being used as the type of <code>discriminator</code>, unused type parameters don't count towards structure):</p>\n\n<pre><code>type DescriminatorType = 'SubClassA' | 'SubClassB' | 'SubClassC'\n\nexport abstract class BaseClass&lt;T extends DescriminatorType = DescriminatorType&gt; {\n\n    constructor(\n        public descriminator: T,\n    ) {\n    }\n\n    // tpye-guard function for SubClassA\n    public static isSubClassA(o: BaseClass): o is SubClassA {\n        return o instanceof SubClassA;\n\n        // Or\n        // return o.descriminator === 'SubClassA';\n    }\n\n    // tpye-guard function for SubClassB\n    public static isSubClassB(o: BaseClass): o is SubClassB {\n        return o instanceof SubClassB;\n\n        // Or\n        // return o.descriminator === 'SubClassA';\n    }\n\n    // tpye-guard function for SubClassC\n    public static isSubClassC(o: BaseClass): o is SubClassC {\n        return o instanceof SubClassC;\n\n        // Or\n        // return o.descriminator === 'SubClassA';\n    }\n}\n\nexport class SubClassA extends BaseClass&lt;'SubClassA'&gt; {\n    constructor(\n    ) {\n        super('SubClassA');\n    }\n}\n\nexport class SubClassB extends BaseClass&lt;'SubClassB'&gt; {\n    constructor(\n    ) {\n        super('SubClassB');\n    }\n}\n\nexport class SubClassC extends BaseClass&lt;'SubClassC'&gt; {\n\n    constructor(\n        public subClassProp1: number,\n    ) {\n        super('SubClassC');\n    }\n}\n\nexport class OtherClass {\n    data = [new SubClassA(), new SubClassA(), new SubClassB(), new SubClassC(123)]\n    public doSomething(): string[] {\n\n        return this.data.map(d =&gt; {\n            if (BaseClass.isSubClassA(d)) {\n                return d.descriminator;\n            }\n            else if (BaseClass.isSubClassB(d)) {\n                return d.descriminator;\n            }\n            else if (BaseClass.isSubClassC(d)) {\n                return d.descriminator;\n            }\n            else {\n                return 'UNKNOWN TYPE';\n            }\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 3437123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7f8a257947ed3e5d7c663c9046e0c52?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel C.", "link": "https://stackoverflow.com/users/3437123/daniel-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 56035902, "answer_count": 1, "score": 1, "last_activity_date": 1557309339, "creation_date": 1557299459, "question_id": 56035346, "link": "https://stackoverflow.com/questions/56035346/type-guard-doesnt-work-on-sub-classes-with-same-interface", "title": "Type guard doesn&#39;t work on sub classes with same interface", "body": "<p>What is the exact reason for getting the error</p>\n\n<blockquote>\n  <p>Property 'descriminator' does not exist on type 'never'.</p>\n</blockquote>\n\n<p>in line 67 and 70.</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-type-guards-never?file=models.ts\" rel=\"nofollow noreferrer\">See stackblitz here</a></p>\n\n<pre><code>type DescriminatorType = 'SubClassA' | 'SubClassB' | 'SubClassC'\n</code></pre>\n\n<p>Define some abstract base class with static type guard functions</p>\n\n<pre><code>export abstract class BaseClass {\n\n  constructor(\n    public descriminator: string,\n  ) {\n  }\n\n  // tpye-guard function for SubClassA\n  public static isSubClassA(o: BaseClass): o is SubClassA {\n    return o instanceof SubClassA;\n\n    // Or\n    // return o.descriminator === 'SubClassA';\n  }\n\n  // tpye-guard function for SubClassB\n  public static isSubClassB(o: BaseClass): o is SubClassB {\n    return o instanceof SubClassB;\n\n    // Or\n    // return o.descriminator === 'SubClassA';\n  }\n\n  // tpye-guard function for SubClassC\n  public static isSubClassC(o: BaseClass): o is SubClassC {\n    return o instanceof SubClassC;\n\n    // Or\n    // return o.descriminator === 'SubClassA';\n  }\n}\n</code></pre>\n\n<p>Define some sub classes. Currently two of them have the same interface.</p>\n\n<pre><code>export class SubClassA extends BaseClass {\n  constructor(\n  ) {\n    super('SubClassA');\n  }\n}\n\nexport class SubClassB extends BaseClass {\n  constructor(\n  ) {\n    super('SubClassB');\n  }\n}\n\nexport class SubClassC extends BaseClass {\n\n  constructor(\n    public subClassProp1: number,\n  ) {\n    super('SubClassC');\n  }\n}\n</code></pre>\n\n<p>Define some program logic which make usage of type-guard functions:</p>\n\n<pre><code>export class OtherClass {\n  data = [new SubClassA(), new SubClassA(), new SubClassB(), new SubClassC(123)]\n  public doSomething(): string[] {\n\n    return this.data.map(d =&gt; {\n      if (BaseClass.isSubClassA(d)) {\n        return d.descriminator;\n      }\n      else if (BaseClass.isSubClassB(d)) {\n        return d.descriminator;   // Error: Property 'descriminator' does not exist on type 'never'.\n      }\n      else if (BaseClass.isSubClassC(d)) {\n        return d.descriminator;   // Error: Property 'descriminator' does not exist on type 'never'.\n      }\n      else {\n        return 'UNKNOWN TYPE';\n      }\n    })\n  }\n}\n</code></pre>\n\n<p>As you can see in the StackBlitz on runtime everything works fine. I'm getting the expected output!</p>\n"}, {"tags": ["angular", "typescript", "angular-template"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1557298349, "post_id": 56035023, "comment_id": 98712660, "body": "You can&#39;t. Don&#39;t put code in strings. Put code in functions. Just make hideExpression a functionor a method."}, {"owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 1, "creation_date": 1557298916, "post_id": 56035023, "comment_id": 98712931, "body": "eval() function can you help you might be."}, {"owner": {"reputation": 2187, "user_id": 2243747, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8e08b00eeb01b65a9e68ad9d1918bbd7?s=128&d=identicon&r=PG", "display_name": "user2243747", "link": "https://stackoverflow.com/users/2243747/user2243747"}, "reply_to_user": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1557299315, "post_id": 56035023, "comment_id": 98713141, "body": "@PareshGami, excellent.  Its working as expected but looks like typescript is not happy with it.  TypeScript has built-in rule named &#39;no-eval&#39;.  We can ignore and move forward but there has to be a better way to address this."}, {"owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1557299696, "post_id": 56035023, "comment_id": 98713333, "body": "You can ignore rules // tslint:disable-next-line:no-eval :P"}], "answers": [{"comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1557298486, "post_id": 56035084, "comment_id": 98712720, "body": "That will only evaluate the expression once, when the component is being initialized."}, {"owner": {"reputation": 2187, "user_id": 2243747, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8e08b00eeb01b65a9e68ad9d1918bbd7?s=128&d=identicon&r=PG", "display_name": "user2243747", "link": "https://stackoverflow.com/users/2243747/user2243747"}, "edited": false, "score": 0, "creation_date": 1557298686, "post_id": 56035084, "comment_id": 98712816, "body": "Idea is, I want to implement generic framework and I am planning to fetch hideExpression from Database."}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1557299719, "last_edit_date": 1557299719, "creation_date": 1557298417, "answer_id": 56035084, "question_id": 56035023, "link": "https://stackoverflow.com/questions/56035023/ngif-with-generic-string-expression-that-evaluates-bool/56035084#56035084", "title": "*ngIf with generic string expression that evaluates bool", "body": "<p>Change to <code>this.hideExpression = this.isEmployee === true;</code></p>\n\n<pre><code>ngOnInit() {\n    this.hideExpression = this.isEmployee === true;\n}\n</code></pre>\n\n<p>Update</p>\n\n<p>If you want to fetch hideExpression from Database, you need create a service and fetch data from DB like this</p>\n\n<pre><code>constructor(private yourService: EmployeeService) {\n}\n\nngOnInit() {\n    this.yourService.getEmployee(id).subscribe(data=&gt;{\n            this.hideExpression = data.isEmployee === true;\n    });\n}\n\n@Injectable()\nexport class EmployeeService {\n    constructor(private http: HttpClient){\n    }\n\n    getEmployee(id){\n        return this.http.get(`/api/employee?id=${id}`);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2187, "user_id": 2243747, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8e08b00eeb01b65a9e68ad9d1918bbd7?s=128&d=identicon&r=PG", "display_name": "user2243747", "link": "https://stackoverflow.com/users/2243747/user2243747"}, "edited": false, "score": 0, "creation_date": 1557298844, "post_id": 56035138, "comment_id": 98712889, "body": "Thanks.  I want to implement generic framework and I am planning to fetch hideExpression from Database.  I have updated my original question."}], "tags": [], "owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1557298681, "creation_date": 1557298681, "answer_id": 56035138, "question_id": 56035023, "link": "https://stackoverflow.com/questions/56035023/ngif-with-generic-string-expression-that-evaluates-bool/56035138#56035138", "title": "*ngIf with generic string expression that evaluates bool", "body": "<p>You cannot put expressions in strings use a Method for that</p>\n\n<pre><code>&lt;div&gt;\n      &lt;p *ngIf='isEmployee'&gt;\n        This will be visible only if employee member is employee.\n      &lt;/p&gt;\n   &lt;/div&gt;\n\n\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n\n  isEmployee = false;\n  constructor() { }\n       hideExpression();\n  ngOnInit() {\n\n  }\n   private hideExpression(){\n     return !this.isEmployee;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 2187, "user_id": 2243747, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8e08b00eeb01b65a9e68ad9d1918bbd7?s=128&d=identicon&r=PG", "display_name": "user2243747", "link": "https://stackoverflow.com/users/2243747/user2243747"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1557299719, "creation_date": 1557298120, "last_edit_date": 1557299337, "question_id": 56035023, "link": "https://stackoverflow.com/questions/56035023/ngif-with-generic-string-expression-that-evaluates-bool", "title": "*ngIf with generic string expression that evaluates bool", "body": "<p>Hi I am trying to writing *ngIf statement which takes generic string as a input which will in-turn return true/false\ne.g.</p>\n\n<p>below is sample component html and ts file.</p>\n\n<pre><code>   &lt;div&gt;\n      &lt;p *ngIf='hideExpression'&gt;\n        This will be visible only if employee member is employee.\n      &lt;/p&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p><strong>users.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n  hideExpression = '';\n  isEmployee = false;\n  constructor() { }\n\n  ngOnInit() {\n    //Note:  I am going to fetch this expression from Database which is stored in string form\n    this.hideExpression = 'isEmployee === true';\n  }\n}\n</code></pre>\n\n<p>My member variable, <code>hideExpression</code> holds a valid string expression which will return either true or false.  How can I use this <code>hideExperssion</code> as a parameter to <code>*ngIf</code></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1557298805, "creation_date": 1557298805, "answer_id": 56035168, "question_id": 56034916, "link": "https://stackoverflow.com/questions/56034916/why-type-is-not-narrowing-down-when-using-intersection-on-union/56035168#56035168", "title": "why type is not narrowing down when using intersection on union", "body": "<p>That is not the way intersections work, an intersection means that the resulting type has to statify all members of the intersection, regardless if that is in fact possible or not.</p>\n\n<p>What you are looking for is the <code>Extract</code> conditional type </p>\n\n<pre><code>type X = { a: 1; b: number } | { a: 2; b: string };\ndeclare const foo: Extract&lt; X, { a: 1 }&gt;\nfoo.b.toFixed(0);\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5520305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7871f195cb236e3b74c544976c07143?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/5520305/konrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56035168, "answer_count": 1, "score": 1, "last_activity_date": 1557298805, "creation_date": 1557297649, "question_id": 56034916, "link": "https://stackoverflow.com/questions/56034916/why-type-is-not-narrowing-down-when-using-intersection-on-union", "title": "why type is not narrowing down when using intersection on union", "body": "<pre><code>type X = { a: 1; b: number } | { a: 2; b: string };\ndeclare const foo: X &amp; { a: 1 };\nfoo.b.toFixed(0);\n//    ~~~~~~~\n// Property 'toFixed' does not exist on type 'string'.\n</code></pre>\n\n<p>I expected that making intersection of <code>X</code> and <code>{ a: 1 }</code> would wipe out  the <code>{ a: 2, \u2026 }</code> part, so that foo would be effectively just <code>{ a: 1; b: number }</code></p>\n\n<p>Why isn't this working?</p>\n"}, {"tags": ["html", "reactjs", "typescript", "events", "enums"], "answers": [{"tags": [], "owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "is_accepted": false, "score": 1, "last_activity_date": 1557307021, "creation_date": 1557307021, "answer_id": 56037344, "question_id": 56034705, "link": "https://stackoverflow.com/questions/56034705/how-to-add-enum-type-for-value-of-htmlinputelement/56037344#56037344", "title": "How to add enum type for value of HTMLInputElement", "body": "<p>That's because e.target.value could be any string.</p>\n\n<p>You probably want to safeguard that the colour is going to be 'red' or 'blue' some other way.</p>\n\n<p>The simplest way is telling the compiler \"I know this colour is going to be red or blue\" using the 'as' keyword:</p>\n\n<pre><code>enum ValidColor {\n  'red',\n  'blue',\n}\n\nclass paintStore {\n  wallColor: ValidColor = 'red';\n\n  onPaintClick = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {\n    this.wallColor = e.target.value as ValidColor;\n  }\n}\n</code></pre>\n\n<p>A better way is to use user defined type guards (more here: <a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html</a>)</p>\n\n<pre><code>enum ValidColor {\n  Red = 'red',\n  Blue = 'blue'\n}\n\nconst validColors: string[] = [ValidColor.Red, ValidColor.Blue];\n\nconst isValidColor = (inputColor: string): inputColor is ValidColor =&gt; {\n  return validColors.indexOf(inputColour) !== -1;\n};\n\nclass paintStore {\n  wallColor: ValidColor = 'red';\n\n  onPaintClick = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {\n    const maybeColor = e.target.value; // here it's a string\n\n    if (isValidColor(maybeColor)) {\n        // inside this block, maybeColor is narrowed to type ValidColor...\n        this.wallColor = maybeColor;\n    }\n\n    // Decide what to do if it's not a valid color here\n  }\n}\n</code></pre>\n\n<p>Notice the return type of the function isValidColor - it tells TypeScript how to adjust the type of the return value.</p>\n"}], "owner": {"reputation": 268, "user_id": 7777814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb169ee0fb793ec4d1fb14361c21b9a?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Ju", "link": "https://stackoverflow.com/users/7777814/dylan-ju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557307021, "creation_date": 1557296665, "question_id": 56034705, "link": "https://stackoverflow.com/questions/56034705/how-to-add-enum-type-for-value-of-htmlinputelement", "title": "How to add enum type for value of HTMLInputElement", "body": "<p>How can I inject custom enum type to value of HTMLInputElement?</p>\n\n<p>I searched typescript document but cannot find to do this.</p>\n\n<pre><code>enum ValidColor {\n  'red',\n  'blue',\n}\n\nclass paintStore {\n  wallColor: ValidColor = 'red';\n\n  onPaintClick = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {\n    this.wallColor = e.target.value // Type 'string' is not assignable to type 'ValidColor'.ts(2322)\n  }\n}\n</code></pre>\n\n<p>I tried to make a custom type but failed. </p>\n\n<pre><code>interface ColorTarget {\n  value: ValidColor;\n}\n\ninterface MyColor extends HTMLInputElement {\n  target: ColorTarget;\n}\n\nonPaintClick = (e: React.ChangeEvent&lt;MyColor&gt;) =&gt; {\n    this.wallColor = e.target.value // it is not working...\n  }\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557296804, "post_id": 56034651, "comment_id": 98712021, "body": "do you want it to refresh it on logging in"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557296873, "post_id": 56034651, "comment_id": 98712050, "body": "Nope I am developing SPA so there is no refresh concept."}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557296922, "post_id": 56034651, "comment_id": 98712076, "body": "yeah I know do you want to update the links list in logging"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297007, "post_id": 56034651, "comment_id": 98712100, "body": "Yes but without refreshing page"}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297094, "post_id": 56034651, "comment_id": 98712133, "body": "yes you can do that just bind the links to the template angular will automatically update your  view"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297143, "post_id": 56034651, "comment_id": 98712153, "body": "I don&#39;t know about it"}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297213, "post_id": 56034651, "comment_id": 98712176, "body": "have you get the links from the database to your angular app"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297323, "post_id": 56034651, "comment_id": 98712230, "body": "Yes everything works but need to refresh the page."}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297388, "post_id": 56034651, "comment_id": 98712263, "body": "is it populated in the perm array"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297533, "post_id": 56034651, "comment_id": 98712310, "body": "I have edited answer check it now"}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297766, "post_id": 56034651, "comment_id": 98712416, "body": "did you correctly imported the module are there no any errors can you please verify by opening dev tools"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557297854, "post_id": 56034651, "comment_id": 98712455, "body": "Yes I have checked everything and there is nor problem.."}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557298190, "post_id": 56034651, "comment_id": 98712591, "body": "does permisonmodule  array get populated"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557298392, "post_id": 56034651, "comment_id": 98712674, "body": "Yes it is.. I think I need to watch on variable changes.."}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557298765, "post_id": 56034651, "comment_id": 98712858, "body": "verify whether it gets populated"}, {"owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "reply_to_user": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557299126, "post_id": 56034651, "comment_id": 98713048, "body": "it is working perfectly"}, {"owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "edited": false, "score": 0, "creation_date": 1557299216, "post_id": 56034651, "comment_id": 98713097, "body": "can you put up the code in stackblitz so I can view it"}], "owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557297807, "creation_date": 1557296443, "last_edit_date": 1557297515, "question_id": 56034651, "link": "https://stackoverflow.com/questions/56034651/dynamic-header-link-not-working-need-refresh-angular-7", "title": "Dynamic header link not working need refresh angular 7", "body": "<p>I am developing role based permission where now I need to display the links on the header and it is coming from the db.</p>\n\n<p>After login I need to refresh the page in order to display dynamic links.</p>\n\n<p>I have used ngx-permission and loading the permission array and checking the permission.</p>\n\n<p>header.component.ts</p>\n\n<pre><code>import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { LoginService } from '../login.service';\nimport { Router } from '@angular/router';\nimport { NgxPermissionsService } from 'ngx-permissions';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n  permissionData = null\n  permissionModule = null\n  useremail = null\n  perm = [];\n\n  constructor(\n    private loginApi: LoginService,\n    private permissionsService: NgxPermissionsService,\n    private http: HttpClient,\n    private router: Router,\n  ) {\n    console.log(\"Header constuctor\")\n  }\n\n  ngOnInit() {\n    console.log('Header initialized')\n    this.useremail = localStorage.getItem('useremail')\n    this.perm.push(this.useremail)\n    // console.log(\"User Email\", this.useremail)\n    this.checkUserPermissions()\n  }\n\n  logout() {\n    this.loginApi.logout()\n    this.router.navigate(['/login'])\n  }\n\n  checkUserPermissions() {\n    let userID = localStorage.getItem('userid')\n    if (userID) {\n      this.loginApi.getAuthenticatedUserPermissions(userID).subscribe(res =&gt; {\n        this.permissionModule = Object.keys(res[0].permissions[0])\n        this.permissionData = res\n        // ngx permission\n        const perm = [];\n        perm.push(this.permissionModule)\n        this.permissionsService.loadPermissions(perm)\n      }, error =&gt; {\n        console.log(error)\n      })\n    }\n  }\n\n}\n</code></pre>\n\n<p>header.component.html</p>\n\n<pre><code>&lt;div *ngIf=\"permissionModule?.length\"&gt;\n        &lt;div *ngxPermissionsOnly=\"dashboard\"&gt;\n          &lt;a routerLink=\"/barcharts\"&gt;Dashboard&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div *ngxPermissionsOnly=\"product management\"&gt;\n          &lt;a routerLink=\"/productmanagement\"&gt;Product Management&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div *ngxPermissionsOnly=\"app userlisting\"&gt;\n          &lt;a routerLink=\"/appuserlisting_new\"&gt;App User Listing&lt;/a&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1557296760, "post_id": 56034629, "comment_id": 98712001, "body": "Ya but I don&#39;t want to add two types here; I only want the one type and the other type can be of type <code>any[]</code> but of the same length"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 1, "creation_date": 1557303424, "post_id": 56034629, "comment_id": 98715105, "body": "@AlekseyL. Your updated solution threw away the type safety for the arguments of the function returned by <code>is</code>."}, {"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1557336014, "post_id": 56034629, "comment_id": 98733531, "body": "The issue is, I want the length imposed on the first argument <code>klasses</code> not on the second argument. The <code>T</code> type is the type for <code>variables</code> and I want to make sure <code>klasses</code> also has the same length (but not necessarily the same type)"}, {"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1557337675, "post_id": 56034629, "comment_id": 98734384, "body": "I updated my answer; that works. If you update your answer, then I can mark it"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1557639787, "post_id": 56034629, "comment_id": 98828589, "body": "@Kousha Unfortunately your update also doesn&#39;t work (try <code>is(Number)(1, 1, 1);</code>). That&#39;s because when wrapper function is resolved <code>T</code> is not yet available, so length will be just a <code>number</code>. Is you&#39;re willing to add extra <code>()</code> after <code>is</code> - my second example does exactly what you need (you don&#39;t need to specify the type of the <code>klasses</code> explicitly, it will be inferred automatically)"}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1557311890, "last_edit_date": 1557311890, "creation_date": 1557296361, "answer_id": 56034629, "question_id": 56034226, "link": "https://stackoverflow.com/questions/56034226/typescript-length-of-a-generic-type/56034629#56034629", "title": "Typescript length of a generic type", "body": "<p>You can query the length of the classes array, then restrict variables length to be the same:</p>\n\n<pre><code>export function is&lt;TClasses extends any[]&gt;(...klasses: TClasses) {\n    return (...variables: any[] &amp; { length: TClasses['length'] }) =&gt; {\n        return variables\n            .every((variable, index) =&gt; variable instanceof klasses[index]);\n    }\n}\n\nis(Number, String)(1, 1); // ok\nis(Number, String)(1); // error: Types of property 'length' are incompatible\n</code></pre>\n\n<p>But in this case you won't be able to specify variables type upfront. If you can change implementation to allow automatic inference of classes type, you can go with:</p>\n\n<pre><code>export function is&lt;T extends any[]&gt;() {\n    return &lt;TClasses extends any[]&gt;(...klasses: TClasses) =&gt;\n        (...variables: T &amp; { length: TClasses['length'] }) =&gt;\n            variables.every((variable, index) =&gt; variable instanceof klasses[index]);\n}\n\nis&lt;string[]&gt;()(Number, String)('1', '1'); // ok\nis&lt;string[]&gt;()(Number, String)(1, 1); // error: not assignable to type 'string[]'\nis()(Number, String)(1); // error: Types of property 'length' are incompatible\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1996, "user_id": 8634147, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-36eQ4qJ6F9o/AAAAAAAAAAI/AAAAAAAADZg/coKQfu-5HzM/photo.jpg?sz=128", "display_name": "Romain Deneau", "link": "https://stackoverflow.com/users/8634147/romain-deneau"}, "edited": false, "score": 0, "creation_date": 1557330744, "post_id": 56036426, "comment_id": 98731120, "body": "Elegant solution :) For the examples, <code>is(Number, String)(1, 1);</code> compiles but returns false, so the <code>&#47;&#47; ok</code> is confusing. Perhaps something like <code>is(Object)({})</code> ?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1557333542, "post_id": 56036426, "comment_id": 98732350, "body": "So here if you&#39;d like to specify the type of variables, you&#39;ll also need to specify the length, which is not desired I think"}, {"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1557336043, "post_id": 56036426, "comment_id": 98733550, "body": "I don&#39;t want to provide two templates, just the one <code>T</code>; this requires sending both"}], "tags": [], "owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "is_accepted": false, "score": 2, "last_activity_date": 1557309949, "last_edit_date": 1557309949, "creation_date": 1557303738, "answer_id": 56036426, "question_id": 56034226, "link": "https://stackoverflow.com/questions/56034226/typescript-length-of-a-generic-type/56036426#56036426", "title": "Typescript length of a generic type", "body": "<p>Here's another solution using a second type argument for the length. I saw that you don't want another type argument, but I'll add it for completeness sake anyway.</p>\n\n<pre><code>export function is&lt;L extends number, T extends any[] &amp; {length: L}&gt;(...klasses: any[] &amp; {length: L}) {\n    return (...variables: T) =&gt; {\n        return variables\n            .every((variable, index) =&gt; variable instanceof klasses[index]);\n    }\n}\n\nis(Number, String)(1, 1); // ok\nis(Number, String)(1); // error\n</code></pre>\n"}], "owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 1, "accepted_answer_id": 56034629, "answer_count": 2, "score": 5, "last_activity_date": 1557337653, "creation_date": 1557294160, "last_edit_date": 1557337653, "question_id": 56034226, "link": "https://stackoverflow.com/questions/56034226/typescript-length-of-a-generic-type", "title": "Typescript length of a generic type", "body": "<p>I have a function that looks like</p>\n\n<pre><code>export function is&lt;T extends any[]&gt;(...klasses): Predictor&lt;T&gt; {\n    return (...variables: T) =&gt; {\n        return variables\n            .every((variable, index) =&gt; variable instanceof klasses[index]);\n    }\n}\n</code></pre>\n\n<p>In this example, I want to make sure <code>klasses</code> is of the same length as the array that <code>T</code> is. How do make <code>klasses</code> of type <code>any[]</code> with the same length as <code>T</code>?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Based on the comments, I've updated this to </p>\n\n<pre><code>export function is&lt;T extends Array&lt;any&gt;&gt;(...klasses: any[] &amp; {length: T['length']}): Predictor&lt;T&gt; {\n    return (...variables: T) =&gt; {\n        return variables\n            .every((variable, index) =&gt; variable instanceof klasses[index]);\n    }\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "lerna"], "answers": [{"tags": [], "owner": {"reputation": 1286, "user_id": 1915011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k8Gw8.jpg?s=128&g=1", "display_name": "\u017dilvinas Rud\u017eionis", "link": "https://stackoverflow.com/users/1915011/%c5%bdilvinas-rud%c5%beionis"}, "is_accepted": true, "score": 0, "last_activity_date": 1557470603, "last_edit_date": 1557470603, "creation_date": 1557406225, "answer_id": 56059850, "question_id": 56034206, "link": "https://stackoverflow.com/questions/56034206/module-not-found-while-importing-nested-module/56059850#56059850", "title": "Module not found while importing nested module", "body": "<p><code>tsconfig.json</code> should have paths that would resolve module dependencies like:</p>\n\n<pre><code>...\n    \"baseUrl\": \"./packages\",\n    \"paths\": {\n      \"package1\": [\"./package1/src\"],\n      \"package1/*\": [\"./package1/src/*\"]\n    }\n...\n\n</code></pre>\n"}], "owner": {"reputation": 1286, "user_id": 1915011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k8Gw8.jpg?s=128&g=1", "display_name": "\u017dilvinas Rud\u017eionis", "link": "https://stackoverflow.com/users/1915011/%c5%bdilvinas-rud%c5%beionis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56059850, "answer_count": 1, "score": 0, "last_activity_date": 1557470603, "creation_date": 1557294029, "last_edit_date": 1557294402, "question_id": 56034206, "link": "https://stackoverflow.com/questions/56034206/module-not-found-while-importing-nested-module", "title": "Module not found while importing nested module", "body": "<p>Suppose that we have <code>package1</code> and <code>package2</code>. If <code>package2</code> tries to import <code>package1</code> module we get an error that says <code>module not found</code>. Import looks like <code>import { ... } from 'package1/styles'</code>. Keep in mind that imports like <code>import { ... } from 'package1'</code> works. In my opinion these import issues are caused because lerna incorrectly links folders. I would expect that <code>node_modules</code> of <code>package2</code> should contain only <code>package1/dist</code> instead of <code>package1</code>. How these import issues should be solved?</p>\n\n<p>Relevant <code>package1</code> files below.</p>\n\n<pre><code>package.json:\n\n...\n\"main\": \"./dist/index.js\",\n\"files\": [\"dist\"]\n...\n</code></pre>\n\n<pre><code>tsconfig.json:\n\n{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/\",\n    \"noImplicitAny\": false,\n    \"declaration\": true,\n    \"jsx\": \"react\",\n    \"allowJs\": false,\n    \"allowSyntheticDefaultImports\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"esnext\", \"dom\"]\n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"**/*.spec.ts\"]\n}\n\n\n</code></pre>\n\n<p>After we run <code>lerna run build</code> we get following directory structure:</p>\n\n<pre><code>packages/package2/node_modules/package1/\n\u251c\u2500\u2500 dist\n\u2502  \u251c\u2500\u2500 index.d.ts\n\u2502  \u251c\u2500\u2500 index.js\n\u2502  \u2514\u2500\u2500 styles\n\u2502     \u251c\u2500\u2500 index.d.ts\n\u2502     \u2514\u2500\u2500 index.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 src\n\u2502  \u251c\u2500\u2500 index.ts\n\u2502  \u2514\u2500\u2500 styles\n\u2502     \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 tsconfig.json\n\u2514\u2500\u2500 webpack.config.js\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "mocha.js", "mocha-webpack"], "comments": [{"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "edited": false, "score": 0, "creation_date": 1564750925, "post_id": 56034177, "comment_id": 101143929, "body": "5th Angular specific error I&#39;ve hit today. This framework is such a timesink."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 8947616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hzfi66wO54Y/AAAAAAAAAAI/AAAAAAAAAuE/7CbQqDvq_3Y/photo.jpg?sz=128", "display_name": "Kushan", "link": "https://stackoverflow.com/users/8947616/kushan"}, "edited": false, "score": 1, "creation_date": 1575027290, "post_id": 58454934, "comment_id": 104440031, "body": "Ya the problem is I needed to test for asynchronous code and removing async is not an option when coming to that part."}], "tags": [], "owner": {"reputation": 104, "user_id": 224255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016e5da2a2c9b8270cc5dea2dd9a58a7?s=128&d=identicon&r=PG", "display_name": "Alexei Eleusis D&#237;az Vera", "link": "https://stackoverflow.com/users/224255/alexei-eleusis-d%c3%adaz-vera"}, "is_accepted": false, "score": 1, "last_activity_date": 1571416508, "creation_date": 1571416508, "answer_id": 58454934, "question_id": 56034177, "link": "https://stackoverflow.com/questions/56034177/how-to-fix-error-expected-to-be-running-in-proxyzone-but-it-was-not-found/58454934#58454934", "title": "How to fix &quot;Error: Expected to be running in &#39;ProxyZone&#39;, but it was not found.&quot; in mocha testing?", "body": "<p>I had the same issue and removing <code>async</code> from <code>beforeEach</code> (and <code>it</code>) solved the problem. The error message is not helpful at all, but I guess is not easy from where it is generated to detect what the root cause is.</p>\n"}, {"tags": [], "owner": {"reputation": 511, "user_id": 1773354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40381462185de8ee6d8f5a81161e28d?s=128&d=identicon&r=PG", "display_name": "Naveen Motwani - AIS", "link": "https://stackoverflow.com/users/1773354/naveen-motwani-ais"}, "is_accepted": false, "score": 1, "last_activity_date": 1577712688, "creation_date": 1577712688, "answer_id": 59531726, "question_id": 56034177, "link": "https://stackoverflow.com/questions/56034177/how-to-fix-error-expected-to-be-running-in-proxyzone-but-it-was-not-found/59531726#59531726", "title": "How to fix &quot;Error: Expected to be running in &#39;ProxyZone&#39;, but it was not found.&quot; in mocha testing?", "body": "<p>Here is the answer to this question.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/48789782/angular-5-testing-expected-to-be-running-in-proxyzone-but-it-was-not-found/50389299\">Angular 5 Testing: Expected to be running in &#39;ProxyZone&#39;, but it was not found</a></p>\n\n<p>Basically this exception is coming because of the incorrect position of an async keyword. Remove the async from beforeEach and add it on \"it\"</p>\n\n<pre><code>it('should be created', fakeAsync(() =&gt; {\n    expect(component).to.exist;\n  });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 807, "user_id": 3089278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/es8KR.jpg?s=128&g=1", "display_name": "Rich Finelli", "link": "https://stackoverflow.com/users/3089278/rich-finelli"}, "edited": false, "score": 3, "creation_date": 1601304681, "post_id": 62872566, "comment_id": 113358623, "body": "This was my problem. I put the fackAsync() around my describe() function by accident instead of around the it() function."}, {"owner": {"reputation": 148, "user_id": 2087831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae009796c3ab12724e416d3a2dad9046?s=128&d=identicon&r=PG", "display_name": "Kevin Boosten", "link": "https://stackoverflow.com/users/2087831/kevin-boosten"}, "edited": false, "score": 2, "creation_date": 1603878204, "post_id": 62872566, "comment_id": 114172904, "body": "\ud83e\udd2c Second time in 1 week I needed to open Google to end up on this SO post \ud83d\ude1c"}], "tags": [], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "is_accepted": true, "score": 21, "last_activity_date": 1594630948, "creation_date": 1594630948, "answer_id": 62872566, "question_id": 56034177, "link": "https://stackoverflow.com/questions/56034177/how-to-fix-error-expected-to-be-running-in-proxyzone-but-it-was-not-found/62872566#62872566", "title": "How to fix &quot;Error: Expected to be running in &#39;ProxyZone&#39;, but it was not found.&quot; in mocha testing?", "body": "<p>I had the same issue when accidentally using <code>fakeAsync</code> in a <code>describe</code> function.</p>\n<p>Removed it solved the issue for me.</p>\n"}, {"comments": [{"owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "edited": false, "score": 0, "creation_date": 1612220191, "post_id": 63083364, "comment_id": 116694008, "body": "Having multiple beforeEach is ok in Karma/Jasmine tests. Also, as <code>compileComponents</code> returns a promise, OP needs the <code>await</code> in there, or use <code>waitForAsync</code>"}], "tags": [], "owner": {"reputation": 11, "user_id": 5322517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4661c37cbf1920fdda753649ab0388?s=128&d=identicon&r=PG", "display_name": "Treysin", "link": "https://stackoverflow.com/users/5322517/treysin"}, "is_accepted": false, "score": 0, "last_activity_date": 1595640511, "creation_date": 1595640511, "answer_id": 63083364, "question_id": 56034177, "link": "https://stackoverflow.com/questions/56034177/how-to-fix-error-expected-to-be-running-in-proxyzone-but-it-was-not-found/63083364#63083364", "title": "How to fix &quot;Error: Expected to be running in &#39;ProxyZone&#39;, but it was not found.&quot; in mocha testing?", "body": "<p>I see a few issues here.</p>\n<p>You have 2 beforeEach. You should only have 1.\nIf you have async on your block of test code, then you need to call await on a function, and/or use flush or tick to progress time.\nI usually use fakeAsync for observables, and async/await for real async methods.</p>\n<p>For this specific example, you shouldn't need the async at all.</p>\n"}], "owner": {"reputation": 157, "user_id": 8947616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hzfi66wO54Y/AAAAAAAAAAI/AAAAAAAAAuE/7CbQqDvq_3Y/photo.jpg?sz=128", "display_name": "Kushan", "link": "https://stackoverflow.com/users/8947616/kushan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4120, "favorite_count": 0, "accepted_answer_id": 62872566, "answer_count": 4, "score": 8, "last_activity_date": 1595640511, "creation_date": 1557293883, "question_id": 56034177, "link": "https://stackoverflow.com/questions/56034177/how-to-fix-error-expected-to-be-running-in-proxyzone-but-it-was-not-found", "title": "How to fix &quot;Error: Expected to be running in &#39;ProxyZone&#39;, but it was not found.&quot; in mocha testing?", "body": "<p>I am trying to test my Tour of Heroes Angular application using <strong><em>mocha</em></strong>, <strong><em>chai</em></strong> &amp; <strong><em>webpack</em></strong>. I have followed <a href=\"https://hichambi.github.io/2016/12/27/testing-angular2-with-webpack-mocha-on-browser-and-node.html\" rel=\"noreferrer\">this post</a> &amp; also with the help of <a href=\"https://www.radzen.com/blog/testing-angular-webpack-mocha/\" rel=\"noreferrer\">this guide</a>, have gone through the setup and got the build errors fixed and tests up and running.</p>\n\n<p>But, my tests fails except for the test case where i don't use the <code>async()</code> in the <code>beforeEach</code> hook.</p>\n\n<h3>Passing Test</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [HttpClientTestingModule],\n      providers: [HeroService, MessageService]\n    });\n    httpTestingController = TestBed.get(HttpTestingController);\n\n    let mockHeroes = [...mockData];\n    let mockHero = mockHeroes[0];\n    // let mockId = mockHero.id;\n\n    heroService = TestBed.get(HeroService);\n  });\n\n  afterEach(() =&gt; {\n    httpTestingController.verify();\n  });\n\n  it('is created', () =&gt; {\n    expect(heroService).to.exist;\n  });\n</code></pre>\n\n<hr>\n\n<h3>Failing Test</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>//imports\nimport { async, ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { DashboardComponent } from './dashboard.component';\nimport { HeroSearchComponent } from '../hero-search/hero-search.component';\n\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { HeroService } from '../hero.service';\nimport { expect } from 'chai';\n\n...\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [DashboardComponent, HeroSearchComponent],\n      imports: [RouterTestingModule.withRoutes([])],\n      providers: [{ provide: HeroService, useValue: heroService }]\n    }).compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(DashboardComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should be created', () =&gt; {\n    expect(component).to.exist;\n  });\n</code></pre>\n\n<hr>\n\n<h3>Error Stack Trace</h3>\n\n<blockquote>\n  <p>1) DashboardComponent</p>\n  \n  <blockquote>\n<pre><code>  \"before each\" hook for \"should be created\":\nError: Expected to be running in 'ProxyZone', but it was not found.\n at Function.ProxyZoneSpec.assertPresent (node_modules\\zone.js\\dist\\proxy.js:42:19)\n at runInTestZone (node_modules\\zone.js\\dist\\async-test.js:202:23)\n at D:\\Practice\\Tour-Of-Heroes\\node_modules\\zone.js\\dist\\async-test.js:185:17\n at new ZoneAwarePromise (node_modules\\zone.js\\dist\\zone-node.js:910:29)\n at Context.&lt;anonymous&gt; (node_modules\\zone.js\\dist\\async-test.js:184:20)\n</code></pre>\n  </blockquote>\n</blockquote>\n\n<p>I have tried <a href=\"https://stackoverflow.com/q/48789782/8947616\">Angular 5 Testing: Expected to be running in &#39;ProxyZone&#39;, but it was not found</a> as I thought this was some error with <em>zone.js</em> using <strong><em>mocha</em></strong>, but without success.</p>\n\n<p>Also, I have tried following <a href=\"https://mochajs.org/#asynchronous-code\" rel=\"noreferrer\">Mocha Documentation</a> for asynchronous testing, but as a beginner, it was somewhat hard for me.</p>\n\n<p>I have tried googling and even in <strong>stack-overflow</strong>, but there are only a limited amount of posts regarding <strong><em>Angular testing</em></strong> with <strong><em>mocha</em></strong>.\nAny help getting through this is appreciated.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-router"], "comments": [{"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1557293320, "post_id": 56034037, "comment_id": 98710870, "body": "You&#39;ll need rewrite URL for any other server as well not just IIS. This is because how SPA handles routing. Basically it sends back the html shell that that SPA loads into."}, {"owner": {"reputation": 6331, "user_id": 1886349, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/HzPmj.jpg?s=128&g=1", "display_name": "SivaRajini", "link": "https://stackoverflow.com/users/1886349/sivarajini"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1557293504, "post_id": 56034037, "comment_id": 98710932, "body": "@penleychan for angular js application i didn&#39;t  add any rewrite URL to run it in server.angular is also SPA."}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1557293799, "post_id": 56034037, "comment_id": 98711034, "body": "Hmm pretty sure you need it for angularjs, I remember seting up one for it  otherwise if you refresh you get 404."}], "owner": {"reputation": 6331, "user_id": 1886349, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/HzPmj.jpg?s=128&g=1", "display_name": "SivaRajini", "link": "https://stackoverflow.com/users/1886349/sivarajini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1123, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1557293288, "creation_date": 1557293060, "last_edit_date": 1557293288, "question_id": 56034037, "link": "https://stackoverflow.com/questions/56034037/why-web-config-is-needed-to-deploy-the-react-application-in-iis", "title": "Why web.config is needed to deploy the react application in IIS", "body": "<p>I am a beginner to react. We have created a small react application which needs to be deployed on the server (IIS). After googled, I came to know need to add web.config to the react project which will take care of URL routing.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n  &lt;system.webServer&gt;\n    &lt;rewrite&gt;\n      &lt;rules&gt;\n        &lt;rule name=\"Static Assets\" stopProcessing=\"true\"&gt;\n          &lt;match url=\"([\\S]+[.](html|htm|svg|js|css|png|gif|jpg|jpeg))\" /&gt;\n          &lt;action type=\"Rewrite\" url=\"/{R:1}\"/&gt;\n        &lt;/rule&gt;\n        &lt;rule name=\"ReactRouter Routes\" stopProcessing=\"true\"&gt;\n          &lt;match url=\".*\" /&gt;\n          &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n            &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n            &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" negate=\"true\" /&gt;\n          &lt;/conditions&gt;\n          &lt;action type=\"Rewrite\" url=\"/index.html\" /&gt;\n        &lt;/rule&gt;\n      &lt;/rules&gt;\n    &lt;/rewrite&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Why we need to add rewrite rules in web.config to deploy react application in IIS. Can I run react application without <code>web.config</code> ?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1557294300, "post_id": 56034112, "comment_id": 98711190, "body": "According to my requirement i don&#39;t want to create a separate component for text area and button i should do it in the same component."}], "tags": [], "owner": {"reputation": 114, "user_id": 4317875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15602ccc41657ef82f1311d4fabc4ff9?s=128&d=identicon&r=PG&f=1", "display_name": "Enrique Olvera", "link": "https://stackoverflow.com/users/4317875/enrique-olvera"}, "is_accepted": false, "score": 0, "last_activity_date": 1557293872, "last_edit_date": 1557293872, "creation_date": 1557293522, "answer_id": 56034112, "question_id": 56034015, "link": "https://stackoverflow.com/questions/56034015/to-display-button-for-the-particular-clicked-item/56034112#56034112", "title": "To display button for the particular clicked item", "body": "<p>You are taking an incorrect approach for creating a component, you are just looping over an array and creating multiple html markup, you need to create a \"mytextareawithbuttons\" component and then in your loop create the instances of your components,  this way each component will handle its own state.</p>\n\n<p>Sample:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-okuqnp\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-okuqnp</a></p>\n"}, {"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1557295547, "post_id": 56034366, "comment_id": 98711577, "body": "Sorry i tried  this approach is not working for me."}, {"owner": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1557295713, "post_id": 56034366, "comment_id": 98711629, "body": "I tried it on stackblitz it works fine. <a href=\"https://stackblitz.com/edit/angular-j7emmz?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-j7emmz?file=src/app/&hellip;</a>"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1557297942, "post_id": 56034366, "comment_id": 98712496, "body": "On blur i need to hide the buttons will you please help me on that."}, {"owner": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1557298956, "post_id": 56034366, "comment_id": 98712951, "body": "add <code>(blur)=&quot;input.showChecklistAction = false&quot;</code> on the <code>&lt;textarea&gt;</code> element, I updated the StackBlitz"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1557299211, "post_id": 56034366, "comment_id": 98713091, "body": "yes but on blur i am already calling the other function in my approach"}, {"owner": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1557299725, "post_id": 56034366, "comment_id": 98713350, "body": "In the <code>(blur)</code> add a semicolon between your function and the <code>input.showChecklistAction = false</code>"}], "tags": [], "owner": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "is_accepted": true, "score": 1, "last_activity_date": 1557300007, "last_edit_date": 1557300007, "creation_date": 1557294944, "answer_id": 56034366, "question_id": 56034015, "link": "https://stackoverflow.com/questions/56034015/to-display-button-for-the-particular-clicked-item/56034366#56034366", "title": "To display button for the particular clicked item", "body": "<p>A possible approach if you wanna keep the structure of your code the same is to use a template variable on the <code>*ngFor</code> element:</p>\n\n<h3>Template:</h3>\n\n<pre><code>&lt;div *ngFor=\"let loop of feeds\" #input&gt;\n&lt;label&gt;\n  &lt;textarea (focus)=\"input.showChecklistAction = true\" &gt;&lt;/textarea&gt;    \n\n  &lt;div *ngIf=\"input.showChecklistAction === true\"&gt;\n    &lt;button style=\"margin:5px\" (click)=\"updateSubtask(subtask)\"&gt;Save&lt;/button&gt;\n    &lt;button type=\"button\" class=\"site_btn no_bg_btn btn comment_btn bold\" (click)=\"input.showChecklistAction = false; \"&gt;X&lt;/button&gt;\n  &lt;/div&gt;\n\n&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-j7emmz\" rel=\"nofollow noreferrer\">Stackblitz Example</a></p>\n\n<p>You could also use the <code>loop</code> instead of a template variable element but that will modify your binded value (the element in your feeds array will have the extra parameter <code>showChecklistAction</code>), so pick the approach that suits most.</p>\n\n<p><em>Note that the buttons stay visible when you unfocus the element, but I guess that's fine since you added the <code>X</code> button for that.</em></p>\n"}, {"tags": [], "owner": {"reputation": 2077, "user_id": 1032655, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8d3e47cb7b09b87068e569c240fac17?s=128&d=identicon&r=PG", "display_name": "Obaid", "link": "https://stackoverflow.com/users/1032655/obaid"}, "is_accepted": false, "score": 0, "last_activity_date": 1557295667, "creation_date": 1557295667, "answer_id": 56034492, "question_id": 56034015, "link": "https://stackoverflow.com/questions/56034015/to-display-button-for-the-particular-clicked-item/56034492#56034492", "title": "To display button for the particular clicked item", "body": "<p>Since you are iterating over a loop, setting <strong>showChecklistAction = true</strong> shall show button controls for all array items. What you need is to track each individual array items to show / hide button controls.</p>\n\n<p>One approach could be to modify your <strong>feeds</strong> array and add a field <strong>isFocused</strong>, like this..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>       feeds = [\r\n    {\r\n        name:'input1',\r\n        isFocused:false\r\n    },\r\n    {\r\n         name:'input2',\r\n         isFocused:false\r\n    }\r\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Your component html code will change like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   \r\n   &lt;div *ngFor=\"let loop of feeds\"&gt;\r\n    &lt;label &gt;\r\n    &lt;textarea                                \r\n    (focus)=\"loop.isFocused = true\" &gt;&lt;/textarea&gt;    \r\n    \r\n    &lt;div *ngIf=\"loop.isFocused === true\"&gt;\r\n   &lt;button style=\"margin:5px\" (click)=\"updateSubtask(subtask)\"&gt;Save&lt;/button&gt;\r\n  &lt;button type=\"button\" class=\"site_btn no_bg_btn btn comment_btn bold\" (click)=\"loop.isFocused = false; \"&gt;X&lt;/button&gt;\r\n&lt;/div&gt;&lt;/label&gt;\r\n   &lt;/div&gt;\r\n   </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is a working <a href=\"https://stackblitz.com/edit/angular-g7gvwu\" rel=\"nofollow noreferrer\">StackBlitz</a> link.</p>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56034366, "answer_count": 3, "score": 0, "last_activity_date": 1557300007, "creation_date": 1557292947, "question_id": 56034015, "link": "https://stackoverflow.com/questions/56034015/to-display-button-for-the-particular-clicked-item", "title": "To display button for the particular clicked item", "body": "<p>In my component i have one input field <code>i,e text area</code>. On clicking to particular <code>text area/ text box</code> i am showing the button like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XX4Ue.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XX4Ue.png\" alt=\"enter image description here\"></a></p>\n\n<p>This functionality is working fine </p>\n\n<ul>\n<li><p><strong>when i click on particular area i want show button(i,e SAVE) for that clicked text area only</strong>.</p></li>\n<li><p>But on clicking <strong>text area</strong> the button(SAVE) is showing for all text areas as in the above image. </p></li>\n</ul>\n\n<p><strong>CODE:</strong></p>\n\n<p><strong>Template:</strong></p>\n\n<pre><code> &lt;div *ngFor=\"let loop of feeds\"&gt;\n    &lt;label &gt;\n    &lt;textarea                                \n    (focus)=\"showChecklistAction = true\" &gt;&lt;/textarea&gt;    \n\n    &lt;div *ngIf=\"showChecklistAction === true\"&gt;\n   &lt;button style=\"margin:5px\" (click)=\"updateSubtask(subtask)\"&gt;Save&lt;/button&gt;\n  &lt;button type=\"button\" class=\"site_btn no_bg_btn btn comment_btn bold\" (click)=\"showChecklistAction = false; \"&gt;X&lt;/button&gt;\n&lt;/div&gt;&lt;/label&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p><strong>TS:</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n\n   feeds = [\n    {\n        name:'input1',\n    },\n    {\n         name:'input2',\n    }\n\n\n  ]\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-qadlcq?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"}, {"tags": ["javascript", "arrays", "typescript", "reverse"], "comments": [{"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1557293249, "post_id": 56034012, "comment_id": 98710848, "body": "@CertainPerformance Why the <code>console.log</code> dupe target? The problem is <code>this.reversedArray = this.defaultArray;</code> because it doesn&#39;t create a copy of the array."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 3, "creation_date": 1557293344, "post_id": 56034012, "comment_id": 98710881, "body": "@Andreas The array is logged and <i>then</i> reversed, but when the console is opened and the array is examined, it will be <code>54321</code> because <code>console.log</code> examines objects only on demand (it doesn&#39;t deep-save the state of the object as it was when it was logged). The linked console.log question describes why he&#39;s seeing <code>54321</code> (and why the reverse <i>seems</i> to be happening too fast)"}, {"owner": {"reputation": 622, "user_id": 4843155, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-UDOzw4iOdUE/AAAAAAAAAAI/AAAAAAAAADw/CiJCP9PE_zg/photo.jpg?sz=128", "display_name": "Torben G", "link": "https://stackoverflow.com/users/4843155/torben-g"}, "edited": false, "score": 0, "creation_date": 1557293362, "post_id": 56034012, "comment_id": 98710884, "body": "Yes, I found the solution. Simple .slice() and it works... :D"}, {"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 1, "creation_date": 1557293519, "post_id": 56034012, "comment_id": 98710935, "body": "@TorbenG Note that <code>defaultArray</code> and <code>reversedArray</code> point to the same object. Both will contain the reversed array after your code has run."}], "owner": {"reputation": 622, "user_id": 4843155, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-UDOzw4iOdUE/AAAAAAAAAAI/AAAAAAAAADw/CiJCP9PE_zg/photo.jpg?sz=128", "display_name": "Torben G", "link": "https://stackoverflow.com/users/4843155/torben-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1557293020, "answer_count": 0, "score": 1, "last_activity_date": 1557293081, "creation_date": 1557292930, "question_id": 56034012, "link": "https://stackoverflow.com/questions/56034012/reverse-array-in-typescript-is-too-fast", "closed_reason": "Duplicate", "title": "Reverse Array in TypeScript is too fast", "body": "<p>I have a little problem with TypeScript. I want to reverse an Array. But before I reverse my Array, I want to write in into a local Storage.</p>\n\n<p>The problem is, that I call the method to store the data <strong>before</strong> I call the method to reverse my array. But the stored data are already reversed. </p>\n\n<p>Here is an example code and <a href=\"https://www.typescriptlang.org/play/#src=class%20TSRunner%20%7B%0D%0A%20%20%20%20%0D%0A%20%20%20%20defaultArray%20%3D%20%5B%5D%0D%0A%20%20%20%20reversedArray%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%0D%0A%20%20%20%20fillArray()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.defaultArray%20%3D%20%5B1%2C%202%2C%203%2C%204%2C%205%5D%3B%0D%0A%20%20%20%20%20%20%20%20this.reversedArray%20%3D%20this.defaultArray%3B%0D%0A%20%20%20%20%20%20%20%20console.log(this.reversedArray)%3B%0D%0A%20%20%20%20%20%20%20%20this.reversedArray.reverse()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%0D%0A%7D%0D%0A%0D%0Alet%20runner%20%3D%20new%20TSRunner()%3B%0D%0A%0D%0Arunner.fillArray()%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">here is the Playground</a>:</p>\n\n<pre><code>class TSRunner {\n\n    defaultArray = []\n    reversedArray = [];\n\n\n    fillArray() {\n        this.defaultArray = [1, 2, 3, 4, 5];\n        this.reversedArray = this.defaultArray;\n        console.log(this.reversedArray);\n        this.reversedArray.reverse();\n    }\n\n\n}\n\nlet runner = new TSRunner();\n\nrunner.fillArray();\n</code></pre>\n\n<p>The output is already 5,4,3,2,1. But I want to get the 1,2,3,4,5 and after that, I want to reverse it. Maybe you could explain me this behaviour. I think it has something todo with the call by reference stuff. \nThanks before ;)</p>\n"}, {"tags": ["node.js", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1557289348, "creation_date": 1557289348, "answer_id": 56033507, "question_id": 56033494, "link": "https://stackoverflow.com/questions/56033494/build-npm-package-with-desired-file-structure/56033507#56033507", "title": "Build npm package with desired file structure", "body": "<p>Your <a href=\"https://basarat.gitbooks.io/typescript/content/docs/quick/library.html\" rel=\"nofollow noreferrer\">package.json is missing a <code>types</code> entry</a>. It should match your <code>main</code> entry. Also your main should point to the <code>dist</code> folder as well. </p>\n\n<h1>Fixed Version</h1>\n\n<pre><code>\"main\": \"./dist/index.js\",\n\"types\" : \"./dist/index.d.ts\",\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 5740953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-YI2ciYCG72g/AAAAAAAAAAI/AAAAAAAAAwY/yTTAtgZxzLA/photo.jpg?sz=128", "display_name": "user5740953", "link": "https://stackoverflow.com/users/5740953/user5740953"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 56033507, "answer_count": 1, "score": 0, "last_activity_date": 1557289348, "creation_date": 1557289239, "question_id": 56033494, "link": "https://stackoverflow.com/questions/56033494/build-npm-package-with-desired-file-structure", "title": "Build npm package with desired file structure", "body": "<p>I have created a simple typescript project to export ENUMS, I successfully compile the project. tsconfig.json and package.json below.\nI use the npm command to pack it and npm publish it also. I install the same package to a new project and I import the same with the code </p>\n\n<pre><code>import Numbers = require('@hk18/export/dist');\n</code></pre>\n\n<p>while I want to be like </p>\n\n<pre><code>import Numbers = require('@hk18/export');\n</code></pre>\n\n<p>It is including the dest folder in the package why so ?</p>\n\n<pre><code>{   \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"outDir\": \"./dist\",\n    \"moduleResolution\": \"node\",\n    \"declaration\": true   },   \"include\": [\n    \"src/**/*.ts\",\n    \"index.ts\"   ] }\n\n___________________________________________________________\n\n{   \"name\": \"@hk18/export\",   \"version\": \"2.0.0\",   \"description\": \"test project to create npm package\",   \"main\": \"index.js\",   \"scripts\": {\n    \"build\": \"tsc\",\n    \"build:watch\": \"tsc --watch\",\n    \"lint\": \"tslint --project \\\"./tsconfig.json\\\"\",\n    \"test\": \"mocha --reporter spec\",\n    \"docs\": \"typedoc --out docs src\",\n    \"gh-pages\": \"rimraf docs &amp;&amp; npm run docs &amp;&amp; gh-pages -d docs\"   },   \"author\": \"HK\",   \"license\": \"ISC\", }\n</code></pre>\n"}]