[{"tags": ["javascript", "typescript", "types", "switch-statement", "discriminated-union"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1535590025, "post_id": 52087511, "comment_id": 91125913, "body": "looks like a bug, I created <a href=\"https://github.com/Microsoft/TypeScript/issues/26758\" rel=\"nofollow noreferrer\">this issue</a>"}, {"owner": {"reputation": 4707, "user_id": 761861, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/qO36K.jpg?s=128&g=1", "display_name": "prmph", "link": "https://stackoverflow.com/users/761861/prmph"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1535590392, "post_id": 52087511, "comment_id": 91125978, "body": "Thanks @artem for submitting this issue, I will follow it"}], "answers": [{"comments": [{"owner": {"reputation": 4707, "user_id": 761861, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/qO36K.jpg?s=128&g=1", "display_name": "prmph", "link": "https://stackoverflow.com/users/761861/prmph"}, "edited": false, "score": 1, "creation_date": 1535590871, "post_id": 52087861, "comment_id": 91126059, "body": "Yes, @McCutchen, I believe your example is what I saw before. I&#39;m regularly surprised at how little it takes for Typescript inference to fail.  We&#39;ll see what comes out of this issue."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1535590349, "creation_date": 1535590349, "answer_id": 52087861, "question_id": 52087511, "link": "https://stackoverflow.com/questions/52087511/typescript-tagged-union-not-type-checked-in-switch-statements/52087861#52087861", "title": "Typescript Tagged union not type-checked in switch statements", "body": "<p>The problem comes down to this code in <code>checkSwitchStatement</code> in the <a href=\"https://raw.githubusercontent.com/Microsoft/TypeScript/cea49dfb0d2a8d1bb440c287374c3401f67eed84/src/compiler/checker.ts\" rel=\"nofollow noreferrer\">checker</a>, which has been there since 2016:</p>\n\n<pre><code>                let caseType = checkExpression(clause.expression);\n                const caseIsLiteral = isLiteralType(caseType);\n                let comparedExpressionType = expressionType;\n                if (!caseIsLiteral || !expressionIsLiteral) {\n                    caseType = caseIsLiteral ? getBaseTypeOfLiteralType(caseType) : caseType;\n                    comparedExpressionType = getBaseTypeOfLiteralType(expressionType);\n                }\n                if (!isTypeEqualityComparableTo(comparedExpressionType, caseType)) {\n                    // expressionType is not comparable to caseType, try the reversed check and report errors if it fails\n                    checkTypeComparableTo(caseType, comparedExpressionType, clause.expression, /*headMessage*/ undefined);\n                }\n</code></pre>\n\n<p>(There is similar code that affects a direct comparison <code>x === \"x\"</code>.)</p>\n\n<p>The rules for <code>a === b</code> and the analogous switch statement are based on the concept of bidirectional type \"comparability\", which (omitting a lot of detail that is irrelevant here) says that a union constituent of one side has to be assignable to a union constituent of the other side.  This is supposed to be a heuristic for whether the types of the two sides overlap.  The heuristic works well for the ways objects are typically used but not so well for primitives, where (for example) if the type of <code>a</code> is some type parameter <code>T</code> constrained by <code>string</code>, we want to be able to compare it to <code>\"x\"</code>; neither <code>T</code> nor <code>\"x\"</code> is known to be assignable to the other, but <code>T</code> may include <code>\"x\"</code>.  So when one side of the comparison is a union of literals but the other is not, the code replaces the side that is a union of literals by the underlying primitive type.  That case is triggering in your code, where <code>\"x\"</code> is a literal and <code>T[\"type\"]</code> is not itself a literal, though it is <em>constrained</em> by a union of literals.</p>\n\n<p>I think we should file an issue proposing that your code should give a compile error.  And after I wrote that sentence, I saw artem filed an issue, so I will add my analysis there.</p>\n\n<p>Re your belief that you got an error before, maybe you were thinking of the following code.  The type of a property access on a type parameter is eagerly resolved if possible based on the constraint of the type parameter, so <code>y.type</code> is considered as having type <code>\"a\" | \"b\"</code>, and both sides of the comparison are a union of literal types, so the special case does not apply.</p>\n\n<pre><code>type A = {type :\"a\"}\ntype B = {type :\"b\"}\ntype Any = A | B\n\nfunction get&lt;T extends Any&gt;(y: T): T | undefined {\n    switch (y.type) {\n        case \"x\": return undefined\n        default: return undefined\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4707, "user_id": 761861, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/qO36K.jpg?s=128&g=1", "display_name": "prmph", "link": "https://stackoverflow.com/users/761861/prmph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1535590349, "creation_date": 1535586890, "question_id": 52087511, "link": "https://stackoverflow.com/questions/52087511/typescript-tagged-union-not-type-checked-in-switch-statements", "title": "Typescript Tagged union not type-checked in switch statements", "body": "<p>I'm using Typescript 3.0.1. In the code below, why is there no compiler error on line 7? I used to have this behavior before; has it been taken out of Typescript or is there some weird regression?</p>\n\n<pre><code>type A = {type :\"a\"}\ntype B = {type :\"b\"}\ntype Any = A | B\n\nfunction get&lt;T extends Any&gt;(x: T[\"type\"]): T|undefined {\n    switch (x) {\n        case \"x\": return undefined\n        default: return undefined\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 1219, "user_id": 1626866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62ec4bd45aeb5ad920ec4ac8a7df24b?s=128&d=identicon&r=PG", "display_name": "BobtheMagicMoose", "link": "https://stackoverflow.com/users/1626866/bobthemagicmoose"}, "is_accepted": true, "score": 1, "last_activity_date": 1535649619, "creation_date": 1535649619, "answer_id": 52102416, "question_id": 52087405, "link": "https://stackoverflow.com/questions/52087405/angular-6-background-image-crossfade-animation/52102416#52102416", "title": "Angular 6 background image crossfade animation", "body": "<p>The trouble that you are having is that <code>transform: 'translateY(-100%)'</code> positions the elements and then applies the transform after they are positions. Thus, the way that you have it set up is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/W6qAG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W6qAG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The boxes indicate where the images are positioned, with yellow being the first image and red being the second. What you will want to do is <code>position:absolute</code> your images (with the container being <code>position:relative</code> and transition from <code>bottom: \"100%\"</code> to <code>top:\"100%\"</code></p>\n\n<p><a href=\"https://angular-gwxfta.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-gwxfta.stackblitz.io</a></p>\n"}, {"comments": [{"owner": {"reputation": 1219, "user_id": 1626866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62ec4bd45aeb5ad920ec4ac8a7df24b?s=128&d=identicon&r=PG", "display_name": "BobtheMagicMoose", "link": "https://stackoverflow.com/users/1626866/bobthemagicmoose"}, "edited": false, "score": 1, "creation_date": 1535741352, "post_id": 52103696, "comment_id": 91193707, "body": "Welcome! It was fun to try to figure it out! :D"}], "tags": [], "owner": {"reputation": 133, "user_id": 9614876, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jakub Rusinowicz", "link": "https://stackoverflow.com/users/9614876/jakub-rusinowicz"}, "is_accepted": false, "score": 1, "last_activity_date": 1535655388, "creation_date": 1535655388, "answer_id": 52103696, "question_id": 52087405, "link": "https://stackoverflow.com/questions/52087405/angular-6-background-image-crossfade-animation/52103696#52103696", "title": "Angular 6 background image crossfade animation", "body": "<p>I have left <code>transformY(-100%)</code> and just added <code>position: relative</code> to parent container, and <code>position: absolute</code> to children divs and it works as I wanted. Thank you so much.</p>\n\n<p>Link to working code on <a href=\"https://stackblitz.com/edit/angular-w9srri\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}], "owner": {"reputation": 133, "user_id": 9614876, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jakub Rusinowicz", "link": "https://stackoverflow.com/users/9614876/jakub-rusinowicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1809, "favorite_count": 1, "accepted_answer_id": 52102416, "answer_count": 2, "score": 2, "last_activity_date": 1535655388, "creation_date": 1535585878, "last_edit_date": 1535652924, "question_id": 52087405, "link": "https://stackoverflow.com/questions/52087405/angular-6-background-image-crossfade-animation", "title": "Angular 6 background image crossfade animation", "body": "<p>I have a problem with an animation in angular 6. I'm not sure if i'm doing everything right, but i have prepared stackblitz with a part of code of my component.</p>\n\n<p>What I want to achieve is smooth animation when the item appears when *ngIf statment is fulfilled, but now it looks like the states of two children elements placed in crossfade-images component are treated like one element (i'm not sure if my assumptions are correct). But i wanted to do something looking like: on first load first item slides down from the top, after some interval this item should slide down, and in the same time another child of crossfade-images should slide from the top and it should happen in infinite loop</p>\n\n<p>Could you guys check my stackblitz and give me a hand? </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-w9srri\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}, {"tags": ["javascript", "typescript", "react-redux"], "comments": [{"owner": {"reputation": 5223, "user_id": 5286034, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ORn53eHlUkA/AAAAAAAAAAI/AAAAAAAAAE8/IdiDoEGDbcg/photo.jpg?sz=128", "display_name": "\u0418\u043b\u044c\u044f \u0417\u0435\u043b\u0435\u043d\u044c\u043a\u043e", "link": "https://stackoverflow.com/users/5286034/%d0%98%d0%bb%d1%8c%d1%8f-%d0%97%d0%b5%d0%bb%d0%b5%d0%bd%d1%8c%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1535580222, "post_id": 52086664, "comment_id": 91123635, "body": "this.props.notificationList.every(item =&gt; item.Level === &quot;error&quot;)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6584711"}, "edited": false, "score": 0, "creation_date": 1535581254, "post_id": 52086688, "comment_id": 91123948, "body": "AWESOME. IT WORKED"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1535580268, "creation_date": 1535580268, "answer_id": 52086688, "question_id": 52086664, "link": "https://stackoverflow.com/questions/52086664/compare-all-the-values-in-the-list-by-mapping/52086688#52086688", "title": "Compare all the values in the list by mapping", "body": "<blockquote>\n  <p>I have a list of values and i need a way to write the conditional statement to check all the values in the listthis code stores a list of values</p>\n</blockquote>\n\n<ul>\n<li>If any single error is a failure</li>\n</ul>\n\n<p>Use Array.prototype.some : <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some</a> </p>\n\n<p>e.g. <code>this.props.notificationList[0].Level === \"error\"</code> becomes: </p>\n\n<pre><code>this.props.notificationList.some(n =&gt; n.Level===\"error\");\n</code></pre>\n\n<ul>\n<li>If all errors are considered a failure</li>\n</ul>\n\n<p>Use <code>every</code> instead of <code>some</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 201, "user_id": 3889679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e65aba26564bcbb5210cfbd1eeeacc8?s=128&d=identicon&r=PG&f=1", "display_name": "David Z.", "link": "https://stackoverflow.com/users/3889679/david-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1535580393, "creation_date": 1535580393, "answer_id": 52086719, "question_id": 52086664, "link": "https://stackoverflow.com/questions/52086664/compare-all-the-values-in-the-list-by-mapping/52086719#52086719", "title": "Compare all the values in the list by mapping", "body": "<p>To return a new ordered array where each item in the new array is whether or not the corresponding item has an error:</p>\n\n<pre><code>const errorsList = this.props.notificationList.map(item =&gt; item.Level === \"error\");\n</code></pre>\n\n<p>To return a single boolean indicating if any item has an error:</p>\n\n<pre><code>const anyError = this.props.notificationList.some(item =&gt; item.Level === \"error\");\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6584711"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 52086688, "answer_count": 2, "score": 0, "last_activity_date": 1535580854, "creation_date": 1535580119, "last_edit_date": 1535580660, "question_id": 52086664, "link": "https://stackoverflow.com/questions/52086664/compare-all-the-values-in-the-list-by-mapping", "title": "Compare all the values in the list by mapping", "body": "<p>I have a conditional statement to compare if the value is error or not. I have a list of values and I need a way to write the conditional statement to check all the values in the list. This is the code that stores a list of values:</p>\n\n<p><img src=\"https://i.stack.imgur.com/cpRKN.png\" alt=\"screenshot of code with the debugger showing the contents of this.props.notificationList\"></p>\n\n<p>I am writing the below conditional code but I could only get the first element in the array. I need a possible way to check the entire list and compare it here.</p>\n\n<pre><code>this.props.notificationList[0].Level === \"error\" \n</code></pre>\n"}, {"tags": ["javascript", "typescript", "compiler-errors"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1535579245, "post_id": 52086480, "comment_id": 91123342, "body": "<code>console</code> should be lowercase, eg: <code>console.log(&quot;Something&quot;)</code>, <b>not</b> <code>Console.log(&quot;Something&quot;)</code>."}, {"owner": {"reputation": 61, "user_id": 10112543, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xwcgLe9Y9HU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qwwdytv2wS2U4g2r_UByP83hjWUw/mo/photo.jpg?sz=128", "display_name": "AdamC", "link": "https://stackoverflow.com/users/10112543/adamc"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1535579521, "post_id": 52086480, "comment_id": 91123426, "body": "@CRice well don&#39;t I feel silly. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 5, "last_activity_date": 1535579485, "creation_date": 1535579485, "answer_id": 52086564, "question_id": 52086480, "link": "https://stackoverflow.com/questions/52086480/typescript-error-property-log-does-not-exist-on-type-console-log/52086564#52086564", "title": "typescript error: Property &#39;log&#39; does not exist on type {...} - Console.log()", "body": "<p><code>Console.log(\"...\")</code> should be <code>console.log(\"...\")</code> (lowercase <code>c</code>). This is TypeScript helping you preventing a mistake.</p>\n"}], "owner": {"reputation": 61, "user_id": 10112543, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xwcgLe9Y9HU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qwwdytv2wS2U4g2r_UByP83hjWUw/mo/photo.jpg?sz=128", "display_name": "AdamC", "link": "https://stackoverflow.com/users/10112543/adamc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1263, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535579485, "creation_date": 1535579047, "last_edit_date": 1535579307, "question_id": 52086480, "link": "https://stackoverflow.com/questions/52086480/typescript-error-property-log-does-not-exist-on-type-console-log", "title": "typescript error: Property &#39;log&#39; does not exist on type {...} - Console.log()", "body": "<p>I have typescript files that are compiled into JavaScript files which ultimately run within a web application. My ultimate aim is to have timers in these compiled JavaScript files so I can log how long it's taking for blocks of code to execute. In order to do this, I need to learn how to output data to a log file, and this (at its most basic) requires me to have some sort of <code>Console.log('Whatever I want to log')</code> statement in my JavaScript. I'm starting off small and then building off the baby steps.</p>\n\n<p>Since the typescript is compiled into JavaScript, I have to put any logging and timer code into the typescript first so that it will compile to JavaScript. </p>\n\n<p>I tried putting <code>Console.log(\"...\")</code> into the typescript so that it would compile to the JavaScript and ultimately output \"...\" when the JS code was run. But during compiling, I got an error:</p>\n\n<p><code>\"Property 'log' does not exist on type '{ new (): Console; prototype: Console; }'\"</code></p>\n\n<ol>\n<li>Why is this happening?</li>\n<li>What can I do to make sure that any \"javascript code\" that I have to first write in typescript gets compiled correctly?</li>\n</ol>\n\n<p>Obviously, I'm a complete newbie with any of this but my task remains nonetheless. </p>\n"}, {"tags": ["javascript", "typescript", "interface", "optional"], "answers": [{"comments": [{"owner": {"reputation": 539, "user_id": 8303183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed052ba6ed5950780d8b971c20cd419f?s=128&d=identicon&r=PG&f=1", "display_name": "James Middleton", "link": "https://stackoverflow.com/users/8303183/james-middleton"}, "edited": false, "score": 0, "creation_date": 1535581357, "post_id": 52086629, "comment_id": 91123980, "body": "Seems like you&#39;re right. Not sure what I was doing before!"}, {"owner": {"reputation": 539, "user_id": 8303183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed052ba6ed5950780d8b971c20cd419f?s=128&d=identicon&r=PG&f=1", "display_name": "James Middleton", "link": "https://stackoverflow.com/users/8303183/james-middleton"}, "edited": false, "score": 0, "creation_date": 1535581393, "post_id": 52086629, "comment_id": 91123990, "body": "Is there any way to extend an interface inline though in this case in the function&#39;s return signature?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 539, "user_id": 8303183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed052ba6ed5950780d8b971c20cd419f?s=128&d=identicon&r=PG&f=1", "display_name": "James Middleton", "link": "https://stackoverflow.com/users/8303183/james-middleton"}, "edited": false, "score": 1, "creation_date": 1535581816, "post_id": 52086629, "comment_id": 91124104, "body": "The <code>Example &amp; {optionalString: string}</code> syntax you originally used is working for me."}, {"owner": {"reputation": 539, "user_id": 8303183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed052ba6ed5950780d8b971c20cd419f?s=128&d=identicon&r=PG&f=1", "display_name": "James Middleton", "link": "https://stackoverflow.com/users/8303183/james-middleton"}, "edited": false, "score": 0, "creation_date": 1535582217, "post_id": 52086629, "comment_id": 91124215, "body": "I believe the <code>&amp;</code> operator is an intersection and so will work in this case (as it is solely the intersection which is needed). This will only allow properties common to the left and right of the ampersand to be <i>returned</i>."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 539, "user_id": 8303183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed052ba6ed5950780d8b971c20cd419f?s=128&d=identicon&r=PG&f=1", "display_name": "James Middleton", "link": "https://stackoverflow.com/users/8303183/james-middleton"}, "edited": false, "score": 1, "creation_date": 1535582304, "post_id": 52086629, "comment_id": 91124237, "body": "<code>&amp;</code> means an intersection of <i>types</i>, not of sets of properties: <code>A &amp; B</code> is the type of objects that are of both type <code>A</code> and type <code>B</code>.  Any such object must have the <i>union</i> of the properties of <code>A</code> and <code>B</code>."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1535579923, "creation_date": 1535579923, "answer_id": 52086629, "question_id": 52086442, "link": "https://stackoverflow.com/questions/52086442/forcing-an-optional-interface-property-to-be-defined/52086629#52086629", "title": "Forcing an optional interface property to be defined", "body": "<p>The interface extension works for me <a href=\"https://www.typescriptlang.org/play/#src=interface%20Example%20%7B%0D%0A%20%20%20%20optionalString%3F%3A%20string%0D%0A%20%20%20%20%2F%2F%20...%20other%20props%0D%0A%7D%0D%0Ainterface%20ExampleExtension%20extends%20Example%20%7B%0D%0A%20%20%20%20optionalString%3A%20string%20%2F%2F%20notice%20no%20&#39;%3F&#39;%0D%0A%20%20%20%20%2F%2F%20...%20other%20props%0D%0A%7D%0D%0Alet%20ee%3A%20ExampleExtension%3B%0D%0Alet%20e%3A%20Example%20%3D%20ee%3B%0D%0A\" rel=\"nofollow noreferrer\">on the playground</a>.  If it still doesn't work for you, please add code sufficient to reproduce the problem to the question.</p>\n"}], "owner": {"reputation": 539, "user_id": 8303183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed052ba6ed5950780d8b971c20cd419f?s=128&d=identicon&r=PG&f=1", "display_name": "James Middleton", "link": "https://stackoverflow.com/users/8303183/james-middleton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 52086629, "answer_count": 1, "score": 0, "last_activity_date": 1535579923, "creation_date": 1535578820, "last_edit_date": 1535579372, "question_id": 52086442, "link": "https://stackoverflow.com/questions/52086442/forcing-an-optional-interface-property-to-be-defined", "title": "Forcing an optional interface property to be defined", "body": "<p>Say I have the following interface:</p>\n\n<pre><code>interface Example {\n    optionalString?: string\n    // ... other props\n}\n</code></pre>\n\n<p>And I have a function taking a <code>Example</code> as a parameter. I know the return type syntax is bogus.</p>\n\n<pre><code>function ensureDefined (example : Example) : Example &amp; {optionalString: string}\n</code></pre>\n\n<p>The idea of this function is to ensure that the property <code>optionalString</code> of <code>example</code> is defined and that object returned. In which case, every time I wish to access the <code>optionalString</code> property, I don't need to do an <code>if(example.optionalString){}</code>.</p>\n\n<p>I have tried creating an extension of the interface like so:</p>\n\n<pre><code>interface ExampleExtension extends Example {\n    optionalString: string // notice no '?'\n    // ... other props\n}\n</code></pre>\n\n<p>But then this one is not assignable back onto a variable with a type of the base interface.</p>\n\n<p>Am I overcomplicating this? Should I just have two separate variables with two different types?</p>\n"}, {"tags": ["node.js", "typescript", "model", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1535583956, "creation_date": 1535583956, "answer_id": 52087211, "question_id": 52086365, "link": "https://stackoverflow.com/questions/52086365/sequelize-typescript-common-method-for-get-in-a-model/52087211#52087211", "title": "sequelize-typescript: Common Method for get() in a model", "body": "<p>The simplest thing would be to define your common function outside the <code>Person</code> class:</p>\n\n<pre><code>import {Table, Column, Model, DataType} from 'sequelize-typescript';\n\nfunction getDayOfField(field: string, instance: Model&lt;any&gt;) {\n    let value : Date = instance.getDataValue(field);\n    return value.getDay();\n}\n\n@Table({\n    timestamps: false,\n    freezeTableName: true,\n    schema: 'TEST',\n    tableName: 'Person'\n})\nexport class Person extends Model&lt;Person&gt; {\n    @Column({ type: DataType.STRING, primaryKey: true })\n    ID: string;\n    @Column(DataType.STRING)\n    NAME: string;      \n    @Column({type:DataType.DATEONLY,\n        get(){ return getDayOfField('START_DATE', this); }})\n    START_DATE: Date;\n    @Column({type:DataType.DATEONLY,\n        get(){ return getDayOfField('END_DATE', this); }})\n    END_DATE: Date;\n    @Column({type:DataType.DATEONLY,\n        get(){ return getDayOfField('MEET_START_DATE', this); }})\n    MEET_START_DATE: Date;\n    @Column({type:DataType.DATEONLY,\n        get(){ return getDayOfField('MEET_END_DATE', this); }})\n    MEET_END_DATE: Date;\n}\n</code></pre>\n\n<p>(Defining and calling it as a static method of <code>Person</code> would be about the same.)  If you really want to make it an instance method, you can try casting <code>this</code> to <code>Person</code> inside your <code>get</code> implementations, which might work depending on what sequelize does at runtime (I'm not familiar with it).</p>\n"}], "owner": {"reputation": 105, "user_id": 1739163, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ad1bca607fcd99a818796f588e68e256?s=128&d=identicon&r=PG", "display_name": "Fakeer", "link": "https://stackoverflow.com/users/1739163/fakeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 900, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535583956, "creation_date": 1535578400, "question_id": 52086365, "link": "https://stackoverflow.com/questions/52086365/sequelize-typescript-common-method-for-get-in-a-model", "title": "sequelize-typescript: Common Method for get() in a model", "body": "<p>I have some get() function defined for START_DATE, END_DATE, MEET_START_DATE, MEET_END_DATE. If you will look closely at the get() functions defined for these column they are very similar . So i was trying to define a common function for all these get() functions. A function similar to getDay() defined at the end. But i am not able to call getDay() from with in the get() method. I dont have access to it .\n<strong>How to call getDay() from the get() function or something similar to it?</strong> I also need to pass the parameters so that i have access to field name and the instance.</p>\n\n<pre><code>import {Table, Column, Model, DataType} from 'sequelize-typescript';\n\n@Table({\n    timestamps: false,\n    freezeTableName: true,\n    schema: 'TEST',\n    tableName: 'Person'\n})\nexport class Person extends Model&lt;Person&gt; {\n    @Column({ type: DataType.STRING, primaryKey: true })\n    ID: string;\n    @Column(DataType.STRING)\n    NAME: string;      \n    @Column({type:DataType.DATEONLY,\n        get(){\n            let value : Date = this.getDataValue('START_DATE');\n            return value.getDay();\n        }})\n    START_DATE: Date;\n    @Column({type:DataType.DATEONLY,\n        get(){\n            let value : Date = this.getDataValue('END_DATE');\n            return value.getDay();\n        }})\n    END_DATE: Date;\n    @Column({type:DataType.DATEONLY,\n        get(){\n            let value : Date = this.getDataValue('MEET_START_DATE');\n            return value.getDay();\n        }})\n    MEET_START_DATE: Date;\n    @Column({type:DataType.DATEONLY,\n        get(){\n            let value : Date = this.getDataValue('MEET_END_DATE');\n            return value.getDay();\n\n            }})\n    MEET_END_DATE: Date;\n\n\n     getDay(field,instance) {\n        let value : Date = instance.getDataValue(field);\n        return value.getDay();\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "phaser-framework"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 5404288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99695d5648632ee80e1a5a6d9c2499b?s=128&d=identicon&r=PG&f=1", "display_name": "R. V.", "link": "https://stackoverflow.com/users/5404288/r-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1535579889, "creation_date": 1535579889, "answer_id": 52086625, "question_id": 52086250, "link": "https://stackoverflow.com/questions/52086250/phaser-definitions-for-typescript-not-being-read-by-vscode/52086625#52086625", "title": "Phaser Definitions for typescript not being read by VSCode", "body": "<p>Try to add reference to your definitions file. Put this to the beginning of your app.ts</p>\n\n<pre><code>/// &lt;reference path=\"path/to/your/deffile/phaser.d.ts\" /&gt;\n</code></pre>\n\n<p>Also, do not forget to add Pixi definitions.</p>\n"}, {"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1535581065, "creation_date": 1535581065, "answer_id": 52086827, "question_id": 52086250, "link": "https://stackoverflow.com/questions/52086250/phaser-definitions-for-typescript-not-being-read-by-vscode/52086827#52086827", "title": "Phaser Definitions for typescript not being read by VSCode", "body": "<p>It looks like the example code in the TypeScript tutorial is out of date for Phaser 3.  See <a href=\"http://phaser.io/tutorials/getting-started-phaser3/part5\" rel=\"nofollow noreferrer\">the current example JavaScript code</a>.  <a href=\"http://phaser.io/tutorials/how-to-use-phaser-with-typescript\" rel=\"nofollow noreferrer\">The current TypeScript tutorial</a> is out of date too.  Consider using one of Phaser's support channels to report the problem.  In the meantime, you can base your TypeScript code on the JavaScript example.</p>\n"}], "owner": {"reputation": 13, "user_id": 9421475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dylan Weber", "link": "https://stackoverflow.com/users/9421475/dylan-weber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "accepted_answer_id": 52086827, "answer_count": 2, "score": 0, "last_activity_date": 1535809690, "creation_date": 1535577810, "last_edit_date": 1535809690, "question_id": 52086250, "link": "https://stackoverflow.com/questions/52086250/phaser-definitions-for-typescript-not-being-read-by-vscode", "title": "Phaser Definitions for typescript not being read by VSCode", "body": "<p>I've been following <a href=\"http://www.photonstorm.com/phaser/how-to-use-phaser-with-typescript\" rel=\"nofollow noreferrer\">this tutorial</a> for phaser, but I've been unable to run the code in item 4. I've copied it exactly with no modifications (see below, if you haven't already seen the tutorial), but I'm running into errors.</p>\n\n<p>The line <code>new Phaser.Game(800, 600, Phaser.AUTO, 'content', { preload: this.preload, create: this.create });</code> is giving me the error \"[ts] expected 0-1 arguments, got 5,\" and I'm also being told that the properties \"load,\" \"add\" and \"world\" don't exist for the type \"Game.\"</p>\n\n<p>When attempting to compile, I'm given this response.</p>\n\n<pre><code>    TSError: \u2a2f Unable to compile TypeScript:\napp.ts(4,25): error TS2304: Cannot find name 'Phaser'.\napp.ts(4,47): error TS2304: Cannot find name 'Phaser'.\napp.ts(7,11): error TS2503: Cannot find namespace 'Phaser'.\n\n    at createTSError (C:\\Users\\Username\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:261:12)\n    at getOutput (C:\\Users\\Username\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:367:40)\n    at Object.compile (C:\\Users\\Username\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:558:11)\n    at Module.m._compile (C:\\Users\\Username\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:439:43)\n    at Module._extensions..js (module.js:663:10)\n    at Object.require.extensions.(anonymous function) [as .ts] (C:\\Users\\Username\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:442:12)\n    at Module.load (module.js:565:32)\n    at tryModuleLoad (module.js:505:12)\n    at Function.Module._load (module.js:497:3)\n    at Function.Module.runMain (module.js:693:10)\n</code></pre>\n\n<p>My app.ts right now:</p>\n\n<pre><code>class SimpleGame {\n\n    constructor() {\n        this.game = new Phaser.Game(800, 600, Phaser.AUTO, 'content', { preload: this.preload, create: this.create });\n    }\n\n    game: Phaser.Game;\n\n    preload() {\n        this.game.load.image('logo', 'phaser2.png');\n    }\n\n    create() {\n        var logo = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, 'logo');\n        logo.anchor.setTo(0.5, 0.5);\n    }\n\n}\n\nwindow.onload = () =&gt; {\n\n    var game = new SimpleGame();\n\n};\n</code></pre>\n\n<p>Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["typescript", "soap", "xmlhttprequest"], "comments": [{"owner": {"reputation": 1192, "user_id": 1622880, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/VnkSR.jpg?s=128&g=1", "display_name": "Francis", "link": "https://stackoverflow.com/users/1622880/francis"}, "edited": false, "score": 0, "creation_date": 1535587227, "post_id": 52086104, "comment_id": 91125398, "body": "Hi @bvprogramit, can you add some code sample so others can better diagnose your problem at hand? Thanks."}, {"owner": {"reputation": 21, "user_id": 10292082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49978d037360cd96f31fcbd4dfb7c0fc?s=128&d=identicon&r=PG", "display_name": "bvprogramit", "link": "https://stackoverflow.com/users/10292082/bvprogramit"}, "reply_to_user": {"reputation": 1192, "user_id": 1622880, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/VnkSR.jpg?s=128&g=1", "display_name": "Francis", "link": "https://stackoverflow.com/users/1622880/francis"}, "edited": false, "score": 1, "creation_date": 1535634043, "post_id": 52086104, "comment_id": 91145726, "body": "Thank you so much for taking the time to respond to me.   I found an answer and it worked. Look at this:  <a href=\"http://uncaughterror.com/programming/ionic3/preflight-response-issue-with-ionic3-app-on-ios-build-only-resolved/\" rel=\"nofollow noreferrer\">uncaughterror.com/programming/ionic3/&hellip;</a>"}, {"owner": {"reputation": 1192, "user_id": 1622880, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/VnkSR.jpg?s=128&g=1", "display_name": "Francis", "link": "https://stackoverflow.com/users/1622880/francis"}, "edited": false, "score": 0, "creation_date": 1535657526, "post_id": 52086104, "comment_id": 91159409, "body": "Happy to help. And welcome to Stackoverflow!"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10292082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49978d037360cd96f31fcbd4dfb7c0fc?s=128&d=identicon&r=PG", "display_name": "bvprogramit", "link": "https://stackoverflow.com/users/10292082/bvprogramit"}, "is_accepted": false, "score": 1, "last_activity_date": 1535634259, "creation_date": 1535634259, "answer_id": 52097832, "question_id": 52086104, "link": "https://stackoverflow.com/questions/52086104/ios-request-header-field-soapaction-is-not-allowed-by-access-control-allow-head/52097832#52097832", "title": "iOS: Request header field SOAPAction is not allowed by Access-Control-Allow-Headers", "body": "<p>I found an answer and it worked. Look at this:</p>\n\n<p><a href=\"http://uncaughterror.com/programming/ionic3/preflight-response-issue-with-ionic3-app-on-ios-build-only-resolved/\" rel=\"nofollow noreferrer\">http://uncaughterror.com/programming/ionic3/preflight-response-issue-with-ionic3-app-on-ios-build-only-resolved/</a></p>\n"}], "owner": {"reputation": 21, "user_id": 10292082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49978d037360cd96f31fcbd4dfb7c0fc?s=128&d=identicon&r=PG", "display_name": "bvprogramit", "link": "https://stackoverflow.com/users/10292082/bvprogramit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535634259, "creation_date": 1535576920, "question_id": 52086104, "link": "https://stackoverflow.com/questions/52086104/ios-request-header-field-soapaction-is-not-allowed-by-access-control-allow-head", "title": "iOS: Request header field SOAPAction is not allowed by Access-Control-Allow-Headers", "body": "<p>I am using ionic v3 I am running the app in my iPhone using ionic Cordova run iOS. The app runs fantastic, but when it attempts to connect to the soap api to perform some operations the responseXML is null and I get the following error: </p>\n\n<p>XMLHttpRequest cannot load <a href=\"https://www.hostname.com/service.cfc?wsdl\" rel=\"nofollow noreferrer\">https://www.hostname.com/service.cfc?wsdl</a>.<strong>strong text</strong> Request header field SOAPAction is not allowed by Access-Control-Allow-Headers.</p>\n\n<p>This happens because I am sending: this.xmlHttp.setRequestHeader(\"SOAPAction\",\"\"); [yes, with empty value, since it is like that in the request header].</p>\n\n<p>And if that request header is not sent then the server returns 500 error.</p>\n\n<p>I am in my device which shouldn't have any issue with cors. But I haven't found any documentation about this.</p>\n\n<p>If you have any information about this, please leave a response.</p>\n\n<p>Thank you so much.</p>\n"}, {"tags": ["angular", "typescript", "angular6", "ng-bootstrap"], "comments": [{"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 0, "creation_date": 1535578460, "post_id": 52085883, "comment_id": 91123073, "body": "what is your ie version ?"}, {"owner": {"reputation": 1, "user_id": 5748996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d91a88f9815c9c847097f0ff215319?s=128&d=identicon&r=PG&f=1", "display_name": "vikrant", "link": "https://stackoverflow.com/users/5748996/vikrant"}, "reply_to_user": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 0, "creation_date": 1535720104, "post_id": 52085883, "comment_id": 91182424, "body": "Internet explorer 11"}], "owner": {"reputation": 1, "user_id": 5748996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d91a88f9815c9c847097f0ff215319?s=128&d=identicon&r=PG&f=1", "display_name": "vikrant", "link": "https://stackoverflow.com/users/5748996/vikrant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535575790, "creation_date": 1535575790, "question_id": 52085883, "link": "https://stackoverflow.com/questions/52085883/ngbmodal-is-displaying-on-top-in-ie-chrome-its-in-center", "title": "NgbModal is displaying on top in IE chrome its in center", "body": "<p>I am using @ng-bootstrap/ng-bootstrap for modal window, in chrome its working fine but in internet explorer modal popups on the top in the browser.</p>\n\n<p>I am setting following ModalOptions which works for chrome but not for IE</p>\n\n<pre><code>  const statusOptions: NgbModalOptions = {\n      backdrop: 'static',\n      keyboard: false,\n      size: 'sm',\n      centered: true\n    };\n</code></pre>\n\n<p>I am using angular 6 and TypeScript.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1535574046, "post_id": 52085454, "comment_id": 91121278, "body": "Do you know the exact strings at compile time? If not, you cannot define such a type."}, {"owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "reply_to_user": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1535574373, "post_id": 52085454, "comment_id": 91121441, "body": "Let&#39;s say I do. Can I avoid duplicating them though? i.e. avoid doing <code>type FruitName = &quot;Apple&quot; | &quot;Orange&quot;; const fruitNames : FruitName[] = [&quot;Apple&quot;, &quot;Orange&quot;];</code>"}, {"owner": {"reputation": 60090, "user_id": 188031, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/p2YIF.jpg?s=128&g=1", "display_name": "tokland", "link": "https://stackoverflow.com/users/188031/tokland"}, "edited": false, "score": 0, "creation_date": 1579383483, "post_id": 52085454, "comment_id": 105750262, "body": "<a href=\"https://stackoverflow.com/questions/45251664/typescript-derive-union-type-from-tuple-array-values/45257357\" title=\"typescript derive union type from tuple array values\">stackoverflow.com/questions/45251664/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5369, "user_id": 242872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3c3667baa2d0e28649276ec404b936?s=128&d=identicon&r=PG", "display_name": "radicand", "link": "https://stackoverflow.com/users/242872/radicand"}, "edited": false, "score": 0, "creation_date": 1592592936, "post_id": 52085658, "comment_id": 110491235, "body": "This specific callout for <code>typeof fruits[number]</code> was what I needed - it makes it a string union instead of a readonly string[]"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 20, "last_activity_date": 1556905570, "last_edit_date": 1556905570, "creation_date": 1535574714, "answer_id": 52085658, "question_id": 52085454, "link": "https://stackoverflow.com/questions/52085454/typescript-define-a-union-type-from-an-array-of-strings/52085658#52085658", "title": "TypeScript: Define a union type from an array of strings", "body": "<p>It can be done but first you need an extra function to help infer the string literal type for the array elements. By default Typescript will infer <code>string[]</code> for an array even if it is a constant. After we have an array of string literal types we can just use a type query to get the desired type </p>\n\n<pre><code>function stringLiteralArray&lt;T extends string&gt;(a: T[]) {\n    return a;\n}\n\nconst fruits = stringLiteralArray([\"Apple\", \"Orange\", \"Pear\"]);\ntype Fruits = typeof fruits[number]\n</code></pre>\n\n<p>Since 3.4 you can also use a const type assertion instead of the <code>stringLiteralArray</code> function:</p>\n\n<pre><code>const fruits = [\"Apple\", \"Orange\", \"Pear\"] as const;\ntype Fruits = typeof fruits[number]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2715, "user_id": 4611304, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a6c4b8dc9b9a765522cdfed07cbb1c92?s=128&d=identicon&r=PG&f=1", "display_name": "techguy2000", "link": "https://stackoverflow.com/users/4611304/techguy2000"}, "edited": false, "score": 1, "creation_date": 1575581476, "post_id": 55505556, "comment_id": 104625012, "body": "why doesn&#39;t this work?: <code>const fruitTypes = [&quot;Apple&quot;, &quot;Orange&quot;, &quot;Pear&quot;];</code> <code>const fruits = fruitTypes as const;</code>"}, {"owner": {"reputation": 8849, "user_id": 69697, "user_type": "registered", "profile_image": "https://graph.facebook.com/4302094/picture?type=large", "display_name": "Ben Regenspan", "link": "https://stackoverflow.com/users/69697/ben-regenspan"}, "reply_to_user": {"reputation": 2715, "user_id": 4611304, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a6c4b8dc9b9a765522cdfed07cbb1c92?s=128&d=identicon&r=PG&f=1", "display_name": "techguy2000", "link": "https://stackoverflow.com/users/4611304/techguy2000"}, "edited": false, "score": 2, "creation_date": 1575670562, "post_id": 55505556, "comment_id": 104657377, "body": "@techguy2000 I think it&#39;s because you could have:  <code>const fruitTypes = [&quot;Apple&quot;, &quot;Orange&quot;, &quot;Pear&quot;]; fruitTypes.push(&quot;Kiwi&quot;); const fruits = fruitTypes as const;</code>. TS has no reliable way of knowing in this case that the type should now be <code>[&quot;Apple&quot;, &quot;Orange&quot;, &quot;Pear&quot;, &quot;Kiwi&quot;];</code>, so it&#39;s an unsafe pattern to allow marking it as <code>const</code> later on after the initial definition."}, {"owner": {"reputation": 2715, "user_id": 4611304, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a6c4b8dc9b9a765522cdfed07cbb1c92?s=128&d=identicon&r=PG&f=1", "display_name": "techguy2000", "link": "https://stackoverflow.com/users/4611304/techguy2000"}, "edited": false, "score": 2, "creation_date": 1575871577, "post_id": 55505556, "comment_id": 104697263, "body": "It still doesn&#39;t work when I freeze the array: <code>const fruitTypes = Object.freeze([&quot;Apple&quot;, &quot;Orange&quot;, &quot;Pear&quot;]);</code>  I really hope some variation of this will work..."}, {"owner": {"reputation": 8849, "user_id": 69697, "user_type": "registered", "profile_image": "https://graph.facebook.com/4302094/picture?type=large", "display_name": "Ben Regenspan", "link": "https://stackoverflow.com/users/69697/ben-regenspan"}, "reply_to_user": {"reputation": 2715, "user_id": 4611304, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a6c4b8dc9b9a765522cdfed07cbb1c92?s=128&d=identicon&r=PG&f=1", "display_name": "techguy2000", "link": "https://stackoverflow.com/users/4611304/techguy2000"}, "edited": false, "score": 2, "creation_date": 1575908427, "post_id": 55505556, "comment_id": 104715388, "body": "@techguy2000 that might be worthwhile to open up as a feature suggestion in the TS issues tracker, it does seem like it could be reasonable to type this case as <code>readonly[&quot;Apple&quot;, &quot;Orange&quot;, &quot;Pear&quot;]</code> instead of <code>readonly string[]</code>."}, {"owner": {"reputation": 542, "user_id": 3092437, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4130f6aabcec0fa9f692efd0ffd65fb8?s=128&d=identicon&r=PG&f=1", "display_name": "TotalAMD", "link": "https://stackoverflow.com/users/3092437/totalamd"}, "edited": false, "score": 0, "creation_date": 1594897989, "post_id": 55505556, "comment_id": 111291166, "body": "This way doesn&#39;t allow to use <code>fruits.include(var)</code> for a type check:  <code>Argument of type &#39;string&#39; is not assignable to parameter of type &#39;&quot;Apple&quot; | &quot;Orange&quot; | &quot;Pear&quot;&#39;.ts(2345)</code>"}, {"owner": {"reputation": 9279, "user_id": 592760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/460ac4485bc537b5c13269fa12874476?s=128&d=identicon&r=PG", "display_name": "SgtPooki", "link": "https://stackoverflow.com/users/592760/sgtpooki"}, "reply_to_user": {"reputation": 542, "user_id": 3092437, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4130f6aabcec0fa9f692efd0ffd65fb8?s=128&d=identicon&r=PG&f=1", "display_name": "TotalAMD", "link": "https://stackoverflow.com/users/3092437/totalamd"}, "edited": false, "score": 0, "creation_date": 1602824076, "post_id": 55505556, "comment_id": 113847084, "body": "@TotalAMD, It does if the variable is properly typed or casted. See <a href=\"https://tsplay.dev/GNl8lN\" rel=\"nofollow noreferrer\">tsplay.dev/GNl8lN</a>"}, {"owner": {"reputation": 3995, "user_id": 1297248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TiaMw.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/1297248/batman"}, "edited": false, "score": 1, "creation_date": 1607292819, "post_id": 55505556, "comment_id": 115220150, "body": "why <code>fruits[number]</code> what does the number here mean?"}, {"owner": {"reputation": 8849, "user_id": 69697, "user_type": "registered", "profile_image": "https://graph.facebook.com/4302094/picture?type=large", "display_name": "Ben Regenspan", "link": "https://stackoverflow.com/users/69697/ben-regenspan"}, "reply_to_user": {"reputation": 3995, "user_id": 1297248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TiaMw.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/1297248/batman"}, "edited": false, "score": 2, "creation_date": 1607452892, "post_id": 55505556, "comment_id": 115275595, "body": "@Batman writing <code>typeof fruits[number]</code> tells Typescript that what we are interested in is the type of the values stored within the <code>fruits</code> array. Because it&#39;s an Array, those values are indexed by <code>number</code>. In plain English, it&#39;s like we are asking TypeScript &quot;for any given integer index requested from <code>fruits</code>, what are the possible types of the value that will be returned?&quot;"}], "tags": [], "owner": {"reputation": 8849, "user_id": 69697, "user_type": "registered", "profile_image": "https://graph.facebook.com/4302094/picture?type=large", "display_name": "Ben Regenspan", "link": "https://stackoverflow.com/users/69697/ben-regenspan"}, "is_accepted": true, "score": 82, "last_activity_date": 1554332686, "creation_date": 1554332686, "answer_id": 55505556, "question_id": 52085454, "link": "https://stackoverflow.com/questions/52085454/typescript-define-a-union-type-from-an-array-of-strings/55505556#55505556", "title": "TypeScript: Define a union type from an array of strings", "body": "<p>TypeScript 3.4 added <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions\" rel=\"noreferrer\"><code>const</code> assertions</a> which allow for writing this as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fruits = [\"Apple\", \"Orange\", \"Pear\"] as const;\ntype Fruits = typeof fruits[number]; // \"Apple\" | \"Orange\" | \"Pear\"\n</code></pre>\n\n<p>With <code>as const</code> TypeScript infers the type of <code>fruits</code> above as <code>readonly[\"Apple\", \"Orange\", \"Pear\"]</code>. Previously, it would infer it as <code>string[]</code>, preventing <code>typeof fruits[number]</code> from producing the desired union type.</p>\n"}], "owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10307, "favorite_count": 9, "accepted_answer_id": 55505556, "answer_count": 2, "score": 40, "last_activity_date": 1578329414, "creation_date": 1535573770, "question_id": 52085454, "link": "https://stackoverflow.com/questions/52085454/typescript-define-a-union-type-from-an-array-of-strings", "title": "TypeScript: Define a union type from an array of strings", "body": "<p>I can't be the first person coming across this, but my searches have not turned up any useful leads yet. Would greatly appreciate some expert TypeScript advice.</p>\n\n<p>Say I have an array:</p>\n\n<pre><code>const fruits = [\"Apple\", \"Orange\", \"Pear\"];\n</code></pre>\n\n<p>and I want to define an object mapping each fruit to some fun facts about it:</p>\n\n<pre><code>interface Facts {\n    color: string,\n    typicalWeight: number\n}\n\nconst fruitFacts: { [key: members of fruits]: Facts } = {\n    \"Apple\": { color: \"green\", typicalWeight: 150 }\n    //\n}\n</code></pre>\n\n<p>How do I do that <code>[key: members of fruits]</code> part?</p>\n\n<p>Bonus: How do I enforce that my <code>fruitFacts</code> object exhaust all the keys derived from the array as well, so that it specifies facts for Apples, Oranges, and Pears in the example above. </p>\n"}, {"tags": ["javascript", "arrays", "typescript", "if-statement"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535572618, "post_id": 52085024, "comment_id": 91120598, "body": "What are you doing with the <code>reqObject</code> that you create?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535572664, "post_id": 52085024, "comment_id": 91120621, "body": "What is <code>data.header.lineOfBusiness</code>, there&#39;s no <code>.header</code> in your sample request? Also it&#39;s an array not a string - where do you want to do the looping?"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535572695, "post_id": 52085024, "comment_id": 91120631, "body": "i am passing it to another function like makeRequest where i am calling axios.all for the objects passed to it."}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535572801, "post_id": 52085024, "comment_id": 91120676, "body": "@Bergi i fixed the question the way request is coming"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535572924, "post_id": 52085024, "comment_id": 91120728, "body": "OK, still that <code>const lob = [&quot;spec&quot;,&quot;PTM&quot;]</code> will neither <code>=== &quot;spec&quot;</code> nor <code>=== &quot;PTM&quot;</code>. And where and how are you calling <code>makeRequest</code>?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535572981, "post_id": 52085024, "comment_id": 91120759, "body": "<code>processRequest</code> doesn&#39;t appear to <code>return</code> anything?"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535573149, "post_id": 52085024, "comment_id": 91120839, "body": "added some more code to controller.ts to understand output i am looking"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535573286, "post_id": 52085024, "comment_id": 91120914, "body": "@Bergi process.Request is returning <code>Promise.resolve(reqObject)</code> problem is when i call processRequest for second response its adding spec url twice"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1535574506, "post_id": 52085024, "comment_id": 91121496, "body": "Now both of your if statements will succeed every time <code>processRequest</code> is called, so of course it always writes the second url in the new request object. What you really need is to have <code>specBalanceRequest</code> add a request object with the <code>specUrl</code> when the <code>lob</code> array <i>contains</i> <code>&quot;spec&quot;</code>, and have <code>ptmBalanceRequest</code> add a request object with the <code>ptmUrl</code> when the <code>lob</code> array <i>contains</i> <code>&quot;ptm&quot;</code>. Do not use the same <code>processRequest</code> function - it&#39;s pretty useless. Also, don&#39;t use promises here! Nothing of what you are doing is actually asynchronous."}], "answers": [{"tags": [], "owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "is_accepted": false, "score": 0, "last_activity_date": 1535608654, "creation_date": 1535608654, "answer_id": 52090062, "question_id": 52085024, "link": "https://stackoverflow.com/questions/52085024/can-we-use-await-and-same-functions-for-promises/52090062#52090062", "title": "Can we use await and same functions for promises?", "body": "<p>One thing that I suggest is to not make unnecessary promise function. Keep it simple as possible.</p>\n\n<p><code>RequestResponseHandler.processRequest</code> doesn't need to be a promise</p>\n\n<pre><code>export class RequestResponseHandler {\n  public static processRequest(data: any, url: string): IRequestURL {\n    const reqObject: IRequestURL = {} as IRequestURL;\n    const lob = data.header.lineOfBusiness;\n\n    // I guess we can improve code below, no diff between \"spec\" and \"ptm\"\n    if (lob[0] === \"spec\") {\n      const specUrl = urlConfig + url;\n      reqObject.url = specUrl;\n      reqObject.body = data;\n    }\n    if (lob[1] === \"PTM\") {\n      const ptmUrl = urlConfig + url;\n      reqObject.url = ptmUrl;\n      reqObject.body = data;\n    }\n    return reqObject; // return value not a promise\n  }\n}\n</code></pre>\n\n<p>in controller file</p>\n\n<pre><code>const bRetSpec: boolean = this.specBalanceRequest(request); // remove `await`\nconst bRetPtm: boolean = this.ptmBalanceRequest(request); // remove `await`\n\nif (!bRetPtm &amp;&amp; !bRetSpec) {\n  return Promise.reject(new Error(\"Processing failed\"));\n}\ntry {\n  const __data: IResponse = await makeRequest(this._request);\n  // the two promise calls, I guess can be move to be inside promise.all\n  return await Promise.all([anotherPromiseData0, anotherPromiseData1]);\n} catch (err) {\n  return Promise.reject(err);\n}\n\n// make it non promise\nprivate specBalanceRequest(@Body() request: ExpressRequest): void {\n  const specUrl = \"/payments\";\n  const reqObject = RequestResponseHandler.processRequest(request.body, specialtyUrl);\n  this._request.push(reqObject);\n}\n\n// make it non promise\nprivate ptmBalanceRequest(@Body() request: any): void {\n  const careURL = \"/Order\";\n  const reqObject = RequestResponseHandler.processRequest(request.body, careURL);\n  this._request.push(reqObject);\n}\n</code></pre>\n"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535608654, "creation_date": 1535571822, "last_edit_date": 1535574221, "question_id": 52085024, "link": "https://stackoverflow.com/questions/52085024/can-we-use-await-and-same-functions-for-promises", "title": "Can we use await and same functions for promises?", "body": "<p>So i have request coming based on that i am building <code>this.request</code> array so i can make calls to urls and request.body that is pushed into array , In below code trying to use <code>RequestResponseHandler.processRequest</code> for both promises but its always going into spec(duplicate call)  when i call same function <code>processRequest</code> for other promise , How can i make sure if <code>processRequest</code> is called for <code>spec</code> ignore that if condition and go to <code>PTM</code> </p>\n\n<p>request </p>\n\n<pre><code>{ header: { lineOfBusiness: [\"spec\",\"PTM\"] } , body: data }\n</code></pre>\n\n<p>handler.ts</p>\n\n<pre><code>    export class RequestResponseHandler {\n        public static processRequest(data: any, url: string): Promise &lt; any &gt; {\n            const reqObject: IRequestURL = {}\n            as IRequestURL;\n            const lob = data.header.lineOfBusiness;\n            if (lob[0] === \"spec\") {\n                const specUrl = urlConfig + url;\n                reqObject.url = specUrl;\n                reqObject.body = data;\n            }\n            if (lob[1] === \"PTM\") {\n                const ptmUrl = urlConfig + url;\n                reqObject.url = ptmUrl;\n                reqObject.body = data;\n            }\n         return Promise.resolve(reqObject);\n        }\n    }\n</code></pre>\n\n<p>controllet.ts</p>\n\n<pre><code>     const bRetSpec: boolean = await this.specBalanceRequest(request);\n            const bRetPtm: boolean = await this.ptmBalanceRequest(request);\n\n if (!bRetPtm &amp;&amp; !bRetSpec) {\n            return Promise.reject(new Error(\"Processing failed\"));\n        }\n        try {\n            const __data: IResponse = await makeRequest(this._request);\n            const resp1 = await another promise to resolve _data[0];\n            const resp2 = await another promise to resolve _data[1];\n            return await Promise.all([resp1, resp2]);\n        } catch (err) {\n            return Promise.reject(err);\n        }\n\n        private async specBalanceRequest(@Body() request: ExpressRequest): Promise &lt; boolean &gt; {\n            const specUrl = \"/payments\";\n            const reqObject = await RequestResponseHandler.processRequest(request.body, specialtyUrl);\n            this._request.push(reqObject);\n            return Promise.resolve(true);\n        }\n\n        private async ptmBalanceRequest(@Body() request: any): Promise &lt; boolean &gt; {\n            const careURL = \"/Order\";\n            const reqObject = await RequestResponseHandler.processRequest(request.body, careURL);\n            this._request.push(reqObject);\n            return Promise.resolve(true);\n        }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6758752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57571755b444f27d99078d316a56c8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/6758752/bruno"}, "edited": false, "score": 0, "creation_date": 1535576758, "post_id": 52085226, "comment_id": 91122454, "body": "Thanks for the answer. class MockDatePicker extends React.Component {     render() {         return &lt;div id=&quot;DatePicker1&quot;/&gt;;     } };  jest.mock(&#39;react-datepicker&#39;, () =&gt; MockDatePicker);  Invalid variable access: MockDatePicker"}, {"owner": {"reputation": 55, "user_id": 6758752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57571755b444f27d99078d316a56c8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/6758752/bruno"}, "edited": false, "score": 0, "creation_date": 1535576951, "post_id": 52085226, "comment_id": 91122528, "body": "I tried naming the mock as mockDatePicker, with lower case. The error goes away, but it&#39;s not mocking properly. TypeError: Cannot read property &#39;default&#39; of undefined. On the CustomDate component when rendering the mock DatePicker."}, {"owner": {"reputation": 909, "user_id": 373230, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f9f3148469661a789038d63b5be0ca8a?s=128&d=identicon&r=PG", "display_name": "jSherz", "link": "https://stackoverflow.com/users/373230/jsherz"}, "reply_to_user": {"reputation": 55, "user_id": 6758752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57571755b444f27d99078d316a56c8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/6758752/bruno"}, "edited": false, "score": 1, "creation_date": 1535614909, "post_id": 52085226, "comment_id": 91133070, "body": "It might be the way that the date picker is imported in your other code vs how it&#39;s now being defined. Have you tried compiling the test file with TSC to check what it&#39;s outputting?"}, {"owner": {"reputation": 55, "user_id": 6758752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57571755b444f27d99078d316a56c8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/6758752/bruno"}, "edited": false, "score": 0, "creation_date": 1535656725, "post_id": 52085226, "comment_id": 91159026, "body": "exports[&#39;default&#39;] = DatePicker; is how react-datepicker exports the function"}], "tags": [], "owner": {"reputation": 909, "user_id": 373230, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f9f3148469661a789038d63b5be0ca8a?s=128&d=identicon&r=PG", "display_name": "jSherz", "link": "https://stackoverflow.com/users/373230/jsherz"}, "is_accepted": false, "score": 1, "last_activity_date": 1535572746, "creation_date": 1535572746, "answer_id": 52085226, "question_id": 52084606, "link": "https://stackoverflow.com/questions/52084606/jest-mock-invariant-variable-access-extends/52085226#52085226", "title": "jest.mock invariant variable access: __extends", "body": "<p>When you're using a transpiler (e.g. TypeScript) with some code, it's often useful to be able to see the code that's actually generated to better understand why you see an error like this. For example, if I take your stubbed DatePicker class and compile it with <code>tsc</code>, I get the following:</p>\n\n<pre><code>\"use strict\";\nvar __extends = (this &amp;&amp; this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar DatePicker = /** @class */ (function (_super) {\n    __extends(DatePicker, _super);\n    function DatePicker() {\n        return _super !== null &amp;&amp; _super.apply(this, arguments) || this;\n    }\n    DatePicker.prototype.render = function () {\n        return (React.createElement(\"div\", { id: 'DatePicker' }));\n    };\n    return DatePicker;\n}(React.Component));\n</code></pre>\n\n<p>Here you can see that __extends is a function defined by TypeScript and placed into the \"__extends\" variable. This is becoming out of scope (see the error you posted) because jest moves any calls of jest.mock to the top of the file (with the help of babel).</p>\n\n<p>A solution is to define your mock class outside of the closure in which you're setting up the mock. For example:</p>\n\n<pre><code>import * as React from \"react\";\nclass MockDatePicker extends React.Component {\n   // ...\n}\n\njest.mock(\"react-datepicker\", () =&gt; MockDatePicker);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 6758752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57571755b444f27d99078d316a56c8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/6758752/bruno"}, "is_accepted": true, "score": 1, "last_activity_date": 1536697008, "creation_date": 1536697008, "answer_id": 52283632, "question_id": 52084606, "link": "https://stackoverflow.com/questions/52084606/jest-mock-invariant-variable-access-extends/52283632#52283632", "title": "jest.mock invariant variable access: __extends", "body": "<p>I found a different way to mock react-datepicker:</p>\n\n<p>CustomDate.test.tsx</p>\n\n<pre><code>jest.mock('react-datepicker', \n    () =&gt; require.requireActual('../test/mocks/DatePickerMock').default());\n</code></pre>\n\n<p>DatePickerMock.tsx</p>\n\n<pre><code>import * as React from 'react';\n\nexport class DatePicker extends React.Component {\n    render() {\n        return &lt;div id=\"DatePicker\"/&gt;;\n    }\n}\n\nexport default DatePicker;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6758752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57571755b444f27d99078d316a56c8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/6758752/bruno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 52283632, "answer_count": 2, "score": 1, "last_activity_date": 1536697008, "creation_date": 1535570072, "last_edit_date": 1535685100, "question_id": 52084606, "link": "https://stackoverflow.com/questions/52084606/jest-mock-invariant-variable-access-extends", "title": "jest.mock invariant variable access: __extends", "body": "<p>I'm in the process of converting a library of react components from JS to TS and I am having an issue with jest.mock().</p>\n\n<p>Before:</p>\n\n<pre><code>\"react\": \"^15.6.1\"\n\"jest\": \"20.0.4\"\n\"enzyme\": \"^2.9.1\"\n</code></pre>\n\n<p>CustomDate.js</p>\n\n<pre><code>...\nimport DatePicker from 'react-datepicker';\n...\nexport default class CustomDate extends React.Component {\n...\n    render() {\n        return (\n            &lt;div onChange={this.handleDivChange}&gt;\n                &lt;DatePicker\n...\n                /&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>CustomDate.test.js</p>\n\n<pre><code>...\nimport CustomDate from '../component/CustomDate';\nimport DatePicker from 'react-datepicker';\n\njest.mock('react-datepicker', () =&gt; {\n    let React = require('react');\n    return class DatePicker extends React.Component {\n        render() {\n            return (\n                &lt;div id='DatePicker'&gt;&lt;/div&gt;\n            );\n        }\n    };\n});\n...\n    beforeEach(function () {\n        customDate = mount(&lt;CustomDate {...testProps}/&gt;);\n    });\n...\n    it('renders a DatePicker component', () =&gt; {\n        console.log(customDate.find('div').at(0).html());   -&gt; outputs &lt;div&gt;&lt;div id='DatePicker'&gt;&lt;/div&gt;&lt;/div&gt;, not the react datepicker\n        console.log(customDate.find('div').at(1).html());   -&gt; outputs &lt;div id='DatePicker'&gt;&lt;/div&gt;, not the react datepicker\n        expect(customDate.find(DatePicker).length).toBe(1);\n    });\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>\"react\": \"^16.4.2\"\n\"typescript\": \"^2.9.2\"\n\"jest\": \"^23.5.0\"\n\"ts-jest\": \"^23.1.4\"\n\"enzyme\": \"^3.5.0\"\n\"enzyme-adapter-react-16\": \"^1.3.0\"\n</code></pre>\n\n<p>CustomDate.tsx</p>\n\n<pre><code>...\nimport DatePicker from 'react-datepicker';\n...\nexport default class CustomDate extends Component&lt;CustomDateProps, CustomDateState&gt; {\n...\n    render() {\n        return (\n            &lt;div onChange={this.handleDivChange}&gt;\n                &lt;DatePicker\n...\n                /&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>CustomDate.test.tsx</p>\n\n<pre><code>...\nimport CustomDate from '../component/CustomDate';\nimport DatePicker from 'react-datepicker';\n\njest.mock('react-datepicker', () =&gt; {\n    let React = require('react');\n    return class DatePicker extends React.Component {\n        render() {\n            return (\n                &lt;div id='DatePicker'&gt;&lt;/div&gt;\n            );\n        }\n    };\n});\n...\n    beforeEach(function () {\n        customDate = mount(&lt;CustomDate {...testProps}/&gt;);\n    });\n...\n    it('renders a DatePicker component', () =&gt; {\n        expect(customDate.find(DatePicker).length).toBe(1);\n    });\n</code></pre>\n\n<p>I get the following message when I run the tests:</p>\n\n<pre><code> CustomDate.test.tsx: babel-plugin-jest-hoist: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variable\ns.\n    Invalid variable access: __extends\n...\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` are permitted.\n</code></pre>\n\n<p>I've spent a day trying different things. Some get rid of the error, but don't really mock the DatePicker. I'm about to loose my mind.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>UPDATE</p>\n\n<p>Compiled test file:</p>\n\n<pre><code>\"use strict\";\nvar __extends = (this &amp;&amp; this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar React = require(\"react\");\nvar mockDatePicker = /** @class */ (function (_super) {\n    __extends(mockDatePicker, _super);\n    function mockDatePicker() {\n        return _super !== null &amp;&amp; _super.apply(this, arguments) || this;\n    }\n    mockDatePicker.prototype.render = function () {\n        return React.createElement(\"div\", { id: \"DatePicker1\" });\n    };\n    return mockDatePicker;\n}(React.Component));\njest.mock('react-datepicker', function () { return mockDatePicker; });\n</code></pre>\n"}, {"tags": ["typescript", "interface", "spread-syntax"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1535570267, "post_id": 52084571, "comment_id": 91119569, "body": "Any particular reason you want to do this? Both types are compatible with each other since they have the same structure and Typescript uses structural typing"}, {"owner": {"reputation": 168, "user_id": 9824703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bohr Hew", "link": "https://stackoverflow.com/users/9824703/bohr-hew"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1535570509, "post_id": 52084571, "comment_id": 91119670, "body": "It&#39;s mainly used for developer sanity when the types are much more complex. They are technically the same, but it would be helpful to know what the exact typing is. In my case some of the types are of <code>string | undefined</code>, so having it as just <code>string</code> would be hard to maintain for future devs."}], "answers": [{"comments": [{"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "reply_to_user": {"reputation": 1649, "user_id": 2177351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99911453d5e23ffaaf762168e14f40c?s=128&d=identicon&r=PG", "display_name": "brianbruff", "link": "https://stackoverflow.com/users/2177351/brianbruff"}, "edited": false, "score": 0, "creation_date": 1535575881, "post_id": 52085334, "comment_id": 91122078, "body": "Yep, but the aim of question is to explicitly set the type for <code>bc</code> variable."}, {"owner": {"reputation": 168, "user_id": 9824703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bohr Hew", "link": "https://stackoverflow.com/users/9824703/bohr-hew"}, "edited": false, "score": 0, "creation_date": 1535576237, "post_id": 52085334, "comment_id": 91122235, "body": "Thank you for you help, but it seems that the type of bc is <code>{     ab?: Ab | undefined;     bc?: Bc | undefined;     b: number;     c: boolean; }</code> Do you know if it&#39;s possible to make the type be <code>Bc</code>?"}, {"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 0, "creation_date": 1535576699, "post_id": 52085334, "comment_id": 91122431, "body": "sure, just declare the Abc interface like this one: <code>interface Abc extends Ab, Bc { bc: Bc; }</code>"}, {"owner": {"reputation": 168, "user_id": 9824703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bohr Hew", "link": "https://stackoverflow.com/users/9824703/bohr-hew"}, "edited": false, "score": 0, "creation_date": 1535577870, "post_id": 52085334, "comment_id": 91122876, "body": "I tried it out, but it was still returning type <code>const bc: { bc: Bc; b: number; c: boolean; }</code> where <code>bc.bc</code> would be <code>undefined</code>"}, {"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 0, "creation_date": 1535578053, "post_id": 52085334, "comment_id": 91122940, "body": "could you share you full example in playground or stackblitz project ?"}, {"owner": {"reputation": 168, "user_id": 9824703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bohr Hew", "link": "https://stackoverflow.com/users/9824703/bohr-hew"}, "edited": false, "score": 0, "creation_date": 1535579183, "post_id": 52085334, "comment_id": 91123326, "body": "Sorry for the delay, I had to remove some parts of it. This stackblitz should have the core parts. (I originally had it in a playground, but it was too long) <a href=\"https://stackblitz.com/edit/typescript-yuwpha\" rel=\"nofollow noreferrer\">stackblitz link</a>"}, {"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 2, "creation_date": 1535582198, "post_id": 52085334, "comment_id": 91124206, "body": "It looks like what you are looking for is on the TS team plan :) Check this issue on gihub - <a href=\"https://github.com/Microsoft/TypeScript/issues/10727\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/10727</a>"}, {"owner": {"reputation": 168, "user_id": 9824703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bohr Hew", "link": "https://stackoverflow.com/users/9824703/bohr-hew"}, "edited": false, "score": 0, "creation_date": 1535584639, "post_id": 52085334, "comment_id": 91124846, "body": "it seems like their solution is slightly different from what I was trying to do. I found a way to type it, but it&#39;s pretty ugly. Probably not the most efficient, but should at least allow for typing. <a href=\"https://stackblitz.com/edit/typescript-1ogddp\" rel=\"nofollow noreferrer\">stackblitz.com/edit/typescript-1ogddp</a>  I could also just set another variable with a type <a href=\"https://stackblitz.com/edit/typescript-ykevwb\" rel=\"nofollow noreferrer\">stackblitz.com/edit/typescript-ykevwb</a>  I don&#39;t really like either though :/"}, {"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 0, "creation_date": 1535585316, "post_id": 52085334, "comment_id": 91125014, "body": "yep :/ looks like overengineered. I think in your case it would be better to avoid using spread/rest operator here."}, {"owner": {"reputation": 1649, "user_id": 2177351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99911453d5e23ffaaf762168e14f40c?s=128&d=identicon&r=PG", "display_name": "brianbruff", "link": "https://stackoverflow.com/users/2177351/brianbruff"}, "edited": false, "score": 0, "creation_date": 1535710572, "post_id": 52085334, "comment_id": 91176951, "body": "ok, i&#39;ve not tired this but was expecting if you added bc:Bc in the Abc interface that you&#39;d find that bc.bc is undefined"}], "tags": [], "owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "is_accepted": false, "score": 0, "last_activity_date": 1535576788, "last_edit_date": 1535576788, "creation_date": 1535573179, "answer_id": 52085334, "question_id": 52084571, "link": "https://stackoverflow.com/questions/52084571/typing-rest-operator-object-in-typescript/52085334#52085334", "title": "Typing rest operator object in TypeScript", "body": "<p>Actually it's pretty fun and tricky question :)\nSo here is my solution:</p>\n\n<pre><code>interface Abc extends Ab, Bc {\n  bc: Bc;\n}\n\nconst ab: Ab = { a: 'a', b: 1};\nconst { a, ...bc }: Abc = { ...ab, c: true } as Abc;\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20Ab%20%7B%0D%0A%20%20a%3A%20string%3B%0D%0A%20%20b%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20Bc%20%7B%0D%0A%20%20b%3A%20number%3B%0D%0A%20%20c%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20Abc%20extends%20Ab%2C%20Bc%20%7B%0D%0A%20%20ab%3F%3A%20Ab%3B%0D%0A%20%20bc%3F%3A%20Bc%3B%0D%0A%7D%0D%0A%2F*%0D%0Aor%0D%0Ainterface%20Abc%20extends%20Ab%2C%20Bc%20%7B%0D%0A%20%20bc%3A%20Bc%3B%0D%0A%7D*%2F%0D%0A%0D%0Aconst%20ab%3A%20Ab%20%3D%20%7B%20a%3A%20&#39;a&#39;%2C%20b%3A%201%7D%3B%0D%0Aconst%20%7B%20a%2C%20...bc%20%7D%3A%20Abc%20%3D%20%7B%20...ab%2C%20c%3A%20true%20%7D%20as%20Abc%3B%0D%0A\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}], "owner": {"reputation": 168, "user_id": 9824703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bohr Hew", "link": "https://stackoverflow.com/users/9824703/bohr-hew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 631, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1536057591, "creation_date": 1535569917, "last_edit_date": 1536057591, "question_id": 52084571, "link": "https://stackoverflow.com/questions/52084571/typing-rest-operator-object-in-typescript", "title": "Typing rest operator object in TypeScript", "body": "<p>I was trying to remove a property from an Object using the rest operator and could not figure out how to force a type on the new Object.</p>\n\n<pre><code>interface Ab {\n  a: string;\n  b: number;\n}\n\ninterface Bc {\n  b: number;\n  c: boolean | undefined;\n}\n\nconst ab: Ab = { a: 'a', b: 1};\nconst {a, ...bc} = {...ab, c: true};\n</code></pre>\n\n<p>I know that bc now has a type</p>\n\n<pre><code>{\n  b: number;\n  c: boolean;\n}\n</code></pre>\n\n<p>is there a way to force <code>bc</code> to be explicitly of type <code>Bc</code>?</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "edited": false, "score": 1, "creation_date": 1535568798, "post_id": 52084302, "comment_id": 91118934, "body": "What are <code>specResponse</code> and <code>specResponse</code>? Objects? Arrays?"}, {"owner": {"reputation": 1519, "user_id": 74837, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41ae74504b47badabd482700f4e7cd76?s=128&d=identicon&r=PG", "display_name": "aaron", "link": "https://stackoverflow.com/users/74837/aaron"}, "edited": false, "score": 0, "creation_date": 1535568867, "post_id": 52084302, "comment_id": 91118966, "body": "if specResponse is an empty object, for example, then it won&#39;t spread anything into combineResponse"}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1535568875, "post_id": 52084302, "comment_id": 91118971, "body": "Looks like a duplicate of <a href=\"https://stackoverflow.com/questions/35612428/call-async-await-functions-in-parallel\">this one</a>, no?"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "edited": false, "score": 0, "creation_date": 1535568997, "post_id": 52084302, "comment_id": 91119025, "body": "response is an object"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 1519, "user_id": 74837, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41ae74504b47badabd482700f4e7cd76?s=128&d=identicon&r=PG", "display_name": "aaron", "link": "https://stackoverflow.com/users/74837/aaron"}, "edited": false, "score": 0, "creation_date": 1535569041, "post_id": 52084302, "comment_id": 91119039, "body": "@aaron i see response from both but when i combined it only resolve to one"}, {"owner": {"reputation": 3057, "user_id": 9165026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rzgHo.png?s=128&g=1", "display_name": "dziraf", "link": "https://stackoverflow.com/users/9165026/dziraf"}, "edited": false, "score": 2, "creation_date": 1535569212, "post_id": 52084302, "comment_id": 91119108, "body": "What are those objects&#39; properties? If both have the same keys, <code>ptmResponse</code> will overwrite what&#39;s in <code>specResponse</code>"}], "answers": [{"tags": [], "owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "is_accepted": true, "score": 2, "last_activity_date": 1535569092, "creation_date": 1535569092, "answer_id": 52084387, "question_id": 52084302, "link": "https://stackoverflow.com/questions/52084302/how-to-combine-responses-to-an-array-using-spread/52084387#52084387", "title": "How to combine responses to an array using spread?", "body": "<p>You might be overthinking this one. I'm assuming you want an array containing both objects. If so, then it's just:</p>\n\n<pre><code>const combineResponse = [ specResponse, ptmResponse ]\n</code></pre>\n\n<p>No spread needed.</p>\n"}, {"tags": [], "owner": {"reputation": 1230, "user_id": 5402852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thx5j.jpg?s=128&g=1", "display_name": "Leonid Pyrlia", "link": "https://stackoverflow.com/users/5402852/leonid-pyrlia"}, "is_accepted": false, "score": 0, "last_activity_date": 1535570475, "creation_date": 1535570475, "answer_id": 52084693, "question_id": 52084302, "link": "https://stackoverflow.com/questions/52084302/how-to-combine-responses-to-an-array-using-spread/52084693#52084693", "title": "How to combine responses to an array using spread?", "body": "<p>I would also fire those promises in parallel with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\"><code>Promise.all</code></a> and store both responses in <code>combineResponse</code> as an array:</p>\n\n<pre><code>const combineResponse = await Promise.all([this.specResponse(__data.Details[0]), this.ptmAccountBalanceResponse(__data.Details[1])]);\n</code></pre>\n"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 52084387, "answer_count": 2, "score": 0, "last_activity_date": 1535570475, "creation_date": 1535568668, "last_edit_date": 1535568860, "question_id": 52084302, "link": "https://stackoverflow.com/questions/52084302/how-to-combine-responses-to-an-array-using-spread", "title": "How to combine responses to an array using spread?", "body": "<p>I have responses from both promises but when i <code>combineResponse</code> it only resolve one response from <code>ptmResponse</code> promise , What is implemented wrong in below code using spread ? response is coming as object that i want to push it to array.</p>\n\n<blockquote>\n  <p>main.ts</p>\n</blockquote>\n\n<pre><code>try {\n  const __data: IResponse = await makeRequest(this._request);\n  const specResponse = await this.specResponse(__data.Details[0]);\n  const ptmResponse = await this.ptmAccountBalanceResponse(__data.Details[1]);\n  const combineResponse = {\n    ...specResponse,\n    ...ptmResponse\n  };\n  return Promise.resolve(combineResponse);\n} catch (err) {\n  return Promise.reject(err);\n}\n</code></pre>\n"}, {"tags": ["typescript", "protractor", "automated-tests"], "comments": [{"owner": {"reputation": 1519, "user_id": 74837, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41ae74504b47badabd482700f4e7cd76?s=128&d=identicon&r=PG", "display_name": "aaron", "link": "https://stackoverflow.com/users/74837/aaron"}, "edited": false, "score": 1, "creation_date": 1535569024, "post_id": 52084285, "comment_id": 91119033, "body": "what are you expecting <code>this</code> to be bound to? a class instance? if it is being invoked via a callback you&#39;ll have to bind this to it.  can you post a more complete example? i.e. how you are invoking this and the class it is declared in?"}, {"owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "reply_to_user": {"reputation": 1519, "user_id": 74837, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41ae74504b47badabd482700f4e7cd76?s=128&d=identicon&r=PG", "display_name": "aaron", "link": "https://stackoverflow.com/users/74837/aaron"}, "edited": false, "score": 0, "creation_date": 1535637165, "post_id": 52084285, "comment_id": 91147968, "body": "I added further code to clarify how the function was being called.  It lives in a pageObject class and I was expecting this to refer to that class so I could call another function that lived in that same class.  The answer posted was the final solution.  My apologies for any confusion. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "edited": false, "score": 0, "creation_date": 1535636221, "post_id": 52085180, "comment_id": 91147257, "body": "The first one was what I needed! I also understand the binding, but I&#39;d prefer to keep things simple.  I also appreciate the links to further reading so I understand what I&#39;m trying to do. And the subtle hint to use includes, as I didn&#39;t know it existed. Thanks again!"}], "tags": [], "owner": {"reputation": 960, "user_id": 7597651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jbc1X.jpg?s=128&g=1", "display_name": "mykhailo.romaniuk", "link": "https://stackoverflow.com/users/7597651/mykhailo-romaniuk"}, "is_accepted": true, "score": 2, "last_activity_date": 1535572562, "creation_date": 1535572562, "answer_id": 52085180, "question_id": 52084285, "link": "https://stackoverflow.com/questions/52084285/why-can-an-in-place-function-not-reference-the-class-it-is-in/52085180#52085180", "title": "Why can an &quot;in-place&quot; function not reference the class it is in?", "body": "<p>Seems like you are passing a function as a parameter. So <a href=\"https://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/#scope-and-this\" rel=\"nofollow noreferrer\">the scope can be changed</a>. You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow function</a> in order to have access to a correct scope:</p>\n\n<pre><code>await browser.wait(\n    async () =&gt; (await this.getProjectNameBreadCrumbText()).includes(projectName),\n    this.DEFAULT_WAIT_TIME_SECONDS * 1000, \n    'Name Breadcrumb for this page never loaded.'\n);\n</code></pre>\n\n<p>As other option - you can <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow noreferrer\">bind</a> a function to a required scope manually:</p>\n\n<pre><code>this.getProjectNameBreadCrumbText = this.getProjectNameBreadCrumbText.bind(this);\nawait browser.wait(\n    async function() {return (await this.getProjectNameBreadCrumbText()).indexOf(projectName) &gt; -1;},\n    this.DEFAULT_WAIT_TIME_SECONDS * 1000, \n    'Name Breadcrumb for this page never loaded.')\n</code></pre>\n"}], "owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 52085180, "answer_count": 1, "score": 0, "last_activity_date": 1535636155, "creation_date": 1535568590, "last_edit_date": 1535636155, "question_id": 52084285, "link": "https://stackoverflow.com/questions/52084285/why-can-an-in-place-function-not-reference-the-class-it-is-in", "title": "Why can an &quot;in-place&quot; function not reference the class it is in?", "body": "<p>I have this code that I'm using that waits for a breadcrumb on a page to have loaded. The problem is the first line in which I create my own function to use instead of an ExpectedCondition as the ExpectedConditions do not do a contains check and that's what I need in this place.  Since I made my own in-place function, I seem to be outside the realm of the class I'm in.  So I'm lost on why this breaks the scoping and why I can't reference the other method <code>getProjectNameBreadCrumbText()</code> that exists in my class from this in place method.</p>\n\n<p>I found the issue when I received the error <code>Failed: Cannot read property 'getProjectNameBreadCrumbText' of undefined</code>.  I understand that the <code>this</code> is undefined, but I do not understand why.  I also do not know if I could possibly pass the <code>this</code> and thus the class I'm in by reference somehow because I'm not sure of the exact terminology of the code I'm currently using. </p>\n\n<pre><code>// My Page Object class\nexport class MapperPage {\n    ...\n    async getProjectNameBreadCrumbText() {\n        return await this.breadCrumbs.get(2).getText();\n    }\n    ...\n    async waitAndVerifyProjectNameBreadCrumbs(projectName: string) {\n        await browser.wait(async function() {return (await this.getProjectNameBreadCrumbText()).indexOf(projectName) &gt; -1;},\n            this.DEFAULT_WAIT_TIME_SECONDS * 1000, 'Name Breadcrumb for this page never loaded.');\n        expect(await this.getProjectNameBreadCrumbText()).toContain(projectName);\n        expect(await this.getProjectMapperBreadCrumbText()).toEqual(this.MAPPER_BREADCRUMB);\n    }\n}\n\n\n// In my test I call the waitAndVerify method like so\n...\nit('test', async() =&gt; {\n    const PROJECT_NAME = 'Project Name';\n    ... // do other things\n    // wait for the page to load by making sure the breadcrumbs have loaded\n    await waitAndVerifyProjectNameBreadCrumbs(this.PROJECT_NAME);\n});\n</code></pre>\n\n<p>My apologies if this is a duplicate question, I didn't know how to Google what I'm asking for as I'm not sure of the correct terminologies for this code I'm  writing.</p>\n"}, {"tags": ["angularjs", "typescript", "karma-webpack"], "comments": [{"owner": {"reputation": 909, "user_id": 373230, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f9f3148469661a789038d63b5be0ca8a?s=128&d=identicon&r=PG", "display_name": "jSherz", "link": "https://stackoverflow.com/users/373230/jsherz"}, "edited": false, "score": 0, "creation_date": 1535572954, "post_id": 52084210, "comment_id": 91120747, "body": "How are you running the tests when you debug them?"}, {"owner": {"reputation": 1507, "user_id": 740469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88304da40f11929cfb6af8d8e148ed13?s=128&d=identicon&r=PG", "display_name": "esastincy", "link": "https://stackoverflow.com/users/740469/esastincy"}, "reply_to_user": {"reputation": 909, "user_id": 373230, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f9f3148469661a789038d63b5be0ca8a?s=128&d=identicon&r=PG", "display_name": "jSherz", "link": "https://stackoverflow.com/users/373230/jsherz"}, "edited": false, "score": 0, "creation_date": 1535637359, "post_id": 52084210, "comment_id": 91148113, "body": "using the debugger in webstorm (ie Run -&gt; Debug)"}, {"owner": {"reputation": 909, "user_id": 373230, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f9f3148469661a789038d63b5be0ca8a?s=128&d=identicon&r=PG", "display_name": "jSherz", "link": "https://stackoverflow.com/users/373230/jsherz"}, "edited": false, "score": 0, "creation_date": 1535648843, "post_id": 52084210, "comment_id": 91155256, "body": "Is <code>Error: $injector:nomod</code> the full error? If not, please can you post the full stack trace."}], "owner": {"reputation": 1507, "user_id": 740469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88304da40f11929cfb6af8d8e148ed13?s=128&d=identicon&r=PG", "display_name": "esastincy", "link": "https://stackoverflow.com/users/740469/esastincy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535568468, "creation_date": 1535568258, "last_edit_date": 1535568468, "question_id": 52084210, "link": "https://stackoverflow.com/questions/52084210/karma-tests-failing-in-webstorm-debugger", "title": "Karma tests failing in Webstorm Debugger", "body": "<p>I recently updated an AngularJS1.5 application to use typescript.  My tests now run fine when running them using <code>grunt test</code> and they also run fine when running them through Webstorm.  But when I try to debug any of the tests I get the <code>Error: $injector:nomod</code> error.  Here is the Karma config I am using</p>\n\n<pre><code>{\n    webpack,\n\n    // base path, that will be used to resolve files and exclude\n    basePath: cwd,\n\n    captureTimeout: 1200000,\n\n    // testing framework to use (jasmine/mocha/qunit/...)\n    frameworks: ['jasmine'],\n\n    // list of files / patterns to load in the browser\n    files: sourceFiles,\n\n    exclude: [],\n\n    // web server port\n    port: 3000,\n\n    // level of logging\n    // possible values: LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO || LOG_DEBUG\n    logLevel: config.LOG_INFO,\n\n    // coverage reporting breaks Web Storm debugging\n    reporters: ['progress', 'junit', 'html' /*, 'coverage-istanbul'*/],\n\n    // enable / disable watching file and executing tests whenever any file changes\n    autowatch: true,\n\n    // Start these browsers, currently available:\n    // - Chrome\n    // - ChromeCanary\n    // - Firefox\n    // - Opera\n    // - Safari (only Mac)\n    // - PhantomJS\n    // - IE (only Windows)\n    browsers: ['Chrome'],\n\n    // Continuous Integration mode\n    // if true, it capture browsers, run tests and exit\n    singleRun: false,\n\n    preprocessors: {\n        [ scriptsEntry ]: [ 'webpack', 'sourcemap' ]\n    },\n\n    junitReporter: {\n        outputFile: '_dist/test-reports/unit-test-results/unit_tests.xml',\n        suite: ''\n    },\n    sourcemap: true,\n    mime: {\n        'text/x-typescript': ['ts','tsx']\n    },\n\n    htmlReporter: {\n        outputFile: '_dist/test-reports/unit-test-results/unit_tests.html'\n    }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 718195, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587819465bab72a9545e7cfebd8d7e9e?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/718195/vlad"}, "edited": false, "score": 5, "creation_date": 1535571611, "post_id": 52084519, "comment_id": 91120151, "body": "I get an error when trying this out: <code>TS1238: Unable to resolve signature of class decorator when called as an expression.   Type &#39;typeof (Anonymous class)&#39; is not assignable to type &#39;typeof ExampleComponent&#39;.     Property &#39;defaultProps&#39; is missing in type &#39;typeof (Anonymous class)&#39;.</code>"}, {"owner": {"reputation": 97, "user_id": 13025316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94af1ec2ddc2bcb787e0e088040a97f8?s=128&d=identicon&r=PG&f=1", "display_name": "IsleOfManIsAwesome", "link": "https://stackoverflow.com/users/13025316/isleofmanisawesome"}, "edited": false, "score": 0, "creation_date": 1616385260, "post_id": 52084519, "comment_id": 117976331, "body": "Types in the example throw ts-error: <code>Unable to resolve signature of class decorator when called as an expression.   Type &#39;ComponentClass&lt;{ injectedProp: string; nonInjectedProp: string; }&gt;&#39; is not assignable to type &#39;typeof App&#39;.     Construct signature return types &#39;Component&lt;{ injectedProp: string; nonInjectedProp: string; }, ComponentState&gt;&#39; and &#39;App&#39; are incompatible.       The types returned by &#39;render()&#39; are incompatible between these types.         Type &#39;ReactNode&#39; is not assignable to type &#39;Element&#39;.           Type &#39;undefined&#39; is not assignable to type Element.ts(1238)</code>"}], "tags": [], "owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "is_accepted": false, "score": 1, "last_activity_date": 1535569680, "creation_date": 1535569680, "answer_id": 52084519, "question_id": 52084096, "link": "https://stackoverflow.com/questions/52084096/how-to-create-a-typescript-decorator-with-react/52084519#52084519", "title": "How to create a typescript decorator with react", "body": "<p>A basic decorator would function like an HoC wrapper</p>\n\n<pre><code>function decorate(DecoratedComponent) {\n  return class extends React.Component {\n    render() {\n      return &lt;DecoratedComponent {...this.props} injectedProp=\"Hello\" /&gt;;\n    }\n  };\n}\n</code></pre>\n\n<p>you would use it like </p>\n\n<pre><code>@decorate\nclass App extends React.Component { ... }\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/k24zrx218v\" rel=\"nofollow noreferrer\">Here's a working example.</a></p>\n"}], "owner": {"reputation": 661, "user_id": 718195, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587819465bab72a9545e7cfebd8d7e9e?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/718195/vlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1535569680, "creation_date": 1535567804, "question_id": 52084096, "link": "https://stackoverflow.com/questions/52084096/how-to-create-a-typescript-decorator-with-react", "title": "How to create a typescript decorator with react", "body": "<p>I'm trying to create a react class decorator that adds a few props to any react component and returns the decorated component with it's current props plus the additional props from the decorator.</p>\n\n<p>I was able to find working code for a regular typescript class decorator which can found on typescript's <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">decorator handbook</a>. However, this is for a generic class. It doesn't include any react types.  </p>\n\n<p>Below is something similar that I'd like to accomplish with React and Typescript:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@AddOtherProps\r\nclass BasicComponent extends React.Component {\r\n\r\n  static defaultProps = {\r\n    someProp: ''\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      &lt;SomeComponent \r\n        someProp={this.props.someProp} // This is from current component\r\n        otherProp={this.props.propFromDecorator} // This is from the decorator\r\n      &gt;\r\n        {'Component Content'}\r\n      &lt;/SomeComponent&gt;\r\n    );\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 78775, "user_id": 5185595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c6a10877ed272f4f00810dec36452bf?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Shukla", "link": "https://stackoverflow.com/users/5185595/mayank-shukla"}, "edited": false, "score": 2, "creation_date": 1535567723, "post_id": 52084041, "comment_id": 91118455, "body": "did you bind <code>itemRender</code> method?? like this: <code>this.itemRender = this.itemRender.bind(this)</code> ?"}, {"owner": {"reputation": 72053, "user_id": 2138752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/j4UWy.jpg?s=128&g=1", "display_name": "Bhojendra Rauniyar", "link": "https://stackoverflow.com/users/2138752/bhojendra-rauniyar"}, "edited": false, "score": 1, "creation_date": 1535567731, "post_id": 52084041, "comment_id": 91118460, "body": "There&#39;s just x,y arguments and you&#39;re showing us .....args... which may mislead us. Show actual code for its readability."}], "answers": [{"tags": [], "owner": {"reputation": 2453, "user_id": 1119940, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2023678208e261301bf19a20669d96f6?s=128&d=identicon&r=PG", "display_name": "ageoff", "link": "https://stackoverflow.com/users/1119940/ageoff"}, "is_accepted": true, "score": 0, "last_activity_date": 1535567730, "creation_date": 1535567730, "answer_id": 52084084, "question_id": 52084041, "link": "https://stackoverflow.com/questions/52084041/react-callback-undefined/52084084#52084084", "title": "React callback undefined", "body": "<p>I believe the itemRender is the one that is losing the scope. Try binding the itemRender method instead of the handleChange method.</p>\n"}, {"tags": [], "owner": {"reputation": 1197, "user_id": 3330871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/068f9d779ffcb8f9d549cf25afcc5437?s=128&d=identicon&r=PG", "display_name": "Avinash", "link": "https://stackoverflow.com/users/3330871/avinash"}, "is_accepted": false, "score": 1, "last_activity_date": 1535568377, "creation_date": 1535568377, "answer_id": 52084235, "question_id": 52084041, "link": "https://stackoverflow.com/questions/52084041/react-callback-undefined/52084235#52084235", "title": "React callback undefined", "body": "<p>There's no need of binding the handleChange method, since you're calling it inside of the itemRender method,\nbut you do need to bind the itemRender method.</p>\n\n<p>try this     </p>\n\n<pre><code>class MyNewList extends React.Component&lt;any, any&gt; {\n\n    public render(){\n        return (\n        &lt;AnotherComponent  items = {this.state.items } onItemRender = {this.itemRender.bind(this)}\n        )\n    }\n\n    public itemRender(item,column){\n        return (\n            &lt;input type=\"text\" value={this.state.value} \n            onChange= {(event) =&gt; this.handleChange(event,item)} /&gt;\n        )\n    }\n\n    public handleChange(event,item){\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72053, "user_id": 2138752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/j4UWy.jpg?s=128&g=1", "display_name": "Bhojendra Rauniyar", "link": "https://stackoverflow.com/users/2138752/bhojendra-rauniyar"}, "is_accepted": false, "score": 1, "last_activity_date": 1535568398, "creation_date": 1535568398, "answer_id": 52084245, "question_id": 52084041, "link": "https://stackoverflow.com/questions/52084041/react-callback-undefined/52084245#52084245", "title": "React callback undefined", "body": "<p>Try :) This should work.</p>\n\n<pre><code>class MyNewList extends React.Component&lt;any, any&gt; {\n\n  public render(){\n    return (\n      &lt;AnotherComponent  items = {this.state.items } \n      onItemRender = {\n        (event) =&gt; this.itemRender(\n          event, this.state.item, this.state.column)\n      }\n    )\n  }\n\n  public itemRender(event, item, column){\n    return (\n        &lt;input type=\"text\" value={this.state.value} \n         onChange= {this.handleChange(event, item, column)} /&gt;\n    )\n  }\n\n  public handleChange(event, item, column){\n\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4076, "user_id": 173630, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/N1fXR.jpg?s=128&g=1", "display_name": "nnyby", "link": "https://stackoverflow.com/users/173630/nnyby"}, "is_accepted": false, "score": 0, "last_activity_date": 1535568729, "creation_date": 1535568729, "answer_id": 52084314, "question_id": 52084041, "link": "https://stackoverflow.com/questions/52084041/react-callback-undefined/52084314#52084314", "title": "React callback undefined", "body": "<p>This is how I would do it -- rely on a DOM attribute like this:</p>\n\n<pre><code> class MyNewList extends React.Component&lt;any, any&gt; {\n     public constructor(props) {\n         super(props);\n         this.handleChange = this.handleChange.bind(this);\n     }\n\n     public render() {\n         return (\n             &lt;AnotherComponent\n                 items={this.state.items}\n                 onItemRender={this.itemRender} /&gt;\n         )\n     }\n\n     public itemRender(item, column) {\n         return (\n             &lt;input\n                 type=\"text\" value={this.state.value}\n                 name={item.name}\n                 onChange={this.handleChange} /&gt;\n         )\n     }\n\n     public handleChange(e){\n         const name = e.target.name;\n         console.log(name, 'changed');\n     }\n }\n</code></pre>\n"}], "owner": {"reputation": 2331, "user_id": 713944, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P70I5.jpg?s=128&g=1", "display_name": "Ashley John", "link": "https://stackoverflow.com/users/713944/ashley-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 52084084, "answer_count": 4, "score": -1, "last_activity_date": 1535568967, "creation_date": 1535567526, "last_edit_date": 1535568967, "question_id": 52084041, "link": "https://stackoverflow.com/questions/52084041/react-callback-undefined", "title": "React callback undefined", "body": "<p>I have this React Component written in ts which renders another component \nwhich takes items and OnItemRender as props.When AnotherComponent renders each item it calls the itemrender. This is working fine and i am getting the textboxes displayed for every item .Now i have attached an onChange Eventhandler for every textbox. \nBut on any change on textbox i am getting a console error . <code>this</code> is undefined.</p>\n\n<p>Since i am using arrow functions i think the <code>this</code> should be bound to lexical scope correctly . I have even tried adding <code>this.handleChange =</code> <code>this.handleChange.bind(this)</code> but error remains the same. What am i doing wrong?</p>\n\n<pre><code>class MyNewList extends React.Component&lt;any, any&gt; {\n\n  public render(){\n    return (\n      &lt;AnotherComponent  items = {this.state.items } onItemRender = {this.itemRender}\n    )\n  }\n\n  public itemRender(item,column){\n    return (\n        &lt;input type=\"text\" value={this.state.value} \n         onChange= {(event) =&gt; this.handleChange(event,item)} /&gt;\n    )\n  }\n\n  public handleChange(event,item){\n\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 2, "creation_date": 1535566269, "post_id": 52083744, "comment_id": 91117775, "body": "You are passing wrong variable in (click) method. That should be like (click)=&quot;openProductPage(products)&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 373230, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f9f3148469661a789038d63b5be0ca8a?s=128&d=identicon&r=PG", "display_name": "jSherz", "link": "https://stackoverflow.com/users/373230/jsherz"}, "reply_to_user": {"reputation": 161, "user_id": 9388503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m17p2BWbznc/AAAAAAAAAAI/AAAAAAAAACU/Sk18lYhOtVQ/photo.jpg?sz=128", "display_name": "Mohamed Ali Lassoued", "link": "https://stackoverflow.com/users/9388503/mohamed-ali-lassoued"}, "edited": false, "score": 1, "creation_date": 1535573047, "post_id": 52083791, "comment_id": 91120790, "body": "If the answer works for you @MohamedAliLassoued, please can you accept it?"}], "tags": [], "owner": {"reputation": 1218, "user_id": 9801177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZohj.png?s=128&g=1", "display_name": "Pietro Nadalini", "link": "https://stackoverflow.com/users/9801177/pietro-nadalini"}, "is_accepted": true, "score": 2, "last_activity_date": 1535566380, "creation_date": 1535566380, "answer_id": 52083791, "question_id": 52083744, "link": "https://stackoverflow.com/questions/52083744/undefined-object-from-my-product-page/52083791#52083791", "title": "Undefined object from my product page", "body": "<p>In your code you are using <code>products</code> in the <code>ngFor</code>, so you should use that variable when you call the method click</p>\n\n<pre><code>&lt;ion-item *ngFor=\"let products of moreProducts\" text-wrap (click)=\"openProductPage(products)\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 9388503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m17p2BWbznc/AAAAAAAAAAI/AAAAAAAAACU/Sk18lYhOtVQ/photo.jpg?sz=128", "display_name": "Mohamed Ali Lassoued", "link": "https://stackoverflow.com/users/9388503/mohamed-ali-lassoued"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 52083791, "answer_count": 1, "score": 1, "last_activity_date": 1535593086, "creation_date": 1535566171, "last_edit_date": 1535593086, "question_id": 52083744, "link": "https://stackoverflow.com/questions/52083744/undefined-object-from-my-product-page", "title": "Undefined object from my product page", "body": "<p>This is my constructor into product-details.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>product: any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n\r\n\r\n    this.product = this.navParams.get(\"product\");\r\n    console.log(this.product);\r\n    \r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is my home.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  openProductPage(product){\r\n    this.navCtrl.push(ProductDetailsPage, {\"product\": product} );\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And this is the html file home.html</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ion-list&gt;\r\n    &lt;ion-item *ngFor=\"let products of moreProducts\" text-wrap (click)=\"openProductPage(product)\"&gt;\r\n        &lt;ion-thumbnail item-left&gt;\r\n          &lt;img [src]=\"products.featured_src\" /&gt;\r\n        &lt;/ion-thumbnail&gt;\r\n\r\n        &lt;h1&gt;{{products.title}}&lt;/h1&gt;\r\n        &lt;p&gt;\r\n          &lt;span [innerHTML]=\"products.short_description.substr(0, 50) + '...'\"&gt;&lt;/span&gt;\r\n          &lt;span [innerHTML]=\"products.price_html\"&gt;&lt;/span&gt;\r\n        &lt;/p&gt;\r\n\r\n         &lt;button ion-button  icon clear item-right&gt;\r\n           &lt;ion-icon name=\"arrow-forward\"&gt;&lt;/ion-icon&gt;\r\n         &lt;/button&gt;\r\n    &lt;/ion-item&gt;\r\n  &lt;/ion-list&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And when I click to an product it show \"undefined \" in the console log\nby the way I added all necessary things in the app.module.ts \nwhich import \"...\" &amp; declarations &amp; entryComponents </p>\n"}, {"tags": ["angular", "typescript", "angular-services"], "comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1535565014, "post_id": 52083412, "comment_id": 91117158, "body": "how about catch the error when subscribe executes?"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1535565043, "post_id": 52083412, "comment_id": 91117171, "body": "what is the rxjs version"}, {"owner": {"reputation": 696, "user_id": 2517324, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/269368e82f5df88549876bc64a945437?s=128&d=identicon&r=PG", "display_name": "David Pullar", "link": "https://stackoverflow.com/users/2517324/david-pullar"}, "edited": false, "score": 0, "creation_date": 1535577486, "post_id": 52083412, "comment_id": 91122715, "body": "<code>Observable.throw</code> or import <code>_throw</code>: <code>_throw(new Error(...))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "is_accepted": true, "score": 2, "last_activity_date": 1535565071, "creation_date": 1535565071, "answer_id": 52083484, "question_id": 52083412, "link": "https://stackoverflow.com/questions/52083412/how-to-return-custom-error-in-angular-service/52083484#52083484", "title": "How to return custom error in Angular service?", "body": "<p>Instead of throwing your error, try returning an observable of it using <code>Observable.throw</code>.</p>\n\n<p>The <a href=\"https://www.learnrxjs.io/operators/error_handling/catch.html\" rel=\"nofollow noreferrer\">docs</a> specifically remind to return an observable from the <code>catch</code> operator.</p>\n"}], "owner": {"reputation": 51, "user_id": 10156301, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f3QXu6cYors/AAAAAAAAAAI/AAAAAAAAABE/Lu3017SpQnQ/photo.jpg?sz=128", "display_name": "user9687", "link": "https://stackoverflow.com/users/10156301/user9687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2435, "favorite_count": 0, "accepted_answer_id": 52083484, "answer_count": 1, "score": 0, "last_activity_date": 1535571281, "creation_date": 1535564797, "question_id": 52083412, "link": "https://stackoverflow.com/questions/52083412/how-to-return-custom-error-in-angular-service", "title": "How to return custom error in Angular service?", "body": "<p>I have a service that will return http query, my caller will by default receive the result and assign it to a News[] object.</p>\n\n<pre><code> this.service.getNews(url).subscribe((res) =&gt; this.news = res);\n</code></pre>\n\n<p>now I want to throw a custom error if any error occured:</p>\n\n<pre><code>getNews(url:string): Observable&lt;News[]&gt; {\n  return this.http.get&lt;News[]&gt;(url).catch(err =&gt; {\n  throw new Error(\"My Custom Error\");\n});\n</code></pre>\n\n<p>But I got a compling error that \"cannot assign the {} to a Observable &lt; News[] >\"  because the error is not a type of News[].</p>\n\n<p>So how can I modify the code to return an error without changing the returning type Observable &lt; News[] >?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic4", "stenciljs"], "comments": [{"owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1535579762, "post_id": 52083347, "comment_id": 91123508, "body": "thanks Alexander. I responded you on <b>[EDIT 1]</b> on my original post, please, check."}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1535581964, "post_id": 52083347, "comment_id": 91124137, "body": "Do you either <code>import &#39;@ionic&#47;core&#39;;</code> in your component or use include the <a href=\"https://github.com/ionic-team/ionic/tree/master/core#vanilla-html\" rel=\"nofollow noreferrer\">CDN</a> @ionic/core assets in your project? Creating a new stencil-component-starter and importing/linking either is allowing the elements to be used and exported. There are definitely styling inconsistencies, but that is an entirely different issue related to the beta."}, {"owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1535582319, "post_id": 52083347, "comment_id": 91124245, "body": "Alexander, could you maybe post that suggestion on the following post (StackOverflow) for the community convenience? I also can answer you there. Thanks! <a href=\"https://stackoverflow.com/questions/52024158/ion-label-component-inside-the-stencil-component-starter-not-getting-rendered\" title=\"ion label component inside the stencil component starter not getting rendered\">stackoverflow.com/questions/52024158/&hellip;</a>"}, {"owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1535641164, "post_id": 52083347, "comment_id": 91150847, "body": "Alexander, when I take the way of importing: <code>@ionic&#47;core</code> in my component everything works just fine, but the compiled component has lot of JavaScript files which I think lot of them is <code>@ionic&#47;core</code> or <code>@stencil&#47;core</code> source code. Imagine the case where I have 10 custom components, for each of them I&#39;m gonna have maybe 10 times common code. I&#39;m wondering if is there a way to prevent that?. Is maybe the second way you suggested above: &quot;add CDN scripts/styles to the index.html&quot; achieving this?, I mean, the previous core code is not incorporated on my code but I can use it via CDN?. Thanks!"}], "owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 555, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535582189, "creation_date": 1535564519, "last_edit_date": 1535582189, "question_id": 52083347, "link": "https://stackoverflow.com/questions/52083347/how-to-create-a-custom-stencil-component-with-the-ionic-pwa-starter-kit", "title": "How to create a custom Stencil component with the Ionic PWA Starter Kit", "body": "<p>I just run the command:</p>\n\n<pre><code>$ npx create-stencil ionic-pwa\n</code></pre>\n\n<p>which created a vanilla <code>Ionic 4 PWA</code> with the following directory structure inside directory: <code>src</code>:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 assets\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 icon\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 favicon.ico\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 icon.png\n\u251c\u2500\u2500 components\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app-home\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-home.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-home.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 app-home.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app-profile\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-profile.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-profile.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 app-profile.tsx\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 my-app\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 my-app.css\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 my-app.spec.ts\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 my-app.tsx\n\u251c\u2500\u2500 components.d.ts\n\u251c\u2500\u2500 global\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 app.ts\n\u251c\u2500\u2500 helpers\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utils.ts\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 manifest.json\n\u2514\u2500\u2500 sw.js\n</code></pre>\n\n<p>Then I want to create a custom component with html tag: <code>comp-workspace</code> and file name: <code>comp-workspace.js</code> (or something similar) that I can insert on any vanilla <code>HTML</code>/<code>Javascript</code> page without using any Javascript framework.</p>\n\n<p>There are some things to take into consideration here:</p>\n\n<ol>\n<li><p>component: <code>comp-workspace</code> can include the following components: { <code>comp-gallery</code>, <code>comp-artboard</code>, <code>comp-text-editor</code>, <code>comp-layer-stack</code> }.</p></li>\n<li><p>all above components can include standard <code>Ionic</code> components.</p></li>\n</ol>\n\n<p>Please, take a look to the following diagram:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6HRK3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6HRK3.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the directory structure after adding my custom component: <code>comp-workspace</code> and its dependencies.</p>\n\n<pre><code>.\n\u251c\u2500\u2500 assets\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 icon\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 favicon.ico\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 icon.png\n\u251c\u2500\u2500 components\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app-home\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-home.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-home.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 app-home.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app-profile\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-profile.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 app-profile.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 app-profile.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-workspace\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-workspace.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-workspace.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 comp-workspace.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-gallery\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-gallery.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-gallery.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 comp-gallery.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-artboard\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-artboard.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-artboard.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 comp-artboard.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-text-editor\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-text-editor.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-text-editor.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 comp-text-editor.tsx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-layer-stack\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-layer-stack.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 comp-layer-stack.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 comp-layer-stack.tsx\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 my-app\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 my-app.css\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 my-app.spec.ts\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 my-app.tsx\n\u251c\u2500\u2500 components.d.ts\n\u251c\u2500\u2500 global\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 app.ts\n\u251c\u2500\u2500 helpers\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utils.ts\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 manifest.json\n\u2514\u2500\u2500 sw.js\n</code></pre>\n\n<p>Then, I want to use my custom component in a way similar to:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\" /&gt;\n&lt;title&gt;Title of the document&lt;/title&gt;\n&lt;script src=\"...\"&gt;&lt;/script&gt;\n&lt;script src=\"https://my.repository.com/components/comp-workspace.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;comp-workspace attr1=\"...\" attr2=\"...\" attr3=\"...\" ...&gt;&lt;/comp-workspace&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>If I run the <code>build</code> command on the console I get the following output:</p>\n\n<pre><code>$ npm run build\n\n&gt; @ionic/pwa-toolkit@0.0.1 build D:\\stencil-lab\n&gt; stencil build\n\n[25:03.5]  @stencil/core v0.12.1\n[25:03.9]  build, app, prod mode, started ...\n[25:06.3]  transpile started ...\n[25:12.3]  transpile finished in 6.02 s\n[25:15.5]  module map started ...\n[25:15.5]  generate styles started ...\n[25:26.0]  compile global style start ...\n[25:28.0]  compile global style finish in 2.03 s\n[25:28.0]  generate styles finished in 12.50 s\n[25:28.0]  module map finished in 12.50 s\n[25:28.0]  generate bundles started ...\n[25:28.2]  generate bundles finished in 237 ms\n[25:28.2]  generate app files started ...\n[25:29.6]  generate app files finished in 1.36 s\n[26:03.4]  inject manifest into service worker started ...\n[26:08.5]  inject manifest into service worker finished in 5.04 s\n\n[ WARN  ]  build warn\n           Generated an empty bundle\n\n[26:08.5]  build finished in 64.58 s\n</code></pre>\n\n<p>I also get a new directory: <code>www</code> with the following content:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 assets\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 icon\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 favicon.ico\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 icon.png\n\u251c\u2500\u2500 build\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 3hkybzk1.es5.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 3hkybzk1.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 3hkybzk1.sc.es5.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 3hkybzk1.sc.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 4jakisfl.es5.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 4jakisfl.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 4jakisfl.sc.es5.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 4jakisfl.sc.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 aa33sq6q.es5.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 aa33sq6q.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [... AND MANY MORE FILES]\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 index.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-add-circle-outline.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-add-circle.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-add.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-airplane.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-alarm.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-albums.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-alert.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-american-football.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u251c\u2500\u2500 ios-analytics.svg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0  \u00a0\u00a0 \u2514\u2500\u2500 [... AND MANY MORE FILES]\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 app.js\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 manifest.json\n\u251c\u2500\u2500 sw.js\n\u2514\u2500\u2500 workbox-v3.4.1\n    \u251c\u2500\u2500 workbox-background-sync.dev.js\n    \u251c\u2500\u2500 workbox-background-sync.dev.js.map\n    \u251c\u2500\u2500 workbox-background-sync.prod.js\n    \u251c\u2500\u2500 workbox-background-sync.prod.js.map\n    \u251c\u2500\u2500 workbox-broadcast-cache-update.dev.js\n    \u251c\u2500\u2500 workbox-broadcast-cache-update.dev.js.map\n    \u251c\u2500\u2500 workbox-broadcast-cache-update.prod.js\n    \u251c\u2500\u2500 workbox-broadcast-cache-update.prod.js.map\n    \u251c\u2500\u2500 workbox-cache-expiration.dev.js\n    \u251c\u2500\u2500 workbox-cache-expiration.dev.js.map\n    \u2514\u2500\u2500 [... AND MANY MORE FILES]\n\n6 directories, 832 files\n</code></pre>\n\n<p>but as you can see, I don't get an actual javascript bundle file I can use to insert my custom component on any vanilla <code>HTML/Javascript</code> page.</p>\n\n<p><strong>My question is:</strong> how do I <code>build</code> just my custom component from inside this <code>Ionic 4 PWA</code> app?</p>\n\n<p>Thanks!</p>\n\n<p><strong>[EDIT 1]</strong></p>\n\n<p>This is a response to the comment from <strong>Alexander Staroselsky</strong> below, where he says:</p>\n\n<blockquote>\n  <p>You could consider using something like <strong>stencil-component-starter</strong> to\n  build individual web components that can be bundled and used\n  effectively anywhere.</p>\n</blockquote>\n\n<p>That's a good point Alexander, and actually that was my initial idea but I found some problems which I posted on this forum:</p>\n\n<p><a href=\"https://forum.ionicframework.com/t/ion-label-component-inside-the-stencil-component-starter-not-getting-rendered/139763/3#post_4\" rel=\"nofollow noreferrer\">https://forum.ionicframework.com/t/ion-label-component-inside-the-stencil-component-starter-not-getting-rendered/139763/3#post_4</a></p>\n\n<p><strong>Aaron Saunders</strong> said there (as of <code>2018-08-28</code>):</p>\n\n<blockquote>\n  <p>It appears that this project (<strong>stencil-component-starter</strong>) doesn't have <code>Ionic 4</code> in it by default.</p>\n</blockquote>\n\n<p>Then he suggested me to use the <code>Ionic PWA Starter Kit</code> project and that's what I was trying to do here. Doing this way everything seems to work well (all <code>Ionic</code> components work), but now I just need to compile just my custom component to a separate file.</p>\n\n<p>Here is a the same discussion in parallel in <strong>StackOverflow</strong>:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/52024158/ion-label-component-inside-the-stencil-component-starter-not-getting-rendered\">ion-label component inside the stencil-component-starter not getting rendered</a></p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 2, "creation_date": 1535564248, "post_id": 52083268, "comment_id": 91116755, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron\">Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference</a>"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1535564265, "post_id": 52083268, "comment_id": 91116766, "body": "...and/or <a href=\"http://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 2, "creation_date": 1535564299, "post_id": 52083268, "comment_id": 91116784, "body": "Your code <i>does</i> add <code>Lat1</code> and such properties on the instance you&#39;re constructing, but it does so <i>asynchronously</i>."}], "owner": {"reputation": 3, "user_id": 10034391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f3NnvdNS9fE/AAAAAAAAAAI/AAAAAAAAACY/hNMNVsMgPHg/photo.jpg?sz=128", "display_name": "Bryam Abril", "link": "https://stackoverflow.com/users/10034391/bryam-abril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535564146, "creation_date": 1535564146, "question_id": 52083268, "link": "https://stackoverflow.com/questions/52083268/how-can-i-take-a-value-from-the-constructor", "title": "How can I take a value from the constructor", "body": "<p>I have this constructor function buy I need to take out the value of lat1,lat2,lon1,lon2 from the constructor to use the constant out off the constructor</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class MapasPage {\r\n  map: any;\r\n  markers:any;\r\n  //datos\r\n  contacts: ContactList[];\r\n  Latitud:any;\r\n  Longitud:any;\r\n  Lat1:any;\r\n  Lon1:any;\r\n  Lat2:any;\r\n  Lon2:any;\r\n\r\n  \r\n constructor(public navCtrl: NavController, public geolocation: Geolocation, public platform:Platform,private contactProvider: ContactProvider) {\r\n        ///datos\r\n        this.contactProvider.getAll()\r\n        .then((result) =&gt; {\r\n          this.contacts = result;\r\n          \r\n          let answer = this.contacts.map(x=&gt; {\r\n          let {name2, name3} = x.contact;\r\n          let obj = {name2,name3}\r\n          return obj\r\n          })\r\n          this.Latitud= answer.map(({ name2}) =&gt; name2);\r\n          this.Longitud= answer.map(({ name3}) =&gt; name3);\r\n         // console.log(answer)\r\n          this.Lat1=this.Latitud[0];\r\n          this.Lat2=this.Latitud[1];\r\n          this.Lon1=this.Longitud[0];\r\n          this.Lon2=this.Longitud[1];\r\n         // console.log(this.Lat1)\r\n          \r\n      }) \r\n    } </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1535564676, "post_id": 52083179, "comment_id": 91116964, "body": "This is a known breaking change in Angular 5. Have you tried adding the library directories to the <code>include</code> key in your tsconfig.json?"}, {"owner": {"reputation": 930, "user_id": 5607560, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-FjutRCkyotg/AAAAAAAAAAI/AAAAAAAAJh8/uzbpAKPcZ-c/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/5607560/alex"}, "reply_to_user": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1535565624, "post_id": 52083179, "comment_id": 91117452, "body": "I have no include key in the tsconfig.json, maybe it goes on the /src/tsconfig.app.json ? Use include key makes another error in comilation: tsconfig.json(23,5): error TS5023: Unknown compiler option &#39;include&#39;."}, {"owner": {"reputation": 930, "user_id": 5607560, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-FjutRCkyotg/AAAAAAAAAAI/AAAAAAAAJh8/uzbpAKPcZ-c/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/5607560/alex"}, "reply_to_user": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1535566749, "post_id": 52083179, "comment_id": 91117996, "body": "Oh Thank you, I solved it now. I was placing the include inside the compileroptions, and it goes on the first level. Now it seems that it works."}], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 5607560, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-FjutRCkyotg/AAAAAAAAAAI/AAAAAAAAJh8/uzbpAKPcZ-c/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/5607560/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1535566899, "creation_date": 1535566899, "answer_id": 52083902, "question_id": 52083179, "link": "https://stackoverflow.com/questions/52083179/missing-from-the-typescrypt-compilation-error-after-update-angular-4-4-to-6/52083902#52083902", "title": "Missing from the TypeScrypt compilation error after update angular 4.4 to 6", "body": "<p>Finally, thanks to the comment of Mikhail Burshteyn, I solved it. I had to add the library directories to the tsconfig.json with a <code>include</code> tag.</p>\n\n<p>Now the tsconfig.json looks like this:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"include\": [\n    \"src/**/*.ts\",\n    \"node_modules/ngx-lorem-ipsum/**/*.ts\"\n    ],\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ],\n    \"module\": \"es2015\",\n    \"baseUrl\": \"./\",\n    \"paths\": {\n      \"@ngx-lorem-ipsum/\": [ \"./node_modules/ngx-lorem-ipsum/lib/\" ],\n    },\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 930, "user_id": 5607560, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-FjutRCkyotg/AAAAAAAAAAI/AAAAAAAAJh8/uzbpAKPcZ-c/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/5607560/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "accepted_answer_id": 52083902, "answer_count": 1, "score": 0, "last_activity_date": 1535566899, "creation_date": 1535563746, "last_edit_date": 1535564136, "question_id": 52083179, "link": "https://stackoverflow.com/questions/52083179/missing-from-the-typescrypt-compilation-error-after-update-angular-4-4-to-6", "title": "Missing from the TypeScrypt compilation error after update angular 4.4 to 6", "body": "<p>I updated a 4.4 angular app to angular 6.</p>\n\n<p>I had several errors but I fixed them, and now when I run <code>npm run start</code>, at the end of the compilation (about 92%) I get the following error:</p>\n\n<pre><code>ERROR in ./node_modules/ngx-lorem-ipsum/lib/ngx-lorem-ipsum.component.ts\nModule build failed: Error: /application/node_modules/ngx-lorem-ipsum/lib/ngx-lorem-ipsum.component.ts is missing from the TypeScript compilation. Please make sure it is in your tsconfig via the 'files' or 'include' property.\nThe missing file seems to be part of a third party library. TS files in published libraries are often a sign of a badly packaged library. Please open an issue in the library repository to alert its author and ask them to package the library using the Angular Package Format (https://docs.google.com/document/d/1CZC2rcpxffTDfRDs6p1cfbmKNLA6x5O-NtkJglDaBVs/preview).\n    at AngularCompilerPlugin.getCompiledFile (/application/node_modules/@ngtools/webpack/src/angular_compiler_plugin.js:749:23)\n    at plugin.done.then (/application/node_modules/@ngtools/webpack/src/loader.js:41:31)\n    at &lt;anonymous&gt;\n    at process._tickCallback (internal/process/next_tick.js:188:7)\n</code></pre>\n\n<p>I searched how to solve it and I read that writing:</p>\n\n<pre><code>\"paths\": {\n  \"@ngx-lorem-ipsum/\": [ \"./node_modules/ngx-lorem-ipsum/lib/\" ],\n},\n</code></pre>\n\n<p>at the end of the tsconfig.json It should be fixed. But the compilation keeps failing with the same error.</p>\n\n<p>Now tsconfig.json looks like this:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ],\n    \"module\": \"es2015\",\n    \"baseUrl\": \"./\",\n    \"paths\": {\n      \"@ngx-lorem-ipsum/\": [ \"./node_modules/ngx-lorem-ipsum/lib/\" ],\n    },\n  }\n}\n</code></pre>\n\n<p>How to solve the missing from the TypeScrypt compilation error?</p>\n\n<ul>\n<li>Angular CLI: 6.1.5 </li>\n<li>Node: 8.9.4</li>\n<li>OS: darwin x64</li>\n<li>Angular: 6.1.4</li>\n<li>ngx-lorem-ipsum: ^0.1.1</li>\n</ul>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 3, "creation_date": 1535563264, "post_id": 52082928, "comment_id": 91116262, "body": "Types in TypeScript are a compile time concept. Once the program is running, you are in JavaScript world."}, {"owner": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1535563597, "post_id": 52082928, "comment_id": 91116447, "body": "@Henry so we cannot write function the way I have written"}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1535564164, "post_id": 52082928, "comment_id": 91116714, "body": "Errors would be caught if you tried to call your function from inside the component class. But since you are calling it from HTML, there is probably no type checking there. By the way, I recommend you type it as <code>number</code> instead of <code>Number</code>."}, {"owner": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1535564814, "post_id": 52082928, "comment_id": 91117045, "body": "@Frank ModicaI - I have tried type it as number too its giving same result."}, {"owner": {"reputation": 126, "user_id": 4195562, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dW9afL-7ylU/AAAAAAAAAAI/AAAAAAAAD3s/b6TXD8ULJdE/photo.jpg?sz=128", "display_name": "Phelipe Rocha", "link": "https://stackoverflow.com/users/4195562/phelipe-rocha"}, "edited": false, "score": 0, "creation_date": 1535565777, "post_id": 52082928, "comment_id": 91117530, "body": "@MritunJay frank mean that you should use the type number in lowercase because the primitive type in Typescript is in lowercase if you use as Capitalized form Typescript will think it&#39;s a Class or Interface"}, {"owner": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "reply_to_user": {"reputation": 126, "user_id": 4195562, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dW9afL-7ylU/AAAAAAAAAAI/AAAAAAAAD3s/b6TXD8ULJdE/photo.jpg?sz=128", "display_name": "Phelipe Rocha", "link": "https://stackoverflow.com/users/4195562/phelipe-rocha"}, "edited": false, "score": 0, "creation_date": 1535566693, "post_id": 52082928, "comment_id": 91117977, "body": "@PhelipeRocha got u.. but I tried in lower case too its not restricting the function from executing."}, {"owner": {"reputation": 126, "user_id": 4195562, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dW9afL-7ylU/AAAAAAAAAAI/AAAAAAAAD3s/b6TXD8ULJdE/photo.jpg?sz=128", "display_name": "Phelipe Rocha", "link": "https://stackoverflow.com/users/4195562/phelipe-rocha"}, "edited": false, "score": 0, "creation_date": 1535589389, "post_id": 52082928, "comment_id": 91125784, "body": "@MritunJay yeah, typescript can&#39;t do that, because of typescript work only for lint propose while de developer is coding. For this behavior you need to make a function like in the answer from Vlad274"}, {"owner": {"reputation": 126, "user_id": 4195562, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dW9afL-7ylU/AAAAAAAAAAI/AAAAAAAAD3s/b6TXD8ULJdE/photo.jpg?sz=128", "display_name": "Phelipe Rocha", "link": "https://stackoverflow.com/users/4195562/phelipe-rocha"}, "edited": false, "score": 0, "creation_date": 1535589542, "post_id": 52082928, "comment_id": 91125817, "body": "@MritunJay check your typescript code here <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">typescriptlang.org/play</a> so you can understand better how typescript work. You can see that after typescript compile to javascript it doesn&#39;t create any type cheker"}], "answers": [{"comments": [{"owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "edited": false, "score": 0, "creation_date": 1535564766, "post_id": 52083393, "comment_id": 91117016, "body": "down voted because he is getting the value from html input tag which is having tag binding as text."}, {"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "reply_to_user": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "edited": false, "score": 1, "creation_date": 1535565105, "post_id": 52083393, "comment_id": 91117203, "body": "@VaibhavKumarGoyal A fair point, that I&#39;ve addressed in an update. I like your method of restricting the input with <code>type</code> attribute as well"}], "tags": [], "owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "is_accepted": false, "score": 0, "last_activity_date": 1535565342, "last_edit_date": 1535565342, "creation_date": 1535564714, "answer_id": 52083393, "question_id": 52082928, "link": "https://stackoverflow.com/questions/52082928/defining-type-of-variable-as-number-does-not-throw-error-even-if-value-is-string/52083393#52083393", "title": "Defining type of variable as number does not throw error even if value is string --TypeScript, Angular", "body": "<p>As mentioned in the comments, type definitions in TypeScript are a compile-time check. This compile-time check is only effective for .ts code, thus the Angular binding is not validated for types.</p>\n\n<p>If you wish to restrict the execution at runtime, you need to do it manually</p>\n\n<pre><code>getval(val:Number){\n  if (typeof val !== \"number\") {\n     throw new Error(\"Value is not a number\");\n  }\n\n  console.log('val', this.txtVal)\n}\n</code></pre>\n\n<p>Alternatively, if you just want to log the error and not mess with the execution</p>\n\n<pre><code>getval(val:Number){\n  if (typeof val !== \"number\") {\n     console.error(\"Value is not a number\");\n     return;\n  }\n\n  console.log('val', this.txtVal)\n}\n</code></pre>\n\n<hr>\n\n<p>However, since you're passing the value from an input field you likely want to test if the value the user has entered can be converted to a number.</p>\n\n<pre><code>getval(val: string){\n  const numberValue = Number(val);\n  if (numberValue === Number.NaN) {\n     throw new Error(\"Value is not a number\");\n  }\n\n  // Do stuff\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "edited": false, "score": 0, "creation_date": 1535565107, "post_id": 52083430, "comment_id": 91117207, "body": "same solution was given by one of the user but he got downvoted. Dont know why"}, {"owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "reply_to_user": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "edited": false, "score": 0, "creation_date": 1535565338, "post_id": 52083430, "comment_id": 91117326, "body": "@MritunJay that is absolute you can work with as anything coming from html is interpreted in angular according to the dom object property type ,so set your input tag as text it&#39;ll end up throwing back everything as string"}, {"owner": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "edited": false, "score": 1, "creation_date": 1535565818, "post_id": 52083430, "comment_id": 91117553, "body": "input tag as text it&#39;ll end up throwing back everything as string but my method is expecting parameter as number. then it should prevent the method from executing."}, {"owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "reply_to_user": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "edited": false, "score": 0, "creation_date": 1535566103, "post_id": 52083430, "comment_id": 91117700, "body": "@MritunJay kindly visit the stack biltz edit to see it working"}], "tags": [], "owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "is_accepted": false, "score": -1, "last_activity_date": 1535566074, "last_edit_date": 1535566074, "creation_date": 1535564868, "answer_id": 52083430, "question_id": 52082928, "link": "https://stackoverflow.com/questions/52082928/defining-type-of-variable-as-number-does-not-throw-error-even-if-value-is-string/52083430#52083430", "title": "Defining type of variable as number does not throw error even if value is string --TypeScript, Angular", "body": "<p>Edited your <a href=\"https://stackblitz.com/edit/angular-3tcaap\" rel=\"nofollow noreferrer\">stackbiltz</a>.Please change your binding from the html itself as </p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]= \"txtVal\"&gt;\n&lt;button (click)=\"getval(txtVal)\"&gt;Get Val&lt;/button&gt;\n</code></pre>\n\n<p>then if you use typeOf it will return you the type as number</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport{Observable} from 'rxjs';\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n  txtVal :any;\n  tet: number;\n\n\n\n     getval(val :number){\n    if(Number.isNaN(parseInt(this.txtVal)))\n    {\n      return;\n    }\n    else{\n        console.log('couldn\\'t convert' );\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10280824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d5ee2cdf78f23bb23b9e9f8d7460ec?s=128&d=identicon&r=PG&f=1", "display_name": "MritunJay", "link": "https://stackoverflow.com/users/10280824/mritunjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 935, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1535574574, "creation_date": 1535562939, "last_edit_date": 1535574574, "question_id": 52082928, "link": "https://stackoverflow.com/questions/52082928/defining-type-of-variable-as-number-does-not-throw-error-even-if-value-is-string", "title": "Defining type of variable as number does not throw error even if value is string --TypeScript, Angular", "body": "<p>I just started looking into angular and type script. I am trying to restrict the execution of function if the parameter passed is not of type number but it is failing. Can anybody help me in this or if i am missing anything. Thanks.</p>\n\n<p>/**TS File **/</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n  txtVal: number;\n\n  getval(val:number){\n    console.log('val', this.txtVal)\n  }\n}\n</code></pre>\n\n<p>/<em>HTML</em>/</p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]= \"txtVal\"&gt;\n&lt;button (click)=\"getval(txtVal)\"&gt;Get Val&lt;/button&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-d9hwsi?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-d9hwsi?file=src%2Fapp%2Fapp.component.html</a></p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "jestjs", "typescript-typings"], "comments": [{"owner": {"reputation": 7390, "user_id": 205696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6a042553edc475cda59f8f62df2a86c?s=128&d=identicon&r=PG", "display_name": "dotnetCarpenter", "link": "https://stackoverflow.com/users/205696/dotnetcarpenter"}, "edited": false, "score": 0, "creation_date": 1535562573, "post_id": 52082800, "comment_id": 91115875, "body": "In <code>functorToBe(actual: Functor&lt;T&gt;, expected:  Functor&lt;T&gt;)</code> I want to say that <code>actual</code> and <code>expected</code> must be the same type."}], "answers": [{"comments": [{"owner": {"reputation": 7390, "user_id": 205696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6a042553edc475cda59f8f62df2a86c?s=128&d=identicon&r=PG", "display_name": "dotnetCarpenter", "link": "https://stackoverflow.com/users/205696/dotnetcarpenter"}, "edited": false, "score": 0, "creation_date": 1535567152, "post_id": 52083601, "comment_id": 91118158, "body": "<a href=\"https://jestjs.io/\" rel=\"nofollow noreferrer\">jest</a> is not something you import  and is only used for tests, not in the shipped code. How do I specify the type in argument T? Do I document <code>just</code> and then the typescript parser will figure it out? Anyway, mixing typescript and js seems like it needs more work. Currently, I can not import <code>jest</code>, since it is not how it works, and renaming myExtensions.d.ts to myExtensions.js gives me a lot of errors. Looks like I&#39;m supposed to use JSDoc which can not handle this use-case: <a href=\"https://stackoverflow.com/a/52082859/205696\">stackoverflow.com/a/52082859/205696</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1535568038, "post_id": 52083601, "comment_id": 91118579, "body": "You have shadowed <code>T</code>"}, {"owner": {"reputation": 17649, "user_id": 7851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52feb5a1f3175e3706444ca360fb1271?s=128&d=identicon&r=PG", "display_name": "Nathan Shively-Sanders", "link": "https://stackoverflow.com/users/7851/nathan-shively-sanders"}, "edited": false, "score": 0, "creation_date": 1535570904, "post_id": 52083601, "comment_id": 91119847, "body": "Oops, I misunderstood your problem entirely. I thought that (1) jest uses modules because of your import statement and (2) jest shipped its own types. I&#39;ll edit this answer to fix it."}, {"owner": {"reputation": 7390, "user_id": 205696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6a042553edc475cda59f8f62df2a86c?s=128&d=identicon&r=PG", "display_name": "dotnetCarpenter", "link": "https://stackoverflow.com/users/205696/dotnetcarpenter"}, "edited": false, "score": 0, "creation_date": 1594256957, "post_id": 52083601, "comment_id": 111065460, "body": "Thanks for your help Nathan. I tried again just now to get the typescript checker to recognise my matcher but to no aval. Here is my effort, if you could be so kind to take a look when you have time: <a href=\"https://github.com/dotnetCarpenter/SO_jest_functor_ts\" rel=\"nofollow noreferrer\">github.com/dotnetCarpenter/SO_jest_functor_ts</a>"}, {"owner": {"reputation": 7390, "user_id": 205696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6a042553edc475cda59f8f62df2a86c?s=128&d=identicon&r=PG", "display_name": "dotnetCarpenter", "link": "https://stackoverflow.com/users/205696/dotnetcarpenter"}, "edited": false, "score": 0, "creation_date": 1594257470, "post_id": 52083601, "comment_id": 111065553, "body": "The current docs for Jest 26.1 <a href=\"https://jestjs.io/docs/en/expect#expectextendmatchers\" rel=\"nofollow noreferrer\">jestjs.io/docs/en/expect#expectextendmatchers</a> is mentioning <code>declare global {</code> but vscode 1.46.1 tells me that &quot;Augmentations for the global scope can only be directly nested in external modules or ambient module declarations.ts(2669)&quot;, though I do not know what that means."}], "tags": [], "owner": {"reputation": 17649, "user_id": 7851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52feb5a1f3175e3706444ca360fb1271?s=128&d=identicon&r=PG", "display_name": "Nathan Shively-Sanders", "link": "https://stackoverflow.com/users/7851/nathan-shively-sanders"}, "is_accepted": false, "score": 2, "last_activity_date": 1535572778, "last_edit_date": 1535572778, "creation_date": 1535565536, "answer_id": 52083601, "question_id": 52082800, "link": "https://stackoverflow.com/questions/52082800/how-to-describe-the-interface-of-a-simple-just-functor-in-typescript/52083601#52083601", "title": "How to describe the interface of a simple Just functor in typescript?", "body": "<h2>The extension</h2>\n\n<p>Your merge of <code>Matchers</code> is almost right, but from looking at the jest types on Definitely Typed [1], I can see that <code>Matchers</code> is nested inside a <code>jest</code> namespace. The part of the Typescript handbook that covers this is  <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">namespace merging</a>.</p>\n\n<pre><code>namespace jest {\n    export interface Matchers&lt;R&gt; {\n        functorToBe&lt;T&gt;(actual: Functor&lt;T&gt;, expected:  Functor&lt;T&gt;): R;\n    }\n}\n</code></pre>\n\n<p>When I tested this, I needed a tsconfig.json to get my JS files to see the declaration:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowJs\": true,\n        \"checkJs\": true,\n    },\n    \"include\": [\n        \"test.js\",\n        \"extensions.ts\",\n    ]\n}\n</code></pre>\n\n<p>A jsconfig.json is almost the same thing, but doesn't require you to add <code>\"allowJs\": true</code> explicitly. But note that adding a tsconfig or jsconfig will turn off automatic downloads of types from Definitely Typed, and you'll have to manually <code>npm install @types/jest</code> (plus any other types for libraries you use). If you don't want to add a tsconfig, I was able to manually add a reference in the JS file as the first line:</p>\n\n<pre><code>/// &lt;reference path=\"./extensions.ts\" /&gt;\n</code></pre>\n\n<h2>The type of the new method</h2>\n\n<p>It should be something like:</p>\n\n<pre><code>functorToBe(expected: R): R;\n</code></pre>\n\n<p>Here is where things get confusing to me. Let me know if you have questions about this part of the problem and I will try to help.</p>\n"}], "owner": {"reputation": 7390, "user_id": 205696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6a042553edc475cda59f8f62df2a86c?s=128&d=identicon&r=PG", "display_name": "dotnetCarpenter", "link": "https://stackoverflow.com/users/205696/dotnetcarpenter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1535572778, "creation_date": 1535562480, "last_edit_date": 1535567838, "question_id": 52082800, "link": "https://stackoverflow.com/questions/52082800/how-to-describe-the-interface-of-a-simple-just-functor-in-typescript", "title": "How to describe the interface of a simple Just functor in typescript?", "body": "<p>I'm trying to write a simple interface in typescript for the first time and having doubts about pretty much everything.</p>\n\n<p>The question is simple. How to describe this simple jest matcher extension?</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>/**\n * @param {*} v Any value\n */\nfunction just (v) {\n  return {\n    fmap: f =&gt; just(f(v))\n  }\n}\n\nexpect.extend({\n  /** Compare the two values inside two functors with Object.is\n   * @method\n   * @augments jest.Matchers\n   * @param {*} actual The functor you want to test.\n   * @param {*} expected The functor you expect.\n   */\n  functorToBe(actual, expected) {\n    const actualValue = getFunctorValue(actual)\n    const expectedValue = getFunctorValue(expected)\n    const pass = Object.is(actualValue, expectedValue)\n    return {\n      pass,\n      message () {\n        return `expected ${actualValue} of ${actual} to ${pass ? '' : 'not'} be ${expectedValue} of ${expected}`\n      }\n    }\n  }\n})\n\ntest('equational reasoning (identity)', () =&gt; {\n  expect(just(1)).functorToBe(just(1))\n})\n</code></pre>\n\n<p>I have tried this but not sure about the generic types at all:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>import { Matchers } from 'jest'\n\ninterface Functor&lt;T&gt; {\n  (value?: any): {\n    fmap: (f: value) =&gt; Functor&lt;T&gt;\n  }\n}\n\ninterface Matchers&lt;R&gt; {\n  functorToBe(actual: Functor&lt;T&gt;, expected:  Functor&lt;T&gt;): R\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://stackoverflow.com/questions/51972275/jsdoc-document-object-method-extending-other-class\">JSDoc document object method extending other class</a></p>\n\n<p>The gist of the jest type definition for <code>Matchers&lt;R&gt;</code>:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>/**\n * The `expect` function is used every time you want to test a value.\n * You will rarely call `expect` by itself.\n */\ninterface Expect {\n    /**\n     * The `expect` function is used every time you want to test a value.\n     * You will rarely call `expect` by itself.\n     *\n     * @param actual The value to apply matchers against.\n     */\n    &lt;T = any&gt;(actual: T): Matchers&lt;T&gt;;\n    /**\n     * You can use `expect.extend` to add your own matchers to Jest.\n     */\n    extend(obj: ExpectExtendMap): void;\n    // etc.\n}\n</code></pre>\n\n<p>Well, this is confusing. The only <em>index.d.ts</em> in the jest repo is <a href=\"https://github.com/facebook/jest/blob/master/packages/jest-editor-support/index.d.ts\" rel=\"nofollow noreferrer\">https://github.com/facebook/jest/blob/master/packages/jest-editor-support/index.d.ts</a> but that is not the one I get in vscode, which is <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/jest/index.d.ts#L471\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/jest/index.d.ts#L471</a>.</p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 5, "creation_date": 1535562447, "post_id": 52082718, "comment_id": 91115800, "body": "<code>A</code> and <code>B</code> are structurally the same, that&#39;s why TypeScript accepts it: <a href=\"https://www.typescriptlang.org/docs/handbook/type-compatibility.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/type-compatibility.html</a>"}, {"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 1, "creation_date": 1535562522, "post_id": 52082718, "comment_id": 91115848, "body": "Here&#39;s a helpful answer on S.O. <a href=\"https://stackoverflow.com/a/39562956/831878\">stackoverflow.com/a/39562956/831878</a>"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1535592729, "post_id": 52082718, "comment_id": 91126385, "body": "also related: <a href=\"https://stackoverflow.com/questions/49135069/typescript-generic-type-check-not-working-as-expected\" title=\"typescript generic type check not working as expected\">stackoverflow.com/questions/49135069/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 6, "last_activity_date": 1535562516, "creation_date": 1535562516, "answer_id": 52082808, "question_id": 52082718, "link": "https://stackoverflow.com/questions/52082718/typescript-array-accepts-wrong-type/52082808#52082808", "title": "Typescript Array accepts wrong type", "body": "<p>TypeScript uses structural compatibility to determine type compatibility. The classes are structurally compatible since they have the same properties (empty object).</p>\n\n<p>See: <a href=\"https://www.typescriptlang.org/docs/handbook/type-compatibility.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/type-compatibility.html</a></p>\n"}], "owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 52082808, "answer_count": 1, "score": 1, "last_activity_date": 1535562516, "creation_date": 1535562220, "question_id": 52082718, "link": "https://stackoverflow.com/questions/52082718/typescript-array-accepts-wrong-type", "title": "Typescript Array accepts wrong type", "body": "<p>I would expect the following code to fail to transpile, as B should not be a valid type for array.push. What am I missing?</p>\n\n<pre><code>class A {};\nclass B {};\nconst arr: A[] = [];\narr.push(new B());\n</code></pre>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 2, "creation_date": 1535561539, "post_id": 52082521, "comment_id": 91115316, "body": "<code>(window as any).foo = &quot;1234&quot;;</code> or <code>(&lt;any&gt; window).foo = &quot;1234&quot;;</code>."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1535561704, "post_id": 52082521, "comment_id": 91115394, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30219843/declare-typescript-global-variable-as-module-type\">Declare Typescript global variable as &quot;module&quot; type</a>"}, {"owner": {"reputation": 1405, "user_id": 7746570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcdee534449abec52e9b7951f56ee73c?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7746570/sam"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1535561755, "post_id": 52082521, "comment_id": 91115423, "body": "There may be few more global variable, is it correct to store all in window object?"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1535561807, "post_id": 52082521, "comment_id": 91115448, "body": "That is the definition of a global variable in the browser - all of them exist as properties on the window object. If you need you&#39;re almost certainly doing something wrong, though."}, {"owner": {"reputation": 1405, "user_id": 7746570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcdee534449abec52e9b7951f56ee73c?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7746570/sam"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1535561952, "post_id": 52082521, "comment_id": 91115522, "body": "yeah correct. i agree. is this the only way or is there any other way?"}, {"owner": {"reputation": 2194, "user_id": 5728217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xB1kwBRrfk0/AAAAAAAAAAI/AAAAAAAAALs/b_r00eLGBbM/photo.jpg?sz=128", "display_name": "julian salas", "link": "https://stackoverflow.com/users/5728217/julian-salas"}, "edited": false, "score": 0, "creation_date": 1535569215, "post_id": 52082521, "comment_id": 91119110, "body": "Of course, you can use <code>localstorage</code>or <code>vuex store</code> to share a variable across of Components."}], "answers": [{"comments": [{"owner": {"reputation": 1926, "user_id": 3095538, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917c468d816a2c0fd7c742277e136e3e?s=128&d=identicon&r=PG&f=1", "display_name": "DAG", "link": "https://stackoverflow.com/users/3095538/dag"}, "edited": false, "score": 0, "creation_date": 1602047654, "post_id": 60104761, "comment_id": 113592366, "body": "it&#39;s not if your use case requires it. this is ok as long as u know what you are doing."}, {"owner": {"reputation": 1695, "user_id": 2355482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzgtK.png?s=128&g=1", "display_name": "DoronG", "link": "https://stackoverflow.com/users/2355482/dorong"}, "reply_to_user": {"reputation": 1926, "user_id": 3095538, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917c468d816a2c0fd7c742277e136e3e?s=128&d=identicon&r=PG&f=1", "display_name": "DAG", "link": "https://stackoverflow.com/users/3095538/dag"}, "edited": false, "score": 0, "creation_date": 1602114073, "post_id": 60104761, "comment_id": 113621217, "body": "the question is not &quot;if you know what you are doing&quot;, it is &quot;if you know what others are doing and if they know what you are doing&quot;. JavaScript global scope pollution is one of the most common and know anti-pattern. e.g. <a href=\"https://www.tutorialspoint.com/what-is-global-namespace-pollution-in-javascript\" rel=\"nofollow noreferrer\">tutorialspoint.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1695, "user_id": 2355482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzgtK.png?s=128&g=1", "display_name": "DoronG", "link": "https://stackoverflow.com/users/2355482/dorong"}, "is_accepted": false, "score": 0, "last_activity_date": 1602114089, "last_edit_date": 1602114089, "creation_date": 1581029610, "answer_id": 60104761, "question_id": 52082521, "link": "https://stackoverflow.com/questions/52082521/how-can-i-declare-a-global-variable-in-typescript-and-use-it-across-in-vue/60104761#60104761", "title": "How can I declare a global variable in TypeScript and use it across in Vue", "body": "<pre class=\"lang-js prettyprint-override\"><code>declare global {\n    const foo: string;\n}\n</code></pre>\n<p>but I must say, this is an anti-pattern and bad practice (for production)</p>\n"}], "owner": {"reputation": 1405, "user_id": 7746570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcdee534449abec52e9b7951f56ee73c?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7746570/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2747, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1602114089, "creation_date": 1535561460, "last_edit_date": 1535567446, "question_id": 52082521, "link": "https://stackoverflow.com/questions/52082521/how-can-i-declare-a-global-variable-in-typescript-and-use-it-across-in-vue", "title": "How can I declare a global variable in TypeScript and use it across in Vue", "body": "<p>I have a <strong>main.ts</strong> file, I want to declare a variable over there and use it across all the <strong>Vue</strong> files.</p>\n\n<p>I have a <strong>sfc.d.ts</strong> with this content:</p>\n\n<pre><code>declare module '*.vue' {\n   import Vue from 'vue'\n   export default Vue\n}\n\ndeclare var foo: any;\n</code></pre>\n\n<p>I assigned a value to <code>foo = \"1234\"</code> in <strong>main.ts</strong>.\nHow can I use this <code>foo</code> variable in all the Vue files? \nOr is there any other way, to create global variable and use it across?</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 407, "user_id": 5281237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQgT8.jpg?s=128&g=1", "display_name": "Viran Malaka", "link": "https://stackoverflow.com/users/5281237/viran-malaka"}, "edited": false, "score": 0, "creation_date": 1535561596, "post_id": 52082304, "comment_id": 91115344, "body": "can&#39;t you initially check those conditions, and then in each cases pop up 3 different dialog?"}, {"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "reply_to_user": {"reputation": 407, "user_id": 5281237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQgT8.jpg?s=128&g=1", "display_name": "Viran Malaka", "link": "https://stackoverflow.com/users/5281237/viran-malaka"}, "edited": false, "score": 0, "creation_date": 1535561693, "post_id": 52082304, "comment_id": 91115386, "body": "I already think about having 3 dialog  ,but I want to know that if there is any other way to do that ...@ViranMalaka"}, {"owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "edited": false, "score": 0, "creation_date": 1535561695, "post_id": 52082304, "comment_id": 91115388, "body": "Or when the condition changes, just close the dialog and reopen the dialog with different size and prefilled data"}], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 2558927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac95841c02f744c142380ebdb82ab3b?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/2558927/andreas"}, "is_accepted": true, "score": 5, "last_activity_date": 1535564352, "creation_date": 1535564352, "answer_id": 52083317, "question_id": 52082304, "link": "https://stackoverflow.com/questions/52082304/is-it-possible-to-set-different-height-and-width-for-a-dialog-in-angular-materia/52083317#52083317", "title": "is it possible to set different height and width for a dialog in Angular material Design Angular 5", "body": "<p>Within your dialog's component you can inject <code>MatDialogRef</code> and call its <code>updateSize</code> method to change the height/width according to your needs.</p>\n\n<p>Check an example <a href=\"https://stackblitz.com/edit/angular-material-dialog-resize\" rel=\"noreferrer\">here</a></p>\n"}], "owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4915, "favorite_count": 0, "accepted_answer_id": 52083317, "answer_count": 1, "score": 2, "last_activity_date": 1535564352, "creation_date": 1535560659, "question_id": 52082304, "link": "https://stackoverflow.com/questions/52082304/is-it-possible-to-set-different-height-and-width-for-a-dialog-in-angular-materia", "title": "is it possible to set different height and width for a dialog in Angular material Design Angular 5", "body": "<p>I am working in an angular 5 application ,In this application for login purpose I have a Angular Material Design popup .</p>\n\n<p>I have the following process in the dialog screen .</p>\n\n<p><strong>checking user mail if it's new signup form will be enabled or password field will be enabled.</strong></p>\n\n<p>So Initially I have the dialog height and width as <strong>100 * 100</strong> for the <strong>email input</strong></p>\n\n<p>If the user not exist the <strong>signup</strong> form will be enabled for that I want to set the height and width as <strong>300*100</strong> </p>\n\n<p>If user already exists then <strong>password</strong> field  will be enabled along with email input for that i want to set <strong>200 * 100</strong> </p>\n\n<p>I am new to this so I could not find a solution also searched on SO can't solve it .</p>\n\n<pre><code> myAccountClick(event) {\n\n        const dialogScreen = this.dialog.open(MyaccountComponent,{height:'100px',width:'100px'});\n\n    }\n</code></pre>\n\n<p>can anyone help me to solve this .</p>\n"}, {"tags": ["typescript", "generics", "parametric-polymorphism", "subtyping"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1535559553, "post_id": 52081964, "comment_id": 91114345, "body": "The if is inside the X class?"}, {"owner": {"reputation": 3683, "user_id": 330242, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c9f3ffc3e30d25eb64e2e464f0a86bd7?s=128&d=identicon&r=PG", "display_name": "przemo_li", "link": "https://stackoverflow.com/users/330242/przemo-li"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1535559700, "post_id": 52081964, "comment_id": 91114435, "body": "Oh, yes. It is inside <code>methodB</code> inside class <code>X</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3683, "user_id": 330242, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c9f3ffc3e30d25eb64e2e464f0a86bd7?s=128&d=identicon&r=PG", "display_name": "przemo_li", "link": "https://stackoverflow.com/users/330242/przemo-li"}, "edited": false, "score": 0, "creation_date": 1535563075, "post_id": 52082911, "comment_id": 91116154, "body": "How <code>B</code> can not be valid type for <code>T</code> when <code>T extends B</code>?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 3683, "user_id": 330242, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c9f3ffc3e30d25eb64e2e464f0a86bd7?s=128&d=identicon&r=PG", "display_name": "przemo_li", "link": "https://stackoverflow.com/users/330242/przemo-li"}, "edited": false, "score": 1, "creation_date": 1535563129, "post_id": 52082911, "comment_id": 91116187, "body": "Suppose <code>B = {x: string}</code> and <code>T = {x: string, y: string}</code>.  Then <code>T extends B</code>, and if <code>this.p.a = {x: &quot;foo&quot;}</code>, then <code>this.p.a</code> is a <code>B</code> that is not a <code>T</code>."}, {"owner": {"reputation": 3683, "user_id": 330242, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c9f3ffc3e30d25eb64e2e464f0a86bd7?s=128&d=identicon&r=PG", "display_name": "przemo_li", "link": "https://stackoverflow.com/users/330242/przemo-li"}, "edited": false, "score": 0, "creation_date": 1535563240, "post_id": 52082911, "comment_id": 91116249, "body": "Ok. I get it <code>&lt;T extends B&gt;</code> means =&gt; any type as long as it&#39;s strictly bigger then <code>B</code>. Hmm. How do I make it <code>bigger or equal to</code>?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 3683, "user_id": 330242, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c9f3ffc3e30d25eb64e2e464f0a86bd7?s=128&d=identicon&r=PG", "display_name": "przemo_li", "link": "https://stackoverflow.com/users/330242/przemo-li"}, "edited": false, "score": 2, "creation_date": 1535563375, "post_id": 52082911, "comment_id": 91116332, "body": "No, <code>T extends B</code> means the caller of class <code>X</code> gets to choose <code>T</code> and can choose it to be equal to <code>B</code> or a subtype (what you are calling &quot;bigger&quot;).  The implementation of <code>X</code> has to work for <i>all</i> valid choices of <code>T</code>.  If the caller chooses <code>T</code> that has more members than <code>B</code>, then your code doesn&#39;t work."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1535562865, "creation_date": 1535562865, "answer_id": 52082911, "question_id": 52081964, "link": "https://stackoverflow.com/questions/52081964/typescript-generics-cant-pass-instance-of-b-to-a-argument-a-t-where-t-extends/52082911#52082911", "title": "Typescript generics. Can&#39;t pass instance of B to a argument a: T where T extends B. Why?", "body": "<p>You're getting an error because someone might use <code>X&lt;T&gt;</code> where <code>T</code> is a subclass of <code>B</code>, and then <code>this.p.a</code> might be a <code>B</code> that is not a <code>T</code>.  To know the best way to resolve the error, we'd need to know more about what you are trying to achieve.</p>\n"}], "owner": {"reputation": 3683, "user_id": 330242, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c9f3ffc3e30d25eb64e2e464f0a86bd7?s=128&d=identicon&r=PG", "display_name": "przemo_li", "link": "https://stackoverflow.com/users/330242/przemo-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 52082911, "answer_count": 1, "score": 0, "last_activity_date": 1535562865, "creation_date": 1535559265, "last_edit_date": 1535559733, "question_id": 52081964, "link": "https://stackoverflow.com/questions/52081964/typescript-generics-cant-pass-instance-of-b-to-a-argument-a-t-where-t-extends", "title": "Typescript generics. Can&#39;t pass instance of B to a argument a: T where T extends B. Why?", "body": "<p>I have class:</p>\n\n<pre><code>class X&lt;T extends B&gt; [...]\n  // this.p.a :: B | null\n  methodA(a: T):void {[...]}\n\n  methodB(): void {\n    if(this.p.a){ // :: B\n      this.methodA(this.p.a) // Error\n</code></pre>\n\n<p>As you can see, I'm relaying on <code>T</code> being any type as long as it extends <code>B</code>, and then I'm passing some property to it of said type <code>B</code>. However Typescript can't infer that <code>B</code> is a type that satisfy <code>T</code> type parameter in the last line of above code snippet.</p>\n\n<p>Error message:</p>\n\n<pre><code>error TS2345: Argument of type 'B' is not assignable to parameter of type 'T'.\n</code></pre>\n\n<p><strong>Why is this not working?</strong>\n<strong>Should I change any offending type declaration to <code>B</code> instead of <code>T</code> and relay on inheritance?</strong></p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1535558178, "post_id": 52081579, "comment_id": 91113572, "body": "<code>inputValue</code> marked with Input decorator, it should be used as <code>[inputValue]=&quot;thevalue</code>&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "edited": false, "score": 2, "creation_date": 1535558698, "post_id": 52081701, "comment_id": 91113912, "body": "I&#39;ll accept your answer as soon as I&#39;m able to. But seriously?! The event emmiters name has got to be the same as @Input name, but with &quot;Change&quot; attached to its end? :D Why and is it documented anywhere at all?"}, {"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "reply_to_user": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "edited": false, "score": 0, "creation_date": 1535558999, "post_id": 52081701, "comment_id": 91114054, "body": "@gfels yeah since the <code>Input</code> and <code>Output</code> are defined in the same scope, they chose this naming rule to be able to recognize an <code>EventEmitter</code> used for custom two-way databinding. You can find some documentation here: <a href=\"https://blog.angulartraining.com/tutorial-create-your-own-two-way-data-binding-in-angular-46487650ea82\" rel=\"nofollow noreferrer\">blog.angulartraining.com/&hellip;</a>. Thank you in advance for the answer acceptance ;)"}], "tags": [], "owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "is_accepted": true, "score": 5, "last_activity_date": 1535558330, "creation_date": 1535558330, "answer_id": 52081701, "question_id": 52081579, "link": "https://stackoverflow.com/questions/52081579/angular5-change-parents-property-from-child-components-inputs-ngmodel-b/52081701#52081701", "title": "Angular5 - Change parent&#39;s property from child component&#39;s input&#39;s [(ngModel)] binding", "body": "<p>Just change <code>emitInputValue</code> to <code>inputValueChange</code>.</p>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-bs7cgy?file=components/childinput/childinput.component.ts\" rel=\"noreferrer\">Fixed Stackblitz</a></p>\n"}, {"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 2, "last_activity_date": 1535558822, "last_edit_date": 1535558822, "creation_date": 1535558506, "answer_id": 52081764, "question_id": 52081579, "link": "https://stackoverflow.com/questions/52081579/angular5-change-parents-property-from-child-components-inputs-ngmodel-b/52081764#52081764", "title": "Angular5 - Change parent&#39;s property from child component&#39;s input&#39;s [(ngModel)] binding", "body": "<p>childinput.component.html</p>\n\n<pre><code>&lt;div class=\"elastic-textarea\"&gt;\n    &lt;ion-input rows=\"1\"  [value]=\"inputValue\" [ngModel]=\"inputValue\" (ngModelChange)=\"change($event)\" &gt;&lt;/ion-input&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>home.html and home.ts\nchange</p>\n\n<pre><code>&lt;app-childinput [(inputValue)]=\"thevalue\" &gt;&lt;/app-childinput&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;app-childinput [inputValue]=\"thevalue\" (emitInputValue)=\"update($event)\" &gt;&lt;/app-childinput&gt;\n\n\nupdate(event) {\n    this.thevalue = event;\n  }\n</code></pre>\n\n<p>You declared Output EventEmitter <code>emitInputValue</code>,  you didn't emit it properly. <code>[(ngModel)]</code> is two way binding which you mixed it with your Input decorator <code>inputValue</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/CntCl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CntCl.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1879, "user_id": 7841823, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/41df3fbed0d213c159fdc4fe45359e27?s=128&d=identicon&r=PG&f=1", "display_name": "gfels", "link": "https://stackoverflow.com/users/7841823/gfels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2142, "favorite_count": 0, "accepted_answer_id": 52081701, "answer_count": 2, "score": 2, "last_activity_date": 1535558822, "creation_date": 1535557988, "question_id": 52081579, "link": "https://stackoverflow.com/questions/52081579/angular5-change-parents-property-from-child-components-inputs-ngmodel-b", "title": "Angular5 - Change parent&#39;s property from child component&#39;s input&#39;s [(ngModel)] binding", "body": "<p>I have already looked at <a href=\"https://stackoverflow.com/questions/35327929/angular-2-ngmodel-in-child-component-updates-parent-component-property\">this</a> similar question without success. The plunker mentioned in the question seems to be broken.</p>\n\n<p>I am trying to update parent component's property from child component's [(ngModel)] binding.</p>\n\n<p>This is the child components HTML:</p>\n\n<pre><code>&lt;div class=\"elastic-textarea\"&gt;\n    &lt;ion-input rows=\"1\"  [value]=\"inputValue\" [(ngModel)]=\"inputValue\" (ngModelChange)=\"change($event)\" &gt;&lt;/ion-input&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>This is the child components TS:</p>\n\n<pre><code>import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-childinput',\n  templateUrl: './childinput.component.html',\n  styleUrls: ['./childinput.component.css']\n})\nexport class ChildinputComponent  {\n@Input() inputValue: string;\n  @Output() emitInputValue = new EventEmitter();\n  constructor() { }\n\nchange(newValue) {\n    console.log('newvalue', newValue)\n    this.inputValue = newValue;\n    this.emitInputValue.emit(newValue);\n  }\n}\n</code></pre>\n\n<p>This is how I'm using the child component in the parent component:</p>\n\n<pre><code>&lt;app-childinput [(inputValue)]=\"thevalue\" &gt;&lt;/app-childinput&gt;\n&lt;p&gt;The changed value should be reflected here: {{thevalue}}&lt;/p&gt;\n</code></pre>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/ionic-nspyip?file=pages%2Fhome%2Fhome.html\" rel=\"nofollow noreferrer\"><strong>STACKBLITZ</strong></a> demonstrating the issue. The parent component is the page callled \"home\", and the child component is the component called \"childinput.\"</p>\n\n<p>Am I doing something wrong or is this simply not possible anymore in Angular?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "express", "bootstrap-4"], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 1, "last_activity_date": 1535824568, "creation_date": 1535824568, "answer_id": 52130781, "question_id": 52081305, "link": "https://stackoverflow.com/questions/52081305/unable-to-display-flsha-messages-when-form-is-submitted/52130781#52130781", "title": "Unable to display flsha-messages when form is submitted", "body": "<p>Code looks totally fine and it should work as expected, anyhow if you are using any api with node.js you can set the timeout to send the response as follows,</p>\n\n<pre><code> setTimeout((function() {res.send(\"ok\")}), 2000);\n</code></pre>\n"}], "owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52130781, "answer_count": 1, "score": 0, "last_activity_date": 1535824568, "creation_date": 1535556977, "question_id": 52081305, "link": "https://stackoverflow.com/questions/52081305/unable-to-display-flsha-messages-when-form-is-submitted", "title": "Unable to display flsha-messages when form is submitted", "body": "<p>I'm using nodejs,  Express and angular 6 for my website, and I've just created a contact form with nodemailer. Now I want to use a flash message to show on the contact page after the form is submitted eg </p>\n\n<p><code>Data succesfully submitted ! Thanks'</code> and vice versa</p>\n\n<p>here is form </p>\n\n<pre><code>&lt;h1&gt;Contact us&lt;/h1&gt;\n &lt;flash-messages&gt;&lt;/flash-messages&gt;\n\n  &lt;form [formGroup]=\"angForm\" method=\"POST\" novalidate&gt;\n    &lt;div class=\"message\"&gt;\n      &lt;h3&gt; Write to us &lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form__top\"&gt;\n      &lt;div class=\"form__left\"&gt;\n        &lt;div class=\"form__group\"&gt;\n          &lt;input class=\"form__input form__input--name\" type=\"text\"   formControlName=\"name\" placeholder=\"name\" #name&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"angForm.controls['name'].invalid &amp;&amp; (angForm.controls['name'].dirty || angForm.controls['name'].touched)\" class=\"alert alert-danger\"&gt;\n          &lt;div *ngIf=\"angForm.controls['name'].errors.required\"&gt;\n            Name is required.\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form__group\"&gt;\n          &lt;input class=\"form__input form__input--email\" type=\"email\"  formControlName=\"email\" placeholder=\"email\" #email&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"angForm.controls['email'].invalid &amp;&amp; (angForm.controls['message'].dirty || angForm.controls['message'].touched)\"\n          class=\"alert alert-danger\"&gt;\n          &lt;div *ngIf=\"angForm.controls['message'].errors.required\"&gt;\n            message is required.\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form__right\"&gt;\n        &lt;div class=\"form__group\"&gt;\n          &lt;textarea class=\"form__input form__input--textarea\" placeholder=\"Message\" formControlName=\"message\"  #message\n            rows=\"3\"&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"angForm.controls['message'].invalid &amp;&amp; (angForm.controls['message'].dirty || angForm.controls['message'].touched)\"\n          class=\"alert alert-danger\"&gt;\n          &lt;div *ngIf=\"angForm.controls['message'].errors.required\"&gt;\n            message is required.\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form__down\"&gt;\n      &lt;div class=\"form__group\"&gt;\n        &lt;button (click)=\"sendMail(name.value, email.value, message.value)\" [disabled]=\"angForm.pristine || angForm.invalid\"  class=\"form__input form__input--submit\" name=\"submit\" type=\"submit\" value=\"SEND MESSAGE\"&gt;SEND MESSAGE\n        &lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>here is components.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ContactService } from '../../contact.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { FlashMessagesModule, FlashMessagesService } from 'angular2-flash-messages';\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n  angForm: FormGroup;\n  constructor(\n    private flashMessages: FlashMessagesService,\n    private fb: FormBuilder,\n    private contactService: ContactService) {\n    this.createForm();\n  }\n\n  createForm() {\n    this.angForm = this.fb.group({\n      name: ['', Validators.required],\n      email: ['', Validators.required],\n      message: ['', Validators.required],\n    });\n  }\n  sendMail(name, email, message) {\n    this.contactService.sendEmail(name, email, message).subscribe(() =&gt; {\n      this.flashMessages.show('You are data we succesfully submitted', { cssClass: 'alert-success', timeout: 3000 });\n    }, error =&gt; {\n      this.flashMessages.show('Something went wrong', { cssClass: 'alert-danger', timeout: 3000 });\n    });\n  }\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>here is contact.js(node mailer settings)</p>\n\n<pre><code>const express = require('express');\nconst router = express.Router();\nconst request = require('request');\nconst nodemailer = require('nodemailer');\n\nrouter.post('/send', (req, res) =&gt; {\n    const outputData = `\n    &lt;p&gt;You have a new contact request&lt;/p&gt;\n    &lt;h3&gt;Contact Details&lt;/h3&gt;\n    &lt;ul&gt;  \n      &lt;li&gt;Name: ${req.body.name}&lt;/li&gt;\n      &lt;li&gt;Email: ${req.body.email}&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;h3&gt;Message&lt;/h3&gt;\n    &lt;p&gt;${req.body.message}&lt;/p&gt;\n  `;\n\n    let transporter = nodemailer.createTransport({\n       service: 'gmail',\n        auth: {\n            user: 'myEmail',\n            pass: 'pass'\n        },\n        tls: {\n            rejectUnauthorized: false\n        }\n    });\n\n    let HelperOptions = {\n        from: '\"name\" &lt;myEmail',\n        to: 'myEmail',\n        subject: 'Majeni Contact Request',\n        text: 'Hello',\n        html: outputData\n    };\n\n\n\n    transporter.sendMail(HelperOptions, (error, info) =&gt; {\n        if (error) {\n            return console.log(error);\n        }\n        console.log(\"The message was sent!\");\n        console.log(info);\n    });\n\n});\nmodule.exports = router;\n</code></pre>\n\n<p>Now I am able to send the message, but I want the successfully message to display when data is submitted. unfortunatelly nothing is displayed but the data is submitted.</p>\n\n<p>what am I doing wrong here?</p>\n"}, {"tags": ["typescript", "lodash", "npm-install", "typescript-typings", "definitelytyped"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 1069871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bb52449b714ad72600903da11d06aba9?s=128&d=identicon&r=PG", "display_name": "cafesanu", "link": "https://stackoverflow.com/users/1069871/cafesanu"}, "edited": false, "score": 2, "creation_date": 1535558571, "post_id": 52081757, "comment_id": 91113830, "body": "OMG thank you kind sir! You are definitely a genius! Someday I hope to be as smart, cool, and probably handsome as you"}], "tags": [], "owner": {"reputation": 46, "user_id": 6258471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6epPl.jpg?s=128&g=1", "display_name": "cpoonolly", "link": "https://stackoverflow.com/users/6258471/cpoonolly"}, "is_accepted": true, "score": 3, "last_activity_date": 1535558797, "last_edit_date": 1535558797, "creation_date": 1535558485, "answer_id": 52081757, "question_id": 52081295, "link": "https://stackoverflow.com/questions/52081295/how-do-i-install-lodash-v3-typescript-typings/52081757#52081757", "title": "How do I install lodash v3 Typescript typings", "body": "<p>Just run:</p>\n\n<pre><code>npm install --save-dev @types/lodash@3.10.2\n</code></pre>\n\n<p>You can see what other 3.* versions are available on the npm page:\n<a href=\"https://www.npmjs.com/package/@types/lodash\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@types/lodash</a></p>\n"}], "owner": {"reputation": 305, "user_id": 1069871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bb52449b714ad72600903da11d06aba9?s=128&d=identicon&r=PG", "display_name": "cafesanu", "link": "https://stackoverflow.com/users/1069871/cafesanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 52081757, "answer_count": 1, "score": 3, "last_activity_date": 1535558797, "creation_date": 1535556951, "question_id": 52081295, "link": "https://stackoverflow.com/questions/52081295/how-do-i-install-lodash-v3-typescript-typings", "title": "How do I install lodash v3 Typescript typings", "body": "<p>Unfortunately I cannot upgrade to lodash 4 right now. So, I'm trying to use the v3 typings provided in  <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/lodash\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/lodash</a> , which has a v3 folder with lodash 3 typings. However, when I do <code>npm install @types/lodash --save-dev</code> the v3 folder is not there. All I see is the <code>common</code> and 'fp' folder.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1535556513, "post_id": 52081074, "comment_id": 91112426, "body": "Is <a href=\"https://stackoverflow.com/questions/44447730/property-0-is-missing-in-type\">this question</a> helpful?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1535557772, "post_id": 52081074, "comment_id": 91113299, "body": "Probably a breaking change, although I can&#39;t find any documentation in 3.0 about it. Length was added to tuples a while ago so it&#39;s probably not because of that. Tuples were worked on in 3.0 so that might have something to do with it. The simplest solution is to asset to <code>any</code> or use <code>[null]</code> instead as that would be a valid value for your tuple with a single element"}], "answers": [{"tags": [], "owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "is_accepted": true, "score": 1, "last_activity_date": 1535562145, "creation_date": 1535562145, "answer_id": 52082691, "question_id": 52081074, "link": "https://stackoverflow.com/questions/52081074/compiler-error-in-typescript-version-3-but-not-in-version-2/52082691#52082691", "title": "Compiler error in Typescript version 3 but not in version 2", "body": "<p>This is due to tuple length enforcement in TypeScript 3.0 which forces signature <code>[T]</code> to have one element in the array of type <code>T</code>.</p>\n\n<p>The only solution is to make an element type optional as follow.</p>\n\n<pre><code>class MyClass&lt;T&gt;{\n    private myMethods: [((val: T) =&gt; void)?] = [] as [((val: T) =&gt; void)?];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10043, "user_id": 5770132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08d37535f8b1f2d7c5785cfd21067b9?s=128&d=identicon&r=PG", "display_name": "Oblosys", "link": "https://stackoverflow.com/users/5770132/oblosys"}, "is_accepted": false, "score": 1, "last_activity_date": 1535574540, "creation_date": 1535574540, "answer_id": 52085620, "question_id": 52081074, "link": "https://stackoverflow.com/questions/52081074/compiler-error-in-typescript-version-3-but-not-in-version-2/52085620#52085620", "title": "Compiler error in Typescript version 3 but not in version 2", "body": "<p>If <code>myMethods</code> is not a tuple but an array (as the name suggests,) you can just do</p>\n\n<pre><code>class MyClass&lt;T&gt;{\n    private myMethods: Array&lt;(val: T) =&gt; void&gt; = [];\n}\n</code></pre>\n"}], "owner": {"reputation": 2357, "user_id": 1008572, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2546a87d9eb9ce02de5bf6a62ec7893c?s=128&d=identicon&r=PG", "display_name": "Rox", "link": "https://stackoverflow.com/users/1008572/rox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 52082691, "answer_count": 2, "score": 0, "last_activity_date": 1535574540, "creation_date": 1535556174, "question_id": 52081074, "link": "https://stackoverflow.com/questions/52081074/compiler-error-in-typescript-version-3-but-not-in-version-2", "title": "Compiler error in Typescript version 3 but not in version 2", "body": "<p>Since updating Typescript to 3.x I can not compile this class anymore:</p>\n\n<pre><code>class MyClass&lt;T&gt;{\n    private myMethods: [(val: T) =&gt; void] = [] as [(val: T) =&gt; void];\n}\n</code></pre>\n\n<p>More specific, it is <code>[] as [(val: T) =&gt; void]</code> that triggers the error and the compiler message is:</p>\n\n<pre><code>Error:(7, 47) TS2352: Type '[]' cannot be converted to type '[(val: T) =&gt; void]'.\n  Property '0' is missing in type '[]'. \n</code></pre>\n\n<p>It DO work in Typescript 2.9.2 though!</p>\n\n<p>So what is the problem here and how do I solve it?</p>\n"}, {"tags": ["jquery", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1361, "user_id": 5073189, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/783103cd0c5602484616eb286aa4871b?s=128&d=identicon&r=PG&f=1", "display_name": "James Morrison", "link": "https://stackoverflow.com/users/5073189/james-morrison"}, "edited": false, "score": 0, "creation_date": 1535617307, "post_id": 52082955, "comment_id": 91134522, "body": "That&#39;s got it, thanks! I thought imports were hoisted above variable declarations"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1535563049, "creation_date": 1535563049, "answer_id": 52082955, "question_id": 52080777, "link": "https://stackoverflow.com/questions/52080777/bootstrap-error-jquery-is-not-defined-in-visual-studio-2017-react-redux-projec/52082955#52082955", "title": "Bootstrap error &quot;jQuery is not defined&quot; in Visual Studio 2017 react/redux project", "body": "<p>Try moving the <code>(window as any).jQuery = $;</code> line above <code>import '../node_modules/bootstrap/js/dropdown.js';</code>.</p>\n"}], "owner": {"reputation": 1361, "user_id": 5073189, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/783103cd0c5602484616eb286aa4871b?s=128&d=identicon&r=PG&f=1", "display_name": "James Morrison", "link": "https://stackoverflow.com/users/5073189/james-morrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 52082955, "answer_count": 1, "score": 2, "last_activity_date": 1535563049, "creation_date": 1535555220, "last_edit_date": 1535555302, "question_id": 52080777, "link": "https://stackoverflow.com/questions/52080777/bootstrap-error-jquery-is-not-defined-in-visual-studio-2017-react-redux-projec", "title": "Bootstrap error &quot;jQuery is not defined&quot; in Visual Studio 2017 react/redux project", "body": "<p>There's quite a lot of documentation surrounding this error but there doesn't seem to be any answers for non webpack/people using Visual Studio.</p>\n\n<p>I've tried all the non-webpack related errors such as declaring jQuery on the window but nothing seems to be working, my index.tsx file is below.</p>\n\n<pre><code>import 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/css/bootstrap-theme.css';\nimport * as $ from 'jquery';\nimport 'popper.js';\nimport '../node_modules/bootstrap/js/dropdown.js';\nimport './styles/Site.css'\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport configureStore from './store/configureStore';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\n(window as any).jQuery = $;\n(window as any).$ = $;\n\nconst store = configureStore();\n\nrender(\n    &lt;BrowserRouter&gt;\n        &lt;Provider store={store}&gt;\n            &lt;Route path=\"/\" component={App} /&gt;\n        &lt;/Provider&gt;\n    &lt;/BrowserRouter&gt;,\n    document.getElementById('root'));\n\nregisterServiceWorker();\n</code></pre>\n\n<p>On load I get the error </p>\n\n<blockquote>\n  <p>ReferenceError: jQuery is not defined ./node_modules/bootstrap/js/dropdown.js</p>\n</blockquote>\n\n<p>I've also tried importing dropdown.js on the app component but still nothing.</p>\n\n<p>It does appear to be a <a href=\"https://github.com/webpack/webpack/issues/4258\" rel=\"nofollow noreferrer\">webpack issue</a> but Visual Studio doesn't have a webpack config file so I can't try any of these fixes either. I'm not sure if Visual Studio uses webpack behind the scenes</p>\n\n<p>Has anyone encountered this issue before?</p>\n"}, {"tags": ["angular", "typescript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "edited": false, "score": 0, "creation_date": 1535557002, "post_id": 52080772, "comment_id": 91112788, "body": "It worked. But now the <code>this.tasklistItemsService.delete</code> is requiring the explicit call to subscribe() to get executed. I&#39;ll update the code in the question."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "reply_to_user": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "edited": false, "score": 0, "creation_date": 1535558330, "post_id": 52080772, "comment_id": 91113673, "body": "@JulianoNunesSilvaOliveira this is no longer something I can help with, because it&#39;s now (I think) an angular question, not a generic javascript + promises question. I will say though that if you need <code>subscribe</code> now, I think you would have needed it before too."}, {"owner": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "edited": false, "score": 1, "creation_date": 1535562294, "post_id": 52080772, "comment_id": 91115704, "body": "Solved the other error by converting the <code>HttpClient.delete</code> return using toPromise and removing the <code>subscribe()</code>."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "reply_to_user": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "edited": false, "score": 0, "creation_date": 1535562532, "post_id": 52080772, "comment_id": 91115850, "body": "That makes sense. I didn&#39;t realize <code>delete()</code> did not return a promise by default"}, {"owner": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "edited": false, "score": 1, "creation_date": 1535563145, "post_id": 52080772, "comment_id": 91116190, "body": "It returns an <code>Observable</code>. Now everything is working as I need. Thank you."}], "tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": true, "score": 2, "last_activity_date": 1535555206, "creation_date": 1535555206, "answer_id": 52080772, "question_id": 52080601, "link": "https://stackoverflow.com/questions/52080601/create-array-of-promises-for-future-execution/52080772#52080772", "title": "Create array of promises for future execution", "body": "<p>This line is broken:</p>\n\n<pre><code>new Promise(() =&gt; this.tasklistItemsService.delete(this.tasklist, element.id)\n</code></pre>\n\n<p>Aside from that, promises generally execute immediately. They are not a mechanism to defer execution to a later point. Thankfully javascript has something extremely simple for this: a plain old function.</p>\n\n<pre><code>const deferred = [];\nthis.tasklistItems.forEach(element =&gt; {\n  if (element.checked) {\n    deferred.push(() =&gt; this.tasklistItemsService.delete(this.tasklist, element.id)));\n  }\n}\n\n// Iterates over all stored functions, calls them all and returns the result as an array of promises.\nPromise.all( deferred.map( func =&gt; func() ) );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 441, "user_id": 7596425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VIafv.jpg?s=128&g=1", "display_name": "Andy Taton", "link": "https://stackoverflow.com/users/7596425/andy-taton"}, "is_accepted": false, "score": 0, "last_activity_date": 1535561028, "creation_date": 1535561028, "answer_id": 52082404, "question_id": 52080601, "link": "https://stackoverflow.com/questions/52080601/create-array-of-promises-for-future-execution/52082404#52082404", "title": "Create array of promises for future execution", "body": "<p>In general, <code>.forEach()</code> and <code>Promise.all()</code> don't mix well, and creating arrays of deferred promises adds some unnecessary steps. (Nolan Lawson's <a href=\"https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\" rel=\"nofollow noreferrer\">\"We have a problem with promises\"</a> does a great job of talking through both of these issues.) As @Evert mentioned, this is because promises are \"eager\", and execute as soon as they are constructed.</p>\n\n<p>It looks like you want to take an array, screen out unchecked options, and then resolve an array of promises from that. How about using <code>.filter()</code> and <code>.map()</code> directly within <code>Promise.all()</code>?</p>\n\n<pre><code>Promise.all(\n  this.tasklistItems\n    .filter(element =&gt; element.checked)\n    .map(checkedElement =&gt; this.tasklistItemsService.delete(this.tasklist, checkedElement.id)\n)\n.then((res) =&gt; { // So I can get all responses at the same place, together\n  this.notification.success('Success!', 'Rows removed.');\n},\n(err) =&gt; {});\n</code></pre>\n"}], "owner": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 52080772, "answer_count": 2, "score": 0, "last_activity_date": 1535561028, "creation_date": 1535554742, "last_edit_date": 1535557277, "question_id": 52080601, "link": "https://stackoverflow.com/questions/52080601/create-array-of-promises-for-future-execution", "title": "Create array of promises for future execution", "body": "<p>I've created an array to store a list of promises that should run after a single call to Promise.all, however right after pushing this new Promise into the array it gets executed. How can I fix it?</p>\n\n<pre><code>let promises: any[] = [];\n\nthis.tasklistItems.forEach(element =&gt; {\n  if (element.checked) {\n     promises.push(new Promise(() =&gt; this.tasklistItemsService.delete(this.tasklist, element.id))); // It gets executed right after this line\n  }\n});\n\nPromise.all(promises) // But I need to start executing here\n  .then((res) =&gt; { // So I can get all responses at the same place, together\n    this.notification.success('Success!', 'Rows removed.');\n  },\n  (err) =&gt; {\n  });\n</code></pre>\n\n<h2>UPDATE</h2>\n\n<p>Following @Evert's suggestions, now I have the following code:</p>\n\n<pre><code>  const deferred = [];\n  this.tasklistItems.forEach(element =&gt; {\n    if (element.checked) {\n      deferred.push(() =&gt; this.tasklistItemsService.delete(this.tasklist, element.id).subscribe());\n    }\n  });\n\n  Promise.all(deferred.map(func =&gt; func()))\n    .then(\n      () =&gt; {\n        this.notification.success('Sucess!', 'Rows removed.');\n        this.refreshGrid();\n      },\n      err =&gt; {\n        console.log(err);\n        this.notification.error('Error!', 'Could not remove the selected rows.');\n      }\n    );\n</code></pre>\n\n<p>And this is my service using <code>HttpClient</code>:</p>\n\n<pre><code>  delete(tasklistId: number, id: number): Observable&lt;boolean&gt; {\n    return this.http.delete(`${this.baseUrl}/${tasklistId}/items/${id}`)\n      .pipe(catchError(this.handleError));\n  }\n</code></pre>\n\n<p>If I don't add the <code>subscribe()</code> to the <code>delete(...)</code> call, it is not executed and if I add it, the <code>refreshGrid()</code> is called before the delete occurs.</p>\n"}, {"tags": ["angular", "typescript", "aspnetboilerplate"], "answers": [{"tags": [], "owner": {"reputation": 16731, "user_id": 8601760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9348fa94d90ab91964df9cc40f6d6d27?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/8601760/aaron"}, "is_accepted": true, "score": 0, "last_activity_date": 1535866753, "creation_date": 1535866753, "answer_id": 52134287, "question_id": 52080577, "link": "https://stackoverflow.com/questions/52080577/what-is-the-reason-behind-reloading-the-entire-page-when-changing-tenants/52134287#52134287", "title": "What is the reason behind reloading the entire page when changing tenants?", "body": "<p>Tenant may have different language and other settings. Reloading the page resets the state etc.</p>\n\n<blockquote>\n  <p>but if I update those settings after login, doesn't the reload page part seem redundant?</p>\n</blockquote>\n\n<p>The landing page needs some settings (e.g. language) too.</p>\n"}], "owner": {"reputation": 29, "user_id": 9734024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GB2la.png?s=128&g=1", "display_name": "bMikolaj", "link": "https://stackoverflow.com/users/9734024/bmikolaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 52134287, "answer_count": 1, "score": -1, "last_activity_date": 1535867087, "creation_date": 1535554661, "last_edit_date": 1535867087, "question_id": 52080577, "link": "https://stackoverflow.com/questions/52080577/what-is-the-reason-behind-reloading-the-entire-page-when-changing-tenants", "title": "What is the reason behind reloading the entire page when changing tenants?", "body": "<p>I would like to know the reasoning behind reloading the entire login page when a tenant is changed:</p>\n\n<pre><code>save(): void {\n    if (!this.tenancyName) {\n        abp.multiTenancy.setTenantIdCookie(undefined);\n        this.close();\n        location.reload();\n        return;\n    }\n}\n</code></pre>\n\n<p>And then when reloading, <code>init()</code> function is called in <strong>app-session.service.ts</strong>:</p>\n\n<pre><code>init(): Promise&lt;boolean&gt; {\n    return new Promise&lt;boolean&gt;((resolve, reject) =&gt; {\n        this._sessionService.getCurrentLoginInformations().toPromise().then((result: GetCurrentLoginInformationsOutput) =&gt; {\n            this._application = result.application;\n            this._user = result.user;\n            this._tenant = result.tenant;\n\n            resolve(true);\n        }, (err) =&gt; {\n            reject(err);\n        });\n    });\n}\n</code></pre>\n\n<p>which does not make sense to me because in the <code>GetCurrentLoginInformationsOutput</code> function, current local session is being updated with various API access tokens that are then again being updated when the user successfully logs in.</p>\n\n<p>Currently, I changed the logic behind swapping tenants and I removed the <code>location.reload()</code> part. The reasoning behind that was to speed up the response time of the application.</p>\n\n<p>My biggest question is, do I lose any valuable information when not calling the reload page part and will the application work normally?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535554738, "post_id": 52080507, "comment_id": 91111142, "body": "why would you want to do that?"}, {"owner": {"reputation": 226, "user_id": 9366125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMqHg.png?s=128&g=1", "display_name": "ngDough", "link": "https://stackoverflow.com/users/9366125/ngdough"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535554796, "post_id": 52080507, "comment_id": 91111175, "body": "Just a conditional html viewdepending on env"}, {"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535554942, "post_id": 52080507, "comment_id": 91111294, "body": "You cannot load template dynamically like that. This might help: <a href=\"https://stackoverflow.com/a/45377048/1791913\">stackoverflow.com/a/45377048/1791913</a>"}, {"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535554954, "post_id": 52080507, "comment_id": 91111302, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45376628/angular-2-4-component-with-dynamic-template-or-templateurl\">Angular 2/4 component with dynamic template or templateUrl</a>"}], "owner": {"reputation": 226, "user_id": 9366125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMqHg.png?s=128&g=1", "display_name": "ngDough", "link": "https://stackoverflow.com/users/9366125/ngdough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 531, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535556918, "creation_date": 1535554470, "last_edit_date": 1592644375, "question_id": 52080507, "link": "https://stackoverflow.com/questions/52080507/angular-cant-resolve-template-conditonal-templateurl", "title": "Angular Can&#39;t resolve template - Conditonal templateUrl", "body": "<pre><code>import { Component } from '@angular/core';\nimport { environment } from '../environments/environment';\n\nconst template = environment.production ? '../dev/dev-app.component.html' : './app.component.html';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: template,\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'app';\n}\n</code></pre>\n<p>In the above I am trying to write a conditional variable called <code>template</code> which will load the view for the component.</p>\n<p>Only I'm getting the following error:</p>\n<blockquote>\n<p>ERROR in ./src/app/app.component.ts</p>\n<p>Module not found: Error: Can't resolve ' template' in '/src/app'</p>\n</blockquote>\n"}, {"tags": ["typescript", "collections", "key-value"], "answers": [{"tags": [], "owner": {"reputation": 2120, "user_id": 3110695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sSZkk.jpg?s=128&g=1", "display_name": "FortyTwo", "link": "https://stackoverflow.com/users/3110695/fortytwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1535555131, "creation_date": 1535555131, "answer_id": 52080744, "question_id": 52080359, "link": "https://stackoverflow.com/questions/52080359/which-collection-can-be-used-to-map-key-value-pairs-in-both-directions/52080744#52080744", "title": "Which collection can be used to map key-value-pairs in both directions?", "body": "<p>I would take a slightly different approach. You can create your enums as string enums:</p>\n\n<pre><code>export enum MyEnum {\n    A = \"Australia\",\n    D = \"Germany\"\n}\n</code></pre>\n\n<p>So when you render <code>&lt;&gt;MyEnum.A&lt;/&gt;</code> Australia will be rendered.</p>\n\n<p>You can then install <a href=\"https://www.npmjs.com/package/enum-values\" rel=\"nofollow noreferrer\">enum-values</a> and simply do something like: </p>\n\n<pre><code>const val = EnumValues.getNameFromValue(MyEnum, 'Australia')\n</code></pre>\n\n<p>So that <code>val = A</code> and you can then send it to your backend.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 397, "user_id": 8385892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2ReM.jpg?s=128&g=1", "display_name": "Alexander Moser", "link": "https://stackoverflow.com/users/8385892/alexander-moser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535555131, "creation_date": 1535554032, "question_id": 52080359, "link": "https://stackoverflow.com/questions/52080359/which-collection-can-be-used-to-map-key-value-pairs-in-both-directions", "title": "Which collection can be used to map key-value-pairs in both directions?", "body": "<p>I'm trying to setup a collection of country codes. Since my frontend displays it, I want to show \"Austria\" for example, but when sending it to the backend I just want to send \"A\", since that's how it is stored. Ideally it would look something like this:</p>\n\n<pre><code>CountryCodes = {\n  A: \"Austria\",\n  D: \"Germany\",\n}\n\nconsole.log(CountryCodes[\"A\"]); // -&gt; \"Austria\"\nconsole.log(CountryCodes[\"Austria\"]); // -&gt; \"A\"\n</code></pre>\n\n<p>I thought I could use an enum since</p>\n\n<pre><code>enum MyEnum {\n  first = 0,\n  second = 1,\n}\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>MyEnum = {\n  0 = \"first\",\n  1 = \"second\"\n  first = 0,\n  second = 1,\n}\n</code></pre>\n\n<p>when being transpiled from typescript to javascript. But thats not the case if the values of the enums are not numbers.</p>\n\n<p>I'm not sure what kind of collection to use, since I don't want to add two keyValuePairs for each countrycode. Do you have an idea how to solve a problem like this? Am I missing a very obvious solution here?</p>\n"}, {"tags": ["angular", "typescript", "angular-providers"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1535554318, "post_id": 52080005, "comment_id": 91110810, "body": "That is very tricky to do. Will this value from some other provider be fetched via HTTP?"}, {"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1535554412, "post_id": 52080005, "comment_id": 91110894, "body": "@cgTag No, it&#39;s not fetched by HTTP. Precisely it&#39;s a value of build-time set locale, available for injection under <code>LOCALE_ID</code> token from <code>@angular&#47;core</code>."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1535554550, "post_id": 52080005, "comment_id": 91111006, "body": "Do you need to use the exact same value?"}, {"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1535554728, "post_id": 52080005, "comment_id": 91111133, "body": "@cgTag What do you mean? It has to be the same locale string I could set during build by <code>--i18n-locale</code> flag passed to <code>ng build</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 0, "creation_date": 1535554036, "post_id": 52080315, "comment_id": 91110595, "body": "My mistake, as I didn&#39;t specify that the value actually needs to be a <code>string</code>, not an object. I corrected the question. Will your answer somehow handle providing a primitive value too?"}, {"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "reply_to_user": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 0, "creation_date": 1535554510, "post_id": 52080315, "comment_id": 91110976, "body": "Do you mean <code>valueString</code> is a value you get using another provider&#39;s method (for example) and not using the provider instance itself? Do know if that makes sense (what I&#39;m asking). I don&#39;t think I understand the scenario correctly."}, {"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 0, "creation_date": 1535554632, "post_id": 52080315, "comment_id": 91111069, "body": "To be precise <code>valueString</code> is a locale string available for injection under <code>LOCALE_ID</code> token from <code>@angular&#47;core</code>. And it wasn&#39;t your fault you didn&#39;t understand the scenario, as I incorrectly stated at first that the value is an object, not a string."}], "tags": [], "owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1535554041, "last_edit_date": 1535554041, "creation_date": 1535553906, "answer_id": 52080315, "question_id": 52080005, "link": "https://stackoverflow.com/questions/52080005/how-to-inject-a-dependency-into-a-provider-with-given-injection-token/52080315#52080315", "title": "How to inject a dependency into a provider with given injection token?", "body": "<p>Instead of <code>useValue</code>, inject the object instance by using <a href=\"https://angular.io/guide/dependency-injection-in-action#useclassthe-class-provider\" rel=\"nofollow noreferrer\"><code>useClass</code></a> which</p>\n\n<blockquote>\n  <p>creates and returns new instance of the specified class</p>\n</blockquote>\n\n<hr>\n\n<p><em>Code</em>:</p>\n\n<pre><code>// ...\n{ provides: pluginToken, useClass: YourConfigurationObjectClass },\n//...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 0, "creation_date": 1535554859, "post_id": 52080598, "comment_id": 91111234, "body": "Exactly what I needed. Thanks :). BTW do you also have an idea how to handle the case, if I&#39;d need to somehow transform the value? - not use identical one like in this case."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 1, "creation_date": 1535555078, "post_id": 52080598, "comment_id": 91111394, "body": "@RobertKusznier I would use a factory provider which takes a function. The limitation is that a factory function doesn&#39;t have access to the injector to get other providers. That&#39;s why I asked if it was a HTTP request. As there are other hacks to get around the problem."}, {"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1535555101, "post_id": 52080598, "comment_id": 91111417, "body": "Some reference docs here: <a href=\"https://angular.io/guide/dependency-injection-in-action#useexistingthe-alias-provider\" rel=\"nofollow noreferrer\">angular.io/guide/&hellip;</a>"}, {"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 0, "creation_date": 1535555493, "post_id": 52080598, "comment_id": 91111749, "body": "@cgTag True, to apply a function alone is easy indeed. But what about the case, if I&#39;d need to actually inject some other provider to get that value (like make HTTP request per your example). Is that possible at all?"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 1, "creation_date": 1535563101, "post_id": 52080598, "comment_id": 91116168, "body": "@RobertKusznier you can but not with a module. You would create a component using a component factory, and create an injector that has the custom provider value in it. You would use that injector to create the component. That component and all of it&#39;s children would have access to this new provider."}, {"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 0, "creation_date": 1535621731, "post_id": 52080598, "comment_id": 91137374, "body": "@cgTag Pretty complicated, but I think I get the main idea. Thank you for all the explanations."}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": true, "score": 2, "last_activity_date": 1535554714, "creation_date": 1535554714, "answer_id": 52080598, "question_id": 52080005, "link": "https://stackoverflow.com/questions/52080005/how-to-inject-a-dependency-into-a-provider-with-given-injection-token/52080598#52080598", "title": "How to inject a dependency into a provider with given injection token?", "body": "<blockquote>\n  <p>The problem I have is that valueString is a value from some other provider</p>\n</blockquote>\n\n<p>You can forward the value of one provider to another using <code>useExisting</code></p>\n\n<pre><code>@NgModule({\n    providers: [\n        {provide: LOCALE_ID, useValue: 'en'},\n        {provide: pluginToken, useExisting: LOCALE_ID},\n    ],\n})\nexport class MyModule {}\n</code></pre>\n\n<p>In the above example <code>'en'</code> will be assigned to <code>pluginToken</code> because it uses the existing value of <code>LOCALE_ID</code></p>\n"}], "owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1339, "favorite_count": 1, "accepted_answer_id": 52080598, "answer_count": 2, "score": 4, "last_activity_date": 1535554714, "creation_date": 1535553069, "last_edit_date": 1535554092, "question_id": 52080005, "link": "https://stackoverflow.com/questions/52080005/how-to-inject-a-dependency-into-a-provider-with-given-injection-token", "title": "How to inject a dependency into a provider with given injection token?", "body": "<p>I'm using an Angular plugin, which needs to be configured by providing a configuration object using an <code>InjectionToken</code> that the plugin exports.</p>\n\n<pre><code>import { pluginToken } from 'plugin';\n\n@NgModule({\n  providers: {\n    // Configure the plugin\n    //\n    // The configuration value string needs to be taken from some other\n    // provider (available for dependency injection).\n    { provides: pluginToken, useValue: valueString },\n  },\n})\nclass MyModule {\n  ...\n}\n</code></pre>\n\n<p>The problem I have is that <code>valueString</code> is a value from some other provider. I don't know how to inject a dependency into <code>@NgModule</code> decorator's provider. How it can be done?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "edited": false, "score": 0, "creation_date": 1535615685, "post_id": 52087129, "comment_id": 91133565, "body": "Yes, indeed. The implementation of static maps is pretty straightforward, but the api looked nice. I guess I&#39;ll submit the PR. Btw, thanks for the explanation, I was considering when you do <code>exclude</code> on <code>tsconfig</code> then everything on <code>node_modules</code> should be ignored, but it is not because of the import."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1535622902, "last_edit_date": 1535622902, "creation_date": 1535583280, "answer_id": 52087129, "question_id": 52079900, "link": "https://stackoverflow.com/questions/52079900/problems-with-react-static-google-map/52087129#52087129", "title": "Problems with react-static-google-map", "body": "<p>If you import anything from <code>react-static-google-map</code>, then TypeScript automatically loads the typings file specified in <code>node_modules/react-static-google-map/package.json</code> (which is <code>node_modules/react-static-google-map/typings/index.d.ts</code>) so it can give you type information.  The typings file is wrong: those extra <code>declare</code> keywords should be removed.  Consider submitting a PR to <a href=\"https://github.com/bondz/react-static-google-map\" rel=\"nofollow noreferrer\">the repository</a>.  In the meantime, your best option is probably to add a modified version of the <code>react-static-google-map</code> package to your project and register it in your <code>package.json</code> dependencies using a local path.</p>\n"}], "owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 52087129, "answer_count": 1, "score": 0, "last_activity_date": 1535622902, "creation_date": 1535552838, "last_edit_date": 1535553138, "question_id": 52079900, "link": "https://stackoverflow.com/questions/52079900/problems-with-react-static-google-map", "title": "Problems with react-static-google-map", "body": "<p>I've installed latest version of <code>react-static-google-map</code>. Currently I am using typescript version 3.0 but I got the following errors:</p>\n\n<pre><code>node_modules/react-static-google-map/typings/index.d.ts:166:3 - error TS1038: A 'declare' modifier cannot be used in an already ambient context.\n\n166   declare const MarkerGroupComponent: StatelessComponent&lt;MarkerGroup&gt;;\n      ~~~~~~~\n\nnode_modules/react-static-google-map/typings/index.d.ts:195:3 - error TS1038: A 'declare' modifier cannot be used in an already ambient context.\n\n195   declare const PathGroupComponent: StatelessComponent&lt;PathGroup&gt;;\n      ~~~~~~~\n</code></pre>\n\n<p>In my <code>tsconfig.json</code> I've ignored <code>node_modules</code></p>\n\n<pre><code>\"exclude\": [\n    \"node_modules\",\n]\n</code></pre>\n\n<p>how to avoid this checking?</p>\n\n<p>I've checked: <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-is-a-file-in-the-exclude-list-still-picked-up-by-the-compiler\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/wiki/FAQ#why-is-a-file-in-the-exclude-list-still-picked-up-by-the-compiler</a></p>\n\n<p>but without success.</p>\n\n<p><strong>EDIT:</strong> One possible solution is adding <code>--skipLibCheck</code> to typescript compiler, but I don't want to loose type-safety</p>\n"}, {"tags": ["node.js", "angular", "typescript", "express", "bootstrap-4"], "answers": [{"tags": [], "owner": {"reputation": 4628, "user_id": 10257611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abad1c60362d3071cea1e3c6f2ee111?s=128&d=identicon&r=PG&f=1", "display_name": "Ayoub k", "link": "https://stackoverflow.com/users/10257611/ayoub-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1535552962, "creation_date": 1535552962, "answer_id": 52079955, "question_id": 52079874, "link": "https://stackoverflow.com/questions/52079874/post-http-localhost4200-contact-send-404-not-found/52079955#52079955", "title": "POST http://localhost:4200/contact/send 404 (Not Found)", "body": "<p>The port of your server is 3000  </p>\n\n<pre><code>const port = process.env.PORT || 3000\n</code></pre>\n\n<p>so you have to change this:  </p>\n\n<pre><code>const apiUrl = 'http://localhost:4200/contact';\n</code></pre>\n\n<p>to</p>\n\n<pre><code>const apiUrl = 'http://localhost:3000/contact';\n</code></pre>\n"}], "owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4108, "favorite_count": 2, "accepted_answer_id": 52079955, "answer_count": 1, "score": 1, "last_activity_date": 1535552962, "creation_date": 1535552780, "question_id": 52079874, "link": "https://stackoverflow.com/questions/52079874/post-http-localhost4200-contact-send-404-not-found", "title": "POST http://localhost:4200/contact/send 404 (Not Found)", "body": "<p>I have a <code>bootstrap</code> form for email services for <code>angular 6</code> app and <code>nodejs</code>, I am using <code>nodemailer</code> for sendemail in my app, unfortunatelly does not work. I am getting the following error when I submit the form: </p>\n\n<p><code>zone.js:2969 POST http://localhost:4200/contact/send 404 (Not Found)</code></p>\n\n<p>here is the form HTML</p>\n\n<pre><code> &lt;form [formGroup]=\"angForm\" novalidate method=\"POST\"&gt;\n    &lt;div class=\"message\"&gt;\n      &lt;h3&gt; Write to us &lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form__top\"&gt;\n      &lt;div class=\"form__left\"&gt;\n        &lt;div class=\"form__group\"&gt;\n          &lt;input class=\"form__input form__input--name\" type=\"text\"   formControlName=\"name\" placeholder=\"name\" #name&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"angForm.controls['name'].invalid &amp;&amp; (angForm.controls['name'].dirty || angForm.controls['name'].touched)\" class=\"alert alert-danger\"&gt;\n          &lt;div *ngIf=\"angForm.controls['name'].errors.required\"&gt;\n            Name is required.\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form__group\"&gt;\n          &lt;input class=\"form__input form__input--email\" type=\"email\"  formControlName=\"email\" placeholder=\"email\" #email&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"angForm.controls['email'].invalid &amp;&amp; (angForm.controls['message'].dirty || angForm.controls['message'].touched)\"\n          class=\"alert alert-danger\"&gt;\n          &lt;div *ngIf=\"angForm.controls['message'].errors.required\"&gt;\n            message is required.\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form__right\"&gt;\n        &lt;div class=\"form__group\"&gt;\n          &lt;textarea class=\"form__input form__input--textarea\" placeholder=\"Message\" formControlName=\"message\"  #message\n            rows=\"3\"&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"angForm.controls['message'].invalid &amp;&amp; (angForm.controls['message'].dirty || angForm.controls['message'].touched)\"\n          class=\"alert alert-danger\"&gt;\n          &lt;div *ngIf=\"angForm.controls['message'].errors.required\"&gt;\n            message is required.\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;flash-messages&gt;&lt;/flash-messages&gt;\n    &lt;div class=\"form__down\"&gt;\n      &lt;div class=\"form__group\"&gt;\n        &lt;button (click)=\"sendMail(name.value, email.value, message.value)\" [disabled]=\"angForm.pristine || angForm.invalid\"  class=\"form__input form__input--submit\" name=\"submit\" type=\"submit\" value=\"SEND MESSAGE\"&gt;SEND MESSAGE\n        &lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n  &lt;/form&gt;\n</code></pre>\n\n<p>Here is component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ContactService } from '../../contact.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { FlashMessagesModule, FlashMessagesService } from 'angular2-flash-messages';\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n  angForm: FormGroup;\n  constructor(\n    private flashMessages: FlashMessagesService,\n    private fb: FormBuilder,\n    private contactService: ContactService) {\n    this.createForm();\n  }\n\n  createForm() {\n    this.angForm = this.fb.group({\n      name: ['', Validators.required],\n      email: ['', Validators.required],\n      message: ['', Validators.required],\n    });\n  }\n  sendMail(name, email, message) {\n    this.contactService.sendEmail(name, email, message).subscribe(success =&gt; {\n      this.flashMessages.show('You are data we succesfully submitted', { cssClass: 'alert-success', timeout: 3000 });\n      console.log(success);\n    }, error =&gt; {\n      this.flashMessages.show('Something went wrong', { cssClass: 'alert-danger', timeout: 3000 });\n    });\n  }\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>Here is service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Headers, Http, Response } from '@angular/http';\nimport { Jsonp } from '@angular/http';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from '../../node_modules/rxjs';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\nconst apiUrl = 'http://localhost:4200/contact';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContactService {\n  sendEmailUrl = '/send';\n  constructor(private http: Http) { }\n\n  sendEmail(name, email, message): Observable&lt;any&gt; {\n    const uri = `${apiUrl + this.sendEmailUrl}`;\n    const obj = {\n      name: name,\n      email: email,\n      message: message,\n    };\n    return this.http.post(uri, obj);\n  }\n}\n</code></pre>\n\n<p>Here is the server .js</p>\n\n<pre><code>// server.js\nconst express = require('express');\nconst bodyParser = require('body-parser');\nconst cors = require('cors');\nconst path = require('path');\nconst app = express();\n// CORS Middleware\napp.use(cors());\n// Port Number\nconst port = process.env.PORT || 3000\n// Run the app by serving the static files\n// in the dist directory\napp.use(express.static(path.join(__dirname, '/majeni/dist/majeni')));\n// Body Parser Middleware\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\napp.use(bodyParser.json());\n//routes\nconst contact = require('./app/routes/contact');\napp.use('/contact', contact);\n\napp.use(function (req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  next();\n});\n// For all GET requests, send back index.html\n// so that PathLocationStrategy can be used\napp.get('/*', function (req, res, next) {\n  res.sendFile(path.join(__dirname + '/majeni/dist/majeni/index.html'));\n});\n\n// Start Server\napp.listen(port, () =&gt; {\n  console.log('Server started on port ' + port);\n});\n</code></pre>\n\n<p>Here is contact.js (routes settings)</p>\n\n<pre><code>const express = require('express');\nconst router = express.Router();\nconst request = require('request');\nconst nodemailer = require('nodemailer');\n\nrouter.post('/send', (req, res) =&gt; {\n    const outputData = `\n    &lt;p&gt;You have a new contact request&lt;/p&gt;\n    &lt;h3&gt;Contact Details&lt;/h3&gt;\n    &lt;ul&gt;  \n      &lt;li&gt;Name: ${req.body.name}&lt;/li&gt;\n      &lt;li&gt;Email: ${req.body.email}&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;h3&gt;Message&lt;/h3&gt;\n    &lt;p&gt;${req.body.message}&lt;/p&gt;\n  `;\n\n    let transporter = nodemailer.createTransport({\n        host: 'smtp.gmail.com',\n        port: 465,\n        secure: false,\n        port: 25,\n        auth: {\n            user: 'Myemail',\n            pass: 'my pass'\n        },\n        tls: {\n            rejectUnauthorized: false\n        }\n    });\n\n    let HelperOptions = {\n        from: '\"Jini\" &lt;myEmail',\n        to: 'myEmail',\n        subject: 'Majeni Contact Request',\n        text: 'Hello',\n        html: outputData\n    };\n\n\n\n    transporter.sendMail(HelperOptions, (error, info) =&gt; {\n        if (error) {\n            return console.log(error);\n        }\n        console.log(\"The message was sent!\");\n        console.log(info);\n    });\n\n});\nmodule.exports = router;\n</code></pre>\n\n<p>what is missing in my code? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "pipe"], "comments": [{"owner": {"reputation": 879, "user_id": 3594153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4a84316c1ae7422208df4fca374027?s=128&d=identicon&r=PG", "display_name": "AmmoPT", "link": "https://stackoverflow.com/users/3594153/ammopt"}, "edited": false, "score": 0, "creation_date": 1535552208, "post_id": 52079577, "comment_id": 91109264, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36816788/how-do-i-call-an-angular-2-pipe-with-multiple-arguments\">How do I call an Angular 2 pipe with multiple arguments?</a>"}, {"owner": {"reputation": 2155, "user_id": 1745913, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ocSXH.jpg?s=128&g=1", "display_name": "jtate", "link": "https://stackoverflow.com/users/1745913/jtate"}, "edited": false, "score": 0, "creation_date": 1535552291, "post_id": 52079577, "comment_id": 91109333, "body": "is there a reason for not just using the <code>replace</code> method inline with the html?  <code>{{hyphenated.replace(&#39;-&#39;, &#39; &#39;)}}</code>"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "reply_to_user": {"reputation": 2155, "user_id": 1745913, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ocSXH.jpg?s=128&g=1", "display_name": "jtate", "link": "https://stackoverflow.com/users/1745913/jtate"}, "edited": false, "score": 0, "creation_date": 1535552576, "post_id": 52079577, "comment_id": 91109533, "body": "@jtate That would reevaluate the replacement in every change detection cycle. (pure) pipes cache the result."}], "answers": [{"comments": [{"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1535552798, "post_id": 52079770, "comment_id": 91109696, "body": "Thank you for the pointers :-) I knew I was going wrong somewhere!"}, {"owner": {"reputation": 879, "user_id": 3594153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4a84316c1ae7422208df4fca374027?s=128&d=identicon&r=PG", "display_name": "AmmoPT", "link": "https://stackoverflow.com/users/3594153/ammopt"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1535552930, "post_id": 52079770, "comment_id": 91109801, "body": "@physicsboy Please consider accepting the answer if it indeed answered your question."}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1535553275, "post_id": 52079770, "comment_id": 91110051, "body": "I had to wait for the time limit :P"}], "tags": [], "owner": {"reputation": 879, "user_id": 3594153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4a84316c1ae7422208df4fca374027?s=128&d=identicon&r=PG", "display_name": "AmmoPT", "link": "https://stackoverflow.com/users/3594153/ammopt"}, "is_accepted": true, "score": 1, "last_activity_date": 1535552521, "creation_date": 1535552521, "answer_id": 52079770, "question_id": 52079577, "link": "https://stackoverflow.com/questions/52079577/angular-custom-pipe-not-working/52079770#52079770", "title": "Angular - Custom pipe not working?", "body": "<p><strong>1) You're not calling your custom pipe correctly:</strong></p>\n\n<p>Instead of:</p>\n\n<pre><code>&lt;div&gt;{{hyphenated | replace: {replace: '-', withThis: ' '} }}&lt;/div&gt;\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>&lt;div&gt;{{hyphenated | replace: '-': ' '}}&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>2) Your <code>replace</code> usage only replaces the first occurrence in the string:</strong></p>\n\n<p>Instead of:</p>\n\n<pre><code>return value.replace(replace, withThis);\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>return value.replace(new RegExp(replace, 'g'), withThis);\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/custom-pipe-replacement-isvms6\" rel=\"nofollow noreferrer\">Updated stackblitz</a></p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 52079770, "answer_count": 1, "score": 0, "last_activity_date": 1535552521, "creation_date": 1535551992, "question_id": 52079577, "link": "https://stackoverflow.com/questions/52079577/angular-custom-pipe-not-working", "title": "Angular - Custom pipe not working?", "body": "<p>I am attempting to create a custom pipe that will replace one character with another (use case: replacing hyphenated words with space separated words), but I cannot seem to get it working after following online guides and the Angular docs.</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/custom-pipe-replacement\" rel=\"nofollow noreferrer\">stackblitz</a></strong></p>\n\n<p><strong>pipe.ts</strong></p>\n\n<pre><code>@Pipe({\n  name: 'replace'\n})\nexport class ReplacePipe implements PipeTransform {\n\n  transform(value: string, replace: string, withThis: string): any {\n    return value.replace(replace, withThis);\n  }\n\n}\n</code></pre>\n\n<p><strong>html usage</strong></p>\n\n<pre><code>&lt;!-- hyphenate = 'some-hyphenated-string' --&gt;\n\n&lt;div&gt;{{hyphenated | replace: {replace: '-', withThis: ' '} }}&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "owner": {"reputation": 1471, "user_id": 7054574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M0zvj.jpg?s=128&g=1", "display_name": "Anddo", "link": "https://stackoverflow.com/users/7054574/anddo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1535558611, "creation_date": 1535551687, "last_edit_date": 1535558611, "question_id": 52079444, "link": "https://stackoverflow.com/questions/52079444/how-to-use-completely-custom-component-in-angular-6", "title": "How to use completely custom component in angular 6", "body": "<p><strong>Current Situation</strong></p>\n\n<p>I have an app that provides custom views. The html files, css, javascript and images are zipped in zip file then converted and stored in database as blob column.</p>\n\n<p>These files are kept cached on Jboss server side to be requested and used on page request that contains any custom view.</p>\n\n<p><strong>What's wanted</strong></p>\n\n<p>There are multiple approaches I've read to load dynamic components using <code>Compiler.compileModuleAndAllComponentsAsync</code> and also by injecting <code>ComponentFactoryResolver</code> and use it to create components dynamically.</p>\n\n<p>But I would like to inject custom views/components using Angular since this project is under revamp demand to be SPA using Angular. The custom view will contain <strong>TypeScript</strong> code provides some custom business logic, <strong>html</strong> which typically should be the template &amp; custom <strong>css</strong>.</p>\n\n<ul>\n<li><p>Is this possible ? I guess using AngularJS it would be since injected JavaScript in run-time wouldn't be a problem</p></li>\n<li><p>If yes, how ?</p></li>\n<li><p>Any libraries/frameworks available already provides custom views creating and saving/retrieving their data ?</p></li>\n</ul>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1535553140, "post_id": 52079301, "comment_id": 91109960, "body": "If your Array is of generic type T then you&#39;ve already decided the children are the same type as the branch. Use a different generic type identifier for your Array, and create a parent type for all your branch types."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1535558561, "post_id": 52079301, "comment_id": 91113827, "body": "&quot;the type of branches are unknown&quot;  If they are unknown then why are you trying to give them a type other than <code>Branch&lt;unknown&gt;</code> or <code>Branch&lt;any&gt;</code>?"}, {"owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "edited": false, "score": 0, "creation_date": 1535558691, "post_id": 52079301, "comment_id": 91113907, "body": "Sorry, by unknown I mean they can be of any class definition, but I don&#39;t want to set it to <code>any</code> because I need to maintain the type. if the set is constructed as <code>X</code> then you can&#39;t change to <code>Y</code>. However here I don&#39;t want the children to construct as the same type as the parent. If that makes sense?"}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "edited": false, "score": 0, "creation_date": 1535611576, "post_id": 52080576, "comment_id": 91131227, "body": "That would circle back to the same issue. <code>rootBranch.children = new Array&lt;Contact&gt;();</code> fails because now children has to be <code>&lt;Office, Contact&gt;</code> and can&#39;t be just <code>&lt;Contact&gt;</code> or even <code>&lt;Contact, any&gt;</code>"}, {"owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "edited": false, "score": 0, "creation_date": 1535612561, "post_id": 52080576, "comment_id": 91131736, "body": "Actually, your solution works if I change it to &lt;T, U = {}&gt;"}, {"owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "edited": false, "score": 0, "creation_date": 1535612809, "post_id": 52080576, "comment_id": 91131858, "body": "With the above, rootBranch.children = new Array&lt;Contact&gt;(); also needs to be rootBranch.children = new Array&lt;Contact, any | a type &gt;();"}, {"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "reply_to_user": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "edited": false, "score": 0, "creation_date": 1535633791, "post_id": 52080576, "comment_id": 91145542, "body": "@MokkyMiah I tested my code and it works as is. However the children are of type Contact, not Branch. If the children have to be of type Branch then they must also specify the type of their own grandchildren. This is by design. If the children do NOT have children of their own, then they cannot be of type Branch."}], "tags": [], "owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "is_accepted": false, "score": 0, "last_activity_date": 1535565747, "last_edit_date": 1535565747, "creation_date": 1535554659, "answer_id": 52080576, "question_id": 52079301, "link": "https://stackoverflow.com/questions/52079301/how-to-use-typescript-generics-recursively/52080576#52080576", "title": "How to use Typescript generics recursively?", "body": "<p>It seems like you may be using Generics where simple inheritance would do. If all you need is for an office or a contact branch to have a list of branch children, then the following code works using only a generic Array.</p>\n\n<pre><code>export class Branch {\n  children: Array&lt;Branch&gt;;\n  constructor(){\n    this.children = new Array&lt;Branch&gt;();\n  }\n}\n\nclass Office extends Branch {}\nclass Contact extends Branch {}\n\nconst newOffice = new Office();\nnewOffice.children.push(new Contact());\n</code></pre>\n\n<p>However if you are intent on using generics, you need 2 generic types in your Branch class to decouple the record and children types, like such:</p>\n\n<pre><code>export class Branch&lt;T, U&gt; {\n\n  public children: U[];\n\n  constructor(public record: T) {\n    this.children = [];\n  }\n}\n\nclass Office {};\nclass Contact {};\n\nconst newOffice = new Office();\n\nconst rootBranch = new Branch&lt;Office, Contact&gt;(newOffice);\n\nrootBranch.children = new Array&lt;Contact&gt;();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1535560582, "creation_date": 1535560582, "answer_id": 52082289, "question_id": 52079301, "link": "https://stackoverflow.com/questions/52079301/how-to-use-typescript-generics-recursively/52082289#52082289", "title": "How to use Typescript generics recursively?", "body": "<p>So, if you really want to strongly type <code>Branch</code>, you need to give it a type corresponding to all the nested levels of <code>children</code>.  That would look like a list or tuple of types.  Since TypeScript 3.0 introduced <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#tuples-in-rest-parameters-and-spread-expressions\" rel=\"nofollow noreferrer\">tuple types in rest/spread expressions</a>, you can kind of express this, but I don't know if it's worth it to you.</p>\n\n<p>First, let's define the type functions <code>Head</code> and <code>Tail</code> which split a tuple type into its first element and a tuple of the rest of the elements:</p>\n\n<pre><code>type HeadTail&lt;L extends any[]&gt; = \n  ((...args: L) =&gt; void) extends ((x: infer H, ...args: infer T) =&gt; void) ? [H,T] : never\ntype Head&lt;L extends any[]&gt; = HeadTail&lt;L&gt;[0];\n// e.g., Head&lt;[string, number, boolean]&gt; is string\ntype Tail&lt;L extends any[]&gt; = HeadTail&lt;L&gt;[1]; \n// e.g., Tail&lt;[string, number, boolean]&gt; is [number, boolean]\n</code></pre>\n\n<p>Now we can define <code>BranchInterface</code> or <code>Branch</code> to take a tuple of types like this:</p>\n\n<pre><code>export interface BranchInterface&lt;T extends any[]&gt; {\n  children: Array&lt;BranchInterface&lt;Tail&lt;T&gt;&gt;&gt;\n  record: Head&lt;T&gt;;\n}\n\nexport class Branch&lt;T extends any[]&gt; {\n  public children: Array&lt;BranchInterface&lt;Tail&lt;T&gt;&gt;&gt; = [];\n  constructor(public record: Head&lt;T&gt;) { }\n}\n</code></pre>\n\n<p>Assuming you know that you want the top level to be an <code>Office</code> and the next level down to be a <code>Contact</code>, then you can define your list of types as <code>[Office, Contact]</code> and see if it works:</p>\n\n<pre><code>const rootBranch = new Branch&lt;[Office, Contact]&gt;(newOffice);\nconst anOffice = rootBranch.record; // Office\nconst aContact = rootBranch.children[0].record; // Contact\n</code></pre>\n\n<p>Of course if you traverse past that, you find out what <code>Head&lt;[]&gt;</code> is (that implementation gives <code>{}</code>, I guess):</p>\n\n<pre><code>const whoKnows = rootBranch.children[0].children[0].record; // {}\n</code></pre>\n\n<p>If you want to make the layers below <code>Contact</code> be something like <code>never</code> instead (because you will never traverse down that far), you can use a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#rest-elements-in-tuple-types\" rel=\"nofollow noreferrer\">rest tuple</a> like this:</p>\n\n<pre><code>const rootBranch = new Branch&lt;[Office, Contact, ...never[]]&gt;(newOffice);\nconst anOffice = rootBranch.record; // Office\nconst aContact = rootBranch.children[0].record; // Contact\nconst aNever = rootBranch.children[0].children[0].record; // never\nconst anotherNever = rootBranch.children[0].children[0].children[0].record; // never\n</code></pre>\n\n<p>Note that this requires you to explicitly specify the type parameter <code>T</code> when constructing a <code>Branch</code>, since the compiler cannot infer the type from the argument:</p>\n\n<pre><code>const oops = new Branch(newOffice); \noops.record; // any, not Office\n</code></pre>\n\n<p>Well, it works.  Up to you if you want to go that way.  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2010, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1535565747, "creation_date": 1535551302, "question_id": 52079301, "link": "https://stackoverflow.com/questions/52079301/how-to-use-typescript-generics-recursively", "title": "How to use Typescript generics recursively?", "body": "<p>I am having an issue using recursive generics.</p>\n\n<p>I created an interface using generics. The idea is a branch can have many child branches which are also generics. This is my code ( I cut it down for posting)</p>\n\n<pre><code>import Contact from 'Business/Models/Contact';\nimport Office from 'Business/Models/Office';\n\nexport interface BranchInterface&lt;T&gt; {\n    children: Array&lt;BranchInterface&lt;T&gt;&gt;;\n    record: T;\n}\n\nexport class Branch&lt;T&gt; implements BranchInterface&lt;T&gt; {\n\n    public children: Array&lt;BranchInterface&lt;T&gt;&gt; = [];\n\n    constructor(public record: T) {}\n}\n\n\nconst newOffice = new Office();\n\nconst rootBranch = new Branch&lt;Office&gt;(newOffice);\n\nrootBranch.children = Array&lt;Branch&lt;Contact&gt;&gt;(); &lt;&lt; is the issue\n</code></pre>\n\n<p>The issue is that when I construct an <code>Office</code> branch, the children array is being constructed as <code>Office</code> type. </p>\n\n<p>This means when I try to assign an array of <code>Contact</code> branches as the children of the <code>Office</code> branch typescript throws the following error;</p>\n\n<p><code>Type 'Branch&lt;Contact&gt;[]' is not assignable to type 'Branch&lt;Office&gt;[]'...</code></p>\n\n<p>The reason for doing this is because the type of branches are unknown and I don't really want to use <code>any</code> either if I can avoid it.</p>\n\n<p>So, How would I resolve this?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "es6-promise"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535550867, "post_id": 52079031, "comment_id": 91108308, "body": "Just tested on stack itself, it works. Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> reproducing the issue."}, {"owner": {"reputation": 657, "user_id": 2193107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07b91440dbda86c16155935e26615c8?s=128&d=identicon&r=PG", "display_name": "JBC", "link": "https://stackoverflow.com/users/2193107/jbc"}, "edited": false, "score": 6, "creation_date": 1535551136, "post_id": 52079031, "comment_id": 91108530, "body": "What version of TypeScript are you using?  Support for ES2018 wasn&#39;t added until 2.7: <a href=\"https://github.com/Microsoft/TypeScript/issues/20463\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/20463</a>"}, {"owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "edited": false, "score": 0, "creation_date": 1535551437, "post_id": 52079031, "comment_id": 91108728, "body": "Just checked and its 2.6.2, I will update and check it&#39;s resolved."}, {"owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "edited": false, "score": 0, "creation_date": 1535551851, "post_id": 52079031, "comment_id": 91109011, "body": "Thank you! This has resolved it!"}, {"owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "edited": false, "score": 0, "creation_date": 1535555107, "post_id": 52079031, "comment_id": 91111424, "body": "Hi again, my ionic app now compiles without throwing an error but I now get this error when it tries to run a code block using .finally(). &quot;TypeError: this.file.readAsArrayBuffer(...).then(...).finally is not a function&quot;, any idea why?"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1535556113, "post_id": 52079031, "comment_id": 91112175, "body": "@JJPell: Is <code>file</code> a FileReader instance? If so, then <code>readAsArrayBuffer()</code> doesn&#39;t return anything.. In that case you should actually be getting an error for using <code>then()</code> itself... use the <code>onload&#47;loadend</code> event to do your job.."}, {"owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "edited": false, "score": 0, "creation_date": 1535557488, "post_id": 52079031, "comment_id": 91113103, "body": "nah <code>file</code> is an instance of ionics file plugin which is basicly a FileReader instance but it returns a promise. <a href=\"https://ionicframework.com/docs/native/file#readAsArrayBuffer\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/file#readAsArrayBuffer</a>"}, {"owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "edited": false, "score": 0, "creation_date": 1535557605, "post_id": 52079031, "comment_id": 91113191, "body": "I suspect that this is being caused by my tsconfig.json compilerOptions. Can anyone confirm if this is the correct settings <code>&quot;lib&quot;: [       &quot;dom&quot;,       &quot;esnext&quot;,     ], &quot;target&quot;: &quot;esnext&quot;</code>"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1535583013, "post_id": 52079031, "comment_id": 91124435, "body": "If you are getting a runtime error on the <code>finally</code> call, then the promise implementation in your runtime environment does not support <code>finally</code>.  There&#39;s nothing TypeScript can do about that.  You can try installing <a href=\"https://www.npmjs.com/package/promise.prototype.finally\" rel=\"nofollow noreferrer\">this polyfill</a>."}, {"owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "edited": false, "score": 0, "creation_date": 1535714018, "post_id": 52079031, "comment_id": 91178847, "body": "Thanks Matt, this sorted it"}], "answers": [{"comments": [{"owner": {"reputation": 1008, "user_id": 1965607, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fef3a32a05b72b6437d01a3e2c07b0d2?s=128&d=identicon&r=PG", "display_name": "Uday Reddy", "link": "https://stackoverflow.com/users/1965607/uday-reddy"}, "edited": false, "score": 0, "creation_date": 1544862031, "post_id": 52098456, "comment_id": 94432485, "body": "I added <code>esnext</code> and only then it works.I&#39;m on typescript-2.7. With typescript-2.7 it doesnt work with <code>es2018</code>. Will this support old browsers?"}, {"owner": {"reputation": 657, "user_id": 2193107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07b91440dbda86c16155935e26615c8?s=128&d=identicon&r=PG", "display_name": "JBC", "link": "https://stackoverflow.com/users/2193107/jbc"}, "reply_to_user": {"reputation": 1008, "user_id": 1965607, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fef3a32a05b72b6437d01a3e2c07b0d2?s=128&d=identicon&r=PG", "display_name": "Uday Reddy", "link": "https://stackoverflow.com/users/1965607/uday-reddy"}, "edited": false, "score": 0, "creation_date": 1545152622, "post_id": 52098456, "comment_id": 94523825, "body": "With old browsers you usually need polyfills."}], "tags": [], "owner": {"reputation": 657, "user_id": 2193107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07b91440dbda86c16155935e26615c8?s=128&d=identicon&r=PG", "display_name": "JBC", "link": "https://stackoverflow.com/users/2193107/jbc"}, "is_accepted": false, "score": 7, "last_activity_date": 1535636223, "creation_date": 1535636223, "answer_id": 52098456, "question_id": 52079031, "link": "https://stackoverflow.com/questions/52079031/property-finally-does-not-exist-on-type-promisevoid/52098456#52098456", "title": "Property &#39;finally&#39; does not exist on type &#39;Promise&lt;void&gt;&#39;", "body": "<p>ES2018 support was not added until <a href=\"http://github.com/Microsoft/TypeScript/issues/20463\" rel=\"noreferrer\">TypeScript 2.7</a>.  Upgrading to that version or later resolves this error.</p>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "is_accepted": false, "score": 0, "last_activity_date": 1535713965, "creation_date": 1535713965, "answer_id": 52114252, "question_id": 52079031, "link": "https://stackoverflow.com/questions/52079031/property-finally-does-not-exist-on-type-promisevoid/52114252#52114252", "title": "Property &#39;finally&#39; does not exist on type &#39;Promise&lt;void&gt;&#39;", "body": "<p>I fixed this by using this <a href=\"https://www.npmjs.com/package/promise.prototype.finally\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/promise.prototype.finally</a> as it seems to be an issue with ionic not typescript. I imagine it will be fixed in the near future.</p>\n\n<p>Thanks to everyone who helped me with this.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 2189347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71863994129262ebb6194c227e374bde?s=128&d=identicon&r=PG", "display_name": "rod howard", "link": "https://stackoverflow.com/users/2189347/rod-howard"}, "is_accepted": false, "score": 6, "last_activity_date": 1607017214, "last_edit_date": 1607017214, "creation_date": 1542762132, "answer_id": 53403877, "question_id": 52079031, "link": "https://stackoverflow.com/questions/52079031/property-finally-does-not-exist-on-type-promisevoid/53403877#53403877", "title": "Property &#39;finally&#39; does not exist on type &#39;Promise&lt;void&gt;&#39;", "body": "<p>While TypeScript 2.7 might support it you need to target: &quot;ESNEXT&quot; in your tsconfig.json.</p>\n<p>Which means that your code will probably not run in older browsers or node.js versions.</p>\n<p>I'm using:</p>\n<pre><code>&quot;@types/promise.prototype.finally&quot;: &quot;^2.0.2&quot;\n</code></pre>\n<pre><code>import { shim as finallyShim } from 'promise.prototype.finally'; \nfinallyShim();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1775, "user_id": 3319392, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TwgMn.jpg?s=128&g=1", "display_name": "Jette", "link": "https://stackoverflow.com/users/3319392/jette"}, "edited": false, "score": 0, "creation_date": 1557231515, "post_id": 54746036, "comment_id": 98688599, "body": "I ran into this out of the blue. I didn&#39;t update anything for ages and I&#39;ve been compiling a lot with no errors... Then suddenly this &quot;finally&quot; error today. I am using version 3.2.4. Just added es2018 to tsconfig.json and everything works again.  Seems strange. But why es2018.promise and not just es2018?"}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "reply_to_user": {"reputation": 1775, "user_id": 3319392, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TwgMn.jpg?s=128&g=1", "display_name": "Jette", "link": "https://stackoverflow.com/users/3319392/jette"}, "edited": false, "score": 1, "creation_date": 1557235633, "post_id": 54746036, "comment_id": 98691096, "body": "@Jette <code>es2018</code> contains <code>ES2018.Intl</code>, <code>ES2018.Promise</code> and <code>ES2018.RegExp</code>. So if you just need <code>finally</code> feature, just add <code>es2018.promise</code> to lib."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1579629729, "post_id": 54746036, "comment_id": 105827398, "body": "Does it make sense to include several versions of ES (2015 and 2016 in your case)? I understand that you need at least one &quot;full&quot; library but I&#39;m not sure why you&#39;d want two. I am using <code>[&quot;DOM&quot;, &quot;es2017&quot;, &quot;es2018.promise&quot;]</code> and it&#39;s working for me."}, {"owner": {"reputation": 1244, "user_id": 2080504, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g7OJr.jpg?s=128&g=1", "display_name": "nvirth", "link": "https://stackoverflow.com/users/2080504/nvirth"}, "edited": false, "score": 0, "creation_date": 1586178663, "post_id": 54746036, "comment_id": 108024210, "body": "In <code>TypeScript 2.7</code>, you have to add <code>&quot;esnext.promise&quot;</code> instead of <code>&quot;es2018.promise&quot;</code>"}], "tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": false, "score": 53, "last_activity_date": 1550488549, "creation_date": 1550488549, "answer_id": 54746036, "question_id": 52079031, "link": "https://stackoverflow.com/questions/52079031/property-finally-does-not-exist-on-type-promisevoid/54746036#54746036", "title": "Property &#39;finally&#39; does not exist on type &#39;Promise&lt;void&gt;&#39;", "body": "<p>For <code>TypeScript 3.3.3</code>, just add <code>es2018.promise</code> to your <code>tsconfig.json</code> - <code>compilerOptions.lib</code> config like this:</p>\n\n<p><code>\"lib\": [\"es2015\", \"es2016\", \"dom\", \"es2018.promise\"]</code></p>\n\n<p>If you use <code>vscode</code>, maybe you should <code>reload window</code> after adding this option to your <code>tsconfig.json</code> file</p>\n"}, {"tags": [], "owner": {"reputation": 1503, "user_id": 1815612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjgRF.jpg?s=128&g=1", "display_name": "Yao Li", "link": "https://stackoverflow.com/users/1815612/yao-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1586451939, "creation_date": 1586451939, "answer_id": 61126448, "question_id": 52079031, "link": "https://stackoverflow.com/questions/52079031/property-finally-does-not-exist-on-type-promisevoid/61126448#61126448", "title": "Property &#39;finally&#39; does not exist on type &#39;Promise&lt;void&gt;&#39;", "body": "<p>Make sure you yarn/npm install first, the error disappears after installation if you already have the <code>es2018.promise</code> in <code>tsconfig.json</code>.</p>\n"}], "owner": {"reputation": 475, "user_id": 5181480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0838fd944ab2e6a4e60fddc5ad65050?s=128&d=identicon&r=PG&f=1", "display_name": "JJ Pell", "link": "https://stackoverflow.com/users/5181480/jj-pell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22636, "favorite_count": 3, "answer_count": 5, "score": 41, "last_activity_date": 1608710768, "creation_date": 1535550584, "last_edit_date": 1608710768, "question_id": 52079031, "link": "https://stackoverflow.com/questions/52079031/property-finally-does-not-exist-on-type-promisevoid", "title": "Property &#39;finally&#39; does not exist on type &#39;Promise&lt;void&gt;&#39;", "body": "<p>I am trying to use the finally method on a promise but I keep getting this error.</p>\n\n<pre><code>Property 'finally' does not exist on type 'Promise&lt;void&gt;'.\n</code></pre>\n\n<p>I have looked up similar questions to this which have suggested adding \"es2018.promise\" to the \"lib\" array in tsconfig.js. This then produces the following error:</p>\n\n<pre><code>typescript error\n        Argument for '--lib' option must be: 'es5', 'es6', 'es2015', 'es7', 'es2016', 'es2017', 'esnext', 'dom',\n        'dom.iterable', 'webworker', 'scripthost', 'es2015.core', 'es2015.collection', 'es2015.generator',\n        'es2015.iterable', 'es2015.promise', 'es2015.proxy', 'es2015.reflect', 'es2015.symbol',\n        'es2015.symbol.wellknown', 'es2016.array.include', 'es2017.object', 'es2017.sharedmemory', 'es2017.string',\n        'es2017.intl', 'esnext.asynciterable'.\n</code></pre>\n\n<p>Any help resolving this is greatly appreciated!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 750, "user_id": 3227229, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32c3b86dea8e69bd907761a2feda3a68?s=128&d=identicon&r=PG&f=1", "display_name": "simonberry", "link": "https://stackoverflow.com/users/3227229/simonberry"}, "edited": false, "score": 1, "creation_date": 1535553331, "post_id": 52078953, "comment_id": 91110088, "body": "you probably need the async pipe : <code>*ngFor=&quot;let item of items | async&quot;</code> .... read more at <a href=\"https://codecraft.tv/courses/angular/pipes/async-pipe/\" rel=\"nofollow noreferrer\">codecraft.tv/courses/angular/pipes/async-pipe</a>"}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "reply_to_user": {"reputation": 750, "user_id": 3227229, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32c3b86dea8e69bd907761a2feda3a68?s=128&d=identicon&r=PG&f=1", "display_name": "simonberry", "link": "https://stackoverflow.com/users/3227229/simonberry"}, "edited": false, "score": 0, "creation_date": 1535553502, "post_id": 52078953, "comment_id": 91110228, "body": "It shows nothing"}, {"owner": {"reputation": 750, "user_id": 3227229, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32c3b86dea8e69bd907761a2feda3a68?s=128&d=identicon&r=PG&f=1", "display_name": "simonberry", "link": "https://stackoverflow.com/users/3227229/simonberry"}, "edited": false, "score": 1, "creation_date": 1535553884, "post_id": 52078953, "comment_id": 91110496, "body": "hard to debug without knowing your data etc... would start by subscribing to valueChanges in your code and setting a breakpoint / log to console: i.e. <code>this.items = this.notesCollection.valueChanges().subscribe (  &#47;&#47;debug here )</code> to see if you are actually getting any data from your Observable"}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "reply_to_user": {"reputation": 750, "user_id": 3227229, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32c3b86dea8e69bd907761a2feda3a68?s=128&d=identicon&r=PG&f=1", "display_name": "simonberry", "link": "https://stackoverflow.com/users/3227229/simonberry"}, "edited": false, "score": 0, "creation_date": 1535554892, "post_id": 52078953, "comment_id": 91111260, "body": "I really think that there is one normal way of getting list objects from firestore, not just trying to guess.."}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "reply_to_user": {"reputation": 750, "user_id": 3227229, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32c3b86dea8e69bd907761a2feda3a68?s=128&d=identicon&r=PG&f=1", "display_name": "simonberry", "link": "https://stackoverflow.com/users/3227229/simonberry"}, "edited": false, "score": 0, "creation_date": 1535555077, "post_id": 52078953, "comment_id": 91111392, "body": "this.notesCollection.valueChanges().subscribe( data =&gt; console.log(data)); - gives undefined. I will give a picture of what my items look in firestore."}, {"owner": {"reputation": 750, "user_id": 3227229, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32c3b86dea8e69bd907761a2feda3a68?s=128&d=identicon&r=PG&f=1", "display_name": "simonberry", "link": "https://stackoverflow.com/users/3227229/simonberry"}, "edited": false, "score": 0, "creation_date": 1535714270, "post_id": 52078953, "comment_id": 91178998, "body": "this is telling you that your aren&#39;t getting any data from your connection... maybe your firebaseConfig is incorrect..."}], "answers": [{"tags": [], "owner": {"reputation": 444, "user_id": 4296874, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-_tKBEzL2YCg/AAAAAAAAAAI/AAAAAAAAALo/Uotlyl8bZ14/photo.jpg?sz=128", "display_name": "Edward Ellsworth", "link": "https://stackoverflow.com/users/4296874/edward-ellsworth"}, "is_accepted": false, "score": 0, "last_activity_date": 1602034197, "creation_date": 1602034197, "answer_id": 64235941, "question_id": 52078953, "link": "https://stackoverflow.com/questions/52078953/angular-firebase-get-list-from-firestore/64235941#64235941", "title": "Angular Firebase get list from firestore", "body": "<p>I'm not sure if you can iterate over an observable in your template like this. I would do something like this:</p>\n<pre><code>constructor(private afs: AngularFirestore){\n  this.notesCollection.valueChanges().subscribe(items =&gt; this.items = items);\n}\n  items: Data[];\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 391, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1602034197, "creation_date": 1535550307, "last_edit_date": 1535555126, "question_id": 52078953, "link": "https://stackoverflow.com/questions/52078953/angular-firebase-get-list-from-firestore", "title": "Angular Firebase get list from firestore", "body": "<p>i want to know how to get lists from cloud firestore. </p>\n\n<p>I upload list like this :</p>\n\n<pre><code>export interface Data {\n  name: string;\n  address: string;\n  address2: string;\n  pscode: string;\n  ccode: string;\n  name2: string;\n}\n\nconstructor(private afs: AngularFirestore){\n    this.notesCollection = this.afs.collection(`imones`, (ref) =&gt; ref.orderBy('time', 'desc').limit(5));\n}\n\n  notesCollection: AngularFirestoreCollection&lt;Data&gt;;\n\n//creating item in list (imones)\n\ncreateItem(){\n  this.notesCollection.add(this.busines);\n}\n</code></pre>\n\n<p><strong>Now the question is how to get all list items from there ?</strong></p>\n\n<p>That's my try : </p>\n\n<pre><code>constructor(private afs: AngularFirestore){\n  this.items = this.notesCollection.valueChanges();\n}\n  items: Observable&lt;Data[]&gt;;\n</code></pre>\n\n<p>HTML :</p>\n\n<pre><code> &lt;p *ngFor=\"let item of items\"&gt;{{item.name}}&lt;/p&gt;\n</code></pre>\n\n<p>ERROR: </p>\n\n<blockquote>\n  <p>ERROR Error: Cannot find a differ supporting object '[object Object]'\n  of type 'object'. NgFor only supports binding to Iterables such as\n  Arrays.</p>\n</blockquote>\n\n<p>Again error :</p>\n\n<p><a href=\"https://i.stack.imgur.com/GNY2f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GNY2f.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/vzyau.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vzyau.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "edited": false, "score": 0, "creation_date": 1535550899, "post_id": 52078941, "comment_id": 91108332, "body": "You can&#39;t... Either use a common service or the template syntax. Components shouldn&#39;t be tightly coupled"}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1535556637, "post_id": 52078941, "comment_id": 91112526, "body": "You can&#39;t access the property of the component , instead you can access the value inside the service in the component where you want&#39;t access."}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1535557397, "post_id": 52078941, "comment_id": 91113047, "body": "In your source code you didn&#39;t invoke the changeDark and changeLight anywhere , that&#39;s the place where you are setting the value to the service. Also I would suggest you to move the source code to the question by editing it and remove the answer."}, {"owner": {"reputation": 61, "user_id": 10275837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984583752232/picture?type=large", "display_name": "Patrik Spi\u0161&#225;k", "link": "https://stackoverflow.com/users/10275837/patrik-spi%c5%a1%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1535563238, "post_id": 52078941, "comment_id": 91116248, "body": "Sorry for that, I have already eddited my post. You can see that actually Im calling that function which trigger events which I defined except the last one which I need to pass to Footer component"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1535569802, "post_id": 52078941, "comment_id": 91119359, "body": "@PatrikSpi\u0161&#225;k, use a getter in your component: Don&#39;t declare nightTheme, just: get nightTheme(){ return this.headerService.getTheme;}"}, {"owner": {"reputation": 61, "user_id": 10275837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984583752232/picture?type=large", "display_name": "Patrik Spi\u0161&#225;k", "link": "https://stackoverflow.com/users/10275837/patrik-spi%c5%a1%c3%a1k"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1535573388, "post_id": 52078941, "comment_id": 91120964, "body": "@Eliseo but I dont want invoke whole function from footer component. I have button which is triggered from header component. So when I triggered changeDark, i need also write value which is pushed to variable nighTheme at the same time... What I&#39;m trying to achieve is make theme switcher for Material IO. But I cant switch theme in Footer, while this is seperated component."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1535609774, "post_id": 52078941, "comment_id": 91130400, "body": "Sorry, I don&#39;t understand you. I clarified my coment in a answer"}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 5712659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb15182a9eae1bbc5a405413d5ca713?s=128&d=identicon&r=PG&f=1", "display_name": "qwrtln", "link": "https://stackoverflow.com/users/5712659/qwrtln"}, "is_accepted": false, "score": 0, "last_activity_date": 1535550618, "creation_date": 1535550618, "answer_id": 52079045, "question_id": 52078941, "link": "https://stackoverflow.com/questions/52078941/angular-6-passing-variable-value/52079045#52079045", "title": "Angular 6 - Passing variable value", "body": "<p>You could use a service which stores the variable and from which components can access it. More about services here: <a href=\"https://angular.io/tutorial/toh-pt4\" rel=\"nofollow noreferrer\">https://angular.io/tutorial/toh-pt4</a></p>\n"}, {"tags": [], "owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "is_accepted": false, "score": 1, "last_activity_date": 1535550943, "creation_date": 1535550943, "answer_id": 52079164, "question_id": 52078941, "link": "https://stackoverflow.com/questions/52078941/angular-6-passing-variable-value/52079164#52079164", "title": "Angular 6 - Passing variable value", "body": "<p>Take a look at official <a href=\"https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service\" rel=\"nofollow noreferrer\">angular documentation</a> - Parent and children communicate via a service. The idea is to create a service which has some RxJS <code>Subject</code> properties. Your components will inject this service and using those <code>Subject</code>s - they can interact with each other. Why <code>Subject</code>? because you can subscribe and emit values at the same time. For more information - check this article about <a href=\"https://blog.angularindepth.com/rxjs-understanding-subjects-5c585188c3e1\" rel=\"nofollow noreferrer\">understanding subjects</a>.</p>\n\n<p>If you're not familiar with RxJS Subjects, as a workaround (but it's not a good solution) - you can just share the values of the same service by changing it properties. But in this case your components cannot be notified if there were any changes. This is why Subjects are good candidate for component interaction via Service.</p>\n"}, {"tags": [], "owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "is_accepted": false, "score": 0, "last_activity_date": 1535551369, "creation_date": 1535551369, "answer_id": 52079328, "question_id": 52078941, "link": "https://stackoverflow.com/questions/52078941/angular-6-passing-variable-value/52079328#52079328", "title": "Angular 6 - Passing variable value", "body": "<p>You can use Angular services for sharing your common data across your components. Please see my answer </p>\n\n<p><a href=\"https://stackoverflow.com/questions/51959621/pass-data-to-nth-level-child-component-in-angular-4/51960050#51960050\">Pass data to nth level child component in Angular 4</a></p>\n\n<p>And other option is RxJs , you can communicate with some isolated component through Observable</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51932747/angular-6-communication-between-component-and-a-directive/51933276#51933276\">Angular 6 communication between component and a directive</a></p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 10275837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984583752232/picture?type=large", "display_name": "Patrik Spi\u0161&#225;k", "link": "https://stackoverflow.com/users/10275837/patrik-spi%c5%a1%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1535617030, "post_id": 52090322, "comment_id": 91134383, "body": "But I dont need show value at all. I need just pass value from one variable in.Header.ts to another variable in Footert.ts  Problem is that i have same variable (nightTheme) in Header and Footer component.   In the header component is button which should change theme from Light to Dark with changeDark() function. So my button does what I expecting but only in the Header component, so I mean, when I hit button, my theme is switch to dark because function set nightTheme to TRUE, but I need set nightTheme to TRUE in FooterComponent at the same time when I hit button in HeaderComponent"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 61, "user_id": 10275837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984583752232/picture?type=large", "display_name": "Patrik Spi\u0161&#225;k", "link": "https://stackoverflow.com/users/10275837/patrik-spi%c5%a1%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1535618309, "post_id": 52090322, "comment_id": 91135107, "body": "Update the answer"}, {"owner": {"reputation": 61, "user_id": 10275837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984583752232/picture?type=large", "display_name": "Patrik Spi\u0161&#225;k", "link": "https://stackoverflow.com/users/10275837/patrik-spi%c5%a1%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1535645427, "post_id": 52090322, "comment_id": 91153520, "body": "I have tried your code but does not work... nighTheme variable in Footer component still remain set as False while in Header Component was set to True"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 61, "user_id": 10275837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984583752232/picture?type=large", "display_name": "Patrik Spi\u0161&#225;k", "link": "https://stackoverflow.com/users/10275837/patrik-spi%c5%a1%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1535651585, "post_id": 52090322, "comment_id": 91156513, "body": "I wrote so quickly and change the names of the function:see the stackbliz <a href=\"https://stackblitz.com/edit/angular-rrv6hs?file=src%2Fapp%2Ffooter.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 0, "last_activity_date": 1535651734, "last_edit_date": 1535651734, "creation_date": 1535609734, "answer_id": 52090322, "question_id": 52078941, "link": "https://stackoverflow.com/questions/52078941/angular-6-passing-variable-value/52090322#52090322", "title": "Angular 6 - Passing variable value", "body": "<p><strong>UPDATE</strong></p>\n\n<p>@PatrikSpi\u0161\u00e1k, when you use a getter, any change in your application force Angular to \"recalculate\" the value. The \"tip\" is that you have anly a variable (the variable is the variable defined in the service). Make a getter make that you can use the \"getter\" in the .html of the component. You can use the getter to make any change of other variable of the component</p>\n\n<p><strong>Update 2</strong> (corrected the name of the variables)</p>\n\n<p>Your footer component. footer need know the value of getTheme</p>\n\n<pre><code>constructor(private headerService: HeaderService) \nget getTheme()\n{\n    return this.headerService.getTheme;\n}\n</code></pre>\n\n<p>Your header component, header need know the value of nightTheme and can change</p>\n\n<pre><code>constructor(private headerService: HeaderService) \nget getTheme()\n{\n    return this.headerService.getTheme;\n}\nset getTheme(value)\n{\n    this.headerService.getTheme=value;\n}\n//You can do anywhere\nthis.getTheme=true\n</code></pre>\n\n<p>Your service headerService</p>\n\n<pre><code>getTheme:any;\nconstructor(){}\n</code></pre>\n\n<p>You only has one variable getTheme in headerService (equal you can use another variable). Seeing your code I think you want to referred to \"nightTheme\"</p>\n"}], "owner": {"reputation": 61, "user_id": 10275837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984583752232/picture?type=large", "display_name": "Patrik Spi\u0161&#225;k", "link": "https://stackoverflow.com/users/10275837/patrik-spi%c5%a1%c3%a1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6391, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1535651734, "creation_date": 1535550251, "last_edit_date": 1535647322, "question_id": 52078941, "link": "https://stackoverflow.com/questions/52078941/angular-6-passing-variable-value", "title": "Angular 6 - Passing variable value", "body": "<p>Is there any option for how to pass only value from one variable saved in Component1 to a variable in Component2 without any template binding?</p>\n\n<p>I have component Header and Footer, and in the header is a variable test which is boolean and I need pass value from variable TEST to variable TEST2 in Footer component.</p>\n\n<p>I was looking for some solutions with @Input but I did not find any solutions without template bindings as [test]=\"test\"</p>\n\n<p>In short, I just need to pass value from one <code>.ts</code> file to another <code>.ts</code> file.</p>\n\n<p>I was following this example: <a href=\"https://stackoverflow.com/questions/51959621/pass-data-to-nth-level-child-component-in-angular-4/51960050#51960050\">Pass data to nth level child component in Angular 4</a></p>\n\n<p>But variable still is not passed to the component</p>\n\n<p><strong>HeaderService.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class HeaderService {\r\n    getTheme: boolean;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>HeaderComponent.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { SideBarService } from '../sidebar/sidebar.service';\r\nimport { googleMapConfig } from '../content/google-map/config.service';\r\nimport { HeaderService } from './header.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\n\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  Name = 'Menu\u010dk\u00e1re\u0148';\r\n  Navigation = 'Navig\u00e1cia';\r\n  nightTheme;\r\n\r\n  icons = ['favorites','notification_important'];\r\n  tooltip = ['Ob\u013e\u00faben\u00e9 polo\u017eky','Zoznam zmien'];\r\n\r\n  constructor(\r\n    public sideBarService: SideBarService,\r\n    public mapService: googleMapConfig,\r\n    private headerService: HeaderService\r\n  ) { }\r\n\r\npublic toggle() {\r\n  this.sideBarService.toggle.emit();\r\n}\r\n\r\npublic changeDark() {\r\n  this.nightTheme = true;\r\n  this.headerService.getTheme = true;\r\n  this.mapService.changeDark.emit();\r\n}\r\n\r\npublic changeLight() {\r\n  this.nightTheme = false;\r\n  this.headerService.getTheme = false;\r\n  this.mapService.changeLight.emit();\r\n}\r\n\r\n  ngOnInit() { }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>FooterComponent</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\r\nimport { HeaderService } from '../header/header.service';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss'],\r\n  providers: [HeaderService]\r\n})\r\nexport class FooterComponent {\r\n\r\n  Copyright = 'Copyright 2018 | Vytvoril Patrik Spi\u0161\u00e1k';\r\n  Version = '0.0.1';\r\n  nightTheme: boolean;\r\n\r\n  constructor(private headerService: HeaderService) {\r\n\r\n    this.nightTheme = this.headerService.getTheme;\r\n\r\n   }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So when I invoke my function <strong>changeDark()</strong> from HeaderComponent.html it does not trigger this.headerService.getTheme = true;</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;mat-grid-tile&gt;\r\n              &lt;button (click)=\"this.changeDark($event)\" mat-icon-button&gt;\r\n                &lt;mat-icon aria-label=\"No\u010dn\u00fd re\u017eim\"&gt;brightness_3&lt;/mat-icon&gt;\r\n              &lt;/button&gt;\r\n          &lt;/mat-grid-tile&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>So I was able achieve what I was needed with this code: Problem was with providers declared in FooterComponent. While were providers declared in FootersComponent I was getting Undefined, when I removed them and keep providers only in app.modules.ts variable is set and read properly.</p>\n\n<p>HeaderService.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class HeaderService {\r\n    nightTheme:boolean;\r\n\r\n    get data():boolean{\r\n        return this.nightTheme;\r\n    }\r\n\r\n    set data(value:boolean){\r\n        this.nightTheme = value;\r\n    }\r\n\r\nconstructor(){}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Header Component</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { SideBarService } from '../sidebar/sidebar.service';\r\nimport { googleMapConfig } from '../content/google-map/config.service';\r\nimport { HeaderService } from './header.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\n\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  Name = 'Menu\u010dk\u00e1re\u0148';\r\n  Navigation = 'Navig\u00e1cia';\r\n\r\n  icons = ['favorites','notification_important'];\r\n  tooltip = ['Ob\u013e\u00faben\u00e9 polo\u017eky','Zoznam zmien'];\r\n\r\n  constructor(\r\n    public sideBarService: SideBarService,\r\n    public mapService: googleMapConfig,\r\n    private headerService: HeaderService\r\n  ) {}\r\n\r\npublic toggle() {\r\n  this.sideBarService.toggle.emit();\r\n}\r\n\r\npublic changeDark() {\r\n  this.headerService.nightTheme = true;\r\n  console.log(this.headerService.nightTheme);\r\n  this.mapService.changeDark.emit();\r\n}\r\n\r\npublic changeLight() {\r\n  this.headerService.nightTheme = false;\r\n  console.log(this.headerService.nightTheme);\r\n  this.mapService.changeLight.emit();\r\n}\r\n\r\n  ngOnInit() { }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Footer Component</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\r\nimport { HeaderService } from '../header/header.service';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss'],\r\n})\r\nexport class FooterComponent {\r\n\r\n  Copyright = 'Copyright 2018 | Vytvoril Patrik Spi\u0161\u00e1k';\r\n  Version = '0.0.1';\r\n\r\n  constructor(private headerService: HeaderService) { }\r\n\r\n  ngOnInit() {\r\n    console.log('FOOTER:'+this.headerService.nightTheme);\r\n  }\r\n  \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "visual-studio", "typescript", "azure-devops", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 1253, "user_id": 6266218, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TAyLQ.jpg?s=128&g=1", "display_name": "stian64", "link": "https://stackoverflow.com/users/6266218/stian64"}, "edited": false, "score": 0, "creation_date": 1535611294, "post_id": 52087062, "comment_id": 91131098, "body": "Thanks for the help, the log said that it used the local typescript version under some microsoft folder. It was version 2.3. i did install up to 2.9.2 and did install it globaly with npm aswell to be sure. It worked thanks allot"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1535582795, "creation_date": 1535582795, "answer_id": 52087062, "question_id": 52078473, "link": "https://stackoverflow.com/questions/52078473/error-after-upgrading-angular-5-to-6-vsts-build/52087062#52087062", "title": "Error after upgrading Angular 5 to 6 , VSTS build", "body": "<p>Your VSTS build must be using a version of TypeScript older than 2.7, because the error message <code>A computed property name in an interface must directly refer to a built-in symbol.</code> does not exist in 2.7 and newer.  It looks like you'll need to use at least 2.7 to compile those type declaration files.  I don't know what controls the TypeScript version of your VSTS build; if you provide more information, I may be able to help more.</p>\n"}], "owner": {"reputation": 1253, "user_id": 6266218, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TAyLQ.jpg?s=128&g=1", "display_name": "stian64", "link": "https://stackoverflow.com/users/6266218/stian64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 52087062, "answer_count": 1, "score": 0, "last_activity_date": 1535729984, "creation_date": 1535548773, "last_edit_date": 1535549778, "question_id": 52078473, "link": "https://stackoverflow.com/questions/52078473/error-after-upgrading-angular-5-to-6-vsts-build", "title": "Error after upgrading Angular 5 to 6 , VSTS build", "body": "<p>After upgrading from Angular 5 to 6 i have got it up and running locally. It runns in builds and build --prod . I do have it in an .NET MVC application. However when the build on VSTS goes through it pops up some errors. It says. </p>\n\n<pre><code>node_modules\\@angular\\compiler\\src\\output\\output_ast.d.ts(602,15): Error TS2474: Build:In 'const' enum declarations member initializer must be constant expression.\n\nnode_modules\\@angular\\core\\src\\render3\\interfaces\\container.d.ts(35,5): Error TS1169: Build:A computed property name in an interface must directly refer to a built-in symbol.\n\nnode_modules\\@angular\\core\\src\\sanitization\\bypass.d.ts(55,14): Error TS2535: Build:Enum type 'BypassType' has members with initializers that are not literals.\n</code></pre>\n\n<p>It is only the build on VSTS that fails and it comes in the process of CompileTypeScriptWithTSConfig:</p>\n\n<p>I do run typescript version 2.7.2 and i have set the csproj Typescript version to 2.7 . As Visual studio doesnt have support for 2.9.2 and Angular 6.1.4 doesnt support version 3.0.0</p>\n"}, {"tags": ["angular", "typescript", "redux", "ngrx"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 10085261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AlPaOzuReiA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p32ag-GylmwHY2zsJvKDq8bAPA_w/mo/photo.jpg?sz=128", "display_name": "Luiz", "link": "https://stackoverflow.com/users/10085261/luiz"}, "edited": false, "score": 0, "creation_date": 1535549556, "post_id": 52078529, "comment_id": 91107392, "body": "I changed the way you put it and it&#39;s still the same ... it&#39;s not working for me"}, {"owner": {"reputation": 339, "user_id": 10085261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AlPaOzuReiA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p32ag-GylmwHY2zsJvKDq8bAPA_w/mo/photo.jpg?sz=128", "display_name": "Luiz", "link": "https://stackoverflow.com/users/10085261/luiz"}, "edited": false, "score": 0, "creation_date": 1535561483, "post_id": 52078529, "comment_id": 91115289, "body": "I have made several changes in my @ Effect and also made changes in the service but after an error it is nothing more than <code>reauthenticate ();</code>"}], "tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 2, "last_activity_date": 1535548955, "creation_date": 1535548955, "answer_id": 52078529, "question_id": 52078468, "link": "https://stackoverflow.com/questions/52078468/ngrx-action-does-not-complete-after-an-error-is-executed/52078529#52078529", "title": "Ngrx action does not complete after an error is executed", "body": "<p>This is because the Observable completes when it catches an error. You have to catch the error internally so that the external Observable continues to emit:</p>\n\n<pre><code>.mergeMap(data =&gt;\n    this._userService.deleteUser(data.payload)\n    .map(() =&gt; new userActions.DeleteSuccess())\n    .catch((err) =&gt;\n        Observable.of(new userActions.DeleteError({error: err}))\n    )        \n)\n</code></pre>\n\n<p>I've switched to <code>mergeMap</code> you probably don't want to cancel a delete action with another delete action. Also, if you want to use RxJS 6:</p>\n\n<pre><code>mergeMap(data =&gt;\n    this._userService.deleteUser(data.payload).pipe(\n        map(() =&gt; new userActions.DeleteSuccess()),\n        catchError((err) =&gt;\n          of(new userActions.DeleteError({error: err}))\n        }),\n    )\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5428991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9bjK-wkB1kw/AAAAAAAAAAI/AAAAAAAAJ_0/s9j-2zIQL5M/photo.jpg?sz=128", "display_name": "Paulo Melo", "link": "https://stackoverflow.com/users/5428991/paulo-melo"}, "is_accepted": false, "score": 0, "last_activity_date": 1563920829, "creation_date": 1563920829, "answer_id": 57172985, "question_id": 52078468, "link": "https://stackoverflow.com/questions/52078468/ngrx-action-does-not-complete-after-an-error-is-executed/57172985#57172985", "title": "Ngrx action does not complete after an error is executed", "body": "<p>when I returned the <code>err</code> I received the message below and nothing else worked after that:</p>\n\n<p><code>ERROR Error: Detected unserializable action at \"error\"</code></p>\n\n<p>I was able to solve by returning the <code>err.message</code> instead of the <code>err</code>.</p>\n\n<pre><code>mergeMap(data =&gt;\n  this._userService.deleteUser(data.payload).pipe(\n    map(() =&gt; new userActions.DeleteSuccess()),\n    catchError((err) =&gt;\n      of(new userActions.DeleteError({error: err.message}))\n    }),\n  )\n)\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 10085261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AlPaOzuReiA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p32ag-GylmwHY2zsJvKDq8bAPA_w/mo/photo.jpg?sz=128", "display_name": "Luiz", "link": "https://stackoverflow.com/users/10085261/luiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 52078529, "answer_count": 2, "score": 0, "last_activity_date": 1563920829, "creation_date": 1535548766, "question_id": 52078468, "link": "https://stackoverflow.com/questions/52078468/ngrx-action-does-not-complete-after-an-error-is-executed", "title": "Ngrx action does not complete after an error is executed", "body": "<h2>Action does not complete correctly after an error occurs</h2>\n\n<p>In my application I created an action to delete a user, however before deleting this user is informed a <code>Dialog</code> on the screen asking to inform the administrator password, if the administrator password is correct then it deletes the user.</p>\n\n<p>My problem is when the administrator password is incorrect incorrect I call an action to say that the password entered is not valid and after that moment I can no longer complete the action by entering a valid password.</p>\n\n<p><strong>Sequence of shares:</strong></p>\n\n<blockquote>\n  <p>[User] delete user;</p>\n  \n  <p>[Auth] reauthenticate user;</p>\n  \n  <p>[Auth] reauthenticate error (password is invalid);</p>\n  \n  <p>[Auth] reauthenticate user</p>\n  \n  <p>[Auth] reauthenticate user</p>\n  \n  <p>[Auth] reauthenticate user</p>\n  \n  <p><strong>NO SUCCESS AND NO ERROR</strong></p>\n</blockquote>\n\n<p><strong>Problem:</strong> After this occurs when I try to call the reauthentication action again with a valid password, only the <code>Reauthenticate</code> function is called but it is not detected that this action completed successfully.</p>\n\n<p>I have seen in some source information about using <a href=\"https://github.com/ngrx/platform\" rel=\"nofollow noreferrer\">Ngrx</a> that in a way how an <code>@Effect</code> is created to listen to the call of the action, after the call is made and an error occurs this action can no longer be called again returning success.</p>\n\n<p><strong>Can this be true?</strong></p>\n\n<p><strong>usuarios.effects.ts:</strong></p>\n\n<pre><code>@Effect()\ndeleteUser$: Observable&lt;Action&gt; = this._action$.ofType(userActions.DELETE)\n    .map((action: userActions.Delete) =&gt; action)\n    .switchMap(data =&gt; {\n        return this._userService.deleteUser(data.payload);\n    })\n    .map(() =&gt; new userActions.DeleteSuccess())\n    .catch((err) =&gt; {\n        return Observable.of(new userActions.DeleteError({error: err}));\n    });\n</code></pre>\n\n<p><strong>usuarios.service.ts:</strong></p>\n\n<pre><code>deleteUser(user: IUser): Observable&lt;void&gt; {\n\n    const reautenticateUser = this._modalService.create({\n        nzTitle: 'Delete user',\n        nzContent: ReauthenticateUserComponent,\n        nzFooter: [{\n            type: 'danger',\n            label: 'Cancel',\n            onClick: (componentInstance) =&gt; {\n                componentInstance.closeDialog();\n            }\n        },\n        {\n            type: 'primary',\n            label: 'Ok',\n            onClick: (componentInstance) =&gt; {\n                componentInstance.reauthenticateUser();\n            },\n            disabled: (componentInstance) =&gt; {\n                return componentInstance.adminPassword.invalid;\n            },\n        }\n        ]\n    });\n\n    return reautenticateUser.afterClose\n        .switchMap((authenticated: boolean) =&gt; {\n\n            if (authenticated) {\n                const ref = this._angularFirestore\n                    .doc&lt;IProfissional | IRecepcionista&gt;(`users/${usuario.id}`);\n\n                return Observable.fromPromise(ref.delete()).map(() =&gt; {\n                    this._message.info('User deleted success', {\n                        nzDuration: 5000,\n                        nzPauseOnHover: true,\n                        nzAnimate: true\n                    });\n                });\n            }\n\n            throw new Error('Password invalid');\n        });\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> When the action of deleting a user is completed successfully, I can perform the action again without any problem.</p>\n\n<p><strong>Running in the sequence below, I have no problems:</strong></p>\n\n<blockquote>\n  <p>[User] delete user;</p>\n  \n  <p>[Auth] reauthenticate user;</p>\n  \n  <p>[Auth] reauthenticate success (password is valid);</p>\n  \n  <p>[User] delete user success;</p>\n  \n  <p>[User] delete user;</p>\n  \n  <p>[Auth] reauthenticate user;</p>\n  \n  <p>[Auth] reauthenticate success (password is valid);</p>\n  \n  <p><strong>CONTINUE ...</strong></p>\n</blockquote>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 2, "creation_date": 1535547929, "post_id": 52078144, "comment_id": 91106247, "body": "can you do <code>produce&lt;IState&gt;(draftState ...</code>?"}, {"owner": {"reputation": 1741, "user_id": 2284797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0677c306cc2dacfbbd9fc93a3882aa4a?s=128&d=identicon&r=PG", "display_name": "Victor Ivens", "link": "https://stackoverflow.com/users/2284797/victor-ivens"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1535548090, "post_id": 52078144, "comment_id": 91106357, "body": "@ExplosionPills Sir, post it as an answer and you will have it marked. And thanks, it worked."}], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 8, "last_activity_date": 1535548237, "creation_date": 1535548237, "answer_id": 52078287, "question_id": 52078144, "link": "https://stackoverflow.com/questions/52078144/how-to-use-immer-with-typescript/52078287#52078287", "title": "How to use Immer with Typescript", "body": "<p>Looking at the type definition for <a href=\"https://github.com/mweststrate/immer/blob/master/src/immer.d.ts#L35\" rel=\"noreferrer\"><code>produce</code></a>, it takes a generic type that is the state which defaults to <code>any</code>. Your TypeScript rules are set up in such a way that it thinks <code>draftState</code> could be null. You can specify the generic type to <code>produce</code> to specify what the state is:</p>\n\n<pre><code>produce&lt;IState&gt;(draftObject ...\n</code></pre>\n"}], "owner": {"reputation": 1741, "user_id": 2284797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0677c306cc2dacfbbd9fc93a3882aa4a?s=128&d=identicon&r=PG", "display_name": "Victor Ivens", "link": "https://stackoverflow.com/users/2284797/victor-ivens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4859, "favorite_count": 0, "accepted_answer_id": 52078287, "answer_count": 1, "score": 2, "last_activity_date": 1535548237, "creation_date": 1535547743, "question_id": 52078144, "link": "https://stackoverflow.com/questions/52078144/how-to-use-immer-with-typescript", "title": "How to use Immer with Typescript", "body": "<p>I'm trying to use Immer with my react project which is already using Typescript.\nI couldn't find in the docs, or anywhere else, how to actually use immer with typescript.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>export interface IProps { }\n\nexport interface IState {\n  names: string[]\n}\n\nexport class ListNames extends React.Component&lt;IProps, IState&gt; {\n  constructor(props: IProps) {\n    super(props)\n    this.state = { names: [] }\n  }\n\n  addName = (name: string) =&gt; {\n    this.setState(produce(draftState =&gt; {\n      draftState.names.push(name)\n    }))\n  }\n  ...\n}\n</code></pre>\n\n<p>this gives me two errors:</p>\n\n<ol>\n<li><code>[ts] Object is possibly 'null'</code></li>\n<li><code>[ts] Property 'names' does not exist on type 'DraftObject&lt;Pick&lt;IState, never&gt;&gt;'</code></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/Quq37.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Quq37.png\" alt=\"enter image description here\"></a></p>\n\n<p>Setting the type for <code>draftState</code> to <code>IState</code> won't work. What I've done that made it work was to cast the <code>draftState</code> to <code>IState</code> before I use it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rig56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rig56.png\" alt=\"enter image description here\"></a></p>\n\n<p>The thing is: I might want to use draftState more than one time, so it is at least inconvenient.</p>\n\n<p>What's the correct way to use Immer with Typescript?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "edited": false, "score": 0, "creation_date": 1535547901, "post_id": 52078137, "comment_id": 91106225, "body": "user subscribe and error method to work"}], "answers": [{"comments": [{"owner": {"reputation": 1949, "user_id": 4275425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-AZC_SbLa1Yo/AAAAAAAAAAI/AAAAAAAAISA/8nABO9oT2gE/photo.jpg?sz=128", "display_name": "David Prieto", "link": "https://stackoverflow.com/users/4275425/david-prieto"}, "edited": false, "score": 0, "creation_date": 1535548480, "post_id": 52078166, "comment_id": 91106627, "body": "I feel so silly. I&#39;ll accept this answer because you were first."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1949, "user_id": 4275425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-AZC_SbLa1Yo/AAAAAAAAAAI/AAAAAAAAISA/8nABO9oT2gE/photo.jpg?sz=128", "display_name": "David Prieto", "link": "https://stackoverflow.com/users/4275425/david-prieto"}, "edited": false, "score": 0, "creation_date": 1535548533, "post_id": 52078166, "comment_id": 91106667, "body": "@DavidPrieto no need to, I wanted to help you before closing your question (the one provided is rather long), I&#39;ve already marked it as duplicate."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 4, "last_activity_date": 1535547850, "creation_date": 1535547850, "answer_id": 52078166, "question_id": 52078137, "link": "https://stackoverflow.com/questions/52078137/service-call-doesnt-work-inside-error-handler-in-angular-5/52078166#52078166", "title": "Service call doesn&#39;t work inside error handler in Angular 5", "body": "<p>By writing</p>\n\n<pre><code>catchError(this.handleError)\n</code></pre>\n\n<p>You lose your context (<code>this</code> doesn't point to the thing you expect)</p>\n\n<p>replace it with </p>\n\n<pre><code>catchError((...args) =&gt; this.handleError(...args))\n// OR\ncatchError(this.handleError.bind(this))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": false, "score": 1, "last_activity_date": 1535547873, "creation_date": 1535547873, "answer_id": 52078174, "question_id": 52078137, "link": "https://stackoverflow.com/questions/52078137/service-call-doesnt-work-inside-error-handler-in-angular-5/52078174#52078174", "title": "Service call doesn&#39;t work inside error handler in Angular 5", "body": "<p>That is probably because you are loosing the context of <code>this</code>. Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow noreferrer\">bind()</a> to retain that</p>\n\n<pre><code>// http request\n\ngetService(): Observable&lt;any&gt; {\n\n    return this.http.get&lt;any&gt;('./../../assets/data/example.json')\n        .pipe(\n            retry(4),\n            catchError(this.handleError.bind(this))\n        );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 9977423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iq_E1yHwHAI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq10cIhHW7b6TR-n3JZp3zYEYzFvxA/mo/photo.jpg?sz=128", "display_name": "Oleksandr Martyniuk", "link": "https://stackoverflow.com/users/9977423/oleksandr-martyniuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1535547913, "creation_date": 1535547913, "answer_id": 52078185, "question_id": 52078137, "link": "https://stackoverflow.com/questions/52078137/service-call-doesnt-work-inside-error-handler-in-angular-5/52078185#52078185", "title": "Service call doesn&#39;t work inside error handler in Angular 5", "body": "<p>You're losing context inside catch. You need to call bind or use fat arrow function to call handleError()</p>\n\n<pre><code>catchError(this.handleError.bind(this)\n// or\ncatchError((err) =&gt; this.handleError(err))\n</code></pre>\n"}], "owner": {"reputation": 1949, "user_id": 4275425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-AZC_SbLa1Yo/AAAAAAAAAAI/AAAAAAAAISA/8nABO9oT2gE/photo.jpg?sz=128", "display_name": "David Prieto", "link": "https://stackoverflow.com/users/4275425/david-prieto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1143, "favorite_count": 0, "closed_date": 1535548472, "accepted_answer_id": 52078166, "answer_count": 3, "score": 2, "last_activity_date": 1535547913, "creation_date": 1535547728, "question_id": 52078137, "link": "https://stackoverflow.com/questions/52078137/service-call-doesnt-work-inside-error-handler-in-angular-5", "closed_reason": "Duplicate", "title": "Service call doesn&#39;t work inside error handler in Angular 5", "body": "<p>I have my HTTP calls inside a service as it should be, and in that service I inyect another service for error notifications.</p>\n\n<p>For some reason, if I make the service notification call inside the catchError pipe it works fine, <strong>but if I make it inside an error handler function it doesn't work</strong>, and not only that, the rest of the code inside the error handler is interrupted.</p>\n\n<p>Example:</p>\n\n<pre><code>// error message handler\n// can not be used inside handleError()\nprivate errorMessageGrowl() {\n  this.messageService.add({\n      severity: 'error',\n      summary: 'Service Error',\n      detail: 'An error has occurred'\n  });\n}\n\n// error handler\nprivate handleError(error: HttpErrorResponse) {\n\n    // this works fine\n    console.log('FLAG 1');\n\n    // THIS DOES NOT WORK\n    this.errorMessageGrowl();\n\n    // THIS IS NEVER CALLED\n    console.log('FLAG 2');\n\n    // return an ErrorObservable with a user-facing error message\n    return new ErrorObservable(\n        'Something bad happened; please try again later.');\n}\n\n// http request\ngetService(): Observable&lt;any&gt; {\n\n    return this.http.get&lt;any&gt;('./../../assets/data/example.json')\n        .pipe(\n            retry(4),\n            catchError(this.handleError)\n        );\n}\n</code></pre>\n\n<p>It retries 4 times, it shows the \"FLAG 1\" log in console once, but the errorMessageGrowl() and the \"FLAG 2\" log is never shown.</p>\n\n<p>Now, if I remove the notifications service from the error handler and call it inside the catchError pipe, it works perfectly:</p>\n\n<pre><code>// error handler\nprivate handleError(error: HttpErrorResponse) {\n\n    // this works fine\n    console.log('FLAG');\n\n    // return an ErrorObservable with a user-facing error message\n    return new ErrorObservable(\n        'Something bad happened; please try again later.');\n}\n\n// http request\ngetService(): Observable&lt;any&gt; {\n\n    return this.http.get&lt;any&gt;('./../../assets/data/example.json')\n        .pipe(\n            retry(4),\n            catchError((error) =&gt; {\n                this.handleError(error);\n\n                // it works outside handleError()\n                this.errorMessageGrowl()\n            })\n        );\n}\n</code></pre>\n"}, {"tags": ["android", "html", "json", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1535546628, "post_id": 52077726, "comment_id": 91105253, "body": "Brace yourselves, angry &quot;There is no such thing as a JSON object&quot; comments incoming"}, {"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1535546710, "post_id": 52077726, "comment_id": 91105323, "body": "Yeah, just display it in the view with the JSON pipe : <code>{{results | json}}</code>"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "reply_to_user": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1535546743, "post_id": 52077726, "comment_id": 91105349, "body": "Hi @jeremy, I am very new with JSON. I just followed the w3schools course and they called it JSON objects link: <a href=\"https://www.w3schools.com/js/js_json_objects.asp\" rel=\"nofollow noreferrer\">w3schools.com/js/js_json_objects.asp</a>"}, {"owner": {"reputation": 590, "user_id": 836349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4c8883ea5470466da8267055a1acfcb3?s=128&d=identicon&r=PG", "display_name": "Parwej", "link": "https://stackoverflow.com/users/836349/parwej"}, "edited": false, "score": 0, "creation_date": 1535546793, "post_id": 52077726, "comment_id": 91105387, "body": "Seems stats is available results.player.player.stats. First you can try alert this element and see if data is available then go for binding."}, {"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1535546815, "post_id": 52077726, "comment_id": 91105402, "body": "...which won&#39;t prevent angry people from saying that JSON objects don&#39;t exist :)"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "reply_to_user": {"reputation": 590, "user_id": 836349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4c8883ea5470466da8267055a1acfcb3?s=128&d=identicon&r=PG", "display_name": "Parwej", "link": "https://stackoverflow.com/users/836349/parwej"}, "edited": false, "score": 0, "creation_date": 1535547013, "post_id": 52077726, "comment_id": 91105548, "body": "I get an error when I use your solution @parwej it said cannot read property &#39;player&#39; and your solution gives me a error: converting circular structure to JSON jeremy"}, {"owner": {"reputation": 590, "user_id": 836349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4c8883ea5470466da8267055a1acfcb3?s=128&d=identicon&r=PG", "display_name": "Parwej", "link": "https://stackoverflow.com/users/836349/parwej"}, "edited": false, "score": 0, "creation_date": 1535547111, "post_id": 52077726, "comment_id": 91105620, "body": "@Fearcoder are you able to alert the data results.player.stats ?"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535547272, "post_id": 52077726, "comment_id": 91105730, "body": "getStats(){    return this.results = this.rest.getStats();     alert(this.results.player.player.stats);      }   you mean like this?"}, {"owner": {"reputation": 590, "user_id": 836349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4c8883ea5470466da8267055a1acfcb3?s=128&d=identicon&r=PG", "display_name": "Parwej", "link": "https://stackoverflow.com/users/836349/parwej"}, "edited": false, "score": 0, "creation_date": 1535547358, "post_id": 52077726, "comment_id": 91105810, "body": "@Fearcoder first of all in getData method no need to return. When setting the data in this.result try after the that statement like alert(JSON.stringify(this.result.player.stats))"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535547783, "post_id": 52077726, "comment_id": 91106121, "body": "Cannot read property player and no alert. When I change it to alert(JSON.stringify(this.results) I see [object object]"}, {"owner": {"reputation": 590, "user_id": 836349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4c8883ea5470466da8267055a1acfcb3?s=128&d=identicon&r=PG", "display_name": "Parwej", "link": "https://stackoverflow.com/users/836349/parwej"}, "edited": false, "score": 0, "creation_date": 1535548209, "post_id": 52077726, "comment_id": 91106446, "body": "if you are using stringify then you should see the actual json data instead object object"}], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535548516, "post_id": 52078313, "comment_id": 91106652, "body": "Thanks for your time! I get an error on <code>.map</code> : map does not exist on type Observable&lt;Object&gt;"}, {"owner": {"reputation": 511, "user_id": 7924377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a406c73fe89850632302d711491f92?s=128&d=identicon&r=PG&f=1", "display_name": "maziyank", "link": "https://stackoverflow.com/users/7924377/maziyank"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535548661, "post_id": 52078313, "comment_id": 91106764, "body": "you need import map operator first... please refer to this <a href=\"https://stackoverflow.com/questions/37208801/property-map-does-not-exist-on-type-observableresponse\">link</a>"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535549355, "post_id": 52078313, "comment_id": 91107244, "body": "I imported the operator I have problems now with <code>res.json())</code> I am looking on google to fix this. The error is Property json does not exist on type &#39;Object&#39;"}, {"owner": {"reputation": 511, "user_id": 7924377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a406c73fe89850632302d711491f92?s=128&d=identicon&r=PG&f=1", "display_name": "maziyank", "link": "https://stackoverflow.com/users/7924377/maziyank"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535549614, "post_id": 52078313, "comment_id": 91107428, "body": "can you post the api result you see from chrome?"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535549891, "post_id": 52078313, "comment_id": 91107605, "body": "I posted the results I want to acces this: <code>&quot;stats&quot;: {             &quot;normal&quot;: {                 &quot;shots&quot;: 5,                 &quot;wins&quot;: 66                          },             &quot;hard&quot;: {                 &quot;shots&quot;: 5,                 &quot;wins&quot;: 77                            }                    }</code> and bind it to the view"}, {"owner": {"reputation": 511, "user_id": 7924377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a406c73fe89850632302d711491f92?s=128&d=identicon&r=PG&f=1", "display_name": "maziyank", "link": "https://stackoverflow.com/users/7924377/maziyank"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535550349, "post_id": 52078313, "comment_id": 91107932, "body": "what http class you use? old Http or HttpClient? this case look similiar to this <a href=\"https://stackoverflow.com/questions/50204981/angular2-json-does-not-exist-on-type-object\">case</a>"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1535550682, "post_id": 52078313, "comment_id": 91108156, "body": "I am using this one <code>import { HttpClient} from &#39;@angular&#47;common&#47;http&#39;;</code>"}], "tags": [], "owner": {"reputation": 511, "user_id": 7924377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a406c73fe89850632302d711491f92?s=128&d=identicon&r=PG&f=1", "display_name": "maziyank", "link": "https://stackoverflow.com/users/7924377/maziyank"}, "is_accepted": false, "score": 0, "last_activity_date": 1535548326, "creation_date": 1535548326, "answer_id": 52078313, "question_id": 52077726, "link": "https://stackoverflow.com/questions/52077726/acces-a-complex-json-object-in-ionic-3-and-bind-to-view/52078313#52078313", "title": "Acces a complex json object in Ionic 3 and bind to view", "body": "<p>you need to convert http response to json: </p>\n\n<pre><code>getStats(){ \nreturn this.http.get(this.apiUrl).map(res =&gt; res.json()).subscribe(data =&gt; {\n  console.log(data);\n});\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1535890874, "creation_date": 1535890874, "answer_id": 52136963, "question_id": 52077726, "link": "https://stackoverflow.com/questions/52077726/acces-a-complex-json-object-in-ionic-3-and-bind-to-view/52136963#52136963", "title": "Acces a complex json object in Ionic 3 and bind to view", "body": "<p>The api that I used is not working properly I changed to another api and everything was working fine. Thanks for the help! </p>\n"}], "owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 52136963, "answer_count": 2, "score": 0, "last_activity_date": 1535890874, "creation_date": 1535546428, "last_edit_date": 1535549799, "question_id": 52077726, "link": "https://stackoverflow.com/questions/52077726/acces-a-complex-json-object-in-ionic-3-and-bind-to-view", "title": "Acces a complex json object in Ionic 3 and bind to view", "body": "<p>I making an Ionic 3 app. I have the following JSON object: </p>\n\n<pre><code>{\n    \"player\": {\n        \"username\": \"thelegend\",\n        \"platform\": \"xbox\",     \n       \"stats\": {\n        \"normal\": {\n            \"shots\": 5,\n            \"wins\": 66             \n        },\n        \"hard\": {\n            \"shots\": 5,\n            \"wins\": 77               \n        }           \n    }\n    }\n}\n</code></pre>\n\n<p>I want to acces the following data from the JSON object:</p>\n\n<pre><code>stats: {normal:{ shots: \"58\", wins: \"54\"}, hard: {shots \"34\", wins: \"43\"}\n</code></pre>\n\n<p>This is my rest provider method in my Ionic 3 app:</p>\n\n<pre><code> getStats(){ \n    return this.http.get(this.apiUrl).subscribe(data =&gt; {\n      console.log(data);\n    });\n}\n</code></pre>\n\n<p>I call this method at a specific page: </p>\n\n<pre><code>ionViewDidLoad() {\n    this.getData();\n}\n\n\n  getData(){\n   return this.results = this.rest.getStats();    \n}\n</code></pre>\n\n<p>The api is working great and I can see the data in my Chrome developer tools. Now I want to bind this data on the view like this:</p>\n\n<pre><code>&lt;ion-card&gt;\n\n    &lt;ion-card-header&gt;\n      Wins\n    &lt;/ion-card-header&gt;\n\n    &lt;ion-card-content&gt;\n      {{results}}\n    &lt;/ion-card-content&gt;\n\n  &lt;/ion-card&gt;\n</code></pre>\n\n<p>When I run the app it shows [object object]. I tried {{results.player.stats}} but it didn't work.</p>\n\n<p>How can I bind the stats values on my view and access this? </p>\n\n<p>Kind regards </p>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1535546494, "post_id": 52077724, "comment_id": 91105155, "body": "The Angular DI doesn&#39;t know what you want it to provide for <code>data</code> when it instantiates the component"}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1535546520, "post_id": 52077724, "comment_id": 91105178, "body": "Since you have <code>data</code> as a property you shouldn&#39;t need it in the constructor."}, {"owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "edited": false, "score": 0, "creation_date": 1535546619, "post_id": 52077724, "comment_id": 91105248, "body": "can you please show your  StudentSearchService file so i will help you"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1535546737, "post_id": 52077724, "comment_id": 91105343, "body": "post studentSearchservice code"}], "answers": [{"tags": [], "owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "is_accepted": false, "score": 0, "last_activity_date": 1535546865, "last_edit_date": 1535546865, "creation_date": 1535546690, "answer_id": 52077824, "question_id": 52077724, "link": "https://stackoverflow.com/questions/52077724/getting-error-on-passing-a-variable-through-constructor/52077824#52077824", "title": "Getting error on passing a variable through constructor", "body": "<p>The error is thrown because you have defined the constructor to accept 2 arguments while only one is being passed.</p>\n\n<p>Either make the second argument optional or remove the second argument from the constructor.</p>\n\n<p>example</p>\n\n<pre><code>export class SearchNameComponent implements OnInit {\n\n  std: Students[];\n  data: any = '';\n  constructor( public students: StudentSearchService) {\n\n    this.std = students.getstudent();\n    console.log(data);\n}\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 9278807, "user_type": "registered", "profile_image": "https://graph.facebook.com/465823973923571/picture?type=large", "display_name": "Anurag Ranjan", "link": "https://stackoverflow.com/users/9278807/anurag-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535554056, "creation_date": 1535546418, "last_edit_date": 1535554056, "question_id": 52077724, "link": "https://stackoverflow.com/questions/52077724/getting-error-on-passing-a-variable-through-constructor", "title": "Getting error on passing a variable through constructor", "body": "<p>when I am running my typescript file in Angular I am getting error in console </p>\n\n<blockquote>\n  <p>Error : compiler.js:215 Uncaught Error: Can't resolve all parameters\n  for SearchNameComponent: ([object Object], ?).</p>\n</blockquote>\n\n<p>I am posting my full code </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {StudentSearchService , Students} from '../service/student-search.service';\nimport DataSource from 'devextreme/data/data_source';\n\n\n@Component({\n  selector: 'app-search-name',\n  templateUrl: './search-name.component.html',\n  styleUrls: ['./search-name.component.css'],\n  providers: [StudentSearchService],\n})\nexport class SearchNameComponent implements OnInit {\n\n  std: Students[];\n  data: any = '';\n  constructor( public students: StudentSearchService  , data: any) {\n\n    this.std = students.getstudent();\n    console.log(data);\n}\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "edited": false, "score": 0, "creation_date": 1535547258, "post_id": 52077631, "comment_id": 91105717, "body": "you can refere <a href=\"https://stackoverflow.com/questions/42790602/how-do-i-check-whether-an-array-contains-a-string-in-typescript/42790792\" title=\"how do i check whether an array contains a string in typescript\">stackoverflow.com/questions/42790602/&hellip;</a> this link also"}, {"owner": {"reputation": 71, "user_id": 9776531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d54e9fb3919abba32eb858f8ce9a6bc?s=128&d=identicon&r=PG&f=1", "display_name": "Skyan", "link": "https://stackoverflow.com/users/9776531/skyan"}, "reply_to_user": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "edited": false, "score": 0, "creation_date": 1535548068, "post_id": 52077631, "comment_id": 91106344, "body": "@AniketAvhad Thanks, really useful information :)"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 9776531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d54e9fb3919abba32eb858f8ce9a6bc?s=128&d=identicon&r=PG&f=1", "display_name": "Skyan", "link": "https://stackoverflow.com/users/9776531/skyan"}, "edited": false, "score": 0, "creation_date": 1535548021, "post_id": 52077709, "comment_id": 91106311, "body": "Awesome, thanks. Had no clue that JavaScript statement would work :)"}], "tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 5, "last_activity_date": 1535546389, "creation_date": 1535546389, "answer_id": 52077709, "question_id": 52077631, "link": "https://stackoverflow.com/questions/52077631/ngclass-if-array-contains-item/52077709#52077709", "title": "NgClass: if array contains item", "body": "<p><code>selectedArr.includes(item)</code> will work. See: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes</a></p>\n\n<p>Note that if <code>item</code> is an object, <code>selectedArr</code> will have to have the <em>same</em> object, not just an object with the same properties. Otherwise you'll have to find a different way to compare the properties of the objects to see if there's a match. Anyway, any valid JavaScript statement can be used as the value for <code>isSelected</code>.</p>\n\n<pre><code>&lt;button [ngClass]=\"{'isSelected': selectedArr.includes(item)}\"&gt;&lt;/button&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3795, "user_id": 4724147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZDnz.jpg?s=128&g=1", "display_name": "Harunur Rashid", "link": "https://stackoverflow.com/users/4724147/harunur-rashid"}, "is_accepted": false, "score": 0, "last_activity_date": 1535549304, "creation_date": 1535549304, "answer_id": 52078637, "question_id": 52077631, "link": "https://stackoverflow.com/questions/52077631/ngclass-if-array-contains-item/52078637#52078637", "title": "NgClass: if array contains item", "body": "<p>Use can use <code>[class.className]</code> also to do the same.</p>\n\n<pre><code>&lt;button [class.isSelected]=\"selectedArr.indexOf(item) != -1\"&gt;&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9776531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d54e9fb3919abba32eb858f8ce9a6bc?s=128&d=identicon&r=PG&f=1", "display_name": "Skyan", "link": "https://stackoverflow.com/users/9776531/skyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1721, "favorite_count": 0, "accepted_answer_id": 52077709, "answer_count": 2, "score": 2, "last_activity_date": 1535549304, "creation_date": 1535546181, "question_id": 52077631, "link": "https://stackoverflow.com/questions/52077631/ngclass-if-array-contains-item", "title": "NgClass: if array contains item", "body": "<p>I'm trying to trigger a class if the item exist inside the array, but I can't figure it out. </p>\n\n<pre><code>  &lt;div *ngFor=\"let item of someList\"&gt;\n\n     &lt;button [ngClass]=\"{'isSelected': selectedArr contains item}\"&gt;&lt;/button&gt;\n    ..\n</code></pre>\n\n<p><code>selectedArr</code> is the array that contains some item. </p>\n"}, {"tags": ["angular", "typescript", "httpclient"], "comments": [{"owner": {"reputation": 3961, "user_id": 2337243, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/eccc4abd3234bfab082413d35cae7b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Souad", "link": "https://stackoverflow.com/users/2337243/souad"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1535546086, "post_id": 52077557, "comment_id": 91104865, "body": "My question is why newProjectId is undefined even though I can get its value inside subscribe by console.log?"}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1535546126, "post_id": 52077557, "comment_id": 91104898, "body": "Because you set it asynchronoously"}], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 1, "last_activity_date": 1535546245, "creation_date": 1535546245, "answer_id": 52077651, "question_id": 52077557, "link": "https://stackoverflow.com/questions/52077557/get-response-of-post-request-in-angular-6/52077651#52077651", "title": "Get response of POST request in angular 6", "body": "<p>The <code>.subscribe</code> callback happens asynchronously. This means that the code that is written after it will still execute before it... similar to <code>setTimeout</code></p>\n\n<pre><code>setTimeout(() =&gt; console.log('second'));\nconsole.log('first');\n</code></pre>\n\n<p>Essentially you can put everything after the <code>.subscribe</code> inside of the <code>.subscribe</code>:</p>\n\n<pre><code>.subscribe((data: any) =&gt; {\n  newProjectId = data['result']['id'];\n\n  for (let entry of this.aliasList) { ...\n});\n</code></pre>\n\n<p>You may also want to rework your API, if possible, to not have to make multiple requests and have the <code>post</code> handle everything itself.</p>\n"}], "owner": {"reputation": 3961, "user_id": 2337243, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/eccc4abd3234bfab082413d35cae7b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Souad", "link": "https://stackoverflow.com/users/2337243/souad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2795, "favorite_count": 0, "accepted_answer_id": 52077651, "answer_count": 1, "score": 1, "last_activity_date": 1535546245, "creation_date": 1535545925, "question_id": 52077557, "link": "https://stackoverflow.com/questions/52077557/get-response-of-post-request-in-angular-6", "title": "Get response of POST request in angular 6", "body": "<p>I'm using angular to make a  user interface that communicates with an API REST.\nIn the bellow function, I first add a project by a post request, then add a list of aliases entred by the user in the form, then add the alias to the project, then I get the list of the selected apps and I look for their ID then add them to the project. Below the post calls: </p>\n\n<pre><code>addProject(name: string, description: string): void {\n\n    // Ajouter un nouveau projet\n    let newProjectId: number;\n    let newAliasId: number;\n    let url = this.baseUrl + \"/projects\";\n    this.httpClient.post&lt;Project&gt;(url,\n        {'name': name, 'description': description }, \n        httpOptions).subscribe((data: any) =&gt; { newProjectId = data['result']['id'];})\n\n    // Ajouter les alias \n    for (let entry of this.aliasList) {\n        let UrlAddAlias = this.baseUrl + \"/alias\";\n        this.httpClient.post(UrlAddAlias, {'alias': entry }, httpOptions)\n        .subscribe((data: any) =&gt; { newAliasId = data['result']['id'];});\n        // Ajouter les alias au nouveau projet\n        let UrlAliasToProject = this.baseUrl + `/projects/${newProjectId}/alias`;\n        this.httpClient.post(UrlAliasToProject, {\"alias_id\" : newAliasId}, httpOptions)\n        .subscribe((data: any) =&gt; { console.log(\"alias added to project\");});\n    };\n\n    // Ajouter les applications selectionn\u00e9es au nouveau projet\n    for (let entry of this.selectedApps) {\n        let Urlapp = this.baseUrl + `/apps/name/${entry}`;\n        let appId;\n        this.httpClient.get(Urlapp).subscribe(data =&gt; { appId = data['result']['id']; });\n        let urlappToProject = this.baseUrl + `/projects/${newProjectId}/apps`;\n        this.httpClient.post(urlappToProject, {'app_id': appId });\n    };\n}\n</code></pre>\n\n<p>The problem is that I don't get to retreive newProjectId  value and newAliasId value. I get this error:</p>\n\n<pre><code>Object { headers: {\u2026}, status: 405, statusText: \"Method Not Allowed\", url: \"http://api.com/v1/projects/undefined/alias\", ok: false, name: \"HttpErrorResponse\", message: \"Http failure response for http://api.com/v1/projects/undefined/alias: 405 Method Not Allowed\", error: \"&lt;!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 3.2 Final//EN\\\"&gt;\\n&lt;title&gt;405 Method Not Allowed&lt;/title&gt;\\n&lt;h1&gt;Method Not Allowed&lt;/h1&gt;\\n&lt;p&gt;The method is not allowed for the requested URL.&lt;/p&gt;\\n\" }\n</code></pre>\n\n<p>I can get the values by <code>console.log</code> but they are <code>undefined</code> elsewhere.</p>\n"}, {"tags": ["angular", "laravel", "typescript", "laravel-passport"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "edited": false, "score": 0, "creation_date": 1535546168, "post_id": 52077478, "comment_id": 91104931, "body": "what you typed has syntax error still trying to fix it"}, {"owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "edited": false, "score": 0, "creation_date": 1535548554, "post_id": 52077478, "comment_id": 91106684, "body": "you have to edit your code because it has a syntax error. It really worked all I changed was the post method 3rd parameter just like you showed. I couldnt&#39;t figure out how that changes everything but it really did."}], "tags": [], "owner": {"reputation": 464, "user_id": 9130173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5u1oM.jpg?s=128&g=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/9130173/ashok"}, "is_accepted": true, "score": 3, "last_activity_date": 1535545737, "creation_date": 1535545737, "answer_id": 52077478, "question_id": 52077305, "link": "https://stackoverflow.com/questions/52077305/unsupported-grant-type-error-when-i-try-to-authenticate-a-user/52077478#52077478", "title": "unsupported_grant_type error when I try to authenticate a user", "body": "<p>Try this</p>\n\n<pre><code>const data = 'grant_type=password';\n        return this.http.post( url, data,\n            {headers: new HttpHeaders({'Accept': 'application/json'),\n            'Content-Type': 'application/x-www-form-urlencoded'})});\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 52077478, "answer_count": 1, "score": 0, "last_activity_date": 1535545737, "creation_date": 1535545084, "question_id": 52077305, "link": "https://stackoverflow.com/questions/52077305/unsupported-grant-type-error-when-i-try-to-authenticate-a-user", "title": "unsupported_grant_type error when I try to authenticate a user", "body": "<p>I know that there has been a lot of questions and answers about what I am going to ask but none of them has solved my problem. </p>\n\n<p>Now, I am developing an angular 5 application and I am trying to get an authentication token by sending post to a server. When I use postman to test the connections there is no problem. But in angular I get the following error </p>\n\n<p><a href=\"https://i.stack.imgur.com/MBYUB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MBYUB.png\" alt=\"400 (Bad Request) &quot;unsupported_grant_type&quot;\"></a></p>\n\n<p>Here is what I wrote so far, </p>\n\n<pre><code>getAccessToken2() {\nlet url = \"http://api.akilli.tv/oauth/token\";\n\nvar headers = new HttpHeaders();\nheaders.append('Content-Type', 'application/x-www-form-urlencoded');\nheaders.append('Accept', 'application/json');\n\nlet urlSearchParams = new URLSearchParams();\nurlSearchParams.set('grant_type', 'password');\nurlSearchParams.set('username', 'alikamilyagli@gmail.com');\nurlSearchParams.set('password', '1234');\nurlSearchParams.set('client_id', '2');\nurlSearchParams.set('client_secret', 'Q5U9fclient*!secret*!clientsecret*!9SqUaH9sKro');\nurlSearchParams.set('scope', '*');\n\nlet body = urlSearchParams.toString();\n\nreturn this.http.post(url, body)\n  .subscribe((data: any) =&gt; {\n    console.log(data);\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>And here is a screenshot of postman request which was succesfull\n<a href=\"https://i.stack.imgur.com/ZvDr0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZvDr0.png\" alt=\"enter image description here\"></a></p>\n\n<p>And I have also faced with the  Access-allow-control-origin problem and solved by adding a chrome add-on which is called \"CORS\". Is there another and healthier way of solving this? </p>\n\n<p>Thanks in advance already.   </p>\n"}, {"tags": ["javascript", "angular", "typescript", "object", "ngmodel"], "comments": [{"owner": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1535545257, "post_id": 52077269, "comment_id": 91104329, "body": "You can simply use <code>[(ngModel)]=&quot;user.metadata[i]&quot;</code> just remove <code>metaDataOptions</code>"}, {"owner": {"reputation": 537, "user_id": 7754048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b444ee32318f1dac381d347f998d9483?s=128&d=identicon&r=PG&f=1", "display_name": "EDJ", "link": "https://stackoverflow.com/users/7754048/edj"}, "reply_to_user": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1535545433, "post_id": 52077269, "comment_id": 91104430, "body": "@RohitSharma I need to store the input of the user in metadata using the names from the <code>metaDataOptions</code> and not using numbers."}, {"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1535545491, "post_id": 52077269, "comment_id": 91104472, "body": "Have you tried <code>user.metadata[metaDataOptions[0]] = 1</code> to create metaDataOptions key inside  metaData object?"}, {"owner": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 1, "creation_date": 1535545548, "post_id": 52077269, "comment_id": 91104499, "body": "@lamOptimus Sure! The you can use <code>[(ngModel)]=&quot;user.metadata[metaDataOptions[i]]&quot;</code>"}, {"owner": {"reputation": 537, "user_id": 7754048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b444ee32318f1dac381d347f998d9483?s=128&d=identicon&r=PG&f=1", "display_name": "EDJ", "link": "https://stackoverflow.com/users/7754048/edj"}, "reply_to_user": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1535545826, "post_id": 52077269, "comment_id": 91104679, "body": "@RohitSharma Thank you. This did the trick for me! Although, I can&#39;t seem to be able to mark your answer as accepted. Thank you again, take my upvote."}, {"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1535546002, "post_id": 52077269, "comment_id": 91104800, "body": "I have added the answer below. please upvote if that solution works for you!! thank you:)"}], "answers": [{"comments": [{"owner": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 1, "creation_date": 1535545384, "post_id": 52077313, "comment_id": 91104399, "body": "Here you can use like: <code>user.metadata[metaDataOptions[0]]</code>, but it is limited to the first index only."}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1535545125, "creation_date": 1535545125, "answer_id": 52077313, "question_id": 52077269, "link": "https://stackoverflow.com/questions/52077269/angular-ngmodel-object-property-from-variable/52077313#52077313", "title": "Angular - ngModel object property from variable", "body": "<p>use the index <code>0</code></p>\n\n<pre><code>&lt;input [(ngModel)]=\"user.metadata.metaDataOptions[0]\" placeholder=\"Enter number of children\"&gt;&lt;/input&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "is_accepted": true, "score": 1, "last_activity_date": 1535545885, "creation_date": 1535545885, "answer_id": 52077544, "question_id": 52077269, "link": "https://stackoverflow.com/questions/52077269/angular-ngmodel-object-property-from-variable/52077544#52077544", "title": "Angular - ngModel object property from variable", "body": "<p>Keep below object as it is.</p>\n\n<pre><code>let user = {name: \"John\", dob:\"1995-10-15\", metadata: {}}\nlet metaDataOptions = ['childrenNumber', 'workStatus', 'education']\n</code></pre>\n\n<p>You can create object property inside the metadata object using below line of code.</p>\n\n<pre><code>&lt;input [(ngModel)]=\"user.metadata[metaDataOptions[i]]\" placeholder=\"Enter number of children\"&gt;&lt;/input&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 9024129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sF1yX.jpg?s=128&g=1", "display_name": "KoboldMines", "link": "https://stackoverflow.com/users/9024129/koboldmines"}, "is_accepted": false, "score": 0, "last_activity_date": 1535545915, "creation_date": 1535545915, "answer_id": 52077553, "question_id": 52077269, "link": "https://stackoverflow.com/questions/52077269/angular-ngmodel-object-property-from-variable/52077553#52077553", "title": "Angular - ngModel object property from variable", "body": "<p>You can just let it be </p>\n\n<pre><code>let user = {name: \"John\", dob:\"1995-10-15\", metadata: { 'childrenNumber' : null}}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>&lt;input [(ngModel)]=\"user.metadata.childrenNumber\" placeholder=\"Enter number of children\"&gt;&lt;/input&gt;\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 7754048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b444ee32318f1dac381d347f998d9483?s=128&d=identicon&r=PG&f=1", "display_name": "EDJ", "link": "https://stackoverflow.com/users/7754048/edj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 52077544, "answer_count": 3, "score": 1, "last_activity_date": 1535545915, "creation_date": 1535544976, "question_id": 52077269, "link": "https://stackoverflow.com/questions/52077269/angular-ngmodel-object-property-from-variable", "title": "Angular - ngModel object property from variable", "body": "<p>I have the following user object in my application:</p>\n\n<pre><code>let user = {name: \"John\", dob:\"1995-10-15\", metadata: {}}\n</code></pre>\n\n<p>The <code>metadata</code> property of my object is an empty object. On user input, I want to create a new property in the <code>metadata</code> object such as:</p>\n\n<pre><code>&lt;input [(ngModel)]=\"user.metadata.childrenNumber\" placeholder=\"Enter number of children\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>So far so good, everything works as expected. However, the <code>childrenNumber</code> property I have stored in an array:</p>\n\n<pre><code>let metaDataOptions = ['childrenNumber', 'workStatus', 'education'];\n</code></pre>\n\n<p>How can I reference the property's name I wish to be created from that array? For the case above I tried to do something like this:</p>\n\n<pre><code>// i is index from ngFor. i can be 0, 1 or 2\n&lt;input [(ngModel)]=\"user.metadata.metaDataOptions[i]\" placeholder=\"Enter number of children\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>However, this does not work. How can I achieve the result I desire?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 18716, "user_id": 3669981, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WWWHe.png?s=128&g=1", "display_name": "TheUnreal", "link": "https://stackoverflow.com/users/3669981/theunreal"}, "is_accepted": false, "score": 1, "last_activity_date": 1535545984, "last_edit_date": 1535545984, "creation_date": 1535545886, "answer_id": 52077545, "question_id": 52077264, "link": "https://stackoverflow.com/questions/52077264/how-to-get-the-data-of-that-particular-section-when-checkbox-is-checked-using-an/52077545#52077545", "title": "How to get the data of that particular section when checkbox is checked using angular2", "body": "<p>Use the input <code>change</code> event to add your data once a user checks the desired item.</p>\n\n<ol>\n<li><p>Add the <code>change</code> event to your inputs. e.g:</p>\n\n<pre><code>&lt;input class=\"pull-right top-4\" type=\"checkbox\" value=\"allergy\" \n       (change)=\"updateData($event)\"&gt;\n</code></pre></li>\n<li><p>Declare a new variable:</p>\n\n<pre><code>data: any[] = [];\n</code></pre></li>\n<li><p>Your <code>updateData</code> function should handle the input change event:</p>\n\n<pre><code>updateData($event) {\n  if ($event.checked) { \n    // your logic when user checks the checkbox\n    const section = $event.target.value; // the value you set to the checkbox\n    this.data.push(this[section]);\n  } else { \n    // your logic when user unchecks the checkbox\n    console.log('Your logic when user unchecks, you probably want to remove the                         \n    item from the array');  \n  }\n}\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1535546260, "post_id": 52077590, "comment_id": 91104987, "body": "Thanks for the response, but here i am facing error for  .checked if(document.getElementById(&quot;allergy&quot;).checked){       console.log(this.allergy);     }"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1535546397, "post_id": 52077590, "comment_id": 91105079, "body": "Property &#39;checked&#39; does not exist on type &#39;HTMLElement&#39;."}, {"owner": {"reputation": 4628, "user_id": 10257611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abad1c60362d3071cea1e3c6f2ee111?s=128&d=identicon&r=PG&f=1", "display_name": "Ayoub k", "link": "https://stackoverflow.com/users/10257611/ayoub-k"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1535546454, "post_id": 52077590, "comment_id": 91105124, "body": "it&#39;s fine, just click on the button and the values gonna shown in the console.   I think the error is shown only in stackblitz. The code works anyway"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1535546543, "post_id": 52077590, "comment_id": 91105193, "body": "no no, that error is in my localhost oly, i am unable to compile due to this error"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1535547151, "post_id": 52077590, "comment_id": 91105648, "body": "Thank you, same way i was also trying."}], "tags": [], "owner": {"reputation": 4628, "user_id": 10257611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abad1c60362d3071cea1e3c6f2ee111?s=128&d=identicon&r=PG&f=1", "display_name": "Ayoub k", "link": "https://stackoverflow.com/users/10257611/ayoub-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1535547750, "last_edit_date": 1535547750, "creation_date": 1535546039, "answer_id": 52077590, "question_id": 52077264, "link": "https://stackoverflow.com/questions/52077264/how-to-get-the-data-of-that-particular-section-when-checkbox-is-checked-using-an/52077590#52077590", "title": "How to get the data of that particular section when checkbox is checked using angular2", "body": "<p>First of all i notice that you have multiple id attribute with the same value, id should be unique.  </p>\n\n<p>Html:  </p>\n\n<pre><code>&lt;div class=\"tabcontent hide emr_records\" id=\"EMR_RecordsList\" style=\"display: block;\"&gt;\n    &lt;h6 class=\"col-12 emr_header\"&gt;Allergy\n        &lt;input class=\"pull-right top-4\" type=\"checkbox\" #allergyViewChild&gt;\n    &lt;/h6&gt;\n    &lt;div class=\"row bg-white m-0 p-t10 brd-blu\" id=\"record_allergy\" *ngFor=\"let data of allergy\"&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Criticality :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Criticality}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Patient :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Patient}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Substance :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Substance}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Reaction :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Reaction}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Onset :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Onset}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Recorder :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Recorder}}&lt;/label&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- Care Plan --&gt;\n    &lt;h6 class=\"col-12 emr_header m-t10\"&gt;CarePlan\n        &lt;input class=\"pull-right top-4\" type=\"checkbox\" #CarePlanViewChild&gt;\n    &lt;/h6&gt;\n    &lt;div class=\"row bg-white m-0 p-t10 brd-blu\" id=\"record_CarePlan\" *ngFor=\"let data of CarePlan\"&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Addresses :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Addresses}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Status :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Status}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Category :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Category}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Prohibited :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Prohibited}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;Goal :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.Goal}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label class=\"col-sm-4\"&gt;code :&lt;/label&gt;\n            &lt;label class=\"col-sm-7\"&gt;{{data.code}}&lt;/label&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;!-- Condition --&gt;\n  &lt;h6 class=\"col-12 emr_header m-t10\"&gt;Condition\n    &lt;input class=\"pull-right top-4\" type=\"checkbox\" #ConditionViewChild&gt;\n  &lt;/h6&gt;\n  &lt;div class=\"row bg-white m-0 p-t10 brd-blu\" id=\"record_Condition\" *ngFor = \"let data of Condition\"&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;ClinicalStatus :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.ClinicalStatus}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;VerificationStatus :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.VerificationStatus}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;Asserter :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.Asserter}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;Code :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.Code}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;category :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.category}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;Severity :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.Severity}}&lt;/label&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;!-- Device --&gt;\n  &lt;h6 class=\"col-12 emr_header m-t10\"&gt;Device\n      &lt;input class=\"pull-right top-4\" type=\"checkbox\" #deviceViewChild&gt;\n  &lt;/h6&gt;\n  &lt;div class=\"row bg-white m-0 p-t10 brd-blu\" id=\"record_Device\" *ngFor = \"let data of device\"&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;Udi :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.Udi}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;Status :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.Status}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;Model :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.Model}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;ExpirationDate :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.ExpirationDate}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;Patient :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.Patient}}&lt;/label&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;!-- Immunization --&gt;\n  &lt;h6 class=\"col-12 emr_header m-t10\"&gt;Immunization\n      &lt;input class=\"pull-right top-4\" type=\"checkbox\" #immunizationViewChild&gt;\n  &lt;/h6&gt;\n  &lt;div class=\"row bg-white m-0 p-t10 brd-blu\" id=\"record_Immunization\" *ngFor = \"let data of immunization\"&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;Status :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.Status}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;WasNotGiven :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.WasNotGiven}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;VaccineCode :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.VaccineCode}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;&amp;nbsp;LotNumber :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.LotNumber}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;&amp;nbsp;Date :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.Date}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;Patient :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.Patient}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-5\"&gt;Route :&lt;/label&gt;\n          &lt;label class=\"col-sm-6\"&gt;{{data.Route}}&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-6\"&gt;\n          &lt;label class=\"col-sm-4\"&gt;Site :&lt;/label&gt;\n          &lt;label class=\"col-sm-7\"&gt;{{data.Site}}&lt;/label&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;!-- Save and Cancel Button --&gt;\n  &lt;div class=\"col-12 m-t20 m-b20 text-right\"&gt;\n      &lt;a class=\"share\" (click)=\"exportEmr()\"&gt;Export to EMR&lt;/a&gt;\n      &lt;a class=\"reset\"&gt;Cancel&lt;/a&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>TS:  </p>\n\n<pre><code>  export class AppComponent  {\n      @ViewChild('allergyViewChild') allergyViewChild: ElementRef;\n      @ViewChild('CarePlanViewChild') CarePlanViewChild: ElementRef;\n      @ViewChild('ConditionViewChild') ConditionViewChild: ElementRef;\n      @ViewChild('deviceViewChild') deviceViewChild: ElementRef;\n      @ViewChild('immunizationViewChild') immunizationViewChild: ElementRef;\n      public msgs: any[] = [];\n      allergy:any;\n      CarePlan:any;\n      Condition:any;\n      device:any;\n      immunization:any;\n\n      constructor() { }\n\n      ngOnInit() {\n          this.allergy = [{\"Criticality\":\"CRITL\",\"Patient\":\"Jason Argonaut\",\"Substance\":\"PENICILLIN G\",\"Reaction\":\"Confirmed\",\"Onset\":\"2012-11-07T00:00:00Z\",\"Recorder\":\"MOORE, SEAN\"}]\n          this.CarePlan = [{\"Addresses\":\"CRITL\",\"Status\":\"active\",\"Category\":\"other\",\"Prohibited\":\"FALSE\",\"Goal\":\"Hemoglobin A1c\",\"code\":\"CBC AND DIFFERENTIAL\"}]\n          this.Condition = [{\"ClinicalStatus\":\"Active\",\"VerificationStatus\":\"Confirmed\",\"Asserter\":\"MOORE, SEAN\",\"Code\":\"\",\"category\":\"\",\"Severity\":\"Medium\"}]\n          this.device = [{\"Udi\":\"(17)170324(21)455884315749\",\"Status\":\"Available\",\"Model\":\"G754-B\",\"ExpirationDate\":\"2017-03-24T00:00:00Z\",\"Patient\":\"Jason Argonaut\"}]\n          this.immunization = [{\"Status\":\"Completed\",\"WasNotGiven\":\"FALSE\",\"VaccineCode\":\"DTP-Hib-Hep B\",\"LotNumber\":\"12321\",\"Date\":\"2016-01-09T00:00:00Z\",\"Patient\":\"Jason Argonaut\",\"Route\":\"Intravenous\",\"Site\":\"Left arm\"}]\n      }\n\n      exportEmr() {\n          if(this.allergyViewChild.nativeElement.checked){\n              console.log(this.allergy);\n          }\n          if(this.CarePlanViewChild.nativeElement.checked){\n              console.log(this.CarePlan);\n          }\n          if(this.ConditionViewChild.nativeElement.checked){\n              console.log(this.Condition);\n          }\n          if(this.deviceViewChild.nativeElement.checked){\n              console.log(this.device);\n          }\n          if(this.immunizationViewChild.nativeElement.checked){\n              console.log(this.immunization);\n          }\n      }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-rczw2e\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-rczw2e</a></p>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 1, "last_activity_date": 1535570385, "creation_date": 1535570385, "answer_id": 52084677, "question_id": 52077264, "link": "https://stackoverflow.com/questions/52077264/how-to-get-the-data-of-that-particular-section-when-checkbox-is-checked-using-an/52084677#52084677", "title": "How to get the data of that particular section when checkbox is checked using angular2", "body": "<p>Bhrungarajni, make the job at \"angular style\"</p>\n\n<pre><code>//declare an array of checks\nchecks:boolean[]=[]\n\n//use ngModel in your .html\n&lt;h6 class=\"col-12 emr_header\"&gt;Allergy\n        &lt;input ([NgModel)]=\"check[0]\" class=\"pull-right top-4\" type=\"checkbox\" #allergyViewChild&gt;\n    &lt;/h6&gt;\n    ...\n&lt;h6 class=\"col-12 emr_header\"&gt;Careplan\n        &lt;input ([NgModel)]=\"check[1]\" class=\"pull-right top-4\" type=\"checkbox\" #careplanViewChild&gt;\n    &lt;/h6&gt;\n    ....\n\n//In submit use stread operator\nlet result:any{}\nif (check[0])\n   result=this.allergy;\nif (check[1])\n   result={...result,this.careplan}\n...\n</code></pre>\n\n<p>By the way you can try define your variables in a unique array</p>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52077590, "answer_count": 3, "score": 0, "last_activity_date": 1535570385, "creation_date": 1535544966, "question_id": 52077264, "link": "https://stackoverflow.com/questions/52077264/how-to-get-the-data-of-that-particular-section-when-checkbox-is-checked-using-an", "title": "How to get the data of that particular section when checkbox is checked using angular2", "body": "<p>i have checkbox for all the sections, if i click on one of the checkbox and click on submit button i must get that section details in the console part.\nCan anyone help me to fix this.</p>\n\n<pre><code>**Stackblitz link:** :\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-q7y8k1?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-q7y8k1?file=src%2Fapp%2Fapp.component.html</a></p>\n\n<p>HTML:</p>\n\n<pre><code>  &lt;h6 class=\"col-12 emr_header m-t10\"&gt;Immune\n    &lt;input class=\"pull-right top-4\" type=\"checkbox\"&gt;\n  &lt;/h6&gt;\n  &lt;div class=\"row bg-white m-0 p-t10 brd-blu\" id=\"record_allergy\" *ngFor = \"let data of immune\"&gt;\n    &lt;div class=\"col-sm-6\"&gt;\n      &lt;label class=\"col-sm-5\"&gt;Status :&lt;/label&gt;\n      &lt;label class=\"col-sm-6\"&gt;{{data.Status}}&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-sm-6\"&gt;\n      &lt;label class=\"col-sm-4\"&gt;WasNotGiven :&lt;/label&gt;\n      &lt;label class=\"col-sm-7\"&gt;{{data.WasNotGiven}}&lt;/label&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Submit button Html:</p>\n\n<pre><code>&lt;div class=\"col-12 m-t20 m-b20 text-right\"&gt;\n    &lt;a class=\"share\" (click)=\"exportEmr(data)\"&gt;Export to EMR&lt;/a&gt;\n    &lt;a class=\"reset\"&gt;Cancel&lt;/a&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>  exportEmr(data) {\n        console.log(data);\n      }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 2176, "user_id": 7979337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GAHsE.jpg?s=128&g=1", "display_name": "Revansiddh", "link": "https://stackoverflow.com/users/7979337/revansiddh"}, "edited": false, "score": 0, "creation_date": 1535546351, "post_id": 52077251, "comment_id": 91105041, "body": "call API which will delete a record from DB"}, {"owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "edited": false, "score": 1, "creation_date": 1535547435, "post_id": 52077251, "comment_id": 91105870, "body": "don&#39;t reedit completly questions - delete and create new one"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1535556333, "post_id": 52077251, "comment_id": 91112310, "body": "You may be better off asking this kind of question at <a href=\"https://codereview.stackexchange.com/\">CodeReview</a> in the future. It&#39;s not off-topic here, but that site is dedicated to improving already working code."}], "answers": [{"tags": [], "owner": {"reputation": 680, "user_id": 5764173, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/m0PUN.jpg?s=128&g=1", "display_name": "hanish singla", "link": "https://stackoverflow.com/users/5764173/hanish-singla"}, "is_accepted": false, "score": 0, "last_activity_date": 1535548319, "creation_date": 1535548319, "answer_id": 52078311, "question_id": 52077251, "link": "https://stackoverflow.com/questions/52077251/a-way-to-shorten-this-code/52078311#52078311", "title": "A way to shorten this code", "body": "<p>Your code seems incomplete so I can't be sure but you can use following, based upon your need.</p>\n\n<p>You can insert a new index in start of array.</p>\n\n<pre><code>isFiltered.unshift['All'];\n\nif (isFiltered[index]){\n    return (\n        &lt;div key={index}&gt;\n            &lt;span&gt;{ category['Name']}&lt;/span&gt;              \n        &lt;/div&gt;        \n    );                   \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 680, "user_id": 5764173, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/m0PUN.jpg?s=128&g=1", "display_name": "hanish singla", "link": "https://stackoverflow.com/users/5764173/hanish-singla"}, "edited": false, "score": 1, "creation_date": 1535548579, "post_id": 52078373, "comment_id": 91106705, "body": "It will ignore first category name on index 0"}, {"owner": {"reputation": 448, "user_id": 4098905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDETC.png?s=128&g=1", "display_name": "Nima Boobard", "link": "https://stackoverflow.com/users/4098905/nima-boobard"}, "reply_to_user": {"reputation": 680, "user_id": 5764173, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/m0PUN.jpg?s=128&g=1", "display_name": "hanish singla", "link": "https://stackoverflow.com/users/5764173/hanish-singla"}, "edited": false, "score": 0, "creation_date": 1535549036, "post_id": 52078373, "comment_id": 91107023, "body": "I don&#39;t know about the business logic, I&#39;ve just shortened the Khoa&#39;s codes"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10237897"}, "edited": false, "score": 0, "creation_date": 1535555173, "post_id": 52078373, "comment_id": 91111473, "body": "I just want for the first column for example to display &quot;all&quot; and the rest category name.  This means that I want it to choose &quot;All&quot; for index 0 and the rest &#39;name&#39;"}, {"owner": {"reputation": 448, "user_id": 4098905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDETC.png?s=128&g=1", "display_name": "Nima Boobard", "link": "https://stackoverflow.com/users/4098905/nima-boobard"}, "edited": false, "score": 0, "creation_date": 1535558115, "post_id": 52078373, "comment_id": 91113530, "body": "Change the template like this: <code>&lt;span&quot;&gt;{ index ? &quot;ALL&quot; + category[&#39;Name&#39;] : category[&#39;Name&#39;] }&lt;&#47;span&gt;</code>"}], "tags": [], "owner": {"reputation": 448, "user_id": 4098905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDETC.png?s=128&g=1", "display_name": "Nima Boobard", "link": "https://stackoverflow.com/users/4098905/nima-boobard"}, "is_accepted": false, "score": 1, "last_activity_date": 1535548611, "last_edit_date": 1535548611, "creation_date": 1535548513, "answer_id": 52078373, "question_id": 52077251, "link": "https://stackoverflow.com/questions/52077251/a-way-to-shorten-this-code/52078373#52078373", "title": "A way to shorten this code", "body": "<p>The shortest form of your code could be like this:</p>\n\n<pre><code>isFiltered[index] &amp;&amp; return (\n          &lt;div key={index}&gt;\n              &lt;span\"&gt;{ index ? \"ALL\" : category['Name'] }&lt;/span&gt;              \n         &lt;/div&gt;        \n);\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10237897"}, "edited": false, "score": 1, "creation_date": 1535556127, "post_id": 52080925, "comment_id": 91112180, "body": "Does this work to choose function ?  What is the == ?: operator called?"}, {"owner": {"reputation": 144, "user_id": 9281222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vyBzc.jpg?s=128&g=1", "display_name": "tallpaulk", "link": "https://stackoverflow.com/users/9281222/tallpaulk"}, "edited": false, "score": 1, "creation_date": 1535556500, "post_id": 52080925, "comment_id": 91112418, "body": "its a ternary operator.  Same result as using: <code>if (index == 0) {return &quot;All&quot;} else {return category[&#39;Name&#39;]}</code>"}], "tags": [], "owner": {"reputation": 144, "user_id": 9281222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vyBzc.jpg?s=128&g=1", "display_name": "tallpaulk", "link": "https://stackoverflow.com/users/9281222/tallpaulk"}, "is_accepted": true, "score": 2, "last_activity_date": 1535571299, "last_edit_date": 1535571299, "creation_date": 1535555695, "answer_id": 52080925, "question_id": 52077251, "link": "https://stackoverflow.com/questions/52077251/a-way-to-shorten-this-code/52080925#52080925", "title": "A way to shorten this code", "body": "<p>Since all you're doing is changing what gets rendered in the span, you can do your logic in JSX inside the span</p>\n\n<p>This should work:</p>\n\n<pre><code>isFiltered[index] &amp;&amp; (\n   &lt;div key={index}&gt;\n     &lt;span&gt;{index == 0 ? \"All\" : category['Name']}&lt;/span&gt;              \n   &lt;/div&gt;        \n);\n</code></pre>\n\n<p>You could also extract this logic into a function, and then call the function in the span. This would be cleaner if you end up wanting to display a bunch of different results in that span. Something like this:</p>\n\n<pre><code>helperFucntion(index: number) =&gt; (\n   index == 0 ? \"All\" : category['Name']\n)\n\nisFiltered[index] &amp;&amp; (\n   &lt;div key={index}&gt;\n     &lt;span&gt;{helperFunction(index)}&lt;/span&gt;              \n   &lt;/div&gt;        \n);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10237897"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 52080925, "answer_count": 3, "score": 0, "last_activity_date": 1535571299, "creation_date": 1535544940, "last_edit_date": 1535556299, "question_id": 52077251, "link": "https://stackoverflow.com/questions/52077251/a-way-to-shorten-this-code", "title": "A way to shorten this code", "body": "<p>Is there any way I can shorten this code? \nThe only difference is that I want at index 0 to display 'All' instead of array value.</p>\n\n<p>Or maybe multiple condition? like at index = 0, do this, index which is %2, do this, and last index, do this?</p>\n\n<p>I also found the same solution.\nI got another problem now,</p>\n\n<p>I want to choose between two function in a onClick.</p>\n\n<pre><code>&lt;a onClick={()=&gt;{AddNewBookmark(userId, newsId); this.changeBookmarkState(isBookmarked, bookmarkIndex);}}&gt;\n</code></pre>\n\n<p>I want is index == 0 to use AddNewBookmark(userId, newsId) or if index == 1 then use RemoveBookmark(userId, newsId).</p>\n\n<pre><code>&lt;a onClick={()=&gt;{ index == 0 ? AddNewBookmark(userId, newsId) : \n RemoveBookmark(userId, newsId); this.changeBookmarkState(isBookmarked, \n bookmarkIndex);}}&gt;\n</code></pre>\n\n<p>I want the changebookmarkstate to be included no matter what index value.</p>\n\n<p>My attempt didnt work somehow. Any suggestion?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 9349240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a38ec04ee4d974afab05148f6823b8c?s=128&d=identicon&r=PG&f=1", "display_name": "ak.leimrey", "link": "https://stackoverflow.com/users/9349240/ak-leimrey"}, "edited": false, "score": 0, "creation_date": 1535548665, "post_id": 52077688, "comment_id": 91106772, "body": "Sadly, this doesn&#39;t solve the underlying issue. I&#39;m aware you can format dates with moment, but how do I do that in the context of the datepicker?"}], "tags": [], "owner": {"reputation": 616, "user_id": 8563091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b7637210db8dd4754863dcc1744bd5?s=128&d=identicon&r=PG&f=1", "display_name": "Soroush", "link": "https://stackoverflow.com/users/8563091/soroush"}, "is_accepted": false, "score": 0, "last_activity_date": 1535546322, "creation_date": 1535546322, "answer_id": 52077688, "question_id": 52077119, "link": "https://stackoverflow.com/questions/52077119/ng-date-picker-how-to-format-to-different-output-instead-of-iso-8601/52077688#52077688", "title": "Ng Date Picker How to format to different output instead of ISO-8601", "body": "<p>use moment js libaray . its a simple and rich library that can help u ;</p>\n\n<p>u can get it via npm : npm i moment .</p>\n\n<p>then u can convert formats like this :</p>\n\n<pre><code>moment(\"2018-08-29\",\"YYYY-MM-DD\").format(\"YYYY-DD-MM\"); // outputs : 2018-29-08\n</code></pre>\n\n<p>or </p>\n\n<pre><code>moment(\"2018-08-29\",\"YYYY-MM-DD\").format(\"DD-MM-YYYY\"); // outputs : 29-08-2018\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 752, "user_id": 9349240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a38ec04ee4d974afab05148f6823b8c?s=128&d=identicon&r=PG&f=1", "display_name": "ak.leimrey", "link": "https://stackoverflow.com/users/9349240/ak-leimrey"}, "edited": false, "score": 0, "creation_date": 1535612978, "post_id": 52084896, "comment_id": 91131944, "body": "Seems like this is the only sensible solution left! Wish out backend guy would work with actual standardized date formats instead. Thanks a ton!"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 1, "last_activity_date": 1535571293, "creation_date": 1535571293, "answer_id": 52084896, "question_id": 52077119, "link": "https://stackoverflow.com/questions/52077119/ng-date-picker-how-to-format-to-different-output-instead-of-iso-8601/52084896#52084896", "title": "Ng Date Picker How to format to different output instead of ISO-8601", "body": "<p>@ak.leimrey. Normally all the datepicker give you a value of one type (in your case a string format in ISO, other case, e.g. using ng-bootstrap, return an object with day,month and year). if you want to send in other format, in the submit you can map the values and convert the form.value.</p>\n\n<pre><code>submit(form)\n{\n   if (form.valid)\n   {\n      let result={\n         ...form.value, //all the values of the form, but change some one\n         searchParams:form.value.searchParams.map(x=&gt;{\n             ...x\n             value.map(v=&gt;{\n                let items=v.split('-');\n                return items[2].substr(0,2)+\"-\"+items[1]+\"-\"+items[0];\n             })\n         })\n      }\n      console.log(result)\n   }\n}\n</code></pre>\n\n<p>Yes in your case transform the object is some hard but see as using the spread operator and map you can transform the value</p>\n"}], "owner": {"reputation": 752, "user_id": 9349240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a38ec04ee4d974afab05148f6823b8c?s=128&d=identicon&r=PG&f=1", "display_name": "ak.leimrey", "link": "https://stackoverflow.com/users/9349240/ak-leimrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 52084896, "answer_count": 2, "score": 0, "last_activity_date": 1535571293, "creation_date": 1535544609, "last_edit_date": 1535546584, "question_id": 52077119, "link": "https://stackoverflow.com/questions/52077119/ng-date-picker-how-to-format-to-different-output-instead-of-iso-8601", "title": "Ng Date Picker How to format to different output instead of ISO-8601", "body": "<p>First, for people wondering, I'm referring to this DatePicker</p>\n\n<p><a href=\"https://danielykpan.github.io/date-time-picker/#locale-formats\" rel=\"nofollow noreferrer\">https://danielykpan.github.io/date-time-picker/#locale-formats</a></p>\n\n<p>While the DatePicker feels and looks great, I have an issue with the outputting values. There are numerous options to format the view-part of a date, but I haven't seen or found examples or explanations on how I can switch the outputted ISO-8601 (2018-08-29T00:00:00.000Z) standard in my form. I'm using the datepicker in a reactive form and I have several pages with a similar prerequisite. I need to parse this value into a different format. For example...</p>\n\n<pre><code>29-08-2018\n</code></pre>\n\n<p>My first attempt - which wasn't too smart to begin with - was using [(ngModel)]=\"dateField\" to grab the value that is inputted and change it into a value that I wanted to. Needless to say, of course it was changed in the view as well and since I didn't refer to index of the form field it merely caused a blank field. Shortly after I realized that the approach was poor to begin with, but since I can't find configurations for this particular problem I'm pretty lost as to what I can do. </p>\n\n<p><a href=\"https://i.stack.imgur.com/GRrSr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GRrSr.png\" alt=\"https://imgur.com/dZYQObD\"></a></p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535545377, "post_id": 52077363, "comment_id": 91104397, "body": "By the way, +1 for the stackblitz of the test, it&#39;s already rare enough to have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, but one with tests ... Kudos !"}, {"owner": {"reputation": 710, "user_id": 7513771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e7e7a7632889265ffc20bc9e876cf5?s=128&d=identicon&r=PG", "display_name": "Stefan Karlsson", "link": "https://stackoverflow.com/users/7513771/stefan-karlsson"}, "edited": false, "score": 0, "creation_date": 1535546942, "post_id": 52077363, "comment_id": 91105491, "body": "I am the one that should say thank you! Marking it as the correct answer."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 3, "last_activity_date": 1535545301, "creation_date": 1535545301, "answer_id": 52077363, "question_id": 52077096, "link": "https://stackoverflow.com/questions/52077096/unit-test-constructor-that-throws-error/52077363#52077363", "title": "Unit test constructor that throws error", "body": "<p><a href=\"https://stackblitz.com/edit/angular-testing-template-5hc8t5?file=app/aws-cognito.service.spec.ts\" rel=\"nofollow noreferrer\">Here is the stackblitz</a></p>\n\n<p>As you may know, constructors are called when you create a new instance of the class. </p>\n\n<p>Jasmine's <code>expect</code> function can accept a function and isolate it, allowing you to expect after that. </p>\n\n<p>With this syntax, you create an isolated function that Jasmine can monitor. And as you can see, your test is passing. </p>\n\n<pre><code>it('should throw error with missing param', () =&gt; {\n  expect(() =&gt; new AwsCognitoService({} as any)).toThrowError();\n});\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 7513771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e7e7a7632889265ffc20bc9e876cf5?s=128&d=identicon&r=PG", "display_name": "Stefan Karlsson", "link": "https://stackoverflow.com/users/7513771/stefan-karlsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1204, "favorite_count": 0, "accepted_answer_id": 52077363, "answer_count": 1, "score": 1, "last_activity_date": 1535545311, "creation_date": 1535544555, "last_edit_date": 1535545311, "question_id": 52077096, "link": "https://stackoverflow.com/questions/52077096/unit-test-constructor-that-throws-error", "title": "Unit test constructor that throws error", "body": "<p>I have a constructor that injects a configuration object. I am doing some validation on the object in the constructor. If the validation fails, i want to throw a error describing for the user what went wrong.</p>\n\n<p>How do i test this with <strong>Angular</strong> and <strong>Jasmine</strong>?</p>\n\n<p>Here is how i do it now, but this returns a failed test:</p>\n\n<pre><code>import { TestBed, inject } from '@angular/core/testing';\n\nimport { AwsCognitoService } from './aws-cognito.service';\nimport { AWS_COGNITO_CONFIG, AwsCognitoConfig } from './aws-cognito.config';\n\ndescribe('AwsCognitoService', () =&gt; {\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      providers: [\n        AwsCognitoService,\n        {\n          provide: AWS_COGNITO_CONFIG,\n          useValue: new AwsCognitoConfig({\n            region: 'eu-west-1'\n          })\n        }\n      ]\n    });\n  });\n\n  it('should throw error when missing userPoolId or identityPoolId', inject(\n    [AwsCognitoService],\n    (service: AwsCognitoService) =&gt; {\n        expect(service).toThrowError('Missing required configuration property: userPoolId or identityPoolId');\n    }\n  ));\n});\n</code></pre>\n\n<p>Full test source: <a href=\"https://stackblitz.com/edit/angular-testing-template-tdv3ew?file=app%2Faws-cognito.service.spec.ts\" rel=\"nofollow noreferrer\">stackblitz example</a></p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2120, "user_id": 3110695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sSZkk.jpg?s=128&g=1", "display_name": "FortyTwo", "link": "https://stackoverflow.com/users/3110695/fortytwo"}, "is_accepted": true, "score": 0, "last_activity_date": 1535545867, "creation_date": 1535545867, "answer_id": 52077534, "question_id": 52077079, "link": "https://stackoverflow.com/questions/52077079/react-typescript-defining-component-props-when-component-is-conditionally-re/52077534#52077534", "title": "React + Typescript - defining component props when component is conditionally rendered", "body": "<p>Yes! By using the <code>!</code> postfix operator explained <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#non-null-assertion-operator\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>{ this.props.userName &amp;&amp; &lt;UserProfile userName={this.props.userName!} /&gt;}\n</code></pre>\n"}], "owner": {"reputation": 2365, "user_id": 1936629, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/a1b87216db73f60eb9026789d1fa8d43?s=128&d=identicon&r=PG", "display_name": "Uri Klar", "link": "https://stackoverflow.com/users/1936629/uri-klar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 52077534, "answer_count": 1, "score": 0, "last_activity_date": 1535545867, "creation_date": 1535544509, "question_id": 52077079, "link": "https://stackoverflow.com/questions/52077079/react-typescript-defining-component-props-when-component-is-conditionally-re", "title": "React + Typescript - defining component props when component is conditionally rendered", "body": "<p>Given the following situation:  </p>\n\n<pre><code>{ this.props.userName &amp;&amp; &lt;UserProfile userName={this.props.userName} /&gt;\n</code></pre>\n\n<p>and in <code>UserProfile</code>:  </p>\n\n<pre><code>interface UserProfileProps {\n  userName: string;\n}\n\nclass UserProfile extends React.Component&lt;UserProfileProps&gt;\n</code></pre>\n\n<p>The first line of the question gives me the error: </p>\n\n<p><code>[ts] Type 'null' is not assignable to type 'string'.</code>  </p>\n\n<p>My question is: Is there a way to let typescript know that the component will not render if the prop is null? Thus, not making me have to defined it's type as <code>string | null</code> since it will never be called with null.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4469638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5507313d4310c551a040647a4d3082e?s=128&d=identicon&r=PG", "display_name": "Dennis Tretyakov", "link": "https://stackoverflow.com/users/4469638/dennis-tretyakov"}, "edited": false, "score": 0, "creation_date": 1535548231, "post_id": 52077955, "comment_id": 91106461, "body": "Yeah, that&#39;s what I thought (about impossible)."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1535547117, "creation_date": 1535547117, "answer_id": 52077955, "question_id": 52077015, "link": "https://stackoverflow.com/questions/52077015/typescript-constraint-for-class-instance-not-object/52077955#52077955", "title": "typescript constraint for class instance not object", "body": "<p>There is no general way to do this, Typescript uses structural typing and as long as the object literal satisfies the constraint of the function it will be valid as an argument.</p>\n\n<p>If you have a common base class for the classes you want to pass to the function, you can add a private field to it. No other class or object literal will be able to satisfy the constraint of a class with a private field except a class derived from that  class. </p>\n\n<pre><code>class EmptyClass {\n    private notStructural: undefined\n}\n\nclass ClassWithConstructorParams extends EmptyClass {\n    constructor(public name: string) {\n        super()\n    }\n}\n\nclass OtherClass{\n    private notStructural: undefined\n}\n\nfunction theFunction&lt;T extends EmptyClass&gt;(arg: T): void {\n    // todo: do something\n}\n\n//.constructor\n\ntheFunction(new EmptyClass());  // should be OK\ntheFunction(new ClassWithConstructorParams('foo'));   // should be OK\ntheFunction(new OtherClass()) // error not the same private field\ntheFunction({ notStructural: undefined }) // error\ntheFunction({})   // ERROR\ntheFunction({name:'foo'});   // ERROR\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4469638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5507313d4310c551a040647a4d3082e?s=128&d=identicon&r=PG", "display_name": "Dennis Tretyakov", "link": "https://stackoverflow.com/users/4469638/dennis-tretyakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535547117, "creation_date": 1535544285, "question_id": 52077015, "link": "https://stackoverflow.com/questions/52077015/typescript-constraint-for-class-instance-not-object", "title": "typescript constraint for class instance not object", "body": "<p>not sure it's even possible but might be there is a way in typescript to implement type constraint for class instances only but not object.\nTo make the example below possible:</p>\n\n<pre><code>class EmptyClass {}\n\nclass ClassWithConstructorParams {\n    constructor (public name: string) {}\n}\n\nfunction theFunction&lt;SomeConstraint&gt;(arg: SomeConstraint): void {\n    // todo: do something\n}\n\ntheFunction(new EmptyClass());  // should be OK\ntheFunction(new ClassWithConstructorParams('foo'));   // should be OK\ntheFunction({})   // should be COMPILE ERROR\ntheFunction({name:'foo'});   // should be COMPILE ERROR\n\n// obviously should also prevent numbers, string, delegates and etc\ntheFunction(''); // should be COMPILE ERROR\ntheFunction(1);  // should be COMPILE ERROR\ntheFunction(EmptyClass);  // should be COMPILE ERROR\ntheFunction(theFunction); // should be COMPILE ERROR\n</code></pre>\n\n<p>So far I managed a filter to allow only instances, but it accepts both class instance and object {}. Need to prevent objects.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 2669, "user_id": 4655830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-qhyDPQ03YlM/AAAAAAAAAAI/AAAAAAAAAwk/2WcUFRD0rSg/photo.jpg?sz=128", "display_name": "Sergio Tx", "link": "https://stackoverflow.com/users/4655830/sergio-tx"}, "edited": false, "score": 0, "creation_date": 1535548568, "post_id": 52077565, "comment_id": 91106695, "body": "Thank you! It worked. Do you know any way to declare the property&#39;s type?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2669, "user_id": 4655830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-qhyDPQ03YlM/AAAAAAAAAAI/AAAAAAAAAwk/2WcUFRD0rSg/photo.jpg?sz=128", "display_name": "Sergio Tx", "link": "https://stackoverflow.com/users/4655830/sergio-tx"}, "edited": false, "score": 0, "creation_date": 1535554240, "post_id": 52077565, "comment_id": 91110735, "body": "What property? Of an object literal? Unless you want to specify the whole type of the object literal, the simplest option is to use a type assertion to the desired type <code>{ p: null as number} </code>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1535545961, "creation_date": 1535545961, "answer_id": 52077565, "question_id": 52076793, "link": "https://stackoverflow.com/questions/52076793/typescript-object-property-typings/52077565#52077565", "title": "Typescript object property typings", "body": "<p>If you use the compiler option <code>noImplicitThis</code> then <code>this</code> will be typed inside your object literal functions correctly. </p>\n\n<pre><code>function myFunction&lt;T&gt;(o: T) {\n\n}\n\nvar myVar = myFunction({\n    property: 'prop',\n    functionProperty() {\n        console.log(this.property);\n    },\n    functionProperty2() {\n        this.functionProperty();\n        this.missing // error\n\n    }\n});\n</code></pre>\n\n<p>If you need more control over the type of <code>this</code>, you can use <code>ThisType</code> which is a special marker for the compiler and will tell the compiler what the type of <code>this</code> will be inside the object literal functions (but this will also require <code>noImplicitAny</code>). </p>\n\n<pre><code>function myFunction&lt;T&gt;(o: T &amp; ThisType&lt;T &amp; { extra: boolean }&gt;) {\n\n}\n\nvar myVar = myFunction({\n    property: 'prop',\n    functionProperty() {\n        console.log(this.property);\n    },\n    functionProperty2() {\n        this.functionProperty();\n        this.missing // error\n        this.extra //ok\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 2669, "user_id": 4655830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-qhyDPQ03YlM/AAAAAAAAAAI/AAAAAAAAAwk/2WcUFRD0rSg/photo.jpg?sz=128", "display_name": "Sergio Tx", "link": "https://stackoverflow.com/users/4655830/sergio-tx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "accepted_answer_id": 52077565, "answer_count": 1, "score": 1, "last_activity_date": 1535545961, "creation_date": 1535543475, "question_id": 52076793, "link": "https://stackoverflow.com/questions/52076793/typescript-object-property-typings", "title": "Typescript object property typings", "body": "<p>I have a function call like this:</p>\n\n<pre><code>var myVar = myFunction({\n    property: 'prop',\n    functionProperty() {\n         console.log(this.property);\n    },\n    functionProperty2() {\n         this.functionProperty();\n    }\n});\n</code></pre>\n\n<p>Is there any way to add typings to the object you are passing to the function without declaring it first?</p>\n\n<p>And another question, is there a way to make this.functionProperty() know that this refers to the object? Working with VSCode when hovering it doesn't recognize the keyword this as the object.</p>\n"}, {"tags": ["json", "angular", "typescript", "angular2-directives"], "answers": [{"tags": [], "owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "is_accepted": false, "score": 0, "last_activity_date": 1535543383, "creation_date": 1535543383, "answer_id": 52076754, "question_id": 52076684, "link": "https://stackoverflow.com/questions/52076684/i-need-to-fetch-data-from-a-json-object-saved-in-my-component-ts-file/52076754#52076754", "title": "I need to fetch data from a JSON object saved in my component.ts file", "body": "<p>You can use <a href=\"https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">filter operator</a> on your <code>Object_name</code> array</p>\n\n<pre><code>const filtered = Object_name.filter(item =&gt; item.name === 'value_1');\nfiltered.forEach(item =&gt; console.log(item.prop));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2571, "user_id": 19308, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/357484c51a4516af57969653e3535680?s=128&d=identicon&r=PG", "display_name": "Joshua Drake", "link": "https://stackoverflow.com/users/19308/joshua-drake"}, "edited": false, "score": 2, "creation_date": 1535550626, "post_id": 52076772, "comment_id": 91108114, "body": "While this code may provide an answer to the question, we prefer answers with some explanation as to how they work."}], "tags": [], "owner": {"reputation": 4628, "user_id": 10257611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abad1c60362d3071cea1e3c6f2ee111?s=128&d=identicon&r=PG&f=1", "display_name": "Ayoub k", "link": "https://stackoverflow.com/users/10257611/ayoub-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1535543442, "creation_date": 1535543442, "answer_id": 52076772, "question_id": 52076684, "link": "https://stackoverflow.com/questions/52076684/i-need-to-fetch-data-from-a-json-object-saved-in-my-component-ts-file/52076772#52076772", "title": "I need to fetch data from a JSON object saved in my component.ts file", "body": "<pre><code>for (var i = 0; i &lt; this.Object_name.length; i++) {\n    if(this.Object_name[i].name == \"value_1\") {\n      console.log(this.Object_name[i].prop)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2735, "user_id": 9798568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ad4e32cc86d7aeedc2136c0bf1717a6?s=128&d=identicon&r=PG&f=1", "display_name": "Nenad Radak", "link": "https://stackoverflow.com/users/9798568/nenad-radak"}, "is_accepted": false, "score": 0, "last_activity_date": 1535544875, "creation_date": 1535544875, "answer_id": 52077222, "question_id": 52076684, "link": "https://stackoverflow.com/questions/52076684/i-need-to-fetch-data-from-a-json-object-saved-in-my-component-ts-file/52077222#52077222", "title": "I need to fetch data from a JSON object saved in my component.ts file", "body": "<p>You could use for in loop</p>\n\n<pre><code>for (const key in this.Object_name) {\n    if (this.Object_name[key].name == 'value_1' ){      \n       console.log(this.Object_name[key].prop);\n    }   \n} \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9282359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9877f133bab9bc26ff98b58db0ca642?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Sharma", "link": "https://stackoverflow.com/users/9282359/sumit-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1535545739, "creation_date": 1535543160, "last_edit_date": 1535545739, "question_id": 52076684, "link": "https://stackoverflow.com/questions/52076684/i-need-to-fetch-data-from-a-json-object-saved-in-my-component-ts-file", "title": "I need to fetch data from a JSON object saved in my component.ts file", "body": "<p>I need to fetch data from a JSON object saved in my <code>component.ts</code> file. </p>\n\n<pre><code>Object_name=[\n    {\"name\": \"value_1\",\"prop\":[\"data_1\",\"data_2\",\"data_3\"]},\n    {\"name\": \"value_2\",\"prop\":[\"data_1\",\"data_2\",\"data_3\"]},\n    {\"name\": \"value_3\",\"prop\":[\"data_1\",\"data_2\",\"data_3\"]}\n];\n</code></pre>\n\n<p>I want to fetch object_name and check if(value_1) then get data of \"prop\" in any variable or console.\nI am new in angular please share your answer with an example </p>\n"}, {"tags": ["angular", "typescript", "firebase"], "comments": [{"owner": {"reputation": 395, "user_id": 10278382, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HbYUsn7uxXU/AAAAAAAAAAI/AAAAAAAAAAc/A0DUgStirUs/photo.jpg?sz=128", "display_name": "JunJie Wang", "link": "https://stackoverflow.com/users/10278382/junjie-wang"}, "edited": false, "score": 0, "creation_date": 1535544309, "post_id": 52076625, "comment_id": 91103691, "body": "interface Observer&lt;T, E = Error&gt; { \t    error: ErrorFn&lt;E&gt;; \t}"}, {"owner": {"reputation": 395, "user_id": 10278382, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HbYUsn7uxXU/AAAAAAAAAAI/AAAAAAAAAAc/A0DUgStirUs/photo.jpg?sz=128", "display_name": "JunJie Wang", "link": "https://stackoverflow.com/users/10278382/junjie-wang"}, "edited": false, "score": 0, "creation_date": 1535544413, "post_id": 52076625, "comment_id": 91103750, "body": "try add block { }"}], "answers": [{"comments": [{"owner": {"reputation": 1255, "user_id": 4497318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RaYsg.jpg?s=128&g=1", "display_name": "Sreekanth Karini", "link": "https://stackoverflow.com/users/4497318/sreekanth-karini"}, "edited": false, "score": 0, "creation_date": 1550215523, "post_id": 52087027, "comment_id": 96194697, "body": "Thanks, Struggled for 3 days finally this fixed the issue."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1535582482, "creation_date": 1535582482, "answer_id": 52087027, "question_id": 52076625, "link": "https://stackoverflow.com/questions/52076625/angular-firebase-error/52087027#52087027", "title": "Angular firebase error", "body": "<p>It looks like TypeScript is failing on every type parameter default in the file.  Upgrade to TypeScript 2.3 or newer, which <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#generic-parameter-defaults\" rel=\"nofollow noreferrer\">supports type parameter defaults</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 10289644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699b99183ee5f2d763c0890b5032c2b7?s=128&d=identicon&r=PG&f=1", "display_name": "peter", "link": "https://stackoverflow.com/users/10289644/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1535582482, "creation_date": 1535542943, "last_edit_date": 1535552999, "question_id": 52076625, "link": "https://stackoverflow.com/questions/52076625/angular-firebase-error", "title": "Angular firebase error", "body": "<p>i keep on getting this error in index.d.ts file for firebase \n<strong>ERROR</strong></p>\n\n<pre><code>Error:(18, 18) TS1005:',' expected.\nError:(28, 27) TS1005:',' expected.\nError:(30, 12) TS2314:Generic type 'ErrorFn' requires 2 type argument(s).\nError:(232, 11) TS2314:Generic type 'Observer&lt;T, E, Error&gt;' requires 3 type argument(s).\nError:(239, 11) TS2314:Generic type 'Observer&lt;T, E, Error&gt;' requires 3 type argument(s).\nError:(587, 46) TS2314:Generic type 'Observer&lt;T, E, Error&gt;' requires 3 type argument(s).\nError:(588, 15) TS2314:Generic type 'ErrorFn' requires 2 type argument(s).\nError:(592, 46) TS2314:Generic type 'Observer&lt;T, E, Error&gt;' requires 3 type argument(s).\nError:(593, 15) TS2314:Generic type 'ErrorFn' requires 2 type argument(s).\nError:(701, 24) TS2314:Generic type 'Observer&lt;T, E, Error&gt;' requires 3 type argument(s).\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>  type ErrorFn&lt;E = Error&gt; = (error: E) =&gt; void;\n  interface Observer&lt;T, E = Error&gt; \n  error: ErrorFn&lt;E&gt;;\n  firebase.Observer&lt;any&gt;\n</code></pre>\n\n<p>can anyone help me with this, i have been stuck for about a week now </p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular6"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 3, "creation_date": 1535542953, "post_id": 52076602, "comment_id": 91102840, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44580387/how-to-change-material-icon-on-click-event-with-angular2-4-material\">How to change material-icon on click event with angular2/4 material?</a>"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1535543505, "post_id": 52076602, "comment_id": 91103179, "body": "The same link which i mentioned as not working,again u have given the same link@mast3rd3mon"}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1535543537, "post_id": 52076602, "comment_id": 91103196, "body": "no, i just flagged this question as a duplicate, which it is"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1535543591, "post_id": 52076602, "comment_id": 91103227, "body": "They have used &lt;md-icon&gt; ,I am using &lt;mat-icon &gt; i,e material 2."}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1535543719, "post_id": 52076602, "comment_id": 91103315, "body": "but the solution will be very similar"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1535543768, "post_id": 52076602, "comment_id": 91103343, "body": "I have told that it didn&#39;t worked for me."}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 1, "creation_date": 1535543817, "post_id": 52076602, "comment_id": 91103381, "body": "why not? did it error? if yes, what was the error?"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1535543932, "post_id": 52076602, "comment_id": 91103451, "body": "Sorry sorry i missed the colon, Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535544124, "post_id": 52076924, "comment_id": 91103569, "body": "Similar, yes. But I don&#39;t know why it didn&#39;t work for him... Maybe because of some missing &quot;"}, {"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535544206, "post_id": 52076924, "comment_id": 91103623, "body": "its not similar, its an exact copy paste of the other answer. Only difference is <b><code>mat</code></b> instead of <b><code>md</code></b>. The better way is to give a link to the actual answer."}, {"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535544293, "post_id": 52076924, "comment_id": 91103683, "body": "He already gave a link to the similar answer that didn&#39;t work for him..."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1535544482, "post_id": 52076924, "comment_id": 91103798, "body": "Ya i got it, but how can i perform 2 click functions, means first time on clicking the icon i am getting another icon suppose if i clicked 2nd icon i have to go back to first icon, How can i do it??"}, {"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "edited": false, "score": 0, "creation_date": 1535544822, "post_id": 52076924, "comment_id": 91104041, "body": "You can even make it better if you use a boolean or an enum to handle the state and assign the icon value according to the state that you&#39;re in."}, {"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535544903, "post_id": 52076924, "comment_id": 91104099, "body": "@Faisal now that it has more details, does that satisfy you that it&#39;s a similar answer and not an exact copy?"}, {"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535544933, "post_id": 52076924, "comment_id": 91104122, "body": "No, it does not."}, {"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1535545051, "post_id": 52076924, "comment_id": 91104196, "body": "@Faisal too bad :("}, {"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "edited": false, "score": 0, "creation_date": 1537189878, "post_id": 52076924, "comment_id": 91681366, "body": "You need to have a separate icon variable for each button to hold the state and a separate handler for each button click to change the icon for the right button."}], "tags": [], "owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "is_accepted": true, "score": 2, "last_activity_date": 1535544655, "last_edit_date": 1535544655, "creation_date": 1535543989, "answer_id": 52076924, "question_id": 52076602, "link": "https://stackoverflow.com/questions/52076602/to-change-multiple-icons-onclick-in-angular-6/52076924#52076924", "title": "To change multiple icons onclick in angular 6", "body": "<p>In the component:</p>\n\n<pre><code>public icon = 'highlight_off'; \n\npublic changeIcon(newIcon: string) {\n    this.icon = newIcon; \n}\n</code></pre>\n\n<p>In template:</p>\n\n<pre><code>&lt;mat-icon (click)=\"changeIcon('anotherIcon')\"&gt;{{icon}}&lt;/mat-icon&gt;\n</code></pre>\n\n<hr>\n\n<h2>Update - to toggle between icons</h2>\n\n<p>In the component:</p>\n\n<pre><code>public icon = 'highlight_off'; \n\npublic toggleIcon() {\n    if (this.icon === 'highlight_off') {\n        this.icon = 'anotherIcon';\n    } else {\n        this.icon = 'highlight_off'\n    }\n}\n</code></pre>\n\n<p>In template:</p>\n\n<pre><code>&lt;mat-icon (click)=\"toggleIcon()\"&gt;{{icon}}&lt;/mat-icon&gt;\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6157, "favorite_count": 0, "accepted_answer_id": 52076924, "answer_count": 1, "score": -1, "last_activity_date": 1535548906, "creation_date": 1535542857, "last_edit_date": 1535548906, "question_id": 52076602, "link": "https://stackoverflow.com/questions/52076602/to-change-multiple-icons-onclick-in-angular-6", "title": "To change multiple icons onclick in angular 6", "body": "<p>I am using a simple <code>&lt;mat-icon&gt;highlight_off&lt;/mat-icon&gt;</code>. I want change this icon to another on clicking this icon.</p>\n\n<p>How can I do it with typescript?</p>\n\n<p>I tried this <a href=\"https://stackoverflow.com/questions/44580387/how-to-change-material-icon-on-click-event-with-angular2-4-material\">answer</a> too, no result.</p>\n\n<p>Also, after I change the icon I want the second click to change the icon back to the original icon. How can I do that?</p>\n"}, {"tags": ["angular", "typescript", "casting", "numbers", "bigdecimal"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1535542641, "post_id": 52076205, "comment_id": 91102639, "body": "Javascript doesn&#39;t type variables : it only knows strings and numbers. If you want a BigDecimal in your back-end, consider parsing it in Java once you receive it."}], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 2775376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kjh1E.jpg?s=128&g=1", "display_name": "Alberto Sanchez Gonzalez", "link": "https://stackoverflow.com/users/2775376/alberto-sanchez-gonzalez"}, "edited": false, "score": 0, "creation_date": 1588678459, "post_id": 52154907, "comment_id": 108984546, "body": "You can add the TypeScript definition too, according its docs: <a href=\"https://github.com/MikeMcl/big.js/#typescript\" rel=\"nofollow noreferrer\">github.com/MikeMcl/big.js/#typescript</a>"}], "tags": [], "owner": {"reputation": 712, "user_id": 10224063, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DQ0oNwm0Kxw/AAAAAAAAAAI/AAAAAAAAABM/OOwTWew0W3s/photo.jpg?sz=128", "display_name": "Vlad Danila", "link": "https://stackoverflow.com/users/10224063/vlad-danila"}, "is_accepted": true, "score": 4, "last_activity_date": 1536000422, "creation_date": 1536000422, "answer_id": 52154907, "question_id": 52076205, "link": "https://stackoverflow.com/questions/52076205/cast-number-type-to-bigdecimal-typescript-angular/52154907#52154907", "title": "Cast number type to BigDecimal TypeScript ( Angular)", "body": "<p>After couple of libraries tried, <a href=\"https://github.com/MikeMcl/big.js/\" rel=\"nofollow noreferrer\">big.js</a> seems the best:</p>\n\n<p>Install the library using the following command in root folder:</p>\n\n<blockquote>\n  <p>$ npm install --save big.js</p>\n</blockquote>\n\n<p>Import:</p>\n\n<blockquote>\n  <p>import Big from 'big.js';</p>\n</blockquote>\n\n<p>Use:</p>\n\n<pre><code>private totalPrice: any;\nthis.totalPrice = Big(number_value).toPrecision(2) --&gt; (e.g. 15.00)\n</code></pre>\n"}], "owner": {"reputation": 712, "user_id": 10224063, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DQ0oNwm0Kxw/AAAAAAAAAAI/AAAAAAAAABM/OOwTWew0W3s/photo.jpg?sz=128", "display_name": "Vlad Danila", "link": "https://stackoverflow.com/users/10224063/vlad-danila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8826, "favorite_count": 1, "accepted_answer_id": 52154907, "answer_count": 1, "score": 2, "last_activity_date": 1536000422, "creation_date": 1535541529, "question_id": 52076205, "link": "https://stackoverflow.com/questions/52076205/cast-number-type-to-bigdecimal-typescript-angular", "title": "Cast number type to BigDecimal TypeScript ( Angular)", "body": "<p>I need to send a <em>BigDecimal</em> value from my angular front-end part to the java back-end. I tried to find a valuable solution but it seems that <strong>TypeScript</strong> knows only <em>number</em> type.</p>\n\n<p>Is there any way to declare/cast a <em>BigDecimal</em> attribute in my angular project?</p>\n\n<pre><code>private totalPrice: number;\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "edited": false, "score": 1, "creation_date": 1535543919, "post_id": 52076118, "comment_id": 91103446, "body": "100 is too much. try with 0, 1 or 2 You should get the same result"}, {"owner": {"reputation": 10663, "user_id": 168425, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/90Rr6.jpg?s=128&g=1", "display_name": "Ralf de Kleine", "link": "https://stackoverflow.com/users/168425/ralf-de-kleine"}, "reply_to_user": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "edited": false, "score": 0, "creation_date": 1535546378, "post_id": 52076118, "comment_id": 91105065, "body": "Yep, 1 works just as well. Changed my question."}], "answers": [{"tags": [], "owner": {"reputation": 10663, "user_id": 168425, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/90Rr6.jpg?s=128&g=1", "display_name": "Ralf de Kleine", "link": "https://stackoverflow.com/users/168425/ralf-de-kleine"}, "is_accepted": false, "score": 0, "last_activity_date": 1535546434, "creation_date": 1535546434, "answer_id": 52077729, "question_id": 52076118, "link": "https://stackoverflow.com/questions/52076118/which-element-has-the-focus-on-handling-ng-blur/52077729#52077729", "title": "Which element has the focus on handling ng-blur", "body": "<p>Fixed it using the $timeout service.</p>\n\n<pre><code>public onBlur($event: any): void {\n   this.$timeout(() =&gt; {\n      if (this.$window.document.activeElement) {\n         // do things\n      }\n   }, 1);\n}\n</code></pre>\n"}], "owner": {"reputation": 10663, "user_id": 168425, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/90Rr6.jpg?s=128&g=1", "display_name": "Ralf de Kleine", "link": "https://stackoverflow.com/users/168425/ralf-de-kleine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535546434, "creation_date": 1535541260, "last_edit_date": 1592644375, "question_id": 52076118, "link": "https://stackoverflow.com/questions/52076118/which-element-has-the-focus-on-handling-ng-blur", "title": "Which element has the focus on handling ng-blur", "body": "<p>I'm trying to figure out how to get the activeelement | element with focus when handling the <code>ng-blur</code> event. I've tried <code>window.document.activeElement</code> but it is always 'body'.</p>\n<h3>Html</h3>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n  &lt;div name=&quot;element1&quot; ng-blur=&quot;$ctrl.onBlur($event)&quot;&gt;element1&lt;/div&gt;\n  &lt;div name=&quot;element2&quot; ng-blur=&quot;$ctrl.onBlur($event)&quot;&gt;element2&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<h3>Typescript</h3>\n<pre><code>public onBlur($event: any): void {\n   var value = $event.target.attributes[&quot;name&quot;].value;\n   // value is the name of the element where the event is triggered\n   // but how to get the element to where the focus has gone to?\n}\n</code></pre>\n<hr />\n<h2>Edit</h2>\n<p>Fixed it using the <code>$timeout</code> service.</p>\n<pre><code>public onBlur($event: any): void {\n   this.$timeout(() =&gt; {\n      if (this.$window.document.activeElement) {\n         // do things\n      }\n   }, 1);\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jsdoc", "ts-check"], "answers": [{"comments": [{"owner": {"reputation": 2901, "user_id": 1734815, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pB5aj.png?s=128&g=1", "display_name": "Danielo515", "link": "https://stackoverflow.com/users/1734815/danielo515"}, "edited": false, "score": 0, "creation_date": 1614758503, "post_id": 52076280, "comment_id": 117479438, "body": "you should accept your own answer so it appears at the top"}], "tags": [], "owner": {"reputation": 132743, "user_id": 905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/130b8a67fd029b2e6b5e56e7aad04952?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/905/keith"}, "is_accepted": true, "score": 7, "last_activity_date": 1535541748, "creation_date": 1535541748, "answer_id": 52076280, "question_id": 52076076, "link": "https://stackoverflow.com/questions/52076076/cast-an-element-in-a-js-file-with-ts-check/52076280#52076280", "title": "Cast an element in a JS file with @ts-check", "body": "<p>The fix for this is to put the <code>@type</code> declaration between the variable and the retrieval, and adding <code>()</code>.</p>\n\n<p>Like this: </p>\n\n<pre><code>// @ts-check\n\nconst myInput = /** @type {HTMLInputElement} */ (document.getElementById('myInput'));\nmyInput.value = 'foobar';\n</code></pre>\n\n<p>This syntax is fairly clunky and horrible, but they've <a href=\"https://github.com/Microsoft/TypeScript/issues/17453#issuecomment-325779732\" rel=\"noreferrer\">closed the bug</a> so I guess the above syntax is the <em>official</em> way to handle this. </p>\n"}, {"comments": [{"owner": {"reputation": 132743, "user_id": 905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/130b8a67fd029b2e6b5e56e7aad04952?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/905/keith"}, "edited": false, "score": 0, "creation_date": 1535543164, "post_id": 52076396, "comment_id": 91102960, "body": "Cheers, but in this context I specifically don&#39;t want a runtime check, as in the basically impossible case where <code>myInput</code> is not an <code>HTMLInputElement</code> I&#39;ve got nothing to do instead except throw an exception. Belt and braces is fine, but I have loads of elements, which means loads of belts and loads of braces, which just feels like a waste of time."}], "tags": [], "owner": {"reputation": 802, "user_id": 8318454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08706eac2bac889d1f5f00e4644a19f5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Cumming", "link": "https://stackoverflow.com/users/8318454/tom-cumming"}, "is_accepted": false, "score": 1, "last_activity_date": 1535542156, "creation_date": 1535542156, "answer_id": 52076396, "question_id": 52076076, "link": "https://stackoverflow.com/questions/52076076/cast-an-element-in-a-js-file-with-ts-check/52076396#52076396", "title": "Cast an element in a JS file with @ts-check", "body": "<p>You can use a runtime check if you want to be absolutely sure, this also persuades typescript that the assignment is safe.</p>\n\n<pre><code>const myInput = document.getElementById('myInput');\nif (myInput instanceof HTMLInputElement) {\n    myInput.value = 'foobar';\n}\n</code></pre>\n"}], "owner": {"reputation": 132743, "user_id": 905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/130b8a67fd029b2e6b5e56e7aad04952?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/905/keith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 52076280, "answer_count": 2, "score": 1, "last_activity_date": 1535542156, "creation_date": 1535541132, "question_id": 52076076, "link": "https://stackoverflow.com/questions/52076076/cast-an-element-in-a-js-file-with-ts-check", "title": "Cast an element in a JS file with @ts-check", "body": "<p>I have a JS file with a <code>// @ts-check</code> derective, using JSDoc comments to denote types.</p>\n\n<p>The problem is that the elements fail type checks when retrieved from the <code>document</code>.</p>\n\n<p>So we have in HTML:</p>\n\n<pre><code>&lt;input id=\"myInput\"&gt;...\n</code></pre>\n\n<p>When I get this element in JS the type checking throws an error:</p>\n\n<pre><code>// @ts-check\nconst myInput = document.getElementById('myInput');\nmyInput.value = 'foobar';\n</code></pre>\n\n<blockquote>\n  <p>Property 'value' does not exist on type 'HTMLElement'</p>\n</blockquote>\n\n<p>If I specify the expected type with a JSDoc <code>@type</code> comment then that also fires an error:</p>\n\n<pre><code>// @ts-check\n\n/** @type {HTMLInputElement} */\nconst myInput = document.getElementById('myInput');\nmyInput.value = 'foobar';\n</code></pre>\n\n<blockquote>\n  <p>Type 'HTMLElement' is not assignable to type 'HTMLInputElement'.<br>\n  Property 'accept' is missing in type 'HTMLElement'.</p>\n</blockquote>\n\n<p>If I was in TS I could use <code>document.getElementById('myInput') as HTMLInputElement</code> to tell it that I expect this type.</p>\n\n<p>How do I do this in JS with <code>@ts-check</code>?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "firefox", "cross-browser"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3489042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10678d75ef6f74bfb9b3653156fda966?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Ludcev", "link": "https://stackoverflow.com/users/3489042/kirill-ludcev"}, "edited": false, "score": 1, "creation_date": 1535543677, "post_id": 52076261, "comment_id": 91103284, "body": "Thanks. I forgot to mention that I already checked <b>about:config</b>. geo.enabled is set to true. Updated my question."}], "tags": [], "owner": {"reputation": 5963, "user_id": 6258513, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166299673401476/picture?type=large", "display_name": "Sakhi Mansoor", "link": "https://stackoverflow.com/users/6258513/sakhi-mansoor"}, "is_accepted": false, "score": 0, "last_activity_date": 1535541681, "creation_date": 1535541681, "answer_id": 52076261, "question_id": 52076073, "link": "https://stackoverflow.com/questions/52076073/callbacks-for-navigator-geolocation-getcurrentposition-are-not-firing-in-firefox/52076261#52076261", "title": "Callbacks for navigator.geolocation.getCurrentPosition are not firing in firefox", "body": "<p>Paste <code>about:config</code> in your browser and see if geolocation services are enabled there. The most appropriate you could find it <a href=\"https://support.mozilla.org/en-US/questions/1177581\" rel=\"nofollow noreferrer\">here</a> in <strong>Mozilla Support</strong></p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 3489042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10678d75ef6f74bfb9b3653156fda966?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Ludcev", "link": "https://stackoverflow.com/users/3489042/kirill-ludcev"}, "is_accepted": true, "score": 0, "last_activity_date": 1536226033, "creation_date": 1536226033, "answer_id": 52200892, "question_id": 52076073, "link": "https://stackoverflow.com/questions/52076073/callbacks-for-navigator-geolocation-getcurrentposition-are-not-firing-in-firefox/52200892#52200892", "title": "Callbacks for navigator.geolocation.getCurrentPosition are not firing in firefox", "body": "<p>This issue was caused by simultaneous use of react-geolocated lib and navigator.geolocation.getCurrentPosition(). Callback didn't fired probably because firefox thinks that geolocation already resolved.\nCommenting out react-geolocated lib usage helped.</p>\n"}], "owner": {"reputation": 73, "user_id": 3489042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10678d75ef6f74bfb9b3653156fda966?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Ludcev", "link": "https://stackoverflow.com/users/3489042/kirill-ludcev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 52200892, "answer_count": 2, "score": 0, "last_activity_date": 1536226033, "creation_date": 1535541124, "last_edit_date": 1535702220, "question_id": 52076073, "link": "https://stackoverflow.com/questions/52076073/callbacks-for-navigator-geolocation-getcurrentposition-are-not-firing-in-firefox", "title": "Callbacks for navigator.geolocation.getCurrentPosition are not firing in firefox", "body": "<p>I have the function inside React Component which is responsible for getting user's position. </p>\n\n<pre><code>    export default class SomeComponent extends React.Component&lt;SomeProps, SomeState&gt; {\n    constructor(props: any) {\n    super(props)\n    //initializing state here...\n    }\n      componentDidMount() {\n        this.getCurrentPosition()\n      }\n\n    getPosition = () =&gt; {\n    console.log('get current position') //it's firing\n      navigator.geolocation.getCurrentPosition((position: Position) =&gt; {\n        console.log('pos', position) // not firing in any case\n        //do stuff here..\n      },\n        (error: any) =&gt; {\n          console.log(error) //not firing in any case\n            //do stuff here..\n        })\n    }\n}\n</code></pre>\n\n<p>My problem is that this approach works perfectly fine in Chrome/Edge, but in Firefox none of the navigator.geolocation.getCurrentPosition callbacks are firing. \nOS: MS Windows 10. Firefox: 61.0.1</p>\n\n<p>What i already tried to do:</p>\n\n<ol>\n<li><p>Working with application over HTTPs</p></li>\n<li><p>Various combinations of PositionOptions object passed as third argument to navigator.geolocation.getCurrentPosition.</p></li>\n<li><p>Downgrading firefox from 61.0.1 to 53.0.3</p></li>\n<li><p>Fiddling with <strong>about:config</strong> geo options. For instance, changing\nthe geo.wifi.uri from\n<a href=\"https://www.googleapis.com/geolocation/v1/geolocate?key=%GOOGLE_API_KEY%\" rel=\"nofollow noreferrer\">https://www.googleapis.com/geolocation/v1/geolocate?key=%GOOGLE_API_KEY%</a>\nto\n<a href=\"https://location.services.mozilla.com/v1/geolocate?key=%MOZILLA_API_KEY%\" rel=\"nofollow noreferrer\">https://location.services.mozilla.com/v1/geolocate?key=%MOZILLA_API_KEY%</a></p>\n\n<p>Current <strong>geo</strong> options:<br>\ngeo.enabled: true<br>\ngeo.provider.ms-windows-location: false<br>\ngeo.wifi.uri:\n<a href=\"https://www.googleapis.com/geolocation/v1/geolocate?key=%GOOGLE_API_KEY%\" rel=\"nofollow noreferrer\">https://www.googleapis.com/geolocation/v1/geolocate?key=%GOOGLE_API_KEY%</a><br>\ngeo.wifi.xhr.timeout: 60000</p></li>\n</ol>\n\n<p>5   Reassembling getPosition in plain javascript way and calling it from tsx component.</p>\n\n<pre><code> // navigator.js\n\n    function succ(pos){\n       console.log('pos', pos)\n    }\n    function err(err){\n       console.log('err', err)\n    }\n    export default function Nav(){\n       console.log('nav')\n       navigator.geolocation.getCurrentPosition(succ, err);\n    }\n\n    //SomeComponent.tsx\n    import Nav from '../containers/navigator.js'\n      componentDidMount() {\n        Nav();\n      }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 10216471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/84EXW.jpg?s=128&g=1", "display_name": "Syn", "link": "https://stackoverflow.com/users/10216471/syn"}, "is_accepted": false, "score": 3, "last_activity_date": 1535541123, "last_edit_date": 1535541123, "creation_date": 1535539812, "answer_id": 52075631, "question_id": 52075138, "link": "https://stackoverflow.com/questions/52075138/updating-a-password-in-firebase-angular-5/52075631#52075631", "title": "Updating a password in firebase (Angular 5)", "body": "<p>In order to re-authenticating the user with credential, you basically give an email and a password as parameters. Below I'll show you my account.ts page that has a button for the user to change his password. When the user clicks the button, an alert prompt with inputs appears: </p>\n\n<p><strong>account.ts</strong></p>\n\n<pre><code>changePassword(){\n    console.log('Change Password Button Clicked');\n    //Creating the promt alert with inputs\n    let alert = this.alertCtrl.create({\n      title: 'Change Password',\n      inputs: [\n        {\n          name: 'oldPassword',\n          placeholder: 'Your old password..',\n          type: 'password'\n        },\n        {\n          name: 'newPassword',\n          placeholder: 'Your new password..',\n          type: 'password'\n        },\n        {\n          name: 'newPasswordConfirm',\n          placeholder: 'Confirm your new password..',\n          type: 'password'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data =&gt; {\n            console.log('Cancel clicked');\n          }\n        },\n         {\n          text: 'Update Password',\n          handler: data =&gt; {\n            //First you get the current logged in user\n            const cpUser = firebase.auth().currentUser; \n\n            /*Then you set credentials to be the current logged in user's email\n            and the password the user typed in the input named \"old password\"\n            where he is basically confirming his password just like facebook for example.*/\n\n            const credentials = firebase.auth.EmailAuthProvider.credential(\n              cpUser.email, data.oldPassword);\n\n              //Reauthenticating here with the data above\n              cpUser.reauthenticateWithCredential(credentials).then(\n                success =&gt; {\n                  if(data.newPassword != data.newPasswordConfirm){\n                    let alert = this.alertCtrl.create({\n                      title: 'Change Password Failed',\n                      message: 'You did not confirm your password correctly.',\n                      buttons: ['Try Again']\n                    });\n                    alert.present();\n                  } else if(data.newPassword.length &lt; 6){\n                    let alert = this.alertCtrl.create({\n                      title: 'Change Password Failed',\n                      message: 'Your password should be at least 6 characters long',\n                      buttons: ['Try Again']\n                    });\n                    alert.present();\n                  } else {\n                    let alert = this.alertCtrl.create({\n                      title: 'Change Password Success',\n                      message: 'Your password has been updated!',\n                      buttons: ['OK']\n                    });\n                    alert.present();\n                  /* Update the password to the password the user typed into the\n                    new password input field */\n                  cpUser.updatePassword(data.newPassword).then(function(){\n                    //Success\n                  }).catch(function(error){\n                    //Failed\n                  });\n                  }\n                },\n                error =&gt; {\n                  console.log(error);\n                  if(error.code === \"auth/wrong-password\"){\n                    let alert = this.alertCtrl.create({\n                      title: 'Change Password Failed',\n                      message: 'Your old password is invalid.',\n                      buttons: ['Try Again']\n                    });\n                    alert.present();\n                  }\n                }\n              )\n              console.log(credentials); \n            }\n          }\n      ]\n    });\n    alert.present();\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2812, "user_id": 9386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tm47g.png?s=128&g=1", "display_name": "Badgy", "link": "https://stackoverflow.com/users/9386667/badgy"}, "is_accepted": false, "score": 0, "last_activity_date": 1535541968, "creation_date": 1535541968, "answer_id": 52076353, "question_id": 52075138, "link": "https://stackoverflow.com/questions/52075138/updating-a-password-in-firebase-angular-5/52076353#52076353", "title": "Updating a password in firebase (Angular 5)", "body": "<p>If the Login of the User is too far in the past and you wanna Change important Information like the Password the User Needs to Reauthenticate in Order to do the process. There is a ton of Information regarding this in the offical Firebase Documentation.</p>\n"}], "owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3258, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1564600219, "creation_date": 1535538185, "question_id": 52075138, "link": "https://stackoverflow.com/questions/52075138/updating-a-password-in-firebase-angular-5", "title": "Updating a password in firebase (Angular 5)", "body": "<p>I am building a settings component for accounts on an app im working on, and I want the user to have the ability to update their password from these account settings. I have created this firebase function: </p>\n\n<pre><code> updateUserPassword(password) {\n    this.currentUser.updatePassword(password).then(function() {\n      console.log('succcess!')\n    }).catch(function(error) {\n      alert(error)\n    });\n  }\n</code></pre>\n\n<p>however each time I call it, I get the following error: \n<a href=\"https://i.stack.imgur.com/keP6C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/keP6C.png\" alt=\"enter image description here\"></a></p>\n\n<p>I understand that I need to re-authenticate in order to perform requests like this, however I can't seem to figure out how to do it! Any suggestions?</p>\n"}, {"tags": ["typescript", "oop", "decorator"], "answers": [{"comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1535539358, "post_id": 52075231, "comment_id": 91100538, "body": "Thanks! mixins didn&#39;t occur to me, will look into it! I have to say, it looks a bit messy doesn&#39;t it? (needing generics, an extra Constructor type, an <code>any</code> array, and extending a constructor....)   I suppose I could still use the standard pattern from wikipedia as well, no reason that wouldn&#39;t work in Typescript \ud83d\ude0e"}], "tags": [], "owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "is_accepted": true, "score": 1, "last_activity_date": 1535538511, "creation_date": 1535538511, "answer_id": 52075231, "question_id": 52074754, "link": "https://stackoverflow.com/questions/52074754/can-typescript-class-decorators-be-optional-when-creating-an-instance/52075231#52075231", "title": "Can typescript class decorators be optional when creating an instance?", "body": "<p>A class decorator is declared before a class declaration and therefore applies to all instances of that class.</p>\n\n<p>In your case you might want to look into <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#support-for-mix-in-classes\" rel=\"nofollow noreferrer\">mixins</a>. This would allow something like this:</p>\n\n<pre><code>type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;\n\nfunction Bouncy&lt;T extends Constructor&lt;{}&gt;&gt;(Base: T) {\n    return class extends Base {\n        bounce() {\n            console.log('Bounce!');\n        }\n    }\n}\n\nclass Ball {\n}\n\nconst BouncyBall = Bouncy(Ball);\n\nconst bouncyBall = new BouncyBall();\nbouncyBall.bounce();\n</code></pre>\n"}], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 52075231, "answer_count": 1, "score": 0, "last_activity_date": 1535538511, "creation_date": 1535537026, "question_id": 52074754, "link": "https://stackoverflow.com/questions/52074754/can-typescript-class-decorators-be-optional-when-creating-an-instance", "title": "Can typescript class decorators be optional when creating an instance?", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">According to wikipedia</a>, the decorator pattern allows you to decorate an instance of a class with extra functionality, for example:</p>\n\n<pre><code>let ball = new BouncyBall(new Ball())\n</code></pre>\n\n<p>The <code>Ball</code> instance gets decorated with extra code from the <code>BouncyBall</code> class. I can still get a regular <code>Ball</code>:</p>\n\n<pre><code>let simpleOldBall = new Ball()\n</code></pre>\n\n<p>Now, when I look at the <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">typescript docs</a> for <em>Class Decorators</em>, it seems that all <code>Ball</code> instances will automatically be decorated with the <code>bouncyBall</code> code: </p>\n\n<pre><code>@bouncyBall\nclass Ball {\n}\n</code></pre>\n\n<p>How can I create balls <em>and</em> bouncy balls when using <em>Class Decorators</em> in Typescript?</p>\n"}, {"tags": ["angular", "typescript", "file-upload", "primeng"], "comments": [{"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 961, "user_id": 7090629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dof4jgASc0/AAAAAAAAAAI/AAAAAAAABxw/2_PSkM-UiWA/photo.jpg?sz=128", "display_name": "Shanil Arjuna", "link": "https://stackoverflow.com/users/7090629/shanil-arjuna"}, "edited": false, "score": 0, "creation_date": 1535538562, "post_id": 52074193, "comment_id": 91100040, "body": "@ShanilArjuna Any reply please???"}, {"owner": {"reputation": 961, "user_id": 7090629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dof4jgASc0/AAAAAAAAAAI/AAAAAAAABxw/2_PSkM-UiWA/photo.jpg?sz=128", "display_name": "Shanil Arjuna", "link": "https://stackoverflow.com/users/7090629/shanil-arjuna"}, "edited": false, "score": 0, "creation_date": 1535538878, "post_id": 52074193, "comment_id": 91100229, "body": "is (onBeforeSend)=&quot;onBeforeSendFile($event)&quot; working as expected ?"}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 961, "user_id": 7090629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dof4jgASc0/AAAAAAAAAAI/AAAAAAAABxw/2_PSkM-UiWA/photo.jpg?sz=128", "display_name": "Shanil Arjuna", "link": "https://stackoverflow.com/users/7090629/shanil-arjuna"}, "edited": false, "score": 0, "creation_date": 1535551847, "post_id": 52074193, "comment_id": 91109004, "body": "No, because I need to invoke upload manually i.e. on <a href=\"https://stackoverflow.com/questions/44153451/primeng-manually-invoke-fileupload\">PrimeNG manually invoke FileUpload</a>. But not pass the file data to the Controller in ASP.NET MVC. Maybe it is related to request header or etc I am not sure :("}, {"owner": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 1, "creation_date": 1547905864, "post_id": 52074193, "comment_id": 95358578, "body": "you can read files with onSelect and then read the data using <code>fileReader.readAsDataURL</code>. I can post solution if you need"}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 0, "creation_date": 1548660469, "post_id": 52074193, "comment_id": 95605396, "body": "@Toolkit Many thanks for your reply. Actually I solved the problem, but if it is ready you can post it here so that other people will also benefit from your solution. Regards..."}, {"owner": {"reputation": 2737, "user_id": 1940702, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Oh5Oc.jpg?s=128&g=1", "display_name": "Kiren S", "link": "https://stackoverflow.com/users/1940702/kiren-s"}, "edited": false, "score": 0, "creation_date": 1555496287, "post_id": 52074193, "comment_id": 98129292, "body": "@Willys How did you solve this issue? Code you have?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "edited": false, "score": 0, "creation_date": 1535896532, "post_id": 52132957, "comment_id": 91225000, "body": "Thanks for reply. I have already tried this approach as I mentioned my comments above on <b>PrimeNG manually invoke FileUpload</b> page. However, the file data pass as null in the Controller (ASP.NET MVC) after returning from service.ts. Any idea how to set <b>&#39;Content-Type&#39;: &#39;multipart/form-data&#39;</b>? I gave details on <a href=\"https://stackoverflow.com/questions/52115680/cannot-set-content-type-in-angular-fileupload-control/52115943#52115943\">Cannot set Content-Type in Angular FileUpload control</a>."}], "tags": [], "owner": {"reputation": 5255, "user_id": 4359365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbf1d1f083c191962d7a3274a1a1fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Antikhippe", "link": "https://stackoverflow.com/users/4359365/antikhippe"}, "is_accepted": false, "score": 1, "last_activity_date": 1535845335, "creation_date": 1535845335, "answer_id": 52132957, "question_id": 52074193, "link": "https://stackoverflow.com/questions/52074193/primeng-sending-form-data-and-fileupload-data-via-button-click/52132957#52132957", "title": "PrimeNG - Sending form data and FileUpload data via button click", "body": "<p>Add a reference to your <code>p-fileUpload</code> so that you can invoke <code>upload</code> method on it from your <em>Save</em> method.</p>\n\n<pre><code>&lt;p-fileUpload #fileInput name=\"files\" ...\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@ViewChild('fileInput') fileInput: FileUpload;\n\n// ...\n\n// save method manually called by clicking on your Save button\nsave() {\n    if (this.fileInput &amp;&amp; this.fileInput.files.length &gt; 0) {\n        this.fileInput.upload();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 7798579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9aaa70b3968539ed560410b7c6b6f3e?s=128&d=identicon&r=PG&f=1", "display_name": "RzoQe", "link": "https://stackoverflow.com/users/7798579/rzoqe"}, "is_accepted": false, "score": 3, "last_activity_date": 1538980357, "last_edit_date": 1538980357, "creation_date": 1538026367, "answer_id": 52530021, "question_id": 52074193, "link": "https://stackoverflow.com/questions/52074193/primeng-sending-form-data-and-fileupload-data-via-button-click/52530021#52530021", "title": "PrimeNG - Sending form data and FileUpload data via button click", "body": "<p>You may use onSelect event:</p>\n\n<pre><code>&lt;p-fileUpload name=\"files\" (onSelect)=\"dealWithFiles($event)\"&gt;&lt;/p-fileUpload&gt;\n</code></pre>\n\n<p>And in your component: </p>\n\n<pre><code>dealWithFiles(event) {\n    files = event.originalEvent.files;\n    // Deal with your files\n    // e.g  assign it to a variable, and on submit add the variable to your form data\n}\n</code></pre>\n\n<p>As you want to upload manually(by another button), then hide the default upload button by adding: </p>\n\n<pre><code>&lt;p-fileUpload name=\"files\" showUploadButton=\"false\" (onSelect)=\"dealWithFiles($event)\"&gt;&lt;/p-fileUpload&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5384, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1538980357, "creation_date": 1535535345, "last_edit_date": 1535845080, "question_id": 52074193, "link": "https://stackoverflow.com/questions/52074193/primeng-sending-form-data-and-fileupload-data-via-button-click", "title": "PrimeNG - Sending form data and FileUpload data via button click", "body": "<p>In our Angular project we have a form containing form fields and PrimeNG FileUpload and we have tried to send form data with the selected files. </p>\n\n<p>We have look at the <a href=\"https://www.primefaces.org/primeng/#/fileupload\" rel=\"noreferrer\">documentation</a> and lots of examples on the web, but none of them fulfill our requirements (sending form and files using Save button rather than auto upload or FileUpload button). </p>\n\n<p>We tried the following approach by appending each model properties to the files in the file upload request but I think there must be a smarter way by appending files to the model properties in Save method (in .ts file). </p>\n\n<p><strong><em>Html:</em></strong></p>\n\n<pre><code>&lt;p-fileUpload name=\"files\" url=\"/MyController/Save\" \n    (onBeforeSend)=\"onBeforeSendFile($event)\" \n    (onUpload)=\"onUploadFile($event)\" \n    (onError)=\"onErrorFile($event)\" \n    (onBeforeUpload)=\"onBeforeUploadFoto($event)\" \n    multiple=\"multiple\" \n    chooseLabel=\"Select\" \n    uploadLabel=\"Load\" \n    cancelLabel=\"Cancel\"&gt;\n&lt;/p-fileUpload&gt;\n</code></pre>\n\n<p><strong><em>.ts:</em></strong></p>\n\n<pre><code>//code omitted fo brevity\n\n//at here we append model properties to the array in file upload request:\nonBeforeUploadFoto(event: any) {\n    event.formData.append('id', this.entityId);\n    event.formData.append('name', this.entityName);\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1535534035, "post_id": 52073621, "comment_id": 91097160, "body": "JSON file is on remote url or in local file directory? where it is located?"}, {"owner": {"reputation": 11, "user_id": 10280902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646d01c8264ea7254b9452da16532cbd?s=128&d=identicon&r=PG&f=1", "display_name": "dyst", "link": "https://stackoverflow.com/users/10280902/dyst"}, "reply_to_user": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1535538954, "post_id": 52073621, "comment_id": 91100283, "body": "JSON is on remote url"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10280902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646d01c8264ea7254b9452da16532cbd?s=128&d=identicon&r=PG&f=1", "display_name": "dyst", "link": "https://stackoverflow.com/users/10280902/dyst"}, "edited": false, "score": 0, "creation_date": 1535539107, "post_id": 52073987, "comment_id": 91100383, "body": "Thank you. The JSON file is on a remote server, not a local file, how can I navigate through it?"}], "tags": [], "owner": {"reputation": 496, "user_id": 10188573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54690bc4a6d31605b59f857354d58f35?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10188573/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1535534727, "creation_date": 1535534727, "answer_id": 52073987, "question_id": 52073621, "link": "https://stackoverflow.com/questions/52073621/string-in-the-ts-file-from-an-external-json/52073987#52073987", "title": "String in the .ts file from an external JSON", "body": "<p>You can loop through your JSON object and <code>console.log()</code> all the items in one line. Here is the link to the stackblitz: <a href=\"https://stackblitz.com/edit/js-w4rpzs\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/js-w4rpzs</a></p>\n\n<pre><code>var json = {\n    \"resultados\": [\n        {\n            \"acf\": {\n                \"name\": \"Item1\",\n                \"enlace\": \"https://www.google.com\"\n            }\n        },\n        {\n            \"acf\": {\n                \"name\": \"Item2\",\n                \"enlace\": \"https://www.facebook.com\"\n\n            }\n        }\n    ]\n};\n\njson.resultados.forEach(\n  (res) =&gt; {\n    console.log('Name: ' + res.acf.name + ' Enlace: ' + res.acf.enlace);\n  }\n);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10280902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646d01c8264ea7254b9452da16532cbd?s=128&d=identicon&r=PG&f=1", "display_name": "dyst", "link": "https://stackoverflow.com/users/10280902/dyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1535539425, "creation_date": 1535533708, "last_edit_date": 1535539425, "question_id": 52073621, "link": "https://stackoverflow.com/questions/52073621/string-in-the-ts-file-from-an-external-json", "title": "String in the .ts file from an external JSON", "body": "<p>I'm a little lost on this subject. \nIs it possible to put a string in the .ts file from an external JSON?\nI want to show in an IONIC InAppBrowser the urls of each JSON item. And that's why I want to create a variable with a specific item, so I can put it in the InAppBrowser.</p>\n\n<p>Thank you for your attention</p>\n\n<p><strong>Items.ts</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\n//Importando servicio\r\nimport { ItemsProvider } from '../../providers/items/items';\r\n//Importando URL desde config\r\nimport { URL_SERVICIOS } from './../../config/url.servicios';\r\n\r\n@Component({\r\n  selector: 'page-items-eur',\r\n  templateUrl: 'items-eur.html',\r\n})\r\nexport class ItemsEurPage {\r\n\r\n  pais = {};\r\n\r\n  imagenes = URL_SERVICIOS + \"/imgs\";\r\n  itemsData:any [] = [];\r\n  sliderValue: number = 0;\r\n  sel: string = \"\";\r\n  itemAsn: string = \"\";\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public _creP: ItemsProvider,\r\n  ) {\r\n    console.log( navParams );\r\n    this.pais = this.navParams.get(\"pais\");\r\n\r\n    if (this.pais == \"Espa\u00f1a\") {\r\n      this._creP.cargar_items_esp()\r\n        .subscribe(\r\n          (respuesta)=&gt;{\r\n          console.log(respuesta);\r\n          this.itemsData = respuesta[\"resultados\"];\r\n      } )\r\n    }\r\n\r\n    this.itemAsn = this.itemsData[0],[\"acf\"],[\"enlace\"]; //This string I want to show for each item\r\n\r\n\r\n    console.log(this.itemAsn);\r\n\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>JSON FILE</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n    \"resultados\": [{\r\n            \"acf\": {\r\n                \"name\": \"Item1\",\r\n                \"enlace\": \"https://www.google.com\"\r\n            }\r\n        },\r\n         \"acf\": {\r\n                \"name\": \"Item2\",\r\n                \"enlace\": \"https://www.facebook.com\"\r\n          \r\n            }\r\n        }\r\n    ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>UPDATE - Load JSON file of ItemsProvider</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  cargar_items_esp(){\r\n    return this.http.get(\"https://mi_server.com/items_esp.json\");\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "is_accepted": true, "score": 1, "last_activity_date": 1535535157, "creation_date": 1535535157, "answer_id": 52074122, "question_id": 52073505, "link": "https://stackoverflow.com/questions/52073505/why-does-typescript-fail-to-keep-the-right-type-info-in-array-methods-like-map-o/52074122#52074122", "title": "Why does typescript fail to keep the right type info in array methods like map or find", "body": "<p>This is caused by a limitation in the control flow analysis in TypeScript with the <code>strictNullChecks</code> option. There is no error without that option.</p>\n\n<p>Assume the following simplified example:</p>\n\n<pre><code>const o: { p?: { sp?: string } } = { p: {} }\nif (o.p) {\n  if (o.p.sp) {\n    // foo\n  }\n}\n</code></pre>\n\n<p>Here, the TypeScript compiler can easily infer that neither <code>o.p</code> nor <code>o</code> have changed since executing <code>if (o.p)</code>. As a result, it works without any error. But the problem arises as soon as you introduce more functionality like function calls which potentially could have side effects on <code>o</code>.</p>\n\n<p>See <a href=\"https://github.com/Microsoft/TypeScript/issues/9998\" rel=\"nofollow noreferrer\">Trade-offs in Control Flow Analysis</a> for details. One example from the comments that might help to understand the issue is this code:</p>\n\n<blockquote>\n<pre><code>if (token === SyntaxKind.ExportKeyword) {\n    nextToken();\n    if (token === SyntaxKind.DefaultKeyword) {\n        // We have \"export default\"\n    }\n    ...\n}\n</code></pre>\n</blockquote>\n\n<p>On first glance it does not make sense to nest the <code>if</code> clauses like that and TypeScript will warn you about it. However, <code>nextToken()</code> might actually change <code>token</code> and the code thus could make sense. But it is very hard for the compiler to actually understand and interpret situations like this correctly.</p>\n\n<p>You could avoid the error message in your code by replacing <code>o.p.sp</code> with <code>o.p!.sp</code> or <code>o.p &amp;&amp; o.p.sp</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 10288893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9ea106d58ef8c9f4500f1a08c0c7ae?s=128&d=identicon&r=PG", "display_name": "Seo", "link": "https://stackoverflow.com/users/10288893/seo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 52074122, "answer_count": 1, "score": 0, "last_activity_date": 1535539706, "creation_date": 1535533349, "last_edit_date": 1535539706, "question_id": 52073505, "link": "https://stackoverflow.com/questions/52073505/why-does-typescript-fail-to-keep-the-right-type-info-in-array-methods-like-map-o", "title": "Why does typescript fail to keep the right type info in array methods like map or find", "body": "<p>In this example in the <code>if</code> scope the <code>p</code> property gets the type of an object but inside of the arrow function it is an object or <code>undefined</code></p>\n\n<pre><code>const o: { p?: { sp?: string } } = { p: {} }\nif (o.p) {\n  const b = ['a'].map(x =&gt; {\n    if (o.p.sp) {\n      return x\n    }\n  })\n}\n</code></pre>\n\n<p>I get a Object that is possibly '<code>undefined</code>' at the inner <code>if</code></p>\n\n<p>Why does this happen? How to fix it or is typescript just broken?</p>\n"}, {"tags": ["angular", "typescript", "spinner", "angular-resolver"], "comments": [{"owner": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 2, "creation_date": 1535534166, "post_id": 52073469, "comment_id": 91097247, "body": "Look here: <a href=\"https://stackoverflow.com/a/38620817/6588498\">stackoverflow.com/a/38620817/6588498</a>"}, {"owner": {"reputation": 3795, "user_id": 4724147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZDnz.jpg?s=128&g=1", "display_name": "Harunur Rashid", "link": "https://stackoverflow.com/users/4724147/harunur-rashid"}, "reply_to_user": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1535536452, "post_id": 52073469, "comment_id": 91098701, "body": "@Rohit Sharma, This is of route change. This will not run loader when accessing data of resolver."}, {"owner": {"reputation": 63, "user_id": 6869571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/641dcb319adcae79210bf383dc537211?s=128&d=identicon&r=PG", "display_name": "No_Com", "link": "https://stackoverflow.com/users/6869571/no-com"}, "reply_to_user": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1535958411, "post_id": 52073469, "comment_id": 91239070, "body": "@RohitSharma I did the same and also check for other types of events such as RouteConfigLoadStart  and RouteConfigLoadEnd. As Harunur Rashid said, it won&#39;t help."}, {"owner": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1535960862, "post_id": 52073469, "comment_id": 91240235, "body": "@No_Com Resolver fetches the data when the route moves to the target component on which you are using the resolver, so when the routing is started and the resolver fetches the data until the data is not fetched you can show the spinner, means on routing start event as in the post and hide the spinner when routing ends. By the way, can you make a demo on <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz.com</a>?"}], "owner": {"reputation": 63, "user_id": 6869571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/641dcb319adcae79210bf383dc537211?s=128&d=identicon&r=PG", "display_name": "No_Com", "link": "https://stackoverflow.com/users/6869571/no-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2354, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1535538723, "creation_date": 1535533231, "question_id": 52073469, "link": "https://stackoverflow.com/questions/52073469/angular-4-show-spinner-while-resolvers-is-process", "title": "Angular 4+. Show spinner while resolvers is process", "body": "<p>Is it possible to show spinner instead of an empty page while resolvers do some work?</p>\n\n<p>I have a module with two resolvers:  </p>\n\n<pre><code> const routes: Routes = [\n  {\n    path: '',\n    component: MyComponent,\n    canActivate: [MyAuthGuard],\n    resolve: {\n      vehicles: FirstResolve,\n      drivers: SecondResolve\n    },\n    children: [\n      {\n        path: '',\n        component: FirstComponent\n      },\n\n      {\n        path: ':id',\n        component: SecondComponent\n      }\n    ]\n  }\n];\n</code></pre>\n\n<p>Each resolver does some time-consuming actions like requests to the server:</p>\n\n<pre><code>@Injectable()\nexport class FirstResolve implements Resolve&lt;Entity[]&gt;{\n\n  constructor(\n    private _firstService: FirstService,\n    private _secondService: SecondService,\n    private _store: Store&lt;any&gt;\n  ) { }\n\n  async resolve(): Promise&lt;Entity[]&gt; {\n    let data = await Promise.all([\n      this._firstService.getEntities(),\n      this._secondService.getEntities()\n    ]);\n\n    this._store.dispatch(...);\n    this._store.dispatch(...);\n\n    return;\n  }\n\n}\n</code></pre>\n\n<p>Could you help me to figure out?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "testing", "karma-runner"], "answers": [{"comments": [{"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1535547012, "post_id": 52074709, "comment_id": 91105546, "body": "Thanks for the hint! I was trying to get it working by putting <code>mySpy = spyOn(component, &#39;somethingElse&#39;);</code> in the <code>beforeEach()</code> section, but it wouldn&#39;t take."}], "tags": [], "owner": {"reputation": 386, "user_id": 5039753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aab7f546bb101a89c32924e080db83a?s=128&d=identicon&r=PG&f=1", "display_name": "faflo10", "link": "https://stackoverflow.com/users/5039753/faflo10"}, "is_accepted": true, "score": 1, "last_activity_date": 1535536869, "creation_date": 1535536869, "answer_id": 52074709, "question_id": 52073418, "link": "https://stackoverflow.com/questions/52073418/testing-function-within-same-file-is-called/52074709#52074709", "title": "Testing function within same file is called", "body": "<p>In your Example.spec.ts, just add a <code>spyOn(component, 'somethingElse');</code> as first line of your <code>it('should call somethingElse ...</code> test :</p>\n\n<pre><code>fake = {\"num\": \"1\"};\n\nit('should call somethingElse', () =&gt; {\n    // Add the line below.\n    spyOn(component, 'somethingElse');\n    component.doSomething('hello');\n    expect(component.somethingElse).toHaveBeenCalledWith(1);\n});\n\nit('should return object', () =&gt; {\n    expect(component.somethingElse(1)).toEqual(fake);\n});\n</code></pre>\n\n<p>The expect method needs a Spy as parameter when used before a <code>toHaveBeenCalledWith</code> (as per the <a href=\"https://jasmine.github.io/api/2.7/matchers.html\" rel=\"nofollow noreferrer\">Jasmine documentation</a>).</p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 52074709, "answer_count": 1, "score": 1, "last_activity_date": 1535536869, "creation_date": 1535533080, "last_edit_date": 1592644375, "question_id": 52073418, "link": "https://stackoverflow.com/questions/52073418/testing-function-within-same-file-is-called", "title": "Testing function within same file is called", "body": "<p>I have 2 functions where one calls the other and the other returns something, but I cannot get the test to work.</p>\n<p>Using <code>expect(x).toHaveBeenCalledWith(someParams);</code> expects a spy to be used, but I am unaware of how to spy on a function within the same file...</p>\n<blockquote>\n<p>Error:  : Expected a spy, but got Function.</p>\n<p>Usage: expect().toHaveBeenCalledWith(...arguments)</p>\n</blockquote>\n<p><strong>Example.ts</strong></p>\n<pre><code>doSomething(word: string) {\n   if (word === 'hello') {\n      return this.somethingElse(1);\n   }\n   return;\n}\n\nsomethingElse(num: number) {\n   var x = { &quot;num&quot;: num };\n   return x;\n}\n</code></pre>\n<p><strong>Example.spec.ts</strong></p>\n<pre><code>fake = {&quot;num&quot;: &quot;1&quot;};\n\nit('should call somethingElse', () =&gt; {\n    component.doSomething('hello');\n    expect(component.somethingElse).toHaveBeenCalledWith(1);\n});\n\nit('should return object', () =&gt; {\n    expect(component.somethingElse(1)).toEqual(fake);\n});\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "highcharts", "gauge"], "comments": [{"owner": {"reputation": 961, "user_id": 7090629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dof4jgASc0/AAAAAAAAAAI/AAAAAAAABxw/2_PSkM-UiWA/photo.jpg?sz=128", "display_name": "Shanil Arjuna", "link": "https://stackoverflow.com/users/7090629/shanil-arjuna"}, "edited": false, "score": 0, "creation_date": 1535533487, "post_id": 52073315, "comment_id": 91096788, "body": "you only installed highcharts-more?"}, {"owner": {"reputation": 119, "user_id": 4199159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b11191c9055974e520be67e1f9cb165c?s=128&d=identicon&r=PG&f=1", "display_name": "Henderikus Harms", "link": "https://stackoverflow.com/users/4199159/henderikus-harms"}, "reply_to_user": {"reputation": 961, "user_id": 7090629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dof4jgASc0/AAAAAAAAAAI/AAAAAAAABxw/2_PSkM-UiWA/photo.jpg?sz=128", "display_name": "Shanil Arjuna", "link": "https://stackoverflow.com/users/7090629/shanil-arjuna"}, "edited": false, "score": 0, "creation_date": 1535533621, "post_id": 52073315, "comment_id": 91096882, "body": "No I installed the Highcharts package and the high-chart more package. I&#39;m sorry for the confusion."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 4199159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b11191c9055974e520be67e1f9cb165c?s=128&d=identicon&r=PG&f=1", "display_name": "Henderikus Harms", "link": "https://stackoverflow.com/users/4199159/henderikus-harms"}, "edited": false, "score": 1, "creation_date": 1535540817, "post_id": 52075278, "comment_id": 91101467, "body": "When i&#39;m trying this i recieve the following error: ERROR in src/app/components/throughputdisplay/throughput.component.ts&zwnj;&#8203;(3,33): error TS2497: Module &#39;&quot;{pathtoproject}/node_modules/@types/highcharts/highcharts-&zwnj;&#8203;more&quot;&#39; resolves to a non-module entity and cannot be imported using this construct. Am I doing something wrong?"}, {"owner": {"reputation": 119, "user_id": 4199159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b11191c9055974e520be67e1f9cb165c?s=128&d=identicon&r=PG&f=1", "display_name": "Henderikus Harms", "link": "https://stackoverflow.com/users/4199159/henderikus-harms"}, "edited": false, "score": 0, "creation_date": 1535542845, "post_id": 52075278, "comment_id": 91102785, "body": "Only the import statement for Highcharts-More isn&#39;t correct but fortunately it isn&#39;t nessessary. Furthermore there was a small typo in my code which caused some problems. After i fix it my gauge is working. I wrote solidGauge instead of solidgauge."}, {"owner": {"reputation": 43671, "user_id": 1451635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/379D4.jpg?s=128&g=1", "display_name": "Pawe\u0142 Fus", "link": "https://stackoverflow.com/users/1451635/pawe%c5%82-fus"}, "reply_to_user": {"reputation": 119, "user_id": 4199159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b11191c9055974e520be67e1f9cb165c?s=128&d=identicon&r=PG&f=1", "display_name": "Henderikus Harms", "link": "https://stackoverflow.com/users/4199159/henderikus-harms"}, "edited": false, "score": 0, "creation_date": 1535635153, "post_id": 52075278, "comment_id": 91146517, "body": "The highcharts-more module <b>IS NECESSARY</b> because SolidGauge is based on Gauge, which is implemented in highcharts-more. Without this module, chart won&#39;t show up: <a href=\"https://jsfiddle.net/BlackLabel/3usv2frx/\" rel=\"nofollow noreferrer\">jsfiddle.net/BlackLabel/3usv2frx</a>"}, {"owner": {"reputation": 323, "user_id": 2514739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVXgB.jpg?s=128&g=1", "display_name": "mmamane", "link": "https://stackoverflow.com/users/2514739/mmamane"}, "edited": false, "score": 1, "creation_date": 1545230538, "post_id": 52075278, "comment_id": 94554462, "body": "Also possible... import more from &#39;highcharts/highcharts-more.src&#39;; import gauge from &#39;highcharts/modules/solid-gauge.src&#39;; more(Highcharts); gauge(Highcharts);"}], "tags": [], "owner": {"reputation": 43671, "user_id": 1451635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/379D4.jpg?s=128&g=1", "display_name": "Pawe\u0142 Fus", "link": "https://stackoverflow.com/users/1451635/pawe%c5%82-fus"}, "is_accepted": true, "score": 8, "last_activity_date": 1535538676, "creation_date": 1535538676, "answer_id": 52075278, "question_id": 52073315, "link": "https://stackoverflow.com/questions/52073315/how-do-i-use-an-highcharts-solid-gauge-in-angular-6-with-typescript/52075278#52075278", "title": "How do I use an Highcharts Solid Gauge in angular 6 with typescript?", "body": "<p>Include all:</p>\n\n<ul>\n<li>highcharts</li>\n<li>highcharts-more</li>\n<li>solid-gauge module</li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>import * as Highcharts from 'highcharts/highcharts';\nimport * as HighchartsMore from 'highcharts/highcharts-more';\nimport * as HighchartsSolidGauge from 'highcharts/modules/solid-gauge';\n\n// Now init modules:\nHighchartsMore(Highcharts);\nHighchartsSolidGauge(Highcharts);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 2963448, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sQ-WlRLCMC4/AAAAAAAAAAI/AAAAAAAAAKs/NsviDI8IQBs/photo.jpg?sz=128", "display_name": "Touhid Rahman", "link": "https://stackoverflow.com/users/2963448/touhid-rahman"}, "is_accepted": false, "score": 4, "last_activity_date": 1572256120, "creation_date": 1572256120, "answer_id": 58588712, "question_id": 52073315, "link": "https://stackoverflow.com/questions/52073315/how-do-i-use-an-highcharts-solid-gauge-in-angular-6-with-typescript/58588712#58588712", "title": "How do I use an Highcharts Solid Gauge in angular 6 with typescript?", "body": "<p>To extend <a href=\"https://stackoverflow.com/a/52075278/2963448\">Pawel Fus's answer</a> and following the <code>angular-highcharts</code> library documentation:</p>\n\n<pre><code>// app.module.ts\nimport { ChartModule, HIGHCHARTS_MODULES } from 'angular-highcharts'\nimport * as HighchartsMore from 'highcharts/highcharts-more.src'\nimport * as HighchartsSolidGauge from 'highcharts/modules/solid-gauge'\n\n...\nimports: [ ChartModule ],\nproviders: [\n    { \n        provide: HIGHCHARTS_MODULES, \n        useFactory: () =&gt; [HighchartsMore, HighchartsSolidGauge] \n    },\n]\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1259, "user_id": 3017390, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TVqZC.png?s=128&g=1", "display_name": "ThinkTank", "link": "https://stackoverflow.com/users/3017390/thinktank"}, "edited": false, "score": 0, "creation_date": 1605959068, "post_id": 63413901, "comment_id": 114816151, "body": "For latest CLI on Angular 7 and above use this. Upvote this Answer guys"}], "tags": [], "owner": {"reputation": 31, "user_id": 11709833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wmv5iuWn-HQ/AAAAAAAAAAI/AAAAAAAAADo/12BrTtlTurs/photo.jpg?sz=128", "display_name": "Cengiz Berat D\u0130N&#199;KAN", "link": "https://stackoverflow.com/users/11709833/cengiz-berat-d%c4%b0n%c3%87kan"}, "is_accepted": false, "score": 2, "last_activity_date": 1597412738, "last_edit_date": 1597412738, "creation_date": 1597412403, "answer_id": 63413901, "question_id": 52073315, "link": "https://stackoverflow.com/questions/52073315/how-do-i-use-an-highcharts-solid-gauge-in-angular-6-with-typescript/63413901#63413901", "title": "How do I use an Highcharts Solid Gauge in angular 6 with typescript?", "body": "<pre><code>import * as Highcharts from 'highcharts/highcharts';\nimport * as HighchartsMore from 'highcharts/highcharts-more';\nimport * as HighchartsSolidGauge from 'highcharts/modules/solid-gauge'; \nHighchartsMore(Highcharts);\nHighchartsSolidGauge(Highcharts);\n</code></pre>\n<p>the code above doesn't work for me but the code below works for me.\nI have  Angular CLI version 9.1.7.</p>\n<pre><code>import * as Highcharts from 'highcharts/highcharts';\nimport HighchartsMore from 'highcharts/highcharts-more.src';\nimport HighchartsSolidGauge from 'highcharts/modules/solid-gauge';\n\nHighchartsMore(Highcharts);\nHighchartsSolidGauge(Highcharts);\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 4199159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b11191c9055974e520be67e1f9cb165c?s=128&d=identicon&r=PG&f=1", "display_name": "Henderikus Harms", "link": "https://stackoverflow.com/users/4199159/henderikus-harms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4731, "favorite_count": 2, "accepted_answer_id": 52075278, "answer_count": 3, "score": 3, "last_activity_date": 1597412738, "creation_date": 1535532704, "last_edit_date": 1535542887, "question_id": 52073315, "link": "https://stackoverflow.com/questions/52073315/how-do-i-use-an-highcharts-solid-gauge-in-angular-6-with-typescript", "title": "How do I use an Highcharts Solid Gauge in angular 6 with typescript?", "body": "<p>In my current project I'm using Angular 6 and typescript. My plan is to use an Solidgauge on one of my Components. During the production of my compentent I run into the following problems:</p>\n\n<p>When i try to display the Gauge on my display nothing shows and in console Highcharts error #17 is showing. My suspiscion is that the cause of my problem lies in the way I'm importing Highcharts-more in my component. </p>\n\n<p><strong>My thoughput.component.ts file</strong></p>\n\n<pre><code>import { Component, OnInit, OnDestroy, Input} from '@angular/core';\nimport { UsageService } from '../../services/UsageService';\nimport { Subscription } from 'rxjs';\nimport * as Highcharts from 'highcharts/highcharts';\nimport 'highcharts/modules/exporting';\nimport * as more from 'highcharts-more/more';\nimport * as solidgauge from 'highcharts/modules/solid-gauge';\nmore(Highcharts);\n\n@Component({\n  selector: 'app-throughput',\n  templateUrl: './throughput.component.html',\n  styleUrls: ['./throughput.component.css'],\n})\n\nexport class ThroughputComponent implements OnInit, OnDestroy {\n  // private updataDataEndRef: Subscription = null;\n  public messageCount: number;\n  public chart: any;\n // @Input() usageService: UsageService;\n\n constructor() {\n   this.messageCount = 0;\n }\n\n ngOnInit(): void {\n   this.initChart(this.buildGauge());\n }\n\n ngOnDestroy() {\n   // this.updataDataEndRef.unsubscribe();\n }\n\n // noinspection JSMethodCanBeStatic\n private buildGauge(): any {\n    return {\n      chart: {\n        type: 'solidgauge'\n      },\n      title: null,\n      pane: {\n        center: ['50%', '85%'],\n        size: '140%',\n        startAngle: -90,\n        endAngle: 90,\n        background: {\n        backgroundColor: (Highcharts.theme &amp;&amp; Highcharts.theme.background2) \n        || '#EEE',\n        innerRadius: '60%',\n        outerRadius: '100%',\n        shape: 'arc'\n       }\n    },\n    tooltip: {\n      enabled: false\n    },\n    yAxis: {\n      stops: [\n        [0.1, '#55BF3B'],\n        [0.5, '#DDDF0D'],\n        [0.9, '#DF5353']\n      ],\n      lineWidth: 0,\n      minorTickInterval: null,\n      tickAmount: 2,\n      title: {\n        y: -70\n      },\n      labels: {\n        y: 16\n      }\n    },\n    plotOptions: {\n      solidgauge: {\n        dataLabels: {\n          y: 5,\n          borderWidth: 0,\n          useHTML: true\n        }\n      }\n    }\n  };\n}\n\nprivate initChart(gaugeOptions: any) {\n  this.chart = Highcharts.chart('gauge-container', \n              Highcharts.merge(gaugeOptions, {\n   yAxis: {\n     min: 0,\n     max: 200,\n     title: {\n       text: 'Speed'\n     }\n   },\n   credits: {\n     enabled: false\n   },\n   series: [{\n     name: 'Speed',\n     data: [80],\n     dataLabels: {\n       format: '&lt;div style=\"text-align:center\"&gt;&lt;span style=\"font- \n                   size:25px;color:' +\n                   ((Highcharts.theme &amp;&amp; Highcharts.theme.contrastTextColor) \n                    || 'black') + '\"&gt;{y}&lt;/span&gt;&lt;br/&gt;' +\n               '&lt;span style=\"font-size:12px;color:silver\"&gt;km/h&lt;/span&gt;&lt;/div&gt;'\n      },\n      tooltip: {\n        valueSuffix: ' km/h'\n      }\n    }]\n  }));\n}\n</code></pre>\n\n<p><strong>My thoughput.component.html file</strong></p>\n\n<pre><code>&lt;div id='gauge-container' style=\"width: 300px; height: 200px\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>My app.module.ts</strong></p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform- \n         browser/animations';\nimport { MatCardModule, MatButtonModule, MatGridListModule } from        \n       '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { AngularFontAwesomeModule } from 'angular-font-awesome';\n\nimport { GatewayService } from './services/GatewayService';\nimport { AppComponent } from './components/app/app.component';\nimport { GatewayComponent} from './components/gateway/gateway.component';\nimport { GatewayControlComponent} from \n           './components/gatewaycontrol/gatewaycontrol.component';\nimport { TopmenuComponent} from './components/topmenu/topmenu.component';\nimport { SidemenuComponent} from './components/sidemenu/sidemenu.component';\nimport { GatewayDataDisplayComponent} from \n       './components/gatewaydatadisplay/gatewaydatadisplay.component';\nimport { ThroughputComponent } from \n       './components/throughputdisplay/throughput.component';\n\n@NgModule({\n  declarations: [\n     AppComponent,\n     GatewayComponent,\n     TopmenuComponent,\n     SidemenuComponent,\n     GatewayControlComponent,\n     GatewayDataDisplayComponent,\n     ThroughputComponent\n   ],\n   imports: [\n     BrowserModule,\n     BrowserAnimationsModule,\n     MatCardModule,\n     MatButtonModule,\n     MatGridListModule,\n     RouterModule.forRoot([\n       { path: '', redirectTo: 'home', pathMatch: 'full' },\n       { path: 'home', component: AppComponent },\n       { path: 'control', component: GatewayControlComponent},\n       { path: 'gateways', component: GatewayComponent },\n       { path: '**', redirectTo: 'home' }\n     ])\n   ],\n   providers: [GatewayService],\n   bootstrap: [AppComponent]\n })\n export class AppModule { }\n</code></pre>\n\n<p>Please can someone tell me what I'm doing wrong here? Or is there something I forgot to do?</p>\n\n<p>Ps. In the current version of my code I tried to install highcharts-more and hightcharts separately by using npm.</p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-firestore", "angular6", "angularfire2"], "comments": [{"owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "edited": false, "score": 0, "creation_date": 1535533277, "post_id": 52073186, "comment_id": 91096654, "body": "what is <code>this.data</code>? add this code please"}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "reply_to_user": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "edited": false, "score": 0, "creation_date": 1535539275, "post_id": 52073186, "comment_id": 91100476, "body": "this.data. get data from input type multiple select or text"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535607406, "post_id": 52086999, "comment_id": 91129549, "body": "I need get specific data I have more than one ( for loop ) I try create advanced filter such as <a href=\"https://jo.opensooq.com/en/ajloun/real-estate-for-rent/apartments-for-rent\" rel=\"nofollow noreferrer\">jo.opensooq.com/en/ajloun/real-estate-for-rent/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535607568, "post_id": 52086999, "comment_id": 91129594, "body": "If you have best solution  for advanced filter tell me."}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535608166, "post_id": 52086999, "comment_id": 91129772, "body": "I can&#39;t get data of queryCollection ."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535636718, "post_id": 52086999, "comment_id": 91147616, "body": "I&#39;m sorry, I don&#39;t understand your comments at all.  If you could add a complete example of input data and the result you want to the question, it might help."}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535637761, "post_id": 52086999, "comment_id": 91148423, "body": "<a href=\"https://scontent.famm6-1.fna.fbcdn.net/v/t1.0-9/40357198_725669361103367_7407785070439694336_o.jpg?_nc_cat=0&amp;oh=74d621b4d4587ac409bd7c7f8143f57e&amp;oe=5C30B8D1\" rel=\"nofollow noreferrer\">scontent.famm6-1.fna.fbcdn.net/v/t1.0-9/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535637860, "post_id": 52086999, "comment_id": 91148490, "body": "I need find specific data using advanced filter"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535642830, "post_id": 52086999, "comment_id": 91151924, "body": "Implementing an entire faceted filtering mechanism is probably too broad for a Stack Overflow question; at least it&#39;s not something I&#39;m willing to do for you."}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535643570, "post_id": 52086999, "comment_id": 91152349, "body": "I was uploaded new pic above ."}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1535915927, "post_id": 52086999, "comment_id": 91230214, "body": "Can you give me example for facet filter and I will try."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1535582248, "creation_date": 1535582248, "answer_id": 52086999, "question_id": 52073186, "link": "https://stackoverflow.com/questions/52073186/cant-use-array-in-firebase-firestore-collectionreference-firebase-firestore-q/52086999#52086999", "title": "Can&#39;t use Array in firebase.firestore.CollectionReference | firebase.firestore.Query why?", "body": "<p>Why are you trying to use the same variable for your <code>CollectionReference</code> and your array of queries, which are two different things?  Consider:</p>\n\n<pre><code>const list = this.afs.collection( 'City').ref;\nlet queryCollection = [];\n\nfor (let _i = 0; _i &lt; this.data.areaList.length; _i++) {\n\n    if (this.data.areaList) {  \n        queryCollection[_i] = list.where('areaList', '==', this.data.areaList[_i]);\n    }\n    console.log(this.data.areaList[_i]);\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1535642248, "creation_date": 1535532273, "last_edit_date": 1535642248, "question_id": 52073186, "link": "https://stackoverflow.com/questions/52073186/cant-use-array-in-firebase-firestore-collectionreference-firebase-firestore-q", "title": "Can&#39;t use Array in firebase.firestore.CollectionReference | firebase.firestore.Query why?", "body": "<pre><code>const list = this.afs.collection( 'City').ref;\nlet queryCollection: firebase.firestore.CollectionReference | firebase.firestore.Query &amp; Array = list;\n\nfor (let _i = 0; _i &lt; this.data.areaList.length; _i++) {\n\n    if (this.data.areaList) {  \n        queryCollection[_i] = queryCollection.where('areaList', '==', this.data.areaList[_i]);\n    }\n    console.log(this.data.areaList[_i]);\n}\n</code></pre>\n\n<p>Note: can't use let only const why and how to change error ?\nI wanna use let queryCollection .\n<a href=\"https://i.stack.imgur.com/3R5tD.png\" rel=\"nofollow noreferrer\">I wanna create advanced Firestore data filter</a></p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1535534290, "post_id": 52073694, "comment_id": 91097314, "body": "thanks this solves the input into a specific field, but now how do I get the value into my ts file. I am getting an undefined in console. It worked previously. I am using a click event to get the value"}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1535535047, "post_id": 52073694, "comment_id": 91097766, "body": "share you ts please complete."}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1535536551, "post_id": 52073694, "comment_id": 91098762, "body": "Use this.dataSource.data"}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1535536570, "post_id": 52073694, "comment_id": 91098779, "body": "Go to demo link check the demo"}, {"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1535536791, "post_id": 52073694, "comment_id": 91098918, "body": "Yes this works, thank you very much. I also found a less effective way of doing it by passing row.branchCode as an event in the click function"}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1535536844, "post_id": 52073694, "comment_id": 91098948, "body": "welcome. ping me back if any help required in future as well."}], "tags": [], "owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "is_accepted": true, "score": 1, "last_activity_date": 1535533938, "creation_date": 1535533938, "answer_id": 52073694, "question_id": 52072973, "link": "https://stackoverflow.com/questions/52072973/unique-input-value-in-angular-using-angular-material/52073694#52073694", "title": "Unique input value in Angular using Angular Material", "body": "<p><a href=\"https://input-in-data-table.stackblitz.io\" rel=\"nofollow noreferrer\">Input in data table</a></p>\n\n<p>Create one more data column like <code>branchCode</code> in table :</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"branch_code\"&gt;\n    &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt;Enter Branch Code&lt;/mat-header-cell&gt;\n    &lt;mat-cell *matCellDef=\"let row\"&gt;\n        &lt;input matInput placeholder=\"Enter Branch Code\" [(ngModel)]=\"row.branchCode\"&gt;\n        &lt;mat-icon (click)=\"gotoWorkstationDetails()\"&gt;arrow_forward&lt;/mat-icon&gt;\n    &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>Here you are referencing <code>branchCode</code> to all input.</p>\n"}], "owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 52073694, "answer_count": 1, "score": 0, "last_activity_date": 1535535331, "creation_date": 1535531582, "last_edit_date": 1535535331, "question_id": 52072973, "link": "https://stackoverflow.com/questions/52072973/unique-input-value-in-angular-using-angular-material", "title": "Unique input value in Angular using Angular Material", "body": "<p>I have the following code in my html, I am trying to let a user input a value in the input field and then get the value in my ts file. However when I type in one input field, the other input fields below also get populated. I need only the input field where the user is typing in to get populated. Any thoughts</p>\n\n<pre><code>  &lt;ng-container matColumnDef=\"branch_code\"&gt;\n    &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt;Enter Branch Code&lt;/mat-header-cell&gt;\n    &lt;mat-cell *matCellDef=\"let row\"&gt;\n      &lt;input matInput placeholder=\"Enter Branch Code\" [(ngModel)]=\"branchCode\"&gt;\n      &lt;mat-icon (click)=\"gotoWorkstationDetails()\" &gt;arrow_forward&lt;/mat-icon&gt;\n    &lt;/mat-cell&gt;\n  &lt;/ng-container&gt;\n</code></pre>\n\n<p>I can get the input value successfully in my ts file.</p>\n\n<p>Please see screenshot for visual. All input fields are getting '213'. It must only display in my active input field\n<a href=\"https://i.stack.imgur.com/JH6pw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JH6pw.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { MatPaginator, MatTableDataSource, MatSort } from '@angular/material';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-workstation',\n  templateUrl: './workstation.component.html',\n  styleUrls: ['./workstation.component.scss']\n})\nexport class WorkstationComponent implements OnInit {\n\n  title = 'Workstation';\n\n\n  displayedColumns = ['name', 'mac_address', 'address', 'branch_code'];\n  dataSource = new MatTableDataSource();\n  @ViewChild(MatSort) sort: MatSort;\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  loading = false;\n  branchCode;\n\n  constructor( private http: HttpClient, public router: Router ) { }\n\n  ngOnInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n    this.loading = true;\n    this.http.get&lt;Array&lt;any&gt;&gt;('/api/workstations').subscribe(data =&gt; {\n      this.dataSource.data = data;\n      this.loading = false;\n    },\n    err =&gt; {\n      this.loading = false;\n    });\n  }\n\n  applyFilter(filterValue: string) {\n    filterValue = filterValue.trim();\n    filterValue = filterValue.toLowerCase();\n    this.dataSource.filter = filterValue;\n  }\n\n  gotoWorkstationDetails() {\n    console.log(this.branchCode);\n\n    this.loading = true;\n    this.http.get&lt;Array&lt;any&gt;&gt;(`/api/branches/${this.branchCode}/workstations`).subscribe(data =&gt; {\n      const branchDetail = data;\n      this.router.navigate(['workstation/' + this.branchCode]);\n      console.log(branchDetail);\n      this.loading = false;\n    },\n      err =&gt; {\n        this.loading = false;\n      });\n  }\n\n\n\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "office-ui-fabric"], "comments": [{"owner": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1535532587, "post_id": 52072917, "comment_id": 91096229, "body": "Try to place it inside the arrow functions that receive the event . Just before you set the state"}, {"owner": {"reputation": 365, "user_id": 9671246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab397493c1a5a7896b6b01d230f2870?s=128&d=identicon&r=PG&f=1", "display_name": "Flimzy_Programmer", "link": "https://stackoverflow.com/users/9671246/flimzy-programmer"}, "reply_to_user": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1535532911, "post_id": 52072917, "comment_id": 91096423, "body": "I tried to add it in componentDidMount just before setState like this: e.preventDefault(); - but it does not prevent page reload"}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 9671246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab397493c1a5a7896b6b01d230f2870?s=128&d=identicon&r=PG&f=1", "display_name": "Flimzy_Programmer", "link": "https://stackoverflow.com/users/9671246/flimzy-programmer"}, "edited": false, "score": 0, "creation_date": 1535565681, "post_id": 52075768, "comment_id": 91117487, "body": "Your solution works, thank you. In my case it does lead to another problem though; when i click back/forward in browser i get the expected behaviour for everything except the nav list selection - it remains at last clicked list element and does not reflect the current url . Any idea how to solve that?"}, {"owner": {"reputation": 1413, "user_id": 3618387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5b9421d128ea76d05e05e6cba8895fc?s=128&d=identicon&r=PG", "display_name": "T.Chmelevskij", "link": "https://stackoverflow.com/users/3618387/t-chmelevskij"}, "reply_to_user": {"reputation": 365, "user_id": 9671246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab397493c1a5a7896b6b01d230f2870?s=128&d=identicon&r=PG&f=1", "display_name": "Flimzy_Programmer", "link": "https://stackoverflow.com/users/9671246/flimzy-programmer"}, "edited": false, "score": 1, "creation_date": 1535614376, "post_id": 52075768, "comment_id": 91132759, "body": "To fix that you&#39;ll need to subscribe to history for the current route rather than your own state. This can be done with <a href=\"https://github.com/ReactTraining/history\" rel=\"nofollow noreferrer\">github.com/ReactTraining/history</a> and <a href=\"https://reacttraining.com/react-router/web/api/Router\" rel=\"nofollow noreferrer\">reacttraining.com/react-router/web/api/Router</a>. Main idea is that rather than keeping the state yourself, you&#39;d pass the selectedNavKey as prop."}], "tags": [], "owner": {"reputation": 1413, "user_id": 3618387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5b9421d128ea76d05e05e6cba8895fc?s=128&d=identicon&r=PG", "display_name": "T.Chmelevskij", "link": "https://stackoverflow.com/users/3618387/t-chmelevskij"}, "is_accepted": true, "score": 1, "last_activity_date": 1535540238, "creation_date": 1535540238, "answer_id": 52075768, "question_id": 52072917, "link": "https://stackoverflow.com/questions/52072917/prevent-page-reload-when-rendering-ui-fabric-react-nav-component/52075768#52075768", "title": "Prevent page reload when rendering ui fabric react nav component", "body": "<p>I'm guessing you are using Microsoft's <a href=\"https://developer.microsoft.com/en-us/fabric#/components/nav#Variants\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/fabric#/components/nav#Variants</a></p>\n\n<p>In that case you need to specify the callback on the nav item. Usually it's anti-pattern to use things like <code>window.addEventListener</code> in react.</p>\n\n<p>This would look something like.</p>\n\n<pre><code>export class Navbar extends React.Component&lt;any, any&gt; {\n  constructor(props: INavProps) {\n    super(props);\n\n    this.state = {\n      selectedNavKey: '#Name1'\n    };\n  }\n\n  public handleNavClick(event, { key, url }) {\n      // You also need to manually update the router something like\n      history.push(url);\n      this.setState({ selectedNavKey: key });\n  }\n\n  public render(): JSX.Element {\n    const { selectedNavKey } = this.state;\n\n    return (\n      &lt;Nav\n        selectedKey={selectedNavKey}\n        groups={{\n          links: [\n            { name: 'Name1', url: '/Name1', key: '#Name1', onClick: this.handleNavClick },\n            { name: 'Name2', url: '/Name2', key: '#Name2', onClick: this.handleNavClick }\n          ]\n        }}\n      /&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 0, "creation_date": 1618333867, "post_id": 59326936, "comment_id": 118568765, "body": "Doesn&#39;t actually do anything useful other than change the selection on the nav control itself."}], "tags": [], "owner": {"reputation": 549, "user_id": 3123296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AIcR0.jpg?s=128&g=1", "display_name": "Wei", "link": "https://stackoverflow.com/users/3123296/wei"}, "is_accepted": false, "score": 0, "last_activity_date": 1576257227, "last_edit_date": 1576257227, "creation_date": 1576256625, "answer_id": 59326936, "question_id": 52072917, "link": "https://stackoverflow.com/questions/52072917/prevent-page-reload-when-rendering-ui-fabric-react-nav-component/59326936#59326936", "title": "Prevent page reload when rendering ui fabric react nav component", "body": "<p>To prevent page refresh, call event.preventDefault() inside Nav component's onLinkClick event handler:</p>\n\n<pre><code>&lt;Nav onLinkClick={linkClickHandler} selectedKey={selectedKey} /&gt;\n\nfunction linkClickHandler(event,{key, url}){\n     event.preventDefault();\n     setSelectedKey(key);\n\n     console.log(url);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 688, "user_id": 4467670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003096226037/picture?type=large", "display_name": "Peter Moore", "link": "https://stackoverflow.com/users/4467670/peter-moore"}, "edited": false, "score": 0, "creation_date": 1618522713, "post_id": 65007595, "comment_id": 118634217, "body": "This works really well except that if you use a <code>Link</code> or other method of routing to one of the locations in the Nav - other than the Nav itself - the Nav selection doesn&#39;t update to match the route. It DOES on a full page refresh which I find odd. Any thoughts on that?"}], "tags": [], "owner": {"reputation": 51, "user_id": 14707438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b852d16736397c405f4a2d512b9edbdd?s=128&d=identicon&r=PG", "display_name": "Phierru", "link": "https://stackoverflow.com/users/14707438/phierru"}, "is_accepted": false, "score": 3, "last_activity_date": 1606317550, "creation_date": 1606317550, "answer_id": 65007595, "question_id": 52072917, "link": "https://stackoverflow.com/questions/52072917/prevent-page-reload-when-rendering-ui-fabric-react-nav-component/65007595#65007595", "title": "Prevent page reload when rendering ui fabric react nav component", "body": "<p>Use the <strong>HashRouter</strong> instead of the <strong>BrowserRouter</strong>.</p>\n<p>Example:</p>\n<p>Router:</p>\n<pre><code>...\n\nimport { Switch, Route, Redirect, HashRouter } from 'react-router-dom'\n\n...\n\nexport const Router: React.FunctionComponent = () =&gt; {\n\n  // persisted to localStorage\n  const navActiveItem = useSelector(selectNavActiveItem)\n\n  return (\n    &lt;Suspense fallback={&lt;LargeSpinner /&gt;}&gt;\n      &lt;HashRouter&gt;\n        &lt;Switch&gt;\n          &lt;Route exact path=&quot;/&quot; render={() =&gt; (\n            &lt;Redirect to={navActiveItem.url} /&gt;\n          )}/&gt;\n\n          &lt;Route exact path=&quot;/dashboard/overview&quot; component={Overview} /&gt;\n          &lt;Route exact path=&quot;/dashboard/progress&quot; component={Progress} /&gt;\n          &lt;Route exact path=&quot;/dashboard/issues&quot; component={Issues} /&gt;\n\n          ...\n\n        &lt;/Switch&gt;\n      &lt;/HashRouter&gt;\n    &lt;/Suspense&gt;\n  )\n}\n</code></pre>\n<p>Navigation:</p>\n<pre><code>...\n\nconst navLinkGroups: INavLinkGroup[] = [\n  {\n    name: 'Dashboard',\n    expandAriaLabel: 'Expand Dashboard section',\n    collapseAriaLabel: 'Collapse Dashboard section',\n    links: [\n      {\n        key: 'DashboardOverview',\n        name: 'Overview',\n        icon: 'BIDashboard',\n        url: '#/dashboard/overview',\n      },\n      {\n        key: 'DashboardProgress',\n        name: 'Progress',\n        icon: 'TimelineProgress',\n        url: '#/dashboard/progress',\n      },\n      {\n        key: 'DashboardIssues',\n        name: 'Issues',\n        icon: 'ShieldAlert',\n        url: '#/dashboard/issues',\n      },\n    ],\n  },\n...\n\nexport const Navigation: React.FunctionComponent = () =&gt; {\n  const navActiveItem = useSelector(selectNavActiveItem)\n  const dispatch = useDispatch()\n\n  const onLinkClick = (ev?: React.MouseEvent&lt;HTMLElement&gt;, item?: INavLink) =&gt; {\n    dispatch(setNavActiveItem(item || { name: '', url: '/' }))\n  }\n\n  return (\n    &lt;Stack tokens={stackTokens} styles={stackStyles}&gt;\n      &lt;Nav\n        styles={navStyles}\n        ariaLabel=&quot;Navigation&quot;\n        groups={navLinkGroups}\n        onLinkClick={onLinkClick}\n        initialSelectedKey={navActiveItem.key}\n      /&gt;\n    &lt;/Stack&gt;\n  )\n}\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 9671246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab397493c1a5a7896b6b01d230f2870?s=128&d=identicon&r=PG&f=1", "display_name": "Flimzy_Programmer", "link": "https://stackoverflow.com/users/9671246/flimzy-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "accepted_answer_id": 52075768, "answer_count": 3, "score": 3, "last_activity_date": 1606317550, "creation_date": 1535531408, "last_edit_date": 1535533047, "question_id": 52072917, "link": "https://stackoverflow.com/questions/52072917/prevent-page-reload-when-rendering-ui-fabric-react-nav-component", "title": "Prevent page reload when rendering ui fabric react nav component", "body": "<p>I'm stuck trying to get the ui-fabric Nav component working with react-router-dom v4+. My solution \"works\", but the whole page is rerendered instead of just the NavSelection component. After some research i realize i need to do a e.preventDefault() somewhere, but i can't figure out where to add it.</p>\n\n<p>Main Page: </p>\n\n<pre><code>    export const Home = () =&gt; {\n        return (\n            &lt;div className=\"ms-Grid-row\"&gt;\n                &lt;div className=\"ms-Grid-col ms-u-sm6 ms-u-md4 ms-u-lg2\"&gt;\n                    &lt;Navbar /&gt;\n                &lt;/div&gt;\n                &lt;div className=\"ms-Grid-col ms-u-sm6 ms-u-md8 ms-u-lg10\"&gt;\n                    &lt;NavSelection /&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        );\n    }\n</code></pre>\n\n<p>Navbar:</p>\n\n<pre><code>const navGroups = [\n  {\n    links: [\n      { name: 'Name1', url: '/Name1', key: '#Name1' },\n      { name: 'Name2', url: '/Name2', key: '#Name2' }\n    ]\n  }\n];\n\nexport class Navbar extends React.Component&lt;any, any&gt; {\n  constructor(props: INavProps) {\n    super(props);\n\n    this.state = {\n      selectedNavKey: '#Name1'\n    };\n  }\n\n  public componentDidMount() {\n    window.addEventListener('hashchange', (e) =&gt; {\n      this.setState({ selectedNavKey: document.location.hash || '#' });\n    });\n  }\n\n  public render(): JSX.Element {\n    const { selectedNavKey } = this.state;\n\n    return (\n      &lt;Nav\n        selectedKey={selectedNavKey}\n        groups={navGroups}\n      /&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>NavSelection:</p>\n\n<pre><code>export const NavSelection = () =&gt; {\n    return (\n        &lt;div&gt;\n            &lt;Route path=\"/Name1\" component={Component1} /&gt;\n            &lt;Route path=\"/Name2\" component={Component2} /&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n\n<p>Any help is greatly appreciated</p>\n\n<p>Edit: I've tried to put it inside componentDidMount like this: </p>\n\n<pre><code>public componentDidMount() {\n    window.addEventListener('hashchange', (e) =&gt; {\n      e.preventDefault();\n      this.setState({ selectedNavKey: document.location.hash || '#' });\n    });\n  }\n</code></pre>\n\n<p>That does not work.</p>\n"}, {"tags": ["angular", "windows", "typescript", "angular4-forms", "angular4-router"], "comments": [{"owner": {"reputation": 3015, "user_id": 6588498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/436db6e50eb979e7d232f3c98f874502?s=128&d=identicon&r=PG", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6588498/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1535530586, "post_id": 52072645, "comment_id": 91094989, "body": "Then you can get the first element of the array like <code>array[0]</code>."}, {"owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "edited": false, "score": 0, "creation_date": 1535531204, "post_id": 52072645, "comment_id": 91095373, "body": "Please include some code of what you have tried so far."}], "owner": {"reputation": 1, "user_id": 9881701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vaT7ClzTrmA/AAAAAAAAAAI/AAAAAAAAAAw/GLtB_2Lslvo/photo.jpg?sz=128", "display_name": "Bekkam Venkateswara Reddy", "link": "https://stackoverflow.com/users/9881701/bekkam-venkateswara-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535705224, "creation_date": 1535530443, "last_edit_date": 1535705224, "question_id": 52072645, "link": "https://stackoverflow.com/questions/52072645/how-to-bind-first-object-data-to-modify-screen", "title": "How to bind first object data to modify screen?", "body": "<p>Show to display the first object of an array from API response in angular 4. If I get % response from API then I want to display first object data to my next modify screen. How can I do this?</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 10, "last_activity_date": 1535531427, "last_edit_date": 1535531427, "creation_date": 1535529567, "answer_id": 52072395, "question_id": 52072383, "link": "https://stackoverflow.com/questions/52072383/angular-5-eventemitter-from-child-to-parent-component-emits-undefined/52072395#52072395", "title": "Angular 5 EventEmitter from child to parent component emits undefined", "body": "<p>You should be using <code>$event</code> here:</p>\n\n<pre><code>&lt;d-table (sendDataEvent)=\"receiveBusinessCycle($event)\"&gt;&lt;/d-table&gt;\n</code></pre>\n\n<p>I've faced a similar situation before and apparently, it seems to only work with <code>$event</code> as it is a reserved keyword to grab the event object.</p>\n\n<p>Apparent, Angular provides a corresponding DOM event object in the <code>$event</code> only. That's why passing in any other variable as an argument won't work. You can read more about it <a href=\"https://angular.io/guide/user-input#get-user-input-from-the-event-object\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Angular also considers this as a dubious practice when working with native HTML Elements as it breaks the separation of concerns between the template and the component. Angular recommends the use of Template Variables instead. Read more about it <a href=\"https://angular.io/guide/user-input#passing-event-is-a-dubious-practice\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1535529829, "creation_date": 1535529829, "answer_id": 52072469, "question_id": 52072383, "link": "https://stackoverflow.com/questions/52072383/angular-5-eventemitter-from-child-to-parent-component-emits-undefined/52072469#52072469", "title": "Angular 5 EventEmitter from child to parent component emits undefined", "body": "<p>You missed <code>$</code> prefix of the <code>event</code>. <code>$event</code> is a reserved word, so your data is visible to the event handler in the component markup only with name <code>$event</code>.</p>\n\n<pre><code>&lt;d-table (sendDataEvent)=\"receiveBusinessCycle($event)\"&gt;&lt;/d-table&gt;\n</code></pre>\n"}], "owner": {"reputation": 1865, "user_id": 7745173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tx8YG.png?s=128&g=1", "display_name": "Logan Wlv", "link": "https://stackoverflow.com/users/7745173/logan-wlv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4572, "favorite_count": 0, "accepted_answer_id": 52072395, "answer_count": 2, "score": 4, "last_activity_date": 1535531427, "creation_date": 1535529524, "question_id": 52072383, "link": "https://stackoverflow.com/questions/52072383/angular-5-eventemitter-from-child-to-parent-component-emits-undefined", "title": "Angular 5 EventEmitter from child to parent component emits undefined", "body": "<p>I am trying to send a <code>string</code> from a child component to his parent component. </p>\n\n<p>Here is the child : </p>\n\n<pre><code>//imports... \n\n    @Component({\n    selector: 'child',\n    templateUrl: './child.component.html',\n    styleUrls: ['./child.component.css'],\n    providers: [ChildService]\n    })\n\nexport class DataTableComponent implements OnInit {\n    constructor(private http: HttpClient, private childService : ChildService) {}\n\n    myMap = new Map&lt;string, ISomeInterface&gt;();\n    currentSelection: string;\n\n    @Output() sendDataEvent = new EventEmitter&lt;string&gt;();\n\n    sendData() {\n        console.log(\"sending this data:  \" + this.myMap.get(this.currentSelection).name);\n        this.sendDataEvent.emit(this.myMap.get(this.currentSelection).name);\n    }\n}\n</code></pre>\n\n<p>Here is the parent : </p>\n\n<p>html -></p>\n\n<pre><code>&lt;d-table (sendDataEvent)=\"receiveBusinessCycle(event)\"&gt;&lt;/d-table&gt;\n</code></pre>\n\n<p>typescript -> </p>\n\n<pre><code>//imports...\n\n@Component({\n  selector: 'parent',\n  templateUrl: './parent.component.html',\n  styleUrls: ['./parent.component.css'],\n  providers: [ParentService]\n})\nexport class MyParentComponent {\n  totoName: string;\n\n  constructor(private parentService : ParentService) {  }\n\n  receiveBusinessCycle($event) {\n    console.log($event); //shows in console 'undefined'\n    console.log($event as string); \n    this.totoName = $event;\n  }\n\n}\n</code></pre>\n\n<p>The issue is that I am getting an <strong>undefined</strong> event when receiving the data in the parent component, here console logs : </p>\n\n<pre><code>sending this data:  201808\nmain.bundle.js:2328 undefined\nmain.bundle.js:2329 undefined\n</code></pre>\n\n<p>Any ideas on the issue?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "pipe", "angular5"], "comments": [{"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 1, "creation_date": 1535530278, "post_id": 52072309, "comment_id": 91094768, "body": "What does <code>AdvEnDictionary</code> look like? Can you add the code?"}], "answers": [{"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 1, "last_activity_date": 1535531647, "last_edit_date": 1535531647, "creation_date": 1535531314, "answer_id": 52072890, "question_id": 52072309, "link": "https://stackoverflow.com/questions/52072309/create-importable-class-for-pipe-angular-4/52072890#52072890", "title": "Create importable class for pipe - Angular 4", "body": "<p>you can create a module that include AdvertiserDictionary and PublisherDictionary</p>\n\n<pre><code>@NgModule({\n  imports: [CommonModule], \n  declarations: [\n    TranslationPipe  \n  ],\n  providers: [AdvertiserDictionary,PublisherDictionary], \n  exports:[TranslationPipe]  \n})\nexport class TranslationModule {}\n</code></pre>\n\n<p>but you need import the TranslationModule if you want to use your Pipe</p>\n\n<p>In general</p>\n\n<ul>\n<li>in imports: all modules you need</li>\n<li>in declarations: components and pipes</li>\n<li>in providers: all the services (all the @Inject)</li>\n<li>in exports: the components that you use outside the module</li>\n</ul>\n"}], "owner": {"reputation": 137, "user_id": 6732289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b9Zi6.jpg?s=128&g=1", "display_name": "W1ldworm", "link": "https://stackoverflow.com/users/6732289/w1ldworm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52072890, "answer_count": 1, "score": 1, "last_activity_date": 1535531647, "creation_date": 1535529271, "last_edit_date": 1535529429, "question_id": 52072309, "link": "https://stackoverflow.com/questions/52072309/create-importable-class-for-pipe-angular-4", "title": "Create importable class for pipe - Angular 4", "body": "<p>I'm trying to develop a pipe for replacing specific keywords with proper strings. In order to have a clean structure for this pipe, I'm trying to store my keywords and string in another file and here's the code:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AdvEnDictionary } from './advertiser-dict/adv-en-dictionary';\nimport { AdvFaDictionary } from './advertiser-dict/adv-fa-dictionary';\n\n@Injectable()\nexport class AdvertiserDictionary {\n    constructor(\n        private advEnDictionary: AdvEnDictionary['words'], \n        private advFaDictionary: AdvFaDictionary['words']\n    ) {}\n\n    getString(keyword:string, lang:string) {\n         switch(lang) {\n            case 'fa':\n                 return this.advFaDictionary[keyword];\n            break;\n            case 'en':\n                 return this.advEnDictionary[keyword];\n            break;\n            default: \n                 return this.advFaDictionary[keyword];\n         }\n    }\n}\n</code></pre>\n\n<p>And the pipe:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { CookieService } from 'ngx-cookie';\nimport { AdvertiserDictionary } from '../classes/advertiser-dictionary';\nimport { PublisherDictionary } from '../classes/publisher-dictionary';\n\n@Pipe({\n  name: 'translation'\n})\nexport class TranslationPipe implements PipeTransform {\n  constructor(private cookieService: CookieService,\n    private advertiserDictionary: AdvertiserDictionary, \n    private publisherDictionary: PublisherDictionary, \n  ) {}\n\n  transform(value: string, args?: any): any {\n    var [prefix, keyword] = value.split(\"-\");\n    var lang = this.cookieService.get(\"lang\");\n    switch(prefix.toLowerCase()) {\n      case 'pub':\n        return this.publisherDictionary.getString(\n          keyword.toUpperCase(),\n          lang\n        );\n      break;\n      case 'adv':\n        return this.advertiserDictionary.getString(\n          keyword.toUpperCase(),\n          lang\n        );\n      break;\n    }\n  }\n\n}\n</code></pre>\n\n<p>And what I keep getting in different scenarios are:</p>\n\n<ul>\n<li>When simply add the class in the pipe I keep getting 'No provider' error for classes</li>\n<li>When I add the class in module providers I get the 'invalid arguments' for the class and also I don't want to have this class in the whole app I just want it to be used in my pipe.</li>\n</ul>\n"}, {"tags": ["angular", "typescript", "double-click-advertising"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1535529525, "post_id": 52072127, "comment_id": 91094314, "body": "Are you getting any errors on the console?"}, {"owner": {"reputation": 23, "user_id": 8966014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2023d1f924895a15923fb7d429c1a752?s=128&d=identicon&r=PG&f=1", "display_name": "M. Maxi", "link": "https://stackoverflow.com/users/8966014/m-maxi"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1535642719, "post_id": 52072127, "comment_id": 91151848, "body": "Blocked a frame with origin &quot;<a href=\"https://googleads.g.doubleclick.net\" rel=\"nofollow noreferrer\">googleads.g.doubleclick.net</a>&quot; from accessing a frame with origin &quot;https://***.de&quot;. Protocols, domains, and ports must match."}], "owner": {"reputation": 23, "user_id": 8966014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2023d1f924895a15923fb7d429c1a752?s=128&d=identicon&r=PG&f=1", "display_name": "M. Maxi", "link": "https://stackoverflow.com/users/8966014/m-maxi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535528637, "creation_date": 1535528637, "question_id": 52072127, "link": "https://stackoverflow.com/questions/52072127/integration-of-admanager-in-angular-4", "title": "Integration of Admanager in Angular 4", "body": "<p>we are currently building a new Angular 4 Web Application. For that we want to integrate Google Addmanager aka Doubleclick for Publisher. This is a tool from Google to spread your own Adds on your own platform. Works pretty easy and gives out 2 HTML Codes in the end which then have to be integrated in the website.</p>\n\n<p>In the  of the page:</p>\n\n<pre><code> &lt;script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'&gt;&lt;/script&gt;\n&lt;script&gt;\n  var googletag = googletag || {};\n  googletag.cmd = googletag.cmd || [];\n&lt;/script&gt;\n\n&lt;script&gt;\n  googletag.cmd.push(function() {\n    googletag.defineSlot('/sfjdxysdef', [300, 250], 'div-gpt-ad-12345678-0').addService(googletag.pubads());\n    googletag.pubads().enableSingleRequest();\n    googletag.enableServices();\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>In the page.component.html:</p>\n\n<pre><code>&lt;div id='div-gpt-ad-12345657879-0' style='height:250px; width:300px;'&gt;\n&lt;script&gt;\ngoogletag.cmd.push(function() { googletag.display('div-gpt-ad-12345657879-0'); });\n&lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I now integrated them. One in the index.html (for the header content) and one in the HTML component of my page where I want to display the add. For some reason it is not working like this in the moment. As the  container where the add should go is just white. Can anybody assist me here? Thanks.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2862, "user_id": 5801495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vW0bo.jpg?s=128&g=1", "display_name": "Buggy", "link": "https://stackoverflow.com/users/5801495/buggy"}, "is_accepted": false, "score": 0, "last_activity_date": 1535529503, "creation_date": 1535529503, "answer_id": 52072378, "question_id": 52071814, "link": "https://stackoverflow.com/questions/52071814/angular-map-template-data-to-other-presentation/52072378#52072378", "title": "Angular: Map template-data to other presentation", "body": "<p>You can try pure <code>pipe</code> that is called only when reference on input was changed and you can store it outside of your component.<br>\nIn your example <code>getVal</code> is called on every Change detection cycle.<br>\nTo sanitize trusted HTML - just create another pipe and chain them.</p>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535529503, "creation_date": 1535527674, "question_id": 52071814, "link": "https://stackoverflow.com/questions/52071814/angular-map-template-data-to-other-presentation", "title": "Angular: Map template-data to other presentation", "body": "<p>I need to show data but also map the values to another presentation (can include HTML-entities).</p>\n\n<p>Here same sample.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-9l1vff\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-9l1vff</a></p>\n\n<p>vals has the data.\ngetVal does the mapping.</p>\n\n<p>Is there a way to do this in the template (without having a big ngIf or creating a component for every special value)? </p>\n\n<p>The mapping is completely view-related and displaying the HTML does not work too (think I would need the HTML-sanizizer but I do not like that idea).</p>\n\n<p>Whats the most efficient strategy here?</p>\n"}, {"tags": ["javascript", "typescript", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 7396, "user_id": 3278822, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/1dSL0.png?s=128&g=1", "display_name": "DDan", "link": "https://stackoverflow.com/users/3278822/ddan"}, "edited": false, "score": 0, "creation_date": 1535529868, "post_id": 52071950, "comment_id": 91094532, "body": "Great! Thank you!"}], "tags": [], "owner": {"reputation": 8011, "user_id": 3049127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ef44fca009f9f18ecaf67b5c53936?s=128&d=identicon&r=PG&f=1", "display_name": "Shilly", "link": "https://stackoverflow.com/users/3049127/shilly"}, "is_accepted": true, "score": 4, "last_activity_date": 1535528067, "creation_date": 1535528067, "answer_id": 52071950, "question_id": 52071779, "link": "https://stackoverflow.com/questions/52071779/select-one-property-from-map-values/52071950#52071950", "title": "Select one property from Map.values()", "body": "<p>You can use <code>Array.from()</code> to turn any iterable into an array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myMap = new Map();\r\n\r\nmyMap.set(\"aaa\", {a: 1, b: 2, c:3});\r\nmyMap.set(\"bbb\", {a: 1, b: 2, c:6});\r\nmyMap.set(\"ccc\", {a: 1, b: 2, c:9});\r\n\r\n// Basic example\r\nlet cs = Array.from( myMap.values() ).map(x =&gt; x.c);\r\n\r\nconsole.log( cs );\r\n\r\n// Array.from also takes a mapping function as the second parameter, so even shorter:\r\n\r\nlet cs_alt = Array.from( myMap.values(), x =&gt; x.c );\r\n\r\nconsole.log( cs_alt );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7396, "user_id": 3278822, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/1dSL0.png?s=128&g=1", "display_name": "DDan", "link": "https://stackoverflow.com/users/3278822/ddan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 52071950, "answer_count": 1, "score": 0, "last_activity_date": 1535528067, "creation_date": 1535527566, "question_id": 52071779, "link": "https://stackoverflow.com/questions/52071779/select-one-property-from-map-values", "title": "Select one property from Map.values()", "body": "<p>I would like to have something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let myMap = new Map&lt;string, any&gt;();\n\nmyMap.set(\"aaa\", {a: 1, b: 2, c:3});\nmyMap.set(\"bbb\", {a: 1, b: 2, c:6});\nmyMap.set(\"ccc\", {a: 1, b: 2, c:9});\n\nlet cs = myMap.values().map(x =&gt; x.c);\n</code></pre>\n\n<p>Selecting the c property from all entries from the map. This is failing with:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Property 'map' does not exist on type 'IterableIterator&lt;any&gt;'.\n</code></pre>\n\n<p>Any elegant solution for this?</p>\n"}, {"tags": ["angular", "typescript", "decorator", "aop"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535526957, "post_id": 52071534, "comment_id": 91092826, "body": "I see, is that going to be an issue to extend the constructor ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535527307, "post_id": 52071534, "comment_id": 91093007, "body": "And it doesn&#39;t seem that your solution is very lint compliant ... My project beign very strict about that, I won&#39;t be able to use it. But thank you for the piece of code, I learnt something out of it, so +1 !"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535532269, "post_id": 52071534, "comment_id": 91096031, "body": "I managed to make it TSLint compliant, is it possible to get the parameters of the initial constructor to add it to the <code>super</code> call ? I tried with <code>constructor.arguments</code> but it throws <code>&#39;caller&#39;, &#39;callee&#39;, and &#39;arguments&#39; properties may not be accessed on strict mode functions or the arguments objects for calls to them</code>"}, {"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1535532724, "post_id": 52071534, "comment_id": 91096322, "body": "@trichetriche You can accept <code>...args</code> in the subclass constructor and call <code>super(...args)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535532798, "post_id": 52071534, "comment_id": 91096365, "body": "but where to get the <code>args</code> ?"}, {"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1535532891, "post_id": 52071534, "comment_id": 91096415, "body": "@trichetriche declare <code>...args</code> as a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Rest_parameters\" rel=\"nofollow noreferrer\">rest parameter</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535532938, "post_id": 52071534, "comment_id": 91096444, "body": "But where ? The only place I can is the new constructor, and it doesn&#39;t have parameters"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535533043, "post_id": 52071534, "comment_id": 91096509, "body": "Oh, you actually can ! didn&#39;t know that. Thank you for all the answers !"}], "tags": [], "owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1535526679, "creation_date": 1535526679, "answer_id": 52071534, "question_id": 52071295, "link": "https://stackoverflow.com/questions/52071295/typescript-custom-decorators-context-of-this/52071534#52071534", "title": "Typescript custom decorators : context of this", "body": "<p>I see you're trying call a method on the instance of decorated class in your decorator. However, class decorators do not work this way. They are called when the class is <em>defined</em>, not when it's instantiated, so you cannot call anything with instances of your class.</p>\n\n<p>Here's your <a href=\"https://stackblitz.com/edit/angular-mh6l6e?file=src/app/hello.component.ts\" rel=\"nofollow noreferrer\">updated stackblitz</a>.  I'm extending your class and calling the method in the constructor of the extended class, so that it is called whenever objects of the decorated class are instantiated.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535527235, "post_id": 52071624, "comment_id": 91092964, "body": "The function name is irrelevant. I saw his piece and learnt decorators from it. What he does is that he adds a wanted behavior to a function. What I want to do is call the said function, not extend it."}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": -1, "last_activity_date": 1535527016, "creation_date": 1535527016, "answer_id": 52071624, "question_id": 52071295, "link": "https://stackoverflow.com/questions/52071295/typescript-custom-decorators-context-of-this/52071624#52071624", "title": "Typescript custom decorators : context of this", "body": "<p>in <a href=\"https://netbasal.com/inspiration-for-custom-decorators-in-angular-95aeb87f072c\" rel=\"nofollow noreferrer\">https://netbasal.com/inspiration-for-custom-decorators-in-angular-95aeb87f072c</a>\nthere are no </p>\n\n<pre><code>constructor.prototype.HelloWord.apply(this, null);\n</code></pre>\n\n<p>just comment the line your app work</p>\n\n<p>the cosntructor.prototype is using to be possible use of ngOnInit, ngOnChanges...</p>\n\n<p>the e.g. show in the page is</p>\n\n<pre><code>import { environment } from \"../environments/environment\";\nexport function NgLog() : ClassDecorator {\n  return function ( constructor : any ) {\n    if( !environment.production ) {\n      // You can add/remove events for your needs\n      const LIFECYCLE_HOOKS = [\n        'ngOnInit',\n        'ngOnChanges',\n        'ngOnDestroy'\n      ];\n      const component = constructor.name;\n\n      LIFECYCLE_HOOKS.forEach(hook =&gt; {\n        const original = constructor.prototype[hook];\n\n        constructor.prototype[hook] = function ( ...args ) {\n          console.log(`%c ${component} - ${hook}`, `color: #4CAF50; font-weight: bold`, ...args);\n          original &amp;&amp; original.apply(this, args);\n        }\n      });\n    }\n\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535529532, "post_id": 52071924, "comment_id": 91094319, "body": "<code>Hello world, name is HelloComponent</code>"}, {"owner": {"reputation": 331, "user_id": 8409699, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5SAmoVefdfo/AAAAAAAAAAI/AAAAAAAAAKw/LmbRaLylGGc/photo.jpg?sz=128", "display_name": "Mahendra Hirapra", "link": "https://stackoverflow.com/users/8409699/mahendra-hirapra"}, "edited": false, "score": 0, "creation_date": 1535534329, "post_id": 52071924, "comment_id": 91097340, "body": "I have updated the code and how it displays <b>Hello world, name is  Angular</b>.Added new constructor()  in stand of constructor"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1535534524, "post_id": 52071924, "comment_id": 91097459, "body": "This would work for a simple class, but by doing that, I lose every memory reference to the previous object because I instantiate a new one. Besides, in the case of services, which are singletons, this means I am breaking the design pattern. But it works and it&#39;s my fault for not specifying those points, so I&#39;ll remove my downvote !"}], "tags": [], "owner": {"reputation": 331, "user_id": 8409699, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5SAmoVefdfo/AAAAAAAAAAI/AAAAAAAAAKw/LmbRaLylGGc/photo.jpg?sz=128", "display_name": "Mahendra Hirapra", "link": "https://stackoverflow.com/users/8409699/mahendra-hirapra"}, "is_accepted": false, "score": 0, "last_activity_date": 1535534218, "last_edit_date": 1535534218, "creation_date": 1535527995, "answer_id": 52071924, "question_id": 52071295, "link": "https://stackoverflow.com/questions/52071295/typescript-custom-decorators-context-of-this/52071924#52071924", "title": "Typescript custom decorators : context of this", "body": "<p>Please try below code it will work. Hear you have only change this to constructor.</p>\n\n<pre><code>function HelloWorld(): ClassDecorator {\n  return function(constructor) {\n    constructor.prototype.HelloWorld.apply(new constructor(), null);\n  };\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1637, "favorite_count": 2, "accepted_answer_id": 52071534, "answer_count": 3, "score": 2, "last_activity_date": 1535534218, "creation_date": 1535525874, "question_id": 52071295, "link": "https://stackoverflow.com/questions/52071295/typescript-custom-decorators-context-of-this", "title": "Typescript custom decorators : context of this", "body": "<p>I am creating a custom decorator that will run decorated functions on RxJS events. </p>\n\n<p>So far so good : my issue comes when the function is actually ran : the context of the <code>this</code> object is lost. </p>\n\n<p>I've been looking for a solution for the past day but I can't seem to find it. </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-uzf1ch?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">Here is a stackblitz</a> reproducing the issue. The goal is to see <code>Angular</code> in the console, coming from <code>this.name</code>. </p>\n"}, {"tags": ["javascript", "jquery", "typescript", "angular5"], "comments": [{"owner": {"reputation": 4725, "user_id": 8808496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSryZ.jpg?s=128&g=1", "display_name": "Felix Lemke", "link": "https://stackoverflow.com/users/8808496/felix-lemke"}, "edited": false, "score": 0, "creation_date": 1535525735, "post_id": 52071232, "comment_id": 91092118, "body": "Link is broken."}, {"owner": {"reputation": 27391, "user_id": 649504, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/314d1eab839627742a4e0dec3445af63?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Kawadkar", "link": "https://stackoverflow.com/users/649504/bhushan-kawadkar"}, "edited": false, "score": 0, "creation_date": 1535526031, "post_id": 52071232, "comment_id": 91092297, "body": "please share relevant html and jquery/javascript you have tried so far"}], "owner": {"reputation": 1, "user_id": 10254920, "user_type": "registered", "profile_image": "https://graph.facebook.com/1856255491101466/picture?type=large", "display_name": "Nikhil Dhawan", "link": "https://stackoverflow.com/users/10254920/nikhil-dhawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535533369, "creation_date": 1535525661, "last_edit_date": 1535533369, "question_id": 52071232, "link": "https://stackoverflow.com/questions/52071232/how-i-can-set-images-and-custom-styles-to-operator-header-title-if-the-json-key", "title": "How I can set images and custom styles to operator header title If the JSON key matches only?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, AfterViewInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\r\nimport { interval } from 'rxjs/observable/interval';\r\n\r\nimport { IChartModel } from './model/flow-data';\r\nimport { HelperService } from '../../core/helper/helper.service';\r\nimport { NgFlowchartService } from './ng-flowchart.service';\r\n\r\ndeclare let $;\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-ng-flowchart',\r\n  templateUrl: './ng-flowchart.component.html',\r\n  styleUrls: ['./ng-flowchart.component.css'],\r\n})\r\nexport class NgFlowchartComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\r\n  @Input('data') flowchartData: IChartModel;\r\n  @Input() event: any;\r\n  \r\n\r\n  currentElement = 'dp_flowchart';\r\n  // operatorId = 2;\r\n  operatorId: string;\r\n  // flowchartData;\r\n  possibleZooms = [0.5, 0.75, 1, 2, 3];\r\n  currentZoom = 2;\r\n  subscribeInterval: any;\r\n\r\n  constructor(\r\n    private helperService: HelperService,\r\n    private ngFlowchartService: NgFlowchartService\r\n  ) { }\r\n\r\n  private autoSaveWorkflow() {\r\n    const $flowchart = $('#' + this.currentElement);\r\n    const source = interval(1000);\r\n    this.subscribeInterval = source.subscribe(val =&gt; {\r\n      const flowchartData = $flowchart.flowchart('getData');\r\n      const currentData = JSON.stringify(flowchartData);\r\n      const previousData = localStorage.getItem('ui.flowchart');\r\n      if (previousData !== currentData) {\r\n        localStorage.setItem('ui.flowchart', currentData);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ngFlowchartService.currentMessage.subscribe(message =&gt; {\r\n      if (message.action &amp;&amp; message.action === 'ng-clear-editor') {\r\n        setTimeout(() =&gt; {\r\n          this.clearEditor();\r\n        }, 100);\r\n      }\r\n    });\r\n  }\r\n\r\n  setFlowchartData(data) {\r\n    const $flowchart = $('#' + this.currentElement);\r\n    $flowchart.flowchart('setData', data);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    // console.log(changes);\r\n    this.dataChanges(changes);\r\n  }\r\n\r\n  private initFlowchartData() {\r\n    if (localStorage.getItem('ui.flowchart')) {\r\n      return JSON.parse(localStorage.getItem('ui.flowchart'));\r\n    } else {\r\n      return this.flowchartData;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() =&gt; {\r\n      this.advanceOption();\r\n      this.autoSaveWorkflow();\r\n    }, 100);\r\n  }\r\n\r\n  private dataChanges(changes) {\r\n    if (changes.hasOwnProperty('event')) {\r\n      if (changes.event.currentValue) {\r\n        if (changes.event.previousValue) {\r\n          /** Have current and previous state */\r\n          const data = {\r\n            curIn: +(changes.event.currentValue.inputCount),\r\n            preIn: +(changes.event.previousValue.inputCount),\r\n            curOut: +(changes.event.currentValue.outputCount),\r\n            preOut: +(changes.event.previousValue.outputCount)\r\n          };\r\n\r\n          if (data.curIn !== data.preIn || data.curOut !== data.preOut) {\r\n            this.addEndPoint(changes.event.currentValue);\r\n          }\r\n        } else {\r\n          /** Have only current state */\r\n          const data = {\r\n            curIn: +(changes.event.currentValue.inputCount),\r\n            curOut: +(changes.event.currentValue.outputCount)\r\n          };\r\n\r\n          if (data.curIn !== 1 || data.curOut !== 1) {\r\n            this.addEndPoint(changes.event.currentValue);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private addEndPoint(endpoint) {\r\n    // console.log(endpoint);\r\n    /**\r\n     * 1. Find the component in the chart data (using unique identifier - type as 'Event')\r\n     * 2. If already +++++input &amp; output endpoints there then create remaining only\r\n     * 3. If input or output count less the previous one and have a connection (link)\r\n     *    associated with the endpoint then popup comfirmation dialog for removing the\r\n     *    desired in/out.\r\n     */\r\n    const $flowchart = $('#' + this.currentElement);\r\n    const flowchartData = $flowchart.flowchart('getData');\r\n\r\n    Object.keys(flowchartData['operators']).forEach((key) =&gt; {\r\n      if (endpoint.eventName === flowchartData.operators[key].type.eventName) {\r\n        let inLen = Object.keys(flowchartData.operators[key].properties.inputs).length;\r\n        let outLen = Object.keys(flowchartData.operators[key].properties.outputs).length;\r\n        const _inLen = +endpoint.inputCount - inLen;\r\n        const _outLen = +endpoint.outputCount - outLen;\r\n\r\n        let loopFlag = false;\r\n        if (_inLen !== 0) {\r\n          loopFlag = true;\r\n          if (_inLen &lt; 0) {\r\n            inLen = inLen + _inLen;\r\n            for (let i = inLen; i &gt; Math.abs(inLen + _inLen); i--) {\r\n              const _key = Object.keys(flowchartData.operators[key].properties.inputs)[i];\r\n              delete flowchartData.operators[key].properties.inputs[_key];\r\n            }\r\n          } else {\r\n            for (let i = (inLen - 1); i &lt; (inLen + _inLen); i++) {\r\n              flowchartData.operators[key].properties.inputs['input_' + i] = {\r\n                label: 'IN_' + (i + 1)\r\n              };\r\n            }\r\n          }\r\n        }\r\n        if (_outLen !== 0) {\r\n          loopFlag = true;\r\n          if (_outLen &lt; 0) {\r\n            outLen = outLen + _outLen;\r\n            for (let i = outLen; i &gt; Math.abs(outLen + _outLen); i--) {\r\n              const _key = Object.keys(flowchartData.operators[key].properties.outputs)[i];\r\n              delete flowchartData.operators[key].properties.outputs[_key];\r\n            }\r\n          } else {\r\n            for (let i = (outLen - 1); i &lt; (outLen + _outLen); i++) {\r\n              flowchartData.operators[key].properties.outputs['output_' + i] = {\r\n                label: 'OUT_' + (i + 1)\r\n              };\r\n            }\r\n          }\r\n        }\r\n\r\n        if (loopFlag) {\r\n          $flowchart.flowchart('setData', flowchartData);\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  private advanceOption() {\r\n    const self = this;\r\n    const $flowchart = $('#' + this.currentElement);\r\n    const $container = $flowchart.parent();\r\n    const cx = $flowchart.width() / 2;\r\n    const cy = $flowchart.height() / 2;\r\n\r\n    // Panzoom initialization...\r\n    $flowchart.panzoom();\r\n    // Centering panzoom\r\n    $flowchart.panzoom('pan', -cx + $container.width() / 2, -cy + $container.height() / 2);\r\n    // Panzoom zoom handling...\r\n    const possibleZooms = [0.5, 0.75, 1, 2, 3];\r\n    let currentZoom = 2;\r\n    $container.on('mousewheel.focal', function (e) {\r\n      e.preventDefault();\r\n      const delta = (e.delta || e.originalEvent.wheelDelta) || e.originalEvent.detail;\r\n      const zoomOut: any = delta ? delta &lt; 0 : e.originalEvent.deltaY &gt; 0;\r\n      currentZoom = Math.max(0, Math.min(possibleZooms.length - 1, (currentZoom + (zoomOut * 2 - 1))));\r\n      $flowchart.flowchart('setPositionRatio', possibleZooms[currentZoom]);\r\n      $flowchart.panzoom('zoom', possibleZooms[currentZoom], {\r\n        animate: false,\r\n        focal: e\r\n      });\r\n    });\r\n\r\n    // Apply the plugin on a standard, empty div...\r\n    $flowchart.flowchart({\r\n      data: this.initFlowchartData(),\r\n      onOperatorCreate: function (operatorId, operatorData, fullElement) {\r\n        // console.log(fullElement);\r\n        // console.log('New operator created. Operator ID: \"' + operatorId + '\", operator title: \"' + operatorData.properties.title + '\".');\r\n        return true;\r\n      },\r\n      onOperatorSelect: function (operatorId, data) {\r\n        self.componentSelect.emit({\r\n          id: operatorId,\r\n          title: $flowchart.flowchart('getOperatorTitle', operatorId),\r\n          data: $flowchart.flowchart('getOperatorData', operatorId)\r\n        });\r\n        return true;\r\n      },\r\n      // Operators Unselected\r\n      onOperatorUnselect: function () {\r\n        self.componentDeSelected.emit({\r\n          action: 'operator-deselected'\r\n        });\r\n        return true;\r\n      },\r\n      onOperatorDelete: function (operatorId) {\r\n        const operatorType = $flowchart.flowchart('getOperatorData', operatorId).type;\r\n        if (operatorType.eventName) {\r\n          /** Once remove event from editor need to enable it again in event panel */\r\n          self.ngFlowchartService.send({\r\n            action: 'ng-event-deleted',\r\n            data: {\r\n              eventName: operatorType.eventName,\r\n              operatorId: operatorId\r\n            }\r\n          });\r\n        }\r\n        return true;\r\n      },\r\n      onLinkDelete: function (linkId, forced) {\r\n        // delete self.flowchartData['links'][linkId];\r\n        // console.log('Link deleted. Link ID: \"' + linkId + '\", link color: \"' + $flowchart.flowchart('getLinkMainColor', linkId) + '\".');\r\n        return true;\r\n      },\r\n      onLinkCreate: function (linkId, linkData) {\r\n        if (self.rule &amp;&amp; self.rule.isEnabled) {\r\n          const fromoprtype = $flowchart.flowchart('getOperatorData', linkData.fromOperator).type;\r\n          const tooprtype = $flowchart.flowchart('getOperatorData', linkData.toOperator).type;\r\n          const rule = self.rule.rules['rule'];\r\n          const firstRule = fromoprtype['type'] || 'Component';\r\n          const secondRule = tooprtype['type'] || 'Component';\r\n          return rule[firstRule + ':' + secondRule];\r\n        }\r\n\r\n        self.flowchartData['links'][linkId] = linkData;\r\n        delete self.flowchartData['links'][linkId]['internal'];\r\n        // console.log('New link created. Link ID: \"' + linkId + '\", link color: \"' + linkData.color + '\".');\r\n        return true;\r\n      },\r\n      onLinkSelect: function (linkId) {\r\n        const flowchartObject = $flowchart.flowchart('getData');\r\n        const linkObject = flowchartObject.links[linkId];\r\n        const fromOperator = flowchartObject.operators[linkObject.fromOperator];\r\n        const toOperator = flowchartObject.operators[linkObject.toOperator];\r\n        const fromType = fromOperator.type.hasOwnProperty('eventName') ? 'Event' : 'Component';\r\n        const toType = toOperator.type.hasOwnProperty('eventName') ? 'Event' : 'Component';\r\n        const title = `Link: ${fromOperator.properties.title} - ${toOperator.properties.title}`;\r\n        self.componentSelect.emit({\r\n          id: linkId,\r\n          title: title,\r\n          data: {\r\n            type: {\r\n              isLink: true,\r\n              data: linkObject,\r\n              linkData: {\r\n                fromOperator: fromOperator.properties.title,\r\n                fromType: fromType,\r\n                toOperator: toOperator.properties.title,\r\n                toType: toType\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        return true;\r\n      }\r\n    });\r\n\r\n    const $draggableOperators = $('.draggable_operator');\r\n\r\n    $draggableOperators.draggable({\r\n      cursor: 'move',\r\n      opacity: 0.7,\r\n      // helper: 'clone',\r\n      appendTo: 'body',\r\n      zIndex: 1000,\r\n      \r\n    });\r\n  }\r\n\r\n  private addNewComponent(event: any) {\r\n    // console.log(event);\r\n    const $flowchart = $('#' + this.currentElement);\r\n    let componentTitle;\r\n    componentTitle = (event.dragData.eventName) ? `${event.dragData.displayName}` : `${event.dragData.name}`;\r\n    this.operatorId = this.helperService.getUniqueId();\r\n    if (event.dragData.eventName) {\r\n      /** Component is an 'event' type */\r\n      const flowchartObject = $flowchart.flowchart('getData');\r\n      const operators = flowchartObject.operators;\r\n      for (let i = 0; i &lt; Object.keys(operators).length; i++) {\r\n        const component = operators[Object.keys(operators)[i]];\r\n        if (event.dragData.eventName === component.type.eventName) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      /** 1. Send operator details back to event panel for disabling the dropped event\r\n       *  2. Once remove event from editor need to enable it again in event panel\r\n       *  2. After rerender pipeline we need to set it again (pending)\r\n       */\r\n      this.ngFlowchartService.send({\r\n        action: 'ng-event-added',\r\n        data: {\r\n          eventName: event.dragData.eventName,\r\n          operatorId: this.operatorId\r\n        }\r\n      });\r\n    }\r\n\r\n    const inputObject = {};\r\n    const outputObject = {};\r\n    if (event.dragData.hasOwnProperty('componentUIMetaData') &amp;&amp; event.dragData.componentUIMetaData.hasOwnProperty('connector')) {\r\n      const iCount = event.dragData.componentUIMetaData.connector.endpoint.in || 0;\r\n      const oCount = event.dragData.componentUIMetaData.connector.endpoint.out || 0;\r\n      for (let i = 0; i &lt; iCount; i++) {\r\n        inputObject['input_' + i] = {\r\n          label: 'IN_' + (i + 1)\r\n        };\r\n      }\r\n      for (let i = 0; i &lt; oCount; i++) {\r\n        outputObject['output_' + i] = {\r\n          label: 'OUT_' + (i + 1)\r\n        };\r\n      }\r\n    }\r\n\r\n    const operatorData = {\r\n      top: event.nativeEvent.offsetY - 20,\r\n      left: event.nativeEvent.offsetX - 20,\r\n      type: event.dragData,\r\n      properties: {\r\n        title: componentTitle,\r\n        inputs: inputObject,\r\n        outputs: outputObject,\r\n      }\r\n    };\r\n\r\n    // this.operatorId++;\r\n    $flowchart.flowchart('createOperator', this.operatorId, operatorData);\r\n\r\n    if (event.dragData.hasOwnProperty('type') &amp;&amp; (event.dragData.type === 'Event')) {\r\n      const cssClass = 'flowchart-operator-title ui-draggable-handle titleClass';\r\n      event.nativeEvent.currentTarget.childNodes[1].lastChild.children[0].classList.value = cssClass;\r\n    }\r\n  }\r\n\r\n  onComponentDrop(event: any) {\r\n    // console.log(event);\r\n    this.addNewComponent(event);\r\n  }\r\n\r\n  deleteSelected() {\r\n    const $flowchart = $('#' + this.currentElement);\r\n    $flowchart.flowchart('deleteSelected');\r\n  }\r\n\r\n  getFlowchartData() {\r\n    const $flowchart = $('#' + this.currentElement);\r\n    return $flowchart.flowchart('getData');\r\n  }\r\n\r\n \r\n  ngOnDestroy() {\r\n    if (this.subscribeInterval) {\r\n      this.subscribeInterval.unsubscribe();\r\n    }\r\n  }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"flowchart-example\"&gt;\r\n  &lt;div id=\"chart_container\"&gt;\r\n    &lt;div class=\"zoom-panel-container\"&gt;\r\n    \r\n     \r\n    &lt;/div&gt;\r\n    &lt;div class=\"flowchart-example-container\" id=\"dp_flowchart\" droppable [dropScope]=\"'component'\" (onDrop)=\"onComponentDrop($event)\"&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p><a href=\"https://github.com/sdrdis/jquery.flowchart\" rel=\"nofollow noreferrer\">https://github.com/sdrdis/jquery.flowchart</a>  enter link description here\nI am trying to add custom styles on operator header title to change the color it using jquery/JS but the issue is styles is coming to every operator while dragging.\nI have to add custom styles on this class: \"flowchart-operator-title ui-draggable-handle\"\nMy requirement:\nAdd Custom styles if the JSON key matches only as well as  add images only if condition matches. Can you please help?\nHere inside code i am using function addNewComponent which i am used for drag and drop</p>\n"}, {"tags": ["angular", "typescript", "angular-httpclient", "angular4-httpclient"], "comments": [{"owner": {"reputation": 383, "user_id": 8337391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4AvKTiRK-sg/AAAAAAAAAAI/AAAAAAAAApE/UjC1MAlqOwk/photo.jpg?sz=128", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8337391/ipaul"}, "edited": false, "score": 1, "creation_date": 1535525148, "post_id": 52070633, "comment_id": 91091806, "body": "This may help you: <a href=\"https://www.quora.com/How-can-I-wait-until-my-http-request-finishes-in-Angular-2-4-or-5-so-that-I-dont-get-undefined-back\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a>"}, {"owner": {"reputation": 643, "user_id": 2429632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/C30C6.jpg?s=128&g=1", "display_name": "Kunal Kakkad", "link": "https://stackoverflow.com/users/2429632/kunal-kakkad"}, "edited": false, "score": 0, "creation_date": 1542972163, "post_id": 52070633, "comment_id": 93764274, "body": "@SamCodes: Have you found any solution for it? As I am also facing the same issue."}], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 5259019, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2d81c34287b16028972be98785e19c40?s=128&d=identicon&r=PG&f=1", "display_name": "SamCodes", "link": "https://stackoverflow.com/users/5259019/samcodes"}, "edited": false, "score": 0, "creation_date": 1535536862, "post_id": 52070797, "comment_id": 91098955, "body": "Thanks for correcting me. I&#39;d like to use this data in <code>response</code>. So I have used a global var <code>this.description = response;</code> after the loop completion. The calling function of <code>sendAll()</code>  will use the values. But I faced the issue: even the response is not filled with all the data it tries to execute those next line of codes. So, how to make it wait until the all the records are fetched."}, {"owner": {"reputation": 1064, "user_id": 7448025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b840f3fdf13febcfcee463d6dec039c9?s=128&d=identicon&r=PG", "display_name": "Moein Hosseini", "link": "https://stackoverflow.com/users/7448025/moein-hosseini"}, "reply_to_user": {"reputation": 334, "user_id": 5259019, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2d81c34287b16028972be98785e19c40?s=128&d=identicon&r=PG&f=1", "display_name": "SamCodes", "link": "https://stackoverflow.com/users/5259019/samcodes"}, "edited": false, "score": 0, "creation_date": 1535539714, "post_id": 52070797, "comment_id": 91100747, "body": "After the loop, you should have all the data in response. If you are not sure, put a console.log in the loop (before request) and put another one after the loop it shows you when and which code is executed."}], "tags": [], "owner": {"reputation": 1064, "user_id": 7448025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b840f3fdf13febcfcee463d6dec039c9?s=128&d=identicon&r=PG", "display_name": "Moein Hosseini", "link": "https://stackoverflow.com/users/7448025/moein-hosseini"}, "is_accepted": true, "score": 2, "last_activity_date": 1535524004, "creation_date": 1535524004, "answer_id": 52070797, "question_id": 52070633, "link": "https://stackoverflow.com/questions/52070633/how-to-wait-and-get-response-for-each-httpclient-service-call-from-a-loop-in-ang/52070797#52070797", "title": "How to wait and get response for each HttpClient service call from a loop in Angular 4", "body": "<p>the solution is to convert observable to promise but not using then!</p>\n\n<p>Example: </p>\n\n<p>This is your service function that sends the request:</p>\n\n<pre><code>myRequest(num) {\n   return this.http.get('http://someUrl.com/' + num).toPromise(); \n}\n</code></pre>\n\n<p>This is the function to send all requests in a component class:</p>\n\n<pre><code> async sendAll() {\n    let response = [];\n    for(let i = 0; i &lt; 5; i++) {\n        response[i] = await this.myService.myRequest();\n    }\n  // Got all the results!\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 334, "user_id": 5259019, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2d81c34287b16028972be98785e19c40?s=128&d=identicon&r=PG&f=1", "display_name": "SamCodes", "link": "https://stackoverflow.com/users/5259019/samcodes"}, "edited": false, "score": 0, "creation_date": 1535525133, "post_id": 52070948, "comment_id": 91091799, "body": "I have tried this before posting this question, but not working."}, {"owner": {"reputation": 331, "user_id": 8409699, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5SAmoVefdfo/AAAAAAAAAAI/AAAAAAAAAKw/LmbRaLylGGc/photo.jpg?sz=128", "display_name": "Mahendra Hirapra", "link": "https://stackoverflow.com/users/8409699/mahendra-hirapra"}, "reply_to_user": {"reputation": 334, "user_id": 5259019, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2d81c34287b16028972be98785e19c40?s=128&d=identicon&r=PG&f=1", "display_name": "SamCodes", "link": "https://stackoverflow.com/users/5259019/samcodes"}, "edited": false, "score": 0, "creation_date": 1535526378, "post_id": 52070948, "comment_id": 91092485, "body": "I have forgot to add return in fetchDescription method. Could you please try it agin ?"}], "tags": [], "owner": {"reputation": 331, "user_id": 8409699, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5SAmoVefdfo/AAAAAAAAAAI/AAAAAAAAAKw/LmbRaLylGGc/photo.jpg?sz=128", "display_name": "Mahendra Hirapra", "link": "https://stackoverflow.com/users/8409699/mahendra-hirapra"}, "is_accepted": false, "score": 0, "last_activity_date": 1535526327, "last_edit_date": 1535526327, "creation_date": 1535524528, "answer_id": 52070948, "question_id": 52070633, "link": "https://stackoverflow.com/questions/52070633/how-to-wait-and-get-response-for-each-httpclient-service-call-from-a-loop-in-ang/52070948#52070948", "title": "How to wait and get response for each HttpClient service call from a loop in Angular 4", "body": "<p>Solution:</p>\n\n<p>Function Body: </p>\n\n<pre><code>fetchDescription(elementToFetchDesc):  Observable&lt;string&gt; {\n\n  //Declaring HTTPPARAMS in PassingParams variable\n\n  return this.componentService.getDesc(PassingParams)\n      .map((response: HttpResponse&lt;any&gt;) =&gt; {\n          if(response.status ==200){\n             return reponse.body.output.slice(6,-1);\n          }\n       });\n     }\n  }\n</code></pre>\n\n<p>Call: </p>\n\n<pre><code>this.fetchDescription(element).subscribe((description: string) =&gt; {\n   ITEM_ID : element.id,\n   ITEM_DEF : description\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 584, "user_id": 6470337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1aecdfbfc42e2a7bca42ff5f4c1072?s=128&d=identicon&r=PG&f=1", "display_name": "Kushagra Saxena", "link": "https://stackoverflow.com/users/6470337/kushagra-saxena"}, "is_accepted": false, "score": 0, "last_activity_date": 1536736046, "creation_date": 1536736046, "answer_id": 52289351, "question_id": 52070633, "link": "https://stackoverflow.com/questions/52070633/how-to-wait-and-get-response-for-each-httpclient-service-call-from-a-loop-in-ang/52289351#52289351", "title": "How to wait and get response for each HttpClient service call from a loop in Angular 4", "body": "<p>For this you should use <strong>rxjs</strong>.</p>\n\n<pre><code>checkStatus(url: string, id: string): Observable&lt;string&gt; {\nconst trigger$ = new Subject&lt;string&gt;();\nconst time = Date.now();\n\nreturn trigger$.asObservable().startWith(url).concatMap((u) =&gt; {\n  return this.ping(u).map(() =&gt; {\n    trigger$.complete();\n\n    return id;\n  }).catch((err) =&gt; {\n      trigger$.next(u);\n\n    return Observable.empty&lt;any&gt;();\n  });\n});\n}\n\n\nprotected ping(url: string): Observable&lt;any&gt; {\nreturn this.http.get(url)\n  .catch(err =&gt; Observable.throw(err));\n}\n</code></pre>\n\n<p>Here the <strong>concatMap</strong> operator will fire the next observable only if the first one is complete i.e the response of first API call is available. Whenever you call the method <code>complete()</code> on the <strong>trigger$</strong> subject it will complete the observable and the API calls. You might have to change the logic of calling <code>complete()</code>.</p>\n"}], "owner": {"reputation": 334, "user_id": 5259019, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2d81c34287b16028972be98785e19c40?s=128&d=identicon&r=PG&f=1", "display_name": "SamCodes", "link": "https://stackoverflow.com/users/5259019/samcodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5610, "favorite_count": 0, "accepted_answer_id": 52070797, "answer_count": 3, "score": 1, "last_activity_date": 1536736046, "creation_date": 1535523376, "question_id": 52070633, "link": "https://stackoverflow.com/questions/52070633/how-to-wait-and-get-response-for-each-httpclient-service-call-from-a-loop-in-ang", "title": "How to wait and get response for each HttpClient service call from a loop in Angular 4", "body": "<p>I have a situation where I need to run a loop and fetch respective items' <strong><em>description</em></strong>. Then along with the item Ids and other information I have to include the fetched <strong><em>description</em></strong> in a datatable.</p>\n\n<pre><code>addDescription(){\nthis.arrayOfItems.forEach(element =&gt; {\n\n   // CALL a function which will make a service call\n   this.fetchDescription(element);\n\n   //CODE TO DECLARE AN INTERFACE TO ASSIGN RESPECTIVE VALUES. eg.\n\n   // ITEM_ID : element.id,\n   // ITEM_DEF : this.fetchedDescription.join(\"\\n\")\n}\n</code></pre>\n\n<p>Function body:</p>\n\n<pre><code>fetchDescription(elementToFetchDesc){\n\n //Declaring HTTPPARAMS in PassingParams variable\n\n this.componentService.getDesc(PassingParams)\n         .subscribe((response: HttpResponse&lt;any&gt;) =&gt; {\n                if(response.status ==200){\n                    this.fetchedDescription = reponse.body.output.slice(6,-1);\n                }\n                //Code if response status is NOT 200\n}\n</code></pre>\n\n<p>In <code>componentService</code> Service:</p>\n\n<pre><code>construcutor(private httpConn: HttpClient){}\n\ngetDesc(Params){\n    // Declare URL\n    return this.httpConn.get(URL, {params: Params, observe: 'response'});\n}\n</code></pre>\n\n<p>The <strong>problem</strong>:</p>\n\n<p>As it's running in a loop and the subscription is an async call, so, after running the loop in <code>forEach</code> it's coming out. As a result the <strong><em>description</em></strong> is not getting assigned to the variable (<code>ITEM_DEF</code>) in the interface.</p>\n\n<p>To solve this issue I implemented a little change to use <code>promise</code>.\nIn service I added:</p>\n\n<pre><code> import 'rxjs/add/operator/toPromise';\n</code></pre>\n\n<p>And updated the service method as:</p>\n\n<pre><code> return this.httpConn.get(URL, {params: Params, observe: 'response'})\n                     .toPromise();    // converted observable into promise\n</code></pre>\n\n<p>Also changed in component:\nInside <code>fetchDescription</code> function:</p>\n\n<p>replaced <code>.subscribe</code> as <code>.then</code></p>\n\n<p>But the issue still persists. Please let me know where I'm doing wrong to implement this logic.</p>\n"}, {"tags": ["mysql", "sql", "node.js", "typescript", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "is_accepted": true, "score": 6, "last_activity_date": 1535525928, "creation_date": 1535525928, "answer_id": 52071317, "question_id": 52070388, "link": "https://stackoverflow.com/questions/52070388/how-to-use-or-option-in-typescript-sequelize-with-node-js/52071317#52071317", "title": "How to use &#39;or&#39; option in typescript-sequelize with node.js?", "body": "<p>First you have to import the <code>Op</code>:</p>\n\n<pre><code>import {Op} from \"sequelize\";\n</code></pre>\n\n<p>Then create your where clause like this:</p>\n\n<pre><code>findOne({where: {\n  value_to_find: {\n    [Op.or]: {\n      [Op.eq]: something,\n      [Op.eq]: something2\n    }\n  }\n}})\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 7350029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6dXjwl9DJ0Y/AAAAAAAAAAI/AAAAAAAACOQ/9pnFRmmbOZs/photo.jpg?sz=128", "display_name": "June Lee", "link": "https://stackoverflow.com/users/7350029/june-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 0, "accepted_answer_id": 52071317, "answer_count": 1, "score": 0, "last_activity_date": 1535525928, "creation_date": 1535522231, "last_edit_date": 1535522369, "question_id": 52070388, "link": "https://stackoverflow.com/questions/52070388/how-to-use-or-option-in-typescript-sequelize-with-node-js", "title": "How to use &#39;or&#39; option in typescript-sequelize with node.js?", "body": "<p>I use <a href=\"https://github.com/RobinBuschmann/sequelize-typescript\" rel=\"nofollow noreferrer\">typescript-sequelize</a></p>\n\n<p>how to use <code>findOne({where: {something or something2}});</code>\nI read doc, I can't understand\nhelp me</p>\n"}, {"tags": ["javascript", "typescript", "structure", "typescript3.0"], "comments": [{"owner": {"reputation": 1092, "user_id": 594992, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/774a1826eee03008df27401f7c0cbed5?s=128&d=identicon&r=PG", "display_name": "ton", "link": "https://stackoverflow.com/users/594992/ton"}, "edited": false, "score": 0, "creation_date": 1535521746, "post_id": 52070141, "comment_id": 91090292, "body": "Can you also post your tsconfig"}], "answers": [{"comments": [{"owner": {"reputation": 2326, "user_id": 75239, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c5ae818e7555d41886c33fdfdf89e66f?s=128&d=identicon&r=PG", "display_name": "sangupta", "link": "https://stackoverflow.com/users/75239/sangupta"}, "edited": false, "score": 0, "creation_date": 1535522293, "post_id": 52070185, "comment_id": 91090493, "body": "Thanks @basarat for the quick reply. From early reading, this is exactly what I was looking for."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1535521385, "creation_date": 1535521385, "answer_id": 52070185, "question_id": 52070141, "link": "https://stackoverflow.com/questions/52070141/how-to-structure-typescript-library-with-demo-site-as-one-single-project/52070185#52070185", "title": "How to structure Typescript library with demo site as one single project", "body": "<blockquote>\n  <p>I have tried using TypeScript 3.0 project references but that have not yet helped. Need suggestions on best way to structure this project.</p>\n</blockquote>\n\n<p>I would do it as: </p>\n\n<pre><code>project\n +-- package.json\n +-- tsconfig.json\n +-- src\n   +-- index.ts // library entry \n   +-- demo // Demo folder\n   +-- anythingElseNeededByIndex // Folder for more lib stuff\n</code></pre>\n\n<h1>Examples</h1>\n\n<ul>\n<li><a href=\"https://github.com/basarat/takeme\" rel=\"nofollow noreferrer\">https://github.com/basarat/takeme</a></li>\n<li><a href=\"https://github.com/formstate/formstate\" rel=\"nofollow noreferrer\">https://github.com/formstate/formstate</a></li>\n</ul>\n"}], "owner": {"reputation": 2326, "user_id": 75239, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c5ae818e7555d41886c33fdfdf89e66f?s=128&d=identicon&r=PG", "display_name": "sangupta", "link": "https://stackoverflow.com/users/75239/sangupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 52070185, "answer_count": 1, "score": 2, "last_activity_date": 1535521385, "creation_date": 1535521134, "question_id": 52070141, "link": "https://stackoverflow.com/questions/52070141/how-to-structure-typescript-library-with-demo-site-as-one-single-project", "title": "How to structure Typescript library with demo site as one single project", "body": "<p>I am looking to build a JavaScript library as <strong>mylib</strong> that provides a specific functionality. The library is in pure JavaScript and is meant to be used in browser. I am also building a demo site that depends on this library.</p>\n\n<p>How do I structure this TypeScript project? My current structure is:</p>\n\n<pre><code>src\n +-- package.json\n +-- tsconfig.json\n +-- library\n   +-- Library.ts\n   +-- sub/Library-Dependency-1.ts\n   +-- sub/Library-Dependency-2.ts\n +-- demo\n   +-- index.html\n   +-- DemoPage.ts\n   +-- mods/Demo-page-dep-1.ts\n   +-- mods/Demo-page-dep-2.ts\n</code></pre>\n\n<p><strong>index.html</strong> should ideally load both (compiled bundles) <code>mylib.js</code> and <code>demo-page.js</code></p>\n\n<p>I am getting errors in import statements in <strong>DemoPage.ts</strong></p>\n\n<pre><code>// none of the following import statements work\nimport MyLib from 'mylib';\n\nimport MyLib from './../library/Library';\n</code></pre>\n\n<p>I have tried using TypeScript 3.0 project references but that have not yet helped. Need suggestions on best way to structure this project.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1535520722, "post_id": 52069973, "comment_id": 91089928, "body": "Add your <b>cards</b> component with typescript code??"}, {"owner": {"reputation": 198, "user_id": 2815061, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1231380607/picture?type=large", "display_name": "Akshay Dusane", "link": "https://stackoverflow.com/users/2815061/akshay-dusane"}, "reply_to_user": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1535521563, "post_id": 52069973, "comment_id": 91090232, "body": "Added card components with *ngFor"}, {"owner": {"reputation": 198, "user_id": 2815061, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1231380607/picture?type=large", "display_name": "Akshay Dusane", "link": "https://stackoverflow.com/users/2815061/akshay-dusane"}, "reply_to_user": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1535523296, "post_id": 52069973, "comment_id": 91090937, "body": "Is the enter key thing is doable ?"}, {"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1535526304, "post_id": 52069973, "comment_id": 91092439, "body": "I have posted an answer please check below"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1535520566, "creation_date": 1535520566, "answer_id": 52070039, "question_id": 52069973, "link": "https://stackoverflow.com/questions/52069973/trigger-click-event-of-button-whose-nearest-textbox-is-focused/52070039#52070039", "title": "Trigger click event of button whose nearest textbox is focused", "body": "<blockquote>\n  <p>also I am struggling in clearing the contents in the text box of the card selected.</p>\n</blockquote>\n\n<p>Since you haven't provided any code here is some that will work: </p>\n\n<ul>\n<li>Given the input has some identifier e.g. <code>id</code> attribute <code>me</code>, the following code clears the <code>before</code> value from the input</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('me').value = ''; // clear value</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input value=\"before\" id=\"me\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 198, "user_id": 2815061, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1231380607/picture?type=large", "display_name": "Akshay Dusane", "link": "https://stackoverflow.com/users/2815061/akshay-dusane"}, "edited": false, "score": 0, "creation_date": 1535616416, "post_id": 52070684, "comment_id": 91134007, "body": "Thank you for your answer. I tried this. But its not working in my case. Actually when I am clicking button and logging this.txtbidamount.toArray() in console. I am getting all the 3 textbox whereas in fiddle that you provided only one textbox element is displayed and that&#39;s why you are able to clear the textbox"}, {"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "reply_to_user": {"reputation": 198, "user_id": 2815061, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1231380607/picture?type=large", "display_name": "Akshay Dusane", "link": "https://stackoverflow.com/users/2815061/akshay-dusane"}, "edited": false, "score": 0, "creation_date": 1535616839, "post_id": 52070684, "comment_id": 91134250, "body": "can you create a stackblitz where you got three textbox"}, {"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "reply_to_user": {"reputation": 198, "user_id": 2815061, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1231380607/picture?type=large", "display_name": "Akshay Dusane", "link": "https://stackoverflow.com/users/2815061/akshay-dusane"}, "edited": false, "score": 0, "creation_date": 1535633878, "post_id": 52070684, "comment_id": 91145612, "body": "@AkshayDusane here you have pass index to that function to retrieve specific html dom??"}, {"owner": {"reputation": 198, "user_id": 2815061, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1231380607/picture?type=large", "display_name": "Akshay Dusane", "link": "https://stackoverflow.com/users/2815061/akshay-dusane"}, "edited": false, "score": 0, "creation_date": 1535639522, "post_id": 52070684, "comment_id": 91149695, "body": "Thank you so much. That was a good workaround. But now I want to trigger click event of the button of that card whose text box is focused by &quot;Enter Key&quot;."}], "tags": [], "owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "is_accepted": true, "score": 1, "last_activity_date": 1535634381, "last_edit_date": 1535634381, "creation_date": 1535523566, "answer_id": 52070684, "question_id": 52069973, "link": "https://stackoverflow.com/questions/52069973/trigger-click-event-of-button-whose-nearest-textbox-is-focused/52070684#52070684", "title": "Trigger click event of button whose nearest textbox is focused", "body": "<p>Since your code generates multiple components, you should probably use '<strong>ViewChildren</strong>' and '<strong>QueryList</strong>' rather than the singular '<strong>ViewChild</strong>'.</p>\n\n<p>So write in card component using this: </p>\n\n<pre><code>@ViewChildren('bidamount') inputBidAmount: QueryList&lt;ElementRef&gt;;\ngetClickAmount(index, item) {\n    console.log(index,this.inputBidAmount.toArray()[index])\n    console.log(this.inputBidAmount.toArray()[index])\n}\n</code></pre>\n\n<p>In Html:</p>\n\n<pre><code>&lt;div *ngFor=\"let item of items; let i =index\"&gt;\n   &lt;input type=\"text\" id=\"{{'txt'+ item.id}}\" #bidamount/&gt;\n   &lt;button (click)=\"getClickAmount(i, item)\"&gt;Bid&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>UPDATED Stackblitz</strong>\n <a href=\"https://stackblitz.com/edit/angular-mhb7yo?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">Trigger click event of button whose nearest textbox is focused</a></p>\n\n<p>Hope this help you!!</p>\n"}], "owner": {"reputation": 198, "user_id": 2815061, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1231380607/picture?type=large", "display_name": "Akshay Dusane", "link": "https://stackoverflow.com/users/2815061/akshay-dusane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 52070684, "answer_count": 2, "score": 2, "last_activity_date": 1535634381, "creation_date": 1535520182, "last_edit_date": 1535521704, "question_id": 52069973, "link": "https://stackoverflow.com/questions/52069973/trigger-click-event-of-button-whose-nearest-textbox-is-focused", "title": "Trigger click event of button whose nearest textbox is focused", "body": "<p>I have dynamic cards in the view. There is a text box on each card and a button next to it. I want to trigger click event of the button of that card whose text box is focused by \"Enter Key\". The cards shown in the picture. Also I am struggling in clearing the contents in the text box of the card selected.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fbyPk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fbyPk.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I tried clearing contents of textbox using ViewChild</p>\n\n<pre><code>@ViewChild('bidamount') txtbidamount: ElementRef;\n\nthis.txtbidamount.nativeElement.value = '';\n</code></pre>\n\n<p>But with this approach only the textbox of the first card gets cleared.</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1535519725, "post_id": 52069842, "comment_id": 91089545, "body": "new a instance of header in part service then call the postValues method of it."}, {"owner": {"reputation": 157, "user_id": 7827646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QbLPygq2eFE/AAAAAAAAAAI/AAAAAAAAAHg/Sp00W96BsMI/photo.jpg?sz=128", "display_name": "sneha mahalank", "link": "https://stackoverflow.com/users/7827646/sneha-mahalank"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1535520087, "post_id": 52069842, "comment_id": 91089687, "body": "sorry I didn&#39;t get you..How to do that"}, {"owner": {"reputation": 730, "user_id": 10636628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2cc5a31034c216ec5c582293980414?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10636628/anonymous"}, "edited": false, "score": 0, "creation_date": 1571845214, "post_id": 52069842, "comment_id": 103377468, "body": "Refer this <a href=\"https://stackoverflow.com/questions/54784980/angular-7-communication-through-service-subscribe-method-called-twice\" title=\"angular 7 communication through service subscribe method called twice\">stackoverflow.com/questions/54784980/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1183, "user_id": 5165692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_SLVV6ux6MM/AAAAAAAAAAI/AAAAAAAAE-4/fytuA2A9F4Y/photo.jpg?sz=128", "display_name": "Ashish Kadam", "link": "https://stackoverflow.com/users/5165692/ashish-kadam"}, "is_accepted": true, "score": 2, "last_activity_date": 1535523530, "creation_date": 1535523530, "answer_id": 52070673, "question_id": 52069842, "link": "https://stackoverflow.com/questions/52069842/ngif-expression-has-changed-after-it-was-checked-previous-value-ngif-false/52070673#52070673", "title": "ngIf- Expression has changed after it was checked. Previous value: &#39;ngIf: false&#39;. Current value: &#39;ngIf: true&#39;", "body": "<p>It's not possible to trigger a sibling component method directly, but there is a way to trigger sibling component event using <strong><code>import { BehaviorSubject } from 'rxjs';</code></strong></p>\n\n<p><strong>I use this approach to pass data to sibling component but it's work as well if you trigger event.</strong></p>\n\n<p>First You Create Service, Service that I call it <strong><code>DataService.ts</code></strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable()\nexport class DataService {\n\n  private triggerEventMsg = new BehaviorSubject(false);\n  triggerEvent = this.triggerEventMsg.asObservable();\n\n  constructor() { }\n\n  triggerEvent(val: boolean) {\n    this.messageSource.next(message)\n  }\n\n}\n</code></pre>\n\n<p>Now One Component Trigger another Component, For now, Com1 trigger Com2 event.</p>\n\n<p>Com1 trigger DataService triggerEvent with pass boolean value.</p>\n\n<p><strong><code>Com1.component.ts</code></strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from \"../data.service\";\n\n@Component({\n  selector: 'app-com1',\n  template: `\n    {{message}}\n    &lt;button (click)=\"newMessage()\"&gt;New Message&lt;/button&gt;\n  `\n})\nexport class Com1 implements OnInit {\n\n  constructor(private data: DataService) { }\n\n  ngOnInit() {\n\n  }\n\n com1ClickEvent() {\n    this.data.triggerEvent(true);\n  }\n\n}\n</code></pre>\n\n<p>Com2 Observe that variable when data change the method trigger in Com2 Component.</p>\n\n<p><strong><code>Com2.component.ts</code></strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from \"../data.service\";\n\n@Component({\n  selector: 'app-com2',\n  template: `\n    &lt;p&gt;Com2&lt;/p&gt;\n  `\n})\nexport class Com2 implements OnInit {\n\n\n\n  constructor(private data: DataService) { }\n\n  ngOnInit() {\n    this.data.triggerEventMsg.subscribe(message =&gt; {\n        // Do What ever you want.\n\n     })\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 730, "user_id": 10636628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2cc5a31034c216ec5c582293980414?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10636628/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1571845427, "creation_date": 1571845427, "answer_id": 58526587, "question_id": 52069842, "link": "https://stackoverflow.com/questions/52069842/ngif-expression-has-changed-after-it-was-checked-previous-value-ngif-false/58526587#58526587", "title": "ngIf- Expression has changed after it was checked. Previous value: &#39;ngIf: false&#39;. Current value: &#39;ngIf: true&#39;", "body": "<p>communicate to component which are not parent-child. So I'm communicating it through service</p>\n\n<p>service.ts  </p>\n\n<pre><code>value=false; \nsearch: EventEmitter &lt; boolean &gt; = new EventEmitter();\ntoggle() {\n   this.value = !this.value;\n   this.search.emit(this.value);\n}\n</code></pre>\n\n<p>search.ts</p>\n\n<pre><code>submit():void{\n  this.service.toggle();\n}\n</code></pre>\n\n<p>Home.ts</p>\n\n<pre><code>ngOnInit() {    \n   this.service.change.subscribe(value =&gt; {\n           //some code here\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 8166488, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VG9L6_8myk0/AAAAAAAAAAI/AAAAAAAAHFU/ULaJiTtkWVs/photo.jpg?sz=128", "display_name": "Anish Kutti", "link": "https://stackoverflow.com/users/8166488/anish-kutti"}, "is_accepted": false, "score": -1, "last_activity_date": 1574434421, "creation_date": 1574434421, "answer_id": 58996727, "question_id": 52069842, "link": "https://stackoverflow.com/questions/52069842/ngif-expression-has-changed-after-it-was-checked-previous-value-ngif-false/58996727#58996727", "title": "ngIf- Expression has changed after it was checked. Previous value: &#39;ngIf: false&#39;. Current value: &#39;ngIf: true&#39;", "body": "<p>Another alternative is to add the api call between following</p>\n\n<p>setTimeout(() => {</p>\n\n<p>//api call goes here</p>\n\n<p>}, 1000);</p>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 2931256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/U2vsx.jpg?s=128&g=1", "display_name": "Mohammad Hassani", "link": "https://stackoverflow.com/users/2931256/mohammad-hassani"}, "is_accepted": false, "score": 1, "last_activity_date": 1588241231, "creation_date": 1588241231, "answer_id": 61520895, "question_id": 52069842, "link": "https://stackoverflow.com/questions/52069842/ngif-expression-has-changed-after-it-was-checked-previous-value-ngif-false/61520895#61520895", "title": "ngIf- Expression has changed after it was checked. Previous value: &#39;ngIf: false&#39;. Current value: &#39;ngIf: true&#39;", "body": "<p>My solution is to use</p>\n\n<pre><code>    ngAfterViewChecked(){\n      this.cdRef.detectChanges();\n    }\n</code></pre>\n\n<p>in the component that you get the error</p>\n"}], "owner": {"reputation": 157, "user_id": 7827646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QbLPygq2eFE/AAAAAAAAAAI/AAAAAAAAAHg/Sp00W96BsMI/photo.jpg?sz=128", "display_name": "sneha mahalank", "link": "https://stackoverflow.com/users/7827646/sneha-mahalank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25255, "favorite_count": 1, "accepted_answer_id": 52070673, "answer_count": 4, "score": 3, "last_activity_date": 1588241231, "creation_date": 1535519443, "last_edit_date": 1571843248, "question_id": 52069842, "link": "https://stackoverflow.com/questions/52069842/ngif-expression-has-changed-after-it-was-checked-previous-value-ngif-false", "title": "ngIf- Expression has changed after it was checked. Previous value: &#39;ngIf: false&#39;. Current value: &#39;ngIf: true&#39;", "body": "<p>How to call method from one component to another when it has no parent child relation?</p>\n\n<p>I have 2 sibling components and as below:</p>\n\n<p>header.ts</p>\n\n<pre><code>private postValues() {\n   this._PartService.PostDataValues(this.search)\n       .subscribe(result =&gt; {\n       })\n}\n</code></pre>\n\n<p>part.ts</p>\n\n<pre><code>this._PartService.getMasterData()\n    .subscribe(result =&gt; {\n    })\n</code></pre>\n\n<p>In this case I need to call <code>postValues()</code> method into <code>getMasterData()</code> to get some description values, and it has no parent and child communication.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 85, "last_activity_date": 1535519482, "creation_date": 1535519482, "answer_id": 52069852, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6/52069852#52069852", "title": "How to get the current year using typescript in angular6", "body": "<p>Try,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> alert((new Date()).getFullYear());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1306, "user_id": 5695833, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-nTvuC7ovkJU/AAAAAAAAAAI/AAAAAAAAH-c/CgkOzqPXdkY/photo.jpg?sz=128", "display_name": "Hypenate", "link": "https://stackoverflow.com/users/5695833/hypenate"}, "edited": false, "score": 0, "creation_date": 1549966144, "post_id": 52069923, "comment_id": 96086297, "body": "You are setting the year yourself and then retrieving it."}], "tags": [], "owner": {"reputation": 144, "user_id": 3218785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c3b9b99b10ea8012dd956005d1f395?s=128&d=identicon&r=PG&f=1", "display_name": "RAJA", "link": "https://stackoverflow.com/users/3218785/raja"}, "is_accepted": false, "score": 0, "last_activity_date": 1535519857, "creation_date": 1535519857, "answer_id": 52069923, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6/52069923#52069923", "title": "How to get the current year using typescript in angular6", "body": "<p>In javascript, we can get the year from date object using <code>getFullYear()</code>.</p>\n\n<pre><code>currentYear: Date;\nngOnInit() {\n  this.currentYear = new Date(\"2017\");\n  console.log(this.currentYear.getFullYear());\n}\n</code></pre>\n\n<p>Refer this page for all date object <a href=\"https://www.w3schools.com/js/js_date_methods.asp\" rel=\"nofollow noreferrer\">methods</a></p>\n"}, {"comments": [{"owner": {"reputation": 435, "user_id": 3163298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MGlXt.jpg?s=128&g=1", "display_name": "funsholaniyi", "link": "https://stackoverflow.com/users/3163298/funsholaniyi"}, "edited": false, "score": 2, "creation_date": 1564287131, "post_id": 54113103, "comment_id": 100977520, "body": "this is an overkill"}], "tags": [], "owner": {"reputation": 47, "user_id": 10007091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940f3c5e59ad6cf943e2f46750ca786?s=128&d=identicon&r=PG&f=1", "display_name": "Kenyfrank", "link": "https://stackoverflow.com/users/10007091/kenyfrank"}, "is_accepted": false, "score": 3, "last_activity_date": 1547050397, "last_edit_date": 1547050397, "creation_date": 1547046591, "answer_id": 54113103, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6/54113103#54113103", "title": "How to get the current year using typescript in angular6", "body": "<p>At the import section,</p>\n\n<pre><code>import * as moment from 'moment'\n</code></pre>\n\n<p>At the ngOnInit,</p>\n\n<pre><code>ngOnInit(){\nthis.date = moment(new Date()).format('YYYY');\nconsole.log(moment(new Date()).format('YYYY'));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 1709437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fcb7906bc9f5246756c97d196a6b17?s=128&d=identicon&r=PG", "display_name": "Simon Botero", "link": "https://stackoverflow.com/users/1709437/simon-botero"}, "is_accepted": false, "score": 23, "last_activity_date": 1553043897, "creation_date": 1553043897, "answer_id": 55252146, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6/55252146#55252146", "title": "How to get the current year using typescript in angular6", "body": "<p>You can try this:</p>\n\n<p>In the app.component.ts.</p>\n\n<pre><code>export class AppComponent  {\n  anio: number = new Date().getFullYear();\n}\n</code></pre>\n\n<p>In the app.component.html</p>\n\n<pre><code>{{ anio }}\n</code></pre>\n\n<p>I let you a Stackblitz.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-byvzum\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-byvzum</a></p>\n"}, {"tags": [], "owner": {"reputation": 1175, "user_id": 8217454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oghl3.jpg?s=128&g=1", "display_name": "mojtaba ramezani", "link": "https://stackoverflow.com/users/8217454/mojtaba-ramezani"}, "is_accepted": false, "score": 1, "last_activity_date": 1555655383, "creation_date": 1555655383, "answer_id": 55757541, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6/55757541#55757541", "title": "How to get the current year using typescript in angular6", "body": "<p>use moment library:</p>\n\n<pre><code>import * as moment from 'moment'\n\nmoment().year(); // current year\n</code></pre>\n\n<p>of course you can use this code as well:</p>\n\n<pre><code>moment().format('YYYY'); // current year\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 8595704, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Xu6_at08SeI/AAAAAAAAAAI/AAAAAAAAA2Q/LKhfAe2g_Zk/photo.jpg?sz=128", "display_name": "DINESH Adhikari", "link": "https://stackoverflow.com/users/8595704/dinesh-adhikari"}, "is_accepted": false, "score": 1, "last_activity_date": 1580452655, "creation_date": 1580452655, "answer_id": 59999037, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6/59999037#59999037", "title": "How to get the current year using typescript in angular6", "body": "<p>Try this\ud83d\udc47</p>\n\n<pre><code>year = new Date().getFullYear()\nconsole.log(this.year) // output 2020\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 4479101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUBWt.jpg?s=128&g=1", "display_name": "Birhan Nega", "link": "https://stackoverflow.com/users/4479101/birhan-nega"}, "is_accepted": false, "score": 2, "last_activity_date": 1594979596, "creation_date": 1594979596, "answer_id": 62951526, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6/62951526#62951526", "title": "How to get the current year using typescript in angular6", "body": "<p>Since Year is number.</p>\n<pre><code> currentYear: number=new Date().getFullYear();\n</code></pre>\n"}], "owner": {"reputation": 946, "user_id": 8831670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1325bfa129b4924da8f8304ea776de61?s=128&d=identicon&r=PG&f=1", "display_name": "Revathi Vijay", "link": "https://stackoverflow.com/users/8831670/revathi-vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62601, "favorite_count": 5, "accepted_answer_id": 52069852, "answer_count": 7, "score": 38, "last_activity_date": 1594979596, "creation_date": 1535519362, "last_edit_date": 1535519750, "question_id": 52069833, "link": "https://stackoverflow.com/questions/52069833/how-to-get-the-current-year-using-typescript-in-angular6", "title": "How to get the current year using typescript in angular6", "body": "<p>How to get the current year using typescript in angular6  </p>\n\n<pre><code>currentYear:Date;\nthis.currentYear=new Date(\"YYYY\");\nalert(this.currentYear);\n</code></pre>\n\n<blockquote>\n  <p>It shows Invalid Date</p>\n</blockquote>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1535524991, "post_id": 52069702, "comment_id": 91091724, "body": "Sometimes type assertions are necessary. This is one of those times"}], "answers": [{"tags": [], "owner": {"reputation": 455, "user_id": 906999, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bf074f4848623dd263bae1c2c0011dd3?s=128&d=identicon&r=PG", "display_name": "Pete Jodo", "link": "https://stackoverflow.com/users/906999/pete-jodo"}, "is_accepted": false, "score": 0, "last_activity_date": 1535646000, "creation_date": 1535646000, "answer_id": 52101554, "question_id": 52069702, "link": "https://stackoverflow.com/questions/52069702/using-mapped-types-to-return-object-of-return-types-of-functions/52101554#52101554", "title": "Using mapped types to return object of return types of functions", "body": "<p>I was able to make this work by removing the generic-ness of <code>ObjectParamFn</code> since in my codebase I actually know the class of return types so I defined that as a union and worked from there.</p>\n\n<pre><code>type Primitive = string | number | boolean | null;\ntype ObjectParamFn = (...arbitrary: any[]) =&gt; Primitive | never;\ntype ObjectParam = { [key: string]: ObjectParamFn };\ntype MyMethodReturnType&lt;T extends ObjectParam&gt; = {\n    [P in keyof T]: ReturnType&lt;T[P]&gt;;\n}\n\nfunction myMethod&lt;T extends ObjectParam&gt;(\n    param: T\n): MyMethodReturnType&lt;T&gt; | never {\n    let returnValue = {} as { [key: string]: any };\n    const errors = [];\n    for (let propName in param) {\n        if (param.hasOwnProperty(propName)) {\n            try {\n                returnValue[propName] = param[propName]();\n            } catch (err) {\n                errors.push(propName);\n            }\n        }\n    }\n\n    if (errors.length) {\n        throw new Error('foo');\n    }\n\n    return returnValue as MyReturnType&lt;T&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 455, "user_id": 906999, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bf074f4848623dd263bae1c2c0011dd3?s=128&d=identicon&r=PG", "display_name": "Pete Jodo", "link": "https://stackoverflow.com/users/906999/pete-jodo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1535646000, "creation_date": 1535518335, "question_id": 52069702, "link": "https://stackoverflow.com/questions/52069702/using-mapped-types-to-return-object-of-return-types-of-functions", "title": "Using mapped types to return object of return types of functions", "body": "<p>I have a function that will take an object as a parameter and return a new object. The object parameter will be an object of functions that return arbitrary types and the return type of my function will be an object of the same keys as the object parameter but the values will be the return types of the keys' respective functions from the object parameter.</p>\n\n<p>Now the catch is, the functions from the object parameter can potentially throw errors and I don't want to break execution in the middle of the process but instead collect all the keys that failed and then throw my own custom error.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>type ObjectParamFn =  &lt;T&gt;(...arbitrary: any[]) =&gt; T | never;\ntype ObjectParam = { [key: string]: ObjectParamFn };\ntype MyMethodReturnType&lt;T extends ObjectParam&gt; = {\n    [P in keyof T]: ReturnType&lt;T[P]&gt;;\n}\n\nfunction myMethod&lt;T extends ObjectParam&gt;(\n    param: T\n): MyMethodReturnType&lt;T&gt; | never {\n    const returnValue = {} as MyMethodReturnType&lt;T&gt;;\n    const errors = [];\n    for (let propName in param) {\n        if (param.hasOwnProperty(propName)) {\n            try {\n                const value = param[propName](/* arbitrary */);\n                returnValue[propName] = value; // TS ERROR HERE: Type '{}' is not assignable to type 'ReturnType&lt;T[Extract&lt;keyof T, string&gt;]&gt;'.\n            } catch (err) {\n                errors.push(propName);\n            }\n        }\n    }\n\n    if (errors.length) {\n        throw new Error('foo');\n    }\n\n    return returnValue;\n}\n</code></pre>\n\n<p>I marked where the TS Error I receive is, but to break it out into it's own line:</p>\n\n<p><code>Type '{}' is not assignable to type 'ReturnType&lt;T[Extract&lt;keyof T, string&gt;]&gt;'.</code></p>\n\n<p>I feel like I'm close to the solution, but can't quite get over that last hump. Any help would greatly be appreciated.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 10, "last_activity_date": 1535517720, "creation_date": 1535517720, "answer_id": 52069613, "question_id": 52069593, "link": "https://stackoverflow.com/questions/52069593/fast-way-to-compare-a-string-with-an-array/52069613#52069613", "title": "Fast way to compare a string with an array", "body": "<p>You need to search the other way around - iterate over <code>stringArray</code> and check if <code>some</code> of the names are contained in <code>searchStr</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var searchStr1 = \"This is your turn John Doe, pls do it\";\r\nvar stringArray = [\"John Doe\", \"Peter Shark\"];\r\nconsole.log(stringArray.some(name =&gt; searchStr1.includes(name)));\r\n\r\nvar searchStr2 = \"This is your turn Foo Bar, pls do it\";\r\nconsole.log(stringArray.some(name =&gt; searchStr2.includes(name)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>While <code>some</code> is very clean and clear, <code>for</code> loops are slightly faster than array methods, though it should only matter if you have tens of thousands of items to iterate over:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var searchStr = \"This is your turn John Doe, pls do it\";\r\nvar stringArray = [\"John Doe\", \"Peter Shark\"];\r\n\r\nconst searchFor = stringArray =&gt; {\r\n  for (let i = 0, { length } = stringArray; i &lt; length; i++) {\r\n    if (searchStr.includes(stringArray[i])) return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconsole.log(searchFor([\"John Doe\", \"Peter Shark\"]));\r\nconsole.log(searchFor([\"Foo Bar\", \"Peter Shark\"]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 2, "last_activity_date": 1535518167, "creation_date": 1535518167, "answer_id": 52069678, "question_id": 52069593, "link": "https://stackoverflow.com/questions/52069593/fast-way-to-compare-a-string-with-an-array/52069678#52069678", "title": "Fast way to compare a string with an array", "body": "<p>Regular expressions are pretty good at finding stuff quick. You can prepare the regexp ahead of time, then just reuse it later, if your <code>stringArray</code> stays the same:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let searchStr = \"This is your turn John Doe, pls do it\"\r\nlet stringArray = [\"John Doe\", \"Peter Shark\"];\r\n\r\nlet nameMatcher = new RegExp(stringArray.map(\r\n  // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\r\n  s =&gt; s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;')\r\n).join('|'));\r\n\r\nconsole.log(searchStr.match(nameMatcher));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1338, "user_id": 3542250, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/637eeb10eb206dcebedb69e17379784a?s=128&d=identicon&r=PG&f=1", "display_name": "mm1975", "link": "https://stackoverflow.com/users/3542250/mm1975"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 52069613, "answer_count": 2, "score": 4, "last_activity_date": 1535518167, "creation_date": 1535517615, "question_id": 52069593, "link": "https://stackoverflow.com/questions/52069593/fast-way-to-compare-a-string-with-an-array", "title": "Fast way to compare a string with an array", "body": "<p>I have an array with a lot of names: <code>{'John Doe', 'Peter Shark', ...}</code>.</p>\n\n<p>Now I would like to compare and match a string for e.g. <code>'This is your turn John Doe, pls do it'</code> and return the <strong>name(s)</strong>, if the array contains it.\nThe string could be a long text.</p>\n\n<p>I\u00b4ve tried it like this, but it do not work:</p>\n\n<pre><code>var searchStr = \"This is your turn John Doe, pls do it\"\n\nvar stringArray = [\"John Doe\", \"Peter Shark\"];\n\nreturn (stringArray.indexOf(searchStr) &gt; -1)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "jasmine"], "comments": [{"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1535516199, "post_id": 52069355, "comment_id": 91088575, "body": "What is the error that you are getting?"}, {"owner": {"reputation": 79, "user_id": 5525151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/df80c489f754172fab6b035b6ff8dd10?s=128&d=identicon&r=PG&f=1", "display_name": "thoniv", "link": "https://stackoverflow.com/users/5525151/thoniv"}, "reply_to_user": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1535516594, "post_id": 52069355, "comment_id": 91088679, "body": "Error: &lt;spyOn&gt; : could not find an object to spy upon for getRoles() Usage: spyOn(&lt;object&gt;, &lt;methodName&gt;)"}], "answers": [{"tags": [], "owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "is_accepted": false, "score": 1, "last_activity_date": 1535759923, "last_edit_date": 1535759923, "creation_date": 1535517924, "answer_id": 52069638, "question_id": 52069355, "link": "https://stackoverflow.com/questions/52069355/error-spyon-could-not-find-an-object-to-spy-upon-for-roles/52069638#52069638", "title": "Error: &lt;spyOn&gt; : could not find an object to spy upon for Roles()", "body": "<p>You can do this easily without using <code>spyOn</code>method.</p>\n\n<p>Instead of that create <code>spy object</code> for your service and provide that spy object as the service in the providers array.</p>\n\n<pre><code>describe('Result component tests', () =&gt; {\n\n  let fixture: ComponentFixture&lt;ResultComponent&gt;;\n  let component: ResultComponent;\n\n  let apiService: APIService;\n  let spyApiService: jasmine.SpyObj&lt;APIService&gt;;\n\n  let getRolesSubject;\n  let mockResponse: ApiResponse =\n    {\n      code: '0',\n      data: {\n        permissionsList: [\n          {\n            orgRoles: 'Edit Access TRUE',\n            roleType: 'OPTIONAL'\n          }\n        ]\n      },\n      message: '',\n      status: 'success'\n    };\n\n  beforeEach(async(() =&gt; {\n    getRolesSubject = new Subject();\n\n    spyApiService = jasmine.createSpyObj('APIService', ['getRoles']);\n    spyApiService.getRoles.and.returnValue(getRolesSubject.asObservable());\n\n    TestBed.configureTestingModule({\n      declarations: [ResultComponent],\n      providers: [\n        {provide: APIService, useValue: spyApiService},\n      ],\n      schemas: [NO_ERRORS_SCHEMA]\n    }).compileComponents().then(() =&gt; {\n      fixture = TestBed.createComponent(ResultComponent);\n      component = fixture.componentInstance;\n\n      apiService = TestBed.get(APIService);\n    });\n  }));\n\n\n  it('Should invoke getRoles of api service when ...', () =&gt; {\n    component.sendTask(model);\n    getRolesSubject.next(mockResponse);\n    expect(apiService.getRoles).toHaveBeenCalled();\n  });\n\n});\n</code></pre>\n\n<p>And I am using a <code>subject</code> to return values as observables from the service.</p>\n\n<p><code>getRolesSubject.next(mockResponse);</code></p>\n\n<p>Think that you have few methods inside the subscribe method. Now you can test them also.</p>\n"}], "owner": {"reputation": 79, "user_id": 5525151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/df80c489f754172fab6b035b6ff8dd10?s=128&d=identicon&r=PG&f=1", "display_name": "thoniv", "link": "https://stackoverflow.com/users/5525151/thoniv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5307, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1535759923, "creation_date": 1535515803, "question_id": 52069355, "link": "https://stackoverflow.com/questions/52069355/error-spyon-could-not-find-an-object-to-spy-upon-for-roles", "title": "Error: &lt;spyOn&gt; : could not find an object to spy upon for Roles()", "body": "<p>I'm writing my first Angular 6 unit test. I follow this source <a href=\"https://www.youtube.com/watch?v=lTKhB6uAmno\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=lTKhB6uAmno</a> to construct my test file and I ended up with the error which I couldn't resolve. I found a <a href=\"https://stackoverflow.com/questions/49427564/spyon-could-not-find-an-object-to-spy-upon-for-login-angular-testbed\">similar question</a> in SO but that wasn't obtained an answer unfortunately. Please guide me to sort this error out. Thanks. Here are my files,</p>\n\n<p><strong>component.ts</strong>  </p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { InputModel } from '../model/formInput';\nimport { APIService } from '../service/APIService';\n\n@Component({\n    selector: 'results-component',\n    templateUrl: './result.component.html',\n    styleUrls: ['./result.component.css']\n})\n\nexport class ResultComponent {\n    constructor(private apiService: APIService) { }\n    sendTask(model: InputModel) {\n        this.apiService.getRoles(model.TaskName)\n            .subscribe(\n                res =&gt; {\n                    console.log(res)\n                }, err =&gt; { console.log(err) });\n    }\n}\n</code></pre>\n\n<p><strong>service.ts</strong></p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { ApiResponse } from '../model/ApiResponse';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\n\n@Injectable()\n\nexport class APIService{\n\n    private url:string = 'http://localhost:1/api/default';\n    result:ApiResponse;\n    private http:HttpClient;\n\n    constructor(){}\n\n    getRoles(taskName:string):Observable&lt;ApiResponse&gt;{\n        var params = this.getParams(taskName);\n        return this.http.get&lt;ApiResponse&gt;(this.url,{ params })\n        .pipe(\n            map((data:ApiResponse)=&gt;data),\n            catchError((err:ApiResponse)=&gt;throwError(err))\n            )\n        }\n\n    private getParams(taskName:string){\n        let param = new HttpParams().set('taskName', taskName);\n        return param;\n    }\n}\n</code></pre>\n\n<p><strong>component.spec.ts</strong></p>\n\n<pre><code>import { ResultComponent } from \"./result.component\";\nimport {ComponentFixture, TestBed, inject} from '@angular/core/testing';\nimport { APIService } from \"../service/APIService\";\nimport { of } from \"rxjs\";\nimport { ApiResponse } from \"../model/ApiResponse\";\nimport { InputModel } from \"../model/formInput\";\nimport { HttpClientTestingModule } from \"@angular/common/http/testing\";\n\ndescribe('ResultComponent', ()=&gt;{\n    let fixture:ComponentFixture&lt;ResultComponent&gt;;\n    let component:ResultComponent;\n    let apiService:APIService;\n    let model:InputModel = new InputModel();\n    let mockResponse : ApiResponse=\n    {\n        code:'0',\n        data:{\n            permissionsList:[\n                {\n                    orgRoles:'Edit Access TRUE',\n                    roleType:'OPTIONAL'\n                }\n            ]\n        },\n        message:'',\n        status:'success'\n    };\n\n    beforeEach(()=&gt;{\n        TestBed.configureTestingModule({\n            imports:[HttpClientTestingModule],\n            declarations:[ResultComponent],\n            providers:[APIService]//,\n            //{provide:HttpClient}]\n        }).compileComponents();\n\n        fixture = TestBed.createComponent(ResultComponent);\n        component = fixture.componentInstance;\n        apiService=TestBed.get(APIService);\n\n        model.TaskName='Edit';\n    });\n\n    it('test service response', ()=&gt;{\n        spyOn(apiService, 'getRoles').and.returnValue(of(mockResponse));\n         component.sendTask(model);\n        expect(apiService.getOrgRoles).toHaveBeenCalled();\n    });\n})\n</code></pre>\n\n<p>If i use fake service, the unit testing is working fine. I'm not able to find out what i miss in my spec file.</p>\n"}, {"tags": ["node.js", "typescript", "amqp"], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 2886704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1014471605/picture?type=large", "display_name": "Jaxom Nutt", "link": "https://stackoverflow.com/users/2886704/jaxom-nutt"}, "is_accepted": true, "score": 0, "last_activity_date": 1535617188, "last_edit_date": 1535617188, "creation_date": 1535532188, "answer_id": 52073149, "question_id": 52068946, "link": "https://stackoverflow.com/questions/52068946/node-js-typescript-amqp-consumer/52073149#52073149", "title": "Node Js / Typescript - AMQP Consumer", "body": "<p>Here is my solution that is working based off of amqp's JS tutorial.\n<a href=\"https://www.rabbitmq.com/tutorials/tutorial-three-javascript.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-three-javascript.html</a></p>\n\n<p>Probably not up to TypeScript standards, feel free to correct me if there's a better way.</p>\n\n<pre><code>#!/usr/bin/env node\n\nrequire('dotenv').config();\nimport amqp = require('amqplib/callback_api');\nimport db = require('./database');\n\namqp.connect({\n    protocol: process.env.RABBITMQ_PROTOCOL,\n    hostname: process.env.RABBITMQ_HOST,\n    port: process.env.RABBITMQ_PORT,\n    username: process.env.RABBITMQ_USER,\n    password: process.env.RABBITMQ_PASSWORD,\n    vhost: process.env.RABBITMQ_VHOST\n}, function(err, conn) {\n    conn.createChannel(function (err, ch) {\n        // set exchange that is being used\n        ch.assertExchange(process.env.RABBITMQ_WORKER_EXCHANGE, 'direct', {durable: true});\n        // set queue that is being used\n        ch.assertQueue(process.env.RABBITMQ_QUEUE, {durable: true}, function (err, q) {\n            console.log(\" [*] Waiting for messages in %s. To exit press CTRL+C\", q.queue);\n            // bind the queue to the exchange\n            ch.bindQueue(q.queue, process.env.RABBITMQ_WORKER_EXCHANGE, '');\n            // consume from the queue, one message at a time.\n            ch.consume(q.queue, function (msg) {\n                console.log(\"Message received: %s\", msg.content.toString());\n                //save message to db\n                db.store(msg.content.toString()).then(function() {\n                    //acknowledge receipt of message to amqp\n                    console.log(\"Acknowledging message\");\n                    ch.ack(msg, true);\n                });\n            }, {noAck: false});\n        });\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 2886704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1014471605/picture?type=large", "display_name": "Jaxom Nutt", "link": "https://stackoverflow.com/users/2886704/jaxom-nutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4394, "favorite_count": 1, "accepted_answer_id": 52073149, "answer_count": 1, "score": 1, "last_activity_date": 1535617188, "creation_date": 1535512387, "question_id": 52068946, "link": "https://stackoverflow.com/questions/52068946/node-js-typescript-amqp-consumer", "title": "Node Js / Typescript - AMQP Consumer", "body": "<p>I am trying my hand at node.js/typescript for the first time and having a bit of trouble making a consumer for a rabbit queue.</p>\n\n<p>Code:</p>\n\n<pre><code>let amqp = require('amqp');\n\nlet connection = amqp.createConnection({url: \"amqp://\" + RABBITMQ_USER + \":\" + RABBITMQ_PASSWORD + \"@\" + RABBITMQ_HOST + \":\" + RABBITMQ_PORT + RABBITMQ_VHOST});\n\nconnection.on('ready', function() {\n    connection.exchange(RABBITMQ_WORKER_EXCHANGE, function (exchange) {\n        connection.queue(RABBITMQ_QUEUE, function (queue) {\n            queue.bind(exchange, function() {\n                queue.publish(function (message) {\n                    console.log('subscribed to queue');\n                    let encoded_payload = unescape(message.data);\n                    let payload = JSON.parse(encoded_payload);\n                    console.log('Received a message:');\n                    console.log(payload);\n                })\n            })\n        })\n    })\n})\n</code></pre>\n\n<p>It seems to connect to the amqp server and throws no errors but it just sits there and doesn't consume anything. Is there a step I am missing?</p>\n\n<p>Any help would be greatly appreciated,\nThank you.</p>\n"}]