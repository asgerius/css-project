[{"tags": ["angular", "typescript", "karma-runner"], "owner": {"reputation": 2505, "user_id": 1016388, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1cdf8c6b6753650e204defdf60ac31eb?s=128&d=identicon&r=PG", "display_name": "ZZZ", "link": "https://stackoverflow.com/users/1016388/zzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531350419, "creation_date": 1531350419, "question_id": 51295314, "link": "https://stackoverflow.com/questions/51295314/failed-cant-resolve-all-parameters-for-mycomponent-in-ng-test", "title": "Failed: Can&#39;t resolve all parameters for MyComponent: (?,?,?) in ng test", "body": "<p>I am using Angular 6, with Angular CLI AOT to compile. So far so good until I was going to do some UI tests, in addition to current tests for functions, running with Karma.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n\n    templateUrl: 'notFound.component.html'\n})\nexport class NotFoundComponent implements OnInit {\n\n\n    constructor(private router: Router) {\n        console.debug('NotFoundComponent created');\n    }\n\n    ngOnInit() {\n    }\n\n    home() {\n            this.router.navigate(['/']);\n    }\n\n}\n</code></pre>\n\n<p>The application is running fine and the component can be rendered by NG runtime properly. However, when running with ng test, I get:</p>\n\n<pre><code>Failed: Can't resolve all parameters for NotFoundComponent: (?)\n</code></pre>\n\n<p>And I have to do this to make things work in test:</p>\n\n<pre><code>constructor( @Inject(Router) private router: Router) \n</code></pre>\n\n<p>Do I miss something? Is it possible to make ng test to accept injection of Router without @Inject() in the constructor?</p>\n"}, {"tags": ["regex", "angular", "typescript", "visual-studio-code", "vscode-settings"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1531350471, "post_id": 51295306, "comment_id": 89568091, "body": "Probably <code>^(?![\\S\\s\\r]*OnPush)</code>, but I can&#39;t test now."}, {"owner": {"reputation": 2225, "user_id": 114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f9d3623d91c3802e62da82011ca036f6?s=128&d=identicon&r=PG", "display_name": "Craig Smitham", "link": "https://stackoverflow.com/users/114/craig-smitham"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1531350969, "post_id": 51295306, "comment_id": 89568228, "body": "@WiktorStribi\u017cew when I enable Regex and try that, as well as other possible regex solutions, VS code responds with &quot;Expression Matches Everything&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1531351982, "post_id": 51295306, "comment_id": 89568467, "body": "May want to check info on the regex flavor first <a href=\"https://stackoverflow.com/questions/42179046/what-flavor-of-regex-does-visual-studio-code-use\" title=\"what flavor of regex does visual studio code use\">stackoverflow.com/questions/42179046/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "reply_to_user": {"reputation": 2225, "user_id": 114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f9d3623d91c3802e62da82011ca036f6?s=128&d=identicon&r=PG", "display_name": "Craig Smitham", "link": "https://stackoverflow.com/users/114/craig-smitham"}, "edited": false, "score": 0, "creation_date": 1531352447, "post_id": 51295376, "comment_id": 89568552, "body": "Try now. I&#39;m downloading VS code right now will test there"}, {"owner": {"reputation": 26712, "user_id": 4500152, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UgnBE.jpg?s=128&g=1", "display_name": "jabacchetta", "link": "https://stackoverflow.com/users/4500152/jabacchetta"}, "edited": false, "score": 1, "creation_date": 1531358608, "post_id": 51295376, "comment_id": 89569649, "body": "Negative look-ahead isn&#39;t supported in VS Code search: <a href=\"https://github.com/Microsoft/vscode/issues/30735\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode/issues/30735</a>"}, {"owner": {"reputation": 612, "user_id": 1548215, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6HlGp.jpg?s=128&g=1", "display_name": "Ali Yousuf", "link": "https://stackoverflow.com/users/1548215/ali-yousuf"}, "edited": false, "score": 7, "creation_date": 1552679653, "post_id": 51295376, "comment_id": 97117926, "body": "You need to enable &quot;search.usePCRE2&quot; in VS Code to use negative look-ahead."}, {"owner": {"reputation": 60165, "user_id": 836330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fd5f542a64b8b2dac00112a4829de8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/836330/mark"}, "edited": false, "score": 2, "creation_date": 1571691057, "post_id": 51295376, "comment_id": 103317758, "body": "You don&#39;t need to ensable the <code>PCRE2</code> setting anymore - in fact it is deprecated.  Vscode will use PCRE2 as a fallback automatically now."}, {"owner": {"reputation": 548, "user_id": 9583480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42db0755ee6290ea91ccc9fcea3d327e?s=128&d=identicon&r=PG", "display_name": "s3c", "link": "https://stackoverflow.com/users/9583480/s3c"}, "edited": false, "score": 2, "creation_date": 1604408142, "post_id": 51295376, "comment_id": 114333659, "body": "VSCode (v 1.50.1) Search works. e.g search for a comma not followed by whitespace <code>,(?!\\s)</code>."}], "tags": [], "owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "is_accepted": false, "score": 21, "last_activity_date": 1531358735, "last_edit_date": 1531358735, "creation_date": 1531350997, "answer_id": 51295376, "question_id": 51295306, "link": "https://stackoverflow.com/questions/51295306/search-for-all-files-not-containing-a-string-in-vs-code/51295376#51295376", "title": "Search for all files *not* containing a string in VS Code", "body": "<p>In general regex, to search for anything that does not contain a certain string, you do <code>stringbefore(?!string)</code> That is a negative lookahead, it says that only match if whatever you specify as <code>string</code> is not  present. In your case it would be something like <code>[\\W\\w]+(?!OnPush)</code></p>\n\n<p>But, Negative Lookaheads aren't supported in VS Code Search... So you can't do much.</p>\n"}, {"comments": [{"owner": {"reputation": 2493, "user_id": 5723816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1511140412548732/picture?type=large", "display_name": "Ivan Topi\u0107", "link": "https://stackoverflow.com/users/5723816/ivan-topi%c4%87"}, "edited": false, "score": 2, "creation_date": 1578910782, "post_id": 58491613, "comment_id": 105579929, "body": "Is it possible to search only in specific folder and in specific files like .php?"}, {"owner": {"reputation": 171, "user_id": 9532883, "user_type": "registered", "profile_image": "https://graph.facebook.com/1312912702134751/picture?type=large", "display_name": "Danish Sarwar", "link": "https://stackoverflow.com/users/9532883/danish-sarwar"}, "reply_to_user": {"reputation": 2493, "user_id": 5723816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1511140412548732/picture?type=large", "display_name": "Ivan Topi\u0107", "link": "https://stackoverflow.com/users/5723816/ivan-topi%c4%87"}, "edited": false, "score": 0, "creation_date": 1582606220, "post_id": 58491613, "comment_id": 106825548, "body": "@IvanTopi\u0107 yes, you can include or exclude files using this extension."}], "tags": [], "owner": {"reputation": 171, "user_id": 9532883, "user_type": "registered", "profile_image": "https://graph.facebook.com/1312912702134751/picture?type=large", "display_name": "Danish Sarwar", "link": "https://stackoverflow.com/users/9532883/danish-sarwar"}, "is_accepted": true, "score": 5, "last_activity_date": 1571679915, "creation_date": 1571679915, "answer_id": 58491613, "question_id": 51295306, "link": "https://stackoverflow.com/questions/51295306/search-for-all-files-not-containing-a-string-in-vs-code/58491613#58491613", "title": "Search for all files *not* containing a string in VS Code", "body": "<p>There is a VS Code extension called <a href=\"https://marketplace.visualstudio.com/items?itemName=DanishSarwar.reverse-search\" rel=\"noreferrer\">Reverse Search</a>\nIt can find files that do not contain a specific string</p>\n"}], "owner": {"reputation": 2225, "user_id": 114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f9d3623d91c3802e62da82011ca036f6?s=128&d=identicon&r=PG", "display_name": "Craig Smitham", "link": "https://stackoverflow.com/users/114/craig-smitham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13916, "favorite_count": 1, "accepted_answer_id": 58491613, "answer_count": 2, "score": 15, "last_activity_date": 1571679915, "creation_date": 1531350354, "question_id": 51295306, "link": "https://stackoverflow.com/questions/51295306/search-for-all-files-not-containing-a-string-in-vs-code", "title": "Search for all files *not* containing a string in VS Code", "body": "<p>In Visual Studio Code, using the search capability, how can I search for all files that <em>do not</em> contain a certain string? In this case - \"OnPush\"</p>\n"}, {"tags": ["reactjs", "typescript", "svg", "stackblitz"], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 9136781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb57df979f261fb432a9f52a5e2ac69?s=128&d=identicon&r=PG&f=1", "display_name": "Gwen", "link": "https://stackoverflow.com/users/9136781/gwen"}, "is_accepted": false, "score": 0, "last_activity_date": 1531347031, "creation_date": 1531347031, "answer_id": 51294859, "question_id": 51294665, "link": "https://stackoverflow.com/questions/51294665/border-is-not-applied-directy-to-svg-element-but-to-its-children-elements/51294859#51294859", "title": "Border is not applied directy to svg element but to its children elements?", "body": "<p>Try to bring hover events and other needs to the \"rect\" level and not to the svg tag level :</p>\n\n<p>Example : </p>\n\n<pre><code>return &lt;svg\n  onClick={e =&gt; this.props.currentMounting.onMountingSelected(e.currentTarget.id)}\n  opacity={this.props.currentMounting.opacity}\n  style={{ fill: 'red' }}\n  id={this.props.currentMounting.id}&gt;\n\n  &lt;rect onMouseOver={e =&gt; this.props.currentMounting.onMountingHoveredOver(e)}\n  onMouseOut={e =&gt; this.props.currentMounting.onMountingHoveredOut(e)} x=\"0\" y=\"0\" height=\"60\" width=\"60\" /&gt;\n  &lt;rect onMouseOver={e =&gt; this.props.currentMounting.onMountingHoveredOver(e)}\n  onMouseOut={e =&gt; this.props.currentMounting.onMountingHoveredOut(e)} x=\"70\" y=\"0\" height=\"60\" width=\"60\" /&gt;\n&lt;/svg&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14442, "user_id": 4996779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be841669a4ba9c0ba9ede5d2351e6209?s=128&d=identicon&r=PG", "display_name": "ccprog", "link": "https://stackoverflow.com/users/4996779/ccprog"}, "is_accepted": true, "score": 0, "last_activity_date": 1531402893, "last_edit_date": 1531402893, "creation_date": 1531402822, "answer_id": 51307201, "question_id": 51294665, "link": "https://stackoverflow.com/questions/51294665/border-is-not-applied-directy-to-svg-element-but-to-its-children-elements/51307201#51307201", "title": "Border is not applied directy to svg element but to its children elements?", "body": "<p><code>&lt;svg&gt;</code> elements are <a href=\"https://www.w3.org/TR/SVG11/intro.html#TermContainerElement\" rel=\"nofollow noreferrer\">container elements</a>. That means that they are not painted themselves, but can group child elements that are <a href=\"https://www.w3.org/TR/SVG11/intro.html#TermGraphicsElement\" rel=\"nofollow noreferrer\">graphics elements</a>.</p>\n\n<p>If you set a <code>stroke</code> style property on a container element, it has no effect. The only thing that happens is that it is inherited by the children, which, if they are graphics elements, will render the stroke.</p>\n\n<p>If the <code>&lt;svg&gt;</code> was the outermost element directly embeded in a HTML element, you could set a <code>border</code> property. But as in your case they are nested in another <code>&lt;svg&gt;</code>, the only solution is to draw a rectangle (before the other rects) covering the whole viewport of the element and set a stroke on that:</p>\n\n<pre><code>&lt;rect width=\"100%\" height=\"100%\"\n     onMouseOver={e =&gt; this.props.currentMounting.onMountingHoveredOver(e)}\n     onMouseOut={e =&gt; this.props.currentMounting.onMountingHoveredOut(e)}\n     style={{ fill: 'none' }}&gt;\n</code></pre>\n"}], "owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 51307201, "answer_count": 2, "score": 0, "last_activity_date": 1531402893, "creation_date": 1531345903, "question_id": 51294665, "link": "https://stackoverflow.com/questions/51294665/border-is-not-applied-directy-to-svg-element-but-to-its-children-elements", "title": "Border is not applied directy to svg element but to its children elements?", "body": "<p>That is my stackblitz/codepen: <a href=\"https://stackblitz.com/edit/svgtest?file=index.tsx\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/svgtest?file=index.tsx</a></p>\n\n<p>When I hover over the svg rectangles the hover event triggers then because the parent svg element of the facade/roof, so I expected the border to be added to the svg element, but its not! Instead all the svg children elements own has that border set.</p>\n\n<p>Why this?</p>\n\n<p>OnMouseOver is registred for the svg element as you can see here:</p>\n\n<pre><code>   return &lt;svg\n      onMouseOver={e =&gt; this.props.currentMounting.onMountingHoveredOver(e)}\n      onMouseOut={e =&gt; this.props.currentMounting.onMountingHoveredOut(e)}\n      onClick={e =&gt; this.props.currentMounting.onMountingSelected(e.currentTarget.id)}\n      opacity={this.props.currentMounting.opacity}\n      style={{ fill: 'red' }}\n      id={this.props.currentMounting.id}&gt;\n\n      &lt;rect x=\"0\" y=\"0\" height=\"60\" width=\"60\" /&gt;\n      &lt;rect x=\"70\" y=\"0\" height=\"60\" width=\"60\" /&gt;\n    &lt;/svg&gt;\n</code></pre>\n\n<p>But despite that all the rect elements display the border when I hover over them!?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "is_accepted": true, "score": 1, "last_activity_date": 1533214855, "creation_date": 1533214855, "answer_id": 51654354, "question_id": 51294541, "link": "https://stackoverflow.com/questions/51294541/angular-typescript-ng-multiselect-dropdown-mutliple-properties-in-textfield/51654354#51654354", "title": "angular/typescript: ng-multiselect-dropdown mutliple properties in textField", "body": "<p>I was able to work around this issue by adding a <code>NameFull</code> calculated property to my <code>UserForDetailedDto</code> on the backend, accounting for the additional propety in my front-end model, and then using that for the <code>text-field</code> value.</p>\n\n<p><br><h3>Models\\UserForDetailedDto.cs</h3></p>\n\n<pre><code>public class UserForDetailedDto\n{\n    public int Id { get; set; }\n\n    public string Username { get; set; }\n\n    public string NameFirst { get; set; }\n\n    public string NameLast { get; set; }\n\n    public string NameFull =&gt; NameFirst + \" \" + NameLast;\n\n    ...\n}\n</code></pre>\n\n<p><br><h3>ClientApp\\src\\app_models\\User.ts</h3></p>\n\n<pre><code>export interface User {\n  id?: number;\n  username?: string;\n  nameFirst?: string;\n  nameLast?: string;\n  nameFull?: string;\n}\n</code></pre>\n\n<p><br><h3>The dropdown settings</h3></p>\n\n<pre><code>this.dropdownSettings = {\n  singleSelection: false,\n  idField: 'id',\n  textField: 'nameFull',\n  selectAllText: 'Select All',\n  unSelectAllText: 'UnSelect All',\n  itemsShowLimit: 5,\n  allowSearchFilter: true\n};\n</code></pre>\n"}], "owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2094, "favorite_count": 0, "accepted_answer_id": 51654354, "answer_count": 1, "score": 2, "last_activity_date": 1533214855, "creation_date": 1531345181, "question_id": 51294541, "link": "https://stackoverflow.com/questions/51294541/angular-typescript-ng-multiselect-dropdown-mutliple-properties-in-textfield", "title": "angular/typescript: ng-multiselect-dropdown mutliple properties in textField", "body": "<p>I am using the <a href=\"https://github.com/NileshPatel17/ng-multiselect-dropdown\" rel=\"nofollow noreferrer\">ng-multiselect-dropdown</a> package. I have successfully pulled my data into the dropdown, but I want to be able use multiple properties in the textField of the dropdown.</p>\n\n<p>If I do </p>\n\n<pre><code>this.dropdownSettings = {\n  singleSelection: false,\n  idField: 'id',\n  textField: 'nameFirst',\n  selectAllText: 'Select All',\n  unSelectAllText: 'UnSelect All',\n  itemsShowLimit: 3,\n  allowSearchFilter: true\n};\n</code></pre>\n\n<p>I get this result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nVRvR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nVRvR.png\" alt=\"dropdownWithFirstName\"></a></p>\n\n<p><br>\n<hr>\nI want to do something like this (nameFirst and nameLast in text field:</p>\n\n<pre><code>this.dropdownSettings = {\n  singleSelection: false,\n  idField: 'id',\n  textField: 'nameFirst' + ' ' + 'nameLast',\n  selectAllText: 'Select All',\n  unSelectAllText: 'UnSelect All',\n  itemsShowLimit: 3,\n  allowSearchFilter: true\n};\n</code></pre>\n\n<p>When I do that, I get this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0I9xd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0I9xd.png\" alt=\"dropdownWithBadResult\"></a></p>\n\n<p>How can I go about combining the <code>nameFirst</code> and <code>nameLast</code> properties (with a space in  between)? Do I need to add another property to my user object? Can I do that on the fly or do I need to edit my model?</p>\n"}, {"tags": ["typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 0, "last_activity_date": 1531336731, "creation_date": 1531336731, "answer_id": 51292786, "question_id": 51292713, "link": "https://stackoverflow.com/questions/51292713/i-dont-find-angular-6-solution-for-how-to-convert-expire-to-typescript-object/51292786#51292786", "title": "i dont find angular 6 solution for how to convert &quot;.expire&quot; to typescript object", "body": "<pre><code>interface Foo {\n  '.expires': string;\n  'as:client_id': string;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7816209, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nFKanNae7oM/AAAAAAAAAAI/AAAAAAAAACk/Ph3pxYipvd8/photo.jpg?sz=128", "display_name": "faridi", "link": "https://stackoverflow.com/users/7816209/faridi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554811406, "creation_date": 1531336458, "last_edit_date": 1531336525, "question_id": 51292713, "link": "https://stackoverflow.com/questions/51292713/i-dont-find-angular-6-solution-for-how-to-convert-expire-to-typescript-object", "title": "i dont find angular 6 solution for how to convert &quot;.expire&quot; to typescript object", "body": "<pre><code>{\n  \"access_token\": \"eWcWLctGW-_NgGVAmFbO9l-nt3yztFzlZCLLlilI9mGDcM5q8d0kQw0uzvFOoXynHcb-MuPVJGTGkSkBhrr69_-aN1r5j9zB4fCl4u4aqOQ-scNI36xgHeGYpXky60drIBpMI83FGqd9pMjL4GWXjFHq61nhJ6xkGj1u1r9a5u6EJrB1lfjNhljzC_j65xaqxtubQ4AglKFO2ib-levpvnd_bEU-QGQrtvS2QbaXhb_hlnX8czo61Gn_OQyBVk7HbN1SozxIPe3RBvf5AiCAouDMz1WMHy9ybVFy8SnoNIgszjo7Ev2IEWS9aFb87u6bvoJvSVJv7s3z-2GUvG2kwfOk2sUWrmq0QeIJJrYwdKQfs3T8HrK2MNKSGteJ04-O\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1799,\n  \"refresh_token\": \"f1005c7fd74247069dbdb078ee379410\",\n  \"as:client_id\": \"438dc832-33c7-413b-9c71-d0b98a196e6a\",\n  \"userName\": \"master\",\n  \".issued\": \"Fri, 20 Jan 2017 14:30:09 GMT\",\n  \".expires\": \"Fri, 20 Jan 2017 15:00:09 GMT\"\n}\n</code></pre>\n\n<p>My question is how to map above json object to typescript object in angular 6. i.e how to create typescript class with above properties like .expire, as:client etc</p>\n"}, {"tags": ["angular", "typescript", "atom-editor", "tslint"], "comments": [{"owner": {"reputation": 1622, "user_id": 8907887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39dc045d9bbf748ac92dbe256836375c?s=128&d=identicon&r=PG&f=1", "display_name": "eduPeeth", "link": "https://stackoverflow.com/users/8907887/edupeeth"}, "edited": false, "score": 0, "creation_date": 1532450739, "post_id": 51292139, "comment_id": 89976224, "body": "Where is reference of this component in your project <code>Cannot find module &#39;core&#47;nav-menu&#47;nav-menu.component</code>.. share the code."}, {"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "reply_to_user": {"reputation": 1622, "user_id": 8907887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39dc045d9bbf748ac92dbe256836375c?s=128&d=identicon&r=PG&f=1", "display_name": "eduPeeth", "link": "https://stackoverflow.com/users/8907887/edupeeth"}, "edited": false, "score": 0, "creation_date": 1532534850, "post_id": 51292139, "comment_id": 90015576, "body": "Ok, I edited with an example of an import. It the same error for every root-relative import."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1532683772, "post_id": 51292139, "comment_id": 90076713, "body": "Did you try setting <code>rootDirs</code> setting? That might help"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1532885134, "post_id": 51292139, "comment_id": 90130879, "body": "This isn&#39;t a tslint issue"}], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1532885089, "post_id": 51582699, "comment_id": 90130868, "body": "This is correct. If your base URL actually is <code>app</code> then you should set <code>rootDir</code> to the same"}, {"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "edited": false, "score": 1, "creation_date": 1532971344, "post_id": 51582699, "comment_id": 90164447, "body": "Yes. This absolutely works. Then I had to add <code>src&#47;app&#47;</code> to all of my root-relative imports. So the solution I was using at <a href=\"https://stackoverflow.com/questions/34614818/angular2-root-relative-imports#42306860\" title=\"angular2 root relative imports%2342306860\">stackoverflow.com/questions/34614818/&hellip;</a> was actually not an ideal solution, although I did have it working without errors in another project. (I&#39;m not sure what was different that made it work). This a better solution, because root-relative imports can be easily identifiable and easily found/searched for by querying <code>src&#47;app&#47;</code>. I will add this solution to the question from answer where I found my previous configuration."}], "tags": [], "owner": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "is_accepted": true, "score": 8, "last_activity_date": 1533066008, "last_edit_date": 1533066008, "creation_date": 1532884465, "answer_id": 51582699, "question_id": 51292139, "link": "https://stackoverflow.com/questions/51292139/typescript-tslint-tslint-not-recognizing-root-relative-imports-via-baseurl/51582699#51582699", "title": "TypeScript/TSLint: TSLint not recognizing root-relative imports via baseUrl", "body": "<p>Your base url is wrong:</p>\n\n<p>Your tsconfig.json has to be set to:\n<code>\"baseurl\": \"./\"</code></p>\n\n<p>You dont need a <code>baseurl</code> in your tsconfig.app.ts, it should be removed.</p>\n\n<p>As suggested in the comments the import paths should be updated as well. Add 'src/app' in front of the import path. </p>\n\n<p>This applies if your structure is like following and you are running Angular 6:</p>\n\n<pre><code> * project\n | - src\n | | - app (with app files like app.modules.ts)\n | | - tsconfig.app.json\n | - tsconfig.json\n</code></pre>\n\n<p>Maybe you tampered with the files, while trying to find out what's wrong.\nThis is also the standard config of newly generated Angular projects.</p>\n"}], "owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2418, "favorite_count": 0, "accepted_answer_id": 51582699, "answer_count": 1, "score": 8, "last_activity_date": 1593628475, "creation_date": 1531333922, "last_edit_date": 1593628475, "question_id": 51292139, "link": "https://stackoverflow.com/questions/51292139/typescript-tslint-tslint-not-recognizing-root-relative-imports-via-baseurl", "title": "TypeScript/TSLint: TSLint not recognizing root-relative imports via baseUrl", "body": "<p>I'm using root-relative imports via the <code>baseUrl</code> compiler option in <code>tsconfig.json</code>, as per <a href=\"https://stackoverflow.com/a/42306860/1253298\">this solution</a>, but I'm having a problem where Atom IDE is showing me linting errors that look like:</p>\n\n<blockquote>\n  <p><code>Cannot find module 'core/nav-menu/nav-menu.component'.</code></p>\n</blockquote>\n\n<p>The imports look like (in <code>src/app/core/nav-menu.module.ts</code>):</p>\n\n<pre><code>import { NavMenuComponent } from 'core/nav-menu/nav-menu.component';\n</code></pre>\n\n<p>TSLint in Atom isn't finding the root-relative imported files, but the Angular compiler isn't having a problem with them.</p>\n\n<p>I'm not sure if my <code>tslint.json</code> config is wrong... Everything with this is working as expected in another project I have here on the same machine, but I can't spot what is different with this project, causing this problem.</p>\n\n<p>tslint.json: </p>\n\n<pre><code>{\n  \"rulesDirectory\": [\n    \"node_modules/codelyzer\"\n  ],\n  \"rules\": {\n    \"arrow-return-shorthand\": true,\n    \"callable-types\": true,\n    \"class-name\": true,\n    \"comment-format\": [\n      true,\n      \"check-space\"\n    ],\n    \"curly\": true,\n    \"deprecation\": {\n      \"severity\": \"warn\"\n    },\n    \"eofline\": true,\n    \"forin\": true,\n    \"import-blacklist\": [\n      true,\n      \"rxjs/Rx\"\n    ],\n    \"import-spacing\": true,\n    \"indent\": [\n      true,\n      \"spaces\"\n    ],\n    \"interface-over-type-literal\": true,\n    \"label-position\": true,\n    \"max-line-length\": [\n      true,\n      140\n    ],\n    \"member-access\": false,\n    \"member-ordering\": [\n      true,\n      {\n        \"order\": [\n          \"static-field\",\n          \"instance-field\",\n          \"static-method\",\n          \"instance-method\"\n        ]\n      }\n    ],\n    \"no-arg\": true,\n    \"no-bitwise\": true,\n    \"no-console\": [\n      true,\n      \"debug\",\n      \"time\",\n      \"timeEnd\",\n      \"trace\"\n    ],\n    \"no-construct\": true,\n    \"no-debugger\": true,\n    \"no-duplicate-super\": true,\n    \"no-empty\": false,\n    \"no-empty-interface\": true,\n    \"no-eval\": true,\n    \"no-inferrable-types\": [\n      true,\n      \"ignore-params\"\n    ],\n    \"no-misused-new\": true,\n    \"no-non-null-assertion\": true,\n    \"no-shadowed-variable\": true,\n    \"no-string-literal\": false,\n    \"no-string-throw\": true,\n    \"no-switch-case-fall-through\": true,\n    \"no-trailing-whitespace\": true,\n    \"no-unnecessary-initializer\": true,\n    \"no-unused-expression\": true,\n    \"no-use-before-declare\": true,\n    \"no-var-keyword\": true,\n    \"object-literal-sort-keys\": false,\n    \"one-line\": [\n      true,\n      \"check-open-brace\",\n      \"check-catch\",\n      \"check-else\",\n      \"check-whitespace\"\n    ],\n    \"prefer-const\": true,\n    \"quotemark\": [\n      true,\n      \"single\"\n    ],\n    \"radix\": true,\n    \"semicolon\": [\n      true,\n      \"always\"\n    ],\n    \"triple-equals\": [\n      true,\n      \"allow-null-check\"\n    ],\n    \"typedef-whitespace\": [\n      true,\n      {\n        \"call-signature\": \"nospace\",\n        \"index-signature\": \"nospace\",\n        \"parameter\": \"nospace\",\n        \"property-declaration\": \"nospace\",\n        \"variable-declaration\": \"nospace\"\n      }\n    ],\n    \"unified-signatures\": true,\n    \"variable-name\": false,\n    \"whitespace\": [\n      true,\n      \"check-branch\",\n      \"check-decl\",\n      \"check-operator\",\n      \"check-separator\",\n      \"check-type\"\n    ],\n    \"no-output-on-prefix\": true,\n    \"use-input-property-decorator\": true,\n    \"use-output-property-decorator\": true,\n    \"use-host-property-decorator\": true,\n    \"no-input-rename\": true,\n    \"no-output-rename\": true,\n    \"use-life-cycle-interface\": true,\n    \"use-pipe-transform-interface\": true,\n    \"component-class-suffix\": true,\n    \"directive-class-suffix\": true\n  }\n}\n</code></pre>\n\n<p>src/tslint.json:</p>\n\n<pre><code>{\n  \"extends\": \"../tslint.json\",\n  \"rules\": {\n    \"directive-selector\": [\n      true,\n      \"attribute\",\n      \"s2es\",\n      \"camelCase\"\n    ],\n    \"component-selector\": [\n      true,\n      \"element\",\n      \"s2es\",\n      \"kebab-case\"\n    ]\n  }\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"app\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>src/tsconfig.app.json:</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/app\",\n    \"module\": \"es2015\",\n    \"types\": [],\n    \"baseUrl\": \"app\",\n    \"types\": [\"node\"]\n  },\n  \"exclude\": [\n    \"src/test.ts\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>On a side note, why is <code>baseUrl: \"app\"</code> not the default? Why do file-relative imports the seem like standard for Angular/TypeScript development. That's insane.</p>\n"}, {"tags": ["reactjs", "typescript", "session-storage"], "comments": [{"owner": {"reputation": 1996, "user_id": 1720220, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1b0a6a0d6719b3c1d725c0f64f011096?s=128&d=identicon&r=PG", "display_name": "Brett Merrifield", "link": "https://stackoverflow.com/users/1720220/brett-merrifield"}, "edited": false, "score": 1, "creation_date": 1531333365, "post_id": 51291968, "comment_id": 89561613, "body": "Does it actually not work or are you just getting type errors?"}, {"owner": {"reputation": 544, "user_id": 2121671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e46374be9605e600958239279a56d411?s=128&d=identicon&r=PG", "display_name": "Mitesh Pant", "link": "https://stackoverflow.com/users/2121671/mitesh-pant"}, "reply_to_user": {"reputation": 1996, "user_id": 1720220, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1b0a6a0d6719b3c1d725c0f64f011096?s=128&d=identicon&r=PG", "display_name": "Brett Merrifield", "link": "https://stackoverflow.com/users/1720220/brett-merrifield"}, "edited": false, "score": 0, "creation_date": 1531351390, "post_id": 51291968, "comment_id": 89568334, "body": "It\u2019s giving me null"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1531390939, "post_id": 51291968, "comment_id": 89582864, "body": "And are you sure that the value is stored? Why don&#39;t you try executing that sentence in the browser&#39;s console, to see if there is such a property?"}, {"owner": {"reputation": 544, "user_id": 2121671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e46374be9605e600958239279a56d411?s=128&d=identicon&r=PG", "display_name": "Mitesh Pant", "link": "https://stackoverflow.com/users/2121671/mitesh-pant"}, "edited": false, "score": 0, "creation_date": 1531393605, "post_id": 51291968, "comment_id": 89584652, "body": "Sorry Guys this was a time waste question for all of you. I read through my code and found out that I have done a typo :("}], "owner": {"reputation": 544, "user_id": 2121671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e46374be9605e600958239279a56d411?s=128&d=identicon&r=PG", "display_name": "Mitesh Pant", "link": "https://stackoverflow.com/users/2121671/mitesh-pant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531337383, "creation_date": 1531333178, "last_edit_date": 1531335602, "question_id": 51291968, "link": "https://stackoverflow.com/questions/51291968/unable-to-read-window-sessionstorage-getitemanyproperty-using-typescript-in", "title": "Unable to read window.sessionStorage.getItem(&#39;anyproperty&#39;) using typescript in react", "body": "<p>I started a project in <code>react</code> with <code>javascript</code> and it worked fine. Now when I migrated it to <code>typescript</code>, the only problem is that I am not able to read values from </p>\n\n<pre><code>window.sessionStorage.getItem('anyproperty')\n</code></pre>\n\n<p>This works fine in JS.</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "sorting", "filter"], "comments": [{"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1531332649, "post_id": 51291829, "comment_id": 89561302, "body": "You can try this: <a href=\"https://stackoverflow.com/questions/1584370/how-to-merge-two-arrays-in-javascript-and-de-duplicate-items?s=1|375.6093\" title=\"how to merge two arrays in javascript and de duplicate items\">stackoverflow.com/questions/1584370/&hellip;</a>"}, {"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1531333499, "post_id": 51291829, "comment_id": 89561662, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1584370/how-to-merge-two-arrays-in-javascript-and-de-duplicate-items\">How to merge two arrays in JavaScript and de-duplicate items</a>"}], "owner": {"reputation": 331, "user_id": 9073310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1193152737465549/picture?type=large", "display_name": "Chiien", "link": "https://stackoverflow.com/users/9073310/chiien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531332486, "creation_date": 1531332486, "question_id": 51291829, "link": "https://stackoverflow.com/questions/51291829/how-to-remove-duplicated-item-in-array-of-array", "title": "How to remove duplicated item in array of array", "body": "<p>I have an array like that:</p>\n\n<pre><code>    [{\n        id: 1,\n        name: 'Proposal'\n    },\n    {\n        id: 2,\n        name: 'Contract',\n        children: [\n            {\n                name: 'Approval',\n                component: '/approval'\n            },\n            {\n                name: 'Cancellation',\n                component: '/cancellation'\n            }\n        ]\n    }]\n</code></pre>\n\n<p>and another like that:</p>\n\n<pre><code>    [{\n        id: 1,\n        name: 'Proposal'\n    },\n    {\n        id: 2,\n        name: 'Contract',\n        children: [\n            {\n                name: 'Approval',\n                component: '/approval'\n            }\n        ]\n    }, \n    {\n        id: 3,\n        name: 'Example'\n    }]\n</code></pre>\n\n<p>My question is how is the best way to filter arrays, and remove one if have duplicated or more, even in array of children. Or the best, is like arrays merge!</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3", "angular-http-interceptors"], "comments": [{"owner": {"reputation": 873, "user_id": 930638, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e383c589202c612c9d25ec8479f73559?s=128&d=identicon&r=PG", "display_name": "ali", "link": "https://stackoverflow.com/users/930638/ali"}, "edited": false, "score": 0, "creation_date": 1531507608, "post_id": 51291526, "comment_id": 89638008, "body": "No one has any idea, what the problem may be?"}, {"owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1531802542, "post_id": 51291526, "comment_id": 89718341, "body": "In which case you need to make retry?"}, {"owner": {"reputation": 753, "user_id": 7302598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1156964774381992/picture?type=large", "display_name": "Dmytro Grynets", "link": "https://stackoverflow.com/users/7302598/dmytro-grynets"}, "edited": false, "score": 0, "creation_date": 1531820217, "post_id": 51291526, "comment_id": 89727443, "body": "You have a crazy mix of rx and promises, try using rx for all so that it will be more obvious, it&#39;s hard to tell how those promises and rx interacts"}, {"owner": {"reputation": 873, "user_id": 930638, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e383c589202c612c9d25ec8479f73559?s=128&d=identicon&r=PG", "display_name": "ali", "link": "https://stackoverflow.com/users/930638/ali"}, "reply_to_user": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1531845603, "post_id": 51291526, "comment_id": 89744760, "body": "@PareshGami After I call refreshToken and get the new token, then I want to retry the last http request."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1532168012, "post_id": 51291526, "comment_id": 89879369, "body": "you seem to have done error handling within <code>tap</code>? you should use <code>catchError</code> for that.."}, {"owner": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "edited": false, "score": 0, "creation_date": 1532372528, "post_id": 51291526, "comment_id": 89940246, "body": "Possible duplicate <a href=\"https://stackoverflow.com/questions/45202208/angular-4-interceptor-retry-requests-after-token-refresh\" title=\"angular 4 interceptor retry requests after token refresh\">stackoverflow.com/questions/45202208/&hellip;</a>"}], "owner": {"reputation": 873, "user_id": 930638, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e383c589202c612c9d25ec8479f73559?s=128&d=identicon&r=PG", "display_name": "ali", "link": "https://stackoverflow.com/users/930638/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1057, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1531777580, "creation_date": 1531331242, "last_edit_date": 1531777580, "question_id": 51291526, "link": "https://stackoverflow.com/questions/51291526/ionic-3-with-angular-5-http-interceptor-retry-request-does-not-work", "title": "ionic 3 with angular 5 Http Interceptor Retry request does not work", "body": "<p>I am working on the app with use the token authentication with refresh token. I have successfully implemented the authentication and refresh token in angular v1 in a web application. In the ionic 3 app which is using angular v5 I also implemented the process. It is successfully getting the new token by refresh token. But the problem is, it is not calling the last request again.</p>\n\n<p>here is my Http interceptor implementation.</p>\n\n<pre><code>@Injectable()\nexport class HttpsRequestInterceptor implements HttpInterceptor {\nisRefreshingToken: boolean = false;\ntokenSubject: BehaviorSubject&lt;string&gt; = new BehaviorSubject&lt;string&gt;(null);\n\nconstructor(\n    private injector : Injector\n) {\n\n}\n\naddToken(req: HttpRequest&lt;any&gt;, token: string): HttpRequest&lt;any&gt; {\n    return req.clone({ setHeaders: { Authorization: 'Bearer ' + token }})\n}\n\nintercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpSentEvent | HttpHeaderResponse | HttpProgressEvent | HttpResponse&lt;any&gt; | HttpUserEvent&lt;any&gt;&gt; {\n\n    const authenticationService = this.injector.get(AuthenticationService);\n\n    let user : AuthenticatedUser = authenticationService.getUser1();\n\n    console.log(\"token\", (user)? user.token : null);\n\n    let dupReq: HttpRequest&lt;any&gt;;\n\n    if (user &amp;&amp; req.urlWithParams.indexOf(\"/token\") &lt; 0) {\n\n        dupReq = this.addToken(req, user.token);\n\n    } else {\n        dupReq = req;\n    }\n\n    return next.handle(dupReq).pipe(\n        tap(event =&gt; {\n            if (event instanceof HttpResponse) {\n\n            console.log(`Request for ${dupReq.urlWithParams} return status text : ${event.statusText} .`);\n            }\n        }, error =&gt; {\n            if (error instanceof HttpErrorResponse) {\n                switch ((&lt;HttpErrorResponse&gt;error).status) {\n\n                    case 401:\n                        return this.handle401Error(dupReq, next);\n                }\n            } else{\n                return Observable.throw(error);\n            }\n        })\n    )\n}\n\nhandle401Error(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\n\n    if (this.isRefreshingToken == false) {\n        this.isRefreshingToken = true;\n\n        this.tokenSubject.next(null);\n\n        const authenticationService = this.injector.get(AuthenticationService);\n\n        return authenticationService.refreshToken().then((result: ResultSet) =&gt;{\n\n            this.isRefreshingToken = false;\n\n            if (result.isSuccess) {\n\n                console.log(result.message, result.model.token);\n\n                let user: AuthenticatedUser  = result.model;\n                this.tokenSubject.next(user.token);\n                return next.handle(this.addToken(req, user.token));\n            } \n            // TODO logout.\n        }).catch((error: ResultSet) =&gt;{\n            this.isRefreshingToken = false;\n\n            // TODO logout.\n        });\n    } else {\n        return this.tokenSubject\n                        .filter(token =&gt; token != null)\n                        .take(1)\n                        .switchMap(token =&gt; {\n                            return next.handle(this.addToken(req, token));\n                        });\n    }\n}};\n</code></pre>\n\n<p>Anyone know why the interceptor is not repeating the last request again.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531330148, "post_id": 51291218, "comment_id": 89560181, "body": "did you add your css to style.css"}, {"owner": {"reputation": 461, "user_id": 9040953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZat4.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/9040953/john"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531330309, "post_id": 51291218, "comment_id": 89560253, "body": "I haven&#39;t added any CSS. The <code>h1</code> and <code>h3</code> should default to different sizes."}, {"owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 1, "creation_date": 1531331268, "post_id": 51291218, "comment_id": 89560678, "body": "Using developer tools what the css of the <code>h1</code> and <code>h3</code> element?  in this case you should find the default css rules of <code>h1</code>, <code>h2</code> and there must be rules overwriting them. or maybe they aren&#39;t rendered as <code>h</code> for whatever reasons."}, {"owner": {"reputation": 461, "user_id": 9040953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZat4.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/9040953/john"}, "edited": false, "score": 0, "creation_date": 1531331867, "post_id": 51291218, "comment_id": 89560956, "body": "You&#39;re right, using dev tools, I can see the <code>user agent stylesheet</code> is removing Bulma&#39;s default <code>h1</code> and <code>h2</code> default <code>size</code> and <code>font-weight</code> properties."}, {"owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1531332333, "post_id": 51291218, "comment_id": 89561167, "body": "@John great, then have you solved it so I should at as answer to close the question or still the issue unsolved?"}, {"owner": {"reputation": 461, "user_id": 9040953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZat4.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/9040953/john"}, "edited": false, "score": 0, "creation_date": 1531332401, "post_id": 51291218, "comment_id": 89561193, "body": "No. It&#39;s not solved. I don&#39;t know why user agent stylesheet is overriding my CSS framework. Investigating ..."}, {"owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1531332907, "post_id": 51291218, "comment_id": 89561416, "body": "@John check your <code>&lt;!DOCTYPE html&gt;</code> in the <code>index.html</code> AFAIK if it&#39;s written incorrectly it causes this weird styling issue"}, {"owner": {"reputation": 461, "user_id": 9040953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZat4.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/9040953/john"}, "reply_to_user": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1531333541, "post_id": 51291218, "comment_id": 89561685, "body": "@k0hamed Checked that. Wasn&#39;t it."}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 1, "creation_date": 1531333867, "post_id": 51291218, "comment_id": 89561831, "body": "Could you point as to live demo?"}, {"owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1531333919, "post_id": 51291218, "comment_id": 89561853, "body": "it&#39;s not the <code>user agent stylesheet</code> which is overwriting it, the image you added tells that it&#39;s the <code>user agent stylesheet </code> that is being overwritten, you must find another rule with the value overwriting it,  the <code>font-size</code> to small and <code>font-weight</code> to normal"}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 0, "creation_date": 1531336164, "post_id": 51291218, "comment_id": 89562927, "body": "At least give us <code>app.component.css</code>"}, {"owner": {"reputation": 461, "user_id": 9040953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZat4.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/9040953/john"}, "edited": false, "score": 0, "creation_date": 1531336535, "post_id": 51291218, "comment_id": 89563101, "body": "There it is. Nothing in there that would affect anything."}], "answers": [{"tags": [], "owner": {"reputation": 461, "user_id": 9040953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZat4.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/9040953/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1531337739, "creation_date": 1531337739, "answer_id": 51293038, "question_id": 51291218, "link": "https://stackoverflow.com/questions/51291218/angular-6-with-bulma-css-renders-html-elements-without-bulma-styling/51293038#51293038", "title": "Angular 6 with Bulma CSS renders HTML elements without Bulma styling", "body": "<p>Okay, so the problem is Bulma itself. It does some strange things with HTML header tags. </p>\n\n<p>You need to wrap <code>h1</code> etc. in <code>&lt;div class=\"content\"&gt;</code> tags. Like this: </p>\n\n<pre><code>&lt;div class=\"content\"&gt;\n  &lt;div class=\"card\" style=\"margin: 0 auto;\"&gt;\n    &lt;h1&gt;My New App&lt;/h1&gt;\n    &lt;h3&gt;You have a lot of work to do&lt;/h3&gt;\n    &lt;ul&gt;\n      &lt;li&gt;item 1&lt;/li&gt;\n      &lt;li&gt;item 2&lt;/li&gt;\n      &lt;li&gt;\n        &lt;ol&gt;\n          &lt;li&gt;sub-item 1&lt;/li&gt;\n          &lt;li&gt;sub-item 2&lt;/li&gt;\n        &lt;/ol&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/jgthms/bulma/issues/1627\" rel=\"nofollow noreferrer\">This Github issue</a> explains further. </p>\n\n<p><a href=\"https://bulma.io/documentation/elements/content/\" rel=\"nofollow noreferrer\">This Bulma documentation</a> is also helpful.</p>\n"}], "owner": {"reputation": 461, "user_id": 9040953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZat4.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/9040953/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531337811, "creation_date": 1531330019, "last_edit_date": 1531337811, "question_id": 51291218, "link": "https://stackoverflow.com/questions/51291218/angular-6-with-bulma-css-renders-html-elements-without-bulma-styling", "title": "Angular 6 with Bulma CSS renders HTML elements without Bulma styling", "body": "<p>I just installed Angular 6, spun up a new app, and added <a href=\"https://www.npmjs.com/package/angular-bulma\" rel=\"nofollow noreferrer\">Bulma</a> as a CSS framework. </p>\n\n<p>To make sure everything was running correctly, I made a few quick changes to my <code>app.component.html</code> template and ran <code>ng serve</code>. Here's the HTML. </p>\n\n<pre><code>&lt;div class=\"card\" style=\"margin: 0 auto;\"&gt;\n  &lt;h1&gt;My New App&lt;/h1&gt;\n  &lt;h3&gt;You have a lot of work to do&lt;/h3&gt;\n  &lt;ul&gt;\n    &lt;li&gt;item 1&lt;/li&gt;\n    &lt;li&gt;item 2&lt;/li&gt;\n    &lt;li&gt;\n      &lt;ol&gt;\n        &lt;li&gt;sub-item 1&lt;/li&gt;\n        &lt;li&gt;sub-item 2&lt;/li&gt;\n      &lt;/ol&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The Bulma is fine. Bafflingly, though, the <code>H1</code> and <code>H3</code>s are rendering like this. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4NbpV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4NbpV.png\" alt=\"baffling HTML\"></a></p>\n\n<p>Have I missed some basic, fundamental change with Angular 6? Pretty sure HTML should work straight out of the bag. </p>\n\n<p>Here you can see the default Bulma styling crossed out</p>\n\n<p><a href=\"https://i.stack.imgur.com/a1QWy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a1QWy.png\" alt=\"dev tools shot\"></a></p>\n\n<p>Let me know if you'd like me to post the <code>app.module.ts</code> or <code>app.component.ts</code>, <code>package.json</code>, or <code>angular.json.</code> files.  </p>\n\n<pre><code>#### app.component.css ####\n\nul {\n  list-style: none;\n}\n\n\n#### angular.json ####\n\n...\n\n\"styles\": [\n    \"src/styles.css\",\n    \"node_modules/bulma/css/bulma.min.css\"\n  ]\n\n...\n</code></pre>\n"}, {"tags": ["angular", "typescript", "jestjs", "ace-editor", "react-ace"], "comments": [{"owner": {"reputation": 37, "user_id": 3033412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b5b44cd67f48107daceefb22de2b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Light Of Heaven", "link": "https://stackoverflow.com/users/3033412/light-of-heaven"}, "edited": false, "score": 0, "creation_date": 1531328704, "post_id": 51290734, "comment_id": 89559422, "body": "Also worth mentioning, <a href=\"https://github.com/ace-diff/ace-diff\" rel=\"nofollow noreferrer\">github.com/ace-diff/ace-diff</a> is the library that includes the error being thrown at <a href=\"https://github.com/ace-diff/ace-diff/blob/master/src/index.js#L12\" rel=\"nofollow noreferrer\">github.com/ace-diff/ace-diff/blob/master/src/index.js#L12</a>. I can probably suggest the fix if I knew what was breaking it."}], "owner": {"reputation": 37, "user_id": 3033412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b5b44cd67f48107daceefb22de2b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Light Of Heaven", "link": "https://stackoverflow.com/users/3033412/light-of-heaven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 703, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560965799, "creation_date": 1531328127, "last_edit_date": 1541707247, "question_id": 51290734, "link": "https://stackoverflow.com/questions/51290734/cannot-read-property-acequire-of-undefined", "title": "Cannot read property &#39;acequire&#39; of undefined", "body": "<p>Jest test failing with</p>\n\n<blockquote>\n  <p>Test suite failed to run</p>\n  \n  <p>TypeError: Cannot read property 'acequire' of undefined</p>\n  \n  <p>at Object. (node_modules/ace-diff/src/index.js:12:35)</p>\n</blockquote>\n\n<p>Saw similar issues at securingsincity/react-ace#179, securingsincity/react-ace#230 for react-ace library. Nuking node_modules did not fix the problem.</p>\n\n<p>Is there a way to ignore the error from jest? Error does not get thrown when I run the application.</p>\n\n<p>Package.json</p>\n\n<pre><code>{\n  \"name\": \"app-ui\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"jest\": {\n    \"preset\": \"jest-preset-angular\",\n    \"setupTestFrameworkScriptFile\": \"&lt;rootDir&gt;/src/setupJest.ts\",\n    \"collectCoverage\": true\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"6.0.0\",\n    \"@angular/common\": \"6.0.0\",\n    \"@angular/compiler\": \"6.0.0\",\n    \"@angular/core\": \"6.0.0\",\n    \"@angular/forms\": \"6.0.0\",\n    \"@angular/http\": \"6.0.0\",\n    \"@angular/platform-browser\": \"6.0.0\",\n    \"@angular/platform-browser-dynamic\": \"6.0.0\",\n    \"@angular/router\": \"6.0.0\",\n    \"@ng-select/ng-select\": \"^2.3.2\",\n    \"@ngrx/effects\": \"6.0.0-beta.1\",\n    \"@ngrx/router-store\": \"6.0.0-beta.1\",\n    \"@ngrx/store\": \"6.0.0-beta.1\",\n    \"@ngrx/store-devtools\": \"6.0.0-beta.1\",\n    \"@types/highlight.js\": \"^9.12.2\",\n    \"@types/mustache\": \"0.8.30\",\n    \"@types/underscore\": \"1.8.4\",\n    \"ace-diff\": \"2.2.0\",\n    \"ang-jsoneditor\": \"^1.5.12\",\n    \"brace\": \"0.11.1\",\n    \"core-js\": \"2.4.1\",\n    \"highlightjs\": \"^9.10.0\",\n    \"js-yaml\": \"^3.11.0\",\n    \"jsoneditor\": \"^5.17.1\",\n    \"mermaid\": \"8.0.0-rc.8\",\n    \"mustache\": \"2.3.0\",\n    \"ng2-ace-editor\": \"0.3.1\",\n    \"ng2-select\": \"2.0.0\",\n    \"ng2-semantic-ui\": \"0.9.7\",\n    \"popper.js\": \"1.12.9\",\n    \"rxjs\": \"6.1.0\",\n    \"semantic-ui-css\": \"2.2.12\",\n    \"semver\": \"^5.5.0\",\n    \"underscore\": \"1.8.3\",\n    \"zone.js\": \"^0.8.14\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.6.1\",\n    \"@angular/cli\": \"^6.0.1\",\n    \"@angular/compiler-cli\": \"6.0.0\",\n    \"@angular/language-service\": \"6.0.0\",\n    \"@types/chai\": \"^4.1.2\",\n    \"@types/jasmine\": \"2.5.53\",\n    \"@types/jasminewd2\": \"2.0.2\",\n    \"@types/jest\": \"^22.2.2\",\n    \"@types/node\": \"6.0.60\",\n    \"chai\": \"^4.1.2\",\n    \"codelyzer\": \"3.2.0\",\n    \"jasmine-core\": \"2.6.2\",\n    \"jasmine-marbles\": \"^0.3.1\",\n    \"jasmine-spec-reporter\": \"4.1.0\",\n    \"jest\": \"^22.4.3\",\n    \"jest-junit\": \"^3.6.0\",\n    \"jest-preset-angular\": \"^5.2.1\",\n    \"karma\": \"1.7.0\",\n    \"karma-chrome-launcher\": \"2.1.1\",\n    \"karma-cli\": \"1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"1.2.1\",\n    \"karma-jasmine\": \"1.1.0\",\n    \"karma-jasmine-html-reporter\": \"0.2.2\",\n    \"protractor\": \"5.1.2\",\n    \"ts-node\": \"3.2.0\",\n    \"tslint\": \"5.7.0\",\n    \"typescript\": \"2.7.2\",\n    \"babel-jest\": \"23.4.0\",\n    \"babel-core\": \"6.26.3\",\n    \"babel-preset-env\": \"1.7.0\"\n  }\n}\n</code></pre>\n\n<p>jest config:</p>\n\n<pre><code>{\n  \"preset\": \"jest-preset-angular\",\n  \"setupTestFrameworkScriptFile\": \"&lt;rootDir&gt;/src/setupJest.ts\",\n  \"globals\": {\n    \"ts-jest\": {\n      \"tsConfigFile\": \"src/tsconfig.spec.json\",\n      \"useBabelrc\": true\n    },\n    \"__TRANSFORM_HTML__\": true\n  },\n  \"transform\": {\n    \"^.+\\\\.(ts|js|html)$\": \"&lt;rootDir&gt;/node_modules/jest-preset-angular/preprocessor.js\",\n    \"^.+\\\\.js$\": \"babel-jest\"\n  },\n  \"transformIgnorePatterns\": [\n    \"node_modules/(?!(ace-diff))\"\n  ]\n}\n</code></pre>\n\n<p>I can't share my source code but, I am importing AceDiff in my component as follows</p>\n\n<pre><code>import AceDiff from 'ace-diff/src/index.js';\n</code></pre>\n\n<p>and then using it as </p>\n\n<pre><code>this.appEditorAceDiffer = new AceDiff({\n      element: '.acediff',\n      left: {\n        content: this.originalYaml,\n        editable: false\n      },\n      right: {\n        content: this.SomeYaml,\n        copyLinkEnabled: false\n      },\n    });\n</code></pre>\n\n<p>Please let me know how I can provide more information.</p>\n"}, {"tags": ["typescript", "google-chrome", "internet-explorer"], "comments": [{"owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "edited": false, "score": 0, "creation_date": 1531327628, "post_id": 51290454, "comment_id": 89558926, "body": "now it is -2... Please let me know what is unclear."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 4, "creation_date": 1531329209, "post_id": 51290454, "comment_id": 89559684, "body": "TypeScript doesn&#39;t provide any runtime functionality, so asking how to do a runtime thing &quot;in TypeScript not Javascript&quot; doesn&#39;t make any sense"}, {"owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1531331117, "post_id": 51290454, "comment_id": 89560608, "body": "Thanks Ryan for your nice explanation. I am OK to close this if this is really not possible...I wish people can explain and down vote just down voting.."}], "answers": [{"comments": [{"owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "edited": false, "score": 0, "creation_date": 1531331039, "post_id": 51291408, "comment_id": 89560575, "body": "Thanks. So far in my research also same thing. I was able to get client Ip address so was looking around for client machine name..."}, {"owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "edited": false, "score": 0, "creation_date": 1531331306, "post_id": 51291408, "comment_id": 89560695, "body": "Evelijn.. We are doing splunk logging with userid and client ip address. Sometimes I get clientIP address but not username since authentication might fail. In such cases I wondering to log client machine name along with clientIp address since machine name will help locating the user...I hope this is clear.. please let me know..."}, {"owner": {"reputation": 323, "user_id": 7105514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51833587f1ffb11fa2a167136edf2dad?s=128&d=identicon&r=PG", "display_name": "Evelijn", "link": "https://stackoverflow.com/users/7105514/evelijn"}, "reply_to_user": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "edited": false, "score": 0, "creation_date": 1531332831, "post_id": 51291408, "comment_id": 89561384, "body": "@Ziggler Ah okay, I understand. Can I assume this is used for your IT back office? I&#39;m not experienced in this field, so I don&#39;t think I can help you, sorry..."}], "tags": [], "owner": {"reputation": 323, "user_id": 7105514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51833587f1ffb11fa2a167136edf2dad?s=128&d=identicon&r=PG", "display_name": "Evelijn", "link": "https://stackoverflow.com/users/7105514/evelijn"}, "is_accepted": false, "score": 3, "last_activity_date": 1531330808, "creation_date": 1531330808, "answer_id": 51291408, "question_id": 51290454, "link": "https://stackoverflow.com/questions/51290454/typescript-how-to-get-clients-machine-name-in-ie-and-chrome/51291408#51291408", "title": "TypeScript - how to get client&#39;s machine name in IE and Chrome", "body": "<p>We can't. Browsers don't support this for security reasons.</p>\n"}], "owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1533574524, "creation_date": 1531327022, "last_edit_date": 1533574524, "question_id": 51290454, "link": "https://stackoverflow.com/questions/51290454/typescript-how-to-get-clients-machine-name-in-ie-and-chrome", "title": "TypeScript - how to get client&#39;s machine name in IE and Chrome", "body": "<p><strong>This is not a duplicate question</strong>. I am asking for <strong>TypeScript</strong> not JavaScript in ASP.NET or JavaScript standalone or C#. </p>\n\n<p>How can we get client machine name in TypeScript?</p>\n\n<p>I tried below and it works good in IE. I want same in Chrome.</p>\n\n<pre><code>// after import statements and before @Component statement\ndeclare var ActiveXObject: (type: string) =&gt; void; \n\n// somewhere in your typescript code. This works for IE\nconst network = new ActiveXObject('WScript.Network');            \nconsole.log(network.computerName);\nconsole.log(network.userName);\nconsole.log(network.userDomain);\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Above works but not ideal solution. In IE, it is showing a popup asking to run ActiveX which my users does not want.</p>\n\n<p><strong>UPDATE Aug 06 2018</strong></p>\n\n<p>For now we decided not to use ClientPAddress or ClientMachineName in our logs. We will look later but at one point of time we certainly will do. </p>\n"}, {"tags": ["reactjs", "typescript", "d3.js"], "owner": {"reputation": 39, "user_id": 7785936, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe0344a8ba1cc0cd34b9ea9cd802b532?s=128&d=identicon&r=PG&f=1", "display_name": "Prc", "link": "https://stackoverflow.com/users/7785936/prc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 609, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1531325833, "creation_date": 1531325432, "last_edit_date": 1531325833, "question_id": 51290008, "link": "https://stackoverflow.com/questions/51290008/draw-d3-axis-with-react-typescript", "title": "Draw d3 Axis with React/Typescript", "body": "<p>I'm trying to render an Axis with React, d3 and Typescript. I will show the code and the staten the problem.</p>\n\n<pre><code>class Axis extends React.Component&lt;{}&gt; {\n  private ref: React.RefObject&lt;SVGGElement&gt;;\n\n  constructor(props: any) {\n    super(props);\n    this.ref = React.createRef();\n  }\n\n  public componentDidMount() { \n    this.renderAxis();\n  }\n\n  public componentDidUpdate() {\n    this.renderAxis();\n  }\n\n  public render() {\n    return (\n      &lt;g transform=\"translate(10,30)\" ref={this.ref} /&gt;\n    )\n  }\n\n\n  private renderAxis = () =&gt; {\n    const scale = d3.scaleLinear().domain([0, 10]).range([0, 200]);\n\n    const axis = d3.axisBottom(scale);\n    d3**.select(this.ref)**.call(axis);\n  }\n}\n\nexport default Axis;\n</code></pre>\n\n<p>I create a SVG <strong>g</strong> element which should hold the axis. I therefore create a ref to be able to access this element later.</p>\n\n<pre><code>private ref: React.RefObject&lt;SVGGElement&gt;;\n&lt;g transform=\"translate(10,30)\" ref={this.ref} /&gt;\n</code></pre>\n\n<p>When I try to select this element here...</p>\n\n<pre><code>d3.select(this.ref).call(axis);\n</code></pre>\n\n<p>...I get the error on <em>this.ref</em>: Argument of type 'RefObject' is not assignable to parameter of type 'BaseType'</p>\n\n<p>I can't figure out what I am supposed to do here. Can anybody point me in the right direction?</p>\n\n<p><strong>SOLVED</strong></p>\n\n<p>Okay I feel stupid right now. I accessed the ref wrongly..\nIt was supposed to be <em>this.ref</em> <strong>.current</strong></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2490, "user_id": 2308847, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/992ac8e81d1f40bf4900105b0b448ce6?s=128&d=identicon&r=PG", "display_name": "codeepic", "link": "https://stackoverflow.com/users/2308847/codeepic"}, "edited": false, "score": 1, "creation_date": 1531325861, "post_id": 51289965, "comment_id": 89557982, "body": "It kinda defeats the purpose of static typing if your <code>viewType</code> can either have rows and columns or moreButton and forceSquare. I think the problem is how you want to use <code>viewType: Grid | Waterfall;</code> It should be one or another."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8668034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f170015239d5102a3ec216149e9f244e?s=128&d=identicon&r=PG&f=1", "display_name": "Y.Y.", "link": "https://stackoverflow.com/users/8668034/y-y"}, "edited": false, "score": 0, "creation_date": 1531330907, "post_id": 51290051, "comment_id": 89560521, "body": "Oh, thank you I found the answer somewhere that it would work if I wrote something like <code>if (view.viewType.rows)</code>. But it did not work. But your answer works well."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1531325604, "creation_date": 1531325604, "answer_id": 51290051, "question_id": 51289965, "link": "https://stackoverflow.com/questions/51289965/typescript-an-error-occurs-when-reading-and-nesting-an-interface-that-contains/51290051#51290051", "title": "Typescript : An error occurs when reading and nesting an interface that contains a union value", "body": "<p>That warning is a good one; it's telling you that <code>view.viewType.rows</code> might not exist.  You have to convince the compiler that it does exist before it will let you use it.  Here's one way:</p>\n\n<pre><code>if ('rows' in view.viewType) {\n  // view.viewType is now known to be Grid\n  console.log(view.viewType.rows); // okay\n  console.log(view.viewType.columns); // also works\n}\n</code></pre>\n\n<p>Does that make sense?  Hope that helps. Good luck!</p>\n"}], "owner": {"reputation": 23, "user_id": 8668034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f170015239d5102a3ec216149e9f244e?s=128&d=identicon&r=PG&f=1", "display_name": "Y.Y.", "link": "https://stackoverflow.com/users/8668034/y-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 51290051, "answer_count": 1, "score": 1, "last_activity_date": 1531325604, "creation_date": 1531325254, "question_id": 51289965, "link": "https://stackoverflow.com/questions/51289965/typescript-an-error-occurs-when-reading-and-nesting-an-interface-that-contains", "title": "Typescript : An error occurs when reading and nesting an interface that contains a union value", "body": "<p><strong>Question</strong></p>\n\n<p>I nested an interface that contained a value of type union to manage many settings in separate files.</p>\n\n<p>There is no problem when initializing the value to const, but there is a problem reading the value.</p>\n\n<pre><code>TS2339: Property 'rows' does not exist on type 'Grid | Waterfall'.\nProperty 'rows' does not exist on type 'Waterfall'.\n</code></pre>\n\n<p>Is there a way to avoid errors?\nI have just started type scripts, so in such a situation I do not know how to solve Typescript.\nPlease help me know someone</p>\n\n<p><strong>TypeScript Version</strong>: 2.6.1</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>interface Grid {\n  rows: number;\n  columns: number;\n}\ninterface Waterfall {\n  moreButton: boolean;\n  forceSquare: boolean;\n}\ninterface View {\n  viewType: Grid | Waterfall;\n  postType: string;\n  mainColor: string;\n}\nconst view: View = {\n  viewType: {\n    rows: 3,\n    columns: 5\n  },\n  postType: 'image, video',\n  mainColor: 'blue',\n};\n\nconsole.log(view.viewType.rows);\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1531325322, "post_id": 51289861, "comment_id": 89557736, "body": "Looks like a valid error to me; you haven&#39;t initialized <code>state</code> to a valid <code>State &amp; Default</code>.  When in the code does it get set properly?"}, {"owner": {"reputation": 886, "user_id": 1406849, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc2f24b59028a45a7c27b04834b08d8a?s=128&d=identicon&r=PG", "display_name": "mloureiro", "link": "https://stackoverflow.com/users/1406849/mloureiro"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531373171, "post_id": 51289861, "comment_id": 89572764, "body": "I was attempting to set it partially, but it makes sense if I initialise it partially it is not a valid object of that type."}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1531349393, "post_id": 51293665, "comment_id": 89567865, "body": "Using a type assertion (<code>as</code>) is only a good idea if the developer knows that the assertion is or will be valid, since it relaxes the compiler&#39;s type checking.  The code as it stands looks like it should be an error, unless @mloureiro adds more information about how <code>state</code> will be properly initialized."}, {"owner": {"reputation": 678, "user_id": 10065257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603f133307c34af2c4f6768f0efdad95?s=128&d=identicon&r=PG&f=1", "display_name": "dsych", "link": "https://stackoverflow.com/users/10065257/dsych"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531387420, "post_id": 51293665, "comment_id": 89580487, "body": "@jcalz, yep. But declaration object with params(as in code snippet) will not suit any type with same fields (except <code>state: {something: boolean} = {something: false}</code>), so explicit cast is required. Otherwise, he can pass set param via constructor or via setter, so explicit cast can (and should) be avoided"}], "tags": [], "owner": {"reputation": 678, "user_id": 10065257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603f133307c34af2c4f6768f0efdad95?s=128&d=identicon&r=PG&f=1", "display_name": "dsych", "link": "https://stackoverflow.com/users/10065257/dsych"}, "is_accepted": false, "score": 1, "last_activity_date": 1531340551, "creation_date": 1531340551, "answer_id": 51293665, "question_id": 51289861, "link": "https://stackoverflow.com/questions/51289861/initializing-state-with-generic/51293665#51293665", "title": "Initializing state with generic", "body": "<p>As about your code - the trick is <code>as  State &amp; Default</code> because TS see <code>{something: false}</code> as some object. But </p>\n\n<pre><code>class A&lt;State&gt; {\n  state: State &amp; Default = {\n    something: false\n  } as  State &amp; Default;\n}\n</code></pre>\n\n<p>will be ok.\nAlso, probably it will suit your needs, you can try extandable generics:</p>\n\n<pre><code>interface Default {\n  something: boolean\n}\ninterface State extends Default {\n  something: boolean,\n}\n\nclass A&lt;T extends Default&gt; {\n  state: T = {\n    something: false\n  } as T;\n}\n</code></pre>\n"}], "owner": {"reputation": 886, "user_id": 1406849, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc2f24b59028a45a7c27b04834b08d8a?s=128&d=identicon&r=PG", "display_name": "mloureiro", "link": "https://stackoverflow.com/users/1406849/mloureiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531465399, "creation_date": 1531324856, "last_edit_date": 1531465399, "question_id": 51289861, "link": "https://stackoverflow.com/questions/51289861/initializing-state-with-generic", "title": "Initializing state with generic", "body": "<p>edit: </p>\n\n<h2>IMPORTANT</h2>\n\n<p>As @jcalz mentions, the example as is, it is wrong, since if there is any <code>State</code> defined on child component, than the initialization is wrong.</p>\n\n<p>As a way to ignore it, it is possible to use <code>as</code> key as @sychd mention, but remember <strong>this example is actually an error</strong></p>\n\n<hr />\n\n<p>I'm struggling with initializing state with typescript</p>\n\n<p>So I have a component that has variable state, i.e. the component has state, but the children can also define (extra) state.</p>\n\n<p>This brings the problem of trying to initialise the parent state with only the part that it knows of.</p>\n\n<p>This piece of code can explain the issue</p>\n\n<pre><code>interface Default {\n  something: boolean\n}\n\nclass A&lt;State&gt; {\n  state: State &amp; Default = {\n    something: false\n  }\n}\n</code></pre>\n\n<p>check: <a href=\"https://www.typescriptlang.org/play/#src=interface%20Default%20%7B%0D%0A%20%20something%3A%20boolean%0D%0A%7D%0D%0A%0D%0Aclass%20A%3CState%3E%20%7B%0D%0A%20%20state%3A%20State%20%26%20Default%20%3D%20%7B%0D%0A%20%20%20%20something%3A%20false%0D%0A%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">Typescript Playground</a></p>\n\n<p>So above we see that <code>state</code> complains about that <code>Default</code> type is not assignable to <code>Default &amp; State</code></p>\n\n<p>Any ideas how to solve this?</p>\n"}, {"tags": ["angular", "forms", "typescript", "angular2-forms"], "comments": [{"owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "edited": false, "score": 3, "creation_date": 1531324760, "post_id": 51289723, "comment_id": 89557439, "body": "Share the typescript code where you are creating the <code>FormControl</code>"}, {"owner": {"reputation": 21, "user_id": 3154598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffd81fb7b583e0cf42cc328969a83d1?s=128&d=identicon&r=PG&f=1", "display_name": "Chaitya Shah", "link": "https://stackoverflow.com/users/3154598/chaitya-shah"}, "reply_to_user": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "edited": false, "score": 0, "creation_date": 1531427881, "post_id": 51289723, "comment_id": 89604815, "body": "This is on HTML Code :  &lt;input type=&#39;number&#39; [formControl]=&quot;numberValidator&quot; (change)=&quot;isNumberChanged()&quot; [(ngModel)]=&quot;numberAmount&quot;&gt;  On TypeScript :  I am initializing with  numberValidator= new FormControl(); this.formError = this.numberValidator.setValidators([FormValidatorFactory.cre&zwnj;&#8203;ateNumericNotEqualsV&zwnj;&#8203;alidator(&#39;errorcode&#39;&zwnj;&#8203;, 155)]);  So here I am creating my own custom validator which match the entered number with this 155 and return error code or null.... However this above error is gone now..getting another issue now where I am getting formcontrol is undefined error in validtor"}], "owner": {"reputation": 21, "user_id": 3154598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffd81fb7b583e0cf42cc328969a83d1?s=128&d=identicon&r=PG&f=1", "display_name": "Chaitya Shah", "link": "https://stackoverflow.com/users/3154598/chaitya-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531324408, "creation_date": 1531324408, "question_id": 51289723, "link": "https://stackoverflow.com/questions/51289723/how-to-do-custom-validation-on-input-without-nesting-form-tag-through-formcontr", "title": "How to do custom validation on input without nesting form tag through [formControl]?", "body": "<p>I am getting this error while using  [formControl] on input where no nested  tag and FormGroup present.</p>\n\n<p>In my component .ts file I am initializing formControl as new FormControl();</p>\n\n<p>I am getting this error core.es5.js:1020 ERROR Error: Uncaught (in promise): TypeError: Cannot create property 'validator' on string 'XYZABC'</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1531324277, "post_id": 51289518, "comment_id": 89557147, "body": "@T.J.Crowder So, the 3 is indeed a number value. I updated the post."}, {"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1531325954, "post_id": 51289518, "comment_id": 89558028, "body": "@T.J.Crowder Apologies for the missing info. I added it to the post."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1531326344, "post_id": 51289518, "comment_id": 89558226, "body": "Great stuff! When quoting error messages, it&#39;s generally best to copy and paste them, and use blockquoting to make it clear that you&#39;re quoting (see my edit). Happy coding! (And interesting question, I learned something about TypeScript&#39;s DOM type library today!)"}, {"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1531326560, "post_id": 51289518, "comment_id": 89558344, "body": "@T.J.Crowder My error message is in German, so I couldn&#39;t copy and paste. Glad I could contribute to enlarge the knowledge of a 636k user. And also thank you for better defining the post."}], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 4, "last_activity_date": 1531324500, "creation_date": 1531324500, "answer_id": 51289750, "question_id": 51289518, "link": "https://stackoverflow.com/questions/51289518/create-a-htmlheadingelement-in-typescript/51289750#51289750", "title": "Create a HTMLHeadingElement in TypeScript", "body": "<p>TypeScript has many overloads for <code>createElement()</code> in its <code>lib.dom.d.ts</code> file, so it knows that when <code>createElement()</code> is called with 'h3', that will return an HTMLHeadingElement:</p>\n\n<pre><code>createElement&lt;K extends keyof HTMLElementTagNameMap&gt;(tagName: K): HTMLElementTagNameMap[K];\ncreateElement(tagName: string): HTMLElement;\n</code></pre>\n\n<p>When it doesn't know the tag name at compile time, all it knows is that the method returns an HTMLElement. You know that, however, so you can tell TypeScript:</p>\n\n<pre><code>const myHeading = document.createElement(headingLevel) as HTMLHeadingElement;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "edited": false, "score": 1, "creation_date": 1531327101, "post_id": 51289849, "comment_id": 89558645, "body": "How can you lock the type of <code>LEVEL_MAP</code> to <code>string</code>? The type of <code>HEADING_LEVEL[level]</code> is <code>any and </code>HEADING_LEVEL[level] as string` doesn&#39;t work. Is there a way to set the index signature?"}, {"owner": {"reputation": 1376, "user_id": 2616735, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003840053093/picture?type=large", "display_name": "Curtis Fenner", "link": "https://stackoverflow.com/users/2616735/curtis-fenner"}, "reply_to_user": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "edited": false, "score": 0, "creation_date": 1531333411, "post_id": 51289849, "comment_id": 89561634, "body": "Yes, you can add an explicit type for each property that I forgot to include. I&#39;ll update the answer"}], "tags": [], "owner": {"reputation": 1376, "user_id": 2616735, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003840053093/picture?type=large", "display_name": "Curtis Fenner", "link": "https://stackoverflow.com/users/2616735/curtis-fenner"}, "is_accepted": false, "score": 2, "last_activity_date": 1531333467, "last_edit_date": 1531333467, "creation_date": 1531324832, "answer_id": 51289849, "question_id": 51289518, "link": "https://stackoverflow.com/questions/51289518/create-a-htmlheadingelement-in-typescript/51289849#51289849", "title": "Create a HTMLHeadingElement in TypeScript", "body": "<p><code>headingLevel</code> is declared to have type <code>string</code>. That means it can be <em>any</em> string, including, say, <code>\"canvas\"</code>, which would <em>not</em> lead to <code>myHeading</code> being a <code>HTMLHeadingElement</code>.</p>\n\n<p>You need to be more specific with your types.</p>\n\n<pre><code>const headingLevel: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\"\n</code></pre>\n\n<p>Unfortunately, it appears TypeScript will not let you make these as follows</p>\n\n<pre><code>const level: 1 | 2 | 3 | 4 | 5 | 6\n\n// TypeScript's types don't know how literals are concatenated \nconst headingLevel: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\" = \"h\" + level\n</code></pre>\n\n<p>So you'd need to transform <code>level</code> into its corresponding tag name using a dictionary or array or similar.</p>\n\n<pre><code>const LEVEL_MAP: {1: \"h1\", 2: \"h2\", 3: \"h3\", 4: \"h4\", 5: \"h5\", 6: \"h6\"} = {\n    1: \"h1\",\n    2: \"h2\",\n    3: \"h3\",\n    4: \"h4\",\n    5: \"h5\",\n    6: \"h6\",\n}\nconst headingLevel: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\" = LEVEL_MAP[level]\n</code></pre>\n\n<p>... It would be nice if TypeScript supported <code>\"h\" + 1</code> being of type <code>\"h1\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 9632299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BMaFO6CDtqI/AAAAAAAAAAI/AAAAAAAAAB0/FoePdMblVhg/photo.jpg?sz=128", "display_name": "Dmitry McLygin", "link": "https://stackoverflow.com/users/9632299/dmitry-mclygin"}, "is_accepted": false, "score": 0, "last_activity_date": 1531329280, "creation_date": 1531329280, "answer_id": 51291029, "question_id": 51289518, "link": "https://stackoverflow.com/questions/51289518/create-a-htmlheadingelement-in-typescript/51291029#51291029", "title": "Create a HTMLHeadingElement in TypeScript", "body": "<p>You have to convert returned object to <code>HTMLHeadingElement</code></p>\n\n<p><code>const myHeading: HTMLHeadingElement = document.createElement(headingLevel) as HTMLHeadingElement;</code></p>\n"}], "owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2060, "favorite_count": 0, "accepted_answer_id": 51289750, "answer_count": 3, "score": 5, "last_activity_date": 1531333467, "creation_date": 1531323695, "last_edit_date": 1531326292, "question_id": 51289518, "link": "https://stackoverflow.com/questions/51289518/create-a-htmlheadingelement-in-typescript", "title": "Create a HTMLHeadingElement in TypeScript", "body": "<p>I am trying to create a <code>HTMLHeadingElement</code>. To do that I use:</p>\n\n<pre><code>const myHeading: HTMLHeadingElement = document.createElement(\"h3\");\n</code></pre>\n\n<p>So this works perfectly. But when I try to create this element more dynamically, I fail doing so:</p>\n\n<pre><code>const level: number = 3;\nconst headingLevel: string = \"h\" + level;\nconst myHeading: HTMLHeadingElement = document.createElement(headingLevel);\n</code></pre>\n\n<p>So, it looks like essentially the same thing, but apparently it isn't. The error I get when hovering <code>myHeading</code> is:</p>\n\n<blockquote>\n  <p>Type 'HTMLElement' is not assignable to type 'HTMLHeadingElement'</p>\n</blockquote>\n\n<p>In the first example, though, the method <code>createElement(\"h3\")</code> right away returns the type <code>HTMLHeadingElement</code>.</p>\n\n<p>Now, my first question is, how are these two commands different? And if not clear then, how can I get the same result within <code>myHeading</code> in the second example as shown in the first example?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531323678, "post_id": 51289468, "comment_id": 89556788, "body": "<code>Record&lt;keyof typeof MyEnum, any&gt;</code>?"}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531323958, "post_id": 51289468, "comment_id": 89556954, "body": "@jcalz What is &quot;Record&quot;?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531324079, "post_id": 51289468, "comment_id": 89557022, "body": "A type in the <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.9.2/lib/lib.d.ts#L1379-L1384\" rel=\"nofollow noreferrer\">standard library</a> where <code>Record&lt;K,V&gt;</code> means &quot;an object with keys <code>K</code> and values <code>V</code>&quot;."}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531325670, "post_id": 51289468, "comment_id": 89557889, "body": "@jcalz I have a .reduce method, which yields the return value. And the whole construct is being underlined with an error that one of the string values of MyEnum is missing in the return value of the function."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531325844, "post_id": 51289468, "comment_id": 89557971, "body": "Can you edit the relevant code and errors into your question along with the compiler error so someone can help you debug?"}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531326663, "post_id": 51289468, "comment_id": 89558402, "body": "@jcalz Thank you! Done."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531326865, "post_id": 51289468, "comment_id": 89558517, "body": "Thanks... you might want to add enough info to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For example, <code>someValue</code> can&#39;t be <code>{}</code> because there&#39;s no <code>reduce</code> method on that.  Can you specify the typing for <code>reduce</code>?"}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531327039, "post_id": 51289468, "comment_id": 89558613, "body": "@jcalz Corrected. How can typing for reduce be specified? Reduce returns {}[]."}], "answers": [{"comments": [{"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "edited": false, "score": 0, "creation_date": 1531485315, "post_id": 51292471, "comment_id": 89625421, "body": "Amazing answer! Was absolutely worth it to elaborate on the initial question by your request. Thank you very much! I missed your points 2 and 4 and partially point 5: the rest of the point 5, plus the entire point 6 was inadvertently omitted in the question."}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "edited": false, "score": 0, "creation_date": 1531563596, "post_id": 51292471, "comment_id": 89649567, "body": "but what is the problem with <code>reduce</code>?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "edited": false, "score": 0, "creation_date": 1531585856, "post_id": 51292471, "comment_id": 89656083, "body": "Well, <code>reduce</code> is a <a href=\"https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29\" rel=\"nofollow noreferrer\">fold</a> operation which builds up a final return value from intermediate return values.  But in your case the return value is always the same, and you&#39;re just mutating the data in it.  So <code>reduce</code> is unnecessary, and you might as well use <code>forEach</code>, which doesn&#39;t care about the return value."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1531335403, "creation_date": 1531335403, "answer_id": 51292471, "question_id": 51289468, "link": "https://stackoverflow.com/questions/51289468/how-to-define-type-of-an-object-to-accept-only-keys-from-enum/51292471#51292471", "title": "How to define type of an object to accept only keys from enum?", "body": "<p>So, it looks like there's a lot of stuff going on here. My observations and guesses:</p>\n\n<ul>\n<li><p>Since <code>v</code> is <code>SomeInterface</code>, it seems that <code>someValue</code> must be an array of <code>SomeInterface</code>. </p></li>\n<li><p>I am guessing that <code>res</code> in the body of <code>reduce</code>'s callback function is the desired return value of <code>myMethod</code>, since you're setting values on it in the callback function.  If we call the type of return value of <code>myMethod</code> by the name <code>RetType</code>, that means the keys of <code>RetType</code> must be <code>keyof typeof MyEnum</code>.  </p></li>\n<li><p>You are using <code>v.name</code> as those keys, and since <code>v</code> is <code>SomeInterface</code>, then I guess that <code>SomeInterface</code>'s <code>name</code> property should also be <code>keyof typeof MyEnum</code>.  </p></li>\n<li><p>You are <code>push</code>ing <code>v</code> onto the values of <code>res</code>, so you expect the properties of <code>res</code> to be arrays of <code>SomeInterface</code>.  Hence, <code>RetType</code> is something like <code>Record&lt;keyof typeof MyEnum, SomeInterface[]&gt;</code>, where <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.9.2/lib/lib.d.ts#L1379-L1384\" rel=\"nofollow noreferrer\"><code>Record&lt;K,V&gt;</code></a> is a type from the standard library representing an object with keys in <code>K</code> and values in <code>V</code>.</p></li>\n<li><p>But of course, since <code>someValue</code> might be an empty array, or otherwise not have as many elements as the keys of <code>MyEnum</code>, then <code>RetType</code> might be missing some properties.  So it is more like <code>Partial&lt;Record&lt;keyof typeof MyEnum, SomeInterface[]&gt;&gt;</code>, where <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.9.2/lib/lib.d.ts#L1351-L1356\" rel=\"nofollow noreferrer\"><code>Partial&lt;T&gt;</code></a> is a type from standard library which makes the properties in <code>T</code> optional.</p></li>\n<li><p>Now, I'm not sure if you fully understand the way <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a> works, but the callback needs to return something of the same type as the intended return value.  And the second argument is \"initial value\" which must also be the same type as the intended return value.  Thus I have to change your callback so that it returns <code>res</code>, and the initial value so that it is too of <code>RetType</code>. </p></li>\n<li><p>I also note that since the initial value is an empty object, the first time you try to <code>push</code> something onto one of its array properties, you will find that it is <code>undefined</code>.  So you need to check for that and set it to an empty array before you try to <code>push</code> onto it.</p></li>\n</ul>\n\n<p>That leads me to something like this:</p>\n\n<pre><code>enum MyEnum {\n  One,\n  Two,\n  Three\n}\n\ninterface SomeInterface {\n  name: keyof typeof MyEnum\n};\n\ntype RetType = Partial&lt;Record&lt;keyof typeof MyEnum, SomeInterface[]&gt;&gt;\n\nconst myMethod = (someValue: SomeInterface[]): RetType =&gt; {\n  let someVar = someValue.reduce((res: RetType, v: SomeInterface) =&gt; {\n    const resVName = res[v.name] || []; // make sure it's set\n    resVName.push(v);\n    res[v.name]=resVName; // copy back in case it's a new array\n    return res;\n  }, {} as RetType)\n  //someVar.keyName = 'value' // errors now\n  return someVar\n}\n</code></pre>\n\n<p>Note that I copy to and from a new value called <code>resVName</code>.  This allows the compiler's <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#control-flow-based-type-analysis\" rel=\"nofollow noreferrer\">control flow analysis</a> to work and be sure that <code>resVName</code> is actually a <code>SomeInterface[]</code> and not a <code>SomeInterface[] | undefined</code>.  It doesn't work on <code>res[v.name]</code> because of a <a href=\"https://github.com/Microsoft/TypeScript/issues/10530\" rel=\"nofollow noreferrer\">bug/limitation</a> in TypeScript whereby control flow analysis doesn't work with bracket property access notation.  It's a bit annoying but ensuring type safety is probably worth it.</p>\n\n<p>That code is all well typed and may possibly work at runtime (you'd need to check).  But <code>reduce</code> doesn't seem like what you're trying to do.  Instead, I'd say you're looking for the simpler <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\"><code>forEach</code></a> method, like this:</p>\n\n<pre><code>const myMethod = (someValue: SomeInterface[]): RetType =&gt; {\n  let someVar: RetType = {};\n  someValue.forEach((v: SomeInterface) =&gt; {\n    const someVarVName = someVar[v.name] || []; // make sure it's set\n    someVarVName.push(v);\n    someVar[v.name] = someVarVName; // copy back in case it's a new array\n  });\n  //someVar.keyName = 'value'\n  return someVar\n}\n</code></pre>\n\n<p>That also works and doesn't mess around with passing around the accumulator.  Either way is fine, probably.</p>\n\n<hr>\n\n<p>Okay hope that makes some sense and gives you ideas.  Good luck!</p>\n"}], "owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3172, "favorite_count": 1, "accepted_answer_id": 51292471, "answer_count": 1, "score": 0, "last_activity_date": 1531483160, "creation_date": 1531323563, "last_edit_date": 1531483160, "question_id": 51289468, "link": "https://stackoverflow.com/questions/51289468/how-to-define-type-of-an-object-to-accept-only-keys-from-enum", "title": "How to define type of an object to accept only keys from enum?", "body": "<p>I have an enum:</p>\n\n<pre><code>enum MyEnum {\n    One,\n    Two,\n    Three\n}\n</code></pre>\n\n<p>Then I have a method of React Component which should return an object, whose keys can only be string keys of MyEnum (meaning, so far: One, Two, Three):</p>\n\n<pre><code>myFunction = (someValue: {}[]): {} =&gt; {\n    return someValue.reduce((res, v, i) =&gt; {\n         res[v.name].push(v)\n         return res\n    }, {})\n}\n</code></pre>\n\n<p><strong>Question:</strong> How can I dynamically define the type of the return value of this function to be an object, whose keys can only be string keys of MyEnum? </p>\n\n<p>Right now there are only 3 of them, but if I add another one to the enum, the type of the return value of myFunction should also be updated.</p>\n\n<p><strong>Update 1:</strong></p>\n\n<p>Tried assigning <code>Record&lt;keyof typeof MyEnum, any&gt;</code> as a return value:</p>\n\n<pre><code>myMethod = (someValue: {}[]): Record&lt;keyof typeof MyEnum, any&gt; =&gt; {\n    return someValue.reduce((res: any, v: SomeInterface) =&gt; {\n         res[v.name].push(v)\n         return res\n    }, {})\n}\n</code></pre>\n\n<p>This does not throw any errors, but if I assign the return value of reduce to a variable and then add another property on it (whose key is not MyEnum key), there would be no error, which is not what I seek:</p>\n\n<pre><code>myMethod = (someValue: {}[]): Record&lt;keyof typeof MyEnum, any&gt; =&gt; {\n    let someVar = someValue.reduce((res: any, v: SomeInterface) =&gt; {\n         res[v.name].push(v)\n         return res\n    }, {})\n    someVar.keyName = 'value'\n    return someVar\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jspdf", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8563551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2982b320e61efeeb97c9ea3e814447d3?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/8563551/mateusz"}, "is_accepted": false, "score": 0, "last_activity_date": 1540922088, "creation_date": 1540922088, "answer_id": 53070175, "question_id": 51289430, "link": "https://stackoverflow.com/questions/51289430/adding-a-utf-8-font-to-jspdf-library-to-print-utf-8-arabic-pdfs-in-angular-appli/53070175#53070175", "title": "Adding a utf-8 font to jsPDF library to print utf-8 Arabic pdfs in Angular application", "body": "<p>It's because jspdf don't support utf-8. It claims it is, but that theoretically works(doesn't work for me) only for text() method and not for addHtml() or fromHtml(), so in my opinion it's a joke. </p>\n\n<p>text() method is not an option even for just text. \nIn case of larger amount of text it goes off screen instead of creating another page. Theoretically you could use splitTextToSize to split text into array, count lines and add another page when it's full... but if your case allows, use html2canvas - make an image and use jspdf addImage() then you don't have to worry about encoding and fonts.</p>\n\n<p>And my last advice. If you can, don't use jspdf.</p>\n"}, {"comments": [{"owner": {"reputation": 1795, "user_id": 12666332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J2Yn0.jpg?s=128&g=1", "display_name": "SeyyedKhandon", "link": "https://stackoverflow.com/users/12666332/seyyedkhandon"}, "edited": false, "score": 0, "creation_date": 1601720289, "post_id": 53636468, "comment_id": 113497398, "body": "Thank you, but it seems, jsPDF doesn&#39;t work with table <a href=\"https://stackoverflow.com/questions/64183071/how-to-generate-utf-8-tables-in-jspdf\" title=\"how to generate utf 8 tables in jspdf\">stackoverflow.com/questions/64183071/&hellip;</a> , can you please watch this question too?"}], "tags": [], "owner": {"reputation": 1315, "user_id": 10722342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3SWLO.jpg?s=128&g=1", "display_name": "Mahmoud Fawzy", "link": "https://stackoverflow.com/users/10722342/mahmoud-fawzy"}, "is_accepted": false, "score": 5, "last_activity_date": 1544026627, "creation_date": 1544026627, "answer_id": 53636468, "question_id": 51289430, "link": "https://stackoverflow.com/questions/51289430/adding-a-utf-8-font-to-jspdf-library-to-print-utf-8-arabic-pdfs-in-angular-appli/53636468#53636468", "title": "Adding a utf-8 font to jsPDF library to print utf-8 Arabic pdfs in Angular application", "body": "<p>first the bad news: <strong>fromHTML</strong> is deprecated so try not to use it.</p>\n\n<p>you can use it by setting an arabic font and decoding it to Base64 like this:</p>\n\n<pre><code>const AmiriRegular = environment.AmiriRegular.trim();\n\ndoc.addFileToVFS('Amiri-Regular.ttf', AmiriRegular);\ndoc.addFont('Amiri-Regular.ttf', 'Amiri', 'normal');\n\ndoc.setFont('Amiri'); // set font\ndoc.setFontSize(20);\n\ndoc.text('\u0645\u0631\u062d\u0628\u0627', 200, 10, { align: 'right', lang: 'ar' });\n\n// Save the PDF\ndoc.save('Test.pdf');\n</code></pre>\n\n<p>the AmiriRegular const here is the base64 value for the amiri font and you can decode fonts here:</p>\n\n<p><a href=\"https://www.motobit.com/util/base64-decoder-encoder.asp\" rel=\"noreferrer\">fonts decoder</a></p>\n\n<p>good news: you can use <strong>html2pdf</strong> instead by running the command</p>\n\n<p>=> npm install html2pdf</p>\n\n<p>then calling the html2pdf function with or without setting the options for the page, then saving the file by calling save function here is an example:</p>\n\n<pre><code>const content = `&lt;h1&gt;\u0635\u0644\u064a \u0639\u0644\u064a \u0633\u064a\u062f\u0646\u0627 \u0645\u062d\u0645\u062f \u0635\u0644\u064a \u0627\u0644\u0644\u0647 \u0639\u0644\u064a\u0647 \u0648\u0633\u0644\u0645&lt;/h1&gt;`;\n\nconst opt = {\n      margin: 1,\n      filename: 'Test.pdf',\n      image: { type: 'jpeg', quality: 1 },\n      html2canvas: { scale: 2 },\n      jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }\n    };\n\n    // Save the PDF\n    html2pdf().set(opt).from(content).save();\n</code></pre>\n\n<p>but remember that <strong>html2pdf</strong> is generating an image for the html content not like <strong>fromhtml</strong> function</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 6722387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xKqKo.jpg?s=128&g=1", "display_name": "hossein vatankhah", "link": "https://stackoverflow.com/users/6722387/hossein-vatankhah"}, "is_accepted": false, "score": 0, "last_activity_date": 1612090382, "creation_date": 1612090382, "answer_id": 65978248, "question_id": 51289430, "link": "https://stackoverflow.com/questions/51289430/adding-a-utf-8-font-to-jspdf-library-to-print-utf-8-arabic-pdfs-in-angular-appli/65978248#65978248", "title": "Adding a utf-8 font to jsPDF library to print utf-8 Arabic pdfs in Angular application", "body": "<p>before set font you must be add font support utf8</p>\n<pre><code>printAsPDF() {\n  const elementToPrint = document.getElementById('report'); \n  const pdf = new jsPDF();\n  pdf.addFont('/assets/fonts/ArabicFont.ttf', 'ArabicFont', 'normal');\n  pdf.setFont('ArabicFont');\n  pdf.fromHTML(elementToPrint, 30, 30);\n  pdf.save('hello.pdf');\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6223, "favorite_count": 0, "answer_count": 3, "score": 7, "last_activity_date": 1612090382, "creation_date": 1531323461, "last_edit_date": 1531324948, "question_id": 51289430, "link": "https://stackoverflow.com/questions/51289430/adding-a-utf-8-font-to-jspdf-library-to-print-utf-8-arabic-pdfs-in-angular-appli", "title": "Adding a utf-8 font to jsPDF library to print utf-8 Arabic pdfs in Angular application", "body": "<p>I have been searching for hours to enable the UTF-8 support in jsPDF library, since it is a new feature released in <strong>jsPDF 1.4</strong> I can't find useful resources to enable it </p>\n\n<p>I found two methods in the library <code>addFont()</code> &amp; <code>setFont()</code> but it is not clear <a href=\"https://rawgit.com/MrRio/jsPDF/master/docs/global.html#addFont\" rel=\"noreferrer\">in the official docs</a> how to use them to use the new font &amp; if they depend on each other</p>\n\n<p><strong>I am specifically trying to add a font that supports Arabic, like for example (Roboto) or any basic font that support Arabic</strong></p>\n\n<p>The code that I am using (&amp; works well with English html but not Arabic):</p>\n\n<pre><code>printAsPDF() {\n    const elementToPrint = document.getElementById('report'); // The html element to become a pdf\n    const pdf = new jsPDF();\n    pdf.setFont('Helvetica');\n    console.log(pdf.getFontList());\n\n    pdf.fromHTML(elementToPrint, 30, 30);\n\n    pdf.save('hello.pdf');\n}\n</code></pre>\n\n<p>The fonts that are supported by default:(output of <code>getFontList()</code>):</p>\n\n<pre><code>Courier\nHelvetica\nSymbol\nTimes\nZapfDingbats\ncourier\nhelvetica\nsymbol\ntimes\nzapfdingbats\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531324273, "post_id": 51289265, "comment_id": 89557141, "body": "do you want to dynamic input field inside form?"}, {"owner": {"reputation": 1887, "user_id": 4391210, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/yVl5X.jpg?s=128&g=1", "display_name": "Abdul Manan", "link": "https://stackoverflow.com/users/4391210/abdul-manan"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531336824, "post_id": 51289265, "comment_id": 89563236, "body": "yes as you can see button add question will add new question input and button add option will add option to each question"}], "answers": [{"comments": [{"owner": {"reputation": 1887, "user_id": 4391210, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/yVl5X.jpg?s=128&g=1", "display_name": "Abdul Manan", "link": "https://stackoverflow.com/users/4391210/abdul-manan"}, "edited": false, "score": 0, "creation_date": 1531400665, "post_id": 51292815, "comment_id": 89589466, "body": "<code>ERROR Error: Cannot find control with path: &#39;questions -&gt; options -&gt; 0&#39;</code>"}, {"owner": {"reputation": 870, "user_id": 717231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/95734896e391e7e95014fa20a2692987?s=128&d=identicon&r=PG", "display_name": "Bitmask", "link": "https://stackoverflow.com/users/717231/bitmask"}, "reply_to_user": {"reputation": 1887, "user_id": 4391210, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/yVl5X.jpg?s=128&g=1", "display_name": "Abdul Manan", "link": "https://stackoverflow.com/users/4391210/abdul-manan"}, "edited": false, "score": 0, "creation_date": 1531422798, "post_id": 51292815, "comment_id": 89602582, "body": "can you create a plunk or something - so I can see whats going on?"}], "tags": [], "owner": {"reputation": 870, "user_id": 717231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/95734896e391e7e95014fa20a2692987?s=128&d=identicon&r=PG", "display_name": "Bitmask", "link": "https://stackoverflow.com/users/717231/bitmask"}, "is_accepted": true, "score": 1, "last_activity_date": 1531336808, "creation_date": 1531336808, "answer_id": 51292815, "question_id": 51289265, "link": "https://stackoverflow.com/questions/51289265/how-to-build-field-array-withen-nested-array-fields-in-angular-reactive-form/51292815#51292815", "title": "How to build Field Array withen Nested Array Fields in Angular Reactive Form?", "body": "<p>Check this out. I am using FormGroupArray to create a dynamic Question / Option List.</p>\n\n<pre><code>// Component\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, FormArray } from '@angular/forms';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'app';\n  public view: any;\n  surveyForm: FormGroup;\n  surveyQuestions: FormArray;\n  surveyOptions: any[] = [];\n  formData: string;\n  constructor(private formbuilder: FormBuilder)  {\n  }\n  ngOnInit() {\n    this.surveyForm = this.formbuilder.group({\n      survey: this.formbuilder.array([this.createSurveyQuestion()])\n    });\n  }\n\n  createSurveyQuestion(): FormGroup {\n    return this.formbuilder.group({\n      question: [''],\n      options: this.formbuilder.array([this.createOption()])\n    });\n  }\n  createOption(): FormGroup {\n    return this.formbuilder.group({\n      option: ['']\n    });\n  }\n\n  addQuestion(): void {\n    this.surveyQuestions = this.surveyForm.get('survey') as FormArray;\n    this.surveyQuestions.push(this.createSurveyQuestion());\n  }\n  addOption(indx: number): void {\n    let questCtrl =  &lt;FormArray&gt;this.surveyForm.get('survey');\n    let m = questCtrl.controls[indx];\n    let opts = m.get('options') as FormArray;\n    opts.push(this.createOption());\n  }\n  get getSurveyControls() {\n    return &lt;FormArray&gt;this.surveyForm.get('survey');\n  }\n  getQuestionOptionControls(questIndex: number){\n    let questCtrl =  &lt;FormArray&gt;this.surveyForm.get('survey');\n    let m = questCtrl.controls[questIndex];\n    let opts = &lt;FormArray&gt;m.get('options');\n    return opts;\n  }\n  convertFormData() {\n    this.formData = JSON.stringify(this.surveyForm.value);\n  }\n}\n</code></pre>\n\n<p>Template - </p>\n\n<pre><code>// Template \n&lt;form [formGroup]=\"surveyForm\"&gt;\n    &lt;button (click)=\"addQuestion()\"&gt;Add Question&lt;/button&gt;\n  &lt;div formArrayName=\"survey\" *ngFor=\"let quest of getSurveyControls.controls; index as i;\" [attr.data-index]=\"i\"&gt;\n    &lt;div [formGroupName]=\"i\"&gt;\n      &lt;input formControlName=\"question\" placeholder=\"Question\"/&gt;\n      &lt;button (click)=\"addOption(i)\"&gt;Add Option&lt;/button&gt;\n      &lt;div formArrayName=\"options\" *ngFor=\"let opt of getQuestionOptionControls(i).controls; index as oidx;\"[attr.data-index]=\"oidx\"&gt;\n        &lt;div [formGroupName]=\"oidx\"&gt;\n          &lt;input formControlName=\"option\" placeholder=\"option\"/&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n\n&lt;pre&gt; {{surveyForm.value | json }}&lt;/pre&gt;\n</code></pre>\n"}], "owner": {"reputation": 1887, "user_id": 4391210, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/yVl5X.jpg?s=128&g=1", "display_name": "Abdul Manan", "link": "https://stackoverflow.com/users/4391210/abdul-manan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 51292815, "answer_count": 1, "score": 1, "last_activity_date": 1531336808, "creation_date": 1531322939, "question_id": 51289265, "link": "https://stackoverflow.com/questions/51289265/how-to-build-field-array-withen-nested-array-fields-in-angular-reactive-form", "title": "How to build Field Array withen Nested Array Fields in Angular Reactive Form?", "body": "<p>I have a form That is responsible for Creating survey.\nEach Survey has Questions and Each Question has options.</p>\n\n<p>Survey can have many Questions.</p>\n\n<p>Question can have Many options.</p>\n\n<p>Therefore i need something like bellow screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4iOF9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4iOF9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "firefox", "source-maps"], "owner": {"reputation": 91, "user_id": 6071044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7299b523d54aab694122114cf72ab43?s=128&d=identicon&r=PG&f=1", "display_name": "akronnorka", "link": "https://stackoverflow.com/users/6071044/akronnorka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1531323036, "creation_date": 1531322846, "last_edit_date": 1531323036, "question_id": 51289241, "link": "https://stackoverflow.com/questions/51289241/exception-trace-in-firefox-console-not-using-source-maps", "title": "Exception trace in Firefox console not using source maps", "body": "<p>I have an Angular / TS project with the following <strong>tsconfig.json</strong> file:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>In case of an exception in my code, the trace is written in the web explorer dev tool console.</p>\n\n<p>I can add breakpoints in my TS files in <em>Firefox</em> and <em>Chrome</em>.</p>\n\n<p><strong>Problem :</strong></p>\n\n<p>With <em>Chrome</em> everything's OK. The trace describe the error and send me to the right file.</p>\n\n<p>But with <em>Firefox</em>, the trace doesn't link me to the TS file, but the polyfills.bundle.js instead.</p>\n\n<pre><code>ERROR Error: \"[object Object]\"\nresolvePromisehttp://localhost/app/polyfills.bundle.js:6856:31resolvePromisehttp://localhost/app/polyfills.bundle.js:6813:17scheduleResolveOrRejecthttp://localhost/app/polyfills.bundle.js:6915:17invokeTaskhttp://localhost/app/polyfills.bundle.js:6463:17onInvokeTaskhttp://localhost/app/vendor.bundle.js:68464:24invokeTaskhttp://localhost/app/polyfills.bundle.js:6462:17runTaskhttp://localhost/app/polyfills.bundle.js:6230:28drainMicroTaskQueuehttp://localhost/app/polyfills.bundle.js:6637:25invokeTaskhttp://localhost/app/polyfills.bundle.js:6542:21invokeTaskhttp://localhost/app/polyfills.bundle.js:7582:9globalZoneAwareCallbackhttp://localhost/app/polyfills.bundle.js:7608:17\n</code></pre>\n\n<p>The <em>Firefox</em> property <strong>devtools.source-map.locations.enabled</strong> is set to <strong>true</strong>.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 33515, "user_id": 102205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6b17165d23ead15e66854ff882c59e0c?s=128&d=identicon&r=PG", "display_name": "Martin Bean", "link": "https://stackoverflow.com/users/102205/martin-bean"}, "edited": false, "score": 0, "creation_date": 1531324113, "post_id": 51289191, "comment_id": 89557051, "body": "<a href=\"https://vuejs.org/v2/guide/reactivity.html#Change-Detection-Caveats\" rel=\"nofollow noreferrer\">vuejs.org/v2/guide/reactivity.html#Change-Detection-Caveats</a>"}, {"owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "reply_to_user": {"reputation": 33515, "user_id": 102205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6b17165d23ead15e66854ff882c59e0c?s=128&d=identicon&r=PG", "display_name": "Martin Bean", "link": "https://stackoverflow.com/users/102205/martin-bean"}, "edited": false, "score": 0, "creation_date": 1531324400, "post_id": 51289191, "comment_id": 89557209, "body": "@MartinBean I am aware of that. The object is fully observed and completely functional out of the sub-component"}, {"owner": {"reputation": 8114, "user_id": 5962802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zAfR.png?s=128&g=1", "display_name": "IVO GELOV", "link": "https://stackoverflow.com/users/5962802/ivo-gelov"}, "edited": false, "score": 0, "creation_date": 1531326879, "post_id": 51289191, "comment_id": 89558523, "body": "You can try using the <code>deep</code> option of <code>watch</code> as shown in the manual <a href=\"https://vuejs.org/v2/api/#watch\" rel=\"nofollow noreferrer\">vuejs.org/v2/api/#watch</a>"}, {"owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "reply_to_user": {"reputation": 8114, "user_id": 5962802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zAfR.png?s=128&g=1", "display_name": "IVO GELOV", "link": "https://stackoverflow.com/users/5962802/ivo-gelov"}, "edited": false, "score": 0, "creation_date": 1531379310, "post_id": 51289191, "comment_id": 89575406, "body": "@IVOGELOV Wow! That is exactly what I was looking for. If you can put it as an answer - I&#39;ll accept it"}], "answers": [{"comments": [{"owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "edited": false, "score": 0, "creation_date": 1531379462, "post_id": 51290398, "comment_id": 89575483, "body": "Unfortunately, this doesn&#39;t always cause the update and doesn&#39;t help me in my situation. I have a) a component with props b) deep dependency c) the entity that is set to props passes vuejs equality check, which also prevents it from refreshing. Not sure which one of these three or all, but this is what cause the problem for me"}], "tags": [], "owner": {"reputation": 1779, "user_id": 4063814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rQGUf.jpg?s=128&g=1", "display_name": "Ankit Kumar Ojha", "link": "https://stackoverflow.com/users/4063814/ankit-kumar-ojha"}, "is_accepted": false, "score": 2, "last_activity_date": 1531326800, "creation_date": 1531326800, "answer_id": 51290398, "question_id": 51289191, "link": "https://stackoverflow.com/questions/51289191/force-vue-js-to-refresh-prop-when-its-sub-property-is-changed/51290398#51290398", "title": "Force vue.js to refresh prop when it&#39;s sub-property is changed", "body": "<p>Well just do a force update. It will make your life easier</p>\n\n<pre><code>vm.$forceUpdate();\n</code></pre>\n\n<p>As mentioned in docs</p>\n\n<blockquote>\n  <p>Force the Vue instance to re-render. Note it does not affect all\n  child components, only the instance itself and child components with\n  inserted slot content.</p>\n</blockquote>\n\n<p>However it's only recommended when you have no other options left(Only as a last option).</p>\n\n<p>So what other options can you use make it work.(depends on code design)</p>\n\n<ol>\n<li>Try using Vue.set(). or,</li>\n<li>Reassign the changed object.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 8114, "user_id": 5962802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zAfR.png?s=128&g=1", "display_name": "IVO GELOV", "link": "https://stackoverflow.com/users/5962802/ivo-gelov"}, "is_accepted": true, "score": 1, "last_activity_date": 1531384979, "creation_date": 1531384979, "answer_id": 51301006, "question_id": 51289191, "link": "https://stackoverflow.com/questions/51289191/force-vue-js-to-refresh-prop-when-its-sub-property-is-changed/51301006#51301006", "title": "Force vue.js to refresh prop when it&#39;s sub-property is changed", "body": "<p>Converting my comment into an answer.</p>\n\n<p>You can try using the <code>deep</code> option of <code>watch</code> as shown in the <a href=\"https://vuejs.org/v2/api/#watch\" rel=\"nofollow noreferrer\">manual</a></p>\n"}], "owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6950, "favorite_count": 1, "accepted_answer_id": 51301006, "answer_count": 2, "score": 1, "last_activity_date": 1531384979, "creation_date": 1531322687, "last_edit_date": 1531323225, "question_id": 51289191, "link": "https://stackoverflow.com/questions/51289191/force-vue-js-to-refresh-prop-when-its-sub-property-is-changed", "title": "Force vue.js to refresh prop when it&#39;s sub-property is changed", "body": "<p>I have a component that binds on an object, and the parent component changes a property of its object. The subcomponent should react to the change.</p>\n\n<p>Subcomponent:</p>\n\n<pre><code>import { Component, Emit, Inject, Model, Prop, Provide, Vue, Watch } from 'vue-property-decorator'\n\n@Component({\n    props: {\n        value: Object,\n    }\n})\nclass ValidatedSummaryComponent extends Vue {\n    value: any;\n    field = \"Name\";\n    v: any;\n\n    created() {\n        console.log(\"!\", this.value);\n        this.v = this.value;\n    }\n\n    state: string | null = null;\n    error = \"\";\n\n    @Watch('value')\n    onValueChanged(val: any, oldVal: any) {\n        console.log(\"Value called\", val);\n        this.v = val;\n        this.onChanged();\n        this.$forceUpdate();\n    }\n\n    private onChanged() {\n        if (typeof this.v.validationErrors[this.field] == 'undefined') {\n            this.state = null;\n            this.error = \"\";\n        } else {\n            this.state = 'invalid';\n            this.error = this.v.validationErrors[this.field].join();\n        }\n    }\n}\n\nexport default ValidatedSummaryComponent;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;ValidatedSummary v-bind:value=\"bindableObject\"&gt;&lt;/ValidatedSummary&gt;\n</code></pre>\n\n<p>Then I do:</p>\n\n<pre><code>bindableObject.Name = 'New name' \n</code></pre>\n\n<p>and I need my component <code>ValidatedSummaryComponent</code> to react.</p>\n\n<p>I probably could bind it as a separate property:</p>\n\n<p><code>&lt;ValidatedSummary v-bind:value=\"bindableObject.Name\"&gt;&lt;/ValidatedSummary&gt;</code></p>\n\n<p>, but <strong>in the end design, the component should watch for all of the properties of <code>BindableObject</code> and there will be a few different <code>BindableObjects</code> with different set of properties, so I can't just bind it property by property.</strong></p>\n\n<p>The only way I managed to make it work is to force vue.js to update the whole object ensuring vue.js equality check does not pass:</p>\n\n<pre><code>this.bindableObject = Object.assign(new BindableObject(), this.bindableObject );\n</code></pre>\n\n<p>But this is very cumbersome as I will have to do this on every change so I'm looking for a better way to handle this. \nIt would also be nice to remove <code>this.$forceUpdate();</code> in the code above, but I can survive with it.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 398, "user_id": 7392985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1P10Z.png?s=128&g=1", "display_name": "Nitin Walia", "link": "https://stackoverflow.com/users/7392985/nitin-walia"}, "edited": false, "score": 0, "creation_date": 1531321995, "post_id": 51288920, "comment_id": 89555745, "body": "hope this answer helps  <a href=\"https://stackoverflow.com/a/50173653/7392985\">stackoverflow.com/a/50173653/7392985</a>"}, {"owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "reply_to_user": {"reputation": 398, "user_id": 7392985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1P10Z.png?s=128&g=1", "display_name": "Nitin Walia", "link": "https://stackoverflow.com/users/7392985/nitin-walia"}, "edited": false, "score": 0, "creation_date": 1531322405, "post_id": 51288920, "comment_id": 89556040, "body": "ahhh i wish it was helpful but no it isn&#39;t helpful at all because you see my code structure for showing data in table is different and i need a solution for this one."}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531322434, "post_id": 51288920, "comment_id": 89556060, "body": "you beed bind the name dynamic"}, {"owner": {"reputation": 398, "user_id": 7392985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1P10Z.png?s=128&g=1", "display_name": "Nitin Walia", "link": "https://stackoverflow.com/users/7392985/nitin-walia"}, "edited": false, "score": 0, "creation_date": 1531322814, "post_id": 51288920, "comment_id": 89556312, "body": "yes i know it&#39;s diff, you have to improvise a little bit. sorry i can&#39;t post solution for your code structure right now. may be later tonight if you still have this problem i&#39;ll post the answer."}, {"owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531322890, "post_id": 51288920, "comment_id": 89556349, "body": "i would really appreciate the answer, whenever you can post it"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531322522, "post_id": 51289098, "comment_id": 89556130, "body": "but since the checkboxes are being created due to ngFor directive, how can i give each checkbox a different value with that loop?"}, {"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "reply_to_user": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531322626, "post_id": 51289098, "comment_id": 89556187, "body": "You can see in the answer I posted, but I&#39;ll add a callout for the specific changes I made"}, {"owner": {"reputation": 398, "user_id": 7392985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1P10Z.png?s=128&g=1", "display_name": "Nitin Walia", "link": "https://stackoverflow.com/users/7392985/nitin-walia"}, "edited": false, "score": 1, "creation_date": 1531322728, "post_id": 51289098, "comment_id": 89556261, "body": "this won&#39;t work either because all checkbox are bind to isSelected property. changing name and for to be unique is half solution"}, {"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "reply_to_user": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531323239, "post_id": 51289098, "comment_id": 89556557, "body": "@CsgUy, Nitin raises a very good point that will also cause a problem. The generated checkboxes are all pointing to the same NgModel value, so will all be the same. I assume this is just a type, and you meant to have something like <code>x.isSelected</code>. Make sure you update that piece as well"}, {"owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531323247, "post_id": 51289098, "comment_id": 89556560, "body": "@Vlad274 no its still not working, one checkbox is triggering the one again"}, {"owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531323313, "post_id": 51289098, "comment_id": 89556579, "body": "no isSelected is not any typo error. I have isSelected property set to false in .ts file"}, {"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "reply_to_user": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531323392, "post_id": 51289098, "comment_id": 89556622, "body": "@CsgUy If you have multiple checkboxes pointing to the same model value, then they must all have the same value. If that&#39;s not your intent, then you need to have different model values for them to bind to"}, {"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "reply_to_user": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531323716, "post_id": 51289098, "comment_id": 89556817, "body": "@CsgUy I apologize, I misunderstood part of your intent. I&#39;ve updated the code to have a single checkbox appear as selected"}, {"owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531323826, "post_id": 51289098, "comment_id": 89556885, "body": "they are all going to bind to different values in rows. Every checkbox will be pointing towards a specific tenant name. But how can i bind them to different model? i have right now binded it to isSelected property because i want the select all box to select all checkboxes"}, {"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "reply_to_user": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531324131, "post_id": 51289098, "comment_id": 89557063, "body": "@CsgUy It&#39;s going to depend on where you want to store those bound values. The easiest place (IMO) would be to be on a property of <code>x</code>, otherwise it&#39;ll be a pain to link them up. Regardless, since each rows checkbox can be in a different state you can&#39;t bind them all to isSelected. To get the &quot;select all&quot; behavior you describe, you should put a click event on that checkbox and have it go change all the bound values (in the easy case I mentioned, this would be loop over everything and set the value to true eg <code>x.isSelected= true</code>)"}, {"owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "edited": false, "score": 0, "creation_date": 1531324426, "post_id": 51289098, "comment_id": 89557226, "body": "Thanks alot for you help :)"}], "tags": [], "owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "is_accepted": true, "score": 1, "last_activity_date": 1531324301, "last_edit_date": 1531324301, "creation_date": 1531322391, "answer_id": 51289098, "question_id": 51288920, "link": "https://stackoverflow.com/questions/51288920/one-checkbox-select-is-also-triggering-other-checkbox/51289098#51289098", "title": "One checkbox select is also triggering other checkbox", "body": "<p>This issue is not caused by angular, but rather by how HTML handles the <code>label</code>'s <code>for</code> attribute. The browser looks for the <em>first</em> element with a matching <code>id</code> property and sends all clicks there.</p>\n\n<p>To fix this, you need to give each checkbox a unique id:</p>\n\n<pre><code>&lt;div *ngIf=\"!admin\"&gt;\n  &lt;div class=\"row clearfix\"&gt;\n    &lt;div class=\"col-sm-12\"&gt;\n      &lt;input type=\"checkbox\" name=\"permission12\" value=\"\" (change)=\"isSelected = !isSelected\" class=\"filled-in\" id=\"permission12\" (click)=\"chosen(listSupportAdminSchools.items)\" /&gt;\n      &lt;label for=\"permission12\"&gt;: Select All&lt;/label&gt;\n      &lt;table class=\"table-bordered table-striped\" style=\"width:100%\"&gt;\n        &lt;thead&gt;\n          &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Registration Number&lt;/th&gt;\n            &lt;th&gt;Enrollment Type&lt;/th&gt;\n            &lt;th&gt;Entity Type&lt;/th&gt;\n            &lt;th&gt;Location&lt;/th&gt;\n            &lt;th&gt;IsActive&lt;/th&gt;\n            &lt;th&gt;Select&lt;/th&gt;\n          &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n          &lt;tr *ngFor=\"let x of listSupportAdminSchools.items; let i = index\"&gt;\n            &lt;td&gt;{{x.name}}&lt;/td&gt;\n            &lt;td&gt;{{x.registrationNumber}}&lt;/td&gt;\n            &lt;td&gt;{{x.educationType}}&lt;/td&gt;\n            &lt;td&gt;{{x.administrativeType}}&lt;/td&gt;\n            &lt;td&gt;{{x.county}}\n              &lt;span&gt;,&lt;/span&gt;{{x.city}}\n              &lt;span&gt;,&lt;/span&gt;{{x.district}}&lt;/td&gt;\n            &lt;td&gt;&lt;/td&gt;\n            &lt;td style=\"text-align: center\"&gt;\n       &lt;!--       &lt;button (click)=\"onClick()\" class=\"btn btn-primary waves-effect\"&gt;Select&lt;/button&gt;   --&gt;\n              &lt;input type=\"checkbox\" [name]=\"'permission13' + 1\" value=\"\" [(ngModel)] = \"x.isSelected\" class=\"validate form-control\" [id]=\"'permission13' + i\" /&gt;\n              &lt;label [for]=\"'permission13' + i\"&gt;: Select&lt;/label&gt;\n            &lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/tbody&gt;\n      &lt;/table&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>Changes:</p>\n\n<p>First, we use modify the <code>*ngFor</code> to track the index for us</p>\n\n<pre><code>*ngFor=\"let x of listSupportAdminSchools.items; let i = index\"\n</code></pre>\n\n<p>Then, we do some simple string concatination to ensure each checkbox <code>id</code> is unique</p>\n\n<pre><code>[id]=\"'permission13' + i\"\n</code></pre>\n\n<p>Finally, we modify the label <code>for</code> in the same way</p>\n\n<pre><code>[for]=\"'permission13' + i\"\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>By adding the [] brackets around the attribute, we make angular process this as Javascript. This lets us use the + operator.</li>\n<li>Since it is now Javascript we need to add '' around permission13 so it is treated as a string, rather than a variable name</li>\n<li>This is the simplest way to accomplish this, you could also generate these value from other unique properties of your <code>*ngFor</code> object, eg <code>[id]=\"'permission13' + x.objectId\"</code></li>\n</ul>\n\n<hr>\n\n<p>(OBSELETE) Update for single row selected:</p>\n\n<p>Update checkbox binding:</p>\n\n<pre><code>[ngModel] = \"selectedRow === x\" (ngModelChange)=\"selectedRow = x\"\n</code></pre>\n\n<p>You will need a property in the model <code>selectedRow</code>. When a checkbox is clicked, it sets this value. Each checkbox is now bound to an expression, so only one checkbox should appear checked at a time.</p>\n"}], "owner": {"reputation": 17, "user_id": 10017489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be43c6304c46b27c7340d95c9ba5f07d?s=128&d=identicon&r=PG&f=1", "display_name": "CsgUy", "link": "https://stackoverflow.com/users/10017489/csguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 51289098, "answer_count": 1, "score": 0, "last_activity_date": 1531324301, "creation_date": 1531321816, "question_id": 51288920, "link": "https://stackoverflow.com/questions/51288920/one-checkbox-select-is-also-triggering-other-checkbox", "title": "One checkbox select is also triggering other checkbox", "body": "<p>I have some data that i am showing using ngFor directive in a table. I have checkbox in the last column and i want it to select only the row that will be selected but not the other rows. Here is my code</p>\n\n<p>HTML Code</p>\n\n<pre><code>&lt;div *ngIf=\"!admin\"&gt;\n          &lt;div class=\"row clearfix\"&gt;\n            &lt;div class=\"col-sm-12\"&gt;\n              &lt;input type=\"checkbox\" name=\"permission12\" value=\"\" (change)=\"isSelected = !isSelected\" class=\"filled-in\" id=\"permission12\" (click)=\"chosen(listSupportAdminSchools.items)\" /&gt;\n              &lt;label for=\"permission12\"&gt;: Select All&lt;/label&gt;\n              &lt;table class=\"table-bordered table-striped\" style=\"width:100%\"&gt;\n                &lt;thead&gt;\n                  &lt;tr&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Registration Number&lt;/th&gt;\n                    &lt;th&gt;Enrollment Type&lt;/th&gt;\n                    &lt;th&gt;Entity Type&lt;/th&gt;\n                    &lt;th&gt;Location&lt;/th&gt;\n                    &lt;th&gt;IsActive&lt;/th&gt;\n                    &lt;th&gt;Select&lt;/th&gt;\n                  &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                  &lt;tr *ngFor=\"let x of listSupportAdminSchools.items;\"&gt;\n                    &lt;td&gt;{{x.name}}&lt;/td&gt;\n                    &lt;td&gt;{{x.registrationNumber}}&lt;/td&gt;\n                    &lt;td&gt;{{x.educationType}}&lt;/td&gt;\n                    &lt;td&gt;{{x.administrativeType}}&lt;/td&gt;\n                    &lt;td&gt;{{x.county}}\n                      &lt;span&gt;,&lt;/span&gt;{{x.city}}\n                      &lt;span&gt;,&lt;/span&gt;{{x.district}}&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                    &lt;td style=\"text-align: center\"&gt;\n               &lt;!--       &lt;button (click)=\"onClick()\" class=\"btn btn-primary waves-effect\"&gt;Select&lt;/button&gt;   --&gt;\n                      &lt;input type=\"checkbox\" name=\"permission13\" value=\"\" [(ngModel)] = \"isSelected\" class=\"validate form-control\" id=\"permission13\" (click)=\"chosen()\" /&gt;\n                      &lt;label for=\"permission13\"&gt;: Select&lt;/label&gt;\n                    &lt;/td&gt;\n                  &lt;/tr&gt;\n                &lt;/tbody&gt;\n              &lt;/table&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>while in my .ts file i have a isSelected boolean variable set to false.</p>\n\n<p>Whenever i click on one checkbox in the row it select other one too. But the select all checkbox is working just fine</p>\n"}, {"tags": ["angular", "typescript", "leaflet", "ngx-leaflet"], "comments": [{"owner": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "edited": false, "score": 0, "creation_date": 1532272010, "post_id": 51288907, "comment_id": 89901217, "body": "Are you sure both components are modifying/accessing the same instance of ServerService? I&#39;ve tried several ways to reproduce this but can&#39;t. Otherwise, can you provide a standalone GitHub repo that reproduces this issue?"}, {"owner": {"reputation": 60, "user_id": 9136512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb210de419fcb847381e575b41ef5ff?s=128&d=identicon&r=PG&f=1", "display_name": "meowmeow", "link": "https://stackoverflow.com/users/9136512/meowmeow"}, "reply_to_user": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "edited": false, "score": 0, "creation_date": 1532346475, "post_id": 51288907, "comment_id": 89924333, "body": "Sure, here it is a minimal working example: <a href=\"https://github.com/pjoe95/leaflet-problem\" rel=\"nofollow noreferrer\">github.com/pjoe95/leaflet-problem</a>. I put two buttons below the map so you can instantly check what I am talking about"}, {"owner": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "edited": false, "score": 0, "creation_date": 1532392011, "post_id": 51288907, "comment_id": 89946552, "body": "There&#39;s unresolved conflicts in some of the files. Can you fix those quick and I&#39;ll check it out?"}, {"owner": {"reputation": 60, "user_id": 9136512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb210de419fcb847381e575b41ef5ff?s=128&d=identicon&r=PG&f=1", "display_name": "meowmeow", "link": "https://stackoverflow.com/users/9136512/meowmeow"}, "reply_to_user": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "edited": false, "score": 0, "creation_date": 1532446980, "post_id": 51288907, "comment_id": 89973929, "body": "Sorry, I don&#39;t know what happened there. Now it&#39;s working."}], "answers": [{"comments": [{"owner": {"reputation": 60, "user_id": 9136512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb210de419fcb847381e575b41ef5ff?s=128&d=identicon&r=PG&f=1", "display_name": "meowmeow", "link": "https://stackoverflow.com/users/9136512/meowmeow"}, "edited": false, "score": 0, "creation_date": 1532714410, "post_id": 51548846, "comment_id": 90093397, "body": "I thought it was a leaflet issue, for now I got it working by placing the buttons in MapComponent but that was a quick fix, I will try to put the layers inside ServerService, thanks!"}], "tags": [], "owner": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "is_accepted": true, "score": 0, "last_activity_date": 1532648074, "creation_date": 1532648074, "answer_id": 51548846, "question_id": 51288907, "link": "https://stackoverflow.com/questions/51288907/ngx-leaflet-does-not-detect-layer-changes-through-a-service-angular-6/51548846#51548846", "title": "ngx-leaflet does not detect layer changes through a service (Angular 6)", "body": "<p>I think I figured out your specific issue. It's not really specific to Angular or to Leaflet. I think it's more an artifact of Typescript and Javascript (or maybe something specific to how AOT compiling and TS->JS transpiling works).</p>\n\n<p>Basically, I think the issue is that when you assign the addPolygon function to the service object, the <code>this</code> context is changing. So, <code>this</code> ends up being the service's <code>this</code> and not the component <code>this</code>. The result is that a new layers array is created inside I'm assuming the service. You can (sort of) confirm this by doing the following in MapComponent:</p>\n\n<pre><code>export class MapComponent {\n\n  layers: Layer[] = [];\n  counter = 0;\n\n  constructor(\n    private serverService: ServerService,\n    private zone: NgZone\n  ) {\n    this.serverService.addPolygon = this.addPolygon;\n  }\n\n  options = {\n      layers: [\n          tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 18, attribution: '...' })\n      ],\n      zoom: 5,\n      center: latLng(42, 2)\n  };\n\n\n  addPolygon () {\n    console.log('I am in addPolygon in MapComponent');\n    this.counter++;\n    console.log(`Here\\'s the counter: ${this.counter}`);\n\n    this.layers = [\n        polygon( [[ 43, 3 ], [ 42, 0 ], [ 44, 1 ]] )\n    ];\n  }\n\n  resetLayers () {\n    console.log('Resetting layers');\n    console.log(`Here\\'s the counter: ${this.counter}`);\n    this.layers = [];\n  }\n\n}\n</code></pre>\n\n<p>The idea here is that I'm modifying the local <code>counter</code> member variable inside of <code>addPolygon</code> and then I'm printing it to the console. I also print it to console inside of the <code>resetLayers</code> function.</p>\n\n<p>When I click the buttons in the following order: MapComponent, Reset, FormComponent, I get the following output:</p>\n\n<pre><code>I am in addPolygon in MapComponent\nmap.component.ts:36 Here's the counter: 1\nmap.component.ts:44 Resetting layers\nmap.component.ts:45 Here's the counter: 1\nmap.component.ts:34 I am in addPolygon in MapComponent\nmap.component.ts:36 Here's the counter: NaN\n</code></pre>\n\n<p>MapComponent click increments the counter from 0 to 1 and prints it correctly with a value of 1. Reset click prints the correct counter value of 1. But, FormComponent click prints NaN because it isn't initialized to a value, so incrementing it leaves it as NaN.</p>\n\n<p>To try to nail down which this context is being used for FormComponent's call to addPolygon, I added counters initialized to different values for each of AppComponent, ServerService, and FormComponent. It turns out, it's calling <code>addPolygon</code> with the <code>this</code> context from <code>ServerService</code>.</p>\n\n<p>So, I think the solution to your issue is to either put the layers array inside of ServerServicem or its to use output bindings to communicate events from FormComponent to a component that is the parent of both MapComponent and FormComponent.</p>\n"}], "owner": {"reputation": 60, "user_id": 9136512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb210de419fcb847381e575b41ef5ff?s=128&d=identicon&r=PG&f=1", "display_name": "meowmeow", "link": "https://stackoverflow.com/users/9136512/meowmeow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 1, "accepted_answer_id": 51548846, "answer_count": 1, "score": 0, "last_activity_date": 1532648074, "creation_date": 1531321783, "last_edit_date": 1532289734, "question_id": 51288907, "link": "https://stackoverflow.com/questions/51288907/ngx-leaflet-does-not-detect-layer-changes-through-a-service-angular-6", "title": "ngx-leaflet does not detect layer changes through a service (Angular 6)", "body": "<p>I am running Angular 6 and I want to dynamically add a layer to a leaflet map, but I can't detect changes in leafletLayers if the layers are modified from another component. Everything works fine if the layer changes are performed from  <code>map.component</code> but it doesn't work if I make changes from outside:</p>\n\n<p>Example:</p>\n\n<p><strong>map.component.ts</strong></p>\n\n<pre><code>layers: Layer[];\n\naddPolygon () {\n    this.layers = [polygon([[ 43, 3 ], [ 42, 0 ], [ 44, 1 ]])]\n}\n</code></pre>\n\n<p><strong>map.component.html</strong></p>\n\n<pre><code>&lt;div class=\"map\"\n  leaflet\n  (leafletMapReady)=\"onMapReady($event)\"\n  [leafletOptions]=\"options\"\n  [leafletLayers]=\"layers\"&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;button type=\"button\" name=\"button\" (click)=\"addPolygon()\"&gt;&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Everything works fine now, the polygon shows up as soon as I click the button. But I need that button to be in another component (<code>form.component.ts</code>), so I tried sharing the <code>addPolygon()</code> function with a service:</p>\n\n<p><strong>server.service.ts</strong></p>\n\n<pre><code>@Injectable()\nexport class ServerService {\n  addPolygon: Function;\n}\n</code></pre>\n\n<p>I modified <code>MapComponent</code> and added the costructor for calling the service</p>\n\n<p><strong>map.component.ts</strong></p>\n\n<pre><code>export class MapComponent{\n  layers: Layer[];\n\n  constructor(private serverService: ServerService){ \n     this.serverService.addPolygon = this.addPolygon \n  };\n</code></pre>\n\n<p><strong>form.component.ts</strong></p>\n\n<pre><code>export class FormComponent implements OnInit {\n  constructor(private serverService: ServerService) { }\n\n  triggerMap() {\n      this.serverService.addPolygon()\n  }\n}\n</code></pre>\n\n<p>But If I bind <code>triggerMap()</code> on a button in <code>form.component.html</code> the polygon does not get added to the map. The console however says that <code>addPolygon</code> in <code>map.component.ts</code> is reached.</p>\n\n<p>I tried even using <code>NgZone</code>, but it does not make any difference. Any suggestion?</p>\n\n<p>Angular CLI: 6.0.8</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1531322158, "last_edit_date": 1531322158, "creation_date": 1531321410, "answer_id": 51288798, "question_id": 51288621, "link": "https://stackoverflow.com/questions/51288621/filter-keys-of-object-such-that-only-keys-pointing-to-array-are-returned-instea/51288798#51288798", "title": "Filter keys of object such that only keys pointing to array are returned (instead of all keys by &#39;keyof&#39;)", "body": "<p>You're close, but your code requires the developer to specify <code>Key</code>, which is what you're trying to output. You can instead use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> to iterate over the keys of <code>T</code> and then use your conditional type to identify the ones with array-valued properties.  Like this:</p>\n\n<pre><code>type ArrayKey&lt;T&gt; = { [Key in keyof T]: T[Key] extends any[] ? Key : never }[keyof T];\n\ntype Student = {\n  name: string,\n  marks: string[],\n  subjects: string[]\n}\n\nlet c: ArrayKey&lt;Student&gt; = 'marks'; // okay\n</code></pre>\n\n<hr>\n\n<p>Another way to do it which is closer to your original definition would be to use a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#distributive-conditional-types\" rel=\"nofollow noreferrer\">distributive conditional type</a> to distribute the conditional over the contituents of <code>K</code>:</p>\n\n<pre><code>type ArrayKey&lt;T, Key extends keyof T = keyof T&gt; = \n   Key extends any ? T[Key] extends any[] ? Key : never : never\n</code></pre>\n\n<p>That will also work, but <code>K</code> has to be a bare type parameter and <code>Key extends any</code> might be confusing (distributive conditional types are a bit surprising) and it's abusing the default value of <code>K</code> as a hack, so I wouldn't recommend it.  Less hacky but still using distributive conditional types:</p>\n\n<pre><code>type ArrayKeyInner&lt;T, Key extends keyof T&gt; =\n   Key extends any ? T[Key] extends any[] ? Key : never : never\ntype ArrayKey&lt;T&gt; = ArrayKeyInner&lt;T, keyof T&gt;\n</code></pre>\n\n<p>That doesn't abuse a default parameter, which is nice.  Still, the distributive conditional type surprise factor still holds so overall I'd still recommend the mapped type solution.</p>\n\n<hr>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 5306, "user_id": 2903466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73a1642f48317c13cf1b6d2075ab15ee?s=128&d=identicon&r=PG", "display_name": "amit77309", "link": "https://stackoverflow.com/users/2903466/amit77309"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 51288798, "answer_count": 1, "score": 1, "last_activity_date": 1531322158, "creation_date": 1531320888, "question_id": 51288621, "link": "https://stackoverflow.com/questions/51288621/filter-keys-of-object-such-that-only-keys-pointing-to-array-are-returned-instea", "title": "Filter keys of object such that only keys pointing to array are returned (instead of all keys by &#39;keyof&#39;)", "body": "<p>For <code>student.ts</code></p>\n\n<pre><code>type Student = {\n    name: string,\n    marks: string[],\n    subjects: string[]\n}\n</code></pre>\n\n<p>How to get <code>ArrayKey&lt;Student&gt;</code> such that it return only keys which points to any array, here it should point to <code>'marks'|'subjects'</code></p>\n\n<p><strong>My try</strong></p>\n\n<pre><code>type ArrayKey&lt;T, Key extends keyof T = keyof T&gt; = T[Key] extends any[] ? Key : never;\n\nlet c: ArrayKey&lt;Student&gt; = 'marks';\n</code></pre>\n\n<p>but it throws error <code>[ts] Type '\"marks\"' is not assignable to type 'never'</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 8297111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a9e997e26091ed3d6b579543e4389c4?s=128&d=identicon&r=PG", "display_name": "Jam Nguyen", "link": "https://stackoverflow.com/users/8297111/jam-nguyen"}, "edited": false, "score": 0, "creation_date": 1531324899, "post_id": 51288822, "comment_id": 89557514, "body": "I put the map functions there just to show the data would be changed if I put them into resolve function, also, even the same with <code>console.log(data.items)</code> and <code>resolve(data.items)</code>. But your code make me realize it could be that simple. I will try."}, {"owner": {"reputation": 3410, "user_id": 4934789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sFGeZ.jpg?s=128&g=1", "display_name": "Josh Stevens", "link": "https://stackoverflow.com/users/4934789/josh-stevens"}, "reply_to_user": {"reputation": 135, "user_id": 8297111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a9e997e26091ed3d6b579543e4389c4?s=128&d=identicon&r=PG", "display_name": "Jam Nguyen", "link": "https://stackoverflow.com/users/8297111/jam-nguyen"}, "edited": false, "score": 0, "creation_date": 1531326567, "post_id": 51288822, "comment_id": 89558349, "body": "try my code and i doubt you get the same result.. let me know."}, {"owner": {"reputation": 135, "user_id": 8297111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a9e997e26091ed3d6b579543e4389c4?s=128&d=identicon&r=PG", "display_name": "Jam Nguyen", "link": "https://stackoverflow.com/users/8297111/jam-nguyen"}, "edited": false, "score": 0, "creation_date": 1531370600, "post_id": 51288822, "comment_id": 89571978, "body": "I realized that the issue came from a function <code>initArray1()</code> called after search which keeps only one element on array2 so your code leads the same result. But I really don&#39;t know why I <code>console.log(result_from_search)</code> before calling <code>initArray1()</code>, that console still shows the result of function <code>initArray1(result_from_search)</code>."}], "tags": [], "owner": {"reputation": 3410, "user_id": 4934789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sFGeZ.jpg?s=128&g=1", "display_name": "Josh Stevens", "link": "https://stackoverflow.com/users/4934789/josh-stevens"}, "is_accepted": false, "score": 0, "last_activity_date": 1531350736, "last_edit_date": 1531350736, "creation_date": 1531321496, "answer_id": 51288822, "question_id": 51288609, "link": "https://stackoverflow.com/questions/51288609/promise-resolve-return-only-one-element-in-nested-array/51288822#51288822", "title": "Promise.resolve() return only one element in nested array", "body": "<p>Firstly I am not sure why you wrap a promise in a promise.. why do you need to do that when\n<code>this.api.apiGet</code> returns a promise.</p>\n\n<p>Also, why are you trying to map? I bet if you <code>console.log(data.items)</code> the same data would come back. I think you have just got a little confused with your code. A tidy up of the code should resolve all of this for you. </p>\n\n<p>I would do something like the below, now every time you call <code>search</code> you get all the data back which you can use when you want it. </p>\n\n<pre><code> search(): Promise&lt;MyModel[]&gt; {\n  const query = {\n    'action': 'update',\n  };\n\n  return this.api.apiGet(API.SEARCH_STUDENT, query)\n                        .then((data) =&gt; data as MyModel[]));\n }\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 8297111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a9e997e26091ed3d6b579543e4389c4?s=128&d=identicon&r=PG", "display_name": "Jam Nguyen", "link": "https://stackoverflow.com/users/8297111/jam-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531350736, "creation_date": 1531320863, "question_id": 51288609, "link": "https://stackoverflow.com/questions/51288609/promise-resolve-return-only-one-element-in-nested-array", "title": "Promise.resolve() return only one element in nested array", "body": "<p>Here is my code:</p>\n\n<pre><code>search(): Promise&lt;MyModel[]&gt; {\n  const query = {\n    'action': 'update',\n  };\n\n  return new Promise((resolve, reject) =&gt; {\n    this.api.apiGet(`${API.SEARCH_STUDENT}`, query).then((data) =&gt; {\n      const a = data.items.map(i =&gt; i);\n      const b = data.items.map(i =&gt; i);\n      console.log(a.array1[0].array2.length);  // 1\n      console.log(b.array1[0].array2.length);  // 5\n      resolve(a);\n    }, (error) =&gt; {\n      reject(error);\n    });\n  });\n}\n</code></pre>\n\n<p>MyModel class:</p>\n\n<pre><code>class MyModel {\n  ...\n  array1: [{\n    array2: []\n  }]\n}\n</code></pre>\n\n<p>data.items[0].array1[0].array2 returned by function apiGet contains 5 elements. But if I put a or b into resolve function, it now just keep first element only like the comments in the snippet.</p>\n\n<p>Could anyone show what I miss here?</p>\n"}, {"tags": ["node.js", "typescript", "import", "path", "require"], "comments": [{"owner": {"reputation": 5429, "user_id": 1815058, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/86ea4373c9642bd27135ae33439bde35?s=128&d=identicon&r=PG", "display_name": "uladzimir", "link": "https://stackoverflow.com/users/1815058/uladzimir"}, "edited": false, "score": 0, "creation_date": 1539855881, "post_id": 51288392, "comment_id": 92656036, "body": "did you solve this problem?"}, {"owner": {"reputation": 1582, "user_id": 1042091, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05f0988fdea73df0c8c31eb14ea64641?s=128&d=identicon&r=PG", "display_name": "Mike S.", "link": "https://stackoverflow.com/users/1042091/mike-s"}, "reply_to_user": {"reputation": 5429, "user_id": 1815058, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/86ea4373c9642bd27135ae33439bde35?s=128&d=identicon&r=PG", "display_name": "uladzimir", "link": "https://stackoverflow.com/users/1815058/uladzimir"}, "edited": false, "score": 0, "creation_date": 1539862743, "post_id": 51288392, "comment_id": 92659730, "body": "No. It&#39;s currently unresolvable (uff, is that a real word?) by vanilla TS, more on that on github: <a href=\"https://github.com/Microsoft/TypeScript/issues/10866\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/10866</a>"}], "answers": [{"tags": [], "owner": {"reputation": 829, "user_id": 3758939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bARZI.jpg?s=128&g=1", "display_name": "\u5343\u6728\u90f7", "link": "https://stackoverflow.com/users/3758939/%e5%8d%83%e6%9c%a8%e9%83%b7"}, "is_accepted": false, "score": 1, "last_activity_date": 1536921413, "creation_date": 1536921413, "answer_id": 52330242, "question_id": 51288392, "link": "https://stackoverflow.com/questions/51288392/baseurl-and-paths-in-typescript-how/52330242#52330242", "title": "baseUrl and paths in typescript - how", "body": "<p>Remember that </p>\n\n<blockquote>\n  <p>if you then try to exeute the compiled files with node (or ts-node), it will only look in the node_modules folders all the way up to the root of the filesystem and thus will not find the modules specified by paths in <code>tsconfig</code>.  -- introduced in tsconfig-paths readme.</p>\n</blockquote>\n\n<p>In conclusion, directly require <a href=\"https://www.npmjs.com/package/tsconfig-paths\" rel=\"nofollow noreferrer\"><code>tsconfig-paths</code></a> into dependencies list and load tsconfig file on run could be a quick solution.</p>\n"}], "owner": {"reputation": 1582, "user_id": 1042091, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05f0988fdea73df0c8c31eb14ea64641?s=128&d=identicon&r=PG", "display_name": "Mike S.", "link": "https://stackoverflow.com/users/1042091/mike-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1900, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1536921413, "creation_date": 1531320185, "question_id": 51288392, "link": "https://stackoverflow.com/questions/51288392/baseurl-and-paths-in-typescript-how", "title": "baseUrl and paths in typescript - how", "body": "<p>I've started an application in typescript. I've learned about some features of TS and it looked like something, that could help me, hovewer, I don't work like I would expect. The documentation of TS says something about <strong>Path mapping</strong> in <strong>Module resolution</strong> chapter. This module mapping can, if I understand it correctly, save me few or even lot of double-dots in <code>import</code>. So I have created a \"inc\" directory with one file (at this time), that will be included in multiple files in multiple directories. Into tsconfig I've written following: </p>\n\n<pre><code>\"baseUrl\": \".\",\n\"paths\": {\n    \"@inc/*\": [ \"inc/*\" ]\n}\n</code></pre>\n\n<p>Now, I would expect, that using <code>import { X } from \"@inc/somefile\"</code> (even from file resting somewhere deep in folder tree) would result in importing that <code>export X</code> from ./inc/somefile.ts (or .js, when runnning).</p>\n\n<p>Hovewer, the compiler/transpiler will leave the <code>import</code> statement intact, so when I try to run this code using <code>node.js</code>, it will die because there is no <code>@inc/somefile</code> - node doesn't read tsconfig and tsc doesn't create any mapping functions.</p>\n\n<p>I can, of course, read and parse the <code>path</code> element by hand in some kind of require wrapper, but I believe there is something I'm doing wrong and/or better way to achieve this. </p>\n\n<p>Thank you for your replies.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "systemjs", "plunker"], "answers": [{"comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 2, "creation_date": 1546471764, "post_id": 51288714, "comment_id": 94866164, "body": "It would be awesome to have a description of the changes that fixed the issue. Otherwise we will have to do a diff to find out what was changed to fix the problem."}], "tags": [], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "is_accepted": true, "score": 4, "last_activity_date": 1531321151, "creation_date": 1531321151, "answer_id": 51288714, "question_id": 51288263, "link": "https://stackoverflow.com/questions/51288263/plunker-broken-after-updating-to-angular-6-and-rxjs-6/51288714#51288714", "title": "Plunker broken after updating to Angular 6 and rxjs 6", "body": "<p>I've resolved by modifying my <code>config.js</code> as follows:</p>\n\n<pre><code>var angularVersion;\nif(window.AngularVersionForThisPlunker === 'latest'){\n  angularVersion = ''; //picks up latest\n}\nelse {\n  angularVersion = '@' + window.AngularVersionForThisPlunker;\n}\n\nSystem.config({\n  transpiler: 'ts',\n  typescriptOptions: {\n    emitDecoratorMetadata: true,\n    experimentalDecorators: true\n  },\n  meta: {\n  'typescript': {\n        \"exports\": \"ts\"\n      }\n    },\n  paths: {\n    'npm:': 'https://unpkg.com/'\n  },\n  map: {\n    app: \"./src\",\n    'ngx-duration-picker': 'https://unpkg.com/ngx-duration-picker@latest/bundles/ngx-duration-picker.umd.js',\n    '@angular/core': 'npm:@angular/core'+angularVersion+'/bundles/core.umd.js',\n    '@angular/common': 'npm:@angular/common'+angularVersion+'/bundles/common.umd.js',\n    '@angular/compiler': 'npm:@angular/compiler'+angularVersion+'/bundles/compiler.umd.js',\n    '@angular/platform-browser': 'npm:@angular/platform-browser'+angularVersion+'/bundles/platform-browser.umd.js',\n    '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic'+angularVersion+'/bundles/platform-browser-dynamic.umd.js',\n    '@angular/http': 'npm:@angular/http'+angularVersion+'/bundles/http.umd.js',\n    '@angular/router': 'npm:@angular/router'+angularVersion+'/bundles/router.umd.js',\n    '@angular/forms': 'npm:@angular/forms'+angularVersion+'/bundles/forms.umd.js',\n    '@angular/upgrade': 'npm:@angular/upgrade'+angularVersion+'/bundles/upgrade.umd.js',\n    '@angular/upgrade/static': 'npm:@angular/upgrade'+angularVersion+'/bundles/upgrade-static.umd.js',\n\n    // other libraries\n    'rxjs':                      'npm:rxjs',\n    'ts':                        'npm:plugin-typescript',\n    'typescript':                'npm:typescript'\n  },\n  //packages defines our app package\n  packages: {\n    app: {\n      main: './main.ts',\n      defaultExtension: 'ts'\n    },\n    rxjs: {\n        main: 'index.js',\n        defaultExtension: 'js'\n    },\n    \"rxjs/operators\": {\n        main: 'index.js',\n        defaultExtension: 'js'\n    }\n  }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 3020776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjnA8.jpg?s=128&g=1", "display_name": "Chieleman", "link": "https://stackoverflow.com/users/3020776/chieleman"}, "is_accepted": false, "score": 3, "last_activity_date": 1603435318, "creation_date": 1603435318, "answer_id": 64495115, "question_id": 51288263, "link": "https://stackoverflow.com/questions/51288263/plunker-broken-after-updating-to-angular-6-and-rxjs-6/64495115#64495115", "title": "Plunker broken after updating to Angular 6 and rxjs 6", "body": "<p>Replacing</p>\n<pre><code>rxjs: {\n  defaultExtension: 'js'\n},\n</code></pre>\n<p>with</p>\n<pre><code>rxjs: {\n  main: 'index.js',\n  defaultExtension: 'js'\n},\n&quot;rxjs/operators&quot;: {\n   main: 'index.js',\n   defaultExtension: 'js'\n},\n</code></pre>\n<p>worked for me</p>\n"}], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1739, "favorite_count": 2, "accepted_answer_id": 51288714, "answer_count": 2, "score": 4, "last_activity_date": 1603435318, "creation_date": 1531319818, "last_edit_date": 1546471803, "question_id": 51288263, "link": "https://stackoverflow.com/questions/51288263/plunker-broken-after-updating-to-angular-6-and-rxjs-6", "title": "Plunker broken after updating to Angular 6 and rxjs 6", "body": "<p>I have an <a href=\"https://embed.plnkr.co/1dAIGrGqbcfrNVqs4WwW/\" rel=\"nofollow noreferrer\">Angular app in Plunker</a> which no longer works since I've upgraded my app to use Angular 6 and rxjs 6.</p>\n\n<p>This is my <code>config.js</code> file:</p>\n\n<pre><code>var angularVersion;\nif(window.AngularVersionForThisPlunker === 'latest'){\n  angularVersion = ''; //picks up latest\n}\nelse {\n  angularVersion = '@' + window.AngularVersionForThisPlunker;\n}\n\nSystem.config({\n  //use typescript for compilation\n  transpiler: 'typescript',\n  //typescript compiler options\n  typescriptOptions: {\n    emitDecoratorMetadata: true\n  },\n  paths: {\n    'npm:': 'https://unpkg.com/'\n  },\n  //map tells the System loader where to look for things\n  map: {\n    'ngx-duration-picker': 'https://unpkg.com/ngx-duration-picker@latest/bundles/ngx-duration-picker.umd.js',\n    'app': './src',\n    '@angular/core': 'npm:@angular/core'+ angularVersion + '/bundles/core.umd.js',\n    '@angular/common': 'npm:@angular/common' + angularVersion + '/bundles/common.umd.js',\n    '@angular/common/http': 'npm:@angular/common' + angularVersion + '/bundles/common-http.umd.js',\n    '@angular/compiler': 'npm:@angular/compiler' + angularVersion  + '/bundles/compiler.umd.js',\n    '@angular/platform-browser': 'npm:@angular/platform-browser' + angularVersion + '/bundles/platform-browser.umd.js',\n    '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic' + angularVersion + '/bundles/platform-browser-dynamic.umd.js',\n    '@angular/http': 'npm:@angular/http' + angularVersion + '/bundles/http.umd.js',\n    '@angular/router': 'npm:@angular/router' + angularVersion +'/bundles/router.umd.js',\n    '@angular/forms': 'npm:@angular/forms' + angularVersion + '/bundles/forms.umd.js',\n    '@angular/animations': 'npm:@angular/animations' + angularVersion + '/bundles/animations.umd.js',\n    '@angular/platform-browser/animations': 'npm:@angular/platform-browser' + angularVersion + '/bundles/platform-browser-animations.umd.js',\n    '@angular/animations/browser': 'npm:@angular/animations' + angularVersion + '/bundles/animations-browser.umd.js',\n\n    '@angular/core/testing': 'npm:@angular/core' + angularVersion + '/bundles/core-testing.umd.js',\n    '@angular/common/testing': 'npm:@angular/common' + angularVersion + '/bundles/common-testing.umd.js',\n    '@angular/common/http/testing': 'npm:@angular/common' + angularVersion + '/bundles/common-http-testing.umd.js',\n    '@angular/compiler/testing': 'npm:@angular/compiler' + angularVersion + '/bundles/compiler-testing.umd.js',\n    '@angular/platform-browser/testing': 'npm:@angular/platform-browser' + angularVersion + '/bundles/platform-browser-testing.umd.js',\n    '@angular/platform-browser-dynamic/testing': 'npm:@angular/platform-browser-dynamic' + angularVersion + '/bundles/platform-browser-dynamic-testing.umd.js',\n    '@angular/http/testing': 'npm:@angular/http' + angularVersion + '/bundles/http-testing.umd.js',\n    '@angular/router/testing': 'npm:@angular/router' + angularVersion + '/bundles/router-testing.umd.js',\n    'tslib': 'npm:tslib@1.6.1',\n    'rxjs': 'npm:rxjs',\n    'typescript': 'npm:typescript@2.2.1/lib/typescript.js'\n  },\n  //packages defines our app package\n  packages: {\n    app: {\n      main: './main.ts',\n      defaultExtension: 'ts'\n    },\n    rxjs: {\n      defaultExtension: 'js'\n    }\n  }\n});\n</code></pre>\n\n<p>Now I'm getting these errors:</p>\n\n<pre><code>Failed to load resource: net::ERR_FILE_NOT_FOUND unpkg.com/rxjs@6.2.1/operators.js:1 GET https://unpkg.com/rxjs@6.2.1/operators.js 404 () zone.js:388 Error: (SystemJS) Error: XHR error (404) loading https://unpkg.com/rxjs/operators.js\n        at XMLHttpRequest.wrapFn (https://unpkg.com/zone.js@0.8.26/dist/zone.js:1188:39)\n        at ZoneDelegate.invokeTask (https://unpkg.com/zone.js@0.8.26/dist/zone.js:421:31)\n        at Zone.runTask (https://unpkg.com/zone.js@0.8.26/dist/zone.js:188:47)\n        at ZoneTask.invokeTask [as invoke] (https://unpkg.com/zone.js@0.8.26/dist/zone.js:496:34)\n        at invokeTask (https://unpkg.com/zone.js@0.8.26/dist/zone.js:1540:14)\n        at XMLHttpRequest.globalZoneAwareCallback (https://unpkg.com/zone.js@0.8.26/dist/zone.js:1566:17)   Error loading https://unpkg.com/rxjs/operators.js as \"rxjs/operators\" from https://unpkg.com/@angular/core/bundles/core.umd.js ZoneDelegate.invoke @ zone.js:388 Zone.run @ zone.js:138 (anonymous) @ ... GET https://unpkg.com/internal@1.0.8/observable/ConnectableObservable 404 () unpkg.com/internal@1.0.8/observable/merge:1 GET https://unpkg.com/internal@1.0.8/observable/merge 404 () unpkg.com/internal@1.0.8/Observable:1 GET https://unpkg.com/internal@1.0.8/Observable 404 () unpkg.com/internal@1.0.8/operators/groupBy:1 GET https://unpkg.com/internal@1.0.8/operators/groupBy 404 () unpkg.com/internal@1.0.8/util/UnsubscriptionError:1 GET https://unpkg.com/internal@1.0.8/util/UnsubscriptionError 404 () unpkg.com/internal@1.0.8/util/EmptyError:1 GET https://unpkg.com/internal@1.0.8/util/EmptyError 404 () unpkg.com/internal@1.0.8/scheduler/VirtualTimeScheduler:1 GET https://unpkg.com/internal@1.0.8/scheduler/VirtualTimeScheduler 404 () unpkg.com/internal@1.0.8/observable/generate:1 GET https://unpkg.com/internal@1.0.8/observable/generate 404 () unpkg.com/internal@1.0.8/observable/of:1 GET https://unpkg.com/internal@1.0.8/observable/of 404 () unpkg.com/internal@1.0.8/observable/iif:1 GET https://unpkg.com/internal@1.0.8/observable/iif 404 () unpkg.com/internal@1.0.8/AsyncSubject:1 GET https://unpkg.com/internal@1.0.8/AsyncSubject 404 () unpkg.com/internal@1.0.8/Notification:1 GET https://unpkg.com/internal@1.0.8/Notification 404 () unpkg.com/internal@1.0.8/observable/bindNodeCallback:1 GET https://unpkg.com/internal@1.0.8/observable/bindNodeCallback 404 () unpkg.com/internal@1.0.8/observable/timer:1 GET https://unpkg.com/internal@1.0.8/observable/timer 404 () unpkg.com/internal@1.0.8/util/identity:1 GET https://unpkg.com/internal@1.0.8/util/identity 404 () unpkg.com/internal@1.0.8/ReplaySubject:1 GET https://unpkg.com/internal@1.0.8/ReplaySubject 404 () unpkg.com/internal@1.0.8/config:1 GET https://unpkg.com/internal@1.0.8/config 404 () unpkg.com/internal@1.0.8/scheduler/animationFrame:1 GET https://unpkg.com/internal@1.0.8/scheduler/animationFrame 404 () unpkg.com/internal@1.0.8/observable/onErrorResumeNext:1 GET https://unpkg.com/internal@1.0.8/observable/onErrorResumeNext 404 () unpkg.com/internal@1.0.8/symbol/observable:1 GET https://unpkg.com/internal@1.0.8/symbol/observable 404 () unpkg.com/internal@1.0.8/observable/defer:1 GET https://unpkg.com/internal@1.0.8/observable/defer 404 () unpkg.com/internal@1.0.8/scheduler/asap:1 GET https://unpkg.com/internal@1.0.8/scheduler/asap 404 () unpkg.com/internal@1.0.8/util/ArgumentOutOfRangeError:1 GET https://unpkg.com/internal@1.0.8/util/ArgumentOutOfRangeError 404 () unpkg.com/internal@1.0.8/Subject:1 GET https://unpkg.com/internal@1.0.8/Subject 404 () unpkg.com/internal@1.0.8/scheduler/async:1 GET https://unpkg.com/internal@1.0.8/scheduler/async 404 () unpkg.com/internal@1.0.8/Subscriber:1 GET https://unpkg.com/internal@1.0.8/Subscriber 404 () unpkg.com/internal@1.0.8/observable/bindCallback:1 GET https://unpkg.com/internal@1.0.8/observable/bindCallback 404 () unpkg.com/internal@1.0.8/util/isObservable:1 GET https://unpkg.com/internal@1.0.8/util/isObservable 404 () unpkg.com/internal@1.0.8/util/noop:1 GET https://unpkg.com/internal@1.0.8/util/noop 404 () unpkg.com/internal@1.0.8/BehaviorSubject:1 GET https://unpkg.com/internal@1.0.8/BehaviorSubject 404 () unpkg.com/internal@1.0.8/observable/pairs:1 GET https://unpkg.com/internal@1.0.8/observable/pairs 404 () unpkg.com/internal@1.0.8/observable/never:1 GET https://unpkg.com/internal@1.0.8/observable/never 404 () unpkg.com/internal@1.0.8/observable/zip:1 GET https://unpkg.com/internal@1.0.8/observable/zip 404 () unpkg.com/internal@1.0.8/observable/empty:1 GET https://unpkg.com/internal@1.0.8/observable/empty 404 () unpkg.com/internal@1.0.8/observable/using:1 GET https://unpkg.com/internal@1.0.8/observable/using 404 () unpkg.com/internal@1.0.8/util/TimeoutError:1 GET https://unpkg.com/internal@1.0.8/util/TimeoutError 404 () unpkg.com/internal@1.0.8/scheduler/queue:1 GET https://unpkg.com/internal@1.0.8/scheduler/queue 404 () unpkg.com/internal@1.0.8/observable/forkJoin:1 GET https://unpkg.com/internal@1.0.8/observable/forkJoin 404 () unpkg.com/internal@1.0.8/Scheduler:1 GET https://unpkg.com/internal@1.0.8/Scheduler 404 () unpkg.com/internal@1.0.8/Subscription:1 GET https://unpkg.com/internal@1.0.8/Subscription 404 () unpkg.com/internal@1.0.8/observable/fromEventPattern:1 GET https://unpkg.com/internal@1.0.8/observable/fromEventPattern 404 () unpkg.com/internal@1.0.8/observable/range:1 GET https://unpkg.com/internal@1.0.8/observable/range 404 () unpkg.com/internal@1.0.8/observable/from:1 GET https://unpkg.com/internal@1.0.8/observable/from 404 () unpkg.com/internal@1.0.8/observable/interval:1 GET https://unpkg.com/internal@1.0.8/observable/interval 404 () unpkg.com/internal@1.0.8/util/ObjectUnsubscribedError:1 GET https://unpkg.com/internal@1.0.8/util/ObjectUnsubscribedError 404 () unpkg.com/internal@1.0.8/observable/combineLatest:1 GET https://unpkg.com/internal@1.0.8/observable/combineLatest 404 () unpkg.com/internal@1.0.8/observable/concat:1 GET https://unpkg.com/internal@1.0.8/observable/concat 404 () unpkg.com/internal@1.0.8/util/pipe:1 GET https://unpkg.com/internal@1.0.8/util/pipe 404 () unpkg.com/internal@1.0.8/observable/race:1 GET https://unpkg.com/internal@1.0.8/observable/race 404 () unpkg.com/internal@1.0.8/observable/fromEvent:1 GET https://unpkg.com/internal@1.0.8/observable/fromEvent 404 () unpkg.com/internal@1.0.8/observable/throwError:1 GET https://unpkg.com/internal@1.0.8/observable/throwError 404 ()\n</code></pre>\n"}, {"tags": ["javascript", "regex", "typescript", "string-comparison", "string-matching"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 2, "creation_date": 1531317593, "post_id": 51287417, "comment_id": 89552434, "body": "Typescript isn&#39;t a runtime language."}, {"owner": {"reputation": 565, "user_id": 4890121, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/H7mlP.png?s=128&g=1", "display_name": "DG4", "link": "https://stackoverflow.com/users/4890121/dg4"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1531317687, "post_id": 51287417, "comment_id": 89552501, "body": "@KennethK. I checked my solution with the help of console.log()."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 1, "creation_date": 1531317814, "post_id": 51287417, "comment_id": 89552613, "body": "I&#39;m saying that Typescript itself isn&#39;t a programming language. Rather, it&#39;s (effectively) an enhancement to Javascript that provides for compile-time typing of your Javascript data. So I don&#39;t see what Typescript itself has to do with this issue. You have a Javascript problem, and that you should be able to debug with <code>console</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1531317855, "post_id": 51287417, "comment_id": 89552639, "body": "TypeScript isn&#39;t a programming language?  Now I&#39;m sad."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1531317903, "post_id": 51287417, "comment_id": 89552684, "body": "@jcalz I was afraid I&#39;d catch flak for that statement. I&#39;m not sure how to say what I mean  :)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531317994, "post_id": 51287417, "comment_id": 89552761, "body": "@DG4 what is your actual use case?  Do you want to verify everything that JavaScript interprets as number (like <code>1.234e+30</code>) or just the particular restrictions you mention?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1531318023, "post_id": 51287417, "comment_id": 89552785, "body": "@KennethK. TypeScript is a preprocessor language that provides strict typing via static analysis during compilation into JavaScript."}, {"owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "edited": false, "score": 0, "creation_date": 1531318152, "post_id": 51287417, "comment_id": 89552877, "body": "why not <code>isNaN(parseFloat(&#39;-12.2&#39;) ? &#39;Invalid&#39; : &#39;Valid&#39;;</code> ?"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "reply_to_user": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "edited": false, "score": 1, "creation_date": 1531318261, "post_id": 51287417, "comment_id": 89552983, "body": "Is there any check that <code>Number(val)</code> that&#39;s missing?   @AdityaParab parseFloat will accept <code>12.3xyz</code>.."}, {"owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1531318383, "post_id": 51287417, "comment_id": 89553101, "body": "@Keith yep.. my bad... I also realize that it will also accept <code>12.....3</code> and give you 12"}], "answers": [{"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1531318155, "post_id": 51287615, "comment_id": 89552879, "body": "<code>5.</code> and <code>.5</code> should be a valid numbers, and they would both fail this check. Easier to just <code>const isNumber = n =&gt; !isNaN(n)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "edited": false, "score": 0, "creation_date": 1531319193, "post_id": 51287615, "comment_id": 89553700, "body": "<a href=\"http://regex.info/blog/2006-09-15/247\" rel=\"nofollow noreferrer\"><i>Some people, when confronted with a problem, think \u201cI know, I&#39;ll use regular expressions.\u201d  Now they have two problems.</i> - Jamie Zawinski</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 10064863, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6UWIi459tjs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rzLWCFXf3LyNiuJg4BG4syjLEPVA/mo/photo.jpg?sz=128", "display_name": "Marek Powro\u017anik", "link": "https://stackoverflow.com/users/10064863/marek-powro%c5%banik"}, "is_accepted": false, "score": -2, "last_activity_date": 1531317977, "creation_date": 1531317977, "answer_id": 51287615, "question_id": 51287417, "link": "https://stackoverflow.com/questions/51287417/how-to-check-if-a-string-is-numeric-float-in-typescript/51287615#51287615", "title": "How to check if a string is numeric/float in Typescript?", "body": "<p>Try sth like this:</p>\n\n<p><code>/^\\-?(([1-9]\\d*)|0)(\\.\\d+)?$/</code></p>\n"}, {"comments": [{"owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "edited": false, "score": 0, "creation_date": 1531318895, "post_id": 51287826, "comment_id": 89553475, "body": "oh! Cool.. I did not know about this <code>&#47;e&#47;</code> things.. Scientific notation.. +1"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "edited": false, "score": 2, "creation_date": 1531319107, "post_id": 51287826, "comment_id": 89553639, "body": "@AdityaParab <code>&#47;e&#47;i</code> is just a RegExp literal that matches strings containing <code>e</code> or <code>E</code>."}, {"owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "edited": false, "score": 0, "creation_date": 1531319221, "post_id": 51287826, "comment_id": 89553713, "body": "Understood.. Thanks."}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 6, "last_activity_date": 1531320553, "last_edit_date": 1531320553, "creation_date": 1531318548, "answer_id": 51287826, "question_id": 51287417, "link": "https://stackoverflow.com/questions/51287417/how-to-check-if-a-string-is-numeric-float-in-typescript/51287826#51287826", "title": "How to check if a string is numeric/float in Typescript?", "body": "<p>In TypeScript, use the following function which can accept any value:</p>\n\n<pre><code>const isFixed = (o: any) =&gt; {\n  const s = String(o)\n  return !isNaN(+s) &amp;&amp; isFinite(+s) &amp;&amp; (typeof o === 'number' || !/e/i.test(s))\n}\n</code></pre>\n\n<p>Or if you're only checking strings:</p>\n\n<pre><code>const isFixedString = (s: string) =&gt; !isNaN(+s) &amp;&amp; isFinite(+s) &amp;&amp; !/e/i.test(s)\n</code></pre>\n\n<p>Note that the explicit <code>String()</code> casting in the first function is to avoid calling the value's <code>toString()</code> or <code>valueOf()</code> or <code>[Symbol.toPrimitive]()</code> more than once and risk checking conflicting values of auto-updating types like <code>{ n: 0, valueOf: () =&gt; n++ }</code>.</p>\n\n<p>The casts using the unary <code>+</code> operator in both definitions are specifically for the parameter types to be compatible with the global definitions in TypeScript for <code>isNaN()</code> and <code>isFinite()</code>, which expect a <code>number</code> argument for some reason even though JavaScript can handle any type. Otherwise these casts can be removed without any change to the result.</p>\n\n<h3>Explanation</h3>\n\n<p>Just using <code>!isNaN(mystring)</code>, you will check whether casting the string with <code>Number()</code> will result in <code>NaN</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = ['5', '-5', '.5', '5.', '0', '5e0', '5E0', 'Infinity', '-Infinity', '5a', 'n', '--5'];\r\n\r\narr.forEach(str =&gt; console.log(str, !isNaN(str)))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It should be noted that this approach also accepts scientific notation and <code>Infinity</code>, which needs to be handled separately with <code>isFinite(mystring) &amp;&amp; !/e/i.test(mystring)</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = ['5', '-5', '.5', '5.', '0', '5e0', '5E0', 'Infinity', '-Infinity', '5a', 'n', '--5'];\r\n\r\narr.forEach(str =&gt; console.log(str, !isNaN(str) &amp;&amp; isFinite(str) &amp;&amp; !/e/i.test(str)))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1531318634, "post_id": 51287845, "comment_id": 89553278, "body": "You don&#39;t even need to cast it, see my answer."}, {"owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1531318715, "post_id": 51287845, "comment_id": 89553336, "body": "Yep... Your answer was posted amidst my posting. :) Good one."}], "tags": [], "owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "is_accepted": false, "score": 2, "last_activity_date": 1531318685, "last_edit_date": 1531318685, "creation_date": 1531318600, "answer_id": 51287845, "question_id": 51287417, "link": "https://stackoverflow.com/questions/51287417/how-to-check-if-a-string-is-numeric-float-in-typescript/51287845#51287845", "title": "How to check if a string is numeric/float in Typescript?", "body": "<p>As explained in the comments above, parseFloat will not satisfy all your requirements. And I don't like Reg Ex approach for this kinda things.</p>\n\n<p>The simplest way for you would be to coerce string into a number using unary <code>+</code></p>\n\n<pre><code>const stringTransformedToNumber = +\"-12.3\";\n\nconst isInvalid = isNaN(stringTransformedToNumber);\n\nconsole.log(isInvalid ? 'Invalid' : 'Valid');\n</code></pre>\n\n<p>Even better way is to just use <code>isNaN</code>:</p>\n\n<pre><code>const isInvalid = isNaN(\"-12.3\");\n\nconsole.log(isInvalid ? 'Invalid' : 'Valid');\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 4890121, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/H7mlP.png?s=128&g=1", "display_name": "DG4", "link": "https://stackoverflow.com/users/4890121/dg4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4175, "favorite_count": 1, "closed_date": 1531324066, "accepted_answer_id": 51287826, "answer_count": 3, "score": 1, "last_activity_date": 1531320553, "creation_date": 1531317484, "last_edit_date": 1531317810, "question_id": 51287417, "link": "https://stackoverflow.com/questions/51287417/how-to-check-if-a-string-is-numeric-float-in-typescript", "closed_reason": "Duplicate", "title": "How to check if a string is numeric/float in Typescript?", "body": "<p>Here are the validations which I want to apply:</p>\n\n<ol>\n<li>The string should contain any character between 0 to 9.</li>\n<li>It should not contain any alphabetical character.</li>\n<li>It can contain at most one '-' (minus operator) which will signify a negative number such as \"-12\".</li>\n<li>It can also contain at most one '.' to cover the case of floating numbers such as \"12.2\"</li>\n</ol>\n\n<p>Now I have tried various combinations but still I am unsuccessful to create such a condition in Typescript.\nHere's what I tried:</p>\n\n<ul>\n<li><strong>using regex</strong> /^[0-9.{0,1}-{0,1}]/.test(mystring)</li>\n</ul>\n\n<p>Unfortunately, this didn't work for me.\nCan anyone please help me to get the desired solution? </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1531317435, "post_id": 51287218, "comment_id": 89552298, "body": "I would recomment to make a copy of the object so it&#39;s not bind anymore <code>let object = Object.assign({}, currentObject);</code> and then pass the index and change the item based on the index."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1531318158, "post_id": 51287218, "comment_id": 89552883, "body": "@Swoox won&#39;t work. The issue is with <code>*ngFor</code>, not the reference. And creating a new Object for every item of the array would maybe work, but it is overkill."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1531317282, "post_id": 51287293, "comment_id": 89552169, "body": "(If you are curious, <a href=\"https://blog.angular-university.io/angular-2-ngfor/\" rel=\"nofollow noreferrer\">here is some reading about ngFor</a>)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1531317148, "creation_date": 1531317148, "answer_id": 51287293, "question_id": 51287218, "link": "https://stackoverflow.com/questions/51287218/ngfor-inputs-copy-values-of-eachother/51287293#51287293", "title": "ngFor inputs copy values of eachother", "body": "<p>Because you didn't specify a track by function, so Angular doesn't really know how to keep track of your inputs. </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a class=\"list-group-item\" *ngFor=\"let detail of currentRequest.details; let index$ = index; trackBy: customTB\"&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>customTB(index, item) { return index + '-' + item.product.name1; }    \n</code></pre>\n"}], "owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 51287293, "answer_count": 1, "score": 0, "last_activity_date": 1531317148, "creation_date": 1531316991, "question_id": 51287218, "link": "https://stackoverflow.com/questions/51287218/ngfor-inputs-copy-values-of-eachother", "title": "ngFor inputs copy values of eachother", "body": "<p>I'm using Angular5 and would like to create a form where user can insert new records with a button. Each record has many controls in it and should be changed independently from other records. I have done this many times but now I'm getting weird results.</p>\n\n<pre><code>&lt;form #newRequestForm=\"ngForm\"&gt;\n    &lt;a class=\"list-group-item\" *ngFor=\"let detail of currentRequest.details; let index$ = index\"&gt;\n    .\n    .\n    .\n    &lt;ng-select [items]=\"products\" [searchFn]=\"searchProduct\" (change)=\"productChanged($event, detail)\"&gt;\n        &lt;ng-template ng-label-tmp let-item=\"item\"&gt;\n            {{item.code}} - {{item.name1}}\n        &lt;/ng-template&gt;\n    &lt;/ng-select&gt;\n    &lt;input class=\"form-control\" name=\"productname1\" type=\"text\" [ngModel]=\"detail.product.name1\" /&gt;\n    &lt;input class=\"form-control\" name=\"productname2\" type=\"text\" [ngModel]=\"detail.product.name2\" /&gt;\n    &lt;input class=\"form-control\" name=\"productname3\" type=\"text\" [ngModel]=\"detail.product.name3\" /&gt;\n\n    &lt;input class=\"form-control\" type=\"text\" name=\"description\" [(ngModel)]=\"detail.description\" /&gt;\n</code></pre>\n\n<p>The problem is that the method called by ng-select onchange <code>productChanged</code> sets the product names of the current selected product. (Products has 3 seperate name fields in erp.) And when this happens all 3 name fields of all records in the form changes to the name fields of the currently selected product. No matter which ng-select I use, all has changed. All the other fields working seperately eg: description.</p>\n\n<p>So I suppose the bug is in the method but it looks like this:</p>\n\n<pre><code>productChanged($event, detail) {\n    detail.product = $event;\n    console.log('-----------------------------------------');\n    this.currentRequest.details.forEach((d, i) =&gt; {\n        console.log(i, d.product !== null ? d.product.name1 : '');\n    });\n}\n</code></pre>\n\n<p>Yes, I have tried to debug with the good old console.log and it says that the content of each of the detail.products are perfect, according to the last selection of that record's ng-select.</p>\n\n<p>The input controls are still rewritten by whatever select I make. Why?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 7808650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n1rK3.jpg?s=128&g=1", "display_name": "Miguel Frias", "link": "https://stackoverflow.com/users/7808650/miguel-frias"}, "is_accepted": true, "score": 0, "last_activity_date": 1531391814, "creation_date": 1531391814, "answer_id": 51303457, "question_id": 51287156, "link": "https://stackoverflow.com/questions/51287156/angular-get-futuresnapshot-from-router/51303457#51303457", "title": "Angular get futureSnapshot from router", "body": "<p>Ok after a long search i finally  found the answer to the problem, to get the actually current route in the authGuar we need to use:</p>\n\n<pre><code>canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n\n    connsole.log(this.state.url)\n\n}\n</code></pre>\n\n<p>whit <code>this.state.url</code> we get new route where the user is trying to get access, inside of the <code>authGuar</code>, and not the previous one.</p>\n"}], "owner": {"reputation": 37, "user_id": 7808650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n1rK3.jpg?s=128&g=1", "display_name": "Miguel Frias", "link": "https://stackoverflow.com/users/7808650/miguel-frias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 51303457, "answer_count": 1, "score": 0, "last_activity_date": 1531391814, "creation_date": 1531316796, "last_edit_date": 1531318409, "question_id": 51287156, "link": "https://stackoverflow.com/questions/51287156/angular-get-futuresnapshot-from-router", "title": "Angular get futureSnapshot from router", "body": "<p>I\u00b4m working with angular 5, i create a authGuard to check if the user is login and if has the permission to get inside in the selected route, the user object has a list of permissions that i need to match with the route that he is trying to get access, but when i try to get the current <code>this.router.url</code> and <code>this.activedRouter.snapshot</code> has old data. When route changes, ActivatedRoute.snapshot has data from previous route, for example if i\u00b4m in the route <code>/home/library</code> and go to <code>/home/category</code> give me back <code>/home/library</code></p>\n\n<p><strong>authGuard</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CONFIG as CONST } from '../../app.config';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router, ActivatedRoute } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { AuthHttp, AuthConfig, JwtHelper } from 'angular2-jwt';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from './auth.service';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n  private jwtHelper: JwtHelper = new JwtHelper();\n\n  constructor(\n    private auth: AuthService,\n    private router: Router,\n    private location: Location,\n    private activatedRoute: ActivatedRoute,\n    private http: HttpClient\n  ) {\n\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n    if (!this.auth.isAuthenticated()) {\n      this.router.navigate(['login']);\n      return false;\n    }\n    return new Promise((resolve, reject) =&gt; {\n      this.http.get(`${CONST.SESSION}`)\n        .toPromise()\n        .then((res: any) =&gt; {\n          const response: boolean = res.result;\n          if (response) {\n            const token = this.auth.getToken();\n            const dt = this.jwtHelper.decodeToken(token);\n            const activatedUrl = this.activatedRoute.snapshot;\n            console.log(activatedUrl);\n            // const string = route.charAt(1).toUpperCase() + route.slice(2);\n            // const access = dt.PermissionClaim.indexOf(route) !== -1;\n            resolve(response);\n          }\n        });\n    });\n  }\n}\n</code></pre>\n\n<p>any idea how can i get the current route and the previous one, inside of the object <code>this.activatedRoute.root</code> there is property call <code>_futureSnapshot</code> that contains the futureRoute, but is a private property and i can not have access to it, is there any way.</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 1, "creation_date": 1531318096, "post_id": 51287136, "comment_id": 89552841, "body": "Do you really need to use RxJS for this?"}], "answers": [{"tags": [], "owner": {"reputation": 4085, "user_id": 9057497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6I5A1.png?s=128&g=1", "display_name": "madjaoue", "link": "https://stackoverflow.com/users/9057497/madjaoue"}, "is_accepted": true, "score": 1, "last_activity_date": 1531324451, "last_edit_date": 1531324451, "creation_date": 1531317499, "answer_id": 51287424, "question_id": 51287136, "link": "https://stackoverflow.com/questions/51287136/dynamically-separate-array-to-subarrays-based-on-property-with-rx-js/51287424#51287424", "title": "Dynamically separate array to subarrays based on property with rx.js?", "body": "<p>Not sure why you need rxjs for this, you can achieve it using only javascript. Here's a ES6 implementation :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let input = [\r\n      {\r\n      \"id\": 1,\r\n      \"phase\": \"Planning\",\r\n      },\r\n      {\r\n      \"id\": 2,\r\n      \"phase\": \"Planning\",\r\n      },\r\n      {\r\n      \"id\": 3,\r\n      \"phase\": \"Done\",\r\n      }\r\n    ]\r\n    \r\n    let response = {};\r\n    \r\n    \r\n    input.forEach(phaseObj=&gt; {\r\n    \r\n      if(!!response[phaseObj[\"phase\"]])\r\n        response[phaseObj[\"phase\"]].push({data: phaseObj})\r\n      else\r\n        response[phaseObj[\"phase\"]] = [{data: phaseObj}]\r\n    })\r\n    \r\n    response = Object.keys(response).map( key=&gt; { return {title: key, datasets : response[key]}});\r\n    console.log(response)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>if you really insist on using rxjs, you can do something like : </p>\n\n<pre><code>let response = {};\n\nRx.Observable.from(input).map(phaseObj=&gt; {\n  if(!!response[phaseObj[\"phase\"]])\n    response[phaseObj[\"phase\"]].push({data: phaseObj})\n  else\n    response[phaseObj[\"phase\"]] = [{data: phaseObj}]\n})\n  .toArray()\n  .subscribe( ()=&gt; {\n    response = response = Object.keys(response).map( key=&gt; { return {title: key, datasets : response[key]}});\n    console.log(response);\n  })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3190, "user_id": 6370870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8f0380bd81cd044ae850954181a41d4?s=128&d=identicon&r=PG&f=1", "display_name": "Max K", "link": "https://stackoverflow.com/users/6370870/max-k"}, "edited": false, "score": 0, "creation_date": 1531429206, "post_id": 51313737, "comment_id": 89605386, "body": "And how can I get next format?  {&#39;title&#39;: &#39;Planning&#39;,  &#39;datasets&#39;: {data: [/* 1st item will be here*/]},"}, {"owner": {"reputation": 678, "user_id": 10065257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603f133307c34af2c4f6768f0efdad95?s=128&d=identicon&r=PG&f=1", "display_name": "dsych", "link": "https://stackoverflow.com/users/10065257/dsych"}, "reply_to_user": {"reputation": 3190, "user_id": 6370870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8f0380bd81cd044ae850954181a41d4?s=128&d=identicon&r=PG&f=1", "display_name": "Max K", "link": "https://stackoverflow.com/users/6370870/max-k"}, "edited": false, "score": 0, "creation_date": 1531466292, "post_id": 51313737, "comment_id": 89614981, "body": "You can map as you want - <code>...groupBy(data).pipe(toArray()),map(</code> <i>mapFnToDesiredFormat</i> <code>)...</code>. So, for example you have <code>[{title: &#39;B2&#39;, name: &quot;Sue&quot;},{title: &#39;B2&#39;, name: &quot;Frank&quot;}]</code> as first group. Map fn is <code>(v) =&gt; ({title: v[0].title, datasets:{data:[v[0]]}})</code>."}], "tags": [], "owner": {"reputation": 678, "user_id": 10065257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603f133307c34af2c4f6768f0efdad95?s=128&d=identicon&r=PG&f=1", "display_name": "dsych", "link": "https://stackoverflow.com/users/10065257/dsych"}, "is_accepted": false, "score": 0, "last_activity_date": 1531426391, "creation_date": 1531426391, "answer_id": 51313737, "question_id": 51287136, "link": "https://stackoverflow.com/questions/51287136/dynamically-separate-array-to-subarrays-based-on-property-with-rx-js/51313737#51313737", "title": "Dynamically separate array to subarrays based on property with rx.js?", "body": "<p>You can use <a href=\"https://www.learnrxjs.io/operators/transformation/groupby.html\" rel=\"nofollow noreferrer\">groupBy</a> operator - it will group your data by object property</p>\n"}], "owner": {"reputation": 3190, "user_id": 6370870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8f0380bd81cd044ae850954181a41d4?s=128&d=identicon&r=PG&f=1", "display_name": "Max K", "link": "https://stackoverflow.com/users/6370870/max-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 51287424, "answer_count": 2, "score": 0, "last_activity_date": 1531426391, "creation_date": 1531316738, "last_edit_date": 1531323895, "question_id": 51287136, "link": "https://stackoverflow.com/questions/51287136/dynamically-separate-array-to-subarrays-based-on-property-with-rx-js", "title": "Dynamically separate array to subarrays based on property with rx.js?", "body": "<p>I have the next input array. It can have different phases.</p>\n\n<pre><code>[\n  {\n  \"id\": 1,\n  \"phase\": \"Planning\",\n  },\n  {\n  \"id\": 2,\n  \"phase\": \"Planning\",\n  },\n  {\n  \"id\": 3,\n  \"phase\": \"Done\",\n  }\n]\n</code></pre>\n\n<p>Based on phases I want to convert it to array with next format.</p>\n\n<pre><code>  [{title: 'Planning',\n      datasets: {data: [/* 1st item will be here*/]},\n               {data: [/* 2nd item will be here*/]}]},\n      {title: 'Done',\n          datasets: [{data: [/* 1st item will be here*/]}]\n        }\n      ];\n</code></pre>\n\n<p>How can I do this?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 6, "creation_date": 1531315942, "post_id": 51286765, "comment_id": 89551114, "body": "Not yet. Use Object.entries() and transform your object to an array."}, {"owner": {"reputation": 165, "user_id": 1180462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk8i5.gif?s=128&g=1", "display_name": "Simon Storr", "link": "https://stackoverflow.com/users/1180462/simon-storr"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1531317548, "post_id": 51286765, "comment_id": 89552391, "body": "Seems to be the answer but cannot get this to work. I&#39;ve added &quot;es2017.object&quot; and &quot;es2016.array.include&quot; into tsconfig.json. Oddly I can do &#39;Object.entries(classMappings) in the debugger, but it fails when in the typescript file."}, {"owner": {"reputation": 3372, "user_id": 7640744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/410dc8abdd00bf9134039ed644cdbddf?s=128&d=identicon&r=PG", "display_name": "Gorka Hernandez", "link": "https://stackoverflow.com/users/7640744/gorka-hernandez"}, "edited": false, "score": 1, "creation_date": 1531318349, "post_id": 51286765, "comment_id": 89553071, "body": "<i>es2017.object</i> only provides the type definitions for <i>Object.entries</i>, if your environment does not have an <i>Object.entries</i> implementation, you will need a <b>polyfill</b> such as <i>core-js</i>."}], "owner": {"reputation": 165, "user_id": 1180462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk8i5.gif?s=128&g=1", "display_name": "Simon Storr", "link": "https://stackoverflow.com/users/1180462/simon-storr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531316056, "creation_date": 1531315831, "question_id": 51286765, "link": "https://stackoverflow.com/questions/51286765/angular-4-ngfor-on-typescript-indexer", "title": "Angular 4 ngFor on typescript indexer", "body": "<p>I have the following interface defined in typescript:</p>\n\n<pre><code>interface MethodMappings {\n    [name: string]: {\n        methodMappings: ClassMethodMappings[];\n    }\n}\n</code></pre>\n\n<p>with a local variable</p>\n\n<pre><code>public classMappings: MethodMappings;\n</code></pre>\n\n<p>How do I use e.g. ngFor to iterate through an object of this type? If I just use for example:</p>\n\n<pre><code>&lt;div *ngFor=\"let m of classMappings\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I get the error:</p>\n\n<p>ERROR Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.</p>\n\n<p>I understand that an indexer is not an array but is there an Angular iterator I can use over the indexer?</p>\n"}, {"tags": ["angular", "typescript", "components", "title"], "answers": [{"tags": [], "owner": {"reputation": 18716, "user_id": 3669981, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WWWHe.png?s=128&g=1", "display_name": "TheUnreal", "link": "https://stackoverflow.com/users/3669981/theunreal"}, "is_accepted": false, "score": 0, "last_activity_date": 1531315361, "creation_date": 1531315361, "answer_id": 51286592, "question_id": 51286357, "link": "https://stackoverflow.com/questions/51286357/angular-display-title-of-selected-component/51286592#51286592", "title": "Angular display title of selected component", "body": "<p>You can:</p>\n\n<ol>\n<li><p>Create a new component, call it <code>header</code>, and place it in your pages. This component will be responsible for displaying the title / any header you like</p></li>\n<li><p>Use a service and update a <code>title</code> variable when someone enters a specific component</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "edited": false, "score": 0, "creation_date": 1531315827, "post_id": 51286599, "comment_id": 89551030, "body": "Can I use anything then the selector? So add a name or something?"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "edited": false, "score": 0, "creation_date": 1531315858, "post_id": 51286599, "comment_id": 89551060, "body": "yeah its just a variable name"}, {"owner": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "edited": false, "score": 0, "creation_date": 1531316157, "post_id": 51286599, "comment_id": 89551262, "body": "How exactly can I use a variable? this.resolver.resolveComponentFactory(component.constructor)&zwnj;&#8203;.title doesn&#39;t work when I make variable title in my component. Sorry for the noob questions im new to Angular."}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "edited": false, "score": 0, "creation_date": 1531316252, "post_id": 51286599, "comment_id": 89551342, "body": "you cannot do that way it is just to get the name of the selector you use in the component, if you want to share a variable you shoumd implement a service as mentioned in the other answer"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1531315377, "creation_date": 1531315377, "answer_id": 51286599, "question_id": 51286357, "link": "https://stackoverflow.com/questions/51286357/angular-display-title-of-selected-component/51286599#51286599", "title": "Angular display title of selected component", "body": "<p>You can do with <a href=\"https://angular.io/api/core/ComponentFactoryResolver\" rel=\"nofollow noreferrer\"><code>ComponentFactoryResolver</code></a></p>\n\n<pre><code>constructor(private resolver: ComponentFactoryResolver) {}\n\nonActivated(component) {\n  this.activeSelector =    \n  this.resolver.resolveComponentFactory(component.constructor).selector;    \n}\n</code></pre>\n\n<p>and on template,</p>\n\n<pre><code>&lt;router-outlet (activate)=\"onActivated($event)\"&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-router-basic-example-usfxun?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">STACKBLITZ DEMO</a></strong></p>\n"}, {"comments": [{"owner": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "edited": false, "score": 0, "creation_date": 1531316619, "post_id": 51286936, "comment_id": 89551627, "body": "Thanks this works like a champ! Is it possible to differ my browser title from this title ?"}, {"owner": {"reputation": 241, "user_id": 10057411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnHJt.jpg?s=128&g=1", "display_name": "Ali Rida", "link": "https://stackoverflow.com/users/10057411/ali-rida"}, "reply_to_user": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "edited": false, "score": 0, "creation_date": 1531317176, "post_id": 51286936, "comment_id": 89552071, "body": "You can based on the browser title display a certain title in the header. For example set the browser title to \u201cContact\u201d and check in the header component using the title service if the browser title is \u201cContact\u201d then display \u201cContact us\u201d in the header title for example."}, {"owner": {"reputation": 241, "user_id": 10057411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnHJt.jpg?s=128&g=1", "display_name": "Ali Rida", "link": "https://stackoverflow.com/users/10057411/ali-rida"}, "reply_to_user": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "edited": false, "score": 0, "creation_date": 1531317271, "post_id": 51286936, "comment_id": 89552158, "body": "Also you can create an array of browser title as key and header title as value and display the corresponding header title of the current browser title without using if."}, {"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1531319848, "post_id": 51286936, "comment_id": 89554237, "body": "@AliRida an <a href=\"https://stackoverflow.com/questions/51286357/angular-display-title-of-selected-component/51287553#51287553\">alternative would be to use observables</a> in order to get notified only when the title changes."}, {"owner": {"reputation": 241, "user_id": 10057411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnHJt.jpg?s=128&g=1", "display_name": "Ali Rida", "link": "https://stackoverflow.com/users/10057411/ali-rida"}, "reply_to_user": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1531325275, "post_id": 51286936, "comment_id": 89557708, "body": "That\u2019s true @lealceldeiro, there are many solutions, it depends on the needs and the project structure."}, {"owner": {"reputation": 1630, "user_id": 205147, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24f38e7edc3b60d3cb0e29c19e719cf4?s=128&d=identicon&r=PG", "display_name": "Hendrik Wiese", "link": "https://stackoverflow.com/users/205147/hendrik-wiese"}, "edited": false, "score": 0, "creation_date": 1568130833, "post_id": 51286936, "comment_id": 102173576, "body": "How can I do this with components that I have both, nested in a dashboard like super-component as well as individually? If I set the title from the sub- and the dashboard component, it&#39;s likely overwritten by one of the sub-components of the dashboard."}, {"owner": {"reputation": 1941, "user_id": 285212, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f580aa8d5b579e95b4fab607ac863b0b?s=128&d=identicon&r=PG", "display_name": "Heraldmonkey", "link": "https://stackoverflow.com/users/285212/heraldmonkey"}, "edited": false, "score": 0, "creation_date": 1580045900, "post_id": 51286936, "comment_id": 105961318, "body": "<i>FYI</i> You also need to make sure title is imported at the top of your header component.ts as well as in any components where you plan to call this titleService: <code>import { Title } from &#39;@angular&#47;platform-browser&#39;;</code>"}], "tags": [], "owner": {"reputation": 241, "user_id": 10057411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnHJt.jpg?s=128&g=1", "display_name": "Ali Rida", "link": "https://stackoverflow.com/users/10057411/ali-rida"}, "is_accepted": false, "score": 2, "last_activity_date": 1531316234, "creation_date": 1531316234, "answer_id": 51286936, "question_id": 51286357, "link": "https://stackoverflow.com/questions/51286357/angular-display-title-of-selected-component/51286936#51286936", "title": "Angular display title of selected component", "body": "<p>You can use the Angular <a href=\"https://angular.io/guide/set-document-title\" rel=\"nofollow noreferrer\">titleService</a> to display the page title in the header component like below:</p>\n\n<p>Header component .ts:</p>\n\n<pre><code>export class AppComponent {\n  public constructor(private titleService: Title ) { }\n}\n</code></pre>\n\n<p>Header component .html:</p>\n\n<pre><code>&lt;div class=\"title-bar\"&gt;\n    {{titleService.getTitle()}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Then in any component you can set the page title using the Angular <strong>titleService</strong> and it will automatically change in the title and header sections:</p>\n\n<pre><code>export class AppComponent implements OnInit { {\n  public constructor(private titleService: Title ) { }\n\n  ngOnInit() {\n    this.titleService.setTitle(\"Component's title\");\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2266, "user_id": 735598, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/B7fpB.jpg?s=128&g=1", "display_name": "imdadhusen", "link": "https://stackoverflow.com/users/735598/imdadhusen"}, "edited": false, "score": 1, "creation_date": 1604922809, "post_id": 51287553, "comment_id": 114485648, "body": "thank you for perfect answer. One more thing is missing which is a registration of provider in app.module.ts <code>providers: [AppService]</code>"}, {"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "reply_to_user": {"reputation": 2266, "user_id": 735598, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/B7fpB.jpg?s=128&g=1", "display_name": "imdadhusen", "link": "https://stackoverflow.com/users/735598/imdadhusen"}, "edited": false, "score": 1, "creation_date": 1605539294, "post_id": 51287553, "comment_id": 114673756, "body": "@imdadhusen thank you for your feedback :) Glad it helped you. That piece of code you mention is in the <a href=\"https://stackblitz.com/edit/angular-dynamic-title?file=src/app/app.module.ts\" rel=\"nofollow noreferrer\">StackBlitz Demo</a>"}, {"owner": {"reputation": 2266, "user_id": 735598, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/B7fpB.jpg?s=128&g=1", "display_name": "imdadhusen", "link": "https://stackoverflow.com/users/735598/imdadhusen"}, "edited": false, "score": 0, "creation_date": 1605764011, "post_id": 51287553, "comment_id": 114753228, "body": "you are correct code was already there but you was just missed to mention in explanation only."}, {"owner": {"reputation": 401, "user_id": 11100721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bYs58.jpg?s=128&g=1", "display_name": "T.Moez", "link": "https://stackoverflow.com/users/11100721/t-moez"}, "edited": false, "score": 0, "creation_date": 1615494920, "post_id": 51287553, "comment_id": 117715577, "body": "with angular 11 didn&#39;t work ERROR Error: NG0100: ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked."}], "tags": [], "owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "is_accepted": true, "score": 8, "last_activity_date": 1615797408, "last_edit_date": 1615797408, "creation_date": 1531317834, "answer_id": 51287553, "question_id": 51286357, "link": "https://stackoverflow.com/questions/51286357/angular-display-title-of-selected-component/51287553#51287553", "title": "Angular display title of selected component", "body": "<p>You can create a an <a href=\"https://stackblitz.com/edit/angular-dynamic-title?embed=1&amp;file=src/app/app.service.ts\" rel=\"nofollow noreferrer\">AppService</a> which holds the application <code>title</code> and provides it as an observable (with accessor method such as <code>get</code> and <code>set</code>).</p>\n<pre><code>@Injectable()\nexport class AppService {\n  private title = new BehaviorSubject&lt;String&gt;('App title');\n  private title$ = this.title.asObservable();\n\n  constructor() {}\n\n  setTitle(title: String) {\n    this.title.next(title);\n  }\n\n  getTitle(): Observable&lt;String&gt; {\n    return this.title$;\n  }\n}\n</code></pre>\n<p>Then in a component (let's say the <a href=\"https://stackblitz.com/edit/angular-dynamic-title?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">AppComponent</a>) which will hold (and show) the <code>title</code>, you subscribe to the <code>appService#getTitle()</code> method and update the <code>title</code> property accordingly.</p>\n<pre><code>@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title: String;\n\n  constructor(private appService: AppService) { }\n\n  ngOnInit() {\n    this.appService.getTitle().subscribe(appTitle =&gt; this.title = appTitle);\n  }\n}\n</code></pre>\n<p>Now in every <a href=\"https://stackblitz.com/edit/angular-dynamic-title?embed=1&amp;file=src/app/hello.component.ts\" rel=\"nofollow noreferrer\">component</a> you inject the <code>AppService</code> (when needed to update the title) and call the <code>appService#setTitle()</code>. For example, a <code>hello</code> component:</p>\n<pre><code>@Component({\n  selector: 'hello',\n  template: `&lt;p&gt;&lt;b&gt;Hello&lt;/b&gt; component content&lt;/p&gt;`,\n  styles: []\n})\nexport class HelloComponent  {\n  \n  constructor(private appService: AppService) { }\n\n  ngOnInit() {\n    this.appService.setTitle('Hello Component');\n  }\n}\n</code></pre>\n<p>See this <strong><a href=\"https://stackblitz.com/edit/angular-dynamic-title\" rel=\"nofollow noreferrer\">Working Demo</a></strong> (Tested with Angular 6)</p>\n"}], "owner": {"reputation": 739, "user_id": 3074355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/73b3a9c11961f939bcd6e4c1f5fb965f?s=128&d=identicon&r=PG&f=1", "display_name": "Roboneter", "link": "https://stackoverflow.com/users/3074355/roboneter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6827, "favorite_count": 0, "accepted_answer_id": 51287553, "answer_count": 4, "score": 4, "last_activity_date": 1615797408, "creation_date": 1531314647, "last_edit_date": 1568871012, "question_id": 51286357, "link": "https://stackoverflow.com/questions/51286357/angular-display-title-of-selected-component", "title": "Angular display title of selected component", "body": "<p>My question is quite simple.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HqeXb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HqeXb.png\" alt=\"My structure\"></a></p>\n\n<p>In the <code>router-outlet</code> I display my pages for example <code>/contact</code>, <code>/home</code> or <code>/meetus</code></p>\n\n<p>(How) can I display the name of the active component in the <code>{{title}}</code>?</p>\n\n<p>Is this even possible or do I have to move my title bar inside every component?</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1531318577, "post_id": 51287212, "comment_id": 89553237, "body": "if i move the return outside of the loop it get an error returns"}, {"owner": {"reputation": 501, "user_id": 2576703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9392d8e218d3337a2a4a1c6ad0f042?s=128&d=identicon&r=PG&f=1", "display_name": "miwe", "link": "https://stackoverflow.com/users/2576703/miwe"}, "reply_to_user": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 1, "creation_date": 1531318809, "post_id": 51287212, "comment_id": 89553407, "body": "@d.mares showed an example in the answer below showing how to properly return all promises"}], "tags": [], "owner": {"reputation": 501, "user_id": 2576703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9392d8e218d3337a2a4a1c6ad0f042?s=128&d=identicon&r=PG&f=1", "display_name": "miwe", "link": "https://stackoverflow.com/users/2576703/miwe"}, "is_accepted": false, "score": 2, "last_activity_date": 1531316971, "creation_date": 1531316971, "answer_id": 51287212, "question_id": 51286039, "link": "https://stackoverflow.com/questions/51286039/sending-an-email-to-all-emails-in-a-loop-firebase-cloud-function/51287212#51287212", "title": "Sending an email to all emails in a loop firebase cloud function", "body": "<p>You return in the for loop, at the end of the first iteration </p>\n\n<pre><code>return sgMail.send(msg);\n</code></pre>\n\n<p>This causes the for loop to stop iterating.</p>\n"}, {"tags": [], "owner": {"reputation": 1512, "user_id": 3875046, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/f8Wyl.jpg?s=128&g=1", "display_name": "Diego P", "link": "https://stackoverflow.com/users/3875046/diego-p"}, "is_accepted": true, "score": 3, "last_activity_date": 1531317596, "creation_date": 1531317596, "answer_id": 51287463, "question_id": 51286039, "link": "https://stackoverflow.com/questions/51286039/sending-an-email-to-all-emails-in-a-loop-firebase-cloud-function/51287463#51287463", "title": "Sending an email to all emails in a loop firebase cloud function", "body": "<p>You need to push every email task into an array of promises then you return all promises <code>return Promise.all(promises)</code>:</p>\n\n<pre><code>export const midTenancyEmail = functions.firestore\n  .document('properties/{propertyId}/mid_tenancy/{midTenancyId}')\n  .onCreate(event =&gt; {\n    const propertyId = event.params.propertyId;\n    const midTenancyId = event.params.midTenancyId;\n    const db = admin.firestore();\n    const propertyDoc = db.collection('properties').doc(propertyId);\n    const midTenancyDoc = propertyDoc.collection('mid_tenancy').doc(midTenancyId);\n    let mid_tenancy;\n    return propertyDoc\n      .get()\n      .then(doc =&gt; {\n        const property = doc.data();\n        midTenancyDoc.get().then(data =&gt; {\n          mid_tenancy = data.data();\n          const promises = [];\n          for (let tenant of mid_tenancy.mid_tenants) {\n            let msg = {\n              to: tenant.mid_tenant_email,\n              from: 'email',\n              // custom templates\n              subject: 'You have a new direct message',\n              templateId: 'id',\n              substitutionWrappers: ['{{', '}}'],\n              substitutions: {\n                name: tenant.mid_tenant_name,\n                message: tenant.status,\n              }\n            };\n            promises.push(sgMail.send(msg)) ;\n          }\n          return Promise.all(promises);\n        });\n        return null;\n      })\n      .catch(err =&gt; {\n        console.log(err);\n      });\n  });\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 51287463, "answer_count": 2, "score": 1, "last_activity_date": 1531317596, "creation_date": 1531313767, "question_id": 51286039, "link": "https://stackoverflow.com/questions/51286039/sending-an-email-to-all-emails-in-a-loop-firebase-cloud-function", "title": "Sending an email to all emails in a loop firebase cloud function", "body": "<p>I have created a cloud function that goes into a firebase collection called 'properties' and then into a sub-collection within a specific property called 'mid_tenancy'. Within the id of the 'mid_tenancy' I then loop through each member of the tenancy and access their email. </p>\n\n<p>The problem I am having however, is that the email is only sent out to the first email in the loop and not any of the others. This is how my database looks: </p>\n\n<p><a href=\"https://i.stack.imgur.com/ycylS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ycylS.png\" alt=\"enter image description here\"></a> </p>\n\n<p><strong>I have removed the emails for obvious reasons</strong> </p>\n\n<p>and this is my cloud function: </p>\n\n<pre><code>export const midTenancyEmail = functions.firestore\n    .document('properties/{propertyId}/mid_tenancy/{midTenancyId}')\n    .onCreate(event =&gt; {\n        const propertyId = event.params.propertyId;\n        const midTenancyId = event.params.midTenancyId;\n        const db = admin.firestore();\n        const propertyDoc = db.collection('properties').doc(propertyId);\n        const midTenancyDoc = propertyDoc.collection('mid_tenancy').doc(midTenancyId);\n        let mid_tenancy;\n\n        return propertyDoc\n            .get()\n            .then(doc =&gt; {\n                const property = doc.data();\n                midTenancyDoc.get().then(data =&gt; {\n                    mid_tenancy = data.data();\n                  for(let tenant of mid_tenancy.mid_tenants) {\n                    let msg = {\n                        to: tenant.mid_tenant_email,\n                        from: 'email',\n                        // custom templates\n                        subject: 'You have a new direct message',\n                        templateId: 'id',\n                        substitutionWrappers: ['{{', '}}'],\n                        substitutions: {\n                            name: tenant.mid_tenant_name,\n                            message: tenant.status,\n                        }\n                    };\n                    return sgMail.send(msg);\n                  }\n                })\n            })\n            .then(email =&gt; {\n                console.log('email sent: ', email);\n            })\n            .catch(err =&gt; {\n                console.log(err);\n            })\n\n    });\n</code></pre>\n\n<p>Anyone know why this is only sending out one email? Instead of all the emails within the loop? There seems to be something breaking the loop after the first loop. </p>\n\n<p>Before the loop I have done: <code>console.log(mid_tenancy.mid_tenants[1].mid_tenant_name</code> just to be sure it was accessible, and it did log. </p>\n"}, {"tags": ["json", "html", "typescript", "ionic3", "angular5"], "comments": [{"owner": {"reputation": 267, "user_id": 3710672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a4509845e366f1bc7ad90172646f654?s=128&d=identicon&r=PG&f=1", "display_name": "Iaroslav", "link": "https://stackoverflow.com/users/3710672/iaroslav"}, "edited": false, "score": 2, "creation_date": 1531314659, "post_id": 51285964, "comment_id": 89550176, "body": "The error says that json has wrong format. Send it please or check it by yourself."}, {"owner": {"reputation": 1909, "user_id": 2225619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286a6578091bb7b170a254eb8b5c100d?s=128&d=identicon&r=PG", "display_name": "Capricorn", "link": "https://stackoverflow.com/users/2225619/capricorn"}, "edited": false, "score": 1, "creation_date": 1531317979, "post_id": 51285964, "comment_id": 89552749, "body": "Please do not post images of errors/code but include the error message in your question."}], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 8236697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68cba1f63c2ddfbc6d5fb8a0c6dabb9?s=128&d=identicon&r=PG&f=1", "display_name": "Binita Doriwala", "link": "https://stackoverflow.com/users/8236697/binita-doriwala"}, "edited": false, "score": 0, "creation_date": 1531368479, "post_id": 51288821, "comment_id": 89571454, "body": "thanks friend, but <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a> have give valid json in results. please share some another solution."}], "tags": [], "owner": {"reputation": 4372, "user_id": 5658060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hiodd.jpg?s=128&g=1", "display_name": "Wesley Coetzee", "link": "https://stackoverflow.com/users/5658060/wesley-coetzee"}, "is_accepted": false, "score": 0, "last_activity_date": 1531321493, "creation_date": 1531321493, "answer_id": 51288821, "question_id": 51285964, "link": "https://stackoverflow.com/questions/51285964/how-to-solve-this-error-when-i-using-ngx-translate/51288821#51288821", "title": "how to solve this error when i using ngx-translate?", "body": "<p>The error is telling you that there is a issue with your <code>de.json</code> file. You can use something like <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint</a> to see what is wrong with the json file, alternatively post it here and someone can look through it.</p>\n"}], "owner": {"reputation": 439, "user_id": 8236697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68cba1f63c2ddfbc6d5fb8a0c6dabb9?s=128&d=identicon&r=PG&f=1", "display_name": "Binita Doriwala", "link": "https://stackoverflow.com/users/8236697/binita-doriwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1531321493, "creation_date": 1531313561, "question_id": 51285964, "link": "https://stackoverflow.com/questions/51285964/how-to-solve-this-error-when-i-using-ngx-translate", "title": "how to solve this error when i using ngx-translate?", "body": "<p><a href=\"https://i.stack.imgur.com/W00SP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W00SP.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have to solve this error, i am using ngx-translate in ionic 3 app to change the language.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "store", "mobx"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9430427"}, "is_accepted": true, "score": 0, "last_activity_date": 1531312724, "creation_date": 1531312724, "answer_id": 51285691, "question_id": 51285486, "link": "https://stackoverflow.com/questions/51285486/how-to-properly-get-the-value-of-mobx-observable-in-typescript/51285691#51285691", "title": "How to properly get the value of Mobx @observable in TypeScript?", "body": "<p>According To Ang4 or 6\nUse</p>\n\n<pre><code> getCustomObject(): Observable&lt;CustomObject[]&gt; {\n     return this.customObject;\n}\n</code></pre>\n\n<p>And import observable from rxjs</p>\n"}, {"tags": [], "owner": {"reputation": 696, "user_id": 6914275, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52EqC5Y_-C8/AAAAAAAAAAI/AAAAAAAAABQ/8PcVxm5WlcA/photo.jpg?sz=128", "display_name": "Sergio Alen", "link": "https://stackoverflow.com/users/6914275/sergio-alen"}, "is_accepted": false, "score": 0, "last_activity_date": 1531313388, "creation_date": 1531313388, "answer_id": 51285911, "question_id": 51285486, "link": "https://stackoverflow.com/questions/51285486/how-to-properly-get-the-value-of-mobx-observable-in-typescript/51285911#51285911", "title": "How to properly get the value of Mobx @observable in TypeScript?", "body": "<p>You could try using <code>Observable.of();</code> like this:</p>\n\n<pre><code>import { Observable } from 'rxjs';\n\ngetCustomObject(): Observable&lt;CustomObject[]&gt; {\n     return Observable.of(this.customObject);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": false, "score": 0, "last_activity_date": 1531320185, "creation_date": 1531320185, "answer_id": 51288391, "question_id": 51285486, "link": "https://stackoverflow.com/questions/51285486/how-to-properly-get-the-value-of-mobx-observable-in-typescript/51288391#51288391", "title": "How to properly get the value of Mobx @observable in TypeScript?", "body": "<p>You can make use of mobx-utils towork with RxJs as mentioned in <a href=\"https://mobx.js.org/faq/faq.html\" rel=\"nofollow noreferrer\">mobx FAQs</a>.</p>\n\n<p>So, lets assume you have store class, then, you can add a method that returns RxJs <code>Observable</code> as shown below:</p>\n\n<pre><code>import { observable } from 'mobx';\nimport * as mobxUtils from 'mobx-utils';\n\nimport { Observable, of, from } from 'rxjs';\n\n...\n\n\nclass Store {\n    @observable customObject: any = [];\n\n    rxjsObservable(): Observable&lt;any[]&gt; {\n      return from(mobxUtils.toStream(() =&gt; this.customObject));\n    }\n}\n</code></pre>\n\n<p>To use it, you can subscribe and use the values.  Example below:</p>\n\n<pre><code>  let store = new Store();\n\n  store.rxjsObservable().subscribe((c) =&gt; {\n    console.log(\"Received new value:\", c);\n  })\n\n  store.customObject = [1,2,3];\n  // Console will print \n  // =&gt; Received new value: [1, 2, 3]\n</code></pre>\n\n<p>PS: Example uses RxJs 6.  If older version of RxJs, then, <code>from</code> may have to replaced with <code>Observable.from</code>.</p>\n"}], "owner": {"reputation": 910, "user_id": 8608962, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wseAh.jpg?s=128&g=1", "display_name": "sander", "link": "https://stackoverflow.com/users/8608962/sander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 51285691, "answer_count": 3, "score": 0, "last_activity_date": 1531320185, "creation_date": 1531312053, "question_id": 51285486, "link": "https://stackoverflow.com/questions/51285486/how-to-properly-get-the-value-of-mobx-observable-in-typescript", "title": "How to properly get the value of Mobx @observable in TypeScript?", "body": "<p>I have a store class which has a property:  </p>\n\n<pre><code>@observable customObject: customObject[] = [];\n</code></pre>\n\n<p>If I wanted to get the value of this observable would I make a method in the same class with:</p>\n\n<p><strong>Option 1</strong></p>\n\n<pre><code>getCustomObject(): Observable&lt;CustomObject[]&gt; {\n     return this.customObject;\n}\n// the observable I'm using would be imported from \"rxjs\" and not \"mobx\"\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<pre><code>getCustomObject() {\n     return this.customObject;\n}\n// How can I subscribe to this observable when the method doesn't return an observable?\n</code></pre>\n"}, {"tags": ["typescript", "union", "conditional-types"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 546, "user_id": 4268788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RocPC.jpg?s=128&g=1", "display_name": "Deftomat", "link": "https://stackoverflow.com/users/4268788/deftomat"}, "edited": false, "score": 0, "creation_date": 1531311984, "post_id": 51285433, "comment_id": 89548207, "body": "@Deftomat :)) I do my best"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 6, "last_activity_date": 1531311893, "creation_date": 1531311893, "answer_id": 51285433, "question_id": 51285374, "link": "https://stackoverflow.com/questions/51285374/typescript-lookup-conditional-types-and-unions/51285433#51285433", "title": "TypeScript lookup/conditional types and unions", "body": "<p>We can use the conditional type <code>Extract&lt;T, U&gt;</code>. If <code>T</code> is a union, the result of <code>Extract</code> will be all members of the <code>T</code> union that satisfy the constraint <code>U</code> (aka, <code>T extends U</code>) </p>\n\n<pre><code>type Company = Extract&lt;Entity, { __type: 'Employee' }&gt;  \n// Same as\ntype Company = {\n    __type: \"Employee\";\n    firstName: string;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 546, "user_id": 4268788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RocPC.jpg?s=128&g=1", "display_name": "Deftomat", "link": "https://stackoverflow.com/users/4268788/deftomat"}, "is_accepted": false, "score": 1, "last_activity_date": 1531335461, "last_edit_date": 1531335461, "creation_date": 1531313694, "answer_id": 51286014, "question_id": 51285374, "link": "https://stackoverflow.com/questions/51285374/typescript-lookup-conditional-types-and-unions/51286014#51286014", "title": "TypeScript lookup/conditional types and unions", "body": "<p><em>The correct answer was published by <strong>Titian Cernicova-Dragomir.</strong>\nHowever, I decided to post a complete solution to my wider problem.</em></p>\n\n<p>We are working with an ApolloClient and we often receives a unions. Due to strong typing, you need a lot of ugly conditions to access the right properties and keep TypeScript happy.</p>\n\n<p>So, I came up with the following <strong>asTypeGuard</strong> function:</p>\n\n<pre><code>function asTypeGuard&lt;Typename extends string&gt;(typename: Typename) {\n  return function&lt;Entity extends { __typename: string }&gt;(\n    entity: Entity\n  ): entity is Extract&lt;Entity, { __typename: typeof typename }&gt; {\n    return entity.__typename === typename;\n  };\n}\n\nconst isCompany = asTypeGuard('Company');\nconst isEmployee = asTypeGuard('Employee');\n\nlet entity: { __typename: 'Company'; name: string } | { __typename: 'Employee'; firstName: string };\n\nif (isCompany(entity)) {\n  console.log(entity.name);\n  console.log(entity.firstName) // Property 'firstName' does not exist on type '{ __typename: \"Company\"; name: string; }\n} else if (isEmployee(entity)) {\n  console.log(entity.name);     // Property 'name' does not exist on type '{ __typename: \"Employee\"; firstName: string; }\n  console.log(entity.firstName)\n}\n</code></pre>\n"}], "owner": {"reputation": 546, "user_id": 4268788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RocPC.jpg?s=128&g=1", "display_name": "Deftomat", "link": "https://stackoverflow.com/users/4268788/deftomat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 51285433, "answer_count": 2, "score": 1, "last_activity_date": 1531335461, "creation_date": 1531311727, "question_id": 51285374, "link": "https://stackoverflow.com/questions/51285374/typescript-lookup-conditional-types-and-unions", "title": "TypeScript lookup/conditional types and unions", "body": "<p>I have a simple question: Is it possible to obtain a type of a part of a union in TypeScript?</p>\n\n<p>For example, you can often use lookup types like this:</p>\n\n<pre><code>interface Person {\n  name: string;\n}\n\ntype Name = Person['name']\n</code></pre>\n\n<p>Now, I'm assuming that it is not possible with unions like this:</p>\n\n<pre><code>type Entity = \n    { __type: 'Company', name: string } \n  | { __type: 'Employee', firstName: string };\n</code></pre>\n\n<p>So, is there any way how to obtain a part of a union? Something like this:</p>\n\n<pre><code>type Company = DoTheMagic&lt;Entity, { __type: 'Employee' }&gt; \n\nconst company: Company = ...;\n\nconsole.log(company.name) // OK\nconsole.log(company.firstName) // Compile error\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "express", "mean-stack"], "answers": [{"tags": [], "owner": {"reputation": 1692, "user_id": 5879740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8gQJ4.jpg?s=128&g=1", "display_name": "Constantin Guidon", "link": "https://stackoverflow.com/users/5879740/constantin-guidon"}, "is_accepted": true, "score": 0, "last_activity_date": 1531309625, "last_edit_date": 1531309625, "creation_date": 1531309282, "answer_id": 51284624, "question_id": 51284474, "link": "https://stackoverflow.com/questions/51284474/object-value-is-undefined-mean-stack/51284624#51284624", "title": "Object value is undefined : MEAN Stack", "body": "<p>Thats because you are trying to access an object property that does not exist.\nIn the object you log you have an array and inside you have an object. That's because the <code>MongoDB</code> find method try to find <strong>every object</strong> matching the conditions and you should use something like <code>findOne</code> if you want only one object.</p>\n\n<p>Try this:</p>\n\n<pre><code>var mailObj = foundData[0].email;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9705886"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 51284624, "answer_count": 1, "score": 0, "last_activity_date": 1531309625, "creation_date": 1531308863, "question_id": 51284474, "link": "https://stackoverflow.com/questions/51284474/object-value-is-undefined-mean-stack", "title": "Object value is undefined : MEAN Stack", "body": "<p>This is my code</p>\n\n<pre><code>//to check whether email exist or not\nrouter.post('/forgot', function(req,res) {\n  User.find({email: req.body.email}, function(err,found) {\n    console.log('finding email');\n    if(found.length) {\n      //console.log(found);\n      resets(found);\n       return res.json({success: true, msg: 'User found'});\n      //return res.json(found);\n    }\n    else if(err) {\n      return res.json({success: false, msg: 'User not found'});\n    }\n    else if(!found) {\n      return res.json({success: false, msg: 'User not found'});\n    }\n  });\n});\n\nfunction resets(foundData) {\n  console.log(foundData.email);\n  var mailObj = foundData.email;\n  console.log(mailObj);\n}\n</code></pre>\n\n<p>In my console I'm getting output as </p>\n\n<blockquote>\n  <p>finding email undefined\n  undefined</p>\n</blockquote>\n\n<p>But when I'm trying to display only the <code>foundData</code> object I'm getting the output in my console as</p>\n\n<pre><code>finding email\n[ { _id: 5b3ca69ba87aa42414993682,\n    name: 'xxxxx',\n    email: 'xxx',\n    username: 'xxxxx',\n    password: '$2a$10$ZLeRJvizxk62EOS/5mZT6evz7.mFbzf38K6pAzr69O/5I2EZ6WJWO',\n    phone: '',\n    location: '',\n    title: '',\n    company: '',\n    education: '',\n    __v: 0 } ]\n</code></pre>\n\n<p>This is the code for the above output.</p>\n\n<pre><code>function resets(foundData) {\n  console.log(foundData);\n} \n</code></pre>\n\n<p>I want the variable <code>email</code> from the <code>foundData</code> object. How can I resolve this?</p>\n"}, {"tags": ["typescript", "ionic-framework", "google-pay"], "comments": [{"owner": {"reputation": 2002, "user_id": 10222449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176e1fe408caa3b14397e67baf37f9f0?s=128&d=identicon&r=PG&f=1", "display_name": "MadMac", "link": "https://stackoverflow.com/users/10222449/madmac"}, "edited": false, "score": 0, "creation_date": 1558395666, "post_id": 51284309, "comment_id": 99078699, "body": "Did you get it working in the end?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10064389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMzqx.png?s=128&g=1", "display_name": "neelanshi bhatnagar", "link": "https://stackoverflow.com/users/10064389/neelanshi-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1531372873, "post_id": 51286926, "comment_id": 89572659, "body": "But it was working earlier in my app using my own phone.Suddenly it stopped working and giving me that response &#39;Unexpected developer error&#39;"}, {"owner": {"reputation": 4719, "user_id": 2676845, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/TTFOs.jpg?s=128&g=1", "display_name": "fstanis", "link": "https://stackoverflow.com/users/2676845/fstanis"}, "reply_to_user": {"reputation": 11, "user_id": 10064389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMzqx.png?s=128&g=1", "display_name": "neelanshi bhatnagar", "link": "https://stackoverflow.com/users/10064389/neelanshi-bhatnagar"}, "edited": false, "score": 1, "creation_date": 1531503298, "post_id": 51286926, "comment_id": 89636139, "body": "Try following the steps in the troubleshooting documentation: <a href=\"https://developers.google.com/pay/api/android/support/troubleshooting\" rel=\"nofollow noreferrer\">developers.google.com/pay/api/android/support/troubleshootin&zwnj;&#8203;g</a>"}, {"owner": {"reputation": 4778, "user_id": 12031739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBL53wM9WHYa9QeNIq3MJ4scErCBV3t3egXL6NI5w=k-s128", "display_name": "Soc", "link": "https://stackoverflow.com/users/12031739/soc"}, "edited": false, "score": 0, "creation_date": 1569000522, "post_id": 51286926, "comment_id": 102467813, "body": "<code>adb -d logcat -s WalletMerchantError</code> was particularly helpful in my experience."}], "tags": [], "owner": {"reputation": 4719, "user_id": 2676845, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/TTFOs.jpg?s=128&g=1", "display_name": "fstanis", "link": "https://stackoverflow.com/users/2676845/fstanis"}, "is_accepted": false, "score": 4, "last_activity_date": 1531316217, "creation_date": 1531316217, "answer_id": 51286926, "question_id": 51284309, "link": "https://stackoverflow.com/questions/51284309/google-pay-unexpected-developer-error-in-ionic-2-app/51286926#51286926", "title": "Google pay: Unexpected Developer Error in Ionic 2 app", "body": "<p>The Google Pay Web API that you're using can only be used on the web - hybrid apps or calling it from a WebView inside a native app is not supported.</p>\n\n<p>If you'd like to use Google Pay in a hybrid app, you have to call Google Pay from native Java code. The way to do this in Ionic is to <a href=\"https://cordova.apache.org/docs/en/latest/guide/platforms/android/plugin.html\" rel=\"nofollow noreferrer\">build a Cordova plugin</a> and then call it via <a href=\"https://ionicframework.com/docs/native/\" rel=\"nofollow noreferrer\">Ionic Native</a>. Follow the <a href=\"https://developers.google.com/pay/api/android/guides/tutorial\" rel=\"nofollow noreferrer\">Google Pay Android tutorial</a> for the actual Java code to use in the plugin.</p>\n"}], "owner": {"reputation": 11, "user_id": 10064389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMzqx.png?s=128&g=1", "display_name": "neelanshi bhatnagar", "link": "https://stackoverflow.com/users/10064389/neelanshi-bhatnagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1927, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531333198, "creation_date": 1531308382, "last_edit_date": 1531333198, "question_id": 51284309, "link": "https://stackoverflow.com/questions/51284309/google-pay-unexpected-developer-error-in-ionic-2-app", "title": "Google pay: Unexpected Developer Error in Ionic 2 app", "body": "<p>I am integrating google pay in Ionic app using web google pay api.I am running script for that.The link of script is working perfectly in browser ,but when i am opening this link in my App through IN-APP Browser, it is giving me UNEXPECTED DEVELOPER ERROR. I am very much exhausted but not getting the reason of issue through app .Please help me out.\n<strong>HERE IS MY TYPESCRIPT IN-APP BROWSER CODE:</strong></p>\n\n<pre><code> var url = \"https://mypaymenturl/googlepay/googlepay.html?price=0.01\"\n    var a: any; var b: any; var c: any;\n    var target = '_self'\n    var options = {location: 'no'};\n    var browser = this.iab.create(url, '_blank', {location: 'no'});\n            browser.on('loadstart').subscribe((e) =&gt; {\n        console.log(e);\n        let url = e.url;\n        console.log(e.url);\n\n    }, err =&gt; {\n        console.log(\"InAppBrowser loadstart Event Error: \" + err);\n    });\n</code></pre>\n\n<p><strong>HERE IS THE SCRIPT RUNNING BEHIND THE LINK I AM OPENING USING IN-APP BROWSER:(URL Script:<a href=\"https://mypaymenturl/googlepay/googlepay.html?price=0.01\" rel=\"nofollow noreferrer\">https://mypaymenturl/googlepay/googlepay.html?price=0.01</a>)</strong></p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n&lt;/div&gt;`&lt;script&gt;\nvar allowedPaymentMethods = ['CARD', 'TOKENIZED_CARD'];\nvar allowedCardNetworks = ['AMEX', 'DISCOVER', 'JCB', 'MASTERCARD', 'VISA'];\nvar tokenizationParameters = {\n    tokenizationType: 'PAYMENT_GATEWAY',\n    parameters: {\n        'gateway': 'stripe',\n        'stripe:version': \"5.1.0\",\n        'stripe:publishableKey': 'pk_test_b2gp9tSHK9iP****'\n\n    }\n}\nfunction getGooglePaymentsClient() {\n    return (new google.payments.api.PaymentsClient({environment: 'TEST'}));\n}\nfunction onGooglePayLoaded() {\n    var paymentsClient = getGooglePaymentsClient();\n    paymentsClient.isReadyToPay({allowedPaymentMethods: allowedPaymentMethods})\n            .then(function (response) {\n                if (response.result) {\n                    prefetchGooglePaymentData();\n                }\n            })\n            .catch(function (err) {\n                console.error(err);\n            });\n}\nfunction addGooglePayButton() {\n    var button = document.createElement('button');\n    button.className = 'google-pay';\n    button.appendChild(document.createTextNode('Google Pay'));\n    button.addEventListener('click', onGooglePaymentButtonClicked);\n    document.getElementById('container').appendChild(button);\n}\nfunction getGooglePaymentDataConfiguration() {\n    return {\n        paymentMethodTokenizationParameters: tokenizationParameters,\n        allowedPaymentMethods: allowedPaymentMethods,\n        cardRequirements: {\n            allowedCardNetworks: allowedCardNetworks\n        }\n    };\n}\nfunction getGoogleTransactionInfo() {\n    var url = new URL(window.location.href);\n    var price = url.searchParams.get(\"price\");\n    console.log(price);\n    return {\n        currencyCode: 'USD',\n        totalPriceStatus: 'FINAL',\n        totalPrice: price\n    };\n}\nfunction prefetchGooglePaymentData() {\n    var paymentDataRequest = getGooglePaymentDataConfiguration();\n    console.log(paymentDataRequest);\n    var url = new URL(window.location.href);\n    var price = url.searchParams.get(\"price\");\n    console.log(price);\n    paymentDataRequest.transactionInfo = {\n        totalPriceStatus: 'FINAL',\n        currencyCode: 'USD',\n        totalPrice: price\n    };\n    var paymentsClient = getGooglePaymentsClient();\n    paymentsClient.prefetchPaymentData(paymentDataRequest);\n    onGooglePaymentButtonClicked();\n}\nfunction onGooglePaymentButtonClicked() {\n    console.log(\"vikrant\");\n    var paymentDataRequest = getGooglePaymentDataConfiguration();\n    console.log(paymentDataRequest);\n    paymentDataRequest.transactionInfo = getGoogleTransactionInfo();\n    var paymentsClient = getGooglePaymentsClient();\n    console.log(paymentsClient);\n    console.log(\"paymentsClient\");\n    paymentsClient.prefetchPaymentData(paymentDataRequest);\n    paymentsClient.loadPaymentData(paymentDataRequest)\n            .then(function (paymentData) {\n                console.log(\"Handle the response\");\n                console.log(paymentData);\n                processPayment(paymentData);\n            })\n            .catch(function (err) {\n                console.log(\"show error in developer console for debugging\");\n                console.error(err);\n                window.history.replaceState(null, null, \"?param=error\");\n            });\n}\nfunction processPayment(paymentData) {\n    var data = JSON.parse(paymentData.paymentMethodToken.token)\n    window.history.replaceState(null, null, \"?param=success&amp;token=\" + data.id + \"&amp;card=\" + data.card.id);}&lt;/script&gt;`\n&lt;script async   src=\"https://pay.google.com/gp/p/js/pay.js\"onload=\"onGooglePayLoaded()\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["typescript", "ecmascript-6", "java-8"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1531306403, "post_id": 51283616, "comment_id": 89544487, "body": "This is probably possible using Java streams.  Have you tried any Java code yet?"}], "answers": [{"comments": [{"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1531307421, "post_id": 51283693, "comment_id": 89545182, "body": "First <code>map</code> should be <code>mapToObj</code>"}, {"owner": {"reputation": 101145, "user_id": 1059372, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/W6OMC.png?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1059372/eugene"}, "reply_to_user": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1531313393, "post_id": 51283693, "comment_id": 89549226, "body": "@abetteroliver ups!"}], "tags": [], "owner": {"reputation": 101145, "user_id": 1059372, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/W6OMC.png?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1059372/eugene"}, "is_accepted": false, "score": 2, "last_activity_date": 1531313386, "last_edit_date": 1531313386, "creation_date": 1531306508, "answer_id": 51283693, "question_id": 51283616, "link": "https://stackoverflow.com/questions/51283616/java-equivalent-to-javascript-map-method-with-two-parameters-with-the-second-be/51283693#51283693", "title": "Java equivalent to javascript map method with two parameters, with the second being the index", "body": "<p>I think it's like something like this:   </p>\n\n<pre><code>IntStream.range(0, numbers.length)\n         .mapToObj(x -&gt; new SimpleEntry(x, numbers[x]))\n         .filter(x -&gt; x.getValue() % 2 == 0)\n         .map(Entry::getKey)\n         .collect(Collectors.toList())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "is_accepted": false, "score": 2, "last_activity_date": 1531307379, "creation_date": 1531307379, "answer_id": 51284002, "question_id": 51283616, "link": "https://stackoverflow.com/questions/51283616/java-equivalent-to-javascript-map-method-with-two-parameters-with-the-second-be/51284002#51284002", "title": "Java equivalent to javascript map method with two parameters, with the second being the index", "body": "<p>A stream based solution that filters and maps in one step:</p>\n\n<pre><code>IntStream.range(0, numbers.length)\n         .boxed()\n         .flatMap(index -&gt; numbers[index] % 2 != 0 ? of(index): empty())\n         .collect(Collectors.toList());\n</code></pre>\n\n<p><code>of</code> and <code>empty</code> are static members of <code>Stream</code>. What it does is checking if the number is odd and if it is, it returns the index otherwise it returns nothing. Well, actually it returns a stream but that is resolved by <code>flatMap</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 1, "creation_date": 1531315843, "post_id": 51286265, "comment_id": 89551044, "body": "Of course! You can filter the indices directly. I was confused at first about whether the OP wanted the numbers or indices so I started with <code>flatMap</code>. +1"}], "tags": [], "owner": {"reputation": 18059, "user_id": 4108590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/qDozH.jpg?s=128&g=1", "display_name": "Ravindra Ranwala", "link": "https://stackoverflow.com/users/4108590/ravindra-ranwala"}, "is_accepted": false, "score": 2, "last_activity_date": 1531314425, "creation_date": 1531314425, "answer_id": 51286265, "question_id": 51283616, "link": "https://stackoverflow.com/questions/51283616/java-equivalent-to-javascript-map-method-with-two-parameters-with-the-second-be/51286265#51286265", "title": "Java equivalent to javascript map method with two parameters, with the second being the index", "body": "<p>You can do it like so,</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6);\nList&lt;Integer&gt; indicesOfOddNumbers = IntStream.range(0, numbers.size())\n        .filter(i -&gt; numbers.get(i) % 2 != 0)\n        .boxed()\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>First create an int stream going from the beginning of the list to the end. Then get each element in the list via index and filter out any even numbers. After that box it into a boxed primitive before you collect it into a <code>List</code> as your last step.</p>\n"}], "owner": {"reputation": 41, "user_id": 8416631, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HiDdhwLnogE/AAAAAAAAAAI/AAAAAAAAABg/ig4N1UxzctY/photo.jpg?sz=128", "display_name": "ftsavalos", "link": "https://stackoverflow.com/users/8416631/ftsavalos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1531314425, "creation_date": 1531306298, "question_id": 51283616, "link": "https://stackoverflow.com/questions/51283616/java-equivalent-to-javascript-map-method-with-two-parameters-with-the-second-be", "title": "Java equivalent to javascript map method with two parameters, with the second being the index", "body": "<p>I Have the above example, written in Typescript:</p>\n\n<pre><code>let numbers = [1,2,3,4,5,6];\n\nlet indicesOfOddNumbers = numbers\n  .map((number, index) =&gt; {\n    return {\n      index, number\n    }\n  })\n  .filter(a =&gt; a.number % 2 != 0)\n  .map(a =&gt; a.index);\n</code></pre>\n\n<p>How Java would do something similar?</p>\n"}, {"tags": ["angularjs", "angular", "typescript"], "comments": [{"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 1, "creation_date": 1531307777, "post_id": 51283392, "comment_id": 89545390, "body": "It looks like a path issue. You need to check 404 url against your folder structure."}, {"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "edited": false, "score": 0, "creation_date": 1531307811, "post_id": 51283392, "comment_id": 89545416, "body": "How do you build the Angular 6 app? What is the templateUrl value?"}, {"owner": {"reputation": 29, "user_id": 2783057, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8076a2bfbdac8569dbabe7c0e4a9328a?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Wasule", "link": "https://stackoverflow.com/users/2783057/sagar-wasule"}, "reply_to_user": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531309661, "post_id": 51283392, "comment_id": 89546615, "body": "@hurricane .. This path provided is correct as far as folder structure is concerned, it was working fine when angular 1.5 code is run independently. Is there something with cli ? do you have any idea ?"}, {"owner": {"reputation": 29, "user_id": 2783057, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8076a2bfbdac8569dbabe7c0e4a9328a?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Wasule", "link": "https://stackoverflow.com/users/2783057/sagar-wasule"}, "reply_to_user": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "edited": false, "score": 0, "creation_date": 1531309709, "post_id": 51283392, "comment_id": 89546647, "body": "@kvetis I build it using angular cli. Template url used in angular 1.5 component is not working"}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531309725, "post_id": 51283392, "comment_id": 89546659, "body": "@SagarWasule as i told you, you need to share with us 404 url and folder structure."}, {"owner": {"reputation": 29, "user_id": 2783057, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8076a2bfbdac8569dbabe7c0e4a9328a?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Wasule", "link": "https://stackoverflow.com/users/2783057/sagar-wasule"}, "reply_to_user": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531310569, "post_id": 51283392, "comment_id": 89547158, "body": "@hurricane updated my question with more details"}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531310747, "post_id": 51283392, "comment_id": 89547265, "body": "@SagarWasule Hey Bro! Can you open chrome console and show us 404 url error?"}, {"owner": {"reputation": 29, "user_id": 2783057, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8076a2bfbdac8569dbabe7c0e4a9328a?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Wasule", "link": "https://stackoverflow.com/users/2783057/sagar-wasule"}, "reply_to_user": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531310845, "post_id": 51283392, "comment_id": 89547340, "body": "@hurricane updated my question with more details"}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531312000, "post_id": 51283392, "comment_id": 89548221, "body": "@SagarWasule Can you also show us the browser url when you are routing users page with <code>template</code>"}, {"owner": {"reputation": 29, "user_id": 2783057, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8076a2bfbdac8569dbabe7c0e4a9328a?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Wasule", "link": "https://stackoverflow.com/users/2783057/sagar-wasule"}, "reply_to_user": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531312223, "post_id": 51283392, "comment_id": 89548371, "body": "@hurricane updated my question with more details"}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531312433, "post_id": 51283392, "comment_id": 89548533, "body": "@SagarWasule Can you try <code>templateUrl : &#39;users&#47;user-details.html&#39;</code>"}, {"owner": {"reputation": 29, "user_id": 2783057, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8076a2bfbdac8569dbabe7c0e4a9328a?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Wasule", "link": "https://stackoverflow.com/users/2783057/sagar-wasule"}, "reply_to_user": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1531313732, "post_id": 51283392, "comment_id": 89549462, "body": "@hurricane This is not working got this error zone.js:2969 GET <a href=\"http://localhost:8082/users/user-details.html\" rel=\"nofollow noreferrer\">localhost:8082/users/user-details.html</a> 404 (Not Found)"}, {"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "edited": false, "score": 0, "creation_date": 1531320734, "post_id": 51283392, "comment_id": 89554904, "body": "I guess your templates are not getting served by the angular-cli. I don&#39;t know much about angular-cli server, but maybe it needs to be told to serve your static files. In NG6, the angular-cli automatically inlines ng6 templates for you, because they are required using webpack."}, {"owner": {"reputation": 81, "user_id": 1041368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5576ad0b10a7ede6ea2832cfa1bdec2b?s=128&d=identicon&r=PG", "display_name": "dinu", "link": "https://stackoverflow.com/users/1041368/dinu"}, "edited": false, "score": 0, "creation_date": 1595774125, "post_id": 51283392, "comment_id": 111584257, "body": "@SagarWasule Hi, Did you resolve this issue as i am also facing this issue during migration."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 9495081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cjwNLUUDBlk/AAAAAAAAAAI/AAAAAAAAAAo/pk18lfoKM50/photo.jpg?sz=128", "display_name": "Aditya Mhamunkar", "link": "https://stackoverflow.com/users/9495081/aditya-mhamunkar"}, "is_accepted": true, "score": 0, "last_activity_date": 1539979580, "creation_date": 1539979580, "answer_id": 52899234, "question_id": 51283392, "link": "https://stackoverflow.com/questions/51283392/template-url-in-component-not-working-while-angular-1-5-to-angular-6-migration/52899234#52899234", "title": "Template Url in component not working while Angular 1.5 to Angular 6 migration", "body": "<p>Try importing the file on the top</p>\n\n<pre><code>import '/ng1/app/src/users/user-details.html';\n</code></pre>\n\n<p>And in the component,</p>\n\n<pre><code>templateUrl: 'users.user-details.html';\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 2783057, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8076a2bfbdac8569dbabe7c0e4a9328a?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Wasule", "link": "https://stackoverflow.com/users/2783057/sagar-wasule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 0, "accepted_answer_id": 52899234, "answer_count": 1, "score": 1, "last_activity_date": 1539979580, "creation_date": 1531305639, "last_edit_date": 1531312159, "question_id": 51283392, "link": "https://stackoverflow.com/questions/51283392/template-url-in-component-not-working-while-angular-1-5-to-angular-6-migration", "title": "Template Url in component not working while Angular 1.5 to Angular 6 migration", "body": "<p>I'm working on migrating a Angular 1.5 project to Angular 6. The templateUrl used in Angular 1.5 component is not working. I'm using following packages,</p>\n\n<p>Angular cli 6.0.8\ntypescript 2.7.2\nAngular 6.0.7</p>\n\n<p>I have Angular 1.5 components which has templateUrl mapped. I successfully was able to build this hybrid app where my angular 1 and angular 6 components are getting rendered. Whenever I load the project the templateUrl gets the path as 404 not found, hence angularjs 1.5 component does not get rendered. While if I use 'template' with inline html strings then it works. </p>\n\n<p>My Angular 1.5 code is in javascript while I'm using typescript for my Angular 6 code</p>\n\n<p>Does anyone has some idea on this I'm struck in this issue for last couple of days</p>\n\n<p>Thanks </p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>angular.\nmodule('app.users').\ncomponent('userDetails', {\n    templateUrl : './ng1/app/src/users/user-details.html',\n    //template: 'This is user detail',\n    controller: UserController\n});\n</code></pre>\n\n<p>When using template it works fine. While templateUrl is not working. I have tried the following links\n./ng1/app/src/users/user-details.html <br/>\n./app/src/users/user-details.html <br/>\n../user-details.html<br/>\n./users/user-details.html <br/></p>\n\n<p>My component js file is present under ./ng1/app/src/users\nbut while build happens using gulp the bundle js gets created at root folder</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Error that I'm receiving is below,</p>\n\n<p>zone.js:2969 GET <a href=\"http://localhost:8082/ng1/app/src/users/user-details.html\" rel=\"nofollow noreferrer\">http://localhost:8082/ng1/app/src/users/user-details.html</a> 404 (Not Found)</p>\n\n<p>angular.js:13236 Error: [$compile:tpload] Failed to load template: ./ng1/app/src/users/user-details.html (HTTP status: 404 Not Found)</p>\n\n<p><strong>EDIT</strong>\nBrowser url : <a href=\"http://localhost:8082/users\" rel=\"nofollow noreferrer\">http://localhost:8082/users</a></p>\n\n<p>Route is  specified as </p>\n\n<pre><code>$routeProvider.when('/users', {\n      template: '&lt;user-details&gt;&lt;/user-details&gt;'\n    })\n</code></pre>\n"}, {"tags": ["list", "typescript", "modal-dialog", "angular5", "edit"], "comments": [{"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531318316, "post_id": 51282795, "comment_id": 89553039, "body": "Iam updated my answer."}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 9406633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc51f0db5867044c20d61803713b5?s=128&d=identicon&r=PG&f=1", "display_name": "j0w", "link": "https://stackoverflow.com/users/9406633/j0w"}, "edited": false, "score": 0, "creation_date": 1531318007, "post_id": 51285381, "comment_id": 89552768, "body": "it seems to work, thanks for the tips ! i just had to add name=&quot;id&quot; and name=&quot;name&quot; in the inputs. now, is there a way to clear the data when the modal is closed?"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "reply_to_user": {"reputation": 375, "user_id": 9406633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc51f0db5867044c20d61803713b5?s=128&d=identicon&r=PG&f=1", "display_name": "j0w", "link": "https://stackoverflow.com/users/9406633/j0w"}, "edited": false, "score": 0, "creation_date": 1531318094, "post_id": 51285381, "comment_id": 89552837, "body": "yeah it is possible. use like this. this.name=&#39;&#39; and this.id=&#39;&#39;; like this thats all. If you use form simple do this.form_name.reset();"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "reply_to_user": {"reputation": 375, "user_id": 9406633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc51f0db5867044c20d61803713b5?s=128&d=identicon&r=PG&f=1", "display_name": "j0w", "link": "https://stackoverflow.com/users/9406633/j0w"}, "edited": false, "score": 0, "creation_date": 1531318183, "post_id": 51285381, "comment_id": 89552909, "body": "here is an example for you.<a href=\"https://stackoverflow.com/questions/45279471/reset-input-value-in-angular-2\" title=\"reset input value in angular 2\">stackoverflow.com/questions/45279471/&hellip;</a>"}, {"owner": {"reputation": 375, "user_id": 9406633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc51f0db5867044c20d61803713b5?s=128&d=identicon&r=PG&f=1", "display_name": "j0w", "link": "https://stackoverflow.com/users/9406633/j0w"}, "edited": false, "score": 0, "creation_date": 1531319001, "post_id": 51285381, "comment_id": 89553552, "body": "thanks for your update :) for the reset thing, what i meant is : is that possible to reset the inputs when you loose focus of the modal? like, technically, if i click somewhere out of the modal it closes it, but the id and name value in component still are the one wich were binded"}, {"owner": {"reputation": 375, "user_id": 9406633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc51f0db5867044c20d61803713b5?s=128&d=identicon&r=PG&f=1", "display_name": "j0w", "link": "https://stackoverflow.com/users/9406633/j0w"}, "edited": false, "score": 0, "creation_date": 1531319268, "post_id": 51285381, "comment_id": 89553760, "body": "Oops, nevermind, just figured it out... Thanks for your help! :)"}], "tags": [], "owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1531318604, "last_edit_date": 1531318604, "creation_date": 1531311751, "answer_id": 51285381, "question_id": 51282795, "link": "https://stackoverflow.com/questions/51282795/angular5-add-or-edit-item-from-list-in-a-modal/51285381#51285381", "title": "angular5 add or edit item from list in a modal", "body": "<p>Try this,Here i am used two way data binding for this.</p>\n\n<p>Typescript file,</p>\n\n<pre><code>    //here declared variable\n    name:any;\n    id:number;\n\n    showForEdit(policy){\n      //here you can access your *ngFor looped dataSource data like (policy.id, policy.name)\n      this.name=policy.name; //here iam assinging name value to variable.\n      this.id=policy.id;\n    }\n\n   addOrUpdate(){\n      console.log(\"Your Name Data here\",this.name);\n      console.log(\"Your Id Data here\",this.id);\n   }\n</code></pre>\n\n<p>Html file,</p>\n\n<pre><code> &lt;form role=\"form\"&gt;\n      &lt;div class=\"form-group\"&gt;            \n            &lt;input type=\"hidden\" class=\"form-control\" name=\"id\" [(ngModel)]=\"id\" value=\"\"/&gt;\n            &lt;input type=\"text\" class=\"form-control\" name=\"name\" [(ngModel)]=\"name\" placeholder=\"Name\" value=\"\"/&gt;\n       &lt;/div&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>For more study related details visit official documents here.Here is the official documents is very useful for start learn angular.</p>\n\n<p><a href=\"https://angular.io/guide/forms\" rel=\"nofollow noreferrer\">https://angular.io/guide/forms</a></p>\n\n<p>Edit:-</p>\n\n<p>Make sure you have to added app.module.ts file,</p>\n\n<pre><code>import { FormsModule, ReactiveFormsModule } from '@angular/forms'\n\n imports: [\n    FormsModule, //here\n    ReactiveFormsModule,\n ]\n</code></pre>\n\n<p>For Reset,</p>\n\n<pre><code>this.name='' \nthis.id='';\n</code></pre>\n\n<p>if you use form use like this,</p>\n\n<pre><code>this.form_name.reset();\n</code></pre>\n\n<p>Reference site,</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45279471/reset-input-value-in-angular-2\">Reset input value in angular 2</a></p>\n"}], "owner": {"reputation": 375, "user_id": 9406633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc51f0db5867044c20d61803713b5?s=128&d=identicon&r=PG&f=1", "display_name": "j0w", "link": "https://stackoverflow.com/users/9406633/j0w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 51285381, "answer_count": 1, "score": 0, "last_activity_date": 1531318604, "creation_date": 1531303906, "question_id": 51282795, "link": "https://stackoverflow.com/questions/51282795/angular5-add-or-edit-item-from-list-in-a-modal", "title": "angular5 add or edit item from list in a modal", "body": "<p>i'm trying to edit item from a list.\ni'd like to show the clicked item in a modal (with all values so i can check for null id and use the modal for adding items too)</p>\n\n<p>any id how i can do this?</p>\n\n<p>what i currently have :</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n\n  &lt;!-- The table displaing the list of item --&gt;\n  &lt;table class=\"table table-sm table-hover\"&gt;\n    &lt;tr&gt;\n      &lt;button class=\"btn btn-danger\"&gt;\n        &lt;i class=\"fa fa-add\"&gt;&lt;/i&gt;Remove&lt;/button&gt;\n      &lt;button class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#addOrUpdateModal\"&gt;\n        &lt;i class=\"fa fa-add\"&gt;&lt;/i&gt;Add policy&lt;/button&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;th class=\"\"&gt;&lt;/th&gt;\n      &lt;th&gt;#&lt;/th&gt;\n      &lt;th&gt;Name&lt;/th&gt;\n      &lt;th&gt;Options&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngFor=\"let policy of dataSource | paginate: { itemsPerPage: 10, currentPage: p }\"&gt;\n      &lt;td&gt;\n        &lt;input type=\"checkbox\"&gt; &lt;/td&gt;\n      &lt;td&gt;{{policy.id}}&lt;/td&gt;\n      &lt;td&gt;{{policy.name}}&lt;/td&gt;\n      &lt;td&gt;\n        &lt;a class=\"btn\" (click)=\"showForEdit(policy)\" data-toggle=\"modal\" data-target=\"#addOrUpdateModal\"&gt;\n          &lt;i class=\"fa fa-pencil-square-o\"&gt;&lt;/i&gt;\n        &lt;/a&gt;\n        &lt;a class=\"btn text-danger\" (click)=\"delete(policy.id)\"&gt;\n          &lt;i class=\"fa fa-trash-o\"&gt;&lt;/i&gt;\n        &lt;/a&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n\n&lt;/div&gt;\n&lt;!-- Pagination directive --&gt;\n&lt;div class=\"container\"&gt;\n    &lt;pagination-controls (pageChange)=\"p = $event\"&gt;&lt;/pagination-controls&gt;\n&lt;/div&gt;\n\n\n&lt;!-- the modal i'd like to use for add and update data --&gt;\n\n&lt;div class=\"modal fade\" id=\"addOrUpdateModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"addOrUpdateModal\" aria-hidden=\"true\"&gt;\n  &lt;div class=\"modal-dialog modal-dialog-centered\" role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;h5 class=\"modal-title\" id=\"exampleModalLongTitle\"&gt;&lt;/h5&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n        &lt;form role=\"form\"&gt;\n          &lt;div class=\"form-group\"&gt;\n\n            &lt;!-- The inputs i want to fill with clicked item --&gt;\n            &lt;input type=\"hidden\" class=\"form-control\" value=\"\"/&gt;\n            &lt;input type=\"text\" class=\"form-control\" placeholder=\"Name\" value=\"\"/&gt;\n\n          &lt;/div&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-footer\"&gt;\n        &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n        &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"addOrUpdate()\"&gt;Do smthg&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>i don't know how to get the data passed to the modal since the modal is not in the ngFor. should i pass the data to my controller, then make the controller display the modal somehow...?</p>\n\n<p>(new to Angular5 / typescript and javascript. like.. 3 weeks exp in all of that so, sorry for dumb questions...)</p>\n\n<p>although : if someone have a great book like \"angular and typescript for newbies\", i buy it right now! :D</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531303772, "post_id": 51282713, "comment_id": 89542785, "body": "I think <code>function fun&lt;A, B, V extends X&lt;A, B&gt;&gt; (v: V)</code> is the best we can do"}, {"owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531306571, "post_id": 51282713, "comment_id": 89544595, "body": "@TitianCernicova-Dragomir Now imaging the actual type has 5 type parameters, three of which has a bound. Typing these out alone is almost a line long..."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531309626, "post_id": 51282713, "comment_id": 89546589, "body": "BTW, is there a reason why <code>V</code> needs to be a type parameter?  That is, a reason why you&#39;re not doing <code>fun&lt;A,B&gt;(v: X&lt;A,B&gt;)</code>?"}, {"owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531313342, "post_id": 51282713, "comment_id": 89549178, "body": "@jcalz The function is for illustration purposes. The actual generic type is being used as generic type parameters of various other classes."}], "owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531303605, "creation_date": 1531303605, "question_id": 51282713, "link": "https://stackoverflow.com/questions/51282713/simulate-wildcard-type-parameters-with-distinct-identities-in-typescript", "title": "Simulate wildcard type parameters (with distinct identities) in TypeScript", "body": "<p>Say I have a simple type like:</p>\n\n<pre><code>interface X&lt;A, B&gt; {\n    getA(): A;\n    acceptB(b: B);\n}\n</code></pre>\n\n<p>and a function that takes any kind of <code>X</code>:</p>\n\n<pre><code>function fun&lt;V extends X&lt;any, any&gt;&gt; (v: V) {\n    v.acceptB(v.getA());\n}\n</code></pre>\n\n<p>Above currently compiles because the generic type <code>X</code> has been instantiated with the type parameters <code>any, any</code>, but this is not type-safe as the actual types of <code>A</code> may not be a sub-type of <code>B</code>.</p>\n\n<p>In languages like Java, there are wildcard types with distinct identities so that one can do <code>X&lt;?, ?&gt;</code>, and above will not compile because <code>?-1</code> is not a subtype of <code>?-2</code>.</p>\n\n<p>In TypeScript, one can do: <code>function fun&lt;A, B, V extends X&lt;A, B&gt;&gt; (v: V) {</code>, but you can see this can get quickly out of hand if one is working with a central generic type with a lot of type parameters.</p>\n\n<p>Thus, is there a better way of simulating the wildcard behaviour?</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531303317, "post_id": 51282595, "comment_id": 89542504, "body": "can you add your code in stackblits"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531303379, "post_id": 51282595, "comment_id": 89542541, "body": "@Chellappan I will try but I am not to good in stackblitz"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531304454, "post_id": 51282595, "comment_id": 89543186, "body": "@Chellappan Here is the stackblitz what I have created.  <a href=\"https://stackblitz.com/edit/angular-rfvmjl\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-rfvmjl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531306860, "post_id": 51283495, "comment_id": 89544783, "body": "And how can I make if I click in the menu the same should happen the menu is hidden ?"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531306953, "post_id": 51283495, "comment_id": 89544867, "body": "do want to hide if you click dropdown item?"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531307003, "post_id": 51283495, "comment_id": 89544908, "body": "Yes I want the both if you click out or in hide the menu"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531307075, "post_id": 51283495, "comment_id": 89544966, "body": "can you check this link again  <a href=\"https://stackblitz.com/edit/angular-5p5d1b\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-5p5d1b</a>"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531307399, "post_id": 51283495, "comment_id": 89545174, "body": "One question does the hostListener slows down the performance of the web application, because now some components are working slower..."}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531321980, "post_id": 51283495, "comment_id": 89555737, "body": "it is going very slow the web app with this HostListener without it it works fast but the outside click and inside then not working"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531322278, "post_id": 51283495, "comment_id": 89555955, "body": "no it will not because your not doing any heavy logic inside your hostlistner if you feel it is slow your app the seperate the outside click as diretive"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531378621, "post_id": 51283495, "comment_id": 89575025, "body": "How can I do this to seperate like directive, because I have create a console.log andfor every click that I do in the web app it calls the method of HostListener more than 1000 times"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531381320, "post_id": 51283495, "comment_id": 89576594, "body": "this is the only hack as far as i know to click outside if you create separate directive also since we are targeting document:click it will call again and again"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1531381577, "post_id": 51283495, "comment_id": 89576755, "body": "Is there any way to do only for this component to call this click ?"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1531383688, "post_id": 51283495, "comment_id": 89578048, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174863/discussion-between-zhuniqia-and-chellappan\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": true, "score": 2, "last_activity_date": 1531305920, "creation_date": 1531305920, "answer_id": 51283495, "question_id": 51282595, "link": "https://stackoverflow.com/questions/51282595/hide-overlaypanel-when-i-click-outside-the-box-or-in-the-box-angular-4/51283495#51283495", "title": "Hide overlaypanel when I click outside the box or in the box Angular 4", "body": "<p>If you want to close the drop down when you click outside of your menu you can use host listener to know whether you clicked outside or not </p>\n\n<pre><code>@HostListener('document:click', ['$event']) clickedOutside($event){\n\n    this.active=false;\n  }\n</code></pre>\n\n<p>I have attached the example check this out: <a href=\"https://stackblitz.com/edit/angular-5p5d1b\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-5p5d1b</a></p>\n"}, {"tags": [], "owner": {"reputation": 257, "user_id": 2124634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kna5M.jpg?s=128&g=1", "display_name": "Hazem Abdelwahab", "link": "https://stackoverflow.com/users/2124634/hazem-abdelwahab"}, "is_accepted": false, "score": 0, "last_activity_date": 1591968368, "creation_date": 1591968368, "answer_id": 62345224, "question_id": 51282595, "link": "https://stackoverflow.com/questions/51282595/hide-overlaypanel-when-i-click-outside-the-box-or-in-the-box-angular-4/62345224#62345224", "title": "Hide overlaypanel when I click outside the box or in the box Angular 4", "body": "<p>You can use <code>ng-click-outside</code> module as described here <a href=\"https://www.npmjs.com/package/ng-click-outside\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng-click-outside</a>\nworking with me fine in angular 8</p>\n"}], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1730, "favorite_count": 0, "accepted_answer_id": 51283495, "answer_count": 2, "score": 0, "last_activity_date": 1613819347, "creation_date": 1531303237, "last_edit_date": 1531304488, "question_id": 51282595, "link": "https://stackoverflow.com/questions/51282595/hide-overlaypanel-when-i-click-outside-the-box-or-in-the-box-angular-4", "title": "Hide overlaypanel when I click outside the box or in the box Angular 4", "body": "<p>I have created an OverlayPanel like component so there I can put more clicks or something else.\nBut when I click outside the overlay or in the overlay this does not exit stays always there, it is dissapear only when I click in button what I have writed.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-rfvmjl\" rel=\"nofollow noreferrer\">Here is the link of the StackBlitz</a></p>\n\n<p>I have like this the overlaPanel created.</p>\n\n<pre><code>&lt;div class=\"dropdown\"&gt;   \n  &lt;div (click)=\"toggle()\" class=\"body\"&gt;\n    &lt;ng-content select=\"[body]\"&gt;&lt;/ng-content&gt;\n  &lt;/div&gt;\n\n  &lt;div *ngIf=\"active\" class=\"popup\" &gt;\n    &lt;ng-content select=\"[popup]\"&gt;&lt;/ng-content&gt;\n  &lt;/div&gt;    \n&lt;/div&gt;\n\n.dropdown {\n  position: relative;\n  display: inline-block;\n}\n\n.popup {\n  display: block;\n  position: absolute;\n  z-index: 1000;\n}\n\nexport class OverlaypanelComponent implements OnInit {   \n  active = false;\n\n  constructor() {         \n  }\n\n  offClickHandler(event: any) {\n    if (event['.body'] &amp;&amp; event['.popup'] === true) {\n      this.active = false;\n    }\n  }\n  ngOnInit(): void {\n\n  }\n\n  toggle() {\n    this.active = !this.active;\n  }\n\n  close() {\n    this.active = !this.active;\n  }\n\n}\n</code></pre>\n\n<p>And this is when I call this component</p>\n\n<pre><code> &lt;app-overlaypanel&gt;\n        &lt;div body [ngClass]=\"[getBackgroundColorClass(),clazz]\" class=\"fa fa-pencil-square-o edit-block\"&gt;&lt;/div&gt;\n        &lt;div class=\"overlayPopup\" popup&gt;\n          &lt;div class=\"dropdown-menu-item\" (click)=\"openTechnicalEditDialog({cluster: cluster, type: clazz})\"&gt;Edit&lt;/div&gt;\n          &lt;div class=\"dropdown-menu-item\" (click)=\"delete()\"&gt;Delete&lt;/div&gt;\n          &lt;div class=\"dropdown-menu-item\" (click)=\"openTechnicalEditDialog({appendToParentId: cluster.id})\" *ngIf=\"cluster.level &lt;= 9\"&gt;Append&lt;/div&gt;\n          &lt;div\n\n class=\"dropdown-menu-item\" (click)=\"clicked.emit()\"&gt;Assign&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/app-overlaypanel&gt;\n</code></pre>\n"}, {"tags": ["typescript", "jasmine"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1531303083, "post_id": 51282339, "comment_id": 89542356, "body": "Doesn&#39;t seem like a typescript issue, route is <code>&quot;&quot;</code> and you are testing it to be equal  with the array <code>[&#39;&#39;, &#39;login&#39;]</code>, so jasmine reports an error as it should"}, {"owner": {"reputation": 2112, "user_id": 936882, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6476637d98fa2fa33bfdeb528f5e969c?s=128&d=identicon&r=PG", "display_name": "lucaboni", "link": "https://stackoverflow.com/users/936882/lucaboni"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531463568, "post_id": 51282339, "comment_id": 89613648, "body": "@TitianCernicova-Dragomir Yes you are right! The unit test is working correctly; was my code that was broken!"}], "answers": [{"tags": [], "owner": {"reputation": 2112, "user_id": 936882, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6476637d98fa2fa33bfdeb528f5e969c?s=128&d=identicon&r=PG", "display_name": "lucaboni", "link": "https://stackoverflow.com/users/936882/lucaboni"}, "is_accepted": true, "score": 0, "last_activity_date": 1531463905, "creation_date": 1531463905, "answer_id": 51319029, "question_id": 51282339, "link": "https://stackoverflow.com/questions/51282339/test-typescript-union-types-with-jasmine/51319029#51319029", "title": "Test typescript union types with jasmine", "body": "<p>As commented by @TitianCernicova-Dragomir, the test is properly written. Here a simplified test:</p>\n\n<pre><code>it('jasmine should interpret ts union types properly', () =&gt; {\n  let foo: string | string[] = ['1', '2'];\n  expect(foo).toEqual(['1', '2']);\n});\n</code></pre>\n"}], "owner": {"reputation": 2112, "user_id": 936882, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6476637d98fa2fa33bfdeb528f5e969c?s=128&d=identicon&r=PG", "display_name": "lucaboni", "link": "https://stackoverflow.com/users/936882/lucaboni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 51319029, "answer_count": 1, "score": 0, "last_activity_date": 1531463905, "creation_date": 1531302554, "question_id": 51282339, "link": "https://stackoverflow.com/questions/51282339/test-typescript-union-types-with-jasmine", "title": "Test typescript union types with jasmine", "body": "<p>I have a unit test that checks the value of my route configuration:</p>\n\n<pre><code>expect(route).toEqual(['', 'login']);\n</code></pre>\n\n<p><code>route</code> is defined as a union type of <code>string | string[]</code></p>\n\n<p>I have tried something like this, but doesn't work:</p>\n\n<pre><code>expect(route as string[]).toEqual(['', 'login']);\n</code></pre>\n\n<p>Jasmine reports:</p>\n\n<pre><code>Expected value to equal:\n  [\"\", \"login\"]\nReceived:\n  \"\"\nDifference:\n  Comparing two different types of values. Expected array but received string.\n</code></pre>\n\n<p>How can I tell jasmine to test my route as a string array?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1531302813, "post_id": 51282243, "comment_id": 89542196, "body": "Use pipeable operators. That&#39;s one of the main reasons they have replaced the old operators (which don&#39;t exist anymore in RXJS6, and thus Angular 6). The Angular 6 update procedure will do that automatically for you."}, {"owner": {"reputation": 950, "user_id": 4462333, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Cz3Jr.jpg?s=128&g=1", "display_name": "Beno&#238;t", "link": "https://stackoverflow.com/users/4462333/beno%c3%aet"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1531315487, "post_id": 51282243, "comment_id": 89550773, "body": "I know it is the way to go, but we would prefer to postpone a few month this upgrade to RxJs6/Angular6. And it will solve 99% of these missing augmentations import problems"}], "owner": {"reputation": 950, "user_id": 4462333, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Cz3Jr.jpg?s=128&g=1", "display_name": "Beno&#238;t", "link": "https://stackoverflow.com/users/4462333/beno%c3%aet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531302322, "creation_date": 1531302322, "question_id": 51282243, "link": "https://stackoverflow.com/questions/51282243/detect-missing-augmentation-imports-in-an-angular-app", "title": "Detect missing augmentation imports in an Angular app", "body": "<p>When running my angular application after compiling it with --prod, I often get some <code>XXX is not a function</code> errors. </p>\n\n<p>They are usually caused by some missing augmentations on Observable (I am using RxJS 5). They are fixed by adding the correct <code>import 'rxjs/add/operator/XXXX';</code> in the correct file, after finding this 'correct file' which can be long. And then are I have to rebuild the application, re-test and fix the next similar error.</p>\n\n<p>(see <a href=\"https://stackoverflow.com/questions/34515173/angular-http-get-with-typescript-error-http-get-map-is-not-a-function-in-n\">Angular HTTP GET with TypeScript error http.get(...).map is not a function in [null]</a> for similar problems)</p>\n\n<p>My question : is there a way to detect all the missing augmentation imports ?</p>\n\n<p>Eventually using Webstorm, angular-cli, a good combination of find/grep/awk or any other tool.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 4122, "user_id": 5119765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca110abbbe4d7ed8cd9ff564de4e8024?s=128&d=identicon&r=PG&f=1", "display_name": "ADreNaLiNe-DJ", "link": "https://stackoverflow.com/users/5119765/adrenaline-dj"}, "edited": false, "score": 0, "creation_date": 1531302336, "post_id": 51282196, "comment_id": 89541883, "body": "It&#39;s working for me : i obtain <code>65</code>."}, {"owner": {"reputation": 6067, "user_id": 2315360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8htWF.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/2315360/george"}, "reply_to_user": {"reputation": 4122, "user_id": 5119765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca110abbbe4d7ed8cd9ff564de4e8024?s=128&d=identicon&r=PG&f=1", "display_name": "ADreNaLiNe-DJ", "link": "https://stackoverflow.com/users/5119765/adrenaline-dj"}, "edited": false, "score": 2, "creation_date": 1531302357, "post_id": 51282196, "comment_id": 89541900, "body": "@ADreNaLiNe-DJ it doesn&#39;t work for the others, but works for <code>1 hour 5 mins</code>"}, {"owner": {"reputation": 1605, "user_id": 3125964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6oIQm.jpg?s=128&g=1", "display_name": "Nuwan Alawatta", "link": "https://stackoverflow.com/users/3125964/nuwan-alawatta"}, "edited": false, "score": 1, "creation_date": 1531302360, "post_id": 51282196, "comment_id": 89541904, "body": "<code>return ((res.lenght&gt;1)?res[0] * 60 + res[1] : res[0] * 60);</code>"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 1, "creation_date": 1531302366, "post_id": 51282196, "comment_id": 89541910, "body": "<code>let res = str.match(&#47;\\d+&#47;g).map(Number);</code>  this statement only matches once, there is no 2nd digit, so fails"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1531302386, "post_id": 51282196, "comment_id": 89541924, "body": "Match <code>(\\d+)\\s*(\\w+)</code> and inspect that second <code>\\w</code> more closely for its value\u2026"}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "reply_to_user": {"reputation": 1605, "user_id": 3125964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6oIQm.jpg?s=128&g=1", "display_name": "Nuwan Alawatta", "link": "https://stackoverflow.com/users/3125964/nuwan-alawatta"}, "edited": false, "score": 1, "creation_date": 1531302397, "post_id": 51282196, "comment_id": 89541935, "body": "@Nuwan94 that doesn&#39;t work for the third example"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "reply_to_user": {"reputation": 3191, "user_id": 9369945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9JZqw.jpg?s=128&g=1", "display_name": "Hardik Shah", "link": "https://stackoverflow.com/users/9369945/hardik-shah"}, "edited": false, "score": 0, "creation_date": 1531302667, "post_id": 51282196, "comment_id": 89542118, "body": "@Hardik How do you use that to distinguish <code>1 hour</code> from <code>5 mins</code>?!"}], "answers": [{"comments": [{"owner": {"reputation": 214, "user_id": 9821336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abc43ee4dc8084989d538c85841620e?s=128&d=identicon&r=PG&f=1", "display_name": "kartik", "link": "https://stackoverflow.com/users/9821336/kartik"}, "edited": false, "score": 0, "creation_date": 1531303475, "post_id": 51282426, "comment_id": 89542603, "body": "what if it is console.log(this.calculate(&quot;2 hours 5 mins&quot;));"}, {"owner": {"reputation": 214, "user_id": 9821336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abc43ee4dc8084989d538c85841620e?s=128&d=identicon&r=PG&f=1", "display_name": "kartik", "link": "https://stackoverflow.com/users/9821336/kartik"}, "edited": false, "score": 1, "creation_date": 1531304280, "post_id": 51282426, "comment_id": 89543070, "body": "Thanks man, I worry that I could not accept more than one answer."}], "tags": [], "owner": {"reputation": 10202, "user_id": 9695286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L6RvS.png?s=128&g=1", "display_name": "Karan", "link": "https://stackoverflow.com/users/9695286/karan"}, "is_accepted": false, "score": 3, "last_activity_date": 1531303711, "last_edit_date": 1531303711, "creation_date": 1531302814, "answer_id": 51282426, "question_id": 51282196, "link": "https://stackoverflow.com/questions/51282196/calculate-minutes-from-string-of-minutes-and-hours/51282426#51282426", "title": "Calculate minutes from string of minutes and hours", "body": "<p>You can check that if your string contains <code>hour</code> then first value need to multiply with <code>60</code> else it should be use same value.</p>\n\n<p>And <code>(res[0] || 0)</code> this part will return value <code>0</code> when <code>res[0]</code> is <code>null</code> or <code>undefined</code>.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function calculate(str) {\r\n  let multiplier = str.includes(\"hour\") ? 60 : 1;\r\n  let res = str.match(/\\d+/g).map(Number);\r\n  return (res[0] || 0) * multiplier + (res[1] || 0);\r\n}\r\n\r\nconsole.log(this.calculate(\"1 hour 5 mins\"));\r\nconsole.log(this.calculate(\"1 hour\"));\r\nconsole.log(this.calculate(\"5 mins\"));\r\nconsole.log(this.calculate(\"2 hours 5 mins\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 214, "user_id": 9821336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abc43ee4dc8084989d538c85841620e?s=128&d=identicon&r=PG&f=1", "display_name": "kartik", "link": "https://stackoverflow.com/users/9821336/kartik"}, "edited": false, "score": 0, "creation_date": 1531303669, "post_id": 51282476, "comment_id": 89542715, "body": "can you explain what goes here?"}], "tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": true, "score": 3, "last_activity_date": 1531302920, "creation_date": 1531302920, "answer_id": 51282476, "question_id": 51282196, "link": "https://stackoverflow.com/questions/51282196/calculate-minutes-from-string-of-minutes-and-hours/51282476#51282476", "title": "Calculate minutes from string of minutes and hours", "body": "<p>You need a smarter regular expression that is able to distinguish between hour and minute values:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const calculate = (s) =&gt; {\r\n  const matches = /(?:(\\d+) hours?)? ?(?:(\\d+) mins?)?/.exec(s);\r\n  \r\n  return Number(matches[1] || 0) * 60 + Number(matches[2] || 0);\r\n};\r\n\r\nconsole.log(calculate('1 hour 5 mins')); // 65\r\nconsole.log(calculate('2 hours 1 min')); // 121\r\nconsole.log(calculate('3 hours')); // 180\r\nconsole.log(calculate('10 mins')); // 10</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "reply_to_user": {"reputation": 214, "user_id": 9821336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abc43ee4dc8084989d538c85841620e?s=128&d=identicon&r=PG&f=1", "display_name": "kartik", "link": "https://stackoverflow.com/users/9821336/kartik"}, "edited": false, "score": 0, "creation_date": 1531304360, "post_id": 51282519, "comment_id": 89543120, "body": "@saila don&#39;t worry about it"}, {"owner": {"reputation": 214, "user_id": 9821336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abc43ee4dc8084989d538c85841620e?s=128&d=identicon&r=PG&f=1", "display_name": "kartik", "link": "https://stackoverflow.com/users/9821336/kartik"}, "edited": false, "score": 0, "creation_date": 1531304466, "post_id": 51282519, "comment_id": 89543199, "body": "console.log(calculate(&#39;2 hours 1 min&#39;));// doesn&#39;t work yet"}, {"owner": {"reputation": 214, "user_id": 9821336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abc43ee4dc8084989d538c85841620e?s=128&d=identicon&r=PG&f=1", "display_name": "kartik", "link": "https://stackoverflow.com/users/9821336/kartik"}, "edited": false, "score": 0, "creation_date": 1531304813, "post_id": 51282519, "comment_id": 89543396, "body": "Thanks a lot for your answer."}], "tags": [], "owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "is_accepted": false, "score": 2, "last_activity_date": 1531305263, "last_edit_date": 1531305263, "creation_date": 1531303032, "answer_id": 51282519, "question_id": 51282196, "link": "https://stackoverflow.com/questions/51282196/calculate-minutes-from-string-of-minutes-and-hours/51282519#51282519", "title": "Calculate minutes from string of minutes and hours", "body": "<p>If you look for the specific terms and pull out a number/unit pair you can use capture groups to do the calculations.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const t1 = '1 hour 5 mins';\r\nconst t2 = '1 hour';\r\nconst t3 = '5 mins';\r\nconst t4 = '2 hours 1 min';\r\n\r\nconst parseDuration = (s) =&gt; {\r\n  var matches = s.match(/(\\d+\\s?hours?)?\\s?(\\d+\\s?mins?)?/);\r\n  var total = matches[1] ? parseInt(matches[1])*60 : 0;\r\n  total += matches[2] ? parseInt(matches[2]) : 0;\r\n  return total;\r\n}\r\n\r\nconsole.log(parseDuration(t1));\r\nconsole.log(parseDuration(t2));\r\nconsole.log(parseDuration(t3));\r\nconsole.log(parseDuration(t4));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 214, "user_id": 9821336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abc43ee4dc8084989d538c85841620e?s=128&d=identicon&r=PG&f=1", "display_name": "kartik", "link": "https://stackoverflow.com/users/9821336/kartik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 51282476, "answer_count": 3, "score": 2, "last_activity_date": 1531305263, "creation_date": 1531302208, "last_edit_date": 1531302979, "question_id": 51282196, "link": "https://stackoverflow.com/questions/51282196/calculate-minutes-from-string-of-minutes-and-hours", "title": "Calculate minutes from string of minutes and hours", "body": "<p>I have a function which takes a string of hours and minutes and convert it to minutes. this works absolutely fine but what if the received argument is only of minutes or hour. for example</p>\n\n<pre><code>const str = \"1 hour 5 mins\"; // works\nconst str = \"1 hour\"; // doesn't work\nconst str = \"5 mins\"; //  doesn't work\n\nconst str = \"1 hour 5 mins\";\nthis.calculate(str);\ncalculate(str) {\n    let res = str.match(/\\d+/g).map(Number);\n    return res[0] * 60 + res[1]\n}\n</code></pre>\n"}, {"tags": ["performance", "typescript", "three.js", "webgl", "gpu"], "comments": [{"owner": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "edited": false, "score": 2, "creation_date": 1531307169, "post_id": 51281880, "comment_id": 89545023, "body": "Judging by the code you posted it looks as good as it can be. Not sure about where the points are actually created, how many there are and how big they are rendered. If you&#39;re looking for options to stop all computations when the browser is invisible, look at the visibility-api: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API</a> (this will only work when switching to another tab which also rate-limits the animation-loop, having the browser-window in the background counts as &quot;visible&quot;)"}, {"owner": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "reply_to_user": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "edited": false, "score": 0, "creation_date": 1531312636, "post_id": 51281880, "comment_id": 89548689, "body": "FWIW, <a href=\"https://threejs.org/examples/#webgl_geometry_colors\" rel=\"nofollow noreferrer\">this VERY simple example</a> uses 11% CPU and 126MB GPU on my laptop, so I&#39;d agree with Martin, you&#39;re probably near 99% efficiency. @MartinSchuhfu&#223; I believe it&#39;s not actual <code>Points</code>, but &quot;dots&quot; as defined by the texture, which change color controlled by the vertex colors."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1531313728, "post_id": 51281880, "comment_id": 89549458, "body": "I have to say the code in <code>nextAnimation(){}</code> looks very suspect. Do you need to manipulate the array and bind functions 60 times per second? Why do you need a <code>try catch</code> ? Is this from the official docs?"}, {"owner": {"reputation": 5894, "user_id": 1537403, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/30fe49e683fcbcd8ce33182356dc9929?s=128&d=identicon&r=PG", "display_name": "riv", "link": "https://stackoverflow.com/users/1537403/riv"}, "edited": false, "score": 0, "creation_date": 1531318291, "post_id": 51281880, "comment_id": 89553012, "body": "Do you actually need the colors to be random, or will they eventually be set to actual data? You can reduce bandwidth significantly by randomizing colors in the vertex shader instead."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7272012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eada4e0e532ad58b61cb647e1dbb5ec4?s=128&d=identicon&r=PG&f=1", "display_name": "Elizabeth", "link": "https://stackoverflow.com/users/7272012/elizabeth"}, "edited": false, "score": 0, "creation_date": 1531816571, "post_id": 51285709, "comment_id": 89725030, "body": "Thanks for this, Yep so by background I mean not the active tab. Even when i&#39;m on another tab it is still using about the same GPU which doesn&#39;t make sense because I assumed the requestAnimationFrame would stop so it would hardly be using any power?"}], "tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": false, "score": 1, "last_activity_date": 1531313206, "last_edit_date": 1531313206, "creation_date": 1531312784, "answer_id": 51285709, "question_id": 51281880, "link": "https://stackoverflow.com/questions/51281880/how-to-reduce-three-js-cpu-gpu-usage-in-browser/51285709#51285709", "title": "How to reduce three.js CPU/GPU usage in browser", "body": "<p>It depends on what you mean by \"background\"</p>\n\n<p>If by \"background\" you mean \"not the front tab\" then, if you're using <code>requestAnimationFrame</code> (which you are) then if your page is not the front tab of the browser or if you minimize the browser window the browser will stop sending you <em>animation frame</em> events and your page should stop completely.</p>\n\n<p>If by \"background\" you mean the front tab but of a window that's not minimized and is also not the front window then you can use the <code>blur</code> and <code>focus</code> events to stop the page completely.</p>\n\n<p>Example: <strong>NOTE: blur events don't seem to work in an iframe so it won't work in the snippet below but if you copy it to a file it should work</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let requestId;\r\n\r\nfunction start() {\r\n  if (!requestId) {\r\n    requestId = requestAnimationFrame(animate);\r\n  }\r\n}\r\n\r\nfunction stop() {\r\nconsole.log('stop');\r\n  if (requestId) {\r\n    cancelAnimationFrame(requestId);\r\n    requestId = undefined;\r\n  }\r\n}\r\n\r\nconst ctx = document.querySelector(\"canvas\").getContext('2d');\r\n\r\nfunction animate(time) { \r\n  requestId = undefined;\r\n  \r\n  ctx.save();\r\n  ctx.translate(\r\n    150 + 150 * Math.cos(time * 0.001), \r\n     75 +  75 * Math.sin(time * 0.003),\r\n  );\r\n  ctx.scale(\r\n     Math.cos(time * 0.005), \r\n     Math.cos(time * 0.007),\r\n  );\r\n  ctx.fillStyle = `hsl(${time % 360},100%,50%)`;\r\n  ctx.fillRect(-50, 50, 100, 100);\r\n  ctx.restore();\r\n  \r\n  start();\r\n}\r\n\r\nstart();\r\n\r\nwindow.addEventListener('blur', stop);\r\nwindow.addEventListener('focus', start);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body { margin: 0; }\r\ncanvas { width: 100vw; height: 100vh; display: block; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Of course rather than stopping completely on <code>blur</code> you could throttle your app your self. Only render every 5th frame or render less things, etc...</p>\n"}], "owner": {"reputation": 15, "user_id": 7272012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eada4e0e532ad58b61cb647e1dbb5ec4?s=128&d=identicon&r=PG&f=1", "display_name": "Elizabeth", "link": "https://stackoverflow.com/users/7272012/elizabeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2107, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1531313206, "creation_date": 1531301222, "last_edit_date": 1531306148, "question_id": 51281880, "link": "https://stackoverflow.com/questions/51281880/how-to-reduce-three-js-cpu-gpu-usage-in-browser", "title": "How to reduce three.js CPU/GPU usage in browser", "body": "<p>At the moment I have an animated globe which rotates and the the dots on the globe randomly change colour. It works fine but if left in the background it slows down my laptop a lot. Are there any changes I could make that would reduce how much memory it is using? </p>\n\n<p>In the task manager on chrome I can see it's using 12% CPU and 128MB of GPU memory when the tab is active. Is that normal for three.js or does the code need to be changed? </p>\n\n<pre><code>    ngAfterViewInit() {\n    if(this.enabled) {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.rotateSpeed = 0.5;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.5;\n        this.controls.rotationSpeed = 0.3;\n        this.controls.enableZoom = false;\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = -1;\n\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.rendererContainer.nativeElement.appendChild(this.renderer.domElement);\n        this.animate();\n        const timerId = setInterval(() =&gt; this.updateColor(), 650);\n    }\n}\n\nprivate get enabled(): boolean {\n    if(this._enabled!==undefined) {\n        return this._enabled;\n    }\n    const canvas = document.createElement(\"canvas\");\n    const gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\n    this._enabled = gl &amp;&amp; gl instanceof WebGLRenderingContext;\n    return this._enabled;\n}\n\nprivate initGlobe(): void {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);\n    this.camera.position.set(0, 5, 15);\n    this.camera.lookAt(this.scene.position);\n\n    this.renderer = new THREE.WebGLRenderer({\n        antialias: true\n    });\n    this.renderer.setClearColor('rgb(55, 44, 80)');\n\n    this.geom = new THREE.SphereBufferGeometry(6, 350, 90);\n    this.colors = [];\n\n    this.color = new THREE.Color();\n    this.colorList = ['rgb(123, 120, 194)'];\n    for (let i = 0; i &lt; this.geom.attributes.position.count; i++) {\n        this.color.set(this.colorList[THREE.Math.randInt(0, this.colorList.length - 1)]);\n        this.color.toArray(this.colors, i * 3);\n    }\n    this.geom.addAttribute('color', new THREE.BufferAttribute(new Float32Array(this.colors), 3));\n    this.geom.addAttribute('colorRestore', new THREE.BufferAttribute(new Float32Array(this.colors), 3));\n\n    this.loader = new THREE.TextureLoader();\n    this.loader.setCrossOrigin('');\n    this.texture = this.loader.load('/assets/globe-dot.jpg');\n    this.texture.wrapS = THREE.RepeatWrapping;\n    this.texture.wrapT = THREE.RepeatWrapping;\n    this.texture.repeat.set(1, 1);\n    const oval = this.loader.load('/assets/circle.png');\n\n    this.points = new THREE.Points(this.geom, new THREE.ShaderMaterial({\n        vertexColors: THREE.VertexColors,\n        uniforms: {\n            visibility: {\n                value: this.texture\n            },\n            shift: {\n                value: 0\n            },\n            shape: {\n                value: oval\n            },\n            size: {\n                value: 0.4\n            },\n            scale: {\n                value: 300\n            }\n        },\n        vertexShader: `\n              uniform float scale;\n              uniform float size;\n\n              varying vec2 vUv;\n              varying vec3 vColor;\n\n              void main() {\n\n                vUv = uv;\n                vColor = color;\n                vec4 mvPosition = modelViewMatrix * vec4( position, 0.99 );\n                gl_PointSize = size * ( scale / length( mvPosition.xyz )) * (0.3 + sin(uv.y * 3.1415926) * 0.35 );\n                gl_Position = projectionMatrix * mvPosition;\n\n              }\n        //   `,\n        fragmentShader: `\n              uniform sampler2D visibility;\n              uniform float shift;\n              uniform sampler2D shape;\n\n              varying vec2 vUv;\n              varying vec3 vColor;\n\n              void main() {\n\n                vec2 uv = vUv;\n                uv.x += shift;\n                vec4 v = texture2D(visibility, uv);\n                if (length(v.rgb) &gt; 1.0) discard;\n\n                gl_FragColor = vec4( vColor, 0.9 );\n                vec4 shapeData = texture2D( shape, gl_PointCoord );\n                if (shapeData.a &lt; 0.0625) discard;\n                gl_FragColor = gl_FragColor * shapeData;\n              }\n          `,\n        transparent: false\n    }));\n\n    this.points.sizeAttenuation = false;\n    this.scene.add(this.points);\n\n    this.globe = new THREE.Mesh(this.geom, new THREE.MeshBasicMaterial({\n        color: 'rgb(65, 54, 88)', transparent: true, opacity: 0.5\n    }));\n    this.globe.scale.setScalar(0.99);\n    this.points.add(this.globe);\n    this.scene.add(this.globe);\n}\n\nanimate() {\n    this.controls.update();\n    this.renderer.render(this.scene, this.camera);\n    this.animationQueue.push(this.animate);\n    window.requestAnimationFrame(_ =&gt; this.nextAnimation());\n\n}\n\nnextAnimation() {\n    try {\n        const animation = this.animationQueue.shift();\n        if (animation instanceof Function) {\n            animation.bind(this)();\n        }\n    } catch (e) {\n        console.error(e);\n    }\n}\n\nupdateColor() {\n    for (let i = 0; i &lt; this.usedIndices.length; i++) {\n        let idx = this.usedIndices[i];\n        this.geom.attributes.color.copyAt(idx, this.geom.attributes.colorRestore, idx);\n    }\n\n    for (let i = 0; i &lt; this.pointsUsed; i++) {\n        let idx = THREE.Math.randInt(0, this.geom.attributes.color.count - 1);\n            if (idx%5 == 0 &amp;&amp; idx%1 == 0)  {\n                this.geom.attributes.color.setXYZ(idx, 0.9, 0.3, 0);\n            }\n            else {\n                this.geom.attributes.color.setXYZ(idx, 1, 1, 1);\n            }\n        this.usedIndices[i] = idx;\n    }\n\n    this.geom.attributes.color.needsUpdate = true;\n</code></pre>\n\n<p>I looked at other questions which suggest merging the meshes but I'm not sure that would work here. Thanks!</p>\n"}, {"tags": ["javascript", "typescript", "testing", "jasmine", "jestjs"], "comments": [{"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "edited": false, "score": 1, "creation_date": 1531301189, "post_id": 51281762, "comment_id": 89541054, "body": "Can you explain more about <b>How in the test to equalize each value of the first array with the value of the second I use the iteration? That 1 is 2, and 2 is 3 and so on</b>"}, {"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "edited": false, "score": 0, "creation_date": 1531301226, "post_id": 51281762, "comment_id": 89541079, "body": "Specifically on <b>and 2 is 3</b> ?"}, {"owner": {"reputation": 6067, "user_id": 2315360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8htWF.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/2315360/george"}, "edited": false, "score": 0, "creation_date": 1531301250, "post_id": 51281762, "comment_id": 89541103, "body": "It sounds like you just want to compare two arrays to check if they&#39;re not the same?"}, {"owner": {"reputation": 6067, "user_id": 2315360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8htWF.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/2315360/george"}, "edited": false, "score": 1, "creation_date": 1531301354, "post_id": 51281762, "comment_id": 89541181, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7837456/how-to-compare-arrays-in-javascript\">How to compare arrays in JavaScript?</a>"}, {"owner": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "edited": false, "score": 0, "creation_date": 1531301377, "post_id": 51281762, "comment_id": 89541199, "body": "There are two arrays and you need to compare them. The test should check that all values of the first array correspond to the whole value of the second array multiplied by 2."}, {"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "edited": false, "score": 2, "creation_date": 1531301422, "post_id": 51281762, "comment_id": 89541230, "body": "then 2 should be 4 right? why 3?"}, {"owner": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "edited": false, "score": 0, "creation_date": 1531301501, "post_id": 51281762, "comment_id": 89541277, "body": "I made a mistake 1 is 2 2 is 4 3 is 6 and so on"}, {"owner": {"reputation": 6067, "user_id": 2315360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8htWF.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/2315360/george"}, "edited": false, "score": 0, "creation_date": 1531301681, "post_id": 51281762, "comment_id": 89541410, "body": "If this is a test case for you code and not just a coding exercise, it seems pretty pointless to test that multiplication works unless you have statically defined data, as you&#39;re still using <code>*</code> to create and test the data"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "edited": false, "score": 0, "creation_date": 1531303042, "post_id": 51281898, "comment_id": 89542329, "body": "that in the loop was expect and every time checked the value, if 1 is equal to 2 is true, and 2 is not equal to 4, then an error occurred"}], "tags": [], "owner": {"reputation": 729, "user_id": 9971482, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8y0fFmTdWS8/AAAAAAAAAAI/AAAAAAAAAC8/cOI_9nCTs-w/photo.jpg?sz=128", "display_name": "Aayush Sharma", "link": "https://stackoverflow.com/users/9971482/aayush-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1531301287, "creation_date": 1531301287, "answer_id": 51281898, "question_id": 51281762, "link": "https://stackoverflow.com/questions/51281762/verification-of-the-equality-of-immutable-arrays/51281898#51281898", "title": "verification of the equality of immutable arrays", "body": "<p>Why not make use of a flag. Take a flag variable and set it to any value, loop through the array and if any value does not meet expectations, change the flag variable.\nIn the end, check the value of flag variable. If it is the same as set initially then they are same otherwise the arrays are different.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { List, Set, isImmutable, Record, Map } from \"immutable\"\r\nimport { mass } from \"./sum\";\r\n\r\ntest('Array Multiplication Test', () =&gt; {\r\n  let standardArray = List([1,2,3,4]);\r\n  let mutatedArray = standardArray.map(x =&gt; x * 2);\r\n  let flag = false;\r\n  for (let i = 0; i &lt; standardArray.length; i++) {\r\n    if (standardArray[i] * 2 != mutatedArray[i]) {\r\n      flag = true;\r\n      break;\r\n    }\r\n  }\r\n  expect(flag).toEqual(false);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "edited": false, "score": 1, "creation_date": 1531301358, "post_id": 51281905, "comment_id": 89541184, "body": "I was thinking the same but <b>1 is 2 and 2 is 3</b> got me like <b>.....</b>"}, {"owner": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "edited": false, "score": 0, "creation_date": 1531302418, "post_id": 51281905, "comment_id": 89541945, "body": "almost true, but how to implement it in the form of a test jest"}, {"owner": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "edited": false, "score": 0, "creation_date": 1531303118, "post_id": 51281905, "comment_id": 89542372, "body": "you need to expect in the loop and check the value every time, if 1 is equal to 2, and 2 is not equal to 4, then you get an error"}, {"owner": {"reputation": 8500, "user_id": 5349542, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/B4LnC.jpg?s=128&g=1", "display_name": "BlackBeard", "link": "https://stackoverflow.com/users/5349542/blackbeard"}, "reply_to_user": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "edited": false, "score": 0, "creation_date": 1531303183, "post_id": 51281905, "comment_id": 89542414, "body": "@deniz that is exactly what the function <code>doesMatchCriteria</code> does"}, {"owner": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "edited": false, "score": 0, "creation_date": 1531305025, "post_id": 51281905, "comment_id": 89543538, "body": "so the lambda multiplication function itself is already written. it remains to write a loop in the test. why should I re-write the function?"}, {"owner": {"reputation": 8500, "user_id": 5349542, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/B4LnC.jpg?s=128&g=1", "display_name": "BlackBeard", "link": "https://stackoverflow.com/users/5349542/blackbeard"}, "edited": false, "score": 0, "creation_date": 1531305372, "post_id": 51281905, "comment_id": 89543796, "body": "It&#39;s totally up to you, how you want to implement this :)"}], "tags": [], "owner": {"reputation": 8500, "user_id": 5349542, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/B4LnC.jpg?s=128&g=1", "display_name": "BlackBeard", "link": "https://stackoverflow.com/users/5349542/blackbeard"}, "is_accepted": false, "score": 0, "last_activity_date": 1531302846, "last_edit_date": 1531302846, "creation_date": 1531301307, "answer_id": 51281905, "question_id": 51281762, "link": "https://stackoverflow.com/questions/51281762/verification-of-the-equality-of-immutable-arrays/51281905#51281905", "title": "verification of the equality of immutable arrays", "body": "<p>I think you want something like this:     </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let testArr1 = [1,2,3,4]\r\nlet testArr2 = [2,4,6,8]\r\nlet testArr3 = [2,6,6,8]\r\n\r\nfunction doesMatchCriteria(arr1, arr2) {\r\n  if (arr1.length !== arr2.length) return false;\r\n  return arr1.every((e, i) =&gt; ((e*2) === arr2[i]));\r\n  return true;\r\n}\r\nconsole.log(doesMatchCriteria(testArr1, testArr2));  // true\r\nconsole.log(doesMatchCriteria(testArr1, testArr3));  // false</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So, your <code>test</code> function could be something like this:       </p>\n\n<pre><code>test('Array Multiplication Test', () =&gt; {\n  let testArr1 = [1,2,3,4]\n  let testArr2 = [2,4,6,8]\n  expect(doesMatchCriteria(testArr1, testArr2)).toBe(true);\n});      \n</code></pre>\n\n<p>Don't forget to define <code>doesMatchCriteria</code> function in the same file.</p>\n"}], "owner": {"reputation": 7, "user_id": 9378187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9323cf4c3fea95a7886650a16047ac?s=128&d=identicon&r=PG&f=1", "display_name": "deniz", "link": "https://stackoverflow.com/users/9378187/deniz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541750249, "creation_date": 1531300892, "last_edit_date": 1541750249, "question_id": 51281762, "link": "https://stackoverflow.com/questions/51281762/verification-of-the-equality-of-immutable-arrays", "title": "verification of the equality of immutable arrays", "body": "<p>I have two immutable arrays. One is ordinary ([1,2,3,4]), the other is multiplied by two ([2,4,6,8]).\nHow in the test to equalize each value of the first array with the value of the second I use the iteration? That 1 is 2, and 2 is 4 and so on.\nI think this can be done with a for loop, but I do not know how to write this in practice.</p>\n\n<pre><code>import { List, Set } from \"immutable\"\n\nexport function mass() {\n  let standardArray = List([1,2,3,4]);\n  let mutatedArray = standardArray.map(x =&gt; x * 2);\n  return mutatedArray;\n};\n</code></pre>\n\n<p>test code\n(I do not know how to proceed)</p>\n\n<pre><code>import { List, Set, isImmutable, Record, Map } from \"immutable\"\nimport { mass } from \"./sum\";\n\ntest('Array Multiplication Test', () =&gt; {\n  let standardArray = List([1,2,3,4]);\n  let mutatedArray = standardArray.map(x =&gt; x * 2);\n  expect(standardArray).not.toEqual(mutatedArray);\n});\n</code></pre>\n"}, {"tags": ["javascript", "string", "typescript", "escaping"], "comments": [{"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1531300896, "post_id": 51281713, "comment_id": 89540843, "body": "Why does it have a backslash in it in the first place?!"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1531301616, "post_id": 51281713, "comment_id": 89541368, "body": "If a string contains a backslash, then it&#39;s a string containing a backslash as a regular character. A <i>string literal</i> requires backslashes to escape certain characters to disambiguate from special meaning <i>in their context as string literal</i>. Meaning, a string literal in source code delimited by quotes (<code>&quot;foo&quot;</code>) must escape any quotes within it by necessity (<code>&quot;foo&quot;bar&quot;</code> is ambiguous/invalid syntax). So, again, why is there a backslash in the string in the first place if it&#39;s not meant to be part of the string?"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1531301731, "post_id": 51281713, "comment_id": 89541446, "body": "It&#39;s not interpreted because it&#39;s part of the contents of the string. What if somebody <b><i>meant</i></b> to write <code>test\\, another test</code>? Like I did right here in my comment. You wouldn&#39;t want Javascript to automatically interpret and remove that. String literal interpretation only happens in <i>string literals</i> in source code."}, {"owner": {"reputation": 151, "user_id": 8226811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c33a2938d20a9c8791ceec4ed7454f9a?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/8226811/julien"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1531301894, "post_id": 51281713, "comment_id": 89541548, "body": "Ok,I understand. So the problem is not in my Typescript part but in my backend."}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1531302130, "post_id": 51281713, "comment_id": 89541725, "body": "Yes. Your backend is including superfluous escaping characters."}], "owner": {"reputation": 151, "user_id": 8226811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c33a2938d20a9c8791ceec4ed7454f9a?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/8226811/julien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 894, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531300728, "creation_date": 1531300728, "question_id": 51281713, "link": "https://stackoverflow.com/questions/51281713/typescript-escaping-characters-not-interpreted", "title": "Typescript: Escaping characters not interpreted", "body": "<p>I get a string from my backend like this : <code>test\\, another test</code> (send by JSON format). For this example, I will call this variable <code>dataReceive</code>.</p>\n\n<pre><code>let myString: string = dataReceive;\nconsole.log(myString);                      // \"test\\, another test\"\nconsole.log(myString.constructor.name);     // \"String\"\nlet myTmpString: string = \"test\\, another test\";\nconsole.log(myTmpString);                   // \"test, another test\"\nconsole.log(myTmpString.constructor.name);  // \"String\"\n</code></pre>\n\n<p>So, my problem is the following : How can I interpret correctly <code>myString</code> to get a correct String with all escaping characters interpreted ?</p>\n"}, {"tags": ["angular", "typescript", "models"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531300860, "post_id": 51281708, "comment_id": 89540819, "body": "department is supposed to be an array of Departments?"}, {"owner": {"reputation": 3, "user_id": 2742046, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000210811089/picture?type=large", "display_name": "Frahnk Vincent Valenzuela", "link": "https://stackoverflow.com/users/2742046/frahnk-vincent-valenzuela"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531301102, "post_id": 51281708, "comment_id": 89540992, "body": "is it wrong? I don&#39;t know what to do I wanted to declare an object within an object kind of model."}], "answers": [{"comments": [{"owner": {"reputation": 1909, "user_id": 2225619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286a6578091bb7b170a254eb8b5c100d?s=128&d=identicon&r=PG", "display_name": "Capricorn", "link": "https://stackoverflow.com/users/2225619/capricorn"}, "edited": false, "score": 1, "creation_date": 1531302141, "post_id": 51281992, "comment_id": 89541733, "body": "Thank you for this code snippet, which might provide some limited, immediate help. A <a href=\"https://meta.stackexchange.com/q/114762/349538\">proper explanation</a> would greatly improve its long-term value by showing why this is a good solution to the problem and would make it more useful to future readers with other, similar questions. Please <a href=\"https://stackoverflow.com/posts/51281992/edit\">edit</a> your answer to add some explanation, including the assumptions you\u2019ve made."}], "tags": [], "owner": {"reputation": 16, "user_id": 8715028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZFdbr-xrSaw/AAAAAAAAAAI/AAAAAAAAAPc/psDgUoROIqw/photo.jpg?sz=128", "display_name": "MJ Collano", "link": "https://stackoverflow.com/users/8715028/mj-collano"}, "is_accepted": true, "score": 0, "last_activity_date": 1531301537, "creation_date": 1531301537, "answer_id": 51281992, "question_id": 51281708, "link": "https://stackoverflow.com/questions/51281708/object-declaration-relationship-in-angular-models/51281992#51281992", "title": "Object Declaration/Relationship in angular models", "body": "<pre><code>export class Department {\n    dept_id: number;\n    dept_name: string;\n    constructor(dept_id, dept_name){\n        this.dept_id = dept_id;\n        this.dept_name = dept_name;\n    }\n}\n\nexport class Employee{\n    emp_id: number;\n    emp_fname: string;\n    emp_lname: string;\n    emp_birth: string;\n    emp_status: string;\n    emp_photo: string;\n    emp_department: string; \n    department: Department[] = [new Department(1, \"dept_name1\"), new Department(2, \"dept_name2\")];\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2742046, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000210811089/picture?type=large", "display_name": "Frahnk Vincent Valenzuela", "link": "https://stackoverflow.com/users/2742046/frahnk-vincent-valenzuela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "accepted_answer_id": 51281992, "answer_count": 1, "score": 0, "last_activity_date": 1531301537, "creation_date": 1531300715, "last_edit_date": 1531300947, "question_id": 51281708, "link": "https://stackoverflow.com/questions/51281708/object-declaration-relationship-in-angular-models", "title": "Object Declaration/Relationship in angular models", "body": "<p>is it possible to do something like this\nI wanted to declare an object inside my model the first one i tried is</p>\n\n<pre><code>export class Employee{\n    emp_id: number;\n    emp_fname: string;\n    emp_lname: string;\n    emp_birth: string;\n    emp_status: string;\n    emp_photo: string;\n    emp_department: string; \n    department: Array&lt;object&gt; = \n    [{\n        dept_id: number;\n        dept_name: string;\n    }];\n</code></pre>\n\n<p>the second one was like this</p>\n\n<pre><code>import { Department } from \"./department.model\";\n\nexport class Employee{\n  constructor(department: Department){};\n    emp_id: number;\n    emp_fname: string;\n    emp_lname: string;\n    emp_birth: string;\n    emp_status: string;\n    emp_photo: string;\n    emp_department: string; \n    department: department;\n\n}\n</code></pre>\n\n<p>both return errors in my terminal:\nfirst one returns expects , but when i make it so it says that I should use eg:number as type not as value.</p>\n\n<p>Then the second one returns an error</p>\n\n<p>Cannot find name 'department'.</p>\n\n<p>my department model</p>\n\n<pre><code>export class Department {\n    dept_id: number;\n    dept_name: string;\n}\n</code></pre>\n"}, {"tags": ["typescript", "npm", "sass", "react-css-modules", "fusebox"], "comments": [{"owner": {"reputation": 2311, "user_id": 3677173, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000485220259/picture?type=large", "display_name": "user3677173", "link": "https://stackoverflow.com/users/3677173/user3677173"}, "edited": false, "score": 0, "creation_date": 1531316530, "post_id": 51281601, "comment_id": 89551537, "body": "Absolutely!  You should publish the source as is with raw sass files. That will ensure the consistency of your build."}, {"owner": {"reputation": 2311, "user_id": 3677173, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000485220259/picture?type=large", "display_name": "user3677173", "link": "https://stackoverflow.com/users/3677173/user3677173"}, "edited": false, "score": 0, "creation_date": 1531316602, "post_id": 51281601, "comment_id": 89551608, "body": "Moreover, you could require your modules explicitely from the package. <code>import {A} from &quot;package&#47;src&#47;a&quot;</code>. I would recommend, however, moving src to the root when publishing to npm."}], "owner": {"reputation": 327, "user_id": 678532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810d1f21b587003cea2fcc001db5cb35?s=128&d=identicon&r=PG", "display_name": "adamfsk", "link": "https://stackoverflow.com/users/678532/adamfsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531300381, "creation_date": 1531300381, "question_id": 51281601, "link": "https://stackoverflow.com/questions/51281601/fusebox-raw-typescript-npm-publishing-with-sass-react-css-modules", "title": "Fusebox raw typescript npm publishing with sass react css modules", "body": "<p>I'm working on a two-part typescript, sass + react css modules project consisting of a library module and a consumer project, and I've just moved from webpack to fuse-box for bundling (so much easier and faster to work with!)</p>\n\n<p>In the documentation for Fusebox (<a href=\"https://fuse-box.org/page/publishing-to-npm\" rel=\"nofollow noreferrer\">https://fuse-box.org/page/publishing-to-npm</a>), they recommend publishing raw typescript for the library, so that tree-shaking will work better  which is something that I want to do, as I'm using dependency injection with inversify, so when I create more consumer projects I won't always use everything from the library.</p>\n\n<p>Following the guide to get this working is fine, but I'm not sure what to do with the scss files which are react css modules from the library project. </p>\n\n<p>Should the scss files also be published raw so that the consumer can compile them in one go, or should they be compiled for publishing?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 17761, "user_id": 701829, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iAg8E.jpg?s=128&g=1", "display_name": "Edmondo1984", "link": "https://stackoverflow.com/users/701829/edmondo1984"}, "edited": false, "score": 0, "creation_date": 1531303223, "post_id": 51281627, "comment_id": 89542427, "body": "They would be horrible though when rendered on the ui, is there a better alternative?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 17761, "user_id": 701829, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iAg8E.jpg?s=128&g=1", "display_name": "Edmondo1984", "link": "https://stackoverflow.com/users/701829/edmondo1984"}, "edited": false, "score": 0, "creation_date": 1531303444, "post_id": 51281627, "comment_id": 89542583, "body": "@Edmondo1984 Depends what you are willing to change. You could change the test to <code>Object.keys(Enum1).includes(myResp.myField)</code>. Also changing the type of <code>myField</code> to not be an enum value but rather the key of the enum <code>myField : keyof typeof Enum1</code>"}, {"owner": {"reputation": 4432, "user_id": 232990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa30471f9ee4c1fcf9a1cdd9b0f5a4c?s=128&d=identicon&r=PG", "display_name": "Creynders", "link": "https://stackoverflow.com/users/232990/creynders"}, "edited": false, "score": 0, "creation_date": 1531314019, "post_id": 51281627, "comment_id": 89549663, "body": "You should never use the index value of an enum for display purposes, i.e. either split it up into <code>RED= { value: &#39;RED&#39;, label:&#39;Red&#39;}</code> or map the enum indexes to labels in a separate object."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1531300495, "creation_date": 1531300495, "answer_id": 51281627, "question_id": 51281387, "link": "https://stackoverflow.com/questions/51281387/correctly-handling-enumerations-coming-from-rest-api-calls-in-typescript/51281627#51281627", "title": "Correctly handling enumerations coming from REST api calls in Typescript", "body": "<p>Typescript will compare the value of the enum, not the name of the enum with the <code>myResp.myField</code>. At runtime the enum is transformed into an object that is initialized like so:</p>\n\n<pre><code>function (Enum1) {\n    Enum1[\"RED\"] = \"Red\";\n    Enum1[\"GREEN\"] = \"Green\";\n    Enum1[\"BLUE\"] = \"Blue\";\n}\n</code></pre>\n\n<p>So when comparing with <code>Enum1. RED</code> you will be comparing with the value for the field, namely <code>'Red'</code></p>\n\n<p>The simplest solution is to set the values of the enum the same as the names</p>\n\n<pre><code> export enum Enum1 {\n        RED = 'RED',\n        GREEN = 'GREEN',\n        BLUE = 'BLUE '\n }\n</code></pre>\n"}], "owner": {"reputation": 17761, "user_id": 701829, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iAg8E.jpg?s=128&g=1", "display_name": "Edmondo1984", "link": "https://stackoverflow.com/users/701829/edmondo1984"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531300495, "creation_date": 1531299759, "question_id": 51281387, "link": "https://stackoverflow.com/questions/51281387/correctly-handling-enumerations-coming-from-rest-api-calls-in-typescript", "title": "Correctly handling enumerations coming from REST api calls in Typescript", "body": "<p>We have a rest API that returns a String for a given field but we know that this String is in fact an enumeration which we have created in Typescript.</p>\n\n<p>Our enumeration looks like so </p>\n\n<pre><code> export enum Enum1 {\n        RED = 'Red',\n        GREEN = 'Green',\n        BLUE = 'Blue'\n }\n</code></pre>\n\n<p>The problem we have is that the backend returns <code>RED</code> while when comparing Typescript uses <code>Red</code>, so the following comparison </p>\n\n<pre><code>myResp.myField === Enum1.RED\n</code></pre>\n\n<p>Doesn't work correctly. What is the appropriate way of handling this case in Typescript?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531298245, "post_id": 51280843, "comment_id": 89539016, "body": "The only option is to set the type of the parameter <code>onTextBoxInit({ element }: {element: ElementRef  })</code>"}, {"owner": {"reputation": 3389, "user_id": 1265945, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4647be3a01e75d00d31e9f960014f202?s=128&d=identicon&r=PG&f=1", "display_name": "Brampage", "link": "https://stackoverflow.com/users/1265945/brampage"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531298291, "post_id": 51280843, "comment_id": 89539045, "body": "@TitianCernicova-Dragomir oh lol thanks, that is the answer, please submit it :)"}, {"owner": {"reputation": 3389, "user_id": 1265945, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4647be3a01e75d00d31e9f960014f202?s=128&d=identicon&r=PG&f=1", "display_name": "Brampage", "link": "https://stackoverflow.com/users/1265945/brampage"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531298342, "post_id": 51280843, "comment_id": 89539077, "body": "Why did I not thought of that :s"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531298456, "post_id": 51280843, "comment_id": 89539140, "body": "Submitted, from your question I thought it was what you were not looking for :-)"}], "answers": [{"comments": [{"owner": {"reputation": 3389, "user_id": 1265945, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4647be3a01e75d00d31e9f960014f202?s=128&d=identicon&r=PG&f=1", "display_name": "Brampage", "link": "https://stackoverflow.com/users/1265945/brampage"}, "edited": false, "score": 0, "creation_date": 1594978085, "post_id": 51280924, "comment_id": 111321965, "body": "Setting the type of destructured object inside a destructured array: <code>([{todoId}, _]: [{todoId: string}, void]) =&gt; todoId</code> (e.g.: when using RxJS&#39; combineLatest operator with params and some other subject)."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 14, "last_activity_date": 1531298399, "creation_date": 1531298399, "answer_id": 51280924, "question_id": 51280843, "link": "https://stackoverflow.com/questions/51280843/typescript-how-to-set-type-of-destructured-object/51280924#51280924", "title": "TypeScript: How to set type of destructured object?", "body": "<p>You need to specify the type of the argument after the destructuring expression</p>\n\n<pre><code> onTextBoxInit({ element }: {element: ElementRef }){} \n</code></pre>\n"}], "owner": {"reputation": 3389, "user_id": 1265945, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4647be3a01e75d00d31e9f960014f202?s=128&d=identicon&r=PG&f=1", "display_name": "Brampage", "link": "https://stackoverflow.com/users/1265945/brampage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3755, "favorite_count": 1, "accepted_answer_id": 51280924, "answer_count": 1, "score": 5, "last_activity_date": 1531298607, "creation_date": 1531298162, "last_edit_date": 1531298607, "question_id": 51280843, "link": "https://stackoverflow.com/questions/51280843/typescript-how-to-set-type-of-destructured-object", "title": "TypeScript: How to set type of destructured object?", "body": "<p><strong>Problem</strong></p>\n\n<p>For example, the parameter has the following type <code>{ component: any; element: ElementRef; }</code>, of which I only want the element:</p>\n\n<pre><code>onTextBoxInit({ element }) { }\n</code></pre>\n\n<p><strong>Question:</strong> How can I set the type of this destructured element?</p>\n\n<p><strong>Tried</strong></p>\n\n<p>I thought of something like this: <code>onTextBoxInit({ element: ElementRef }) { }</code>, however this is not working.</p>\n"}, {"tags": ["typescript", "enums"], "answers": [{"tags": [], "owner": {"reputation": 2338, "user_id": 4088001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73e96ef58ccd50dd1fd781c529d9684?s=128&d=identicon&r=PG&f=1", "display_name": "Jevgeni", "link": "https://stackoverflow.com/users/4088001/jevgeni"}, "is_accepted": true, "score": 8, "last_activity_date": 1531298732, "creation_date": 1531298732, "answer_id": 51281023, "question_id": 51280565, "link": "https://stackoverflow.com/questions/51280565/iterate-over-an-enum-with-typescript-and-assign-to-an-enum/51281023#51281023", "title": "Iterate over an enum with typescript and assign to an enum", "body": "<p>You can either use this hack:</p>\n\n<pre><code>const mySuit: Suit = Suit[suit] as any as Suit;\n</code></pre>\n\n<p>or change <code>Suit</code> enum to string enum and use it like this:</p>\n\n<pre><code>enum Suit { \n    Diamonds = \"Diamonds\", \n    Hearts = \"Hearts\", \n    Clubs = \"Clubs\", \n    Spades = \"Spades\",\n}\n\nfor (let suit in Suit) {\n    const mySuit: Suit = Suit[suit] as Suit;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6427, "user_id": 1486742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e85d265e07bece5f7f82cce58514ec66?s=128&d=identicon&r=PG", "display_name": "LeOn - Han Li", "link": "https://stackoverflow.com/users/1486742/leon-han-li"}, "is_accepted": false, "score": 9, "last_activity_date": 1571763374, "creation_date": 1571763374, "answer_id": 58509049, "question_id": 51280565, "link": "https://stackoverflow.com/questions/51280565/iterate-over-an-enum-with-typescript-and-assign-to-an-enum/58509049#58509049", "title": "Iterate over an enum with typescript and assign to an enum", "body": "<p>For string enum, if the <code>strict</code> flag is on, we will get <code>type string can't be used to index type 'typeof Suit'</code>. \nSo we have to something like:</p>\n\n<pre><code>for (const suit in Suit) {\n    const mySuit: Suit = Suit[suit as keyof typeof Suit];\n}\n</code></pre>\n\n<p>If you just need the <code>string</code> value of it, then use <code>suit</code> directly is fine.</p>\n"}], "owner": {"reputation": 1747, "user_id": 3476215, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/500966317/picture?type=large", "display_name": "Konzy262", "link": "https://stackoverflow.com/users/3476215/konzy262"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14357, "favorite_count": 0, "accepted_answer_id": 51281023, "answer_count": 2, "score": 1, "last_activity_date": 1571763374, "creation_date": 1531297301, "question_id": 51280565, "link": "https://stackoverflow.com/questions/51280565/iterate-over-an-enum-with-typescript-and-assign-to-an-enum", "title": "Iterate over an enum with typescript and assign to an enum", "body": "<p>I am attempting to iterate over all the values in an enum, and assign each value to a new enum. This is what I came up with....</p>\n\n<pre><code>enum Color {\n    Red, Green\n}\n\nenum Suit { \n    Diamonds, \n    Hearts, \n    Clubs, \n    Spades \n}\n\nclass Deck \n{\n    cards: Card[];\n\n    public fillDeck() {\n        for (let suit in Suit) {\n            var mySuit: Suit = Suit[suit];\n            var myValue = 'Green';\n            var color : Color = Color[myValue];\n        }\n    }\n}\n</code></pre>\n\n<p>The part <code>var mySuit: Suit = Suit[suit];</code> doesn't compile, and returns the error  <code>Type 'string' is not assignable to type 'Suit'</code>.</p>\n\n<p>If I hover over <code>suit</code> in the for loop, it shows me <code>let suit: string</code>. <code>var color : Color = Color[myValue];</code> also compiles without error. What am I doing wrong here as both examples with Suit and Color look identical to me. </p>\n\n<p>I'm on TypeScript version 2.9.2 and this is the contents of my tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es6\",\n        \"module\": \"commonjs\",\n        \"sourceMap\": true\n    }\n}\n</code></pre>\n\n<p>Is there a better way to iterate over all the values in an enum, whilst maintaining the enum type for each iteration?</p>\n\n<p>Thanks, </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 23, "user_id": 10058094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8899266dbcb3359510272ef84c75de2a?s=128&d=identicon&r=PG&f=1", "display_name": "user10058094", "link": "https://stackoverflow.com/users/10058094/user10058094"}, "edited": false, "score": 0, "creation_date": 1531297685, "post_id": 51280517, "comment_id": 89538657, "body": "it should just add a console log and debug"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1531297163, "creation_date": 1531297163, "answer_id": 51280517, "question_id": 51280391, "link": "https://stackoverflow.com/questions/51280391/how-to-set-up-the-date-information-filter-for-a-specific-user/51280517#51280517", "title": "How to set up the date information filter for a specific user?", "body": "<pre><code>this.filteredNotes = this.notes.filter(proj =&gt; years.indexOf(proj.year)!= -1)\n</code></pre>\n\n<p>and with ES6, you can use Array.includes</p>\n\n<pre><code>this.years.includes(proj.year)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10058094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8899266dbcb3359510272ef84c75de2a?s=128&d=identicon&r=PG&f=1", "display_name": "user10058094", "link": "https://stackoverflow.com/users/10058094/user10058094"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531297195, "creation_date": 1531296735, "last_edit_date": 1531297195, "question_id": 51280391, "link": "https://stackoverflow.com/questions/51280391/how-to-set-up-the-date-information-filter-for-a-specific-user", "title": "How to set up the date information filter for a specific user?", "body": "<p>I have two filters and they do not work exactly as they should. Firstly, after a particular user has been selected from the list, all the information on this user for all dates is displayed in the notes, although a certain date is set on which nothing should be output so as there is empty. And secondly, if I start changing the date in select, then all the information for all users starts to be displayed although a certain user was originally selected. Below I gave the code for these filters. How can I fix this? Tell me please.</p>\n\n<pre><code>  selectedUser = null;\n  users: Array&lt;User&gt;;\n  notes: Array&lt;Note&gt;;\n  years: Array&lt;Year&gt;;\n  filteredNotes = [];\n\n\n\n\n//Filter datas for the selected user\nSelectedUser(userId) {\n  this.selectedUser = this.users.find(el =&gt; {\n    return el.user_id === userId\n  });\n  this.filteredNotes = this.notes.filter((note) =&gt; note.n_users_id == this.selectedUser.user_id);\n}\n\n//Filter data by date selection from the list\n\nonYearSelection(year){\n    this.filteredNotes = []\n    this.filteredNotes = this.notes.filter(note =&gt; note.years  == year);\n}\n</code></pre>\n\n<p>That is, how can I combine these operations. So that I chose the user chose the date I wanted and displayed all the available information on this user and the selected date.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 1872, "user_id": 3814835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/bKVDC.jpg?s=128&g=1", "display_name": "baj9032", "link": "https://stackoverflow.com/users/3814835/baj9032"}, "edited": false, "score": 0, "creation_date": 1531296226, "post_id": 51280147, "comment_id": 89537798, "body": "That is not good practice to do this.you can navigate to another route from btnclicked method."}], "answers": [{"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1531296174, "creation_date": 1531296174, "answer_id": 51280225, "question_id": 51280147, "link": "https://stackoverflow.com/questions/51280147/angular-router-navigation/51280225#51280225", "title": "Angular Router navigation", "body": "<p>use the <code>navigateByUrl</code> inside the button click function.</p>\n\n<pre><code>btnClicked(value){\n\n  if(// your condition){\n    this.router.navigateByUrl('questions')\n\n  }\n}\n</code></pre>\n\n<p>loose the <code>routerLink</code> from div</p>\n\n<pre><code>&lt;div  (click)=\"btnClicked(target.value)\" class=\"button\"&gt;Click Me&lt;/div&gt;  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "is_accepted": true, "score": 0, "last_activity_date": 1531296221, "creation_date": 1531296221, "answer_id": 51280244, "question_id": 51280147, "link": "https://stackoverflow.com/questions/51280147/angular-router-navigation/51280244#51280244", "title": "Angular Router navigation", "body": "<p>Remove the <code>routerLink</code> from the button element. And add the Router to the component constructor.</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>import { Router } from '@angular/router';\n\nconstructor(private router: Router) {}\n\npublic btnClicked(event: any): void {\n  if(this.valid) {   // check the validation here\n     this.router.navigate(['/questions']);\n  }\n}\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code> &lt;div (click)=\"btnClicked(target.value)\" class=\"button\"&gt;Click Me&lt;/div&gt;  \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10037542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 51280244, "answer_count": 2, "score": 1, "last_activity_date": 1531296221, "creation_date": 1531295940, "last_edit_date": 1531296148, "question_id": 51280147, "link": "https://stackoverflow.com/questions/51280147/angular-router-navigation", "title": "Angular Router navigation", "body": "<p>In my project in the first component I have an input box, and a button.  </p>\n\n<pre><code>    &lt;div routerLink=\"questions\" (click)=\"btnClicked(target.value)\" class=\"button\"&gt;Click Me&lt;/div&gt;  \n</code></pre>\n\n<p>In the <code>app.module.ts</code> I set up the router, and it is working this way, but the problem is that in the <code>btnClicked()</code> function I'm checking <strong>if the user input is valid</strong>, and this way, it doesn't matter if the input is valid or not, the program will navigate to the <code>questions</code> component, so I'd like to do this routing in the <strong>typescript file</strong>, right after the validation.  </p>\n\n<p>Any suggestions? Thank you guys for the answer(s).</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 2151, "user_id": 8269581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab9472c4c69ebfc182fb7df8d3e29af?s=128&d=identicon&r=PG&f=1", "display_name": "vibhor1997a", "link": "https://stackoverflow.com/users/8269581/vibhor1997a"}, "edited": false, "score": 0, "creation_date": 1531295515, "post_id": 51279920, "comment_id": 89537330, "body": "<code>document.getElementsByClassName(&#39;input-wrapper&#39;)[1]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531298454, "post_id": 51280025, "comment_id": 89539139, "body": "Is there a way to select the radio-button ?"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "reply_to_user": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531299170, "post_id": 51280025, "comment_id": 89539623, "body": "where is radio button in yout html, provide html or snippet"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "reply_to_user": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531300196, "post_id": 51280025, "comment_id": 89540321, "body": "@julia456124645 check the snippet now"}, {"owner": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531300447, "post_id": 51280025, "comment_id": 89540522, "body": "Awesome i can get my element but how to select it ? ( act like i did it with the mouse )"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "reply_to_user": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531300543, "post_id": 51280025, "comment_id": 89540604, "body": "add a event listener"}, {"owner": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531300577, "post_id": 51280025, "comment_id": 89540631, "body": "Could you tell me how to do it please ?"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "reply_to_user": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531301064, "post_id": 51280025, "comment_id": 89540962, "body": "@julia456124645, check the snippet now"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "reply_to_user": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "edited": false, "score": 0, "creation_date": 1531301080, "post_id": 51280025, "comment_id": 89540974, "body": "@julia456124645, if the answer is helpful, please vote"}], "tags": [], "owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "is_accepted": false, "score": 0, "last_activity_date": 1531301046, "last_edit_date": 1531301046, "creation_date": 1531295536, "answer_id": 51280025, "question_id": 51279920, "link": "https://stackoverflow.com/questions/51279920/select-an-item-on-a-list-with-dom-manipulation/51280025#51280025", "title": "Select an item on a list with DOM manipulation", "body": "<p>use can select the second item with index, check the snippet</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var el = document.getElementsByClassName('input-wrapper');\r\nObject.keys(el).forEach(item=&gt;{\r\n el[item].addEventListener('click' ,()=&gt;{\r\n  el[item].children[0].checked = !el[item].children[0].checked\r\n  console.log(el[item]);  \r\n})\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"input-wrapper\"&gt;1 label &lt;input type=\"radio\" value=\"select\"&gt; Label&lt;/div&gt;\r\n&lt;div class=\"input-wrapper\"&gt;2 label &lt;input type=\"radio\" value=\"select\"&gt; Label&lt;/div&gt;\r\n&lt;div class=\"input-wrapper\"&gt;3 label\r\n  &lt;input type=\"radio\" value=\"select\"&gt; Label\r\n&lt;/div&gt;\r\n&lt;div class=\"input-wrapper\"&gt;4 label &lt;input type=\"radio\" value=\"select\"&gt; Label &lt;/div&gt;\r\n&lt;div class=\"input-wrapper\"&gt;5 label &lt;input type=\"radio\" value=\"select\"&gt; Label &lt;/div&gt;\r\n&lt;div class=\"input-wrapper\"&gt;6 label &lt;input type=\"radio\" value=\"select\"&gt; Label &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 10051684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991a304887d823b415085f3e6d289c52?s=128&d=identicon&r=PG&f=1", "display_name": "julia456124645", "link": "https://stackoverflow.com/users/10051684/julia456124645"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531301046, "creation_date": 1531295202, "question_id": 51279920, "link": "https://stackoverflow.com/questions/51279920/select-an-item-on-a-list-with-dom-manipulation", "title": "Select an item on a list with DOM manipulation", "body": "<pre><code>document.getElementsByClassName('input-wrapper')\n</code></pre>\n\n<blockquote>\n  <p>Result</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/xy08G.png\" rel=\"nofollow noreferrer\">The result</a></p>\n\n<p>Is there a way to select the second item of an ion-list by doing a dom manipulation ?</p>\n\n<p>Tried with selected index didn't work </p>\n"}, {"tags": ["angular", "typescript", "intellij-idea"], "comments": [{"owner": {"reputation": 2021, "user_id": 1657465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SkIuh.jpg?s=128&g=1", "display_name": "Luis Limas", "link": "https://stackoverflow.com/users/1657465/luis-limas"}, "edited": false, "score": 0, "creation_date": 1618263398, "post_id": 51279454, "comment_id": 118545140, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/52087168/is-there-a-way-to-add-a-type-assertion-annotation-to-a-template-input-variable\">Is there a way to add a type assertion / annotation to a template input variable?</a>"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "reply_to_user": {"reputation": 2021, "user_id": 1657465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SkIuh.jpg?s=128&g=1", "display_name": "Luis Limas", "link": "https://stackoverflow.com/users/1657465/luis-limas"}, "edited": false, "score": 0, "creation_date": 1618299309, "post_id": 51279454, "comment_id": 118552762, "body": "As far as I can see some answers there says it just should work, others to use casting method stub which is mentioned in answers here as well and which is not what I was hoping for."}], "answers": [{"comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1531297384, "post_id": 51280043, "comment_id": 89538454, "body": "This answer does not cover what I have asked at all. It is a &quot;lecture&quot; about component properties and code assist totally detached from given scenario thus beeing off topic."}, {"owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1531298006, "post_id": 51280043, "comment_id": 89538878, "body": "@Antoniossss You just edited your post. You initially posted a one-liner... And my answer does cover what you asked initially, because you gave no hints, no concrete information whatsoever."}, {"owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1531298157, "post_id": 51280043, "comment_id": 89538964, "body": "Why you can&#39;t declare your property in the Component? Angular Material doesn&#39;t forbid you to create your properties and use them in the template..."}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1531298836, "post_id": 51280043, "comment_id": 89539389, "body": "feel free to try here <a href=\"https://stackblitz.com/angular/pbnxvqjgnnx?file=app%2Ftable-basic-example.html\" rel=\"nofollow noreferrer\">stackblitz.com/angular/&hellip;</a>"}, {"owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1531298882, "post_id": 51280043, "comment_id": 89539424, "body": "@Antoniossss Gotcha now! :D I updated my answer. <i>(And my +1 because now the question is complete)</i>"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1531298975, "post_id": 51280043, "comment_id": 89539487, "body": "I got datasource typed. The point is that markup context is detached so no wonder why IDE does not know what type is it. That is reason why i asked explicitly about TYPEHINTING - there is similar thing in Thymeleaf for example where you declare varible type in html markup as comment. Thanks for the effort. The only viable part of this answer is that it cannot be done :)"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1531299290, "post_id": 51280043, "comment_id": 89539714, "body": "IDE won&#39;t know that we are using content of <code>let request</code> will contain items of <code>dataSource</code> nor compiler. That what is whole question about - how to typehint IDE."}, {"owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 1, "creation_date": 1531299524, "post_id": 51280043, "comment_id": 89539884, "body": "@Antoniossss Just tested it. Indeed my IDE doesn&#39;t recognize that the local variable is of type <code>User</code> <i>(Like in my example)</i>. It autocompletes but is not detecting the type, is just guessing stuff..."}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 0, "creation_date": 1586825068, "post_id": 51280043, "comment_id": 108265044, "body": "As you concluded it&#39;s irrelevant what type dataSource is, the <code>*matCellDef</code> has no way of getting that type which really sucks."}], "tags": [], "owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "is_accepted": false, "score": -1, "last_activity_date": 1531298855, "last_edit_date": 1531298855, "creation_date": 1531295599, "answer_id": 51280043, "question_id": 51279454, "link": "https://stackoverflow.com/questions/51279454/is-there-a-way-to-typehint-ide-for-let-variable-type-in-typescript-and-angular/51280043#51280043", "title": "Is there a way to typehint IDE for &quot;let variable&quot; type in Typescript and Angular?", "body": "<p>Now I finally understand the issue <em>(after the OP editing)</em>.</p>\n\n<p>You can't specify a type in the template when declaring <code>*matCellDef=\"let request\"</code>, but, that local variable should be already typed in your component.</p>\n\n<p>When using the AM Table, we'll have something like this, right?</p>\n\n<pre><code>&lt;mat-table [dataSource]=\"dataSource\"&gt;\n    &lt;ng-container matColumnDef=\"name\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Name &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let user\"&gt; {{user.name}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n&lt;/mat-table&gt;\n</code></pre>\n\n<p>We can't <em>type</em> the <code>user</code> local variable, but we can <em>type</em> <code>dataSource</code>.</p>\n\n<p>So, Imagine that we have this interface:</p>\n\n<pre><code>export interface User {\n    name: string;\n    email: string;\n}\n</code></pre>\n\n<p>And that our <code>dataSource</code> is a collection of users. Then we would type it like this:</p>\n\n<pre><code>dataSource: User[] = this.getUsers();\n</code></pre>\n\n<p>Now we're telling the compiler that <strong>each element of <code>dataSource</code> is of type <code>User</code></strong>.</p>\n"}, {"comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1586688570, "post_id": 61169349, "comment_id": 108213973, "body": "What does that have to do with the issue?"}, {"owner": {"reputation": 159, "user_id": 5516573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208017632536573/picture?type=large", "display_name": "Lean Pilar", "link": "https://stackoverflow.com/users/5516573/lean-pilar"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1586774773, "post_id": 61169349, "comment_id": 108242089, "body": "Now I&#39;m not sure if I understand your issue. I had the problem that  *matCellDef=&quot;let model&quot; and later {{model.toDo}} toDo was not recognized by Webstorm, but this way it does. If it&#39;s not your issue, I&#39;ll remove this answer"}, {"owner": {"reputation": 159, "user_id": 5516573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208017632536573/picture?type=large", "display_name": "Lean Pilar", "link": "https://stackoverflow.com/users/5516573/lean-pilar"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1586775312, "post_id": 61169349, "comment_id": 108242328, "body": "ok, sorry, can you explain what is the correct problem because I had a similar problem and I land here before solving my and after solving I shared my solution"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1586775498, "post_id": 61169349, "comment_id": 108242406, "body": "The this is that I wanted to typehint IDE just like in php template you can do this via comment (if work with the Webstorm you should be familiar with that). Question was if there is similar way to do this for html templates. And no it seams that there is no typefint heature to this day."}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1586775692, "post_id": 61169349, "comment_id": 108242485, "body": "Adding extra method call is just not worth of it"}], "tags": [], "owner": {"reputation": 159, "user_id": 5516573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208017632536573/picture?type=large", "display_name": "Lean Pilar", "link": "https://stackoverflow.com/users/5516573/lean-pilar"}, "is_accepted": false, "score": 2, "last_activity_date": 1586683801, "creation_date": 1586683801, "answer_id": 61169349, "question_id": 51279454, "link": "https://stackoverflow.com/questions/51279454/is-there-a-way-to-typehint-ide-for-let-variable-type-in-typescript-and-angular/61169349#61169349", "title": "Is there a way to typehint IDE for &quot;let variable&quot; type in Typescript and Angular?", "body": "<p>as the</p>\n\n<pre><code>tableDataSource: MatTableDataSource&lt;ToDoInterface&gt;;\n</code></pre>\n\n<p>does not type the model,</p>\n\n<p>this:</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"toDo\"&gt;\n  &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt;ToDo&lt;/th&gt;\n  &lt;td mat-cell *matCellDef=\"let model\"&gt;\n    &lt;ng-container *ngIf=\"assertItemType(model) as toDoModel\"&gt;\n      {{toDoModel.toDo}}\n    &lt;/ng-container&gt;\n  &lt;/td&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>where:</p>\n\n<pre><code>assertItemType(item: ToDoInterface): ToDoInterface {\n  return item;\n}\n</code></pre>\n\n<p>works.</p>\n\n<p>but not sure if it the best way to do it</p>\n"}, {"comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1603209810, "post_id": 64448113, "comment_id": 113961879, "body": "Its duplicate of other answer"}], "tags": [], "owner": {"reputation": 846, "user_id": 5932611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYD5D.jpg?s=128&g=1", "display_name": "Tharindu Sathischandra", "link": "https://stackoverflow.com/users/5932611/tharindu-sathischandra"}, "is_accepted": false, "score": 2, "last_activity_date": 1603206777, "creation_date": 1603206777, "answer_id": 64448113, "question_id": 51279454, "link": "https://stackoverflow.com/questions/51279454/is-there-a-way-to-typehint-ide-for-let-variable-type-in-typescript-and-angular/64448113#64448113", "title": "Is there a way to typehint IDE for &quot;let variable&quot; type in Typescript and Angular?", "body": "<p>Although the question is bit older I like to add a method that I used to achieve IDE type-hints.</p>\n<p>First we can just add an additional method like,</p>\n<pre><code>  asRequest(request: any): Request{\n    return workflow as Workflow;\n  }\n</code></pre>\n<p>So, now you can <em>wrap</em> the <code>request</code> with that method.</p>\n<pre><code>&lt;mat-cell *matCellDef=&quot;let request&quot;&gt;\n     &lt;a [href]=&quot;asRequest(request).url&quot; target=&quot;_blank&quot;&gt;{{asRequest(request).requestId}}&lt;/a&gt;\n&lt;/mat-cell&gt;\n</code></pre>\n<p>So the <em>just</em> <code>request</code> is now <code>asRequest(request)</code>. (You can think like its a function for casting. Actually it is!)</p>\n<p>I know this way makes some extra function calls, but it will do what you needed.</p>\n"}, {"tags": [], "owner": {"reputation": 2021, "user_id": 1657465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SkIuh.jpg?s=128&g=1", "display_name": "Luis Limas", "link": "https://stackoverflow.com/users/1657465/luis-limas"}, "is_accepted": false, "score": 0, "last_activity_date": 1619019330, "creation_date": 1619019330, "answer_id": 67198974, "question_id": 51279454, "link": "https://stackoverflow.com/questions/51279454/is-there-a-way-to-typehint-ide-for-let-variable-type-in-typescript-and-angular/67198974#67198974", "title": "Is there a way to typehint IDE for &quot;let variable&quot; type in Typescript and Angular?", "body": "<p><strong>This can be solved by wrapping your variable inside another <code>ng-template</code></strong></p>\n<p>The type assertion is <a href=\"https://stackblitz.com/edit/ng-template-typed?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">noticed by the IDE</a> when <code>*ngFor</code> or <code>*ngIf</code> is in use. This is somehow another workaround, but I liked a lot more than other solutions because it just adds 2 more lines of code in the HTML, of course if you're using your variable only 1 or 2 times <a href=\"https://stackoverflow.com/a/55458722/1657465\">this other solution</a> is better. My answer:</p>\n<p>Instead of this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ng-template *ngTemplateOutlet=&quot;foo; context: {$implicit: {fooProp: 'Hello!'}}&quot;&gt;&lt;/p&gt;\n&lt;ng-template #foo let-args&gt;\n    This is untyped: {{ args.fooProp }}&lt;br&gt;\n&lt;/ng-template&gt;\n</code></pre>\n<p>Do this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ng-template *ngTemplateOutlet=&quot;foo; context: {$implicit: {fooProp: 'Hello!'}}&quot;&gt;&lt;/p&gt;\n&lt;ng-template #foo let-untypedArgs&gt;\n    &lt;ng-template [ngIf]=&quot;identity(args)&quot; let-args=&quot;ngIf&quot;&gt;\n        This is typed: {{ args.fooProp }}&lt;br&gt;\n    &lt;/ng-template&gt;\n&lt;/ng-template&gt;\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>identity(foo: Foo): Foo {\n    return foo;\n}\n</code></pre>\n<p>With this, now if you add an invalid property to your context, you'll get the following compilation error which is great, <a href=\"https://stackblitz.com/edit/ng-template-typed?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">here's a stackblitz demo</a>, The downside with this solution is that the inner <code>&lt;ng-template&gt;</code> is rendered later because of the <code>[ngIf]</code>.</p>\n<blockquote>\n<p>Property 'newFooProp' does not exist on type 'Foo'.</p>\n</blockquote>\n<p>This is the same answer I gave at <a href=\"https://stackoverflow.com/a/55458722/1657465\">this other question</a>.</p>\n"}], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2464, "favorite_count": 3, "answer_count": 4, "score": 11, "last_activity_date": 1619019330, "creation_date": 1531293562, "last_edit_date": 1603322597, "question_id": 51279454, "link": "https://stackoverflow.com/questions/51279454/is-there-a-way-to-typehint-ide-for-let-variable-type-in-typescript-and-angular", "title": "Is there a way to typehint IDE for &quot;let variable&quot; type in Typescript and Angular?", "body": "<p>Having markup like </p>\n\n<pre><code>    &lt;mat-cell *matCellDef=\"let request\"&gt;\n         &lt;a [href]=\"request.url\" target=\"_blank\"&gt;{{request.requestId}}&lt;/a&gt;\n    &lt;/mat-cell&gt;\n</code></pre>\n\n<p>Can I typehint IDE somehow that request is of type <code>Request</code>? I am using IntelliJ here. </p>\n\n<p>Please be noted, that I am using Angular Material table here, so declaring <code>request</code> in component is not an option here as it is purely template variable. It contains row data provided internally by component itself on every row iteration.</p>\n\n<p>Note that this is perfectly valid markup used in MatDataTable component.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-http"], "comments": [{"owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "edited": false, "score": 0, "creation_date": 1531293250, "post_id": 51279336, "comment_id": 89536081, "body": "plz provide console result"}, {"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1531293290, "post_id": 51279336, "comment_id": 89536098, "body": "<code>straip</code> is not an object array."}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531293319, "post_id": 51279336, "comment_id": 89536113, "body": "How to convert it to object array ?"}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531293336, "post_id": 51279336, "comment_id": 89536125, "body": "{link: Array(2), name: Array(2)} link : Array(2) 0 : {rendered: &quot;<a href=\"http://life.optomeda.lt/?p=168\" rel=\"nofollow noreferrer\">life.optomeda.lt/?p=168</a>&quot;} 1 : {rendered: &quot;<a href=\"http://life.optomeda.lt/?p=1\" rel=\"nofollow noreferrer\">life.optomeda.lt/?p=1</a>&quot;} length : 2 <b>proto</b> : Array(0) name : Array(2) 0 : &quot;h1-post-name-lorem-ipsum-dolor-sit-amet-consectetur-adipisc&zwnj;&#8203;ing-elit&quot; 1 : &quot;pirmasis-tinklarascio-irasas&quot; length : 2 <b>proto</b> : Array(0) <b>proto</b> : Object"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1531293369, "post_id": 51279336, "comment_id": 89536141, "body": "add <code>this.straip = [this.straip]</code>"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 1, "creation_date": 1531293392, "post_id": 51279336, "comment_id": 89536151, "body": "Angular <b>can&#39;t</b> loop an Object, ngFor supports iterables only, you need to provide an array."}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531293451, "post_id": 51279336, "comment_id": 89536185, "body": "But As I sent now, you can see from console it&#39;s two arrays. Name and link are arrays."}, {"owner": {"reputation": 433, "user_id": 8633285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc0295c2e48f082a662716e5471fccd0?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Patil", "link": "https://stackoverflow.com/users/8633285/rahul-patil"}, "edited": false, "score": 0, "creation_date": 1531293571, "post_id": 51279336, "comment_id": 89536249, "body": "<code>straip = {} as straipsnelis</code> this should be <code>straip:straipsnelis[];</code>"}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531293625, "post_id": 51279336, "comment_id": 89536275, "body": "I can&#39;t be , debug failure."}], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531293953, "post_id": 51279499, "comment_id": 89536445, "body": "I get [object object] in html. No console error now."}], "tags": [], "owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "is_accepted": true, "score": 2, "last_activity_date": 1531294759, "last_edit_date": 1531294759, "creation_date": 1531293733, "answer_id": 51279499, "question_id": 51279336, "link": "https://stackoverflow.com/questions/51279336/angular-2-getting-json-data-with-ngfor/51279499#51279499", "title": "Angular 2 getting json data with ngfor", "body": "<blockquote>\n  <p>ngFor does not iterate on objects , it iterates on array only.</p>\n</blockquote>\n\n<p>TS:</p>\n\n<pre><code>export interface straipsnelis {\n  name: string;\n  link: string;\n}\n\nstraip = {} as straipsnelis;\n\nstraipArray : Array&lt;any&gt; = []; \n\nngOnInit() {\n  this.http.get('this.url').subscribe((data:any) =&gt; {\n    this.straip.link = data.map((a:any)=&gt;a.guid);\n    this.straip.name = data.map((a:any)=&gt;a.slug);\n    this.straipArray.push(this.straip)\n\n    console.log(this.straip);\n  })\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div *ngFor=\"let s of straipArray\" class=\"cardukas\"&gt;\n  &lt;div class=\"left-photo\"&gt;{{s.link}}&lt;/div&gt;\n  &lt;div class=\"right-info\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "closed_date": 1531294238, "accepted_answer_id": 51279499, "answer_count": 1, "score": 0, "last_activity_date": 1531294759, "creation_date": 1531293177, "last_edit_date": 1531293371, "question_id": 51279336, "link": "https://stackoverflow.com/questions/51279336/angular-2-getting-json-data-with-ngfor", "closed_reason": "Duplicate", "title": "Angular 2 getting json data with ngfor", "body": "<p>I got a JSON array in URL and I am trying to get information from it so I could use it in <code>ngFor</code>. What am I doing wrong if I want to get link or name and use it in <code>ngFor</code>? Because I get it in <code>console.log(this.straip)</code>, but cannot use it in <code>ngFor</code>.</p>\n\n<p><strong>Component.ts</strong></p>\n\n<pre><code>export interface straipsnelis {\n  name: string;\n  link: string;\n}\n\nstraip = {} as straipsnelis;\nngOnInit() {\n  this.http.get('this.url').subscribe((data:any) =&gt; {\n    this.straip.link = data.map((a:any)=&gt;a.guid);\n    this.straip.name = data.map((a:any)=&gt;a.slug);\n    console.log(this.straip);\n  })\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let s of straip\" class=\"cardukas\"&gt;\n  &lt;div class=\"left-photo\"&gt;{{s.link}}&lt;/div&gt;\n  &lt;div class=\"right-info\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Console error:</strong></p>\n\n<blockquote>\n  <p>ERROR Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1531292753, "post_id": 51279186, "comment_id": 89535822, "body": "If it shouldn&#39;t be in the URL, you can&#39;t pass it as a query or path parameter."}, {"owner": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531293409, "post_id": 51279186, "comment_id": 89536156, "body": "you can use @Input decorater and pass the value through that variable."}, {"owner": {"reputation": 2206, "user_id": 7749909, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Fw72k.png?s=128&g=1", "display_name": "Vignesh", "link": "https://stackoverflow.com/users/7749909/vignesh"}, "edited": false, "score": 0, "creation_date": 1531293482, "post_id": 51279186, "comment_id": 89536200, "body": "You can hold the value in service."}, {"owner": {"reputation": 386, "user_id": 1564958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65b36a86b97c96c9e053bb513ed6fe41?s=128&d=identicon&r=PG", "display_name": "Madhavi", "link": "https://stackoverflow.com/users/1564958/madhavi"}, "edited": false, "score": 0, "creation_date": 1531299919, "post_id": 51279186, "comment_id": 89540128, "body": "I has variable from response and need to pass it to another ts  component to where it routes to next step and at the same time i don&#39;t want to view that variable on the url."}], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 8425472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Le6is.jpg?s=128&g=1", "display_name": "rootkill", "link": "https://stackoverflow.com/users/8425472/rootkill"}, "is_accepted": false, "score": 0, "last_activity_date": 1531293348, "creation_date": 1531293348, "answer_id": 51279388, "question_id": 51279186, "link": "https://stackoverflow.com/questions/51279186/need-to-pass-param-as-query-path-but-should-not-visible-on-url/51279388#51279388", "title": "Need to pass param as query/path but should not visible on URL", "body": "<p>If you don't want the URL to change you can use <code>skipLocationChange</code> strategy.</p>\n\n<p><a href=\"https://angular.io/api/router/NavigationExtras\" rel=\"nofollow noreferrer\">https://angular.io/api/router/NavigationExtras</a></p>\n"}, {"tags": [], "owner": {"reputation": 511, "user_id": 9097714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlmNC.png?s=128&g=1", "display_name": "Jmsdb", "link": "https://stackoverflow.com/users/9097714/jmsdb"}, "is_accepted": true, "score": 0, "last_activity_date": 1531299645, "creation_date": 1531299645, "answer_id": 51281339, "question_id": 51279186, "link": "https://stackoverflow.com/questions/51279186/need-to-pass-param-as-query-path-but-should-not-visible-on-url/51281339#51281339", "title": "Need to pass param as query/path but should not visible on URL", "body": "<p>You could use <a href=\"https://stackoverflow.com/a/40171609/9097714\">matrix params</a>.</p>\n\n<p>Then using the Angular <a href=\"https://angular.io/api/common/Location\" rel=\"nofollow noreferrer\">location</a>, and <a href=\"https://angular.io/guide/router#router-events\" rel=\"nofollow noreferrer\">router</a> services, to read and then overwrite the URL history.</p>\n\n<p>It isn't elegant but works..and achieves what you asked.</p>\n\n<p><strong>Example for the check and re-write of location history:</strong></p>\n\n<pre><code>this.router.events.pipe(filter(event =&gt; event instanceof NavigationEnd))\n.subscribe((event: NavigationEnd) =&gt; {\n  const matrixParams = this.location.path().split(';');\n\n  ... do something with the matrixParam\n\n  if(matrixParams.length &gt; 1) {\n    this.location.replaceState(matrixParams[0])\n  }\n\n}));\n</code></pre>\n\n<p><strong>Other ideas (as mentioned)</strong>:</p>\n\n<ul>\n<li>Use a service to pass the data around, check for it in OnInit</li>\n<li>As mentioned, pass it between components using @Input()</li>\n</ul>\n"}], "owner": {"reputation": 386, "user_id": 1564958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65b36a86b97c96c9e053bb513ed6fe41?s=128&d=identicon&r=PG", "display_name": "Madhavi", "link": "https://stackoverflow.com/users/1564958/madhavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 51281339, "answer_count": 2, "score": -1, "last_activity_date": 1531299645, "creation_date": 1531292626, "last_edit_date": 1531292723, "question_id": 51279186, "link": "https://stackoverflow.com/questions/51279186/need-to-pass-param-as-query-path-but-should-not-visible-on-url", "title": "Need to pass param as query/path but should not visible on URL", "body": "<p>I need pass a param from one route to other but it should not visible to user. I need it in Angular 6.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "asynchronous", "promise"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1531292283, "post_id": 51279008, "comment_id": 89535572, "body": "<code>the methods in the service are called faster than the current user is available</code> - the word you&#39;re looking for is <i>asynchrony</i> ... i.e. <code>this.currUser.permission = resp.entry.role;</code> is executed asynchronously, but your code suggests you don&#39;t know this"}, {"owner": {"reputation": 121, "user_id": 9093537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fc787f4c14a450c1fc9a5526cdffc4?s=128&d=identicon&r=PG&f=1", "display_name": "jRyze", "link": "https://stackoverflow.com/users/9093537/jryze"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1531292647, "post_id": 51279008, "comment_id": 89535766, "body": "Yes I know that it is asyc. However I have no idea to solve this."}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1531300857, "post_id": 51279008, "comment_id": 89540816, "body": "It depends on how you use the result of <code>isSiteManager()</code> and whether or not the application uses the Angular Router."}], "answers": [{"comments": [{"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "edited": false, "score": 0, "creation_date": 1531298189, "post_id": 51280295, "comment_id": 89538982, "body": "Use <code>.subscribe()</code>"}, {"owner": {"reputation": 1165, "user_id": 8049667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVUML.jpg?s=128&g=1", "display_name": "Sh. Pavel", "link": "https://stackoverflow.com/users/8049667/sh-pavel"}, "reply_to_user": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "edited": false, "score": 0, "creation_date": 1531298475, "post_id": 51280295, "comment_id": 89539155, "body": "@kvetis you are wrong, subscribe is async. Author need sync call"}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1531300751, "post_id": 51280295, "comment_id": 89540743, "body": "<code>isSiteManager</code> doesn&#39;t return an observable. If it would: how does your answer solve the problem?"}, {"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "reply_to_user": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 1, "creation_date": 1531301779, "post_id": 51280295, "comment_id": 89541468, "body": "I think you need to brush up Observables. Both <code>.map</code> and <code>.subscribe</code> are async. I also agree with @abetteroliver , even if you used <code>.subscribe</code> OP would need to rewrite the <code>isSiteManager</code>"}], "tags": [], "owner": {"reputation": 1165, "user_id": 8049667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVUML.jpg?s=128&g=1", "display_name": "Sh. Pavel", "link": "https://stackoverflow.com/users/8049667/sh-pavel"}, "is_accepted": false, "score": -1, "last_activity_date": 1531296379, "creation_date": 1531296379, "answer_id": 51280295, "question_id": 51279008, "link": "https://stackoverflow.com/questions/51279008/how-to-solve-time-raise-problems-in-angular/51280295#51280295", "title": "How to solve time raise problems in Angular?", "body": "<p>You should call your service method synchrony. To do so, you have to map your response from the service: </p>\n\n<p>your component code:</p>\n\n<pre><code>constructor() {\n...\npermissionService.isSiteManager().map(\nresponse =&gt; {\n    isManager = response;\n}\n);\n}\n</code></pre>\n\n<p>Something like this.</p>\n\n<p>To call map operator import it before:</p>\n\n<pre><code>import 'rxjs/add/operator/map';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 9093537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fc787f4c14a450c1fc9a5526cdffc4?s=128&d=identicon&r=PG&f=1", "display_name": "jRyze", "link": "https://stackoverflow.com/users/9093537/jryze"}, "edited": false, "score": 0, "creation_date": 1531297573, "post_id": 51280388, "comment_id": 89538579, "body": "Thanks but that doesn&#39;t work. &quot;getEcmUsername()&quot; gives back a string."}, {"owner": {"reputation": 46, "user_id": 7235892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989ab8df446fbedbc10ece85b8e41321?s=128&d=identicon&r=PG&f=1", "display_name": "preejol", "link": "https://stackoverflow.com/users/7235892/preejol"}, "reply_to_user": {"reputation": 121, "user_id": 9093537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fc787f4c14a450c1fc9a5526cdffc4?s=128&d=identicon&r=PG&f=1", "display_name": "jRyze", "link": "https://stackoverflow.com/users/9093537/jryze"}, "edited": false, "score": 0, "creation_date": 1531299481, "post_id": 51280388, "comment_id": 89539851, "body": "You can use <code>return Promise.resolve(string)</code>  in your getEcmUsername method"}, {"owner": {"reputation": 46, "user_id": 7235892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989ab8df446fbedbc10ece85b8e41321?s=128&d=identicon&r=PG&f=1", "display_name": "preejol", "link": "https://stackoverflow.com/users/7235892/preejol"}, "reply_to_user": {"reputation": 121, "user_id": 9093537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fc787f4c14a450c1fc9a5526cdffc4?s=128&d=identicon&r=PG&f=1", "display_name": "jRyze", "link": "https://stackoverflow.com/users/9093537/jryze"}, "edited": false, "score": 0, "creation_date": 1531302790, "post_id": 51280388, "comment_id": 89542188, "body": "this may help you [<a href=\"https://stackoverflow.com/a/45090069/7235892]\">stackoverflow.com/a/45090069/7235892]</a> just need to wrap your init function in promise or use async/await"}], "tags": [], "owner": {"reputation": 46, "user_id": 7235892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989ab8df446fbedbc10ece85b8e41321?s=128&d=identicon&r=PG&f=1", "display_name": "preejol", "link": "https://stackoverflow.com/users/7235892/preejol"}, "is_accepted": false, "score": 1, "last_activity_date": 1531296728, "creation_date": 1531296728, "answer_id": 51280388, "question_id": 51279008, "link": "https://stackoverflow.com/questions/51279008/how-to-solve-time-raise-problems-in-angular/51280388#51280388", "title": "How to solve time raise problems in Angular?", "body": "<p>You should use promise in your getEcmUsername() handle this; after that you can code like this<br>\n`</p>\n\n<pre><code>this.authService.getEcmUsername().then((userID) =&gt; {\n    this.apiService.sitesApi.getSiteMember(SITENAME, userId).then(resp =&gt; {\n      this.currUser.permission = resp.entry.role;\n    })\n});\n</code></pre>\n\n<p>`</p>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 8063529, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p8gYR91NW7k/AAAAAAAAAAI/AAAAAAAAAAA/XjrrhXEBSuw/photo.jpg?sz=128", "display_name": "kjppster", "link": "https://stackoverflow.com/users/8063529/kjppster"}, "is_accepted": false, "score": 0, "last_activity_date": 1531298433, "creation_date": 1531298433, "answer_id": 51280931, "question_id": 51279008, "link": "https://stackoverflow.com/questions/51279008/how-to-solve-time-raise-problems-in-angular/51280931#51280931", "title": "How to solve time raise problems in Angular?", "body": "<p>In my opinion better solution is to use Observable here and rxjs. In service you can create Subject and subscribe it inside your compnent, to be sure data is already there. E.g.:</p>\n\n<pre><code>@Injectable()\nexport class PermissionService {\n public Subject&lt;bool&gt; userFetched= new Subject&lt;bool&gt;();\n  currUser: IUser = {\n    'id': \"\",\n    'permission': \"\"\n  };\n  apiService: AlfrescoApiService;\n  authService: AuthenticationService;\n\n  constructor(apiService: AlfrescoApiService, authService: AuthenticationService) {\n    this.apiService = apiService;\n    this.authService = authService;\n\n    this.init();\n  }\n\n  init() {\n    let userId: string = this.authService.getEcmUsername();    \n    this.currUser.id = userId;\n\n//API call\n    this.apiService.sitesApi.getSiteMember(SITENAME, userId).subscribe((data:IUser)=&gt; \n  {\n    this.user=data;\n   this.userFetched.next(true);\n  })\n }\n\n  isSiteManager(): boolean {\n    console.log(this.currUser.permission, this.currUser);\n    if(this.currUser.permission === \"SiteManager\"){\n      return true;\n    }else{\n      return false;\n    }\n  }\n}\n</code></pre>\n\n<p>After that in your component:</p>\n\n<pre><code>export class AppLayoutComponent {\n\n  constructor(permissionService:PermissionService) {\n    permissionService.userFetched.subscribe((data)=&gt;{\n     permissionService.isSiteManager();\n  });\n  }\n}\n</code></pre>\n\n<p>It's better approach. You need to consider if better is Subject or BehaviourSubject.</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 9093537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fc787f4c14a450c1fc9a5526cdffc4?s=128&d=identicon&r=PG&f=1", "display_name": "jRyze", "link": "https://stackoverflow.com/users/9093537/jryze"}, "is_accepted": false, "score": 0, "last_activity_date": 1531317686, "creation_date": 1531317686, "answer_id": 51287503, "question_id": 51279008, "link": "https://stackoverflow.com/questions/51279008/how-to-solve-time-raise-problems-in-angular/51287503#51287503", "title": "How to solve time raise problems in Angular?", "body": "<p>Thanks to everybody who answered. I have found a solution. I have changed the <code>isSiteManager()</code> method to a method which checks all four permissiontypes. This method is executed in the <code>then()</code> block and affects four variables for each permissiontype. These variables i can reach from other components.\n<strong>Looks like this:</strong></p>\n\n<pre><code> @Injectable()\nexport class PermissionService {\n  isSiteManager: boolean;\n  isSiteConsumer: boolean;\n  isSiteContributor: boolean;\n  isSiteCollaborator: boolean;\n  userId : string;\n\n  constructor(private apiService: AlfrescoApiService, private authService: AuthenticationService) {\n    this.init();\n  }\n\n  init() {\n    this.isSiteCollaborator = false;\n    this.isSiteConsumer = false;\n    this.isSiteContributor = false;\n    this.isSiteManager = false;\n    this.userId = localStorage.USER_PROFILE;\n\n    //proof permission of user\n    this.apiService.sitesApi.getSiteMember(SITENAME, this.userId).then(resp=&gt;{\n      if(resp.entry.role === \"SiteManager\"){\n        this.isSiteManager = true;\n      }else if(resp.entry.role === \"SiteConsumer\"){\n        this.isSiteConsumer = true;\n      }else if(resp.entry.role === \"SiteContributor\"){\n        this.isSiteContributor = true;\n      }else{\n        this.isSiteCollaborator = true;\n      }\n    });\n  }\n}\n</code></pre>\n\n<p><strong>Now i can ask for the variables in other components like this:</strong></p>\n\n<pre><code>export class AppLayoutComponent {\n\n  constructor(private permissionService : PermissionService) {\n    if(permissionService.isSiteManager){\n      console.log(\"You are Boss!\");\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 9093537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fc787f4c14a450c1fc9a5526cdffc4?s=128&d=identicon&r=PG&f=1", "display_name": "jRyze", "link": "https://stackoverflow.com/users/9093537/jryze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1531317686, "creation_date": 1531292007, "last_edit_date": 1531295727, "question_id": 51279008, "link": "https://stackoverflow.com/questions/51279008/how-to-solve-time-raise-problems-in-angular", "title": "How to solve time raise problems in Angular?", "body": "<p>I am writing an Angular Service to prove a Users permissions. In the constructor I want to get the current logged in user from an API. The current User which is created is used in other methods of this Service. This Methods are called from components to check which things can be shown and so on. \nThe problem is that the methods in the service are called faster than the current user is available.\nAre there any possibilities solving this issue?</p>\n\n<p><strong>permission.service.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Injectable()\r\nexport class PermissionService {\r\n  currUser = {\r\n    'id': \"\",\r\n    'permission': \"\"\r\n  };\r\n  apiService: AlfrescoApiService;\r\n  authService: AuthenticationService;\r\n\r\n  constructor(apiService: AlfrescoApiService, authService: AuthenticationService) {\r\n    this.apiService = apiService;\r\n    this.authService = authService;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    let userId: string = this.authService.getEcmUsername();    \r\n    this.currUser.id = userId;\r\n\r\n//API call\r\n    this.apiService.sitesApi.getSiteMember(SITENAME, userId).then(resp =&gt; {\r\n      this.currUser.permission = resp.entry.role;\r\n    })\r\n  }\r\n\r\n  isSiteManager(): boolean {\r\n    console.log(this.currUser.permission, this.currUser);\r\n    if(this.currUser.permission === \"SiteManager\"){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>method call</strong></p>\n\n<pre><code>export class AppLayoutComponent {\n\n  constructor(permissionService:PermissionService) {\n    permissionService.isSiteManager();\n  }\n\n}\n</code></pre>\n\n<p><strong>output in Google Chrome</strong></p>\n\n<blockquote>\n  <p>{id: \"admin\", permission: \"\"}<br>\n  id: \"admin\"permission: \"SiteManager\"  </p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 148, "user_id": 7818695, "user_type": "registered", "profile_image": "https://graph.facebook.com/1477602165614342/picture?type=large", "display_name": "Roopesh Kumar Ramesh", "link": "https://stackoverflow.com/users/7818695/roopesh-kumar-ramesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1531310032, "creation_date": 1531310032, "answer_id": 51284842, "question_id": 51278875, "link": "https://stackoverflow.com/questions/51278875/want-to-transform-position-all-nodes-after-a-specific-node-in-a-d3-tree-structur/51284842#51284842", "title": "Want to transform position all nodes after a specific node in a d3 tree structure hierarchy", "body": "<p>I have found a solution. By setting the depth of the node and use the d3.descendants() property to set the depths of all of its children accordingly, we can achieve this.</p>\n\n<p>And there is also a d3.ancestors() property to get all the ancestors of a node.</p>\n"}], "owner": {"reputation": 148, "user_id": 7818695, "user_type": "registered", "profile_image": "https://graph.facebook.com/1477602165614342/picture?type=large", "display_name": "Roopesh Kumar Ramesh", "link": "https://stackoverflow.com/users/7818695/roopesh-kumar-ramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 51284842, "answer_count": 1, "score": 0, "last_activity_date": 1531310032, "creation_date": 1531291549, "last_edit_date": 1531292877, "question_id": 51278875, "link": "https://stackoverflow.com/questions/51278875/want-to-transform-position-all-nodes-after-a-specific-node-in-a-d3-tree-structur", "title": "Want to transform position all nodes after a specific node in a d3 tree structure hierarchy", "body": "<p>I have a d3 tree. Each node has an EntityType. If the EntityType of a specific node is equal to 'Battery', i'm setting the position of that a little further away from its parent than it usually is. The problem is that the node with EntityType 'Battery' also has children but their positions are not modified based on the position of this node.</p>\n\n<p>Here is the code i modified.</p>\n\n<pre><code>.attr(\"transform\", (d) =&gt; {\n  if(d.data.EntityType === 'Battery') {\n     return \"translate(\" + (d.y +100 ) + \",\" + (d.x) + \")\";\n  }\n</code></pre>\n\n<p>I used this line to modify the position of this node. But how do i modify the position of its children?</p>\n\n<p>EDIT: </p>\n\n<p>I have found that if i can check all the parents in the hierarchy of the node, i can set its position accordingly if there exists a node with EntityType Battery in its parent hierarchy.</p>\n\n<p>But now i have to check complete parent hierarchy of a selected node. Is this possible?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 3564, "user_id": 3997424, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/drsqF.jpg?s=128&g=1", "display_name": "daan.desmedt", "link": "https://stackoverflow.com/users/3997424/daan-desmedt"}, "edited": false, "score": 0, "creation_date": 1531294688, "post_id": 51278793, "comment_id": 89536825, "body": "In what IE version does it not work?"}, {"owner": {"reputation": 2021, "user_id": 4324301, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80326e41bf2ccb8bd6dd578d0195c7be?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal", "link": "https://stackoverflow.com/users/4324301/vimal"}, "reply_to_user": {"reputation": 3564, "user_id": 3997424, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/drsqF.jpg?s=128&g=1", "display_name": "daan.desmedt", "link": "https://stackoverflow.com/users/3997424/daan-desmedt"}, "edited": false, "score": 0, "creation_date": 1531297481, "post_id": 51278793, "comment_id": 89538520, "body": "@daan.desmedt IE11"}], "owner": {"reputation": 2021, "user_id": 4324301, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80326e41bf2ccb8bd6dd578d0195c7be?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal", "link": "https://stackoverflow.com/users/4324301/vimal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "closed_date": 1531354904, "answer_count": 0, "score": 1, "last_activity_date": 1531319528, "creation_date": 1531291238, "last_edit_date": 1531319528, "question_id": 51278793, "link": "https://stackoverflow.com/questions/51278793/how-to-open-a-blob-file-in-a-new-tab-ie-11", "closed_reason": "Duplicate", "title": "How to open a blob file in a new tab IE 11", "body": "<p>I am working on Angular5 project, facing one issue in IE browser. <br />I am trying to download a pdf file and open in a new tab. It is working fine in Chrome and Firefox, but not in IE. See the below code</p>\n\n<pre><code>doDownload(blob: Blob,fileName:string){\n if (window.navigator.msSaveOrOpenBlob) {\n  window.navigator.msSaveOrOpenBlob(blob, fileName);\n } else {\n   var a = window.document.createElement('a');\n   a.href = window.URL.createObjectURL(blob);\n   a.download = fileName;\n   document.body.appendChild(a);\n   a.click();\n   document.body.removeChild(a);\n   window.open(a.href);\n  }\n}\n</code></pre>\n\n<p>In IE download is working but not able to open in a new tab.</p>\n"}, {"tags": ["jquery", "typescript", "promise"], "comments": [{"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 1, "creation_date": 1531295523, "post_id": 51278685, "comment_id": 89537338, "body": "What is the <code>@types&#47;jquery</code> version you&#39;re using? I can&#39;t reproduce the error on fresh install."}, {"owner": {"reputation": 131, "user_id": 3555851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20aaa214c17155c9156dbfe1f019d93b?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/3555851/denis"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1531296360, "post_id": 51278685, "comment_id": 89537882, "body": "jquery.d.ts: Type definitions for jQuery 1.10.x / 2.0.x"}, {"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1531297502, "post_id": 51278685, "comment_id": 89538532, "body": "I&#39;m asking about the exact version of package, as stated in <code>package.json</code>."}, {"owner": {"reputation": 131, "user_id": 3555851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20aaa214c17155c9156dbfe1f019d93b?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/3555851/denis"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1531297598, "post_id": 51278685, "comment_id": 89538595, "body": "&lt;package id=&quot;jQuery&quot; version=&quot;2.2.0&quot; targetFramework=&quot;net452&quot; /&gt;"}, {"owner": {"reputation": 131, "user_id": 3555851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20aaa214c17155c9156dbfe1f019d93b?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/3555851/denis"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1531298918, "post_id": 51278685, "comment_id": 89539450, "body": "id=&quot;jquery.TypeScript.DefinitelyTyped&quot; version=&quot;2.8.8&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "is_accepted": true, "score": 4, "last_activity_date": 1531302574, "creation_date": 1531302574, "answer_id": 51282355, "question_id": 51278685, "link": "https://stackoverflow.com/questions/51278685/jquery-promise-and-typescript/51282355#51282355", "title": "jquery promise and typescript", "body": "<p>It seems that you just need to pass the proper type to the <code>Deferred</code> factory. This code compiles:</p>\n\n<pre><code>export function promise&lt;T&gt;(resolver: (resolve: (data: T) =&gt; void, reject: (error: any) =&gt; void) =&gt; void): JQueryPromise&lt;T&gt; {\n    const deferred = $.Deferred&lt;T&gt;(); // here we used generic type for Deferred\n    resolver(\n        data =&gt; {\n            deferred.resolve(data);\n        },\n        ex =&gt; {\n            deferred.reject(ex);\n        }\n    );\n    return deferred.promise();\n}\n</code></pre>\n\n<p>I can't be sure, although, whether this problem is interfering with .NET specifics.</p>\n"}, {"tags": [], "owner": {"reputation": 721, "user_id": 215067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec901211f209b1d6b50450ad10796d6d?s=128&d=identicon&r=PG&f=1", "display_name": "TomEberhard", "link": "https://stackoverflow.com/users/215067/tomeberhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1578953041, "creation_date": 1578953041, "answer_id": 59724827, "question_id": 51278685, "link": "https://stackoverflow.com/questions/51278685/jquery-promise-and-typescript/59724827#59724827", "title": "jquery promise and typescript", "body": "<p>For code that doesn't use generics, I had almost the same error message, but instead of </p>\n\n<p>Type 'JQueryPromise&lt;{}>' is not assignable to type 'JQueryPromise'</p>\n\n<p>it said </p>\n\n<p>Type 'JQueryPromise&lt;{}>' is not assignable to type 'IAccountSettings'. </p>\n\n<p>where IAccountSettings is obviously my type, or in this case, an interface. Building on Cerberus' excellent answer above, I changed the declaration of the deferred by just putting in the specific type:</p>\n\n<pre><code>public get(): JQueryPromise&lt;IAccountSettings&gt; {\nvar deferred = $.Deferred&lt;IAccountSettings&gt;();\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 3555851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20aaa214c17155c9156dbfe1f019d93b?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/3555851/denis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1608, "favorite_count": 0, "accepted_answer_id": 51282355, "answer_count": 2, "score": 3, "last_activity_date": 1578953041, "creation_date": 1531290820, "question_id": 51278685, "link": "https://stackoverflow.com/questions/51278685/jquery-promise-and-typescript", "title": "jquery promise and typescript", "body": "<p>Got the project from other developers, they have it correctly compiled, I have a bug in typescript on line \"return deferred.promise()\".</p>\n\n<p>Type 'JQueryPromise&lt;{}>' is not assignable to type 'JQueryPromise'.</p>\n\n<pre><code>export function promise&lt;T&gt;(resolver: (resolve: (data: T) =&gt; void, reject: (error: any) =&gt; void) =&gt; void): JQueryPromise&lt;T&gt; {\n    const deferred = $.Deferred();\n    resolver(\n        data =&gt; {\n            deferred.resolve(data);\n        },\n        ex =&gt; {\n            deferred.reject(ex);\n        }\n    );\n    return deferred.promise();\n}\n</code></pre>\n\n<p>there are a lot of such errors, so I think the problem is not in the code but in some configuration, what could be the matter?</p>\n"}, {"tags": ["json", "html", "typescript", "ionic3", "angular5"], "comments": [{"owner": {"reputation": 1345, "user_id": 2073800, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ytYPR.jpg?s=128&g=1", "display_name": "Jags", "link": "https://stackoverflow.com/users/2073800/jags"}, "edited": false, "score": 0, "creation_date": 1531291292, "post_id": 51278636, "comment_id": 89535029, "body": "The unexpected token error is usually for improperly formatted json. The only thing that stands out at me is your use of the Umulaut. Have you tested without an Umulaut?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 1, "creation_date": 1531292156, "post_id": 51278636, "comment_id": 89535503, "body": "Your de.json has a <code>,</code> at the end of the last item...<a href=\"https://jsoneditoronline.org/?id=ff35715a7b1240049e73cd1610fc2b55\" rel=\"nofollow noreferrer\">jsoneditoronline.org/?id=ff35715a7b1240049e73cd1610fc&zwnj;&#8203;2b55</a>"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 1345, "user_id": 2073800, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ytYPR.jpg?s=128&g=1", "display_name": "Jags", "link": "https://stackoverflow.com/users/2073800/jags"}, "edited": false, "score": 0, "creation_date": 1531292240, "post_id": 51278636, "comment_id": 89535552, "body": "@Jags that is not the issue. those characters can be read in utf-8"}, {"owner": {"reputation": 439, "user_id": 8236697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68cba1f63c2ddfbc6d5fb8a0c6dabb9?s=128&d=identicon&r=PG&f=1", "display_name": "Binita Doriwala", "link": "https://stackoverflow.com/users/8236697/binita-doriwala"}, "edited": false, "score": 0, "creation_date": 1531300539, "post_id": 51278636, "comment_id": 89540601, "body": "I removed <b>,</b> from de.json. still getting same error"}, {"owner": {"reputation": 439, "user_id": 8236697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68cba1f63c2ddfbc6d5fb8a0c6dabb9?s=128&d=identicon&r=PG&f=1", "display_name": "Binita Doriwala", "link": "https://stackoverflow.com/users/8236697/binita-doriwala"}, "edited": false, "score": 0, "creation_date": 1531300669, "post_id": 51278636, "comment_id": 89540692, "body": "can you please find out any solution to get strings in html with pipe | translate. your help would be appreciated. thanks in advance."}], "answers": [{"tags": [], "owner": {"reputation": 1594, "user_id": 4151784, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-nm8hPZUeG0I/AAAAAAAAAAI/AAAAAAAAC-8/kNrUZNn5HSQ/photo.jpg?sz=128", "display_name": "Tapas Mukherjee", "link": "https://stackoverflow.com/users/4151784/tapas-mukherjee"}, "is_accepted": true, "score": 1, "last_activity_date": 1532574318, "last_edit_date": 1532574318, "creation_date": 1532572416, "answer_id": 51530159, "question_id": 51278636, "link": "https://stackoverflow.com/questions/51278636/how-to-solve-error-syntaxerror-unexpected-token-in-json-at-position-0-using/51530159#51530159", "title": "How to solve &quot;ERROR SyntaxError: Unexpected token / in JSON at position 0&quot; using ngx-translate in ionic 3?", "body": "<p>Create a demo project by</p>\n\n<pre><code>ionic start DemoProject super\n</code></pre>\n\n<p>Check the app.module.ts file. They are using HttpClient instead of Http. Mine is working with this config.</p>\n\n<p>This is the config if your Angular version is 5.\nYou can get and install the proper <code>@ngx-translate/core</code>and <code>@ngx-translate/http-loader</code> version from here.\n<a href=\"https://github.com/ngx-translate/core\" rel=\"nofollow noreferrer\">https://github.com/ngx-translate/core</a></p>\n"}], "owner": {"reputation": 439, "user_id": 8236697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68cba1f63c2ddfbc6d5fb8a0c6dabb9?s=128&d=identicon&r=PG&f=1", "display_name": "Binita Doriwala", "link": "https://stackoverflow.com/users/8236697/binita-doriwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 1, "accepted_answer_id": 51530159, "answer_count": 1, "score": 2, "last_activity_date": 1532574318, "creation_date": 1531290606, "question_id": 51278636, "link": "https://stackoverflow.com/questions/51278636/how-to-solve-error-syntaxerror-unexpected-token-in-json-at-position-0-using", "title": "How to solve &quot;ERROR SyntaxError: Unexpected token / in JSON at position 0&quot; using ngx-translate in ionic 3?", "body": "<p>I am getting above error, while using ngx-translate to change language \n    in ionic 3.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LhfV9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LhfV9.png\" alt=\"enter image description here\"></a></p>\n\n<p>My Code is:\n   1. I have installed </p>\n\n<pre><code>**npm install @ngx-translate/core @ngx-translate/http-loader --save** \n</code></pre>\n\n<p>2. then I have imported below 3 in app.module.ts:</p>\n\n<p>To use ngx-translate, it must first be imported and added to the \n   imports array in the NgModule of the application. Here\u2019s an example \n   of how to do this:</p>\n\n<pre><code>import { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpModule, Http } from '@angular/http';\n</code></pre>\n\n<p>3.then export function:</p>\n\n<pre><code>  export function createTranslateLoader(http: Http) {\n   return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n  }\n</code></pre>\n\n<p>4.then import module in @ngModule</p>\n\n<pre><code> @NgModule({\n   declarations: [\n    MyApp,\n    MainPage,\n    SearchPipe,\n    // SortPipe\n   ],\n   imports: [\n    BrowserModule,\n    HttpModule,\n    TranslateModule.forRoot({\n     loader: {\n      provide: TranslateLoader,\n      useFactory: (createTranslateLoader),\n      deps: [Http]\n    }\n  }),\n ]\n})\n</code></pre>\n\n<p>5.then import TranslateService in app.component.ts file:</p>\n\n<pre><code>import { TranslateService, LangChangeEvent } from '@ngx-translate/core';\n</code></pre>\n\n<p>and have put </p>\n\n<pre><code>this.translate.onLangChange.subscribe((event: LangChangeEvent) =&gt; {\n  console.log(\"onLangChange\", event.translations)\n})\nthis.translate.onDefaultLangChange.subscribe((event: LangChangeEvent) \n =&gt; {\n  console.log(\"onDefaultLangChange\", event.translations)\n}) \n</code></pre>\n\n<p>in constructor</p>\n\n<pre><code>6. then in home.ts\n\n import { TranslateService, LangChangeEvent } from '@ngx- translate/core';\n</code></pre>\n\n<p>in constructor :</p>\n\n<pre><code>  translate.setDefaultLang('en');\n</code></pre>\n\n<p>outer constructor :</p>\n\n<pre><code>  public changeLanguage(language)\n  {\n    console.log(\"language\", language);\n    this.translate.use(language);\n  }\n</code></pre>\n\n<p>7.In home.html</p>\n\n<pre><code>   &lt;ion-title&gt;{{ 'title' | translate }}&lt;/ion-title&gt;\n   &lt;div *ngIf=\"forUserContent\"&gt;&lt;/div&gt;\n   &lt;div *ngIf=\"forSupplierContent\"&gt;\n   &lt;button ion-button full class=\"review-btn\"(click)=\"showreviewlist()\"&gt;{{ 'review' | translate }}&lt;/button&gt;\n   &lt;/div&gt;\n   &lt;div *ngIf=\"forBothContent\"&gt;\n   &lt;button ion-button full class=\"review-btn\" (click)=\"showreviewlist()\"&gt;{{ 'review' | translate }}&lt;/button&gt;\n   &lt;/div&gt;\n\n   &lt;button ion-button (click)=\"changeLanguage('de')\"&gt;{{ 'german' | translate }}&lt;/button&gt;\n   &lt;button ion-button (click)=\"changeLanguage('en')\"&gt;{{ 'english' | translate }}&lt;/button&gt;\n</code></pre>\n\n<p>8.In home.module.ts:</p>\n\n<pre><code> import { TranslateModule, TranslateLoader } from '@ngx-translate/core';\n import { TranslateHttpLoader } from '@ngx-translate/http-loader';\n import { HttpClientModule, HttpClient } from '@angular/common/http';\n\n export function createTranslateLoader(http: Http) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n }\n\n @NgModule({\n   declarations: [\n    HomeappPage,\n   ],\n   imports: [\n     IonicPageModule.forChild(HomeappPage),\n     HeaderComponentModule,\n     FooterComponentModule,\n     TranslateModule.forChild({\n      loader: {\n       provide: TranslateLoader,\n       useFactory: (createTranslateLoader),\n       deps: [Http]\n     }\n   })\n  ],\n  exports: [\n   HomeappPage,\n   TranslateModule\n  ]\n})\n</code></pre>\n\n<p>9.created two json file with specific language:\n       store data of language in .json file.</p>\n\n<p>1.en.json</p>\n\n<pre><code>   {\n     \"title\": \"HOME\",\n     \"german\": \"German\",\n     \"english\": \"English\",\n     \"review\": \"Review List\"\n   }\n</code></pre>\n\n<p>2.de.json</p>\n\n<pre><code>    {\n     \"title\": \"ZUHAUSE\",\n     \"german\": \"Deutsch\",\n     \"english\": \"Englisch\",\n     \"review\": \"\u00dcberpr\u00fcfungsliste\",\n    }\n</code></pre>\n\n<p>I want solution and get strings from specific json file, when i change \n    the language in application</p>\n"}, {"tags": ["angular", "typescript", "devextreme", "devextreme-angular"], "comments": [{"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1531291475, "post_id": 51278479, "comment_id": 89535125, "body": "Can you share your browser&#39;s xhr request screenshot for this post request?"}, {"owner": {"reputation": 63, "user_id": 9825661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb3ebb45d5c099d9986c8af26b890e88?s=128&d=identicon&r=PG&f=1", "display_name": "DLedge", "link": "https://stackoverflow.com/users/9825661/dledge"}, "reply_to_user": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1531315251, "post_id": 51278479, "comment_id": 89550622, "body": "xhr screenshoot added"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 9825661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb3ebb45d5c099d9986c8af26b890e88?s=128&d=identicon&r=PG&f=1", "display_name": "DLedge", "link": "https://stackoverflow.com/users/9825661/dledge"}, "edited": false, "score": 0, "creation_date": 1531314384, "post_id": 51278825, "comment_id": 89549953, "body": "using window.btoa didn&#39;t seem to help, any other ideas ?"}], "tags": [], "owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "is_accepted": false, "score": 0, "last_activity_date": 1531291374, "creation_date": 1531291374, "answer_id": 51278825, "question_id": 51278479, "link": "https://stackoverflow.com/questions/51278479/how-to-apply-bearer-token-to-an-odata-source-for-a-devextreme-dxdata-grid/51278825#51278825", "title": "How to apply bearer token to an odata source for a Devextreme dxdata grid", "body": "<p>Try <strong>encoding</strong> with <strong>btoa</strong></p>\n\n<pre><code>let authString = \"Bearer \" + window.btoa(getToken()+ ':');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 9825661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb3ebb45d5c099d9986c8af26b890e88?s=128&d=identicon&r=PG&f=1", "display_name": "DLedge", "link": "https://stackoverflow.com/users/9825661/dledge"}, "is_accepted": false, "score": 0, "last_activity_date": 1531379746, "creation_date": 1531379746, "answer_id": 51299424, "question_id": 51278479, "link": "https://stackoverflow.com/questions/51278479/how-to-apply-bearer-token-to-an-odata-source-for-a-devextreme-dxdata-grid/51299424#51299424", "title": "How to apply bearer token to an odata source for a Devextreme dxdata grid", "body": "<p>I was able to get it working by defining the datasource as follows:</p>\n\n<p>this.gridDataSource = new DataSource({\n            store: new ODataStore({\n                url: \"<a href=\"http://localhost:21021/odata/Roles\" rel=\"nofollow noreferrer\">http://localhost:21021/odata/Roles</a>\",\n                key: \"Id\",\n                keyType: \"Int32\",\n                version: 4,\n                beforeSend: (e) => {<br>\n                    e.headers = {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": 'Bearer ' + abp.auth.getToken(),\n                    };\n                }\n            })\n         })</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9608834, "user_type": "registered", "profile_image": "https://graph.facebook.com/1830063040351208/picture?type=large", "display_name": "Marcos Kuester", "link": "https://stackoverflow.com/users/9608834/marcos-kuester"}, "is_accepted": false, "score": 1, "last_activity_date": 1616372483, "creation_date": 1616372483, "answer_id": 66738930, "question_id": 51278479, "link": "https://stackoverflow.com/questions/51278479/how-to-apply-bearer-token-to-an-odata-source-for-a-devextreme-dxdata-grid/66738930#66738930", "title": "How to apply bearer token to an odata source for a Devextreme dxdata grid", "body": "<p>The beforeSend function has to be inside the store object.</p>\n<pre><code>    this.dataSource = {\n      store: {\n        type: 'odata',\n        key: 'Id',\n        url: 'https://localhost:44350/odata/Books',\n        version: 4,\n        withCredentials: true,\n        beforeSend: (e) =&gt; {\n          e.headers = {\n            &quot;Authorization&quot;: `Bearer ${jwtToken}`\n          };\n        }\n      }\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9825661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb3ebb45d5c099d9986c8af26b890e88?s=128&d=identicon&r=PG&f=1", "display_name": "DLedge", "link": "https://stackoverflow.com/users/9825661/dledge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1616372483, "creation_date": 1531290028, "last_edit_date": 1531315108, "question_id": 51278479, "link": "https://stackoverflow.com/questions/51278479/how-to-apply-bearer-token-to-an-odata-source-for-a-devextreme-dxdata-grid", "title": "How to apply bearer token to an odata source for a Devextreme dxdata grid", "body": "<p>using angular and am trying to pass in a bearer token using an odata source with a devextreme dxdatagrid and I can't get it to authenticate and pull data, keeps returning \"Current user did not login to the application!\", indicating it's not authenticating.</p>\n\n<p>I can successfully emulate the call using postman. DataSource definition below:</p>\n\n<pre><code>constructor(\n    injector: Injector,\n    private _route: ActivatedRoute,\n    private _router: Router\n) {\n    super(injector);\n    let authString = \"Bearer \" + getToken();\n\n    this.gridDataSource = {\n        store: {\n            type: 'odata',\n            key: 'Id',\n            keyType: \"Int32\",\n            version: 4,\n            url: 'http://localhost:21021/odata/Roles'\n        },\n        select: [\n            'Id',\n            'Name',\n            'DisplayName'\n        ],\n        beforeSend: (e) =&gt; {  \n            e.headers = {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": authString\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/neGui.jpg\" rel=\"nofollow noreferrer\">Postman request image</a> </p>\n\n<p>I'm assuming I have the beforesend header definition incorrectly formatted, any help much appreciated</p>\n\n<p><a href=\"https://i.stack.imgur.com/68L8f.jpg\" rel=\"nofollow noreferrer\">xhr screenshot</a></p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 2392, "user_id": 5836969, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/5fb9e2b1bd7dc295b7ab04bdbe1f9166?s=128&d=identicon&r=PG", "display_name": "Sai", "link": "https://stackoverflow.com/users/5836969/sai"}, "edited": false, "score": 0, "creation_date": 1531288359, "post_id": 51278008, "comment_id": 89533711, "body": "You can use <code>alert(JSON.stringify(form.value))</code> to show data in alert"}, {"owner": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "reply_to_user": {"reputation": 2392, "user_id": 5836969, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/5fb9e2b1bd7dc295b7ab04bdbe1f9166?s=128&d=identicon&r=PG", "display_name": "Sai", "link": "https://stackoverflow.com/users/5836969/sai"}, "edited": false, "score": 0, "creation_date": 1531288580, "post_id": 51278008, "comment_id": 89533801, "body": "I don&#39;t want the data from form.value, getting that perfectly fine, what I want is to fetch data from this.data"}], "answers": [{"tags": [], "owner": {"reputation": 4372, "user_id": 5658060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hiodd.jpg?s=128&g=1", "display_name": "Wesley Coetzee", "link": "https://stackoverflow.com/users/5658060/wesley-coetzee"}, "is_accepted": false, "score": 1, "last_activity_date": 1531294876, "last_edit_date": 1531294876, "creation_date": 1531288348, "answer_id": 51278094, "question_id": 51278008, "link": "https://stackoverflow.com/questions/51278008/how-to-fetch-data-values-from-the-promise-object-in-angular-6/51278094#51278094", "title": "How to Fetch Data/Values from the Promise Object in Angular 6?", "body": "<p>Your issue is in your service.</p>\n\n<pre><code>return this.http.post(\"http://localhost/Angular6http/UserDetails/src/app/data.php\",details)      \n  .toPromise()\n  .then(this.extractData)\n  .catch(this.handleError);\n</code></pre>\n\n<p>You are calling <code>extractData</code> and <code>handleError</code> functions without the <code>()</code>, which has nothing to do with the solution to your issue, it's just a point I'm raising. You also do not need to call those functions at all, since you want to return the promise.</p>\n\n<p>The following code should work:</p>\n\n<pre><code>return this.http.post(\"http://localhost/Angular6http/UserDetails/src/app/data.php\",details)\n  .map(res =&gt; res.json())\n  .toPromise();\n</code></pre>\n\n<p>You are already handling the <code>.then()</code> inside your component.</p>\n"}, {"comments": [{"owner": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531289234, "post_id": 51278182, "comment_id": 89534079, "body": "Then I tried using alert(this.data[&quot;_body&quot;]) which gave me the entire array finally"}, {"owner": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531289346, "post_id": 51278182, "comment_id": 89534122, "body": "I got something like : [{&quot;Id&quot;:&quot;1&quot;,&quot;Name&quot;:&quot;Yamini Babani&quot;,&quot;Email&quot;:&quot;yamini@gmail.com&quot;,&quot;Address&quot;:&quot;gandhidham&quot;,&quot;R&zwnj;&#8203;ole&quot;:&quot;User&quot;,&quot;Gender&quot;&zwnj;&#8203;:&quot;female&quot;},{&quot;Id&quot;:&quot;2&quot;&zwnj;&#8203;,&quot;Name&quot;:&quot;Jitendra Ahuja&quot;,&quot;Email&quot;:&quot;jitendraahuja273@gmail.com&quot;,&quot;Address&quot;:&quot;Ahmed&zwnj;&#8203;abad&quot;,&quot;Role&quot;:&quot;Super-&zwnj;&#8203;Admin&quot;,&quot;Gender&quot;:&quot;mal&zwnj;&#8203;e&quot;},{&quot;Id&quot;:&quot;3&quot;,&quot;Name&quot;&zwnj;&#8203;:&quot;Yash Patel&quot;,&quot;Email&quot;:&quot;yash@yahoo.com&quot;,&quot;Address&quot;:&quot;Ahmedabad&quot;,&quot;Role&quot;&zwnj;&#8203;:&quot;Admin&quot;,&quot;Gender&quot;:&quot;m&zwnj;&#8203;ale&quot;}], now what if I want to fetch all the data individually from {...data...}, one by one in template"}, {"owner": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531289541, "post_id": 51278182, "comment_id": 89534202, "body": "Also We cannot return without adding .toPromise() from a service as it shows error when it reaches .then() in component.... bcoz for .then() , data must be in Promise form , which is done by .toPromise() method"}, {"owner": {"reputation": 1012, "user_id": 1930348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cbf8bd0f6f9d4fa7c64624e05fa95b4c?s=128&d=identicon&r=PG", "display_name": "M Fuat", "link": "https://stackoverflow.com/users/1930348/m-fuat"}, "reply_to_user": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531289602, "post_id": 51278182, "comment_id": 89534237, "body": "Try .subscribe() instead of .then()"}, {"owner": {"reputation": 1012, "user_id": 1930348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cbf8bd0f6f9d4fa7c64624e05fa95b4c?s=128&d=identicon&r=PG", "display_name": "M Fuat", "link": "https://stackoverflow.com/users/1930348/m-fuat"}, "reply_to_user": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531289658, "post_id": 51278182, "comment_id": 89534265, "body": "remove the return  Promise&lt;any&gt; from registerUser function"}, {"owner": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531289661, "post_id": 51278182, "comment_id": 89534269, "body": "but isn&#39;t that the observable&#39;s method to get data, i purely need to use promises as of now"}, {"owner": {"reputation": 1012, "user_id": 1930348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cbf8bd0f6f9d4fa7c64624e05fa95b4c?s=128&d=identicon&r=PG", "display_name": "M Fuat", "link": "https://stackoverflow.com/users/1930348/m-fuat"}, "reply_to_user": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531289796, "post_id": 51278182, "comment_id": 89534322, "body": "OK. Do what I have said and tell me the result. The returned value form the registerUser function is Observable (Like Promise)."}, {"owner": {"reputation": 1012, "user_id": 1930348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cbf8bd0f6f9d4fa7c64624e05fa95b4c?s=128&d=identicon&r=PG", "display_name": "M Fuat", "link": "https://stackoverflow.com/users/1930348/m-fuat"}, "reply_to_user": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1531298956, "post_id": 51278182, "comment_id": 89539473, "body": "Why are you not responding ? If you solved your problem accept the answer or tell me that it was not the correct answer."}], "tags": [], "owner": {"reputation": 1012, "user_id": 1930348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cbf8bd0f6f9d4fa7c64624e05fa95b4c?s=128&d=identicon&r=PG", "display_name": "M Fuat", "link": "https://stackoverflow.com/users/1930348/m-fuat"}, "is_accepted": false, "score": 0, "last_activity_date": 1531288728, "creation_date": 1531288728, "answer_id": 51278182, "question_id": 51278008, "link": "https://stackoverflow.com/questions/51278008/how-to-fetch-data-values-from-the-promise-object-in-angular-6/51278182#51278182", "title": "How to Fetch Data/Values from the Promise Object in Angular 6?", "body": "<p>Try this :</p>\n\n<pre><code>    registerUser(form: NgForm)\n{\n    //console.log(form.value);      \n    let details = JSON.stringify(form.value);                       \n    this.listingService.registerUser(details)\n    .then((result) =&gt; {console.log(result); this.userdata = result; this.data = result; alert(this.data);})\n    .catch(error =&gt; console.log(error));\n\n\n}\n</code></pre>\n\n<p>Use the following line in your service:</p>\n\n<pre><code>return this.http.post(\"http://localhost/Angular6http/UserDetails/src/app/data.php\",details)\n</code></pre>\n"}], "owner": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5529, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1531294876, "creation_date": 1531287974, "question_id": 51278008, "link": "https://stackoverflow.com/questions/51278008/how-to-fetch-data-values-from-the-promise-object-in-angular-6", "title": "How to Fetch Data/Values from the Promise Object in Angular 6?", "body": "<p>What I have is a simple registration page, which registers users and adds the form data into the db. What i want is to show the list of user details, for which i have a register component and a listing service. Here is my register.component.ts : </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { UserData } from '../userdata';\nimport { ListingService } from '../listing.service';\nimport { Http, Response, Headers, RequestOptions, URLSearchParams } from '@angular/http';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n\n    role : any[];\n\n    data : Promise&lt;any&gt;\n\n    userdata : any[];\n\n    constructor(private listingService : ListingService, private http : Http) { this.role = [\"Admin\",\"Super-Admin\",\"User\"] }\n\n    selectedRole: Object = {};  \n\n    ngOnInit() {\n    }\n\n    registerUser(form: NgForm)\n    {\n        //console.log(form.value);      \n        let details = JSON.stringify(form.value);                       \n        this.data = this.listingService.registerUser(details)\n        .then((result) =&gt; {console.log(result); this.userdata = result;})\n        .catch(error =&gt; console.log(error));\n\n        alert(this.data);\n    }\n\n\n}\n</code></pre>\n\n<p>Alerting \"alert(this.data)\" gives me [object Promise], so my question is how to fetch the data from this.data which is a promise object ?</p>\n\n<p>My service is, listing.service.ts : </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response, Headers, RequestOptions, URLSearchParams } from '@angular/http';\n//import { toPromise } from 'rxjs/operators';\nimport { UserData } from './userdata';\n\n@Injectable()\n\nexport class ListingService\n{\n    headers: Headers;\n    options: RequestOptions;\n\n    constructor(private http:Http)\n    {\n\n    }\n\n    registerUser(details : any) : Promise&lt;any&gt;\n    {               \n        //alert(details);\n        //this.headers = new Headers({ 'Content-Type': 'application/json;charset=utf-8', \n          //                           'Accept': 'q=0.8;application/json;q=0.9' });\n        //this.options = new RequestOptions({ headers: this.headers });\n        return this.http.post(\"http://localhost/Angular6http/UserDetails/src/app/data.php\",details).toPromise().then(this.extractData).catch(this.handleError);\n    }\n\n    private extractData(res: Response) {\n\n        //alert(res);       \n        let body = res.json();\n        //alert(body);\n        return body || {};      \n    }\n\n    private handleError(error: any): Promise&lt;any&gt; {\n        console.error('An error occurred', error);\n        return Promise.reject(error.message || error);\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-template", "angular2-forms", "angular2-directives"], "comments": [{"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1531286537, "post_id": 51277709, "comment_id": 89533008, "body": "Can you share your code in stackblitz?"}, {"owner": {"reputation": 3258, "user_id": 5413314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHCTw.jpg?s=128&g=1", "display_name": "Shantanu", "link": "https://stackoverflow.com/users/5413314/shantanu"}, "edited": false, "score": 0, "creation_date": 1531286996, "post_id": 51277709, "comment_id": 89533174, "body": "@Akhil Is it working if you click on the search button?"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "reply_to_user": {"reputation": 3258, "user_id": 5413314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHCTw.jpg?s=128&g=1", "display_name": "Shantanu", "link": "https://stackoverflow.com/users/5413314/shantanu"}, "edited": false, "score": 0, "creation_date": 1531287125, "post_id": 51277709, "comment_id": 89533232, "body": "@Shantanu its working but  search box is not see any suggestions like the above picture"}, {"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 1, "creation_date": 1531287255, "post_id": 51277709, "comment_id": 89533272, "body": "I asked just to use the same libraries you are using for ui . Anyway, I have given an example where  for ui, I have used angular material. Check :)"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "reply_to_user": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1532059760, "post_id": 51277709, "comment_id": 89840000, "body": "@Debojyoti when i use angular material i got error ?"}, {"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1532075877, "post_id": 51277709, "comment_id": 89846786, "body": "@brock What is the error?"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "reply_to_user": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1532077145, "post_id": 51277709, "comment_id": 89847572, "body": "@Debojyoti       Error\t\tBuild:Type &#39;ElementRef&#39; is not generic.etc....\tE:\\Akhil\\local\\...node_modules\\@angular\\mate&zwnj;&#8203;rial\\autocomplete\\ty&zwnj;&#8203;pings\\autocomplete-o&zwnj;&#8203;rigin.d.ts\t15"}, {"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1532077696, "post_id": 51277709, "comment_id": 89847906, "body": "Try the steps I have mentioned to install angular material. Your angular version is not latest. If you follow all the steps I have mentioned, all your packages will get updated to latest versions @brock"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "reply_to_user": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1532078794, "post_id": 51277709, "comment_id": 89848594, "body": "@Debojyoti  when i try to update my project i got like this E:\\demo\\Project&gt;ncu -u No package.json  Please add a package.json to the current directory, specify the --packageFile or --packageData options, or pipe a package.json to stdin."}, {"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1532078868, "post_id": 51277709, "comment_id": 89848636, "body": "From where are you executing the command? Run it from the root directory of your project @brock"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "reply_to_user": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1532078932, "post_id": 51277709, "comment_id": 89848691, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/176403/discussion-between-brock-and-debojyoti\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 1, "creation_date": 1531287381, "post_id": 51277855, "comment_id": 89533318, "body": "I have attached the links of angular material documentation in the answer, also try the live demo in my new edit :)"}, {"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531290162, "post_id": 51277855, "comment_id": 89534508, "body": "I explained the way to install angular material and animation without any version error @Akhil"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1531295937, "post_id": 51277855, "comment_id": 89537614, "body": "better than make a loop, Use this.options=all.filter(p=&gt;p.search(new RegExp(searchedWord, &quot;i&quot;))&gt;=0) to filter the result"}, {"owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "edited": false, "score": 0, "creation_date": 1531300430, "post_id": 51277855, "comment_id": 89540505, "body": "I didn&#39;t get you. Please explain briefly"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531307010, "post_id": 51277855, "comment_id": 89544914, "body": "how to change my ts file like your answer \\"}], "tags": [], "owner": {"reputation": 3217, "user_id": 7176960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnKAj.png?s=128&g=1", "display_name": "Debojyoti", "link": "https://stackoverflow.com/users/7176960/debojyoti"}, "is_accepted": false, "score": 1, "last_activity_date": 1532075783, "last_edit_date": 1532075783, "creation_date": 1531287119, "answer_id": 51277855, "question_id": 51277709, "link": "https://stackoverflow.com/questions/51277709/angular2-4-search-suggestion/51277855#51277855", "title": "Angular2/4 search suggestion", "body": "<p>For the dropdown implementation, you can use <strong><a href=\"https://material.angular.io/guide/getting-started\" rel=\"nofollow noreferrer\">angular material</strong></a>\n<br>\nUse the the <a href=\"https://material.angular.io/components/autocomplete/overview\" rel=\"nofollow noreferrer\"><strong>autocomplete</strong></a> component for ui</p>\n\n<p><br>\nDemo template </p>\n\n<blockquote>\n  <p><strong>HTML</strong></p>\n</blockquote>\n\n<pre><code>&lt;form class=\"example-form\"&gt;\n  &lt;mat-form-field class=\"example-full-width\"&gt;\n    &lt;input type=\"text\" placeholder=\"search\" aria-label=\"Number\" matInput [formControl]=\"myControl\" [matAutocomplete]=\"auto\" (keyup)=\"updated()\" [(ngModel)]=\"data\"&gt;\n    &lt;mat-autocomplete #auto=\"matAutocomplete\"&gt;\n      &lt;mat-option *ngFor=\"let option of options\" [value]=\"option\"&gt;\n        {{option}}\n      &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt;\n  &lt;/mat-form-field&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><br>\nNow to search with in an array of string (In this example <code>all[]</code>),\nyou can use this <strong>logic</strong></p>\n\n<p>Here I am using regex to match any substring of  those strings in the array</p>\n\n<blockquote>\n  <p><strong>Typescript</strong></p>\n</blockquote>\n\n<pre><code>export class AppComponent  {\n  myControl = new FormControl();\n  options: string[] = [];\n  data : any;\n  constructor() {\n  }\n\n  public updated() {\n    this.options = [];\n    if (this.myControl.value.length &gt; 0) {\n      let all = ['John', 'Jenny', 'Jonson']\n      let searchedWord = this.myControl.value\n      for(let key in all) {\n        let r = all[key].search(new RegExp(searchedWord, \"i\"));\n        if (r != -1) {\n          this.options.push(all[key])\n        }\n      }\n    } else {\n      this.options = []\n    }\n  }\n}\n</code></pre>\n\n<p>Working example : <a href=\"https://stackblitz.com/edit/ng-material-search\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<p><br><br><br><br><br><br></p>\n\n<blockquote>\n  <p>Install angular material and animations</p>\n</blockquote>\n\n<h3>Step - 1 : <strong>Delete</strong> all node modules</h3>\n\n<p>Delete all the files from node modules folder</p>\n\n<h3>Step - 2 : <strong>Update</strong> all the packages to latest version</h3>\n\n<p><code>npm i -g npm-check-updates</code></p>\n\n<p><code>ncu -u</code></p>\n\n<p><code>npm install</code></p>\n\n<h3>Step - 3 : <strong>Install</strong> angular <strong>material</strong> and <strong>animation</strong></h3>\n\n<p><code>npm install --save @angular/material @angular/cdk</code></p>\n\n<p><code>npm install --save @angular/animations</code></p>\n\n<h3>Step - 4 : Import any theme as it is required to use the libarary</h3>\n\n<p><code>@import \"~@angular/material/prebuilt-themes/indigo-pink.css\";</code></p>\n\n<h3>Step - 4 : Modify app.modules.ts file</h3>\n\n<p><strong>Imports</strong></p>\n\n<pre><code>import { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatInputModule} from '@angular/material/input';\n</code></pre>\n\n<p>NgModule Meta data</p>\n\n<pre><code>@NgModule({\n  imports: [ BrowserModule, FormsModule,MatFormFieldModule,MatAutocompleteModule,MatInputModule,ReactiveFormsModule,BrowserAnimationsModule ]\n  ...\n})\nexport class AppModule { \n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531288469, "post_id": 51277974, "comment_id": 89533755, "body": "when i got install the angular material i got error"}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531288795, "post_id": 51277974, "comment_id": 89533900, "body": "please describe you error. and update you angular version as well."}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531289234, "post_id": 51277974, "comment_id": 89534080, "body": "st install peer dependencies yourself. npm WARN angular-text-input-autocomplete@0.2.1 requires a peer of @angular/core@&gt;=6.0.0 &lt;7.0.0 but none is installed. You must install peer dependencies yourself. npm WARN Akhil No description npm WARN Akhil No repository field. npm WARN Akhil No README data npm WARN Akhil No license field.  + @angular/material@6.3.3 + @angular/cdk@6.3.3 updated 2 packages in 2.691s"}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531289321, "post_id": 51277974, "comment_id": 89534113, "body": "install latest version of angular 6.0.7."}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531289387, "post_id": 51277974, "comment_id": 89534137, "body": "i also install the latest version"}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531289462, "post_id": 51277974, "comment_id": 89534166, "body": "npm install -g @angular/cli  and npm install  --save @angular/cli. check angular version in package.json"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "reply_to_user": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "edited": false, "score": 0, "creation_date": 1531289550, "post_id": 51277974, "comment_id": 89534210, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174768/discussion-between-akhil-and-unluckyaj\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "is_accepted": false, "score": 1, "last_activity_date": 1531287795, "creation_date": 1531287795, "answer_id": 51277974, "question_id": 51277709, "link": "https://stackoverflow.com/questions/51277709/angular2-4-search-suggestion/51277974#51277974", "title": "Angular2/4 search suggestion", "body": "<p><a href=\"https://stackblitz.com/edit/material-autocomplete-configuration\" rel=\"nofollow noreferrer\">Material autocomplete example</a></p>\n\n<p>intsall angular material:</p>\n\n<pre><code>npm install --save @angular/material @angular/cdk\n</code></pre>\n\n<p>for Animation:</p>\n\n<pre><code>npm install --save @angular/animations\n</code></pre>\n\n<p>Include Theme in style.css:</p>\n\n<pre><code>@import \"~@angular/material/prebuilt-themes/indigo-pink.css\";\n</code></pre>\n\n<p>app.module.ts:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'; // angular animation module\n\n\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatInputModule} from '@angular/material/input';\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule,MatFormFieldModule,MatAutocompleteModule,MatInputModule,ReactiveFormsModule,BrowserAnimationsModule ],\n  declarations: [ AppComponent, HelloComponent ],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>app.component.html:</p>\n\n<pre><code>&lt;form class=\"example-form\"&gt;\n  &lt;mat-form-field &gt;\n    &lt;input type=\"text\" placeholder=\"Filter Name\" aria-label=\"Assignee\" matInput [formControl]=\"myControl\" [matAutocomplete]=\"auto\"&gt;\n    &lt;mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\"&gt;\n      &lt;mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\"&gt;\n        {{option.name}}\n      &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt;\n  &lt;/mat-form-field&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>app.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\nexport interface User {\n  name: string;\n}\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  name = 'Angular 6';\n  myControl = new FormControl();\n  options: User[] = [\n    { name: 'Mary' },\n    { name: 'Masy' },\n    { name: 'Maty' },\n    { name: 'Mvry' },\n    { name: 'Mbry' },\n    { name: 'Shelley' },\n    { name: 'Igor' }\n  ];\n  filteredOptions: Observable&lt;User[]&gt;;\n\n  ngOnInit() {\n    this.filteredOptions = this.myControl.valueChanges\n      .pipe(\n      startWith&lt;string | User&gt;(''),\n      map(value =&gt; typeof value === 'string' ? value : value.name),\n      map(name =&gt; name ? this._filter(name) : this.options.slice())\n      );\n  }\n\n  displayFn(user?: User): string | undefined {\n    return user ? user.name : undefined;\n  }\n\n  private _filter(name: string): User[] {\n    const filterValue = name.toLowerCase();\n\n    return this.options.filter(option =&gt; option.name.toLowerCase().indexOf(filterValue) === 0);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531288226, "post_id": 51278011, "comment_id": 89533656, "body": "its not getting"}, {"owner": {"reputation": 241, "user_id": 10057411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnHJt.jpg?s=128&g=1", "display_name": "Ali Rida", "link": "https://stackoverflow.com/users/10057411/ali-rida"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531288806, "post_id": 51278011, "comment_id": 89533903, "body": "Try adding an alert(&quot;here&quot;); at the beginning of the FetchItemDetailsSearch function to check if the function is reachable at keystroke."}, {"owner": {"reputation": 241, "user_id": 10057411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnHJt.jpg?s=128&g=1", "display_name": "Ali Rida", "link": "https://stackoverflow.com/users/10057411/ali-rida"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531289510, "post_id": 51278011, "comment_id": 89534186, "body": "If the alert shows when typing then the function is called but there&#39;s an error preventing it to work properly only when called from the input."}], "tags": [], "owner": {"reputation": 241, "user_id": 10057411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnHJt.jpg?s=128&g=1", "display_name": "Ali Rida", "link": "https://stackoverflow.com/users/10057411/ali-rida"}, "is_accepted": false, "score": 0, "last_activity_date": 1531289695, "last_edit_date": 1531289695, "creation_date": 1531287991, "answer_id": 51278011, "question_id": 51277709, "link": "https://stackoverflow.com/questions/51277709/angular2-4-search-suggestion/51278011#51278011", "title": "Angular2/4 search suggestion", "body": "<p>Try using (input) instead of (keyup) in the input like this:</p>\n\n<pre><code>&lt;input name=\"search\" class=\"form-control\" type=\"text\" placeholder=\"Search\"\n          (input)=\"FetchItemDetailsSearch(searchcontent)\"\n          [(ngModel)]=\"searchcontent\"&gt;\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Try replacing <strong>this.searchcontent</strong> with <strong>itemcodeordesc</strong> in the <strong>FetchItemDetailsSearch</strong> function like below:</p>\n\n<pre><code>this._enqService.FetchItemDetailsSearch(itemcodeordesc,this.pageIndex)\n.subscribe(itemsData =&gt; this.itemdetails = itemsData,\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 6621725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEmDM.png?s=128&g=1", "display_name": "zmr", "link": "https://stackoverflow.com/users/6621725/zmr"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531823467, "post_id": 51279542, "comment_id": 89729742, "body": "you should implement PipeTransform for your purpose."}, {"owner": {"reputation": 29, "user_id": 6621725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEmDM.png?s=128&g=1", "display_name": "zmr", "link": "https://stackoverflow.com/users/6621725/zmr"}, "reply_to_user": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1531833280, "post_id": 51279542, "comment_id": 89736441, "body": "refer  <a href=\"https://angular.io/guide/pipes\" rel=\"nofollow noreferrer\">angular.io/guide/pipes</a> or <a href=\"https://codeburst.io/create-a-search-pipe-to-dynamically-filter-results-with-angular-4-21fd3a5bec5c\" rel=\"nofollow noreferrer\">codeburst.io/&hellip;</a>"}], "tags": [], "owner": {"reputation": 29, "user_id": 6621725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEmDM.png?s=128&g=1", "display_name": "zmr", "link": "https://stackoverflow.com/users/6621725/zmr"}, "is_accepted": false, "score": 0, "last_activity_date": 1531293886, "creation_date": 1531293886, "answer_id": 51279542, "question_id": 51277709, "link": "https://stackoverflow.com/questions/51277709/angular2-4-search-suggestion/51279542#51279542", "title": "Angular2/4 search suggestion", "body": "<p>Use <strong>Pipe</strong> which will use   [(ngModel)]=\"searchcontent\" over the mainList declared and defined in your component.ts file </p>\n\n<p>mainList: any[] = [];</p>\n\n<p>inside constructor ->  define which properties you want for search results</p>\n\n<p>this.mainList= ['property1', 'property2',..,'propertyN'];</p>\n\n<p>Use for loop to display the results in your page-</p>\n\n<p>*ngFor=\"let x of xs| pipe: searchcontent: mainList\"</p>\n"}], "owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4244, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1599618924, "creation_date": 1531286211, "last_edit_date": 1599618924, "question_id": 51277709, "link": "https://stackoverflow.com/questions/51277709/angular2-4-search-suggestion", "title": "Angular2/4 search suggestion", "body": "<p>I'm develop a drop down suggestion search box in angular 2/4. When typing on text box  and press search button the searched details are displayed.<strong>But Here</strong> i want to show the  searching, \u2018as-you-type\u2019 suggestion  want to displayed(Like a dropdown search)\n.I saw so many techniques in different place but its not working. Here i install angular material I got some error in my node modules</p>\n<p><strong>i want like this</strong>\n<a href=\"https://i.stack.imgur.com/0yvak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0yvak.png\" alt=\"enter image description here\" /></a></p>\n<p>here I will try the pipe but its not working..Can any one please help me..</p>\n<p><strong>my html is</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;div class=&quot;form-group&quot;&gt;\n         &lt;div class=&quot;input-group&quot;&gt;\n               &lt;div [innerHTML]=&quot;highlighted&quot;&gt;&lt;/div&gt;\n             &lt;input name=&quot;search&quot; class=&quot;form-control&quot; type=&quot;text&quot; placeholder=&quot;Search&quot;\n                  (keyup)=&quot;FetchItemDetailsSearch(searchcontent)&quot;\n                  [(ngModel)]=&quot;searchcontent&quot;&gt;                       \n              &lt;span class=&quot;input-group-btn&quot;&gt;\n                  &lt;button class=&quot;btn btn-success ProductSearchBtn&quot; type=&quot;button&quot; \n                      (click)='FetchItemDetailsSearch(searchcontent)'&gt;\n                        &lt;i class=&quot;glyphicon glyphicon-search&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;\n                        &lt;span style=&quot;margin-left:10px;&quot;&gt;Search&lt;/span&gt;\n                  &lt;/button&gt;\n               &lt;/span&gt;\n          &lt;/div&gt;                  \n    &lt;/div&gt;\n</code></pre>\n<p>component.ts</p>\n<pre class=\"lang-js prettyprint-override\"><code>     FetchItemDetailsSearch(itemcodeordesc: string): void {\n\n        {\n            this.highlight= this.searchcontent\n                ? itemcodeordesc.replace(new RegExp('(' + this.searchcontent + ')', 'ig'),\n                    '&lt;span class=highlight&gt;$1&lt;/span&gt;')\n                : itemcodeordesc;\n        }\n\n        this.pageIndex = 1;\n        this.searchflag = 1;\n\n        if (itemcodeordesc.length &gt; 0)\n            this.searchcontent = itemcodeordesc;\n        else {\n            itemcodeordesc = undefined\n            this.searchcontent = itemcodeordesc;\n        }\n        this.prevScrollPosition = 0;\n        this._enqService.FetchItemDetailsSearch(this.searchcontent,this.pageIndex).subscribe(itemsData =&gt; this.itemdetails = itemsData,\n            error =&gt; {\n                console.error(error);\n                this.statusMessage = &quot;Problem with the service.Please try again after sometime&quot;;\n            });\n    }\n</code></pre>\n<p><strong>Here i got like this(this is the problem, not showing the suggestion)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ySj0x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ySj0x.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["javascript", "typescript", "cordova", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1531287328, "post_id": 51277561, "comment_id": 89533298, "body": "You  will have to probably use a script to edit your config before you build though"}, {"owner": {"reputation": 1, "user_id": 8075869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56dec74025a5fe7e2c6038029156998?s=128&d=identicon&r=PG&f=1", "display_name": "Loren", "link": "https://stackoverflow.com/users/8075869/loren"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1531367465, "post_id": 51277561, "comment_id": 89571289, "body": "thanks I got it sorted out. I added after_build hook. SO now the script will run after every build. I now want it to run when i give the build --prod command. How do I do that?"}], "owner": {"reputation": 1, "user_id": 8075869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56dec74025a5fe7e2c6038029156998?s=128&d=identicon&r=PG&f=1", "display_name": "Loren", "link": "https://stackoverflow.com/users/8075869/loren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "closed_date": 1531288904, "answer_count": 0, "score": 0, "last_activity_date": 1531285246, "creation_date": 1531285246, "question_id": 51277561, "link": "https://stackoverflow.com/questions/51277561/incremental-value-of-a-property-inside-the-widget-tag-in-the-ionic-config-xml-fi", "closed_reason": "Duplicate", "title": "Incremental value of a property inside the widget tag in the ionic config.xml file.", "body": "<p>How do I add a property to the widget tag in the config.xml file in my ionic 2 cordova app? I want the value of that property to increment when ever I build the app. I want that value to be called and displayed in one of the pages in my app too.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1531286398, "post_id": 51277452, "comment_id": 89532968, "body": "you can try this <code>header=&quot;ITEM_NO | translate&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "is_accepted": true, "score": 0, "last_activity_date": 1531285010, "creation_date": 1531285010, "answer_id": 51277518, "question_id": 51277452, "link": "https://stackoverflow.com/questions/51277452/how-to-use-translate-to-ng-treetable/51277518#51277518", "title": "How to use | translate to ng-treetable", "body": "<p>Try like this :</p>\n\n<pre><code>header=\"{{'ITEM_NO' | translate}}\"\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 7827646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QbLPygq2eFE/AAAAAAAAAAI/AAAAAAAAAHg/Sp00W96BsMI/photo.jpg?sz=128", "display_name": "sneha mahalank", "link": "https://stackoverflow.com/users/7827646/sneha-mahalank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 51277518, "answer_count": 1, "score": 0, "last_activity_date": 1531285010, "creation_date": 1531284491, "question_id": 51277452, "link": "https://stackoverflow.com/questions/51277452/how-to-use-translate-to-ng-treetable", "title": "How to use | translate to ng-treetable", "body": "<p>I am trying to do localization In ng-treetable\nIn my below code</p>\n\n<pre><code>&lt;ay-treeTable [value]=\"temp\"&gt;\n            &lt;ay-column field=\"item_no\" header=\"ITEM_NO\" | translate&gt;&lt;/ay-column&gt;\n&lt;/ay-treeTable&gt;\n</code></pre>\n\n<p>I am getting this error</p>\n\n<p>ERROR DOMException: Failed to execute 'setAttribute' on 'Element': '|' is not a valid attribute name.</p>\n\n<p>So how to use \"| translate\" for header</p>\n\n<p>I am using <a href=\"https://www.npmjs.com/package/ng-treetable\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng-treetable</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1531283491, "post_id": 51277097, "comment_id": 89532143, "body": "The Typescript compiler already tells you whether it&#39;s valid Typescript. Being able to start the app tells you if Angular likes it. What&#39;s the real question here?"}, {"owner": {"reputation": 635, "user_id": 1167713, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/f1c4636483d24aa7717422be11a491f5?s=128&d=identicon&r=PG", "display_name": "Menahem Gil", "link": "https://stackoverflow.com/users/1167713/menahem-gil"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1531283784, "post_id": 51277097, "comment_id": 89532202, "body": "Hi, see bellow in my comment. Need to use it in Angular material. The CLI &quot;likes&quot; it (doesn&#39;t care). But was wonder if it&#39;s really Ok / valid, or I should create a type / interface"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1531286711, "post_id": 51277097, "comment_id": 89533074, "body": "You should ask your question in the question, not in the comments of answers. You can still edit the question."}, {"owner": {"reputation": 635, "user_id": 1167713, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/f1c4636483d24aa7717422be11a491f5?s=128&d=identicon&r=PG", "display_name": "Menahem Gil", "link": "https://stackoverflow.com/users/1167713/menahem-gil"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1531287858, "post_id": 51277097, "comment_id": 89533511, "body": "Ok, thanks. I just posted a new question - this time focus on this issue. The reason I first asked this one, because it could solve the issue, as well, it&#39;s a general question"}], "answers": [{"tags": [], "owner": {"reputation": 259, "user_id": 3366119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29fc747262708411c353347150d71813?s=128&d=identicon&r=PG&f=1", "display_name": "ngWolf", "link": "https://stackoverflow.com/users/3366119/ngwolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1531282651, "creation_date": 1531282651, "answer_id": 51277180, "question_id": 51277097, "link": "https://stackoverflow.com/questions/51277097/assign-component-to-a-variable-angular-4/51277180#51277180", "title": "Assign component to a variable Angular 4+", "body": "<p>I think you wan to communicate between components. If this is what you want then you should communicate using:</p>\n\n<ol>\n<li>Property Binding with Input and Output decorators</li>\n<li>A common service can be created to communicate and pass the data through this service.</li>\n</ol>\n\n<p>any of the ways will work.</p>\n\n<p>It's not good to use 1 component into another.</p>\n"}, {"comments": [{"owner": {"reputation": 635, "user_id": 1167713, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/f1c4636483d24aa7717422be11a491f5?s=128&d=identicon&r=PG", "display_name": "Menahem Gil", "link": "https://stackoverflow.com/users/1167713/menahem-gil"}, "edited": false, "score": 0, "creation_date": 1531283269, "post_id": 51277221, "comment_id": 89532076, "body": "Hi, thanks. It&#39;s not to communicate between components. It&#39;s to use with angular material. in order to use the .open() method, I need to open a modal with different components conditionally. The thing is that the .open() method apparently not accepts string as parameter , only the component name. Mean, if I put the component name in a string, then as a parameter to .open() , it will not accept it and gives error. Therefore need to assign the component to a variable, so .open() will accept it. Instead of .open(CompB, ) , .open(c, )"}, {"owner": {"reputation": 1036, "user_id": 4688566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RzYqO.jpg?s=128&g=1", "display_name": "Sateesh", "link": "https://stackoverflow.com/users/4688566/sateesh"}, "reply_to_user": {"reputation": 635, "user_id": 1167713, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/f1c4636483d24aa7717422be11a491f5?s=128&d=identicon&r=PG", "display_name": "Menahem Gil", "link": "https://stackoverflow.com/users/1167713/menahem-gil"}, "edited": false, "score": 0, "creation_date": 1531284444, "post_id": 51277221, "comment_id": 89532359, "body": "Okay, once check this post. Its also related to open dialog with angular material. <a href=\"https://stackoverflow.com/questions/48073057/angular-open-close-sidenav-from-another-component\" title=\"angular open close sidenav from another component\">stackoverflow.com/questions/48073057/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1036, "user_id": 4688566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RzYqO.jpg?s=128&g=1", "display_name": "Sateesh", "link": "https://stackoverflow.com/users/4688566/sateesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1531282902, "creation_date": 1531282902, "answer_id": 51277221, "question_id": 51277097, "link": "https://stackoverflow.com/questions/51277097/assign-component-to-a-variable-angular-4/51277221#51277221", "title": "Assign component to a variable Angular 4+", "body": "<p>You create Service/Interface to achieve same functionality you want. Using component into another component is not a good idea. </p>\n\n<p>You can communicate using service. For more information follow this URL: <a href=\"https://hackernoon.com/creating-interfaces-for-angular-services-1bb41fbbe47c\" rel=\"nofollow noreferrer\">https://hackernoon.com/creating-interfaces-for-angular-services-1bb41fbbe47c</a></p>\n"}], "owner": {"reputation": 635, "user_id": 1167713, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/f1c4636483d24aa7717422be11a491f5?s=128&d=identicon&r=PG", "display_name": "Menahem Gil", "link": "https://stackoverflow.com/users/1167713/menahem-gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 729, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1531282902, "creation_date": 1531282002, "question_id": 51277097, "link": "https://stackoverflow.com/questions/51277097/assign-component-to-a-variable-angular-4", "title": "Assign component to a variable Angular 4+", "body": "<p>Is it a valid typescript / Angular, or correct to assign a component to a variable? Just assigning , without type, etc. </p>\n\n<p>For example:</p>\n\n<pre><code>... \nimport {CompB} from './comp-b.component';\n\nexport class CompA {\n   let c = CompB; \n\n}\n</code></pre>\n\n<p>Or the right way will be to create an interface / use generic  , etc? </p>\n\n<p>Thanks. </p>\n"}, {"tags": ["css", "angular", "twitter-bootstrap", "typescript", "twitter-bootstrap-3"], "comments": [{"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531281472, "post_id": 51276880, "comment_id": 89531623, "body": "Did you add css for this?. Show your index.html and angularcli.json"}, {"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531281570, "post_id": 51276880, "comment_id": 89531647, "body": "i added bootstrap and added it in style.css"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531281844, "post_id": 51276880, "comment_id": 89531729, "body": "Kindly show which link you followed."}, {"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531282084, "post_id": 51276880, "comment_id": 89531809, "body": "which link means normally i went to bootstrap official site and sorted it"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531282422, "post_id": 51276880, "comment_id": 89531886, "body": "Just for a suggestion go this link see added css and js in head section use like this in your project <a href=\"https://www.w3schools.com/booTsTrap/tryit.asp?filename=trybs_ref_js_carousel2&amp;stacked=h\" rel=\"nofollow noreferrer\">w3schools.com/booTsTrap/&hellip;</a>"}, {"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531283410, "post_id": 51276880, "comment_id": 89532122, "body": "i will and if possible could u create a sample with my Json"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531283501, "post_id": 51276880, "comment_id": 89532148, "body": "Sure I will reach office few minute I will send you stackblitz for you. Currently Iam travelling bus"}, {"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531284656, "post_id": 51276880, "comment_id": 89532431, "body": "sure i will check other things also"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531289443, "post_id": 51276880, "comment_id": 89534159, "body": "visit this demo site. <a href=\"https://lukasz-galka.github.io/ngx-gallery-demo/\" rel=\"nofollow noreferrer\">lukasz-galka.github.io/ngx-gallery-demo</a> . you want like this?"}, {"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531289638, "post_id": 51276880, "comment_id": 89534245, "body": "actually what i am trying to achieve is multiple items per slide in bootstrap carousel"}, {"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531289808, "post_id": 51276880, "comment_id": 89534329, "body": "actually like this <a href=\"https://codepen.io/mephysto/pen/ZYVKRY\" rel=\"nofollow noreferrer\">codepen.io/mephysto/pen/ZYVKRY</a> and the content will be displayed in cards"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "edited": false, "score": 0, "creation_date": 1531284980, "post_id": 51277378, "comment_id": 89532516, "body": "bu why separated json ? we can process via single list also right  and i applied your data in the backend and in the front end also it is not working"}, {"owner": {"reputation": 3050, "user_id": 3516008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c342a732db5f71bf9a236ee90815195?s=128&d=identicon&r=PG&f=1", "display_name": "caiovisk", "link": "https://stackoverflow.com/users/3516008/caiovisk"}, "reply_to_user": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "edited": false, "score": 0, "creation_date": 1531285117, "post_id": 51277378, "comment_id": 89532557, "body": "Separate it for your easier understand on how bootstrap carousel works. You can make your changes on the loop logic..."}, {"owner": {"reputation": 3050, "user_id": 3516008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c342a732db5f71bf9a236ee90815195?s=128&d=identicon&r=PG&f=1", "display_name": "caiovisk", "link": "https://stackoverflow.com/users/3516008/caiovisk"}, "reply_to_user": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "edited": false, "score": 0, "creation_date": 1531285377, "post_id": 51277378, "comment_id": 89532638, "body": "It&#39;s hard to guess what is going on on your application as you have not provided your application code.. Have you checked <a href=\"https://stackblitz.com/edit/angular-52pqo7\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-52pqo7</a> it is working, set yours <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a> then we can have a look"}, {"owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "edited": false, "score": 0, "creation_date": 1531285534, "post_id": 51277378, "comment_id": 89532692, "body": "why the image one after another actually it has to be like one by one or on next to another"}, {"owner": {"reputation": 3050, "user_id": 3516008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c342a732db5f71bf9a236ee90815195?s=128&d=identicon&r=PG&f=1", "display_name": "caiovisk", "link": "https://stackoverflow.com/users/3516008/caiovisk"}, "reply_to_user": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "edited": false, "score": 0, "creation_date": 1531285675, "post_id": 51277378, "comment_id": 89532739, "body": "Please read <a href=\"https://getbootstrap.com/docs/4.0/layout/grid/\" rel=\"nofollow noreferrer\">CSS Bootstrap - Grid System</a> to understand"}], "tags": [], "owner": {"reputation": 3050, "user_id": 3516008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c342a732db5f71bf9a236ee90815195?s=128&d=identicon&r=PG&f=1", "display_name": "caiovisk", "link": "https://stackoverflow.com/users/3516008/caiovisk"}, "is_accepted": false, "score": 0, "last_activity_date": 1531284711, "last_edit_date": 1531284711, "creation_date": 1531284020, "answer_id": 51277378, "question_id": 51276880, "link": "https://stackoverflow.com/questions/51276880/unable-to-display-the-bootstrap-carousel-correctly-in-angular2/51277378#51277378", "title": "Unable to display the Bootstrap Carousel correctly in Angular2+", "body": "<p>In bootstrap carousel each <code>.item</code> is the actual slider. So, if you want to have a slider with 3 images inside, you have to place your <code>.col-sm-4</code> and loop it tree times inside the <code>.item</code>. You may have to update your images object.</p>\n\n<p>See: <a href=\"https://angular-52pqo7.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-52pqo7.stackblitz.io</a></p>\n\n<p>Editor: <a href=\"https://stackblitz.com/edit/angular-52pqo7\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-52pqo7</a></p>\n\n<p>Data Json:</p>\n\n<pre><code>DataOne:any=[{\n        \"sliderImages\": [{\n                \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n            },\n            {\n                \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n            },\n            {\n                \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n            }\n        ]\n    },\n    {\n        \"sliderImages\": [{\n                \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n            },\n            {\n                \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n            },\n            {\n                \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p>Carousel:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;h2&gt;Carousel Example&lt;/h2&gt;  \n  &lt;div id=\"myCarousel\" class=\"carousel slide\" data-ride=\"carousel\"  &gt;\n      &lt;!-- Wrapper for slides --&gt;\n      &lt;div class=\"carousel-inner\"&gt;\n        &lt;div class=\"item\" \n          *ngFor=\"let data of  DataOne; first as isFirst;\"\n          [class.active]=\"(isFirst)\"\n        &gt;\n          &lt;div class=\"col-sm-4\" *ngFor=\"let slidImg of  data.sliderImages\"&gt;\n            &lt;img src=\"{{slidImg.ImageUrl}}\" alt=\"Los Angeles\" style=\"width:50%;\"&gt;\n          &lt;/div&gt;&lt;!-- .col-sm-4 --&gt;\n        &lt;/div&gt;&lt;!-- .item --&gt;\n      &lt;/div&gt;&lt;!-- .carousel-inner --&gt;\n\n      &lt;!-- Indicators --&gt;\n      &lt;ol class=\"carousel-indicators\"&gt;\n        &lt;li \n          *ngFor=\"let data of  DataOne; index as i; first as isFirst;\" \n          data-target=\"#myCarousel\"  \n          [attr.data-slide-to]=\"(i)\"\n          [class.active]=\"(isFirst)\"&gt;&lt;/li&gt;\n      &lt;/ol&gt;\n\n    &lt;!-- Left and right controls --&gt;\n    &lt;a class=\"left carousel-control\" href=\"#myCarousel\" data-slide=\"prev\"&gt;\n      &lt;span class=\"glyphicon glyphicon-chevron-left\"&gt;&lt;/span&gt;\n      &lt;span class=\"sr-only\"&gt;Previous&lt;/span&gt;\n    &lt;/a&gt;\n    &lt;a class=\"right carousel-control\" href=\"#myCarousel\" data-slide=\"next\"&gt;\n      &lt;span class=\"glyphicon glyphicon-chevron-right\"&gt;&lt;/span&gt;\n      &lt;span class=\"sr-only\"&gt;Next&lt;/span&gt;\n    &lt;/a&gt;\n  &lt;/div&gt;&lt;!-- #myCarousel --&gt;\n&lt;/div&gt;&lt;!-- .container --&gt;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9783678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Devpop", "link": "https://stackoverflow.com/users/9783678/devpop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531284711, "creation_date": 1531280283, "last_edit_date": 1531281454, "question_id": 51276880, "link": "https://stackoverflow.com/questions/51276880/unable-to-display-the-bootstrap-carousel-correctly-in-angular2", "title": "Unable to display the Bootstrap Carousel correctly in Angular2+", "body": "<p>Here, I am using Bootstrap 3.3.7 and Angular 4. My issue is that I am trying to display the number of pics in Bootstrap Carousel and in each slide I am trying to display 3 pics. Till now, I am getting data from an array and here after the last pic ends. Then, the first pic has to follow instantly but now I am getting all my images in a single page. Below is my code:</p>\n\n<p><strong>.html code:</strong></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;h2&gt;Carousel Example&lt;/h2&gt;  \n  &lt;div id=\"myCarousel\" class=\"carousel slide\" data-ride=\"carousel\"  &gt;\n      &lt;div class=\"col-sm-4\" *ngFor=\"let data of  DataOne;let i = index\" &gt;\n    &lt;!-- Indicators --&gt;\n    &lt;ol class=\"carousel-indicators\"&gt;\n      &lt;li data-target=\"#myCarousel\"  [attr.data-slide-to]=\"i\" class=\"active\"&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n\n    &lt;!-- Wrapper for slides --&gt;\n    &lt;div class=\"carousel-inner\"&gt;\n      &lt;div class=\"item active\"&gt;\n        &lt;img src=\"{{data.ImageUrl}}\" alt=\"Los Angeles\" style=\"width:50%;\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n    &lt;!-- Left and right controls --&gt;\n    &lt;a class=\"left carousel-control\" href=\"#myCarousel\" data-slide=\"prev\"&gt;\n      &lt;span class=\"glyphicon glyphicon-chevron-left\"&gt;&lt;/span&gt;\n      &lt;span class=\"sr-only\"&gt;Previous&lt;/span&gt;\n    &lt;/a&gt;\n    &lt;a class=\"right carousel-control\" href=\"#myCarousel\" data-slide=\"next\"&gt;\n      &lt;span class=\"glyphicon glyphicon-chevron-right\"&gt;&lt;/span&gt;\n      &lt;span class=\"sr-only\"&gt;Next&lt;/span&gt;\n    &lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p><strong>.ts code:</strong></p>\n\n<pre><code> export class TestComponent implements OnInit {\n\n  DataOne:any=[\n    {    \n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n    },\n    { \n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n    },\n    {  \n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n    },\n    {   \n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n    },\n    {    \n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n    },\n    {   \n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n     },\n     {\n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n    },\n    {    \n      \"ImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSW6QPbLZN-2Xs4Jb6DMZKivwTQtw5L3QH5AjJf4fPM8pubZato2Q\"\n    }\n  ];\n  constructor() { }\n  ngOnInit() {\n  }\n}\n</code></pre>\n\n<p>Below are solutions which I am getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/50NTa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/50NTa.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "typing"], "answers": [{"comments": [{"owner": {"reputation": 1310, "user_id": 26257, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/803c29b4f4054185e9888acae390dd37?s=128&d=identicon&r=PG", "display_name": "PotatoEngineer", "link": "https://stackoverflow.com/users/26257/potatoengineer"}, "edited": false, "score": 0, "creation_date": 1531332947, "post_id": 51278598, "comment_id": 89561436, "body": "That <i>partially</i> works. I can&#39;t alias a namespace that way, only the final type. (So aliasing to WhatsOnSecond doesn&#39;t work, but aliasing the actual interface ...WhatsOnSecond.IDontKnowsOnThird <i>does</i> work.) Unfortunately, I&#39;ve just realized that I have a pile of enums in this file, and declaring something as a type means I can&#39;t use the actual enum."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 1310, "user_id": 26257, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/803c29b4f4054185e9888acae390dd37?s=128&d=identicon&r=PG", "display_name": "PotatoEngineer", "link": "https://stackoverflow.com/users/26257/potatoengineer"}, "edited": false, "score": 0, "creation_date": 1531392001, "post_id": 51278598, "comment_id": 89583585, "body": "@PotatoEngineer Ah exact. <code>WhatsOnSecond </code> is a namespace. You can alias typing with <code>type</code>. But namespaces exist at runtime and you need to set a true variable."}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": false, "score": 5, "last_activity_date": 1531391855, "last_edit_date": 1531391855, "creation_date": 1531290455, "answer_id": 51278598, "question_id": 51276347, "link": "https://stackoverflow.com/questions/51276347/how-can-i-get-an-alias-to-a-deeply-nested-namespace-that-has-no-concrete-class/51278598#51278598", "title": "How can I get an alias to a deeply-nested namespace that has no concrete class?", "body": "<p>You can use:</p>\n\n<pre><code>type Stuff = Thing.Stuff;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1310, "user_id": 26257, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/803c29b4f4054185e9888acae390dd37?s=128&d=identicon&r=PG", "display_name": "PotatoEngineer", "link": "https://stackoverflow.com/users/26257/potatoengineer"}, "is_accepted": false, "score": 0, "last_activity_date": 1531340555, "creation_date": 1531340555, "answer_id": 51293666, "question_id": 51276347, "link": "https://stackoverflow.com/questions/51276347/how-can-i-get-an-alias-to-a-deeply-nested-namespace-that-has-no-concrete-class/51293666#51293666", "title": "How can I get an alias to a deeply-nested namespace that has no concrete class?", "body": "<p>After further flailing, I ended up with this, which correctly aliases the <em>namespace</em> and lets me properly access enums under that namespace:</p>\n\n<pre><code>import \"../../Path/To/.d.ts/File/With/Compiled/Suffix/myTypings.js\";\nimport WhatsOnSecond = Thing.Stuff.WhosOnFirst.WhatsOnSecond;\n...\nlet someEnum: WhatsOnSecond.SomeEnum = WhatsOnSecond.SomeEnum.AnEnumValue;\n</code></pre>\n\n<p>The import of the <em>.js</em> file at the top brings all of the namespace-setup code into the browser, which in turn lets me set up the following namespace-alias-via-import of WhatsOnSecond.</p>\n\n<p>I'm not particularly happy with this hack, since I'm dragging in implementation details, but it has the virtue of actually working.</p>\n"}], "owner": {"reputation": 1310, "user_id": 26257, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/803c29b4f4054185e9888acae390dd37?s=128&d=identicon&r=PG", "display_name": "PotatoEngineer", "link": "https://stackoverflow.com/users/26257/potatoengineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1531391855, "creation_date": 1531275842, "question_id": 51276347, "link": "https://stackoverflow.com/questions/51276347/how-can-i-get-an-alias-to-a-deeply-nested-namespace-that-has-no-concrete-class", "title": "How can I get an alias to a deeply-nested namespace that has no concrete class?", "body": "<p>I have a typings file that is chock-full of deeply-nested namespaces, generated from a pile of C# classes. (This typings file is already used by other code built around <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"nofollow noreferrer\">internal modules</a>. I'm in the process of eliminating that other code, but it's going to be a while, and I have some code that needs to run right now.)</p>\n\n<p>The typings file looks like this:</p>\n\n<pre><code>declare namespace Thing.Stuff.WhosOnFirst.WhatsOnSecond {\n    export interface IDontKnowsOnThird {\n        ... lots of interfaces, no classes. In short, *nothing* that turns into JavaScript.\n    }\n}\n</code></pre>\n\n<p>That's terribly awkward to use, of course:</p>\n\n<pre><code>public findShortStop(\n    thirdBase: Thing.Stuff.WhosOnFirst.WhatsOnSecond.IDontKnowsOnThird, \n    pitcher: Thing.Stuff.WhosOnFirst.WhatsOnSecond.Tomorrow\n) {\n    ... \n}\n</code></pre>\n\n<p>So I want to use an import statement as an alias. By wild coincidence, I've always been able to get away with statements like this, because \"Thing\" actually exists in my work:</p>\n\n<pre><code>import Stuff = Thing.Stuff;\n</code></pre>\n\n<p>But it turns out that I can't do this with my deeply nested classes:</p>\n\n<pre><code>import WhatsOnSecond = Thing.Stuff.WhosOnFirst.WhatsOnSecond;\nlet baseman: WhatsOnSecond.IDontKnowsOnThird = {};\n</code></pre>\n\n<p>The above code generates <em>JavaScript</em> that looks like this:</p>\n\n<pre><code>WhatsOnSecond = Thing.Stuff.WhosOnFirst.WhatsOnSecond;\nvar baseman = {};\n</code></pre>\n\n<p>And that's a huge problem: here's the error that shows up in the console.</p>\n\n<pre><code>Uncaught (in promise) Error: (SystemJS) TypeError: Cannot read property 'WhosOnFirst' of undefined\n    at execute (http://localhost/Scripts/Shared/utils.js?v=180907165808:10:59)\n</code></pre>\n\n<p>As it happens, \"Thing\" exists. But \"Stuff\" doesn't. So when I make an alias for Stuff, you get valid (if nonsensical) code, and I'm allowed to use all of the types in the Thing.Stuff namespace via that alias, so Stuff.WhosOnFirst is just fine:</p>\n\n<pre><code>Stuff = Thing.Stuff; // evaluates to undefined. Compiler likes me, runtime likes me, no errors.\n</code></pre>\n\n<p>But doing that with further-nested properties is a complete failure, because trying to access properties of \"undefined\" is a JavaScript error, halting execution of the script.</p>\n\n<p>So: <strong>How can I create these import aliases to let me reference deeply-nested namespaces, so I don't have to type out the whole namespace every time I reference an interface?</strong></p>\n\n<p>Typing out namespaces with six words in them every time I use an interface gets old <em>really</em> fast.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1531276112, "post_id": 51276332, "comment_id": 89530603, "body": "You are asserting that the anonymous object is an <code>IUser</code>, that&#39;s why TypeScript is happy with it. If <code>outputUser</code> expects an <code>IUser</code>, change its signature: <code>outputUser = function(obj: IUser)</code>"}, {"owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1531276670, "post_id": 51276332, "comment_id": 89530716, "body": "sorry, I did a mistake, the name of the function should be: <code>outputObject</code> which should accept whatever kiind of object. When providing the second user I would like to be strict with types. I know if I declare the argument of that function as <code>IUser</code> it will work but I don&#39;t want to do that because that argument could be of whatever type."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1531276776, "post_id": 51276332, "comment_id": 89530736, "body": "To effect the error you are looking for, you need an assignment to a variable or parameter with the type <code>IUser</code>. Asserting that it is an <code>IUser</code> isn&#39;t going to do it: <a href=\"https://github.com/Microsoft/TypeScript/issues/13788#issuecomment-276430700\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}, {"owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1531278920, "post_id": 51276332, "comment_id": 89531140, "body": "thanks, that helped"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1531284337, "creation_date": 1531284337, "answer_id": 51277430, "question_id": 51276332, "link": "https://stackoverflow.com/questions/51276332/typescript-cannot-be-strict-with-types-wihen-defining-an-instance-on-the-fly/51277430#51277430", "title": "TypeScript - Cannot be strict with types wihen defining an instance on the fly", "body": "<p>It's a bit unclear from your question, but it appears you are looking form <code>Partial&lt;T&gt;</code>. <code>Partial&lt;T&gt;</code> transforms the type <code>T</code> to have all properties optional. You can use <code>Partial&lt;IUser&gt;</code> as the parameter to <code>outputObject</code>, or we can keep <code>outputObject</code> and add a generic parameter to it that we can then specify explicitly as <code>Partial&lt;IUser&gt;</code> to get checking on the parameter passed in : </p>\n\n<pre><code>var outputObject = function&lt;T&gt;(obj: T) {\n    console.log(JSON.stringify(obj));\n}\n\noutputObject&lt;Partial&lt;IUser&gt;&gt;({\n    username: 'Steve Jobs',\n    password: 'mac',\n    email: 'stevejobs@apple.com',\n    age: 62\n});\n\noutputObject&lt;Partial&lt;IUser&gt;&gt;({\n    age: '62' // Error incompatible types\n});\n</code></pre>\n"}], "owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531284337, "creation_date": 1531275660, "last_edit_date": 1531276555, "question_id": 51276332, "link": "https://stackoverflow.com/questions/51276332/typescript-cannot-be-strict-with-types-wihen-defining-an-instance-on-the-fly", "title": "TypeScript - Cannot be strict with types wihen defining an instance on the fly", "body": "<p>I have the following <code>TypeScript</code> code which compiles properly.</p>\n\n<p>My goal here is to be strict on terms of types.</p>\n\n<p>When defining <code>user1</code> instance I get this effect successfully. I mean, I'm forced to define all the members for <code>IUser</code>. For example, if I don't specify the <code>id</code> property for <code>user1</code>, then when I try to compile, the <code>TypeScript</code> linter throws the following error:</p>\n\n<pre><code>TSError: \u2a2f Unable to compile TypeScript:\nerror TS2322: Type '{ username: string; password: string; email: string; age: number; }' is not assignable to type 'IUser'.\n  Property 'id' is missing in type '{ username: string; password: string; email: string; age: number; }'.\n</code></pre>\n\n<p>But in the other hand, as you can see for the user corresponding to: <code>Steve Jobs</code> I didn't used the property: <code>id</code> but the linter doesn't throw any error.</p>\n\n<p>I'm looking for a way to define a user on the fly like that second user (not declaring another variable like the first user) and be strict with the types at the same time. I tried with the angle brackets with no success.</p>\n\n<pre><code>interface IUser {\n    id: number;\n    username: string;\n    password: string;\n    email: string;\n    age: number;\n}\n\nlet user1: IUser = {\n    id: 1,\n    username: 'Bill Gates',\n    password: 'windows',\n    email: 'billgates@microsoft.com',\n    age: 61\n};\n\nvar outputObject = function(obj: any) {\n    console.log(JSON.stringify(obj));\n}\n\noutputObject(user1);\n\noutputObject(&lt;IUser&gt; {\n    username: 'Steve Jobs',\n    password: 'mac',\n    email: 'stevejobs@apple.com',\n    age: 62\n});\n</code></pre>\n\n<p>Any idea on how to get this work?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "openlayers"], "owner": {"reputation": 125, "user_id": 9521928, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bc7_AI9sq7Y/AAAAAAAAAAI/AAAAAAAAAA8/5S3UWmR2oTI/photo.jpg?sz=128", "display_name": "mintquan", "link": "https://stackoverflow.com/users/9521928/mintquan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531283133, "creation_date": 1531273977, "last_edit_date": 1531283133, "question_id": 51276143, "link": "https://stackoverflow.com/questions/51276143/ionic-3-and-open-layer-4-not-display-when-open-new-page", "title": "Ionic 3 And Open Layer 4 not display when open new page", "body": "<p>I try to build a simple app using openlayer.I use Ionic 3 and Open layer version in my <code>package.json</code>: <code>\"openlayers\": \"^4.6.5\",</code></p>\n\n<p>My page.ts: </p>\n\n<pre><code>import { Component, ViewChild, Renderer, ElementRef } from '@angular/core';\n    import { IonicPage,Platform } from 'ionic-angular';\n\n    import OlMap from 'ol/map';\n    import OlXYZ from 'ol/source/xyz';\n    import OlTileLayer from 'ol/layer/tile';\n    import OlView from 'ol/view';\n    import OlProj from 'ol/proj';\n\n    @IonicPage()\n    @Component({\n      selector: 'page-open-map',\n      templateUrl: 'open-map.html'\n    })\n\n    export class OpenMapPage {\n\n      map: OlMap;\n      source: OlXYZ;\n      layer: OlTileLayer;\n      view: OlView;\n\n      constructor(platform: Platform, public renderer: Renderer) {\n        platform.ready().then(() =&gt; {\n          console.log(\"Platform is ready\");\n          this.loadMap();\n        })\n      }\n\n      loadMap() {\n        this.source = new OlXYZ({\n          // Tiles from Mapbox (Light)\n          url: 'https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw'\n        });\n\n        this.layer = new OlTileLayer({\n          source: this.source\n        });\n\n        this.view = new OlView({\n          center: OlProj.fromLonLat([6.661594, 50.433237]),\n          zoom: 3,\n        });\n\n        this.map = new OlMap({\n          target: 'map',\n          layers: [this.layer],\n          view: this.view\n        });\n\n      }\n\n    }\n</code></pre>\n\n<p>My html file: </p>\n\n<pre><code> &lt;ion-header&gt;\n\n      &lt;ion-navbar&gt;\n        &lt;ion-title&gt;OpenMap&lt;/ion-title&gt;\n      &lt;/ion-navbar&gt;\n\n    &lt;/ion-header&gt;\n\n    &lt;ion-content padding class=\"about\"&gt;\n      This is my super awesome about page.\n     &lt;div id=\"map\" #map class=\"map\" &gt;&lt;/div&gt;\n    &lt;/ion-content&gt;\n</code></pre>\n\n<p>When I build this app the home page is ok, but when I open a new page, my page doesn't show the map. Is there something wrong in my code? </p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["node.js", "typescript", "typescript2.0", "tsc"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531283824, "post_id": 51276038, "comment_id": 89532214, "body": "The <code>EVCb&lt;typeof result&gt;</code> seems to work, what is the issue ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7898461"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531322157, "post_id": 51276038, "comment_id": 89555858, "body": "Does it work? Even if <code>result</code> is declared inside the function body? I simply assumed that wouldn&#39;t work"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531328289, "post_id": 51276038, "comment_id": 89559214, "body": "You should always try, sometimes what works will surprise you :-). You can use <code>typeof </code> on anything that is in scope. Parameters and function variables share the same scope so it works. I&#39;ll admit I was a bit surprised myself :-)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7898461"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1531333590, "post_id": 51276038, "comment_id": 89561706, "body": "Cool, so function variables even if they are declared in the nextTick within the function?"}], "owner": {"user_type": "does_not_exist", "display_name": "user7898461"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531273078, "creation_date": 1531273078, "question_id": 51276038, "link": "https://stackoverflow.com/questions/51276038/use-ts-generic-type-effectively-for-different-functions", "title": "Use TS generic type effectively for different functions", "body": "<p>Right now I have this situation, a generic function type, an interface, and a function:</p>\n\n<pre><code>export type EVCb&lt;T&gt; = (err: any, val: T) =&gt; void;\n\nexport interface RegistryData {\n  exitCode: number,\n  npmVersion: string\n}\n\nexport const getLatestVersionFromNPMRegistry = function (dir: string, name: string, cb: EVCb&lt;RegistryData&gt;) {\n\n  const k = cp.spawn('bash', [], {\n    cwd: dir\n  });\n\n  k.stdin.end(`npm view ${name}@latest version;`);\n\n  const result : RegistryData = {\n    exitCode: null,\n    npmVersion: ''\n  };\n\n  k.stderr.setEncoding('utf8');\n  k.stderr.pipe(process.stderr);\n\n  k.stdout.on('data', d =&gt; {\n    result.npmVersion = result.npmVersion += String(d || '').trim();\n  });\n\n  k.once('exit', code =&gt; {\n    result.exitCode = code;\n    cb(code, result);\n  })\n\n};\n</code></pre>\n\n<p>what I am looking to do, is obviate the need for the <code>RegistryData</code> interface. Is there some way I can remove the need to declare a separate interface, and just use the type information from the variable named <code>result</code>? </p>\n\n<p>Basically, what I am looking to do is something like this:</p>\n\n<pre><code>export type EVCb&lt;T&gt; = (err: any, val: T) =&gt; void;\n\nexport const getLatestVersionFromNPMRegistry = function (dir: string, name: string, cb: EVCb&lt;typeof result&gt;) {\n\n  const k = cp.spawn('bash', [], {\n    cwd: dir\n  });\n\n  k.stdin.end(`npm view ${name}@latest version;`);\n\n  const result = {\n    exitCode: null,\n    npmVersion: ''\n  };\n\n  k.stderr.setEncoding('utf8');\n  k.stderr.pipe(process.stderr);\n\n  k.stdout.on('data', d =&gt; {\n    result.npmVersion = result.npmVersion += String(d || '').trim();\n  });\n\n  k.once('exit', code =&gt; {\n    result.exitCode = code;\n    cb(code, result);\n  })\n\n};\n</code></pre>\n\n<p>this is technically possible from <code>tsc</code> viewpoint, just not sure if it's a feature yet, is there some way to do this?</p>\n"}, {"tags": ["javascript", "html", "css", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "edited": false, "score": 0, "creation_date": 1531276873, "post_id": 51275899, "comment_id": 89530762, "body": "Also just to add a small note: To make sure that the class also gets applied, I need to add: encapsulation: ViewEncapsulation.none to app.component.ts"}, {"owner": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "edited": false, "score": 0, "creation_date": 1531334246, "post_id": 51275899, "comment_id": 89562000, "body": "Hi, I tried this method and it works only if I type the literal string word by word inside the sliderMoved method, e.g.:  <code>this.questionStatement=&#39;&lt;div class=&quot;percent&quot;&gt;${this.display}%&lt;&#47;div&gt; of Americans have a university degree.&#39;</code> . It does not work when I use a variable to replace the literal string, for instance,  <code>var replacement=&#39;&lt;div class=&quot;percent&quot;&gt;${this.display}%&lt;&#47;div&gt; of Americans have a university degree.&#39;; this.questionStatement=this.replacement;</code>does not work (it still shows the same number as it was first defined). Any idea how to work around it?"}, {"owner": {"reputation": 1888, "user_id": 664047, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nHjRG.jpg?s=128&g=1", "display_name": "Pal Singh", "link": "https://stackoverflow.com/users/664047/pal-singh"}, "reply_to_user": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "edited": false, "score": 1, "creation_date": 1531357744, "post_id": 51275899, "comment_id": 89569513, "body": "Cool, let me know if you face issue."}], "tags": [], "owner": {"reputation": 1888, "user_id": 664047, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nHjRG.jpg?s=128&g=1", "display_name": "Pal Singh", "link": "https://stackoverflow.com/users/664047/pal-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1531271629, "creation_date": 1531271629, "answer_id": 51275899, "question_id": 51275726, "link": "https://stackoverflow.com/questions/51275726/using-string-interpolation-in-innerhtml-in-angular/51275899#51275899", "title": "Using string interpolation in innerHTML in Angular", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">Template literals</a> should help you out here. If you modify your component like below your problem should be solved.</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>display = 50;\n\nquestionStatement = `&lt;div class=\"percent\"&gt;${this.display}%&lt;/div&gt; of Americans have a university degree.`\n\nsliderMoved(event: any) {\n    this.display=event.target.value;\n    this.questionStatement = `&lt;div class=\"percent\"&gt;${this.display}%&lt;/div&gt; of Americans have a university degree.`\n}\n</code></pre>\n"}], "owner": {"reputation": 280, "user_id": 7305449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dd45ed5ecd33d5e3999286014ddb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Lin", "link": "https://stackoverflow.com/users/7305449/eddie-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1869, "favorite_count": 0, "accepted_answer_id": 51275899, "answer_count": 1, "score": 1, "last_activity_date": 1531271629, "creation_date": 1531269993, "question_id": 51275726, "link": "https://stackoverflow.com/questions/51275726/using-string-interpolation-in-innerhtml-in-angular", "title": "Using string interpolation in innerHTML in Angular", "body": "<p>I am designing a game, and I am dynamically creating statements with blanks inside and ask the players to fill in the blanks. I need string interpolation to record user's input, but I also need to set dynamic innerHTML because the blanks can be anywhere in the statement.</p>\n\n<p>I know this sounds vague, here is relevant code examples:</p>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;input type=\"range\" step=\"1\" min=\"0\" max=\"100\" class=\"slider \n       (input)=\"sliderMoved($event)\"&gt;\n\n&lt;div class=\"question\" [innerHTML]=\"questionStatement\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>display=50;\n\nquestionStatement='&lt;div class=\"percent\"&gt;{{display}}%&lt;/div&gt; \n                   of Americans have a university degree.'\n\nquestionStatementExample2='Canada is &lt;div class=\"percent\"&gt;{{display}}%&lt;/div&gt; \n                           the size of America.'\n\nsliderMoved(event: any) {this.display=event.target.value;}  \n</code></pre>\n\n<p>The <code>questionStatement</code> can have <code>&lt;div class=\"percent\"&gt;{{display}}%&lt;/div&gt;</code> in anywhere in the sentence, hence the need of dynamic entry point. </p>\n\n<p>Here, string interpolation (<code>{{display}}</code>) does not work in <code>innerHTML</code>. It will show up on screen literally as <code>{{display}}</code>. What can I do in this case?</p>\n"}, {"tags": ["reactjs", "typescript", "axios", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "edited": false, "score": 1, "creation_date": 1531327336, "post_id": 51275510, "comment_id": 89558787, "body": "The project has a ts-lint rule <code>&quot;no-any&quot;: true</code>"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "edited": false, "score": 0, "creation_date": 1531375435, "post_id": 51275510, "comment_id": 89573667, "body": "add a tslint ignore on the line before"}, {"owner": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "edited": false, "score": 0, "creation_date": 1531460205, "post_id": 51275510, "comment_id": 89612347, "body": "1. That&#39;s not going to be ideal as the project grows and more asynchronous calls are added. 2. I am using TypeScript for its strong type system and I don&#39;t want to circumvent it."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 3, "last_activity_date": 1531268009, "creation_date": 1531268009, "answer_id": 51275510, "question_id": 51275434, "link": "https://stackoverflow.com/questions/51275434/cannot-get-jest-typescript-axios-test/51275510#51275510", "title": "Cannot Get Jest + Typescript + Axios Test", "body": "<blockquote>\n  <p>but I can't call mockResolvedValue because that method does not exist on axios.get in TypeScript</p>\n</blockquote>\n\n<p>You can use an assertion: </p>\n\n<pre><code>(axios.get as any).mockResolvedValue(resp)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "is_accepted": false, "score": 2, "last_activity_date": 1531327295, "creation_date": 1531327295, "answer_id": 51290534, "question_id": 51275434, "link": "https://stackoverflow.com/questions/51275434/cannot-get-jest-typescript-axios-test/51290534#51290534", "title": "Cannot Get Jest + Typescript + Axios Test", "body": "<p>I found a neat solution using the <a href=\"http://sinonjs.org/\" rel=\"nofollow noreferrer\"><code>sinon</code></a> library <code>npm install sinon @types/sinon --save-dev</code>. </p>\n\n<p>Then the testing code becomes:</p>\n\n<pre><code>let component: Component\nlet axiosStub: SinonStub\n\nbeforeAll(() =&gt; {\n    component = new Component({})\n    axiosStub = sinon.stub(axios, 'get')\n})\n\nafterAll(() =&gt; {\n    axiosStub.restore()\n})\n\nit('make api call to get data', async () =&gt; {\n    // set up behavior\n    axiosStub.withArgs(Endpoints.DATA.URL).returns({data: []})\n\n    // method under test\n    const res = await component.getData()\n\n    // assertions\n    expect(res).toEqual([])\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2107, "user_id": 319565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48026eca1a395738f1e01d70020116e5?s=128&d=identicon&r=PG", "display_name": "mpd", "link": "https://stackoverflow.com/users/319565/mpd"}, "edited": false, "score": 0, "creation_date": 1551740596, "post_id": 53730849, "comment_id": 96743111, "body": "This works and doesn&#39;t require another library, should be accepted answer"}], "tags": [], "owner": {"reputation": 266, "user_id": 5753642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dqm96yBBWJ8/AAAAAAAAAAI/AAAAAAAAAH0/1rVP2TjpWHs/photo.jpg?sz=128", "display_name": "Adam T. Smith", "link": "https://stackoverflow.com/users/5753642/adam-t-smith"}, "is_accepted": false, "score": 12, "last_activity_date": 1544555465, "creation_date": 1544555465, "answer_id": 53730849, "question_id": 51275434, "link": "https://stackoverflow.com/questions/51275434/cannot-get-jest-typescript-axios-test/53730849#53730849", "title": "Cannot Get Jest + Typescript + Axios Test", "body": "<p>If you want to use <code>jest.mock</code> with <code>\"no-any\"</code> try this:</p>\n\n<pre><code>import axios, { AxiosStatic } from 'axios'\n\ninterface AxiosMock extends AxiosStatic {\n  mockResolvedValue: Function\n  mockRejectedValue: Function\n}\n\njest.mock('axios')\nconst mockAxios = axios as AxiosMock\n\nit('make api call to get data', () =&gt; {\n   // call this first\n   mockAxios.mockResolvedValue(yourValue)\n\n   component.getData()\n   expect(mockAxios.get).toHaveBeenCalledWith(Endpoints.DATA.URL)\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3801, "user_id": 2670121, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Pi4yD.jpg?s=128&g=1", "display_name": "Alendorff", "link": "https://stackoverflow.com/users/2670121/alendorff"}, "edited": false, "score": 3, "creation_date": 1554816964, "post_id": 55351900, "comment_id": 97884928, "body": "I did exactly the same thing, but typescript is blaming my { data: null } with this error: <code>error TS2345: Argument of type &#39;{ data: null; }&#39; is not assignable to parameter of type &#39;(&lt;T = any&gt;(url: string, config?: AxiosRequestConfig | undefined) =&gt; AxiosPromise&lt;T&gt;) | PromiseLike&lt;(&lt;T = any&gt;(url: string, config?: AxiosRequestConfig | undefined) =&gt; AxiosPromise&lt;T&gt;)&gt;&#39;.</code> No idea why it doesn&#39;t work..."}, {"owner": {"reputation": 810, "user_id": 6501378, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S0-CeLJ_VmY/AAAAAAAAAAI/AAAAAAAAWao/aicru4DAJPE/photo.jpg?sz=128", "display_name": "Jan Tumanov", "link": "https://stackoverflow.com/users/6501378/jan-tumanov"}, "edited": false, "score": 1, "creation_date": 1555071685, "post_id": 55351900, "comment_id": 97991532, "body": "you can try to type this or make any: <code>{ data: null } as any</code>"}], "tags": [], "owner": {"reputation": 810, "user_id": 6501378, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S0-CeLJ_VmY/AAAAAAAAAAI/AAAAAAAAWao/aicru4DAJPE/photo.jpg?sz=128", "display_name": "Jan Tumanov", "link": "https://stackoverflow.com/users/6501378/jan-tumanov"}, "is_accepted": true, "score": 64, "last_activity_date": 1553585735, "creation_date": 1553585735, "answer_id": 55351900, "question_id": 51275434, "link": "https://stackoverflow.com/questions/51275434/cannot-get-jest-typescript-axios-test/55351900#55351900", "title": "Cannot Get Jest + Typescript + Axios Test", "body": "<p>In start of file: </p>\n\n<pre><code>import axios from 'axios';\njest.mock('axios');\nconst mockedAxios = axios as jest.Mocked&lt;typeof axios&gt;;\n</code></pre>\n\n<p>Now you can use it as usual mock:</p>\n\n<pre><code>mockedAxios.get.mockRejectedValue('Network error: Something went wrong');\nmockedAxios.get.mockResolvedValue({ data: {} });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 3936587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038e1deb82e67bfc8d0dd8d59e14fcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Rene Juuse", "link": "https://stackoverflow.com/users/3936587/rene-juuse"}, "is_accepted": false, "score": 2, "last_activity_date": 1596382729, "creation_date": 1596382729, "answer_id": 63217914, "question_id": 51275434, "link": "https://stackoverflow.com/questions/51275434/cannot-get-jest-typescript-axios-test/63217914#63217914", "title": "Cannot Get Jest + Typescript + Axios Test", "body": "<p>I kept running into <code>is not a function</code> issues. If the accepted answer doesn't work for you, then try importing <code>axios</code> with a capital A ie. <code>Axios</code>.</p>\n<pre><code>import Axios from 'axios';\njest.mock('Axios');\nconst mockedAxios = Axios as jest.Mocked&lt;typeof Axios&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 772, "user_id": 3835442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8d2d70ba3852c6cd946b01b0225ab9ea?s=128&d=identicon&r=PG", "display_name": "Ramsy de Vos", "link": "https://stackoverflow.com/users/3835442/ramsy-de-vos"}, "is_accepted": false, "score": 1, "last_activity_date": 1609229708, "creation_date": 1609229708, "answer_id": 65489196, "question_id": 51275434, "link": "https://stackoverflow.com/questions/51275434/cannot-get-jest-typescript-axios-test/65489196#65489196", "title": "Cannot Get Jest + Typescript + Axios Test", "body": "<p>This is what I personally always use.</p>\n<pre><code>import axios from 'axios';\njest.mock('axios')\n\nit('...', () =&gt; {\n  (axios.get as jest.Mock).mockImplementationOnce(() =&gt; Promise.resolve({}));\n  // test here\n  expect(axios.get).toHaveBeenCalled()\n}\n</code></pre>\n"}], "owner": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14932, "favorite_count": 5, "accepted_answer_id": 55351900, "answer_count": 6, "score": 31, "last_activity_date": 1609229708, "creation_date": 1531267315, "last_edit_date": 1541715378, "question_id": 51275434, "link": "https://stackoverflow.com/questions/51275434/cannot-get-jest-typescript-axios-test", "title": "Cannot Get Jest + Typescript + Axios Test", "body": "<p>I have the following method in a class:</p>\n\n<pre><code>import axios from 'axios'\n\npublic async getData() {\n   const resp = await axios.get(Endpoints.DATA.URL)\n   return resp.data\n}\n</code></pre>\n\n<p>Then I am trying to set up a Jest test that does this:</p>\n\n<pre><code>jest.mock('axios')\n\nit('make api call to get data', () =&gt; {\n   component.getData()\n   expect(axios.get).toHaveBeenCalledWith(Endpoints.DATA.URL)\n})\n</code></pre>\n\n<p>The problem is that because I am not mocking the return value, then it gives an error for <code>resp.data</code> because I'm calling <code>data</code> on <code>null</code> or <code>undefined</code> object. I spent at least 2 hours trying various ways to get this working but I can't find a way such that I can mock <code>axios.get</code> with some return value.</p>\n\n<p>Jest's documentation uses JavaScript so they give this example <a href=\"https://jestjs.io/docs/en/mock-functions#mocking-modules\" rel=\"noreferrer\"><code>axios.get.mockResolvedValue(resp)</code></a> but I can't call <code>mockResolvedValue</code> because that method does not exist on <code>axios.get</code> in TypeScript.</p>\n\n<p>Also, if you know other good testing library for React other than Jest that does this stuff easily for TypeScript, feel free to share.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2137, "user_id": 462669, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e7353c61191b864f96dea4e972dce31?s=128&d=identicon&r=PG", "display_name": "Lonli-Lokli", "link": "https://stackoverflow.com/users/462669/lonli-lokli"}, "edited": false, "score": 0, "creation_date": 1599573274, "post_id": 51275470, "comment_id": 112811031, "body": "Why it does not work with spread operator? Eg here I have T &amp; Partial&lt;T&gt; as a result of createState function <a href=\"https://www.typescriptlang.org/play?ts=3.9.2#code/JYOwLgpgTgZghgYwgAgMpjpZBvAUM5DAcwC5kBnMKUI-ZGAewbMupFoF9dc4AjVxGGQIANnHLlkAFQiUAPFIB8OOgAcArrxHAEyPgIRDKmCGSkBuOsKgQT6EwApVUBqrIAFOFDDA4IhYoAlCoEoTZg6lAgOAB0cWAAFsDkMcaQADTIcTHOrhyWBFwcQA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?ts=3.9.2#code/&hellip;</a>"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 2, "last_activity_date": 1531267636, "creation_date": 1531267636, "answer_id": 51275470, "question_id": 51275395, "link": "https://stackoverflow.com/questions/51275395/how-to-merge-2-partials-to-a-complete-object-in-typescript/51275470#51275470", "title": "How to merge 2 partials to a complete object in Typescript?", "body": "<p>The easiest way would be to remove the type annotations and let type inference do its work:</p>\n\n<pre><code>interface IComplete {\n    a: string,\n    b: string\n}\n\nconst part1 = {\n    a: 'hello'\n}\n\nconst part2 = {\n    b: 'world'\n}\n\nconst together: IComplete = {\n    ...part1,\n    ...part2\n}\n</code></pre>\n\n<p>This does have certain deleterious effects, e.g. parameters in function expressions in <code>part1</code> or <code>part2</code> won't get inferred types.</p>\n\n<p>Instead you can use <code>Pick</code> - unfortunately you do have to write out the keys that you're picking from each type when using this approach:</p>\n\n<pre><code>interface IComplete {\n    a: string,\n    b: string,\n    c: number\n}\n\nconst part1: Pick&lt;IComplete, \"a\"&gt; = {\n    a: 'hello'\n}\n\nconst part2: Pick&lt;IComplete, \"b\" | \"c\"&gt; = {\n    b: 'world',\n    c: 43\n}\n\nconst together: IComplete = {\n    ...part1,\n    ...part2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 6, "last_activity_date": 1531268853, "creation_date": 1531268853, "answer_id": 51275608, "question_id": 51275395, "link": "https://stackoverflow.com/questions/51275395/how-to-merge-2-partials-to-a-complete-object-in-typescript/51275608#51275608", "title": "How to merge 2 partials to a complete object in Typescript?", "body": "<p>@RyanCavanaugh's answer is good.  One way to let type inference do its work while still getting the benefits of the compiler ensuring that <code>part1</code> and <code>part2</code> are <code>Partial&lt;IComplete&gt;</code> is to use a helper function as below:</p>\n\n<pre><code>interface IComplete {\n  a: string,\n  b: string,\n  c: (x: string) =&gt; number,\n  d: (x: number) =&gt; string\n}\n\n// helper function\nconst asPartialIComplete = &lt;T extends Partial&lt;IComplete&gt;&gt;(t: T) =&gt; t;\n\nconst part1 = asPartialIComplete({\n  a: 'hello',\n  c: (x) =&gt; x.length\n})\n\nconst part2 = asPartialIComplete({\n  b: 'world',\n  d: (x) =&gt; x + \"\"\n});\n\nconst together: IComplete = {\n  ...part1,\n  ...part2\n}\n</code></pre>\n\n<p>In the above, both <code>part1</code> and <code>part2</code> are constrained by <code>asPartialIComplete</code> to be valid <code>Partial&lt;IComplete&gt;</code> objects (so the parameters of the <code>c</code> and <code>d</code> methods are inferred as <code>string</code> and <code>number</code> respectively).  But the types of <code>part1</code> and <code>part2</code> are narrow enough for the compiler to realize that <code>typeof part1 &amp; typeof part2</code> is <code>IComplete</code>.</p>\n\n<p>Hope that also helps.  Good luck!</p>\n"}, {"comments": [{"owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "edited": false, "score": 1, "creation_date": 1531268970, "post_id": 51275612, "comment_id": 89529095, "body": "Curious to know what the disadvantage of this solution is, if any. It seems to be the most readable."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 4, "creation_date": 1531269030, "post_id": 51275612, "comment_id": 89529101, "body": "There is no static verification that <code>part1</code> and <code>part2</code> collectively contributed <i>all</i> of the keys of <code>IComplete</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1531269043, "post_id": 51275612, "comment_id": 89529102, "body": "The disadvantage is that <code>together</code> might not be an <code>IComplete</code>, as you can see if you change <code>part2</code> to be <code>{a: &#39;whoops&#39;}</code> instead."}, {"owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "edited": false, "score": 0, "creation_date": 1531269178, "post_id": 51275612, "comment_id": 89529138, "body": "Thanks, makes sense! I&#39;m having a hard time selecting an accepted answer... let me know if you see a clear winner."}, {"owner": {"reputation": 1143, "user_id": 6627660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XyOIS.jpg?s=128&g=1", "display_name": "Hyuck Kang", "link": "https://stackoverflow.com/users/6627660/hyuck-kang"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1531270725, "post_id": 51275612, "comment_id": 89529453, "body": "Yes, those are fair criticisms. My answer does not guarantees correct type which can prevent unnoticed bug. I think @jcalz&#39;s anwser is exemplary anwser which satisfies the mission of typescript."}, {"owner": {"reputation": 9248, "user_id": 109561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33233d5bae5b1c8d8053dfa3b4e18267?s=128&d=identicon&r=PG", "display_name": "Gerry", "link": "https://stackoverflow.com/users/109561/gerry"}, "edited": false, "score": 0, "creation_date": 1617637513, "post_id": 51275612, "comment_id": 118352481, "body": "Hmmm, I think this is also something that Typescript <i>should</i> do. In your example it should show a warning when not supplying all the properties of the interface and the fact that it doesn&#39;t in the case mentioned is quite a failure. I&#39;m wondering if this is a known bug."}], "tags": [], "owner": {"reputation": 1143, "user_id": 6627660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XyOIS.jpg?s=128&g=1", "display_name": "Hyuck Kang", "link": "https://stackoverflow.com/users/6627660/hyuck-kang"}, "is_accepted": false, "score": 4, "last_activity_date": 1531268878, "creation_date": 1531268878, "answer_id": 51275612, "question_id": 51275395, "link": "https://stackoverflow.com/questions/51275395/how-to-merge-2-partials-to-a-complete-object-in-typescript/51275612#51275612", "title": "How to merge 2 partials to a complete object in Typescript?", "body": "<p>Frankly, I do not fully understand why typescript transpiler does not permit that syntax.</p>\n\n<p>But the below codes can bypass it and achieve what you want.  </p>\n\n<pre><code>interface IComplete {\n    a: string,\n    b: string\n}\n\nconst part1: Partial&lt;IComplete&gt; = {\n    a: 'hello'\n}\n\nconst part2: Partial&lt;IComplete&gt; = {\n    b: 'world'\n}\n\nconst together: IComplete = {\n    ...part1,\n    ...part2\n} as IComplete\n</code></pre>\n"}], "owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3316, "favorite_count": 3, "accepted_answer_id": 51275608, "answer_count": 3, "score": 8, "last_activity_date": 1531268878, "creation_date": 1531266847, "question_id": 51275395, "link": "https://stackoverflow.com/questions/51275395/how-to-merge-2-partials-to-a-complete-object-in-typescript", "title": "How to merge 2 partials to a complete object in Typescript?", "body": "<p><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20IComplete%20%7B%0D%0A%20%20%20%20a%3A%20string%2C%0D%0A%20%20%20%20b%3A%20string%0D%0A%7D%0D%0A%0D%0Aconst%20part1%3A%20Partial%3CIComplete%3E%20%3D%20%7B%0D%0A%20%20%20%20a%3A%20&#39;hello&#39;%0D%0A%7D%0D%0A%0D%0Aconst%20part2%3A%20Partial%3CIComplete%3E%20%3D%20%7B%0D%0A%20%20%20%20b%3A%20&#39;world&#39;%0D%0A%7D%0D%0A%0D%0Aconst%20together%3A%20IComplete%20%3D%20%7B%0D%0A%20%20%20%20...part1%2C%0D%0A%20%20%20%20...part2%0D%0A%7D\" rel=\"noreferrer\">See a playground of this question here</a></p>\n\n<p>I have an interface that requires all props. However, creating the object is a two-step process. Therefore I am planning to create 2 <code>Partial</code> versions of the object, and then merge them together to satisfy the non-partial interface. Example:</p>\n\n<pre><code>interface IComplete {\n    a: string,\n    b: string\n}\n\nconst part1: Partial&lt;IComplete&gt; = {\n    a: 'hello'\n}\n\nconst part2: Partial&lt;IComplete&gt; = {\n    b: 'world'\n}\n\nconst together: IComplete = {\n    ...part1,\n    ...part2\n}\n</code></pre>\n\n<p>Even though <code>together</code> is always complete, the compiler complains:</p>\n\n<blockquote>\n  <p>Type '{ a?: string; b?: string; }' is not assignable to type\n  'IComplete'.   Property 'a' is optional in type '{ a?: string; b?:\n  string; }' but required in type 'IComplete'.</p>\n</blockquote>\n\n<p>Is there a recommended way to achieve this? It is important for my case that the interface <code>IComplete</code> is <em>not</em> made partial. I.e. the props a and b are never null or undefined.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "tsc"], "answers": [{"tags": [], "owner": {"reputation": 16219, "user_id": 8011544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-YtCjSKj6bBY/AAAAAAAAAAI/AAAAAAAAAAs/xLARQPguzJs/photo.jpg?sz=128", "display_name": "Melchia", "link": "https://stackoverflow.com/users/8011544/melchia"}, "is_accepted": false, "score": 0, "last_activity_date": 1531270671, "last_edit_date": 1531270671, "creation_date": 1531266277, "answer_id": 51275333, "question_id": 51275269, "link": "https://stackoverflow.com/questions/51275269/typescript-create-generic-callback-type/51275333#51275333", "title": "TypeScript create generic callback type", "body": "<p>I think you wanted to use EVCallback instead</p>\n\n<pre><code>export type EVCallback&lt;T&gt; = (err: any, val: T) =&gt; void;\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>export const foo = function(v: string, EVCallback&lt;string&gt;){\n    cb(null, 'foo');\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 6, "last_activity_date": 1531266319, "creation_date": 1531266319, "answer_id": 51275339, "question_id": 51275269, "link": "https://stackoverflow.com/questions/51275269/typescript-create-generic-callback-type/51275339#51275339", "title": "TypeScript create generic callback type", "body": "<p>You need to add the generic to the <em>type</em> <code>type ErrorValueCallback&lt;T&gt;</code> </p>\n\n<h1>Fixed example</h1>\n\n<pre><code>export type ErrorValueCallback&lt;T&gt; = (err: any, val: T) =&gt; void; // FIX\n\nexport const foo = function(v: string, cb:ErrorValueCallback&lt;string&gt;){\n    cb(null, 'foo');\n};\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7898461"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1686, "favorite_count": 0, "accepted_answer_id": 51275339, "answer_count": 2, "score": 1, "last_activity_date": 1531270671, "creation_date": 1531265759, "question_id": 51275269, "link": "https://stackoverflow.com/questions/51275269/typescript-create-generic-callback-type", "title": "TypeScript create generic callback type", "body": "<p>Say I have this function definition:</p>\n\n<pre><code>export type ErrorValueCallback = (err: any, val?: any) =&gt; void;\n</code></pre>\n\n<p>a standard callback interface.  And I can use it like so:</p>\n\n<pre><code>export const foo = function(v: string, cb:ErrorValueCallback){\n    cb(null, 'foo');\n};\n</code></pre>\n\n<p>But what if want to make this callback generic, something like this:</p>\n\n<pre><code>export type EVCallback = &lt;T&gt;(err: any, val: T) =&gt; void;\n</code></pre>\n\n<p>that syntax works, but when I try to use it:</p>\n\n<pre><code>export const foo = function(v: string, cb:ErrorValueCallback&lt;string&gt;){\n    cb(null, 'foo');\n};\n</code></pre>\n\n<p>I get an error </p>\n\n<blockquote>\n  <p>ErrorValueCallback is not generic</p>\n</blockquote>\n\n<p>how do I what I am looking to do?</p>\n"}, {"tags": ["android", "typescript", "cordova", "cordova-plugins", "html-framework-7"], "comments": [{"owner": {"reputation": 5525, "user_id": 1122905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNBfX.png?s=128&g=1", "display_name": "Amit K. Saha", "link": "https://stackoverflow.com/users/1122905/amit-k-saha"}, "edited": false, "score": 0, "creation_date": 1531261855, "post_id": 51274727, "comment_id": 89527690, "body": "Did you try &lt;script src=&quot;cordova.js&quot;&gt;&lt;/script&gt; ? Removing &quot;./&quot; from src"}, {"owner": {"reputation": 11, "user_id": 10061563, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FzT5bb9c1rY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qVS30myihr_hsyVyS6g2W0Z8mJGg/mo/photo.jpg?sz=128", "display_name": "Compl&#228;x", "link": "https://stackoverflow.com/users/10061563/compl%c3%a4x"}, "reply_to_user": {"reputation": 5525, "user_id": 1122905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNBfX.png?s=128&g=1", "display_name": "Amit K. Saha", "link": "https://stackoverflow.com/users/1122905/amit-k-saha"}, "edited": false, "score": 0, "creation_date": 1531263351, "post_id": 51274727, "comment_id": 89528067, "body": "Thanks for your reply, unfortunately I did."}, {"owner": {"reputation": 5525, "user_id": 1122905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNBfX.png?s=128&g=1", "display_name": "Amit K. Saha", "link": "https://stackoverflow.com/users/1122905/amit-k-saha"}, "edited": false, "score": 0, "creation_date": 1531263548, "post_id": 51274727, "comment_id": 89528106, "body": "Surprising that it doesn&#39;t work for a particular device. What is the api level in the device?"}, {"owner": {"reputation": 11, "user_id": 10061563, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FzT5bb9c1rY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qVS30myihr_hsyVyS6g2W0Z8mJGg/mo/photo.jpg?sz=128", "display_name": "Compl&#228;x", "link": "https://stackoverflow.com/users/10061563/compl%c3%a4x"}, "reply_to_user": {"reputation": 5525, "user_id": 1122905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNBfX.png?s=128&g=1", "display_name": "Amit K. Saha", "link": "https://stackoverflow.com/users/1122905/amit-k-saha"}, "edited": false, "score": 0, "creation_date": 1531354092, "post_id": 51274727, "comment_id": 89568849, "body": "Im suprised too. The api lvl is 19. Schould be ok?!"}], "owner": {"reputation": 11, "user_id": 10061563, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FzT5bb9c1rY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qVS30myihr_hsyVyS6g2W0Z8mJGg/mo/photo.jpg?sz=128", "display_name": "Compl&#228;x", "link": "https://stackoverflow.com/users/10061563/compl%c3%a4x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531261538, "creation_date": 1531261538, "question_id": 51274727, "link": "https://stackoverflow.com/questions/51274727/cordova-js-not-found-when-launching-with-samsung-s5-mini", "title": "cordova.js not found when launching with Samsung S5 Mini", "body": "<p>Im trying to show a map generated with the cordova-plugin-googlemaps.\nIt seems to work on newer devices but unfortunately not on my Samsung S5 Mini.\nUntil now im unable to find a solution or explanation for this problem.\nIf someone could give me a hint about this problem I would be very happy.</p>\n\n<p>Im completely new in using Framework7, Cordova, TS, JS, Require. So maybe im doing something basic absolutly wrong?! :P</p>\n\n<p><strong>end of index.html:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"./cordova.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" data-main=\"scripts/startup\" src=\"lib/require.2.1.8.js\" async&gt;&lt;/script&gt;\n</code></pre>\n\n<p><strong>startup.ts:</strong></p>\n\n<pre><code>import * as Application from './application';\nimport { checkLogin } from \"./loginManager\";\nimport { initVirtualList} from \"./virtualList\";\n\ndeclare var require: (modules: string[], ready: Function, errback: Function) =&gt; void;\n\n// Try and load platform-specific code from the /merges folder.\n// More info at http://taco.visualstudio.com/en-us/docs/configure-app/#Content.\n\ndeclare var Framework7: any;\ndeclare var routes: any;\nexport var app;\n\nfunction initFramework7(): void {\n\n   app = new Framework7({\n    root: '#app', // App root element\n    id: 'io.framework7.testapp', // App bundle ID\n    name: 'Framework7', // App name\n    theme: 'auto',\n    // Automatic theme detection\n    // App root data\n    routes: routes\n\n});\n\n// Init/Create main view\nvar mainView = app.views.create('.view-main', {\n    url: '/'\n});\n\n}\n\n\nrequire([\"./routes\", \"./platformOverrides\"], () =&gt; {\ninitFramework7();\nApplication.initialize();\ncheckLogin();\ninitVirtualList(\"my-tasks\", \"Aufgabe\", \"id: \");\ninitVirtualList(\"find-grave\", \"Grab\", \"id: \");\n},\n() =&gt; alert(\"Initalising Error\"));\n</code></pre>\n\n<p><strong>application.ts:</strong></p>\n\n<pre><code>\"use strict\";\nimport * as mm from \"./mapManager\";\n\nexport function initialize(): void {\ndocument.addEventListener('deviceready', onDeviceReady, false);\n}\n\nfunction onDeviceReady(): void {\ndocument.addEventListener('pause', onPause, false);\ndocument.addEventListener('resume', onResume, false);\n\n// TODO: Cordova has been loaded. Perform any initialization that requires Cordova here.\n\nalert(\"Cordova Geladen\");\nmm.init();\n\n}\n\nfunction onPause(): void {\n\nalert(\"Cordova Pause\");\n// TODO: This application has been suspended. Save application state here.\n}\n\nfunction onResume(): void {\n\nalert(\"Cordova Resume\");\n// TODO: This application has been reactivated. Restore application state here.\n}\n</code></pre>\n\n<p><strong>mapManager.ts:</strong></p>\n\n<pre><code>declare var Dom7;\ndeclare var plugin:any\n\n\nexport function init(): void {\n\n    Dom7(document).on('page:init', '.page[data-name=\"navigation\"]', function (e)     {\n\n    var div = document.getElementById(\"map\");\n    var map = plugin.google.maps.Map.getMap(div);\n\n});\n};\n</code></pre>\n\n<p><strong>Project.properties:</strong></p>\n\n<pre><code>target=android-23\nandroid.library.reference.1=CordovaLib\ncordova.gradle.include.1=cordova-plugin-googlemaps/myappa17616-tbxml-android.gradle\ncordova.system.library.1=com.google.android.gms:play-services-maps:15.0.1\ncordova.system.library.2=com.google.android.gms:play-services-location:15.0.1\ncordova.system.library.3=com.android.support:support-core-utils:26.1.0\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "mobx"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1531267034, "creation_date": 1531267034, "answer_id": 51275409, "question_id": 51274228, "link": "https://stackoverflow.com/questions/51274228/mobx-computed-getter-is-never-evaluated/51275409#51275409", "title": "mobx computed getter is never evaluated", "body": "<blockquote>\n  <p>Why is that?</p>\n</blockquote>\n\n<p>Because you are spreading the instances e.g. <code>&lt;Roof {...this.allMountings.find(x =&gt; x.id === \"roof\") } /&gt;</code> </p>\n\n<p>Spread does not invoke getters: </p>\n\n<pre><code>class Foo { \n  x = 123;\n  get y() {\n    return 456\n  }\n}\n\nconsole.log({ ...new Foo() }); // {x:123} NO `y`\n</code></pre>\n"}], "owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 51275409, "answer_count": 1, "score": 1, "last_activity_date": 1531267034, "creation_date": 1531258534, "question_id": 51274228, "link": "https://stackoverflow.com/questions/51274228/mobx-computed-getter-is-never-evaluated", "title": "mobx computed getter is never evaluated", "body": "<p>Thats my stackblitz/codepen: <a href=\"https://stackblitz.com/edit/svgtest?file=MountingViewModel.tsx\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/svgtest?file=MountingViewModel.tsx</a></p>\n\n<pre><code> import { observable, computed } from 'mobx';\n\nexport class MountingViewModel  \n{\n  constructor(isSelected: boolean, id: string, callback: (mounting: string) =&gt; any)\n  {\n    this.isSelected = isSelected;\n    this.id = id;\n    this.callback = callback;\n  }\n\n  @observable public isSelected: boolean;\n  public id: string;\n  public callback: Function;\n\n  @computed get opacity() : number\n  {\n    console.log(this.isSelected);\n    return this.isSelected ? 0.2 : 1.0;\n  }\n}\n</code></pre>\n\n<p>the getter opacity() is never hit when I click the red/blue rectanges.</p>\n\n<p>Why is that?</p>\n"}, {"tags": ["javascript", "typescript", "types", "tsc"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 3, "creation_date": 1531258947, "post_id": 51274107, "comment_id": 89526781, "body": "Logged <a href=\"https://github.com/Microsoft/TypeScript/issues/25564\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/25564</a> because TypeScript shouldn&#39;t have suggested the same property name it was complaining about!"}, {"owner": {"reputation": 1082, "user_id": 1048589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fcdae74cd2211e3af8f90cb1432a4c3?s=128&d=identicon&r=PG", "display_name": "Tom Jenkinson", "link": "https://stackoverflow.com/users/1048589/tom-jenkinson"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1531297206, "post_id": 51274107, "comment_id": 89538370, "body": "Great! Do you know why it&#39;s actually complaining?"}], "owner": {"reputation": 1082, "user_id": 1048589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fcdae74cd2211e3af8f90cb1432a4c3?s=128&d=identicon&r=PG", "display_name": "Tom Jenkinson", "link": "https://stackoverflow.com/users/1048589/tom-jenkinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531257912, "creation_date": 1531257912, "question_id": 51274107, "link": "https://stackoverflow.com/questions/51274107/typescript-generic-restricted-by-extend-returned-from-function", "title": "Typescript generic restricted by extend, returned from function", "body": "<p>I'm not sure how to put this into words, so here is an example</p>\n\n<pre><code>type NonVoid = Object | object;\n\ntype Something&lt;T&gt; = {\n    test: string\n} &amp; (T extends NonVoid ? {\n    requiredWhenNonVoid: T\n} : {\n    requiredWhenNonVoid?: undefined\n});\n\n\nfunction testFunc1&lt;A extends NonVoid&gt;(a: A): Something&lt;NonVoid&gt; {\n    return {\n        test: 'test',\n        requiredWhenNonVoid: a\n    };\n}\n\nfunction testFunc2&lt;A extends NonVoid&gt;(a: A): Something&lt;A&gt; {\n    return {\n        test: 'test',\n        requiredWhenNonVoid: a // &lt;-- why error here? A cannot be void??\n    };\n}\n</code></pre>\n\n<p>On playground: <a href=\"http://www.typescriptlang.org/play/#src=type%20NonVoid%20%3D%20Object%20%7C%20object%3B%0D%0A%0D%0Atype%20Something%3CT%3E%20%3D%20%7B%0D%0A%20%20%20%20test%3A%20string%0D%0A%7D%20%26%20(T%20extends%20NonVoid%20%3F%20%7B%0D%0A%20%20%20%20requiredWhenNonVoid%3A%20T%0D%0A%7D%20%3A%20%7B%0D%0A%20%20%20%20requiredWhenNonVoid%3F%3A%20undefined%0D%0A%7D)%3B%0D%0A%0D%0A%0D%0Afunction%20testFunc1%3CA%20extends%20NonVoid%3E(a%3A%20A)%3A%20Something%3CNonVoid%3E%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20test%3A%20&#39;test&#39;%2C%0D%0A%20%20%20%20%20%20%20%20requiredWhenNonVoid%3A%20a%0D%0A%20%20%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20testFunc2%3CA%20extends%20NonVoid%3E(a%3A%20A)%3A%20Something%3CA%3E%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20test%3A%20&#39;test&#39;%2C%0D%0A%20%20%20%20%20%20%20%20requiredWhenNonVoid%3A%20a%20%2F%2F%20%3C--%20why%20error%20here%3F%20A%20cannot%20be%20void%3F%3F%0D%0A%20%20%20%20%7D%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">click here</a></p>\n\n<p>The question is, <strong>why does <code>testFunc2</code> have the following error</strong>?</p>\n\n<blockquote>\n  <p>Type '{ test: string; requiredWhenNonVoid: A; }' is not assignable to type 'Something'.\n    Object literal may only specify known properties, but 'requiredWhenNonVoid' does not exist in type 'Something'. Did you mean to write 'requiredWhenNonVoid'?</p>\n</blockquote>\n\n<p>It seems that the compiler doesn't know that <code>Something</code> can only be</p>\n\n<pre><code>type Something&lt;T&gt; = {\n    test: string\n} &amp; {\n    requiredWhenNonVoid: T\n};\n</code></pre>\n\n<p>in that case.</p>\n\n<p>Is this something that should be classed as a bug and can be fixed in the compiler, or am I missing something?</p>\n"}, {"tags": ["angular", "typescript", "ng-bootstrap"], "comments": [{"owner": {"reputation": 1288, "user_id": 8516155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jDpk.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/8516155/amit"}, "edited": false, "score": 0, "creation_date": 1531257786, "post_id": 51273915, "comment_id": 89526352, "body": "why did I get downvote"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531283395, "post_id": 51273915, "comment_id": 89532116, "body": "Show your response this line  console.log(res)"}, {"owner": {"reputation": 1288, "user_id": 8516155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jDpk.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/8516155/amit"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531300802, "post_id": 51273915, "comment_id": 89540778, "body": "{     &quot;isActive&quot;: false,     &quot;role&quot;: &quot;admin&quot;,     &quot;permissions&quot;: [         &quot;101&quot;,         &quot;202&quot;     ],     &quot;_id&quot;: &quot;5b39e0d0be883b029870bfc8&quot;,     &quot;firstName&quot;: &quot;Anish&quot;,     &quot;lastName&quot;: &quot;Kumar&quot;,     &quot;emailId&quot;: &quot;anish@gmail.com&quot;,     &quot;password&quot;: &quot;$2b$10$sQ1CCrtRy/Hvd3p3tje7t.A4.G7Jt2ayoETpniW8RlWSjkj1H77l&zwnj;&#8203;2&quot;,     &quot;mobileNumber&quot;: &quot;95990709xx&quot;,     &quot;createdAt&quot;: &quot;2018-07-02T08:22:40.223Z&quot;,     &quot;__v&quot;: 0 }"}, {"owner": {"reputation": 1288, "user_id": 8516155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jDpk.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/8516155/amit"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531300872, "post_id": 51273915, "comment_id": 89540827, "body": "@KarnanMuthukumar posted my response object"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531305764, "post_id": 51273915, "comment_id": 89544055, "body": "Iam added answer pls try and let me know."}, {"owner": {"reputation": 1288, "user_id": 8516155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jDpk.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/8516155/amit"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531329384, "post_id": 51273915, "comment_id": 89559779, "body": "@KarnanMuthukumar It worked . I did some minor changes for form validation. Thanks a Lot for your help"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531367583, "post_id": 51273915, "comment_id": 89571310, "body": "Glad to help you. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1531304694, "creation_date": 1531304694, "answer_id": 51283074, "question_id": 51273915, "link": "https://stackoverflow.com/questions/51273915/how-to-set-value-of-form-field-value-ng-bootstrap-model/51283074#51283074", "title": "How to set value of form field value ng-Bootstrap model", "body": "<p>Iam Added two way data binding for this form.</p>\n\n<p>Html File,</p>\n\n<pre><code> &lt;div class=\"modal-body\"&gt;\n    &lt;p&gt;Personal Information&lt;/p&gt;\n    &lt;form novalidate #updateUserForm=\"ngForm\" (ngSubmit)=\"updateUser(updateUserForm)\"&gt;\n        &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n            &lt;label class=\"col-sm-3\"&gt;Mobile Number\n                &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n            &lt;/label&gt;\n            &lt;label&gt;{{data.mobileNumber}}&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n            &lt;label class=\"col-sm-3\"&gt;First Name\n                &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n            &lt;/label&gt;\n            &lt;input type=\"text\" required [(ngModel)]=\"firstName\" required name=\"firstName\" class=\"form-control\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n            &lt;label class=\"col-sm-3\"&gt;Last Name\n                &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n            &lt;/label&gt;\n            &lt;input type=\"text\" required [(ngModel)]=\"lastName\" name=\"lastName\" class=\"form-control\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n            &lt;label class=\"col-sm-3\"&gt;Email\n                &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n            &lt;/label&gt;\n            &lt;input type=\"text\" required [(ngModel)]=\"email\" name=\"email\" class=\"form-control\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-inline container\"&gt;\n            &lt;input type=\"checkbox\" [(ngModel)]=\"changePassword\" name=\"changePassword\" class=\"form-control checkmark\"&gt; Change Password\n        &lt;/div&gt;\n        &lt;div id=\"updatePassword\" *ngIf=\"changePassword\"&gt;\n            &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                &lt;label class=\"col-sm-3\"&gt;Current Password\n                    &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                &lt;/label&gt;\n                &lt;input type=\"password\" required minlength=\"6\" name=\"currentPassword\" class=\"form-control\" [(ngModel)]=\"currentPasswordText\"&gt;\n            &lt;/div&gt;  \n            &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                &lt;label class=\"col-sm-3\"&gt;New Password\n                    &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                &lt;/label&gt;\n                &lt;input type=\"password\" required  minlength=\"6\" name=\"newPassword\" class=\"form-control\" [(ngModel)]=\"newPasswordText\"&gt;                    \n            &lt;/div&gt;\n            &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                &lt;label class=\"col-sm-3\"&gt;Confirm Password\n                    &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                &lt;/label&gt;\n                &lt;input type=\"password\" required minlength=\"6\" name=\"ConfirmPassword\" class=\"form-control\" [(ngModel)]=\"ConfirmPasswordText\"&gt;                    \n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-footer\"&gt;\n            &lt;input type=\"submit\" class=\"btn btn-primary\" value=\"SAVE\"&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Typescript File,</p>\n\n<pre><code>    //variable starts here\n\n    firstName:any;\n    lastName:any;\n    email:any;\n    changePassword:any;\n    currentPasswordText:any;\n    newPasswordText:any;\n    ConfirmPasswordText:any;\n\n    data={\n    \"isActive\": false,\n    \"role\": \"admin\",\n    \"permissions\": [\"101\", \"202\"],\n    \"_id\": \"5b39e0d0be883b029870bfc8\",\n    \"firstName\": \"Anish\",\n    \"lastName\": \"Kumar\",\n    \"emailId\": \"anish@gmail.com\",\n    \"password\": \"$2b$10$sQ1CCrtRy/Hvd3p3tje7t.A4.G7Jt2ayoETpniW8RlWSjkj1H77l2\",\n    \"mobileNumber\": \"95990709xx\",\n    \"createdAt\": \"2018-07-02T08:22:40.223Z\",\n    \"__v\": 0\n};\n    //variable ends here\n\n    //Add this line for assign values to textbox wherever you want\n\n    this.firstName=this.data.firstName;\n    this.lastName=this.data.lastName;\n    this.email=this.data.emailId;\n    this.currentPasswordText=this.data.password; // the password has been encrypted you have to decrypt\n\n  updateUser(formData){\n        console.log(\"Form Value\",formData.value); //here iam logged form value\n  }\n</code></pre>\n\n<p><strong>Note:-Iam removed your validation please add your validation part.</strong></p>\n\n<p>Output screenshot,</p>\n\n<p>The data value has been properly binding iam tested here is the sample screenshot.Iam tested using sample html file not properly designed but data binding properly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ovGUN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ovGUN.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope it's solve your problem.</p>\n"}], "owner": {"reputation": 1288, "user_id": 8516155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jDpk.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/8516155/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 833, "favorite_count": 0, "accepted_answer_id": 51283074, "answer_count": 1, "score": 2, "last_activity_date": 1531304694, "creation_date": 1531256930, "last_edit_date": 1531302313, "question_id": 51273915, "link": "https://stackoverflow.com/questions/51273915/how-to-set-value-of-form-field-value-ng-bootstrap-model", "title": "How to set value of form field value ng-Bootstrap model", "body": "<p>I am using <code>ng-template</code> for modal and once modal open I want to auto-populate value in it. But I every time my form is coming <code>undefined</code>. Is there any way we can achieve this?</p>\n\n<p>My code as follows: Code for Modal. I am calling <code>updateProfile()</code> function on click of a button on the page. I am using ng-bootstrap Modal.</p>\n\n<pre><code>/****Component.html*****/\n\n&lt;ng-template #profile let-c=\"close\" let-d=\"dismiss\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n        &lt;h4 class=\"modal-title\"&gt;Profile update&lt;/h4&gt;\n        &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\"&gt;\n            &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n        &lt;p&gt;Personal Information&lt;/p&gt;\n        &lt;form novalidate #updateUserForm=\"ngForm\" (ngSubmit)=\"updateUser(updateUserForm)\"&gt;\n            &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                &lt;label class=\"col-sm-3\"&gt;Mobile Number\n                    &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                &lt;/label&gt;\n                &lt;label&gt;{{data.mobileNumber}}&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                &lt;label class=\"col-sm-3\"&gt;First Name\n                    &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                &lt;/label&gt;\n                &lt;input type=\"text\" required ngModel required name=\"firstName\" class=\"form-control\" value=\"{{data.firstName}}\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                &lt;label class=\"col-sm-3\"&gt;Last Name\n                    &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                &lt;/label&gt;\n                &lt;input type=\"text\" required ngModel name=\"lastName\" class=\"form-control\" value=\"{{data.lastName}}\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                &lt;label class=\"col-sm-3\"&gt;Email\n                    &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                &lt;/label&gt;\n                &lt;input type=\"text\" required ngModel name=\"email\" class=\"form-control\" value=\"{{data.emailId}}\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-inline container\"&gt;\n                &lt;input type=\"checkbox\" [(ngModel)]=\"changePassword\" name=\"changePassword\" class=\"form-control checkmark\"&gt; Change Password\n            &lt;/div&gt;\n            &lt;div id=\"updatePassword\" *ngIf=\"changePassword\"&gt;\n                &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                    &lt;label class=\"col-sm-3\"&gt;Current Password\n                        &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                    &lt;/label&gt;\n                    &lt;input type=\"password\" required ngModel minlength=\"6\" name=\"currentPassword\" class=\"form-control\" [(ngModel)]=\"currentPasswordText\"\n                        #currentPassword=\"ngModel\"&gt;\n                    &lt;div *ngIf=\"currentPassword.invalid &amp;&amp; (currentPassword.dirty || currentPassword.touched || currentPassword.errors.minlength)\"\n                        class=\"alert alert-danger\"&gt;\n                        &lt;div *ngIf=\"currentPassword.errors.required\"&gt;\n                            Password is required.\n                        &lt;/div&gt;\n                        &lt;div *ngIf=\"currentPassword.errors.minlength\"&gt;\n                            Password must be at least 6 characters long.\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                    &lt;label class=\"col-sm-3\"&gt;New Password\n                        &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                    &lt;/label&gt;\n                    &lt;input type=\"password\" required ngModel minlength=\"6\" name=\"newPassword\" class=\"form-control\" [(ngModel)]=\"newPasswordText\"\n                        #newPassword=\"ngModel\"&gt;\n                    &lt;div *ngIf=\"newPassword.invalid &amp;&amp; (newPassword.dirty || newPassword.touched || newPassword.errors.minlength)\" class=\"alert alert-danger\"&gt;\n                        &lt;div *ngIf=\"newPassword.errors.required\"&gt;\n                            Password is required.\n                        &lt;/div&gt;\n                        &lt;div *ngIf=\"newPassword.errors.minlength\"&gt;\n                            Password must be at least 6 characters long.\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"form-inline margin-bottom form-padding\"&gt;\n                    &lt;label class=\"col-sm-3\"&gt;Confirm Password\n                        &lt;span class=\"asterisc\"&gt; *&lt;/span&gt;\n                    &lt;/label&gt;\n                    &lt;input type=\"password\" required ngModel minlength=\"6\" name=\"ConfirmPassword\" class=\"form-control\" [(ngModel)]=\"ConfirmPasswordText\"\n                        #ConfirmPassword=\"ngModel\"&gt;\n                    &lt;div *ngIf=\"ConfirmPassword.invalid &amp;&amp; (ConfirmPassword.dirty || ConfirmPassword.touched || ConfirmPassword.errors.minlength)\"\n                        class=\"alert alert-danger\"&gt;\n                        &lt;div *ngIf=\"ConfirmPassword.errors.required\"&gt;\n                            Password is required.\n                        &lt;/div&gt;\n                        &lt;div *ngIf=\"newPasswordText !== '' &amp;&amp; ConfirmPasswordText !== newPasswordText\" class=\"alert alert-danger\"&gt;\n                            Password didnot match\n                        &lt;/div&gt;\n                        &lt;div *ngIf=\"ConfirmPassword.errors.minlength\"&gt;\n                            Password must be at least 6 characters long.\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-footer\"&gt;\n                &lt;input type=\"submit\" class=\"btn btn-primary\" value=\"SAVE\"&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;!-- &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" class=\"btn btn-priamary set-col\" (click)=\"c('Close click')\"&gt;Save&lt;/button&gt;\n        &lt;/div&gt; --&gt;\n&lt;/ng-template&gt;\n\n/*typescript file**/\n\n\n\n\n\nopenProfile(profile){\n    let id = '5b39e0d0be883b029870bfc8';// hardcoded value\n    this.modalService.open(profile, { size: 'lg' });\n    this._service.getUserProfile(id).subscribe((res)=&gt;{\n      console.log(res);\n      this.data = res;\n      //this.form.controls['firstName'].setValue(res['firstName']);\n      //this.updateUserForm['']\n      this.UpdateUserForm.patchValue({\n        'firstName':this.data.firstName \n      })\n\n    },(error)=&gt;{\n      console.log(error)\n    });\n  }\n</code></pre>\n\n<p>/*response */</p>\n\n<pre><code>{\n    \"isActive\": false,\n    \"role\": \"admin\",\n    \"permissions\": [\n        \"101\",\n        \"202\"\n    ],\n    \"_id\": \"5b39e0d0be883b029870bfc8\",\n    \"firstName\": \"test\",\n    \"lastName\": \"test\",\n    \"emailId\": \"test@gmail.com\",\n    \"password\": \"$2b$10$sQ1CCrtRy/Hvd3p3tje7t.A4.G7Jt2ayoETpniW8RlWSjkj1H77l2\",\n    \"mobileNumber\": \"xxxxxxxxxx\",\n    \"createdAt\": \"2018-07-02T08:22:40.223Z\",\n    \"__v\": 0\n}\n</code></pre>\n"}, {"tags": ["typescript", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1531257413, "creation_date": 1531257413, "answer_id": 51274003, "question_id": 51273872, "link": "https://stackoverflow.com/questions/51273872/inferring-from-conditional-types-in-typescript-2-9-2/51274003#51274003", "title": "Inferring from conditional types in TypeScript 2.9.2", "body": "<p>I don't think inference from conditional types is implemented in TypeScript.  It's not really possible to implement in the general case anyway (how clever do you have to be to determine a function's input given its output?  probably more clever than a compiler).  In any case you probably don't need it.  What if you did something like this:</p>\n\n<pre><code>type Class&lt;T extends object&gt; = new (...args: any[]) =&gt; T\ntype Unconditional&lt;T extends Class&lt;Number&gt; | Class&lt;String&gt;&gt; = \n  T extends Class&lt;Number&gt; ? number : T extends Class&lt;String&gt; ? string : never\nfunction f&lt;CT extends Class&lt;Number&gt; | Class&lt;String&gt;, T=Unconditional&lt;CT&gt;&gt;(\n  conditional: CT\n) {}\n\nf(Number) // infers as CT=NumberConstructor, T=number\n</code></pre>\n\n<p>In this case you are using the <code>Unconditional</code> conditional type to produce <code>T</code> from <code>CT</code>... that is, instead of trying to infer the input from the output, you just calculate the output from the input.  </p>\n\n<p>You didn't specify where you need <code>T</code>... so I can't tell whether it's best to have the function be <code>f&lt;CT, T&gt;</code>, or instead just <code>f&lt;CT&gt;</code> and tell you to use <code>Unconditional&lt;CT&gt;</code> wherever you were planning to use <code>T</code>.  </p>\n\n<p>Anyway, hope that gives you some ideas.  Good luck.</p>\n"}], "owner": {"reputation": 2246, "user_id": 158851, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6085cc651e0f9f422ec8bb29dcac5d4e?s=128&d=identicon&r=PG", "display_name": "geeko", "link": "https://stackoverflow.com/users/158851/geeko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 51274003, "answer_count": 1, "score": 1, "last_activity_date": 1531257413, "creation_date": 1531256683, "question_id": 51273872, "link": "https://stackoverflow.com/questions/51273872/inferring-from-conditional-types-in-typescript-2-9-2", "title": "Inferring from conditional types in TypeScript 2.9.2", "body": "<p>How can I infer the type of T in TypeScript 2.9.2 here:</p>\n\n<pre><code>type Class&lt;T extends object&gt; = new(...args: any[]) =&gt; T\ntype Conditional&lt;T&gt; = T extends number ? Class&lt;Number&gt; : T extends string ? Class&lt;String&gt; : never\nfunction&lt;T&gt;(conditional: Conditional&lt;T&gt;) {}\nf(Number) // I want to infer T here from given Number\n</code></pre>\n\n<p>I want to infer T = number but instead I get an error saying NumberConstructor is assignable to never!</p>\n\n<p>Does TypeScript automatic type inference works here?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1531256533, "last_edit_date": 1531256533, "creation_date": 1531256220, "answer_id": 51273781, "question_id": 51273628, "link": "https://stackoverflow.com/questions/51273628/something-like-object-rest-in-typescript-similar-to-partialt/51273781#51273781", "title": "Something like object rest in Typescript? similar to Partial&lt;T&gt;", "body": "<p>Using <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a> (specifically <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#predefined-conditional-types\" rel=\"nofollow noreferrer\"><code>Exclude</code></a>) and <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> (specifically <code>Pick</code> and <code>Partial</code>), you can express the idea of taking an existing type and selectively turning some of its properties into optional properties:</p>\n\n<pre><code>type Optionalize&lt;T, K extends keyof T&gt; = \n  Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt; &amp; Partial&lt;Pick&lt;T, K&gt;&gt;\n</code></pre>\n\n<p>That basically says that <code>Optionalize&lt;T, K&gt;</code> is what you get when you take out the properties with keys in <code>K</code> and make them optional, and leave all the rest of the properties as-is.</p>\n\n<pre><code>interface Params2 extends Optionalize&lt;Params, 'a'&gt; {}\n</code></pre>\n\n<p>You can verify that <code>Params2</code> is equivalent to </p>\n\n<pre><code>{a?: string, b: number, c: boolean}\n</code></pre>\n\n<p>as desired.</p>\n\n<hr>\n\n<p>A different idea: your <code>Params</code> is actually narrower than <code>Params2</code> so while you can't get <code>Params2</code> by extending <code>Params</code>, you <em>can</em> do the reverse:</p>\n\n<pre><code>interface Params2 {\n  a?: string\n  b: number\n  c: boolean\n}\ninterface Params extends Params2 {\n  a: string\n}\n</code></pre>\n\n<p>This may or may not work for you, but it might be more straightforward than doing the <code>Optionalize</code> type-juggling above. </p>\n\n<hr>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 7288, "user_id": 692528, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6c3537e43d6c6e2608cc0b149a497bc2?s=128&d=identicon&r=PG", "display_name": "Joon", "link": "https://stackoverflow.com/users/692528/joon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 51273781, "answer_count": 1, "score": 1, "last_activity_date": 1531256533, "creation_date": 1531255508, "question_id": 51273628, "link": "https://stackoverflow.com/questions/51273628/something-like-object-rest-in-typescript-similar-to-partialt", "title": "Something like object rest in Typescript? similar to Partial&lt;T&gt;", "body": "<p>Here's an simple example code:</p>\n\n<pre><code>interface Params {\n  a: string\n  b: number\n  c: boolean\n}\n\nconst f1 = (p1: Params) =&gt; void;\n\nconst f2 = (p2: Params2) =&gt; f1({a: 'default', ...p2});\n</code></pre>\n\n<p><code>f2</code> fills <code>Params.a</code> with a default value. Therefore, <code>Params2</code> is <code>Params</code> with <code>a?: string</code> (<code>a</code> being optional).</p>\n\n<p>How to create this <code>Params2</code> without manually listing <code>a</code>, <code>b</code>, <code>c</code>?</p>\n\n<p>I've tried the following, but it does not work:</p>\n\n<pre><code>interface Params2 extends Params {\n  a?: string\n}\n</code></pre>\n\n<p>Using <code>Partial&lt;T&gt;</code> is no good since it make all properties optional instead of making just <code>a</code> optional.</p>\n"}, {"tags": ["database", "angular", "typescript"], "comments": [{"owner": {"reputation": 1300, "user_id": 7400496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89e1409bdb29a036635f3ea387d74543?s=128&d=identicon&r=PG&f=1", "display_name": "yer", "link": "https://stackoverflow.com/users/7400496/yer"}, "edited": false, "score": 0, "creation_date": 1531254129, "post_id": 51273352, "comment_id": 89524829, "body": "where is the readData() called?"}, {"owner": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "edited": false, "score": 0, "creation_date": 1531254132, "post_id": 51273352, "comment_id": 89524832, "body": "please create a <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz.com</a> example with the problem."}, {"owner": {"reputation": 19, "user_id": 9746404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "mdguit", "link": "https://stackoverflow.com/users/9746404/mdguit"}, "edited": false, "score": 0, "creation_date": 1531254358, "post_id": 51273352, "comment_id": 89524918, "body": "What do you mean by &quot;where&quot;?"}, {"owner": {"reputation": 601, "user_id": 4906546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89e3e5182f580097b68f7f45dec5568?s=128&d=identicon&r=PG&f=1", "display_name": "Papa Kojo", "link": "https://stackoverflow.com/users/4906546/papa-kojo"}, "edited": false, "score": 0, "creation_date": 1531263044, "post_id": 51273352, "comment_id": 89527991, "body": "If you&#39;re calling <code>this.dataService.getData()</code> in the constructor or lifecycle hooks while also invoking <code>readData()</code> in any of them then that will be your problem."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2030471"}, "is_accepted": false, "score": 0, "last_activity_date": 1531256952, "creation_date": 1531256952, "answer_id": 51273924, "question_id": 51273352, "link": "https://stackoverflow.com/questions/51273352/getting-data-from-database-leading-to-endless-http-calls/51273924#51273924", "title": "Getting data from database leading to endless http calls", "body": "<p>Check if the readData is invoked during any of these events:</p>\n\n<pre><code>ngOnChanges\nngDoCheck\nngAfterContentChecked\nngAfterViewChecked\n</code></pre>\n\n<p>These lifecycle hooks may be invoked multiple times during the life of a component, and can cause multiple http calls to the backend in your case.</p>\n"}], "owner": {"reputation": 19, "user_id": 9746404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "mdguit", "link": "https://stackoverflow.com/users/9746404/mdguit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531256952, "creation_date": 1531254042, "question_id": 51273352, "link": "https://stackoverflow.com/questions/51273352/getting-data-from-database-leading-to-endless-http-calls", "title": "Getting data from database leading to endless http calls", "body": "<p>I have one problem. Once I am trying to extract data from database I am getting endless http requests for some reason, which crushing my app. How can I avoid this?</p>\n\n<pre><code>readData() {\nthis.dataService.getData()\n  .subscribe(resp =&gt; {\n    this.data = resp;\n    console.log(resp);\n  });\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531250721, "post_id": 51272524, "comment_id": 89523409, "body": "<code>subscribe</code> is used with observables, and <code>then</code> is used with promises."}, {"owner": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531250753, "post_id": 51272524, "comment_id": 89523432, "body": "async/await is not compatible with observables"}, {"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "reply_to_user": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531251010, "post_id": 51272524, "comment_id": 89523574, "body": "I have the same issue if I remove the promise, async, and await decorators. So it must not be an async/await issue."}, {"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "reply_to_user": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531251028, "post_id": 51272524, "comment_id": 89523581, "body": "But it&#39;s still definitely an issue."}, {"owner": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531251095, "post_id": 51272524, "comment_id": 89523617, "body": "If you remove async/await &amp; promise, this issue will persist because of asynchronous behavior of observable."}, {"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "reply_to_user": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531251231, "post_id": 51272524, "comment_id": 89523680, "body": "So, any idea what the issue even is? Why can I return an Object but not an array (with basically the same function)"}, {"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "reply_to_user": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531251408, "post_id": 51272524, "comment_id": 89523766, "body": "It works if I do <code>.subscribe((data: UserRole[]) =&gt; { data.forEach(p =&gt; result.push(p));});</code>"}, {"owner": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531251496, "post_id": 51272524, "comment_id": 89523797, "body": "Did you tried <code>enum within subscription</code>?"}, {"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "reply_to_user": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531251555, "post_id": 51272524, "comment_id": 89523817, "body": "I can log the enum from within the subscription"}, {"owner": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "edited": false, "score": 0, "creation_date": 1531289646, "post_id": 51272524, "comment_id": 89534252, "body": "Check out my answer, and the link provided in it. It explains the behaviour in case of looping"}], "answers": [{"tags": [], "owner": {"reputation": 243, "user_id": 9979778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PTKOxRxkt3w/AAAAAAAAAAI/AAAAAAAAAGI/6IRWleK36hU/photo.jpg?sz=128", "display_name": "Abhishek Jaiswal", "link": "https://stackoverflow.com/users/9979778/abhishek-jaiswal"}, "is_accepted": true, "score": 0, "last_activity_date": 1531290028, "last_edit_date": 1531290028, "creation_date": 1531253017, "answer_id": 51273165, "question_id": 51272524, "link": "https://stackoverflow.com/questions/51272524/angular-typescript-async-subscription-not-returning-as-expected/51273165#51273165", "title": "angular/typescript: async subscription not returning as expected", "body": "<p>Async/Await only works with Promises, <strong>not</strong> with RxJS Observables, <code>subscribe</code> works with observable, &amp; <code>then</code> works with promises.</p>\n\n<p>Here, both API calls works as observable. If you want Async/Await to work with Obervable, you should subscribe to an observable with <strong><code>forEach</code></strong> to create concurrent tasks in Async/Await. As shown here,</p>\n\n<p><a href=\"https://gist.github.com/benlesh/6ea17efa795b1b40820c0fba004d4c84#file-example4-js\" rel=\"nofollow noreferrer\">Subscribe to an Observable with forEach</a></p>\n\n<p>Here, when you subscribe to Objects, you are using forEach on response variable, So, Subscribed response data got treated, or I should say resubscribed via forEach, and it worked as per the rules shown in the link above.</p>\n\n<p>It also explains you query in comments on the question. Question was => Why does is work when I do <code>data.forEach(p =&gt; result.push(p))</code> instead of <code>result = data</code> in case of array subscription?</p>\n\n<p>Promises are used to subscribe to single instance of data, while observables for multiple data. Async/Await, as for now, works for single data only. When you use forEach looping, all those multiple instances of response data get subscribes one by one in may be promise fashion, or similar to it, depending on inner implementation. But simple subscription doesn't do that.</p>\n\n<p>Just like promises, if you subscribe observable using forEach, they are not cancellable too.</p>\n\n<p>Also, Even if it worked in this way. It would be recommended to use Async/Await with Promises, <strong>or</strong> Use forEach Subscription just as shown in the link to avoid any bug to emerge after any future updates.</p>\n"}], "owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 51273165, "answer_count": 1, "score": 1, "last_activity_date": 1531290028, "creation_date": 1531249918, "question_id": 51272524, "link": "https://stackoverflow.com/questions/51272524/angular-typescript-async-subscription-not-returning-as-expected", "title": "angular/typescript: async subscription not returning as expected", "body": "<p>I'm sure that the issue is that I'm a noob and don't completely understand the fundamentals of async/await.</p>\n\n<p>I have two functions: one returns an object and one returns an array (shown below). </p>\n\n<ul>\n    <li>The one that returns an Object returns as expected.</li>\n    <li>The one that returns an array returns `undefined`.</li>\n</ul>\n\n<p>What is the difference that is causing the hang-up?</p>\n\n<hr>\n\n<h3>userRole.service.ts</h3>\n\n<pre><code>async getUserRolesEnum(): Promise&lt;any&gt; {\n    var result: any = {};\n\n    await this.authHttp\n      .get&lt;UserRole[]&gt;(this.baseUrl + \"UserRoles\", { headers: this.httpOptions.headers }).subscribe((data: UserRole[]) =&gt; {\n        data.forEach(p =&gt; result[p.role] = p.id);\n      });\n\n    console.log(\"enum after subscription\");\n    console.log(result);\n    return result;\n}\n\nasync getUserRolesArray(): Promise&lt;UserRole[]&gt; {\n    var result: UserRole[];\n\n    await this.authHttp\n      .get&lt;UserRole[]&gt;(this.baseUrl + \"UserRoles\", { headers: this.httpOptions.headers }).subscribe((data: UserRole[]) =&gt; {\n        result = data;\n        console.log(\"array within subscription:\");\n        console.log(result);\n      });\n\n    console.log(\"array after subscription:\");\n    console.log(result);\n    return result;\n}\n</code></pre>\n\n<p><br></p>\n\n<h3>Chrome console at runtime:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/MRdiT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MRdiT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "typescript", "hapijs"], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 8152912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hond3.png?s=128&g=1", "display_name": "Ernest Jones", "link": "https://stackoverflow.com/users/8152912/ernest-jones"}, "edited": false, "score": 0, "creation_date": 1605353940, "post_id": 51274730, "comment_id": 114627592, "body": "Hi, is that syntax equivalent as <code>request.payload as SampleInput</code>?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 484, "user_id": 8152912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hond3.png?s=128&g=1", "display_name": "Ernest Jones", "link": "https://stackoverflow.com/users/8152912/ernest-jones"}, "edited": false, "score": 1, "creation_date": 1605385402, "post_id": 51274730, "comment_id": 114635795, "body": "@ErnestJones Yes, <code>as</code> is newer syntax that is generally more recommended because it needs no adjustments to be compatible with JSX."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 3, "last_activity_date": 1531262015, "last_edit_date": 1531262015, "creation_date": 1531261557, "answer_id": 51274730, "question_id": 51272034, "link": "https://stackoverflow.com/questions/51272034/node-js-typescript-how-to-assign-request-payload-to-self-defined-interface/51274730#51274730", "title": "Node.js Typescript how to assign Request.payload to self-defined interface", "body": "<p><code>&lt;object&gt;</code> type assertion didn't work because <code>SampleInput</code> is not just some random object, and <code>object</code> basically designates an object in general, i.e. non-primitive type that doesn't have specific keys (see <a href=\"https://blog.mariusschulz.com/2017/02/24/typescript-2-2-the-object-type\" rel=\"nofollow noreferrer\">this great explanation</a>). <code>SampleInput</code> is a superset of <code>object</code>. <code>SampleInput</code> can be assigned to <code>object</code> variable but not vice versa.</p>\n\n<p>Considering that it's known that <code>payload</code> is <code>SampleInput</code> because it was validated at runtime, it should be:</p>\n\n<pre><code>const input = &lt;SampleInput&gt;request.payload;\n</code></pre>\n\n<p>It's expected to work because <code>request.payload</code> is <em>string | <strong>object</strong> | Buffer | internal.Readable</em>, so it can be asserted as <em>SampleInput</em> (could require a hack like <code>&lt;SampleInput&gt;&lt;any&gt;request.payload</code> otherwise).</p>\n"}], "owner": {"reputation": 1711, "user_id": 7332645, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qtlBE.png?s=128&g=1", "display_name": "zhangjinzhou", "link": "https://stackoverflow.com/users/7332645/zhangjinzhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "accepted_answer_id": 51274730, "answer_count": 1, "score": 0, "last_activity_date": 1531262015, "creation_date": 1531247739, "last_edit_date": 1531248054, "question_id": 51272034, "link": "https://stackoverflow.com/questions/51272034/node-js-typescript-how-to-assign-request-payload-to-self-defined-interface", "title": "Node.js Typescript how to assign Request.payload to self-defined interface", "body": "<p>I have a node.js API in hapi.js framework. I want to create interfaces for user input payload. For example:</p>\n\n<p>Route definition:</p>\n\n<pre><code>{\n    path: \"/sample\",\n    method: \"POST\",\n    handler: myHandler,\n    options: {\n        validate: {\n            payload: {\n                number1: joi.number().required(),\n                string1: joi.string().required(),\n                number2: joi.number(),\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Handler:</p>\n\n<pre><code>interface SampleInput {\n    number1: number;\n    string1: string;\n    number2?: number;\n}\n\nconst myHandler = async (request, h): Promise&lt;string&gt; =&gt; {\n    const input: SampleInput = request.payload;\n\n    // any works but really want to get rid of this\n    const _input: any = request.payload;\n    const input: SampleInput = _input;\n\n    // Service body\n\n    return \"Hello World\";\n}\n</code></pre>\n\n<p>This code always shows some error like <code>Request.payload is not assignable to Sample</code>. The type of <code>Request.payload</code> is <code>string | object | Buffer | internal.Readable</code>. I tried with type guard <code>const input: SampleInput = (&lt;object&gt;request.payload);</code> but still get something like <code>{} is not assignable to Sample</code>.</p>\n\n<p>How can I define a type and assign payload directly to it?</p>\n"}, {"tags": ["typescript", "promise", "webdriver", "protractor"], "comments": [{"owner": {"reputation": 3192, "user_id": 6201042, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/984a64d990b47f74ad38d59ad827a94b?s=128&d=identicon&r=PG&f=1", "display_name": "Gunderson", "link": "https://stackoverflow.com/users/6201042/gunderson"}, "edited": false, "score": 1, "creation_date": 1531247855, "post_id": 51271741, "comment_id": 89522180, "body": "You are console.logging a promise.  You need to resolve it."}, {"owner": {"reputation": 29, "user_id": 9148077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f87baff9bd39d5928e871a7332bc502?s=128&d=identicon&r=PG&f=1", "display_name": "amitesh shukla", "link": "https://stackoverflow.com/users/9148077/amitesh-shukla"}, "reply_to_user": {"reputation": 3192, "user_id": 6201042, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/984a64d990b47f74ad38d59ad827a94b?s=128&d=identicon&r=PG&f=1", "display_name": "Gunderson", "link": "https://stackoverflow.com/users/6201042/gunderson"}, "edited": false, "score": 0, "creation_date": 1531291769, "post_id": 51271741, "comment_id": 89535277, "body": "@Gunderson : yes, It&#39;s similar to this one. I tried searching for this issue. But I didn&#39;t get the question. So that&#39;s why I myself posted."}], "answers": [{"comments": [{"owner": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "edited": false, "score": 0, "creation_date": 1531285280, "post_id": 51272834, "comment_id": 89532603, "body": "it may also be worth considering placing async before the () nd then saying let title = await browser.getTitle();"}, {"owner": {"reputation": 29, "user_id": 9148077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f87baff9bd39d5928e871a7332bc502?s=128&d=identicon&r=PG&f=1", "display_name": "amitesh shukla", "link": "https://stackoverflow.com/users/9148077/amitesh-shukla"}, "edited": false, "score": 0, "creation_date": 1531290089, "post_id": 51272834, "comment_id": 89534470, "body": "@BenMohorc: Yeah, you are right. It was happening because of the way I was using the console.log. After putting it inside the function it worked. Thanks !!"}, {"owner": {"reputation": 29, "user_id": 9148077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f87baff9bd39d5928e871a7332bc502?s=128&d=identicon&r=PG&f=1", "display_name": "amitesh shukla", "link": "https://stackoverflow.com/users/9148077/amitesh-shukla"}, "reply_to_user": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "edited": false, "score": 0, "creation_date": 1531290243, "post_id": 51272834, "comment_id": 89534552, "body": "@JeremyKahan: Yeah, I have not placed async. I will put it in &#39;browser.getTitle&#39;. Thanks!!"}, {"owner": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "edited": false, "score": 0, "creation_date": 1531309959, "post_id": 51272834, "comment_id": 89546811, "body": "await goes before browser.getTitle(). async precedes &quot;function&quot; (which is not actually spelled out in the arrow notation). Probably that is what you meant. If you do that, you should not need this whole .then structure (which is not a criticism of the current answer, just an alternative)"}, {"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "reply_to_user": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "edited": false, "score": 1, "creation_date": 1531320751, "post_id": 51272834, "comment_id": 89554916, "body": "@JeremyKahan I added the way to perform the same operation with async. Thanks for suggestion."}], "tags": [], "owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "is_accepted": true, "score": 0, "last_activity_date": 1531320656, "last_edit_date": 1531320656, "creation_date": 1531251392, "answer_id": 51272834, "question_id": 51271741, "link": "https://stackoverflow.com/questions/51271741/unable-to-run-protractor-test-script-using-typescript/51272834#51272834", "title": "Unable to run protractor test script using typescript", "body": "<p>As <strong>Gunderson</strong> said in comments: <code>You are console.logging a promise. You need to resolve it</code><br>\nThis occurs at this code segment:</p>\n\n<pre><code>let title = browser.getTitle();\nconsole.log(title);\n</code></pre>\n\n<p>In order to resolve  this, you can do</p>\n\n<pre><code>browser.getTitle().then(function(text) {\n  console.log(text);\n});\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/19941739/protractor-console-log\">Protractor console log</a> has a more in depth explanation.</p>\n\n<p>How to perform with async:  </p>\n\n<pre><code>it('should pass', async() =&gt; {\n  //other codez here\n  let title = await browser.getTitle();\n  console.log(title);\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9148077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f87baff9bd39d5928e871a7332bc502?s=128&d=identicon&r=PG&f=1", "display_name": "amitesh shukla", "link": "https://stackoverflow.com/users/9148077/amitesh-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "closed_date": 1531292785, "accepted_answer_id": 51272834, "answer_count": 1, "score": 0, "last_activity_date": 1531320656, "creation_date": 1531246479, "question_id": 51271741, "link": "https://stackoverflow.com/questions/51271741/unable-to-run-protractor-test-script-using-typescript", "closed_reason": "Duplicate", "title": "Unable to run protractor test script using typescript", "body": "<p>I am trying to run a protractor test script which is written in typescript. But when I do so, I get '<strong>ManagedPromise</strong>' in return. It doesn't show any error, just the 'ManagedPromise' in return</p>\n\n<p>My Typescript test:</p>\n\n<pre><code>   //import {describe, it} from \"selenium-webdriver/testing\";\nimport {browser, by, element} from \"protractor\";\n\ndescribe(\"For testing purpose\", () =&gt; {\n    it('should pass', () =&gt; {\n        browser.get(\"https://angularjs.org\");\n        element(by.model('todoList.todoText')).sendKeys('write first \n        protractor test');\n        element(by.css('[value=\"add\"]')).click();\n        let title = browser.getTitle();\n        console.log(title);\n    });\n});\n</code></pre>\n\n<p>My conf.js file:</p>\n\n<pre><code>  import {browser} from \"protractor\";\n\n  exports.config = {\n\n    directConnect: true,\n    capabilities: {\n        'browserName': 'chrome'\n    },\n\n    framework: 'jasmine2',\n\n    specs: ['./JSfiles/appExample.js'],\n\n    jasmineNodeOpts: {\n        showColors: true,\n        defaultTimeoutInterval: 9000\n        /* getPageTimeout: 3000,\n         allScriptsTimeout: 2000*/\n    },\n\n    onPreapre: () =&gt; {\n        browser.driver.manage().window().maximize();\n    }\n};\n</code></pre>\n\n<p>My package.json file:</p>\n\n<pre><code>    {\n  \"name\": \"typescript-dev-project\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"dependencies\": {\n    \"@types/jasminewd2\": \"^2.0.3\",\n    \"jasmine\": \"^3.1.0\",\n    \"jasminewd2\": \"^2.2.0\",\n    \"protractor\": \"^5.3.2\"\n  },\n  \"devDependencies\": {},\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\"\n}\n</code></pre>\n\n<p>My tsconfig.json file:</p>\n\n<pre><code>\"compilerOptions\": {\n/* Basic Options */\n\"target\": \"es5\",                          \n\"module\": \"commonjs\",\n\"esModuleInterop\": true,\n\"strict\": true,\n\"outDir\": \"./JSfiles\",\n</code></pre>\n\n<p>The response I get when I try to run the test:</p>\n\n<pre><code>   Started\nManagedPromise {\n  flow_:\n   ControlFlow {\n     propagateUnhandledRejections_: true,\n     activeQueue_:\n      TaskQueue {\n        name_: 'TaskQueue::101',\n        flow_: [Circular],\n        tasks_: [Array],\n        interrupts_: null,\n        pending_: null,\n        subQ_: null,\n        state_: 'new',\n        unhandledRejections_: Set {} },\n     taskQueues_: Set { [TaskQueue] },\n     shutdownTask_: null,\n     hold_:\n      Timeout {\n        _called: false,\n        _idleTimeout: 2147483647,\n        _idlePrev: [TimersList],\n        _idleNext: [TimersList],\n        _idleStart: 1694,\n        _onTimeout: [Function],\n        _timerArgs: undefined,\n        _repeat: 2147483647,\n        _destroyed: false,\n        [Symbol(unrefed)]: false,\n        [Symbol(asyncId)]: 109,\n        [Symbol(triggerId)]: 104 } },\n  stack_: null,\n  parent_:\n   ManagedPromise {\n     flow_:\n      ControlFlow {\n        propagateUnhandledRejections_: true,\n        activeQueue_: [TaskQueue],\n        taskQueues_: [Set],\n        shutdownTask_: null,\n        hold_: [Timeout] },\n     stack_: null,\n     parent_:\n      ManagedPromise {\n        flow_: [ControlFlow],\n        stack_: null,\n        parent_: [ManagedPromise],\n        callbacks_: [Array],\n        state_: 'pending',\n        handled_: true,\n        value_: undefined,\n        queue_: null },\n     callbacks_: [ [Task] ],\n     state_: 'pending',\n     handled_: true,\n     value_: undefined,\n     queue_: null },\n  callbacks_: null,\n  state_: 'pending',\n  handled_: false,\n  value_: undefined,\n  queue_: null }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "angular6", "pwa"], "comments": [{"owner": {"reputation": 20612, "user_id": 667767, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ab22d2f4c3742da613049b9401721942?s=128&d=identicon&r=PG", "display_name": "maxisam", "link": "https://stackoverflow.com/users/667767/maxisam"}, "edited": false, "score": 1, "creation_date": 1542656805, "post_id": 51271618, "comment_id": 93638930, "body": "<a href=\"https://alligator.io/angular/service-worker-updates/\" rel=\"nofollow noreferrer\">alligator.io/angular/service-worker-updates</a>"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 8882134, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DZsdDsQu-zY/AAAAAAAAAAI/AAAAAAAABrY/-gklDKQ_rHE/photo.jpg?sz=128", "display_name": "ramprakash seepana", "link": "https://stackoverflow.com/users/8882134/ramprakash-seepana"}, "edited": false, "score": 0, "creation_date": 1549920811, "post_id": 52037514, "comment_id": 96070862, "body": "Yeah, it&#39;s working fine. Thanks for the response :-)"}], "tags": [], "owner": {"reputation": 211, "user_id": 6168042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1603564846585295/picture?type=large", "display_name": "Ivan Tkachyshyn", "link": "https://stackoverflow.com/users/6168042/ivan-tkachyshyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1535366472, "creation_date": 1535366472, "answer_id": 52037514, "question_id": 51271618, "link": "https://stackoverflow.com/questions/51271618/pwa-app-update-alert-in-angular6/52037514#52037514", "title": "PWA app update alert in angular6", "body": "<p>You can do it with SwUpdate service like this:</p>\n\n<pre><code>@Injectable()\nexport class UpdateService {\n    constructor(swUpdate: SwUpdate) {\n        swUpdate.available.subscribe(event =&gt; {\n            // notify user that update is available\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 8882134, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DZsdDsQu-zY/AAAAAAAAAAI/AAAAAAAABrY/-gklDKQ_rHE/photo.jpg?sz=128", "display_name": "ramprakash seepana", "link": "https://stackoverflow.com/users/8882134/ramprakash-seepana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535366472, "creation_date": 1531245916, "question_id": 51271618, "link": "https://stackoverflow.com/questions/51271618/pwa-app-update-alert-in-angular6", "title": "PWA app update alert in angular6", "body": "<p>I have developed a PWA app in angular6 with @angular/pwa and it is working absolutely great. I am also trying to notify the user to update the PWA app when user opens the app if there is any update in the app. I have gone through different articles and blogs, and find <a href=\"https://medium.com/progressive-web-apps/pwa-create-a-new-update-available-notification-using-service-workers-18be9168d717\" rel=\"nofollow noreferrer\">this</a> article, but it is not for angular6. I am unable to add any eventListeners as service workers are automatically created. Please help me in resolving this issue. Thank you!</p>\n"}, {"tags": ["typescript", "for-loop", "asynchronous", "promise", "hyperledger-composer"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 3, "creation_date": 1531245768, "post_id": 51271327, "comment_id": 89521240, "body": "Has nothing to do with the promise. The issue here is that you have a <code>return</code> statement inside your loop, which means the loop executes one time, then the function returns, which prevents further iteration."}, {"owner": {"reputation": 302, "user_id": 6372787, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/B1Jrc.png?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/6372787/jake"}, "edited": false, "score": 3, "creation_date": 1531246696, "post_id": 51271327, "comment_id": 89521679, "body": "you can use a this.allPatients.forEach method and then the return statement wont short circuit the loop. If you want to wait for all of those promises to finish so you can do an action afterwards instead of returning it you can push them into an array and use a Promise.all on that."}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "edited": false, "score": 2, "creation_date": 1531255245, "post_id": 51271327, "comment_id": 89525310, "body": "Do you need the transactions to operate in serial, or can they be in parallel? To execute in parallel, I would <code>.map</code> the patients to promises then <code>await Promise.all(transactionPromises)</code>. If each transaction should wait until the previous one is finished, <code>await</code> the promise which will pause the loop."}, {"owner": {"reputation": 6670, "user_id": 7581325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05e455e80db445956b47c7355a0ac073?s=128&d=identicon&r=PG&f=1", "display_name": "Paul O&#39;Mahony", "link": "https://stackoverflow.com/users/7581325/paul-omahony"}, "edited": false, "score": 0, "creation_date": 1531316721, "post_id": 51271327, "comment_id": 89551702, "body": "note you will also run into trouble with non-deterministic code, when you do fix it ; this line <code>&#39;timestamp&#39;: new Date().getTime()</code> could/will be evaluated differently when the transaction proposals are simulated by endorsing peers (don&#39;t believe they&#39;ll get the same result)."}, {"owner": {"reputation": 1423, "user_id": 4474430, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fb03847fd2ceb68041b9aabfdd8ad773?s=128&d=identicon&r=PG&f=1", "display_name": "steady_progress", "link": "https://stackoverflow.com/users/4474430/steady-progress"}, "reply_to_user": {"reputation": 6670, "user_id": 7581325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05e455e80db445956b47c7355a0ac073?s=128&d=identicon&r=PG&f=1", "display_name": "Paul O&#39;Mahony", "link": "https://stackoverflow.com/users/7581325/paul-omahony"}, "edited": false, "score": 0, "creation_date": 1531339347, "post_id": 51271327, "comment_id": 89564333, "body": "@PaulO&#39;Mahony: tanks you for your comment ... you mean the endorsing peer and the committing peer would get different time stamps for the same transaction? If so, why would that be a problem?"}, {"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "edited": false, "score": 0, "creation_date": 1531532433, "post_id": 51271327, "comment_id": 89644353, "body": "Another possible reason of the issue is that you don&#39;t use <code>patient</code> in your service call; <code>this.transaction</code> would be formed with the same data (except <code>timestamp</code>) per each iteration."}], "owner": {"reputation": 1423, "user_id": 4474430, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fb03847fd2ceb68041b9aabfdd8ad773?s=128&d=identicon&r=PG&f=1", "display_name": "steady_progress", "link": "https://stackoverflow.com/users/4474430/steady-progress"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1531244702, "creation_date": 1531244702, "question_id": 51271327, "link": "https://stackoverflow.com/questions/51271327/typescript-for-loop-with-promise-not-working", "title": "typescript for-loop with promise not working", "body": "<p>I have a for-loop, which (in each iteration) sends a transaction to the blockchain. For some reason, this loop does not work. Only one of the the patients is processed.   </p>\n\n<p>Here's the loop:</p>\n\n<pre><code>for (let patient of this.allPatients) {\n\n        let patientString = 'org.hospital.carefabric.Patient#' + client.id;\n        let drugString = 'org.hospital.carefabric.Drug#' + this.drugId;\n\n        this.transaction = {\n         $class:'org.hospital.carefabric.AddDrugsToPatient',\n          'patient': patientString,\n          'newDrugs': [drugString],\n          'timestamp': new Date().getTime()\n        };\n\n        return this.addDrugsToPatientService.addTransaction(this.transaction)\n        .toPromise()\n        .then(() =&gt; {\n          this.errorMessage = null;\n        })\n        .catch((error) =&gt; {  \n            this.errorMessage = error;       \n        });\n\n}\n</code></pre>\n\n<p>I guess this has sth to do with the promise. But I just can't see what the problem is. </p>\n"}, {"tags": ["javascript", "node.js", "typescript", "promise"], "comments": [{"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 2, "creation_date": 1531243458, "post_id": 51271017, "comment_id": 89520170, "body": "<code>await promise</code> will return the promise result and not the actual promise. If you want the actual promise you can do <code>const promise = p; await promise;</code> then <code>promise</code> will be a resolved promise"}, {"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1531243531, "post_id": 51271017, "comment_id": 89520208, "body": "The code you posted isn&#39;t wrong, it follows the spec."}, {"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1531243534, "post_id": 51271017, "comment_id": 89520209, "body": "What&#39;s the purpose of the nested resolves?"}, {"owner": {"reputation": 5, "user_id": 7094362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7e83.jpg?s=128&g=1", "display_name": "Juan Lopez", "link": "https://stackoverflow.com/users/7094362/juan-lopez"}, "reply_to_user": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1531243551, "post_id": 51271017, "comment_id": 89520217, "body": "@apokryfos yeah, but the result should be given by <code>await await promise</code> the way I want it to be"}, {"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 4, "creation_date": 1531243616, "post_id": 51271017, "comment_id": 89520251, "body": "That sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>"}, {"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 1, "creation_date": 1531243617, "post_id": 51271017, "comment_id": 89520253, "body": "@JuanLopez - that&#39;s crazy. Why?"}, {"owner": {"reputation": 5, "user_id": 7094362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7e83.jpg?s=128&g=1", "display_name": "Juan Lopez", "link": "https://stackoverflow.com/users/7094362/juan-lopez"}, "reply_to_user": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 1, "creation_date": 1531243657, "post_id": 51271017, "comment_id": 89520274, "body": "@Batajus It is for an operation that takes a little bit of time to setup and then it starts doing a heavy operation, so I want the first promise to signal me when it has finished to set up and the inner promise to know when it has finished."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1531243687, "post_id": 51271017, "comment_id": 89520290, "body": "As it was said, this is XY problem. Please, provide all necessary information regarding your real problem instead of expected solution to this problem (which is wrong)."}, {"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1531243748, "post_id": 51271017, "comment_id": 89520317, "body": "@JuanLopez - you don&#39;t understand promises, the second promise will never start to execute until the first one is finished (and the result returned) anyway."}, {"owner": {"reputation": 5, "user_id": 7094362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7e83.jpg?s=128&g=1", "display_name": "Juan Lopez", "link": "https://stackoverflow.com/users/7094362/juan-lopez"}, "reply_to_user": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1531243806, "post_id": 51271017, "comment_id": 89520349, "body": "@Adam Ok, that&#39;s what I was looking for. Thanks! But Idk why though."}, {"owner": {"reputation": 5, "user_id": 7094362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7e83.jpg?s=128&g=1", "display_name": "Juan Lopez", "link": "https://stackoverflow.com/users/7094362/juan-lopez"}, "edited": false, "score": 0, "creation_date": 1531244086, "post_id": 51271017, "comment_id": 89520494, "body": "I have already found another solution so I&#39;ll rephrase the question to just ask why this is not possible."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1531244103, "post_id": 51271017, "comment_id": 89520501, "body": "Avoid the <a href=\"https://stackoverflow.com/q/23803743/1048572?What-is-the-promise-construction-antipattern-and-how-to-avoid-it\"><code>Promise</code> constructor antipattern</a>!"}, {"owner": {"reputation": 5, "user_id": 7094362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7e83.jpg?s=128&g=1", "display_name": "Juan Lopez", "link": "https://stackoverflow.com/users/7094362/juan-lopez"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1531244686, "post_id": 51271017, "comment_id": 89520775, "body": "@Bergi thanks! that&#39;s what I was looking for."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1531244827, "post_id": 51271017, "comment_id": 89520840, "body": "Btw, the <code>.catch((err) =&gt; reject1(1))</code> doesn&#39;t really work - the callback would happen after the call to <code>resolve1</code> and not do anything. Even worse, this produces a promise that is <i>fulfilled with <code>undefined</code></i> instead of being rejected, and that&#39;s the promise that your <code>resolve1(\u2026)</code> with."}], "owner": {"reputation": 5, "user_id": 7094362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7e83.jpg?s=128&g=1", "display_name": "Juan Lopez", "link": "https://stackoverflow.com/users/7094362/juan-lopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1531244247, "answer_count": 0, "score": 0, "last_activity_date": 1531243329, "creation_date": 1531243329, "question_id": 51271017, "link": "https://stackoverflow.com/questions/51271017/returning-a-promise-inside-another-not-working", "closed_reason": "Duplicate", "title": "Returning a promise inside another not working", "body": "<p>I'm trying to return a promise inside another by nesting two <code>resolve</code> functions as follows:</p>\n\n<pre><code>const a = new Promise((resolve1, reject1) =&gt; { \n    resolve1(new Promise((resolve2, reject2) =&gt; { \n        setTimeout(() =&gt; resolve2('finished'), 6000) \n    }).catch((err) =&gt; reject1(1))); \n});\n</code></pre>\n\n<p>The result of the operations <code>await a</code> is <code>finished</code> instead of <code>Promise {'finished', ...}</code></p>\n\n<p>After that I also tried using chaining</p>\n\n<pre><code>const a = new Promise((resolve, reject) =&gt; resolve('finished'))\n    .then((phrase) =&gt; { \n        return new Promise((resolve, reject) =&gt; resolve(phrase)) \n    });\n</code></pre>\n\n<p>Unfortunately, I got the same result as in the previous attempt. Why is it wrong to do it either way? What would be the correct way to do this without using extra class definitions?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531242735, "post_id": 51270824, "comment_id": 89519804, "body": "Could you edit your answer with modal + observable, would be awesome."}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531243047, "post_id": 51270824, "comment_id": 89519954, "body": "What do you mean by modal + observable?"}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531243057, "post_id": 51270824, "comment_id": 89519958, "body": "Json url has multiple objects : {[name] [name] [name] [name] [name]}"}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531243118, "post_id": 51270824, "comment_id": 89519993, "body": "Neither of the example works for me, i get only undefined."}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531243181, "post_id": 51270824, "comment_id": 89520043, "body": "can you post your JSON console.log(JSON.stringif(data));"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531243773, "post_id": 51270824, "comment_id": 89520334, "body": "copy and paste the text not the image"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "edited": false, "score": 0, "creation_date": 1531243920, "post_id": 51270824, "comment_id": 89520408, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174745/discussion-between-sajeetharan-and-andrius-la\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 2, "last_activity_date": 1531242469, "creation_date": 1531242469, "answer_id": 51270824, "question_id": 51270786, "link": "https://stackoverflow.com/questions/51270786/angular-2-json-getting-data-objects/51270824#51270824", "title": "Angular 2 json getting data objects", "body": "<p>You need to use array.find if you want to get the particular object name or price</p>\n\n<pre><code> this.http.get('this.url').subscribe((data : any) =&gt; {\n       let price = data.find(t=&gt;t.name ==='yourName').price;\n });\n</code></pre>\n\n<p>if its just an Object, you could access using the property,</p>\n\n<pre><code>ngOnInit() {\n    this.http.get('this.url').subscribe((data:any) =&gt; {\n      console.log(data.name);\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2043, "user_id": 5551731, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6bc4dfeb01fd4f4da799cf14377d591c?s=128&d=identicon&r=PG&f=1", "display_name": "Taranjit Kang", "link": "https://stackoverflow.com/users/5551731/taranjit-kang"}, "is_accepted": false, "score": 0, "last_activity_date": 1531242477, "creation_date": 1531242477, "answer_id": 51270826, "question_id": 51270786, "link": "https://stackoverflow.com/questions/51270786/angular-2-json-getting-data-objects/51270826#51270826", "title": "Angular 2 json getting data objects", "body": "<pre><code>  ngOnInit() {\n    this.http.get('this.url').subscribe((data:any) =&gt; {\n      console.log(data.name);\n\n    })\n</code></pre>\n\n<p>try with any, or you can create a model and replace any with the model (which reflects the data you will recieve)</p>\n"}], "owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 51270824, "answer_count": 2, "score": 0, "last_activity_date": 1531243854, "creation_date": 1531242357, "last_edit_date": 1531243854, "question_id": 51270786, "link": "https://stackoverflow.com/questions/51270786/angular-2-json-getting-data-objects", "title": "Angular 2 json getting data objects", "body": "<p>I got url which contains data arrays as json. I want to get and use all of the elements in it : </p>\n\n<p>By doing this, i get everything and nothing specific. <strong>For example : How to get data.name or data.price.... ?</strong></p>\n\n<pre><code>  ngOnInit() {\n    this.http.get('this.url').subscribe(data =&gt; {\n      console.log(data);\n\n    })\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "phaser-framework"], "comments": [{"owner": {"reputation": 7386, "user_id": 11912, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f43dfd72c066838b02985e4c6e7f4270?s=128&d=identicon&r=PG", "display_name": "James Skemp", "link": "https://stackoverflow.com/users/11912/james-skemp"}, "edited": false, "score": 0, "creation_date": 1531504518, "post_id": 51270146, "comment_id": 89636730, "body": "&quot;I found this issue that explain how to add a new definition&quot; are you missing a link?"}, {"owner": {"reputation": 1995, "user_id": 2263684, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/86294810cc8dccc906fe5d49c623f7a8?s=128&d=identicon&r=PG", "display_name": "Nek", "link": "https://stackoverflow.com/users/2263684/nek"}, "reply_to_user": {"reputation": 7386, "user_id": 11912, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f43dfd72c066838b02985e4c6e7f4270?s=128&d=identicon&r=PG", "display_name": "James Skemp", "link": "https://stackoverflow.com/users/11912/james-skemp"}, "edited": false, "score": 0, "creation_date": 1531594415, "post_id": 51270146, "comment_id": 89658311, "body": "yes, sorry I add it"}], "answers": [{"comments": [{"owner": {"reputation": 1995, "user_id": 2263684, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/86294810cc8dccc906fe5d49c623f7a8?s=128&d=identicon&r=PG", "display_name": "Nek", "link": "https://stackoverflow.com/users/2263684/nek"}, "edited": false, "score": 0, "creation_date": 1531691427, "post_id": 51343100, "comment_id": 89677493, "body": "It&#39;s always possible to write &quot;My.Lib.Namespace.Foo = function() { }&quot; in JS. In my case I justify it because the lib actually use &quot;Phaser.Physics.Box2D&quot; while it&#39;s not defined (and need to be so the lib can work properly with Box2D). So I guess you was speaking about something totally different than my problem."}, {"owner": {"reputation": 860, "user_id": 3080299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C4uFd.jpg?s=128&g=1", "display_name": "wilsonhobbs", "link": "https://stackoverflow.com/users/3080299/wilsonhobbs"}, "reply_to_user": {"reputation": 1995, "user_id": 2263684, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/86294810cc8dccc906fe5d49c623f7a8?s=128&d=identicon&r=PG", "display_name": "Nek", "link": "https://stackoverflow.com/users/2263684/nek"}, "edited": false, "score": 1, "creation_date": 1531703341, "post_id": 51343100, "comment_id": 89679437, "body": "In that case, you&#39;ll probably have to augment the library in JavaScript, and modify the typings in your custom header file (d.ts). TS tends to complain if you try to modify lib code"}, {"owner": {"reputation": 1995, "user_id": 2263684, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/86294810cc8dccc906fe5d49c623f7a8?s=128&d=identicon&r=PG", "display_name": "Nek", "link": "https://stackoverflow.com/users/2263684/nek"}, "edited": false, "score": 0, "creation_date": 1531729254, "post_id": 51343100, "comment_id": 89686928, "body": "That&#39;s indeed my last option. :("}], "tags": [], "owner": {"reputation": 860, "user_id": 3080299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C4uFd.jpg?s=128&g=1", "display_name": "wilsonhobbs", "link": "https://stackoverflow.com/users/3080299/wilsonhobbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1531599960, "creation_date": 1531599960, "answer_id": 51343100, "question_id": 51270146, "link": "https://stackoverflow.com/questions/51270146/add-class-to-existing-modules-external-library/51343100#51343100", "title": "Add class to existing modules (external library)", "body": "<p>You're not supposed to directly modify or extend external packages, because if the module is updated, then the code you added would be rewritten. Unfortunately, it is impossible to directly modify a library.</p>\n\n<p>The way most developers get around this is by writing their own augmentations and wrappers in their source code. That way, this custom class you have won't be rewritten by new <code>npm install</code>s.</p>\n\n<p>This is not unique to TypeScript, that's how it works for JavaScript too. The only reason you can augment types by yourself is because not all packages are typed, and for the sake of static typing, TS assumes you know better. Additionally, those types are not in the compiled code, so modifying them has no effect on the end product. However, for the actual executable code, TS and JS assumes that library author is right, forcing you to put your own changes in your own codebase.</p>\n"}, {"tags": [], "owner": {"reputation": 1995, "user_id": 2263684, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/86294810cc8dccc906fe5d49c623f7a8?s=128&d=identicon&r=PG", "display_name": "Nek", "link": "https://stackoverflow.com/users/2263684/nek"}, "is_accepted": true, "score": 0, "last_activity_date": 1531952804, "creation_date": 1531952804, "answer_id": 51411835, "question_id": 51270146, "link": "https://stackoverflow.com/questions/51270146/add-class-to-existing-modules-external-library/51411835#51411835", "title": "Add class to existing modules (external library)", "body": "<p>Here is the solution</p>\n\n<pre><code>import 'phaser-ce';\n\ndeclare global {\n    module Phaser {\n        module Physics {\n            class Box2D {\n                prop: number;\n                // Constructor declaration matters\n                constructor(param: WhateverType);\n            }\n        }\n    }\n}\n\nPhaser.Physics.Box2D = class {\n    public prop = 42;\n    constructor(private param: WhateverType) {}\n};\n</code></pre>\n"}], "owner": {"reputation": 1995, "user_id": 2263684, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/86294810cc8dccc906fe5d49c623f7a8?s=128&d=identicon&r=PG", "display_name": "Nek", "link": "https://stackoverflow.com/users/2263684/nek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 51411835, "answer_count": 2, "score": 1, "last_activity_date": 1531952804, "creation_date": 1531239928, "last_edit_date": 1531594440, "question_id": 51270146, "link": "https://stackoverflow.com/questions/51270146/add-class-to-existing-modules-external-library", "title": "Add class to existing modules (external library)", "body": "<p>I'm trying to extend Phaser by adding a new <code>Phaser.Physics.Box2D</code> module. Internally Phaser already use this module but it's an additional plugin and <strong>I want to define my own</strong>.</p>\n\n<p>I'm using TypeScript for my project. And I want to use it to extend phaser the right way. I found <a href=\"https://github.com/Microsoft/TypeScript/issues/10859\" rel=\"nofollow noreferrer\">this issue</a> that explain how to add a new definition (interface) but nothing about the addition of code (an implementation).</p>\n\n<p>Here is what I tried (I also tried many variants).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// This is part of phaser typescript definitions\n// The code I try to add is at the end.\n// You can test it on https://www.typescriptlang.org/play/index.html\ndeclare module \"phaser-ce\" {\n    export = Phaser;\n}\n\ndeclare class Phaser {\n    static VERSION: string;\n    static DEV_VERSION: string;\n    static GAMES: Phaser.Game[];\n}\n\ndeclare module Phaser {\n    enum blendModes {\n\n        NORMAL,\n        ADD,\n        MULTIPLY,\n        SCREEN,\n        OVERLAY,\n\n    }\n\n    class Animation {\n        onComplete: Phaser.Signal;\n        reverse(): Animation;\n        // More of course ...\n    }\n\n\n    class Signal {\n        active: boolean;\n        // More of course ...\n    }\n\n    class Game {\n        constructor(width?: number | string, height?: number | string, renderer?: number, parent?: any, state?: any, transparent?: boolean, antialias?: boolean, physicsConfig?: any);\n        context: CanvasRenderingContext2D;\n        // More of course ...\n    }\n\n    class Physics {\n\n        constructor(game: Phaser.Game, config?: any);\n\n        static ARCADE: number;\n        static P2JS: number;\n        static NINJA: number;\n        static BOX2D: number;\n        static CHIPMUNK: number;\n        static MATTERJS: number;\n\n        arcade: Phaser.Physics.Arcade;\n        config: any;\n        game: Phaser.Game;\n        ninja: Phaser.Physics.Ninja;\n        p2: Phaser.Physics.P2;\n        box2d: any; // Id like to override this, if you have any good idea I take it :p\n\n    }\n\n    module Physics {\n\n        class Arcade {\n\n        }\n\n        class Ninja {\n\n        }\n\n        class P2 {\n\n        }\n\n\n        module P2 {\n\n            class Body {\n\n                static DYNAMIC: number;\n                static STATIC: number;\n                static KINEMATIC: number;\n            }\n        }\n    }\n}\n\n\n// I want to add this class to the Physics module...\nclass MyAwesomeWork {\n    constructor(hello: string) {\n        console.log(hello);\n    }\n}\n\ndeclare module Phaser {\n    module Physics {\n        class Box2D {\n\n        }\n        module Box2D {\n            // ... But this fails :(\n            class Body {\n\n            }\n        }\n    }\n}\n\nPhaser.Physics.Box2D = MyAwesomeWork;\n</code></pre>\n"}, {"tags": ["javascript", "html", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1531240240, "post_id": 51270106, "comment_id": 89518575, "body": "Any errors in console? Can you try console.log in <code>type()</code> and see what gets logged. Also what is <code>getSelection</code>, if its ionic&#39;s internal method you are trying to get <code>.name</code> out of it instead of <code>.value</code> which could be the cause of your issue but not sure, post your findings hopefully that should lead to the root cause."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10059223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541fb78239e56a66f6e3cc9740c2cdc5?s=128&d=identicon&r=PG&f=1", "display_name": "Ash D", "link": "https://stackoverflow.com/users/10059223/ash-d"}, "edited": false, "score": 0, "creation_date": 1531905561, "post_id": 51276767, "comment_id": 89767317, "body": "Hi, Thank you so much for this, really appreciate it! Solved my issue perfectly! :D"}], "tags": [], "owner": {"reputation": 888, "user_id": 2846081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QfR7B.jpg?s=128&g=1", "display_name": "Mystery", "link": "https://stackoverflow.com/users/2846081/mystery"}, "is_accepted": true, "score": 0, "last_activity_date": 1531280312, "last_edit_date": 1531280312, "creation_date": 1531279415, "answer_id": 51276767, "question_id": 51270106, "link": "https://stackoverflow.com/questions/51270106/show-section-based-on-user-input-using-ng-if-or-ng-show/51276767#51276767", "title": "Show section based on user input using ng-if or ng-show", "body": "<p>Use the <code>ng-template</code> instead. You can use the <code>type</code> for the <code>ngIf</code> condition. Here:</p>\n\n<pre><code>&lt;h2&gt;Type:&lt;/h2&gt;\n&lt;ion-item&gt;\n    &lt;ion-select class=\"input\" [(ngModel)]=\"type\" placeholder=\"Please select\" text-right&gt;\n      &lt;ion-option&gt;Annually&lt;/ion-option&gt;\n      &lt;ion-option&gt;Monthly&lt;/ion-option&gt;\n      &lt;ion-option&gt;Weekly&lt;/ion-option&gt;\n      &lt;ion-option&gt;Daily&lt;/ion-option&gt;\n    &lt;/ion-select&gt;   \n&lt;/ion-item&gt;\n&lt;ion-item&gt;\n    &lt;div *ngIf=\"type=='Daily'; else elseBlock\"&gt;\n        &lt;h2&gt;Enter Start Date and Hour:&lt;/h2&gt;\n        &lt;ion-datetime displayFormat=\"DD-MM-YYYY\" [(ngModel)]=\"fromDate\"&gt;&lt;/ion-datetime&gt;\n        &lt;ion-datetime displayFormat=\"HH:MM A\" [(ngModel)]=\"fromTime\"&lt;/ion-datetime&gt;\n    &lt;/div&gt;\n&lt;/ion-item&gt;\n&lt;ng-template #elseBlock&gt;\n    &lt;div&gt;\n        &lt;h2&gt;Enter Start Date:&lt;/h2&gt;\n        &lt;ion-datetime&gt; displayFormat=\"DD-MM-YYYY\" [(ngModel)]=\"fromDate\" (ngModelChange)=\"dateChange($event, 'from' )\"&gt;&lt;/ion-datetime&gt;\n    &lt;/div&gt;\n&lt;/ng-template&gt;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10059223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541fb78239e56a66f6e3cc9740c2cdc5?s=128&d=identicon&r=PG&f=1", "display_name": "Ash D", "link": "https://stackoverflow.com/users/10059223/ash-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 51276767, "answer_count": 1, "score": 0, "last_activity_date": 1531280312, "creation_date": 1531239746, "question_id": 51270106, "link": "https://stackoverflow.com/questions/51270106/show-section-based-on-user-input-using-ng-if-or-ng-show", "title": "Show section based on user input using ng-if or ng-show", "body": "<p>So I have 2 sections and I only want one of them visible depending on the user input.</p>\n\n<p>When the user selects 'Daily' in the first 'type' input I would like the section 1 to show(Enter start date and hour). If the user selects any other type I would like section 2 to show(Enter start date).</p>\n\n<p>I'm quite new to coding and ionic and I've looked around and couldn't find an answer for this. This is what I've done so far, but it doesn't work.</p>\n\n<p>This is the html:</p>\n\n<pre><code>&lt;ion-content&gt;\n\n&lt;h2&gt;Type:&lt;/h2&gt;\n&lt;ion-item&gt;\n        &lt;ion-select class=\"input\"[(ngModel)]=\"type\" placeholder=\"Please select\" (click)=\"type()\" text-right&gt;\n          &lt;ion-option value=\"Annually\"&gt;Annually&lt;/ion-option&gt;\n          &lt;ion-option value=\"Monthly\"&gt;Monthly&lt;/ion-option&gt;\n          &lt;ion-option value=\"Weekly\"&gt;Weekly&lt;/ion-option&gt;\n          &lt;ion-option value=\"Daily\"&gt;Daily&lt;/ion-option&gt;\n        &lt;/ion-select&gt;   \n&lt;/ion-item&gt; \n\n//Section 1\n&lt;h2 *ngIf=\"showDaily\"&gt;Enter Start Date and Hour:&lt;/h2&gt;\n        &lt;ion-datetime displayFormat=\"DD-MM-YYYY\" [(ngModel)]=\"fromDate\"&gt;&lt;/ion-datetime&gt;\n        &lt;ion-datetime displayFormat=\"HH:MM A\" [(ngModel)]=\"fromTime\"&lt;/ion-datetime&gt;\n\n//Section 2\n&lt;h2 *ngIf=\"!showDaily\"&gt;Enter Start Date:&lt;/h2&gt;\n            &lt;ion-datetime&gt; displayFormat=\"DD-MM-YYYY\" [(ngModel)]=\"fromDate\" (ngModelChange)=\"dateChange($event, 'from' )\"&gt;&lt;/ion-datetime&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is in the .ts :</p>\n\n<pre><code>export class RequestPage {\n    public showDaily = selectedtype;\n\nconstructor(public navCtrl: NavController, public navParams: NavParams) {\n    this.type = getSelection;}\n\ntype() {\n    this.type = getSelection.name;\n    if (this.type=\"Daily\") {this.showDaily=true}\n    else {this.showDaily=false};\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "asynchronous", "observable", "subscribe"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1531239509, "post_id": 51269830, "comment_id": 89518215, "body": "You would have to do the processing inside of the <code>subscribe</code> callback. Is that a problem?"}, {"owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1531240743, "post_id": 51269830, "comment_id": 89518842, "body": "I&#39;ve tried that too, but data[] never gets populated inside of subscribe"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1531242369, "post_id": 51269830, "comment_id": 89519621, "body": "Please show us how you tried to do it."}, {"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1531242475, "post_id": 51269830, "comment_id": 89519683, "body": "<i>&quot;I&#39;ve tried that too,&quot;</i> How?"}, {"owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "edited": false, "score": 0, "creation_date": 1531243900, "post_id": 51269830, "comment_id": 89520397, "body": "I mean, if I compile the code like I&#39;ve show you in the OP the table gets populated with data[], I&#39;ve tried moving data[] after this.textt = res[0].title; and inside ngOnInit. That didn&#39;t work, table starts empty."}], "answers": [{"tags": [], "owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "is_accepted": true, "score": 2, "last_activity_date": 1531244378, "creation_date": 1531244378, "answer_id": 51271262, "question_id": 51269830, "link": "https://stackoverflow.com/questions/51269830/subscribe-returns-undefined/51271262#51271262", "title": "Subscribe() returns undefined", "body": "<p>You're right, the problem is that the <code>subscribe</code> works asynchronous.\nThe <code>data.title</code> isn't set at the creation, because <code>this.textt</code> is not set at the time the component is created and it will be set at another (not known) time. </p>\n\n<p>To update your <code>data</code> attribute. You can create it inside the subscription or you simply set the <code>title</code> inside it. </p>\n\n<pre><code>ngOnInit(): void {\n    this.tstService.getTstWithObservable()\n    .map(result =&gt; result.map(i =&gt; i.user.data))\n    .subscribe(\n       res =&gt; { \n           this.textt = res[0].title; \n           this.data.title = this.textt;\n       }\n   );\n}\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2610, "favorite_count": 0, "accepted_answer_id": 51271262, "answer_count": 1, "score": 1, "last_activity_date": 1531244378, "creation_date": 1531238703, "last_edit_date": 1531239109, "question_id": 51269830, "link": "https://stackoverflow.com/questions/51269830/subscribe-returns-undefined", "title": "Subscribe() returns undefined", "body": "<p>I'm not being able to use the result from subscribe() outside of subscribe(), console.log always returns undefined. My assumption is that it has something to do with the async thing but I don't know a workaround to make this work. Should I use promise instead?</p>\n\n<pre><code>export class MyComponent implements OnInit {\n    textt: String;\n\n    constructor(private tstService: MyComponentService) { this.source = new LocalDataSource(this.data) }\n\n    ngOnInit(): void {\n        this.tstService.getTstWithObservable()\n        .map(result =&gt; result.map(i =&gt; i.user.data))\n        .subscribe(\n           res =&gt; { this.textt = res[0].title; }\n       );\n    }\n\n    data = [\n        {\n          title: this.textt,\n          sdate: '01/04/1990',\n          edate: '30/09/1990',\n        },\n      ];\n\n    source: LocalDataSource;\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "angular-routing", "routerlink"], "answers": [{"comments": [{"owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531239443, "post_id": 51269929, "comment_id": 89518185, "body": "Read my complete question what I have asked"}], "tags": [], "owner": {"reputation": 73, "user_id": 8773059, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FyIqE6Pt1xs/AAAAAAAAAAI/AAAAAAAAACM/OFPiIqXrxls/photo.jpg?sz=128", "display_name": "Juan David Robles", "link": "https://stackoverflow.com/users/8773059/juan-david-robles"}, "is_accepted": false, "score": -1, "last_activity_date": 1531239085, "creation_date": 1531239085, "answer_id": 51269929, "question_id": 51269812, "link": "https://stackoverflow.com/questions/51269812/queryparams-within-routerlink-not-working/51269929#51269929", "title": "QueryParams within RouterLink not working", "body": "<p>Try this:</p>\n\n<pre><code>this.url = ['/question', 'ask']; //Maybe without slash: ['question', 'ask']\nthis.query = {details: 1};\n</code></pre>\n\n<p>Html:</p>\n\n<pre><code>&lt;a [routerLink]=\"url\" [queryParams]=\"query\"&gt;Somewhere&lt;/a&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531247640, "post_id": 51271486, "comment_id": 89522080, "body": "cant we use <code>decodeURI</code> to decode URL so that it decode special chars. Thanks for that detail ans though."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531247811, "post_id": 51271486, "comment_id": 89522167, "body": "@KamranKhatti no we can&#39;t, rather you can pass your own urlSerializer implementation by overriding <code>serialize</code> method, but rather I&#39;d prefer you to do it in this way. Did you check the stackblitz?"}, {"owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531248162, "post_id": 51271486, "comment_id": 89522316, "body": "I did but I think you missed something, its not rendering the value of <code>formattedUrl</code>"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531248313, "post_id": 51271486, "comment_id": 89522376, "body": "@KamranKhatti give me a moment. Just fixing missing part. Thanks for heads up"}, {"owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531251059, "post_id": 51271486, "comment_id": 89523600, "body": "That same solution I already did I am looking for any short solution which I am thinking angular should have coz the requirement is a regular not a special one so there should be a better solution instead of hacky or workaround. Thanks for your ans I am upvoting it though."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531251360, "post_id": 51271486, "comment_id": 89523740, "body": "@KamranKhatti better way to solve this solution could be create a component / directive, that will do all work for you :)"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531252109, "post_id": 51271486, "comment_id": 89524015, "body": "@KamranKhatti simplified version could look like this, please check <a href=\"https://stackblitz.com/edit/angular-mdcdxc?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz</a>. I&#39;d love to update answer if you like it."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531287377, "post_id": 51271486, "comment_id": 89533315, "body": "@KamranKhatti did you get chance to check the updated stackblitz?"}, {"owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531299684, "post_id": 51271486, "comment_id": 89539998, "body": "Yeah I did but that is pretty much same I am trying to avoid playing with URL (parsing and separating queryParam  etc), lets see if I get a better option still trying to get a better one otherwise this will be the ultimate solution."}, {"owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "edited": false, "score": 0, "creation_date": 1531300882, "post_id": 51271486, "comment_id": 89540836, "body": "Have a look at this one: <a href=\"https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f\" title=\"angular2 routerlink breaks routes by replacing slash with 2f\">stackoverflow.com/questions/36597832/&hellip;</a>"}, {"owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1531300891, "post_id": 51271486, "comment_id": 89540837, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174782/discussion-between-kamran-khatti-and-pankaj-parkar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": false, "score": 2, "last_activity_date": 1531249356, "last_edit_date": 1531249356, "creation_date": 1531245339, "answer_id": 51271486, "question_id": 51269812, "link": "https://stackoverflow.com/questions/51269812/queryparams-within-routerlink-not-working/51271486#51271486", "title": "QueryParams within RouterLink not working", "body": "<p><strong>Short Answer:</strong> </p>\n\n<p>Whatever you pass inside <code>routerLink</code> directive will end up calling <code>encodeURI</code> function on value that have been passed.</p>\n\n<hr>\n\n<p><strong>Long Answer</strong></p>\n\n<p>This happens because when you directly pass whole url inside <code>routerLink</code> it eventually call <a href=\"https://github.com/angular/angular/blob/6.0.7/packages/router/src/directives/router_link.ts#L230\" rel=\"nofollow noreferrer\"><code>serializeUrl</code></a> method of <code>routerLink</code> directive. Which call <code>serialize</code> method of <code>urlSerializer</code>. The implementation of serialize method looks like below. <a href=\"https://github.com/angular/angular/blob/6.0.7/packages/router/src/url_tree.ts#L284-L292\" rel=\"nofollow noreferrer\">code link here</a></p>\n\n<pre><code>serialize(tree: UrlTree): string {\n    const segment = `/${serializeSegment(tree.root, true)}`;\n    const query = serializeQueryParams(tree.queryParams);\n    const fragment =\n        typeof tree.fragment === `string` ? `#${encodeUriFragment(tree.fragment !)}` : '';\n\n    return `${segment}${query}${fragment}`;\n}\n\nexport function encodeUriFragment(s: string): string {\n    return encodeURI(s);\n}\n</code></pre>\n\n<hr>\n\n<p>Possible workaround to solve this issue could be, decode the URL by using angular <code>Router</code>'s inbuilt method called as <code>parseUrl</code> method. Which basically help you to find <code>root</code> of the <code>URL</code> and <code>params</code>, <code>queryParams</code>, etc. </p>\n\n<p><strong>Component</strong></p>\n\n<pre><code>@Component({\n  ...\n})\nexport class AppComponent {\n  name = 'Angular 6';\n  url: any;\n  formattedUrl: any;\n  params: any = {};\n\n  constructor(private router: Router) {\n  }\n\n  ngOnInit() {\n    this.urlDecoder();\n  }\n\n  urlDecoder() {\n    this.url = '/a?i=1 a';\n    let parsedUrl = this.router.parseUrl(this.url);\n    console.log(parsedUrl)\n    const g: UrlSegmentGroup = parsedUrl.root.children[PRIMARY_OUTLET];\n    const s: UrlSegment[] = g.segments;\n    this.formattedUrl = `${s.map(p =&gt; p.path).join('/')}`; // this is required to combine all continued segment\n    this.params = parsedUrl.queryParams;\n  }\n}\n</code></pre>\n\n<p><strong>Html</strong></p>\n\n<pre><code>&lt;a [routerLink]=\"formattedUrl\" [queryParams]=\"params\"&gt;\n  Link Here\n&lt;/a&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fnzdcn\" rel=\"nofollow noreferrer\"><strong>Demo Stackblitz</strong></a></p>\n"}], "owner": {"reputation": 2302, "user_id": 1441362, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1lnUv.jpg?s=128&g=1", "display_name": "Kamran Khatti", "link": "https://stackoverflow.com/users/1441362/kamran-khatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2240, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1531249356, "creation_date": 1531238635, "last_edit_date": 1531238792, "question_id": 51269812, "link": "https://stackoverflow.com/questions/51269812/queryparams-within-routerlink-not-working", "title": "QueryParams within RouterLink not working", "body": "<p>I am passing dynamically generated URL with <code>queryParams</code> inside <code>[routerLink]</code> and it breaks routes.</p>\n\n<p>i.e: <code>this.url = '/question/ask?details=1'</code></p>\n\n<pre><code>&lt;a [routerLink]=\"url\"&gt; {{ data.name }}&lt;/a&gt;\n</code></pre>\n\n<p>When we mouseover it looks something like this <code>#/question/ask%3Fdetails%3D1</code> and breaks when we click.</p>\n\n<p>P.S: Since I am passing dynamic URLs so passing <code>[queryParams]</code> separetly not possible however this works:</p>\n\n<pre><code>&lt;a [routerLink]=\"/question/ask\" [queryParams]={details: 1}&gt; {{ data.name }}&lt;/a&gt;\n</code></pre>\n\n<p>Any solution we can pass a complete URL with <code>queryParams</code> inside <code>[routerLink]</code>?</p>\n"}]