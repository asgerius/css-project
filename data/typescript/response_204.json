[{"tags": ["javascript", "angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 3137, "user_id": 1456913, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4I8Lf.png?s=128&g=1", "display_name": "zer0", "link": "https://stackoverflow.com/users/1456913/zer0"}, "edited": false, "score": 0, "creation_date": 1544054191, "post_id": 53642580, "comment_id": 94144486, "body": "what does <code>this.UserService.getUsers()</code> return?"}, {"owner": {"reputation": 161, "user_id": 9388503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m17p2BWbznc/AAAAAAAAAAI/AAAAAAAAACU/Sk18lYhOtVQ/photo.jpg?sz=128", "display_name": "Mohamed Ali Lassoued", "link": "https://stackoverflow.com/users/9388503/mohamed-ali-lassoued"}, "reply_to_user": {"reputation": 3137, "user_id": 1456913, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4I8Lf.png?s=128&g=1", "display_name": "zer0", "link": "https://stackoverflow.com/users/1456913/zer0"}, "edited": false, "score": 0, "creation_date": 1544054294, "post_id": 53642580, "comment_id": 94144518, "body": "All users in json format."}], "answers": [{"tags": [], "owner": {"reputation": 3137, "user_id": 1456913, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4I8Lf.png?s=128&g=1", "display_name": "zer0", "link": "https://stackoverflow.com/users/1456913/zer0"}, "is_accepted": true, "score": 0, "last_activity_date": 1544057661, "last_edit_date": 1544057661, "creation_date": 1544054442, "answer_id": 53642653, "question_id": 53642580, "link": "https://stackoverflow.com/questions/53642580/length-property-does-not-exist-with-observables/53642653#53642653", "title": "Length property does not exist with observables", "body": "<p>If <code>getUsers()</code> is an Observable, you can try this. <code>users</code> doesn't have to be an Observable.</p>\n\n<pre><code>reloadData() {\n    this.UserService.getUsers().pipe(take(1))\n      .subscribe((users: any) =&gt; {\n        this.users = users;\n      });\n    console.log(this.users)\n    this.getTotalEmplyees();\n  }\n</code></pre>\n\n<p>If <code>getUsers()</code> is not an Observable, then <code>users</code> shouldn't be an Observable either</p>\n"}, {"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 2, "last_activity_date": 1544069772, "creation_date": 1544069772, "answer_id": 53644585, "question_id": 53642580, "link": "https://stackoverflow.com/questions/53642580/length-property-does-not-exist-with-observables/53644585#53644585", "title": "Length property does not exist with observables", "body": "<p>Your service is returning an Observable, you should use the convention to end Observable names with a $. Then you should use the async pipe in your template to subscribe to users$.</p>\n\n<pre><code>  users$: Observable&lt;User[]&gt;;\n\n  constructor(private UserService: UsersService) { }\n\n  ngOnInit() {\n    this.users$ = this.UserService.getUsers();\n  }\n</code></pre>\n\n<p>and in your template you can assign the subscription to a view variable called users and just access the length peoperty to get how many there are.</p>\n\n<pre><code>&lt;div *ngIf=\"users$ | async as users\"&gt;\n  There are this many users: {{users.length}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Here we have used the async pipe to subscribe to the observable and assign the array to a view variable called users. It is best to manage subscriptions to Observables this way in the template rather than in the TypeScript and have to worry about unsubscribing.</p>\n\n<p>Looping through an array to count how many there are is unnecessary as that is what the length property of the array already is.</p>\n"}], "owner": {"reputation": 161, "user_id": 9388503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m17p2BWbznc/AAAAAAAAAAI/AAAAAAAAACU/Sk18lYhOtVQ/photo.jpg?sz=128", "display_name": "Mohamed Ali Lassoued", "link": "https://stackoverflow.com/users/9388503/mohamed-ali-lassoued"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1673, "favorite_count": 0, "accepted_answer_id": 53642653, "answer_count": 2, "score": 1, "last_activity_date": 1544069772, "creation_date": 1544054024, "question_id": 53642580, "link": "https://stackoverflow.com/questions/53642580/length-property-does-not-exist-with-observables", "title": "Length property does not exist with observables", "body": "<p>I want to make a total for my users and display it but i get this issue</p>\n\n<blockquote>\n  <p>[ts] Proprety 'length' does not exist on type 'Observable User'. [2339]</p>\n</blockquote>\n\n<p>this is my ts file </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  users: Observable&lt;User[]&gt;;\r\n  totalEmplyees:number;\r\n  constructor(private UserService: UsersService) { }\r\n\r\n  ngOnInit() {\r\n    this.reloadData();\r\n  }\r\n  reloadData() {\r\n    this.users = this.UserService.getUsers();\r\n    console.log(this.users)\r\n    this.getTotalEmplyees();\r\n  }\r\n  getTotalEmplyees(){\r\n    let total = 0 ;\r\n   \r\n    for (let index = 0; index &lt; this.users.length; index++) {\r\n      total +=  1 ;\r\n    \r\n    }\r\n    this.totalEmplyees = total;\r\n    \r\n    console.log(this.totalEmplyees);\r\n  \r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i hope that somone suggest for me a solution for this issue.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "is_accepted": true, "score": 3, "last_activity_date": 1544051131, "creation_date": 1544051131, "answer_id": 53642151, "question_id": 53641840, "link": "https://stackoverflow.com/questions/53641840/type-string-is-not-assignable-to-type-arraybuffer-sharedarraybuffer-array/53642151#53642151", "title": "Type &#39;string&#39; is not assignable to type &#39;ArrayBuffer | SharedArrayBuffer | ArrayLike&lt;number&gt;&#39;", "body": "<p>The <code>fileReader.result</code> is of type <code>string | ArrayBuffer</code> which means it can be a <code>string</code> or <code>ArrayBuffer</code> depending on which method you call to read the file. The constructor for <code>Uint8Array</code> can only accept an <code>ArrayBuffer</code> that is why you get the error since for the compiler the result can also be a <code>string</code>.\nThe easy solution is to just say I know this will be an <code>ArrayBuffer</code> by casting it like this:</p>\n\n<pre><code>const arr = new Uint8Array(fileReader.result as ArrayBuffer).subarray(0, 4);\n</code></pre>\n\n<p>The better solution is to validate that the result is actually of the type you expect first and then the compiler will not complain because it knows it is of the correct type. </p>\n\n<pre><code>if (fileReader.result instanceof ArrayBuffer) {\n  const arr = new Uint8Array(fileReader.result).subarray(0, 4);\n  // the rest of your code\n} else {\n  throw new Error('Unexpected result');\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10751928, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MAS14pTLKdw/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hqrR_n1r7GWWoPPl1cRhWx5lgvuw/mo/photo.jpg?sz=128", "display_name": "Thad ", "link": "https://stackoverflow.com/users/10751928/thad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2445, "favorite_count": 1, "accepted_answer_id": 53642151, "answer_count": 1, "score": 1, "last_activity_date": 1544051131, "creation_date": 1544049494, "question_id": 53641840, "link": "https://stackoverflow.com/questions/53641840/type-string-is-not-assignable-to-type-arraybuffer-sharedarraybuffer-array", "title": "Type &#39;string&#39; is not assignable to type &#39;ArrayBuffer | SharedArrayBuffer | ArrayLike&lt;number&gt;&#39;", "body": "<p>Trying to validate mime type</p>\n\n<p>Error from VScode: ERROR in src/app/posts/post-create/mimie-type.validator.ts(12,36): error TS2345: Argument of type 'string | ArrayBuffer' is not assignable to parameter of type 'ArrayBuffer | SharedArrayBuffer | ArrayLike'.\n  Type 'string' is not assignable to type 'ArrayBuffer | SharedArrayBuffer | ArrayLike'.</p>\n\n<p>Issue is on line 12 with fileReader.result.... not sure exactly where I went wrong in the code. Any help is greatly appreciated    </p>\n\n<pre><code>import { AbstractControl } from '@angular/forms';\nimport { Observable, Observer } from 'rxjs';\n\nexport const mimeType = (\n  control: AbstractControl\n): Promise&lt;{ [key: string]: any }&gt; | Observable&lt;{ [key: string]: any }&gt; =&gt; {\n  const file = control.value as File;\n  const fileReader = new FileReader();\n  const frObs = Observable.create(\n    (observer: Observer&lt;{ [key: string]: any }&gt;) =&gt; {\n      fileReader.addEventListener('loadend', () =&gt; {\n        const arr = new Uint8Array(fileReader.result).subarray(0, 4);\n        let header = '';\n        let isValid = false;\n        for (let i = 0; i &lt; arr.length; i++) {\n          header += arr[i].toString(16);\n        }\n        switch (header) {\n          case '89504e47':\n            isValid = true;\n            break;\n          case 'ffd8ffe0':\n          case 'ffd8ffe1':\n          case 'ffd8ffe2':\n          case 'ffd8ffe3':\n          case 'ffd8ffe8':\n            isValid = true;\n            break;\n          default:\n            isValid = false; // Or you can use the blob.type as fallback\n            break;\n        }\n        if (isValid) {\n          observer.next(null);\n        } else {\n          observer.next({ invalidMimeType: true });\n        }\n        observer.complete();\n      });\n      fileReader.readAsArrayBuffer(file);\n    }\n  );\n  return frObs;\n};\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544051823, "post_id": 53642204, "comment_id": 94143853, "body": "Indeed, using <code>const reducedTag: Pick&lt;ToArray&lt;Tag&gt;, &#39;id&#39; | &#39;name&#39; | &#39;children&#39; | &#39;hierarchyName&#39;&gt; = { ... }</code> reports the error. Thank you Artem! That&#39;s something I didn&#39;t know!"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1544051782, "last_edit_date": 1544051782, "creation_date": 1544051444, "answer_id": 53642204, "question_id": 53641555, "link": "https://stackoverflow.com/questions/53641555/typescript-mapped-type-composition/53642204#53642204", "title": "Typescript mapped type composition", "body": "<p>I'm assuming that there are some definitions that look like those in your code (your actual code might be different, but this code is enough to demonstrate the problem):</p>\n\n<pre><code>interface Vector&lt;E&gt; {\n    elements: E[];\n    toArray(): E[];\n}\n\ninterface Tag {\n    id: string;\n    name: string;\n    children: Vector&lt;Tag&gt;;\n    hierarchyName: string;\n}\n\nlet t: Tag;\n</code></pre>\n\n<p>You are saying that you are getting expected error when one property is missing in this initializer:</p>\n\n<pre><code>const v1 = &lt;Pick&lt;Tag, 'id' | 'name' | 'children' | 'hierarchyName'&gt;&gt;{\n    id: t.id,\n    name: t.name,\n    children: t.children.toArray()\n};\n</code></pre>\n\n<p>Let's try to reduce it to a minimal example: remove <code>Pick</code>, and remove initializes for all properties:</p>\n\n<pre><code>const v2 = &lt;Tag&gt;{\n};\n</code></pre>\n\n<p><strong>There's no error.</strong></p>\n\n<p>Why? Because <code>&lt;Tag&gt;{}</code> is a <a href=\"https://github.com/Microsoft/TypeScript/pull/25541\" rel=\"nofollow noreferrer\">type</a> <a href=\"https://stackoverflow.com/questions/19461479/what-is-the-type-assertion-operator-for-in-typescript\">assertion</a>, it's identical to <code>{} as Tag</code> - you are forcing the compiler to believe that the value actually has <code>Tag</code> type.</p>\n\n<p>The compiler will seldom report errors for type assertions, after all, a type assertion is a way to tell the compiler that \"I know better\". In your case, it's reported only because <code>Tag</code> is a recursive type, it has <code>children</code> property which type is <code>Tag[]</code>, and it somehow makes the compiler to believe that a value can never be compatible with the type:</p>\n\n<pre><code>// error\nconst v2 = &lt;Tag&gt;{       \n    children: t.children.toArray()\n};\n</code></pre>\n\n<p>Transforming with <code>ToArray</code> makes type non-recursive: <code>children</code> in transformed type remain with <code>Tag</code> type, which is different from enclosing type, which makes the error go away.</p>\n\n<p>The proper way to catch these errors is to use type annotation for variable declarations, not type assertions:</p>\n\n<pre><code>const v3: Tag = {}; // error\n</code></pre>\n"}], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 53642204, "answer_count": 1, "score": 1, "last_activity_date": 1544051782, "creation_date": 1544048002, "question_id": 53641555, "link": "https://stackoverflow.com/questions/53641555/typescript-mapped-type-composition", "title": "Typescript mapped type composition", "body": "<p>Following this question <a href=\"https://stackoverflow.com/questions/53636570/typescript-custom-mapped-type\">Typescript custom mapped type</a> (thanks Titian Cernicova-Dragomir!)<br>\nI have this mapped type:</p>\n\n<pre><code>export type ToArray&lt;T&gt; = {\n    [P in keyof T]: T[P] extends Vector&lt;infer U&gt; ? Array&lt;U&gt; : T[P]\n}\n</code></pre>\n\n<p>Now, I want to join it with Pick.</p>\n\n<pre><code>&lt;Pick&lt;ToArray&lt;Tag&gt;, 'id' | 'name' | 'children' | 'hierarchyName'&gt;&gt;{\n    id: t.id,\n    name: t.name,\n    children: t.children.toArray()\n}\n</code></pre>\n\n<p>However the compiler doesn't force me to add <code>hierarchyName</code>, which does happen if I use:</p>\n\n<pre><code>&lt;Pick&lt;Tag, 'id' | 'name' | 'children' | 'hierarchyName'&gt;&gt;\n</code></pre>\n\n<p>How's that?</p>\n"}, {"tags": ["typescript", "typeguards"], "answers": [{"comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1544047833, "post_id": 53641502, "comment_id": 94142511, "body": "Ah the &#39;ol that = this +1"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 1, "creation_date": 1544047993, "post_id": 53641502, "comment_id": 94142568, "body": "@ChrisW. old solution with new use cases ;)"}, {"owner": {"reputation": 28041, "user_id": 64474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa57a471ad142a7699829b59d825712?s=128&d=identicon&r=PG", "display_name": "Miles", "link": "https://stackoverflow.com/users/64474/miles"}, "edited": false, "score": 0, "creation_date": 1617866285, "post_id": 53641502, "comment_id": 118428752, "body": "I think this answer is either partially incorrect or outdated. In TypeScript 3+, type guards can cross function boundaries for <code>const</code>-declared variables. Changing line 9 in the original question to <code>const g: object = new Test();</code> allows it to compile without errors. (It makes sense that <code>let</code> narrowing would not cross function boundaries because the variable could be reassigned back to an <code>object</code> before the function is called.)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 28041, "user_id": 64474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa57a471ad142a7699829b59d825712?s=128&d=identicon&r=PG", "display_name": "Miles", "link": "https://stackoverflow.com/users/64474/miles"}, "edited": false, "score": 0, "creation_date": 1617884312, "post_id": 53641502, "comment_id": 118436835, "body": "@Miles Nope, the issue is still there, specifically it has to do with the arrow function <code>() =&gt;</code>  <a href=\"https://www.typescriptlang.org/play?#code/FAYwNghgzlAEAqBTKAXWBvYtuxAewDtUAnAVxBT2IAoBKDLHAX0ewAtEww87YAuWCQCWBAOYMck2MUQpSxArABEACU7clAblawWLYABNE4CDNhhZscQLwAjAFbGU24EIBmsauJGoIBEIh4Hkio9JiSvAC8AHwSUtiiAHQcXDy02pJM2kxAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?#code/&hellip;</a>"}, {"owner": {"reputation": 28041, "user_id": 64474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa57a471ad142a7699829b59d825712?s=128&d=identicon&r=PG", "display_name": "Miles", "link": "https://stackoverflow.com/users/64474/miles"}, "edited": false, "score": 0, "creation_date": 1617905191, "post_id": 53641502, "comment_id": 118447271, "body": "You&#39;re using <code>let</code>, I said <code>const</code>: <a href=\"https://www.typescriptlang.org/play?#code/FAYwNghgzlAEAqBTKAXWBvYtuxAewDtUAnAVxBT2IAoBKDLHAX0ewAtEww87YAuWCQCWBAOYMck2MUQpSxArABEACU7clAblawWLYABNE4CDNyFUscQLwAjAFbGU24EIBmsauJGoIBEIh4Hkio9JiSvAC8AHwSUtiiAHQcXDy02pJM2kxAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?#code/&hellip;</a> That looks like narrowing crossing function boundaries to me."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 28041, "user_id": 64474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa57a471ad142a7699829b59d825712?s=128&d=identicon&r=PG", "display_name": "Miles", "link": "https://stackoverflow.com/users/64474/miles"}, "edited": false, "score": 0, "creation_date": 1617963552, "post_id": 53641502, "comment_id": 118463687, "body": "@Miles You are right, this seems to have changed, or I missed it at the time. I will add this workaroudn as well"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1617963640, "last_edit_date": 1617963640, "creation_date": 1544047726, "answer_id": 53641502, "question_id": 53641426, "link": "https://stackoverflow.com/questions/53641426/typescript-type-guards-and-fat-arrow-function/53641502#53641502", "title": "Typescript Type Guards and fat arrow function", "body": "<p>The narrowing that a type-guard does on a variable (or anything else) will not cross fucntion boundaries. This is a design limitation.</p>\n<p>A way to work around this issue is to assign <code>g</code> to a new variable, which will have it's type inferred based on the narrowing. Accessing the new variable in the arrow function will work as expected:</p>\n<pre><code>class Test {\n    constructor() {\n    }\n    hello() : string {\n        return &quot;Hello&quot;;\n    }\n}\n\nlet g : object;\n\nif (g instanceof Test) {\n    const gTest = g;\n    () =&gt; {\n        gTest.hello();\n    };\n}\n</code></pre>\n<p>Another way to work around this issue if <code>g</code> does not change, is to declare <code>g</code> with <code>const</code>. This will let the compiler preserve the narrowing:</p>\n<pre><code>let g : object;\n\nif (g instanceof Test) {\n    const gTest = g;\n    () =&gt; {\n        gTest.hello();\n    };\n}\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/FAYwNghgzlAEAqBTKAXWBvYtuxAewDtUAnAVxBT2IAoBKDLHAX0ewAtEww87YAuWCQCWBAOYMck2MUQpSxArABEACU7clAblawWLYABNE4CDNyFUscQLwAjAFbGU24EIBmsauJGoIBEIh4Hkio9JiSvAC8AHwSUtiiAHQcXDy02pJM2kxAA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 62852, "user_id": 1737, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9152c282382ec3b1f0cd18dc8ba7a5ab?s=128&d=identicon&r=PG", "display_name": "Roddy", "link": "https://stackoverflow.com/users/1737/roddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 53641502, "answer_count": 1, "score": 4, "last_activity_date": 1617963640, "creation_date": 1544047290, "question_id": 53641426, "link": "https://stackoverflow.com/questions/53641426/typescript-type-guards-and-fat-arrow-function", "title": "Typescript Type Guards and fat arrow function", "body": "<p>Shouldn't this compile correctly? I get an error <code>\"Property 'hello' does not exist on type 'object'.</code>\" in the highlighted line.</p>\n\n<p>I can access <code>g.hello</code> outside the fat arrow function without problems.</p>\n\n<pre><code>class Test {\n    constructor() {\n    }\n    hello() : string {\n        return \"Hello\";\n    }\n}\n\nlet g : object;\n\nif (g instanceof Test) {\n    () =&gt; {\n        g.hello();    ////// ERROR HERE /////\n    };\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "sockets", "zeromq"], "owner": {"reputation": 131, "user_id": 10400408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NoYfl.jpg?s=128&g=1", "display_name": "planta4", "link": "https://stackoverflow.com/users/10400408/planta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1544092061, "creation_date": 1544046206, "last_edit_date": 1544092061, "question_id": 53641188, "link": "https://stackoverflow.com/questions/53641188/zeromq-pattern-proxy-router-router-does-not-connect-front-with-back-or-back", "title": "ZeroMQ pattern Proxy (Router / Router) does not connect Front with Back or Back with Front", "body": "<p>I am practicing with the ZeroMQ module to create Socket but I am having a problem with the Proxy pattern (Router / Router), I have been able to verify that the Client connects well with the Front and the Worker with the Back but when it arrives to send the message of the Front to Back or vice versa is not sent, does anyone know why?</p>\n\n<p>Attached the Broker code, if necessary the Client or Worker code could provide it.</p>\n\n<pre><code>import * as zmq from 'zeromq'\n\nconst ipBrokerClient: string = 'tcp://*:4000'\nconst ipBrokerWorker: string = 'tcp://*:3000'\nconst idWorker: string = `worker_proxy_${process.pid}`\n\nlet frontend= zmq.socket('router'),\n    backend= zmq.socket('router')\n\nlet workers: Array&lt;string&gt; = []\n\nexport = {\n\n    loadFrontend(): void {\n       frontend.identity = 'frontend_proxy' + process.pid\n       frontend.bind(ipBrokerClient, function (err: string) {\n           if (err) throw err\n\n           console.log(\"Frontend in listening: \" + frontend.identity)\n\n           frontend.on('message', function (...buffer: Array&lt;Buffer&gt;): void {\n\n            let idClient: Buffer = buffer[0],\n                empty: Buffer = buffer[1],\n                query: Buffer = buffer[2]\n\n            let interval = setInterval(function (): void {\n\n                if (workers.length &gt; 0) {\n                    console.log(\"Frontend send: \" + query)\n\n                    backend.send([workers.shift(), '', idClient, '', query])\n                    clearInterval(interval)\n                }\n\n            }, 10)\n        })\n    })\n},\n\n    loadBackend(): void {\n        backend = zmq.socket('router')\n        backend.identity = 'backend_proxy' + process.pid\n        backend.bind(ipBrokerWorker, function (err: string): void {\n            if (err) throw err\n\n            console.log(\"Backend in listening: \" + backend.identity)\n\n            backend.on('message', function (...buffer: Array&lt;Buffer&gt;) {\n               console.log(buffer)\n               let idWorker: Buffer = buffer[0],\n                   empty0: Buffer = buffer[1],\n                   idClient: Buffer = buffer[2],\n                   empty1: Buffer = buffer[3],\n                   query: Buffer = buffer[4]\n\n               workers.push(idClient.toString())\n\n               console.log(\"Worker available: \" + idClient)\n               frontend.send(\"Hello\")\n\n               if (workers[0] != \"READY\") {\n                   frontend.send([idClient, empty0, query])\n               }\n           })\n        })\n    },\n\nloadBroker(): void {\n    this.loadFrontend()\n    this.loadBackend()\n  }\n} \n</code></pre>\n\n<p>Excuse me if the question is not well done, I am new to the forum.</p>\n\n<p>Thank you </p>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "edited": false, "score": 0, "creation_date": 1544043630, "post_id": 53640614, "comment_id": 94140789, "body": "Please paste useful portions of the code. Very hard to find the problem."}, {"owner": {"reputation": 106, "user_id": 10198795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9035c0ec17f3b1cc05c4a7e0101beb?s=128&d=identicon&r=PG&f=1", "display_name": "Panee S", "link": "https://stackoverflow.com/users/10198795/panee-s"}, "reply_to_user": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "edited": false, "score": 0, "creation_date": 1544069121, "post_id": 53640614, "comment_id": 94147809, "body": "I was able to figure out and get it work. Below is the working code"}, {"owner": {"reputation": 349, "user_id": 10428547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEkt8.jpg?s=128&g=1", "display_name": "Rao", "link": "https://stackoverflow.com/users/10428547/rao"}, "edited": false, "score": 0, "creation_date": 1544072394, "post_id": 53640614, "comment_id": 94148569, "body": "i am not sure but it may be because of scope of <code>let</code> try doing <code>var</code>"}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 10198795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9035c0ec17f3b1cc05c4a7e0101beb?s=128&d=identicon&r=PG&f=1", "display_name": "Panee S", "link": "https://stackoverflow.com/users/10198795/panee-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1544069372, "creation_date": 1544069372, "answer_id": 53644542, "question_id": 53640614, "link": "https://stackoverflow.com/questions/53640614/typeerror-click-is-not-a-function-for-drop-down-list/53644542#53644542", "title": "TypeError: click is not a function for drop down list", "body": "<pre><code>async getDropDownHeaderMenu(selectedOption:string){\n    let headersCols = element( by.css('#abc-select'));\n    await browser.wait(until.presenceOf(headersCols), this.DEFAULT_WAIT_TIME_SECONDS * 1000, 'failed to find dropdowns arrow!');\n    headersCols.click(); //locate the dropdown arrow and click to populate the list\n    let valuesSet: Set&lt;string&gt; = new Set();\n    let promisesArray = [];\n    return new Promise((resolve, reject) =&gt; {\n        //locate the items in the list panel\n        element.all(by.css('span.abc-text')).map((option) =&gt; {\n            promisesArray.push(option.getText()); // add the text of each item in the list\n        }).then(() =&gt; {\n            protractor.promise.all(promisesArray).then((results) =&gt; {\n                for(let result of results) {\n                    console.log(\"Getting the drop down values = \" + result);\n                    // store the values in result and match it with given input\n                    valuesSet.add(result);\n                    if(result === selectedOption){\n                    //locate the item to be clicked in the list array based on index after matching the selectedOption\n                         let itemTobeSelected = element.all( by.css(span.abc-text)).get(results.indexOf(result));\n                        browser.wait(until.presenceOf(itemTobeSelected), this.DEFAULT_WAIT_TIME_SECONDS * 1000, 'failed to load the matched item in the drop down list.');\n                        //scroll down the list panel to get all the items\n                        browser.executeScript(\"arguments[0].scrollIntoView();\", itemTobeSelected.getWebElement());\n                        itemTobeSelected.click(); //once the item is matched with selectedOption stop iteration\n                        break;\n                    }\n                }\n\n            }).then(() =&gt; {\n                expect(valuesSet.size).not.toEqual(0,\n                    \"The returned string set from drop down list was empty!\");\n                resolve(valuesSet);\n            });\n        }).catch((error) =&gt; {\n            reject(error);\n        });\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 10198795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9035c0ec17f3b1cc05c4a7e0101beb?s=128&d=identicon&r=PG&f=1", "display_name": "Panee S", "link": "https://stackoverflow.com/users/10198795/panee-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 53644542, "answer_count": 1, "score": 0, "last_activity_date": 1544069372, "creation_date": 1544043436, "last_edit_date": 1544067710, "question_id": 53640614, "link": "https://stackoverflow.com/questions/53640614/typeerror-click-is-not-a-function-for-drop-down-list", "title": "TypeError: click is not a function for drop down list", "body": "<p>Can somebody please correct my code, I need to click a given value from drop down list? It does prints the values but I am unable to click on matching value successfully. Thanks in advance. Below is my code.</p>\n\n<pre><code>async getDropDownHeaderMenu(selectedOption:string){\n    let headersCols = element( by.css('#abc'));\n    await browser.wait(until.presenceOf(headersCols), this.DEFAULT_WAIT_TIME_SECONDS * 1000, 'failed to find dropdowns!');\n    headersCols.click();\n    let valuesSet: Set&lt;string&gt; = new Set();\n    let promisesArray = [];\n    return new Promise((resolve, reject) =&gt; {\n        element.all(by.css('div.abc')).map((option) =&gt; {\n            promisesArray.push(option.getText());\n        }).then(() =&gt; {\n            protractor.promise.all(promisesArray).then((results) =&gt; {\n                for(let result of results) {\n                    console.log(\"Getting the drop down values = \" + result);\n                    // store the values in result and match it with given input\n                    valuesSet.add(result);\n                    if(result === selectedOption){\n                        browser.executeScript('window.scrollTo(0,document.body.scrollHeight)').then(()=&gt;{\n                        //// This is where the error pops up\n                            result.click();\n                            browser.sleep(10000);\n\n                        });\n                        //result.click();\n                      // break;\n                    }\n                }\n\n            }).then(() =&gt; {\n                expect(valuesSet.size).not.toEqual(0,\n                    \"The returned string set from drop down list was empty!\");\n                resolve(valuesSet);\n            });\n        }).catch((error) =&gt; {\n            reject(error);\n        });\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript", "flowtype"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544045042, "post_id": 53640492, "comment_id": 94141439, "body": "Why do you say <code>viewer: Viewer | null | T</code> ? From my testing when you create instances of <code>ApolloData</code> it all works out as it should .."}], "answers": [{"tags": [], "owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1544044288, "creation_date": 1544044288, "answer_id": 53640801, "question_id": 53640492, "link": "https://stackoverflow.com/questions/53640492/how-to-have-parameterized-key-for-a-type-in-typescript/53640801#53640801", "title": "How to have parameterized key for a type in Typescript", "body": "<p>How about this?  Simply breakup the <code>Record</code> definition versus the other static attributes and combine them afterwards</p>\n\n<pre><code>type ContactIq = { _type: \"ContactIq\" };\ntype PlaceConnection = { _type: \"PlaceConnection\" };\ntype Viewer = { _type: \"Viewer\" };\n\ntype DataOnly&lt;T, nodeName extends string&gt; = Record&lt;nodeName, T | null&gt;;\n\ninterface OtherAttributes {\n  viewer?: Viewer | null;\n  placeSearch?: PlaceConnection | null;\n  contactIqLookup?: ContactIq | null;\n}\n\ntype ApolloData&lt;T, nodeName extends string = 'node'&gt; = OtherAttributes &amp; DataOnly&lt;T, nodeName&gt;;\n\nconst data1: ApolloData&lt;string&gt; = {\n  node: \"test\",\n  viewer: { _type: \"Viewer\" },\n  contactIqLookup: { _type: \"ContactIq\" },\n  placeSearch: { _type: \"PlaceConnection\" }\n}\n\nconst data2: ApolloData&lt;string, \"abc\"&gt; = {\n  abc: \"test\",\n  viewer: { _type: \"Viewer\" },\n  contactIqLookup: { _type: \"ContactIq\" },\n  placeSearch: { _type: \"PlaceConnection\" }\n}\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 5573648, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043954252281725/picture?type=large", "display_name": "Hammad Jutt", "link": "https://stackoverflow.com/users/5573648/hammad-jutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 53640801, "answer_count": 1, "score": 1, "last_activity_date": 1544044288, "creation_date": 1544042841, "question_id": 53640492, "link": "https://stackoverflow.com/questions/53640492/how-to-have-parameterized-key-for-a-type-in-typescript", "title": "How to have parameterized key for a type in Typescript", "body": "<p>I'm in the process of migrating my react-native project from Flow to TypeScript, and one part that I got stuck on is recreating this type from Flow:</p>\n\n<pre><code>declare type ApolloData&lt;T, nodeName: string = 'node'&gt; = {\n  [nodeName]: ?T,\n  viewer?: ?Viewer,\n  placeSearch?: ?PlaceConnection,\n  contactIqLookup?: ?ContactIq,\n};\n</code></pre>\n\n<p>This allowed me to type my data coming from GraphQL as follows:</p>\n\n<pre><code>const data: ApolloData&lt;Space&gt; = fetchData();\nconst space: Space = data.node;\n// OR\nconst data: ApolloData&lt;Space, 'space'&gt; = fetchData();\nconst space: Space = data.space;\n</code></pre>\n\n<hr>\n\n<p>I tried to recreate this in TypeScript, this was my first attempt:</p>\n\n<pre><code>type ApolloData&lt;T, nodeName extends string = 'node'&gt; = {\n  [node: nodeName]: T | null;\n  viewer?: Viewer | null;\n  placeSearch?: PlaceConnection | null;\n  contactIqLookup?: ContactIq | null;\n}\n</code></pre>\n\n<p>However, this gives an error: <code>TS1023: An index signature parameter type must be 'string' or 'number'.</code></p>\n\n<p>After doing some research, I learned about the <code>Record</code> type and that seemed to be a good fit, so my second attempt was a bit more successful:</p>\n\n<pre><code>type ApolloData&lt;T, nodeName extends string = 'node'&gt; = \n    Record&lt;nodeName, T | null&gt; &amp;\n    {\n      viewer?: Viewer | null;\n      placeSearch?: PlaceConnection | null;\n      contactIqLookup?: ContactIq | null;\n    }\n</code></pre>\n\n<p>But the issue with this is that the other properties get typed as <code>viewer: Viewer | null | T</code> instead of just <code>Viewer | null</code> since the <code>Record</code> type is for all properties of that object.</p>\n\n<p>Is there any way in typescript to accept a generic parameterized key and value but also have other fields?</p>\n"}, {"tags": ["typescript", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 531457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3e0c3602a92012c4e64a92917c4ab0?s=128&d=identicon&r=PG&f=1", "display_name": "BobC", "link": "https://stackoverflow.com/users/531457/bobc"}, "is_accepted": false, "score": 0, "last_activity_date": 1544400316, "creation_date": 1544400316, "answer_id": 53697955, "question_id": 53640474, "link": "https://stackoverflow.com/questions/53640474/angular-5-datatables-plugin-how-to-pass-data-from-html-in-typescript-function/53697955#53697955", "title": "Angular 5 DataTables Plugin - How to pass data from HTML in TypeScript function call", "body": "<p>This has been solved with the help of the DataTables community. You can see the solution <a href=\"https://datatables.net/forums/discussion/comment/144188\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 331, "user_id": 531457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3e0c3602a92012c4e64a92917c4ab0?s=128&d=identicon&r=PG&f=1", "display_name": "BobC", "link": "https://stackoverflow.com/users/531457/bobc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544400316, "creation_date": 1544042775, "last_edit_date": 1544044148, "question_id": 53640474, "link": "https://stackoverflow.com/questions/53640474/angular-5-datatables-plugin-how-to-pass-data-from-html-in-typescript-function", "title": "Angular 5 DataTables Plugin - How to pass data from HTML in TypeScript function call", "body": "<p>I have the component.html code below, from a DataTables plugin, working. When you select rows, and click the Delete button, the <code>handleDelete()</code> function is called. I do not know how to pass the selected rows to <code>handleDelete()</code>. I found a <a href=\"https://editor.datatables.net/examples/api/softDelete\" rel=\"nofollow noreferrer\">DataTables Editor example</a> using jQuery that defines what I'd like to send, but I prefer to use only a5 code. I've tried naming the table, and using an [(ngModel)] parameter, but that causes compile errors. </p>\n\n<pre><code>jQuery parameter\nvar rows = table.rows( {selected: true} ).indexes();\n\ncomponent.html\n&lt;sa-datatable\n  [options]=\"{\n    data: sysMsgs,\n    columns: [\n      {data: 'checked'},\n      {data: 'rowid'},\n      {data: 'senderID'},\n      {data: 'message'},\n      {data: 'dateCreated'}\n    ],\n    buttons: [ 'copy', 'csv', 'pdf', 'print',\n      {\n        extend: 'selected',\n        text: 'Delete',\n        action: handleDelete()\n      }\n    ],\n    columnDefs: [\n      {\n        targets: 0,\n        orderable: false,\n        className: 'select-checkbox'\n      },\n      {\n        targets: [2],\n        visible: true\n      }\n    ],\n    select: {\n      style: 'os',\n      selector: 'td:first-child'\n    },\n    order: [[ 1, 'asc' ]],\n    searching: true,\n    search: {\n      smart: false                  \n    }               \n  }\"\n  tableClass=\"table table-striped table-bordered table-hover\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th data-hide=\"mobile-p\"&gt;Select&lt;/th&gt;\n        &lt;th data-hide=\"mobile-p\"&gt;ID&lt;/th&gt;\n        &lt;th data-hide=\"mobile-p\"&gt;Sender&lt;/th&gt; \n        &lt;th data-hide=\"mobile-p\"&gt;Message&lt;/th&gt;\n        &lt;th data-hide=\"mobile-p\"&gt;Date Sent&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n&lt;/sa-datatable&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 809, "user_id": 4274918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/67nfQ.jpg?s=128&g=1", "display_name": "Aravindan Ve", "link": "https://stackoverflow.com/users/4274918/aravindan-ve"}, "edited": false, "score": 0, "creation_date": 1544042620, "post_id": 53640011, "comment_id": 94140331, "body": "What do you mean by get the next index?"}], "answers": [{"tags": [], "owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "is_accepted": true, "score": 3, "last_activity_date": 1544042776, "creation_date": 1544042776, "answer_id": 53640477, "question_id": 53640011, "link": "https://stackoverflow.com/questions/53640011/how-do-list-map-wait-request-response/53640477#53640477", "title": "How do list.map wait request response?", "body": "<p>Fist I'd make an array of requests:</p>\n\n<pre><code>const productRequests: Observable&lt;Product&gt;[] = productList.map(productId =&gt; this.productService.getProductInfo(productId));\n</code></pre>\n\n<p>then next you combine the observables, you do multiple ways, I assume perservering the order is important</p>\n\n<pre><code>// loads all at once, preserves order\nforkJoin(...productRequests).subscribe(productData =&gt; {\n  this.products = productData;\n});\n</code></pre>\n\n<p>or</p>\n\n<pre><code>// loads one by one, sort post result to preserve order\nthis.products = [];\nmerge(...productRequests).subscribe(productData =&gt; {\n  this.products.push(productData);\n  this.products.sort((a, b) =&gt; {\n    if (a.id &lt; b.id) {\n      return -1\n    }\n    if (a.id &gt; b.id) {\n      return 1\n    }\n    return 0;\n  });\n});\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-map-request\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-map-request</a></p>\n"}], "owner": {"reputation": 190, "user_id": 7377234, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10207297040896733/picture?type=large", "display_name": "Wellington Yogui", "link": "https://stackoverflow.com/users/7377234/wellington-yogui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 53640477, "answer_count": 1, "score": -1, "last_activity_date": 1544042776, "creation_date": 1544040709, "last_edit_date": 1544041627, "question_id": 53640011, "link": "https://stackoverflow.com/questions/53640011/how-do-list-map-wait-request-response", "title": "How do list.map wait request response?", "body": "<p>I have a map with request inside, but I detected the map don't wait the request response to get next index.</p>\n\n<pre><code>this.products = [];\nproductList.map((product) =&gt; {\nthis.productService.getProductInfo(product).subscribe(productData =&gt; {\n   productData.selected = true;\n   this.products.push(productData);\n  });\n});\n</code></pre>\n\n<p>there's a way do the map wait the request response?</p>\n"}, {"tags": ["typescript", "visual-studio-code", "styled-components"], "comments": [{"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 2, "creation_date": 1544042094, "post_id": 53639981, "comment_id": 94140112, "body": "If you&#39;re getting different errors, the <code>tsc</code> compiler is likely using a different set of typings on each machine for some reason.  Maybe different versions of npm got different transitive dependencies, or something like that.  You should run <code>tsc --traceResolution</code>, which will be quite verbose, but you can search in the output to find out exactly what <code>.d.ts</code> file it detected for the <code>styled</code> type&#39;s typings.  This is your starting point, which is to determine what files are providing the typings to the compiler, then work backwards to find out how you ended up with different versions."}], "owner": {"reputation": 149, "user_id": 5340528, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ebe7cb23c92bf332b3dc64d25476f2ce?s=128&d=identicon&r=PG&f=1", "display_name": "hildk", "link": "https://stackoverflow.com/users/5340528/hildk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544040561, "creation_date": 1544040561, "question_id": 53639981, "link": "https://stackoverflow.com/questions/53639981/typescript-error-expected-1-type-arguments-showing-on-one-machine-but-not-the", "title": "Typescript error &quot;Expected 1 type arguments&quot; showing on one machine but not the other", "body": "<p>I get the following typescript error on one of my laptops but not the other. Both are using the latest version of vscode and typescript. I've deleted my local repo on both machines and made a fresh clone but the error persists on one machine.</p>\n\n<p>This is the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/p4ZBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4ZBu.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/NjY9V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NjY9V.png\" alt=\"enter image description here\"></a></p>\n\n<p>According to <a href=\"https://www.styled-components.com/docs/api#typescript\" rel=\"nofollow noreferrer\">this example</a> on the styled-component docs, my code is correct. <code>styled&lt;&gt;</code> should take 2 arguments:</p>\n\n<pre><code>import styled from \"app/styled-components\"\n\n// theme is now fully typed\nconst Title = styled&lt;{ isActive: boolean }, \"h1\"&gt;(\"h1\")`\n  color: ${props =&gt; props.isActive ? props.theme.primaryColor : props.theme.secondaryColor}\n`\n</code></pre>\n\n<p>I don't know why this Typescript error is showing up on only one machine. Any advice on how to troubleshoot this error further would be appreciated. Thanks.</p>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"fb-app\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@material-ui/core\": \"^3.3.2\",\n    \"@material-ui/icons\": \"^3.0.1\",\n    \"classnames\": \"^2.2.6\",\n    \"firebase\": \"^5.5.7\",\n    \"history\": \"^4.7.2\",\n    \"lodash\": \"^4.17.11\",\n    \"lorem-ipsum\": \"^1.0.6\",\n    \"material-ui-flat-pagination\": \"^3.0.3\",\n    \"mathjs\": \"^5.2.3\",\n    \"moment\": \"^2.22.2\",\n    \"npm\": \"^6.4.1\",\n    \"react\": \"^16.6.0\",\n    \"react-dom\": \"^16.6.0\",\n    \"react-easy-state\": \"^6.0.5\",\n    \"react-responsive\": \"^6.0.0\",\n    \"react-router\": \"^4.3.1\",\n    \"react-router-dom\": \"^4.3.1\",\n    \"react-router-hash-link\": \"^1.2.0\",\n    \"react-scripts-ts\": \"3.1.0\",\n    \"react-string-replace\": \"^0.4.1\",\n    \"react-window-size\": \"^1.2.2\",\n    \"shortid\": \"^2.2.13\",\n    \"styled-components\": \"^4.0.3\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts-ts start\",\n    \"build\": \"react-scripts-ts build\",\n    \"test\": \"react-scripts-ts test --env=jsdom\",\n    \"eject\": \"react-scripts-ts eject\",\n    \"precommit\": \"lint-staged\",\n    \"lint\": \"tslint --project tsconfig.json\",\n    \"format\": \"prettier --write 'src/**/*.{js,ts,tsx,json,css,md}'\"\n  },\n  \"devDependencies\": {\n    \"@types/classnames\": \"^2.2.6\",\n    \"@types/jest\": \"^23.3.9\",\n    \"@types/lodash\": \"^4.14.117\",\n    \"@types/mathjs\": \"^4.4.2\",\n    \"@types/node\": \"^10.12.2\",\n    \"@types/react\": \"^16.4.18\",\n    \"@types/react-dom\": \"^16.0.9\",\n    \"@types/react-redux\": \"^6.0.9\",\n    \"@types/react-responsive\": \"^3.0.2\",\n    \"@types/react-router-dom\": \"^4.3.1\",\n    \"@types/shortid\": \"0.0.29\",\n    \"@types/styled-components\": \"^4.0.3\",\n    \"husky\": \"^1.1.3\",\n    \"lint-staged\": \"^8.0.4\",\n    \"prettier\": \"1.15.3\",\n    \"tslint\": \"^5.11.0\",\n    \"tslint-config-prettier\": \"^1.15.0\",\n    \"typescript\": \"^3.1.6\"\n  },\n  \"lint-staged\": {\n    \"*.{js,ts,tsx,json,css,md}\": [\n      \"prettier --write\",\n      \"git add\"\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 407668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e855489a65ff4418505caee2785a4ea?s=128&d=identicon&r=PG", "display_name": "Connor Ross", "link": "https://stackoverflow.com/users/407668/connor-ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1544045958, "creation_date": 1544045958, "answer_id": 53641146, "question_id": 53639918, "link": "https://stackoverflow.com/questions/53639918/jest-do-not-see-typescript-classes/53641146#53641146", "title": "Jest do not see TypeScript classes", "body": "<p>What do you mean by company policy?  How can you not use import / export in your tests?  Are your tests not written in typescript as well?  Are you running your code through the typescript compiler?</p>\n\n<p>Jest only understands javascript, so you have to get your typescript to javascript using the typescript compiler (tsc). There is a node module <a href=\"https://kulshekhar.github.io/ts-jest/user/install\" rel=\"nofollow noreferrer\"><code>ts-jest</code></a> that does this.</p>\n"}], "owner": {"reputation": 529, "user_id": 1537809, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/66c467d42fc7212ffdd6c72a9ab015d2?s=128&d=identicon&r=PG", "display_name": "artberry", "link": "https://stackoverflow.com/users/1537809/artberry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544131683, "creation_date": 1544040173, "last_edit_date": 1544131683, "question_id": 53639918, "link": "https://stackoverflow.com/questions/53639918/jest-do-not-see-typescript-classes", "title": "Jest do not see TypeScript classes", "body": "<p>How to setup Jest to see my TypeScript classes placed in different files without import/export of those classes? I have bunch of TS classes in separate files. I <strong><em>can not</em></strong> use \"import\" or \"export\" of those classes (because of the JS interpreter which we use by company policy).</p>\n\n<p>So I can not write:</p>\n\n<pre><code>export class MyClass {\n\n}\n</code></pre>\n\n<p>and then use it in my tests like it is proposed:</p>\n\n<pre><code>import {MyClass} from \"../MyClass\"\n\ntest(\"MyClass test\", () =} {\n    let mc = new MyClass()\n    // ...\n})\n</code></pre>\n\n<p>Is there a way to explain Jest where to look for classes? Because TypeScript itself works well and compiles all of those classes and sees them.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "edited": false, "score": 0, "creation_date": 1544038208, "post_id": 53639333, "comment_id": 94138383, "body": "There is no problem with the above code, do you have a repo?"}, {"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1544038819, "post_id": 53639333, "comment_id": 94138640, "body": "Not sure if that is a problem at all, look at the similar demo <a href=\"https://stackblitz.com/edit/angular-5-tutorial-4kgsmn\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-5-tutorial-4kgsmn</a>"}, {"owner": {"reputation": 1148, "user_id": 6336460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c1e94223a609ee14362aa12f225da3e?s=128&d=identicon&r=PG&f=1", "display_name": "Lucho", "link": "https://stackoverflow.com/users/6336460/lucho"}, "edited": false, "score": 0, "creation_date": 1544048557, "post_id": 53639333, "comment_id": 94142756, "body": "Could you update your question on how both Product type data-structures look like and how you are creating an object of each one"}], "owner": {"reputation": 369, "user_id": 1464404, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0f36dec01cb8a74560ce7f0eb209985c?s=128&d=identicon&r=PG", "display_name": "Bad_Pan", "link": "https://stackoverflow.com/users/1464404/bad-pan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544038395, "creation_date": 1544037616, "question_id": 53639333, "link": "https://stackoverflow.com/questions/53639333/typescript-import-classes-with-same-name-causes-override", "title": "Typescript import classes with same name causes override", "body": "<p>Using Angular 5 I want to import two classes with the same name and methods but in different path.</p>\n\n<pre><code>import { Product as product1 } from '../app/file1'\nimport { Product as product2 } from '../app/file2'\n</code></pre>\n\n<p>The problem is when I tried to call something on product1.getInfo() the code from product2.getInfo() got executed.</p>\n\n<p>When I removed the import of product2 the product1.getInfo() was executed normally.</p>\n\n<p>I can't understand why and what is the solution. </p>\n\n<p>Is this issue related on how typescript merge the classes with same names?\n<a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-merging.html</a></p>\n\n<p>Can anyone help me with this please?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 2513, "user_id": 210494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a878cf552ab2d17928dbf250967cd1f?s=128&d=identicon&r=PG", "display_name": "Julian Dominguez", "link": "https://stackoverflow.com/users/210494/julian-dominguez"}, "edited": false, "score": 3, "creation_date": 1546551690, "post_id": 53639295, "comment_id": 94896685, "body": "still couldn&#39;t find a solution. Anyone knows if this is possible?"}], "answers": [{"comments": [{"owner": {"reputation": 2513, "user_id": 210494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a878cf552ab2d17928dbf250967cd1f?s=128&d=identicon&r=PG", "display_name": "Julian Dominguez", "link": "https://stackoverflow.com/users/210494/julian-dominguez"}, "edited": false, "score": 4, "creation_date": 1544048767, "post_id": 53639547, "comment_id": 94142822, "body": "as I mentioned in the original question, I&#39;m aware of this rule, but that seems to target functions and methods, but not normal properties, correct? Or can this be used to ban <code>Function.length</code> too?"}, {"owner": {"reputation": 8576, "user_id": 802138, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/024ca42cf79ed90cd18eec585986629c?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/802138/matthias"}, "edited": false, "score": 0, "creation_date": 1609357496, "post_id": 53639547, "comment_id": 115824233, "body": "Right now, <code>eslint-plugin-ban</code> <a href=\"https://github.com/remithomas/eslint-plugin-ban/blob/721a64d0459396d1d0620b907e231522ba4c2a2f/lib/rules/ban.js#L144\" rel=\"nofollow noreferrer\">only applies to call expressions</a>."}], "tags": [], "owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "is_accepted": false, "score": -1, "last_activity_date": 1544038642, "creation_date": 1544038642, "answer_id": 53639547, "question_id": 53639295, "link": "https://stackoverflow.com/questions/53639295/tslint-ban-usage-of-the-function-length-property/53639547#53639547", "title": "TSLint: Ban usage of the Function.length property", "body": "<p>There is a tslint rule that bans the use of specific functions or global methods.</p>\n\n<p>A list of banned functions or methods in the following format:</p>\n\n<ul>\n<li>banning functions:\n\n<ul>\n<li>just the name of the function: \"functionName\"</li>\n<li>the name of the function in an array with one element: [\"functionName\"]</li>\n<li>an object in the following format: <code>{\"name\": \"functionName\", \"message\": \"optional explanation message\"}</code></li>\n</ul></li>\n<li>banning methods:\n\n<ul>\n<li>an array with the object name, method name and optional message: <code>[\"functionName\", \"methodName\", \"optional message\"]</code></li>\n<li>an object in the following format: <code>{\"name\": [\"objectName\", \"methodName\"], \"message\": \"optional message\"}</code>\n\n<blockquote>\n  <ul>\n  <li>you can also ban deeply nested methods: <code>{\"name\": [\"foo\", \"bar\", \"baz\"]}</code> bans foo.bar.baz()</li>\n  <li>the first element can contain a wildcard (*) that matches everything. <code>{\"name\": [\"*\", \"forEach\"]}</code> bans <code>[].forEach(...), $(...).forEach(...), arr.forEach(...), etc.</code></li>\n  </ul>\n</blockquote></li>\n</ul></li>\n</ul>\n\n<p>Config examples</p>\n\n<pre><code>\"ban\": [\n  true,\n  \"eval\",\n  {\"name\": \"$\", \"message\": \"please don't\"},\n  [\"describe\", \"only\"],\n  {\"name\": [\"it\", \"only\"], \"message\": \"don't focus tests\"},\n  {\n    \"name\": [\"chai\", \"assert\", \"equal\"],\n    \"message\": \"Use 'strictEqual' instead.\"\n  },\n  {\"name\": [\"*\", \"forEach\"], \"message\": \"Use a regular for loop instead.\"}\n]\n</code></pre>\n\n<p>Schema</p>\n\n<pre><code>{\n  \"type\": \"list\",\n  \"listType\": {\n    \"anyOf\": [\n      {\n        \"type\": \"string\"\n      },\n      {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"string\"\n        },\n        \"minLength\": 1,\n        \"maxLength\": 3\n      },\n      {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"anyOf\": [\n              {\n                \"type\": \"string\"\n              },\n              {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                },\n                \"minLength\": 1\n              }\n            ]\n          },\n          \"message\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\": [\n          \"name\"\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2513, "user_id": 210494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a878cf552ab2d17928dbf250967cd1f?s=128&d=identicon&r=PG", "display_name": "Julian Dominguez", "link": "https://stackoverflow.com/users/210494/julian-dominguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 819, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1544038642, "creation_date": 1544037493, "question_id": 53639295, "link": "https://stackoverflow.com/questions/53639295/tslint-ban-usage-of-the-function-length-property", "title": "TSLint: Ban usage of the Function.length property", "body": "<p>I'm in a project that uses knockout.js (using TypeScript), and since knockout observables are just functions, people often run into issues accessing the <code>length</code> property of the observable function by mistake, instead of accessing the <code>length</code> property of their custom object model.</p>\n\n<p>Is there some tslint rule that can ban the usage of a specific property of a certain type? I've seen the \"ban\" rule, but that seems to only work for banning usage of functions and methods, but not properties.</p>\n"}, {"tags": ["typescript", "react-native", "typescript-typings", "typescript-types"], "comments": [{"owner": {"reputation": 5158, "user_id": 3029484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6YrmR.jpg?s=128&g=1", "display_name": "Fidan Hakaj", "link": "https://stackoverflow.com/users/3029484/fidan-hakaj"}, "edited": false, "score": 0, "creation_date": 1544044022, "post_id": 53639013, "comment_id": 94140975, "body": "You should be able to use the array of styles. What is this <code>pop</code> property mentioned in <code>Types of property &#39;pop&#39; are incompatible</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 964, "user_id": 6935676, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NkgFT.jpg?s=128&g=1", "display_name": "Mohsen", "link": "https://stackoverflow.com/users/6935676/mohsen"}, "is_accepted": true, "score": 4, "last_activity_date": 1544077617, "creation_date": 1544077617, "answer_id": 53645739, "question_id": 53639013, "link": "https://stackoverflow.com/questions/53639013/typescript-and-react-native-are-the-type-definitions-for-rn-styles-wrong/53645739#53645739", "title": "TypeScript and React Native: Are the type definitions for RN styles wrong?", "body": "<p>You can test some of ways for solve your problem, hope this work:</p>\n\n<p><strong>1</strong> : <code>style={styles.yourStyle as any}</code> maybe you should do the trick!</p>\n\n<p><strong>2</strong> : I can't see how you implement your styles but you can test something like this?</p>\n\n<pre><code>import { StyleSheet, TextStyle, ViewStyle } from \"react-native\";\n\ntype Style = {\n    container: ViewStyle;\n    title: TextStyle;\n    icon: ImageStyle;\n};\n\nexport default StyleSheet.create&lt;Style&gt;({\n    container: {\n        flex: 1\n    },\n    title: {\n        color: red\n    },\n    icon: {\n        width: 10,\n        height: 10\n    }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1198, "user_id": 5243543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b795f6bd2a2c1615a8c7961f8cca9d?s=128&d=identicon&r=PG&f=1", "display_name": "ThaJay", "link": "https://stackoverflow.com/users/5243543/thajay"}, "edited": false, "score": 0, "creation_date": 1608741372, "post_id": 55821831, "comment_id": 115673160, "body": "We do NOT apply the style directly unless we want our app to be slow. We always define styles as objects outside of the components or as memoized functions that use those objects. This way style objects are created once and not on every render."}], "tags": [], "owner": {"reputation": 6713, "user_id": 2228575, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b923892ad565b8ff7272057b6b54de5?s=128&d=identicon&r=PG", "display_name": "Bruno Lemos", "link": "https://stackoverflow.com/users/2228575/bruno-lemos"}, "is_accepted": false, "score": 0, "last_activity_date": 1556075274, "creation_date": 1556075274, "answer_id": 55821831, "question_id": 53639013, "link": "https://stackoverflow.com/questions/53639013/typescript-and-react-native-are-the-type-definitions-for-rn-styles-wrong/55821831#55821831", "title": "TypeScript and React Native: Are the type definitions for RN styles wrong?", "body": "<p>Since you created the <code>textStyles</code> variable, you need to add a type to it:</p>\n\n<pre><code>const textStyles: StyleProp&lt;TextStyle&gt; = [styles.a, styles.b];\nreturn &lt;Text style={textStyles}&gt;Some Text&lt;/Text&gt;;\n</code></pre>\n\n<p>But usually you will just apply the style directly:</p>\n\n<pre><code>return &lt;Text style={[styles.a, styles.b]}&gt;Some Text&lt;/Text&gt;;\n</code></pre>\n"}], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3184, "favorite_count": 0, "accepted_answer_id": 53645739, "answer_count": 2, "score": 2, "last_activity_date": 1556075274, "creation_date": 1544036265, "question_id": 53639013, "link": "https://stackoverflow.com/questions/53639013/typescript-and-react-native-are-the-type-definitions-for-rn-styles-wrong", "title": "TypeScript and React Native: Are the type definitions for RN styles wrong?", "body": "<p>I thought in React it is allowed to assign arrays to styles?</p>\n\n<p>Like this:</p>\n\n<pre><code>import React from 'react';\nimport { Text } from \"react-native\";\n\n// ...\n\nrender() {\n  const textStyles = [styles.text];\n  return &lt;Text style={textStyles}&gt;Some Text&lt;/Text&gt;;\n}\n</code></pre>\n\n<p>But TSLint complains about this line with:</p>\n\n<pre><code>[ts]\nType 'RegisteredStyle&lt;{ color: string; fontWeight: string; fontSize?: undefined; padding: number; textAlign: \"center\"; } | { color: string; fontSize: number; fontWeight?: undefined; padding: number; textAlign: \"center\"; }&gt;[]' is not assignable to type 'StyleProp&lt;TextStyle&gt;'.\n  Type 'RegisteredStyle&lt;{ color: string; fontWeight: string; fontSize?: undefined; padding: number; textAlign: \"center\"; } | { color: string; fontSize: number; fontWeight?: undefined; padding: number; textAlign: \"center\"; }&gt;[]' is not assignable to type 'RecursiveArray&lt;false | TextStyle | RegisteredStyle&lt;TextStyle&gt; | null | undefined&gt;'.\nTypes of property 'pop' are incompatible.\n  Type '() =&gt; RegisteredStyle&lt;{ color: string; fontWeight: string; fontSize?: undefined; padding: number; textAlign: \"center\"; } | { color: string; fontSize: number; fontWeight?: undefined; padding: number; textAlign: \"center\"; }&gt; | undefined' is not assignable to type '() =&gt; StyleProp&lt;TextStyle&gt;'.\n    Type 'RegisteredStyle&lt;{ color: string; fontWeight: string; fontSize?: undefined; padding: number; textAlign: \"center\"; } | { color: string; fontSize: number; fontWeight?: undefined; padding: number; textAlign: \"center\"; }&gt; | undefined' is not assignable to type 'StyleProp&lt;TextStyle&gt;'.\n      Type 'RegisteredStyle&lt;{ color: string; fontWeight: string; fontSize?: undefined; padding: number; textAlign: \"center\"; } | { color: string; fontSize: number; fontWeight?: undefined; padding: number; textAlign: \"center\"; }&gt; | undefined' is not assignable to type 'StyleProp&lt;TextStyle&gt;'.\n      Type 'RegisteredStyle&lt;{ color: string; fontWeight: string; fontSize?: undefined; padding: number; textAlign: \"center\"; } | { color: string; fontSize: number; fontWeight?: undefined; padding: number; textAlign: \"center\"; }&gt;' is not assignable to type 'StyleProp&lt;TextStyle&gt;'.\n</code></pre>\n\n<p>What is going on here? Are the types of React Native wrong? Or am I somehow supposed to typecast these arrays for RN styles?</p>\n"}, {"tags": ["angular", "typescript", "angular6", "bootstrap-modal", "ng-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 1210, "user_id": 3301351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZlpj.jpg?s=128&g=1", "display_name": "Dan Nguyen", "link": "https://stackoverflow.com/users/3301351/dan-nguyen"}, "is_accepted": true, "score": 0, "last_activity_date": 1544038036, "creation_date": 1544038036, "answer_id": 53639420, "question_id": 53638873, "link": "https://stackoverflow.com/questions/53638873/angular-6-restore-passed-parameter-to-its-original-values-after-close-ngbmodal/53639420#53639420", "title": "Angular 6 restore passed parameter to its original values after close ngbModal", "body": "<p>You are able to utilize Spread syntax to pass a copy of data from parent component to the child</p>\n\n<pre><code>modalRefCity.componentInstance.horario = {...element};\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">Spread syntax</a></p>\n"}], "owner": {"reputation": 537, "user_id": 6665356, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4c86625b9dd9d7d9505758a743d871ea?s=128&d=identicon&r=PG&f=1", "display_name": "matQ", "link": "https://stackoverflow.com/users/6665356/matq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 53639420, "answer_count": 1, "score": 0, "last_activity_date": 1544105343, "creation_date": 1544035691, "last_edit_date": 1544105343, "question_id": 53638873, "link": "https://stackoverflow.com/questions/53638873/angular-6-restore-passed-parameter-to-its-original-values-after-close-ngbmodal", "title": "Angular 6 restore passed parameter to its original values after close ngbModal", "body": "<p>I have a table with objects with edit and delete buttons, so when I pass a paremeter(object in row) from parentComponent to an \"edit\" modal (using ngbModal) and then change some values but then I regret and I close it with the X in the header of the modal the table keeps the last value changed, so how can I restore the parameter to its original value?</p>\n\n<p>This is my parentComponent.ts function to open modal and pass paremeter:</p>\n\n<pre><code>//receives the element from row and pass it to modal\nopenModalEdit(element){\n    const modalRefCity = this.modalService.open(ModalEditComponent);\n    modalRefCity.componentInstance.horario = element;\n\n    modalRefCity.componentInstance.horarioevent.subscribe(($e) =&gt; {\n        this.editHorario($e);\n        this.modalService.dismissAll();\n        console.log($e);\n    })\n}\n</code></pre>\n\n<p>This works fine, the modal is open and the value is passed for edit.</p>\n\n<p>This is my ModalEditComponent:</p>\n\n<pre><code>export class ModalEditComponent implements OnInit {\n\n    @Input() horario;\n    @Output() horarioevent = new EventEmitter&lt;string&gt;();\n\n     constructor(public activeModal: NgbActiveModal) { }\n\n    updateHorario(){\n\n     this.horarioevent.emit(this.horario);\n    }\n</code></pre>\n\n<p>This is my modal-edit.component.html</p>\n\n<pre><code>&lt;div class=\"modal-header\"&gt;\n\n &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\"&gt;\n    &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/div&gt;\n&lt;div class=\"modal-body\"&gt;\n  ...\n</code></pre>\n\n<p>So the when I change the values of horario (parameter passed from parent) and then save the new values it works perfectly, (edit function works fine).</p>\n\n<p>The problem is when I open the modal, then change some values of horario and then regret, so close the modal using the X button in the modal header, the modal gets closed but the objects show its values with the last changes I made (I know that this are only in my view not in my db).</p>\n\n<p>How can I reset the parameter to its original values? </p>\n"}, {"tags": ["angular", "typescript", "primeng", "multi-select"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1544037232, "post_id": 53638796, "comment_id": 94138003, "body": "It appears to work with unbreakable spaces: <code>someText: string = &quot;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&quot;</code>. See <a href=\"https://stackblitz.com/edit/primeng-input-multiselect-xczeaj\" rel=\"nofollow noreferrer\">this stackblitz</a>."}, {"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1544211984, "post_id": 53638796, "comment_id": 94209628, "body": "@ConnorsFan even though it works it doesn&#39;t seem to be a good solution I don&#39;t think."}], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1544313586, "post_id": 53676882, "comment_id": 94232913, "body": "your is not working as expected. You&#39;re just trying to add a height that when you mouse over the multiselect dropdown you end up seeing a gray background."}, {"owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "reply_to_user": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1544370448, "post_id": 53676882, "comment_id": 94243298, "body": "I have updated the answer with a solution that removes the gray area. It is now a bit more complicated. If you are not ok with this you will have to ask the creators of the components how to do it in a more simple way."}], "tags": [], "owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "is_accepted": true, "score": 2, "last_activity_date": 1544370218, "last_edit_date": 1544370218, "creation_date": 1544217283, "answer_id": 53676882, "question_id": 53638796, "link": "https://stackoverflow.com/questions/53638796/how-to-set-label-to-empty-string-in-dropdown/53676882#53676882", "title": "How to set label to empty string in dropdown?", "body": "<p>You can set the empty string as the <code>defaultLabel</code> and define a global css class that will override the default styles of the control and set the initial size. Also you can set a min-width in the style if you want to start with a specific width. Then you apply your css class using the styleClass property. It is mentioned in the official documentation <a href=\"https://www.primefaces.org/primeng/#/multiselect\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>This are the styles to put in in the global css of the application:</p>\n\n<pre><code>.multipleSelectSize {\n  height: 30px;\n  min-width: 100px;\n}\n\n.multipleSelectSize &gt; .ui-multiselect-label-container &gt; .ui-multiselect-label {\n  height: 27px;\n}\n</code></pre>\n\n<p>And the html template where you apply the style:</p>\n\n<pre><code>&lt;p-multiSelect [styleClass]=\"'multipleSelectSize'\" [options]=\"registrationStatus\" [defaultLabel]= \"someText\" [showHeader]=\"false\"&gt;&lt;/p-multiSelect&gt;\n</code></pre>\n\n<p>Here is also a <a href=\"https://stackblitz.com/edit/primeng-input-multiselect-xwrexm?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">StackBlitz link</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 934, "user_id": 10730815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L17EG.jpg?s=128&g=1", "display_name": "codequiet", "link": "https://stackoverflow.com/users/10730815/codequiet"}, "is_accepted": false, "score": 0, "last_activity_date": 1544514870, "creation_date": 1544514870, "answer_id": 53719625, "question_id": 53638796, "link": "https://stackoverflow.com/questions/53638796/how-to-set-label-to-empty-string-in-dropdown/53719625#53719625", "title": "How to set label to empty string in dropdown?", "body": "<p>Here's a relatively straightforward workaround: Set the default label to a string of the desired length, say \"Default\". Then use the [style] attribute provided on the MultiSelectComponent to conditionally apply <code>color: transparent</code> whenever there are no selected items. This way, you don't have to deal with setting the height or width appropriately.</p>\n\n<pre><code>&lt;p-multiSelect [options]=\"registrationStatus\" [defaultLabel]=\"someText\"\n    [(ngModel)]=\"selectedItems\" [showHeader]=\"false\"\n    [style]=\"getDefaultLabelStyle()\"&gt;\n&lt;/p-multiSelect&gt;\n\nsomeText: string = 'Default';\nselectedItems: Array&lt;Object&gt; = [ ];\n\ngetDefaultLabelStyle() {\n    return (this.selectedItems.length === 0) ?\n        { color: 'transparent' } : null;\n}\n</code></pre>\n\n<p>Full StackBlitz <a href=\"https://stackblitz.com/edit/primeng-input-multiselect-w7sq4t\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "accepted_answer_id": 53676882, "answer_count": 2, "score": 3, "last_activity_date": 1544514870, "creation_date": 1544035368, "last_edit_date": 1544362787, "question_id": 53638796, "link": "https://stackoverflow.com/questions/53638796/how-to-set-label-to-empty-string-in-dropdown", "title": "How to set label to empty string in dropdown?", "body": "<p>I'm working on this simple <strong>multiselect dropdown</strong> and I want to set the label to nothing <strong>(empty string)</strong>. However, when I use <strong>defaultLabel</strong> it doesn't seem to work properly. Is there any way to set the label (testing) to an empty string by default?.</p>\n\n<p>Thanks a lot in advance!</p>\n\n<p>Here's my code:</p>\n\n<pre><code>&lt;p-multiselect\n    [options]=\"registrationStatus\"\n    [defaultLabel]= \"someText\"\n    [showHeader]=\"false\"&gt;\n&lt;/p-multiSelect&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/primeng-input-multiselect-v9zmtf?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\"><strong>LIVE DEMO</strong></a></p>\n"}, {"tags": ["typescript", "webstorm", "jetbrains-ide", "tslint"], "comments": [{"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1544035592, "post_id": 53638422, "comment_id": 94137284, "body": "Errors come from Typescript compiler, not from the IDE; looks like either the compiler is misconfigured or typescript installation is broken and required d.ts files can&#39;t be found. If re-installing <code>typescript</code> module doesn&#39;t help, please provide your <code>tsconfig.json</code>"}, {"owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1544035821, "post_id": 53638422, "comment_id": 94137388, "body": "@lena I have updated my answer with the <code>tsconfig.json</code> as you requested."}, {"owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1544036164, "post_id": 53638422, "comment_id": 94137529, "body": "If I <code>ctr</code>l+<code>click</code> the names, I <b>do</b> get redirected to the <code>lib.es5.d.ts</code> file."}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 3, "creation_date": 1544036198, "post_id": 53638422, "comment_id": 94137540, "body": "works fine for me using your config. did you try re-installing node_modules?"}, {"owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 2, "creation_date": 1544036346, "post_id": 53638422, "comment_id": 94137601, "body": "You&#39;re right. reinstalling the whole node_modules did the trick. For some reason, I re-installed the global <code>typescript</code>."}, {"owner": {"reputation": 574, "user_id": 6133095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31606bef311bb58a41314c2205ed2e6?s=128&d=identicon&r=PG&f=1", "display_name": "hojin", "link": "https://stackoverflow.com/users/6133095/hojin"}, "edited": false, "score": 0, "creation_date": 1566962232, "post_id": 53638422, "comment_id": 101814932, "body": "Thaks!. I resolved by upgrading my global typescript. <code>yarn global add typescript</code>."}], "owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 618, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544039733, "creation_date": 1544033813, "last_edit_date": 1592644375, "question_id": 53638422, "link": "https://stackoverflow.com/questions/53638422/webstorm-cannot-find-names-of-built-in-js-classes-in-typescript-3", "title": "WebStorm - Cannot find names of built-in js classes in TypeScript 3", "body": "<p>I have updated my app's TypeScript package to version <code>~3.1.6</code> from version 2.</p>\n<p>After I've done so, it looks like WebStorm doesn't recognize some of the built-in classes (such as <code>Promise</code>, <code>Date</code>, <code>JSON</code>, etc...)</p>\n<p><a href=\"https://i.stack.imgur.com/PiZYi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PiZYi.png\" alt=\"Cannot find name 'Promise'\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mhGeV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mhGeV.png\" alt=\"Cannot find name 'JSON'\" /></a></p>\n<p>More than that, it looks like it doesn't recognize an array as an array. Therefore, it says the <code>.forEach</code> does not exists. Of course, it doesn't happen only with <code>.forEach</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/acrxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acrxU.png\" alt=\"Property 'forEach' does not exists on type '{}'\" /></a></p>\n<p>Hard typing doesn't help either:</p>\n<p><a href=\"https://i.stack.imgur.com/rPQD1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rPQD1.png\" alt=\"Property 'forEach' does not exists on type '{}'\" /></a></p>\n<p>The TypeScript and the TSLint settings look fine:</p>\n<p><a href=\"https://i.stack.imgur.com/47TYn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47TYn.png\" alt=\"Typescript settings\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ucxJn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucxJn.png\" alt=\"TSLint settings\" /></a></p>\n<p>It looks like only WebStorm has a hard time with it. The files are being compiled successfully without any errors.</p>\n<h3>tsconfig.json</h3>\n<pre><code>{\n  &quot;compileOnSave&quot;: false,\n  &quot;compilerOptions&quot;: {\n    &quot;baseUrl&quot;: &quot;./&quot;,\n    &quot;outDir&quot;: &quot;./dist/out-tsc&quot;,\n    &quot;sourceMap&quot;: true,\n    &quot;declaration&quot;: false,\n    &quot;module&quot;: &quot;es2015&quot;,\n    &quot;moduleResolution&quot;: &quot;node&quot;,\n    &quot;emitDecoratorMetadata&quot;: true,\n    &quot;experimentalDecorators&quot;: true,\n    &quot;target&quot;: &quot;es5&quot;,\n    &quot;typeRoots&quot;: [\n      &quot;node_modules/@types&quot;\n    ],\n    &quot;lib&quot;: [\n      &quot;es2018&quot;,\n      &quot;dom&quot;\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "promise", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 78616, "user_id": 82609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FdTlD.jpg?s=128&g=1", "display_name": "Sebastien Lorber", "link": "https://stackoverflow.com/users/82609/sebastien-lorber"}, "edited": false, "score": 0, "creation_date": 1544376293, "post_id": 53638702, "comment_id": 94244933, "body": "Awesome thanks! I&#39;ll have to read more carefully to understand how your solution is built but at least it solves me problem :)"}, {"owner": {"reputation": 78616, "user_id": 82609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FdTlD.jpg?s=128&g=1", "display_name": "Sebastien Lorber", "link": "https://stackoverflow.com/users/82609/sebastien-lorber"}, "edited": false, "score": 0, "creation_date": 1544539659, "post_id": 53638702, "comment_id": 94306505, "body": "Hey, just read about a Deferred type in TS. Do you think your solution could be rewritten with Deferred? <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a>"}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "reply_to_user": {"reputation": 78616, "user_id": 82609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FdTlD.jpg?s=128&g=1", "display_name": "Sebastien Lorber", "link": "https://stackoverflow.com/users/82609/sebastien-lorber"}, "edited": false, "score": 1, "creation_date": 1544540513, "post_id": 53638702, "comment_id": 94307067, "body": "@SebastienLorber I don&#39;t see how. The only time a key needs to be mapped to a promise is for the parameter passed in to the function, and we use <code>T</code> for that. The other types we added (return type and <code>combinedResult</code>) use the unwrapped Promise type as the value type, not the actual promise. Maybe I misunderstand what you&#39;re asking me to rewrite."}, {"owner": {"reputation": 78616, "user_id": 82609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FdTlD.jpg?s=128&g=1", "display_name": "Sebastien Lorber", "link": "https://stackoverflow.com/users/82609/sebastien-lorber"}, "edited": false, "score": 0, "creation_date": 1544542045, "post_id": 53638702, "comment_id": 94308064, "body": "I don&#39;t exactly know yet what I&#39;m doing, just asking if you see another possible solution with a provided MappedType ;) if you don&#39;t I&#39;ll be fine thanks"}], "tags": [], "owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1544451306, "last_edit_date": 1592644375, "creation_date": 1544034975, "answer_id": 53638702, "question_id": 53638243, "link": "https://stackoverflow.com/questions/53638243/how-to-type-combinepromise-function-in-typescript/53638702#53638702", "title": "How to type combinePromise function in typescript", "body": "<p>First, note that <code>combinePromises</code> must return a Promise since <code>Promise.all</code> returns a Promise.</p>\n<pre><code>function combinePromises(obj): Promise&lt;...&gt;\n</code></pre>\n<p>Now, what needs to go into <code>...</code>? Well, you want the result to be basically the same object that's passed in, but with the values resolved.</p>\n<h3>Enforcing the same keys</h3>\n<p>To force the returned value to have the same keys as the passed in value, you need to make use of generics and the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\"><code>keyof</code></a> operator:</p>\n<pre><code>type MyType&lt;T&gt; = { [K in keyof T]: ... };\nfunction combinePromises&lt;T&gt;(obj: T): Promise&lt;MyType&lt;T&gt;&gt;\n</code></pre>\n<p>Now, after you <code>await</code> the result of <code>combinePromises</code>, you will have an object whose keys are the same keys of the passed-in object.</p>\n<h3>Enforcing similar values</h3>\n<p>The second part is a little trickier since you can't unwrap Promises to fetch the inner types. You can, however, define a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html\" rel=\"nofollow noreferrer\">conditional type</a> that infers the type of what's supplied to <code>Promise&lt;...&gt;</code>:</p>\n<pre><code>type ThenArg&lt;T&gt; = T extends Promise&lt;infer U&gt; ? U : any;\n</code></pre>\n<p>The definition means, if the type <code>T</code> that's supplied to <code>ThenArg&lt;...&gt;</code> can be assigned to <code>Promise&lt;infer U&gt;</code>, then return type <code>U</code>. Otherwise, default to type <code>any</code>.</p>\n<p>So <code>ThenArg&lt;Promise&lt;User&gt;&gt;</code> will return <code>User</code>.</p>\n<p>Your final type definition and function signature should look like this:</p>\n<pre><code>type MyType&lt;T&gt; = { [K in keyof T]: ThenArg&lt;T[K]&gt; }; // T[K] is the Promise value of the object passed in\ntype ThenArg&lt;T&gt; = T extends Promise&lt;infer U&gt; ? U : any;\n\nfunction combinePromises&lt;T&gt;(obj: T): Promise&lt;MyType&lt;T&gt;&gt;\n</code></pre>\n<p>And the <code>combinedResult</code> declaration should look like:</p>\n<pre><code>const combinedResult: MyType&lt;T&gt; = {} as MyType&lt;T&gt;;\n</code></pre>\n<p>Same type of object just without the Promise layer since inside of <code>Promise.all</code>'s <code>then</code>, they're already resolved.</p>\n<hr />\n<p>The full solution will look something like this:</p>\n<pre><code>async function fetchUser(): Promise&lt;User&gt; {\n    return new User();\n}\nasync function fetchCompany(): Promise&lt;Company&gt; {\n    return new Company();\n}\n\nclass User { name:string }\nclass Company { }\n\ntype MyType&lt;T&gt; = { [K in keyof T]: ThenArg&lt;T[K]&gt; };\ntype ThenArg&lt;T&gt; = T extends Promise&lt;infer U&gt; ? U : any;\n\nexport const combinePromises = function combinePromises&lt;T&gt;(obj: T): Promise&lt;MyType&lt;T&gt;&gt; {\n    const keys = Object.keys(obj);\n    const values = Object.values(obj);\n    return Promise.all(values).then((results) =&gt; {\n        const combinedResult: MyType&lt;T&gt; = {} as MyType&lt;T&gt;;\n        results.forEach((result, i) =&gt; {\n            const key = keys[i];\n            combinedResult[key] = result;\n        });\n        return combinedResult;\n    });\n};\n\n(async () =&gt; {\n    const { user, company } = await combinePromises({\n        user: fetchUser(),\n        company: fetchCompany()\n    });\n    user.name; // we can access user.name since that's a member of User\n})();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1544041472, "post_id": 53639183, "comment_id": 94139783, "body": "OP isn&#39;t using Promise.all directly. He&#39;s calling a wrapper function that returns an object, so this won&#39;t work."}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "reply_to_user": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1544041828, "post_id": 53639183, "comment_id": 94139970, "body": "If all he is doing with the object that returns is destructuring it then what is the point of the wrapper function. (when you can destructure the result from Promise.all and have typeing)"}, {"owner": {"reputation": 78616, "user_id": 82609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FdTlD.jpg?s=128&g=1", "display_name": "Sebastien Lorber", "link": "https://stackoverflow.com/users/82609/sebastien-lorber"}, "edited": false, "score": 0, "creation_date": 1544089127, "post_id": 53639183, "comment_id": 94155131, "body": "I&#39;ll still upvote this answer because with a typed language my interface is less useful and Promise.all is typed. Yet, I actually want to return an object of the shape <code>{user, company}</code> in the end so my interface still makes me win some line of code/readability"}], "tags": [], "owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "is_accepted": false, "score": 0, "last_activity_date": 1544043119, "last_edit_date": 1544043119, "creation_date": 1544036983, "answer_id": 53639183, "question_id": 53638243, "link": "https://stackoverflow.com/questions/53638243/how-to-type-combinepromise-function-in-typescript/53639183#53639183", "title": "How to type combinePromise function in typescript", "body": "<p>I just did:</p>\n\n<pre><code>const [ user, company ] = await Promise.all([\n  fetchUser(),\n  fetchCompany()\n]);\n</code></pre>\n\n<p>and got the right types.</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-combine-promise-typed\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-combine-promise-typed</a></p>\n\n<p>Edit:</p>\n\n<p>This is not a good answer because it doesn't directly answer the OP question. But it could be beneficial to others knowing you can use <code>Promise.all</code> this way.  and maybe the OP could consider using <code>Promise.all</code> directly.</p>\n"}], "owner": {"reputation": 78616, "user_id": 82609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FdTlD.jpg?s=128&g=1", "display_name": "Sebastien Lorber", "link": "https://stackoverflow.com/users/82609/sebastien-lorber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 53638702, "answer_count": 2, "score": 0, "last_activity_date": 1544451306, "creation_date": 1544033123, "last_edit_date": 1544036083, "question_id": 53638243, "link": "https://stackoverflow.com/questions/53638243/how-to-type-combinepromise-function-in-typescript", "title": "How to type combinePromise function in typescript", "body": "<p>I have this existing JS function, which is an alternative interface to <code>Promise.all()</code>. Is there a way to type it with TS?</p>\n\n<pre><code>// Like Promise.all() but taking an object&lt;key,promise&lt;?&gt;&gt; and returning object&lt;key,promiseValue&gt;\nexport const combinePromises = obj =&gt; {\n   const keys = Object.keys(obj);\n   const values = Object.values(obj);\n   return Promise.all(values).then(results =&gt; {\n      const combinedResult = {};\n      results.forEach((result, i) =&gt; {\n         const key = keys[i];\n         combinedResult[key] = result;\n      });\n      return combinedResult;\n   });\n};\n</code></pre>\n\n<p>I'd like to be able to do</p>\n\n<pre><code>const {user,company} = await combinePromises({\n    user: fetchUser(), \n    company: fetchCompany()\n});\n</code></pre>\n\n<p>Given the fetch functions are typed, I expect the response (user and company) to be typed as well.</p>\n"}, {"tags": ["angular", "typescript", "ngrx", "ngrx-store", "ngrx-effects"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1544033024, "post_id": 53638204, "comment_id": 94136083, "body": "Add a return in <code>map()</code>; <code>return data</code>"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "reply_to_user": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1544033684, "post_id": 53638204, "comment_id": 94136370, "body": "thank you but nothing change"}], "answers": [{"comments": [{"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544033665, "post_id": 53638261, "comment_id": 94136363, "body": "Updated the answer. please check."}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544033776, "post_id": 53638261, "comment_id": 94136407, "body": "still error ...you can see directly on the project link"}, {"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034018, "post_id": 53638261, "comment_id": 94136544, "body": "Typo error. updated. <a href=\"https://stackblitz.com/edit/redux-in-actions?file=src%2Fapp%2Fstore%2Feffects%2Ftask.effects.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034102, "post_id": 53638261, "comment_id": 94136587, "body": "if you take a look to the console i have another error  //console Error: this.actions$.ofType(...).switchMap is not a function"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034357, "post_id": 53638261, "comment_id": 94136716, "body": "Error: switchMap is not defined :-)"}, {"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034444, "post_id": 53638261, "comment_id": 94136759, "body": "Add import {switchMap} from &#39;rxjs/operators&#39;;"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034606, "post_id": 53638261, "comment_id": 94136825, "body": "_this.taskService.GetTasks(...).map is not a function"}, {"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034679, "post_id": 53638261, "comment_id": 94136871, "body": "<a href=\"https://stackblitz.com/edit/redux-in-actions?file=src%2Fapp%2Fstore%2Feffects%2Ftask.effects.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034786, "post_id": 53638261, "comment_id": 94136920, "body": "quen i click de button save ; i have this error;  ERROR Error: _this.taskService.GetTasks(...).map is not a function"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544034948, "post_id": 53638261, "comment_id": 94136990, "body": "never mind we are out of topics, you already solde the problem , the think is that i haven&#39;t understood how effects works...and i was trying to make it works a easy example"}, {"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544432280, "post_id": 53638261, "comment_id": 94259231, "body": "sorry but doesn&#39;t work, at the end it doesn&#39;t return anything."}], "tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": true, "score": 3, "last_activity_date": 1544451035, "last_edit_date": 1544451035, "creation_date": 1544033173, "answer_id": 53638261, "question_id": 53638204, "link": "https://stackoverflow.com/questions/53638204/angular-ngrxeffect-basic-question-type-observablevoid-is-not-assignable-t/53638261#53638261", "title": "Angular ngrx@effect basic question : Type &#39;Observable&lt;void&gt;&#39; is not assignable to type", "body": "<p>In RXJS, inside map operator, you need to return values will be received when observer subscribes.</p>\n\n<pre><code>    @Effect() \n  loadTasks$: Observable&lt;Task[]&gt; = this.actions$\n    .ofType(fromActions.ADD_TASK).pipe(\n    switchMap(() =&gt; ({this.taskService.GetTasks().map(data =&gt; {\n            return data; })            \n      })) \n\n    );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544432085, "post_id": 53641536, "comment_id": 94259140, "body": "thank you but doesn&#39;t work  <a href=\"https://stackblitz.com/edit/redux-in-actions?file=src%2Fapp%2Fstore%2Feffects%2Ftask.effects.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 156, "user_id": 10735621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HZilN.png?s=128&g=1", "display_name": "erhise", "link": "https://stackoverflow.com/users/10735621/erhise"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1544439121, "post_id": 53641536, "comment_id": 94262874, "body": "No but you cant return data in an effects, that&#39;s why it&#39;s &quot;not working&quot; as you expect it to. I actually just solved the error that was raised and gave a hint about what you can do.   But instead of trying to return the data you need to dispatch a new action with the new data you recieved. Hope that helps!"}], "tags": [], "owner": {"reputation": 156, "user_id": 10735621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HZilN.png?s=128&g=1", "display_name": "erhise", "link": "https://stackoverflow.com/users/10735621/erhise"}, "is_accepted": false, "score": 1, "last_activity_date": 1544047908, "creation_date": 1544047908, "answer_id": 53641536, "question_id": 53638204, "link": "https://stackoverflow.com/questions/53638204/angular-ngrxeffect-basic-question-type-observablevoid-is-not-assignable-t/53641536#53641536", "title": "Angular ngrx@effect basic question : Type &#39;Observable&lt;void&gt;&#39; is not assignable to type", "body": "<p>There are a couple of things wrong just to start with</p>\n\n<ul>\n<li>The error you are getting is because you need <code>pipe(map(data =&gt; ...)</code> from <code>import { map } from 'rxjs/operators'</code>.</li>\n<li>Then you need to add <code>dispatch: false</code> since you are not returning any actions, otherwise you will get stuck in an endless loop.</li>\n</ul>\n\n<h2>Two options</h2>\n\n<p>An effect should either return an action or <code>dispatch: false</code></p>\n\n<h3>Option 1: No dispatched action</h3>\n\n<pre><code>@Effect({ dispatch: false }) \nloadTasks$: Observable&lt;void&gt; = this.actions$.pipe(\n   ofType(fromActions.ADD_TASK),\n   switchMap(() =&gt; this.taskService.GetTasks().pipe(\n      map(data =&gt; {             \n        console.log(data);        \n      })\n   ) \n));\n</code></pre>\n\n<h3>Option 2: Dispatch action</h3>\n\n<pre><code>@Effect()\nloadTasks$: Observable&lt;void&gt; = this.actions$.pipe(\n  ofType(fromActions.ADD_TASK),\n  switchMap(() =&gt;\n    this.taskService.GetTasks().pipe(\n      map(\n        (data: Task[]) =&gt; new SomeActionYouGot(data);\n      ),\n      catchError(error =&gt;\n        of(new SomeOtherActionThatIndicatesFailFor(data))\n      )\n    )\n  );\n</code></pre>\n"}], "owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3215, "favorite_count": 1, "accepted_answer_id": 53638261, "answer_count": 2, "score": 2, "last_activity_date": 1544451035, "creation_date": 1544032940, "last_edit_date": 1544033274, "question_id": 53638204, "link": "https://stackoverflow.com/questions/53638204/angular-ngrxeffect-basic-question-type-observablevoid-is-not-assignable-t", "title": "Angular ngrx@effect basic question : Type &#39;Observable&lt;void&gt;&#39; is not assignable to type", "body": "<p>I am trying to figure out how @ngrx/effects works, but I am having some problems in this easy example below my error and my stackbliz code</p>\n\n<p><a href=\"https://stackblitz.com/edit/redux-in-actions?file=src%2Fapp%2Fstore%2Feffects%2Ftask.effects.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/redux-in-actions?file=src%2Fapp%2Fstore%2Feffects%2Ftask.effects.ts</a></p>\n\n<blockquote>\n  <p>Type 'Observable' is not assignable to type\n  'Observable'.   Type 'void' is not assignable to type 'Action'</p>\n</blockquote>\n\n<p>thank</p>\n\n<p><a href=\"https://i.stack.imgur.com/bgg0k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bgg0k.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "generics", "typescript-generics", "typescript-types"], "comments": [{"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 0, "creation_date": 1544043387, "post_id": 53638138, "comment_id": 94140683, "body": "I think you&#39;re running up against this: <a href=\"http://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#distributive-conditional-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a> ... your example works if you&#39;re dealing with a <code>string</code> because that is truly a primitive type, but since <code>boolean</code> is really a union type for <code>true | false</code>, the conditional type is distributing it to an entire variant of either type <code>true</code> or <code>false</code>.  So if you change it to a <code>ContextualData&lt;true&gt;(true)</code> it would also work (and the <code>Test</code> type&#39;s inner value would also have to be type <code>true</code>).  I played with it, but found no fix for <code>boolean</code>"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1544043672, "creation_date": 1544043672, "answer_id": 53640674, "question_id": 53638138, "link": "https://stackoverflow.com/questions/53638138/recursive-generic-type-to-extend-types-weird-behaviour-is-this-a-bug/53640674#53640674", "title": "Recursive generic type to extend types - weird behaviour, is this a bug?", "body": "<p>You have run into the distributive behavior of conditional types. This (very useful) behavior dictates that a conditional type distributes over the union members of a naked type parameter. Pair this with the fact that Typescript sees <code>boolean</code> as <code>true | false</code> as and we get that.</p>\n\n<pre><code>DeepContextuable&lt;boolean&gt; = DeepContextuable&lt;true | false&gt;  \n   = DeepContextuable&lt;true&gt; | DeepContextuable&lt;false&gt;  \n   = (true | Contextuable&lt;true&gt;) | (false | Contextuable&lt;false&gt;)\n   = boolean | Contextuable&lt;true&gt; |  Contextuable&lt;false\n</code></pre>\n\n<p>This behavior only occurs over naked type parameters. To disable it we can put the parameter in a tuple and things will work as you expected them to. </p>\n\n<pre><code>export type Primitive = undefined | null | boolean | string | number | Function\n\nexport type Contextuable&lt;T&gt; = T | ContextualData&lt;T&gt;\n\nexport type DeepContextuable&lt;T&gt; =\n[T] extends [Primitive] ? Contextuable&lt;T&gt; : DeepContextuableObject&lt;T&gt;\n\nexport type DeepContextuableObject&lt;T&gt; = {\n    [K in keyof T]: DeepContextuable&lt;T[K]&gt;\n}\n\ninterface Test {\n    inner: {\n        value: boolean,\n    }\n}\n\nclass ContextualData&lt;T&gt; {\n    constructor(public data: T) { }\n\n    public map&lt;U&gt;(mapFn: (current: T) =&gt; U): U {\n        return mapFn(this.data)\n    }\n}\n\nconst original: DeepContextuable&lt;Test&gt; = {\n    inner: {\n        value: new ContextualData&lt;boolean&gt;(true),\n    },\n}\n</code></pre>\n"}], "owner": {"reputation": 978, "user_id": 704620, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33fbe23557383a62097ff987057b0880?s=128&d=identicon&r=PG", "display_name": "Zoon", "link": "https://stackoverflow.com/users/704620/zoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544043672, "creation_date": 1544032686, "question_id": 53638138, "link": "https://stackoverflow.com/questions/53638138/recursive-generic-type-to-extend-types-weird-behaviour-is-this-a-bug", "title": "Recursive generic type to extend types - weird behaviour, is this a bug?", "body": "<p>Given an interface</p>\n\n<pre><code>interface Test {\n  inner: {\n    value: boolean,\n  }\n}\n</code></pre>\n\n<p>and a class</p>\n\n<pre><code>class ContextualData&lt;T&gt; {\n   constructor(public data: T) {}\n}\n</code></pre>\n\n<p>I would like to be able to do as such:</p>\n\n<pre><code>const original: Test = {\n  inner: {\n    value: true,\n  },\n}\n\n// Wrap the value in a ContextualData object.\noriginal.inner.value = new ContextualData&lt;boolean&gt;(original.inner.value)\n</code></pre>\n\n<p>Which I'm trying to achieve by declaring the following types:</p>\n\n<pre><code>export type Primitive = undefined | null | boolean | string | number | Function\n\nexport type Contextuable&lt;T&gt; = T | ContextualData&lt;T&gt;\n\nexport type DeepContextuable&lt;T&gt; =\n  T extends Primitive ? Contextuable&lt;T&gt; : DeepContextuableObject&lt;T&gt;\n\nexport type DeepContextuableObject&lt;T&gt; = {\n  [K in keyof T]: DeepContextuable&lt;T[K]&gt;\n}\n</code></pre>\n\n<p>and then using <code>DeepContextual</code> to transform my <code>Test</code> interface:</p>\n\n<pre><code>const original: DeepContextual&lt;Test&gt; = {\n  inner: {\n    value: new ContextualData&lt;boolean&gt;(true),\n  },\n}\n</code></pre>\n\n<p>This works fine.</p>\n\n<p>Now, let's add another method to our <code>ContextualData</code> class:</p>\n\n<pre><code>class ContextualData&lt;T&gt; {\n   constructor(public data: T) {}\n\n   public map&lt;U&gt;(mapFn: (current: T) =&gt; U): U {\n     return mapFn(this.data)\n   }\n}\n</code></pre>\n\n<p>Even without using the new function, our Contextual interface with <code>value: ContextualData&lt;boolean&gt;(true)</code> now throws the following TS error:</p>\n\n<pre><code>TS2322: Type\u00a0'ContextualData&lt;boolean&gt;'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0type\u00a0\n'boolean\u00a0|\u00a0ContextualData&lt;true&gt;\u00a0|\u00a0ContextualData&lt;false&gt;'.\n</code></pre>\n\n<p>What am I missing? Is this a bug?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1544032564, "post_id": 53638067, "comment_id": 94135870, "body": "Where is the call for &#39;post&#39; method? are you calling it with &#39;bind&#39; function?"}, {"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 0, "creation_date": 1544032700, "post_id": 53638067, "comment_id": 94135925, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16157839/typescript-this-inside-a-class-method\">Typescript &quot;this&quot; inside a class method</a>"}, {"owner": {"reputation": 226, "user_id": 9366125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMqHg.png?s=128&g=1", "display_name": "ngDough", "link": "https://stackoverflow.com/users/9366125/ngdough"}, "reply_to_user": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1544032732, "post_id": 53638067, "comment_id": 94135946, "body": "@benshabatnoam the route works fine, ive added the file so you can see."}], "answers": [{"tags": [], "owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "is_accepted": true, "score": 2, "last_activity_date": 1544037315, "last_edit_date": 1544037315, "creation_date": 1544034987, "answer_id": 53638705, "question_id": 53638067, "link": "https://stackoverflow.com/questions/53638067/typescript-cannot-read-property-of-undefined/53638705#53638705", "title": "Typescript cannot read property of undefined", "body": "<p>You're having a scoping issue. To fix this use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow noreferrer\">bind</a> function as follows:</p>\n\n<p><code>app.route('/github').post(this.ghNewPrController.post.bind(this.ghNewPrController))</code></p>\n\n<p><strong>From developer.mozilla:</strong> \"<em>The bind() method creates a new function that, when called, has its this keyword set to the provided value, with a given sequence of arguments preceding any provided when the new function is called.</em>\"</p>\n\n<p><a href=\"https://stackblitz.com/edit/so-53638067\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}], "owner": {"reputation": 226, "user_id": 9366125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMqHg.png?s=128&g=1", "display_name": "ngDough", "link": "https://stackoverflow.com/users/9366125/ngdough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2851, "favorite_count": 0, "accepted_answer_id": 53638705, "answer_count": 1, "score": 0, "last_activity_date": 1544037315, "creation_date": 1544032360, "last_edit_date": 1544032672, "question_id": 53638067, "link": "https://stackoverflow.com/questions/53638067/typescript-cannot-read-property-of-undefined", "title": "Typescript cannot read property of undefined", "body": "<blockquote>\n  <p>TypeError: Cannot read property 'ghNewPrMethod' of undefined</p>\n</blockquote>\n\n<p>When I try send a webhook POST to my Typescript application, I get the above error.</p>\n\n<p>I have the following controller </p>\n\n<pre><code>import { GhStatusSchema } from '../models/gh-status.model';\nimport { Request, Response } from 'express';\n\nimport * as crypto from 'crypto';\nimport { Helpers } from '../helpers';\nimport { GhNewPrMethod } from '../methods/gh-new-pr.method';\n\nimport { GitHubConfig } from '../../config/github';\n\nconst secret: string = GitHubConfig.secret;\n\nexport class GhNewPrController {\n  public helpers: Helpers = new Helpers();\n  public ghNewPrMethod = new GhNewPrMethod();\n\n  public post(req: Request, res: Response) {\n    console.log(111);\n    this.ghNewPrMethod.slackMessage(req.body, req.get('x-github-delivery'))\n  } \n}\n</code></pre>\n\n<p>it seems there is an issue with <code>this.ghNewPrMethod.slackMess</code> and <code>this</code> is undefined.</p>\n\n<p>** gh-new-pr.method.ts**</p>\n\n<pre><code>import * as Slack from 'slack-node';\n\nimport { GhMessageSchema } from '../models/gh-new-pr.model';\nimport { SlackConfig } from '../../config/slack';\nimport { UsersConfig } from '../../config/users';\nimport { Helpers } from '../helpers';\n\nexport class GhNewPrMethod {\n  helpers: Helpers = new Helpers();\n\n  public findSavedPR(id) {\n    return new Promise((resolve, reject) =&gt; {\n      GhMessageSchema.find({\n        pull_request: id\n      }, (err, message) =&gt; {\n        if (err || message.length === 0) {\n          reject(err);\n        }\n        resolve(message);\n      });\n    });\n  }\n\n  public slackMessage(payload, header) {\n    console.log(payload);\n  }\n}\n</code></pre>\n\n<p>The reason I'm using another file is break down my controller into smaller functions in another file so some can be re-usable and makes the controller look much cleaner.</p>\n\n<p>Could someone help me </p>\n\n<p>edit: </p>\n\n<p><strong>route.ts</strong></p>\n\n<pre><code>import { Request, Response, NextFunction } from \"express\";\nimport { GhNewPrController } from '../controllers/gh-new-pr.controller';\n\nexport class Routes {\n\n  public ghNewPrController: GhNewPrController = new GhNewPrController()\n\n  public routes(app): void {\n\n    app.route('/github')\n      .post(this.ghNewPrController.post)\n\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2019, "user_id": 849027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c809ce9c02c8dd01e51d7bc1a8b4d3fe?s=128&d=identicon&r=PG", "display_name": "ethan.roday", "link": "https://stackoverflow.com/users/849027/ethan-roday"}, "edited": false, "score": 0, "creation_date": 1544036059, "post_id": 53638042, "comment_id": 94137478, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42233987/how-to-configure-custom-global-interfaces-d-ts-files-for-typescript\" title=\"how to configure custom global interfaces d ts files for typescript\">stackoverflow.com/questions/42233987/&hellip;</a>."}, {"owner": {"reputation": 1848, "user_id": 2972087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100000232966204/picture?type=large", "display_name": "kris_IV", "link": "https://stackoverflow.com/users/2972087/kris-iv"}, "reply_to_user": {"reputation": 2019, "user_id": 849027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c809ce9c02c8dd01e51d7bc1a8b4d3fe?s=128&d=identicon&r=PG", "display_name": "ethan.roday", "link": "https://stackoverflow.com/users/849027/ethan-roday"}, "edited": false, "score": 0, "creation_date": 1544036205, "post_id": 53638042, "comment_id": 94137545, "body": "I don&#39;t need global access, only import for specyfic file."}, {"owner": {"reputation": 2019, "user_id": 849027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c809ce9c02c8dd01e51d7bc1a8b4d3fe?s=128&d=identicon&r=PG", "display_name": "ethan.roday", "link": "https://stackoverflow.com/users/849027/ethan-roday"}, "edited": false, "score": 0, "creation_date": 1544036824, "post_id": 53638042, "comment_id": 94137806, "body": "Apologies - that was hasty on calling it a duplicate. The question is different, but the underlying issue (difference between scripts and modules) is the same."}], "answers": [{"comments": [{"owner": {"reputation": 1848, "user_id": 2972087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100000232966204/picture?type=large", "display_name": "kris_IV", "link": "https://stackoverflow.com/users/2972087/kris-iv"}, "edited": false, "score": 0, "creation_date": 1544175993, "post_id": 53639055, "comment_id": 94191502, "body": "I try to change compiler options into &#39;es6&#39; but I doesn&#39;t see any difference in compilation process. I got the same errors."}, {"owner": {"reputation": 2019, "user_id": 849027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c809ce9c02c8dd01e51d7bc1a8b4d3fe?s=128&d=identicon&r=PG", "display_name": "ethan.roday", "link": "https://stackoverflow.com/users/849027/ethan-roday"}, "reply_to_user": {"reputation": 1848, "user_id": 2972087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100000232966204/picture?type=large", "display_name": "kris_IV", "link": "https://stackoverflow.com/users/2972087/kris-iv"}, "edited": false, "score": 0, "creation_date": 1544310375, "post_id": 53639055, "comment_id": 94232221, "body": "Can you edit your question to include your tsconfig.json? That would be helpful in figuring out what the problem is."}, {"owner": {"reputation": 1848, "user_id": 2972087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100000232966204/picture?type=large", "display_name": "kris_IV", "link": "https://stackoverflow.com/users/2972087/kris-iv"}, "edited": false, "score": 0, "creation_date": 1544346865, "post_id": 53639055, "comment_id": 94237764, "body": "I edit my question and paste <code>tsconfig.json</code> and <code>tsconfig.app.json</code>"}], "tags": [], "owner": {"reputation": 2019, "user_id": 849027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c809ce9c02c8dd01e51d7bc1a8b4d3fe?s=128&d=identicon&r=PG", "display_name": "ethan.roday", "link": "https://stackoverflow.com/users/849027/ethan-roday"}, "is_accepted": true, "score": 0, "last_activity_date": 1544036417, "creation_date": 1544036417, "answer_id": 53639055, "question_id": 53638042, "link": "https://stackoverflow.com/questions/53638042/cant-use-interfaces-from-another-file-when-they-import-any-dependencies/53639055#53639055", "title": "Can&#39;t use interfaces from another file when they import any dependencies", "body": "<p>This is due to some odd default behavior in Typescript (mostly there for legacy purposes). By default, if you have a file with no import/export statements in it, and it's included in your tsconfig.json (by default, everything in tsconfig's directly is included), Typescript will treat it as a <em>script</em>, as opposed to a <em>module</em>, and make its identifiers available in global scope.</p>\n\n<p>You can disable this behavior by changing the value of <code>module</code> in your <code>compilerOptions</code> in your tsconfig.json. Which value you want depends on where this code is going, but using <code>es6</code>, for example, should give you the desired behavior.</p>\n"}], "owner": {"reputation": 1848, "user_id": 2972087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100000232966204/picture?type=large", "display_name": "kris_IV", "link": "https://stackoverflow.com/users/2972087/kris-iv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "accepted_answer_id": 53639055, "answer_count": 1, "score": 0, "last_activity_date": 1544346812, "creation_date": 1544032256, "last_edit_date": 1544346812, "question_id": 53638042, "link": "https://stackoverflow.com/questions/53638042/cant-use-interfaces-from-another-file-when-they-import-any-dependencies", "title": "Can&#39;t use interfaces from another file when they import any dependencies", "body": "<p>I have a problem with interface import. When I have interface with non import dependencies in separate files like:</p>\n\n<p><code>/src/app/something/something.interface.ts</code></p>\n\n<pre><code>interface ISomething {\n    a: String[];\n}\n</code></pre>\n\n<p>I can use it in another file in the same directory without import it, fo example:</p>\n\n<p><code>/src/app/someting/something.tsx</code></p>\n\n<pre><code>class Something extends React.Component&lt;ISomething, any&gt; {\n\n}\n</code></pre>\n\n<p>But when I have interface like this:</p>\n\n<pre><code>import Page from '../components/page';\n\ninterface ISomething {\n    a: String[];\n    b: Page;\n}\n</code></pre>\n\n<p>I get an error from compilation process:\n<code>[2] ERROR in src/app/something/something.tsx(9,40): error TS2304: Cannot find name 'ISomething'.</code></p>\n\n<p>I try to use <code>export interface ISomething ...</code> and import them in <code>something.tsx</code> but this get an error </p>\n\n<pre><code>[2] ERROR in src/app/application/education/react/renderer/renderer.tsx(8,9): error TS2305: Module '\"/Users/xxx/Projects/react/src/app/something/something.interface\"' has no exported member 'ISomething'.\n</code></pre>\n\n<p>When I put my <code>ISomething</code> interface in <code>something.tsx</code> file it work, but I want to keep it clean in separate file.</p>\n\n<p>Do you have any idea why?</p>\n\n<p>EDIT:\ntsconfig.json</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>tsconfig.app.json</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../dist/out-tsc/app\",\n    \"module\": \"es2015\",\n    \"types\": [\n      \"node\"\n    ]\n  },\n  \"exclude\": [\n    \"src/test.ts\",\n    \"**/*.spec.ts\"\n  ],\n    \"angularCompilerOptions\": {\n        \"preserveWhitespaces\": true\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "is_accepted": false, "score": 2, "last_activity_date": 1544033387, "last_edit_date": 1544033387, "creation_date": 1544033016, "answer_id": 53638218, "question_id": 53638035, "link": "https://stackoverflow.com/questions/53638035/rxjs-stream-of-popups/53638218#53638218", "title": "rxjs: stream of popups", "body": "<p>The solution is to turn each notification message into an Observable (or Promise) that does not complete until the user dismisses the notification.  Then just use <code>concatMap</code>.  concatMap will wait for the previous messge to complete before subscribing to the next</p>\n\n<p>Here's an example:</p>\n\n<pre><code>const showNotification = (notification) =&gt; {\n    // return a \"cold\" observable using RxJS defer function\n    // so that the notification is not shown until\n    // we are subscribed\n    return defer(() =&gt; new Promise(resolve =&gt; {\n        // when popup calls this.currentNotification() resolve the promise\n        this.currentNotification = resolve;\n        showModal(notification);\n    }));\n};\n\nnotifications.pipe(concatMap(showNotification)).subscribe();\n</code></pre>\n"}], "owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544033735, "creation_date": 1544032209, "last_edit_date": 1544033735, "question_id": 53638035, "link": "https://stackoverflow.com/questions/53638035/rxjs-stream-of-popups", "title": "rxjs: stream of popups", "body": "<p>I have to show N number of bootstrap popups one after the other to the user. I currently do have a stream of messages to be shown in each popup. If I do a simple subscription and show the message, it will not wait for user to dismiss a popup and either call <code>show('modal')</code> multiple times or alter the message to show only the last one to the user.</p>\n\n<p>One crazy idea is to add a delay per notification using <code>debounce</code> operator and hope that user's brain is synchronized with your delay.</p>\n\n<p>I have been thinking about creating a stream of notifications with a callback function for the receiving end to let me know if the notification has been consumed.</p>\n\n<pre><code>export class CallbackNotification&lt;T&gt;  {\n  parameter : T;\n  callbackFunction: () =&gt; any;\n}\n\nexport function notifyAndMoveNext&lt;T&gt;(source: Observable&lt;T&gt;)  : Observable&lt;CallbackNotification&lt;T&gt;&gt;  {\n  let notifications = new BehaviorSubject&lt;any&gt;(0);\n  return\n zip(source, notifications)\n   .pipe(map(([a, n]) =&gt; &lt;CallbackNotification&lt;T&gt;&gt; { \n               parameter = a, \n               callbackFunction = () =&gt; notifications.next(0) \n     }));\n}\n</code></pre>\n\n<p>then I can simply do</p>\n\n<pre><code>notifyAndMoveNext(myMessagesObservable).subscribe(x =&gt; { this.currentNotification = x.callbackFunction; showModal(x.parameter); });\n</code></pre>\n\n<p>and at the button event handler of the popup </p>\n\n<pre><code>this.currentNotification();\n</code></pre>\n\n<p>The above will not work for sharing subscriptions (publish and refCount), is there anything else that anyone see going wrong that I don't see? Do you guys suggest any alternative?</p>\n"}, {"tags": ["angular", "typescript", "angular7", "angular-validation"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1544030450, "post_id": 53637481, "comment_id": 94134867, "body": "This happens by default. You don&#39;t need to add any validator to have that. A form group is valid if all its controls (recursively) are valid. <a href=\"https://stackblitz.com/edit/angular-ezzdmq?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 628, "user_id": 4668963, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/546017ec07fcde1bff1e0b145dcc5439?s=128&d=identicon&r=PG&f=1", "display_name": "azulBonnet", "link": "https://stackoverflow.com/users/4668963/azulbonnet"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1544030654, "post_id": 53637481, "comment_id": 94134967, "body": "@JBNizet, I just tested removing the validator and that is not working. Please see the picture I&#39;ve added to my question."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1544030823, "post_id": 53637481, "comment_id": 94135046, "body": "See the stackblitz link I posted in my previous comment. Open the console."}, {"owner": {"reputation": 628, "user_id": 4668963, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/546017ec07fcde1bff1e0b145dcc5439?s=128&d=identicon&r=PG&f=1", "display_name": "azulBonnet", "link": "https://stackoverflow.com/users/4668963/azulbonnet"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1544031453, "post_id": 53637481, "comment_id": 94135325, "body": "@JBNizet, interesting now I&#39;m really confused. On the stackblitz formGroup.valid logs false but if I log just formGroup right after, status = &quot;VALID&quot; and valid=true."}, {"owner": {"reputation": 1140, "user_id": 1254811, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/igxe6.jpg?s=128&g=1", "display_name": "rharrison33", "link": "https://stackoverflow.com/users/1254811/rharrison33"}, "edited": false, "score": 0, "creation_date": 1593017447, "post_id": 53637481, "comment_id": 110634688, "body": "I&#39;m having same issue. Anybody figure this out?"}], "owner": {"reputation": 628, "user_id": 4668963, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/546017ec07fcde1bff1e0b145dcc5439?s=128&d=identicon&r=PG&f=1", "display_name": "azulBonnet", "link": "https://stackoverflow.com/users/4668963/azulbonnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 804, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1544047790, "creation_date": 1544030015, "last_edit_date": 1544047790, "question_id": 53637481, "link": "https://stackoverflow.com/questions/53637481/make-parent-formgroup-invalid-until-nested-formgroups-valid-custom-validator-f", "title": "Make parent FormGroup invalid until nested FormGroups Valid - Custom Validator for a FormGroup", "body": "<p>I have an Angular 7 project for dynamically creating forms. I have one parent FormGroup with nested FormGroups of various types.</p>\n\n<p>I want parentForm to be invalid until all of the nested/subforms are valid (actually want them submitted but haven't gotten there yet).</p>\n\n<pre><code>  this.parentForm = new FormGroup(this.subforms, { validators: allSubModulesValidValidator }); \n</code></pre>\n\n<p>this.subforms is an object like this:</p>\n\n<pre><code>interface DynamicKeyFormGroup {\n  [key: string]: FormGroup;\n}\n\nsubforms: DynamicKeyFormGroup = {};\n</code></pre>\n\n<p>I know my validator is wrong, but I can't figure out how to design a validator for a FormGroup vs a FormControl.</p>\n\n<p>The idea is that I'm trying to loop over all of this.subForms' properties which are the nested FormGroups and then checking their status. If any are invalid, mark parentForm as invalid.</p>\n\n<pre><code>const allSubModulesValidValidator: ValidatorFn = (control: FormGroup): ValidationErrors | null =&gt; {\n  const controls = control.controls;\n  for (const key in controls) {\n    if (controls.hasOwnProperty(key)) {\n      if (!(controls[key].status === 'valid')) {\n        return { 'allSubModulesValid': true };\n      }\n    }\n  }\n  return null;\n};\n</code></pre>\n\n<p>In response to comment. After removing the validator the parent is valid while child is invalid:\n<a href=\"https://i.stack.imgur.com/pK19C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pK19C.png\" alt=\"child invalid, parent valid\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular6", "angular2-services"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 10490137, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xrVGIrN0rj8/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUs0GfBnvfTtd8j-bW8Xsy5n0Gewg/mo/photo.jpg?sz=128", "display_name": "SRANSV", "link": "https://stackoverflow.com/users/10490137/sransv"}, "edited": false, "score": 0, "creation_date": 1544030792, "post_id": 53637584, "comment_id": 94135037, "body": "Thanks..Working fine"}, {"owner": {"reputation": 103, "user_id": 10490137, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xrVGIrN0rj8/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUs0GfBnvfTtd8j-bW8Xsy5n0Gewg/mo/photo.jpg?sz=128", "display_name": "SRANSV", "link": "https://stackoverflow.com/users/10490137/sransv"}, "edited": false, "score": 0, "creation_date": 1544030961, "post_id": 53637584, "comment_id": 94135106, "body": "I have some question in angular 6..Can you answer me?"}], "tags": [], "owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "is_accepted": true, "score": 4, "last_activity_date": 1544030395, "creation_date": 1544030395, "answer_id": 53637584, "question_id": 53637425, "link": "https://stackoverflow.com/questions/53637425/how-to-remove-duplicate-object-from-an-array-in-angular-6/53637584#53637584", "title": "How to remove duplicate object from an array in angular 6", "body": "<p>If <code>addComp</code> is the only place you modify <code>this.item</code>, just check for existing prior to insertion. Duplicates will never get put in the array, so you'll never have to trim them.</p>\n\n<pre><code>addComp(Names,c){\n  let item = {name: Names, componentid: c};\n  if (this.item.find((test) =&gt; test.name === Names) === undefined) {\n    this.item.push(item);\n  }\n}\n</code></pre>\n\n<p>Alternatively, if there are other places that you're modifying <code>this.item</code>, you should be stripping duplicates in a more expected place. Stripping them as a side-effect of the <code>addComp</code> function is unexpected. However, you could do it...</p>\n\n<pre><code>addComp(Names,c){\n  this.item.push({name: Names, componentid: c});\n  this.item = this.item.filter((test, index, array) =&gt;\n     index === array.findIndex((findTest) =&gt;\n        findTest.name === test.name\n     )\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 651, "user_id": 10755112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ljhB.jpg?s=128&g=1", "display_name": "Devang Patel", "link": "https://stackoverflow.com/users/10755112/devang-patel"}, "is_accepted": false, "score": 14, "last_activity_date": 1544173823, "creation_date": 1544173823, "answer_id": 53666380, "question_id": 53637425, "link": "https://stackoverflow.com/questions/53637425/how-to-remove-duplicate-object-from-an-array-in-angular-6/53666380#53666380", "title": "How to remove duplicate object from an array in angular 6", "body": "<pre><code>const result = Array.from(this.item.reduce((m, t) =&gt; m.set(t.name, t), new Map()).values());\n</code></pre>\n\n<p>This might be fix your issue.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 2642281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a0cea7d19857f31051c5d33798c4bb?s=128&d=identicon&r=PG", "display_name": "user2642281", "link": "https://stackoverflow.com/users/2642281/user2642281"}, "is_accepted": false, "score": 6, "last_activity_date": 1551036762, "last_edit_date": 1551036762, "creation_date": 1551035998, "answer_id": 54855589, "question_id": 53637425, "link": "https://stackoverflow.com/questions/53637425/how-to-remove-duplicate-object-from-an-array-in-angular-6/54855589#54855589", "title": "How to remove duplicate object from an array in angular 6", "body": "<pre><code>this.item = this.item.filter((el, i, a) =&gt; i === a.indexOf(el))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4586727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57710e70db976bca13135d9226485d1e?s=128&d=identicon&r=PG&f=1", "display_name": "Saqib Rasool", "link": "https://stackoverflow.com/users/4586727/saqib-rasool"}, "is_accepted": false, "score": 0, "last_activity_date": 1598118502, "last_edit_date": 1598118502, "creation_date": 1598009288, "answer_id": 63522040, "question_id": 53637425, "link": "https://stackoverflow.com/questions/53637425/how-to-remove-duplicate-object-from-an-array-in-angular-6/63522040#63522040", "title": "How to remove duplicate object from an array in angular 6", "body": "<p>This will fix the bug</p>\n<pre><code>const uniqueObjectArray = [...new Map(arrayOfObjectsWithDuplicates.map(item =&gt; [item[key], item])).values()]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9288455, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OePMO_iwVrg/AAAAAAAAAAI/AAAAAAAADJg/e6I97Nk5pKA/photo.jpg?sz=128", "display_name": "Viraj Sandaruwan", "link": "https://stackoverflow.com/users/9288455/viraj-sandaruwan"}, "is_accepted": false, "score": 0, "last_activity_date": 1608095691, "creation_date": 1608095691, "answer_id": 65317713, "question_id": 53637425, "link": "https://stackoverflow.com/questions/53637425/how-to-remove-duplicate-object-from-an-array-in-angular-6/65317713#65317713", "title": "How to remove duplicate object from an array in angular 6", "body": "<p>This will remove existing duplicates in <code>this.item</code></p>\n<pre><code>const item = [...new Set(this.item)];\n</code></pre>\n<p>This is a more updated way to do this. this will check for existing prior to insertion. And if <code>item</code> is not in <code>this.item</code> then <code>this.item.indexOf(item) = -1</code></p>\n<p>This is the best way to prevent pushing duplicate value objects in to an array</p>\n<pre><code>addComp(Names,c){\n  let item = {name: Names, componentid: c};\n  if (this.item.indexOf(item) === -1) {\n    this.item.push(item);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 10490137, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xrVGIrN0rj8/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUs0GfBnvfTtd8j-bW8Xsy5n0Gewg/mo/photo.jpg?sz=128", "display_name": "SRANSV", "link": "https://stackoverflow.com/users/10490137/sransv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29385, "favorite_count": 1, "accepted_answer_id": 53637584, "answer_count": 5, "score": 6, "last_activity_date": 1608095691, "creation_date": 1544029840, "last_edit_date": 1544069815, "question_id": 53637425, "link": "https://stackoverflow.com/questions/53637425/how-to-remove-duplicate-object-from-an-array-in-angular-6", "title": "How to remove duplicate object from an array in angular 6", "body": "<p>I am trying to remove duplicate value objects in an array but not working... I think duplicate function is working but not reflecting in <code>li</code> list. Can you find out where I have to change?</p>\n\n<p>My service file:</p>\n\n<pre><code> addComp(Names,c){   \n this.item.push({ name: Names, componentid: c});\n this.uniqueArray = this.removeDuplicates(this.item, \"name\"); //this line issue\n this.item=this.uniqueArray; //this line issue\n }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 690, "user_id": 5058260, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SQ22g.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5058260/harry"}, "edited": false, "score": 0, "creation_date": 1544083365, "post_id": 53637746, "comment_id": 94152214, "body": "Extremely helpful thank you! I was not aware of type functions"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 18, "last_activity_date": 1544094971, "last_edit_date": 1544094971, "creation_date": 1544031040, "answer_id": 53637746, "question_id": 53637125, "link": "https://stackoverflow.com/questions/53637125/typescript-extract-and-create-union-as-a-subset-of-a-union/53637746#53637746", "title": "Typescript extract and create Union as a subset of a Union", "body": "<p>Restricting a union to a subset of consituents is <a href=\"https://en.wikipedia.org/wiki/Subtyping\" rel=\"noreferrer\">subtyping</a>.  In TypeScript, <code>A extends B</code> is a way of saying that <code>A</code> is a subtype of <code>B</code>.  (This seems backwards to some people at some times; by removing elements from a union, you are making the type more specific, which is a subtype.  The word \"extends\" might seem out of place, but that's what it is).</p>\n\n<p>Unfortunately, you can't use <code>extends</code> to narrow type aliases the way you can with interfaces.  What you'd like to do is use following <em>invalid</em> syntax:</p>\n\n<pre><code>// this is not valid TypeScript, do not use this:\ntype MySubUnion extends MyUnionType = 'foo' | 'bar'; // should work\ntype MySubUnion extends MyUnionType = 'foo' | 'bas'; // should fail\n</code></pre>\n\n<p>But you can't do that.  As a workaround, you can make a new type function called <code>Extends&lt;T, U&gt;</code> which evaluates to <code>U</code> but only compile if <code>U</code> extends <code>T</code>, like this:</p>\n\n<pre><code>type Extends&lt;T, U extends T&gt; = U;\n</code></pre>\n\n<p>Then you can rewrite the invalid code to the following valid code:</p>\n\n<pre><code>type MySubUnion = Extends&lt;MyUnionType, 'foo' | 'bar'&gt;; // okay, compiles\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>type MySubUnion = Extends&lt;MyUnionType, 'foo' | 'bas'&gt;; // error:\n// Type '\"bas\"' is not assignable to type 'MyUnionType'.\n</code></pre>\n\n<p>Does that help?  Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 4431, "user_id": 753279, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IJqH6.png?s=128&g=1", "display_name": "What Would Be Cool", "link": "https://stackoverflow.com/users/753279/what-would-be-cool"}, "is_accepted": false, "score": 1, "last_activity_date": 1586444594, "creation_date": 1586444594, "answer_id": 61124195, "question_id": 53637125, "link": "https://stackoverflow.com/questions/53637125/typescript-extract-and-create-union-as-a-subset-of-a-union/61124195#61124195", "title": "Typescript extract and create Union as a subset of a Union", "body": "<p>You could always flip the declaration order, though it's a bit odd with the particular names here.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type MySubUnion = 'foo' | 'bar';\ntype MyUnionType = MySubUnion | 'baz';\n</code></pre>\n\n<p>It's more in the lines of composing union types.</p>\n"}], "owner": {"reputation": 690, "user_id": 5058260, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SQ22g.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5058260/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2076, "favorite_count": 0, "accepted_answer_id": 53637746, "answer_count": 2, "score": 9, "last_activity_date": 1586444594, "creation_date": 1544028774, "question_id": 53637125, "link": "https://stackoverflow.com/questions/53637125/typescript-extract-and-create-union-as-a-subset-of-a-union", "title": "Typescript extract and create Union as a subset of a Union", "body": "<p>I have the following Union type;</p>\n\n<pre><code>type MyUnionType = 'foo' | 'bar' | 'baz'\n</code></pre>\n\n<p>I would like to create a new Union <code>MySubUnion</code> as a subset;</p>\n\n<pre><code>type MySubUnion = 'foo' | 'bar'\n</code></pre>\n\n<p>I would like <code>MySubUnion</code> to be constrained to the values of its parent <code>MyUnionType</code></p>\n\n<pre><code>type MySubUnion = 'foo' | 'bas' // =&gt; Error Type String 'b...\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 5519, "user_id": 2736742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjyZM.jpg?s=128&g=1", "display_name": "A. Morel", "link": "https://stackoverflow.com/users/2736742/a-morel"}, "edited": false, "score": 0, "creation_date": 1548707095, "post_id": 53636928, "comment_id": 95630349, "body": "For change the styles of material inputs with css =&gt; <a href=\"https://stackoverflow.com/a/54409733/2736742\">stackoverflow.com/a/54409733/2736742</a>"}], "answers": [{"comments": [{"owner": {"reputation": 552, "user_id": 9872146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff412ab504de2357d0f2fce6f5ce5c06?s=128&d=identicon&r=PG&f=1", "display_name": "lams", "link": "https://stackoverflow.com/users/9872146/lams"}, "edited": false, "score": 0, "creation_date": 1544029319, "post_id": 53637061, "comment_id": 94134222, "body": "Very good! In this example I have two fields / inputs do I need to reference for each one? Example # field1 and # field2 or is there a way to apply the style to all of the html inputs in question?"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "reply_to_user": {"reputation": 552, "user_id": 9872146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff412ab504de2357d0f2fce6f5ce5c06?s=128&d=identicon&r=PG&f=1", "display_name": "lams", "link": "https://stackoverflow.com/users/9872146/lams"}, "edited": false, "score": 0, "creation_date": 1544029438, "post_id": 53637061, "comment_id": 94134297, "body": "I actually tried using <code>MatInput</code> but apparently doesn&#39;t work that way as accessing it via <code>ViewChild</code> returns <code>undefined</code>. So yeah, if you have two fields, then you&#39;ll have to do it this way only by defining two properties on your Component Class."}, {"owner": {"reputation": 552, "user_id": 9872146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff412ab504de2357d0f2fce6f5ce5c06?s=128&d=identicon&r=PG&f=1", "display_name": "lams", "link": "https://stackoverflow.com/users/9872146/lams"}, "edited": false, "score": 0, "creation_date": 1544029781, "post_id": 53637061, "comment_id": 94134535, "body": "OK! This way I saw that I can change the color of the background, but could you tell me how to change the color of the label and input line?"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 0, "last_activity_date": 1544028897, "last_edit_date": 1544028897, "creation_date": 1544028593, "answer_id": 53637061, "question_id": 53636928, "link": "https://stackoverflow.com/questions/53636928/style-input-material-angular/53637061#53637061", "title": "Style input material angular", "body": "<p>Use <a href=\"https://angular.io/api/core/Renderer2#setStyle\" rel=\"nofollow noreferrer\"><strong><code>Renderer2</code></strong></a> along with <a href=\"https://angular.io/api/core/ViewChild\" rel=\"nofollow noreferrer\"><strong><code>ViewChild</code></strong></a> to do this.</p>\n\n<p><code>Renderer2</code> gives Platform Agnostic APIs to modify the DOM and should be used as opposed to the native <code>document</code> APIs.</p>\n\n<p>You can inject <code>Renderer2</code> as a dependency in your Component and then call the <code>setStyle</code> method on it passing the element you want to set the style on, name of the style(<code>'background'</code>) and the value of it(<code>red</code> in my eg).</p>\n\n<p>Here, give this a try:</p>\n\n<pre><code>import { Component, ViewChild, Renderer2 } from '@angular/core';\nimport { MatInput } from '@angular/material/input';\n\n@Component({...})\nexport class InputOverviewExample {\n\n  @ViewChild('food') matInput: MatInput;\n\n  constructor(private renderer: Renderer2) {}\n\n  ngAfterViewInit() {\n    this.renderer.setStyle(this.matInput.nativeElement, 'background', 'red');\n  }\n\n}\n</code></pre>\n\n<p>And in your Template, create template variable(s) like I've done on the <code>input</code> tag with the name <code>food</code>. This is what I'm using in <code>@ViewChild('food')</code>:</p>\n\n<pre><code>&lt;form class=\"example-form\"&gt;\n  &lt;mat-form-field class=\"example-full-width\"&gt;\n    &lt;input #food matInput placeholder=\"Favorite food\" value=\"Sushi\"&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field class=\"example-full-width\"&gt;\n    &lt;textarea matInput placeholder=\"Leave a comment\"&gt;&lt;/textarea&gt;\n  &lt;/mat-form-field&gt;\n&lt;/form&gt;\n</code></pre>\n\n<hr>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/change-matinput-style-in-ts?file=app/input-overview-example.html\" rel=\"nofollow noreferrer\"><strong>Working Sample StackBlitz</strong></a> for your ref.</p>\n"}], "owner": {"reputation": 552, "user_id": 9872146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff412ab504de2357d0f2fce6f5ce5c06?s=128&d=identicon&r=PG&f=1", "display_name": "lams", "link": "https://stackoverflow.com/users/9872146/lams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 658, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544028897, "creation_date": 1544028170, "question_id": 53636928, "link": "https://stackoverflow.com/questions/53636928/style-input-material-angular", "title": "Style input material angular", "body": "<p>On the angular material and the input component (matInput) how can I modify the style of all inputs in typescript?</p>\n\n<p>I'm trying this way, but it only modifies the first element.</p>\n\n<pre><code>ngAfterViewInit () {\n    const matlabel = this.elRef.nativeElement.querySelector ('.mat-form-field-label');\n    matlabel.style.color = 'white';\n  }\n</code></pre>\n\n<p>=====================</p>\n\n<pre><code>&lt;form [formGroup]=\"form\" (ngSubmit)=\"login()\"&gt;\n      &lt;table cellspacing=\"0\" class=\"tb-login\"&gt;\n        &lt;tr&gt;\n          &lt;td&gt;\n            &lt;mat-form-field class=\"form-login\"&gt;\n              &lt;input matInput type=\"text\" placeholder=\"Login\" formControlName=\"login\"  class=\"input-login\"/&gt;\n            &lt;/mat-form-field&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td&gt;\n            &lt;mat-form-field  class=\"form-login\"&gt;\n              &lt;input matInput type=\"password\" placeholder=\"Password\" formControlName=\"password\"   class=\"input-login\"/&gt;\n            &lt;/mat-form-field&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td&gt;\n            &lt;button mat-raised-button type=\"submit\" class=\"btn_login\"&gt;Login&lt;/button&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Angular v7\nMaterial Angular v7</p>\n\n<p>I will be grateful for suggestions.</p>\n"}, {"tags": ["typescript", "syntax"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1544031355, "post_id": 53636853, "comment_id": 94135266, "body": "What about using generics for <code>Module</code>?  Or is that too complicated a suggestion?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1544031647, "post_id": 53636853, "comment_id": 94135415, "body": "Yeah .. that would work as well.. I&#39;ll add it when I get back to a PC :)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 498, "user_id": 5603476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a17d70dd197ff5669590a06c4eba5df?s=128&d=identicon&r=PG&f=1", "display_name": "Kaloyan Dimitrov", "link": "https://stackoverflow.com/users/5603476/kaloyan-dimitrov"}, "edited": false, "score": 0, "creation_date": 1544082708, "post_id": 53636853, "comment_id": 94151936, "body": "@KaloyanDimitrov let me know which version you decided to go with, I am curios which you found easier to implement/understand/write :)"}, {"owner": {"reputation": 498, "user_id": 5603476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a17d70dd197ff5669590a06c4eba5df?s=128&d=identicon&r=PG&f=1", "display_name": "Kaloyan Dimitrov", "link": "https://stackoverflow.com/users/5603476/kaloyan-dimitrov"}, "edited": false, "score": 1, "creation_date": 1544082929, "post_id": 53636853, "comment_id": 94152027, "body": "<code>structure: Module[&#39;structure&#39;] &amp;  {      visible: boolean;       };</code>  Is the syntax I was looking for."}, {"owner": {"reputation": 1513, "user_id": 387015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9cd71af1c025c24d0f9e954b031bb4e8?s=128&d=identicon&r=PG", "display_name": "WORMSS", "link": "https://stackoverflow.com/users/387015/wormss"}, "edited": false, "score": 1, "creation_date": 1559738261, "post_id": 53636853, "comment_id": 99512653, "body": "So, what you are saying @TitianCernicova-Dragomir is that there is no way to do it? (for those who can&#39;t read it was a joke, yes I know he listed 4 ways to do it). I am going to use technique number 2 <code>Module[&#39;structure&#39;] &amp; { visible: boolean; };</code>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 29, "last_activity_date": 1544049518, "last_edit_date": 1544049518, "creation_date": 1544027901, "answer_id": 53636853, "question_id": 53636756, "link": "https://stackoverflow.com/questions/53636756/typescript-interface-extending-another-interface-with-nested-properties/53636853#53636853", "title": "Typescript - interface extending another interface with nested properties", "body": "<p>Interfaces can't add to the types of members in the base interface (at least not directly). You can use an intersection type instead:</p>\n\n<pre><code>export interface Module {\nname: string;\ndata: any;\n    structure: {\n        icon: string;\n        label: string;\n    }\n}\n\nexport type DataModule = Module &amp; {\n    structure: {\n        visible: boolean;\n    }\n}\n\nexport type UrlModule = Module &amp; {\n    structure: {\n        url: string;\n    }\n}\n\nlet urlModule: UrlModule = {\n    name: \"\",\n    data: {},\n    structure: {\n        icon: '',\n        label: '',\n        url: ''\n    }\n}\n</code></pre>\n\n<p>They should behave similarly to interfaces, they can be implemented by classes and they will get checked when you assign object literals to them.</p>\n\n<p>You can also do it with interfaces but it's a bit more verbose, and implies using a type query to get the original type of the field, and again an intersection:</p>\n\n<pre><code>export interface DataModule extends Module {\n    structure: Module['structure'] &amp; {\n        visible: boolean;\n    }\n}\n\nexport interface UrlModule extends Module {\n    structure: Module['structure'] &amp; {\n        url: string;\n    }\n}\n</code></pre>\n\n<p>The really verbose option (although in some ways simpler to understand) is of course to just define a separate interface for structure: </p>\n\n<pre><code>export interface IModuleStructure {        \n    icon: string;\n    label: string;\n}\nexport interface Module {\n    name: string;\n    data: any;\n    structure: IModuleStructure\n}\nexport interface IDataModuleStructure extends IModuleStructure{\n    visible: boolean;\n}\nexport interface DataModule extends Module {\n    structure: IDataModuleStructure \n}\nexport interface IUrlModuleStructure extends IModuleStructure {\n    url: string;\n}\nexport interface UrlModule extends Module {\n    structure: IUrlModuleStructure\n}\nlet urlModule: UrlModule = {\n    name: \"\",\n    data: {},\n    structure: {\n        icon: '',\n        label: '',\n        url: ''\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>As pe @jcalz suggestion, we could also make the module interface generic, and pass in the apropriate structure interface:</p>\n\n<pre><code>export interface IModuleStructure {        \n    icon: string;\n    label: string;\n}\nexport interface Module&lt;T extends IModuleStructure = IModuleStructure&gt; {\n    name: string;\n    data: any;\n    structure: T\n}\nexport interface IDataModuleStructure extends IModuleStructure{\n    visible: boolean;\n}\nexport interface DataModule extends Module&lt;IDataModuleStructure&gt; {\n}\nexport interface IUrlModuleStructure extends IModuleStructure {\n    url: string;\n}\nexport interface UrlModule extends Module&lt;IUrlModuleStructure&gt; {\n}\nlet urlModule: UrlModule = { // We could also just use Module&lt;IUrlModuleStructure&gt;\n    name: \"\",\n    data: {},\n    structure: {\n        icon: '',\n        label: '',\n        url: ''\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 498, "user_id": 5603476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a17d70dd197ff5669590a06c4eba5df?s=128&d=identicon&r=PG&f=1", "display_name": "Kaloyan Dimitrov", "link": "https://stackoverflow.com/users/5603476/kaloyan-dimitrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11156, "favorite_count": 4, "accepted_answer_id": 53636853, "answer_count": 1, "score": 24, "last_activity_date": 1544049518, "creation_date": 1544027566, "question_id": 53636756, "link": "https://stackoverflow.com/questions/53636756/typescript-interface-extending-another-interface-with-nested-properties", "title": "Typescript - interface extending another interface with nested properties", "body": "<p>I have an interface like:</p>\n\n<pre><code>export interface Module {\n  name: string;\n  data: any;\n  structure: {\n    icon: string;\n    label: string;\n    ...\n  }\n}\n</code></pre>\n\n<p>How can I extend it, so that I add some new properties to structure, without repeating myself? Do I have to make a new interface for structure and extend that and make a new Module with the new structure interface or is there some other syntax to achieve this? </p>\n\n<p>Ideally, I would just write something like:</p>\n\n<pre><code>export interface DataModule extends Module {\n  structure: {\n    visible: boolean;\n  }\n}\n\nexport interface UrlModule extends Module {\n  structure: {\n    url: string;\n  }\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027315, "post_id": 53636577, "comment_id": 94133074, "body": "I can reset each property like: <code>this.requestLoadPupils.Gender = null</code>; But I dont like that"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027452, "post_id": 53636684, "comment_id": 94133163, "body": "Interesting approach"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027491, "post_id": 53636684, "comment_id": 94133187, "body": "Shoud I import something for using: <code>Partial</code>?"}, {"owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027551, "post_id": 53636684, "comment_id": 94133230, "body": "@OPV: No.  It&#39;s a type in Typescript since 2.1 (I think).  There are quite a few helpful types.  <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027643, "post_id": 53636684, "comment_id": 94133278, "body": "Partial only refers to a type, but is being used as a value here."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027749, "post_id": 53636684, "comment_id": 94133334, "body": "Sorry is is my bad, I tried to do that in wrong place"}, {"owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027750, "post_id": 53636684, "comment_id": 94133335, "body": "<code>requestLoadPupils</code> should be of type <code>Partial&lt;IPupilFilter&gt;</code> because not all attributes can be guaranteed to be set."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027795, "post_id": 53636684, "comment_id": 94133362, "body": "Please edit this: <code>this.requestLoadPupils: Partial&lt;IPupilFilter&gt;;</code> on <code>public requestLoadPupils: Partial&lt;IPupilFilter&gt;;</code>"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027871, "post_id": 53636684, "comment_id": 94133411, "body": "Better: <code>public requestLoadPupils: Partial&lt;IPupilFilter&gt; = {};</code>"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544027934, "post_id": 53636684, "comment_id": 94133452, "body": "When I try to reset using this: <code>this.requestLoadPupils = {};</code> It leaves properties values"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544028020, "post_id": 53636684, "comment_id": 94133501, "body": "Also I  tried reset as: <code>this.requestLoadPupils = {} as IPupilFilter;</code>"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544028373, "post_id": 53636684, "comment_id": 94133700, "body": "What about: <code>this.requestLoadPupils = Object.assign({}, &lt;IPupilFilter&gt;{});</code>?"}, {"owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544028847, "post_id": 53636684, "comment_id": 94133958, "body": "What version of typescript are you using?  I guarantee you can assign empty objects to Partial types. It&#39;s just Javascript underneath, so if you still see attributes after assigned an empty object then it&#39;s because they&#39;re being set somewhere."}], "tags": [], "owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "is_accepted": true, "score": 1, "last_activity_date": 1544028105, "last_edit_date": 1544028105, "creation_date": 1544027347, "answer_id": 53636684, "question_id": 53636577, "link": "https://stackoverflow.com/questions/53636577/how-to-reset-value-of-properties-in-object/53636684#53636684", "title": "How to reset value of properties in object?", "body": "<p>You would use <a href=\"https://netbasal.com/getting-to-know-the-partial-type-in-typescript-ecfcfbc87cb6\" rel=\"nofollow noreferrer\">Partial</a> for this.</p>\n\n<pre><code>public requestLoadPupils: Partial&lt;IPupilFilter&gt; = {};\n</code></pre>\n\n<p>And then you can just clear the object by assigned it to a new empty object.</p>\n\n<pre><code>this.requestLoadPupils = {};\n</code></pre>\n\n<p>Then when you're absolutely sure that the form has been completely filled out, you can cast it back to a full <code>IPupilFilter</code>.</p>\n\n<pre><code>const pupilFilter = this.requestLoadPupils as IPupilFilter;\n</code></pre>\n\n<p>When you wrap an interface with Partial, it's basically the equivalent of making all the items optional.  So</p>\n\n<pre><code>type PartialIPupilFilter = Partial&lt;IPupilFilter&gt;\n</code></pre>\n\n<p>Is the same as:</p>\n\n<pre><code>interface PartialIPupilFilter {\n  Fullname?: string;\n  Gender?: string;\n  ClassType?: number;\n  Language?: number;\n  Class?: number;\n  ClassNumber?: number;\n  Phone?: string;\n  Movement?: string;\n}\n</code></pre>\n\n<p>All elements are still typed, but you are not required to set them on instantiation. </p>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 754, "favorite_count": 1, "accepted_answer_id": 53636684, "answer_count": 1, "score": 0, "last_activity_date": 1544028105, "creation_date": 1544026979, "last_edit_date": 1544027333, "question_id": 53636577, "link": "https://stackoverflow.com/questions/53636577/how-to-reset-value-of-properties-in-object", "title": "How to reset value of properties in object?", "body": "<p>I have custom type object: </p>\n\n<pre><code>export interface IPupilFilter {\n  Fullname: string;\n  Gender: string;\n  ClassType: number;\n  Language: number;\n  Class: number;\n  ClassNumber: number;\n  Phone: string;\n  Movement: string;\n}\npublic requestLoadPupils: IPupilFilter = &lt;IPupilFilter&gt;{};\n</code></pre>\n\n<p>During process of filling form this object is filled corresponding interface.</p>\n\n<p>How to reset all value properties and set to null?</p>\n\n<p>I tried:</p>\n\n<pre><code>this.requestLoadPupils = &lt;IPupilFilter&gt;{} as IPupilFilter;\n</code></pre>\n\n<p>I can reset each property like: <code>this.requestLoadPupils.Gender = null;</code> But I dont like that </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544027590, "post_id": 53636715, "comment_id": 94133250, "body": "Woooh, that&#39;s awesome. Thank you!"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544028450, "post_id": 53636715, "comment_id": 94133742, "body": "If I compose <code>ToArray&lt;Pick&lt;MyType, &#39;one&#39; | &#39;two&#39; | &#39;three&#39;&gt;&gt;</code>, and I miss one of the fields, the compiler does not warn me. Is that normal?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544028656, "post_id": 53636715, "comment_id": 94133864, "body": "@LppEdd what do you mean miss one of the fields ? You don&#39;t pick all of them ? or you miss spell one of them ?"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544028690, "post_id": 53636715, "comment_id": 94133879, "body": "I mean that I don&#39;t use all of them. <code>&lt;type&gt;{ one: ..., two: ... }</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544029119, "post_id": 53636715, "comment_id": 94134122, "body": "@LppEdd then yes, <code>Pick</code> by it&#39;s nature means you want to pick some arbitrary fields, the compiler can&#39;t know which. You can filter the fields of a specific type if that is what you want .. will post an answer with that shortly."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544029545, "post_id": 53636715, "comment_id": 94134368, "body": "But if I specify the field <code>three</code> and then I don&#39;t insert it, shouldn&#39;t it know that?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544029582, "post_id": 53636715, "comment_id": 94134398, "body": "@LppEdd if <code>MyType</code> does not have propert <code>three</code> it shodl give an error"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544029958, "post_id": 53636715, "comment_id": 94134619, "body": "Actually I mean the opposite, MyType has property <code>three</code>, but I don&#39;t include it in my casted object <code>{ one: ..., two: ... }</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544030274, "post_id": 53636715, "comment_id": 94134776, "body": "@LppEdd <code>Pick</code> lets you pick any properties you want it will not warn you if you miss one, it has no reason to. But if you want all properties why use <code>Pick</code> at all ?"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1544032903, "post_id": 53636715, "comment_id": 94136024, "body": "I thought Pick forced you to include the selected properties (no no, I need a  subset)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1544027596, "last_edit_date": 1544027596, "creation_date": 1544027486, "answer_id": 53636715, "question_id": 53636570, "link": "https://stackoverflow.com/questions/53636570/typescript-custom-mapped-type/53636715#53636715", "title": "Typescript custom mapped type", "body": "<p>You can use the inference behavior of conditional types to get the original parameter to <code>Vector</code>:</p>\n\n<pre><code>type ToArray&lt;T&gt; = { \n   [P in keyof T]: T[P] extends Vector&lt;infer U&gt; ? Array&lt;U&gt; : T[P] \n}\n</code></pre>\n\n<p>For more details on <code>infer U</code> see the chapter 'Type inference in conditional types' <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 53636715, "answer_count": 1, "score": 1, "last_activity_date": 1544027596, "creation_date": 1544026957, "question_id": 53636570, "link": "https://stackoverflow.com/questions/53636570/typescript-custom-mapped-type", "title": "Typescript custom mapped type", "body": "<p>I'm trying to come up with a mapped <code>type</code> to transform object's properties from type <code>Vector</code> to <code>Array</code>.</p>\n\n<p>I have this as of now</p>\n\n<pre><code>type ToArray&lt;T&gt; = { \n   [P in keyof T]: T[P] extends Vector&lt;any&gt; ? Array&lt;any&gt; : T[P] \n}\n</code></pre>\n\n<p>How can I correctly map the <code>any</code> type? I'd like to retain the original generic type.</p>\n"}, {"tags": ["typescript", "npm", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 10750315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2XJuq.jpg?s=128&g=1", "display_name": "Weebola", "link": "https://stackoverflow.com/users/10750315/weebola"}, "is_accepted": false, "score": 1, "last_activity_date": 1544116877, "creation_date": 1544116877, "answer_id": 53656652, "question_id": 53636463, "link": "https://stackoverflow.com/questions/53636463/how-to-package-large-framework-in-typescript-with-webpack/53656652#53656652", "title": "How to package large framework in Typescript with Webpack", "body": "<p>I managed to acheve what I wanted to creating a file outside of the src folder called \"main.ts\" and programmatically create exports for every class.</p>\n\n<p>Not the best solution, so keeping open if someone has a better idea:</p>\n\n<p>webpack.config.js:</p>\n\n<pre><code> function createEntryPoint(){\n        console.log(\"creating entry point...\");\n        const glob = require(\"glob\");\n        let typeScriptConfigFile = require(\"./tsconfig\");\n        let baseUrl = typeScriptConfigFile.compilerOptions.baseUrl;\n        if(!baseUrl){\n            throw new Error(\"Unable to find baseUrl in tsconfig\");\n        }\n        let list = glob.sync(baseUrl+\"/**/*.ts\");\n        const fs = require('fs');\n        let num = 0;\n        fs.writeFileSync('./main.ts', (function () {\n            let strToReturn = \"\";\n            for (let file of list) {\n                num++;\n                let fromBaseUrl = file.replace(baseUrl+\"/\", \"\");\n                fromBaseUrl = fromBaseUrl.replace(\".ts\", \"\");\n                strToReturn += \"export * from '\" + fromBaseUrl + \"'; \\n\";\n            }\n            return strToReturn;\n        }()));\n\n        console.log(\"Entry point created: \" +num + \" modules exported\");\n    }\n    createEntryPoint();\n</code></pre>\n\n<p>and the entry point is:</p>\n\n<pre><code>entry: \"./main.ts\",\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10750315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2XJuq.jpg?s=128&g=1", "display_name": "Weebola", "link": "https://stackoverflow.com/users/10750315/weebola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1544116877, "creation_date": 1544026608, "last_edit_date": 1544027860, "question_id": 53636463, "link": "https://stackoverflow.com/questions/53636463/how-to-package-large-framework-in-typescript-with-webpack", "title": "How to package large framework in Typescript with Webpack", "body": "<p>I am trying to create a framework in TypeScript and bundle it all with Webpack. </p>\n\n<p>The issue I am having is that I am not sure what the \"entry point\" should be and when the entry point is set to all files, only the last built file is exposed to the browser.</p>\n\n<p>And when a single entry point is set, None of the dependent classes are exposed (aka, only the entry point class is exposed).</p>\n\n<p><strong>Detail:</strong></p>\n\n<p>My TypeScript framework is rather large, at the moment, it's a little over 140 modules, but will grow to over a thousand after it is finished.</p>\n\n<p>Each module under \"bean\" contains one exported class and a few import statements (imported classes from other modules in the framework)</p>\n\n<p>my folder structure currently consists of:</p>\n\n<pre><code>+---src\n|   +---API\n|   +---bean\n|   |   +---base\n|   |   |   \\---impl\n|   |   +---categoryscheme\n|   |   |   \\---impl\n|   |   +---codelist\n|   |   |   \\---impl\n|   |   +---conceptscheme\n|   |   |   \\---impl\n|   |   +---constraint\n|   |   |   \\---impl\n|   |   +---datastructure\n|   |   |   \\---impl\n|   |   +---hierarchicalcodelist\n|   |   |   \\---impl\n|   |   +---metadatastructure\n|   |   |   \\---impl\n|   |   +---organisation\n|   |   |   \\---Impl\n|   |   +---reference\n|   |   \\---structuremap\n|   |       \\---impl\n|   +---enums\n|   +---typings\n|   \\---util\n</code></pre>\n\n<p>Where each impl contains a exported class and parent folders contain the interfaces.</p>\n\n<p>My first issue is that this framework is not an app, or a single file libary, it is designed for people to do things like:</p>\n\n<pre><code>var f = new CodeListBeanImpl();\n</code></pre>\n\n<p>or whatever class they pick.</p>\n\n<p>Without getting into too much detail, the reason for these files is that there is a defined Hierarchy of structures.</p>\n\n<p>For example, the class 'CodelistBeanImpl' in the folder codelist/impl has the following hierarchy:\n<a href=\"https://i.stack.imgur.com/3GrLw.png\" rel=\"nofollow noreferrer\">see image</a></p>\n\n<p>Each file is spread out over many different locations \nwithin the core folder.</p>\n\n<p>So, without a clear \"entry point\" to the framework I am unable to get webpack to simply bundle all modules into a single file and have it available to be called by the browser.</p>\n\n<p>here is my webpack config:</p>\n\n<pre><code>const CircularDependencyPlugin = require('circular-dependency-plugin');\nconst path = require(\"path\");\nconst glob = require(\"glob\");\nlet list = glob.sync(\"./src/**/*.ts\");\nmodule.exports = {\n    entry: list,\n    devtool: 'source-eval-map',\n    module: {\n        rules: [\n            {\n                test: /\\.tsx?$/,\n                use: 'ts-loader',\n                exclude: [\n                    /node_modules/\n                ]\n            }\n        ]\n    },\n    mode: \"development\",\n    resolve: {\n        extensions: [ '.tsx', '.ts', '.js' ],\n        modules: [\"./node_modules\", \"./src\"]\n    },\n    plugins: [\n        new CircularDependencyPlugin({\n            failOnError: true,\n            cwd: process.cwd(),\n        }),\n],\n    output: {\n        path: path.join(__dirname, \"dist\"),\n        filename: \"bundle.js\",\n        libraryTarget: \"window\",\n        library: \"IMJS\",\n    }\n};\n</code></pre>\n\n<p>Now, as you can see, I want ALL modules to be packed, so my entry point is EVERY file, to make sure all modules and classes are packed.</p>\n\n<p>here is the output of webpack:</p>\n\n<pre><code>[./src/API/IM.ts] 2.74 KiB {main} [built]\n[./src/bean/base/impl/AnnotableBeanImpl.ts] 5.93 KiB {main} [built]\n[./src/bean/base/impl/AnnotationBeanImpl.ts] 5.5 KiB {main} [built]\n[./src/bean/base/impl/BeanImpl.ts] 3.52 KiB {main} [built]\n[./src/bean/base/impl/ComponentBeanImpl.ts] 5.44 KiB {main} [built]\n[./src/bean/base/impl/DataMetricsBeanImpl.ts] 3.22 KiB {main} [built]\n[./src/bean/base/impl/IdentifiableBeanImpl.ts] 6.67 KiB {main} [built]\n[./src/bean/base/impl/ItemBeanImpl.ts] 1.15 KiB {main} [built]\n[./src/bean/base/impl/ItemSchemeBeanImpl.ts] 6.36 KiB {main} [built]\n[./src/bean/base/impl/JsonBeanImpl.ts] 6.34 KiB {main} [built]\n[./src/bean/base/impl/MaintainableBeanImpl.ts] 9.27 KiB {main} [built]\n[./src/bean/base/impl/MetricsBeanImpl.ts] 2.03 KiB {main} [built]\n[./src/bean/base/impl/NameableBeanImpl.ts] 6.97 KiB {main} [built]\n[./src/bean/base/impl/PseudoHierarchyItemImpl.ts] 2.53 KiB {main} [built]\n    + 181 hidden modules\n</code></pre>\n\n<p>Looking good so far...</p>\n\n<p>However, when I do this. and run the \"bundle.js\" file in a browser, the only thing IMJS (the library name i decided to use) is the LAST built file:\n<a href=\"https://i.stack.imgur.com/NZjRr.png\" rel=\"nofollow noreferrer\">image of chrome console</a></p>\n\n<p>So i try to do a single \"entry point\" as a test to see if i can get anything other than one file.</p>\n\n<p>I change <code>entry:  list,</code> to <code>entry:  \"./src/bean/codelist/impl/CodelistBeanImpl.ts\",</code></p>\n\n<p>and build it again, this time, only a small set of files are built:\n<a href=\"https://i.stack.imgur.com/8V52W.png\" rel=\"nofollow noreferrer\">Webpack output of single entry point</a></p>\n\n<p>However, when I go to the Chrome console, the only class avalible to me is the one 'CodelistBeanImpl', none of it's super classes, so I can do:</p>\n\n<pre><code>var f = new IMJS.CodelistBeanImpl();\n</code></pre>\n\n<p>but if i wish to, say, do an instanceof check to 'PseudoHierarchyItemSchemeImpl'\nit would state 'PseudoHierarchyItemSchemeImpl' is not defined, in fact, nothing other than codelist bean is defined.</p>\n\n<p>Is this even possible with webpack? or do i need to use a different packer?</p>\n\n<p>just for ref, here is my tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"./lib/\",\n    \"noImplicitAny\": true,\n    \"moduleResolution\": \"node\",\n    \"baseUrl\": \"./src\",\n    \"module\": \"amd\",\n    \"target\": \"es5\",\n    \"allowJs\": true,\n    \"sourceMap\": true,\n    \"strict\": true,\n    \"noEmit\": false,\n    \"checkJs\": false,\n    \"strictNullChecks\": false,\n    \"strictFunctionTypes\": true,\n    \"downlevelIteration\": true,\n    \"lib\":[\n      \"es2015\",\n      \"dom\"\n    ]\n  },\n  \"compileOnSave\": true,\n  \"include\": [\"./src/**/*.ts\"]\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1544025721, "post_id": 53636093, "comment_id": 94132140, "body": "It seems to me that it&#39;s likely set as <code>never[]</code> simply as an optimization. i.e. you&#39;ve intentionally set the value to <code>[]</code>, so it always contains zero elements."}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 0, "last_activity_date": 1544025713, "creation_date": 1544025713, "answer_id": 53636221, "question_id": 53636093, "link": "https://stackoverflow.com/questions/53636093/how-to-create-an-interface-containing-an-array-of-objects-defined-by-another-int/53636221#53636221", "title": "How to create an interface containing an array of objects defined by another interface?", "body": "<p>This is a result of TypeScript seeing that the <code>state</code> is initialised with an object that contains an empty orders array, which is <code>never</code> populated. (In non-strict mode I believe it would result in <code>any[]</code> rather than <code>never[]</code>.</p>\n\n<p>If you tell TypeScript that you know better with a type assertion, you'll find that the <code>never[]</code> issue goes away... so as long as something, somewhere, populates that array you'll be correct to tell it so.</p>\n\n<pre><code>state = {\n    orders: []\n} as OrdersState;\n</code></pre>\n"}], "owner": {"reputation": 10912, "user_id": 565299, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/430d169e29cbd04c38dfb07d17ac9cfd?s=128&d=identicon&r=PG", "display_name": "Running Turtle", "link": "https://stackoverflow.com/users/565299/running-turtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 53636221, "answer_count": 1, "score": 0, "last_activity_date": 1544025713, "creation_date": 1544025242, "last_edit_date": 1544025574, "question_id": 53636093, "link": "https://stackoverflow.com/questions/53636093/how-to-create-an-interface-containing-an-array-of-objects-defined-by-another-int", "title": "How to create an interface containing an array of objects defined by another interface?", "body": "<p>In a class component, I'm trying to correctly type the state object by defining an interface which contains an array of objects defined by another interface.</p>\n\n<p>When I access the state property, it is typed as <code>never[]</code> ?</p>\n\n<pre><code>interface OrdersProps extends RouteComponentProps&lt;any&gt;, React.Props&lt;any&gt; { }\n\ninterface OrderType {\n  ingredients: { [index: string]: number },\n  totalPrice : number\n}\n\ntype OrdersType = OrderType[]\n\ninterface OrdersState {\n  // orders: { ingredients: {[index: string]: number}, totalPrice: number}[] &lt;- not working\n  // orders: Array&lt;OrderType&gt; // &lt;- not working \n  orders: OrdersType // &lt;- not working\n}\n\nclass Orders extends React.Component&lt;OrdersProps, OrdersState&gt; {\n  state = {\n    orders: []\n  }\n  render() {\n    const orders = this.state.orders // &lt;- orders of type `never[]` ??\n\n    return (\n      &lt;div&gt;\n        ...\n      &lt;/div&gt;\n    )\n  }\n  componentDidMount() {\n    // fetch data and set state\n  }\n}\nexport default Orders\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1544023028, "post_id": 53635278, "comment_id": 94130455, "body": "show <code>checkUrlFormat</code>"}, {"owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "reply_to_user": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1544023173, "post_id": 53635278, "comment_id": 94130550, "body": "edited the question."}, {"owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "reply_to_user": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1544023264, "post_id": 53635278, "comment_id": 94130603, "body": "I am trying to do exactly in <a href=\"https://material.angular.io/components/input/overview\" rel=\"nofollow noreferrer\">material.angular.io/components/input/overview</a> there is a text unput with instant error mesage"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1544023386, "post_id": 53635278, "comment_id": 94130677, "body": "check this <a href=\"https://stackoverflow.com/questions/48443397/mat-error-not-displaying-error-message-angular-5?answertab=active#tab-top\" title=\"mat error not displaying error message angular 5\">stackoverflow.com/questions/48443397/&hellip;</a>"}, {"owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "reply_to_user": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1544023498, "post_id": 53635278, "comment_id": 94130746, "body": "its for url format. if i put mat-error tag outside of  mat-form-field tags it is working but it is starting to work directly instead of being null at beginning. but othervise (like in example) it is not working"}], "owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544035804, "creation_date": 1544022586, "last_edit_date": 1544035804, "question_id": 53635278, "link": "https://stackoverflow.com/questions/53635278/angular-mat-form-input-not-throwing-error", "title": "Angular Mat Form Input not throwing error", "body": "<p>I have a simple text input field, my <strong>checkUrlFormat()</strong> function is working good at .ts file but here it is showing nothing, it is like even not checking.</p>\n\n<pre><code>&lt;mat-form-field&gt;\n    &lt;mat-label&gt;Enter link here&lt;/mat-label&gt;\n    &lt;input matInput [(ngModel)]=\"inputText\"&gt;\n    &lt;mat-error *ngIf=\"checkUrlFormat()\"&gt;\n        Please enter the link in correct format\n    &lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>and checkUrlFormat() is:</p>\n\n<pre><code>checkUrlFormat() {\n    const pattern = /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\n    if (pattern.test(this.inputText)) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"}, {"tags": ["c#", "typescript", "fetch-api"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1544023128, "post_id": 53635228, "comment_id": 94130522, "body": "Do you see anything in the <a href=\"https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide/console\" rel=\"nofollow noreferrer\">Edge console</a>?"}, {"owner": {"reputation": 2741, "user_id": 1697361, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/eRsV6.jpg?s=128&g=1", "display_name": "Bongo", "link": "https://stackoverflow.com/users/1697361/bongo"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1544023202, "post_id": 53635228, "comment_id": 94130573, "body": "error: TypeError: Fehler bei &quot;fetch&quot;"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1544023232, "post_id": 53635228, "comment_id": 94130588, "body": "In particular, check your pre-flight OPTIONS request as well as any subsequent request. I wonder if CORS fails in EDGE when you use a <code>file:&#47;&#47;&#47;</code> URL. (i.e. look in the NETWORK tab of the tools, not just the console.)"}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1544023593, "creation_date": 1544023593, "answer_id": 53635585, "question_id": 53635228, "link": "https://stackoverflow.com/questions/53635228/accessing-webservice-from-file-with-edge-fails/53635585#53635585", "title": "Accessing Webservice from file:/// with Edge fails", "body": "<p>It is possible that <code>localhost</code> and <code>file:///</code> URLs are being classified in two different security zones. For example, if one is internet and the other is intranet, the cross-origin request will be blocked.</p>\n\n<p>Another possibility with these security zones in Edge is that if your page is classified in a zone it gets a different security policy applied, which may be more or less restrictive.</p>\n\n<p>If you have it tested locally in another browser, it might be simpler to do your cross-browser testing against a hosted test instance so it behaves like the real world.</p>\n"}], "owner": {"reputation": 2741, "user_id": 1697361, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/eRsV6.jpg?s=128&g=1", "display_name": "Bongo", "link": "https://stackoverflow.com/users/1697361/bongo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544023593, "creation_date": 1544022418, "last_edit_date": 1544023126, "question_id": 53635228, "link": "https://stackoverflow.com/questions/53635228/accessing-webservice-from-file-with-edge-fails", "title": "Accessing Webservice from file:/// with Edge fails", "body": "<p>I try to access a webservice that I've written in C#. I access it via Typescript and the fetch-api.\nThe access works flawlessly in Chrome and Firefox but in Edge it doesn't. I've tried it with POST and GET and both fail in Edge. </p>\n\n<p><strong>The Typescript/js/html is run locally from disk!\nSo my Browser address field looks a little bit like this:</strong>\n<em>file:///C:/Users/.../WebServiceConsumer/view/index.html</em></p>\n\n<p>The Typescript method to access the webservice looks as follows</p>\n\n<pre><code>getData(url:string, token?:string): Promise&lt;any&gt;{\n\n    let headers:Headers = new Headers({\"Content-Type\": \"application/json\"});\n    if (token) {\n        headers.set(\"Authorization\", 'Bearer '+ token);\n    }\n\n    return fetch(url, {\n        method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n        mode: \"cors\", // no-cors, cors, *same-origin\n        cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: \"same-origin\", // include, *same-origin, omit\n        headers: headers,\n        redirect: \"follow\", // manual, *follow, error\n        referrer: \"no-referrer\", // no-referrer, *client\n    })\n    .then(response =&gt; response.json()\n    .then(json =&gt; {return json}))\n    .catch(error =&gt; console.log('error:', error));; // parses response to JSON\n}\n</code></pre>\n\n<p>the method i am trying to access looks like this</p>\n\n<pre><code>public class SearchController : ApiController\n{\n    [HttpGet]\n    [Route(\"api/v1/Search/Test\")]\n    public IHttpActionResult Get()\n    {\n        return Ok(\"OK\");\n    }\n}\n</code></pre>\n\n<p>I've set the CORS Policy in my C# code via </p>\n\n<pre><code>res.Headers.Set(\"Access-Control-Allow-Origin\", \"*\");\n</code></pre>\n\n<p>The Error i receive and log to the console looks like this\n<a href=\"https://i.stack.imgur.com/LKwdr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LKwdr.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have no idea how to fix this issue. What does the Edge do that Chrome isn't doing? How can I access my webservice from Edge?</p>\n\n<p><strong>FYI</strong></p>\n\n<ol>\n<li>The webservice is a C# standalone app with Owin </li>\n<li>The access from \"file:///...\" is a must have of this project</li>\n</ol>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1544020425, "post_id": 53634578, "comment_id": 94128685, "body": "Method2 will only create a single object for the initial state, which may unwittingly be modified. In Method 1 since <code>state</code> is an instance field the object  will bre created each time you create a new instance and no one can change the initial state .."}, {"owner": {"reputation": 980, "user_id": 6831448, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e8349ea1c6b220ab4a69d295936d04f8?s=128&d=identicon&r=PG&f=1", "display_name": "mstorkson", "link": "https://stackoverflow.com/users/6831448/mstorkson"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544021192, "post_id": 53634578, "comment_id": 94129230, "body": "@TitianCernicova-Dragomir I&#39;m aware that &quot;readonly&quot; has no power in actual javascript, but would that label at least generate a linting error for a developer who was working on this component if they tried to modify the state? I got method 2 from <a href=\"https://levelup.gitconnected.com/ultimate-react-component-patterns-with-typescript-2-8-82990c516935\" rel=\"nofollow noreferrer\">this guide</a> which seemed comprehensive and well done, so if its truly that dangerous why would they suggest it?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544021324, "post_id": 53634578, "comment_id": 94129325, "body": "The <code>const</code> is pretty weak here, it just prevents the modification of the reference, not the fields.  inside the reference. I&#39;m not saying it&#39;s a huge danger .. just a difference"}], "answers": [{"tags": [], "owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "is_accepted": true, "score": 1, "last_activity_date": 1544034340, "last_edit_date": 1544034340, "creation_date": 1544021293, "answer_id": 53634889, "question_id": 53634578, "link": "https://stackoverflow.com/questions/53634578/typescript-react-defining-state-outside-or-inside-a-class/53634889#53634889", "title": "TypeScript/React: Defining state outside or inside a class", "body": "<p>Some people will tell you that an approach like the second solution is better.</p>\n\n<pre><code>type State = typeof initialState;\nconst initialState = Object.freeze({field: \"\"});\nclass Class2 extends Component&lt;object, State&gt; {\n  readonly state = initialState\n}\n</code></pre>\n\n<p>Why ?</p>\n\n<ol>\n<li>Type information is always synced with implementation as source of truth is only one thing => the implementation</li>\n<li>less type boilerplate</li>\n<li>More readable (can be debate)</li>\n<li>By adding readonly modifier and freezing the object, any mutation within your component will immediately end with compile error, which will prevent any runtime error.</li>\n</ol>\n\n<p>But of course other will tel you otherwise for other good reasons.</p>\n\n<p>My answer is an extract from this blog post <a href=\"https://medium.com/@martin_hotell/10-typescript-pro-tips-patterns-with-or-without-react-5799488d6680\" rel=\"nofollow noreferrer\">10++ TypeScript Pro tips/patterns with (or without) React</a></p>\n"}], "owner": {"reputation": 980, "user_id": 6831448, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e8349ea1c6b220ab4a69d295936d04f8?s=128&d=identicon&r=PG&f=1", "display_name": "mstorkson", "link": "https://stackoverflow.com/users/6831448/mstorkson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 53634889, "answer_count": 1, "score": 1, "last_activity_date": 1544034340, "creation_date": 1544020251, "question_id": 53634578, "link": "https://stackoverflow.com/questions/53634578/typescript-react-defining-state-outside-or-inside-a-class", "title": "TypeScript/React: Defining state outside or inside a class", "body": "<p>When reading up on react patterns with typescripts, I am seeing two common ways to define the \"state\" of a React component:</p>\n\n<p>Method 1.</p>\n\n<pre><code>interface IMyState {\n  field: string;\n}\n\nclass Class1 extends React.Component&lt;object, IMyState&gt; {\n  public state: Readonly&lt;IMyState&gt; = {\n    field: \"\"\n  }\n  // class methods...\n}\n</code></pre>\n\n<p>Method 2.</p>\n\n<pre><code>const initialState = { field: \"\" }\ntype State = Readonly&lt;typeof initialState&gt;\n\nclass Class2 extends React.Component&lt;object, State&gt; {\n  // class methods...\n}\n</code></pre>\n\n<p>Both methods work, but I'm unclear on if there is a functional difference between the two patterns. My guess would be that method 2 makes it harder for someone using your class component to redefine the state, but it also seems like the type of the state is going to be less clear to the reader since it is inferred and not defined. Is there a situation where Method 2 allows you to do something that method 1 does not? </p>\n"}, {"tags": ["laravel", "typescript", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 6084477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5c4a4fda0f0ca47ab991e8d982cf7b?s=128&d=identicon&r=PG&f=1", "display_name": "levis", "link": "https://stackoverflow.com/users/6084477/levis"}, "edited": false, "score": 0, "creation_date": 1607519623, "post_id": 53637177, "comment_id": 115297288, "body": "Here is a link with detailed information on how it can be done  <a href=\"https://sebastiandedeyne.com/typescript-with-laravel-mix/\" rel=\"nofollow noreferrer\">sebastiandedeyne.com/typescript-with-laravel-mix</a>"}], "tags": [], "owner": {"reputation": 136, "user_id": 10407164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20c02352e61b8f46459ca5648a08f36?s=128&d=identicon&r=PG&f=1", "display_name": "AiverReaver", "link": "https://stackoverflow.com/users/10407164/aiverreaver"}, "is_accepted": false, "score": 4, "last_activity_date": 1544029272, "last_edit_date": 1544029272, "creation_date": 1544028940, "answer_id": 53637177, "question_id": 53634385, "link": "https://stackoverflow.com/questions/53634385/how-to-use-typescript-in-laravel-project-with-vue-as-frontend/53637177#53637177", "title": "How to use Typescript in Laravel Project with Vue as frontend?", "body": "<p>Im facing this problem from quite some days but i was finally be able to find the solution for that so im Sharing my exp to folks who want to use typescript instead of javascript in vue in laravel. so here is the instruction</p>\n\n<p>here the intruction</p>\n\n<p>Laravel 5.7 uses Laravel-mix which down the line uses webpack 3 . Which is not what we want for typescript to work in laravel project.</p>\n\n<h1>Initialize your project</h1>\n\n<p>Let's create a new Project. You can also do this on Existing project just make sure to convert js code to ts.</p>\n\n<p>First make sure you have composer and laravel installed</p>\n\n<p><code>sh\nlaravel new Laravel-Vue-Typecript\n</code>\nOpen the project in your any favraite code editor.</p>\n\n<p>Open the <code>package.json</code> and add these packages to devdependencies</p>\n\n<pre><code>{\n   \"devDependencies\": {\n        \"auto-loader\": \"^0.2.0\",\n        \"autoprefixer\": \"^9.4.1\",\n        \"axios\": \"^0.18\",\n        \"bootstrap\": \"^4.0.0\",\n        \"lodash\": \"^4.17.5\",\n        \"popper.js\": \"^1.12\",\n        \"jquery\": \"^3.2\",\n        \"cross-env\": \"^5.1\",\n        \"css-loader\": \"^1.0.1\",\n        \"mini-css-extract-plugin\": \"^0.4.5\",\n        \"node-sass\": \"^4.10.0\",\n        \"optimize-css-assets-webpack-plugin\": \"^5.0.1\",\n        \"postcss-loader\": \"^3.0.0\",\n        \"sass-loader\": \"^7.1.0\",\n        \"ts-loader\": \"^5.3.1\",\n        \"typescript\": \"^3.2.1\",\n        \"uglifyjs-webpack-plugin\": \"^2.0.1\",\n        \"vue\": \"^2.5.17\",\n        \"vue-class-component\": \"^6.3.2\",\n        \"vue-property-decorator\": \"^7.2.0\",\n        \"webpack\": \"^4.26.1\",\n        \"webpack-cli\": \"^3.1.2\",\n        \"vue-loader\": \"^15.4.2\",\n        \"vue-template-compiler\": \"^2.5.17\"\n    }\n}\n</code></pre>\n\n<p>Now install these npm packages with</p>\n\n<pre><code>npm install\n</code></pre>\n\n<h1>Add Typescript Support</h1>\n\n<p>Then rename these files</p>\n\n<pre><code>Laravel-Vue-Typecript/\n\u251c\u2500 resources/js/app.js =&gt; resources/js/app.ts\n\u2514\u2500 resources/js/bootstrap.js =&gt; resources/js/bootstrap.ts\n</code></pre>\n\n<p>Now Change the Code in <code>app.ts</code>, <code>bootstrap.ts</code> and </p>\n\n<p>resources/js/components/ExampleComponent.vue</p>\n\n<pre><code>// app.ts\nimport \"./bootstrap\"\nimport Vue from \"vue\"\nimport ExampleComponent from \"./components/ExampleComponent.vue\"\n\nVue.component('example', ExampleComponent)\n\nnew Vue({\n    el: '#app'\n})\n\n\n\n// bootstrap.ts\nimport axios from 'axios';\nimport * as _ from 'lodash';\nimport jQuery from 'jquery';\nimport * as Popper from 'popper.js';\nimport 'bootstrap';\n\naxios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n\nlet token : HTMLMetaElement | null = document.head!.querySelector('meta[name=\"csrf-token\"]');\n\nif (token) {\n    axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n} else {\n    console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');\n}\n\n\n// resources/js/components/ExampleComponent.vue\n&lt;template&gt;\n    &lt;h1&gt;This is an example component&lt;/h1&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\nimport Vue from 'vue'\nimport Component from \"vue-class-component\"\n@Component\nexport default class ExampleComponent extends Vue {\n    mounted() : void {\n        console.log(\"hello\");\n    }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>```\nCreate <code>typings.d.ts</code> file inside <code>resources/js</code> and add these lines.</p>\n\n<pre><code>declare module '*.vue' {\n    import Vue from 'vue'\n    export default Vue\n}\n\ndeclare module 'jquery';\n\ndeclare module 'lodash';\n</code></pre>\n\n<p>Now Create <code>tsconfig.json</code>, <code>webpack.config.js</code> and <code>postcss.config.js</code> in the root of your project and these lines of code to them respectivly</p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"strict\": true,\n        \"module\": \"es2015\",\n        \"moduleResolution\": \"node\",\n        \"experimentalDecorators\": true,\n        \"skipLibCheck\": true\n    },\n    \"include\": [\n        \"resources/js/**/*\"\n    ],\n    \"exclude\": [\n        \"node_modules\",\n        \"vendor\"\n    ]\n}\n</code></pre>\n\n<p>webpack.config.json</p>\n\n<pre><code>const path = require('path')\nconst UglifyJsPlugin = require('uglifyjs-webpack-plugin')\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin')\nconst OptimizeCSSAssetsPlugin = require('optimize-css-assets-webpack-plugin')\nconst VueLoaderPlugin = require('vue-loader/lib/plugin')\nconst autoprefixer = require('autoprefixer');\nconst webpack = require('webpack');\n\n\nlet env = process.env.NODE_ENV\nlet isDev = env === 'development'\n\nconst WEBPACK_CONFIG = {\n    mode: env,\n    entry: {\n        app: ['./resources/js/app.ts', './resources/sass/app.scss'],\n    },\n    output: {\n        publicPath: './public',\n        path: path.resolve(__dirname, 'public'),\n        filename: 'js/[name].js',\n        chunkFilename: 'js/chunks/app.js'\n\n    },\n    module: {\n        rules: [{\n                test: /\\.tsx?$/,\n                loader: 'ts-loader',\n                options: { appendTsSuffixTo: [/\\.vue$/] },\n                exclude: /node_modules/,\n            },\n            {\n                test: /\\.vue$/,\n                loader: 'vue-loader'\n            },\n            {\n                test: /\\.scss$/,\n                use: [\n                    MiniCssExtractPlugin.loader,\n                    'css-loader',\n                    'postcss-loader',\n                    'sass-loader'\n                ],\n                exclude: /node_modules/,\n            }\n        ],\n    },\n    plugins: [\n        new MiniCssExtractPlugin({\n            filename: 'css/[name].css'\n        }),\n        new VueLoaderPlugin(),\n        new webpack.LoaderOptionsPlugin({\n            options: {\n                postcss: [\n                    autoprefixer()\n                ]\n            }\n        })\n\n    ],\n    resolve: {\n        extensions: ['.js', '.jsx', '.vue', '.ts', '.tsx'],\n        alias: {\n            vue$: 'vue/dist/vue.esm.js',\n        },\n    },\n    optimization: {\n        splitChunks: {\n            chunks: 'async',\n            minSize: 30000,\n            maxSize: 0,\n            minChunks: 1,\n            maxAsyncRequests: 5,\n            maxInitialRequests: 3,\n            automaticNameDelimiter: '~',\n            name: true,\n            cacheGroups: {\n                vendors: {\n                    test: /[\\\\/]node_modules[\\\\/]/,\n                    priority: -10\n                },\n                default: {\n                    minChunks: 2,\n                    priority: -20,\n                    reuseExistingChunk: true\n                }\n            }\n        }\n    }\n\n\n}\n\nif (!isDev) {\n    WEBPACK_CONFIG.optimization = {\n        minimizer: [\n            new UglifyJsPlugin({\n                cache: true,\n                parallel: true,\n                sourceMap: true\n            }),\n            new OptimizeCSSAssetsPlugin({})\n        ]\n    }\n\n    WEBPACK_CONFIG.plugins.push(\n        new webpack.DefinePlugin({\n            'process.env': {\n                NODE_ENV: 'production'\n            }\n        })\n\n    )\n}\n\nmodule.exports = WEBPACK_CONFIG\n</code></pre>\n\n<p>postcss.config.js</p>\n\n<pre><code> module.exports = {\n     plugins: {\n         'autoprefixer': {}\n    } }\n</code></pre>\n\n<p>Now finally change the \"scripts\" in <code>package.json</code> </p>\n\n<pre><code>\"scripts\": {\n        \"dev\": \"npm run development\",\n        \"development\": \"cross-env NODE_ENV=development node_modules/webpack/bin/webpack.js --progress --hide-modules --config=webpack.config.js\",\n        \"watch\": \"npm run development -- --watch\",\n        \"watch-poll\": \"npm run watch -- --watch-poll\",\n        \"prod\": \"npm run production\",\n        \"production\": \"cross-env NODE_ENV=production node_modules/webpack/bin/webpack.js --no-progress --hide-modules --config=webpack.config.js\"\n    },\n</code></pre>\n\n<h1>Finally build the project</h1>\n\n<p>and run the npm scripts by \n<code>\nnpm run dev // To build the Project\nnpm run watch // To build and watch for files changes and build automagically\nnpm run prod // for production\n</code></p>\n"}], "owner": {"reputation": 136, "user_id": 10407164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20c02352e61b8f46459ca5648a08f36?s=128&d=identicon&r=PG&f=1", "display_name": "AiverReaver", "link": "https://stackoverflow.com/users/10407164/aiverreaver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5051, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1544029272, "creation_date": 1544019556, "last_edit_date": 1544026484, "question_id": 53634385, "link": "https://stackoverflow.com/questions/53634385/how-to-use-typescript-in-laravel-project-with-vue-as-frontend", "title": "How to use Typescript in Laravel Project with Vue as frontend?", "body": "<p>I want to use typescript in Vue in Laravel project.</p>\n\n<p>I already checked all tutorials for that but none of them works for me give below\n<a href=\"https://tj.ie/upgrading-to-webpack-4/\" rel=\"nofollow noreferrer\">teej</a>.\n<a href=\"https://medium.com/@titasgailius/initial-laravel-setup-with-vuejs-vue-router-vuex-in-typescript-305f7fe9d62b\" rel=\"nofollow noreferrer\">Titas Gailius</a>.\n<a href=\"https://sebastiandedeyne.com/typescript-with-laravel-mix/\" rel=\"nofollow noreferrer\">sebastiandedeyne</a>.</p>\n\n<p>when ever i run 'npm run dev' i get this error </p>\n\n<pre><code>    ERROR in ./resources/js/app.ts\n   Module build failed: Error: You may be using an old version of webpack; please check you're using at least version 4\nat successfulTypeScriptInstance (E:\\PersonalProjects\\web_dev\\blog\\node_modules\\ts-loader\\dist\\instances.js:144:15)\nat Object.getTypeScriptInstance (E:\\PersonalProjects\\web_dev\\blog\\node_modules\\ts-loader\\dist\\instances.js:34:12)\nat Object.loader (E:\\PersonalProjects\\web_dev\\blog\\node_modules\\ts-loader\\dist\\index.js:17:41)\n @ multi ./resources/js/app.ts ./resources/sass/app.scss\n</code></pre>\n"}, {"tags": ["angular", "typescript", "visual-studio-code", "tslint"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1544019202, "post_id": 53634177, "comment_id": 94127824, "body": "Have you installed <a href=\"https://marketplace.visualstudio.com/items?itemName=eg2.tslint\" rel=\"nofollow noreferrer\">the required extension</a> ?"}, {"owner": {"reputation": 752, "user_id": 6166406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c3283ed141aa518267d8bf10cbb16b?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6166406/raj"}, "edited": false, "score": 0, "creation_date": 1544019410, "post_id": 53634177, "comment_id": 94127956, "body": "<a href=\"https://i.imgur.com/FDYXou1.png\" rel=\"nofollow noreferrer\">yes</a> else in angular app it should not be showing red-line, on adding extra spaces."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1544020003, "post_id": 53634177, "comment_id": 94128343, "body": "I don&#39;t have access to images ..."}, {"owner": {"reputation": 752, "user_id": 6166406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c3283ed141aa518267d8bf10cbb16b?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6166406/raj"}, "edited": false, "score": 0, "creation_date": 1544020111, "post_id": 53634177, "comment_id": 94128425, "body": "sorry i did not get you? did u mean, u cannot see the image i have uploaded in the question above?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1544020149, "post_id": 53634177, "comment_id": 94128463, "body": "I don&#39;t have access to imgur because of my corporate proxy, so I can only see your question and not your screenshots :/"}, {"owner": {"reputation": 752, "user_id": 6166406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c3283ed141aa518267d8bf10cbb16b?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6166406/raj"}, "edited": false, "score": 0, "creation_date": 1544020260, "post_id": 53634177, "comment_id": 94128545, "body": "i have that extension in VSCode. and in angular apps it shows red-line. when i create a plain .ts file in a directory and include tslint, tsconfig, that line is not showing. i have to rely on <code>tslint &lt;filename&gt;</code> to see errors and remove them. If i find any way to see those line, removing them would become easier."}], "answers": [{"comments": [{"owner": {"reputation": 1261, "user_id": 1426035, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1211ecc94ba2e83b71461323c865aa00?s=128&d=identicon&r=PG", "display_name": "Jeff Huijsmans", "link": "https://stackoverflow.com/users/1426035/jeff-huijsmans"}, "edited": false, "score": 0, "creation_date": 1558087889, "post_id": 53636528, "comment_id": 98993804, "body": "This worked. Thank you, I was pulling my hair out at this moment. Also be sure to refresh VSCode page or quit and restart it!"}], "tags": [], "owner": {"reputation": 752, "user_id": 6166406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c3283ed141aa518267d8bf10cbb16b?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6166406/raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1544026838, "creation_date": 1544026838, "answer_id": 53636528, "question_id": 53634177, "link": "https://stackoverflow.com/questions/53634177/tslint-and-vscode-not-showing-red-line-in-ts-file/53636528#53636528", "title": "TSLint and VSCode not showing red-line in .ts file", "body": "<p>Finally found the solution. \nIts basically TSLint extension issue not TSLint CLI itself.\nThe extension <strong><code>need</code></strong> <code>tslint</code> and <code>typescript</code> in node_modules for it to work. \nSo i added <strong>package.json</strong></p>\n\n<pre><code>{\n  \"devDependencies\": {\n    \"typescript\": \"^3.2.1\",\n    \"tslint\": \"5.11.0\"\n  }\n}\n</code></pre>\n\n<p>and ran <code>npm install</code>. Restarted VSCode. I got those red-lines back. :-)</p>\n"}], "owner": {"reputation": 752, "user_id": 6166406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c3283ed141aa518267d8bf10cbb16b?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6166406/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1570, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1544026838, "creation_date": 1544018855, "question_id": 53634177, "link": "https://stackoverflow.com/questions/53634177/tslint-and-vscode-not-showing-red-line-in-ts-file", "title": "TSLint and VSCode not showing red-line in .ts file", "body": "<p>I have a single <code>.ts</code> file where i am learning to configure tslint and tsconfig. I have induced extra spaces and removed semi-colon intentionally to check if tslint is configured properly.</p>\n\n<p><strong>Using command <code>tslint filename.ts</code> i could see tslint could find errors in .ts file but VSCode is not showing those <code>red lines</code>?</strong></p>\n\n<p>I have generated tslint.json and tsconfig.json using CLI: <code>tslint --init,tsc --init</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/faUGr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/faUGr.png\" alt=\"no-red-line\"></a></p>\n\n<p>But in angular-app it shows</p>\n\n<p><a href=\"https://i.stack.imgur.com/sYm0z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYm0z.png\" alt=\"red-line\"></a></p>\n\n<p>What am i missing? I went to through tslint and tsconfig docs, couldn't find how to configure.</p>\n\n<p><strong>how to get red-line in normal ts-files?</strong>\nThanks in advance</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 0, "creation_date": 1544017631, "post_id": 53633768, "comment_id": 94126894, "body": "Well you either have a typo or you copy and pasted too fast.  Both your steppers are listed as &#39;verticalStepper&#39; in the example."}, {"owner": {"reputation": 466, "user_id": 10567964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a959bd66655e34173f69d5a7f4918298?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai Kiefer", "link": "https://stackoverflow.com/users/10567964/nikolai-kiefer"}, "reply_to_user": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 0, "creation_date": 1544017996, "post_id": 53633768, "comment_id": 94127107, "body": "@djangojazz you&#39;re right, thanks for pointing out"}, {"owner": {"reputation": 466, "user_id": 10567964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a959bd66655e34173f69d5a7f4918298?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai Kiefer", "link": "https://stackoverflow.com/users/10567964/nikolai-kiefer"}, "reply_to_user": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 0, "creation_date": 1544022146, "post_id": 53633768, "comment_id": 94129903, "body": "To be clear i copy pasted wrong the code still isnt working"}, {"owner": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 1, "creation_date": 1544022212, "post_id": 53633768, "comment_id": 94129939, "body": "You still have the material type the same for both.  You just changed the name of them."}, {"owner": {"reputation": 466, "user_id": 10567964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a959bd66655e34173f69d5a7f4918298?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai Kiefer", "link": "https://stackoverflow.com/users/10567964/nikolai-kiefer"}, "reply_to_user": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 0, "creation_date": 1544022374, "post_id": 53633768, "comment_id": 94130051, "body": "Dang, right again, still the problem prevails"}], "owner": {"reputation": 466, "user_id": 10567964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a959bd66655e34173f69d5a7f4918298?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai Kiefer", "link": "https://stackoverflow.com/users/10567964/nikolai-kiefer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1701, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544022343, "creation_date": 1544017464, "last_edit_date": 1544022343, "question_id": 53633768, "link": "https://stackoverflow.com/questions/53633768/material-stepper-selected-index-not-working-properly", "title": "Material Stepper selected index not working properly", "body": "<p>Hello I'm currently working on a <a href=\"https://material.angular.io/components/stepper/overview\" rel=\"nofollow noreferrer\">Mat-Stepper</a>. Well actually two of them. You see i have this component wich holds two ng-templates like this :</p>\n\n<p>Pushed Question to Top: Why is my selected index not working is there something i miss. I know that on the steppers you can define <code>[selectedIndex]=\"condition\"</code> but i thought i saw it working otherwise. Help is appreciated</p>\n\n<pre><code>&lt;div *ngIf=\"!isSmallScreen; then horizontalStepper else verticalStepper\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>verticalStepper:</p>\n\n<pre><code>&lt;ng-template #verticalStepper&gt;\n &lt;mat-vertical-stepper [linear]=\"isLinear\"\n                    style=\"z-index: 1; display: inline;\"\n                    class=\"container-fluid width-limit\"&gt;\n      &lt;mat-step [completed]=\"condition1\"&gt;&lt;/matstep&gt;\n      &lt;mat-step [completed]=\"condition2\"&gt;&lt;/matstep&gt;\n &lt;/mat-vertical-stepper&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>horizontalStepper:</p>\n\n<pre><code>&lt;ng-template #horizontallStepper&gt;\n &lt;mat-horizontal-stepper [linear]=\"isLinear\"\n                     style=\"z-index: 1; display: inline;\"\n                     class=\"container-fluid width-limit\"&gt;\n       &lt;mat-step [completed]=\"condition1\"&gt;&lt;/matstep&gt;\n       &lt;mat-step [completed]=\"condition2\"&gt;&lt;/matstep&gt;\n &lt;/mat-vertical-stepper&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>this is the function of my parent which should handle the Selected Index</p>\n\n<pre><code>ngAfterViewInit() {\n  if (!conition1) {\n    this.move(0);\n  } else if (condition1) {\n    this.move(1);\n  } else if (condition2) {\n    this.move(2);\n  } \n}\n</code></pre>\n\n<p>this function should set the index but doesn't work</p>\n\n<pre><code>move(index: number) {\n  if (this.isSmallScreen) {\n    this.verticalStepper.selectedIndex = index;\n  } else {\n    this.horizontalStepper.selectedIndex = index;\n  }\n}\n</code></pre>\n\n<p>for the variable smallscreen:</p>\n\n<pre><code>@HostListener('window:resize', ['$event'])\n  onResize(event) {\n    if (event.target.innerWidth &gt;= 600) {\n      this.isSmallScreen = false;\n    } else {\n      this.isSmallScreen = true;\n    }\n  }\n</code></pre>\n\n<p>these are my viewchilds</p>\n\n<pre><code>export class GuidedSearchComponent implements OnInit, AfterViewInit {\n\n  @ViewChild('verticalStepper') verticalStepper: MatStepper;\n  @ViewChild('horizontalStepper') horizontalStepper: MatStepper;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1544016968, "post_id": 53633528, "comment_id": 94126506, "body": "The question lacks necessary details. Should it really be FileList and not an array? If <code>droppedFiles </code> is optional then mark it as optional."}, {"owner": {"reputation": 25, "user_id": 10749597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7782f344b6669fb3769aab57cc85eb81?s=128&d=identicon&r=PG&f=1", "display_name": "Spook", "link": "https://stackoverflow.com/users/10749597/spook"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1544017771, "post_id": 53633528, "comment_id": 94126974, "body": "Thanks for the reply. The question isn&#39;t really about the validity of the code (apologies if it isn&#39;t up to par) its more about how you would set the default value of an item in state if the datatype of that item isn&#39;t a simple one (string, number, array, object) and is more complex (like defined in a custom interface) - FileList is just an example here as it relates to a current issue I have."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1544018020, "post_id": 53633528, "comment_id": 94127126, "body": "It depends on what the value is and how it&#39;s used. TS is structurally typed so it doesn&#39;t differentiate between &#39;complex&#39; and &#39;simple&#39; types. The question doesn&#39;t make sense in general. In one case you could make property optional and in another one you couldn&#39;t."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1544043529, "post_id": 53633528, "comment_id": 94140745, "body": "Glad it helped. Just noticed the update. Notice that the answer doesn&#39;t state that FileList is an array of File. <code>Array.from(files)</code> converts array-like object (which FileList is) to an array. No need for <code>for</code>. It&#39;s 5 lines vs 1."}, {"owner": {"reputation": 25, "user_id": 10749597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7782f344b6669fb3769aab57cc85eb81?s=128&d=identicon&r=PG&f=1", "display_name": "Spook", "link": "https://stackoverflow.com/users/10749597/spook"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1544103969, "post_id": 53633528, "comment_id": 94163879, "body": "Updated Again. top man. thanks."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1544104033, "post_id": 53633528, "comment_id": 94163916, "body": "You&#39;re welcome."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10749597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7782f344b6669fb3769aab57cc85eb81?s=128&d=identicon&r=PG&f=1", "display_name": "Spook", "link": "https://stackoverflow.com/users/10749597/spook"}, "edited": false, "score": 0, "creation_date": 1544018703, "post_id": 53633995, "comment_id": 94127509, "body": "Thanks. I&#39;ve updated the property to be optional in this case but my main query is what should be set in the setState operation.  using this.setState = {droppedFiles: []}  throws error: Type &#39;never[]&#39; is not assignable to type &#39;FileList&#39;.   Property &#39;item&#39; is missing in type &#39;never[]&#39;.  removing it from setState throws this at run time as it cant find it: Cannot read property &#39;droppedFiles&#39; of null"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 25, "user_id": 10749597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7782f344b6669fb3769aab57cc85eb81?s=128&d=identicon&r=PG&f=1", "display_name": "Spook", "link": "https://stackoverflow.com/users/10749597/spook"}, "edited": false, "score": 0, "creation_date": 1544019322, "post_id": 53633995, "comment_id": 94127900, "body": "You can unset optional property with <code>setState({ droppedFiles: undefined })</code>. You should care in the first place not just how to type it properly but how values actually treated. If <code>droppedFiles</code> is not expected to be an array and assigning it to empty array will make code unworkable at runtime, that&#39;s wrong type. <i>removing it from setState</i> - how did you do that? You will get an error like <i>Cannot read property &#39;droppedFiles&#39; of null</i> only if your code is messed up. <code>this.state</code> isn&#39;t expected to be null. Please, provide <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> that can replicate the problem."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 25, "user_id": 10749597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7782f344b6669fb3769aab57cc85eb81?s=128&d=identicon&r=PG&f=1", "display_name": "Spook", "link": "https://stackoverflow.com/users/10749597/spook"}, "edited": false, "score": 0, "creation_date": 1544020334, "post_id": 53633995, "comment_id": 94128615, "body": "I see. As I said, <code>{droppedFiles: []}</code> is incorrect, it&#39;s just wrong object that&#39;s incompatible with <code>FileList</code> object (at runtime). FWIW, I updated the answer with explanation what&#39;s the deal with an array that I suggested previously. And you didn&#39;t post the code that is responsible for <code>Cannot read property &#39;droppedFiles&#39; of null</code> error. You will get it only if <code>this.state === null</code>, it can&#39;t be null under normal circumstances."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 0, "last_activity_date": 1544020283, "last_edit_date": 1544020283, "creation_date": 1544018233, "answer_id": 53633995, "question_id": 53633528, "link": "https://stackoverflow.com/questions/53633528/react-setting-default-state/53633995#53633995", "title": "React setting default state", "body": "<p>The question cannot be extrapolated to any case. In this specific case if initial value for a property cannot be provided, a property should be made optional:</p>\n\n<pre><code>export interface IAppState{\n    value:string;\n    droppedFiles?: FileList\n}\n</code></pre>\n\n<p>And this implies that in places where <code>droppedFiles</code> is used it can be either <code>FileList</code> or <code>undefined</code>, it may require <code>if (this.state.droppedFiles) ...</code> checks, etc.</p>\n\n<p>Another option in this specific case is to not use <code>FileList</code> object (which is array-like) and store an array of <code>File</code> objects instead: </p>\n\n<pre><code>export interface IAppState{\n    value:string;\n    droppedFiles: File[]\n}\n\n...\n\nthis.state = { droppedFiles: [], ... }\n\n...\n\nthis.setState({ droppedFiles: Array.from(files) });\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10749597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7782f344b6669fb3769aab57cc85eb81?s=128&d=identicon&r=PG&f=1", "display_name": "Spook", "link": "https://stackoverflow.com/users/10749597/spook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3753, "favorite_count": 0, "accepted_answer_id": 53633995, "answer_count": 1, "score": 1, "last_activity_date": 1544103907, "creation_date": 1544016749, "last_edit_date": 1544103907, "question_id": 53633528, "link": "https://stackoverflow.com/questions/53633528/react-setting-default-state", "title": "React setting default state", "body": "<p>Im looking for some guidance in terms of setting the default state in react.\nI have a simple project using typescript &amp; react that allows files to be dropped onto a div.\nI'm trying to store these files in the state but I'm having trouble setting the default state.</p>\n\n<pre><code>export interface IAppState{\n    value:string;\n    droppedFiles: FileList\n}\nconstructor(props: {}) {\n    super(props);\n    this.state{\n      value:'',\n      droppedFiles?:???\n    }\n}\n\npublic render(): JSX.Element {\nreturn (\n  &lt;div className=\"App\"&gt;         \n    &lt;div className=\"Padding\"&gt;\n      &lt;FileDrop onDrop={this.handleDrop}&gt;\n        Drop some files here!\n      &lt;/FileDrop&gt;\n    &lt;/div&gt;    \n  &lt;/div&gt;\n);\n}\n\n\nprivate handleDrop = (files:FileList, event:ReactDragEvent&lt;HTMLDivElement&gt;) =&gt; {\nthis.setState({\n    droppedFiles:files\n});\n    console.log(this.state.droppedFiles);\n}\n</code></pre>\n\n<p>If the droppedFiles is removed from the this.state step it obviously flags up as can't find the value. \ndue to TypeScript's type safety, it won't accept {}. What's the proper way to initialize / set the default values for a complex type? </p>\n\n<p>My main issue is that I'm faced with an error from typescript because I don't know how to initialize the state.droppedFiles property with the correct data. I don't want to assign any data to it in the constructor, I'll do that when the user actually drops files.\nI'm just looking for the correct way to let TS know that the state has a property of 'droppedFiles' which is of type 'FileList':\n<a href=\"https://i.stack.imgur.com/blOSh.png\" rel=\"nofollow noreferrer\">TS Error</a></p>\n\n<p>Without this part it throws an error at runtime which I would expect:\n<a href=\"https://i.stack.imgur.com/0a0fj.png\" rel=\"nofollow noreferrer\">Error</a></p>\n\n<hr>\n\n<p>So to close it off, It turns out that FileList isn't a File[].\nto get around this I updated my Interface:</p>\n\n<pre><code>export interface IAppState{    \n    droppedFiles: File[];\n}\n</code></pre>\n\n<p>I initialized it in my constructor like so:</p>\n\n<pre><code>constructor(props: {}) {\n    super(props);\n    this.state = {\n      droppedFiles: []      \n    }\n}\n</code></pre>\n\n<p>and finally to update my state I extracted each item from the FileList:</p>\n\n<pre><code>private handleDrop = (files:FileList, event:ReactDragEvent&lt;HTMLDivElement&gt;) =&gt; {\n\n\n    // Create an array from the FileList (as this is an array-like object)    \n    const filesArr: File[] = Array.from(files);\n\n        // Update the state with our new array\n        this.setState({\n          droppedFiles: filesArr\n        });\n      }\n</code></pre>\n\n<p>This has sorted my issue. Thanks for putting me on the right path estus. Kudos.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 10752240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de889552c81db94093f2d18a271379e4?s=128&d=identicon&r=PG&f=1", "display_name": "hakeri", "link": "https://stackoverflow.com/users/10752240/hakeri"}, "is_accepted": false, "score": 3, "last_activity_date": 1544060708, "creation_date": 1544060708, "answer_id": 53643412, "question_id": 53632966, "link": "https://stackoverflow.com/questions/53632966/property-shouldcomponentupdate-is-not-assignable-to-the-same-property/53643412#53643412", "title": "Property &#39;shouldComponentUpdate&#39; is not assignable to the same property", "body": "<p>I believe this is due to the fact that <code>shouldComponentUpdate</code> is expected to return a boolean. You are returning <code>void</code> because you are not explicitly returning anything. The default is to return true, so merely adding that as your final statement in the function fixes the issue.</p>\n\n<p>For more information, see for example the react documentation: <a href=\"https://reactjs.org/docs/react-component.html#shouldcomponentupdate\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-component.html#shouldcomponentupdate</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 826, "user_id": 9929306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62458cdeb6f62e913d47d41d5b0c16a?s=128&d=identicon&r=PG&f=1", "display_name": "Max Travis", "link": "https://stackoverflow.com/users/9929306/max-travis"}, "edited": false, "score": 0, "creation_date": 1544092542, "post_id": 53648525, "comment_id": 94157181, "body": "Thank you, it&#39;s help me!"}], "tags": [], "owner": {"reputation": 1625, "user_id": 9094962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10208663700870498/picture?type=large", "display_name": "Sviat Kuzhelev", "link": "https://stackoverflow.com/users/9094962/sviat-kuzhelev"}, "is_accepted": true, "score": 6, "last_activity_date": 1544089618, "creation_date": 1544089618, "answer_id": 53648525, "question_id": 53632966, "link": "https://stackoverflow.com/questions/53632966/property-shouldcomponentupdate-is-not-assignable-to-the-same-property/53648525#53648525", "title": "Property &#39;shouldComponentUpdate&#39; is not assignable to the same property", "body": "<p>There is a little bit annoying to use React with TypeScript, because the last one today is does not contains all required error describing tips. So, probably an error in your case is binded with non-finished <code>return</code> call from <code>shouldComponentUpdate</code> method. </p>\n\n<p>Try next and see what will happen:</p>\n\n<pre><code>  shouldComponentUpdate(nextProps: IProps) { // error here\n    console.log(nextProps, 'nextProps')\n    return true\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2043, "user_id": 1645925, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75fff2c27939898eaf3a707239a8cd47?s=128&d=identicon&r=PG", "display_name": "Buts", "link": "https://stackoverflow.com/users/1645925/buts"}, "is_accepted": false, "score": 2, "last_activity_date": 1568694034, "creation_date": 1568694034, "answer_id": 57967311, "question_id": 53632966, "link": "https://stackoverflow.com/questions/53632966/property-shouldcomponentupdate-is-not-assignable-to-the-same-property/57967311#57967311", "title": "Property &#39;shouldComponentUpdate&#39; is not assignable to the same property", "body": "<p>Typescript expects you to define the type each of the passed parameters and the type of the <code>return</code>ed value. If your function does not have a return statement then you can use <code>: void</code>.</p>\n\n<pre><code>  shouldComponentUpdate(nextProps: IProps): void {\n    console.log(nextProps, 'nextProps')\n  }\n</code></pre>\n"}], "owner": {"reputation": 826, "user_id": 9929306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62458cdeb6f62e913d47d41d5b0c16a?s=128&d=identicon&r=PG&f=1", "display_name": "Max Travis", "link": "https://stackoverflow.com/users/9929306/max-travis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2783, "favorite_count": 1, "accepted_answer_id": 53648525, "answer_count": 3, "score": 6, "last_activity_date": 1568694034, "creation_date": 1544014899, "last_edit_date": 1544016863, "question_id": 53632966, "link": "https://stackoverflow.com/questions/53632966/property-shouldcomponentupdate-is-not-assignable-to-the-same-property", "title": "Property &#39;shouldComponentUpdate&#39; is not assignable to the same property", "body": "<p>I got an error in TypeScript using <code>shouldComponentUpdate</code>:</p>\n\n<blockquote>\n  <p>Property 'shouldComponentUpdate' in type 'Hello' is not assignable to the same property in base type <code>Component&lt;IProps, any, any&gt;</code>.</p>\n</blockquote>\n\n<p>in Component:</p>\n\n<pre><code>import React, { Component } from 'react'\n\nclass Hello extends Component&lt;IProps, any&gt; {\n  shouldComponentUpdate(nextProps: IProps) { // error here\n    console.log(nextProps, 'nextProps')\n  }\n\n  ....// some code\n}\n</code></pre>\n\n<p>Can someone explain me what I'm doing wrong?</p>\n"}, {"tags": ["node.js", "typescript", "prisma"], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "edited": false, "score": 0, "creation_date": 1544017732, "post_id": 53632910, "comment_id": 94126952, "body": "can you please help me with this, I&#39;m using VS code."}, {"owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "edited": false, "score": 2, "creation_date": 1544024243, "post_id": 53632910, "comment_id": 94131232, "body": "Got it thanks for the help, you were right i was calling a non complied file prisma.ts,  I installed tsc for VS and complied the file and pointed to prisma.js (the compiled version of the file prisma.js)   and it worked."}, {"owner": {"reputation": 20193, "user_id": 1779113, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fbd338a5ff4a8feb86507a4dacddc05b?s=128&d=identicon&r=PG", "display_name": "nburk", "link": "https://stackoverflow.com/users/1779113/nburk"}, "reply_to_user": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "edited": false, "score": 0, "creation_date": 1544027503, "post_id": 53632910, "comment_id": 94133198, "body": "If it worked, could you please accept the answer @Niks \ud83d\ude42"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1544014716, "creation_date": 1544014716, "answer_id": 53632910, "question_id": 53632858, "link": "https://stackoverflow.com/questions/53632858/typescript-issue-with-export/53632910#53632910", "title": "TypeScript issue with export", "body": "<p>It looks like you are trying to use an uncompiled TypeScript file at runtime.</p>\n\n<p>You should probably be loading <code>prisma.js</code> rather than <code>prisma.ts</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "is_accepted": false, "score": 1, "last_activity_date": 1544072341, "creation_date": 1544072341, "answer_id": 53644917, "question_id": 53632858, "link": "https://stackoverflow.com/questions/53632858/typescript-issue-with-export/53644917#53644917", "title": "TypeScript issue with export", "body": "<p>I got It fixed, You need to compile the prisma.ts file to prisma.js </p>\n\n<p>For this we need to use 'tsc' in visual studio (find the bellow link for installation) \nto convert a .ts file to .js and it does the trick.</p>\n\n<p>reference links \n<a href=\"https://stackoverflow.com/questions/12685995/cant-find-typescript-compiler-command-tsc-is-not-valid/14414137\">Can&#39;t find Typescript compiler: Command &quot;tsc&quot; is not valid</a></p>\n\n<p><a href=\"https://code.visualstudio.com/docs/languages/typescript\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/typescript</a></p>\n"}], "owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 53632910, "answer_count": 2, "score": 1, "last_activity_date": 1544072341, "creation_date": 1544014545, "question_id": 53632858, "link": "https://stackoverflow.com/questions/53632858/typescript-issue-with-export", "title": "TypeScript issue with export", "body": "<p>I'm facing the issue with export in the prisma ts file:\nI'm running it in the node graphql project.</p>\n\n<p>following is the issue:</p>\n\n<pre><code>05-12-2018 18:20:16: SyntaxError: /home/user/Publish/PracticeBusiness/src/generated/prisma.ts: Unexpected token, expected { (11:7)\n05-12-2018 18:20:16:    9 | import { makePrismaBindingClass, BasePrismaOptions } from 'remote-graphql-binding'\n05-12-2018 18:20:16:   10 | \n05-12-2018 18:20:16: &gt; 11 | export interface Query {\n05-12-2018 18:20:16:      |        ^\n05-12-2018 18:20:16:   12 |     agreement: &lt;T = Agreement | null&gt;(args: { id?: Float, name?: String, description?: String, version?: String, type?: Int, validityduration?: Int, inactive?: Boolean, createdat?: String, createdbyid?: Float, updatedat?: String, updatedbyid?: Float, idEq?: Float, nameEq?: String, descriptionEq?: String, versionEq?: String, typeEq?: Int, validitydurationEq?: Int, inactiveEq?: Boolean, createdatEq?: String, createdbyidEq?: Float, updatedatEq?: String, updatedbyidEq?: Float, idGt?: Float, nameGt?: String, descriptionGt?: String, versionGt?: String, typeGt?: Int, validitydurationGt?: Int, inactiveGt?: Boolean, createdatGt?: String, createdbyidGt?: Float, updatedatGt?: String, updatedbyidGt?: Float, idGte?: Float, nameGte?: String, descriptionGte?: String, versionGte?: String, typeGte?: Int, validitydurationGte?: Int, inactiveGte?: Boolean, createdatGte?: String, createdbyidGte?: Float, updatedatGte?: String, updatedbyidGte?: Float, idLt?: Float, nameLt?: String, descriptionLt?: String, versionLt?: String, typeLt?: Int, validitydurationLt?: Int, inactiveLt?: Boolean, createdatLt?: String, createdbyidLt?: Float, updatedatLt?: String, updatedbyidLt?: Float, idLte?: Float, nameLte?: String, descriptionLte?: String, versionLte?: String, typeLte?: Int, validitydurationLte?: Int, inactiveLte?: Boolean, createdatLte?: String, createdbyidLte?: Float, updatedatLte?: String, updatedbyidLte?: Float, idLike?: Float, nameLike?: String, descriptionLike?: String, versionLike?: String, typeLike?: Int, validitydurationLike?: Int, inactiveLike?: Boolean, createdatLike?: String, createdbyidLike?: Float, updatedatLike?: String, updatedbyidLike?: Float, idIsNull?: Boolean, nameIsNull?: Boolean, descriptionIsNull?: Boolean, versionIsNull?: Boolean, typeIsNull?: Boolean, validitydurationIsNull?: Boolean, inactiveIsNull?: Boolean, createdatIsNull?: Boolean, createdbyidIsNull?: Boolean, updatedatIsNull?: Boolean, updatedbyidIsNull?: Boolean, idIn?: Float[], nameIn?: String[], descriptionIn?: String[], versionIn?: String[], typeIn?: Int[], validitydurationIn?: Int[], inactiveIn?: Boolean[], createdatIn?: String[], createdbyidIn?: Float[], updatedatIn?: String[], updatedbyidIn?: Float[], idNotIn?: Float[], nameNotIn?: String[], descriptionNotIn?: String[], versionNotIn?: String[], typeNotIn?: Int[], validitydurationNotIn?: Int[], inactiveNotIn?: Boolean[], createdatNotIn?: String[], createdbyidNotIn?: Float[], updatedatNotIn?: String[], updatedbyidNotIn?: Float[], idLikeNoCase?: Float, nameLikeNoCase?: String, descriptionLikeNoCase?: String, versionLikeNoCase?: String, typeLikeNoCase?: Int, validitydurationLikeNoCase?: Int, inactiveLikeNoCase?: Boolean, createdatLikeNoCase?: String, createdbyidLikeNoCase?: Float, updatedatLikeNoCase?: String, updatedbyidLikeNoCase?: Float, orderBy?: AgreementPropertiesEnum, orderByDesc?: AgreementPropertiesEnum, range?: Int[], limit?: Int[], offset?: Int[] }, info?: GraphQLResolveInfo | string, options?: Options) =&gt; Promise&lt;T&gt; ,\n05-12-2018 18:20:16:   13 |     agreements: &lt;T = Agreement[] | null&gt;(args: { id?: Float, name?: String, description?: String, version?: String, type?: Int, validityduration?: Int, inactive?: Boolean, createdat?: String, createdbyid?: Float, updatedat?: String, updatedbyid?: Float, idEq?: Float, nameEq?: String, descriptionEq?: String, versionEq?: String, typeEq?: Int, validitydurationEq?: Int, inactiveEq?: Boolean, createdatEq?: String, createdbyidEq?: Float, updatedatEq?: String, updatedbyidEq?: Float, idGt?: Float, nameGt?: String, descriptionGt?: String, versionGt?: String, typeGt?: Int, validitydurationGt?: Int, inactiveGt?: Boolean, createdatGt?: String, createdbyidGt?: Float, updatedatGt?: String, updatedbyidGt?: Float, idGte?: Float, nameGte?: String, descriptionGte?: String, versionGte?: String, typeGte?: Int, validitydurationGte?: Int, inactiveGte?: Boolean, createdatGte?: String, createdbyidGte?: Float, updatedatGte?: String, updatedbyidGte?: Float, idLt?: Float, nameLt?: String, descriptionLt?: String, versionLt?: String, typeLt?: Int, validitydurationLt?: Int, inactiveLt?: Boolean, createdatLt?: String, createdbyidLt?: Float, updatedatLt?: String, updatedbyidLt?: Float, idLte?: Float, nameLte?: String, descriptionLte?: String, versionLte?: String, typeLte?: Int, validitydurationLte?: Int, inactiveLte?: Boolean, createdatLte?: String, createdbyidLte?: Float, updatedatLte?: String, updatedbyidLte?: Float, idLike?: Float, nameLike?: String, descriptionLike?: String, versionLike?: String, typeLike?: Int, validitydurationLike?: Int, inactiveLike?: Boolean, createdatLike?: String, createdbyidLike?: Float, updatedatLike?: String, updatedbyidLike?: Float, idIsNull?: Boolean, nameIsNull?: Boolean, descriptionIsNull?: Boolean, versionIsNull?: Boolean, typeIsNull?: Boolean, validitydurationIsNull?: Boolean, inactiveIsNull?: Boolean, createdatIsNull?: Boolean, createdbyidIsNull?: Boolean, updatedatIsNull?: Boolean, updatedbyidIsNull?: Boolean, idIn?: Float[], nameIn?: String[], descriptionIn?: String[], versionIn?: String[], typeIn?: Int[], validitydurationIn?: Int[], inactiveIn?: Boolean[], createdatIn?: String[], createdbyidIn?: Float[], updatedatIn?: String[], updatedbyidIn?: Float[], idNotIn?: Float[], nameNotIn?: String[], descriptionNotIn?: String[], versionNotIn?: String[], typeNotIn?: Int[], validitydurationNotIn?: Int[], inactiveNotIn?: Boolean[], createdatNotIn?: String[], createdbyidNotIn?: Float[], updatedatNotIn?: String[], updatedbyidNotIn?: Float[], idLikeNoCase?: Float, nameLikeNoCase?: String, descriptionLikeNoCase?: String, versionLikeNoCase?: String, typeLikeNoCase?: Int, validitydurationLikeNoCase?: Int, inactiveLikeNoCase?: Boolean, createdatLikeNoCase?: String, createdbyidLikeNoCase?: Float, updatedatLikeNoCase?: String, updatedbyidLikeNoCase?: Float, orderBy?: AgreementPropertiesEnum, orderByDesc?: AgreementPropertiesEnum, range?: Int[], limit?: Int[], offset?: Int[] }, info?: GraphQLResolveInfo | string, options?: Options) =&gt; Promise&lt;T&gt; ,\n05-12-2018 18:20:16:   14 |     location: &lt;T = Location | null&gt;(args: { id?: Float, practiceid?: Float, externalid?: Float, name?: String, address?: String, city?: String, state?: String, postalcode?: String, country?: String, email?: String, contactnumber?: String, inactive?: Boolean, createdat?: String, createdbyid?: Float, updatedat?: String, updatedbyid?: Float, idEq?: Float, practiceidEq?: Float, externalidEq?: Float, nameEq?: String, addressEq?: String, cityEq?: String, stateEq?: String, postalcodeEq?: String, countryEq?: String, emailEq?: String, contactnumberEq?: String, inactiveEq?: Boolean, createdatEq?: String, createdbyidEq?: Float, updatedatEq?: String, updatedbyidEq?: Float, idGt?: Float, practiceidGt?: Float, externalidGt?: Float, nameGt?: String, addressGt?: String, cityGt?: String, stateGt?: String, postalcodeGt?: String, countryGt?: String, emailGt?: String, contactnumberGt?: String, inactiveGt?: Boolean, createdatGt?: String, createdbyidGt?: Float, updatedatGt?: String, updatedbyidGt?: Float, idGte?: Float, practiceidGte?: Float, externalidGte?: Float, nameGte?: String, addressGte?: String, cityGte?: String, stateGte?: String, postalcodeGte?: String, countryGte?: String, emailGte?: String, contactnumberGte?: String, inactiveGte?: Boolean, createdatGte?: String, createdbyidGte?: Float, updatedatGte?: String, updatedbyidGte?: Float, idLt?: Float, practiceidLt?: Float, externalidLt?: Float, nameLt?: String, addressLt?: String, cityLt?: String, stateLt?: String, postalcodeLt?: String, countryLt?: String, emailLt?: String, contactnumberLt?: String, inactiveLt?: Boolean, createdatLt?: String, createdbyidLt?: Float, updatedatLt?: String, updatedbyidLt?: Float, idLte?: Float, practiceidLte?: Float, externalidLte?: Float, nameLte?: String, addressLte?: String, cityLte?: String, stateLte?: String, postalcodeLte?: String, countryLte?: String, emailLte?: String, contactnumberLte?: String, inactiveLte?: Boolean, createdatLte?: String, createdbyidLte?: Float, updatedatLte?: String, updatedbyidLte?: Float, idLike?: Float, practiceidLike?: Float, externalidLike?: Float, nameLike?: String, addressLike?: String, cityLike?: String, stateLike?: String, postalcodeLike?: String, countryLike?: String, emailLike?: String, contactnumberLike?: String, inactiveLike?: Boolean, createdatLike?: String, createdbyidLike?: Float, updatedatLike?: String, updatedbyidLike?: Float, idIsNull?: Boolean, practiceidIsNull?: Boolean, externalidIsNull?: Boolean, nameIsNull?: Boolean, addressIsNull?: Boolean, cityIsNull?: Boolean, stateIsNull?: Boolean, postalcodeIsNull?: Boolean, countryIsNull?: Boolean, emailIsNull?: Boolean, contactnumberIsNull?: Boolean, inactiveIsNull?: Boolean, createdatIsNull?: Boolean, createdbyidIsNull?: Boolean, updatedatIsNull?: Boolean, updatedbyidIsNull?: Boolean, idIn?: Float[], practiceidIn?: Float[], externalidIn?: Float[], nameIn?: String[], addressIn?: String[], cityIn?: String[], stateIn?: String[], postalcodeIn?: String[], countryIn?: String[], emailIn?: String[], contactnumberIn?: String[], inactiveIn?: Boolean[], createdatIn?: String[], createdbyidIn?: Float[], updatedatIn?: String[], updatedbyidIn?: Float[], idNotIn?: Float[], practiceidNotIn?: Float[], externalidNotIn?: Float[], nameNotIn?: String[], addressNotIn?: String[], cityNotIn?: String[], stateNotIn?: String[], postalcodeNotIn?: String[], countryNotIn?: String[], emailNotIn?: String[], contactnumberNotIn?: String[], inactiveNotIn?: Boolean[], createdatNotIn?: String[], createdbyidNotIn?: Float[], updatedatNotIn?: String[], updatedbyidNotIn?: Float[], idLikeNoCase?: Float, practiceidLikeNoCase?: Float, externalidLikeNoCase?: Float, nameLikeNoCase?: String, addressLikeNoCase?: String, cityLikeNoCase?: String, stateLikeNoCase?: String, postalcodeLikeNoCase?: String, countryLikeNoCase?: String, emailLikeNoCase?: String, contactnumberLikeNoCase?: String, inactiveLikeNoCase?: Boolean, createdatLikeNoCase?: String, createdbyidLikeNoCase?: Float, updatedatLikeNoCase?: String, updatedbyidLikeNoCase?: Float, orderBy?: LocationPropertiesEnum, orderByDesc?: LocationPropertiesEnum, range?: Int[], limit?: Int[], offset?: Int[] }, info?: GraphQLResolveInfo | string, options?: Options) =&gt; Promise&lt;T&gt; ,\n05-12-2018 18:20:16:     at Parser.pp$5.raise (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:4454:13)\n05-12-2018 18:20:16:     at Parser.pp.unexpected (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:1761:8)\n05-12-2018 18:20:16:     at Parser.pp.expect (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:1749:33)\n05-12-2018 18:20:16:     at Parser.pp$1.parseExportSpecifiers (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:2830:8)\n05-12-2018 18:20:16:     at Parser.pp$1.parseExport (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:2658:28)\n05-12-2018 18:20:16:     at Parser.pp$1.parseStatement (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:1884:74)\n05-12-2018 18:20:16:     at Parser.pp$1.parseBlockBody (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:2268:21)\n05-12-2018 18:20:16:     at Parser.pp$1.parseTopLevel (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:1778:8)\n05-12-2018 18:20:16:     at Parser.parse (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:1673:17)\n05-12-2018 18:20:16:     at parse (/usr/lib/node_modules/babel-cli/node_modules/babylon/lib/index.js:7305:37)\n05-12-2018 18:20:18: SyntaxError: /home/user/Publish/PracticeBusiness/src/generated/prisma.ts: Unexpected token, expected { (11:7)\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1544014651, "post_id": 53632857, "comment_id": 94125110, "body": "You have to leave the field (<code>blur</code>) to see a view return saying you have an error. The form should be updated, but not the control itself. Consider giving a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> on stackblitz.com"}, {"owner": {"reputation": 378, "user_id": 9099967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTqQw.jpg?s=128&g=1", "display_name": "Alesandro Giordano", "link": "https://stackoverflow.com/users/9099967/alesandro-giordano"}, "edited": false, "score": 0, "creation_date": 1544014745, "post_id": 53632857, "comment_id": 94125152, "body": "What do you mean with (blur)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1544014832, "post_id": 53632857, "comment_id": 94125209, "body": "<code>blur</code> is the opposite of <code>focus</code> : leave the input by clicking anywhere else, triggering a <code>blur</code> event"}, {"owner": {"reputation": 636, "user_id": 1936186, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/2xHgA.jpg?s=128&g=1", "display_name": "Narendra Singh Rathore", "link": "https://stackoverflow.com/users/1936186/narendra-singh-rathore"}, "edited": false, "score": 0, "creation_date": 1544014969, "post_id": 53632857, "comment_id": 94125297, "body": "@AlesandroGiordano change it to required not require   formGroup.get(&#39;channel&#39;).hasError(&#39;require&#39;)"}, {"owner": {"reputation": 378, "user_id": 9099967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTqQw.jpg?s=128&g=1", "display_name": "Alesandro Giordano", "link": "https://stackoverflow.com/users/9099967/alesandro-giordano"}, "reply_to_user": {"reputation": 636, "user_id": 1936186, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/2xHgA.jpg?s=128&g=1", "display_name": "Narendra Singh Rathore", "link": "https://stackoverflow.com/users/1936186/narendra-singh-rathore"}, "edited": false, "score": 0, "creation_date": 1544015307, "post_id": 53632857, "comment_id": 94125498, "body": "@NarendraSinghRathore doesn&#39;t change anything"}, {"owner": {"reputation": 378, "user_id": 9099967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTqQw.jpg?s=128&g=1", "display_name": "Alesandro Giordano", "link": "https://stackoverflow.com/users/9099967/alesandro-giordano"}, "edited": false, "score": 0, "creation_date": 1544015384, "post_id": 53632857, "comment_id": 94125552, "body": "@trichetriche I want my control without clicking anywere... I&#39;m checking it at the initialization"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1544015832, "post_id": 53632857, "comment_id": 94125841, "body": "As told, your form will be invalid but not your control view."}], "answers": [{"tags": [], "owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "is_accepted": true, "score": 2, "last_activity_date": 1544015046, "creation_date": 1544015046, "answer_id": 53633004, "question_id": 53632857, "link": "https://stackoverflow.com/questions/53632857/angular-input-update-validators/53633004#53633004", "title": "Angular input update validators", "body": "<p>You are using reactive forms. To update a form control value, do it using your form object and not inside of your template.</p>\n\n<p>Remove:</p>\n\n<pre><code>[value]=\"userInstance.channel\"\n</code></pre>\n\n<p>Instead:</p>\n\n<pre><code>this.user.subscribe((response) =&gt; {\n  this.userInstance = response;\n  this.formGroup.controls.channel.setValue(this.userInstance.channel);\n});\n</code></pre>\n\n<p>This should update the visible value too.</p>\n"}], "owner": {"reputation": 378, "user_id": 9099967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTqQw.jpg?s=128&g=1", "display_name": "Alesandro Giordano", "link": "https://stackoverflow.com/users/9099967/alesandro-giordano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53633004, "answer_count": 1, "score": 1, "last_activity_date": 1544123772, "creation_date": 1544014541, "last_edit_date": 1544123772, "question_id": 53632857, "link": "https://stackoverflow.com/questions/53632857/angular-input-update-validators", "title": "Angular input update validators", "body": "<p>I'm developing with angular 6, i've implemented an input as below (mat-input of angular material framework) and I've assigned id to a FormGroup validator. When I initialize typescript class I update input value but the validator doesn't see that and when I check it with this.formGroup.valid it returns false, but values are correct. Here is my code</p>\n\n<pre><code>constructor(...) {\n\n    this.formGroup = formBuilder.group({\n        id_conto: [Validators.required, Validators.pattern(\"[0-9]+\")],\n        channel: [Validators.required, Validators.pattern(\"[0-9]+\")],\n        automatic_size: [],\n        pip_stoploss: [Validators.required, Validators.pattern(\"[0-9]+\")]\n    });\n\n\n    this.user = api.getUser();\n    this.user.subscribe((response) =&gt; {\n        this.userInstance = response;\n    });\n\n    this.editClicked();\n}\n\neditClicked() {\n    if (this.formGroup.valid) {\n        this.editing = !this.editing;\n        if (!this.editing)\n            this.formGroup.disable();\n        else\n        this.formGroup.enable();\n    }\n}\n</code></pre>\n\n<p>And my html code</p>\n\n<pre><code>&lt;mat-form-field class=\"form-full-width\"&gt;\n          &lt;input matInput placeholder=\"Channel\" formControlName=\"channel\"\n                 [errorStateMatcher]=\"matcher\" [value]=\"userInstance.channel\"&gt;\n          &lt;mat-error *ngIf=\"formGroup.get('channel').hasError('pattern') &amp;&amp; !formGroup.get('channel').hasError('require')\"&gt;\n            Inserisci un valore numerico\n          &lt;/mat-error&gt;\n          &lt;mat-error *ngIf=\"formGroup.get('channel').hasError('require')\"&gt;\n            Inserire un valore\n          &lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "object"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1544014387, "post_id": 53632752, "comment_id": 94124936, "body": "Also thank you for the CSS wrapper, didn&#39;t know you could do that !"}], "tags": [], "owner": {"reputation": 30502, "user_id": 5933656, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/4lPjy.jpg?s=128&g=1", "display_name": "Mohammad Usman", "link": "https://stackoverflow.com/users/5933656/mohammad-usman"}, "is_accepted": true, "score": 5, "last_activity_date": 1544014195, "creation_date": 1544014195, "answer_id": 53632752, "question_id": 53632682, "link": "https://stackoverflow.com/questions/53632682/angular-2-how-to-put-object-array-in-to-another-object-array/53632752#53632752", "title": "Angular 2 how to put object array in to another object array", "body": "<p>You can use <code>.map()</code> with Object destrcuturing:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr1 = [{name: 'Jhon1'}, {name: 'Jhon2'}, {name: 'Jhon3'}],\r\n    arr2 = [{lastName: 'Pom1'}, {lastName: 'Pom2'}, {lastName: 'Pom3'}];\r\n\r\nlet zip = (a1, a2) =&gt; a1.map((o, i) =&gt; ({...o, ...a2[i]}));\r\n\r\nconsole.log(zip(arr1, arr2));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 75, "user_id": 8966305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/940043892916ff54157305febb1a1f5b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrius L.", "link": "https://stackoverflow.com/users/8966305/andrius-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 53632752, "answer_count": 1, "score": 1, "last_activity_date": 1544017144, "creation_date": 1544013971, "last_edit_date": 1544017144, "question_id": 53632682, "link": "https://stackoverflow.com/questions/53632682/angular-2-how-to-put-object-array-in-to-another-object-array", "title": "Angular 2 how to put object array in to another object array", "body": "<p>So I have <code>2 Arrays</code> (Always equal <code>index</code>) : </p>\n\n<pre><code>A: [\n{name: Jhon1}\n{name: Jhon2}\n{name: Jhon3}\n]\n\nB: [\n{lastName: Pom1}\n{lastName: Pom2}\n{lastName: Pom3}\n]\n</code></pre>\n\n<p>Expected Result after merge  : </p>\n\n<pre><code>A: [\n   {name: Jhon1, lastName: Pom1}\n   {name: Jhon2, lastName: Pom2}\n   {name: Jhon3, lastName: Pom3}\n]\n</code></pre>\n\n<p><code>Concat</code> method just merges the whole array in to one like this : </p>\n\n<pre><code>  A: [\n    {name: Jhon1}\n    {name: Jhon2}\n    {name: Jhon3}\n    {lastName: Pom1}\n    {lastName: Pom2}\n    {lastName: Pom3}\n    ]\n</code></pre>\n\n<p>My own function that I am trying. Below there is two arrays: <code>this.prices</code> and <code>this.search.favoriteItems</code>, I want to merge then the same way as I described before : </p>\n\n<pre><code>showProducts(){\n   for(let i of this.localStorageArray){\n    let id = localStorage.getItem(i);\n    this.search.getProductsById(id).subscribe\n    ((data: any) =&gt; {\n     this.prices.push(data.lowestPrices.Amazon);\n     this.search.favoriteItems.push(data);  \n   //something here to merge this.prices and this.search\n    });\n\n  }\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ngrx", "angular-router-guards", "ngrx-entity"], "answers": [{"tags": [], "owner": {"reputation": 11748, "user_id": 225780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a7783d4be71d80dc94eb249e3476d17?s=128&d=identicon&r=PG", "display_name": "Adrian F&#226;ciu", "link": "https://stackoverflow.com/users/225780/adrian-f%c3%a2ciu"}, "is_accepted": true, "score": 3, "last_activity_date": 1544018554, "last_edit_date": 1544018554, "creation_date": 1544015195, "answer_id": 53633051, "question_id": 53632665, "link": "https://stackoverflow.com/questions/53632665/angular-ngrx-guards-with-side-effect/53633051#53633051", "title": "Angular ngrx: guards with side-effect", "body": "<p>When you handle LoadDataFailure in the reducer, you can add the error to the state.</p>\n\n<p>In the guard you can add a withLatestFrom and select that part of the state, with the error. Instead of catchError, there is no error here so it will not catch anything.</p>\n\n<p>If you don't have an error you can navigate to the page, if you have an error redirect the user to what you need.</p>\n\n<p>You could also refactor a bit the code, like always trigger the load action when the guard enters, move the if statement outside, and work with isDataLoaded stream.</p>\n\n<p>Something like:</p>\n\n<pre><code>this.store.dispatch(new fromDataStore.LoadData());\n\nreturn this.store\n        .select(fromDataStore.getDatasLoaded)\n        .filter(Boolean),\n        .withLatestFrom(fromDataStore.getError)\n        ...\n</code></pre>\n"}], "owner": {"reputation": 1022, "user_id": 3584920, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d56b8202a02b09693c3ce309f263da9d?s=128&d=identicon&r=PG&f=1", "display_name": "hofshteyn", "link": "https://stackoverflow.com/users/3584920/hofshteyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 53633051, "answer_count": 1, "score": 2, "last_activity_date": 1544018554, "creation_date": 1544013895, "question_id": 53632665, "link": "https://stackoverflow.com/questions/53632665/angular-ngrx-guards-with-side-effect", "title": "Angular ngrx: guards with side-effect", "body": "<p>I'm recently sorry if it's a dup of some question, but I can't find any solution for my problem.</p>\n\n<p>I have guard and now I need to catch error in it from a side-effect wich call an http service and redirect user to error state. Tried to add <code>catchError</code> but I don't even go there if I get an error from server side.</p>\n\n<p>guard.ts</p>\n\n<pre><code>canActivate(): Observable&lt;boolean&gt; {\n    return this.store\n        .select(fromDataStore.getDatasLoaded)\n        .pipe(\n            withLatestFrom(this.store.select(fromDataStore.getDataLoading)),\n            map(([loaded, loading]) =&gt; {\n                if (!loaded &amp;&amp; !loading) {\n                    this.store.dispatch(new fromDataStore.LoadData());\n                }\n                return loaded;\n            }),\n            filter(loaded =&gt; loaded),\n            take(1),\n            catchError(error =&gt; {\n                // redirect user to error state\n            })\n        );\n}\n</code></pre>\n\n<p>effect.ts</p>\n\n<pre><code> @Effect() loadData$: Observable&lt;Action&gt; = this.actions$.ofType(DataActionTypes.LoadData)\n    .pipe(\n        mergeMap(() =&gt;\n            this.dataApiService.loadData()\n                .pipe(\n                    map(data =&gt; ({\n                        type: DataActionTypes.LoadDataSuccess,\n                        payload: data\n                    })),\n                    catchError(() =&gt; of({ type: DataActionTypes.LoadDataFailure }))\n                )\n        )\n    );\n</code></pre>\n\n<p>reducer.ts</p>\n\n<pre><code>case DataActionTypes.LoadData: {\n        return {\n            ...state,\n            data: {\n                ...state.data,\n                isLoading: true\n            }\n        };\n    }\n    case DataActionTypes.LoadDataSuccess: {\n        return {\n            ...state,\n            data: {\n                ...dataAdapter.addMany(action.payload, state.data),\n                isLoaded: true,\n                isLoading: false\n            }\n        };\n    }\n    case DataActionTypes.LoadDataFailure: {\n        return {\n            ...state,\n            data: {\n                ...state.data,\n                isLoaded: true,\n                isLoading: false\n            }\n        };\n    }\n    default: {\n        return state;\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1544013780, "post_id": 53632489, "comment_id": 94124574, "body": "Spelling mistake in your code: DeletecustomerModel should be DeleteCustomerModel"}], "answers": [{"comments": [{"owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "edited": false, "score": 0, "creation_date": 1544014540, "post_id": 53632560, "comment_id": 94125043, "body": "i am sending the newcustomerModel as message body, is it still ok for it ?"}, {"owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "edited": false, "score": 0, "creation_date": 1544014762, "post_id": 53632560, "comment_id": 94125169, "body": "so do i have to make it post method ?"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "edited": false, "score": 0, "creation_date": 1544014999, "post_id": 53632560, "comment_id": 94125326, "body": "if u want to send a body then yeah"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": 2, "last_activity_date": 1544013518, "creation_date": 1544013518, "answer_id": 53632560, "question_id": 53632489, "link": "https://stackoverflow.com/questions/53632489/typescript-type-has-no-property-in-common-with-type/53632560#53632560", "title": "Typescript Type has no property in common with type", "body": "<p>Create <code>HttpHeaders</code> instance to allocate the headers</p>\n\n<pre><code>let newcustomerModel = new HttpHeaders({\n  id: id\n} )\n\nthis.http.delete&lt;customer&gt;(`/api/admin/delete-customers`, {headers: newcustomerModel })\n</code></pre>\n"}], "owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1896, "favorite_count": 0, "accepted_answer_id": 53632560, "answer_count": 1, "score": 1, "last_activity_date": 1544016964, "creation_date": 1544013328, "last_edit_date": 1544016964, "question_id": 53632489, "link": "https://stackoverflow.com/questions/53632489/typescript-type-has-no-property-in-common-with-type", "title": "Typescript Type has no property in common with type", "body": "<p>I have a weak dependency error in typescript.  </p>\n\n<blockquote>\n  <p>Type Headers has no properties in common with type..</p>\n</blockquote>\n\n<p>I am trying to send post and delete request to another api for 2 different methods.\nmy ts code in service have 2 different method, the first one \"addcustomer\" is working without problem but second \"deletecustomer\" is not,</p>\n\n<pre><code>addcustomer(customer: string, disable: boolean): Observable&lt;customer&gt; {\n    const newAddcustomerModel = {\n      customer: customer, disable: disable\n    } as AddcustomerModel;\n\n    return this.http.post&lt;customer&gt;(`/api/admin/add-customers`, newAddcustomerModel);\n  }\n\n  deletecustomer(id: number): Observable&lt;customer&gt; {\n    const newcustomerModel = {\n      id: id\n    } as DeletecustomerModel;\n\n    return this.http.delete&lt;customer&gt;(`/api/admin/delete-customers`, newcustomerModel)\n  }\n</code></pre>\n\n<p>and models for them</p>\n\n<pre><code>export interface AddCustomerModel {\n  customer: string;\n  disable: boolean;\n}\n</code></pre>\n\n<p>and for second one is:</p>\n\n<pre><code>export interface DeleteCustomerModel {\n  id: number;\n}\n</code></pre>\n\n<p>The error is on <strong>newcustomerModel</strong> which is in <strong>deletecustomer()</strong> method at last line.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HqeYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HqeYj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "node-modules"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1544012531, "post_id": 53632185, "comment_id": 94123817, "body": "Not a really good practice, but you could add it in your <code>assets</code> folder and in the <code>scripts</code> of your <code>angular.json</code> file."}, {"owner": {"reputation": 2300, "user_id": 7425764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1173f9a89db50b7d8b0e52e545d42b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Akvaliya", "link": "https://stackoverflow.com/users/7425764/ankur-akvaliya"}, "edited": false, "score": 0, "creation_date": 1544014092, "post_id": 53632185, "comment_id": 94124758, "body": "How can i do that. This is not just straight js file which i can add in scripts. It&#39;s angular2/typescript package."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1544014228, "post_id": 53632185, "comment_id": 94124839, "body": "Then get the folder and add it in your <code>src</code> folder so that it gets compiled"}], "answers": [{"comments": [{"owner": {"reputation": 2300, "user_id": 7425764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1173f9a89db50b7d8b0e52e545d42b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Akvaliya", "link": "https://stackoverflow.com/users/7425764/ankur-akvaliya"}, "edited": false, "score": 0, "creation_date": 1544013985, "post_id": 53632571, "comment_id": 94124701, "body": "I just want to do some changes in some files &amp; want to keep those changes. So want a way to move the folder of that library outside of node_modules."}], "tags": [], "owner": {"reputation": 11748, "user_id": 225780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a7783d4be71d80dc94eb249e3476d17?s=128&d=identicon&r=PG", "display_name": "Adrian F&#226;ciu", "link": "https://stackoverflow.com/users/225780/adrian-f%c3%a2ciu"}, "is_accepted": false, "score": 0, "last_activity_date": 1544013554, "creation_date": 1544013554, "answer_id": 53632571, "question_id": 53632185, "link": "https://stackoverflow.com/questions/53632185/moving-library-module-outside-of-node-modules/53632571#53632571", "title": "Moving library/module outside of node_modules", "body": "<p>There are a few options on how to do this:</p>\n\n<ul>\n<li><p>If the changes you want to make are generic, you could make them and create a pull request for the project on Github.</p></li>\n<li><p>You could fork the project and use your own version of the library. Everyone in the team will install this one.</p></li>\n<li><p>If there are a few changes only, you could use something like <a href=\"https://www.npmjs.com/package/patch-package\" rel=\"nofollow noreferrer\">patch-package</a> to make and distribute them.</p></li>\n</ul>\n"}], "owner": {"reputation": 2300, "user_id": 7425764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1173f9a89db50b7d8b0e52e545d42b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Akvaliya", "link": "https://stackoverflow.com/users/7425764/ankur-akvaliya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544018959, "creation_date": 1544012337, "last_edit_date": 1544018959, "question_id": 53632185, "link": "https://stackoverflow.com/questions/53632185/moving-library-module-outside-of-node-modules", "title": "Moving library/module outside of node_modules", "body": "<p>I am working on angular 7.</p>\n\n<p>I have one node package that i want to customize for my project.</p>\n\n<p>The issue is it's node package so it will be install fresh on npm install on server.</p>\n\n<p>So i want to move this library into local folder.</p>\n\n<p>I am not sure how to do this. Can anyone give me any suggestion?</p>\n\n<p>I want to customize this library <a href=\"https://www.npmjs.com/package/ng-multiselect-dropdown\" rel=\"nofollow noreferrer\">multi select dropdown</a>.</p>\n"}, {"tags": ["angular", "typescript", "npm", "compare"], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 0, "creation_date": 1544012580, "post_id": 53632213, "comment_id": 94123836, "body": "I already installed the @types/deep-equal, but still have error"}, {"owner": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 0, "creation_date": 1544013802, "post_id": 53632213, "comment_id": 94124592, "body": "smth like this <a href=\"https://stackblitz.com/edit/angular-qjrh3q?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 0, "creation_date": 1544014147, "post_id": 53632213, "comment_id": 94124798, "body": "@NastyaScherbakova Edited my answer, feel free to check it !"}, {"owner": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 0, "creation_date": 1544014712, "post_id": 53632213, "comment_id": 94125141, "body": "I see but it doesn&#39;t work for me for some reason &quot;error TS2304: Cannot find name &#39;deepEqual&#39;.&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 0, "creation_date": 1544014793, "post_id": 53632213, "comment_id": 94125189, "body": "As you can see it works on stackblitz, so you probably have another error. Try re-installing the dependencies, see if it resolves the issue !"}, {"owner": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 0, "creation_date": 1544015102, "post_id": 53632213, "comment_id": 94125382, "body": "error TS1192: Module &#39;&quot;path/node_modules/@types/deep-equal/index&quot;&#39; has no default export."}, {"owner": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 0, "creation_date": 1544015170, "post_id": 53632213, "comment_id": 94125417, "body": "only if I change in library file on &#39;export default&#39; it works, but it&#39;s not a solution :("}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "edited": false, "score": 1, "creation_date": 1544015215, "post_id": 53632213, "comment_id": 94125445, "body": "Then try <code>import * as deepEqual from &#39;deep-equal&#39;;</code> and use it with <code>deepEqual.deepEqual</code>"}, {"owner": {"reputation": 324, "user_id": 372212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27f07b214c0a866706d646a3ca9576c?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/372212/anton"}, "edited": false, "score": 0, "creation_date": 1598883542, "post_id": 53632213, "comment_id": 112594075, "body": "Can someone please clarify to me what this line of code does: ``` declare const deepEqual: any;``` We declare a const deepEqual, but how in world will that const connect to deep-equal library ?"}, {"owner": {"reputation": 548, "user_id": 3430283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b214b11178bc97c7580577f5b384c35?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Agrawal", "link": "https://stackoverflow.com/users/3430283/sagar-agrawal"}, "edited": false, "score": 0, "creation_date": 1618572418, "post_id": 53632213, "comment_id": 118648027, "body": "has anyone tried with latest version of deep-equal ?"}, {"owner": {"reputation": 548, "user_id": 3430283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b214b11178bc97c7580577f5b384c35?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Agrawal", "link": "https://stackoverflow.com/users/3430283/sagar-agrawal"}, "edited": false, "score": 0, "creation_date": 1618900460, "post_id": 53632213, "comment_id": 118735358, "body": "@user4676340 - Have you tried with latest version of deep-equal ?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 7, "last_activity_date": 1544014135, "last_edit_date": 1544014135, "creation_date": 1544012471, "answer_id": 53632213, "question_id": 53632149, "link": "https://stackoverflow.com/questions/53632149/how-to-use-deep-equal-angular-7/53632213#53632213", "title": "How to use deep-equal (Angular 7)", "body": "<p>Add the script to your <code>angular.json</code> file : </p>\n\n<pre><code>scripts: [\n  \"node_modules/deep_import/name.of.minified.file.js\"\n]\n</code></pre>\n\n<p>And declare a variable in your component : </p>\n\n<pre><code>import { Component } from '@angular/core';\n....\ndeclare const deepEqual: any;\n</code></pre>\n\n<p>Or, you can find <a href=\"https://www.google.fr/search?q=deep%20equal%20typings&amp;rlz=1C1GCEU_frFR819FR820&amp;oq=deep%20equal%20typings&amp;aqs=chrome..69i57.3031j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"noreferrer\">typings</a> for it and install them, and import it like any other dependency : </p>\n\n<pre><code>import * as deepEqual from 'deep-equal';\n</code></pre>\n\n<p><strong>EDIT</strong> Just a syntax issue. I suggest you <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/deep-equal/index.d.ts\" rel=\"noreferrer\">open the repository</a> and see the syntax. The correct one is </p>\n\n<pre><code>import deepEqual from 'deep-equal';\n</code></pre>\n\n<p>as you can see in this <a href=\"https://stackblitz.com/edit/angular-b6xi8r?file=src/app/app.component.ts\" rel=\"noreferrer\">stackbltiz</a></p>\n"}], "owner": {"reputation": 112, "user_id": 9418263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEBl.jpg?s=128&g=1", "display_name": "Nastya Scherbakova", "link": "https://stackoverflow.com/users/9418263/nastya-scherbakova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7348, "favorite_count": 1, "accepted_answer_id": 53632213, "answer_count": 1, "score": 3, "last_activity_date": 1544014135, "creation_date": 1544012212, "question_id": 53632149, "link": "https://stackoverflow.com/questions/53632149/how-to-use-deep-equal-angular-7", "title": "How to use deep-equal (Angular 7)", "body": "<p>Auto import by VS Code:</p>\n\n<pre><code>import deepEqual = require('deep-equal');\n</code></pre>\n\n<p>Doesn't work:</p>\n\n<blockquote>\n  <p>error TS1202: Import assignment cannot be used when targeting\n  ECMAScript modules. Consider using 'import * as ns from \"mod\"',\n  'import {a} from \"mod\"', 'import d from \"mod\"', or another module\n  format instead.</p>\n</blockquote>\n\n<p>Then I tried to do like this:</p>\n\n<pre><code>import * as deepEqual from 'deep-equal';\n</code></pre>\n\n<blockquote>\n  <p>error TS2497: Module '\"path/@types/deep-equal/index\"' resolves to a non-module entity and cannot be imported using this construct.</p>\n</blockquote>\n\n<p>And like this:</p>\n\n<pre><code>import {deepEqual} from 'deep-equal';\n</code></pre>\n\n<blockquote>\n  <p>error TS2305: Module\n  '\"C:/Projects/ManagerServer/Src-LoyaltyCoin.ManagerServer.Core/ManagerWeb/ClientApp/node_modules/@types/deep-equal/index\"'\n  has no exported member 'deepEqual'.</p>\n</blockquote>\n\n<p>I haven't got ideas how can I import this. If there's no solution for this, please suggest me another library to compare objects for Angular 7.</p>\n"}, {"tags": ["angular", "typescript", "jasmine"], "comments": [{"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1544027435, "post_id": 53631820, "comment_id": 94133150, "body": "My apologies, but I&#39;m a bit confused - <code>null</code> is a perfectly valid value to set a string to in Javascript.  Since your code does no testing of the parameters passed, this will not throw any sort of error.  It looks almost as if you are expecting an incorrect type to cause an error - are you looking for something like <code>typeof</code>?  Good article on JavaScript types <a href=\"https://toddmotto.com/understanding-javascript-types-and-reliable-type-checking/#typeof-operator\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "reply_to_user": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1544074701, "post_id": 53631820, "comment_id": 94149149, "body": "@dmcgrandle please look at the function after that. I actually wrote null as an argument so that I could test the second function without having Karma to crash midway. If I do not put any arguments the same error comes for this function. I might have not made this clear so I see how you may be confused. Apologies"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "edited": false, "score": 0, "creation_date": 1544436568, "post_id": 53659445, "comment_id": 94261513, "body": "Hi, thanks for the solution, wanted to ask why you did not use <code>try&#47;catch</code> with this? Isn&#39;t using <code>if </code>conditions a bit dirty especially if there is a function that can end up with, say, a possible 10 different issues?"}, {"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "reply_to_user": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "edited": false, "score": 0, "creation_date": 1544472832, "post_id": 53659445, "comment_id": 94280386, "body": "Sure, there are lots of ways to implement this and I agree - what I did was very simplistic.  My point wasn&#39;t to provide a robust production-ready solution (that might be worthy of another StackOverflow question all on it&#39;s own), but rather to simply show that the error checking should be done within the method of the service.  How you choose to do that is up to you.  :)"}], "tags": [], "owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "is_accepted": true, "score": 1, "last_activity_date": 1544129284, "creation_date": 1544129284, "answer_id": 53659445, "question_id": 53631820, "link": "https://stackoverflow.com/questions/53631820/how-to-expect-error-when-parsing-through-arguments-angular6-jasmine/53659445#53659445", "title": "How to expect error when parsing through arguments? - Angular6, Jasmine", "body": "<p>I put your test case up in a <a href=\"https://stackblitz.com/edit/stackoverflow-q-53631820?file=app%2Fjwt.service.ts\" rel=\"nofollow noreferrer\">Stackblitz</a> to test out your assertion that: <em>\"when I run the test case it stops before even running the test case because there are no arguments (or invalid arguments) provided to the function, so it never runs.\"</em></p>\n\n<p>I thought this was odd, and not what I would expect, so after I set up the Stackblitz, I put in a console.log into the <code>saveToken()</code> method.  If you click on the Console (bottom left of the Jasmine test window in the Stackblitz) you will see that the function is indeed called even for the case when no parameters are passed.  I currently have those tests commented out (with an 'x' in the front of the test), but feel free to remove the x and see what I mean.  </p>\n\n<p>Typescript is indeed complaining when the function is called without parameters, and again when it is called with the wrong type, so perhaps that is what you meant by your comment, but JavaScript itself is fine with both these cases, which is why I am guessing you want to check for it in your code.</p>\n\n<p>I wrote a new method that is one way to approach this, check out <code>saveTokenWithErrorChecking()</code> in the Stackblitz.  It is reproduced here:</p>\n\n<pre><code>saveTokenWithErrorChecking(token: string) {\n    if(token === undefined) {\n        console.log('saveTokenWithErrorChecking() executed and throwing an error');\n        throw new Error('no arguments');\n    } else if (typeof token !== 'string') {\n        console.log('saveTokenWithErrorChecking() throws a type error');\n        throw new Error('token is the wrong type');\n    } else {\n        console.log('saveTokenWithErrorChecking() executed with no error');\n        localStorage.setItem('jwtToken', token);\n    }\n}  \n</code></pre>\n\n<p>Lastly you will notice I am using the angular API for localStorage instead of calling the window object directly.  :)</p>\n\n<p>I hope this all helps.</p>\n"}], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 53659445, "answer_count": 1, "score": 0, "last_activity_date": 1544129284, "creation_date": 1544011128, "last_edit_date": 1544011835, "question_id": 53631820, "link": "https://stackoverflow.com/questions/53631820/how-to-expect-error-when-parsing-through-arguments-angular6-jasmine", "title": "How to expect error when parsing through arguments? - Angular6, Jasmine", "body": "<p>I have written a function called <code>saveToken(token)</code> which takes a <code>string</code> argument and saves it to the local storage in <strong>angular6</strong>. I am writing the tests for it in <strong>jasmine</strong>, and want that the test case throws an error when there are either no arguments given or the token is in an invalid format.</p>\n\n<p>The problem is that when I run the test case it stops before even running the test case because there are no arguments (or invalid arguments) provided to the function, so it never runs. </p>\n\n<p>i wanted to know if there was another approach that I could try (something perhaps called <code>toRaiseException</code> or similar) , or whether this is related to the error handling (which there is none frankly), so I may need to add some error handling first before proceeding to the tests.</p>\n\n<p>Here is my code: </p>\n\n<p><strong>jwt.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class JwtService {\n  /**\n   * This method takes the token as an argument and saves it into the local storage.\n   *\n   * @param  token\n   * @method saveToken\n   * @return\n   */\n  saveToken(token: string) {\n    window.localStorage['jwtToken'] = token;\n  }\n}\n</code></pre>\n\n<p><strong>jwt.service.spec.ts</strong></p>\n\n<pre><code>import { TestBed, inject } from '@angular/core/testing';\nimport { JwtService } from './jwt.service';\n\nconst TOKEN = \"SomeToken\";\n\ndescribe('JwtService', () =&gt; {\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      providers: [\n        JwtService\n      ]\n    });\n  });\n\n\n  //saveToken\n\n  it('Call to function is made when there is no access token in arguments', inject([JwtService],\n    (service: JwtService) =&gt; {\n      expect(function() { service.saveToken(null); }).toThrow();\n    }));\n\n  it('Call to function is made when the access token is in the wrong format', inject([JwtService],\n    (service: JwtService) =&gt; {\n      let data = {\"Token\": TOKEN}\n      expect(function() { service.saveToken(data); }).toThrow();\n    }));\n\n\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "generics", "nested", "angular6"], "comments": [{"owner": {"reputation": 143, "user_id": 1426210, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0c2be5a6a843deb687c81a218cc98b7?s=128&d=identicon&r=PG&f=1", "display_name": "sKopheK", "link": "https://stackoverflow.com/users/1426210/skophek"}, "edited": false, "score": 0, "creation_date": 1587970546, "post_id": 53631614, "comment_id": 108708207, "body": "not sure if I get it right, but if you want to pass the &quot;generics&quot; to the afs.collection() method, this won&#39;t work as the generics is not available at runtime. it&#39;s more of a hint for compiler and intellisense, the best you could do is to <code>getCollectionRef&lt;T&gt; (path: string, sortBy ?: string): AngularFirestoreCollection&lt;T&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10656878, "user_type": "registered", "profile_image": "https://graph.facebook.com/2186909944918034/picture?type=large", "display_name": "Andrea Lo Iacono", "link": "https://stackoverflow.com/users/10656878/andrea-lo-iacono"}, "edited": false, "score": 0, "creation_date": 1544032729, "post_id": 53632596, "comment_id": 94135942, "body": "Thanks a lot for the answer. the compiler still tells me some errors. If I can not solve I&#39;ll write to you.  Thanks again for today!"}], "tags": [], "owner": {"reputation": 71, "user_id": 2810710, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000516244942/picture?type=large", "display_name": "Naibaf", "link": "https://stackoverflow.com/users/2810710/naibaf"}, "is_accepted": false, "score": 0, "last_activity_date": 1544013667, "creation_date": 1544013667, "answer_id": 53632596, "question_id": 53631614, "link": "https://stackoverflow.com/questions/53631614/typescript-generics-type-for-nested-functions/53632596#53632596", "title": "Typescript: generics type for nested functions", "body": "<p>I am not sure if i understand your problem. You want to pass the type parameter given for the method <em>getCollection</em> to the methods called within <em>getCollection</em>. If that's the case would this fit for you:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getCollection &lt;T&gt; (path: string, sortBy ?: string): Observable &lt;T []&gt;\n{ \n\n    return this.getCollectionSnapshot&lt;T&gt; (path, sortBy) .pipe (\n    map (changes =&gt;\n    {\n        return changes.map (change =&gt;\n        {\n            const data = change.payload.doc.data ();\n            const id = change.payload.doc.id;\n            return {id, ... data};\n        });\n     }\n     ));\n}\n\n\ngetCollectionSnapshot&lt;T&gt; (path: string, sortBy ?: string): Observable &lt;any []&gt;\n{\n    return this.getCollectionRef&lt;T&gt; (path, sortBy) .snapshotChanges ();\n}\n\ngetCollectionRef&lt;T&gt; (path: string, sortBy ?: string): AngularFirestoreCollection\n{\n    if (sortBy === undefined)\n    {\n         return this.afs.collection (path);\n    }\n    else\n    {\n         return this.afs.collection (path, ref =&gt; ref.orderBy (sortBy));\n    }\n} \n</code></pre>\n\n<p>notice the changes:</p>\n\n<p>getCollectionSnapshot <strong>&lt;T></strong>(...</p>\n\n<p>getCollectionRef <strong>&lt;T></strong>(...</p>\n"}], "owner": {"reputation": 1, "user_id": 10656878, "user_type": "registered", "profile_image": "https://graph.facebook.com/2186909944918034/picture?type=large", "display_name": "Andrea Lo Iacono", "link": "https://stackoverflow.com/users/10656878/andrea-lo-iacono"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544013667, "creation_date": 1544010511, "question_id": 53631614, "link": "https://stackoverflow.com/questions/53631614/typescript-generics-type-for-nested-functions", "title": "Typescript: generics type for nested functions", "body": "<p>I have looked for answers to this problem but I can not implement them correctly. Maybe you can tell me the right way.</p>\n\n<p>I'll explain: I want to use typescript generics not to use any more 'Any' in my methods.</p>\n\n<p>I am writing the code and what I would like to do.</p>\n\n<p><strong>IN THE COMPONENT:</strong></p>\n\n<pre><code>this.DatabaseService.getCollection &lt;IUser&gt; ('users', 'lastname'). subscribe (loadData =&gt;\n{\n    this.listUser = loadData;\n});\n</code></pre>\n\n<p>when I call getCollection () I will call the following nested methods: </p>\n\n<ul>\n<li>getCollectionSnapshot()</li>\n<li>getCollectionRef()</li>\n</ul>\n\n<p>I want the type (IUser) passed to getCollection  () to be forwarded to the nitidicated methods until you reach getCollectionRef () obtaining a return collection of this type: collection </p>\n\n<p><strong>FILE SERVICE: database.service.ts</strong></p>\n\n<pre><code>getCollection &lt;T&gt; (path: string, sortBy ?: string): Observable &lt;T []&gt;\n{\n    // &gt;&gt;&gt;how do I pass the type (T) to getCollectionSnapshot() ? \n\n    return this.getCollectionSnapshot (path, sortBy) .pipe (\n\u00a0\u00a0\u00a0\u00a0map (changes =&gt;\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0    return changes.map (change =&gt;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0    const data = change.payload.doc.data ();\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0  const id = change.payload.doc.id;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0  return {id, ... data};\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0});\n\u00a0\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0\u00a0\u00a0));\n}\n\n\ngetCollectionSnapshot (path: string, sortBy ?: string): Observable &lt;any []&gt;\n{\n    return this.getCollectionRef (path, sortBy) .snapshotChanges ();\n}\n\n\n\ngetCollectionRef (path: string, sortBy ?: string): AngularFirestoreCollection\n{\n    if (sortBy === undefined)\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return this.afs.collection (path);\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0\u00a0else\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return this.afs.collection (path, ref =&gt; ref.orderBy (sortBy));\n\u00a0\u00a0\u00a0\u00a0}\n}\n</code></pre>\n\n<p>Thank you ! I hope to fill my gap in generics</p>\n"}, {"tags": ["typescript", "event-handling"], "comments": [{"owner": {"reputation": 2849, "user_id": 6496264, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4GXZ7-7uHNc/AAAAAAAAAAI/AAAAAAAAAFM/ax4-x7Z13Ew/photo.jpg?sz=128", "display_name": "Sami Hult", "link": "https://stackoverflow.com/users/6496264/sami-hult"}, "edited": false, "score": 2, "creation_date": 1544010335, "post_id": 53631530, "comment_id": 94122539, "body": "Can you share more code to give context? How do you assign your event handlers?"}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1544010372, "post_id": 53631530, "comment_id": 94122568, "body": "Your code doesn&#39;t have an element with <code>sidebar__header</code> as class name"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1544010387, "post_id": 53631530, "comment_id": 94122574, "body": "Updated question"}], "answers": [{"tags": [], "owner": {"reputation": 2849, "user_id": 6496264, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4GXZ7-7uHNc/AAAAAAAAAAI/AAAAAAAAAFM/ax4-x7Z13Ew/photo.jpg?sz=128", "display_name": "Sami Hult", "link": "https://stackoverflow.com/users/6496264/sami-hult"}, "is_accepted": true, "score": 2, "last_activity_date": 1544011334, "creation_date": 1544011334, "answer_id": 53631872, "question_id": 53631530, "link": "https://stackoverflow.com/questions/53631530/how-to-listen-parent-click-js/53631872#53631872", "title": "How to listen parent click JS?", "body": "<p>What happens here is that your click event will bubble up to the parent where you handle the event. In the DOM event object, you have <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/Comparison_of_Event_Targets\" rel=\"nofollow noreferrer\">different event targets</a> for different uses.</p>\n\n<p>Instead of using <code>event.target</code> you can try to use <code>event.currentTarget</code> to get the element that the event handler is attached to.</p>\n\n<p>The Angular <code>$event</code> should carry the contents of the original DOM event.</p>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 53631872, "answer_count": 1, "score": -3, "last_activity_date": 1544011334, "creation_date": 1544010223, "last_edit_date": 1544010407, "question_id": 53631530, "link": "https://stackoverflow.com/questions/53631530/how-to-listen-parent-click-js", "title": "How to listen parent click JS?", "body": "<p>I have HTML structure:</p>\n\n<pre><code>&lt;div class=\"parent\"&gt;\n   &lt;div class=\"child_1\"&gt;&lt;div class=\"child_1_1\"&gt;&lt;/div&gt;&lt;/div&gt;\n   &lt;div class=\"child_2\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So, when I click over parent element I call function:</p>\n\n<pre><code> public openAccordion(event: any): void {\n    if (event.target.className == \"parent\") {\n       // TODO\n    }\n  }\n</code></pre>\n\n<p>To function I pass <code>event</code> and check if it contains specific class: <code>className</code>.</p>\n\n<p>But when I click by child elements, this condition does not work, so, how always get parent container and check its class?</p>\n\n<p>I assign like this:</p>\n\n<pre><code>&lt;div(click)=\"openAccordion($event)\"&gt;\n</code></pre>\n"}, {"tags": ["arrays", "json", "typescript", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4739099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1142eb6448647e4dc623435e65aec57?s=128&d=identicon&r=PG&f=1", "display_name": "gmaniac7", "link": "https://stackoverflow.com/users/4739099/gmaniac7"}, "edited": false, "score": 0, "creation_date": 1544016287, "post_id": 53631605, "comment_id": 94126084, "body": "Your first suggestion didn&#39;t work. A blank field, where category name should be shown, appears. About the second one, my whole app has been based on localStorage. I fetch my data from Mysql DB as Json arrays. As you can see in the attached photo the userData can be read pretty well with <code>const datacat = JSON.parse(localStorage.getItem(&#39;categoryData&#39;)); this.categoryDetails = datacat.categoryData;</code>. But all other Json that are in arrays can&#39;t be read with the same method? How can I read attributes from businessData &amp; CategoryData?"}], "tags": [], "owner": {"reputation": 125, "user_id": 5064923, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pkOIgu0t5UI/AAAAAAAAAAI/AAAAAAAAAQw/-dmGOoVyIkE/photo.jpg?sz=128", "display_name": "Kilomat", "link": "https://stackoverflow.com/users/5064923/kilomat"}, "is_accepted": false, "score": 0, "last_activity_date": 1544010481, "creation_date": 1544010481, "answer_id": 53631605, "question_id": 53631421, "link": "https://stackoverflow.com/questions/53631421/how-to-read-attribute-name-of-my-json-array-in-ionic/53631605#53631605", "title": "How to read attribute &quot;name&quot; of my json array in Ionic", "body": "<p>In this example you need to do that</p>\n\n<pre><code>&lt;h1 class=\"business-top\"&gt;Business of the category {{categoryDetails?.name}}&lt;/h1&gt;\n\npublic categoryDetails: any;\n\nthis.categoryDetails = localStorage.getItem('categoryData');\n</code></pre>\n\n<p>or you can use ionic storage. it is better if you are using ionic.</p>\n\n<p><a href=\"https://ionicframework.com/docs/storage/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/storage/</a></p>\n\n<pre><code>import { Storage } from '@ionic/storage';\n\nexport class MyApp {\npublic categoryDetails: any;\n  constructor(private storage: Storage) { }\n\n  ...\n\n  // set a key/value\n  storage.set('categoryData', 'Max');\n\n  // Or to get a key/value pair\n  storage.get('categoryData').then((val) =&gt; {\n    this.categoryDetails = val;\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4739099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1142eb6448647e4dc623435e65aec57?s=128&d=identicon&r=PG&f=1", "display_name": "gmaniac7", "link": "https://stackoverflow.com/users/4739099/gmaniac7"}, "is_accepted": false, "score": 0, "last_activity_date": 1544193400, "creation_date": 1544193400, "answer_id": 53671656, "question_id": 53631421, "link": "https://stackoverflow.com/questions/53631421/how-to-read-attribute-name-of-my-json-array-in-ionic/53671656#53671656", "title": "How to read attribute &quot;name&quot; of my json array in Ionic", "body": "<p>I finally fingured it out.</p>\n\n<p>@Kilomat thanks for your help and your advice about using ionic storage. That saved me from futured problems.</p>\n\n<p>About my json file that's what I did.</p>\n\n<p>In my HTML code\n<code>&lt;ion-grid no-margin&gt;\n    &lt;h1 class=\"business-top\"&gt;\u0395\u03c0\u03b9\u03c7\u03b5\u03b9\u03c1\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1\u03c2 {{businessData.name}} {{businessData.term_id}}&lt;/h1&gt;\n    &lt;ion-list&gt;\n    &lt;ion-item class=\"col col-50\" *ngFor=\"let c of BusinessCategoryDetails\" text-wrap (click)=\"product(c)\"&gt;\n      &lt;div *ngIf=\"c.term_id == businessData.term_id\"&gt;\n      &lt;h2&gt;{{c.post_title}} {{c.term_id}}&lt;/h2&gt; &lt;img width=\"80\" height=\"80\" src=\"{{c.guid}}\"&gt;\n      &lt;/div&gt;\n    &lt;/ion-item&gt;\n    &lt;/ion-list&gt;\n  &lt;/ion-grid&gt;</code></p>\n\n<p>And in my TS code\n`var businessCategory: categories = navParams.get(\"businessCategory\");\n    console.log(businessCategory); /<em>exports the Selected category</em>/</p>\n\n<pre><code>var newData = JSON.stringify(businessCategory);\nthis.businessData = JSON.parse(newData);`\n</code></pre>\n\n<p>Which takes properties and values from my previous category page. TS code</p>\n\n<p>`categories: [categoryDetails] = null;</p>\n\n<p>gotobusiness(category: categories){\n    this.navCtrl.push(BusinessPage, { businessCategory: category});\n  }`</p>\n"}], "owner": {"reputation": 1, "user_id": 4739099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1142eb6448647e4dc623435e65aec57?s=128&d=identicon&r=PG&f=1", "display_name": "gmaniac7", "link": "https://stackoverflow.com/users/4739099/gmaniac7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544193400, "creation_date": 1544009834, "question_id": 53631421, "link": "https://stackoverflow.com/questions/53631421/how-to-read-attribute-name-of-my-json-array-in-ionic", "title": "How to read attribute &quot;name&quot; of my json array in Ionic", "body": "<p><a href=\"https://i.stack.imgur.com/qHNMc.jpg\" rel=\"nofollow noreferrer\">json array localstorage format</a></p>\n\n<p>Hello, I'm developing an ionic app. I'm new in Ionic and Typescript.</p>\n\n<p>As you can see in the image below I'm parsing from an API my data in a json array.</p>\n\n<p>On ts file I'm writing this code</p>\n\n<p>`\npublic categoryDetails:any;</p>\n\n<p>const datacat = JSON.parse(localStorage.getItem('categoryData'));\n    this.categoryDetails = datacat.categoryData;`</p>\n\n<p>And in my html file when I write this</p>\n\n<p><code>&lt;h1 class=\"business-top\"&gt;Business of the category {{categoryDetails.name}}&lt;/h1&gt;</code></p>\n\n<p>I get the error message \"TypeError: Cannot read property 'name' of undefined\"</p>\n\n<p>I know that I don't read the attribute \"name\" correctly. How can I do this one?</p>\n\n<p>Moreover, how can I display Businesses which associate with the spesific term_id of the category?</p>\n"}, {"tags": ["typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "edited": false, "score": 0, "creation_date": 1544008882, "post_id": 53631092, "comment_id": 94121620, "body": "<a href=\"https://stackoverflow.com/questions/17382143/create-a-new-object-from-type-parameter-in-generic-class\">maybe this will be helpful</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544010167, "post_id": 53631092, "comment_id": 94122434, "body": "<code>T&lt;T2&gt;</code> is not possible"}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 10223323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9QnhiXBEIKA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q1NGqidQBXDHjp4FJ_mb_pHGbDgg/mo/photo.jpg?sz=128", "display_name": "Daan", "link": "https://stackoverflow.com/users/10223323/daan"}, "is_accepted": false, "score": 0, "last_activity_date": 1544009850, "creation_date": 1544009850, "answer_id": 53631427, "question_id": 53631092, "link": "https://stackoverflow.com/questions/53631092/typescript-type-parameter-with-gernic-argument-list/53631427#53631427", "title": "Typescript type parameter with gernic argument list", "body": "<p>To use this with an interface, like in your case, you would need something along the lines of</p>\n\n<pre><code>interface GenericIdentityFn&lt;T&gt; {\n    (arg: T): T;\n}\n\nfunction identity&lt;T&gt;(arg: T): T {\n    return arg;\n}\n\nlet myIdentity: GenericIdentityFn&lt;number&gt; = identity;\n</code></pre>\n\n<p>Mind that you should use either  on the interface to set the type for the whole interface, or for each method individually. That is probably where the mistake is.\nSo:</p>\n\n<pre><code>interface Genic1ParamWrapperConstructor&lt;T&gt;{\n    new(arg: T): T;\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>interface Genic1ParamWrapperConstructor{\n    new&lt;T&gt;(arg: T): T;\n}\n</code></pre>\n\n<p>depending on your preferenes.</p>\n\n<p>you can also use the any param</p>\n\n<pre><code>    function identity(arg: any): any {\n        return arg;\n    }\nlet output = identity(\"myString\");  // type of output will be 'string'\n</code></pre>\n\n<p>More info can be found <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 71, "user_id": 2810710, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000516244942/picture?type=large", "display_name": "Naibaf", "link": "https://stackoverflow.com/users/2810710/naibaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544009850, "creation_date": 1544008732, "last_edit_date": 1544008895, "question_id": 53631092, "link": "https://stackoverflow.com/questions/53631092/typescript-type-parameter-with-gernic-argument-list", "title": "Typescript type parameter with gernic argument list", "body": "<p>Is it possible to use a type parameter as an generic like in C++?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Genic1ParamWrapperConstructor&lt;T&gt;{\n    new&lt;T2&gt;():T&lt;T2&gt;;\n}\n</code></pre>\n\n<p>The interesting part is <strong>T&lt;T2></strong> because the typescript compiler generates an error saying: Type 'T' is not a generic</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 2256, "user_id": 4870785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ltjqt7eh40M/AAAAAAAAAAI/AAAAAAAAAEk/A684PsNrkAI/photo.jpg?sz=128", "display_name": "Kapcash", "link": "https://stackoverflow.com/users/4870785/kapcash"}, "edited": false, "score": 0, "creation_date": 1544009325, "post_id": 53630927, "comment_id": 94121903, "body": "How do you map your Json from the API to your interface ? The attributes don&#39;t even match (phone vs phoneNumbers)..."}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "reply_to_user": {"reputation": 2256, "user_id": 4870785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ltjqt7eh40M/AAAAAAAAAAI/AAAAAAAAAEk/A684PsNrkAI/photo.jpg?sz=128", "display_name": "Kapcash", "link": "https://stackoverflow.com/users/4870785/kapcash"}, "edited": false, "score": 0, "creation_date": 1544009493, "post_id": 53630927, "comment_id": 94122012, "body": "Sorry posted the  wrong interface code."}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "reply_to_user": {"reputation": 2256, "user_id": 4870785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ltjqt7eh40M/AAAAAAAAAAI/AAAAAAAAAEk/A684PsNrkAI/photo.jpg?sz=128", "display_name": "Kapcash", "link": "https://stackoverflow.com/users/4870785/kapcash"}, "edited": false, "score": 0, "creation_date": 1544009677, "post_id": 53630927, "comment_id": 94122118, "body": "Please check the edited <b>CODE</b>."}], "answers": [{"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1544008484, "post_id": 53630955, "comment_id": 94121372, "body": "@Shankarguru what does it contains <code>{{customer?.phone | json}}</code>? have you checked"}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1544008594, "post_id": 53630955, "comment_id": 94121446, "body": "It is displying like this:  [ { &quot;type&quot;: &quot;Business&quot;, &quot;displayName&quot;: &quot;Mobile&quot;, &quot;number&quot;: &quot;+86 802 190 4343&quot; } ]"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1544008660, "post_id": 53630955, "comment_id": 94121487, "body": "can you share your JSON? <code>Customer</code> object"}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1544008722, "post_id": 53630955, "comment_id": 94121524, "body": "Okay let me share in the question."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1544008731, "post_id": 53630955, "comment_id": 94121526, "body": "@Shankarguru please check my updated answer, you need to use <code>{{customer?.phone[0]?.number}}</code>"}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1544009011, "post_id": 53630955, "comment_id": 94121709, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/184752/discussion-between-shankar-guru-and-pardeep-jain\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1544009540, "post_id": 53630955, "comment_id": 94122039, "body": "Please see the updated code(i,e interface). @Pardeep Jain"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1544008702, "last_edit_date": 1544008702, "creation_date": 1544008313, "answer_id": 53630955, "question_id": 53630927, "link": "https://stackoverflow.com/questions/53630927/to-display-value-of-the-interface-of-type-array/53630955#53630955", "title": "To display value of the interface of type array[]", "body": "<p>You need to use key <code>(number)</code> of phone object, like this -</p>\n\n<pre><code>{{customer?.phone[0]?.number}}\n</code></pre>\n\n<p>PS: For debugging purpose in view side you can use <code>json</code> pipe in html like this -</p>\n\n<pre><code>{{customer?.phone | json}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 307, "user_id": 7547670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5282084568084f191eec526a734924ff?s=128&d=identicon&r=PG&f=1", "display_name": "Mr code.", "link": "https://stackoverflow.com/users/7547670/mr-code"}, "is_accepted": false, "score": 1, "last_activity_date": 1544009068, "creation_date": 1544009068, "answer_id": 53631201, "question_id": 53630927, "link": "https://stackoverflow.com/questions/53630927/to-display-value-of-the-interface-of-type-array/53631201#53631201", "title": "To display value of the interface of type array[]", "body": "<pre><code> &lt;div *ngFor=\"let customer of customers\"&gt;\n     &lt;p&gt;Name: {{customer?.name}}&lt;/p&gt;\n       &lt;ng-container *ngFor=\"let phn of customer?.phone\"&gt;\n         &lt;p&gt;Phone: {{phn.number}}&lt;/p&gt;\n        &lt;/ng-container&gt;\n   &lt;/div&gt;  \n</code></pre>\n\n<p>Just use inner loop to display numbers, if you want display other info , you can do {{phn.displayName}}</p>\n"}], "owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1544017638, "creation_date": 1544008218, "last_edit_date": 1544017638, "question_id": 53630927, "link": "https://stackoverflow.com/questions/53630927/to-display-value-of-the-interface-of-type-array", "title": "To display value of the interface of type array[]", "body": "<p>I am displaying  api data in an component .The component looks like this:</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div  *ngFor=\"let  customer of customers\"&gt;\n   &lt;p&gt;Name: {{customer?.name}}&lt;/p\n   &lt;p&gt;Phone: {{customer?.phoneNumbers}}&lt;/p\n&lt;/div&gt;  \n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import { Component,  Input } from '@angular/core';\nimport {  Customer } from '../models';\n\n @Component({\n   selector: 'yn-contact',\n    templateUrl: './contact.component.html',\n    styleUrls: ['./contact.component.css'],\n  })\n\n export class ContactComponent  {\n     @Input()\n     public customers: Customer ;\n   }\n</code></pre>\n\n<p>Declared an interface called <code>Customer</code> in an <code>models.ts</code> file like this:</p>\n\n<p><strong>models.ts</strong> file</p>\n\n<pre><code>  export interface Customer {\n     name: string;\n     phoneNumbers: PhoneNumber[];\n  }\n\n  export interface PhoneNumber{\n    type: string;\n    displayName: string;\n    number: string;\n  }\n</code></pre>\n\n<p>Now in the <strong>HTML</strong>  i am able to display the <code>name</code>, But while displaying <code>phone</code> (i,e phone number), I am getting o/p like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tMxi7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tMxi7.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>JSON:</strong></p>\n\n<pre><code>  { \n    \"salutation\": \"Dr\",\n    \"jobTitle\": \"Nurse Practicioner\",\n    \"name\": \"Adaline Danat\",\n    \"birthDate\": \"1964-06-04T06:31:10Z\",\n    \"gender\": \"Female\",\n\n\n   \"phoneNumbers\": [\n       {\n        \"type\": \"Unknown\",\n        \"displayName\": \"Mobile\",\n        \"number\": \"+62 342 886 8201\"\n      },\n      {\n        \"type\": \"Other\",\n        \"displayName\": \"Home\",\n        \"number\": \"+86 707 128 1882\"\n      },\n      {\n        \"type\": \"Business\",\n        \"displayName\": \"Home\",\n        \"number\": \"+63 704 441 1937\"\n      },\n    ],\n\n   }\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 0, "last_activity_date": 1544008482, "creation_date": 1544008482, "answer_id": 53631017, "question_id": 53630911, "link": "https://stackoverflow.com/questions/53630911/making-an-object-array-to-have-all-combinations-of-possibilities-from-3-arrays-u/53631017#53631017", "title": "Making an object array to have all combinations of possibilities from 3 Arrays using javascript / typescript", "body": "<p>You can run a nested set of loops, I'm not sure if a more efficient way exists:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const buttonFormats = ['compact', 'regular', 'fluid'];\r\nconst iconTypes = [null, 'add', 'edit'];\r\nconst states = [null, 'secondary', '2', 'tertiary', '3', 'warning', '!', 'danger', '!!!', 'danger-secondary', '2!!!', 'primary-line', '1l', 'secondary-line', '2l', 'tertiary-line', '3l', 'warning-line', '!l', 'danger-line', '!!!l'];\r\n\r\nconst allCombinations = [];\r\n\r\nbuttonFormats.forEach((bf) =&gt; {\r\n    iconTypes.forEach((it) =&gt; {\r\n        states.forEach((s) =&gt; {\r\n            allCombinations.push({\r\n                format: bf,\r\n                icon: it,\r\n                state: s\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\nconsole.log(allCombinations);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The key difference is about when the object is defined. i.e. if I define a <code>const</code> in an outer loop, or outside of the loop, I am re-using the reference to the same object (which means I end up updating the same object in the nested parts of the code). By creating a new object in the innermost loop I avoid this.</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1544009074, "last_edit_date": 1544009074, "creation_date": 1544008730, "answer_id": 53631091, "question_id": 53630911, "link": "https://stackoverflow.com/questions/53630911/making-an-object-array-to-have-all-combinations-of-possibilities-from-3-arrays-u/53631091#53631091", "title": "Making an object array to have all combinations of possibilities from 3 Arrays using javascript / typescript", "body": "<p>Without nested loops, you could take a combination algorithm for the values and apply an object structure later.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n    buttonFormats = ['compact', 'regular', 'fluid'],\r\n    iconTypes = [null, 'add', 'edit'],\r\n    stateParams = [ null, 'secondary', '2', 'tertiary', '3', 'warning', '!', 'danger', '!!!', 'danger-secondary', '2!!!', 'primary-line', '1l', 'secondary-line', '2l', 'tertiary-line', '3l', 'warning-line', '!l', 'danger-line', '!!!l'],\r\n    result = [buttonFormats, iconTypes, stateParams]\r\n        .reduce((a, b) =&gt; a.reduce((r, v) =&gt; r.concat(b.map(w =&gt; [].concat(v, w))), []))\r\n        .map(([format, iconType, state]) =&gt; ({ format, iconType, state }));\r\n\r\n\r\nconsole.log(result.length);\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": false, "score": 0, "last_activity_date": 1544011749, "last_edit_date": 1544011749, "creation_date": 1544010557, "answer_id": 53631629, "question_id": 53630911, "link": "https://stackoverflow.com/questions/53630911/making-an-object-array-to-have-all-combinations-of-possibilities-from-3-arrays-u/53631629#53631629", "title": "Making an object array to have all combinations of possibilities from 3 Arrays using javascript / typescript", "body": "<p>This is called a <a href=\"https://en.wikipedia.org/wiki/Cartesian_product\" rel=\"nofollow noreferrer\">cartesian product</a>. Usually it's written recursively, based on the following observation:</p>\n\n<blockquote>\n  <p>to obtain a cartesian product Cn of N arrays, compute the product Cn-1 for N-1 arrays, and merge each element of the first array with each element in Cn-1</p>\n</blockquote>\n\n<p>Here's an example implementation in the functional style</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>flatMap     = (xs, f) =&gt; [].concat(...xs.map(f))\r\nprepend     = x =&gt; ys =&gt; [x].concat(ys)\r\nprependEach = (xs, yss) =&gt; flatMap(xs, x =&gt; yss.map(prepend(x)))\r\nproduct     = (xs, ...rest) =&gt; xs ? prependEach(xs, product(...rest)) : [[]]\r\n\r\n\r\n// demo\r\n\r\na = [1,2,3]\r\nb = ['A', 'B', 'C']\r\nc = ['foo', 'bar']\r\n\r\n\r\ng = product(a, b, c)\r\ng.forEach(x =&gt; console.log(x.join('-')))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 53631017, "answer_count": 3, "score": 0, "last_activity_date": 1544011749, "creation_date": 1544008158, "question_id": 53630911, "link": "https://stackoverflow.com/questions/53630911/making-an-object-array-to-have-all-combinations-of-possibilities-from-3-arrays-u", "title": "Making an object array to have all combinations of possibilities from 3 Arrays using javascript / typescript", "body": "<p>I am trying to create an object array that will contain objects that represent every scenario of combination possibilities that are provided by three string arrays. Each object in my Object Array (Collection) should contain the properties <code>{format: '', iconType: '', state: ''}</code> where each property can be a sting or a null value.</p>\n\n<p>So in my code I have 3 string arrays... like so:</p>\n\n<pre><code>    const buttonFormats = ['compact', 'regular', 'fluid'];\n    const stateParams = [\n       null,\n      'secondary',\n      '2',\n      'tertiary',\n      '3',\n      'warning',\n      '!',\n      'danger',\n      '!!!',\n      'danger-secondary',\n      '2!!!',\n      'primary-line',\n      '1l',\n      'secondary-line',\n      '2l',\n      'tertiary-line',\n      '3l',\n      'warning-line',\n      '!l',\n      'danger-line',\n      '!!!l'\n    ];\n    const iconTypes = [null, 'add', 'edit'];\n    const allCombinations = [];\n</code></pre>\n\n<p>My plan is to have three nested loops where we take the current value of one loop and combine it with the values of the other loops, like so...</p>\n\n<pre><code>public makeButtonStates(): any[] {\n    const buttonFormats = ['compact', 'regular', 'fluid'];\n    const stateParams = [\n       null,\n      'secondary',\n      '2',\n      'tertiary',\n      '3',\n      'warning',\n      '!',\n      'danger',\n      '!!!',\n      'danger-secondary',\n      '2!!!',\n      'primary-line',\n      '1l',\n      'secondary-line',\n      '2l',\n      'tertiary-line',\n      '3l',\n      'warning-line',\n      '!l',\n      'danger-line',\n      '!!!l'\n    ];\n    const iconTypes = [null, 'add', 'edit']; // these are the available icons\n    const allCombinations = [];\n\n    buttonFormats.forEach((format) =&gt; {\n      const currentCombinaton: any = {};\n      currentCombinaton.format = format;\n\n      iconTypes.forEach((icon) =&gt; {\n        currentCombinaton.iconType = icon;\n\n        stateParams.forEach((state) =&gt; {\n          currentCombinaton.state = state;\n          console.log(currentCombinaton);\n          allCombinations.push(currentCombinaton);\n        });\n      });\n    });\n\n    return allCombinations;\n  }\n\npublic ngOnInit(): void {\n    this.buttonStates = this.makeButtonStates();\n    console.log(this.buttonStates);\n  }\n</code></pre>\n\n<p>This isn't working as although when I output using <code>console.log()</code> the current combination of values what is written to the console is what I would expect, however when I write the outcome of my nested loop function, the value of <code>this.buttonStates</code> or <code>allCombinations</code> in the all the objects in the object array have the same value for the iconType and state properties, these being the last times in the string arrays \u00b4{iconType: \"edit\", state: \"!!!l\"}` This screen shot of the developer console gives an idea of the output...</p>\n\n<p><a href=\"https://i.stack.imgur.com/S4pZ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S4pZ4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Obviously my implementation is wrong, should I use <code>.map</code> or <code>.filter</code> or <code>.reduce</code> instead and why is my output array only taking the last values of the stateParams and iconType array?</p>\n\n<p>Many thanks in advance if you can help me spot this.</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "ionic3", "transpiler"], "comments": [{"owner": {"reputation": 1312, "user_id": 10699402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a662ee2586387d05e7291150665b8ba7?s=128&d=identicon&r=PG&f=1", "display_name": "Saddam Pojee", "link": "https://stackoverflow.com/users/10699402/saddam-pojee"}, "edited": false, "score": 0, "creation_date": 1544008177, "post_id": 53630819, "comment_id": 94121203, "body": "Have you tried running <code>ionic doctor check</code> command?"}, {"owner": {"reputation": 331, "user_id": 7493317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aownW.jpg?s=128&g=1", "display_name": "mindus", "link": "https://stackoverflow.com/users/7493317/mindus"}, "reply_to_user": {"reputation": 1312, "user_id": 10699402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a662ee2586387d05e7291150665b8ba7?s=128&d=identicon&r=PG&f=1", "display_name": "Saddam Pojee", "link": "https://stackoverflow.com/users/10699402/saddam-pojee"}, "edited": false, "score": 0, "creation_date": 1544008350, "post_id": 53630819, "comment_id": 94121308, "body": "Ionic version is 3.2.0. I think doctor check command won&#39;t run it"}, {"owner": {"reputation": 125, "user_id": 5064923, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pkOIgu0t5UI/AAAAAAAAAAI/AAAAAAAAAQw/-dmGOoVyIkE/photo.jpg?sz=128", "display_name": "Kilomat", "link": "https://stackoverflow.com/users/5064923/kilomat"}, "edited": false, "score": 0, "creation_date": 1544010678, "post_id": 53630819, "comment_id": 94122739, "body": "can you use cordova 6.5.0, it is better"}, {"owner": {"reputation": 331, "user_id": 7493317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aownW.jpg?s=128&g=1", "display_name": "mindus", "link": "https://stackoverflow.com/users/7493317/mindus"}, "edited": false, "score": 0, "creation_date": 1544011051, "post_id": 53630819, "comment_id": 94122958, "body": "No luck, same error.                                                                                      global packages:      @ionic/cli-utils : 1.2.0     Cordova CLI      : 6.5.0     Ionic CLI        : 3.2.0  local packages:      @ionic/app-scripts : 3.2.1     Cordova Platforms  : android 5.2.1     Ionic Framework    : ionic-angular 3.5.0  System:      Node       : v10.14.1     OS         : Windows 10     Xcode      : not installed     ios-deploy : not installed     ios-sim    : not installed"}, {"owner": {"reputation": 592, "user_id": 4428535, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ru71tanXw0c/AAAAAAAAAAI/AAAAAAAAABM/8qKo7YiMbug/photo.jpg?sz=128", "display_name": "Delwyn Pinto", "link": "https://stackoverflow.com/users/4428535/delwyn-pinto"}, "edited": false, "score": 0, "creation_date": 1544617950, "post_id": 53630819, "comment_id": 94338763, "body": "Try updating cordova android. The current version is 7.1 and you&#39;re using 5.2"}], "owner": {"reputation": 331, "user_id": 7493317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aownW.jpg?s=128&g=1", "display_name": "mindus", "link": "https://stackoverflow.com/users/7493317/mindus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1123, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544625439, "creation_date": 1544007862, "last_edit_date": 1544625439, "question_id": 53630819, "link": "https://stackoverflow.com/questions/53630819/error-failed-to-transpile-program-ionic-3-error", "title": "Error: Failed to transpile program - Ionic 3 error", "body": "<p>I got the project from github, try to install the app on android devices and getting following error.</p>\n\n<blockquote>\n  <p>Error: Failed to transpile program</p>\n</blockquote>\n\n<p>Here is my ionic info command information.</p>\n\n<pre><code>global packages:\n    @ionic/cli-utils : 1.2.0\n    Cordova CLI      : 8.0.0\n    Ionic CLI        : 3.2.0\nlocal packages:\n    @ionic/app-scripts : 3.2.1\n    Cordova Platforms  : android 5.2.1\n    Ionic Framework    : ionic-angular 3.5.0\nSystem:\n    Node       : v10.14.1\n    OS         : Windows 10\n    Xcode      : not installed\n    ios-deploy : not installed\n    ios-sim    : not installed\n</code></pre>\n\n<p>I tried all the possibilities (install and uninstall the appscripts, ionic, cordova and npm) and no luck. Anybody have any idea about this or facing this problem before?</p>\n\n<p>Thanks\nAk</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 4, "last_activity_date": 1544008163, "creation_date": 1544008163, "answer_id": 53630916, "question_id": 53630759, "link": "https://stackoverflow.com/questions/53630759/is-it-possible-to-use-destrcturing-when-declaring-class-private-variables-with-t/53630916#53630916", "title": "Is it possible to use destrcturing when declaring class private variables with typescript?", "body": "<p>You can use <code>Object.assign</code> to achive the same result...</p>\n\n<pre><code>class Test {\n    private a: number;\n    private b: string;\n    private c: boolean;\n\n    constructor(arg: { a: number, b: string, c: boolean}) {\n        Object.assign(this, arg);\n    }\n}\n\nconst tool = {\n    a: 5,\n    b: 'str',\n    c: true\n}\n\nconst test = new Test(tool);\n\nconsole.log(JSON.stringify(tool));\n</code></pre>\n\n<p>The feature to destructure paramters is still <a href=\"https://github.com/Microsoft/TypeScript/issues/5326\" rel=\"nofollow noreferrer\">active in discussion on GitHub</a>.</p>\n"}], "owner": {"reputation": 31, "user_id": 5471928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a34f031d210f56419704916a36e6ac4e?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/5471928/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1544008664, "creation_date": 1544007679, "last_edit_date": 1544008664, "question_id": 53630759, "link": "https://stackoverflow.com/questions/53630759/is-it-possible-to-use-destrcturing-when-declaring-class-private-variables-with-t", "title": "Is it possible to use destrcturing when declaring class private variables with typescript?", "body": "<p>Normally when multiple variables are come from the same object I would use </p>\n\n<pre><code>const [ foo, bar, foobar ] = [ 'foo', 'bar', 'foobar' ]\n</code></pre>\n\n<p>But in type script, things like</p>\n\n<pre><code>class Test {\n    private {a,b,c} = tool;\n}\n</code></pre>\n\n<p>It doesn't work any more.</p>\n\n<p>Is there a other way? </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1544007206, "post_id": 53630569, "comment_id": 94120645, "body": "Have you tried putting this link into the <code>scripts</code> array in the <code>angular.cli.json</code> file?"}, {"owner": {"reputation": 159, "user_id": 8300911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b39cc1baed32f5c4f704f11c0c63c9f7?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#233;my", "link": "https://stackoverflow.com/users/8300911/j%c3%a9r%c3%a9my"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1544087435, "post_id": 53630569, "comment_id": 94154270, "body": "Thanks for your response. Yes but in this file i can&#39;t load external ressources. I can&#39;t use environnement variable in my angular cli json file."}], "owner": {"reputation": 159, "user_id": 8300911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b39cc1baed32f5c4f704f11c0c63c9f7?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#233;my", "link": "https://stackoverflow.com/users/8300911/j%c3%a9r%c3%a9my"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544006982, "creation_date": 1544006982, "question_id": 53630569, "link": "https://stackoverflow.com/questions/53630569/load-external-web-library-on-angular-4-typescript", "title": "Load external web library on angular 4 typescript", "body": "<p>I'm trying to load my spotfire javascript API library :</p>\n\n\n     \n\n<p>I can't do that in my index.html because this url must be saved into my environment.ts file.</p>\n\n<p>I have try to call this api with the code below :</p>\n\n<pre><code>System.import('https://spotfire-next.cloud.tibco.com/spotfire/wp/GetJavaScriptApi.ashx?Version=7.5').then(file =&gt; {\n   // perform additional interactions after the resource has been asynchronously fetched\n});\n</code></pre>\n\n<p>But there is an error \"cannot lod module\".</p>\n\n<p>Can you help me ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "edited": false, "score": 0, "creation_date": 1544007152, "post_id": 53630395, "comment_id": 94120621, "body": "you can create a unique pipe for that."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 3, "last_activity_date": 1544007086, "creation_date": 1544007086, "answer_id": 53630602, "question_id": 53630395, "link": "https://stackoverflow.com/questions/53630395/how-to-remove-duplicate-values-in-autocomplete/53630602#53630602", "title": "How to remove duplicate values in autocomplete?", "body": "<p>Use this method : </p>\n\n<pre><code>function uniques(array: any[], key: string) {\n  return array.reduce((acc, curr) =&gt; {\n    if (!acc.find(item =&gt; item[key] === curr[key])) { acc.push(curr); }\n    return acc;\n  }, []);\n}\n</code></pre>\n\n<p>Either in a pipe, the array prototype, or your component. </p>\n\n<p>Snippet : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function uniques(array, key) {\r\n  return array.reduce((acc, curr) =&gt; {\r\n    if (!acc.find(item =&gt; item[key] === curr[key])) { acc.push(curr); }\r\n    return acc;\r\n  }, []);\r\n}\r\n\r\nconsole.log(uniques([\r\n  { id: 1, value: '1' },\r\n  { id: 1, value: '1' },\r\n  { id: 2, value: '2' },\r\n  { id: 3, value: '3' },\r\n], 'id'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "is_accepted": false, "score": 0, "last_activity_date": 1544007622, "creation_date": 1544007622, "answer_id": 53630748, "question_id": 53630395, "link": "https://stackoverflow.com/questions/53630395/how-to-remove-duplicate-values-in-autocomplete/53630748#53630748", "title": "How to remove duplicate values in autocomplete?", "body": "<p>It is the sample code that can be modified according to your data-set.</p>\n\n<pre><code>export class DataComponent {\n\n  constructor() {\n    items: any[];\n\n    // Get all sprOperations\n    const operation = items.map(sprOperations=&gt; sprOperations.group_operations);\n\n    // Unique sprOperations\n    this.sprOperations= operation.filter((x, i, a) =&gt; x &amp;&amp; a.indexOf(x) === i);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 10720571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff7ea2d8d09295fc61d45f9a3df0799?s=128&d=identicon&r=PG&f=1", "display_name": "user10720571", "link": "https://stackoverflow.com/users/10720571/user10720571"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "accepted_answer_id": 53630602, "answer_count": 2, "score": 2, "last_activity_date": 1544347733, "creation_date": 1544006382, "last_edit_date": 1544347733, "question_id": 53630395, "link": "https://stackoverflow.com/questions/53630395/how-to-remove-duplicate-values-in-autocomplete", "title": "How to remove duplicate values in autocomplete?", "body": "<p>I use \"ng-select\". How can I remove duplicate values \u200b\u200bfrom autocomplete? That is, I\u2019ll assume two times in the <code>group_operations</code> field added the <code>SPB</code> value, then how can I remove the <code>SPB</code> value from the drop-down list for auto-completion from the auto-complete list that was added a second time or more.</p>\n\n<pre><code>&lt;ng-select [addTag]=\"true\" formControlName=\"group_operations\" id=\"group_operations\"&gt;\n  &lt;ng-option *ngFor=\"let sprOperation of sprOperations\" [value]=\"sprOperation.group_operations\"&gt;{{sprOperation.group_operations}}&lt;/ng-option&gt;\n&lt;/ng-select&gt;\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "visual-studio-code"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544006125, "post_id": 53630255, "comment_id": 94119969, "body": "What does your tsconig.json look like ?"}, {"owner": {"reputation": 41, "user_id": 10748858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mw3B5ScO9Eo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hAmLAY2UMRzhnEPV4ZEQKXQeC8VA/mo/photo.jpg?sz=128", "display_name": "user10748858", "link": "https://stackoverflow.com/users/10748858/user10748858"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544060826, "post_id": 53630255, "comment_id": 94145972, "body": "my question has updated, show my tsconfig.json"}, {"owner": {"reputation": 41, "user_id": 10748858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mw3B5ScO9Eo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hAmLAY2UMRzhnEPV4ZEQKXQeC8VA/mo/photo.jpg?sz=128", "display_name": "user10748858", "link": "https://stackoverflow.com/users/10748858/user10748858"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544066278, "post_id": 53630255, "comment_id": 94147192, "body": "i have found the problem , it&#39;s vetur&#39;s bug"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 10748858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mw3B5ScO9Eo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hAmLAY2UMRzhnEPV4ZEQKXQeC8VA/mo/photo.jpg?sz=128", "display_name": "user10748858", "link": "https://stackoverflow.com/users/10748858/user10748858"}, "is_accepted": false, "score": 1, "last_activity_date": 1544066344, "creation_date": 1544066344, "answer_id": 53644122, "question_id": 53630255, "link": "https://stackoverflow.com/questions/53630255/vs-code-cannot-find-module-in-vue-typescript-project-webstorm-has-no-problem/53644122#53644122", "title": "VS Code cannot find module in Vue + TypeScript project, WebStorm has no problem", "body": "<p>it's vetur's bug, it will validat the script in .vue, and it will error if the script's lang is ts</p>\n"}], "owner": {"reputation": 41, "user_id": 10748858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mw3B5ScO9Eo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hAmLAY2UMRzhnEPV4ZEQKXQeC8VA/mo/photo.jpg?sz=128", "display_name": "user10748858", "link": "https://stackoverflow.com/users/10748858/user10748858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1545074390, "creation_date": 1544005989, "last_edit_date": 1545074390, "question_id": 53630255, "link": "https://stackoverflow.com/questions/53630255/vs-code-cannot-find-module-in-vue-typescript-project-webstorm-has-no-problem", "title": "VS Code cannot find module in Vue + TypeScript project, WebStorm has no problem", "body": "<p>VS Code cannot find the module below, but it can be used in my project:</p>\n\n<p><img src=\"https://i.stack.imgur.com/j7wj3.png\" alt=\"VSCode screenshot\"></p>\n\n<p>However, it can be found in WebStorm:</p>\n\n<p><img src=\"https://i.stack.imgur.com/g0sV0.png\" alt=\"WebStorm screenshot\"></p>\n\n<p>This is my tsconfig:</p>\n\n<p><img src=\"https://i.stack.imgur.com/EQ8cq.png\" alt=\"tsconfig\"></p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular6"], "comments": [{"owner": {"reputation": 1282, "user_id": 5767800, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh5.googleusercontent.com/-Zx9-EWafdSU/AAAAAAAAAAI/AAAAAAAAAEA/CICuIkG5vAI/photo.jpg?sz=128", "display_name": "Nemanja G", "link": "https://stackoverflow.com/users/5767800/nemanja-g"}, "edited": false, "score": 0, "creation_date": 1544005996, "post_id": 53630202, "comment_id": 94119898, "body": "try writing contact?.fullName"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 1282, "user_id": 5767800, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh5.googleusercontent.com/-Zx9-EWafdSU/AAAAAAAAAAI/AAAAAAAAAEA/CICuIkG5vAI/photo.jpg?sz=128", "display_name": "Nemanja G", "link": "https://stackoverflow.com/users/5767800/nemanja-g"}, "edited": false, "score": 0, "creation_date": 1544006128, "post_id": 53630202, "comment_id": 94119973, "body": "I have already tried your answer, still no result..:)"}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1544017813, "post_id": 53630357, "comment_id": 94127000, "body": "Now i am unable to highlight the first <code>contact</code> by default...:)"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1544017997, "post_id": 53630357, "comment_id": 94127108, "body": "It means you did not set <code>currentContact</code> by default."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1544068573, "post_id": 53630357, "comment_id": 94147676, "body": "How to set <code>currentContact</code> as default?"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1544068879, "post_id": 53630357, "comment_id": 94147755, "body": "Previously it was fine, after implementing api i am facing this issue..:)"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1544006266, "creation_date": 1544006266, "answer_id": 53630357, "question_id": 53630202, "link": "https://stackoverflow.com/questions/53630202/warnings-while-using-ngclass/53630357#53630357", "title": "Warnings while using [ngClass]", "body": "<p>You should have additional check of <code>undefined</code> of object before you access the property of an <code>object</code>. You can modify your code as following - </p>\n\n<pre><code>&lt;mat-list-option \n     [ngClass]=\"{selected : contact &amp;&amp; currentContact &amp;&amp; contact.fullName == currentContact.fullName}\"  \n     *ngFor=\"let contact of contacts\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53630357, "answer_count": 1, "score": 1, "last_activity_date": 1544006266, "creation_date": 1544005818, "question_id": 53630202, "link": "https://stackoverflow.com/questions/53630202/warnings-while-using-ngclass", "title": "Warnings while using [ngClass]", "body": "<p>I have component called <code>contact-list</code>. This component is used display list of contacts with there photo like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9Idyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Idyx.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>As shown in the image, By default i have highlighted first contact(i,e <code>background -color</code> and <code>text-color</code> of list-item changed). </li>\n<li>And i am displaying this selected contacts details on right side by using another component called <code>display</code> like this:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/RwCtG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RwCtG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is <code>contact-list</code> component CODE:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;mat-selection-list&gt;\n    &lt;mat-list-option [ngClass]=\"{selected : contact.fullName == currentContact.fullName}\"  *ngFor=\"let contact of contacts\"&gt;\n       &lt;a mat-list-item (click)=\"onSelect(contact)\"&gt;&lt;img src=\"{{contact?.pictureUrl}}\" &gt; &lt;span&gt;{{ contact?.fullName }}&lt;/span&gt; &lt;/a&gt;\n    &lt;/mat-list-option&gt;\n  &lt;/mat-selection-list&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import {Component, EventEmitter, Input , Output, ViewChild } from \n   '@angular/core';\n import { IContact } from 'src/app/models/app.models';\n\n@Component({\n  selector: 'btn-contact-list',\n  templateUrl: './contact-list.component.html',\n  styleUrls: ['./contact-list.component.scss'],\n   })\n\n export class ContactListComponent {\n\n  @Input()\n    public contacts:  IContact[] ;\n  @Output() public select: EventEmitter&lt;{}&gt; = new EventEmitter(); \n\n  public currentContact: IContact;\n\n  public ngOnInit(): void {\n   if (this.contacts &amp;&amp; this.contacts.length &gt; 0) {\n     this.currentContact = this.contacts[0];\n     this.select.emit(this.currentContact);\n   }\n  }\n\n  public onSelect(contact: IContact): void {\n    this.currentContact = contact; \n    this.select.emit(contact); \n   }\n\n }\n</code></pre>\n\n<p>This Scenario is working fine for me: But in the console i am getting this warning:<br>\nWhat's wrong with the <code>[ngClass]</code>?<br>\n<a href=\"https://i.stack.imgur.com/9xLGS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9xLGS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1544005059, "post_id": 53629819, "comment_id": 94119358, "body": "Your code works (I don&#39;t errors and <code>handleLogoutClick </code>) my guess us that you are passing <code>checkLoginStatus</code> to a jQuery event handler, and then you do get into issues with who <code>this</code> is .."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544005078, "post_id": 53629819, "comment_id": 94119372, "body": "The code that works: <a href=\"https://www.typescriptlang.org/play/#src=%0D%0Aclass%20Utilities%20%7B%0D%0A%0D%0A%20%20%20%20checkLoginStatus()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fsome%20actions%0D%0A%20%20%20%20%20%20%20%20%20%20%20this.handleLogoutClick()%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20handleLogoutClick()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20console.log(%22AA%22)%0D%0A%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Alet%20utilities%20%3D%20new%20Utilities()%3B%0D%0Autilities.checkLoginStatus()%3B\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 130, "user_id": 3640214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZQDFu.jpg?s=128&g=1", "display_name": "Morema", "link": "https://stackoverflow.com/users/3640214/morema"}, "edited": false, "score": 1, "creation_date": 1544017395, "post_id": 53629819, "comment_id": 94126764, "body": "Hi @Kreedz Zhen .. I&#39;m not sure if you have fixed it but you&#39;ve got an extra curly bracket <code>}</code> in there?"}, {"owner": {"reputation": 360, "user_id": 5455988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1706300029590092/picture?type=large", "display_name": "Kreedz Zhen", "link": "https://stackoverflow.com/users/5455988/kreedz-zhen"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1544057570, "post_id": 53629819, "comment_id": 94145323, "body": "@TitianCernicova-Dragomir Yes, I am calling it with a jQuery event handler. Do you know how to fix this error?"}, {"owner": {"reputation": 360, "user_id": 5455988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1706300029590092/picture?type=large", "display_name": "Kreedz Zhen", "link": "https://stackoverflow.com/users/5455988/kreedz-zhen"}, "reply_to_user": {"reputation": 130, "user_id": 3640214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZQDFu.jpg?s=128&g=1", "display_name": "Morema", "link": "https://stackoverflow.com/users/3640214/morema"}, "edited": false, "score": 0, "creation_date": 1544057706, "post_id": 53629819, "comment_id": 94145357, "body": "@Morema, Thanks, I removed some code after I paste the original code to make this more clear. It was my mistake, but that was not the reason for that problem."}], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 5455988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1706300029590092/picture?type=large", "display_name": "Kreedz Zhen", "link": "https://stackoverflow.com/users/5455988/kreedz-zhen"}, "is_accepted": true, "score": 1, "last_activity_date": 1544059610, "creation_date": 1544059610, "answer_id": 53643288, "question_id": 53629819, "link": "https://stackoverflow.com/questions/53629819/how-to-call-the-self-owned-function-in-typescript/53643288#53643288", "title": "How to call the self owned function in typescript", "body": "<p>I just found a way to use this in typescript with jquery</p>\n\n<pre><code>handelLoginBtnClick(): void {\n        var _this = this;\n        $('#login_btn').on('click', function () {\n            var input = $('.validate-input .user_input');\n            for (var i = 0; i &lt; input.length; i++) {\n                _this[$(input[i]).attr(\"id\")] = $(input[i]).val();\n            }\n            if ($(this).data(\"is-login\")) {\n                query.sendRequest(\"POST\", \"/loginRegister/login\", JSON.stringify(_this), function (data) {\n                    _this.handelFallback(data);\n                });\n            } else {\n                if ($(\".sign_up_as\")) {\n                    _this[\"sign_up_as\"] = $(\"input[name='sign_up_as']:checked\").val();\n                }\n                query.sendRequest(\"POST\", \"/loginRegister/register\", JSON.stringify(_this), function (data) {\n                    _this.handelFallback(data);\n                });\n            }\n            console.log(userLogin);\n        });\n    }\n</code></pre>\n\n<p>Declare a variable like \n<code>var _this = this</code>, \nbefore the jQuery code. <code>_this will represent as this class,</code> </p>\n\n<pre><code>$(this) will be the jQuery object.\n</code></pre>\n\n<p>Correct me please, if I am wrong.</p>\n"}], "owner": {"reputation": 360, "user_id": 5455988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1706300029590092/picture?type=large", "display_name": "Kreedz Zhen", "link": "https://stackoverflow.com/users/5455988/kreedz-zhen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 53643288, "answer_count": 1, "score": 0, "last_activity_date": 1544059610, "creation_date": 1544004670, "last_edit_date": 1544057400, "question_id": 53629819, "link": "https://stackoverflow.com/questions/53629819/how-to-call-the-self-owned-function-in-typescript", "title": "How to call the self owned function in typescript", "body": "<p>I am writing the typescript for client side language, I just started to learn typescript a few days ago, but there is one problem driving me crazy. I cannot use the function inside of this class.</p>\n\n<p>This is the typescript:</p>\n\n<pre><code>   declare var $: any;\ndeclare var query: any;\n\nclass Utilities {\n\n    checkLoginStatus(): void {\n          query.sendRequest(\"POST\", \"/loginRegister/checkLoginStatus\", \"\", function (data) {\n        var loginStatusDiv = $(\"#login_status\");\n        loginStatusDiv.html(\"\");\n        if (data.status) {\n            loginStatusDiv.append($(\"&lt;span&gt;\", { text: \"Welcome \" + data.user_name, class: \"col-8 text-right\" }));\n            loginStatusDiv.append($(\"&lt;a&gt;\", { href: \"#\", text: \"Logout\", id: \"logout_link\", class: \"col-4 text-right\" }));\n            this.handleLogoutClick();\n        } else {\n            loginStatusDiv.append($(\"&lt;a&gt;\", { href: \"login.html\", text: \"Login\", id: \"login_link\", class: \"col-8 text-right\" }));\n            loginStatusDiv.append($(\"&lt;a&gt;\", { href: \"register.html\", text: \"Register\", id: \"register_link\", class: \"col-4 text-right\" }));\n        }\n    });\n    }\n\n    handleLogoutClick(): void {\n       //some actions\n\n    }\n}\n\nlet utilities = new Utilities();\nutilities.checkLoginStatus();\n</code></pre>\n\n<p>This is the Javascript:</p>\n\n<pre><code>var Utilities = /** @class */ (function () {\n    function Utilities() {\n    }\n    Utilities.prototype.checkLoginStatus = function () {\n              query.sendRequest(\"POST\", \"/loginRegister/checkLoginStatus\", \"\", function (data) {\n        var loginStatusDiv = $(\"#login_status\");\n        loginStatusDiv.html(\"\");\n        if (data.status) {\n            loginStatusDiv.append($(\"&lt;span&gt;\", { text: \"Welcome \" + data.user_name, \"class\": \"col-8 text-right\" }));\n            loginStatusDiv.append($(\"&lt;a&gt;\", { href: \"#\", text: \"Logout\", id: \"logout_link\", \"class\": \"col-4 text-right\" }));\n            this.handleLogoutClick();\n        }\n        else {\n            loginStatusDiv.append($(\"&lt;a&gt;\", { href: \"login.html\", text: \"Login\", id: \"login_link\", \"class\": \"col-8 text-right\" }));\n            loginStatusDiv.append($(\"&lt;a&gt;\", { href: \"register.html\", text: \"Register\", id: \"register_link\", \"class\": \"col-4 text-right\" }));\n        }\n    });\n\n    };\n    Utilities.prototype.handleLogoutClick = function () {\n\n    };\n    return Utilities;\n}());\nvar utilities = new Utilities();\nutilities.checkLoginStatus();\n</code></pre>\n\n<p>This is query.sendRequest</p>\n\n<pre><code>declare var $: any;\nnamespace query {\n    export function sendRequest(method, api, praValue, callback): void {\n        $.ajax({\n            type: method,\n            url: window.location.origin + api,\n            data: { data: praValue },\n            success: callback,\n            error: function (e) {\n                console.log(e.statusText);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre><code>Utilities.js:11 Uncaught TypeError: this.handleLogoutClick is not a function\n</code></pre>\n\n<p>It says this.handleLogoutClick is not a function. I thought the typescript is a java-like language, but I do not know how to call the functions inside of this class. </p>\n\n<p>Any help will be appreciated.\nThanks!</p>\n"}, {"tags": ["macos", "typescript", "debugging", "yarnpkg"], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 9276925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2dpyldhKuE0/AAAAAAAAAAI/AAAAAAAAAcc/16szUd5vPfU/photo.jpg?sz=128", "display_name": "Lee Moe", "link": "https://stackoverflow.com/users/9276925/lee-moe"}, "edited": false, "score": 0, "creation_date": 1544104805, "post_id": 53645116, "comment_id": 94164407, "body": "Correct! Thanks!"}], "tags": [], "owner": {"reputation": 165, "user_id": 1234792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ab3d32da7aa2bf848d957f194535754?s=128&d=identicon&r=PG", "display_name": "Kamikai", "link": "https://stackoverflow.com/users/1234792/kamikai"}, "is_accepted": true, "score": 2, "last_activity_date": 1544073756, "creation_date": 1544073756, "answer_id": 53645116, "question_id": 53629752, "link": "https://stackoverflow.com/questions/53629752/typescript-debugging-issue-invalid-cast-showing-on-my-mac-only/53645116#53645116", "title": "TypeScript debugging issue &#39;Invalid cast&#39; showing on my Mac only", "body": "<p>Have you updated to Typescript 3.2 recently?</p>\n\n<p>Reverting to <code>3.1</code>, or even updating to <code>typescript@next</code> (i.e. the nightly builds) both address the issue.</p>\n\n<p>It was raised in the Typescript Issue Tracker in <a href=\"https://github.com/Microsoft/TypeScript/issues/28762\" rel=\"nofollow noreferrer\">this issue</a>, and appears to of been patched, but not released yet by this <a href=\"https://github.com/Microsoft/TypeScript/pull/28782\" rel=\"nofollow noreferrer\">Pull Request</a>.</p>\n"}], "owner": {"reputation": 405, "user_id": 9276925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2dpyldhKuE0/AAAAAAAAAAI/AAAAAAAAAcc/16szUd5vPfU/photo.jpg?sz=128", "display_name": "Lee Moe", "link": "https://stackoverflow.com/users/9276925/lee-moe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 53645116, "answer_count": 1, "score": 0, "last_activity_date": 1544073756, "creation_date": 1544004486, "last_edit_date": 1544029496, "question_id": 53629752, "link": "https://stackoverflow.com/questions/53629752/typescript-debugging-issue-invalid-cast-showing-on-my-mac-only", "title": "TypeScript debugging issue &#39;Invalid cast&#39; showing on my Mac only", "body": "<p>Excuse my first use here but this debugger error doesn't show on the machines of my colleagues!</p>\n\n<pre><code>yarn start v0.17.8\n$ ts-node ./src/engine/server/server /Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:1325\nreturn Debug.fail(\"Invalid cast. The supplied value \" + value + \" did not pass the test '\" + Debug.getFunctionName(test) + \"'.\");\n                 ^\nError: Debug Failure. Invalid cast. The supplied value [object Object] did not pass the test 'isJsonSourceFile'.\nat Object.cast (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:1325:22)\nat getTypeOfVariableOrParameterOrPropertyWorker (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:35591:41)\nat getTypeOfVariableOrParameterOrProperty (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:35567:48)\nat getTypeOfSymbol (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:35856:24)\nat getExternalModuleMember (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:32495:64)\nat getTargetOfImportSpecifier (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:32530:20)\nat getTargetOfAliasDeclaration (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:32562:28)\nat resolveAlias (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:32595:30)\nat checkAliasSymbol (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:55749:26)\nat checkImportBinding (/Users/aa/.nvm/versions/node/v6.10.3/lib/node_modules/typescript/lib/typescript.js:55778:13)\nerror Command failed with exit code 1.\n</code></pre>\n\n<p>Using Node 6.10.3, Yarn and Mac (if any is relevant). \nAny idea?</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "bootstrap-4"], "comments": [{"owner": {"reputation": 23, "user_id": 10673893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156186326078019/picture?type=large", "display_name": "Johan Amanou", "link": "https://stackoverflow.com/users/10673893/johan-amanou"}, "edited": false, "score": 0, "creation_date": 1544012930, "post_id": 53629602, "comment_id": 94124051, "body": "Thanks for all answers, but it does not answer what I am looking for. I have added a clarification to my question. I hope I have explained my problem better now. I&#39;m looking for a way to programmatically determine if an element should be rendered. You might explain it as a way to translate &#39;visible-print&#39; and &#39;hidden-print&#39; to true/false. Sorry English is not my first language, plus I&#39;m dyslexic."}], "answers": [{"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 0, "last_activity_date": 1544006330, "last_edit_date": 1544006330, "creation_date": 1544004637, "answer_id": 53629807, "question_id": 53629602, "link": "https://stackoverflow.com/questions/53629602/check-if-in-mode-visible-print-or-hidden-print-in-angular/53629807#53629807", "title": "Check if in &quot;mode&quot; visible-print or hidden-print in Angular", "body": "<p>Sure there's <a href=\"https://angular.io/api/common/NgClass\" rel=\"nofollow noreferrer\"><strong><code>[ngClass]</code></strong></a> and you can use it like this:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div [ngClass]=\"inPrintMode() ? 'class-a' : 'class-b'\"&gt;\n    Stuff (full width for paper, half for screen)\n  &lt;/div&gt;\n  &lt;div class=\"col-sm-6 hidden-print\"&gt;\n    Other stuff (i don't want to print)\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/angular-sqvuqr?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\"><strong>Working Sample StackBlitz</strong></a> for your ref.</p>\n"}, {"tags": [], "owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "is_accepted": false, "score": 0, "last_activity_date": 1544005165, "last_edit_date": 1544005165, "creation_date": 1544004653, "answer_id": 53629809, "question_id": 53629602, "link": "https://stackoverflow.com/questions/53629602/check-if-in-mode-visible-print-or-hidden-print-in-angular/53629809#53629809", "title": "Check if in &quot;mode&quot; visible-print or hidden-print in Angular", "body": "<p><code>[ngClass]</code> is suitable in your case</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div [ngClass]=\"inPrintMode() == true ? 'col-sm-12' : 'col-sm-6'\"&gt;\n    Stuff (full width for paper, half for screen)\n  &lt;/div&gt;\n  &lt;div [ngClass]=\"col-sm-6 hidden-print\"&gt;\n    Other stuff (i don't want to print)\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10673893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156186326078019/picture?type=large", "display_name": "Johan Amanou", "link": "https://stackoverflow.com/users/10673893/johan-amanou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544012297, "creation_date": 1544004034, "last_edit_date": 1544012297, "question_id": 53629602, "link": "https://stackoverflow.com/questions/53629602/check-if-in-mode-visible-print-or-hidden-print-in-angular", "title": "Check if in &quot;mode&quot; visible-print or hidden-print in Angular", "body": "<p>I have code like</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-sm-12 visible-print\"&gt;\n    Stuff (print in full width)\n  &lt;/div&gt;\n  &lt;div class=\"col-sm-6 hidden-print\"&gt;\n    Stuff (same as above but only half width for screen)\n  &lt;/div&gt;\n  &lt;div class=\"col-sm-6 hidden-print\"&gt;\n    Other stuff (I don't want to print)\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I am looking for is a function that returns true if visible-print and false if hidden-print so I can write. The code in the example is to be considered as Pseudocode</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"{{inPrintMode() ? 'col-sm-12' : 'col-sm-6'}}\"&gt;\n    Stuff (full width for paper, half for screen)\n  &lt;/div&gt;\n  &lt;div class=\"col-sm-6 hidden-print\"&gt;\n    Other stuff (i don't want to print)\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Does this kind of function exist?\nI use bootstrap and Angular</p>\n\n<p><strong>Clarification:</strong>\nI what to style the page in one way for screen/monitor/display and another way when the page is printed on paper. I use class=\"visible-print\" for elements that only should appear on paper, and class=\"hidden-print\" for elements that only should appear on the screen. Elements without these tags appear on both paper and screen.</p>\n\n<p><strong>What I am looking for how to write a function, I have called 'inPrintMode()' in this example, that detects if the user is viewing the page om a screen or if it is being rendered to be printed and returns a boolean.</strong></p>\n\n<p>visible-print and hidden-print is talked about here:\n<a href=\"https://stackoverflow.com/questions/23096766/hide-a-div-in-a-page-and-make-it-visible-only-on-print-bootstrap-3-mvc-5\">Hide a div in a page and make it visible only on print bootstrap 3 MVC 5</a></p>\n\n<p>Thanks in advance for any help.</p>\n"}, {"tags": ["node.js", "typescript", "pm2", "prisma"], "comments": [{"owner": {"reputation": 883, "user_id": 4652445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cbbe00d8ebe0df7c7231d58382129856?s=128&d=identicon&r=PG", "display_name": "Aabid", "link": "https://stackoverflow.com/users/4652445/aabid"}, "edited": false, "score": 0, "creation_date": 1544004524, "post_id": 53629519, "comment_id": 94119034, "body": "Looks like you have syntax error in code, please check your code properly"}, {"owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "reply_to_user": {"reputation": 883, "user_id": 4652445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cbbe00d8ebe0df7c7231d58382129856?s=128&d=identicon&r=PG", "display_name": "Aabid", "link": "https://stackoverflow.com/users/4652445/aabid"}, "edited": false, "score": 0, "creation_date": 1544005004, "post_id": 53629519, "comment_id": 94119319, "body": "@aa I think its an another issue, as its a type script file with .ts extn, the error comes after import &#39;{&#39;."}, {"owner": {"reputation": 883, "user_id": 4652445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cbbe00d8ebe0df7c7231d58382129856?s=128&d=identicon&r=PG", "display_name": "Aabid", "link": "https://stackoverflow.com/users/4652445/aabid"}, "edited": false, "score": 0, "creation_date": 1544005282, "post_id": 53629519, "comment_id": 94119499, "body": "You are getting same error when you are running application without pm2"}, {"owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "reply_to_user": {"reputation": 883, "user_id": 4652445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cbbe00d8ebe0df7c7231d58382129856?s=128&d=identicon&r=PG", "display_name": "Aabid", "link": "https://stackoverflow.com/users/4652445/aabid"}, "edited": false, "score": 0, "creation_date": 1544005535, "post_id": 53629519, "comment_id": 94119650, "body": "I over come the error but ran into another,"}, {"owner": {"reputation": 883, "user_id": 4652445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cbbe00d8ebe0df7c7231d58382129856?s=128&d=identicon&r=PG", "display_name": "Aabid", "link": "https://stackoverflow.com/users/4652445/aabid"}, "edited": false, "score": 0, "creation_date": 1544005996, "post_id": 53629519, "comment_id": 94119901, "body": "ohh you can post here as well :P"}, {"owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "reply_to_user": {"reputation": 883, "user_id": 4652445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cbbe00d8ebe0df7c7231d58382129856?s=128&d=identicon&r=PG", "display_name": "Aabid", "link": "https://stackoverflow.com/users/4652445/aabid"}, "edited": false, "score": 0, "creation_date": 1544012933, "post_id": 53629519, "comment_id": 94124052, "body": "@Aabid I have updated the issue with the code."}, {"owner": {"reputation": 883, "user_id": 4652445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cbbe00d8ebe0df7c7231d58382129856?s=128&d=identicon&r=PG", "display_name": "Aabid", "link": "https://stackoverflow.com/users/4652445/aabid"}, "edited": false, "score": 0, "creation_date": 1544013278, "post_id": 53629519, "comment_id": 94124283, "body": "i don&#39;t have idea about <code>prisma</code> but according to your <code>typescript</code> code is node converted in the <code>javascript</code> thats why you are getting this error."}, {"owner": {"reputation": 20193, "user_id": 1779113, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fbd338a5ff4a8feb86507a4dacddc05b?s=128&d=identicon&r=PG", "display_name": "nburk", "link": "https://stackoverflow.com/users/1779113/nburk"}, "edited": false, "score": 0, "creation_date": 1544027541, "post_id": 53629519, "comment_id": 94133224, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/53632858/typescript-issue-with-export\">TypeScript issue with export</a>"}], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "is_accepted": false, "score": 0, "last_activity_date": 1544163139, "creation_date": 1544163139, "answer_id": 53664216, "question_id": 53629519, "link": "https://stackoverflow.com/questions/53629519/export-not-working-in-ts-file-node-app-deployed-in-pm2/53664216#53664216", "title": "EXPORT not working in ts file node app deployed in pm2", "body": "<p>The issue was the I was not using the complied file(.js) instead i was using the (.ts) file\nand trying to host in node package.</p>\n\n<p>The trick here was to use a typescript compiler and convert the .ts file to .js and everything worked for me.</p>\n\n<p>Note: use tsc in VS code to do the conversion.</p>\n"}], "owner": {"reputation": 100, "user_id": 4840976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f672a67b247332fe8d9e24acd82346b0?s=128&d=identicon&r=PG&f=1", "display_name": "Niks", "link": "https://stackoverflow.com/users/4840976/niks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544163139, "creation_date": 1544003779, "last_edit_date": 1544005621, "question_id": 53629519, "link": "https://stackoverflow.com/questions/53629519/export-not-working-in-ts-file-node-app-deployed-in-pm2", "title": "EXPORT not working in ts file node app deployed in pm2", "body": "<p>I'm having the following error while deploying my application in pm2.\nThis error appears in the Prisma.ts file.</p>\n\n<pre><code>05-12-2018 15:53:34: export interface Query {\n05-12-2018 15:53:34: ^^^^^^\n05-12-2018 15:53:34: \n05-12-2018 15:53:34: SyntaxError: Unexpected token export\n05-12-2018 15:53:34:     at new Script (vm.js:79:7)\n05-12-2018 15:53:34:     at createScript (vm.js:251:10)\n05-12-2018 15:53:34:     at Object.runInThisContext (vm.js:303:10)\n05-12-2018 15:53:34:     at Module._compile (internal/modules/cjs/loader.js:657:28)\n05-12-2018 15:53:34:     at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n05-12-2018 15:53:34:     at Module.load (internal/modules/cjs/loader.js:599:32)\n05-12-2018 15:53:34:     at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n05-12-2018 15:53:34:     at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n05-12-2018 15:53:34:     at Module.require (internal/modules/cjs/loader.js:637:17)\n05-12-2018 15:53:34:     at require (internal/modules/cjs/helpers.js:20:18)\n05-12-2018 15:53:34: /home/user/Publish/PracticeBusiness/src/generated/prisma.ts:6\n</code></pre>\n\n<p>Please help me with this.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "jquery", "typescript"], "comments": [{"owner": {"reputation": 3705, "user_id": 943730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632d9e49243e0ad8a80679c84f1cd3d6?s=128&d=identicon&r=PG", "display_name": "Jonathan Wilson", "link": "https://stackoverflow.com/users/943730/jonathan-wilson"}, "edited": false, "score": 0, "creation_date": 1544003535, "post_id": 53629396, "comment_id": 94118388, "body": "I don&#39;t see a <code>&lt;script&gt;</code> tag for <code>marmite-src\\js\\_store.js</code> in your footer markup.  Where is it?"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1544003578, "post_id": 53629396, "comment_id": 94118415, "body": "What is <code>jquery.once.min.js</code>? Is that adding duplicate <code>$</code> to your window?"}, {"owner": {"reputation": 2042, "user_id": 3433538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoihC.jpg?s=128&g=1", "display_name": "kevinSpaceyIsKeyserS&#246;ze", "link": "https://stackoverflow.com/users/3433538/kevinspaceyiskeysers%c3%b6ze"}, "edited": false, "score": 0, "creation_date": 1544003589, "post_id": 53629396, "comment_id": 94118425, "body": "It does not use typescript its a js file. Typescript is a language which is compiled to javascript"}, {"owner": {"reputation": 1, "user_id": 10748361, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U9SA_1CTv4A/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jLjw-uteAMnb2nTagbJu31HJ6n_Q/mo/photo.jpg?sz=128", "display_name": "ll_drupal8", "link": "https://stackoverflow.com/users/10748361/ll-drupal8"}, "edited": false, "score": 0, "creation_date": 1544004814, "post_id": 53629396, "comment_id": 94119208, "body": "Jonathan Wilson, I don&#39;t see this script too. This is the log of chrome."}, {"owner": {"reputation": 1, "user_id": 10748361, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U9SA_1CTv4A/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jLjw-uteAMnb2nTagbJu31HJ6n_Q/mo/photo.jpg?sz=128", "display_name": "ll_drupal8", "link": "https://stackoverflow.com/users/10748361/ll-drupal8"}, "edited": false, "score": 0, "creation_date": 1544008054, "post_id": 53629396, "comment_id": 94121139, "body": "Thanks  kevinSpaceyIsKeyserS&#246;ze, If is not Typescript, Is it node.js ??"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10748361, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U9SA_1CTv4A/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jLjw-uteAMnb2nTagbJu31HJ6n_Q/mo/photo.jpg?sz=128", "display_name": "ll_drupal8", "link": "https://stackoverflow.com/users/10748361/ll-drupal8"}, "is_accepted": false, "score": 0, "last_activity_date": 1544026666, "creation_date": 1544026666, "answer_id": 53636479, "question_id": 53629396, "link": "https://stackoverflow.com/questions/53629396/is-not-a-function-in-my-script-on-front-jquery-load-in-footer/53636479#53636479", "title": "$ is not a function, in my script on front (jQuery load in footer)", "body": "<p>I found a solution. I replaced $ by JQuery in my js script-fronts.</p>\n"}], "owner": {"reputation": 1, "user_id": 10748361, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U9SA_1CTv4A/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jLjw-uteAMnb2nTagbJu31HJ6n_Q/mo/photo.jpg?sz=128", "display_name": "ll_drupal8", "link": "https://stackoverflow.com/users/10748361/ll-drupal8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544027142, "creation_date": 1544003370, "last_edit_date": 1544027142, "question_id": 53629396, "link": "https://stackoverflow.com/questions/53629396/is-not-a-function-in-my-script-on-front-jquery-load-in-footer", "title": "$ is not a function, in my script on front (jQuery load in footer)", "body": "<p>I have a problem with my <code>js</code> in <code>Drupal 8</code>. I want to use <code>jquery</code> of <em>Drupal 8 core</em>, but I can't because I have this error on chrome : </p>\n\n<pre><code>marmite-src\\js\\_store.js:26 Uncaught TypeError: $ is not a function\n    at Object.3 (marmite-src\\js\\_store.js:26)\n    at s (_prelude.js:1)\n    at _prelude.js:1\n    at Object.8../ScriptMap (marmite-src\\js\\scripts-front.js:3)\n    at s (_prelude.js:1)\n    at e (_prelude.js:1)\n    at _prelude.js:1\n    at _prelude.js:1\n    at _prelude.js:1\n3 @ marmite-src\\js\\_store.js:26\ns @ _prelude.js:1\n(anonymous) @ _prelude.js:1\n8../ScriptMap @ marmite-src\\js\\scripts-front.js:3\ns @ _prelude.js:1\ne @ _prelude.js:1\n(anonymous) @ _prelude.js:1\n(anonymous) @ _prelude.js:1\n(anonymous) @ _prelude.js:1\n</code></pre>\n\n<p>On firefox :</p>\n\n<pre><code>TypeError: $ is not a function[En savoir plus] scripts-front.js:351:11\n        [3]&lt; http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:351:11\n        s http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:1:612\n        s/&lt; http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:1:671\n        [8]&lt; http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:859:14\n        s http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:1:612\n        e http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:1:791\n        &lt;anonyme&gt; http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:1:377\n        &lt;anonyme&gt; http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:1:316\n        &lt;anonyme&gt; http://10.250.140.37/sites/all/themes/acti_main/tpl/js/scripts-front.js:1:2   \n</code></pre>\n\n<p>I load <code>Jquery</code> before my script-front in the footer: </p>\n\n<pre><code>&lt;script src=\"/core/assets/vendor/domready/ready.min.js?v=1.0.8\"&gt;&lt;/script&gt;\n&lt;script src=\"/core/assets/vendor/jquery/jquery.min.js?v=3.2.1\"&gt;&lt;/script&gt;\n&lt;script src=\"/core/assets/vendor/jquery-once/jquery.once.min.js?v=2.2.0\"&gt;&lt;/script&gt;\n&lt;script src=\"/core/misc/drupalSettingsLoader.js?v=8.5.4\"&gt;&lt;/script&gt;\n&lt;script src=\"/core/misc/drupal.js?v=8.5.4\"&gt;&lt;/script&gt;\n&lt;script src=\"/core/misc/drupal.init.js?v=8.5.4\"&gt;&lt;/script&gt;\n&lt;script src=\"/core/misc/progress.js?v=8.5.4\"&gt;&lt;/script&gt;\n&lt;script src=\"/core/misc/ajax.js?v=8.5.4\"&gt;&lt;/script&gt;\n&lt;script src=\"/sites/all/themes/acti_main/tpl/js/vendors.js?v=1.x\"&gt;&lt;/script&gt;\n&lt;script src=\"/sites/all/themes/acti_main/tpl/js/scripts-front.js?v=1.x\"&gt;&lt;/script&gt;\n&lt;script src=\"/sites/all/themes/acti_main/tpl/js/script-tech.js?v=1.x\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I see that the scripts-front.js use Typescript, but I have never used Typescript. You can see the script here : /sites/all/themes/acti_main/tpl/js/scripts-front.js</p>\n\n<p>The file begins :</p>\n\n<pre><code>(function(f){if(typeof exports===\"object\"&amp;&amp;typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&amp;&amp;define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.global = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&amp;&amp;require;if(!u&amp;&amp;a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&amp;&amp;require;for(var o=0;o&lt;r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n</code></pre>\n\n<p>I hope anyone may help me. </p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1544003109, "post_id": 53629121, "comment_id": 94118128, "body": "In your component, get your token from your tokenService, and set a boolean <code>isLogged</code> accordingly. Then in your template, display the menu with <code>*ngIf</code>"}, {"owner": {"reputation": 259, "user_id": 8978302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eae0ce8a34bbede64c2873e69592fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/8978302/artyom"}, "reply_to_user": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1544003229, "post_id": 53629121, "comment_id": 94118219, "body": "Thanks for replying @Florian can you please show it on an example?"}], "answers": [{"tags": [], "owner": {"reputation": 606, "user_id": 7329611, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8WGBQFIL-Yg/AAAAAAAAAAI/AAAAAAAACpg/Tei1OxXfTAg/photo.jpg?sz=128", "display_name": "Severin Klug", "link": "https://stackoverflow.com/users/7329611/severin-klug"}, "is_accepted": false, "score": -1, "last_activity_date": 1544003327, "last_edit_date": 1544003327, "creation_date": 1544003036, "answer_id": 53629295, "question_id": 53629121, "link": "https://stackoverflow.com/questions/53629121/how-to-make-this-nav-bar-display-the-needed-links-when-user-is-signed-in-only-in/53629295#53629295", "title": "How to make this nav-bar display the needed links when user is signed in only in Angular?", "body": "<p>You can use a check if the user is logged in to disable / hide the links completely. This check should be sent by the server to your client and there should be a service which holds the login status to be asked by any component.\nIn your case you can add the structural directive <code>*ngIf=\"user\"</code> inside your tags to check if the user is set and only display the links if it is set.</p>\n\n<pre><code>&lt;li *ngIf=\"user\" class=\"nav-item\"&gt;\n  &lt;a class=\"nav-link\" routerLink=\"/home\" &gt;Item 1&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>If you just want to secure routing, use the AuthGuard.\n<a href=\"https://angular.io/guide/router#canactivate-requiring-authentication\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#canactivate-requiring-authentication</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 8978302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eae0ce8a34bbede64c2873e69592fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/8978302/artyom"}, "edited": false, "score": 0, "creation_date": 1544005110, "post_id": 53629841, "comment_id": 94119393, "body": "Thank you so much. Looks what I needed. I will check it on my complete example and let you know :)  In terms of methods which you said in the above your solution. I used only methods for Bootstrap 4 collapse since didn&#39;t want to use jquery instead."}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "reply_to_user": {"reputation": 259, "user_id": 8978302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eae0ce8a34bbede64c2873e69592fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/8978302/artyom"}, "edited": false, "score": 1, "creation_date": 1544005492, "post_id": 53629841, "comment_id": 94119624, "body": "@Artyom : nothing is wrong to call method on events (such as <code>click</code> in your example, because the method will only be called when event is fired)"}, {"owner": {"reputation": 259, "user_id": 8978302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eae0ce8a34bbede64c2873e69592fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/8978302/artyom"}, "edited": false, "score": 0, "creation_date": 1544128088, "post_id": 53629841, "comment_id": 94176631, "body": "When I include last part of the code in token service it shows red line under this code. Especially under Json and under last ; const payload = Json.parse(window.atob(token.split(&#39;.&#39;)[1]);"}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "reply_to_user": {"reputation": 259, "user_id": 8978302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eae0ce8a34bbede64c2873e69592fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/8978302/artyom"}, "edited": false, "score": 0, "creation_date": 1544136119, "post_id": 53629841, "comment_id": 94179857, "body": "@Artyom : do you have tslint or something activated ? If so, it might be because the line is pretty long, so you can split it. If you have a transcompilation error, copy/paste the error"}], "tags": [], "owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "is_accepted": false, "score": 1, "last_activity_date": 1544005322, "last_edit_date": 1544005322, "creation_date": 1544004728, "answer_id": 53629841, "question_id": 53629121, "link": "https://stackoverflow.com/questions/53629121/how-to-make-this-nav-bar-display-the-needed-links-when-user-is-signed-in-only-in/53629841#53629841", "title": "How to make this nav-bar display the needed links when user is signed in only in Angular?", "body": "<p>1.) you need to avoid calling <code>component's methods</code> inside your <code>html template</code>. An explanation can be found <a href=\"https://blog.appverse.io/why-it-is-a-bad-idea-to-use-methods-in-the-html-templates-with-angular-2-30d49f0d3b16\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>2.) Inside your <code>header-component.ts</code>, inject your service into constructor, add a class property, call your service to get token and set your class property accordingly.</p>\n\n<pre><code>export clas HeaderComponent implements OnInit:\n\n  private isLogged: boolean;\n\nconstructor(private tokenService: TokenService){\n\n  public ngOnInit() { \n    this.isLogged = this.tokenService.GetPayload() !== null; // here, I consider that user is logged if you have a payload, maybe you need to change the condition\n  }\n}\n</code></pre>\n\n<p>3.) Inside your <code>header.component.html</code>, check whether the user is logged or not to display your elements.</p>\n\n<p><code>&lt;div *ngIf=\"isLogged\"&gt;...&lt;/div&gt;</code></p>\n\n<p>4.) Your method GetPayload() should be modified. In case you don't have a token, your code will throw <code>TypeError: Cannot read property data of undefined</code></p>\n\n<pre><code>GetPayload() {\n    const token = this.GetToken();\n    if (!token) {\n      return null;\n    }\n    const payload = Json.parse(window.atob(token.split('.')[1]);\n    return payload.data;\n  }\n</code></pre>\n\n<p><strong>Now that your method GetPayload can return null, be careful when you call the method, ensure that the result is not null before using it.</strong></p>\n"}], "owner": {"reputation": 259, "user_id": 8978302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eae0ce8a34bbede64c2873e69592fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/8978302/artyom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1544005322, "creation_date": 1544002409, "question_id": 53629121, "link": "https://stackoverflow.com/questions/53629121/how-to-make-this-nav-bar-display-the-needed-links-when-user-is-signed-in-only-in", "title": "How to make this nav-bar display the needed links when user is signed in only in Angular?", "body": "<p>I am trying to make the nav bar show sign in and sign up buttons only when user is not signed in and show the message and profile nav items when the user is signed in.</p>\n\n<p>Here is the code:</p>\n\n<p><strong>token service</strong></p>\n\n<pre><code>...\n  SetToken(token) {\n    this.cookieService.set('chat_token', token);\n  }\n\n  GetToken() {\n    return this.cookieService.get('chat_token');\n  }\n\n  DeleteToken() {\n    this.cookieService.delete('chat_token');\n  }\n\n  GetPayload() {\n    const token = this.GetToken();\n    let payload;\n    if (token) {\n      payload = token.split('.')[1];\n      payload = JSON.parse(window.atob(payload));\n    }\n\n    return payload.data;\n  }\n}\n</code></pre>\n\n<p><strong>Authguard service</strong></p>\n\n<pre><code>  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n    const token = this.tokenService.GetToken();\n    if (token) {\n      return true;\n    } else {\n      this.router.navigate(['/']);\n      return false;\n    }\n  }\n}\n</code></pre>\n\n<p><strong>header.ts</strong></p>\n\n<pre><code>  constructor(public nav: HeaderService, private tokenService: TokenService,\n    private router: Router,\n    private usersService: UsersService,\n    private msgService: MessageService\n  ) {\n    this.socket = io('http://localhost:3000');\n  } \n\n  ngOnInit() {\n    this.user = this.tokenService.GetPayload();\n    ...  \n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;nav *ngIf=\"nav.visible\" class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n  &lt;a class=\"navbar-brand\" href=\"#\"&gt;\n    &lt;img src=\"../assets/images/close.png\" class=\"img-fluid\" style=\"width:50px; height:50px\" alt=\"\"&gt;\n  &lt;/a&gt;\n\n  &lt;button class=\"navbar-toggler\" type=\"button\"\n  (click)=\"toggleNavbar()\"&gt;\n&lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n&lt;/button&gt;\n\n\n&lt;div class=\"collapse navbar-collapse\"\n[ngClass]=\"{ 'show': navbarOpen }\"&gt;\n&lt;ul class=\"navbar-nav ml-auto\"&gt;\n\n      &lt;li class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link\" routerLink=\"/home\" &gt;Item 1&lt;/a&gt;\n      &lt;/li&gt;\n\n      &lt;li class=\"nav-item signin\"&gt;\n        &lt;a class=\"nav-link\" routerLink=\"/sign-in\" &gt;Sign in&lt;/a&gt;\n      &lt;/li&gt;\n\n       &lt;li class=\"nav-item signup\"&gt;\n        &lt;a class=\"nav-link\" routerLink=\"/sign-up\" &gt;Sign Up&lt;/a&gt;\n      &lt;/li&gt;\n      &lt;li class=\"nav-item dropdown ml-auto\" appdropdown #r=\"appdropdown\"&gt;\n\n          &lt;a class=\"nav-link dropdown-toggle toolbar-image\" href=\"\" onclick=\"return false;\" id=\"navbarDropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n              &lt;i class=\"material-icons\"&gt;forum&lt;/i&gt;\n            &lt;span&gt;2&lt;/span&gt; \n          &lt;/a&gt;\n          &lt;div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"navbarDropdownMenuLink\"&gt;\n              &lt;div class=\"sidebar-scroll\" id=\"list-group\"&gt;\n            &lt;a class=\"dropdown-item chat\" href=\"#\"&gt;\n\n                        &lt;img src=\"http://emilcarlsson.se/assets/donnapaulsen.png\" class=\"rounded-circle\"&gt;\n                        &lt;div class='message'&gt;\n                        &lt;h3 class=\"d-xs-none username\"&gt;Jessica&lt;/h3&gt;\n                        &lt;p class=\"d-xs-none letter\"&gt;StanIsLove aaaaaaaaaaaaaaaaa.&lt;/p&gt;\n                        &lt;/div&gt;\n                        &lt;p&gt;17m ago&lt;/p&gt;\n                      &lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n        &lt;/li&gt;\n        &lt;li class=\"nav-item dropdown ml-auto\" appdropdown #r=\"appdropdown\"&gt;\n            &lt;a class=\"nav-link dropdown-toggle\" href=\"\" onclick=\"return false;\" id=\"navbarDropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n                &lt;img src=\"http://emilcarlsson.se/assets/donnapaulsen.png\" class=\"rounded-circle profile\"&gt;\n            &lt;/a&gt;\n            &lt;div class=\"dropdown-menu dropdown-menu-right avatar\" aria-labelledby=\"navbarDropdownMenuLink\"&gt;\n                &lt;div class=\"sidebar-scroll\" id=\"list-group\"&gt;\n              &lt;a class=\"dropdown-item chat\" href=\"#\"&gt;\n                  &lt;span class=\"d-xs-none username\"&gt;Profile&lt;/span&gt;  \n                        &lt;/a&gt;\n                        &lt;a class=\"dropdown-item chat\" href=\"#\"&gt;\n                            &lt;span class=\"d-xs-none username\"&gt;Settings&lt;/span&gt;  \n                                  &lt;/a&gt;\n                                  &lt;a class=\"dropdown-item chat\" href=\"#\"&gt;\n                                    &lt;span class=\"d-xs-none username\"&gt;Logout&lt;/span&gt;  \n                                          &lt;/a&gt;\n\n                  &lt;/div&gt;\n              &lt;/div&gt;\n\n\n          &lt;/li&gt;\n\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/nav&gt;\n</code></pre>\n\n<p>I assume I should integrate <strong>this.tokenService.GetPayload()</strong> in HTML and use ng if but not sure if it will work. How can I solve this issue and show sign in and sign up links only for outside users and show the last 2 drop downs only for signed in users?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1544002664, "post_id": 53629051, "comment_id": 94117880, "body": "The best start is to read the documentation."}, {"owner": {"reputation": 31, "user_id": 4510420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685958ff63ec96f705e8c1906d9c65a0?s=128&d=identicon&r=PG&f=1", "display_name": "Tejashri", "link": "https://stackoverflow.com/users/4510420/tejashri"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1544003087, "post_id": 53629051, "comment_id": 94118115, "body": "can you suggest any. I search online but those are bit confusing, I want document related to typescript implementation but I found most documents are related to javascript implementation"}], "owner": {"reputation": 31, "user_id": 4510420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685958ff63ec96f705e8c1906d9c65a0?s=128&d=identicon&r=PG&f=1", "display_name": "Tejashri", "link": "https://stackoverflow.com/users/4510420/tejashri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544003978, "creation_date": 1544002194, "last_edit_date": 1544003978, "question_id": 53629051, "link": "https://stackoverflow.com/questions/53629051/how-i-can-use-protobufjs-in-angular2-typescript-rest-service", "title": "How i can use protobufjs in angular2-Typescript rest service", "body": "<p>I wanted to use protobuf in my rest service call of angular2 with typescript project. I am new to typescript, javascript and angular 2. </p>\n\n<p>Please guide me how protobuf can be used.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1544002253, "post_id": 53629043, "comment_id": 94117634, "body": "Geeze, not sure how long it would have taken me to realize that.  Last thing I looked at."}], "tags": [], "owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "is_accepted": true, "score": 1, "last_activity_date": 1544002174, "creation_date": 1544002174, "answer_id": 53629043, "question_id": 53628984, "link": "https://stackoverflow.com/questions/53628984/pass-argument-to-anonymous-function-in-environment-file-angular/53629043#53629043", "title": "Pass argument to anonymous function in environment file angular", "body": "<p>You used the wrong quotes. A template literal must be delimited by backquotes:</p>\n\n<pre><code>test: (searchTerm: string) =&gt; `http://localhost:7071/api/Customer/SearchCustomerBySearchTerm/${searchTerm}`\n</code></pre>\n"}], "owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 53629043, "answer_count": 1, "score": 1, "last_activity_date": 1544002174, "creation_date": 1544001978, "question_id": 53628984, "link": "https://stackoverflow.com/questions/53628984/pass-argument-to-anonymous-function-in-environment-file-angular", "title": "Pass argument to anonymous function in environment file angular", "body": "<p>I am trying to pass parameters to an anonymous function in my enviornment file, wihch should replace the <code>${}</code> with the parameter passed in, but it is not working as expected, so I must be doing something wrong.</p>\n\n<p>Here is my file:</p>\n\n<pre><code>export const environment = {\n  production: false,\n  endpoints: {\n    customer: {\n      test: (searchTerm: string) =&gt; 'http://localhost:7071/api/Customer/SearchCustomerBySearchTerm/${searchTerm}',\n    },\n  }\n};\n</code></pre>\n\n<p>I call this anonymous function from my service as follow:</p>\n\n<pre><code>const url = environment.endpoints.customer.test('aaa');\n</code></pre>\n\n<p>When I hit the breakpoint in my backend service, the searchTerm passed through is <code>${searchTerm}</code>, and I actually passed in 'aaa'.</p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["typescript", "tslint"], "answers": [{"tags": [], "owner": {"reputation": 1651, "user_id": 1830407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72FXW.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/1830407/josh"}, "is_accepted": true, "score": 2, "last_activity_date": 1544030319, "creation_date": 1544030319, "answer_id": 53637566, "question_id": 53628950, "link": "https://stackoverflow.com/questions/53628950/sharing-ast-between-tsc-and-tslint/53637566#53637566", "title": "Sharing ast between tsc and tslint", "body": "<p>Yes, what you're thinking of is now doable in TypeScript as a <a href=\"https://github.com/Microsoft/TypeScript/wiki/Writing-a-Language-Service-Plugin\" rel=\"nofollow noreferrer\">Language Service Plugin</a>. See <a href=\"https://github.com/Microsoft/typescript-tslint-plugin\" rel=\"nofollow noreferrer\">typescript-tslint-plugin</a> for the TypeScript language service plugin for TSLint.</p>\n"}], "owner": {"reputation": 5905, "user_id": 451492, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fdf65c922a011afa1e050031a8895c85?s=128&d=identicon&r=PG", "display_name": "doberkofler", "link": "https://stackoverflow.com/users/451492/doberkofler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 53637566, "answer_count": 1, "score": 0, "last_activity_date": 1544030319, "creation_date": 1544001851, "question_id": 53628950, "link": "https://stackoverflow.com/questions/53628950/sharing-ast-between-tsc-and-tslint", "title": "Sharing ast between tsc and tslint", "body": "<p>Is there a way to share the compiled AST between tsc and tslint or in other words can I integrate tslint in tsc? I'm strictly interested in the linting and type checking and not code generation itself.</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui", "react-admin"], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 9856857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gu7gd.png?s=128&g=1", "display_name": "Soroosh Khodami", "link": "https://stackoverflow.com/users/9856857/soroosh-khodami"}, "edited": false, "score": 0, "creation_date": 1544025321, "post_id": 53629463, "comment_id": 94131902, "body": "thank you Gildas, here is the documentation broken link : <a href=\"https://screenshots.firefox.com/wWJf75LYVuksV4z1/marmelab.com\" rel=\"nofollow noreferrer\">screenshots.firefox.com/wWJf75LYVuksV4z1/marmelab.com</a> i will put it on repo too."}], "tags": [], "owner": {"reputation": 5792, "user_id": 6908463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e53a03ab6564731d6a976123ffc676fe?s=128&d=identicon&r=PG", "display_name": "Gildas Garcia", "link": "https://stackoverflow.com/users/6908463/gildas-garcia"}, "is_accepted": true, "score": 1, "last_activity_date": 1544003597, "creation_date": 1544003597, "answer_id": 53629463, "question_id": 53628794, "link": "https://stackoverflow.com/questions/53628794/react-admin-layout-component-from-scratch/53629463#53629463", "title": "React Admin Layout Component From Scratch", "body": "<p>I see nothing wrong with this code sample. This is indeed the way to go to customize the Layout. Do you have any issue with it ?</p>\n\n<p>Can you open an issue on the react-admin repository about the documentation broken link ?</p>\n"}], "owner": {"reputation": 374, "user_id": 9856857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gu7gd.png?s=128&g=1", "display_name": "Soroosh Khodami", "link": "https://stackoverflow.com/users/9856857/soroosh-khodami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 53629463, "answer_count": 1, "score": 1, "last_activity_date": 1544003597, "creation_date": 1544001322, "question_id": 53628794, "link": "https://stackoverflow.com/questions/53628794/react-admin-layout-component-from-scratch", "title": "React Admin Layout Component From Scratch", "body": "<p>I want to implement a customized Layout for react-admin. I've tried to use their documentation '<a href=\"https://marmelab.com/react-admin/Theming.html#using-a-custom-layout\" rel=\"nofollow noreferrer\">https://marmelab.com/react-admin/Theming.html#using-a-custom-layout</a>'\nBut it didn't work well ( for example we didn't have <code>theme</code> in our component). There is a broken link in the documentation that says you can use it for customizing :(.</p>\n\n<p>I've implemented something right now that works fine right now but I don't know would work completely without problem/side-effects till the end of the project.</p>\n\n<pre><code>import * as React from 'react'\nimport { MuiThemeProvider, withStyles, createStyles} from '@material-ui/core/styles'\nimport appTheme from '../config/Theme'\nimport AppBar from './AppBar'\nimport Navbar from './Navbar'\n\nconst styles = (theme: any) =&gt; createStyles({\n  appFrame: {\n    display: 'flex',\n    flexDirection: 'column',\n    overflowX: 'auto',\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 2,\n    marginTop: '4em',\n    padding: theme.spacing.unit * 3,\n    paddingLeft: 5,\n  },\n  contentNoSidebar: {\n    display: 'flex',\n    flexGrow: 1,\n  },\n  root: {\n    backgroundColor: theme.palette.background.default,\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    position: 'relative',\n    zIndex: 1,\n  },\n})\n\nclass CustomLayout extends React.Component&lt;any, any&gt; {\n  public render () {\n    const {\n      children,\n      classes,\n      logout,\n      open,\n      title,\n    } = this.props\n    return (\n      &lt;MuiThemeProvider theme={appTheme}&gt;\n        &lt;div className={classes.root}&gt;\n          &lt;div className={classes.appFrame}&gt;\n            &lt;AppBar title={title} open={open} logout={logout} /&gt;\n            &lt;Navbar/&gt;\n            &lt;main className={classes.contentNoSidebar}&gt;\n                &lt;div className={classes.content}&gt;\n                    {children}\n                &lt;/div&gt;\n            &lt;/main&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/MuiThemeProvider&gt;\n    )\n  }\n}\nexport default withStyles(styles)(CustomLayout)\n</code></pre>\n\n<p>I appreciate if you could help me in this case. </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "is_accepted": true, "score": 0, "last_activity_date": 1544002864, "creation_date": 1544002864, "answer_id": 53629237, "question_id": 53628753, "link": "https://stackoverflow.com/questions/53628753/how-to-init-type-interface/53629237#53629237", "title": "How to init type interface?", "body": "<p>The <code>new</code> keyword in an type defines that the type should have a constructor matching that signature. Therefore, <code>WebSocketCtor</code> needs to be an object with a constructor that takes a <code>string</code> and an optional <code>string | string[]</code>, and returns a <code>WebSocket</code> object. An object that fits this bill is the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/WebSocket\" rel=\"nofollow noreferrer\"><code>WebSocket</code></a> class/constructor itself!</p>\n\n<pre><code>protected getWebsocketConfig(url:string) : WebSocketSubjectConfig&lt;any&gt;{\n    return {\n                url: url,\n                WebSocketCtor: WebSocket,\n                openObserver: {\n                    next: (_e: Event) =&gt; {\n                        console.log(\"Websocket is open!!!!\");\n                        console.dir(_e);\n                    }\n                },\n                closeObserver: {\n                    next: (_e: CloseEvent) =&gt; {\n                        console.log(\"Websocket is close !!!!\")\n                    }\n                },\n           };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "is_accepted": false, "score": 0, "last_activity_date": 1544002891, "creation_date": 1544002891, "answer_id": 53629248, "question_id": 53628753, "link": "https://stackoverflow.com/questions/53628753/how-to-init-type-interface/53629248#53629248", "title": "How to init type interface?", "body": "<p>Use this:</p>\n\n<pre><code>protected getWebsocketConfig(url: string): WebSocketSubjectConfig&lt;any&gt; {\n        return {\n            url: url,\n            WebSocketCtor: WebSocket, // &lt;-- this\n            openObserver: {\n                next: (_e: Event) =&gt; {\n                    console.log(\"Websocket is open!!!!\");\n                    console.dir(_e);\n                }\n            },\n            closeObserver: {\n                next: (_e: CloseEvent) =&gt; {\n                    console.log(\"Websocket is close !!!!\")\n                }\n            },\n        };\n    }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5584027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3f89d873c55c8c1f8476404b16f3264?s=128&d=identicon&r=PG&f=1", "display_name": "Yuji", "link": "https://stackoverflow.com/users/5584027/yuji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 53629237, "answer_count": 2, "score": 1, "last_activity_date": 1544002891, "creation_date": 1544001197, "last_edit_date": 1544002052, "question_id": 53628753, "link": "https://stackoverflow.com/questions/53628753/how-to-init-type-interface", "title": "How to init type interface?", "body": "<p>I'm new of Typescript.\nnow facing the difficult problem for me.</p>\n\n<p>I want to init Typescript interface field of WebSocketSubjectConfig's \u300cWebSocketCtor\u300d field in Rxjs , but i don't know how to do it.</p>\n\n<p>my developing environment is <br/>\nnpm     = \u300c5.6.0\u300d <br/>\nnode    = \u300c8.11.1\u300d<br/>\nAngular = \u300c6.0.3\u300d <br/>\nrxjs    = \u300c6.2.0\u300d <br/></p>\n\n<p>below is my code</p>\n\n<pre><code>/** setting of websocket */\nprotected getWebsocketConfig(url:string) : WebSocketSubjectConfig&lt;any&gt;{\n    return {\n                url: url,\n                /*\n                I can't init this field. how to init ?\n                WebSocketCtor: {\n                    WebSocket:new WebSocket(url);\n                },\n                */\n                openObserver: {\n                    next: (_e: Event) =&gt; {\n                        console.log(\"Websocket is open!!!!\");\n                        console.dir(_e);\n                    }\n                },\n                closeObserver: {\n                    next: (_e: CloseEvent) =&gt; {\n                        console.log(\"Websocket is close !!!!\")\n                    }\n                },\n           };\n}\n</code></pre>\n\n<p>I thought WebSocketSubject's unsubscribe method close websocket connection.\nbut It's look like don't work.\nI think if close the websocket connection ,  need to implement the \u300cWebsocketCtor\u300d and call the Websocket's close method.</p>\n\n<p>the WebSocketSubjectConfig interface is below </p>\n\n<pre>\nexport interface WebSocketSubjectConfig {\n    \u30fb\u30fb\u30fb\n    openObserver?: NextObserver;\n    closeObserver?: NextObserver;\n    WebSocketCtor?: {\n        new (url: string, protocols?: string | string[]): WebSocket;\n    };\n}\n</pre>\n\n<p>thanks for your cooperation.</p>\n"}, {"tags": ["angular", "html", "typescript", "angular6"], "comments": [{"owner": {"reputation": 397, "user_id": 4479048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xBJ0V-jvwus/AAAAAAAAAAI/AAAAAAAAAXQ/wOOsIdn4h1Y/photo.jpg?sz=128", "display_name": "jakubm", "link": "https://stackoverflow.com/users/4479048/jakubm"}, "edited": false, "score": 0, "creation_date": 1544043238, "post_id": 53628745, "comment_id": 94140601, "body": "Did you check if it is working without ng2FileSelect directive  ?"}, {"owner": {"reputation": 514, "user_id": 8499517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726b2880de5671d17a760ee366bd4584?s=128&d=identicon&r=PG&f=1", "display_name": "thedbogh", "link": "https://stackoverflow.com/users/8499517/thedbogh"}, "reply_to_user": {"reputation": 397, "user_id": 4479048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xBJ0V-jvwus/AAAAAAAAAAI/AAAAAAAAAXQ/wOOsIdn4h1Y/photo.jpg?sz=128", "display_name": "jakubm", "link": "https://stackoverflow.com/users/4479048/jakubm"}, "edited": false, "score": 0, "creation_date": 1544260736, "post_id": 53628745, "comment_id": 94219438, "body": "@jakubm Sorry for my late response, I didn&#39;t notice your answer. When I remove <code>ng2FileSelect</code> form my HTML I get <code>Error: Template parse errors: Can&#39;t bind to &#39;uploader&#39; since it isn&#39;t a known property of &#39;input&#39;. (&quot;               &lt;input type=&quot;file&quot; name=&quot;fileUplaod&quot; id=&quot;fileUpload&quot;                       multiple  [ERROR -&gt;][uploader]=&quot;this.UploaderService.uploader&quot; &gt;                   &lt;&#47;div&gt;   &lt;&#47;label&gt; &quot;): ng:&#47;&#47;&#47;AppModule&#47;NavbarComponent.html@197:32</code>. Do you have any other ideas?"}, {"owner": {"reputation": 397, "user_id": 4479048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xBJ0V-jvwus/AAAAAAAAAAI/AAAAAAAAAXQ/wOOsIdn4h1Y/photo.jpg?sz=128", "display_name": "jakubm", "link": "https://stackoverflow.com/users/4479048/jakubm"}, "edited": false, "score": 0, "creation_date": 1544267779, "post_id": 53628745, "comment_id": 94220952, "body": "You got this error becasue uploader is directive from ng2FileSelect to remove this error you need to remove it too. I just want to check if it will work without ng2FileSelect directive"}, {"owner": {"reputation": 514, "user_id": 8499517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726b2880de5671d17a760ee366bd4584?s=128&d=identicon&r=PG&f=1", "display_name": "thedbogh", "link": "https://stackoverflow.com/users/8499517/thedbogh"}, "reply_to_user": {"reputation": 397, "user_id": 4479048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xBJ0V-jvwus/AAAAAAAAAAI/AAAAAAAAAXQ/wOOsIdn4h1Y/photo.jpg?sz=128", "display_name": "jakubm", "link": "https://stackoverflow.com/users/4479048/jakubm"}, "edited": false, "score": 0, "creation_date": 1544270951, "post_id": 53628745, "comment_id": 94221668, "body": "@jakubm So what can I do now?"}, {"owner": {"reputation": 397, "user_id": 4479048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xBJ0V-jvwus/AAAAAAAAAAI/AAAAAAAAAXQ/wOOsIdn4h1Y/photo.jpg?sz=128", "display_name": "jakubm", "link": "https://stackoverflow.com/users/4479048/jakubm"}, "edited": false, "score": 0, "creation_date": 1544303631, "post_id": 53628745, "comment_id": 94230454, "body": "I suggest to first remove all things related to ng2FileSelect and then see if it is still not working. The best thing would be to prepare <a href=\"https://stackoverflow.com/help/mcve\">MCVe</a>"}, {"owner": {"reputation": 514, "user_id": 8499517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726b2880de5671d17a760ee366bd4584?s=128&d=identicon&r=PG&f=1", "display_name": "thedbogh", "link": "https://stackoverflow.com/users/8499517/thedbogh"}, "reply_to_user": {"reputation": 397, "user_id": 4479048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xBJ0V-jvwus/AAAAAAAAAAI/AAAAAAAAAXQ/wOOsIdn4h1Y/photo.jpg?sz=128", "display_name": "jakubm", "link": "https://stackoverflow.com/users/4479048/jakubm"}, "edited": false, "score": 0, "creation_date": 1544357673, "post_id": 53628745, "comment_id": 94240010, "body": "@jakubm When I remove <code>multiple ng2FileSelect [uploader]=&quot;this.UploaderService.uploader&quot;</code> uploading doesn&#39;t work however after clicking upload button there is displayed finder file selector. However when I try to execute it from the typescript as shown above it even doesn&#39;t display file selector window. Do you have any other suggestions?"}], "owner": {"reputation": 514, "user_id": 8499517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726b2880de5671d17a760ee366bd4584?s=128&d=identicon&r=PG&f=1", "display_name": "thedbogh", "link": "https://stackoverflow.com/users/8499517/thedbogh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544001176, "creation_date": 1544001176, "question_id": 53628745, "link": "https://stackoverflow.com/questions/53628745/why-triggering-and-simulation-of-button-clicking-from-typescript-code-in-html-do", "title": "Why triggering and simulation of button clicking from typescript code in html doesn&#39;t work?", "body": "<p>I have a button component in my <code>navbar.component.html</code> as shown below. I would like to simulate and trigger clicking in button <code>Upload</code> from <code>navbar.component.ts file</code>. When I click <code>Upload</code> button it automatically opens file selector for instance on my mac it is finder. \nThen I select the file and it is uploaded to the backend. I want to achieve the same action but using typescript code. So I just want to simulate as the user would click Upload button what will cause opening file selector and then all other activities will be the same as he would click button. Any ideas why it is not working? I did everything as was shown <a href=\"https://dev.to/gloriamaris/how-to-programmatically-trigger-click-event-in-angular-4--3i6a\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>In navbar.component.ts:</p>\n\n<pre><code>      event.preventDefault();\n      let element: HTMLElement = document.getElementById('trigger') as HTMLElement;\n      element.click()\n</code></pre>\n\n<p>I tried also:</p>\n\n<pre><code>  @ViewChild('myTrigger') myTrigger: ElementRef;\n\nthis.myTrigger.nativeElement.click();\n              let el: HTMLElement = this.myTrigger.nativeElement as HTMLElement;\n              el.click();\n</code></pre>\n\n<p>uploadFile():</p>\n\n<pre><code>uploadFile(){\n\n    this.UploaderService.uploader = new FileUploader({url: URL + localStorage.getItem('current_path') + '/', autoUpload: true , itemAlias: 'file', authToken: 'token ' + localStorage.getItem('userToken')});\n\n\n\n    this.UploaderService.uploader.onCompleteItem = (item:any, response:any , status:any, headers:any) =&gt; {\n\n            this.UploaderService.displayAllFiles();\n            this.ExecuteWhenSidebarClose();\n        }\n\n                this.UploaderService.uploader.onBeforeUploadItem = (item) =&gt; {\n        item.withCredentials = false;\n}\n\n\nthis.UploaderService.uploader.onAfterAddingFile = (item) =&gt; {\n  // item.method = \"PUT\";\n  item.withCredentials = false;\n}\n\n}\n</code></pre>\n\n<p>In navbar.component.html:</p>\n\n<pre><code>&lt;li class='nav-item sidebar-false-upload' *ngIf=\"isCloud() &amp;&amp; !sidebarVisible\"&gt;\n  &lt;label #myTrigger id=\"trigger\" (click)=\"this.uploadFile()\" data-toggle=\"collapse\" aria-controls=\"navbarToggler\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"\n    class=\"pretty-file nav-link\"&gt;\n    &lt;i class=\"nc-icon nc-cloud\"&gt;&lt;/i&gt;Upload\n\n    &lt;div id=\"fileSelector\"&gt;\n      &lt;input type=\"file\" name=\"fileUplaod\" id=\"fileUpload\" multiple ng2FileSelect [uploader]=\"this.UploaderService.uploader\"&gt;\n    &lt;/div&gt;\n  &lt;/label&gt;\n&lt;/li&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-route-guards"], "comments": [{"owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "edited": false, "score": 0, "creation_date": 1544001248, "post_id": 53628698, "comment_id": 94117098, "body": "with localStorage this should be done. What did you tried till now post it here with question.."}, {"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "reply_to_user": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "edited": false, "score": 0, "creation_date": 1544008558, "post_id": 53628698, "comment_id": 94121426, "body": "@ganesh045 i have updated my question"}, {"owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "edited": false, "score": 1, "creation_date": 1544011704, "post_id": 53628698, "comment_id": 94123325, "body": "where you are setting the currentUser to <code>localStorage</code>. I think you need to check there too..."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 9006177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4441ad79f68b69270e7e332f93bbf946?s=128&d=identicon&r=PG&f=1", "display_name": "Zion", "link": "https://stackoverflow.com/users/9006177/zion"}, "is_accepted": false, "score": 0, "last_activity_date": 1544011916, "creation_date": 1544011916, "answer_id": 53632050, "question_id": 53628698, "link": "https://stackoverflow.com/questions/53628698/if-first-user-already-login-how-to-prevent-second-user-login-on-another-tab/53632050#53632050", "title": "if first user already login, how to prevent second user login on another tab", "body": "<p>For your requirement, you should have a variable stored in localStorage like:</p>\n\n<pre><code>totalUsers: number =0;\nlocalStorage.setItem('totalUsersCount', totalUsers);\n</code></pre>\n\n<p><br>\nIncrement totalUsers everytime a successful login happens. Decrement / clear it when log out happens.\nSo, on login, check if the localstorage value is equal to zero. If so, allow login. Else, throw an error.</p>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "edited": false, "score": 0, "creation_date": 1544073681, "post_id": 53632183, "comment_id": 94148882, "body": "Im try to check if there any user already logged in as you stated above, but it didnt solve the problem @ganesh045"}, {"owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "reply_to_user": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "edited": false, "score": 0, "creation_date": 1544079875, "post_id": 53632183, "comment_id": 94150841, "body": "where your calling this <code>isUserAuthenticated()</code>  method. try to call this method after immediately once user authenticated."}, {"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "edited": false, "score": 0, "creation_date": 1544170172, "post_id": 53632183, "comment_id": 94188723, "body": "try implemented it as you stated above and solved it, thanks ! @ganesh045"}], "tags": [], "owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "is_accepted": true, "score": 1, "last_activity_date": 1544012335, "creation_date": 1544012335, "answer_id": 53632183, "question_id": 53628698, "link": "https://stackoverflow.com/questions/53628698/if-first-user-already-login-how-to-prevent-second-user-login-on-another-tab/53632183#53632183", "title": "if first user already login, how to prevent second user login on another tab", "body": "<p>when you are setting the data to <code>localStorage</code> we need to check is there any user already in logged in.</p>\n\n<pre><code>isUserAuthenticated(): boolean {\n  if(localStorage.getItem(currentUser) != null)    \n       return true;\n  else {\n     localStorage.setItem('currentUser',user);\n       return false;\n    }\n  }\n</code></pre>\n\n<p>i think this will solve your issue :)</p>\n"}], "owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1757, "favorite_count": 1, "accepted_answer_id": 53632183, "answer_count": 2, "score": 1, "last_activity_date": 1544012335, "creation_date": 1544001008, "last_edit_date": 1544008481, "question_id": 53628698, "link": "https://stackoverflow.com/questions/53628698/if-first-user-already-login-how-to-prevent-second-user-login-on-another-tab", "title": "if first user already login, how to prevent second user login on another tab", "body": "<p>I am trying to prevent multiple simultaneous logins where if first user already login, it will prevent second user from login on another tab, i need advice on what should I need to do, based on google, i can use localstorage and authguard, and had  implemented both but not solve the problem,  </p>\n\n<p><strong>authentication.service.ts</strong></p>\n\n<pre><code>isUserAuthenticated(): boolean {\n    const user = localStorage.getItem(appConstant.currentUser);\n    return user != null;\n}\n</code></pre>\n\n<p><strong>login.component.ts</strong></p>\n\n<pre><code>ngOnInit(): void {\nif (this.authenService.isUserAuthenticated()) {\n  this.router.navigate([UrlConstants.UserSetting])\n }\n}\n</code></pre>\n\n<p>when first user already login, open the second tab by paste login Url, it work, login will redirect to user setting, but when login page have been ready for both tab, when the first user login, the second user also can login using different account. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "edited": false, "score": 1, "creation_date": 1544000904, "post_id": 53628317, "comment_id": 94116914, "body": "The library you linked doesn&#39;t seem to support that option - only programmable buttons that you give to the modal can you get back as a result.."}, {"owner": {"reputation": 1149, "user_id": 7541317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eGaI.jpg?s=128&g=1", "display_name": "Farhat Zaman", "link": "https://stackoverflow.com/users/7541317/farhat-zaman"}, "edited": false, "score": 0, "creation_date": 1544001374, "post_id": 53628317, "comment_id": 94117162, "body": "can you explain in which format you are expecting result of modal. may be after seeing an example, we find more accurate solution."}, {"owner": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "reply_to_user": {"reputation": 1149, "user_id": 7541317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eGaI.jpg?s=128&g=1", "display_name": "Farhat Zaman", "link": "https://stackoverflow.com/users/7541317/farhat-zaman"}, "edited": false, "score": 0, "creation_date": 1544001517, "post_id": 53628317, "comment_id": 94117236, "body": "i just want to be able to access what was typed into the input field that i put into the modal. i want to use that value in the if block at the bottom of the code @FarhatZaman"}], "owner": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1607822901, "creation_date": 1543999659, "last_edit_date": 1607822901, "question_id": 53628317, "link": "https://stackoverflow.com/questions/53628317/get-value-from-input-on-modal-box-using-external-library", "title": "Get value from input on modal box using external library", "body": "<p>I am using a built in modal popup from <a href=\"https://docs.dhtmlx.com/gantt/desktop__message_boxes.html#modalbox\" rel=\"nofollow noreferrer\">this</a> library.</p>\n<p>I've placed an input field in the modal, and I would like to get the value of that field on click of the ok button. Here's what my code looks like:</p>\n<pre><code>    gantt.modalbox({\n      title: 'Rename',\n      text: `&lt;input type=&quot;text&quot; #rename&gt;`,\n      buttons: [\n        { label: 'Ok', value: 'ok' }\n      ],\n      callback: result =&gt; {\n        // if 'ok' is clicked\n        if (result === 'ok') {\n          // get value from input here\n        }\n      }\n    });\n</code></pre>\n<p>I've tried using a element ref but I wasn't able to get that working. Can anyone suggest a way to get the value from the input in the modal that I dynamically created?</p>\n<pre><code>text: `&lt;input type=&quot;text&quot; #rename&gt;`\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-extensions"], "owner": {"reputation": 21, "user_id": 10743869, "user_type": "registered", "profile_image": "https://graph.facebook.com/582549205503614/picture?type=large", "display_name": "Burak &#214;z&#231;elik", "link": "https://stackoverflow.com/users/10743869/burak-%c3%96z%c3%a7elik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545859833, "creation_date": 1543999515, "last_edit_date": 1545859833, "question_id": 53628274, "link": "https://stackoverflow.com/questions/53628274/adding-main-class-from-a-jar-folder", "title": "Adding main class from a .jar folder", "body": "<p>I want to create an Extension which will parse language(which is written with my grammar) and find it's faults. </p>\n\n<p>so I create my main class in Server and import it in VSCode. <strong>How can I access my main class from Client?</strong> </p>\n\n<p>this is my launch.json:</p>\n\n<pre><code>    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"java\",\n            \"name\": \"Debug (Launch) with Arguments Prompt\",\n            \"request\": \"launch\",\n            \"cwd\": \"${workspaceFolder}\",\n            \"console\": \"internalConsole\",\n            \"stopOnEntry\": false,\n            \"mainClass\": \"\",\n            \"args\": \"${command:SpecifyProgramArgs}\"\n        },\n        {\n            \"type\": \"node\",\n            \"request\": \"attach\",\n            \"protocol\": \"legacy\",\n            \"name\": \"Attach\",\n            \"port\": 9229\n        },\n\n\n    ]\n}\n</code></pre>\n\n<p>my main class path --->>>  /Desktop/intellijden eclipse-->VScode/vscode-languageserver-java-example/Server/app.class</p>\n\n<p>but my server in .jar.</p>\n"}, {"tags": ["html", "typescript", "bootstrap-4"], "comments": [{"owner": {"reputation": 599, "user_id": 10424373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/563d0594b78b6fdfa98b0ee1e0c5ffa3?s=128&d=identicon&r=PG&f=1", "display_name": "J.vee", "link": "https://stackoverflow.com/users/10424373/j-vee"}, "edited": false, "score": 0, "creation_date": 1543998178, "post_id": 53627819, "comment_id": 94115598, "body": "Can you also post the code that handles the button request?"}, {"owner": {"reputation": 599, "user_id": 10424373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/563d0594b78b6fdfa98b0ee1e0c5ffa3?s=128&d=identicon&r=PG&f=1", "display_name": "J.vee", "link": "https://stackoverflow.com/users/10424373/j-vee"}, "edited": false, "score": 0, "creation_date": 1543998548, "post_id": 53627819, "comment_id": 94115791, "body": "maybe this post will help you  <a href=\"https://stackoverflow.com/a/21853555/10424373\">POST</a>"}, {"owner": {"reputation": 3705, "user_id": 943730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632d9e49243e0ad8a80679c84f1cd3d6?s=128&d=identicon&r=PG", "display_name": "Jonathan Wilson", "link": "https://stackoverflow.com/users/943730/jonathan-wilson"}, "edited": false, "score": 0, "creation_date": 1543998953, "post_id": 53627819, "comment_id": 94115989, "body": "Your snippet throws an exception: <code>&quot;Uncaught SyntaxError: Unexpected token {&quot;</code>"}, {"owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "reply_to_user": {"reputation": 3705, "user_id": 943730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632d9e49243e0ad8a80679c84f1cd3d6?s=128&d=identicon&r=PG", "display_name": "Jonathan Wilson", "link": "https://stackoverflow.com/users/943730/jonathan-wilson"}, "edited": false, "score": 0, "creation_date": 1543999061, "post_id": 53627819, "comment_id": 94116033, "body": "@JonathanWilson have you tried it in an angular app ? I am working in angular."}, {"owner": {"reputation": 3705, "user_id": 943730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632d9e49243e0ad8a80679c84f1cd3d6?s=128&d=identicon&r=PG", "display_name": "Jonathan Wilson", "link": "https://stackoverflow.com/users/943730/jonathan-wilson"}, "edited": false, "score": 0, "creation_date": 1543999388, "post_id": 53627819, "comment_id": 94116193, "body": "I&#39;m not about to go create an angular app so that I can run your snippet.  That is your responsibility.  Truly, it&#39;s the least you can do if you expect help with your issue.  Plus, it&#39;s very possible that as you construct a simple (and runnable) demo of your issue, you discover the cause yourself.   What could be better than that? <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 3705, "user_id": 943730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632d9e49243e0ad8a80679c84f1cd3d6?s=128&d=identicon&r=PG", "display_name": "Jonathan Wilson", "link": "https://stackoverflow.com/users/943730/jonathan-wilson"}, "edited": false, "score": 0, "creation_date": 1543999781, "post_id": 53627819, "comment_id": 94116380, "body": "This may also help you when asking questions in the future: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "edited": false, "score": 0, "creation_date": 1544002275, "post_id": 53627819, "comment_id": 94117644, "body": "I didn&#39;t asked  you to create an angular app to solve it. It has to do something with bootstrap, not angular."}, {"owner": {"reputation": 3641, "user_id": 1832568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1c4a001ac1d10e8b7fa6238b7122073?s=128&d=identicon&r=PG", "display_name": "Fred Gandt", "link": "https://stackoverflow.com/users/1832568/fred-gandt"}, "edited": false, "score": 0, "creation_date": 1544003979, "post_id": 53627819, "comment_id": 94118689, "body": "If by &quot;Solved&quot; and a link you mean you have answered your own question, please add a full answer to assist others facing a similar issue and importantly to stop the question showing in searches as unanswered."}], "answers": [{"tags": [], "owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "is_accepted": true, "score": 0, "last_activity_date": 1544004199, "creation_date": 1544004199, "answer_id": 53629655, "question_id": 53627819, "link": "https://stackoverflow.com/questions/53627819/drop-down-link-requires-more-than-one-click-to-open-the-pop-up/53629655#53629655", "title": "Drop-down link requires more than one click to open the pop up", "body": "<p>So i have removed the data-toggle='dropdown' and it started working. Please follow this link for more information.</p>\n\n<p><a href=\"https://github.com/angular-ui/bootstrap/issues/2294\" rel=\"nofollow noreferrer\">https://github.com/angular-ui/bootstrap/issues/2294</a></p>\n"}], "owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 53629655, "answer_count": 1, "score": 0, "last_activity_date": 1544004199, "creation_date": 1543997595, "last_edit_date": 1544002010, "question_id": 53627819, "link": "https://stackoverflow.com/questions/53627819/drop-down-link-requires-more-than-one-click-to-open-the-pop-up", "title": "Drop-down link requires more than one click to open the pop up", "body": "<p>I have placed my user action links in a drop-down and it is supposed to open a pop-up form or dialog depending upon the link to be clicked. I am using bootstrap 4.</p>\n\n<p><strong>Here is my code:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>findUser($) {\r\n        this.user.getById($.target.id).subscribe(res =&gt; {\r\n            if (res.success === true) { this.isEdit = true; this.singleUser = res.data[0]; console.log('editable', this.singleUser) }\r\n            else {\r\n                this.toastr.error('An Error Occured, Please Try Again.', '', {\r\n                    timeOut: 3000,\r\n                    positionClass: 'toast-top-center'\r\n                });\r\n            }\r\n        })\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;td&gt;\r\n  &lt;div class=\"dropdown\"&gt;\r\n    &lt;button class=\"btn btn-info dropdown-toggle\" aria-haspopup=\"true\" aria-haspopup=\"true\" type=\"button\" data-toggle=\"dropdown\"&gt;Action\r\n    &lt;span class=\"caret\"&gt;&lt;/span&gt;&lt;/button&gt;\r\n    &lt;ul class=\"dropdown-menu\"&gt;\r\n      &lt;li&gt;&lt;a id='{{item._id}}' (click)='findUser($event)' data-toggle=\"modal\" data-target=\"#m_modal_5\"&gt;Edit&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li&gt;&lt;a id=\"{{item._id}}\" (click)='deleteUser($event)'&gt;Delete&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/div&gt;\r\n&lt;/td&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Can anyone tell what is the issue? I have tried google but those solutions did not work.</p>\n\n<p><strong>Solved:</strong> \n<a href=\"https://github.com/angular-ui/bootstrap/issues/2294\" rel=\"nofollow noreferrer\">https://github.com/angular-ui/bootstrap/issues/2294</a></p>\n"}, {"tags": ["angular", "typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 7616443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jfQ6C.jpg?s=128&g=1", "display_name": "Zenas Chen", "link": "https://stackoverflow.com/users/7616443/zenas-chen"}, "edited": false, "score": 1, "creation_date": 1552971654, "post_id": 55221421, "comment_id": 97201497, "body": "Years passed and I finally got an answer lol. I think the answer makes sense so I accept it, but I&#39;m not currently working on that project and I&#39;m too busy to verify it. It just comes to my mind that Firefox doesn&#39;t natively support <code>event.data</code> in <code>InputEvent</code>. Does that package provide the deserved behaviors for Firefox?"}, {"owner": {"reputation": 1748, "user_id": 842768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tbDu.jpg?s=128&g=1", "display_name": "giovannipds", "link": "https://stackoverflow.com/users/842768/giovannipds"}, "edited": false, "score": 0, "creation_date": 1606334556, "post_id": 55221421, "comment_id": 114936610, "body": "My case is different than yours and I just can&#39;t get it working... =/"}], "tags": [], "owner": {"reputation": 3308, "user_id": 26391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8571d8dbedf76467258e3cd17f989a9e?s=128&d=identicon&r=PG", "display_name": "Dan C.", "link": "https://stackoverflow.com/users/26391/dan-c"}, "is_accepted": true, "score": 7, "last_activity_date": 1552912108, "creation_date": 1552912108, "answer_id": 55221421, "question_id": 53627762, "link": "https://stackoverflow.com/questions/53627762/error-ts2304-cannot-find-name-inputevent/55221421#55221421", "title": "error TS2304: Cannot find name &#39;InputEvent&#39;", "body": "<p>I had the same problem trying to use @types/dom-inputevent in unit tests for an Angular 6 app. In my case, the cause was that I had an explicit 'types' entry in my tsconfig.spec.js, as outlined below.</p>\n\n<p><strong>tsconfig.json</strong> (irrelevant parts omitted)</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n     \"typeRoots\": [\n       \"node_modules/@types\"\n     ]\n  }\n}\n</code></pre>\n\n<p><strong>tsconfig.spec.js</strong> (irrelevant parts omitted)</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n  \"types\": [\n    \"jasmine\",\n    \"node\"\n  ]\n}\n</code></pre>\n\n<p>As you can see, there's a <code>types</code> entry that lists explicit types that should be made available during compilation. This overrides the <code>typeRoots</code> setting in the parent tsconfig.json, so only @types/jasmine and @types/node were available when compiling my unit tests. See also here: <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types</a>.</p>\n\n<p><strong>Solution</strong> is to add <code>dom-inputevent</code> to the <code>types</code> list e.g.</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n  \"types\": [\n    \"jasmine\",\n    \"node\",\n    \"dom-inputevent\"\n  ]\n}\n</code></pre>\n\n<p>Another approach would have been to remove the types entry altogether. If I did that, <code>typeRoots</code> would have kicked in and looked for all types under node_modules/@types, thus including <code>@types/dom-inputevent</code> too.</p>\n"}], "owner": {"reputation": 409, "user_id": 7616443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jfQ6C.jpg?s=128&g=1", "display_name": "Zenas Chen", "link": "https://stackoverflow.com/users/7616443/zenas-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3887, "favorite_count": 3, "accepted_answer_id": 55221421, "answer_count": 1, "score": 14, "last_activity_date": 1552912108, "creation_date": 1543997338, "question_id": 53627762, "link": "https://stackoverflow.com/questions/53627762/error-ts2304-cannot-find-name-inputevent", "title": "error TS2304: Cannot find name &#39;InputEvent&#39;", "body": "<p>As described in <a href=\"https://stackoverflow.com/questions/49714315/does-typescript-have-type-definitions-for-inputevent\">Does TypeScript have type definitions for InputEvent?</a>, I tried to use <a href=\"https://www.npmjs.com/package/@types/dom-inputevent\" rel=\"noreferrer\"><code>@types/dom-inputevent</code></a> to obtain <code>InputEvent</code> in my Angular 7 project. But it shows <code>error TS2304: Cannot find name 'InputEvent'</code> whenever I use it.</p>\n\n<p>Is there any need to \"register\" it in the Angular project or is it a bug?</p>\n\n<p>If a fix is not available, I just want a convenient way to achieve the same result as <code>event.data</code> in <code>InputEvent</code>.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "angular7", "tsconfig"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8946325, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gcmeMN7vGkU/AAAAAAAAAAI/AAAAAAAAAdU/pqqCAlKzdFs/photo.jpg?sz=128", "display_name": "Kartik Malik", "link": "https://stackoverflow.com/users/8946325/kartik-malik"}, "is_accepted": false, "score": 0, "last_activity_date": 1575212403, "creation_date": 1575212403, "answer_id": 59126747, "question_id": 53627700, "link": "https://stackoverflow.com/questions/53627700/cant-find-module-stream-csv-stringify/59126747#59126747", "title": "Can&#39;t find module &#39;stream&#39; (csv-stringify)", "body": "<p>I had encountered this problem when using JSZip with angular. You could try the fix that worked for me. </p>\n\n<ol>\n<li>Open your `tsconfig.app.json'</li>\n<li>Add the following </li>\n</ol>\n\n<p><code>\"paths\": {\n      \"csv-stringify\": [\"../node_modules/csv-stringify/lib/index.js\"]\n    }</code></p>\n\n<p>to the <code>compilerOptions</code> property.</p>\n\n<p>This error mostly occurs when angular can't find the dependency. </p>\n\n<p>Take a look at this issue for more information: <a href=\"https://github.com/angular/angular-cli/issues/9827\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/9827</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12491046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb68418d8beca724bcb7eac80e47b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Iris Chen", "link": "https://stackoverflow.com/users/12491046/iris-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1575647168, "last_edit_date": 1575647168, "creation_date": 1575632420, "answer_id": 59212444, "question_id": 53627700, "link": "https://stackoverflow.com/questions/53627700/cant-find-module-stream-csv-stringify/59212444#59212444", "title": "Can&#39;t find module &#39;stream&#39; (csv-stringify)", "body": "<p>Open your <code>tsconfig.app.json</code>\nAdd the following</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    \"paths\": {\n          \"csv-stringify\": [\"../node_modules/csv-stringify/lib/index.js\"]\n        }\n</code></pre>\n\n<p>to the <code>compilerOptions</code> property.</p>\n\n<p>this solution cannot work</p>\n"}], "owner": {"reputation": 21, "user_id": 7411195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9ec0d3f0b625037be9e3aabfd7df5d6?s=128&d=identicon&r=PG&f=1", "display_name": "hereToCode", "link": "https://stackoverflow.com/users/7411195/heretocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 660, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1575647168, "creation_date": 1543997010, "question_id": 53627700, "link": "https://stackoverflow.com/questions/53627700/cant-find-module-stream-csv-stringify", "title": "Can&#39;t find module &#39;stream&#39; (csv-stringify)", "body": "<p>I am trying to use csv-stringify module in Angular 7 Typescript project. So I installed it using the</p>\n\n<pre><code>npm i csv-stringify --save \n</code></pre>\n\n<p>Then I have imported it in a component class, where I plan to use it, as follows.  </p>\n\n<pre><code>import * as stringify from 'csv-stringify'\n</code></pre>\n\n<p>However, I am keep getting an error below. </p>\n\n<pre><code>ERROR in ./node_modules/csv-stringify/lib/index.js\nModule not found: Error: Can't resolve 'stream' in 'path-to-project/node_modules/csv-stringify/lib'\n</code></pre>\n\n<p>When I go to index.js mentioned above, the 'stream' actually seems to be part of @angular/types/node. However, in my tsconfig.json I have declared node_modules/@types as typeRoots. </p>\n\n<p>Does anyone have any idea what is the issue here? Thanks.</p>\n"}, {"tags": ["reactjs", "typescript", "react-redux", "rxjs"], "comments": [{"owner": {"reputation": 3470, "user_id": 9381897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hiHf.jpg?s=128&g=1", "display_name": "leopal", "link": "https://stackoverflow.com/users/9381897/leopal"}, "edited": false, "score": 0, "creation_date": 1543997365, "post_id": 53627645, "comment_id": 94115248, "body": "Edit your question to include provided images as question context using the img tag of the SO editor."}, {"owner": {"reputation": 5627, "user_id": 1866584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15837d4eab2c874e746a56673f5ec7e7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Ambruzs", "link": "https://stackoverflow.com/users/1866584/peter-ambruzs"}, "edited": false, "score": 0, "creation_date": 1543997460, "post_id": 53627645, "comment_id": 94115276, "body": "Your question is not really clear to me."}], "owner": {"reputation": 1, "user_id": 10743042, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-H6V8E9kJZj8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hbnxF5OUnokarzZTxYrU0ePoLM-g/mo/photo.jpg?sz=128", "display_name": "Zhe Jiang", "link": "https://stackoverflow.com/users/10743042/zhe-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543996775, "creation_date": 1543996775, "question_id": 53627645, "link": "https://stackoverflow.com/questions/53627645/typescript-import-module-problems", "title": "Typescript import module problems", "body": "<p>This is my project structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/HiaBM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Modules were introduced into the src->app->modules->auth->reducers->authorizeHandler file</p>\n\n<p>I can see that it introduces index.ts under src->app->modules, but I don't know where it links to this directory without using a relative path.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qulrn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>I used the global search keyword similar to declare module 'modules', modules are not found.</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1544001411, "post_id": 53627516, "comment_id": 94117182, "body": "&#39;{ type: string; freehand?:boolean= false }&#39; you are declare the type so you can&#39;t do inlization for the property but you can use javascript destruction to get the value and pass a default value check my answer \ud83d\udc4d\ud83d\udc4d"}], "answers": [{"comments": [{"owner": {"reputation": 2968, "user_id": 4480993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lHC4g.jpg?s=128&g=1", "display_name": "AhammadaliPK", "link": "https://stackoverflow.com/users/4480993/ahammadalipk"}, "edited": false, "score": 0, "creation_date": 1543997008, "post_id": 53627564, "comment_id": 94115097, "body": "Yes , I want to wrap it , Because if you didn&#39;t wrap it , you always wants to keep the order when invoking your method , for example  and if I want to omit first variable if I call your method like this initializeInteraction(true) it will make error , because the first parameters is string"}, {"owner": {"reputation": 2968, "user_id": 4480993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lHC4g.jpg?s=128&g=1", "display_name": "AhammadaliPK", "link": "https://stackoverflow.com/users/4480993/ahammadalipk"}, "edited": false, "score": 0, "creation_date": 1543997097, "post_id": 53627564, "comment_id": 94115136, "body": "and created a workaround like this ,  initializeInteraction(opts: { type?: string; freehand?: boolean }) {     this._draw = this.drawService.initDraw({       drawtype: opts.type,       freehand: opts.freehand || false     });     this._drawInteraction = this._draw.interaction;     this.mapService.addVector(this._draw.vector);     this.mapService.addInteraction(this._drawInteraction);   }"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 1, "creation_date": 1544001142, "post_id": 53627564, "comment_id": 94117034, "body": "you can&#39;t set the parameter as optional when you give it a default value <code>Parameter cannot have question mark and initializer.</code>"}], "tags": [], "owner": {"reputation": 306, "user_id": 8357750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215385622d9b2c72e5f83e85ee43fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden Hall", "link": "https://stackoverflow.com/users/8357750/hayden-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1544001465, "last_edit_date": 1544001465, "creation_date": 1543996419, "answer_id": 53627564, "question_id": 53627516, "link": "https://stackoverflow.com/questions/53627516/typescript-cant-set-default-parameter-value-as-false/53627564#53627564", "title": "Typescript : Can&#39;t set default parameter value as false", "body": "<p>Do you really need to wrap <code>type</code> and <code>freehand</code> up in the <code>opts</code> object?</p>\n\n<p>I'd suggest this:</p>\n\n<pre><code>initializeInteraction(type: string, freehand?: boolean = false) {\n    this._draw = this.drawService.initDraw({ drawtype: type });\n    this._drawInteraction = this._draw.interaction;\n    this.mapService.addVector(this._draw.vector);\n    this.mapService.addInteraction(this._drawInteraction);\n}\n</code></pre>\n\n<p>would work for the current implementation of <code>initializeInteraction</code>.</p>\n\n<p>Edit: </p>\n\n<p>The other option would be to use overloads...</p>\n\n<pre><code>initializeInteraction(type: string);\ninitializeInteraction(freehand: boolean);\ninitializeInteraction(type: string, freehand: boolean);\ninitializeInteraction(param1: string | boolean, param2: boolean = false) {\n    //type checking and implementation here...\n}\n</code></pre>\n\n<p>This would allow you to pass either one of your values alone, or both.</p>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 2828242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ovpsM.jpg?s=128&g=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/2828242/vincent"}, "is_accepted": false, "score": 0, "last_activity_date": 1543997355, "creation_date": 1543997355, "answer_id": 53627767, "question_id": 53627516, "link": "https://stackoverflow.com/questions/53627516/typescript-cant-set-default-parameter-value-as-false/53627767#53627767", "title": "Typescript : Can&#39;t set default parameter value as false", "body": "<pre><code>{ type: string; freehand?: boolean = false }\n</code></pre>\n\n<p>This type literal performs the same role as an <em>interface</em> and therefore can't provide a default value. Fortunately, the value of <code>freehand</code> will be undefined (falsey) by default.</p>\n\n<p>You can safely replace this with</p>\n\n<pre><code>initializeInteraction(opts: { type?: string; freehand?:boolean }) {\n    // ...\n    if (opts.freehand) {\n        // Do stuff\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": true, "score": 7, "last_activity_date": 1544000894, "last_edit_date": 1544000894, "creation_date": 1543999479, "answer_id": 53628266, "question_id": 53627516, "link": "https://stackoverflow.com/questions/53627516/typescript-cant-set-default-parameter-value-as-false/53628266#53628266", "title": "Typescript : Can&#39;t set default parameter value as false", "body": "<p>You just need to set the default value of freehand no need for <code>?</code> it's already optional consider this </p>\n\n<pre><code>function initializeInteraction(type: string, freehand: boolean = false) {\n console.log(type,freehand);\n // your magic\n}\n\ninitializeInteraction('something');\ninitializeInteraction('something', false);\ninitializeInteraction('something', true);\n</code></pre>\n\n<p>the only advantage of making the parameters as object is you can pass them with different order</p>\n\n<pre><code>function initializeInteraction(opt:{ type:string , freehand?:boolean}) {\n  let { type, freehand = false } = opt;\n  console.log(type,freehand); \n  // your magic\n}\n</code></pre>\n\n<p>you can short the function above like this </p>\n\n<pre><code>function initializeInteraction({type,freehand=false }: {type:string,freehand?:boolean}) {\n  console.log(type,freehand);\n  // your magic\n }\n</code></pre>\n\n<p>pass the parameter as object </p>\n\n<pre><code>initializeInteraction({ type: 'something', freehand: false });\ninitializeInteraction({freehand: false, type: 'something' });\ninitializeInteraction({type: 'something' });\n</code></pre>\n\n<p>both ways will give the same result \ud83d\udc4d\ud83d\udc4d , but they call initializeInteraction differently </p>\n\n<p><code>f('') ,f('',true)</code> or <code>({type:'',freehand:true}) f({freehand:true,type:''}) , f({type:''})</code></p>\n"}], "owner": {"reputation": 2968, "user_id": 4480993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lHC4g.jpg?s=128&g=1", "display_name": "AhammadaliPK", "link": "https://stackoverflow.com/users/4480993/ahammadalipk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8299, "favorite_count": 0, "accepted_answer_id": 53628266, "answer_count": 3, "score": 4, "last_activity_date": 1597943302, "creation_date": 1543996203, "last_edit_date": 1597943302, "question_id": 53627516, "link": "https://stackoverflow.com/questions/53627516/typescript-cant-set-default-parameter-value-as-false", "title": "Typescript : Can&#39;t set default parameter value as false", "body": "<p>I've a method which has some optional parameters, like this ,</p>\n\n<pre><code>initializeInteraction(opts: { type?: string; freehand?:boolean= false }) {\n    this._draw = this.drawService.initDraw({ drawtype: opts.type });\n    this._drawInteraction = this._draw.interaction;\n    this.mapService.addVector(this._draw.vector);\n    this.mapService.addInteraction(this._drawInteraction);\n  } \n</code></pre>\n\n<p>I want to set the value of <code>freehand</code> as <code>true</code> only when needed , otherwise I want it as <code>false</code>, </p>\n\n<p>but when i declare this </p>\n\n<pre><code>initializeInteraction(opts: { type: string; freehand?:boolean= false }) {}\n</code></pre>\n\n<p>Im getting an error as </p>\n\n<pre><code>[ts] A type literal property cannot have an initializer. [1247]\n</code></pre>\n"}, {"tags": ["typescript", "automated-tests", "typescript-typings", "cypress"], "comments": [{"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544041243, "post_id": 53627113, "comment_id": 94139679, "body": "You question isn&#39;t framed well, please give more details about <b>it doesn&#39;t work consistently</b>. That&#39;s far too vague to debug."}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "reply_to_user": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544077822, "post_id": 53627113, "comment_id": 94150045, "body": "@RichardMatsen: I have updated the description. Let me know if you want further details for the same. I am yet to figureout the solution"}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544079670, "post_id": 53627113, "comment_id": 94150752, "body": "Thanks, much better. Did you try <a href=\"https://www.npmjs.com/package/pdf-parse\" rel=\"nofollow noreferrer\">pdf-parse</a>, it has a lot of downloads."}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544080041, "post_id": 53627113, "comment_id": 94150896, "body": "<b>throws console that fs object...</b> did you try <a href=\"https://docs.cypress.io/api/commands/readfile.html\" rel=\"nofollow noreferrer\">cy.readFile()</a> instead of <code>fs</code>?"}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "reply_to_user": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544080841, "post_id": 53627113, "comment_id": 94151176, "body": "Yes, I have install pdf-parse and tried. But pdf parse uses &quot;require(&#39;fs&#39;). and Fs is not working. Throwing console error. With quick search on interntet I found that &quot;you can&#39;t use fs in the browser&quot;.  Yes, cy.readFile =&gt; I have used that but the same problem."}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544088410, "post_id": 53627113, "comment_id": 94154775, "body": "Ok, so can&#39;t you use pdf-parse replacing the fs parts with the cypress function  <code>cy.readFile()</code>?"}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "reply_to_user": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544093404, "post_id": 53627113, "comment_id": 94157693, "body": "I thought the same and tried. But When it tries to execute &quot;const pdf = require(&#39;pdf-parse&#39;);&quot; It breaks with an message &quot;Fs doesn&#39;t have function readFile, execFile, etc..&quot;"}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1544123102, "post_id": 53627113, "comment_id": 94174439, "body": "So, since pdf-parser uses fs internally you can&#39;t use it directly within the test code which this runs in the browser window.You need a plugin which runs in Cypress&#39; node environment. I&#39;ll post an example."}], "answers": [{"comments": [{"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1544164382, "post_id": 53658541, "comment_id": 94186480, "body": "Yes, Correct Yesterday I found and trying to implement the similar concept. But using cy.exec. Really, thanks for the support you have gave.  While trying, I found that it only works if the pdf is in any root or local folder. In my case I am calling API action which returns me the pdf file responsestream.  If Tried to create a file using cy.writeFile (). A blank pdf gets generated. So, looking for the commands which can executing the URL(http://....) and save the file to the local (root) folder."}, {"owner": {"reputation": 1043, "user_id": 8035683, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/40badc531aeb3cfa92af912dd5275222?s=128&d=identicon&r=PG&f=1", "display_name": "Damien Monni", "link": "https://stackoverflow.com/users/8035683/damien-monni"}, "edited": false, "score": 0, "creation_date": 1614518464, "post_id": 53658541, "comment_id": 117404200, "body": "Awesome answer! I just did not cast pdf-parse returned value as a String so I can use the pdf-parse object. Thanks !"}, {"owner": {"reputation": 4704, "user_id": 4826215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7310fe6e8910075b36ada7e2f572d66b?s=128&d=identicon&r=PG&f=1", "display_name": "soccerway", "link": "https://stackoverflow.com/users/4826215/soccerway"}, "edited": false, "score": 0, "creation_date": 1616383992, "post_id": 53658541, "comment_id": 117976100, "body": "May I ask how can I get the values from the <code>content</code> from the above answer ? In the chrome console it is showing as <code>Yielded:  [object Promise]</code>"}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "reply_to_user": {"reputation": 4704, "user_id": 4826215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7310fe6e8910075b36ada7e2f572d66b?s=128&d=identicon&r=PG&f=1", "display_name": "soccerway", "link": "https://stackoverflow.com/users/4826215/soccerway"}, "edited": false, "score": 0, "creation_date": 1616389882, "post_id": 53658541, "comment_id": 117977114, "body": "@soccerway it seems maybe you forgot to make some function <code>async</code> and await the results. Alternatively, if you have a Promise you can add a <code>.then()</code> to it to get the actual value."}, {"owner": {"reputation": 4704, "user_id": 4826215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7310fe6e8910075b36ada7e2f572d66b?s=128&d=identicon&r=PG&f=1", "display_name": "soccerway", "link": "https://stackoverflow.com/users/4826215/soccerway"}, "edited": false, "score": 0, "creation_date": 1616391183, "post_id": 53658541, "comment_id": 117977393, "body": "All good now Richard. i have removed the String in the return <code>getPdfContent (pdfName) {           return (parsePdf(pdfName))         }</code>"}, {"owner": {"reputation": 4704, "user_id": 4826215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7310fe6e8910075b36ada7e2f572d66b?s=128&d=identicon&r=PG&f=1", "display_name": "soccerway", "link": "https://stackoverflow.com/users/4826215/soccerway"}, "edited": false, "score": 0, "creation_date": 1616391220, "post_id": 53658541, "comment_id": 117977404, "body": "Now When I am running the test it is printing the whole text"}], "tags": [], "owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "is_accepted": false, "score": 4, "last_activity_date": 1544125302, "creation_date": 1544125302, "answer_id": 53658541, "question_id": 53627113, "link": "https://stackoverflow.com/questions/53627113/verify-the-data-of-the-downloaded-file-pdf-word-excel-using-cypress-commands/53658541#53658541", "title": "Verify the data of the downloaded file (PDF/Word/Excel) using cypress commands", "body": "<p>You need a plugin to access libraries like pdf-parser which work in the NodeJs environment (i.e use Node commands like fs).</p>\n\n<p>The best reference for this is <a href=\"https://glebbahmutov.com/blog/powerful-cy-task/\" rel=\"nofollow noreferrer\">Powerful cy.task</a></p>\n\n<p>Here is an example of adapting this pattern to your scenario. </p>\n\n<p><strong>cypress/plugins/index.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fs = require('fs')\nconst path = require('path')\nconst pdf = require('pdf-parse');\n\nconst repoRoot = path.join(__dirname, '..', '..') // assumes pdf at project root\n\nconst parsePdf = async (pdfName) =&gt; {\n  const pdfPathname = path.join(repoRoot, pdfName)\n  let dataBuffer = fs.readFileSync(pdfPathname);\n  return await pdf(dataBuffer)  // use async/await since pdf returns a promise \n}\n\nmodule.exports = (on, config) =&gt; {\n  on('task', {\n    getPdfContent (pdfName) {\n      return String(parsePdf(pdfName))\n    }\n  })\n}\n</code></pre>\n\n<p><strong>spec.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>it('tests a pdf', () =&gt; {\n  cy.task('getPdfContent', 'mypdf.pdf').then(content =&gt; {\n    // test you pdf content here, with expect(this and that)...\n  })\n})\n</code></pre>\n\n<p>I haven't tested this, so you may find some wrinkles to iron out. </p>\n\n<p>The location of the pdf is <code>repoRoot</code> which I understand to mean the project root folder two levels above <code>/cypress/plugins</code>. You may need to adjust the path since downloading is involved. You have not given enough info to understand the full test logic, I leave it up to you to make the adjustments.</p>\n\n<p>The form that the content comes back in depends on the pdf library used. It looks like pdf-parse gives a Json object which should be easy to test.<br>\nAfter <code>cy.task('getPdfContent')</code> is called you can choose various <code>cy</code> commands such as <code>.should()</code> and <code>.contains()</code> but I would use <code>.then()</code> and within the callback use <code>expect()</code> on the content.</p>\n"}], "owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9398, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1614259333, "creation_date": 1543994449, "last_edit_date": 1544190744, "question_id": 53627113, "link": "https://stackoverflow.com/questions/53627113/verify-the-data-of-the-downloaded-file-pdf-word-excel-using-cypress-commands", "title": "Verify the data of the downloaded file (PDF/Word/Excel) using cypress commands", "body": "<p>I have one scenario where I have to verify the downloaded file's data using Cypress commands. FileType :- pdf, word, excel. \nI have the URL of the Server API Action which gets called and In response, it returns the pdf file. \nI need to implement using Cypress commands and Typescript (plugin and typings).</p>\n\n<p>I am able to get the downloaded status and even the response.body has some text but it require some parser to parse the response body. \nBelow is the code that I have tried. </p>\n\n<pre><code>const oReq = new XMLHttpRequest();\n    oReq.open(\"GET\", href as string, true);\n    oReq.responseType = \"arraybuffer\";\n    oReq.onload = () =&gt; {\n        if (oReq.readyState === oReq.DONE) {\n            if (oReq.status === 200) {\n                // tried parsing the response. \n// looking for any parser which can parse the given reponse body into Text or json\n            }\n        }\n    }\n\n\ncy.request(href).then((response) =&gt; {\n    expect(response.status).to.equal(200);\n    expect(response.body).not.to.null;\n    const headerValue = response.headers[\"content-disposition\"];\n\n    // expect(headerValue).to.equal(\"attachment; filename=ExperimentEntityList.&lt;FileExtension-PDF | XLSX | DOCX&gt;\");\n\n    /// have tried with YAML parser and the \"FS\" module that cypress and ends up in different console error\n    // YAML parser gives consoole error about unidentified character \"P\".\n    // FS module code is shown below\n});     \n\nimport * as fs from \"fs\";\n\nfunction GetPDFContent()\n{\n    // throws console that fs object doesn't have readFile and same with readFileSync method. \n    fs.readFile(\"url\")..\n    fs.readFileSync(\"url\")..\n}\n</code></pre>\n\n<p>Requirement:<br>\n 1) Read Content of PDF File<br>\n 2) Read Content of XLS(x) file<br>\n 3) Read content of doc(x) file.  </p>\n\n<p>Didn't get success in reading content of PDF and DOc(x) file in typescript for the cypress automation script. Gone through various blogs in the internet install pdfparser, pdfreader, yaml parser, filereader and couple of more. But, none of them works. I have used the above mentioned code to read the files. \nand Check the written comment for the respective command. </p>\n\n<p>For the xlsx file I found the solution by using XSLX parser plugin that parse the Response.body which I can iterate and get the content. \nI am looking for the similar parser for PDF and Doc(x) file.</p>\n\n<p>Anyone knows about this. Please share it!!!</p>\n\n<p>NOTE: Brackets or syntax is not the problem. If found in above sample code then it would have missed during copy/paste.</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>I have found the solution to read and verify the PDF file content using Cypress commadns. Thanks to Richard Matsen, \n@Richard: But, the problem is when I have a full url of the PDF file. Like - <a href=\"http://domainname/upload/files/pdf/pdfname.pdf\" rel=\"nofollow noreferrer\">http://domainname/upload/files/pdf/pdfname.pdf</a>. Then I can read the content and verify it. But if My problem is I have a url like \"<a href=\"http://domainname/controller/action?pdf=someid\" rel=\"nofollow noreferrer\">http://domainname/controller/action?pdf=someid</a>\",  which returns the pdf file response and the node command doesn't encode it properly and the pdf file is not parsed properly. </p>\n\n<p><strong>Small Question</strong></p>\n\n<p>Do anyone knows how to create a pdf file using node/cypress commands using the Response stream of the PDF data. I have tried the Axios plugin, http, xmlhttprequest plutins. </p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1543993806, "post_id": 53626965, "comment_id": 94113612, "body": "The posted question does not appear to include <a href=\"https://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">any attempt</a> at all to solve the problem. StackOverflow expects you to <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">try to solve your own problem first</a>, as your attempts help us to better understand what you want. Please edit the question to show what you&#39;ve tried, so as to illustrate a specific roadblock you&#39;re running into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For more information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>."}, {"owner": {"reputation": 6029, "user_id": 2266992, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3rRQg.jpg?s=128&g=1", "display_name": "Miomir Dancevic", "link": "https://stackoverflow.com/users/2266992/miomir-dancevic"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1543993954, "post_id": 53626965, "comment_id": 94113681, "body": "I have tried and added my solution"}], "answers": [{"tags": [], "owner": {"reputation": 30502, "user_id": 5933656, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/4lPjy.jpg?s=128&g=1", "display_name": "Mohammad Usman", "link": "https://stackoverflow.com/users/5933656/mohammad-usman"}, "is_accepted": true, "score": 6, "last_activity_date": 1543994010, "creation_date": 1543994010, "answer_id": 53627008, "question_id": 53626965, "link": "https://stackoverflow.com/questions/53626965/removing-value-from-object-in-angular-6/53627008#53627008", "title": "Removing value from object in Angular 6", "body": "<p>You can get the resultant array using <code>.filter()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [\r\n  {name: \"sto.jpg\", selected: false},\r\n  {name: \"stosecen.jpg\", selected: false},\r\n  {name: \"red.png\", selected: false},\r\n  {name: \"maxresdefault.jpg\", selected: false}\r\n];\r\n\r\nlet array = [\"sto.jpg\", \"stosecen.jpg\"];\r\n\r\nlet result = data.filter(({ name }) =&gt; !array.includes(name));\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 6029, "user_id": 2266992, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3rRQg.jpg?s=128&g=1", "display_name": "Miomir Dancevic", "link": "https://stackoverflow.com/users/2266992/miomir-dancevic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "accepted_answer_id": 53627008, "answer_count": 1, "score": 0, "last_activity_date": 1543994010, "creation_date": 1543993777, "last_edit_date": 1543993937, "question_id": 53626965, "link": "https://stackoverflow.com/questions/53626965/removing-value-from-object-in-angular-6", "title": "Removing value from object in Angular 6", "body": "<p>I have some object in Angular like this</p>\n\n<pre><code>documents = [\n{name: \"sto.jpg\", selected: false}\n{name: \"stosecen.jpg\", selected: false}\n{name: \"red.png\", selected: false}\n{name: \"maxresdefault.jpg\", selected: false}\n];\n</code></pre>\n\n<p>And some array like this</p>\n\n<pre><code>documentsForDelete = [\"sto.jpg\", \"stosecen.jpg\"];\n</code></pre>\n\n<p>I need to remove values from documents from documentsForDelete</p>\n\n<p>This is what i have tried and no luck</p>\n\n<pre><code>  remove(array, element) {\n    const index = array.indexOf(element);\n    array.splice(index, 1);\n  }\n\nremove(documents.name, documentsForDelete);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 6648307, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXPwQHLZ-OE/AAAAAAAAAAI/AAAAAAAAAGY/CAYgolKa1n8/photo.jpg?sz=128", "display_name": "Shakeel Ahmad", "link": "https://stackoverflow.com/users/6648307/shakeel-ahmad"}, "edited": false, "score": 0, "creation_date": 1587839322, "post_id": 54193699, "comment_id": 108669521, "body": "Thanks saved my day. I upgraded from ionic 3 to ionic 5. I accidentally removed global.scss file imports and moved ionic 3 app.scss data in global file."}], "tags": [], "owner": {"reputation": 290, "user_id": 8452721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4CHK.jpg?s=128&g=1", "display_name": "Lukho Mdingi", "link": "https://stackoverflow.com/users/8452721/lukho-mdingi"}, "is_accepted": true, "score": 2, "last_activity_date": 1547533553, "creation_date": 1547533553, "answer_id": 54193699, "question_id": 53626930, "link": "https://stackoverflow.com/questions/53626930/ionic-4-page-not-updating-on-navigation/54193699#54193699", "title": "Ionic 4 page not updating on navigation", "body": "<p>I noticed that in my <strong>global.scss</strong> file I had previously commented out the <code>@import \"~@ionic/angular/css/core.css\";</code> line. Uncommenting this line fixed the problem.</p>\n"}], "owner": {"reputation": 290, "user_id": 8452721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4CHK.jpg?s=128&g=1", "display_name": "Lukho Mdingi", "link": "https://stackoverflow.com/users/8452721/lukho-mdingi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1344, "favorite_count": 0, "accepted_answer_id": 54193699, "answer_count": 1, "score": 0, "last_activity_date": 1547533553, "creation_date": 1543993609, "last_edit_date": 1543994121, "question_id": 53626930, "link": "https://stackoverflow.com/questions/53626930/ionic-4-page-not-updating-on-navigation", "title": "Ionic 4 page not updating on navigation", "body": "<p>I have a problem with navigation on Ionic 4 using Angular 7. The url changes on the url bar, but it doesn't actually update the page. This is my app component html:</p>\n\n<pre><code>    &lt;ion-app&gt;\n     &lt;ion-split-pane [when]=\"authenticated\"&gt;\n        &lt;ion-menu class=\"menu menu-left\" *ngIf=\"authenticated\"&gt;\n            &lt;ion-header&gt;\n\n            &lt;/ion-header&gt;\n\n            &lt;ion-content class=\"scroll-content ionic-scroll has-header\"&gt;\n                &lt;ion-list&gt;\n                    &lt;ion-item class=\"item-icon-left menu-item item-complex\"&gt;\n                        &lt;a routerLink=\"/home\"&gt;\n                            &lt;ion-icon name=\"home\"&gt;&lt;/ion-icon&gt;\n                            Home\n                        &lt;/a&gt;\n                    &lt;/ion-item&gt;\n                &lt;/ion-list&gt;\n\n                &lt;ion-fab vertical=\"bottom\" horizontal=\"start\" color=\"light\"&gt;\n                    &lt;ion-fab-button routerLink=\"/settings\"&gt;&lt;ion-icon name=\"settings\"&gt;&lt;/ion-icon&gt;&lt;/ion-fab-button&gt;\n                &lt;/ion-fab&gt;\n            &lt;/ion-content&gt;\n        &lt;/ion-menu&gt;\n        &lt;ion-router-outlet main&gt;&lt;/ion-router-outlet&gt;\n    &lt;/ion-split-pane&gt;\n&lt;/ion-app&gt;\n</code></pre>\n\n<p>And here is the typescript:</p>\n\n<pre><code>authenticated = false;\n    constructor(private router: Router, private platform: Platform, private events: Events, private auth: AuthProvider)\n{\n this.auth.authenticationState.subscribe((state) =&gt; {\n   this.authenticated = state;\n   if (!state) {\n     this.router.navigate(['login']);\n }\n });\n}\n</code></pre>\n\n<p>This is my app-routing.module.ts:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {AuthGuardService} from './services/auth/auth-guard.service';\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'home', pathMatch: 'full', canActivate: [AuthGuardService] },\n  { path: 'test', loadChildren: './pages/test/test.module#TestPageModule', canActivate: [AuthGuardService] },\n  { path: 'home', loadChildren: './pages/home/home.module#HomePageModule', canActivate: [AuthGuardService] },\n  { path: 'login', loadChildren: './pages/login/login.module#LoginPageModule' },\n  { path: 'register', loadChildren: './pages/register/register.module#RegisterPageModule' },\n  { path: 'profile', loadChildren: './pages/profile/profile.module#ProfilePageModule', canActivate: [AuthGuardService] },\n  { path: 'settings', loadChildren: './pages/settings/settings.module#SettingsPageModule', canActivate: [AuthGuardService] },\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1543993033, "post_id": 53626633, "comment_id": 94113286, "body": "You could try dependency injection where you can access parent component and then you are able to pass properties there <a href=\"https://angular.io/guide/dependency-injection-navtree\" rel=\"nofollow noreferrer\">angular.io/guide/dependency-injection-navtree</a>"}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "reply_to_user": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1543993308, "post_id": 53626633, "comment_id": 94113389, "body": "I read your post. But, I  couldn&#39;t understand how can I apply for my example. Can you explain please? Because, I&#39;m newbie at angular. @Sergey"}, {"owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "edited": false, "score": 0, "creation_date": 1543994841, "post_id": 53626633, "comment_id": 94114075, "body": "You may try to extend <code>p-calendar</code> component"}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "reply_to_user": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "edited": false, "score": 0, "creation_date": 1543995009, "post_id": 53626633, "comment_id": 94114158, "body": "How can I extend p-calendar @veben. Is it like this ??? <code>&lt;my-custom-calendar&gt;     &lt;p-calendar [locale]=&quot;tr&quot; dateFormat=&quot;dd&#47;mm&#47;yy&quot;&gt;&lt;&#47;p-calendar&gt; &lt;&#47;my-custom-calendar&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1544006516, "post_id": 53627508, "comment_id": 94120208, "body": "This is, what I was looking for. Thanks a lot @JBNizet. It works. Is this method in acceptable for real world or tricky? Because I will use in a big project. And I&#39;m afraid of disadvantage."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 1, "creation_date": 1544009661, "post_id": 53627508, "comment_id": 94122108, "body": "It&#39;s a bit of a hack, and IMO ng-prime should provide a way to provide default values globally. But since it doesn&#39;t that&#39;s probably the easiest thing you can do."}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1544013392, "post_id": 53627508, "comment_id": 94124348, "body": "Thanks again @JBNizet"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 1, "last_activity_date": 1543996170, "creation_date": 1543996170, "answer_id": 53627508, "question_id": 53626633, "link": "https://stackoverflow.com/questions/53626633/give-default-properties-to-component-by-directive-in-angular-6/53627508#53627508", "title": "Give default properties to component by directive in Angular 6", "body": "<p>You could simply write a directive which has the same selector as the ng-prime component, inject the component in this directive, and set defaults from there:</p>\n\n<p>Here's <a href=\"https://stackblitz.com/angular/pljnrvokrqg?file=app%2Fmy-progress.directive.ts\" rel=\"nofollow noreferrer\">an example</a> showing this in action with an <a href=\"https://ng-bootstrap.github.io/#/components/progressbar/examples\" rel=\"nofollow noreferrer\">ng-bootstrap progress bar</a>:</p>\n\n<pre><code>import { Directive, HostBinding } from '@angular/core';\nimport { NgbProgressbar } from '@ng-bootstrap/ng-bootstrap';\n\n@Directive({\n  selector: 'ngb-progressbar' // same selector as the ng-bootstrap progressbar component. It could be an attribute, but then you would have to add an attribute to apply these defaults\n})\nexport class MyProgressDirective {\n  constructor(bar: NgbProgressbar) { // NgbProgressbar is the actual type of the component to customize, from ng-bootstrap\n    bar.type = 'danger';\n    bar.showValue = true;\n    bar.animated = true;\n    bar.striped = true;\n  }\n}\n</code></pre>\n\n<p>ng-bootstrap has a <a href=\"https://ng-bootstrap.github.io/#/components/progressbar/examples#config\" rel=\"nofollow noreferrer\">dedicated mechanism</a> to apply custom defaults to every component, which is much more elegant though. You could suggest ng-prime to adopt such a mechanism, which is extremely useful.</p>\n"}], "owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 53627508, "answer_count": 1, "score": 0, "last_activity_date": 1543996170, "creation_date": 1543992404, "last_edit_date": 1543993505, "question_id": 53626633, "link": "https://stackoverflow.com/questions/53626633/give-default-properties-to-component-by-directive-in-angular-6", "title": "Give default properties to component by directive in Angular 6", "body": "<p>In my angyular 6 project, I want to create any component with default properties. Because, there will be always same in my project. So, I learnt that <code>directive</code> can achieve this. But I don't know, how I can write this <code>directive</code>?</p>\n\n<p>For example for calendar</p>\n\n<p><strong>My Calendar (PrimeNg)</strong></p>\n\n<pre><code>&lt;p-calendar [locale]=\"tr\" dateFormat=\"dd/mm/yy\"&gt;&lt;/p-calendar&gt;\n</code></pre>\n\n<p><strong>But, I want like below</strong></p>\n\n<pre><code>&lt;p-calendar appCalendar&gt;&lt;/p-calendar&gt;\n</code></pre>\n\n<p><strong>calendar-directive.ts</strong>   </p>\n\n<pre><code> @Directive({\n      selector: '[appCalendar]'\n    })\n    export class CalendarDirective {\n\n      constructor() { }\n\n      getDefaultProperties() { \n          var properties= { locale: 'tr', dateFormat: 'dd/mm/yy'}; ??????\n          return properties; ????????\n      };\n    }\n</code></pre>\n\n<p><strong>I know, I also can make by new custom component.</strong> But calendar has 40 property. So, I can't use any of them, if I write custom component like below. Forexample, in below, I can't give minDate or maxDate propery.</p>\n\n<pre><code>&lt;my-custom-calendar&gt;\n    &lt;p-calendar [locale]=\"tr\" dateFormat=\"dd/mm/yy\"&gt;&lt;/p-calendar&gt;\n&lt;/my-custom-calendar&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 2367, "user_id": 3860531, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001547387955/picture?type=large", "display_name": "Sumesh TG", "link": "https://stackoverflow.com/users/3860531/sumesh-tg"}, "edited": false, "score": 0, "creation_date": 1543991942, "post_id": 53626407, "comment_id": 94112845, "body": "Add an change event listener on the drop down ."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "reply_to_user": {"reputation": 2367, "user_id": 3860531, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001547387955/picture?type=large", "display_name": "Sumesh TG", "link": "https://stackoverflow.com/users/3860531/sumesh-tg"}, "edited": false, "score": 0, "creation_date": 1543992291, "post_id": 53626407, "comment_id": 94112994, "body": "@SumeshTG, It would be good if you post it as answer with working stackblitz because i am new in angular and dynamic form.. As of generation of dynamic form from JSON it did everything but switching the elements i am facing issues.."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1543992770, "post_id": 53626407, "comment_id": 94113181, "body": "Is that shared stackblitz your example? or do you want same like that?"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1543993008, "post_id": 53626407, "comment_id": 94113280, "body": "@PrashantPimpale, It is what i have tried.. You can see at initial stage i am having both input box and dropdwon.. But i need to have text box alone at first if i choose the <code>Show Project Level as dropdown</code> from first dropdown, then the <code>project_level</code> key needs to change as select box and vice versa will happen.. It was the example made by me and i need to switch the elements based on order 1 selection.."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1543993493, "post_id": 53626407, "comment_id": 94113472, "body": "I am not sure how you are going to handle in case of a change request of UI! For ex: <i>If I want to add color for textbox background, then</i>"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1543993827, "post_id": 53626407, "comment_id": 94113625, "body": "@PrashantPimpale, Here there is no need of involving in UI.. I already made a complete form using the JSON.. Only now i am having functionality level changes on for which alone this question is.. Please help me to achieve this functionality alone.."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1543993952, "post_id": 53626407, "comment_id": 94113679, "body": "@undefined As I know, the way to do this by using <code>click</code> event but as I see you are accepting all attributes dynamically so you need the function name and click event handler dynamically to assign to the particular dropdown!"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1543994137, "post_id": 53626407, "comment_id": 94113770, "body": "@PrashantPimpale, If you need reference then here is stackblitz for it <a href=\"https://stackblitz.com/edit/angular-x4a5b6-lngage?embed=1&amp;file=src/app/dynamic-form.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-x4a5b6-lngage?embed=1&amp;file=src/&hellip;</a> here i am displaying only selected dropdown option and others will be in hidden.. Whereas my question is concerned, it needs to be switch b/w input and dropdown for same key.."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1543994476, "post_id": 53626407, "comment_id": 94113905, "body": "@PrashantPimpale, full reference stackblitz here <a href=\"https://stackblitz.com/edit/angular-x4a5b6-lngage\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-x4a5b6-lngage</a> , Select the option from dropdown (choose option to display) then you will see the changes.."}], "answers": [{"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1543997199, "post_id": 53627688, "comment_id": 94115180, "body": "Eliseo, Kindly please provide working example.. As because you helped me a lot, I hope you will make this solution little clear for me as like others with stackblitz.."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1543998207, "post_id": 53627688, "comment_id": 94115611, "body": "Is it not possible to change with the same key as <code>project_level</code>??"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1543998291, "post_id": 53627688, "comment_id": 94115653, "body": "<a href=\"https://stackblitz.com/edit/angular-x4a5b6-se5mt5?file=src%2Fapp%2Fquestion.service.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 2, "last_activity_date": 1543996952, "creation_date": 1543996952, "answer_id": 53627688, "question_id": 53626407, "link": "https://stackoverflow.com/questions/53626407/how-to-change-element-to-input-or-dropdown-in-angular-form/53627688#53627688", "title": "How to change element to input or dropdown in angular form?", "body": "<p>@Undefined, or use two variables \"project_level_textbox\" and \"project_level_dropdown\", and make visible or not hte form or make that question.controlType depending the value of the formControl (some like when you're making visible or not a question)</p>\n\n<p>Add a new property \"controlTypeAlternative\" with \"type\",\"field\" and \"value\" and make the </p>\n\n<pre><code>[ngSwitch]=\"question.controlTypeAlternative?\n    form.get(question.controlTypeAlternative.field).value==\n question.controlTypeAlternative.value?\n        question.controlTypeAlternative.type:\n        question.controlType:question.controlType\"\n</code></pre>\n\n<p>If some complex the operator ? but main that If has the property controlTypeAlternative, check if the value of the form.control is equal. if not use \"controlType\"</p>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 1, "accepted_answer_id": 53627688, "answer_count": 1, "score": 1, "last_activity_date": 1543998416, "creation_date": 1543991421, "last_edit_date": 1543993127, "question_id": 53626407, "link": "https://stackoverflow.com/questions/53626407/how-to-change-element-to-input-or-dropdown-in-angular-form", "title": "How to change element to input or dropdown in angular form?", "body": "<p>I am making angular 6 application, where i am using angular dynamic form and the values are coming from JSON.. </p>\n\n<p><strong>Simple JSON</strong>:</p>\n\n<pre><code>  jsonData: any = [\n    {\n      \"elementType\": \"dropdown\",\n      \"key\": 'project',\n      \"label\": 'Choose option to display',\n      \"options\": [\n        { \"key\": 'inputbox', \"value\": 'Show Project Level as input box' },\n        { \"key\": 'dropdown', \"value\": 'Show Project Level as dropdown' }\n      ],\n      \"order\": 1\n    },\n    {\n      \"elementType\": \"textbox\",\n      \"class\": \"col-12 col-md-4 col-sm-12\",\n      \"key\": \"project_level\",\n      \"label\": \"Project Level as input box\",\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"order\": 2\n    },\n    {\n      \"elementType\": \"dropdown\",\n      \"key\": 'project_level',\n      \"label\": 'Choose Project Level as dropdown',\n      \"options\": [\n        { \"key\": 'low', \"value\": 'Low' },\n        { \"key\": 'medium', \"value\": 'Medium' },\n        { \"key\": 'high', \"value\": 'High' }\n      ],\n      \"order\": 2\n    }\n  ];\n</code></pre>\n\n<p>Requirement is going to be from this json only..</p>\n\n<p>Take a look at <strong>Clear working example</strong> <a href=\"https://stackblitz.com/edit/angular-x4a5b6-5ys5hf\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-x4a5b6-5ys5hf</a>,</p>\n\n<p>You can see at initial stage i am having both input box and dropdwon.. But i need to have text box alone at first if i choose the Show Project Level as dropdown from first dropdown, then the project_level key needs to change as select box and vice versa will happen..</p>\n\n<p><strong>Order 1</strong> has a dropdown in which i am having two options,</p>\n\n<pre><code>      \"options\": [\n        { \"key\": 'inputbox', \"value\": 'Show Project Level as input box' },\n        { \"key\": 'dropdown', \"value\": 'Show Project Level as dropdown' }\n      ],\n</code></pre>\n\n<p>If we choose the <strong>first</strong> option which has value as <strong>Show Project Level as input box</strong>, whereas if we choose <strong>second</strong> option that has value <strong>Show Project Level as dropdown</strong>..</p>\n\n<p>Based on the above selection, i need to switch the form element accordingly, say user chosen <code>Show Project Level as input box</code>, then i need to display the <strong>input box</strong>,</p>\n\n<pre><code>    {\n      \"elementType\": \"textbox\",\n      \"class\": \"col-12 col-md-4 col-sm-12\",\n      \"key\": \"project_level\",\n      \"label\": \"Project Level as input box\",\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"order\": 2\n    },\n</code></pre>\n\n<p>Whereas if user chosen <code>Show Project Level as dropdown</code>, then i need to display the <strong>dropdown</strong>,</p>\n\n<pre><code>    {\n      \"elementType\": \"dropdown\",\n      \"key\": 'project_level',\n      \"label\": 'Choose Project Level as dropdown',\n      \"options\": [\n        { \"key\": 'low', \"value\": 'Low' },\n        { \"key\": 'medium', \"value\": 'Medium' },\n        { \"key\": 'high', \"value\": 'High' }\n      ],\n      \"order\": 2\n    }\n</code></pre>\n\n<p>So the <strong>key</strong> is going to be unique alone <strong>project_level</strong> but the form element alone needs to get changed based on the selection of either input box or selectbox..</p>\n\n<p>Kindly help me to change the form element based on the selection on <code>order 1</code> dropdown..</p>\n\n<p>Result is expected only using pure angular and typescript/javascript way without jquery..</p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3", "twilio", "twilio-video"], "comments": [{"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1543987916, "post_id": 53625345, "comment_id": 94111472, "body": "Twilio Video uses <code>getUserMedia</code> in order to capture the video and audio. The <code>cordova-plugin-media-captuire</code> plugin appears to provide a different interface. Could that be why this is failing?"}, {"owner": {"reputation": 36, "user_id": 8132917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juix8.png?s=128&g=1", "display_name": "DCC", "link": "https://stackoverflow.com/users/8132917/dcc"}, "reply_to_user": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1544054894, "post_id": 53625345, "comment_id": 94144680, "body": "Hi @philnash, thanks for your comment. I removed the plugin cordova-plugin-media-capture, and reinstall all the project (removing folders node_modules, platforms &amp; plugins); but the same error continues. Another information is that the video and audio HTML tags are not created by Twilio. Any suggestions?"}, {"owner": {"reputation": 36, "user_id": 8132917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juix8.png?s=128&g=1", "display_name": "DCC", "link": "https://stackoverflow.com/users/8132917/dcc"}, "reply_to_user": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1544120699, "post_id": 53625345, "comment_id": 94173423, "body": "@philnash Twilio customer service told me that Ionic and Twilio are not compatible, is that true?"}, {"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1544339782, "post_id": 53625345, "comment_id": 94236523, "body": "I don&#39;t see why they wouldn&#39;t be compatible. One thing you seem to be missing are permissions for the Camera. You might find this answer about getting <code>getUserMedia</code> to work in Ionic of some help: <a href=\"https://stackoverflow.com/questions/52557767/does-getusermedia-works-in-ionic-webview-in-android-app/53080000#53080000\" title=\"does getusermedia works in ionic webview in android app\">stackoverflow.com/questions/52557767/&hellip;</a>"}, {"owner": {"reputation": 36, "user_id": 8132917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juix8.png?s=128&g=1", "display_name": "DCC", "link": "https://stackoverflow.com/users/8132917/dcc"}, "reply_to_user": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1544446101, "post_id": 53625345, "comment_id": 94266497, "body": "Thanks @philnash for your hekp. I decided to user OpenTok instead of Twilio. Twilio&#39;s customer support service told me this: <i>Unfortunately Twilio JS SDK does not work with Ionic because it relies on browser specific WebRTC APIs.  The JS SDK only works with major browser (except Edget). There has been some consideration given to supporting a hybrid development platform in the future, but it is likely going to be React Native instead of Ionic.</i>"}, {"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1544451720, "post_id": 53625345, "comment_id": 94269670, "body": "Oh man, the underlying browser is Chrome where this all works. You\u2019re welcome to choose a different platform but I\u2019m going to follow up to make sure we\u2019re all on the same side."}], "owner": {"reputation": 36, "user_id": 8132917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juix8.png?s=128&g=1", "display_name": "DCC", "link": "https://stackoverflow.com/users/8132917/dcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 813, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574649458, "creation_date": 1543985289, "question_id": 53625345, "link": "https://stackoverflow.com/questions/53625345/twilio-programmable-video-and-ionic-3-audio-issue", "title": "Twilio Programmable Video and Ionic 3 - Audio issue", "body": "<p>I'm developing a mobile app that must implement Twilio Programmable Video. I have developed a backend with Twilio SDK 5.24.2 in Laravel PHP Framework and that works well.</p>\n\n<p>In the mobile app, I have installed the twilio-video 2.0.0-beta4 package through npm and developed a page based in the example in \"video-quickstart-js-1.x\". The problem is when Twilio tries to connect to the room, the error in the console is as follows (at the end of the log):</p>\n\n<pre><code>INFO in [connect #1]: Connecting to a Room\nDEBUG in [connect #1]: Options: Object\nINFO in [NTSIceServerSource #1]: Created a new NTSIceServerSource\nDEBUG in [NTSIceServerSource #1]: ECS server: https://ecs.us1.twilio.com\nINFO in [connect #1]: LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected\nWARN in [createLocalTracks #1]: Call to getUserMedia failed: DOMException: Could not start audio source\nINFO in [connect #1]: Error while connecting to a Room: DOMException: Could not start audio source\n</code></pre>\n\n<p>My code in Ionic is as follows:</p>\n\n<pre><code>import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { ApiServiceProvider } from '../../providers/api-service';\nimport TwilioVideo from 'twilio-video';\n\nexport class VideoPage\n{\n  public roomSid: string;\n  public activeRoom: any;\n  public twilioAccessToken: string;\n\n  @ViewChild('remoteMedia') remoteMedia: any;\n  @ViewChild('localMedia') localMedia: any;\n  @ViewChild('buttonLeave') buttonLeave: any;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private apiServiceProvider: ApiServiceProvider\n  ) {\n    this.roomSid = navParams.get('room_sid');\n    this.joinToRoom(this.roomSid);\n  }\n\n  joinToRoom(roomSid: string) {\n    let videoCallData = {\n      room_sid: roomSid\n    };\n\n    this.apiServiceProvider.joinVideoRoom(videoCallData)\n    .then(\n      (result) =&gt; {\n        this.twilioAccessToken = result.access_token;\n        this.generateVideoCall();\n      },\n      (error) =&gt; {\n        console.log(error);\n      }\n    )\n    .catch((error) =&gt; {\n      console.log(error);\n    });\n  }\n\n  generateVideoCall() {\n    let connectOptions = {\n      name: this.roomSid,\n      video: true,\n      audio:true\n    };\n\n    connectOptions['logLevel'] = 'debug';\n\n    TwilioVideo.connect(this.twilioAccessToken, connectOptions)\n    .then(this.roomJoined, function(error) {\n      console.log('Could not connect to Twilio: ' + error.message);\n    });\n  }\n\n  roomJoined(room: any) {\n    this.activeRoom = room;\n\n    // Attach LocalParticipant's Tracks, if not already attached.\n    var previewContainer = this.localMedia;\n    if (!previewContainer.querySelector('video')) {\n      this.attachParticipantTracks(this.activeRoom.localParticipant, previewContainer);\n    }\n\n    // Attach the Tracks of the Room's Participants.\n    this.activeRoom.participants.forEach(function(participant) {\n      console.log(\"Already in Room: '\" + participant.identity + \"'\");\n      let previewContainer = this.remoteMedia;\n      this.attachParticipantTracks(participant, previewContainer);\n    });\n\n    // When a Participant joins the Room, log the event.\n    this.activeRoom.on('participantConnected', function(participant) {\n      console.log(\"Joining: '\" + participant.identity + \"'\");\n    });\n\n    // When a Participant adds a Track, attach it to the DOM.\n    this.activeRoom.on('trackAdded', function(track, participant) {\n      console.log(participant.identity + \" added track: \" + track.kind);\n      var previewContainer = this.remoteMedia;\n      this.attachTracks([track], previewContainer);\n    });\n\n    // When a Participant removes a Track, detach it from the DOM.\n    this.activeRoom.on('trackRemoved', function(track, participant) {\n      console.log(participant.identity + \" removed track: \" + track.kind);\n      this.detachTracks([track]);\n    });\n\n    // When a Participant leaves the Room, detach its Tracks.\n    this.activeRoom.on('participantDisconnected', function(participant) {\n      console.log(\"Participant '\" + participant.identity + \"' left the room\");\n      this.detachParticipantTracks(participant);\n    });\n\n    // Once the LocalParticipant leaves the room, detach the Tracks of all Participants, including that of the LocalParticipant.\n    this.activeRoom.on('disconnected', function() {\n      console.log('Left room');\n\n      if (this.previewTracks) {\n        this.previewTracks.forEach(function(track) {\n          track.stop();\n        });\n        this.previewTracks = null;\n      }\n\n      this.detachParticipantTracks(this.activeRoom.localParticipant);\n      this.activeRoom.participants.forEach(this.detachParticipantTracks);\n    });\n  }\n\n  // Attach the Participant's Tracks to the DOM.\n  attachParticipantTracks(participant, container) {\n    var tracks = Array.from(participant.tracks.values());\n    this.attachTracks(tracks, container);\n  }\n\n  // Attach the Tracks to the DOM.\n  attachTracks(tracks, container) {\n    tracks.forEach(function(track) {\n      container.appendChild(track.attach());\n    });\n  }\n\n  // Detach the Tracks from the DOM.\n  detachTracks(tracks) {\n    tracks.forEach(function(track) {\n      track.detach().forEach(function(detachedElement) {\n        detachedElement.remove();\n      });\n    });\n  }\n\n  // Detach the Participant's Tracks from the DOM.\n  detachParticipantTracks(participant) {\n    var tracks = Array.from(participant.tracks.values());\n    this.detachTracks(tracks);\n  }\n\n  // Leave Room.\n  leaveRoomIfJoined() {\n    if (this.activeRoom) {\n      this.activeRoom.disconnect();\n    }\n  }\n}\n</code></pre>\n\n<p>The HTML has the next structure:</p>\n\n<pre><code>&lt;ion-content padding&gt;\n  &lt;div #remoteMedia&gt;&lt;/div&gt;\n\n  &lt;div #localMedia&gt;&lt;/div&gt;\n\n  &lt;div id=\"buttonContainer\"&gt;\n    &lt;button ion-button icon-only round #buttonLeave (click)=\"leaveCall($event)\"&gt;\n      &lt;ion-icon name=\"close\"&gt;&lt;/ion-icon&gt;\n    &lt;/button&gt;\n  &lt;/div&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>I have installed the plugin cordova-plugin-media-capture and assigned this permissions in config.xml</p>\n\n<pre><code>&lt;config-file parent=\"/*\" target=\"AndroidManifest.xml\"&gt;\n    &lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.MODIFY_AUDIO_SETTINGS\" /&gt;\n&lt;/config-file&gt;\n</code></pre>\n\n<p>What I am missing?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript", "ionic-framework", "data-binding"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 7701601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DVA3wUqJGy4/AAAAAAAAAAI/AAAAAAAAAL8/uYT1lTnL0QA/photo.jpg?sz=128", "display_name": "Rafik Bojes", "link": "https://stackoverflow.com/users/7701601/rafik-bojes"}, "edited": false, "score": 0, "creation_date": 1544061373, "post_id": 53627280, "comment_id": 94146092, "body": "its same. Just change the view, not binding the data model :("}], "tags": [], "owner": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "is_accepted": false, "score": 0, "last_activity_date": 1543995169, "creation_date": 1543995169, "answer_id": 53627280, "question_id": 53624880, "link": "https://stackoverflow.com/questions/53624880/how-to-bind-ionic3-star-rating-dynamic-value-into-data-object-in-ionic/53627280#53627280", "title": "How to bind ionic3-star-rating dynamic value into data object in ionic", "body": "<p>Please store the rating data type as a number and apply the below code.  </p>\n\n<pre><code>&lt;div *ngFor=\"let dataP of dataParameter\"&gt;\n        &lt;ion-row class=\"parameter-input\"&gt;\n            &lt;ion-item text-center class=\"xgray\"&gt;\n                &lt;h4 class=\"h-title\"&gt;{{dataP.name}}&lt;/h4&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item no-padding text-center class=\"silver\"&gt;\n                &lt;ionic3-star-rating activeIcon=\"star\" defaultIcon=\"star-outline\" activeColor=\"#e6821e\" defaultColor=\"#404040\" readonly=\"false\" [rating]=\"dataP.rating\"&gt; \n                &lt;/ionic3-star-rating&gt; \n            &lt;/ion-item&gt;\n            &lt;ion-item class=\"item-input\"&gt;\n                &lt;ion-input type=\"text\"  placeholder=\"Masukkan notes..\" [(ngModel)]=\"dataP.notes\"&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n        &lt;/ion-row&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 7701601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DVA3wUqJGy4/AAAAAAAAAAI/AAAAAAAAAL8/uYT1lTnL0QA/photo.jpg?sz=128", "display_name": "Rafik Bojes", "link": "https://stackoverflow.com/users/7701601/rafik-bojes"}, "is_accepted": true, "score": 1, "last_activity_date": 1544086906, "creation_date": 1544086906, "answer_id": 53647808, "question_id": 53624880, "link": "https://stackoverflow.com/questions/53624880/how-to-bind-ionic3-star-rating-dynamic-value-into-data-object-in-ionic/53647808#53647808", "title": "How to bind ionic3-star-rating dynamic value into data object in ionic", "body": "<p>oke guys. I have fix the problem right now, i only change the package ionic3-star-rating, into ionic2-rating module. Its work fine, with ngModel :)</p>\n"}], "owner": {"reputation": 69, "user_id": 7701601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DVA3wUqJGy4/AAAAAAAAAAI/AAAAAAAAAL8/uYT1lTnL0QA/photo.jpg?sz=128", "display_name": "Rafik Bojes", "link": "https://stackoverflow.com/users/7701601/rafik-bojes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 1, "accepted_answer_id": 53647808, "answer_count": 2, "score": 2, "last_activity_date": 1544086906, "creation_date": 1543981580, "question_id": 53624880, "link": "https://stackoverflow.com/questions/53624880/how-to-bind-ionic3-star-rating-dynamic-value-into-data-object-in-ionic", "title": "How to bind ionic3-star-rating dynamic value into data object in ionic", "body": "<p>iam get some problems.\ni have an dynamic form input of rating parameter, i try use ionic3-star-rating module; <a href=\"https://www.npmjs.com/package/ionic3-star-rating\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ionic3-star-rating</a>. Package its work, but i cant bind dynamic value into my object.<br/> <br/> the code like this ; <br/>\n<code>input-scanner.html</code></p>\n\n<pre><code>&lt;div *ngFor=\"let dataP of dataParameter\"&gt;\n    &lt;ion-row class=\"parameter-input\"&gt;\n        &lt;ion-item text-center class=\"xgray\"&gt;\n            &lt;h4 class=\"h-title\"&gt;{{dataP.name}}&lt;/h4&gt;\n        &lt;/ion-item&gt;\n        &lt;ion-item no-padding text-center class=\"silver\"&gt;\n            &lt;ionic3-star-rating activeIcon=\"star\" defaultIcon=\"star-outline\" activeColor=\"#e6821e\" defaultColor=\"#404040\" readonly=\"false\" [rating]=\"0\"&gt; \n            &lt;/ionic3-star-rating&gt; \n        &lt;/ion-item&gt;\n        &lt;ion-item class=\"item-input\"&gt;\n            &lt;ion-input type=\"text\"  placeholder=\"Masukkan notes..\" [(ngModel)]=\"dataP.notes\"&gt;&lt;/ion-input&gt;\n        &lt;/ion-item&gt;\n    &lt;/ion-row&gt;\n&lt;/div&gt;\n&lt;button ion-button icon-only (click)=\"saveRecord(dataParameter)\"&gt;\n    &lt;ion-icon name=\"checkmark\"&gt;&lt;/ion-icon&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p><code>input-scanner.ts</code></p>\n\n<pre><code>constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public events: Events,\n    public toastCtrl : ToastController,\n    public alCtrl : AlertController) {\n\n    events.subscribe('star-rating:changed', (starRating) =&gt; \n      {\n        this.bindRatingId(1,starRating)  \n</code></pre>\n\n<p>// how can i get id ; (1) dynamic from my event click the ionic3-star-rating?</p>\n\n<pre><code>    });\n  }\n\n  ionViewDidLoad() {\n    this.getDataParameter();\n  }\n  bindRatingId(id,starRating){\n    console.log(starRating);\n  }\n  getDataParameter(){\n    var data = [\n      {\"name\":\"FIRE BOX. No.157\",\"id\":1,\"rating\":\"\",\"notes\":\"\"},\n      {\"name\":\"PIPA. No.158\",\"id\":2,\"rating\":\"\",\"notes\":\"\"},\n      {\"name\":\"FIRE BOX. No.158\",\"id\":3,\"rating\":\"\",\"notes\":\"\"},\n    ];\n    for(let v of data){\n        this.dataParameter.push(v);\n    }\n  }\n  saveRecord(data){\n    console.log(data);\n  }\n</code></pre>\n\n<p>when i click button saveRecord, the result is ; </p>\n\n<pre><code>[\n  {\"name\":\"FIRE BOX. No.157\",\"id\":1,\"rating\":\"5\",\"notes\":\"some input\"},\n  {\"name\":\"PIPA. No.158\",\"id\":2,\"rating\":\"\",\"notes\":\"\"},\n  {\"name\":\"FIRE BOX. No.158\",\"id\":3,\"rating\":\"\",\"notes\":\"\" }\n]\n</code></pre>\n\n<p>the rating value not dynamically set into my object :(,<br/>\n because i set manual in the bindRatingId() just to set id=1 .<br/><br/> How can i get dynamically value from ionic3-star-rating module ? when i try to add [(ngModel)] in attributee, i have an error code .\nsomeone can help me please? thank you before it :)</p>\n"}, {"tags": ["typescript", "type-assertion"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1543981048, "creation_date": 1543981048, "answer_id": 53624815, "question_id": 53624657, "link": "https://stackoverflow.com/questions/53624657/typescript-type-assertion/53624815#53624815", "title": "Typescript Type Assertion", "body": "<p>No. They are not the same. </p>\n\n<h1>First</h1>\n\n<p>The following is safer: </p>\n\n<pre><code>let foo: Foo = {} as any;\n</code></pre>\n\n<p>You can't do</p>\n\n<pre><code>let foo: Foo = {} as any;\nfoo = {}; // Error  \n</code></pre>\n\n<h1>Second</h1>\n\n<p>The following exposes you to danger e.g. </p>\n\n<pre><code>let foo: Foo | any = {};\nfoo = {}; // OKAY!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 1, "last_activity_date": 1543983391, "creation_date": 1543983391, "answer_id": 53625095, "question_id": 53624657, "link": "https://stackoverflow.com/questions/53624657/typescript-type-assertion/53625095#53625095", "title": "Typescript Type Assertion", "body": "<p>They are not the same.  You have to look at how the compiler will break down each statement.</p>\n\n<ol>\n<li>Statement</li>\n<li>Variable Name</li>\n<li>Type declarator </li>\n<li>Declared Type</li>\n<li>Assign Symbol</li>\n<li>Value</li>\n<li>Cast Operator</li>\n<li>Cast Type</li>\n</ol>\n\n<p>So</p>\n\n<pre><code> | 1 | 2 |3| 4       |5| 4 | 5 | 6\n  let foo : Foo       = {}   as  any;\n  let foo : Foo | any = {};\n</code></pre>\n\n<p>So the first statement does <em>not</em> allow <code>any</code> as a Type(4) for the value stored in the variable(2) where the second one does.</p>\n"}], "owner": {"reputation": 886, "user_id": 3747493, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6176346eb5fc995e2092f557c51f1b55?s=128&d=identicon&r=PG&f=1", "display_name": "superigno", "link": "https://stackoverflow.com/users/3747493/superigno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53624815, "answer_count": 2, "score": 0, "last_activity_date": 1543983391, "creation_date": 1543979879, "question_id": 53624657, "link": "https://stackoverflow.com/questions/53624657/typescript-type-assertion", "title": "Typescript Type Assertion", "body": "<p>Assuming I have an interface with many variables, and I don't wanna initialize all of them when I use it, so I just put the <code>any</code> type assertion. I just wanna know if these two are the same or not:</p>\n\n<p>eg:</p>\n\n<pre><code>export interface Foo {\n  a: string;\n  b: number;\n  c: Bar[];\n  d: string;\n  e: Bar;\n}\n</code></pre>\n\n<p>Is</p>\n\n<pre><code>let foo: Foo = {} as any;\n</code></pre>\n\n<p>the same with</p>\n\n<pre><code>let foo: Foo | any = {};\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1543978806, "creation_date": 1543978806, "answer_id": 53624523, "question_id": 53624420, "link": "https://stackoverflow.com/questions/53624420/why-override-abstract-method-parameter-type-is-any-in-typescript/53624523#53624523", "title": "Why override abstract method parameter type is any in typescript?", "body": "<blockquote>\n  <p>I defined the parameter type in abstract class, Why not use it?</p>\n</blockquote>\n\n<p>Because it's not implemented in the compiler. <a href=\"https://github.com/Microsoft/TypeScript/issues/23911\" rel=\"nofollow noreferrer\">There's a GitHub issue for it</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1543978819, "creation_date": 1543978819, "answer_id": 53624525, "question_id": 53624420, "link": "https://stackoverflow.com/questions/53624420/why-override-abstract-method-parameter-type-is-any-in-typescript/53624525#53624525", "title": "Why override abstract method parameter type is any in typescript?", "body": "<p>TypeScript doesn't infer the types for inheritance / implements</p>\n\n<h1>Why</h1>\n\n<p>Cause it breaks real world code. It's wants you to be explicit. </p>\n"}], "owner": {"reputation": 1318, "user_id": 4485565, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MWiOM.jpg?s=128&g=1", "display_name": "XGHeaven", "link": "https://stackoverflow.com/users/4485565/xgheaven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1543978819, "creation_date": 1543977978, "question_id": 53624420, "link": "https://stackoverflow.com/questions/53624420/why-override-abstract-method-parameter-type-is-any-in-typescript", "title": "Why override abstract method parameter type is any in typescript?", "body": "<p>Example: </p>\n\n<pre><code>abstract class Base {\n    abstract method(type: string): void\n}\n\nclass Child extends Base {\n    method(type) {\n        console.log(type)\n    }\n}\n</code></pre>\n\n<p>Error:\n<a href=\"https://i.stack.imgur.com/7Ii5R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Ii5R.png\" alt=\"Compile error\"></a></p>\n\n<p>Why override method parameters is any? I defined the parameter type in abstract class, Why not use it?</p>\n"}, {"tags": ["javascript", "typescript", "ionic-framework", "scrollview"], "comments": [{"owner": {"reputation": 2021, "user_id": 6536335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-buZs4yDMhtE/AAAAAAAAAAI/AAAAAAAAABI/4apuEbD4X3c/photo.jpg?sz=128", "display_name": "Ali David", "link": "https://stackoverflow.com/users/6536335/ali-david"}, "edited": false, "score": 0, "creation_date": 1543978908, "post_id": 53624352, "comment_id": 94109260, "body": "I wonder if &lt;p&gt; tag is in a proper position or not. Why don&#39;t you put that &lt;p&gt; tag into the <code>ion-content</code>? Cos the element may not be scrolled completely to the top or bottom depending on the layout of other elements."}, {"owner": {"reputation": 2021, "user_id": 6536335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-buZs4yDMhtE/AAAAAAAAAAI/AAAAAAAAABI/4apuEbD4X3c/photo.jpg?sz=128", "display_name": "Ali David", "link": "https://stackoverflow.com/users/6536335/ali-david"}, "edited": false, "score": 0, "creation_date": 1543979165, "post_id": 53624352, "comment_id": 94109311, "body": "To my mind, using <code>scrollIntoView</code> is not so tricky as it&#39;s a <code>Working Draft</code> function which doesn&#39;t support cross-browser compatibility.  <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView#Browser_compatibility\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Element/&hellip;</a>"}, {"owner": {"reputation": 411, "user_id": 8641269, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e972f283a2b270ddc0fab712ad2d61f5?s=128&d=identicon&r=PG&f=1", "display_name": "KatherineMichelle", "link": "https://stackoverflow.com/users/8641269/katherinemichelle"}, "reply_to_user": {"reputation": 2021, "user_id": 6536335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-buZs4yDMhtE/AAAAAAAAAAI/AAAAAAAAABI/4apuEbD4X3c/photo.jpg?sz=128", "display_name": "Ali David", "link": "https://stackoverflow.com/users/6536335/ali-david"}, "edited": false, "score": 0, "creation_date": 1543979580, "post_id": 53624352, "comment_id": 94109425, "body": "@RobJS I moved the &lt;p&gt; tag into ion-content and still having the same problem."}, {"owner": {"reputation": 2021, "user_id": 6536335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-buZs4yDMhtE/AAAAAAAAAAI/AAAAAAAAABI/4apuEbD4X3c/photo.jpg?sz=128", "display_name": "Ali David", "link": "https://stackoverflow.com/users/6536335/ali-david"}, "edited": false, "score": 0, "creation_date": 1543979736, "post_id": 53624352, "comment_id": 94109469, "body": "what if you wrap <code>continue()</code> function&#39;s content by <code>try~catch</code>? hope u could catch any errors..."}], "owner": {"reputation": 411, "user_id": 8641269, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e972f283a2b270ddc0fab712ad2d61f5?s=128&d=identicon&r=PG&f=1", "display_name": "KatherineMichelle", "link": "https://stackoverflow.com/users/8641269/katherinemichelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1543978506, "creation_date": 1543977425, "last_edit_date": 1543978506, "question_id": 53624352, "link": "https://stackoverflow.com/questions/53624352/scrollintoview-not-working-using-plain-js", "title": "scrollIntoView() not working using plain JS", "body": "<p>I am trying to use scrollIntoView() in order for my page to scroll to an element based on a certain condition. Here is my function: </p>\n\n<pre><code>  continue() {\n    if (!this.data.inputs.selectedPackagingIds.length) {\n      this.error = 'Please select new packaging.'; // todo translate - use translation key\n    } else if (this.isPackagingSuggested &amp;&amp; !this.data.inputs.changeReasons.filter(r =&gt; { return r.selected }).length) {\n      document.getElementById(\"scroll-view\").scrollIntoView();\n      this.error = 'Please select change reason.'; // todo translate\n    } else {\n      this.navCtrl.setRoot(LabelPrintTab, { data: this.data });\n    }\n  }\n</code></pre>\n\n<p>And here is my html: </p>\n\n<pre><code>&lt;ion-content class=\"pc-nativeScannerPage\"&gt;\n // Content appears in this area.\n&lt;/ion-content&gt;\n\n&lt;p id=\"scroll-view\"&gt;Sentence to scroll to&lt;/p&gt;\n\n&lt;ion-footer class=\"scroll-footer\"&gt;\n  &lt;ion-row&gt;\n    &lt;ion-col text-right&gt;\n      &lt;span *ngIf=\"error\" class=\"pc-continue-error\"&gt;{{Error msg goes here }} &lt;/span&gt;\n      &lt;button (click)=\"continue()\" class=\"pc-primary\" ion-button&gt;{{ This button triggers the continue() function }}&lt;/button&gt;\n    &lt;/ion-col&gt;\n  &lt;/ion-row&gt;\n&lt;/ion-footer&gt;\n</code></pre>\n\n<p>However, nothing is happening. The page doesn't scroll to the element when this condition is true, and I can't figure out why. Does anyone have any suggestions?</p>\n"}, {"tags": ["javascript", "typescript", "internet-explorer"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1543976854, "post_id": 53624273, "comment_id": 94108803, "body": "What is not working?"}, {"owner": {"reputation": 25, "user_id": 10014229, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p22om8xEFLQ/AAAAAAAAAAI/AAAAAAAAC8k/GUy4p35RyCo/photo.jpg?sz=128", "display_name": "Vignesh Ramamoorthy", "link": "https://stackoverflow.com/users/10014229/vignesh-ramamoorthy"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1543977068, "post_id": 53624273, "comment_id": 94108855, "body": "browser back restriction.. on click of browser back button still it goes back to previous page in IE 11. where as in chrome its not as intended."}], "answers": [{"tags": [], "owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1544146388, "creation_date": 1544146388, "answer_id": 53662062, "question_id": 53624273, "link": "https://stackoverflow.com/questions/53624273/addeventlistenerpopstate-is-not-working-in-ie-11/53662062#53662062", "title": "addEventListener(&#39;popstate&#39;) is not working in IE 11", "body": "<p>Try to refer example below is working in chrome and IE both.</p>\n\n<p>Code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Disable Back Button in Browser - Online Demo&lt;/title&gt;\r\n    &lt;style type=\"text/css\"&gt;\r\n       div{\r\n  margin:auto;\r\n  width:400px;\r\n  border:1px solid black;\r\n}\r\nh1{\r\n  text-align:center;\r\n}\r\na{\r\n  text-decoration:none;\r\n}\r\np{\r\n  text-align:center;\r\n}\r\n    &lt;/style&gt;\r\n    &lt;script type=\"text/javascript\"&gt;\r\n       history.pushState(null, null, location.href);\r\n    window.onpopstate = function () {\r\n        history.go(1);\r\n    };\r\n    &lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n   &lt;div&gt;\r\n&lt;h1&gt;&lt;a href=\"http://www.justwebcode.com\" rel=\"index,follow\"&gt;Just Web Code&lt;/a&gt;&lt;/h1&gt;\r\n  &lt;p&gt;Click on Browser Back Button to Check&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Reference:</p>\n\n<p><a href=\"https://codepen.io/dhavalt10/pen/rGLBzB\" rel=\"nofollow noreferrer\">How to disable browser back button using JavaScript</a></p>\n\n<p>Note:- Try to run code locally, If you run the code from Stack overflow snippet than it will give an error.</p>\n"}], "owner": {"reputation": 25, "user_id": 10014229, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p22om8xEFLQ/AAAAAAAAAAI/AAAAAAAAC8k/GUy4p35RyCo/photo.jpg?sz=128", "display_name": "Vignesh Ramamoorthy", "link": "https://stackoverflow.com/users/10014229/vignesh-ramamoorthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 897, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544146388, "creation_date": 1543976715, "last_edit_date": 1543978073, "question_id": 53624273, "link": "https://stackoverflow.com/questions/53624273/addeventlistenerpopstate-is-not-working-in-ie-11", "title": "addEventListener(&#39;popstate&#39;) is not working in IE 11", "body": "<p>I'm trying to restrict browser back button.</p>\n\n<p>I have used below code to restrict. </p>\n\n<pre><code>history.pushState(null, document.title, location.href);\nglobal.window.addEventListener('popstate', function () {\n    history.pushState(null, document.title, location.href);\n});\n</code></pre>\n\n<p>Code worked really well with chrome but it is not working in IE11 </p>\n\n<p>kindly assist.</p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 21, "user_id": 9975543, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zmUmQ0EUHEs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq02cbn5nKFWcz1F9zVJVYo3vyMovw/mo/photo.jpg?sz=128", "display_name": "meiser", "link": "https://stackoverflow.com/users/9975543/meiser"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1543976681, "post_id": 53624159, "comment_id": 94108772, "body": "That only works inside the constructor of the observable, if i create one i cant do that"}, {"owner": {"reputation": 1213, "user_id": 8745435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbcf713bc8ff8e637c7a48292c6bc43?s=128&d=identicon&r=PG&f=1", "display_name": "eric99", "link": "https://stackoverflow.com/users/8745435/eric99"}, "edited": false, "score": 2, "creation_date": 1543976901, "post_id": 53624159, "comment_id": 94108813, "body": "You are looking for a Subject, which is both observer and observable. You create it with <code>const subject = new Subject()</code>, then subscribe in one place with <code>subject.subscribe()</code>, and feed it in another place with <code>subject.next(someValue)</code>."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1543977032, "post_id": 53624159, "comment_id": 94108845, "body": "whoops - Eric is correct then."}, {"owner": {"reputation": 1213, "user_id": 8745435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbcf713bc8ff8e637c7a48292c6bc43?s=128&d=identicon&r=PG&f=1", "display_name": "eric99", "link": "https://stackoverflow.com/users/8745435/eric99"}, "edited": false, "score": 0, "creation_date": 1543977448, "post_id": 53624159, "comment_id": 94108966, "body": "Not quite - the syntax to feed is <code>subject.onNext(someValue)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6712, "user_id": 9483405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec19c15095a06428d49156fda4c481a?s=128&d=identicon&r=PG", "display_name": "Yanis-git", "link": "https://stackoverflow.com/users/9483405/yanis-git"}, "edited": false, "score": 1, "creation_date": 1543987265, "post_id": 53624824, "comment_id": 94111281, "body": "nice sample, thanks you for sharing. You can also switch your eventListener to <code>fromEvent</code> from rxjs"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 6712, "user_id": 9483405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec19c15095a06428d49156fda4c481a?s=128&d=identicon&r=PG", "display_name": "Yanis-git", "link": "https://stackoverflow.com/users/9483405/yanis-git"}, "edited": false, "score": 0, "creation_date": 1543987672, "post_id": 53624824, "comment_id": 94111395, "body": "Good call, seeing we are demonstrating rxjs I changed the event handler to use fromEvent."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 2, "last_activity_date": 1543987636, "last_edit_date": 1543987636, "creation_date": 1543981122, "answer_id": 53624824, "question_id": 53624159, "link": "https://stackoverflow.com/questions/53624159/how-to-feed-an-rxjs-observer/53624824#53624824", "title": "How to feed an rxjs observer", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { Subject, fromEvent } = rxjs;\r\n\r\nconst number$ = new Subject();\r\n\r\nfromEvent(document.getElementById('button'), 'click').subscribe(() =&gt; {\r\n  number$.next(Math.random() * 10);\r\n});\r\n\r\nnumber$.subscribe(number =&gt; {\r\n  document.getElementById('output').innerText = number;\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.3.3/rxjs.umd.min.js\"&gt;&lt;/script&gt;\r\n&lt;button id=\"button\"&gt;Click for random number&lt;/button&gt;\r\n&lt;div id=\"output\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 9975543, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zmUmQ0EUHEs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq02cbn5nKFWcz1F9zVJVYo3vyMovw/mo/photo.jpg?sz=128", "display_name": "meiser", "link": "https://stackoverflow.com/users/9975543/meiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543987636, "creation_date": 1543975870, "question_id": 53624159, "link": "https://stackoverflow.com/questions/53624159/how-to-feed-an-rxjs-observer", "title": "How to feed an rxjs observer", "body": "<p>everyone seems to find observers easy but i find them extremely difficult.\nI need to create an observable then feed a number to it when a button is pressed, in all the examples that i found they define the content of the observable in the constructor but i need to feed it after is created.\nIs this even possible?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "edited": false, "score": 1, "creation_date": 1545078783, "post_id": 53624474, "comment_id": 94493862, "body": "This is not what I was looking for, but it does solve the problem. Thank you"}], "tags": [], "owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "is_accepted": true, "score": 2, "last_activity_date": 1543978412, "creation_date": 1543978412, "answer_id": 53624474, "question_id": 53623971, "link": "https://stackoverflow.com/questions/53623971/transpile-typescript-without-cli/53624474#53624474", "title": "Transpile Typescript without CLI", "body": "<p>You could use  <a href=\"https://nodejs.org/docs/latest/api/child_process.html\" rel=\"nofollow noreferrer\"><code>child_process</code></a>module</p>\n\n<p>In your case:</p>\n\n<pre><code>const { spawn } = require('child_process');\n\nconst ls = spawn('tsc', ['-p', 'server']);\n\nls.stdout.on('data', (data) =&gt; {\n  console.log(`stdout: ${data}`);\n});\n\nls.stderr.on('data', (data) =&gt; {\n  console.log(`stderr: ${data}`);\n});\n\nls.on('close', (code) =&gt; {\n  console.log(`child process exited with code ${code}`);\n});\n</code></pre>\n"}], "owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 53624474, "answer_count": 1, "score": 2, "last_activity_date": 1543978412, "creation_date": 1543974236, "question_id": 53623971, "link": "https://stackoverflow.com/questions/53623971/transpile-typescript-without-cli", "title": "Transpile Typescript without CLI", "body": "<p>How can I transpile Typescript without using the command line?</p>\n\n<p>I want to have a script <code>build.js</code> that will build my application.</p>\n\n<p>So far, I found that the <code>typescript</code> package has a <code>transpile(inputArgument, compileOptions)</code> method, but I couldn't find anything about this on their documentation.</p>\n\n<p>I can have my project built using <code>tsc -p server</code>, so I imagined the following would work:</p>\n\n<pre><code>const tsc = require('typescript');\n\ntsc.transpile(\"\", {\n    project: \"server\",\n});\n</code></pre>\n\n<p>Then I'd use <code>node build.js</code>.</p>\n\n<p>I couldn't get the <code>tsc.transpile()</code> to work (I couldn't figure out what the <code>inputArgument</code> was) and I couldn't find on their documentation how to do this: transpile from code, without the CLI.</p>\n"}, {"tags": ["angular", "typescript", "openlayers"], "answers": [{"tags": [], "owner": {"reputation": 24020, "user_id": 264802, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9d9b871f40b338b97bfb44bdafa14a87?s=128&d=identicon&r=PG", "display_name": "fulvio", "link": "https://stackoverflow.com/users/264802/fulvio"}, "is_accepted": false, "score": 0, "last_activity_date": 1543967343, "creation_date": 1543967343, "answer_id": 53623108, "question_id": 53623003, "link": "https://stackoverflow.com/questions/53623003/question-on-importing-openlayers-modules-to-angular-2/53623108#53623108", "title": "Question on importing OpenLayers module(s) to Angular 2+", "body": "<p>The following should work:</p>\n\n<p><code>import * as ol from 'openlayers';</code></p>\n\n<pre><code>export class MapComponent implements OnInit {\n   map: ol.Map;\n}\n\nngOnInit() {\n  this.map = new ol.Map({\n     ...\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 765, "user_id": 4839781, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a258c034de54cca70f94a57b6c377014?s=128&d=identicon&r=PG&f=1", "display_name": "FatAl", "link": "https://stackoverflow.com/users/4839781/fatal"}, "is_accepted": false, "score": 1, "last_activity_date": 1544015629, "creation_date": 1544015629, "answer_id": 53633190, "question_id": 53623003, "link": "https://stackoverflow.com/questions/53623003/question-on-importing-openlayers-modules-to-angular-2/53633190#53633190", "title": "Question on importing OpenLayers module(s) to Angular 2+", "body": "<p>Here an example and you can find a lot of example on the site of <a href=\"http://openlayers.org/en/latest/examples/custom-controls.html?q=control\" rel=\"nofollow noreferrer\">Openlayers</a></p>\n\n<pre><code>import {defaults as defaultControls, OverviewMap} from 'ol/control.js';\n\n  var map = new Map({\n    controls: defaultControls().extend([\n      new OverviewMap()\n    ]),\n    layers: [\n      new TileLayer({\n        source: new OSM()\n      })\n    ],\n    target: 'map',\n    view: new View({\n      center: [500000, 6000000],\n      zoom: 7\n    })\n  });\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9279918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b2ecd3366e6b4c1b53a89b9d4a33e5?s=128&d=identicon&r=PG&f=1", "display_name": "woodcreek3913", "link": "https://stackoverflow.com/users/9279918/woodcreek3913"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1544015629, "creation_date": 1543966526, "question_id": 53623003, "link": "https://stackoverflow.com/questions/53623003/question-on-importing-openlayers-modules-to-angular-2", "title": "Question on importing OpenLayers module(s) to Angular 2+", "body": "<p>I'm using <code>Angular 7</code>, <code>OpenLayers 5.3.0</code> (<code>ol</code>). I am new to <code>OpenLayers</code>. I don't seem to able to find examples of <code>Angular 2+</code> with<code>OverLayers</code>. I try to follow the examples from <a href=\"https://openlayers.org/en/latest/examples/index.html\" rel=\"nofollow noreferrer\">https://openlayers.org/en/latest/examples/index.html</a> and make the code work for<code>Angular 2+</code>. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/48283679/use-openlayers-4-with-angular-5\">Use OpenLayers 4 with Angular 5</a> is very helpful. But in other cases, I'm having hard time getting the <code>OpenLayers</code> modules import to work. </p>\n\n<p>For example, here's a <code>JavaScript</code> version:</p>\n\n<pre><code>var map = new OpenLayers.Map({\n    div: \"map\",\n    layers: [new OpenLayers.Layer.OSM()],\n    controls: [\n        new OpenLayers.Control.Navigation({\n            dragPanOptions: {\n                enableKinetic: true\n            }\n        }),\n        new OpenLayers.Control.Attribution(),\n        new OpenLayers.Control.Zoom()\n    ],\n    center: [0, 0],\n    zoom: 1\n});\n</code></pre>\n\n<p>How do I import the <code>OpenLayers</code> 'Control' module to <code>Angular 2+</code>? I've tried </p>\n\n<pre><code>import OlMap from 'ol/Map';\nimport OlXYZ from 'ol/source/XYZ';\nimport OlTileLayer from 'ol/layer/Tile';\nimport OlView from 'ol/View';\nimport * as ol from 'ol';\n\nthis.map = new OlMap({\n      target: 'map',\n      layers: [this.layer],\n      view: this.view,\n      controls: [\n        new ol.control.navigation({\n            dragPanOptions: {\n                enableKinetic: true\n            }\n        }),\n        new ol.control.attribution(),\n        new ol.control.zoom()\n    ],\n});\n</code></pre>\n\n<p>But got error <code>export 'Control' (imported as 'ol') was not found in 'ol'</code>. Any suggestions? Thanks.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1543966659, "post_id": 53622978, "comment_id": 94106389, "body": "but <code>ObjectWithPropertyName</code> can have only <code>Property1</code> not <code>Property2</code> as <code>prop</code> could be.. Even if you fix this, the type will still be inferred to <code>{ [x: string]: string; }</code>. I don&#39;t think you will get away without a type assertion here.."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1543966786, "post_id": 53622978, "comment_id": 94106424, "body": "@TitianCernicova-Dragomir Nice catch. I updated the question to address that concern."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1543966838, "post_id": 53622978, "comment_id": 94106440, "body": "@TitianCernicova-Dragomir I haven&#39;t even been able to make it work with a type assertion."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1543967384, "creation_date": 1543967384, "answer_id": 53623113, "question_id": 53622978, "link": "https://stackoverflow.com/questions/53622978/prevent-typescript-from-expanding-a-string-literal-type-into-a-string-type-when/53623113#53623113", "title": "Prevent TypeScript from expanding a string literal type into a string type when passing it through a function", "body": "<p>The reason it works for the <code>const</code> example is that there typescript knows <code>prop</code> can only be <code>'Property1'</code>. When you deal with parameters that can have any of a number of value, so typescript will infer a type with an index signature. </p>\n\n<p>For example, while not particularly useful, this also works, since prop can only be <code>Property1</code>: </p>\n\n<pre><code>const func = (prop: 'Property1') =&gt; {\n    const obj: ObjectWithPropertyName = {\n        [prop]: \"fails\",\n    } ;\n};\n</code></pre>\n\n<p>The simplest solution is to use a type assertion to force the type you want for <code>obj</code>:</p>\n\n<pre><code>const func = (prop: PropertyName) =&gt; {\n    const obj = {\n        [prop]: \"fails\",\n    } as ObjectWithPropertyName;\n};\n</code></pre>\n\n<p>Depending on what you are trying to do, you might consider a different approach, for example we can capture the actual constant passed in an return a <code>Record</code> that contains whatever that key is:</p>\n\n<pre><code>const func = &lt;T extends PropertyName&gt;(prop: T) =&gt; {\n    const obj : Record&lt;T, string&gt; = {\n        [prop]: \"ok\",\n    };\n    return obj;\n};\nfunc('Property1').Property1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1543967801, "post_id": 53623125, "comment_id": 94106721, "body": "Yeah the exhaustive check version is the typesafe solution but it gets really painful really fast :("}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1543968338, "post_id": 53623125, "comment_id": 94106863, "body": "Yes, someone really ought to teach the compiler how to do case analysis"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 2, "last_activity_date": 1543967501, "creation_date": 1543967501, "answer_id": 53623125, "question_id": 53622978, "link": "https://stackoverflow.com/questions/53622978/prevent-typescript-from-expanding-a-string-literal-type-into-a-string-type-when/53623125#53623125", "title": "Prevent TypeScript from expanding a string literal type into a string type when passing it through a function", "body": "<p>It's not passing through a function that causes this. </p>\n\n<p>When it 'works', it works because somehow the compiler is still narrowing the type of <code>prop</code> to <code>Property1</code></p>\n\n<pre><code>const prop: PropertyName = 'Property1';\nconst obj2: ObjectWithPropertyName = {\n    [prop]: 'works',\n}\n</code></pre>\n\n<p>because if you add type assertion <code>'Property1' as PropertyName</code> it starts failing with the same error</p>\n\n<pre><code>const prop: PropertyName = 'Property1' as PropertyName;\nconst obj2: ObjectWithPropertyName = {\n    [prop]: 'works',\n}\n</code></pre>\n\n<p>Essentially, when <code>prop</code> has union type <code>'Property1' | 'Property2'</code>, the value <code>{[prop]: 'something'}</code> is not assignable to <code>{Property1: string}</code>, and it's not assignable to <code>{Property2: string}</code> either, making it nonassignable to the union type.</p>\n\n<p>You can make it work by doing exhaustive check like this:</p>\n\n<pre><code>const func = (prop: PropertyName) =&gt; {\n    const obj: ObjectWithPropertyName = \n        prop === 'Property1' ? { [prop]: \"works\" } : { [prop]: \"works\" }\n};\n</code></pre>\n"}], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1543967501, "creation_date": 1543966314, "last_edit_date": 1543966768, "question_id": 53622978, "link": "https://stackoverflow.com/questions/53622978/prevent-typescript-from-expanding-a-string-literal-type-into-a-string-type-when", "title": "Prevent TypeScript from expanding a string literal type into a string type when passing it through a function", "body": "<p>How do we prevent TypeScript from expanding a string literal type into a string? </p>\n\n<p>E.g. <a href=\"https://www.typescriptlang.org/play/#src=type%20PropertyName%20%3D%20&#39;Property1&#39;%20%7C%20&#39;Property2&#39;%3B%0D%0A%0D%0Atype%20ObjectWithPropertyName%20%3D%0D%0A%20%20%20%20%7B%20Property1%3A%20string%3B%20%7D%20%7C%0D%0A%20%20%20%20%7B%20Property2%3A%20string%3B%20%7D%3B%0D%0A%20%20%0D%0Aconst%20obj1%3A%20ObjectWithPropertyName%20%3D%20%7B%0D%0A%20%20%20%20%5B&#39;Property1&#39;%5D%3A%20&#39;works&#39;%2C%0D%0A%7D%0D%0A%0D%0Aconst%20prop%3A%20PropertyName%20%3D%20&#39;Property1&#39;%3B%0D%0Aconst%20obj2%3A%20ObjectWithPropertyName%20%3D%20%7B%0D%0A%20%20%20%20%5Bprop%5D%3A%20&#39;works&#39;%2C%0D%0A%7D%0D%0A%0D%0Aconst%20func%20%3D%20(prop%3A%20PropertyName)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20obj%3A%20ObjectWithPropertyName%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%5Bprop%5D%3A%20%22fails%22%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0Aconst%20funcToo%20%3D%20(prop%3A%20PropertyName)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20propInner%3A%20PropertyName%20%3D%20prop%3B%0D%0A%20%20%20%20const%20obj%3A%20ObjectWithPropertyName%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%5BpropInner%5D%3A%20%22fails%22%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%7D%3B\" rel=\"nofollow noreferrer\">in the Playground</a></p>\n\n<pre><code>type PropertyName = 'Property1' | 'Property2';\n\ntype ObjectWithPropertyName =\n    { Property1: string; } |\n    { Property2: string; };\n\nconst obj1: ObjectWithPropertyName = {\n    ['Property1']: 'works',\n}\n\nconst prop: PropertyName = 'Property1';\nconst obj2: ObjectWithPropertyName = {\n    [prop]: 'works',\n}\n\nconst func = (prop: PropertyName) =&gt; {\n    const obj: ObjectWithPropertyName = {\n        [prop]: \"fails\",\n    };\n};\n\nconst funcToo = (prop: PropertyName) =&gt; {\n    const propInner: PropertyName = prop;\n    const obj: ObjectWithPropertyName = {\n        [propInner]: \"fails\",\n    };\n};\n</code></pre>\n\n<p>In the last case the error is this: </p>\n\n<blockquote>\n  <p>Property 'Property1' is missing in type '{ [x: string]: string; }' but required in type 'ObjectWithPropertyName'.</p>\n</blockquote>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1543965892, "post_id": 53622904, "comment_id": 94106208, "body": "I just wanted to tell you I&#39;m really impressed with your typescript answers :-)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1543965916, "post_id": 53622904, "comment_id": 94106217, "body": "@zerkms 10x :) It&#39;s nice to be appreciated :D"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1543965843, "last_edit_date": 1543965843, "creation_date": 1543965790, "answer_id": 53622904, "question_id": 53622852, "link": "https://stackoverflow.com/questions/53622852/infer-generic-type-without-widening/53622904#53622904", "title": "Infer generic type without widening", "body": "<p>Inferring <code>A</code> based on the type constraint of <code>FB</code> is not something typescript will really do. Since the parameters offer no site to infer <code>A</code>, typescript will infer the widest possible type for <code>A</code> which is <code>{}</code></p>\n\n<p>You can use a conditional type to extract <code>A</code> from the type parameter <code>FB</code>:</p>\n\n<pre><code>type Foo&lt;A&gt; = { type: \"foo\", x: A }\ntype Bar&lt;A&gt; = { type: \"bar\", y: A }\n\ntype FooBar&lt;A&gt; = Foo&lt;A&gt; | Bar&lt;A&gt;\n\ntype Opposite&lt;A, FB extends FooBar&lt;A&gt;&gt; = FB[\"type\"] extends \"foo\" ? Bar&lt;A&gt; : Foo&lt;A&gt;\n\ntype FooBarParam&lt;T&gt; = T extends FooBar&lt;infer A&gt; ? A : never;\ndeclare function process&lt;FB extends FooBar&lt;any&gt;&gt;(foo: FB): Opposite&lt;FooBarParam&lt;FB&gt;, FB&gt;\n\nconst x: Foo&lt;number&gt; = null as any\n\nconst y = process(x) // Bar&lt;number&gt;\n</code></pre>\n"}], "owner": {"reputation": 7063, "user_id": 1860652, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/a3Lvr.jpg?s=128&g=1", "display_name": "AlexFoxGill", "link": "https://stackoverflow.com/users/1860652/alexfoxgill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "accepted_answer_id": 53622904, "answer_count": 1, "score": 3, "last_activity_date": 1543965843, "creation_date": 1543965466, "question_id": 53622852, "link": "https://stackoverflow.com/questions/53622852/infer-generic-type-without-widening", "title": "Infer generic type without widening", "body": "<p>In the following snippet the type of <code>y</code> is inferred as <code>Bar&lt;{}&gt;</code>, due to bivariance:</p>\n\n<pre><code>type Foo&lt;A&gt; = { type: \"foo\", x: A }\ntype Bar&lt;A&gt; = { type: \"bar\", y: A }\n\ntype FooBar&lt;A&gt; = Foo&lt;A&gt; | Bar&lt;A&gt;\n\ntype Opposite&lt;A, FB extends FooBar&lt;A&gt;&gt; = FB[\"type\"] extends \"foo\" ? Bar&lt;A&gt; : Foo&lt;A&gt;\n\ndeclare function process&lt;A, FB extends FooBar&lt;A&gt;&gt;(foo: FB): Opposite&lt;A, FB&gt;\n\nconst x: Foo&lt;number&gt; = null as any\n\nconst y = process(x) // Bar&lt;{}&gt;\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=%0D%0Atype%20Foo%3CA%3E%20%3D%20%7B%20type%3A%20%22foo%22%2C%20x%3A%20A%20%7D%0D%0Atype%20Bar%3CA%3E%20%3D%20%7B%20type%3A%20%22bar%22%2C%20y%3A%20A%20%7D%0D%0A%0D%0Atype%20FooBar%3CA%3E%20%3D%20Foo%3CA%3E%20%7C%20Bar%3CA%3E%0D%0A%0D%0Atype%20Opposite%3CA%2C%20FB%20extends%20FooBar%3CA%3E%3E%20%3D%20FB%5B%22type%22%5D%20extends%20%22foo%22%20%3F%20Bar%3CA%3E%20%3A%20Foo%3CA%3E%0D%0A%0D%0Adeclare%20function%20process%3CA%2C%20FB%20extends%20FooBar%3CA%3E%3E(foo%3A%20FB)%3A%20Opposite%3CA%2C%20FB%3E%0D%0A%0D%0Aconst%20x%3A%20Foo%3Cnumber%3E%20%3D%20null%20as%20any%0D%0A%0D%0Aconst%20y%20%3D%20process(x)%20%2F%2F%20Bar%3C%7B%7D%3E\" rel=\"nofollow noreferrer\">Playground link</a></p>\n\n<p>Can I preserve the generic type <code>A</code> so that <code>process(x)</code> returns <code>Bar&lt;number&gt;</code> without specifying it explicitly?</p>\n"}, {"tags": ["angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 1109, "user_id": 2430556, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hOCDY.png?s=128&g=1", "display_name": "Nouman Bhatti", "link": "https://stackoverflow.com/users/2430556/nouman-bhatti"}, "edited": false, "score": 0, "creation_date": 1546466292, "post_id": 53622757, "comment_id": 94864473, "body": "I didn&#39;t find a solution to this. So in end I commented out the code"}], "answers": [{"comments": [{"owner": {"reputation": 1109, "user_id": 2430556, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hOCDY.png?s=128&g=1", "display_name": "Nouman Bhatti", "link": "https://stackoverflow.com/users/2430556/nouman-bhatti"}, "edited": false, "score": 0, "creation_date": 1543972115, "post_id": 53623575, "comment_id": 94107697, "body": "it didn&#39;t fix it."}, {"owner": {"reputation": 319, "user_id": 1869407, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/adf8d516b94794e303e95dfc2910ade9?s=128&d=identicon&r=PG", "display_name": "user1869407", "link": "https://stackoverflow.com/users/1869407/user1869407"}, "edited": false, "score": 0, "creation_date": 1544200253, "post_id": 53623575, "comment_id": 94204421, "body": "I am getting the same error message. I am doing the same thing with upgrading everything for my .net angular project. Upgrading to the latest version. If you find a solution please post here. I am stuck as well!"}], "tags": [], "owner": {"reputation": 58, "user_id": 2695118, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5fc903f48352c155975a564f1cf030ca?s=128&d=identicon&r=PG&f=1", "display_name": "Ashifur rahman", "link": "https://stackoverflow.com/users/2695118/ashifur-rahman"}, "is_accepted": false, "score": -1, "last_activity_date": 1544413604, "last_edit_date": 1544413604, "creation_date": 1543970811, "answer_id": 53623575, "question_id": 53622757, "link": "https://stackoverflow.com/questions/53622757/after-update-webpack-and-angular-receives-an-error-cannot-find-name-setimmediat/53623575#53623575", "title": "After update webpack and Angular receives an error Cannot find name &#39;setImmediate&#39;", "body": "<p>sorry my bad. run \"npm install\" command from cmd or powershell. it should fix the issue.</p>\n"}, {"comments": [{"owner": {"reputation": 1109, "user_id": 2430556, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hOCDY.png?s=128&g=1", "display_name": "Nouman Bhatti", "link": "https://stackoverflow.com/users/2430556/nouman-bhatti"}, "edited": false, "score": 0, "creation_date": 1572311588, "post_id": 54032057, "comment_id": 103512789, "body": "One thing to note here this solution doesn&#39;t work with webpack v4"}], "tags": [], "owner": {"reputation": 71, "user_id": 6832729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MeNsm.jpg?s=128&g=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/6832729/kyle"}, "is_accepted": true, "score": 2, "last_activity_date": 1546894184, "last_edit_date": 1546894184, "creation_date": 1546565306, "answer_id": 54032057, "question_id": 53622757, "link": "https://stackoverflow.com/questions/53622757/after-update-webpack-and-angular-receives-an-error-cannot-find-name-setimmediat/54032057#54032057", "title": "After update webpack and Angular receives an error Cannot find name &#39;setImmediate&#39;", "body": "<p>I was having the same problem, but I think I figured out what the issue was. I had to install the typing declaration files for node.</p>\n\n<p>In package.json add</p>\n\n<pre><code>\"@types/node\": \"10.12.18\",\n</code></pre>\n\n<p>Also make sure that your tsconfig.json is including the type files correctly. Either add 'node' to your \"types\" array if you are explicitly including the type files manually:</p>\n\n<pre><code>\"types\": [\"node\"]\n</code></pre>\n\n<p>or use the \"typeRoots\" property:</p>\n\n<pre><code>\"typeRoots\": [ \"node_modules/@types\" ]\n</code></pre>\n\n<p>I prefer the second option, as then all the @type packages you install will automatically get recognized by your IDE.</p>\n\n<hr>\n\n<p>This question is for a similar issue, the answer there goes into more detail than I did: <a href=\"https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require?rq=1\">typescript getting error TS2304: cannot find name &#39; require&#39;</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3095355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd4bc0d3998019348c4a5972996d1fa?s=128&d=identicon&r=PG&f=1", "display_name": "user3095355", "link": "https://stackoverflow.com/users/3095355/user3095355"}, "is_accepted": false, "score": 0, "last_activity_date": 1565778714, "creation_date": 1565778714, "answer_id": 57492969, "question_id": 53622757, "link": "https://stackoverflow.com/questions/53622757/after-update-webpack-and-angular-receives-an-error-cannot-find-name-setimmediat/57492969#57492969", "title": "After update webpack and Angular receives an error Cannot find name &#39;setImmediate&#39;", "body": "<p>You can use (window) before setImmediate</p>\n\n<pre><code>return new Promise&lt;RenderResult&gt;((resolve, reject) =&gt; {\n        zone.onError.subscribe((errorInfo: any) =&gt; reject(errorInfo));\n        appRef.isStable.first(isStable =&gt; isStable).subscribe(() =&gt; {\n            // Because 'onStable' fires before 'onError', we have to delay slightly before\n            // completing the request in case there's an error to report\n            (&lt;any&gt;window).setImmediate(() =&gt; {\n                resolve({\n                    html: state.renderToString()\n                });\n                moduleRef.destroy();\n            });\n        });\n    });\n</code></pre>\n"}], "owner": {"reputation": 1109, "user_id": 2430556, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hOCDY.png?s=128&g=1", "display_name": "Nouman Bhatti", "link": "https://stackoverflow.com/users/2430556/nouman-bhatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1473, "favorite_count": 0, "accepted_answer_id": 54032057, "answer_count": 3, "score": 1, "last_activity_date": 1565778714, "creation_date": 1543964840, "question_id": 53622757, "link": "https://stackoverflow.com/questions/53622757/after-update-webpack-and-angular-receives-an-error-cannot-find-name-setimmediat", "title": "After update webpack and Angular receives an error Cannot find name &#39;setImmediate&#39;", "body": "<p>I've project created using <code>Visual Studio Angular Template</code>. I recently updated my <code>Angular</code> from 6 to 7 and <code>Typescript</code> to <strong>3.1.6</strong>. Also upgraded <code>Webpack</code> from 3.8.1 to <strong>3.12.0</strong>.</p>\n\n<p>Now when I try to compile using webpack command I get the following error</p>\n\n<pre><code>ERROR in [at-loader] ./ClientApp/boot.server.ts:30:17\n        TS2304: Cannot find name 'setImmediate'.\n</code></pre>\n\n<p>This error is thrown from boot.server.ts code</p>\n\n<pre><code>return platformDynamicServer(providers).bootstrapModule(AppModule).then(moduleRef =&gt; {\n        const appRef: ApplicationRef = moduleRef.injector.get(ApplicationRef);\n        const state = moduleRef.injector.get(PlatformState);\n        const zone: NgZone = moduleRef.injector.get(NgZone);\n\n        return new Promise&lt;RenderResult&gt;((resolve, reject) =&gt; {\n            zone.onError.subscribe((errorInfo: any) =&gt; reject(errorInfo));\n            appRef.isStable.pipe(first(isStable =&gt; isStable)).subscribe(() =&gt; {\n                // Because 'onStable' fires before 'onError', we have to delay slightly before\n                // completing the request in case there's an error to report\n                setImmediate(() =&gt; {\n                    resolve({\n                        html: state.renderToString()\n                    });\n                    moduleRef.destroy();\n                });\n            });\n        });\n    });\n</code></pre>\n\n<p>I'm trying to fix this for some time but no success. Any idea></p>\n"}, {"tags": ["javascript", "typescript", "type-inference"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 3, "creation_date": 1543963928, "post_id": 53622498, "comment_id": 94105689, "body": "Why are you declaring without initializing? Given the code you&#39;re showing, there is no good use-case to ever write this, so it&#39;s a good idea to show what you&#39;re doing and why you think you need stricter type inference there instead of changing the code to ensure type inference is correct from the get-go."}, {"owner": {"reputation": 3447, "user_id": 5086286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/019e398db7ccd2e6f389e855b69da753?s=128&d=identicon&r=PG&f=1", "display_name": "maximedupre", "link": "https://stackoverflow.com/users/5086286/maximedupre"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1544227809, "post_id": 53622498, "comment_id": 94214526, "body": "Updated the example."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1544232256, "post_id": 53622498, "comment_id": 94215299, "body": "Okay but still: why would you write this, instead of having <code>someFunction</code> <i>return</i> the data, and doing your declare-and-assign later, using <code>let spyObj = someFunction();</code>? This is still basically &quot;bad code&quot;: there is no reason for functions to modify global variables in local scope: just return data when requested, or if the function should &quot;enrich&quot; an object, pass that object in as argument. Don&#39;t use global variables that can get modified as a &quot;side effect&quot; of calling a function: make that code intentional."}, {"owner": {"reputation": 3447, "user_id": 5086286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/019e398db7ccd2e6f389e855b69da753?s=128&d=identicon&r=PG&f=1", "display_name": "maximedupre", "link": "https://stackoverflow.com/users/5086286/maximedupre"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1544459940, "post_id": 53622498, "comment_id": 94274312, "body": "This is just an example\u2026just imagine the code is in a closure for heaven&#39;s sake lol! This is a snippet, not production code. It\u2019s only purpose is to illustrate the use case I\u2019m talking about. I don&#39;t need your &quot;good code&quot; advice, or the question would have been totally different. If you don\u2019t have a solution to my problem or even if you think there are no solutions, feel free to comment."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1544461594, "post_id": 53622498, "comment_id": 94275220, "body": "I will (for heaven&#39;s sake?) do no such thing. If you have a real problem, show an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of that problem. If you&#39;re just writing toy code, we don&#39;t need to answer this, and if you&#39;re just musing, please mention that in the post. If you have real code that runs into this problem, then <i>it too</i> might very well have &quot;rewrite this, to be typescript-friendly&quot; as solution. Rather than &quot;trying to fight typescript by doing something you wouldn&#39;t be writing in the first place&quot;. Right now, for what you show, the solution really is &quot;just rewrite it, what you have is bad good&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 3447, "user_id": 5086286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/019e398db7ccd2e6f389e855b69da753?s=128&d=identicon&r=PG&f=1", "display_name": "maximedupre", "link": "https://stackoverflow.com/users/5086286/maximedupre"}, "edited": false, "score": 0, "creation_date": 1544227902, "post_id": 53623632, "comment_id": 94214551, "body": "I know I can&#39;t delcare two variables with the same name...they were part of two different examples. Sorry for the confusion, I edited my question. Regarding the second part of your answer, no it does not, that&#39;s my problem."}], "tags": [], "owner": {"reputation": 58, "user_id": 2695118, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5fc903f48352c155975a564f1cf030ca?s=128&d=identicon&r=PG&f=1", "display_name": "Ashifur rahman", "link": "https://stackoverflow.com/users/2695118/ashifur-rahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1543971285, "creation_date": 1543971285, "answer_id": 53623632, "question_id": 53622498, "link": "https://stackoverflow.com/questions/53622498/how-to-infer-variable-type-at-assignment-instead-of-declaration/53623632#53623632", "title": "How to infer variable type at assignment instead of declaration?", "body": "<p>First you can't declare two variable with the same name. </p>\n\n<p>let spyObjs;\nlet spyObjs = { fruit: 'apple', os: 'windows' };</p>\n\n<p>Ts error: Can not redeclare block-scoped variable \"spyObjs\"</p>\n\n<p>Secondly when you declare this\nlet spyObjs = { fruit: 'apple', os: 'windows' };\nits type no longer is \"any\". it becomes \"{ fruit: 'apple', os: 'windows' }\"</p>\n"}], "owner": {"reputation": 3447, "user_id": 5086286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/019e398db7ccd2e6f389e855b69da753?s=128&d=identicon&r=PG&f=1", "display_name": "maximedupre", "link": "https://stackoverflow.com/users/5086286/maximedupre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544227776, "creation_date": 1543963075, "last_edit_date": 1592644375, "question_id": 53622498, "link": "https://stackoverflow.com/questions/53622498/how-to-infer-variable-type-at-assignment-instead-of-declaration", "title": "How to infer variable type at assignment instead of declaration?", "body": "<p>Let's say I have this declaration:</p>\n<pre><code>let spyObjs;\n</code></pre>\n<p>The type of <code>spyObjs</code> will be <code>any</code>. Now if I have this assignment:</p>\n<pre><code>let spyObjs = {fruit: 'apple', os: 'windows'};\n</code></pre>\n<p>The type of <code>spyObjs</code> will be <code>{fruit: string, os: string}</code>, because the type is inferred. What I want is this:</p>\n<pre><code>let spyObjs;\nspyObjs = {fruit: 'apple', os: 'windows'};\n</code></pre>\n<p>and the type of <code>spyObjs</code> to be <code>{fruit: string, os: string}</code>. Unfortunately, the type is still <code>any</code>.</p>\n<p>How can this be achieved with TS 3.0?</p>\n<p>Cheers!</p>\n<h1><strong>EDIT</strong></h1>\n<p>Ok, I'm sorry if the example was ambiguous. The code would look a little more like:</p>\n<pre><code>let spyObjs;\n\nlet someFunction = () =&gt; {\n    spyObjs = { fruit: 'apple', os: 'windows' };\n}\n\nlet someOtherFunction = () =&gt; {\n    // user spyObjs here also\n}\n\nsomeFunction()\nsomeOtherFunction()\n</code></pre>\n<p>How can the type be inferred in this scenario?</p>\n"}, {"tags": ["angular", "typescript", "pdfmake"], "answers": [{"comments": [{"owner": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "edited": false, "score": 1, "creation_date": 1592218153, "post_id": 58954454, "comment_id": 110336365, "body": "I&#39;m getting an error: <code>vfs</code> is readonly. Are you using typescript? how did you solve this?"}], "tags": [], "owner": {"reputation": 242, "user_id": 7698958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf63f0e3d236ea88611286cf386fd230?s=128&d=identicon&r=PG&f=1", "display_name": "Sri Darshana", "link": "https://stackoverflow.com/users/7698958/sri-darshana"}, "is_accepted": true, "score": 2, "last_activity_date": 1574253107, "creation_date": 1574253107, "answer_id": 58954454, "question_id": 53622307, "link": "https://stackoverflow.com/questions/53622307/file-roboto-regular-ttf-not-found-in-virtual-file-system-in-angular-6-pdfmake/58954454#58954454", "title": "File &#39;Roboto-Regular.ttf&#39; not found in virtual file system in Angular 6 (pdfMake)", "body": "<pre><code>for ts file\n\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\n\nconstructor(){\n    pdfMake.vfs = pdfFonts.pdfMake.vfs;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "is_accepted": false, "score": 1, "last_activity_date": 1592218809, "creation_date": 1592218809, "answer_id": 62386824, "question_id": 53622307, "link": "https://stackoverflow.com/questions/53622307/file-roboto-regular-ttf-not-found-in-virtual-file-system-in-angular-6-pdfmake/62386824#62386824", "title": "File &#39;Roboto-Regular.ttf&#39; not found in virtual file system in Angular 6 (pdfMake)", "body": "<p>Install the scripts using NPM:</p>\n\n<pre><code>npm i -S pdfmake\nnpm i -D @types/pdfmake\n</code></pre>\n\n<p>In your Angular component/ service:</p>\n\n<pre><code>import * as pdfMake from 'pdfmake/build/pdfmake';\nimport * as pdfFonts from 'pdfmake/build/vfs_fonts';\n\n// ...\n\npublic downloadPdf(): void\n{\n  const pdfData: TDocumentDefinitions =\n  {\n    content:\n    [\n      'First paragraph'\n    ]\n  };\n\n  const pdfFile = pdfMake.createPdf(pdfData, null, null, pdfFonts.pdfMake.vfs);\n\n  pdfFile.download();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13171636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjDoRkSKKpZLCKyvs8gZP7azdQITlFNPWu4Xu9Blw=k-s128", "display_name": "Jonthan Ulfeng", "link": "https://stackoverflow.com/users/13171636/jonthan-ulfeng"}, "is_accepted": false, "score": 0, "last_activity_date": 1609802304, "creation_date": 1609802304, "answer_id": 65571140, "question_id": 53622307, "link": "https://stackoverflow.com/questions/53622307/file-roboto-regular-ttf-not-found-in-virtual-file-system-in-angular-6-pdfmake/65571140#65571140", "title": "File &#39;Roboto-Regular.ttf&#39; not found in virtual file system in Angular 6 (pdfMake)", "body": "<p>For Angular 9-10,\nopen up angular.json\nadd the following under both scripts sections...\n&quot;./node_modules/pdfmake/build/pdfmake.min.js&quot;,\n&quot;./node_modules/pdfmake/build/vfs_fonts.js&quot;</p>\n"}], "owner": {"reputation": 137, "user_id": 6226725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887ce9a8589b645d243d2576cf2cdafa?s=128&d=identicon&r=PG", "display_name": "rankery", "link": "https://stackoverflow.com/users/6226725/rankery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3021, "favorite_count": 0, "accepted_answer_id": 58954454, "answer_count": 3, "score": 4, "last_activity_date": 1609802304, "creation_date": 1543961990, "last_edit_date": 1543965477, "question_id": 53622307, "link": "https://stackoverflow.com/questions/53622307/file-roboto-regular-ttf-not-found-in-virtual-file-system-in-angular-6-pdfmake", "title": "File &#39;Roboto-Regular.ttf&#39; not found in virtual file system in Angular 6 (pdfMake)", "body": "<p>I`m getting </p>\n\n<blockquote>\n  <p>ERROR Error: File 'Roboto-Regular.ttf' not found in virtual file\n  system</p>\n</blockquote>\n\n<p>when trying using pdfMake in angular 6.</p>\n\n<p>I did</p>\n\n<pre><code>declare module 'pdfmake/build/pdfmake.js';\ndeclare module 'pdfmake/build/vfs_fonts.js';`\n</code></pre>\n\n<p>in typings.d.ts and also </p>\n\n<pre><code>\"typeRoots\": [\n  \"node_modules/@types\",\n  \"../src/typings.d.ts\"\n],\n</code></pre>\n\n<p>in tsconfig.json.</p>\n\n<p>In component where i`m using pdfmake i have</p>\n\n<pre><code>import 'pdfmake/build/vfs_fonts.js';\nimport * as pdfMake from 'pdfmake/build/pdfmake.js';\n</code></pre>\n\n<p>Seems like vfs_fonts.js loading because i added console.log to this file and it works.</p>\n\n<p>Also i tryed just to add</p>\n\n<pre><code>&lt;script src=\"./assets/fonts/vfs.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>But still getting the same error. \nMaybe someone got a solution for this?</p>\n\n<p>UPD 1:\nImporting pdfmake.js before not solved a problem</p>\n\n<pre><code>import * as pdfMake from 'pdfmake/build/pdfmake.js';\nimport 'pdfmake/build/vfs_fonts.js';\n</code></pre>\n\n<p>SOLUTION:</p>\n\n<pre><code>import * as pdfFonts from 'pdfmake/build/vfs_fonts';\n</code></pre>\n\n<p>and</p>\n\n<pre><code>pdfMake.vfs = pdfFonts.pdfMake.vfs;\n</code></pre>\n\n<p>SOLVED.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1543961744, "post_id": 53622173, "comment_id": 94104946, "body": "@ShaunLuttin it&#39;s just there to introduce a type parameter, conditional types distribute over naked type parameters so we need to introduce a type parameter that is <code>ValidRootPropertyNames</code>"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1543962147, "post_id": 53622173, "comment_id": 94105100, "body": "What does the word &quot;distribute&quot; mean in this context?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1543962199, "post_id": 53622173, "comment_id": 94105119, "body": "@ShaunLuttin this should explain it: <a href=\"https://stackoverflow.com/questions/51651499/typescript-what-is-a-naked-type-parameter/51651684#51651684\" title=\"typescript what is a naked type parameter\">stackoverflow.com/questions/51651499/&hellip;</a>"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1543962293, "post_id": 53622173, "comment_id": 94105148, "body": "Let me see whether I understand or not. &quot;Distribute&quot; here means &quot;replace&quot; or &quot;substitute.&quot; So, for instance, if we are distributing X over a union type, then we are replacing each of the union members with X. Is that right?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 1, "creation_date": 1543962412, "post_id": 53622173, "comment_id": 94105189, "body": "@ShaunLuttin Sort of ... distributing over a union means that the conditional type is applied to each member of the union. So in this case <code>Record&lt;T, string&gt;</code> is applied for each memeber of <code>ValidRootPropertyNames </code> so we get <code>Record&lt;&#39;Property1&#39;, string&gt; | Record&lt;&#39;Property1&#39;, string&gt;</code>"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1543962470, "post_id": 53622173, "comment_id": 94105212, "body": "Got it. That makes sense. My vocabulary wasn&#39;t quite right. The mot juste is &quot;applied.&quot;"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1543961309, "creation_date": 1543961309, "answer_id": 53622173, "question_id": 53621988, "link": "https://stackoverflow.com/questions/53621988/type-for-object-that-has-one-and-only-one-property-from-a-list-of-valid-property/53622173#53622173", "title": "Type for object that has one and only one property from a list of valid property names", "body": "<p>You can use the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">distributive behavior of conditional types</a> to create the union automatically from the union of keys:</p>\n\n<pre><code>type ValidRootPropertyNames =\n'Property1' |\n'Property2';\n\ntype ObjectWithRootPropertyNameFromList =\n    ValidRootPropertyNames extends infer T ? // Introduce a type parameter to have distributive behavior \n    T extends string ? Record&lt;T, string&gt; : never : never;\n\nconst obj1: ObjectWithRootPropertyNameFromList = { // okay\n    Property1: 'foo',\n};\n\nconst obj2: ObjectWithRootPropertyNameFromList = { // okay\n    Property2: 'foo',\n};\n\nconst obj3: ObjectWithRootPropertyNameFromList = { // error\n    Property3: 'foo',\n}; \n</code></pre>\n"}], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 53622173, "answer_count": 1, "score": 1, "last_activity_date": 1543961309, "creation_date": 1543960326, "last_edit_date": 1543961270, "question_id": 53621988, "link": "https://stackoverflow.com/questions/53621988/type-for-object-that-has-one-and-only-one-property-from-a-list-of-valid-property", "title": "Type for object that has one and only one property from a list of valid property names", "body": "<p>How can we model this without creating a union type that has each possible object?</p>\n\n<pre><code>type ValidRootPropertyNames =\n  'Property1' |\n  'Property2';\n\ntype ObjectWithRootPropertyNameFromList =\n  { Property1: string; } |\n  { Property2: string; };\n\nconst obj1: ObjectWithRootPropertyNameFromList = { // okay\n  Property1: 'foo',\n};\n\nconst obj2: ObjectWithRootPropertyNameFromList = { // okay\n  Property2: 'foo',\n};\n\nconst obj3: ObjectWithRootPropertyNameFromList = { // error\n  Property3: 'foo',\n};\n</code></pre>\n\n<p>The above does what we need; the problem is that it becomes cumbersome when there are dozens of valid property names.</p>\n"}]