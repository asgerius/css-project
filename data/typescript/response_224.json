[{"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": false, "score": 1, "last_activity_date": 1556160810, "last_edit_date": 1556160810, "creation_date": 1556151677, "answer_id": 55840194, "question_id": 55839846, "link": "https://stackoverflow.com/questions/55839846/is-it-possible-to-add-prop-types-to-react-component-props-based-on-the-presence/55840194#55840194", "title": "Is it possible to add prop types to react component props based on the presence or value of another prop?", "body": "<p>You could use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a> to get something like this. For example:</p>\n\n<pre><code>interface CommonProps {\n    foo: string;\n}\n\ninterface ManagedProps extends CommonProps {\n    managed: true;\n    managedOnlyProp: boolean;\n}\n\ninterface ServerSideProps extends CommonProps {\n    serverSide: true;\n    serverOnlyProp: boolean;\n}\n\ntype MappedProps&lt;T&gt; =\n    T extends { managed: true } ? ManagedProps :\n    T extends { serverSide: true } ? ServerSideProps :\n    CommonProps;\n\n// Example function to test this:\n\ndeclare function takeProps&lt;T&gt;(props: T &amp; MappedProps&lt;T&gt;): void;\n\n// And:\n\n// This is OK, neither flag is present, so CommonProps are used:\ntakeProps({ foo: \"\" })\n\n// This is an error. The managed flag is present, so we must also include the managed only props:\ntakeProps({ foo: \"\", managed: true }) // Gives error: Property 'managedOnlyProp' is missing in type '{ foo: string; managed: true; }' but required in type 'ManagedProps'.\n\n// But this is okay, the flag is present but set to false...\ntakeProps({ foo: \"\", managed: false })\n\n// And likewise for the serverSide versions:\ntakeProps({ foo: \"\", serverSide: true }) // Gives error: Property 'serverOnlyProp' is missing in type '{ foo: string; serverSide: true; }' but required in type 'ServerSideProps'.\ntakeProps({ foo: \"\", serverSide: true, serverOnlyProp: false }) // OK, no errors\ntakeProps({ foo: \"\", serverSide: false }) // OK, no errors\n</code></pre>\n\n<p>Here's a <a href=\"https://www.typescriptlang.org/play/#src=interface%20CommonProps%20%7B%0D%0A%09foo%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20ManagedProps%20extends%20CommonProps%20%7B%0D%0A%20%20%09managed%3A%20true%3B%0D%0A%09managedOnlyProp%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20ServerSideProps%20extends%20CommonProps%20%7B%0D%0A%20%20%09serverSide%3A%20true%3B%0D%0A%09serverOnlyProp%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Atype%20MappedProps%3CT%3E%20%3D%0D%0A%09T%20extends%20%7B%20managed%3A%20true%20%7D%20%3F%20ManagedProps%20%3A%0D%0A%09T%20extends%20%7B%20serverSide%3A%20true%20%7D%20%3F%20ServerSideProps%20%3A%0D%0A%09CommonProps%3B%0D%0A%0D%0A%2F%2F%20Example%20function%20to%20test%20this%3A%0D%0A%0D%0Adeclare%20function%20takeProps%3CT%3E(props%3A%20T%20%26%20MappedProps%3CT%3E)%3A%20void%3B%0D%0A%0D%0A%2F%2F%20And%3A%0D%0A%0D%0A%2F%2F%20This%20is%20OK%2C%20neither%20flag%20is%20present%2C%20so%20CommonProps%20are%20used%3A%0D%0AtakeProps(%7B%20foo%3A%20%22%22%20%7D)%0D%0A%0D%0A%2F%2F%20This%20is%20an%20error.%20The%20managed%20flag%20is%20present%2C%20so%20we%20must%20also%20include%20the%20managed%20only%20props%3A%0D%0AtakeProps(%7B%20foo%3A%20%22%22%2C%20managed%3A%20true%20%7D)%20%2F%2F%20Gives%20error%3A%20Property%20&#39;managedOnlyProp&#39;%20is%20missing%20in%20type%20&#39;%7B%20foo%3A%20string%3B%20managed%3A%20true%3B%20%7D&#39;%20but%20required%20in%20type%20&#39;ManagedProps&#39;.%0D%0A%0D%0A%2F%2F%20But%20this%20is%20okay%2C%20the%20flag%20is%20present%20but%20set%20to%20false...%0D%0AtakeProps(%7B%20foo%3A%20%22%22%2C%20managed%3A%20false%20%7D)%0D%0A%0D%0A%2F%2F%20And%20likewise%20for%20the%20serverSide%20versions%3A%0D%0AtakeProps(%7B%20foo%3A%20%22%22%2C%20serverSide%3A%20true%20%7D)%20%2F%2F%20Gives%20error%3A%20Property%20&#39;serverOnlyProp&#39;%20is%20missing%20in%20type%20&#39;%7B%20foo%3A%20string%3B%20serverSide%3A%20true%3B%20%7D&#39;%20but%20required%20in%20type%20&#39;ServerSideProps&#39;.%0D%0AtakeProps(%7B%20foo%3A%20%22%22%2C%20serverSide%3A%20true%2C%20serverOnlyProp%3A%20false%20%7D)%20%2F%2F%20OK%2C%20no%20errors%0D%0AtakeProps(%7B%20foo%3A%20%22%22%2C%20serverSide%3A%20false%20%7D)%20%2F%2F%20OK%2C%20no%20errors%0D%0A\" rel=\"nofollow noreferrer\">Playground Link</a>.</p>\n\n<p>Note there is a caveat in that this only works for each flag individually. When used in combination, you can still pass an invalid object:</p>\n\n<pre><code>// This is wrong (missing serverOnlyProp) but no error is produced... :(\ntakeProps({foo: \"\", serverSide: true, managed: true, managedOnlyProp: false})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1681, "user_id": 4048278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/e637A.jpg?s=128&g=1", "display_name": "AryanJ-NYC", "link": "https://stackoverflow.com/users/4048278/aryanj-nyc"}, "is_accepted": false, "score": 2, "last_activity_date": 1602114545, "creation_date": 1602114545, "answer_id": 64253827, "question_id": 55839846, "link": "https://stackoverflow.com/questions/55839846/is-it-possible-to-add-prop-types-to-react-component-props-based-on-the-presence/64253827#64253827", "title": "Is it possible to add prop types to react component props based on the presence or value of another prop?", "body": "<p>I have had great success using <a href=\"https://github.com/millsp/ts-toolbelt\" rel=\"nofollow noreferrer\">ts-toolbelt</a>'s <code>Union.Strict</code> helper.</p>\n<p>First, let's define your two separate sets of possible types, combine them in a strict union and write a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guard</a> that tells our React component which set of props we're using. I'll extend the example you used in your OP:</p>\n<pre><code>import { Union } from 'ts-toolbelt';\n\ninterface CommonProps {\n  commonProp: string\n}\n\ninterface ManagedProps extends CommonProps {\n  managed: true;\n  managedBoolean: boolean;\n  managedNumber: number;\n}\n\ninterface ServerSideProps extends CommonProps {\n  serverSide: true;\n  serverBoolean: boolean;\n  serverNumber: number;\n}\n\nconst isManaged = (props: Props): props is ManagedProps =&gt; {\n  return props.managed;\n}\n\ntype Props = Union.Strict&lt;ManagedProps | ServerSideProps&gt;\n</code></pre>\n<p>Now, let's write a React component that leverages the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guard</a> we wrote:</p>\n<pre><code>const OurComponent: React.FC&lt;Props&gt; = (props) =&gt; {\n  if (isManaged(props)) {\n    return &lt;div&gt;Managed {props.commonProp}&lt;/div&gt;\n  } else {\n    return &lt;div&gt;ServerSide {props.commonProp}&lt;/div&gt;\n  }\n}\n</code></pre>\n<p>This will cause errors if you use the wrong types. You can check that out in <a href=\"https://stackblitz.com/edit/stack-overflow-55839846?file=index.tsx\" rel=\"nofollow noreferrer\">this StackBlitz</a> I created.</p>\n"}], "owner": {"reputation": 321, "user_id": 2112627, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/eVPFn.jpg?s=128&g=1", "display_name": "Kyle S", "link": "https://stackoverflow.com/users/2112627/kyle-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1602114545, "creation_date": 1556148322, "question_id": 55839846, "link": "https://stackoverflow.com/questions/55839846/is-it-possible-to-add-prop-types-to-react-component-props-based-on-the-presence", "title": "Is it possible to add prop types to react component props based on the presence or value of another prop?", "body": "<p>I have a fairly complex React component within a Typescript based application. There are multiple groups of props that should be required only when another prop is present/true. Is there some way to accomplish this in Typescript? I haven't gotten in too much advanced typing with it yet.</p>\n\n<p>I made some attempts with discriminated unions but I don't think it quite covers all the possibilities as it's possible that any combination or none of these additional groups of props will be required.</p>\n\n<p>This is what I'm working with here.  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface CommonProps {\n  ...a bunch of props...\n}\n\ninterface ManagedProps extends CommonProps {\n  managed: true;\n  ...props for only when managed is present/true...\n}\n\ninterface ServerSideProps extends CommonProps {\n  serverSide: true;\n  ...props for only when serverSide is present/true...\n}\n\ninterface Props = ???\n</code></pre>\n\n<p>The baseline is that <code>CommonProps</code> would apply to this component. If <code>managed</code> is <code>true</code> then <code>ManagedProps</code> should also apply. If <code>serverSide</code> is <code>true</code> then <code>ServerSideProps</code> also applies.<br>\nI don't have this situation quite yet, but it would be nice if the optional groups of props could override a prop defined in the <code>CommonProps</code>.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "dependency-injection", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 1, "last_activity_date": 1556181587, "creation_date": 1556181587, "answer_id": 55845136, "question_id": 55839777, "link": "https://stackoverflow.com/questions/55839777/nest-cant-resolve-dependencies/55845136#55845136", "title": "Nest can&#39;t resolve dependencies", "body": "<p>As the error message says, the third parameter of your <code>DescribeService</code>'s constructor cannot be resolved, and this is:</p>\n\n<pre><code>private clients: object\n</code></pre>\n\n<p>Services (providers) in nestjs are created (instantiated) by the application context which enables dependency injection. You can just declare that you need a service without thinking about its dependencies. This, of course, only works when all dependencies are within the application context. <code>object</code> clearly isn't a provider and hence it cannot be injected. You didn't specify what <code>clients</code> is but this is how you would declare it:</p>\n\n<p>You can provide an array of clients in your <code>ApiModules</code> providers:</p>\n\n<pre><code>export const CLIENTS = 'clients';\n\n@Module({\n  controllers: [ApiController],\n  providers: [\n    UrlsAfipService,\n    WsaaService,\n    DescribeService,\n    { provide: CLIENTS, useValue: [clientA, clientB] }\n  ],\n  imports: [ConfigModule]\n})\nexport class ApiModule {}\n</code></pre>\n\n<p>Then you can inject the array in your service with the <code>@Inject</code> decorator:</p>\n\n<pre><code>export class DescribeService {\n\n  constructor (\n    private readonly urlsAfipService: UrlsAfipService,\n    private readonly wsaaService: WsaaService,\n    @Inject(CLIENTS) private clients: Client[],\n  ) {}\n</code></pre>\n\n<p>Have a look at this <a href=\"https://stackoverflow.com/a/51516526/4694994\">answer</a> for a more detailed explanation of nest's DI system.</p>\n"}], "owner": {"reputation": 670, "user_id": 5987361, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/D96qc.jpg?s=128&g=1", "display_name": "Marcelo J Forclaz", "link": "https://stackoverflow.com/users/5987361/marcelo-j-forclaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2009, "favorite_count": 0, "accepted_answer_id": 55845136, "answer_count": 1, "score": 0, "last_activity_date": 1556181628, "creation_date": 1556147810, "last_edit_date": 1556181628, "question_id": 55839777, "link": "https://stackoverflow.com/questions/55839777/nest-cant-resolve-dependencies", "title": "Nest can&#39;t resolve dependencies", "body": "<p>Can't figure out what's wrong with my code. Reviewing what error describes; I find things alright.</p>\n\n<p>Running <code>npm start</code> console says:</p>\n\n<blockquote>\n  <p>Nest can't resolve dependencies of the DescribeService\n  (UrlsAfipService, WsaaService, ?). Please make sure that the argument\n  at index [2] is available in the ApiModule context.</p>\n</blockquote>\n\n<p><strong>DescribeService</strong></p>\n\n<pre><code>import { Injectable } from '@nestjs/common';\nimport { UrlsAfipService } from './urls-afip.service'\nimport { WsaaService } from './wsaa.service'\nimport * as soap from 'soap';\n\n@Injectable()\nexport class DescribeService {\n\n  constructor (\n    private readonly urlsAfipService: UrlsAfipService,\n    private readonly wsaaService: WsaaService,\n    private clients: object\n  ) {}\n\n  private createClientForService(service: string): Promise&lt;any&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      if (this.clients[service]) {\n        resolve(this.clients[service])\n      } else {\n        soap.createClient(this.urlsAfipService.getService(service), (err, client) =&gt; {\n          if (err &amp;&amp; !client) {\n            reject(err)\n          } else {\n            this.clients[service] = client;\n            resolve(client);\n          }\n        })\n      }\n    })\n  }\n\n  describe(service) {\n        this.wsaaService.generateToken(service).then((tokens) =&gt; {\n\n            this.createClientForService(service).then((client) =&gt; {\n                return client.describe()\n            });\n\n        }).catch((err) =&gt; {\n            return err.message\n        })\n  }\n\n}\n</code></pre>\n\n<p><strong>ApiModule</strong></p>\n\n<pre><code>import { Module } from '@nestjs/common';\nimport { ConfigModule } from '../config/config.module';\nimport { ApiController } from './api.controller';\nimport { UrlsAfipService } from './urls-afip.service'\nimport { WsaaService } from './wsaa.service'\nimport { DescribeService } from './describe.service';\n\n@Module({\n  controllers: [ApiController],\n  providers: [UrlsAfipService, WsaaService, DescribeService],\n  imports: [ConfigModule]\n})\n\nexport class ApiModule {}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-dependency-injection"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1556153797, "post_id": 55839515, "comment_id": 98344183, "body": "I think class <code>C</code> is missing the decorator metadata from the <code>@Component()</code>. Don&#39;t you get an error trying to add this to a <code>NgModule</code>?"}, {"owner": {"reputation": 8556, "user_id": 335911, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/81e78ce8a8d78aa693dc63a4fad2dabf?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/335911/manuel"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1556157764, "post_id": 55839515, "comment_id": 98344885, "body": "I think you&#39;re on to something. How would you decorate it? With <code>@Component({})</code> I get <code>TypeError: Cannot read property &#39;kind&#39; of undefined</code>. With <code>@Injectable()</code> I get <code>Can&#39;t resolve all parameters for C: (?)</code>"}], "owner": {"reputation": 8556, "user_id": 335911, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/81e78ce8a8d78aa693dc63a4fad2dabf?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/335911/manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556145705, "creation_date": 1556145705, "question_id": 55839515, "link": "https://stackoverflow.com/questions/55839515/how-to-proxy-a-component-that-uses-di", "title": "How to proxy a component that uses DI?", "body": "<p>I'm trying to create a proxy for Angular components. Starting from this solution:\n<a href=\"https://github.com/Microsoft/TypeScript/issues/4890#issuecomment-141879451\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/4890#issuecomment-141879451</a></p>\n\n<p>I ended up with this:</p>\n\n<pre><code>interface Type&lt;T&gt; {\n  new (...args): T;\n}\n\ninterface Base {}\n\ninterface Identifiable {}\n\nexport function IdentifiableSubclass&lt;T extends Base&gt;(SuperClass: Type&lt;T&gt;) {\n  class C extends (&lt;Type&lt;Base&gt;&gt;SuperClass) {\n    // constructor(...args) {\n    //   super(...args);\n    //   return new Proxy(this, {\n    //     get(target, name) {\n    //       return target[name];\n    //     }\n    //   });\n    // }\n  }\n  return &lt;Type&lt;Identifiable &amp; T&gt;&gt;C;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>@Component({...})\nclass HeroesComponent {\n  constructor(public heroService: HeroService) {}\n}\nconst HeroesComponentLogged = IdentifiableSubclass(HeroesComponent);\nexport { HeroesComponentLogged as HeroesComponent };\n</code></pre>\n\n<p>That works. The problem is that it fails if I uncomment the constructor: <code>heroService is undefined</code>.</p>\n\n<p>I think it has something to do with Angular's DI because the following works fine on TS Playground (constructor uncommented):</p>\n\n<pre><code>class HeroService {\n    public sayGoodbye() {\n        console.log(\"Goodbye\");\n    }\n}\nclass HeroComponent {\n     constructor(public heroService: HeroService) {\n    }\n}\n\nconst IdentifiedHeroComponent = IdentifiableSubclass(HeroComponent);\nlet identified = new IdentifiedHeroComponent(new HeroService());\nidentified.heroService.sayGoodbye();\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 1229, "user_id": 3916223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae66ded0b6a3f8ec8522661af9d964f0?s=128&d=identicon&r=PG&f=1", "display_name": "csunday95", "link": "https://stackoverflow.com/users/3916223/csunday95"}, "edited": false, "score": 1, "creation_date": 1556144602, "post_id": 55839321, "comment_id": 98342506, "body": "The p tag can be implicitly closed by the use of other tags; see <a href=\"https://stackoverflow.com/questions/8460993/p-end-tag-p-is-not-needed-in-html\">this</a> question"}, {"owner": {"reputation": 7741, "user_id": 6931119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/21edf33688ace0d81b66178964aee370?s=128&d=identicon&r=PG&f=1", "display_name": "Witold Kaczurba", "link": "https://stackoverflow.com/users/6931119/witold-kaczurba"}, "edited": false, "score": 0, "creation_date": 1556485170, "post_id": 55839321, "comment_id": 98445460, "body": "<a href=\"https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags\" rel=\"nofollow noreferrer\">w3.org/TR/html5/&hellip;</a>"}, {"owner": {"reputation": 2568, "user_id": 2627160, "user_type": "registered", "profile_image": "https://graph.facebook.com/502698362/picture?type=large", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/2627160/matt-saunders"}, "edited": false, "score": 0, "creation_date": 1556485280, "post_id": 55839321, "comment_id": 98445482, "body": "Good question - I didn\u2019t know that."}], "answers": [{"comments": [{"owner": {"reputation": 1229, "user_id": 3916223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae66ded0b6a3f8ec8522661af9d964f0?s=128&d=identicon&r=PG&f=1", "display_name": "csunday95", "link": "https://stackoverflow.com/users/3916223/csunday95"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556145222, "post_id": 55839378, "comment_id": 98342652, "body": "remove the closing &lt;/p&gt; tag? does that generate any exceptions?"}], "tags": [], "owner": {"reputation": 1229, "user_id": 3916223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae66ded0b6a3f8ec8522661af9d964f0?s=128&d=identicon&r=PG&f=1", "display_name": "csunday95", "link": "https://stackoverflow.com/users/3916223/csunday95"}, "is_accepted": false, "score": 0, "last_activity_date": 1556145733, "last_edit_date": 1556145733, "creation_date": 1556144758, "answer_id": 55839378, "question_id": 55839321, "link": "https://stackoverflow.com/questions/55839321/template-parse-errors-unexpected-closing-tag-p/55839378#55839378", "title": "Template parse errors: Unexpected closing tag &quot;p&quot;", "body": "<p>From <a href=\"https://html.com/tags/p/\" rel=\"nofollow noreferrer\">html.com</a>:</p>\n\n<blockquote>\n  <p>The closing <code>&lt;p&gt;</code> tag is optional and is implied by the opening tag of the next HTML element encountered in an HTML document after an opening <code>&lt;p&gt;</code> tag.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556145590, "post_id": 55839468, "comment_id": 98342739, "body": "Is there any work around the end result is not formatted well."}, {"owner": {"reputation": 181, "user_id": 9101868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceca541610de7a1e54eb42cbde22a433?s=128&d=identicon&r=PG&f=1", "display_name": "iosepa", "link": "https://stackoverflow.com/users/9101868/iosepa"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556145775, "post_id": 55839468, "comment_id": 98342776, "body": "How do you want it formatted? &lt;pre&gt;&lt;/pre&gt; is used to make the text appear as is."}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556145953, "post_id": 55839468, "comment_id": 98342820, "body": "Yes, pre&gt;&lt;/pre&gt; is used to make the text inside formatted"}], "tags": [], "owner": {"reputation": 181, "user_id": 9101868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceca541610de7a1e54eb42cbde22a433?s=128&d=identicon&r=PG&f=1", "display_name": "iosepa", "link": "https://stackoverflow.com/users/9101868/iosepa"}, "is_accepted": false, "score": 5, "last_activity_date": 1556146036, "last_edit_date": 1556146036, "creation_date": 1556145357, "answer_id": 55839468, "question_id": 55839321, "link": "https://stackoverflow.com/questions/55839321/template-parse-errors-unexpected-closing-tag-p/55839468#55839468", "title": "Template parse errors: Unexpected closing tag &quot;p&quot;", "body": "<p>The <code>&lt;pre&gt;</code> tag is a block level element. When that is placed inside the <code>&lt;p&gt;...&lt;/p&gt;</code> it will act like a <code>&lt;/p&gt;</code> causing it to close and throwing an error when it gets to your <code>&lt;/p&gt;</code>. Either close the <code>&lt;p&gt;</code> before your <code>&lt;pre&gt;</code> or wrap the <code>pre</code> in a different element if you want it wrapped. </p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p</a></p>\n"}, {"tags": [], "owner": {"reputation": 7741, "user_id": 6931119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/21edf33688ace0d81b66178964aee370?s=128&d=identicon&r=PG&f=1", "display_name": "Witold Kaczurba", "link": "https://stackoverflow.com/users/6931119/witold-kaczurba"}, "is_accepted": false, "score": 0, "last_activity_date": 1556485140, "last_edit_date": 1556485140, "creation_date": 1556145712, "answer_id": 55839517, "question_id": 55839321, "link": "https://stackoverflow.com/questions/55839321/template-parse-errors-unexpected-closing-tag-p/55839517#55839517", "title": "Template parse errors: Unexpected closing tag &quot;p&quot;", "body": "<p>Refer to: <a href=\"https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags</a></p>\n\n<p>In HTML: p tag is implicity closed with next element. So</p>\n\n<ul>\n<li>the first p tag starts p and ends with b or pre tag. (it is implicitly closed).</li>\n<li>then then the parser finds /p closing tag for which it doesnt see the preceding p tag. (the first one was implicitly closed).</li>\n</ul>\n\n<p>Solutions (from best the worst):</p>\n\n<ul>\n<li>dont use p when you do more tricky stuff. You have pre tag so you should consider changing your original p with div or span</li>\n<li>OR drop /p (ok idea)</li>\n<li>OR add p in the front of /p. (bad idea to have there  /p  ..)</li>\n</ul>\n\n<p>Possible solution to investigate:\n- XHTML requires explicit closing p tag. You can try to use XHTML and let us know if it works. Note: this is a bit of an overkill to your problem... bit always good to learn ;-)</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3962, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1556485140, "creation_date": 1556144298, "last_edit_date": 1556145747, "question_id": 55839321, "link": "https://stackoverflow.com/questions/55839321/template-parse-errors-unexpected-closing-tag-p", "title": "Template parse errors: Unexpected closing tag &quot;p&quot;", "body": "<p>I want to format XML file in Angular. I tried this:</p>\n\n<pre><code>&lt;div class=\"element-box\"&gt;\n  &lt;div class=\"details-wrapper\"&gt;\n    &lt;p&gt;&lt;b class=\"label\"&gt;Raw Request&lt;/b&gt;\n      &lt;pre&gt;\n        {{apiattempt.raw_request | xmlBeautyfier }}\n      &lt;/pre&gt;\n    &lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>ERROR in : Template parse errors:\nUnexpected closing tag \"p\". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags (\"\n        {{apiattempt.raw_request | xmlBeautyfier }}\n      &lt;/pre&gt;\n    [ERROR -&gt;]&lt;/p&gt;\n    &lt;p&gt;&lt;b class=\"label\"&gt;Raw Response&lt;/b&gt;{{apiattempt.raw_response | xmlBeautyfier }}&lt;/p&gt;\n  &lt;/div\"): \n</code></pre>\n\n<p>Do you know how I can fix this?</p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "edited": false, "score": 0, "creation_date": 1556163486, "post_id": 55839219, "comment_id": 98345943, "body": "What line produce this error? I cannot see <code>getNotes</code> in your code"}, {"owner": {"reputation": 57, "user_id": 11343672, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eCs4MWoDy38/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfpN9AQzXGfNyBiBufO2steeSEuHg/mo/photo.jpg?sz=128", "display_name": "Alec Livinghouse", "link": "https://stackoverflow.com/users/11343672/alec-livinghouse"}, "reply_to_user": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "edited": false, "score": 0, "creation_date": 1556305993, "post_id": 55839219, "comment_id": 98407213, "body": "I just edited the error message my bad"}], "owner": {"reputation": 57, "user_id": 11343672, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eCs4MWoDy38/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfpN9AQzXGfNyBiBufO2steeSEuHg/mo/photo.jpg?sz=128", "display_name": "Alec Livinghouse", "link": "https://stackoverflow.com/users/11343672/alec-livinghouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556305968, "creation_date": 1556143556, "last_edit_date": 1556305968, "question_id": 55839219, "link": "https://stackoverflow.com/questions/55839219/firebaseerror-function-collectionreference-add-requires-its-first-argument-to", "title": "FirebaseError: Function CollectionReference.add() requires its first argument to be of type object, but it was: a function", "body": "<p>I have defined my action in my PState interface, yet it still will not fetch my data. This works fine in regular javascript, but I am having trouble converting it to typescript. I do not know what is wrong with my IProps interface. Is there something wrong with my action?</p>\n\n<pre><code>export const addNote = (values) =&gt; {\n  return (dispatch) =&gt; {\n    console.log('these are the values', values);\n    const firestore = firebase.firestore();\n    const notesRef = firestore.collection('notes');\n    notesRef.add(values);\n    dispatch({type: ADD_NOTE, payload: values});\n  }\n}\n\nimport React, {Component} from 'react';\nimport { addNote } from './actions/noteAction';\nimport { connect } from 'react-redux';\n\n\nclass Form extends Component&lt;IProps, IState&gt;{\n  constructor(props: IProps) {\n    super(props);\n    this.state = {\n      note: ''\n    };\n  }\n\n\n  onSubmit(e: any){\n    e.preventDefault()\n    const noteData = {\n      note: this.state.note\n    }\n    console.log(noteData);\n    this.props.addNote(noteData);\n  }\n\n  render(){\n    return(\n      &lt;div&gt;\n      &lt;form onSubmit={this.onSubmit.bind(this)}&gt;\n      &lt;input\n          name=\"note\"\n          placeholder=\"note\"\n          value={this.state.note}\n          onChange={(e) =&gt; this.setState({note: e.target.value})}\n        /&gt;\n       &lt;input type=\"submit\"/&gt;\n      &lt;/form&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\ninterface IState {\n  note: string\n}\n\ninterface IProps{\n  addNote: any\n}\n\n\nexport default connect(null, addNote)(Form);\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions", "google-cloud-storage"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1556141477, "post_id": 55838847, "comment_id": 98341600, "body": "My duplicate assumes that you actually mean &quot;Cloud Storage&quot; instead of &quot;Firestore&quot;.  Firestore doesn&#39;t have download URLs."}, {"owner": {"reputation": 3, "user_id": 9740039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dX4-zwoQ8hU/AAAAAAAAAAI/AAAAAAAAABI/qlvSsdy696w/photo.jpg?sz=128", "display_name": "Alex Tygesen", "link": "https://stackoverflow.com/users/9740039/alex-tygesen"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1556145088, "post_id": 55838847, "comment_id": 98342614, "body": "Is Cloud Storage not synonymous with Firestore?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1556145455, "post_id": 55838847, "comment_id": 98342708, "body": "No, they are totally different products."}], "owner": {"reputation": 3, "user_id": 9740039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dX4-zwoQ8hU/AAAAAAAAAAI/AAAAAAAAABI/qlvSsdy696w/photo.jpg?sz=128", "display_name": "Alex Tygesen", "link": "https://stackoverflow.com/users/9740039/alex-tygesen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "closed_date": 1556141441, "answer_count": 0, "score": 0, "last_activity_date": 1556195951, "creation_date": 1556141411, "last_edit_date": 1556195951, "question_id": 55838847, "link": "https://stackoverflow.com/questions/55838847/how-do-i-download-files-from-firebase-cloud-storage-with-the-use-of-firebase-fun", "closed_reason": "Duplicate", "title": "How do I download files from Firebase Cloud Storage with the use of Firebase Functions?", "body": "<p>I am currently hitting a wall with retrieving any kind of file from Cloud Storage from the Firebase Functions in the same project. </p>\n\n<p>I admit that I am not very versed in the use of Functions yet, and just being able to get the download link that Cloud Storage provides would already be a huge help, but naturally, being able to fully download files such as PDF documents without them previewing in my web browser would be ideal.</p>\n\n<p>If by chance anyone happens to have working code that allows me to simply download files from Cloud Storage with Functions, it would be a huge help, since the things I've tried so far have not worked. I was told that a file stream is the best way of accomplishing this, but I haven't worked with those yet, so I am tapping around in the blind on that.</p>\n\n<p>Needs to be mentioned that I am using TypeScript to deploy my functions with.</p>\n"}, {"tags": ["typescript", "promise", "onclick"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1556141666, "post_id": 55838394, "comment_id": 98341658, "body": "I&#39;m a bit confused. What does <code>someOperation</code> return? A promise, or something else? Also the <code>onClick</code> method as written can <i>only</i> return <code>void</code> right now. Under what circumstances should it be returning a <code>Promise</code> instead? Finally, can you show us what you tried using <code>instanceof</code>? Might help us get a better idea of what you&#39;re trying to accomplish in this example."}, {"owner": {"reputation": 93, "user_id": 1914152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2q9Ii.jpg?s=128&g=1", "display_name": "Thomas Fitzgerald", "link": "https://stackoverflow.com/users/1914152/thomas-fitzgerald"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1556142787, "post_id": 55838394, "comment_id": 98341999, "body": "Sorry for the confusion. I&#39;ve been confused myself. Just recently started working with promises a few days ago. I will update the question in an attempt to clarify"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 1914152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2q9Ii.jpg?s=128&g=1", "display_name": "Thomas Fitzgerald", "link": "https://stackoverflow.com/users/1914152/thomas-fitzgerald"}, "edited": false, "score": 0, "creation_date": 1556145072, "post_id": 55838944, "comment_id": 98342603, "body": "Thank you so much, that makes perfect sense. It&#39;s a whole new world I&#39;m stepping into. Been some growing pains, but loving it."}], "tags": [], "owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "is_accepted": true, "score": 2, "last_activity_date": 1556141921, "creation_date": 1556141921, "answer_id": 55838944, "question_id": 55838394, "link": "https://stackoverflow.com/questions/55838394/typescript-determine-type-click-handler-will-return/55838944#55838944", "title": "TypeScript determine type click handler will return", "body": "<p>Since you're dealing with a union type you can simply test your way out of the <code>void</code> branch (assuming that you have <code>strictNullChecks</code> turned on):</p>\n\n<pre><code>const result: Promise&lt;IButtonClickResult&gt; | void = this.onClick(...args);\nif (result === undefined) {\n  // Nothing returned, don't do the async thing\n} else {\n  // result is of type Promise here and Typescript will let you call .then, etc.\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 1914152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2q9Ii.jpg?s=128&g=1", "display_name": "Thomas Fitzgerald", "link": "https://stackoverflow.com/users/1914152/thomas-fitzgerald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 55838944, "answer_count": 1, "score": 0, "last_activity_date": 1556147022, "creation_date": 1556139194, "last_edit_date": 1556147022, "question_id": 55838394, "link": "https://stackoverflow.com/questions/55838394/typescript-determine-type-click-handler-will-return", "title": "TypeScript determine type click handler will return", "body": "<p>I have a custom button control who's click handler can return a promise or void as below:</p>\n\n<pre><code>// --- Options for button control\nexport interface buttonOptions {\n   aProperty: string\n   anotherProperty: number\n   onClick: Promise&lt;IButtonClickResult&gt; | void\n}\n\n// --- Click handler added for click event inside control class\nprotected clickHandler(): Promise&lt;IButtonClickResult&gt; | void {\n   if(returnsPromise) displaySpinner()\n\n   various operations\n\n   this.options.onClick(this)\n}\n</code></pre>\n\n<p>The control is created using the builder pattern so it would be created as such:</p>\n\n<pre><code>buttonClass.build()\n  .options({\n      aProperty: 'Hope this works',\n      anotherProperty: 1,\n      onClick: () =&gt; {\n          return new Promise&lt;IButtonClickResult&gt;((resolve, reject) =&gt; {         \n\n            // --- I suppose I could pass reference to resolve or reject to async function and allow that function to resolve or reject the promise\n            asyncOperation(resolve, reject)                         \n          }).then((result) =&gt; button.onClickSuccess(result)).catch((error) =&gt; button.onclickError(error))\n</code></pre>\n\n<p>onClick could also be assigned a function that returns void as:</p>\n\n<pre><code>console.log('I was clicked')\n</code></pre>\n\n<p>If the click handler returns a promise, I want to add a spinner to the button until the promise resolves or rejects, then I will replace the spinner with the original button content through .then or maybe an oops through .catch</p>\n\n<p>My question is how to determine if a promise will be returned inside the button's click handler so I will know whether or not to display a spinner on the button. </p>\n\n<p>Any help is greatly appreciated. I have attempted typeof and instanceof, but to no avail. Potentially I was not using them correctly? My apologies, I am fairly new to TypeScript and NodeJS.</p>\n"}, {"tags": ["javascript", "json", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1269, "user_id": 4018788, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea1b5498db2be588d983090dd2c2c10c?s=128&d=identicon&r=PG", "display_name": "l2ysho", "link": "https://stackoverflow.com/users/4018788/l2ysho"}, "is_accepted": true, "score": 2, "last_activity_date": 1556139677, "last_edit_date": 1556139677, "creation_date": 1556139476, "answer_id": 55838448, "question_id": 55838107, "link": "https://stackoverflow.com/questions/55838107/convert-json-array-to-single-array-based-on-id/55838448#55838448", "title": "convert json array to single array based on id", "body": "<p>Something like this, maybe there is more efficient solution, I have created this in 5 minutes.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [\r\n{\r\n    \"ID\": 10,\r\n    \"Sum\": 860,\r\n    \"class\": \"K\",\r\n},\r\n{\r\n    \"ID\": 10,\r\n    \"Sum\": 760,\r\n    \"class\": \"one\",\r\n},\r\n{\r\n    \"ID\": 10,\r\n    \"Sum\": 860,\r\n    \"class\": \"two\",\r\n}];\r\n\r\nconst result = [];\r\n\r\ninput.forEach(item =&gt; {\r\n  const exists = result.find(i =&gt; i.id === item.id);\r\n  if (exists) {\r\n    exists[item.class] = item.Sum;\r\n  } else {\r\n    item[item.class] = item.Sum;\r\n    delete item.Sum;\r\n    delete item.class;\r\n    result.push(item);\r\n  }\r\n});\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 181, "user_id": 3846201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e11fd861710f4af870f2030e3f2df06d?s=128&d=identicon&r=PG&f=1", "display_name": "jack", "link": "https://stackoverflow.com/users/3846201/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 55838448, "answer_count": 1, "score": 1, "last_activity_date": 1556139799, "creation_date": 1556137859, "last_edit_date": 1556139514, "question_id": 55838107, "link": "https://stackoverflow.com/questions/55838107/convert-json-array-to-single-array-based-on-id", "title": "convert json array to single array based on id", "body": "<p>I want to convert an array to another array based on the <code>ID</code> and <code>class</code> properties.</p>\n\n<p>I have an array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const json = [{\r\n  \"ID\": 10,\r\n  \"Sum\": 860,\r\n  \"class\": \"K\",\r\n}, {\r\n  \"ID\": 10,\r\n  \"Sum\": 760,\r\n  \"class\": \"one\",\r\n}, {\r\n  \"ID\": 10,\r\n  \"Sum\": 860,\r\n  \"class\": \"two\",\r\n}];</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to create data in below format:</p>\n\n<pre><code>[{\"ID\":10,\"K\":860,\"one\":760,\"two\":860}]\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "relayjs", "relaymodern"], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 81105, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ZsBf9.jpg?s=128&g=1", "display_name": "Anton Kuzmin", "link": "https://stackoverflow.com/users/81105/anton-kuzmin"}, "edited": false, "score": 0, "creation_date": 1560028708, "post_id": 55837000, "comment_id": 99607371, "body": "The problem with this is that now one can&#39;t use modules that use commonjs module system. For example, now typescript yells at me that it cannot find antd module: <code>import { Form, Input, Button } from &#39;antd&#39;</code>"}, {"owner": {"reputation": 801, "user_id": 81105, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ZsBf9.jpg?s=128&g=1", "display_name": "Anton Kuzmin", "link": "https://stackoverflow.com/users/81105/anton-kuzmin"}, "edited": false, "score": 0, "creation_date": 1560029556, "post_id": 55837000, "comment_id": 99607538, "body": "To solve this, I had to set &quot;moduleResolution&quot;: &quot;node&quot; at tsconfig.json"}], "tags": [], "owner": {"reputation": 1844, "user_id": 3598286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qLmYv.jpg?s=128&g=1", "display_name": "Giridhar Karnik", "link": "https://stackoverflow.com/users/3598286/giridhar-karnik"}, "is_accepted": true, "score": 0, "last_activity_date": 1556132894, "creation_date": 1556132894, "answer_id": 55837000, "question_id": 55836994, "link": "https://stackoverflow.com/questions/55836994/relay-compiler-unable-to-extract-and-use-graphql-queries-in-typescript/55837000#55837000", "title": "relay-compiler unable to extract and use graphql queries in Typescript", "body": "<p>Essentially the problem resolves around pulling out the GraphQL tags from typescript during transformations. I figured out the solution thanks to work in these PRs <a href=\"https://github.com/facebook/relay/pull/1710\" rel=\"nofollow noreferrer\">#1710</a> and <a href=\"https://github.com/facebook/relay/pull/2293\" rel=\"nofollow noreferrer\">#2293</a>.</p>\n\n<p>Here are the steps:</p>\n\n<p>Modify the webpack config to include a babel loader (the typescript starter only has a ts-loader).</p>\n\n<pre><code>    ...\n    test: /\\.(ts|tsx)$/,\n    include: paths.appSrc,\n    exclude: /node_modules/,\n    use: [\n       { loader: 'babel-loader' },\n       {\n         loader: require.resolve('ts-loader'),\n         options: {\n            transpileOnly: true,\n         },\n       },\n    ],\n    ...\n</code></pre>\n\n<p>Change the <code>target</code> and <code>module</code> configuration in tsconfig to <code>es2015</code></p>\n\n<pre><code>...\n\"target\": \"es2015\",\n\"module\": \"es2015\",\n...\n</code></pre>\n\n<p>Add <code>relay-compiler-language-typescript</code></p>\n\n<pre><code>yarn add relay-compiler-language-typescript -D\n</code></pre>\n\n<p>Also add <code>babel-plugin-transform-es2015-modules-commonjs</code>. </p>\n\n<pre><code>yarn add babel-plugin-transform-es2015-modules-commonjs -D\n</code></pre>\n\n<p>Since now we are targetting es2015, this plugin is needed to support ES module <code>import</code> and <code>export</code> statements.</p>\n\n<p>And a script to compile graphql statements</p>\n\n<pre><code>\"relay\": \"relay-compiler --src ./src --schema src/schema.graphql --language typescript --artifactDirectory ./src/__generated__ --watch\"\n</code></pre>\n\n<p>Point the relay plugin to use the artifacts generated by the above command in <code>.babelrc</code></p>\n\n<pre><code>\"plugins\": [\n    \"transform-es2015-modules-commonjs\",\n    [\"relay\", { \"artifactDirectory\": \"./src/__generated__\" }],\n ],\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2064, "user_id": 8896573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f576467d8b4fec239bb06d8878db2c4?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Gough", "link": "https://stackoverflow.com/users/8896573/joey-gough"}, "is_accepted": false, "score": 0, "last_activity_date": 1590408172, "last_edit_date": 1590408172, "creation_date": 1590407167, "answer_id": 62001784, "question_id": 55836994, "link": "https://stackoverflow.com/questions/55836994/relay-compiler-unable-to-extract-and-use-graphql-queries-in-typescript/62001784#62001784", "title": "relay-compiler unable to extract and use graphql queries in Typescript", "body": "<p>My .babelrc looks like this</p>\n\n<pre><code>{\n    \"plugins\": [\n        [\n            // Please note that the \"relay\" plugin should run before other plugins or presets to ensure the graphql template literals are correctly transformed. See Babel's documentation on this topic.\n            \"relay\",\n            {\n                \"artifactDirectory\": \"./src/__generated__\"\n            }\n        ],\n        [\n            \"transform-es2015-modules-commonjs\",\n            {\n                \"allowTopLevelThis\": true\n            }\n        ]\n    ]\n}\n</code></pre>\n\n<p>Follow the configuration steps here <a href=\"https://github.com/relay-tools/relay-compiler-language-typescript#typescript\" rel=\"nofollow noreferrer\">https://github.com/relay-tools/relay-compiler-language-typescript#typescript</a></p>\n\n<p>that will link you to babel docs <a href=\"https://babeljs.io/docs/en/babel-plugin-transform-es2015-modules-commonjs/\" rel=\"nofollow noreferrer\">https://babeljs.io/docs/en/babel-plugin-transform-es2015-modules-commonjs/</a></p>\n\n<p>this seems to be working. my npm script is</p>\n\n<p><code>\"relay\": \"relay-compiler --src ./src --schema ./data/schema.graphql --language typescript --artifactDirectory ./src/__generated__\"</code></p>\n\n<p>and tsconfig.json contains this</p>\n\n<pre><code>    \"target\": \"es2015\",\n    \"module\": \"es2015\",\n</code></pre>\n\n<h2>Update</h2>\n\n<p>I had to install babel-plugin-relay as described here <a href=\"https://create-react-app.dev/docs/adding-relay/\" rel=\"nofollow noreferrer\">https://create-react-app.dev/docs/adding-relay/</a></p>\n\n<p>and hack the typescript types for it <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/35707\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/issues/35707</a></p>\n"}], "owner": {"reputation": 1844, "user_id": 3598286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qLmYv.jpg?s=128&g=1", "display_name": "Giridhar Karnik", "link": "https://stackoverflow.com/users/3598286/giridhar-karnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 0, "accepted_answer_id": 55837000, "answer_count": 2, "score": 1, "last_activity_date": 1590408172, "creation_date": 1556132860, "question_id": 55836994, "link": "https://stackoverflow.com/questions/55836994/relay-compiler-unable-to-extract-and-use-graphql-queries-in-typescript", "title": "relay-compiler unable to extract and use graphql queries in Typescript", "body": "<p>I tried using relay with the <a href=\"https://github.com/Microsoft/TypeScript-React-Starter\" rel=\"nofollow noreferrer\">Typescript react starter</a>, and am running into multiple issues.</p>\n\n<p>Seems like babel-plugin-relay is not able to sense the graphql statements extracted by the relay-compiler. Here is my compiler script</p>\n\n<pre><code>\"relay\": \"relay-compiler --src ./src --schema ./src/schema.graphql --extensions=tsx --watchman false\".\n</code></pre>\n\n<p>.babelrc</p>\n\n<pre><code>{\n   \"babel\": {\n   \"presets\": [\n      \"react-app\"\n   ],\n   \"plugins\": [\n     \"relay\"\n   ]\n}\n</code></pre>\n\n<p>This is my error which suggests an issue with babel transpilation</p>\n\n<pre><code>graphql: Unexpected invocation at runtime. Either the Babel transform was not set up, or it failed to identify this call site. Make sure it is being used verbatim as `graphql`.\n</code></pre>\n"}, {"tags": ["typescript", "async-await", "synchronization"], "answers": [{"tags": [], "owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "is_accepted": false, "score": 1, "last_activity_date": 1556143009, "creation_date": 1556143009, "answer_id": 55839134, "question_id": 55836776, "link": "https://stackoverflow.com/questions/55836776/how-to-make-typescript-synchronous-executed/55839134#55839134", "title": "How to make typescript synchronous executed?", "body": "<p>You can return literally anything from a JavaScript constructor, so this is a <em>possible</em> pattern:</p>\n\n<pre><code>class DontDoThis {\n  constructor(props) {\n    this.name = props.name;\n    const results = this.readFile(props);\n    // As a side-effect of the promise completing, set a field\n    results.then(data =&gt; this.oriData = data);\n\n    // Force this constructor to be treated as async\n    // even though we cannot say `async constructor`\n    return results.then(() =&gt; this, () =&gt; this);\n  }\n}\n\nasync function process(...) {\n  const complexData = await new DontDoThis(...);\n}\n</code></pre>\n\n<p>That said, it's far, <strong>far</strong> better to just have a function that constructs the final value:</p>\n\n<pre><code>interface ImageData { name: string, oriData: any };\n// This can also be a static method, e. g. `ImageData.create(...)`\nasync function ComplexData(props): Promise&lt;ImageData&gt; {\n  return readFile(props).then(data =&gt; ({name: props.name, oriData: data}));\n}\n\nasync function process(props) {\n  const complexData = await ComplexData(props);\n}\n</code></pre>\n\n<p><code>ImageData</code> can be a class instead of an interface - the key thing to note is simply that it cannot be constructed partially - either <code>ComplexData</code> succeeds and produces an <code>ImageData</code> object or it fails and you don't get one at all.  You never have an unsafe-to-use-because-it-is-half-initialized <code>ImageData</code> object lying around.</p>\n"}], "owner": {"reputation": 11, "user_id": 10709046, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZvwL-2WrrlE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h2c9LL2FWQXjPKibljdtPh4KloRQ/mo/photo.jpg?sz=128", "display_name": "Zhang Gloson", "link": "https://stackoverflow.com/users/10709046/zhang-gloson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556143009, "creation_date": 1556131968, "question_id": 55836776, "link": "https://stackoverflow.com/questions/55836776/how-to-make-typescript-synchronous-executed", "title": "How to make typescript synchronous executed?", "body": "<p>I was trying to implement an uploading image function and I have a class as followed.</p>\n\n<pre><code>class myClass {\n  oriData: any;\n  name: string;\n\n  constructor(props) {\n    this.name = props.name;\n    this.oriData = this.readFile(props);\n  }\n\n  async readFile(props) {\n    return await new Promise((resolve, reject) =&gt; {\n      let reader = new FileReader();\n      reader.readAsDataURL(props);\n      reader.onload = () =&gt; {\n        let result = reader.result;\n        resolve(result);\n      };\n      reader.onerror = reject;\n    });\n  }\n}\n\nprivate async process(file): Promise&lt;myClass&gt; {\n  try {\n    let image = await new myClass(file);\n    console.log(image.oriData);\n    console.log(image.name);\n    return Promise.resolve(image);\n  }\n  catch(err) {\n    console.log(err);\n  }\n}\n</code></pre>\n\n<p>However, when I try to get the image.oriData and image.name, image.oriData displays as Undefined but the other one is correct. I check the step and find that the process(file) will still instance myClass without waiting reader.onload finished. I believe this should be a synchronization problem. Could anyone help me improve this code? Thanks!</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 2061, "user_id": 2359858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/judcA.jpg?s=128&g=1", "display_name": "diogenesgg", "link": "https://stackoverflow.com/users/2359858/diogenesgg"}, "edited": false, "score": 0, "creation_date": 1556130807, "post_id": 55836360, "comment_id": 98337279, "body": "Try deleting node_nodules and run it again. No sudo needed."}, {"owner": {"reputation": 33, "user_id": 7879364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660887143927838/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/7879364/rafael-santos"}, "reply_to_user": {"reputation": 2061, "user_id": 2359858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/judcA.jpg?s=128&g=1", "display_name": "diogenesgg", "link": "https://stackoverflow.com/users/2359858/diogenesgg"}, "edited": false, "score": 0, "creation_date": 1556131177, "post_id": 55836360, "comment_id": 98337438, "body": "I try, gave the same error"}], "owner": {"reputation": 33, "user_id": 7879364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660887143927838/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/7879364/rafael-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571670516, "creation_date": 1556130137, "last_edit_date": 1571670516, "question_id": 55836360, "link": "https://stackoverflow.com/questions/55836360/im-getting-the-following-error-when-trying-to-upgrade-the-version-of-angular-cl", "title": "I&#39;m getting the following error when trying to upgrade the version of Angular CLI from 1.7.3 to 7", "body": "<pre><code>\nMy setup -&gt;\n\n    Angular CLI: 1.7.3\n    Node: 10.15.3\n    OS: darwin x64\n    Angular: 5.2.9\n    ... animations, common, compiler, compiler-cli, core, forms\n    ... http, language-service, platform-browser\n    ... platform-browser-dynamic, router\n\n    @angular/cli: 1.7.3\n    @angular-devkit/build-optimizer: 0.3.2\n    @angular-devkit/core: 0.3.2\n    @angular-devkit/schematics: 0.3.2\n    @ngtools/json-schema: 1.2.0\n    @ngtools/webpack: 1.10.2\n    @schematics/angular: 0.3.2\n    @schematics/package-update: 0.3.2\n    typescript: 2.4.2\n    webpack: 3.11.0\n\niMac-de-Rafael:project rafa$ sudo npm install -g @angular/cli@latest -save-dev\nPassword:\n/usr/local/bin/ng -&gt; /usr/local/lib/node_modules/@angular/cli/bin/ng\n\n&gt; fsevents@1.2.8 install /usr/local/lib/node_modules/@angular/cli/node_modules/fsevents\n&gt; node install\n\nnode-pre-gyp WARN Using needle for node-pre-gyp https download \nnode-pre-gyp WARN Pre-built binaries not installable for fsevents@1.2.8 and node@10.15.3 (node-v64 ABI, unknown) (falling back to source compile with node-gyp) \nnode-pre-gyp WARN Hit error EACCES: permission denied, mkdir '/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/lib' \ngyp ERR! configure error \ngyp ERR! stack Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/build'\ngyp ERR! System Darwin 18.2.0\ngyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"configure\" \"--fallback-to-build\" \"--module=/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64/fse.node\" \"--module_name=fse\" \"--module_path=/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64\" \"--napi_version=3\" \"--node_abi_napi=napi\" \"--napi_build_version=0\" \"--node_napi_label=node-v64\"\ngyp ERR! cwd /usr/local/lib/node_modules/@angular/cli/node_modules/fsevents\ngyp ERR! node -v v10.15.3\ngyp ERR! node-gyp -v v3.8.0\ngyp ERR! not ok \nnode-pre-gyp ERR! build error \nnode-pre-gyp ERR! stack Error: Failed to execute '/usr/local/bin/node /usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64/fse.node --module_name=fse --module_path=/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64 --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64' (1)\nnode-pre-gyp ERR! stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/node_modules/node-pre-gyp/lib/util/compile.js:83:29)\nnode-pre-gyp ERR! stack     at ChildProcess.emit (events.js:189:13)\nnode-pre-gyp ERR! stack     at maybeClose (internal/child_process.js:970:16)\nnode-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)\nnode-pre-gyp ERR! System Darwin 18.2.0\nnode-pre-gyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/node_modules/node-pre-gyp/bin/node-pre-gyp\" \"install\" \"--fallback-to-build\"\nnode-pre-gyp ERR! cwd /usr/local/lib/node_modules/@angular/cli/node_modules/fsevents\nnode-pre-gyp ERR! node -v v10.15.3\nnode-pre-gyp ERR! node-pre-gyp -v v0.12.0\nnode-pre-gyp ERR! not ok \nFailed to execute '/usr/local/bin/node /usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64/fse.node --module_name=fse --module_path=/usr/local/lib/node_modules/@angular/cli/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64 --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64' (1)\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.8 (node_modules/@angular/cli/node_modules/fsevents):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.8 install: `node install`\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1556129422, "post_id": 55836128, "comment_id": 98336640, "body": "<code>[][]</code> is specifically &quot;an array of empty arrays&quot;, which is not what you mean."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1556129516, "post_id": 55836128, "comment_id": 98336686, "body": "I&#39;d say you want <code>selectionGroups: Array&lt;Array&lt;string&gt;&gt;</code> or possibly <code>selectionGroups: Array&lt;[string, string?]&gt;</code> depending on if you care about the length of the string arrays."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1556129575, "post_id": 55836128, "comment_id": 98336710, "body": "Is there any constraint on the length or content of the arrays?  Is it always a bunch of strings?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11335201"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1556129994, "post_id": 55836128, "comment_id": 98336910, "body": "@jcalz -&gt; it works. Thanks!"}], "owner": {"user_type": "does_not_exist", "display_name": "user11335201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556153317, "creation_date": 1556129195, "question_id": 55836128, "link": "https://stackoverflow.com/questions/55836128/creating-an-interface-for-data-being-returned-from-the-service-throws-error", "title": "Creating an Interface for data being returned from the service throws error", "body": "<p>I'm creating an interface for the data being return from the service, but when I apply the interface for this data to my mockData it says\nType 'string' is not assignable to type '[]'.\nBelow is the data being returned from service and the my interface:</p>\n\n<pre><code>{\n\n      selectionGroups: [\n          [ 'TAXES',\n            'RETIREMENT'\n          ],\n          [\n              \"RMD\",\n              \"PARTICIPANT\"\n          ],\n          [\n              \"VOYAGER\",\n              \"ADVISOR\"\n          ],\n          [\n              \"TECHNICAL_SUPPORT\"\n          ]\n      ]\n  }\n</code></pre>\n\n<p>// interface:</p>\n\n<pre><code>export interface ContactInfoSelectionResponse {\n    selectionGroups: Array&lt;[][]&gt;\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular5"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1556129578, "post_id": 55836084, "comment_id": 98336713, "body": "And the template is?"}, {"owner": {"reputation": 431, "user_id": 2718856, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1841456202579053/picture?type=large", "display_name": "GeeWhizBang", "link": "https://stackoverflow.com/users/2718856/geewhizbang"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1556130231, "post_id": 55836084, "comment_id": 98337018, "body": "The template is irrelevant because if I set fullUserName = &quot;Yadda badda bing&quot;; it works and is written on the page. But I will add it to the post."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1556131311, "post_id": 55836084, "comment_id": 98337496, "body": "It does matter. You said &quot;I have a blank page&quot;. How could we know why you have a blank page if we don&#39;t even know what your template is doing Maybe you have a blank page because there&#39;s nothing in your template. Maybe because you have everything inside an ngIf with a false condition. Your template is a mix of angular and vue markup. It has invalid ng-templates that do cause error messages: <a href=\"https://stackblitz.com/edit/angular-qdctmr\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-qdctmr</a>. Removing these ng-templates causes the page to be displayed: <a href=\"https://stackblitz.com/edit/angular-gporxp?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-gporxp?file=src/app/&hellip;</a>."}, {"owner": {"reputation": 431, "user_id": 2718856, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1841456202579053/picture?type=large", "display_name": "GeeWhizBang", "link": "https://stackoverflow.com/users/2718856/geewhizbang"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1556131920, "post_id": 55836084, "comment_id": 98337752, "body": "I said it worked if I didn&#39;t use the function to build the composite name field. I know there is still some vueJS stuff in the template but it is being ignored by angular at the moment. I left it in there to have a guide on where to put things later."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1556132374, "post_id": 55836084, "comment_id": 98337964, "body": "So, what is the precise code that doesn&#39;t work as you want, what do you expect to happen, and what happens instead? Be precise. We can&#39;t guess what you mean. We can&#39;t see the code that you don&#39;t post."}], "owner": {"reputation": 431, "user_id": 2718856, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1841456202579053/picture?type=large", "display_name": "GeeWhizBang", "link": "https://stackoverflow.com/users/2718856/geewhizbang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556134089, "creation_date": 1556129069, "last_edit_date": 1556134089, "question_id": 55836084, "link": "https://stackoverflow.com/questions/55836084/angular-5-need-to-compute-a-property-in-component", "title": "Angular 5 need to compute a property in component", "body": "<p>I'm very new to Angular 5, find it rather tedious how hard everything is compared to something elegant like VueJS.</p>\n\n<p>Nevertheless I need to learn it. I need to create a composite name in my model in the controller, or perhaps in a model, but I haven't figured out how to connect one up.</p>\n\n<p>The following code compiles but just gives me a blank page, no errors:</p>\n\n<pre><code>export class AppComponent {\n\n    editMode =  false;\n    name = { prefix: \"Mr.\", first: \"John\", mi: \"K\", last: \"Smith\" };\n    namePrefix = [\n      {key: \"-1\", text: \"\"},\n      {key: \"0\", text: \"Mr.\"},\n      {key: \"1\", text: \"Ms.\"},\n      {key: \"2\", text: \"Mrs.\"},\n      {key: \"3\", text: \"Dr.\"}\n    ];\n    attributes = [\"1\", \"5\", \"7\"];\n    links = [\"http://google.com\", \"https://connect.cray.us.com\", \"http://yahoo.com\"];\n    position = [ \"First Position\", \"Position Two\", \"3rd Position\"];\n    topThree = [ \"Yadda\", \"Badda\", \"Bing\"];\n    attribList = [\n      {key: \"1\", text: \"Attribute of first kind\"},\n      {key: \"2\", text: \"Important Attribute\"},\n      {key: \"3\", text: \"Really important attribute\"},\n      {key: \"4\", text: \"Blue suede shoes\"},\n      {key: \"5\", text: \"Back dimension\"},\n      {key: \"6\", text: \"Front dimension\"},\n      {key: \"7\", text: \"Forward dimension\"},\n      {key: \"8\", text: \"Fifth dimension\"},\n      {key: \"9\", text: \"One less egg to fry\"}\n    ];\n\n    fullUserName = this.getFullUserName();\n\n    //if I delete this and directly assign the value, it runs:  \n    getFullUserName() {\n      var result = [];\n      var props = ['prefix', 'first', 'mi', 'last'];\n      for (var i = 0; i &lt; props.length; i++) {\n         var prop = props[i];\n         var item = this.name[prop];\n         if (item !== \"\") {\n            if (prop === \"mi\") {\n               item += \".\";\n            }\n            result.push(item);\n         }\n      }\n      return result.join(' ');\n    }\n\n\n    toEditMode() {\n      this.editMode = true;\n    }\n\n    cancel() {\n      this.editMode = false;\n    }\n\n    save() {\n      this.editMode = false;\n    }\n\n};  \n\n</code></pre>\n\n<p>This is the template, as if it matters:</p>\n\n<pre><code>&lt;div class=\"centeredLayout\"&gt;\n    &lt;div class=\"profile\" id=\"profile\"&gt;\n        &lt;header&gt;\n            &lt;h1&gt;User Profile&lt;/h1&gt;\n            &lt;div class=\"buttons\"&gt;\n                &lt;button *ngIf=\"!editMode\" (click)=\"toEditMode()\"&gt;Edit&lt;/button&gt;\n                &lt;button *ngIf=\"editMode\" (click)=\"cancel()\"&gt;Cancel&lt;/button&gt;\n                &lt;button *ngIf=\"editMode\" (click)=\"save()\"&gt;Save&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/header&gt;\n        &lt;div class=\"row\" &gt;\n            &lt;div class=\"control name\"&gt;\n                &lt;label&gt;Employee Name&lt;/label&gt;\n                &lt;div *ngIf=\"editMode\" class=\"float\"&gt;\n                    &lt;div class=\"control small\"&gt;\n                        &lt;label&gt;Prefix&lt;/label&gt;\n                        &lt;select [value]=\"name.prefix\"&gt;\n                            &lt;ng-template *ngFor=\"let item of namePrefix\"&gt;\n                                &lt;option [value]=\"item.text\" &gt;{{item.text}}&lt;/option&gt;\n                            &lt;/ng-template&gt;\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control medium\"&gt;\n                        &lt;label&gt;First Name&lt;/label&gt;\n                        &lt;input type=\"text\" [value]=\"name.first\" /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control short\"&gt;\n                        &lt;label&gt;MI&lt;/label&gt;\n                        &lt;input type=\"text\" [value]=\"name.mi\" /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control medium\"&gt;\n                        &lt;label&gt;Last Name&lt;/label&gt;\n                        &lt;input type=\"text\" [value]=\"name.last\" /&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;p *ngIf=\"!editMode\"&gt;{{fullUserName}}&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;div class=\"control fullWidth\"&gt;\n                    &lt;label&gt;Attributes&lt;/label&gt;\n                    &lt;div class=\"multiselect\" *ngIf=\"editMode\"&gt;\n                        &lt;label *ngFor=\"let item of attribList\"&gt;\n                            &lt;input type=\"checkbox\" [value]=\"item.key\" ngModel=\"attributes\" /&gt;&lt;span&gt;{{item.text}}&lt;/span&gt;\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div *ngIf =\"!editMode\" class=\"list\"&gt;\n                        &lt;ng-template *ngIf=\"item.key in attributes\"&gt;&lt;/ng-template&gt;\n                        &lt;p *ngFor=\"let item of attribList\"&gt;{{item.text}}&lt;/p&gt; \n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"control fullWidth\"&gt;\n                    &lt;label&gt;Top Three&lt;/label&gt;\n                    &lt;ng-template *ngIf =\"editMode\"&gt;\n                        &lt;input *ngFor=\"let item of topThree\" type=\"text\" :data-index=\"index\" [value]=\"item\" v-on:keyup=\"updateTopThree\"/&gt;\n                    &lt;/ng-template&gt;\n                    &lt;div *ngIf =\"!editMode\" class=\"list\"&gt;\n                        &lt;p *ngFor=\"let item of topThree\" &gt;{{item}}&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"control\"&gt;\n                &lt;label class=\"withButton\"&gt;Position&lt;/label&gt;\n                &lt;button *ngIf=\"editMode\" v-on:click=\"addPosition\"&gt;Add&lt;/button&gt;\n                &lt;ul *ngIf =\"!editMode\"&gt;\n                    &lt;li *ngFor=\"let item of position\"&gt;{{item}}&lt;/li&gt;\n                &lt;/ul&gt;\n                &lt;div *ngIf=\"editMode\"&gt;\n                    &lt;div class=\"group\" *ngFor=\"let item of position\"&gt;\n                        &lt;input :data-index=\"index\" type=\"text\" [value]=\"item\" v-on:keyup=\"updatePosition\" /&gt;&lt;button v-on:click=\"removePosition\" class=\"symbol\" :data-index=\"index\"&gt;r&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"control full\"&gt;\n                &lt;label&gt;Links&lt;/label&gt;\n                    &lt;ng-template *ngIf=\"editMode\"&gt;\n                        &lt;input *ngFor=\"let item of links\" :data-index=\"index\" [value]=\"item\"  \n                    v-on:keyup=\"updateLinks\" /&gt;\n                    &lt;/ng-template&gt;\n                &lt;div class=\"list\" *ngIf=\"!editMode\"&gt;\n                    &lt;p *ngFor=\"let item of links\"&gt;&lt;a :href=\"item\"&gt;{{ item}}&lt;/a&gt;&lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>A better template, it still doesn't do a lot of the things I want, but that is a different question. I'm not sure why the template didn't like the function to assign the value, but once fixed the component code worked properly.</p>\n\n<pre><code>&lt;div class=\"centeredLayout\"&gt;\n    &lt;div class=\"profile\" id=\"profile\"&gt;\n        &lt;header&gt;\n            &lt;h1&gt;User Profile&lt;/h1&gt;\n            &lt;div class=\"buttons\"&gt;\n                &lt;button *ngIf=\"!editMode\" (click)=\"toEditMode()\"&gt;Edit&lt;/button&gt;\n                &lt;button *ngIf=\"editMode\" (click)=\"cancel()\"&gt;Cancel&lt;/button&gt;\n                &lt;button *ngIf=\"editMode\" (click)=\"save()\"&gt;Save&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/header&gt;\n        &lt;div class=\"row\" &gt;\n            &lt;div class=\"control name\"&gt;\n                &lt;label&gt;Employee Name&lt;/label&gt;\n                &lt;div *ngIf=\"editMode\" class=\"float\"&gt;\n                    &lt;div class=\"control small\"&gt;\n                        &lt;label&gt;Prefix&lt;/label&gt;\n                        &lt;select [value]=\"name.prefix\"&gt;\n                            &lt;ng-template *ngFor=\"let item of namePrefix\"&gt;\n                                &lt;option [value]=\"item.text\" &gt;{{item.text}}&lt;/option&gt;\n                            &lt;/ng-template&gt;\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control medium\"&gt;\n                        &lt;label&gt;First Name&lt;/label&gt;\n                        &lt;input type=\"text\" [value]=\"name.first\" /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control short\"&gt;\n                        &lt;label&gt;MI&lt;/label&gt;\n                        &lt;input type=\"text\" [value]=\"name.mi\" /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control medium\"&gt;\n                        &lt;label&gt;Last Name&lt;/label&gt;\n                        &lt;input type=\"text\" [value]=\"name.last\" /&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;p *ngIf=\"!editMode\"&gt;{{fullUserName}}&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;div class=\"control fullWidth\"&gt;\n                    &lt;label&gt;Attributes&lt;/label&gt;\n                    &lt;div class=\"multiselect\" *ngIf=\"editMode\"&gt;\n                        &lt;label *ngFor=\"let item of attribList\"&gt;\n                            &lt;input type=\"checkbox\" [value]=\"item.key\" /&gt;&lt;span&gt;{{item.text}}&lt;/span&gt;\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div *ngIf=\"!editMode\" class=\"list\"&gt;\n                        &lt;ng-template *ngFor=\"let item of attribList\"&gt;\n                            &lt;p&gt;{{item.text}}&lt;/p&gt; \n                        &lt;/ng-template&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"control fullWidth\"&gt;\n                    &lt;label&gt;Top Three&lt;/label&gt;\n                    &lt;ng-template *ngIf =\"editMode\"&gt;\n                        &lt;input *ngFor=\"let item of topThree\" type=\"text\" :data-index=\"index\" [value]=\"item\" v-on:keyup=\"updateTopThree\"/&gt;\n                    &lt;/ng-template&gt;\n                    &lt;div *ngIf =\"!editMode\" class=\"list\"&gt;\n                        &lt;p *ngFor=\"let item of topThree\" &gt;{{item}}&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"control\"&gt;\n                &lt;label class=\"withButton\"&gt;Position&lt;/label&gt;\n                &lt;button *ngIf=\"editMode\" v-on:click=\"addPosition\"&gt;Add&lt;/button&gt;\n                &lt;ul *ngIf =\"!editMode\"&gt;\n                    &lt;li *ngFor=\"let item of position\"&gt;{{item}}&lt;/li&gt;\n                &lt;/ul&gt;\n                &lt;div *ngIf=\"editMode\"&gt;\n                    &lt;div class=\"group\" *ngFor=\"let item of position\"&gt;\n                        &lt;input :data-index=\"index\" type=\"text\" [value]=\"item\" v-on:keyup=\"updatePosition\" /&gt;&lt;button v-on:click=\"removePosition\" class=\"symbol\" :data-index=\"index\"&gt;r&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"control full\"&gt;\n                &lt;label&gt;Links&lt;/label&gt;\n                    &lt;ng-template *ngIf=\"editMode\"&gt;\n                        &lt;input *ngFor=\"let item of links\" :data-index=\"index\" [value]=\"item\"  \n                    v-on:keyup=\"updateLinks\" /&gt;\n                    &lt;/ng-template&gt;\n                &lt;div class=\"list\" *ngIf=\"!editMode\"&gt;\n                    &lt;p *ngFor=\"let item of links\"&gt;&lt;a :href=\"item\"&gt;{{ item}}&lt;/a&gt;&lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1556128971, "post_id": 55836018, "comment_id": 98336443, "body": "It&#39;s a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a>.  It doesn&#39;t have any affect at runtime (so <code>console.log()</code> doesn&#39;t know or care about it).  It just tells the compiler what type something is because the compiler can&#39;t figure it out itself."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 9573441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kt2EjDT6HO8/AAAAAAAAAAI/AAAAAAAAABs/Op7ORjvQY04/photo.jpg?sz=128", "display_name": "game symbol", "link": "https://stackoverflow.com/users/9573441/game-symbol"}, "edited": false, "score": 1, "creation_date": 1556129654, "post_id": 55836182, "comment_id": 98336749, "body": "omg, I got it it means that I can even do <code>return &lt;FormArray&gt;(this.form).get(&#39;topics&#39;);</code> !!!! thank you so much"}, {"owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "reply_to_user": {"reputation": 105, "user_id": 9573441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kt2EjDT6HO8/AAAAAAAAAAI/AAAAAAAAABs/Op7ORjvQY04/photo.jpg?sz=128", "display_name": "game symbol", "link": "https://stackoverflow.com/users/9573441/game-symbol"}, "edited": false, "score": 0, "creation_date": 1556129749, "post_id": 55836182, "comment_id": 98336794, "body": "glad to help :-)"}], "tags": [], "owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "is_accepted": true, "score": 2, "last_activity_date": 1556129704, "last_edit_date": 1556129704, "creation_date": 1556129414, "answer_id": 55836182, "question_id": 55836018, "link": "https://stackoverflow.com/questions/55836018/angular-what-did-the-as-keyword-actually-doing/55836182#55836182", "title": "angular what did the &#39;as&#39; keyword actually doing?", "body": "<p>As mentioned this is <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">Type Assertion</a>. This is like casting, telling the compiler the type when it has not been prompted to know by the code.</p>\n\n<p>so here <code>return this.form.get('topics') as FormArray;</code></p>\n\n<p>The compiler would now know that the object being returned is a FormArray. Which is beneficial as the compiler / IDE will now know the shape of the object and about and what properties its has. <code>.length</code> etc.</p>\n\n<p>This could be simplified down to giving the function a return type if this style is not desired. The method is called <a href=\"https://www.tutorialsteacher.com/typescript/type-annotation\" rel=\"nofollow noreferrer\">Type Annotation</a>.</p>\n\n<pre><code>public get topics(): FormArray &lt;-- type assigned here. {\n    return this.form.get('topics');\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 9573441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kt2EjDT6HO8/AAAAAAAAAAI/AAAAAAAAABs/Op7ORjvQY04/photo.jpg?sz=128", "display_name": "game symbol", "link": "https://stackoverflow.com/users/9573441/game-symbol"}, "edited": false, "score": 0, "creation_date": 1556129680, "post_id": 55836223, "comment_id": 98336763, "body": "now I got it thank you so much"}], "tags": [], "owner": {"reputation": 113, "user_id": 1688992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMPz0.jpg?s=128&g=1", "display_name": "prakash r", "link": "https://stackoverflow.com/users/1688992/prakash-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1556129598, "creation_date": 1556129598, "answer_id": 55836223, "question_id": 55836018, "link": "https://stackoverflow.com/questions/55836018/angular-what-did-the-as-keyword-actually-doing/55836223#55836223", "title": "angular what did the &#39;as&#39; keyword actually doing?", "body": "<p>It's equivalent to</p>\n\n<pre><code>  get topics() : FormArray {\n    const result : FormArray  = this.form.get('topics');\n    return result;\n  }\n</code></pre>\n\n<p>Please refer \n<a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">As Usage</a></p>\n"}], "owner": {"reputation": 105, "user_id": 9573441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kt2EjDT6HO8/AAAAAAAAAAI/AAAAAAAAABs/Op7ORjvQY04/photo.jpg?sz=128", "display_name": "game symbol", "link": "https://stackoverflow.com/users/9573441/game-symbol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "closed_date": 1556129857, "accepted_answer_id": 55836182, "answer_count": 2, "score": 2, "last_activity_date": 1556129704, "creation_date": 1556128824, "question_id": 55836018, "link": "https://stackoverflow.com/questions/55836018/angular-what-did-the-as-keyword-actually-doing", "closed_reason": "Duplicate", "title": "angular what did the &#39;as&#39; keyword actually doing?", "body": "<p>I am confusing with the 'as' keyword at the following code, because actually the <code>this.form.get('topics')</code> itself is a formArray object then why do I need to return a formArray as a formArray again ? But actually this is true because if I directly return <code>this.form.get('topics')</code> then it can't do some of the function such as push, controls and removeAt, but why is this happen ? I have tried to console log both <code>return this.form.get('topics') as FormArray;</code> and <code>return this.form.get('topics')</code> but still I get a totally same formArray object, but why ? why it is already a formArray I still need to return it as formArray in order to do some operation which formArray can do? what did the 'as' keyword done?</p>\n\n<pre><code>@Component({\n  selector: 'ontime-course-form',\n  templateUrl: './ontime-course-form.component.html',\n  styleUrls: ['./ontime-course-form.component.scss']\n})\nexport class OntimeCourseFormComponent {\n  form = new FormGroup({\n      topics: new FormArray([])\n  })\n\n  addTopic(topic: HTMLInputElement){\n      this.topics.push(new FormControl(topic.value))\n  }\n\n  removeTopic(topic: FormControl){\n    let index = this.topics.controls.indexOf(topic);\n    this.topics.removeAt(index);\n  }\n\n  get topics(){\n    return this.form.get('topics') as FormArray;\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 3, "creation_date": 1556127810, "post_id": 55835766, "comment_id": 98335958, "body": "the type for it would be <code>Record&lt;string, { name : string, city: string }&gt;</code>"}, {"owner": {"reputation": 4750, "user_id": 3095866, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/fuMfG.jpg?s=128&g=1", "display_name": "Dmitrij Kultasev", "link": "https://stackoverflow.com/users/3095866/dmitrij-kultasev"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556128024, "post_id": 55835766, "comment_id": 98336041, "body": "could you please provide an example how to make an assignment for such variable?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 2, "creation_date": 1556128185, "post_id": 55835766, "comment_id": 98336122, "body": "<code>var myObj: Record&lt;string, { name : string, city: string }&gt; = { dynamicName: { name: &quot;test&quot;, city: &quot;testCity&quot; } }</code> or you could do <code>var myObj: Record&lt;...&gt; = {}; myObj[&quot;dynamicName&quot;] = { name: &quot;test&quot;, city: &quot;testCity&quot; };</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1556129273, "post_id": 55835766, "comment_id": 98336580, "body": "Do note that <code>Record&lt;string, {name: string, city: string}&gt;</code> is the same as <code>{[k: string]: {name: string, city: string}</code> and matches values like <code>{dynamicName: {name: &quot;test&quot;, city: &quot;testCity&quot;}, anotherName: {name: &quot;anotherTest&quot;, city: &quot;anotherCity&quot;}}</code> but not values like <code>{dynamicName: {name: &quot;test&quot;, city: &quot;testCity&quot;}, otherProp: &quot;hello&quot;}</code>."}], "owner": {"reputation": 4750, "user_id": 3095866, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/fuMfG.jpg?s=128&g=1", "display_name": "Dmitrij Kultasev", "link": "https://stackoverflow.com/users/3095866/dmitrij-kultasev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556127753, "creation_date": 1556127753, "question_id": 55835766, "link": "https://stackoverflow.com/questions/55835766/create-an-object-with-dynamic-key-name", "title": "Create an object with dynamic key name", "body": "<p>How can I create an object like that?</p>\n\n<pre><code>{\n    \"dynamicName\": {\n        \"name\": \"test\",\n        \"city\": \"testCity\"\n    }\n}\n</code></pre>\n\n<p><code>name</code> and <code>city</code> properties are known, and <code>dynamicName</code> is supposed to be dynamic property</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1556129103, "post_id": 55835700, "comment_id": 98336505, "body": "<code>import { concatMap } from &#39;rxjs&#47;operators&#39;</code> then <code>this.emitter.pipe( concatMap() ).subscribe()</code>. Thats assuming you have rxjs v. <code>^6.0.0</code>. Again, <a href=\"https://observable-playground.github.io/gist/201babaf39591ca11c00d9224e78efd0\" rel=\"nofollow noreferrer\">an example using pipe and concatMap with a promise</a>"}, {"owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "reply_to_user": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1556174999, "post_id": 55835700, "comment_id": 98349177, "body": "Why the downvote? Care to comment?"}], "answers": [{"comments": [{"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 1, "creation_date": 1556129988, "post_id": 55836237, "comment_id": 98336908, "body": "Hello, Chase, welcome to SO! While its important to give a precise solution, its also very valuable to add an explanation of your solution: why and how it works. You can edit your answer to add more textual context to your solution."}, {"owner": {"reputation": 26, "user_id": 8760947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb087ab4d8988705cf5d439a90772511?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/8760947/chase"}, "reply_to_user": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1556130647, "post_id": 55836237, "comment_id": 98337194, "body": "Thanks! Sorry for the lack of explanation. I will add some more context to clarify. I did not see your comment before posting, I apologize if I took the solution from you."}], "tags": [], "owner": {"reputation": 26, "user_id": 8760947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb087ab4d8988705cf5d439a90772511?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/8760947/chase"}, "is_accepted": true, "score": 1, "last_activity_date": 1556130850, "last_edit_date": 1556130850, "creation_date": 1556129655, "answer_id": 55836237, "question_id": 55835700, "link": "https://stackoverflow.com/questions/55835700/how-to-make-an-rxjs-subscription-with-an-async-function-serialize-the-onnext-cal/55836237#55836237", "title": "How to make an RxJS subscription with an async function serialize the onNext calls?", "body": "<p>As Kos stated, in Rxjs v6, pipeable operators became the norm, moving away from chaining everything together with <code>.</code>. \nI assume since you're using <code>fromEventPattern</code>, instead of <code>Observable.fromEventPattern</code> that you are using rxjs v6+, in which case, you need to wrap <code>concatMap()</code> inside a <code>pipe()</code>.</p>\n\n<pre><code>this.rxSubscription = this.emitter.pipe(concatMap(value:any =&gt; this.handleUpdatedValuesComingFromSensor(value))).subscribe()\n</code></pre>\n"}], "owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 55836237, "answer_count": 1, "score": -1, "last_activity_date": 1556130850, "creation_date": 1556127510, "question_id": 55835700, "link": "https://stackoverflow.com/questions/55835700/how-to-make-an-rxjs-subscription-with-an-async-function-serialize-the-onnext-cal", "title": "How to make an RxJS subscription with an async function serialize the onNext calls?", "body": "<p>This is a followup for this <a href=\"https://stackoverflow.com/questions/55816172/is-it-safe-to-subscribe-to-an-observable-with-an-async-function\">question</a>.</p>\n\n<p>So RxJS is calling my async function with the next event bebore the previous one has completed as soon as I await in my async method.</p>\n\n<p>I need to serialize the calls to this async function.</p>\n\n<p>I have understood from this <a href=\"https://stackoverflow.com/a/38642593/15186\">answer</a> to a similar question that I need to move my async function away from subscribe and use concatMap.</p>\n\n<p>Right now my code does not compile with the following error:</p>\n\n<blockquote>\n  <p>error TS2339: Property 'concatMap' does not exist on type 'Observable'.</p>\n</blockquote>\n\n<p>My code (trying to adjust):</p>\n\n<p>1/ the new subscription code (won't compile):</p>\n\n<pre><code>this.emitter = fromEventPattern(this.addHandler, this.removeHandler, (err, char) =&gt; [err, char]); &lt;= unchanged\nthis.rxSubscription = this.rxSubscription = this.emitter.concatMap(value:any =&gt; this.handleUpdatedValuesComingFromSensor(value)).subscribe(); &lt;= concatMap does not exist on type Observable&lt;any&gt;\n</code></pre>\n\n<p>2/ the async function for your information:</p>\n\n<pre><code>       handleUpdatedValuesComingFromSensor = async (arr: any[]): Promise&lt;void&gt; =&gt; {\n   ...\n   await someMethodAsync();\n   ...\n}\n</code></pre>\n\n<p>concatMap should be used on another type of source but I can't figure it out.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "service", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1556129020, "post_id": 55835778, "comment_id": 98336470, "body": "You don&#39;t need to implement workarounds like <code>return of([]);</code> if you have a good backend developer. lol"}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1556136877, "post_id": 55835778, "comment_id": 98339799, "body": "@DmitryGrinko ever heard of tunnels? Once you go in, one often loses his internet connection, and then you will get an error... Also, how about a user that don&#39;t have auth... there are so many problems that can occur when dealing with HTTP"}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1556137799, "post_id": 55835778, "comment_id": 98340179, "body": "Ask yourself - why do I need the empty array if my backend is not working properly?"}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1556180843, "post_id": 55835778, "comment_id": 98352115, "body": "@DmitryGrinko Well you don&#39;t but the point is you can... Imagine you have metadata, something like <code>awaitingNewValues</code>, <code>success</code> and <code>items</code>, you could easily fill the metadata and let the app display the error. The backend is not in the question at all."}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1556182749, "post_id": 55835778, "comment_id": 98353148, "body": "@DmitryGrinko Have a look at the added example, this is some intelligent use of <code>catchError</code>..."}], "tags": [], "owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1556182683, "last_edit_date": 1556182683, "creation_date": 1556127793, "answer_id": 55835778, "question_id": 55835500, "link": "https://stackoverflow.com/questions/55835500/angular-it-is-sending-requests-from-the-service-better-than-from-the-component/55835778#55835778", "title": "Angular - It is sending requests from the service better than from the component?", "body": "<p>Well as Angular doc says it is better to have that logic in the service, have a look on this:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>class Service {\n  constructor(public http: HttpClient) { }\n\n  getRestaurants(): Observable&lt;Restaurant&gt; {\n    return this.http.get&lt;{ /* Specify HTTP response schema */ }&gt;(url).pipe(\n      // Transformation to actual Restaurants at one place\n      map(data =&gt; data.map(restaurant =&gt; new Restaurant()),\n      // Handle error\n      catchError(err =&gt; {\n        logError(err);\n        throw err;\n        //  Or...\n        return of([]); // Mock data not to crash app\n      }),\n      // If multiple subscription are made to same source, it won't do multiple http calls\n      shareReply(1),\n    );\n  }\n}\n</code></pre>\n\n<pre class=\"lang-ts prettyprint-override\"><code>class Component {\n  restaurants: Restaurant[] = [];\n\n  ngOnInit(): void {\n    // Prefered way\n    this.restaurants$ = this.service.getRestaurants().pipe(\n      // If, you pass error down, you'll be able to hendle it here...\n      catchError(err =&gt; {\n        return of([]);\n      }),\n    );\n    // Alternative\n    this.cleanUp = this.service.getRestaurants().subscribe(restaurants =&gt; {\n      this.restaurants = restaurants;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.cleanUp.unsubscribe();\n  }\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- Observable --&gt;\n&lt;div *ngFor=\"let restaurant of restaurants$ | async\"&gt;\n  {{restaurant | json}}\n&lt;/div&gt;\n\n&lt;!-- Non-Observable --&gt;\n&lt;div *ngFor=\"let restaurant of restaurants\"&gt;\n  {{restaurant | json}}\n&lt;/div&gt;\n</code></pre>\n\n<p>I have switched your code from promise to observables because observables are one of biggest benefit os using Angular. Observables can be cancelled, are nicely readable in templates, and many others that I may think of one day.</p>\n\n<hr>\n\n<p>Observables are very strong, you can have always fresh information based on other observable. Have a look, it may give you some ideas...</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface ApiResponse&lt;type&gt; {\n  awaitingNewValues: boolean;\n  error: null | any;\n  response: type;\n}\n\nclass Service {\n  currentRestaurantID = new BehaviourSubject(1);\n\n  currentRestaurantInfo: Observable&lt;ApiResponse&lt;Restaurant&gt;&gt;;\n\n  constructor(private http: HTTPClient) {\n    let latestRestaurants: ApiResponse&lt;Restaurant | undefined&gt; = {\n      awaitingNewValues: true,\n      error: null,\n      response: [],\n    };\n    currentRestaurantInfo = this.currentRestaurantID.pipe(\n      switchMap(restaurantID =&gt; {\n        return concat(\n          // This will notify UI that we are requesting new values\n          of(Object.assign({}, latestRestaurants, { awaitingNewValues: true })),\n          // The actual call to API\n          this.http.get(`${apiUrl}/${restaurantID}`).pipe(\n            // Wrap response in metadata\n            map(restaurant =&gt; {\n              return {\n                awaitingNewValues: false,\n                error: null,\n                response: restaurant,\n              }\n            }),\n            // Notify UI of error &amp; pass error\n            catchError(err =&gt; {\n              return of({\n                awaitingNewValues: true,\n                error: err,\n                response: undefined,\n              });\n            }),\n          ),\n        );\n      }),\n      // Save last response to be used in next api call\n      tap(restaurants =&gt; this.latestRestaurants = restaurants),\n      // Prevent calling API too many times\n      shareReplay(1),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "is_accepted": false, "score": 0, "last_activity_date": 1556128502, "creation_date": 1556128502, "answer_id": 55835923, "question_id": 55835500, "link": "https://stackoverflow.com/questions/55835500/angular-it-is-sending-requests-from-the-service-better-than-from-the-component/55835923#55835923", "title": "Angular - It is sending requests from the service better than from the component?", "body": "<p>Best practice is to use Observable</p>\n\n<p>RestaurantService.ts</p>\n\n<pre><code>getRestaurants(): Observable&lt;_Restaurant[]&gt; {\n    return this.get('/restaurants');\n};\n</code></pre>\n\n<p>Restaurants.component.ts</p>\n\n<pre><code>import { Subscription } from 'rxjs';\n\nsub: Subscription;\n\nloadRestaurants(): void {\n    this.sub = this.restaurantService.getRestaurants()\n        .subscribe(result =&gt; {\n            this.restaurants = result;\n        }, exception =&gt; {\n            console.log(exception);\n        });\n}\n\nngOnDestroy() {\n    this.sub.unsubscribe();\n}\n</code></pre>\n\n<p>If you need to modify response you should use the <code>pipe</code> approach in your service.</p>\n"}], "owner": {"reputation": 662, "user_id": 9125759, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/O6Yjg.jpg?s=128&g=1", "display_name": "Khaled Ramadan", "link": "https://stackoverflow.com/users/9125759/khaled-ramadan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556182683, "creation_date": 1556126713, "question_id": 55835500, "link": "https://stackoverflow.com/questions/55835500/angular-it-is-sending-requests-from-the-service-better-than-from-the-component", "title": "Angular - It is sending requests from the service better than from the component?", "body": "<p>I'm wondering if should I send request from the angular service? or should I send it directly from the component?</p>\n\n<p><strong>First Approach:</strong></p>\n\n<p>RestaurantService.ts</p>\n\n<pre><code>  getRestaurants(): Promise&lt;_Restaurant[]&gt; {\n    return this.get(\"/restaurants\").toPromise();\n  };\n</code></pre>\n\n<p>Restaurants.component.ts</p>\n\n<pre><code>  loadRestaurants = async () =&gt; {\n    try {\n      this.restaurants  = await this.restaurantService.getRestaurants();\n    } catch (exception) {\n      console.log(JSON.stringify(exception, null, 2));\n    }\n  }\n</code></pre>\n\n<p><em>Which mean the request was fired through the component.</em></p>\n\n<p><strong>Second Approach:</strong></p>\n\n<p>RestaurantService.ts</p>\n\n<pre><code>  async getRestaurants(): Promise&lt;_Restaurant[]&gt; {\n    try {\n      const response: _Restaurant[] = await this.get(\"/restaurants\").toPromise() as _Restaurant[];\n      return response;\n    } catch (exception) {\n      throw new Error(exception);\n    }\n  };\n</code></pre>\n\n<p>Restaurants.component.ts</p>\n\n<pre><code>  loadRestaurants = async () =&gt; {\n    try {\n      this.restaurants  = await this.restaurantService.getRestaurants();\n    } catch (exception) {\n      console.log(JSON.stringify(exception, null, 2));\n    }\n  }\n</code></pre>\n\n<p><em>Which mean the request was fired from the service then return the response as a promise</em></p>\n\n<p>So what is the best approach? if it is the second approach, it is possible to catch the error from the service and throw it to the component?</p>\n"}, {"tags": ["javascript", "typescript", "jestjs"], "comments": [{"owner": {"reputation": 668, "user_id": 313264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e78582c659380d5075f8dd5836012d9?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/313264/mark"}, "edited": false, "score": 0, "creation_date": 1565263522, "post_id": 55835245, "comment_id": 101303028, "body": "I&#39;m not sure if you found the solution to this yet, but I ran across a <a href=\"https://stackoverflow.com/questions/51495473/typescript-and-jest-avoiding-type-errors-on-mocked-functions\">duplicate question</a> that solves this problem. In a nutshell, you create a new reference to the thing you&#39;re mocking (<code>api</code>) that you explicitly typecast as of type <code>jest.Mocked&lt;...&gt;</code>."}, {"owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "reply_to_user": {"reputation": 668, "user_id": 313264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e78582c659380d5075f8dd5836012d9?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/313264/mark"}, "edited": false, "score": 0, "creation_date": 1565270668, "post_id": 55835245, "comment_id": 101307419, "body": "The thing is, I&#39;m not using Typescript. I&#39;m using Javascript with the <code>jsconfig.json</code>"}, {"owner": {"reputation": 668, "user_id": 313264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e78582c659380d5075f8dd5836012d9?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/313264/mark"}, "edited": false, "score": 0, "creation_date": 1565437980, "post_id": 55835245, "comment_id": 101360085, "body": "Ah, sorry. I misread your question."}], "owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556127529, "creation_date": 1556125576, "question_id": 55835245, "link": "https://stackoverflow.com/questions/55835245/how-to-make-tsserver-recognize-when-jest-mock-is-used", "title": "How to make TSServer recognize when jest.mock() is used?", "body": "<p>I have a javascript project with <code>jsconfig.json</code> configured properly. It works for almost everything except for when I mock a module with <code>jest.mock()</code> on my unit tests:</p>\n\n<pre><code>// unit.test.js\n\njest.mock('./api')\n\nit('does something', () =&gt; {\n  // Linting error:  \n  // Property 'mockResolvedValue' does not exist on type () =&gt; Promise&lt;any&gt;\n  api.loadStudents.mockResolvedValue([]);\n});\n</code></pre>\n\n<p>Is there any way to let TSServer know that Jest is mocking this module, so the exported object properties are instances of <code>jest.Mock</code>?</p>\n"}, {"tags": ["typescript", "jsx"], "answers": [{"comments": [{"owner": {"reputation": 11287, "user_id": 327572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tSPHs.jpg?s=128&g=1", "display_name": "Rob N", "link": "https://stackoverflow.com/users/327572/rob-n"}, "edited": false, "score": 0, "creation_date": 1556125481, "post_id": 55835043, "comment_id": 98334897, "body": "That works, but do you know why, or can you point me to where in the typescript docs they explain it?"}, {"owner": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "reply_to_user": {"reputation": 11287, "user_id": 327572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tSPHs.jpg?s=128&g=1", "display_name": "Rob N", "link": "https://stackoverflow.com/users/327572/rob-n"}, "edited": false, "score": 0, "creation_date": 1556125890, "post_id": 55835043, "comment_id": 98335061, "body": "Well there is this =&gt; <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates/global-d-ts.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-files/templates&zwnj;&#8203;/&hellip;</a> which I think is so so... But a better article discussing/explaining declarations in Typescript would be this =&gt; <a href=\"https://medium.com/@mikenorth/guide-to-typescript-ambient-declarations-717ef6da6514\" rel=\"nofollow noreferrer\">medium.com/@mikenorth/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "is_accepted": false, "score": 1, "last_activity_date": 1556124770, "creation_date": 1556124770, "answer_id": 55835043, "question_id": 55834987, "link": "https://stackoverflow.com/questions/55834987/in-typescript-why-is-jsx-intrinsicelements-not-working-as-documentation-describ/55835043#55835043", "title": "In Typescript, why is JSX.IntrinsicElements not working as documentation describes?", "body": "<p>Instead of creating the namespace in a <code>.tsx</code> file, try creating a <code>global.d.ts</code> file in the <code>src</code> folder (or wherever you keep your TS files).</p>\n\n<p>This should serve as your global interfaces file and you shouldn't have that issue anymore.</p>\n"}, {"comments": [{"owner": {"reputation": 11287, "user_id": 327572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tSPHs.jpg?s=128&g=1", "display_name": "Rob N", "link": "https://stackoverflow.com/users/327572/rob-n"}, "edited": false, "score": 1, "creation_date": 1556134542, "post_id": 55835142, "comment_id": 98338841, "body": "Okay, that helps. I wasn&#39;t importing react but both <code>react</code> and <code>@types&#47;react</code> are in my package.json because I&#39;m using them for client side stuff. Maybe I can find a way to exclude them from my server side builds."}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": true, "score": 5, "last_activity_date": 1556126158, "last_edit_date": 1556126158, "creation_date": 1556125194, "answer_id": 55835142, "question_id": 55834987, "link": "https://stackoverflow.com/questions/55834987/in-typescript-why-is-jsx-intrinsicelements-not-working-as-documentation-describ/55835142#55835142", "title": "In Typescript, why is JSX.IntrinsicElements not working as documentation describes?", "body": "<p>You need <a href=\"http://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\" rel=\"noreferrer\">module augmentation</a>. I got the answer from <a href=\"https://github.com/Microsoft/TypeScript/issues/10859#issuecomment-246496707\" rel=\"noreferrer\">here</a>. Try this:</p>\n\n<pre><code>import React from \"react\";\n\ndeclare module \"react\" {\n  namespace JSX {\n    interface IntrinsicElements {\n      foo: any\n    }\n  }\n}\n\nlet elt1 = &lt;foo/&gt;\nlet elt2 = &lt;bar/&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/react-ts-rys5nn?file=index.tsx\" rel=\"noreferrer\">Demo</a></p>\n\n<p>The reason your code doesn't work is because <code>JSX.IntrinsicElements</code> is taken from <code>@types/react</code> and redeclaring the namespace won't work. Also you'll notice your code will work if you don't import react (<a href=\"https://stackblitz.com/edit/react-ts-ugzhq7\" rel=\"noreferrer\">demo</a>). Module augmentation basically extends the <code>@types/react</code> types.</p>\n"}], "owner": {"reputation": 11287, "user_id": 327572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tSPHs.jpg?s=128&g=1", "display_name": "Rob N", "link": "https://stackoverflow.com/users/327572/rob-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2649, "favorite_count": 0, "accepted_answer_id": 55835142, "answer_count": 2, "score": 1, "last_activity_date": 1556126158, "creation_date": 1556124521, "question_id": 55834987, "link": "https://stackoverflow.com/questions/55834987/in-typescript-why-is-jsx-intrinsicelements-not-working-as-documentation-describ", "title": "In Typescript, why is JSX.IntrinsicElements not working as documentation describes?", "body": "<p>I'm trying to use JSX on the server side, without React. I'm following the typescript docs about JSX <a href=\"https://www.typescriptlang.org/docs/handbook/jsx.html#intrinsic-elements\" rel=\"nofollow noreferrer\">here</a>, and wrote the following in a <code>.tsx</code> file.</p>\n\n<pre><code>declare namespace JSX {\n  interface IntrinsicElements {\n    foo: any\n  }\n}\nlet elt1 = &lt;foo/&gt;\nlet elt2 = &lt;bar/&gt;\n</code></pre>\n\n<p>The linked docs say:</p>\n\n<blockquote>\n  <p>In the above example, <code>&lt;foo/&gt;</code> will work fine but <code>&lt;bar/&gt;</code> will result in an error ...</p>\n</blockquote>\n\n<p>But for me, they both result in the same error:</p>\n\n<blockquote>\n  <p>Property 'foo' does not exist on type 'JSX.IntrinsicElements'.<br>\n  Property 'bar' does not exist on type 'JSX.IntrinsicElements'.</p>\n</blockquote>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 1311, "user_id": 5591211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dq1iO.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5591211/rich"}, "edited": false, "score": 3, "creation_date": 1556124377, "post_id": 55834876, "comment_id": 98334348, "body": "Using straight angular, it is <b>not possible</b> to automatically modify the contents of a local file on the client&#39;s file system. If you could, this would be a <b>huge</b> security flaw. To do this, you&#39;ll need some sort of server to handle the file manipulation or a UI element to save the file manually. See <a href=\"https://stackoverflow.com/questions/30288087/is-it-possible-to-write-data-to-a-locally-json-file-with-nothing-but-angular\">here</a> for more info."}, {"owner": {"reputation": 1311, "user_id": 5591211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dq1iO.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5591211/rich"}, "edited": false, "score": 0, "creation_date": 1556124447, "post_id": 55834876, "comment_id": 98334383, "body": "However, it is possible to read in from a JSON and parse the file automatically into a class, so long as you provide the relevant data in the constructor."}, {"owner": {"reputation": 1360, "user_id": 9850902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WooeI.png?s=128&g=1", "display_name": "GJCode", "link": "https://stackoverflow.com/users/9850902/gjcode"}, "reply_to_user": {"reputation": 1311, "user_id": 5591211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dq1iO.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5591211/rich"}, "edited": false, "score": 0, "creation_date": 1556125005, "post_id": 55834876, "comment_id": 98334661, "body": "@Rich you&#39;re right, you know when you&#39;re learning something new and forgot the foundamentals, this would be of course a security issue...thanks"}], "owner": {"reputation": 1360, "user_id": 9850902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WooeI.png?s=128&g=1", "display_name": "GJCode", "link": "https://stackoverflow.com/users/9850902/gjcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556124072, "creation_date": 1556124072, "question_id": 55834876, "link": "https://stackoverflow.com/questions/55834876/bind-a-json-file-to-a-variable-in-angular-7", "title": "bind a JSON file to a variable in angular 7", "body": "<p>Hi I'm kinda new in Angular and I have the 7 version. I'm writing an application and I want to know if it's possible to bind a JSON file to a variable.</p>\n\n<p>I have a class like this:</p>\n\n<pre><code>export class Aparment {\n\n  id: number;\n  address: string;\n\n  constructor(id: number, address: string) {\n     this.id = id;\n     this.address = address;\n  }\n\n} \n</code></pre>\n\n<p>In a component I have an array of Apartment and I push some apartment objects in it. What I'm looking for is a way to read all apartment objects stored in a file in /assets/json/apartments.json when I run the application and add an apartment objet into the json file when I push a new object into the array. So far I've read that from typescript 2.9+ we can import and use a json file, but I don't know how to cast it as an array of Apartment and I don't know how to store new elements into it.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1556122176, "post_id": 55834324, "comment_id": 98333265, "body": "You might want to also answer the other part of the question about why <code>obj3[&#39;name&#39;]</code> works, which is because it uses indexed access, which is implicitly allowed and typed as <code>any</code>.  The best way to deal with this is to turn on the <code>--strict</code> (or at least <code>--noImplicitAny</code>) compiler option so that you get an error there too."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1556122577, "post_id": 55834324, "comment_id": 98333462, "body": "@jcalz Thanks for your comment. I was stumbling over how to phrase that clearly."}, {"owner": {"reputation": 13, "user_id": 11406392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dIbv1oPH3g/AAAAAAAAAAI/AAAAAAAAAIg/G6KYnbsCF0Q/photo.jpg?sz=128", "display_name": "Jingxin Wang", "link": "https://stackoverflow.com/users/11406392/jingxin-wang"}, "edited": false, "score": 0, "creation_date": 1556158948, "post_id": 55834324, "comment_id": 98345095, "body": "thank you all! when I enable the noImplicitAny option, I got two compile errors:types.ts(37,6): error TS2339: Property &#39;name&#39; does not exist on type &#39;object&#39;. types.ts(38,1): error TS7017: Element implicitly has an &#39;any&#39; type because type &#39;{}&#39; has no index signature."}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 5, "last_activity_date": 1556122535, "last_edit_date": 1556122535, "creation_date": 1556122019, "answer_id": 55834324, "question_id": 55834241, "link": "https://stackoverflow.com/questions/55834241/ts2339-property-name-does-not-exist-on-type-object/55834324#55834324", "title": "TS2339: Property &#39;name&#39; does not exist on type &#39;object&#39;", "body": "<p>Look at this line:</p>\n\n<pre><code>const obj3:object = {name: \"wewda\"};\n</code></pre>\n\n<p>You've explicitly declared that <code>obj3</code> is of type <code>object</code>, effectively discarding any information about what properties the object can contain. The type <code>object</code>, by the way, is a type that represents the non-primitive type, i.e. anything that is not <code>number</code>, <code>string</code>, <code>boolean</code>, <code>symbol</code>, <code>null</code>, or <code>undefined</code>.</p>\n\n<p>So there's no way that the type system can verify that <code>obj3.name</code> is valid. However, if you're running with the default compiler options (which are rather lax), <code>obj3['name']</code> will be allowed because <code>obj3</code> will be implicitly cast to <code>any</code>, even though in principle it's equally unsafe. I generally recommended that you enable the <code>--noImplicitAny</code> compiler option to guard against this kind of unsafe access.</p>\n\n<p>Note also that this is a compile-time error in your typings, not a run-time error. In other words, the <em>value</em> of <code>obj3</code> still has the property <code>name</code>, but the <em>type</em> <code>object</code> does not.</p>\n"}], "owner": {"reputation": 13, "user_id": 11406392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dIbv1oPH3g/AAAAAAAAAAI/AAAAAAAAAIg/G6KYnbsCF0Q/photo.jpg?sz=128", "display_name": "Jingxin Wang", "link": "https://stackoverflow.com/users/11406392/jingxin-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3852, "favorite_count": 0, "accepted_answer_id": 55834324, "answer_count": 1, "score": 1, "last_activity_date": 1556122535, "creation_date": 1556121753, "question_id": 55834241, "link": "https://stackoverflow.com/questions/55834241/ts2339-property-name-does-not-exist-on-type-object", "title": "TS2339: Property &#39;name&#39; does not exist on type &#39;object&#39;", "body": "<p>i am writing a object with typescript, the code is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const obj2 ={name:1}\nobj2.name = 2;\nconsole.log(obj2.name)\nconst obj3:object = {name: \"wewda\"}\nobj3.name = 'dadsa';\nobj3['name'] = \"cxzcxz\"\nconsole.log(typeof obj2)\nconsole.log(obj3)\nconsole.log(typeof obj3)\n</code></pre>\n\n<p>I got an error in line 5:  error TS2339: Property 'name' does not exist on type 'object'.\nbut if i use <code>obj3['name'] = \"cxzcxz\"</code> instead,\nit works, can anyone explain? thank you</p>\n"}, {"tags": ["typescript", "jsdoc"], "comments": [{"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 0, "creation_date": 1556143312, "post_id": 55833984, "comment_id": 98342147, "body": "How are you applying <code>TestMixin</code> to the definition of <code>Main</code>?  That&#39;s the part of the code that&#39;s most likely to have an issue :-)"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 1681532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a83948dc8a0686167a28fbeda56716b1?s=128&d=identicon&r=PG", "display_name": "Kalika", "link": "https://stackoverflow.com/users/1681532/kalika"}, "edited": false, "score": 0, "creation_date": 1556206484, "post_id": 55839201, "comment_id": 98367581, "body": "I already read the doc about mixins, but in their examples they need to redefine every methods, which is (i found) a ltittle overwhelming. And I pretty sure that we can define &quot;magic&quot; methods with JSDoc because I already tested it (but because of some problems I lost my tests)"}, {"owner": {"reputation": 101, "user_id": 6004946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQRa5.jpg?s=128&g=1", "display_name": "Florian Richter", "link": "https://stackoverflow.com/users/6004946/florian-richter"}, "reply_to_user": {"reputation": 67, "user_id": 1681532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a83948dc8a0686167a28fbeda56716b1?s=128&d=identicon&r=PG", "display_name": "Kalika", "link": "https://stackoverflow.com/users/1681532/kalika"}, "edited": false, "score": 0, "creation_date": 1556283665, "post_id": 55839201, "comment_id": 98396309, "body": "I have not heard about JSDoc for this purpose and (during a quick search) couldn&#39;t find any information on it. But instead you could try the suggestions from this thread about a similar question: <a href=\"https://stackoverflow.com/a/41038997/6004946\">stackoverflow.com/a/41038997/6004946</a>"}], "tags": [], "owner": {"reputation": 101, "user_id": 6004946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQRa5.jpg?s=128&g=1", "display_name": "Florian Richter", "link": "https://stackoverflow.com/users/6004946/florian-richter"}, "is_accepted": false, "score": 0, "last_activity_date": 1556143406, "creation_date": 1556143406, "answer_id": 55839201, "question_id": 55833984, "link": "https://stackoverflow.com/questions/55833984/define-new-method-in-typescript-class-through-jsdoc/55839201#55839201", "title": "Define new method in typescript class through jsdoc", "body": "<p>To my knowledge, TypeScript (as well as JavaScript for that matter) does not allow magic methods by adding jsdoc comments. </p>\n\n<p>Take a look at the TypeScript documentation about mixins: <a href=\"https://www.typescriptlang.org/docs/handbook/mixins.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/mixins.html</a></p>\n\n<p>My guess is that you should change the Main to <code>class Main implements TestMixin</code>.</p>\n\n<p>I hope this helps. </p>\n"}], "owner": {"reputation": 67, "user_id": 1681532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a83948dc8a0686167a28fbeda56716b1?s=128&d=identicon&r=PG", "display_name": "Kalika", "link": "https://stackoverflow.com/users/1681532/kalika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556143406, "creation_date": 1556120839, "question_id": 55833984, "link": "https://stackoverflow.com/questions/55833984/define-new-method-in-typescript-class-through-jsdoc", "title": "Define new method in typescript class through jsdoc", "body": "<p>I'm trying to use the \"mixins\" design pattern in typescript. The problem is that webpack will not transpile the source code because I'm using methods declared in the mixins and not in the main class.</p>\n\n<p>For exemple if my i Have the mixin</p>\n\n<pre><code>class TestMixin {\n    test(): void {\n        console.log('test');\n    }\n}\n</code></pre>\n\n<p>Apply on the \"Main\" class and trying to use it:</p>\n\n<pre><code>const main = new Main();\nmain.test();\n</code></pre>\n\n<p>After applying the mixins, webpacks stop with the error:\n\"Property 'test' does not exist on type \"</p>\n\n<p>I know that in PHP you use use the phpdoc blocks to define porperties or methods that don't really exists (and magic methods will be called) and I thought maybe it could be done in TYpescript too using JSdoc.</p>\n\n<p>I found somewhere, a few days ago, something link that, if I remember right</p>\n\n<pre><code>/**\n * @function Main~test\n */\n</code></pre>\n\n<p>and at that time it seemed to work (for my IDE at least, I did not try to build the code at the moment), but when I try know it does not work (neither for webpack nor my IDE) and I can't recall where I found it the first time.</p>\n\n<p>Does anybody know how to tell the IDE &amp; transpilers that a dynamically defined property exists on a class ?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 4, "creation_date": 1556120540, "post_id": 55833702, "comment_id": 98332323, "body": "Yes, this is an issue that is discussed <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/29307\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/34530\" rel=\"nofollow noreferrer\">here</a>."}], "owner": {"reputation": 43, "user_id": 11405371, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UHRYRQZBWNY/AAAAAAAAAAI/AAAAAAAAABI/MSI4qrJpb7s/photo.jpg?sz=128", "display_name": "kecheng.wx", "link": "https://stackoverflow.com/users/11405371/kecheng-wx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1556119787, "creation_date": 1556119787, "question_id": 55833702, "link": "https://stackoverflow.com/questions/55833702/is-the-react-fragment-type-wrong", "title": "Is the React Fragment Type Wrong", "body": "<p>look at the type definition of React, I find the ReactFragment type is below </p>\n\n<pre><code>type ReactFragment = {} | ReactNodeArray;\n</code></pre>\n\n<p>we know that {} in Typescript means interface with no members and {} can represent any types such as string, number, object, function except null and undefined, I want to ask that do you think this is wrong with React Team, if not, why?</p>\n"}, {"tags": ["javascript", "c#", "typescript", "fetch"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1556119530, "post_id": 55833486, "comment_id": 98331749, "body": "Not even reaching a server is very different from the server answering with an error code and message. Your first catch2 will only catch malformed URLs or CORS stuff and the like. Purely from a JS perspective you can refactor the code so a single functions handles both exceptions. Just create a function and set it as <code>catch</code> handler for both."}], "answers": [{"comments": [{"owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "edited": false, "score": 0, "creation_date": 1556180230, "post_id": 55833644, "comment_id": 98351806, "body": "Of course, totally missed to <code>return response.text()</code>. Thanks!"}], "tags": [], "owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "is_accepted": true, "score": 7, "last_activity_date": 1556119598, "creation_date": 1556119598, "answer_id": 55833644, "question_id": 55833486, "link": "https://stackoverflow.com/questions/55833486/use-fetch-read-response-body-from-non-http-ok-status-codes-and-catch-the-exce/55833644#55833644", "title": "Use fetch(), read response body from non HTTP OK status codes and catch the exception", "body": "<p>The problem is that you swallow the error inside then, also you don't need multiple catches you only need one at the end like this:</p>\n\n<pre><code>fetch('api/specific/catalog/test')\n    .then(response =&gt; {\n        if (!response.ok) {\n            return response.text().then(text =&gt; {\n                throw new Error(`Request rejected with status ${response.status} and message ${text}`);\n            })\n        }\n        else {\n            return response.json()\n        }\n    })\n    .then(data =&gt; {\n        console.log(`OK: ${data}`);\n    })\n    .catch(error =&gt;\n        console.log(`Catch 3: ${error}`)\n    );\n</code></pre>\n"}], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1347, "favorite_count": 1, "accepted_answer_id": 55833644, "answer_count": 1, "score": 5, "last_activity_date": 1556119598, "creation_date": 1556119136, "question_id": 55833486, "link": "https://stackoverflow.com/questions/55833486/use-fetch-read-response-body-from-non-http-ok-status-codes-and-catch-the-exce", "title": "Use fetch(), read response body from non HTTP OK status codes and catch the exception", "body": "<p>I have been reading up on <code>fetch()</code> and how to catch and print a readable error message from the server. Ideally I would like to throw an error that always ends up in <code>Catch 2</code> in my example below and that <code>console.log(`OK: ${data}`);</code> is not ran if there is an error. I can mitigate <code>console.log(`OK: ${data}`);</code> by running <code>then</code> directly on <code>response.json();</code> instead but I would like to know the proper way of achieving this. </p>\n\n<p><a href=\"https://stackoverflow.com/a/44576265/3850405\">https://stackoverflow.com/a/44576265/3850405</a></p>\n\n<p><a href=\"https://developers.google.com/web/updates/2015/03/introduction-to-fetch\" rel=\"noreferrer\">https://developers.google.com/web/updates/2015/03/introduction-to-fetch</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch</a></p>\n\n<p>C#:</p>\n\n<pre><code>[HttpGet, Route(\"api/specific/catalog/test\")]\npublic async Task&lt;IHttpActionResult&gt; Test()\n{\n    return InternalServerError(new Exception(\"My Exception\"));\n}\n\n[HttpGet, Route(\"api/specific/catalog/test2\")]\npublic async Task&lt;IHttpActionResult&gt; Test2()\n{\n    return Ok(\"My OK Message\");\n}\n</code></pre>\n\n<p>Typescript:</p>\n\n<pre><code>fetch('api/specific/catalog/test2')\n    .then(response =&gt; {\n        if (!response.ok) {\n            response.text().then(text =&gt; {\n                throw new Error(`Request rejected with status ${response.status} and message ${text}`);\n            })\n            .catch(error =&gt;\n                console.log(`Catch 1: ${error}`)\n            );\n        }\n        else {\n            return response.json();\n        }\n    })\n    .then(data =&gt; {\n        console.log(`OK: ${data}`);\n    })\n    .catch(error =&gt;\n        console.log(`Catch 2: ${error}`)\n    );\n</code></pre>\n\n<p>OK:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UgRu8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UgRu8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Exception:</p>\n\n<p><a href=\"https://i.stack.imgur.com/C1eQ1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/C1eQ1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I guess I could do something like this to catch all errors but it seems weird:</p>\n\n<pre><code>fetch('api/specific/catalog/test')\n    .then(response =&gt; {\n        if (!response.ok) {\n            response.text().then(text =&gt; {\n                throw new Error(`Request rejected with status ${response.status} and message ${text}`);\n            })\n            .catch(error =&gt;\n                console.log(`Catch: ${error}`)\n            );\n        }\n        else {\n            return response.json().then(data =&gt; {\n                console.log(`OK: ${data}`);\n            })\n            .catch(error =&gt;\n                console.log(`Catch 2: ${error}`)\n            );\n        }\n    })\n    .catch(error =&gt;\n        console.log(`Catch 3: ${error}`)\n    );\n</code></pre>\n"}, {"tags": ["css", "angular", "typescript", "unit-testing", "karma-jasmine"], "comments": [{"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1556118103, "post_id": 55832804, "comment_id": 98330870, "body": "What is your problem ?"}, {"owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "reply_to_user": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1556118713, "post_id": 55832804, "comment_id": 98331226, "body": "If component.listedIps.length=0; then background color style is green else the background color is pink. I ensured the above variable is equal to zero. Now I assert that background color is green"}, {"owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "reply_to_user": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1556118746, "post_id": 55832804, "comment_id": 98331243, "body": "I am not able to access the background color style property in unit test"}, {"owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "edited": false, "score": 0, "creation_date": 1587806436, "post_id": 55832804, "comment_id": 108657453, "body": "@karansys : Let me know if this can be marked as a late answer :)"}], "answers": [{"tags": [], "owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "is_accepted": true, "score": 2, "last_activity_date": 1587741550, "creation_date": 1587741550, "answer_id": 61411721, "question_id": 55832804, "link": "https://stackoverflow.com/questions/55832804/how-to-access-style-present-in-css-file-in-angular-unit-test/61411721#61411721", "title": "How to access style present in .css file in angular unit test", "body": "<p>I know I am late here but you can try. It will work 100%</p>\n\n<pre><code>  it('should have green background', () =&gt; {\n    const e = fixture.debugElement.query(By.css(\".divAllAllowedIPs\")).nativeElement;\n    expect(getComputedStyle(e).backgroundColor).toEqual('rgb(0, 128, 0)');\n  });\n</code></pre>\n\n<p>I hope it'll help others as well who are looking for something similar question</p>\n"}], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 61411721, "answer_count": 1, "score": 1, "last_activity_date": 1587741671, "creation_date": 1556116998, "last_edit_date": 1587741671, "question_id": 55832804, "link": "https://stackoverflow.com/questions/55832804/how-to-access-style-present-in-css-file-in-angular-unit-test", "title": "How to access style present in .css file in angular unit test", "body": "<p>I am running unit test for angular app, I try to access style from .css inside unit test. I will let you know what I tried</p>\n\n<pre><code> component.listedIps.length=0;\n fixture.detectChanges();\n\n let whitelistipsdiv=fixture.debugElement.query(By.css('.divAllAllowedIPs'));\n\n //unit test for style, test for  background-color to be green\n expect(whitelistipsdiv.nativeElement.style.backgroundColor).toEqual('green');// to be darkgreen, here it is null\n</code></pre>\n\n<p><strong>.css file</strong></p>\n\n<pre><code>.divAllAllowedIPs {\n  background-color: green;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "nativescript"], "answers": [{"tags": [], "owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "is_accepted": false, "score": 0, "last_activity_date": 1556117337, "creation_date": 1556117337, "answer_id": 55832910, "question_id": 55832722, "link": "https://stackoverflow.com/questions/55832722/post-image-and-other-info-without-using-formdata-in-nativescripttypescript-an/55832910#55832910", "title": "post image and other info without using formdata in nativescript(typescript + angular)", "body": "<p>FormData is not supported by NativeScript. You have 2 options,</p>\n\n<ol>\n<li>Send the image as Base64 string, looks like you already know how to get the Base64 string form image, you may just send it as a param in JOSN body.</li>\n<li>Use <a href=\"https://github.com/NativeScript/nativescript-background-http/\" rel=\"nofollow noreferrer\">nativescript-background-http</a> plugin that can directly upload the file.</li>\n</ol>\n"}], "owner": {"reputation": 90, "user_id": 1401512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc966e9a30bcd87922c73b15dde5cba?s=128&d=identicon&r=PG", "display_name": "iosDev", "link": "https://stackoverflow.com/users/1401512/iosdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556117337, "creation_date": 1556116763, "question_id": 55832722, "link": "https://stackoverflow.com/questions/55832722/post-image-and-other-info-without-using-formdata-in-nativescripttypescript-an", "title": "post image and other info without using formdata in nativescript(typescript + angular)", "body": "<p>i tired this one \n<a href=\"https://stackoverflow.com/questions/37039852/send-formdata-with-other-field-in-angular\">Send FormData with other field in Angular</a> \nnot work out for me.</p>\n\n<p>i need to access the image from file system then send it.</p>\n\n<pre><code>        let fullPath = path.join(folder.path, \"1.png\");\n        const imageFromLocalFile: ImageSource = &lt;ImageSource&gt; fromFile(fullPath);\n        const base64String = imageFromLocalFile.toBase64String(\"png\");\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "promise", "async-await"], "comments": [{"owner": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "edited": false, "score": 0, "creation_date": 1556116743, "post_id": 55832643, "comment_id": 98330021, "body": "What you are trying to do here using an <b>IIFE</b> is to export a <code>Promise</code>. Because you are executing an <code>async</code> function and returns it <i>(an async function returns a Promise)</i>. What are you trying to do ? I don&#39;t think that returning a <code>Promise</code> is something viable importing a file"}, {"owner": {"reputation": 1236, "user_id": 1241287, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/WEETB.jpg?s=128&g=1", "display_name": "David Yeiser", "link": "https://stackoverflow.com/users/1241287/david-yeiser"}, "reply_to_user": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "edited": false, "score": 0, "creation_date": 1556116889, "post_id": 55832643, "comment_id": 98330125, "body": "Updated the code examples with a little more context."}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1556116945, "post_id": 55832643, "comment_id": 98330163, "body": "<code>const themeImport = await import(`..&#47;build&#47;theme&#47;${key}&#47;color.js`)</code> eeeuh I&#39;m not sure it will ever work. Unless <code>import</code> is not a regular import, such code will be transpiled, so you won&#39;t be able to resolve the import at runtime on the compiled code. Also, the self invoking anonymous function will never get the <code>key</code> argument. Is there any reason to use an IIFE here?.."}, {"owner": {"reputation": 1236, "user_id": 1241287, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/WEETB.jpg?s=128&g=1", "display_name": "David Yeiser", "link": "https://stackoverflow.com/users/1241287/david-yeiser"}, "edited": false, "score": 0, "creation_date": 1556117152, "post_id": 55832643, "comment_id": 98330312, "body": "It works if I pass in the key value manually (e.g. <code>async() =&gt; { const key = &#39;test&#39; ...</code>). It&#39;s the ability to be able to pass dynamic keys via the function call that seems to be giving me the problem."}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1556117248, "post_id": 55832643, "comment_id": 98330369, "body": "Of course if you declare it it will work, the question is why you&#39;re using an IIFE. It&#39;s overcomplicated, you just need to export a <b>function</b> that should return a <b>promise</b>. IIFE are not meant to be used in this way, keep in mind that the above code will be executed <b>immediately</b> due to the nature of IIFE, I don&#39;t think this is what you want ;)"}, {"owner": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "edited": false, "score": 0, "creation_date": 1556117295, "post_id": 55832643, "comment_id": 98330407, "body": "You cannot perform asynchronous <code>import</code>. <code>import</code> must ba ll about synchronous stuff. What you can do is returning a SINGLETON class and then call the initiation"}, {"owner": {"reputation": 1236, "user_id": 1241287, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/WEETB.jpg?s=128&g=1", "display_name": "David Yeiser", "link": "https://stackoverflow.com/users/1241287/david-yeiser"}, "edited": false, "score": 0, "creation_date": 1556117412, "post_id": 55832643, "comment_id": 98330471, "body": "Thanks all, the problem is the <b>IIFE</b> I see now. I&#39;ve removed it and it works as expected."}], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 1241287, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/WEETB.jpg?s=128&g=1", "display_name": "David Yeiser", "link": "https://stackoverflow.com/users/1241287/david-yeiser"}, "edited": false, "score": 0, "creation_date": 1556117372, "post_id": 55832831, "comment_id": 98330446, "body": "Ahh okay, this makes sense now. Thank you for the detailed reply!"}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "reply_to_user": {"reputation": 1236, "user_id": 1241287, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/WEETB.jpg?s=128&g=1", "display_name": "David Yeiser", "link": "https://stackoverflow.com/users/1241287/david-yeiser"}, "edited": false, "score": 0, "creation_date": 1556117566, "post_id": 55832831, "comment_id": 98330586, "body": "I added more details. I made everything explicit, since many things are often implicit and someone could not know them"}], "tags": [], "owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "is_accepted": true, "score": 4, "last_activity_date": 1556117725, "last_edit_date": 1556117725, "creation_date": 1556117073, "answer_id": 55832831, "question_id": 55832643, "link": "https://stackoverflow.com/questions/55832643/typescript-call-signature-error-for-exported-async-function/55832831#55832831", "title": "Typescript call signature error for exported async function", "body": "<p>Give a look at the two trailing parenthesis:</p>\n\n<pre><code>(async (x) =&gt; {\n  console.log(x)\n})() &lt;--\n</code></pre>\n\n<p>You are executing the function as you declare it. This is a so-called <code>IIFE</code>: <em>Immediately Invoked Function Expression</em>.</p>\n\n<p>Let's split the export adding a variable:</p>\n\n<pre><code>const result = (async (x) =&gt; {\n  console.log(x)\n})();\n\nexport default result;\n</code></pre>\n\n<p>What's the value of result? Well, the value of result is equal to the return value of the function. If it was a normal function, this was equal to a function immediately resolved as <code>undefined</code>. Since it is an async function and we aren't returning anything, this means that the returned value is a <code>Promise</code>\u00a0of <code>undefined</code>.</p>\n\n<p>So what you are exporting is an already resolved promise! But... what about the parameter x?</p>\n\n<p>Well, the function accepts a parameter <code>x</code>, but you are actually passing nothing. Watch again the trailing parenthesis, there is nothing inside, so you will see <code>undefined</code> in the console if you execute the code.</p>\n\n<p>If instead you passed an argument, for example a string, you saw that string:</p>\n\n<pre><code>(async (x) =&gt; {\n  console.log(x) // It prints banana!\n})('banana')\n</code></pre>\n\n<p>So here is the point where you have to pass the argument, then the function gets immediately invoked and the result is exported.</p>\n\n<p>Let's rewrite <code>colorTheme.ts</code> in a simpler way:</p>\n\n<h2>1. Add a variable</h2>\n\n<pre><code>const result = (async (x) =&gt; {\n  console.log(x)\n})();\n\nexport default result;\n</code></pre>\n\n<h2>2. Return <code>undefined</code> (it's the same of not returning)</h2>\n\n<pre><code>const result = (async (x) =&gt; {\n  console.log(x)\n  return undefined;\n})();\n\nexport default result;\n</code></pre>\n\n<h2>3. Use <code>Promise</code> in place of <code>async</code></h2>\n\n<pre><code>const result = (x =&gt; {\n  console.log(x)\n  return Promise.resolve(undefined);\n})();\n\nexport default result;\n</code></pre>\n\n<h2>4. Don't invoke the function immediately</h2>\n\n<pre><code>const f = function (x) {\n  console.log(x)\n  return Promise.resolve(undefined);\n}\n\nconst result = f(undefined);\n\nexport default result;\n</code></pre>\n\n<p>So, this is basically what you exported. Now it ups to you to fix it according to what you want to get!</p>\n"}], "owner": {"reputation": 1236, "user_id": 1241287, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/WEETB.jpg?s=128&g=1", "display_name": "David Yeiser", "link": "https://stackoverflow.com/users/1241287/david-yeiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2932, "favorite_count": 0, "accepted_answer_id": 55832831, "answer_count": 1, "score": 2, "last_activity_date": 1556117725, "creation_date": 1556116540, "last_edit_date": 1556116839, "question_id": 55832643, "link": "https://stackoverflow.com/questions/55832643/typescript-call-signature-error-for-exported-async-function", "title": "Typescript call signature error for exported async function", "body": "<p>I have a Typescript file (<strong>colorTheme.ts</strong>) that looks like this:</p>\n\n<pre><code>export default (async (key) =&gt; {\n  console.log(key)\n  const themeImport = await import(`../build/theme/${key}/color.js`)\n  return themeImport\n})()\n</code></pre>\n\n<p>And then I reference this function from a separate Typescript file like so:</p>\n\n<pre><code>import colorTheme from '../colorTheme'\n\ncolorTheme('test').then(color =&gt; {\n  // do stuff\n})\n</code></pre>\n\n<p>However, I get an error:</p>\n\n<blockquote>\n  <p>TS2349: Cannot invoke an expression whose type lacks a call signature. Type 'Promise' has no compatible call signatures.</p>\n</blockquote>\n\n<p>I've googled around and tried things like:</p>\n\n<pre><code>export default (async (key: string) =&gt; {\n  console.log(key)\n  const themeImport = await import(`../build/theme/${key}/color.js`)\n  return themeImport\n})()\n</code></pre>\n\n<p>But to no avail. Typescript isn't my forte, it's a preexisting environment that I'm trying to work in. From what I understand I need to somehow setup types for the Promise maybe? But I'm not sure how to do that.</p>\n\n<p><em>Update: Added a bit more fuller code sample for what I'm trying to do.</em></p>\n"}, {"tags": ["javascript", "angular", "typescript", "frontend"], "comments": [{"owner": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556115970, "post_id": 55832280, "comment_id": 98329468, "body": "<code>getRestaurants()</code> returns an Observable. So try <code>this.http.get&lt;Restaurant[]&gt;(this.restaurantsUrl).subscribe(r&zwnj;&#8203;es =&gt; console.log(res))</code> and have a look to the output."}, {"owner": {"reputation": 119, "user_id": 11405660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2039c457883aa2bbff8388ca545a23fa?s=128&d=identicon&r=PG&f=1", "display_name": "seven", "link": "https://stackoverflow.com/users/11405660/seven"}, "reply_to_user": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556221042, "post_id": 55832280, "comment_id": 98374383, "body": "@DaniR I added <code>this.http.get(this.restaurantsUrl).subscribe(res =&gt; console.log(res))</code> as you suggested, and for output, I get object inside which is array I looking for. when I type <code>...console.log(res.restorani)</code> I got what I need. thank you. Now, I&#39;m really new to Angular, so I would pressure if you can say me how to get that array into dataSource in component.ts and display it in the component.html"}], "answers": [{"tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": false, "score": 2, "last_activity_date": 1556116161, "creation_date": 1556116161, "answer_id": 55832527, "question_id": 55832280, "link": "https://stackoverflow.com/questions/55832280/angular-no-error-but-not-showing-data-in-material-table/55832527#55832527", "title": "Angular : No Error but not showing data in Material Table", "body": "<p>Your current <code>dataSource</code> is an instance of the <code>RestaurantDataSource</code> class, what you want (I imagine), is the actual list of the restaurants, hence</p>\n\n<pre><code>dataSource = new RestaurantDataSource(this.restaurantService).connect();\n</code></pre>\n\n<p>However, your <code>connect()</code> method returns an Observable, not the list itself, so you need to use the <code>async</code> pipe in your template</p>\n\n<pre><code>&lt;mat-table [dataSource]=\"dataSource | async\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 11405660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2039c457883aa2bbff8388ca545a23fa?s=128&d=identicon&r=PG&f=1", "display_name": "seven", "link": "https://stackoverflow.com/users/11405660/seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556116161, "creation_date": 1556115461, "question_id": 55832280, "link": "https://stackoverflow.com/questions/55832280/angular-no-error-but-not-showing-data-in-material-table", "title": "Angular : No Error but not showing data in Material Table", "body": "<p>I have no error in my console, but not able to display it in Material Data Table. Looking in the code for a while but can't figure it out.\nThe only thing that comes to my mind is that the API is not right. xxxxx represents some URL of API. Uniformly I'm not allowed to show the real link.   </p>\n\n<p>restaurant.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Restaurant } from '../models/restaurant.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RestaurantService {\n  private restaurantsUrl = 'https://xxxxxx/getAllServices.php';\n\n  constructor(private http: HttpClient) { }\n\n  getRestaurants(): Observable&lt;Restaurant[]&gt; {\n    return this.http.get&lt;Restaurant[]&gt;(this.restaurantsUrl);\n  }\n}\n</code></pre>\n\n<p>restaurant-table.component.ts</p>\n\n<pre><code>import { Component, ViewChild,OnInit } from '@angular/core';\nimport { RestaurantService } from '../services/restaurant.service';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/of';\nimport {DataSource} from '@angular/cdk/collections';\nimport { Restaurant } from '../models/restaurant.model';\n\n\n@Component({\n  selector: 'app-restaurants-table',\n  templateUrl: './restaurants-table.component.html',\n  styleUrls: ['./restaurants-table.component.css']\n})\n\nexport class RestaurantsTableComponent implements OnInit {\n\n  dataSource = new RestaurantDataSource(this.restaurantService);\n  displayedColumns = ['id', 'ime_restorana', 'opis', 'broj_telefona', 'adresa_restorana','edits'];\n\n  constructor(private restaurantService: RestaurantService) {\n}\n\n  ngOnInit() {\n  }\n\n}\n\nexport class RestaurantDataSource extends DataSource&lt;any&gt; {\n\n  constructor(private restaurantService: RestaurantService) {\n    super();\n  }\n\n  connect(): Observable&lt;Restaurant[]&gt; {\n    return this.restaurantService.getRestaurants();\n  }\n\n  disconnect() {}\n\n}\n</code></pre>\n\n<p>restaurant-table.component.html</p>\n\n<pre><code>&lt;div class=\"\"&gt;\n  &lt;mat-table [dataSource]=\"dataSource\"&gt;\n\n    &lt;ng-container matColumnDef=\"id\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; ID &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let restaurant\"&gt; {{ restaurant.id }} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"ime_restorana\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Naziv &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let restaurant\"&gt; {{ restaurant.ime_restorana }} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"opis\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Opis &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let restaurant\"&gt; {{ restaurant.opis }} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"broj_telefona\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Broj Telefona &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let restaurant\"&gt; {{ restaurant.broj_telefona }} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"adresa_restorana\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Adresa &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let restaurant\"&gt; {{ restaurant.adresa_restorana }} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"edits\"&gt;\n      &lt;th mat-header-cell *matHeaderCellDef&gt;&lt;/th&gt;   \n      &lt;td mat-cell *matCellDef=\"let element\"&gt; \n        &lt;button mat-raised-button class=\"edit-btn\"&gt;&lt;mat-icon&gt;edit&lt;/mat-icon&gt;&lt;/button&gt; \n        &lt;button mat-raised-button class=\"edit-btn\"&gt;&lt;mat-icon&gt;remove_red_eye&lt;/mat-icon&gt;&lt;/button&gt; \n      &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/mat-header-row&gt;\n    &lt;mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/mat-row&gt;\n\n  &lt;/mat-table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And user.model.ts</p>\n\n<pre><code>export interface User {\n    name: string;\n    email: string;\n    phone: string;\n    company: {\n        name: string;\n    }\n}\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1556115628, "post_id": 55832277, "comment_id": 98329243, "body": "Please include code as text, not as an image. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and <a href=\"http://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">a longer explanation why images for code don&#39;t work</a>."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 10890267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f94909c240c5f1482392d460237b307?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb Feng", "link": "https://stackoverflow.com/users/10890267/jeb-feng"}, "edited": false, "score": 0, "creation_date": 1578213085, "post_id": 55832655, "comment_id": 105360803, "body": "Actually, I&#39;m developing an Angular application with Electron. So I need to use Electron API to tell Angular app the system information or the things that the browser can&#39;t get."}], "tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 0, "last_activity_date": 1556116565, "creation_date": 1556116565, "answer_id": 55832655, "question_id": 55832277, "link": "https://stackoverflow.com/questions/55832277/how-to-let-the-compiler-know-where-am-i-import/55832655#55832655", "title": "How to let the compiler know where am I import", "body": "<p>I don't believe that a browser (and, as an extension, an Angular app) has access to hardware info, so it simply won't work.</p>\n\n<p>So while it's true that webpack doesn't know what <code>'os'</code> is supposed to mean (you don't have an <code>\"os\"</code> entry in your <code>package.json</code>, do you?), it's beside the problem.</p>\n"}], "owner": {"reputation": 47, "user_id": 10890267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f94909c240c5f1482392d460237b307?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb Feng", "link": "https://stackoverflow.com/users/10890267/jeb-feng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 55832655, "answer_count": 1, "score": 0, "last_activity_date": 1556116565, "creation_date": 1556115456, "question_id": 55832277, "link": "https://stackoverflow.com/questions/55832277/how-to-let-the-compiler-know-where-am-i-import", "title": "How to let the compiler know where am I import", "body": "<p>I want to put current CPU usage to the CPU variable like this:</p>\n\n<pre><code>import * as os from 'os';\ncpu = os.cpus();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HoUTs.png\" rel=\"nofollow noreferrer\">My code</a></p>\n\n<p>But it causes this error:</p>\n\n<pre><code>ERROR in ./src/app/Controllers/app.component.ts\nModule not found: Error: Can't resolve 'os' in 'F:\\Creeper Studio Products\\MinecraftServerWebConsole\\src\\app\\Controllers'\n</code></pre>\n\n<p>And the application is failed to compile.</p>\n\n<p>I think maybe the compiler doesn't know where the \"os\" is.</p>\n"}, {"tags": ["html", "typescript", "angular6"], "comments": [{"owner": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "edited": false, "score": 0, "creation_date": 1556115092, "post_id": 55831944, "comment_id": 98328834, "body": "Your notation is already wrong. You cannot declare a class variable using <code>var</code>. Are you sure this is the actual code you are using?"}, {"owner": {"reputation": 11, "user_id": 11405673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HSpN2UatHIM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFejMfSz1dEtTcIp3lRQK2WJzuig/mo/photo.jpg?sz=128", "display_name": "Ilya Zaytsev", "link": "https://stackoverflow.com/users/11405673/ilya-zaytsev"}, "reply_to_user": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "edited": false, "score": 0, "creation_date": 1556180236, "post_id": 55831944, "comment_id": 98351812, "body": "It is not, I pretty much rewrote it, because the issue only appears on a single component in the whole project and I&#39;m not really allowed to copy the chunks of code from there. You are right though, there is no &quot;var&quot; keyword, but the rest is the same"}, {"owner": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "edited": false, "score": 0, "creation_date": 1556183701, "post_id": 55831944, "comment_id": 98353682, "body": "From what you posted here, nothing seems to be wrong. Can you provide a reproducible full example?"}, {"owner": {"reputation": 11, "user_id": 11405673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HSpN2UatHIM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFejMfSz1dEtTcIp3lRQK2WJzuig/mo/photo.jpg?sz=128", "display_name": "Ilya Zaytsev", "link": "https://stackoverflow.com/users/11405673/ilya-zaytsev"}, "reply_to_user": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "edited": false, "score": 0, "creation_date": 1556527687, "post_id": 55831944, "comment_id": 98455752, "body": "There you go, I edited the question so it now has a couple snippets from the actual code, but really I&#39;m not sure if it helps"}], "owner": {"reputation": 11, "user_id": 11405673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HSpN2UatHIM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFejMfSz1dEtTcIp3lRQK2WJzuig/mo/photo.jpg?sz=128", "display_name": "Ilya Zaytsev", "link": "https://stackoverflow.com/users/11405673/ilya-zaytsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556527575, "creation_date": 1556114499, "last_edit_date": 1556527575, "question_id": 55831944, "link": "https://stackoverflow.com/questions/55831944/a-component-variable-not-being-displayed-on-the-page-angular6", "title": "A component variable not being displayed on the page (Angular6)", "body": "<p>So the thing is: The html template of an angular component doesn't seem to be aware of the variable i set. Basically even if I set a variable in .ts class and then try to display it in a component, the view behaves as if there was no variable.</p>\n\n<p>I've also tried creating a variable inside a  tag but it just wouldn't work</p>\n\n<p><code>TS</code>\n<a href=\"https://i.stack.imgur.com/QPaI4.png\" rel=\"nofollow noreferrer\">The ts part of a component</a></p>\n\n<pre><code>export class &lt;%component_name%&gt; {\n  bar = \"test\";\n  constructor(){...}\n} \n</code></pre>\n\n<p><code>HTML</code>\n<a href=\"https://i.stack.imgur.com/MMicF.png\" rel=\"nofollow noreferrer\">The html part of a component</a></p>\n\n<pre><code>&lt;div&gt;\n    &lt;div&gt;{{bar}}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4lrqC.png\" rel=\"nofollow noreferrer\">The result is: </a></p>\n\n<p>Just in case: if I type a text inside the div without trying to display a variable, it works</p>\n\n<p><a href=\"https://i.stack.imgur.com/jI3L7.png\" rel=\"nofollow noreferrer\">HTML</a>\n<a href=\"https://i.stack.imgur.com/HZb6q.png\" rel=\"nofollow noreferrer\">Result</a></p>\n\n<p>Oh, just in case: logging the hello variable in constructor function does display it in console: <a href=\"https://i.stack.imgur.com/jkTKB.png\" rel=\"nofollow noreferrer\"><em>click</em></a></p>\n\n<p>besides, if I add an *ngIf referencing some boolean from the TS file like that:</p>\n\n<p><code>TS</code></p>\n\n<pre><code>export class &lt;%component_name%&gt; {\n  foo = true;\n  bar = \"test\";\n  constructor(){...}\n} \n</code></pre>\n\n<p><code>HTML</code></p>\n\n<pre><code>&lt;div *ngIf=\"foo\"&gt;\n    &lt;button&gt;{{bar}}&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>..then nothing at all is displayed.</p>\n\n<p>At the end it's supposed to be a button with an icon and text on it, but i only get an icon on the button (Which is referenced inside the .html file)</p>\n\n<p>If you have any idea of what might be going on, pls tell</p>\n"}, {"tags": ["typescript", "angular6", "jwt"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1556115004, "post_id": 55831907, "comment_id": 98328773, "body": "JWT is not really a method for passing arbitrary data. You can add <i>claims</i> to the token (including for user id), but the other party (that receives the token) must know what to do with it."}, {"owner": {"reputation": 87, "user_id": 4404343, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-BX6_3fiy74M/AAAAAAAAAAI/AAAAAAAAASg/Fg37wNFHSuQ/photo.jpg?sz=128", "display_name": "Aiswarya Rajagopalan", "link": "https://stackoverflow.com/users/4404343/aiswarya-rajagopalan"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1556200470, "post_id": 55831907, "comment_id": 98363773, "body": "Can you please provide some examples. As I am new to authorization related tasks"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4404343, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-BX6_3fiy74M/AAAAAAAAAAI/AAAAAAAAASg/Fg37wNFHSuQ/photo.jpg?sz=128", "display_name": "Aiswarya Rajagopalan", "link": "https://stackoverflow.com/users/4404343/aiswarya-rajagopalan"}, "edited": false, "score": 0, "creation_date": 1556200382, "post_id": 55837554, "comment_id": 98363712, "body": "Can you please share a working example? I am looking for examples to send a JWT token to another URL. Not within a module."}], "tags": [], "owner": {"reputation": 11100, "user_id": 2157818, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f122e6b4c044c93222b952d70aaec3ec?s=128&d=identicon&r=PG", "display_name": "Florent Morselli", "link": "https://stackoverflow.com/users/2157818/florent-morselli"}, "is_accepted": false, "score": 0, "last_activity_date": 1556135400, "creation_date": 1556135400, "answer_id": 55837554, "question_id": 55831907, "link": "https://stackoverflow.com/questions/55831907/how-to-send-a-json-object-as-a-jwt-to-a-redirection-page/55837554#55837554", "title": "How to send a JSON object as a JWT to a redirection page?", "body": "<p>Some protocols like OAUth2 and OpenID Connect allows you to use 3 methods for passing the token from one site (authorization endpoint) to another (client callback endpoint):</p>\n\n<ul>\n<li>The response redirects to the client callback (usually HTTP code 302 or 308) to the callback. The data is set into a <strong>query</strong> parameter added to the callback url</li>\n</ul>\n\n<pre><code>HTTP/1.1 302 Found\nLocation: https://client.com/callback?UserId=FOO.bar\n</code></pre>\n\n<ul>\n<li>The response redirects to the client callback (usually HTTP code 302 or 308) to the callback. The data is set into a <strong>fragment</strong> parameter added to the callback url</li>\n</ul>\n\n<pre><code>HTTP/1.1 302 Found\nLocation: https://client.com/callback#UserId=FOO.bar\n</code></pre>\n\n<ul>\n<li>The response shows a for with a hidden parameter with the data to send. The form can be automatically submitted using JS or the user an be invited to click on a button.</li>\n</ul>\n\n<pre><code>HTTP/1.1 200 OK\nContent-Type: text/html;charset=UTF-8\nCache-Control: no-cache, no-store\nPragma: no-cache\n\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;Submit This Form&lt;/title&gt;&lt;/head&gt;\n  &lt;body onload=\"javascript:document.forms[0].submit()\"&gt;\n    &lt;form method=\"post\" action=\"https://client.com/callback\"&gt;\n      &lt;input type=\"hidden\" name=\"UerId\"value=\"FOO.bar\"/&gt;\n      &lt;input type=\"submit\" value=\"Please click here!\"&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4404343, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-BX6_3fiy74M/AAAAAAAAAAI/AAAAAAAAASg/Fg37wNFHSuQ/photo.jpg?sz=128", "display_name": "Aiswarya Rajagopalan", "link": "https://stackoverflow.com/users/4404343/aiswarya-rajagopalan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556135400, "creation_date": 1556114411, "last_edit_date": 1556114601, "question_id": 55831907, "link": "https://stackoverflow.com/questions/55831907/how-to-send-a-json-object-as-a-jwt-to-a-redirection-page", "title": "How to send a JSON object as a JWT to a redirection page?", "body": "<p>I am trying to send a JSON object from my application to another webpage. Eg: Sending the UserId to B2C page for processing. The B2C page will not return anything in response until the user performs some action in B2C page and the response is token. The problem is how to safely send the UserId to another page? </p>\n\n<p>I have tried - this.router.navigate method </p>\n\n<pre><code>this.router.navigate([url], {\n      queryParams: { extension_globalid : action.payload }\n    })\n</code></pre>\n\n<p>I expect the parameter to be appended to the url. But it didnt. Also I dont want it to be on url</p>\n"}, {"tags": ["typescript", "interface", "normalization"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 15, "last_activity_date": 1556114717, "creation_date": 1556114717, "answer_id": 55832024, "question_id": 55831886, "link": "https://stackoverflow.com/questions/55831886/typescript-an-index-signature-parameter-must-be-a-string-or-number-when-try/55832024#55832024", "title": "TypeScript: An index signature parameter must be a &#39;string&#39; or &#39;number&#39; when trying to use string | number", "body": "<p>This is a limitation of the current way we can write indexes (this will change <a href=\"https://github.com/Microsoft/TypeScript/pull/26797\" rel=\"noreferrer\">soon enough</a>). An index signature parameter can only be <code>number</code> or <code>string</code> (exactly those types, not a union of them, not literal types). You can however have two index signatures, one for <code>number</code> and one for <code>string</code>.</p>\n\n<p>There is another small quick, if you have a <code>string</code> signature, you can actually index by <code>number</code> as well. So this means that if the <code>string</code> index and the <code>number</code> index have the same return type you just need the string index </p>\n\n<pre><code>interface IOutput {\n    allIds: string[] | number[]\n    byId: {\n        [key: string]: any\n        // [key: number]: any // Valid but not necessary\n    }\n}\n\nlet o: IOutput = {\n    allIds: [1],\n    byId: {\n        1: {}\n    }\n}\nlet o2: IOutput = {\n    allIds: ['1'],\n    byId: {\n        '1': {}\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6270, "user_id": 2111515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8JoIY.jpg?s=128&g=1", "display_name": "Barry Michael Doyle", "link": "https://stackoverflow.com/users/2111515/barry-michael-doyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8125, "favorite_count": 2, "accepted_answer_id": 55832024, "answer_count": 1, "score": 12, "last_activity_date": 1556114717, "creation_date": 1556114338, "question_id": 55831886, "link": "https://stackoverflow.com/questions/55831886/typescript-an-index-signature-parameter-must-be-a-string-or-number-when-try", "title": "TypeScript: An index signature parameter must be a &#39;string&#39; or &#39;number&#39; when trying to use string | number", "body": "<p>I'm attempting to create a function to normalize my arrays and it's expecting an output object that is structured like this:</p>\n\n<pre><code>{\n  allIds: [1],\n  byId: {\n    1: {...}\n  }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>{\n  allIds: ['1'],\n  byId: {\n    '1': {...}\n  }\n}\n</code></pre>\n\n<p>I'm trying to create an interface called <code>IOutput</code> to cater for this.</p>\n\n<p>I've tried this:</p>\n\n<pre><code>interface IOutput {\n  allIds: string[] | number[]\n  byId: {\n    [key: number | string]: any\n  }\n}\n</code></pre>\n\n<p>But it gives me the following error</p>\n\n<blockquote>\n  <p>An index signature parameter type must be 'string' or 'number'. ts(1023)</p>\n</blockquote>\n\n<p>It seems to work when I do this:</p>\n\n<pre><code>interface IOutput {\n  allIds: string[] | number[]\n  byId: {\n    [key: number]: any\n  }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>interface IOutput {\n  allIds: string[] | number[]\n  byId: {\n    [key: string]: any\n  }\n}\n</code></pre>\n\n<p>But that's not what I'm trying to accomplish. I've also tried this and it gives me the same error:</p>\n\n<pre><code>type StringOrNumber = string | number\n\ninterface IOutput {\n  allIds: string[] | number[]\n  byId: {\n    [key: StringOrNumber ]: any\n  }\n}\n</code></pre>\n\n<p>How can I accomplish what I'm trying to do?</p>\n"}, {"tags": ["typescript", "vue.js", "es6-modules"], "comments": [{"owner": {"reputation": 2421, "user_id": 11025582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a45b1fd0442131ea4522f1d291e21a4?s=128&d=identicon&r=PG&f=1", "display_name": "HTN", "link": "https://stackoverflow.com/users/11025582/htn"}, "edited": false, "score": 0, "creation_date": 1556181040, "post_id": 55831881, "comment_id": 98352229, "body": "I can&#39;t tell you how to do it but I think it is possible. The <code>import</code> is used by typescript and webpack, so you should tell typescript and webpack how to resolve these modules. Maybe with a code source / example somewhere, it would be easier to help you."}], "answers": [{"tags": [], "owner": {"reputation": 36561, "user_id": 36330, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/087bc3a6b2fe0dbbf39ca49f40e2bac1?s=128&d=identicon&r=PG", "display_name": "joeforker", "link": "https://stackoverflow.com/users/36330/joeforker"}, "is_accepted": false, "score": 0, "last_activity_date": 1556225181, "last_edit_date": 1556225181, "creation_date": 1556224386, "answer_id": 55857208, "question_id": 55831881, "link": "https://stackoverflow.com/questions/55831881/how-do-i-get-typescript-webpack-vuejs-to-find-packages-in-my-node-modules-ol/55857208#55857208", "title": "How do I get typescript + webpack + vuejs to find packages in my node_modules/older/lib/ directory?", "body": "<p>It looks like it is nigh impossible to remove the extra <code>/lib/</code> path when using es6 modules and a JavaScript build system on top of Typescript. One StackOverflow answer mentioned something about that feature being explicitly rejected from the ECMA standard. Instead, libraries like <code>lodash-es</code> build a second output that puts everything in the root directory of the package, adjacent to <code>package.json</code> and <code>tsconfig.json</code>. Works for me since we probably need different build settings for the library and the application anyway.</p>\n\n<p>I wound up putting a second <code>tsconfig.json</code> and <code>package.json</code> in <code>./lib/</code>, and just instructed <code>tsc</code> to pull the sources from <code>../app/source/</code>. The new program will <code>npm link</code> to the package name for the library instead of the application.</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"esnext\",\n    \"module\": \"esnext\",\n    \"declaration\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"./\",\n    \"rootDir\": \"../app/source\",\n    \"baseUrl\": \"./\"\n  },\n  \"include\": [\n    \"../app/source/**/*\"\n  ],\n}\n</code></pre>\n"}], "owner": {"reputation": 36561, "user_id": 36330, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/087bc3a6b2fe0dbbf39ca49f40e2bac1?s=128&d=identicon&r=PG", "display_name": "joeforker", "link": "https://stackoverflow.com/users/36330/joeforker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556225181, "creation_date": 1556114320, "question_id": 55831881, "link": "https://stackoverflow.com/questions/55831881/how-do-i-get-typescript-webpack-vuejs-to-find-packages-in-my-node-modules-ol", "title": "How do I get typescript + webpack + vuejs to find packages in my node_modules/older/lib/ directory?", "body": "<p>I'm trying to turn an older typescript project into a library for a new vue.js project. The older package is configured to output to <code>./lib/</code> with <code>tsconfig.json</code>, and <code>package.json</code> includes all of the \"this is where my library is\" options I can think of. <code>tsc</code> compiles everything to <code>lib/</code> in the older package, and <code>npm link</code> is used to connect the packages together.</p>\n\n<p>My problem is that no matter what I've tried, I can't seem to remove the <code>lib/</code> segment from my imports, like <code>import { baz } from \"older/common/thing\"</code> instead of <code>import { baz } from \"older/lib/common/thing\"</code>. Should I just live with it? Or is there something else I should be doing for prettier imports?</p>\n\n<p><code>package.json</code> (partial)</p>\n\n<pre><code>{\n    \"main\": \"./lib/index.js\",\n    \"module\": \"./lib/index.js\",\n    \"types\": \"./lib/index.d.ts\",\n}\n</code></pre>\n\n<p><code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"es6\",\n    \"target\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"noImplicitAny\": true,\n    \"noUnusedLocals\": true,\n    \"removeComments\": true,\n    \"preserveConstEnums\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"importHelpers\": true,\n    \"sourceMap\": true,\n    \"typeRoots\": [\n      \"typings\",\n      \"node_modules/@types\"\n    ],\n    \"outDir\": \"./lib\",\n    \"declaration\": true\n  },\n  \"include\": [\n    \"app/source/**/*\",\n    \"test/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["json", "angular", "typescript", "environment-variables"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4256795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a102d25257fd0ef7cb6760bfcb35fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Joaogl", "link": "https://stackoverflow.com/users/4256795/joaogl"}, "is_accepted": false, "score": 0, "last_activity_date": 1556267753, "creation_date": 1556267753, "answer_id": 55863779, "question_id": 55831809, "link": "https://stackoverflow.com/questions/55831809/passing-environment-variables-from-json-to-libraries/55863779#55863779", "title": "Passing environment variables from json to libraries", "body": "<p>The solution I found came from a derivation of: \n<a href=\"https://stackoverflow.com/questions/48225993/angular-call-function-inside-forroot-method\">Angular call function inside forRoot method</a></p>\n\n<p>I know pass a callback that resolves the environment variables from environment:</p>\n\n<pre><code>export function getConfig() {\n  return {\n    baseHref: environment.baseHref,\n    apiEndpoint: environment.apiEndpoint,\n    testing: environment.testing,\n    production: environment.production\n  };\n}\n\nimports: [\n  TestingModule.forRoot(getConfig),\n]\n</code></pre>\n\n<p>And then in the library I now go through a factory that executes whatever callback is given.</p>\n\n<pre><code>export function initializeConfigs(configCallback: any) {\n  return configCallback();\n}\n\nexport class TestingModule {\n\n  static forRoot(config: any): ModuleWithProviders {\n    return {\n      ngModule: TestingModule,\n      providers: [\n        {\n          provide: 'CONFIG_CALLBACK',\n          useValue: config,\n        }, {\n          provide: TESTING_CONFIG,\n          useFactory: initializeConfigs,\n          deps: [ 'CONFIG_CALLBACK' ]\n        }\n      ],\n    };\n  }\n\n}\n</code></pre>\n\n<p>This makes the TESTING_CONFIG injection token contain all the data correctly with no changes required to the environment files.</p>\n"}], "owner": {"reputation": 61, "user_id": 4256795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a102d25257fd0ef7cb6760bfcb35fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Joaogl", "link": "https://stackoverflow.com/users/4256795/joaogl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556267753, "creation_date": 1556114114, "question_id": 55831809, "link": "https://stackoverflow.com/questions/55831809/passing-environment-variables-from-json-to-libraries", "title": "Passing environment variables from json to libraries", "body": "<p>I have a config.json file with the environment variables for my angular 7 app that I then load into the environment const and that as been working fine.\nOnce I try to pass this environment variables to the my new libraries using InjectionTokens wierd behaviors start happening.\nI would like not only to know how to fix it but also what is going on if possible. </p>\n\n<p>I've already tried multiple ways of importing the json file including using XMLHttpRequest.\nAlso tried to deep copy the object before I set it to the environment and a few more things.</p>\n\n<p>My config.json file:</p>\n\n<pre><code>{\n  \"baseHref\": \"app\",\n  \"apiEndpoint\": \"http://localhost:8080/api\"\n}\n</code></pre>\n\n<p>My environment.prod.ts file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import config from '../config.json';\n\nexport const environment = {\n  production: true,\n  baseHref: config.baseHref,\n  apiEndpoint: config.apiEndpoint,\n  testing: 'Testing'\n};\nconsole.log(environment);\n</code></pre>\n\n<p>My app.module.ts file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>imports: [\n  TestingModule.forRoot({\n    baseHref: environment.baseHref,\n    apiEndpoint: environment.apiEndpoint,\n    testing: environment.testing,\n    production: environment.production\n  }),\n]\n</code></pre>\n\n<p>My app.module.ts file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class TestingModule {\n\n  static forRoot(config: any): ModuleWithProviders {\n    return {\n      ngModule: TestingModule,\n      providers: [\n        {\n          provide: TESTING_CONFIG,\n          useValue: config,\n        },\n      ],\n    };\n  }\n\n}\n</code></pre>\n\n<p>My testing.service.ts constructor:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  constructor(@Inject(TESTING_CONFIG) private config: any) {\n    console.log(this.config);\n  }\n</code></pre>\n\n<p>The expected was to have all the variables with data on both console logs, but instead, the environment file one has all the data but the second console log shows apiEndpoint as null and testing as 'Testing'.</p>\n\n<p>I also tried to debug the appliation and right before the forRoot it already has all the data on the environment property.</p>\n\n<p>Also noticed, running this with:</p>\n\n<pre><code>    \"aot\": true,\n    \"buildOptimizer\": true\n</code></pre>\n\n<p>Has this issue while running without these two option actually fully works.</p>\n"}, {"tags": ["html", "typescript", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 4252612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c6a89788e4b200ad9b5ec7303a4de3e?s=128&d=identicon&r=PG", "display_name": "William Zimmermann", "link": "https://stackoverflow.com/users/4252612/william-zimmermann"}, "edited": false, "score": 1, "creation_date": 1556194569, "post_id": 55842148, "comment_id": 98359916, "body": "Thanks Pal. Yesterday we try to do with the second way that you suggested and it works. This is the same that suggested a user in Aurelia forum (<a href=\"https://discourse.aurelia.io/t/how-to-refresh-a-child-component/2484\" rel=\"nofollow noreferrer\">discourse.aurelia.io/t/how-to-refresh-a-child-component/248&zwnj;&#8203;4</a>). Thanks again."}], "tags": [], "owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "is_accepted": true, "score": 2, "last_activity_date": 1556168759, "creation_date": 1556168759, "answer_id": 55842148, "question_id": 55831805, "link": "https://stackoverflow.com/questions/55831805/how-can-i-refresh-a-child-component-in-aurelia-to-undo-a-form/55842148#55842148", "title": "How can I refresh a child component in Aurelia to undo a form?", "body": "<p>There might be several strategies to tackle this problem. What matters here most is, what you want to do after the user clicks \"Cancel\". For example, if you want to make a redirect then you don't have to do anything for restoring the values. This makes sense from a usability perspective.</p>\n\n<p>However, if the context of the view demands the same view with old values, the straightforward way is to restore a snapshot. Let's say the model you are binding with the view has following schema.</p>\n\n<pre><code>model: { varA: anyType, varB: anyType }\n</code></pre>\n\n<p>And you are binding it as follows.</p>\n\n<pre><code>&lt;input name=\"testA\" value.bind=\"model.varA\"&gt;\n&lt;input name=\"testB\" value.bind=\"model.varB\"&gt;\n</code></pre>\n\n<p>Then you can simply save a snapshot of the original model and restore it later as follows.</p>\n\n<pre><code>//save the snapshot\nthis.snapshot = JSON.parse(JSON.stringify(this.model))\n\n//....\n\n// restore the snapshot when user clicks cancel\nthis.model = this.snapshot\n</code></pre>\n\n<p>And the rest should be taken care of by the bindings, already in place. Note that the assumption here is that the <code>model</code> is just a raw container of data, and offers no functionality (not an instance of any user-defined class that offers additional methods etc.; in that case you need to restore the prototype as well).</p>\n\n<p>In case you want \"undo\" action rather than \"cancel\", and if you are using <code>aurelia-store</code> already, then <a href=\"https://aurelia.io/docs/plugins/store#making-our-app-history-aware\" rel=\"nofollow noreferrer\">check here</a>.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 437, "user_id": 4252612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c6a89788e4b200ad9b5ec7303a4de3e?s=128&d=identicon&r=PG", "display_name": "William Zimmermann", "link": "https://stackoverflow.com/users/4252612/william-zimmermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 55842148, "answer_count": 1, "score": 3, "last_activity_date": 1556168759, "creation_date": 1556114092, "question_id": 55831805, "link": "https://stackoverflow.com/questions/55831805/how-can-i-refresh-a-child-component-in-aurelia-to-undo-a-form", "title": "How can I refresh a child component in Aurelia to undo a form?", "body": "<p>I have a component with two buttons, save and cancel. Inside this component there is a slot. And inside this slot, I put my form with some bindable fields.</p>\n\n<p><strong>my-app.ts</strong></p>\n\n<pre><code>&lt;section-component&gt;\n &lt;form&gt;\n  &lt;input name=\"testA\" value.bind=\"varA\"&gt;\n  &lt;input name=\"testB\" value.bind=\"varB\"&gt;\n &lt;/form&gt;\n&lt;/section-component&gt;\n</code></pre>\n\n<p>Imagine that user change fields values but decide to cancel this edition. When he clicks in Cancel, it should call a function to \"erase\" new data (not saved) and the data in these fields come back to the his original form (old data). </p>\n\n<p>I was thinking that the best option would be make a refresh of this specific component, binding old data again.  But I'm not sure that this is the best option or how to do it. Someone can help giving a insight or a solution, please?</p>\n"}, {"tags": ["typescript", "protractor", "e2e-testing"], "comments": [{"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 2, "creation_date": 1556114845, "post_id": 55831788, "comment_id": 98328661, "body": "Protractor Retry is what you want <a href=\"https://www.npmjs.com/package/protractor-retry\" rel=\"nofollow noreferrer\">npmjs.com/package/protractor-retry</a>"}, {"owner": {"reputation": 71, "user_id": 10791103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe093248c1fff743bd2f8d2098c2b8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Lubas", "link": "https://stackoverflow.com/users/10791103/kuba-lubas"}, "reply_to_user": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 0, "creation_date": 1556270455, "post_id": 55831788, "comment_id": 98389170, "body": "@BenMohorc It&#39;s not working in my case. I&#39;m getting errors: <code>E&#47;launcher - spawn C:\\Users\\jakub\\AppData\\Roaming\\npm\\node_modules\\protractor\\b&zwnj;&#8203;in\\protractor ENOENT E&#47;launcher - Error: spawn C:\\Users\\jakub\\AppData\\Roaming\\npm\\node_modules\\protractor\\b&zwnj;&#8203;in\\protractor ENOENT     at Process.ChildProcess._handle.onexit (internal&#47;child_process.js:246:19)     at onErrorNT (internal&#47;child_process.js:430:16)     at processTicksAndRejections (internal&#47;process&#47;next_tick.js:76:17) E&#47;launcher - Process exited with error code 199</code>"}, {"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 0, "creation_date": 1556282841, "post_id": 55831788, "comment_id": 98395753, "body": "Can you edit your question to include your conf file?"}, {"owner": {"reputation": 71, "user_id": 10791103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe093248c1fff743bd2f8d2098c2b8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Lubas", "link": "https://stackoverflow.com/users/10791103/kuba-lubas"}, "reply_to_user": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 0, "creation_date": 1556283483, "post_id": 55831788, "comment_id": 98396193, "body": "I&#39;ve already found an issue source <a href=\"https://github.com/yahoo/protractor-retry/issues/59\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 0, "creation_date": 1556289615, "post_id": 55831788, "comment_id": 98399786, "body": "Interesting, I did not even think of that as our entire test infrustructure is on linux. Good luck finding something that works"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10791103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe093248c1fff743bd2f8d2098c2b8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Lubas", "link": "https://stackoverflow.com/users/10791103/kuba-lubas"}, "edited": false, "score": 0, "creation_date": 1556270516, "post_id": 55850073, "comment_id": 98389204, "body": "This will work with a single test case but it won&#39;t with suites"}], "tags": [], "owner": {"reputation": 688, "user_id": 2372510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51928b44791e5a767315ab01e8102947?s=128&d=identicon&r=PG", "display_name": "jithinkmatthew", "link": "https://stackoverflow.com/users/2372510/jithinkmatthew"}, "is_accepted": false, "score": 0, "last_activity_date": 1556198317, "last_edit_date": 1556198317, "creation_date": 1556197771, "answer_id": 55850073, "question_id": 55831788, "link": "https://stackoverflow.com/questions/55831788/is-there-any-way-to-rerun-failed-suite-in-protractor/55850073#55850073", "title": "Is there any way to rerun failed suite in protractor?", "body": "<p>You can check this library. <strong><a href=\"https://www.npmjs.com/package/protractor-flake\" rel=\"nofollow noreferrer\">Protractor Flake</a></strong></p>\n\n<p>As per the documentation, </p>\n\n<p><strong>Add dependency</strong></p>\n\n<pre><code>npm i protractor-flake\n\n# or globally for easier cli usage \nnpm i -g protractor-flake\n</code></pre>\n\n<p><strong>Running tests</strong></p>\n\n<pre><code># protractor-flake &lt;protractor-flake-options&gt; -- &lt;options to be passed to protractor&gt; \nprotractor-flake --parser standard  --max-attempts=3 -- path/to/protractor.conf.js\n</code></pre>\n\n<p>Already answered more details before. Please check <a href=\"https://stackoverflow.com/a/55474907/2372510\">this answer</a></p>\n"}], "owner": {"reputation": 71, "user_id": 10791103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe093248c1fff743bd2f8d2098c2b8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Lubas", "link": "https://stackoverflow.com/users/10791103/kuba-lubas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1556198317, "creation_date": 1556114040, "question_id": 55831788, "link": "https://stackoverflow.com/questions/55831788/is-there-any-way-to-rerun-failed-suite-in-protractor", "title": "Is there any way to rerun failed suite in protractor?", "body": "<p>I'm looking for a way to rerun <strong>ONLY</strong> failed suite using Protractor or external library. I have my e2e tests organised in suites in this way:</p>\n\n<pre><code>  suites: {\n    partOfSystem1: 'path/to/folder/with/specs',\n    partOfSystem2: 'path/to/folder/with/specs',\n    partOfSystem3: 'path/to/folder/with/specs',\n    ...\n    partOfSystemN: 'path/to/folder/with/specs',\n  },\n</code></pre>\n\n<p>I have quite a big amount of e2e specs and we have a CI, that's why I've built it in this way. I know, I should have each spec independent but with my amount of tests, it would take too long to run it. Each suite registers a new user and after suite is passed, a user is logged out. </p>\n\n<h2><strong>What I want to achieve:</strong></h2>\n\n<p>Run full e2e tests (all suites), get information which suite went wrong and rerun it one more time.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "edited": false, "score": 0, "creation_date": 1556114139, "post_id": 55831784, "comment_id": 98328178, "body": "whats wrong...."}, {"owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "edited": false, "score": 1, "creation_date": 1556122026, "post_id": 55831784, "comment_id": 98333194, "body": "Try this <code>localStorage.setItem(&#39;token&#39;, JSON.stringify(result.token))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 0, "creation_date": 1556115541, "post_id": 55831816, "comment_id": 98329187, "body": "I didn&#39;t realize that was you commenting on the other answer, sorry."}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 1, "creation_date": 1556115604, "post_id": 55831816, "comment_id": 98329231, "body": "@rzp Thank you so much! :)"}], "tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": true, "score": 3, "last_activity_date": 1556114583, "last_edit_date": 1556114583, "creation_date": 1556114139, "answer_id": 55831816, "question_id": 55831784, "link": "https://stackoverflow.com/questions/55831784/store-token-in-localstorage/55831816#55831816", "title": "Store token in LocalStorage", "body": "<p>You would want to do it like:</p>\n\n<pre><code>localStorage.setItem('token', result.token)\n</code></pre>\n\n<p>Wherever you have defined this method: <code>logarConta()</code></p>\n\n<p>Give a proper return type to it, like:</p>\n\n<pre><code>logarConta() : {nmae: string, email: string, message: string, token: string} {\n    // your code\n}\n</code></pre>\n\n<p>If this doesn't suit you, and you want to keep it as <code>Object</code> the use this instead:</p>\n\n<pre><code>localStorage.setItem('token', result['token'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 0, "creation_date": 1556114279, "post_id": 55831826, "comment_id": 98328273, "body": "Then i Get: Property &#39;token&#39; does not exist on type &#39;Object&#39;."}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 1, "creation_date": 1556114326, "post_id": 55831826, "comment_id": 98328311, "body": "can you paste what do you get when you do console.log(JSON.stringify(result));"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 1, "creation_date": 1556114432, "post_id": 55831826, "comment_id": 98328386, "body": "@rzp Give a proper type to the returned result, or access it like: <code>result[&#39;token&#39;]</code>"}, {"owner": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "edited": false, "score": 0, "creation_date": 1556114770, "post_id": 55831826, "comment_id": 98328610, "body": "I tried : <code>localStorage.setItem(&#39;token&#39;, result[&#39;token&#39;] );  console.log(result[&#39;token&#39;]);</code> and worked, thanks guys!"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 3, "last_activity_date": 1556114531, "last_edit_date": 1556114531, "creation_date": 1556114158, "answer_id": 55831826, "question_id": 55831784, "link": "https://stackoverflow.com/questions/55831784/store-token-in-localstorage/55831826#55831826", "title": "Store token in LocalStorage", "body": "<p>You dont have to call JSON.stringify since its already a string,</p>\n\n<pre><code> localStorage.setItem('token', result[\"token\"]);\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 11170396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f52ef64cc2aa27bbb6613c17aae1adf?s=128&d=identicon&r=PG&f=1", "display_name": "rzp", "link": "https://stackoverflow.com/users/11170396/rzp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 55831816, "answer_count": 2, "score": 2, "last_activity_date": 1556116529, "creation_date": 1556114027, "question_id": 55831784, "link": "https://stackoverflow.com/questions/55831784/store-token-in-localstorage", "title": "Store token in LocalStorage", "body": "<p>So, I'm trying to store the user token after the login authtentication, but something is wrong, here's my code:</p>\n\n<pre><code>fazerLogin(){\n    this.authloginService.logarConta(this.email, this.password).then((result)=&gt;{\n      console.log(result)\n      localStorage.setItem('token', JSON.stringify({token: this.token}))\n      console.log(this.token)\n      this.navCtrl.navigateForward('home')\n\n     }\n</code></pre>\n\n<p>Heres the response data after the login:</p>\n\n<pre><code>{name: \"MyName\", email: \"my@email.com\", token: \"ed814437611e187679e4719d87e9dfd6e1d8c819\", message: \"Success.\"}\nemail: \"my@email.com\"\nmessage: \"Success\"\nname: \"MyName\"\ntoken: \"ed814437611e187679e4719d87e9dfd6e1d8c819\"\n</code></pre>\n"}, {"tags": ["typescript", "cypress"], "answers": [{"tags": [], "owner": {"reputation": 4704, "user_id": 4826215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7310fe6e8910075b36ada7e2f572d66b?s=128&d=identicon&r=PG&f=1", "display_name": "soccerway", "link": "https://stackoverflow.com/users/4826215/soccerway"}, "is_accepted": false, "score": 2, "last_activity_date": 1556142043, "creation_date": 1556142043, "answer_id": 55838965, "question_id": 55831736, "link": "https://stackoverflow.com/questions/55831736/how-to-select-cypress-autocomplete-field/55838965#55838965", "title": "How to select cypress autocomplete field", "body": "<p>One method is to pass <code>downarrow</code> keys in the <code>type</code> command and use the click command  to get the values. I have used the 'jquery' site to  test the behaviour; Try similar way in your test </p>\n\n<pre><code>it('Test to grab the autoselect values', ()=&gt; {\n    cy.visit('https://jqueryui.com/autocomplete/');\n    cy.get('iframe').then(($iframe)=&gt;{\n      const $input = $iframe.contents().find('body').find('div').find('input');\n      let data = cy.wrap($input)\n      data.type('JavaS');\n      data.type('{downarrow}');\n      data.type('{downarrow}').click();\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11370279, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MyO7RF2gC_M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rczsggqYdr765uhPqRFTQKQcKcj7g/mo/photo.jpg?sz=128", "display_name": "CCC", "link": "https://stackoverflow.com/users/11370279/ccc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3653, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1556142043, "creation_date": 1556113900, "last_edit_date": 1556128752, "question_id": 55831736, "link": "https://stackoverflow.com/questions/55831736/how-to-select-cypress-autocomplete-field", "title": "How to select cypress autocomplete field", "body": "<p>How can i select a autocomplete field in cypress.</p>\n\n<p>This is what the field looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EMSL4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMSL4.png\" alt=\"enter image description here\"></a></p>\n\n<p>and here is the HTML code:</p>\n\n<pre><code>&lt;div class=\"mui-select\"&gt;&lt;span style=\"color: rgb(51, 51, 51); font-family: &amp;quot;Open Sans&amp;quot;; font-size: 14px; font-weight: 600;\"&gt;Select a Venue&lt;/span&gt;&lt;div style=\"font-size: 16px; line-height: 24px; width: 100%; display: inline-block; position: relative; background-color: transparent; font-family: Helvetica, &amp;quot;Open Sans&amp;quot;; transition: height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; cursor: text; border-radius: 4px; border: 1px solid rgb(255, 96, 102); margin-bottom: 36px; padding-bottom: 8px; margin-top: 8px;\"&gt;&lt;div&gt;&lt;div style=\"margin-top: 0px;\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=\"display: flex; position: relative; width: 256px; padding: 0px 8px; margin: 0px; font: inherit; height: 32px; border: none; outline: none; background-color: rgba(0, 0, 0, 0); color: rgba(0, 0, 0, 0.87); cursor: initial; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); float: left; min-height: 32px; flex-wrap: nowrap;\"&gt;&lt;div style=\"font-size: 16px; line-height: 24px; width: 256px; height: 48px; display: inline-block; position: relative; background-color: transparent; font-family: Helvetica, &amp;quot;Open Sans&amp;quot;; transition: height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; cursor: auto;\"&gt;&lt;input type=\"text\" autocomplete=\"off\" id=\"b0d75317-769e-4d22-aa71-8ab86304b6d5\" value=\"\" style=\"padding: 0px; position: relative; width: 100%; border: none; outline: none; background-color: rgba(0, 0, 0, 0); color: rgba(0, 0, 0, 0.87); cursor: inherit; font: inherit; opacity: 1; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); height: 100%;\"&gt;&lt;/div&gt;&lt;div style=\"display: none;\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;hr aria-hidden=\"true\" style=\"border-top: none rgb(224, 224, 224); border-left: none rgb(224, 224, 224); border-right: none rgb(224, 224, 224); border-bottom: 1px solid rgb(224, 224, 224); bottom: 8px; box-sizing: content-box; margin: 0px; position: absolute; width: 100%; display: none;\"&gt;&lt;hr aria-hidden=\"true\" style=\"border-top: none rgb(244, 67, 54); border-left: none rgb(244, 67, 54); border-right: none rgb(244, 67, 54); border-bottom: 2px solid rgb(244, 67, 54); bottom: 8px; box-sizing: content-box; margin: 0px; position: absolute; width: 100%; display: none; transform: scaleX(1); transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\"&gt;&lt;/div&gt;&lt;div style=\"position: absolute; bottom: -24px; font-size: 12px; line-height: 12px; color: rgb(244, 67, 54); transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; margin-top: 16px;\"&gt;This field is required&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "angular5"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1556113078, "post_id": 55831275, "comment_id": 98327484, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36316326/typescript-ts7015-error-when-accessing-an-enum-using-a-string-type-parameter\">TypeScript TS7015 error when accessing an enum using a string type parameter</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1556118181, "post_id": 55831275, "comment_id": 98330910, "body": "What is the type of <code>Dictionaries</code>?  It likely needs to be changed to something like <code>Record&lt;Dictionary, unknown&gt;</code> but you didn&#39;t include it here so I don&#39;t know how to advise.  It helps to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so others can reproduce the issue and test and suggest a fix."}], "answers": [{"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1556113199, "post_id": 55831365, "comment_id": 98327559, "body": "This is not a solution, it&#39;s a workaround. You&#39;re basically making <code>d</code> an explicit <code>any</code> instead of an implicit <code>any</code>. The accepted answer of the duplicate shows how to do this appropriately."}, {"owner": {"reputation": 21, "user_id": 5631758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dd6e84d744d4bd767080326732dde2?s=128&d=identicon&r=PG&f=1", "display_name": "eGrzesiek", "link": "https://stackoverflow.com/users/5631758/egrzesiek"}, "edited": false, "score": 0, "creation_date": 1556141715, "post_id": 55831365, "comment_id": 98341677, "body": "It works, why it is not proper way? I&#39;m fighting with angular for some time but I don&#39;t understund core mechanisms I think:/"}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1556142093, "post_id": 55831365, "comment_id": 98341795, "body": "In my opinion it is not workaround, you can use anonymous type for this case and it is simple and common"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": false, "score": 1, "last_activity_date": 1556113260, "last_edit_date": 1556113260, "creation_date": 1556112860, "answer_id": 55831365, "question_id": 55831275, "link": "https://stackoverflow.com/questions/55831275/access-to-property-by-enum-value/55831365#55831365", "title": "Access to property by enum value", "body": "<p>Change to </p>\n\n<pre><code>this.dictionaries.toPromise().then((d: any) =&gt; { return d[Dictionary.AccountType] });\n</code></pre>\n\n<p>Demo: <a href=\"https://stackblitz.com/edit/angular-get-value-by-enum\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-get-value-by-enum</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5631758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dd6e84d744d4bd767080326732dde2?s=128&d=identicon&r=PG&f=1", "display_name": "eGrzesiek", "link": "https://stackoverflow.com/users/5631758/egrzesiek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556113260, "creation_date": 1556112595, "last_edit_date": 1556112838, "question_id": 55831275, "link": "https://stackoverflow.com/questions/55831275/access-to-property-by-enum-value", "title": "Access to property by enum value", "body": "<p>I'm trying to get access to property by string variable in TypeScript. When I write <code>d[\"account_type\"]</code> everything is ok, but when I use one of enums <code>Dictionary</code> and write <code>d[Dictionary.AccountType]</code>, I see the error:</p>\n\n<blockquote>\n  <p>Element implicitly has an 'any' type because type 'Dictionaries' has no index signature.</p>\n</blockquote>\n\n<pre><code>this.dictionaries.toPromise().then(d =&gt; { return d[\"account_type\"] });\n\nexport enum Dictionary {\n    AccountType = \"account_type\",\n    AddressType = \"address_type\",\n    CardBrand = \"card_brand\",\n    ContactType = \"contact_type\",\n    Country = \"country\",\n    DevicePayDay = \"device_pay_type\",\n    LogType = \"log_type\",\n    PaymentProvider = \"payment_provider\",\n    PaymentType = \"payment_type\",\n    Permission = \"permission\",\n    PointProperty = \"point_property\",\n    PointService = \"point_service\",\n    PromoSchemaOn = \"promo_schema_on\",\n    PromoSchemaOff = \"promo_schema_off\",\n    ReportType = \"report_type\",\n}\n</code></pre>\n\n<p>Is there any way to get access to object properties by enum string value?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 10468970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kU6Va.png?s=128&g=1", "display_name": "Prozak", "link": "https://stackoverflow.com/users/10468970/prozak"}, "edited": false, "score": 1, "creation_date": 1556115842, "post_id": 55831786, "comment_id": 98329377, "body": "Thank you,this works quite well. Would also like to point out the error I was getting was because I used an : instead of = when declaring my state. Woops."}], "tags": [], "owner": {"reputation": 69022, "user_id": 367138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L9Q9v.png?s=128&g=1", "display_name": "Oleksandr T.", "link": "https://stackoverflow.com/users/367138/oleksandr-t"}, "is_accepted": true, "score": 3, "last_activity_date": 1556114748, "last_edit_date": 1556114748, "creation_date": 1556114035, "answer_id": 55831786, "question_id": 55831213, "link": "https://stackoverflow.com/questions/55831213/uploading-multiple-images-with-react/55831786#55831786", "title": "Uploading multiple images with React", "body": "<ol>\n<li>In order to fix the error <code>TypeError: Cannot read property 'files' of null.</code> you need to change the <code>state</code> declaration </li>\n</ol>\n\n<pre><code>state = {\n   files: []\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>If you want to have the opportunity to select multiple files you can use <code>multiple</code> option</li>\n</ol>\n\n<pre><code>&lt;input type=\"file\" multiple onChange={this.fileSelectedHandler} /&gt;\n</code></pre>\n\n<p>Or if you want to select image one by one, your implementation should work, just fix the <code>state</code> declaration and use <code>e.target.files</code> to get selected file</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class ImageUpload extends React.Component {\r\n  state = {\r\n    files: []\r\n  }\r\n\r\n  fileSelectedHandler = (e) =&gt; {\r\n    this.setState({ files: [...this.state.files, ...e.target.files] })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      &lt;form&gt;\r\n        &lt;div&gt;&lt;h2&gt;Upload images&lt;/h2&gt;&lt;/div&gt;\r\n        &lt;h3&gt;Images&lt;/h3&gt;\r\n        &lt;input type=\"file\" multiple onChange={this.fileSelectedHandler} /&gt;\r\n      &lt;/form&gt;\r\n    )\r\n  }\r\n}\r\n\r\n\r\nReactDOM.render(&lt;ImageUpload /&gt;, document.getElementById('app'))</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 13848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03552287dfab799e92221dd7ef049b3c?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/13848407/ali-raza"}, "is_accepted": false, "score": 0, "last_activity_date": 1617781708, "creation_date": 1617781708, "answer_id": 66981670, "question_id": 55831213, "link": "https://stackoverflow.com/questions/55831213/uploading-multiple-images-with-react/66981670#66981670", "title": "Uploading multiple images with React", "body": "<p><strong>Handle Form</strong>\nInitial data:</p>\n<pre><code>const initialProducts = {\nname: &quot;&quot;,   \nfeatured_image: &quot;&quot;, //for single image\nslider_images: [], // (array of strings)   \n};\n</code></pre>\n<p>useState</p>\n<pre><code>const [products, setProducts] = useState(initialProducts);\n</code></pre>\n<p>Function: Handle Input Fields</p>\n<pre><code>const handleInput = (e) =&gt; {\nlet updateValues = { ...products };\nupdateValues[e.target.name] = e.target.value;\nsetProducts(updateValues);\nconsole.log(&quot;Update input values&quot;, updateValues);\n};\n</code></pre>\n<p>Function: Handle Multiple Images</p>\n<pre><code> const handleSliderImages = (e) =&gt; {\n  if (e.target.files) {\n  setProducts({ ...products, slider_images: [...e.target.files] });\n  }\n  console.log(&quot;Update slider images&quot;, products);\n};\n</code></pre>\n<p>FormGroup for Input Fields</p>\n<pre><code>&lt;FormGroup className=&quot;my-3&quot;&gt;\n  &lt;Label for=&quot;name&quot;&gt;Name&lt;/Label&gt;\n   &lt;Field\n    name=&quot;name&quot;\n    id=&quot;name&quot;\n    onChange={handleInput}\n    value={products.name}\n   /&gt;\n&lt;/FormGroup&gt;\n</code></pre>\n<p>FormGroup for single Image</p>\n<pre><code> &lt;FormGroup className=&quot;my-3&quot;&gt;\n  &lt;Label for=&quot;featured_image&quot;&gt;Featured Image&lt;/Label&gt;\n  &lt;CustomInput\n   type=&quot;file&quot;\n   id=&quot;featured_image&quot;\n   name=&quot;featured_image&quot;\n   onChange={handleInput}\n   value={products.featured_image}                  \n  /&gt;               \n &lt;/FormGroup&gt;\n</code></pre>\n<p>FormGroup for Multiple Images</p>\n<pre><code>&lt;FormGroup className=&quot;my-3&quot;&gt;\n &lt;Label for=&quot;slider_images&quot;&gt;Slider Images&lt;/Label&gt;\n &lt;CustomInput\n multiple\n type=&quot;file&quot;\n id=&quot;slider_images&quot;\n name=&quot;slider_images&quot;\n onChange={handleSliderImages}\n /&gt;                \n&lt;/FormGroup&gt;\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 10468970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kU6Va.png?s=128&g=1", "display_name": "Prozak", "link": "https://stackoverflow.com/users/10468970/prozak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16857, "favorite_count": 4, "accepted_answer_id": 55831786, "answer_count": 2, "score": 2, "last_activity_date": 1617781708, "creation_date": 1556112447, "question_id": 55831213, "link": "https://stackoverflow.com/questions/55831213/uploading-multiple-images-with-react", "title": "Uploading multiple images with React", "body": "<p>I would like to upload multiple images first by previewing them then submitting to send them off. I have encountered this: <code>TypeError: Cannot read property 'files' of null</code>. It also only lets me upload just one image.</p>\n\n<ul>\n<li>I have created <code>files: []</code> as means to mount the images for review before submitting.</li>\n<li>Tried creating an interface <code>files: File[] = file</code> then declaring it in state but get a different error that <code>file does not exist on type {}</code> </li>\n</ul>\n\n<pre><code>import * as React from \"react\"\n\nclass ImageUpload extends React.Component {\n  state: {\n    files: []\n  }\n\n  fileSelectedHandler = (file: any) =&gt; {\n    let addedFiles = this.state.files.concat(file)\n    this.setState({ files: addedFiles })\n    console.log(\"upload file \" + file.name)\n  }\n\n  render() {\n    return (\n      &lt; form &gt;\n        &lt;div&gt;\n          &lt;h2&gt;Upload images&lt;/h2&gt;\n        &lt;/div&gt;\n        &lt;h3&gt;Images&lt;/h3&gt;\n        &lt;input type=\"file\" onChange={this.fileSelectedHandler} /&gt;\n      &lt;/form&gt;\n    )\n  }\n}\n\nexport default ImageUpload\n\n</code></pre>\n\n<p>I expect it to allow me to select multiple images and store them in the array before sending them off as a batch. Is this even the right way to do it? Any feedback is greatly appreciated.</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 2, "last_activity_date": 1556125827, "creation_date": 1556125827, "answer_id": 55835302, "question_id": 55831105, "link": "https://stackoverflow.com/questions/55831105/jest-and-jasmine-in-angular-project/55835302#55835302", "title": "jest and jasmine in angular project", "body": "<p><code>Jest</code> is based on <code>Jasmine</code> and <a href=\"https://github.com/facebook/jest/blob/master/packages/jest-jasmine2/src/jasmine/jasmineLight.ts\" rel=\"nofollow noreferrer\">includes a \"light\" version</a>...</p>\n\n<p>...so <code>spyOn</code> <a href=\"https://github.com/facebook/jest/blob/4d3c1a187bd429fd8611f6b0f19e4aa486fa2a85/packages/jest-jasmine2/src/jasmine/spyRegistry.ts#L79\" rel=\"nofollow noreferrer\">exists in the <code>Jest</code> source code</a>.</p>\n\n<hr>\n\n<p>It is deprecated and undocumented, but as you have found it still works to call it.</p>\n\n<p>It is likely to be removed completely in a future version of <code>Jest</code> (the legacy <code>Jasmine</code> pieces are gradually being removed).</p>\n\n<hr>\n\n<p>To help track down calls to <code>spyOn</code> you can use the <a href=\"https://jestjs.io/docs/en/configuration#errorondeprecated-boolean\" rel=\"nofollow noreferrer\"><code>errorOnDeprecated</code></a> CLI option.</p>\n\n<p>Launch <code>Jest</code> like this:</p>\n\n<p><code>jest --errorOnDeprecated</code></p>\n\n<p>...and you will see an error logged any time <code>spyOn</code> is called in your tests.</p>\n"}], "owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 55835302, "answer_count": 1, "score": 2, "last_activity_date": 1556135770, "creation_date": 1556112121, "last_edit_date": 1556135770, "question_id": 55831105, "link": "https://stackoverflow.com/questions/55831105/jest-and-jasmine-in-angular-project", "title": "jest and jasmine in angular project", "body": "<p>I've effectively replaced karma/jasmine with jest in an angular project and the tests are running great....but:</p>\n\n<p>I didn't remove jasmine (protractor needs it) and now I'm running into the issue that if I use <code>spyOn</code> instead of <code>jest.spyOn</code> in my spec files, it uses the jasmine spy and not the jest one (which are implemented differently). This is a gross developer experience and I'd like to just remove jasmine completely from my unit tests, but I have no idea how.</p>\n\n<p>How can I set up my tsconfig.spec.json to exclude jasmine during compilation of my spec files?</p>\n\n<p>I'm using <code>jest-preset-angular</code> which uses <code>ts-jest</code>.</p>\n\n<p>If I haven't included enough information, please feel free to bug me for more!</p>\n\n<p>This is my <code>tsconfig.spec.json</code> file:</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/spec\",\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"baseUrl\": \"\"\n  },\n  \"files\": [\n    \"test.ts\",\n    \"polyfills.ts\"\n  ],\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"**/*.d.ts\"\n  ]\n}\n\n</code></pre>\n\n<p>This is my <code>tsconfig.json</code> file:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"importHelpers\": true,\n    \"outDir\": \"./dist/out-tsc\",\n    \"baseUrl\": \"public\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\" &lt;-- jasmine types are in here too!\n    ],\n    \"lib\": [\n      \"es2016\",\n      \"dom\"\n    ],\n    \"module\": \"es2015\"\n  }\n}\n\n</code></pre>\n\n<p>My jest config tells <code>ts-jest</code> to use my <code>tsconfig.spec.json</code> file like this:</p>\n\n<pre><code>  \"globals\": {\n    \"ts-jest\": {\n      ...\n      \"tsConfig\": \"&lt;rootDir&gt;/public/tsconfig.spec.json\" &lt;-- here!\n    }\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "istanbul"], "comments": [{"owner": {"reputation": 857, "user_id": 8459521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5HSjR.jpg?s=128&g=1", "display_name": "M Mansour", "link": "https://stackoverflow.com/users/8459521/m-mansour"}, "edited": false, "score": 0, "creation_date": 1556112201, "post_id": 55831051, "comment_id": 98326896, "body": "What version of Angular are you running? I vaguely remember there being a bug with coverage in an earlier version."}, {"owner": {"reputation": 1690, "user_id": 1921979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRaTG.jpg?s=128&g=1", "display_name": "Conor Mancone", "link": "https://stackoverflow.com/users/1921979/conor-mancone"}, "reply_to_user": {"reputation": 857, "user_id": 8459521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5HSjR.jpg?s=128&g=1", "display_name": "M Mansour", "link": "https://stackoverflow.com/users/8459521/m-mansour"}, "edited": false, "score": 0, "creation_date": 1556112443, "post_id": 55831051, "comment_id": 98327085, "body": "@MMansour I&#39;ll put that in the question - Angular 7.1.0"}, {"owner": {"reputation": 857, "user_id": 8459521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5HSjR.jpg?s=128&g=1", "display_name": "M Mansour", "link": "https://stackoverflow.com/users/8459521/m-mansour"}, "edited": false, "score": 0, "creation_date": 1556113487, "post_id": 55831051, "comment_id": 98327740, "body": "When I ran that class and that test I didn&#39;t get highlight in the same place as you. Instead it was on this line <code>return this._field.name in this._record ? this._record[this._field.name] : &#39;&#39;;</code> on the else part of the ternary. Not sure if that helps."}, {"owner": {"reputation": 1690, "user_id": 1921979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRaTG.jpg?s=128&g=1", "display_name": "Conor Mancone", "link": "https://stackoverflow.com/users/1921979/conor-mancone"}, "reply_to_user": {"reputation": 857, "user_id": 8459521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5HSjR.jpg?s=128&g=1", "display_name": "M Mansour", "link": "https://stackoverflow.com/users/8459521/m-mansour"}, "edited": false, "score": 0, "creation_date": 1556113771, "post_id": 55831051, "comment_id": 98327905, "body": "@MMansour strange... maybe it is just an issue with istanbul.  I&#39;m a bit new to the code coverage, so I just assumed it was something I&#39;m doing wrong.  I have separate tests to cover that particular branch, I just didn&#39;t include them for the sake of keeping the example simple."}], "answers": [{"comments": [{"owner": {"reputation": 1690, "user_id": 1921979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRaTG.jpg?s=128&g=1", "display_name": "Conor Mancone", "link": "https://stackoverflow.com/users/1921979/conor-mancone"}, "edited": false, "score": 0, "creation_date": 1556114088, "post_id": 55831404, "comment_id": 98328142, "body": "Yeah, it looks like that might indeed be the case... a bit obnoxious, but I don&#39;t have my code coverage requirements set to 100%, so I&#39;ll just ignore for now..."}], "tags": [], "owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "is_accepted": true, "score": 1, "last_activity_date": 1556112986, "creation_date": 1556112986, "answer_id": 55831404, "question_id": 55831051, "link": "https://stackoverflow.com/questions/55831051/what-exactly-is-missing-in-my-tests-for-istanbul-to-complain-about-missing-branc/55831404#55831404", "title": "What exactly is missing in my tests for istanbul to complain about missing branch coverage?", "body": "<p>Looks like this is an <a href=\"https://github.com/istanbuljs/istanbuljs/issues/70\" rel=\"nofollow noreferrer\">open issue for istanbul</a>. It seems like using another class in this way can cause some issues. One potential fix in this thread is to specify a return type like <code>any</code> for the method. Its likely the issue is in the javascript that TS gets translated into. The javascript likely has a branch where your code does not. </p>\n"}], "owner": {"reputation": 1690, "user_id": 1921979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRaTG.jpg?s=128&g=1", "display_name": "Conor Mancone", "link": "https://stackoverflow.com/users/1921979/conor-mancone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 55831404, "answer_count": 1, "score": 0, "last_activity_date": 1556112986, "creation_date": 1556111948, "last_edit_date": 1556112497, "question_id": 55831051, "link": "https://stackoverflow.com/questions/55831051/what-exactly-is-missing-in-my-tests-for-istanbul-to-complain-about-missing-branc", "title": "What exactly is missing in my tests for istanbul to complain about missing branch coverage?", "body": "<p>For the life of me, I can't figure out what istanbul is complaining about here.  I've got one branch that is uncovered in this file.  Here is the relevant part of the component in question (I stripped out unrelated bits to avoid noise):</p>\n\n<pre><code>export class TextComponent {\n    value: string;\n    _field: FieldModel;\n    private _record: any;\n\n    @Input()\n    set field(field: FieldModel) {\n        this._field = field;\n        this.cacheValue();\n    }\n\n    @Input()\n    set record(record: any) {\n        this._record = record;\n        this.cacheValue();\n    }\n\n    cacheValue() {\n        this.value = this.getValue();\n    }\n\n    getValue(): string {\n        if (!this._record || !this._field) {\n            return '';\n        }\n\n        return this._field.name in this._record ? this._record[this._field.name] : '';\n    }\n}\n\n</code></pre>\n\n<p>And a sample test:</p>\n\n<pre><code>    it('should store the record value', () =&gt; {\n        component.record = {\n            first: \"Nancy\",\n            last: \"Sue\",\n        };\n        expect(component.value).toBe('');\n\n        component.field = {name: 'first'};\n        expect(component.value).toBe('Nancy');\n    });\n</code></pre>\n\n<p>My code coverage is 100% except one missing branch.  This is what the code coverage report shows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3TKp9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3TKp9.png\" alt=\"enter image description here\"></a></p>\n\n<p>I know for certain that the little yellow highlight is the branch that istanbul doesn't think is covered.  However, I have no idea what it is actually complaining about and therefore I don't know how to write a test to cover it.  The sample test I included is the main test that I have on this function.  Obviously it is deficient in some way, but I don't understand in what way, and that little highlight isn't very informative.</p>\n\n<p>Angular 7.1.0, typescript 3.1.6</p>\n"}, {"tags": ["javascript", "typescript", "react-native"], "comments": [{"owner": {"reputation": 218, "user_id": 1412599, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/29af9e72ad77454fa91f32970e05fa52?s=128&d=identicon&r=PG", "display_name": "Ilya Manyahin", "link": "https://stackoverflow.com/users/1412599/ilya-manyahin"}, "edited": false, "score": 0, "creation_date": 1556113071, "post_id": 55830970, "comment_id": 98327480, "body": "Check this one <a href=\"https://stackoverflow.com/questions/29334984/render-html-in-react-native\" title=\"render html in react native\">stackoverflow.com/questions/29334984/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 4353012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342d79e34785875e7dfea3c09352ab97?s=128&d=identicon&r=PG&f=1", "display_name": "zzq", "link": "https://stackoverflow.com/users/4353012/zzq"}, "edited": false, "score": 0, "creation_date": 1556185889, "post_id": 55831555, "comment_id": 98354990, "body": "I  use react-native,  it dose not work, but pure javascript  test is ok ."}], "tags": [], "owner": {"reputation": 549, "user_id": 11204799, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xGhTo4bHPlw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX1Y6PYqVZTJ_HEZBNysjx4EZ3iSA/mo/photo.jpg?sz=128", "display_name": "Mohsin Amjad", "link": "https://stackoverflow.com/users/11204799/mohsin-amjad"}, "is_accepted": false, "score": 0, "last_activity_date": 1556113448, "creation_date": 1556113448, "answer_id": 55831555, "question_id": 55830970, "link": "https://stackoverflow.com/questions/55830970/how-to-connect-special-symbols-like-nbsp-yen-in-react-native/55831555#55831555", "title": "How to connect special symbols like &amp;nbsp; &amp;yen; in react-native", "body": "<p>you can use javascript native method like </p>\n\n<pre><code>let formattedMoney = new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY' }).format(money);\nlet str=`${period} per (money\uff1a${formattedMoney})`\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8953, "user_id": 6278661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4970a9b1c20562f99846124c68b3dcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/6278661/tim"}, "reply_to_user": {"reputation": 151, "user_id": 4353012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342d79e34785875e7dfea3c09352ab97?s=128&d=identicon&r=PG&f=1", "display_name": "zzq", "link": "https://stackoverflow.com/users/4353012/zzq"}, "edited": false, "score": 0, "creation_date": 1556187230, "post_id": 55832677, "comment_id": 98355837, "body": "@zzq you&#39;re welcome. Could you please also mark my answer as accepted. (Press the check icon beside my answer). Thank you"}], "tags": [], "owner": {"reputation": 8953, "user_id": 6278661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4970a9b1c20562f99846124c68b3dcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/6278661/tim"}, "is_accepted": true, "score": 2, "last_activity_date": 1556116629, "creation_date": 1556116629, "answer_id": 55832677, "question_id": 55830970, "link": "https://stackoverflow.com/questions/55830970/how-to-connect-special-symbols-like-nbsp-yen-in-react-native/55832677#55832677", "title": "How to connect special symbols like &amp;nbsp; &amp;yen; in react-native", "body": "<p>To parse HTML Entities you can use the npm module <a href=\"https://www.npmjs.com/package/html-entities\" rel=\"nofollow noreferrer\">html-entities</a>. </p>\n\n<p>Here is a working example: </p>\n\n<pre><code>import { Html5Entities } from 'html-entities'; \n\nrender() {\n    const entities = new Html5Entities();\n    return (\n      &lt;SafeAreaView style={styles.container}&gt;\n        &lt;View&gt;\n        &lt;Text&gt; {entities.decode('&amp;yen')} &lt;/Text&gt;\n        &lt;/View&gt;\n      &lt;/SafeAreaView&gt;\n    );\n  }\n</code></pre>\n\n<p>Output: </p>\n\n<p><a href=\"https://i.stack.imgur.com/5jE5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5jE5m.png\" alt=\"Example output\"></a></p>\n"}], "owner": {"reputation": 151, "user_id": 4353012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342d79e34785875e7dfea3c09352ab97?s=128&d=identicon&r=PG&f=1", "display_name": "zzq", "link": "https://stackoverflow.com/users/4353012/zzq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 55832677, "answer_count": 2, "score": 1, "last_activity_date": 1556116629, "creation_date": 1556111733, "question_id": 55830970, "link": "https://stackoverflow.com/questions/55830970/how-to-connect-special-symbols-like-nbsp-yen-in-react-native", "title": "How to connect special symbols like &amp;nbsp; &amp;yen; in react-native", "body": "<p>I want connect a string use \" ` \" ,  and wish \" &amp; yen; \" will show as \"\u00a5\",   the code like  below :</p>\n\n<pre><code>let str=`${period} per (money\uff1a&amp;yen;${money})`\n</code></pre>\n\n<p>but did not work for me ,</p>\n\n<p>by the way,I write it use react-native</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1556110640, "post_id": 55830564, "comment_id": 98325787, "body": "I don&#39;t know about typescript, but in javascript, (almost) everything is an object, including functions"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1556110655, "creation_date": 1556110655, "answer_id": 55830606, "question_id": 55830564, "link": "https://stackoverflow.com/questions/55830564/why-function-type-can-apply-to-type/55830606#55830606", "title": "why &#39;function type&#39; can apply to &#39;{} type&#39;", "body": "<p>Typing in typescript is structural, <code>{}</code> defines a type with no members. Any other type can be compatible with this type. Primitives, functions, other objects, anything:</p>\n\n<pre><code>let s: {};\ns = 1;\ns = \"\"\ns = () =&gt; \"\"\ns = null // err under strictNullChecks\n</code></pre>\n\n<p>Under strict null checks, <code>null</code> and <code>undefined</code> are not assignable to <code>{}</code>. But other than that anything can be assigned to <code>{}</code>.</p>\n\n<p>If you want to represent something that is an  object the <code>object</code> type might be better but functions are still allowed (since functions are objects)</p>\n\n<pre><code>let s: object;\ns = 1; //err\ns = \"\" // err\ns = () =&gt; \"\"\ns = { foo: \"\"};\ns = null // err under strictNullChecks\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1556112604, "post_id": 55830881, "comment_id": 98327201, "body": "This question was not about <code>Object</code> constructor, but about object type <code>{}</code> which is not a function. See also <a href=\"https://stackoverflow.com/questions/3449596/every-object-is-a-function-and-every-function-is-object-which-is-correct\" title=\"every object is a function and every function is object which is correct\">stackoverflow.com/questions/3449596/&hellip;</a>"}], "tags": [], "owner": {"reputation": 117, "user_id": 10383146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a78c0dfe27dcfdeac069b19dbf9cc76?s=128&d=identicon&r=PG&f=1", "display_name": "jean3xw", "link": "https://stackoverflow.com/users/10383146/jean3xw"}, "is_accepted": false, "score": 0, "last_activity_date": 1556111464, "creation_date": 1556111464, "answer_id": 55830881, "question_id": 55830564, "link": "https://stackoverflow.com/questions/55830564/why-function-type-can-apply-to-type/55830881#55830881", "title": "why &#39;function type&#39; can apply to &#39;{} type&#39;", "body": "<p>\"I don't know about typescript, but in javascript, (almost) everything is an object, including functions \u2013 Jaromanda X 10 mins ago\n\"\nNope it's the exacte opposite, everything is a Function in JavaScript, meaning Objects are Functions so are primary values. for example Object extends(inherit) Function and not the opposite.</p>\n"}], "owner": {"reputation": 43, "user_id": 11405371, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UHRYRQZBWNY/AAAAAAAAAAI/AAAAAAAAABI/MSI4qrJpb7s/photo.jpg?sz=128", "display_name": "kecheng.wx", "link": "https://stackoverflow.com/users/11405371/kecheng-wx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 55830606, "answer_count": 2, "score": 1, "last_activity_date": 1556112527, "creation_date": 1556110520, "last_edit_date": 1556112527, "question_id": 55830564, "link": "https://stackoverflow.com/questions/55830564/why-function-type-can-apply-to-type", "title": "why &#39;function type&#39; can apply to &#39;{} type&#39;", "body": "<p>Look at the code below, with no errors, I want to know why <code>function type</code> can apply to <code>{} type</code></p>\n\n<p><code>\"typescript\": \"~2.9.1\"</code>,</p>\n\n<pre><code>interface IIndexCtlState {\n    x: {}\n}\nconst state: IIndexCtlState = {\n    x: function y() {return \"sdf\"}\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "node-modules"], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 3698319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d440e69de410fcb36b3aa6be2e97ee?s=128&d=identicon&r=PG&f=1", "display_name": "Sanders", "link": "https://stackoverflow.com/users/3698319/sanders"}, "is_accepted": true, "score": 0, "last_activity_date": 1556113036, "creation_date": 1556113036, "answer_id": 55831413, "question_id": 55830069, "link": "https://stackoverflow.com/questions/55830069/jsx-element-type-external-module-does-not-have-any-construct-or-call-signature/55831413#55831413", "title": "JSX element type [External Module] does not have any construct or call signatures", "body": "<p>react-split-pane uses a single named default export, which should be imported like</p>\n\n<pre><code>import SplitPane from \"react-split-pane\"\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 10372185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4790b7a9684cd88ebffac101697b700?s=128&d=identicon&r=PG&f=1", "display_name": "P.Gracia", "link": "https://stackoverflow.com/users/10372185/p-gracia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 55831413, "answer_count": 1, "score": 0, "last_activity_date": 1556113036, "creation_date": 1556108909, "question_id": 55830069, "link": "https://stackoverflow.com/questions/55830069/jsx-element-type-external-module-does-not-have-any-construct-or-call-signature", "title": "JSX element type [External Module] does not have any construct or call signatures", "body": "<p>When trying to run some simple edition of Microsoft Typescript-React starter tutorial: <a href=\"https://github.com/Microsoft/TypeScript-React-Starter\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript-React-Starter</a> I'm getting the following error over an imported module:</p>\n\n<p><code>(31,30): JSX element type 'SplitPane' does not have any construct or call signatures.</code></p>\n\n<p>I have checked online, and there are a couple of questions with my same error: <a href=\"https://stackoverflow.com/questions/31815633/what-does-the-error-jsx-element-type-does-not-have-any-construct-or-call\">What does the error &quot;JSX element type &#39;...&#39; does not have any construct or call signatures&quot; mean?</a> &amp; <a href=\"https://github.com/Microsoft/TypeScript/issues/28631\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/28631</a> but they don't help me to understand where my error is, since I am using an external module. </p>\n\n<p>To make it clearer I'll add some code. I am using the same files as are outputed when using <code>npx create-react-app my-app --scripts-version=react-scripts-ts</code>, and just edited <code>package.json</code>, and created <code>SplittedPane.tsx</code>.</p>\n\n<p>This is the file SplittedPane.tsx:</p>\n\n<pre><code>import * as React from \"react\";\nimport * as SplitPane from \"react-split-pane\"\n\ninterface Props {\n    numberPanes: number;\n}\n\ninterface State {\n    numberPanes: number;\n}\n\nclass SplittedPane extends React.Component&lt;Props, State&gt; {\n    constructor(props: Props) {\n        super(props);\n        this.state ={\n            numberPanes: props.numberPanes || 1\n        };\n    }\n\n    onIncrement = () =&gt; this.updatePanes(this.state.numberPanes + 1);\n    onDecrement = () =&gt; this.updatePanes(this.state.numberPanes - 1);\n\n    render() {\n        if (this.state.numberPanes === 1) {\n            return (\n                &lt;div className=\"globalView\"&gt;\n                    &lt;button onClick={this.onIncrement}&gt;+&lt;/button&gt;\n                    &lt;div className=\"panesView\"&gt;                        \n                            &lt;SplitPane split=\"horizontal\" defaultSize=\"50%\"&gt;\n                                &lt;h1&gt;West&lt;/h1&gt;\n                                &lt;h1&gt;East&lt;/h1&gt;\n                            &lt;/SplitPane&gt;\n\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            )\n        } else {\n            throw new Error('The number of Panes is not supported');\n        }\n    }\n\n    updatePanes(numberPanes: number) {\n        this.setState({numberPanes});\n    }\n}\n\nexport default SplittedPane;\n</code></pre>\n\n<p>And this the package.json: </p>\n\n<pre><code>{\n  \"name\": \"react-typescript-github-microsoft-tutorial\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"react\": \"^16.8.6\",\n    \"react-dom\": \"^16.8.6\",\n    \"react-scripts-ts\": \"3.1.0\",\n    \"styled-components\":\"^4.2.0\",\n    \"react-split-pane\":\"^0.1.87\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts-ts start\",\n    \"build\": \"react-scripts-ts build\",\n    \"test\": \"react-scripts-ts test --env=jsdom\",\n    \"eject\": \"react-scripts-ts eject\"\n  },\n  \"devDependencies\": {\n    \"@types/jest\": \"^24.0.11\",\n    \"@types/node\": \"^11.13.7\",\n    \"@types/react\": \"^16.8.14\",\n    \"@types/react-dom\": \"^16.8.4\",\n    \"typescript\": \"^3.4.5\"\n  }\n}\n</code></pre>\n\n<p>I would expect this code to create two panes (split window), once I include this SplittedPane into the index.tsx file. However, it is crashing with the aforementioned error: </p>\n\n<p>(31,30): JSX element type 'SplitPane' does not have any construct or call signatures.</p>\n\n<p>Since I am using this external module, 'react-split-pane', how can I overcome this issue? The solutions I saw for similar errors seem not to be aimed toward external modules. </p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 1, "creation_date": 1556109247, "post_id": 55829920, "comment_id": 98324961, "body": "I don&#39;t think you can have it anyway when you are using <code>*ngIf</code>, unless your <code>ngIf</code> returns true, there is no element, hence no id attribute."}, {"owner": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "edited": false, "score": 2, "creation_date": 1556109515, "post_id": 55829920, "comment_id": 98325132, "body": "Can you explain what&#39;s the idea behind your <code>*ngIf</code> relying on the id of the element it has to display (or hide)? I don&#39;t really see a valid use case for this."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4957245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19bba5247e3333dc4b974ffa4b13eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ayyylmao", "link": "https://stackoverflow.com/users/4957245/ayyylmao"}, "edited": false, "score": 0, "creation_date": 1556108924, "post_id": 55830030, "comment_id": 98324767, "body": "This works, but what I want is not to copy each id into the function parameter"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 1, "creation_date": 1556109113, "post_id": 55830030, "comment_id": 98324879, "body": "Somehow this will not work. <code>ngIf</code> has got to return something only then an element will be created and hence a reference"}, {"owner": {"reputation": 21, "user_id": 4957245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19bba5247e3333dc4b974ffa4b13eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ayyylmao", "link": "https://stackoverflow.com/users/4957245/ayyylmao"}, "edited": false, "score": 0, "creation_date": 1556109301, "post_id": 55830030, "comment_id": 98325003, "body": "Same as before, i don&#39;t want any parameters in the &quot;showId()&quot; function.  So I simply can&#39;t do this because the element is created after the ngif directive return?"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 21, "user_id": 4957245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19bba5247e3333dc4b974ffa4b13eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ayyylmao", "link": "https://stackoverflow.com/users/4957245/ayyylmao"}, "edited": false, "score": 0, "creation_date": 1556117693, "post_id": 55830030, "comment_id": 98330665, "body": "@ayyylmao If you don&#39;t want any parameters then simply use the class variable in the method, use the first approach of my answer and access the class variable in your method like: <code>showId() { console.log(this.buttonId) ; &#47;&#47; return something }</code>"}], "tags": [], "owner": {"reputation": 2761, "user_id": 5860259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nuQx9j3fJd4/AAAAAAAAAAI/AAAAAAAADqc/c7CiqUETjMo/photo.jpg?sz=128", "display_name": "Sunil Kashyap", "link": "https://stackoverflow.com/users/5860259/sunil-kashyap"}, "is_accepted": false, "score": 0, "last_activity_date": 1556108999, "last_edit_date": 1556108999, "creation_date": 1556108755, "answer_id": 55830030, "question_id": 55829920, "link": "https://stackoverflow.com/questions/55829920/how-to-get-the-id-of-the-element-who-calls-a-function-in-the-ngif-directive/55830030#55830030", "title": "How to get the id of the element who calls a function in the ngif directive?", "body": "<p>in Template</p>\n\n<pre><code>&lt;button id=\"buttonId\" #btnRef *ngIf=\"showId(btnRef.id)\"&gt;BUTTON&lt;/button&gt;\n</code></pre>\n\n<p>in Component</p>\n\n<pre><code>showId(buttonId){\n     console.log(buttonId)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": false, "score": 3, "last_activity_date": 1556117443, "last_edit_date": 1556117443, "creation_date": 1556109715, "answer_id": 55830290, "question_id": 55829920, "link": "https://stackoverflow.com/questions/55829920/how-to-get-the-id-of-the-element-who-calls-a-function-in-the-ngif-directive/55830290#55830290", "title": "How to get the id of the element who calls a function in the ngif directive?", "body": "<p>The very first question, why do you have such a requirement?</p>\n\n<p>Simple and correct way, have variable in your class and use it like:</p>\n\n<pre><code>buttonId: string = \"buttonId\"\n\n&lt;button [id]=\"buttonId\" *ngIf=\"showId(buttonId)\"&gt;BUTTON&lt;/button&gt;\n</code></pre>\n\n<p>If you want to use <code>*ngIf</code> and want to extract the id which is present in the element itself then there is no simple way. Until your <code>*ngIf</code> returns true, No element will be created in the DOM, hence no <code>id</code> attribute. A bad workaround would be to have a duplicate hidden element like:</p>\n\n<pre><code>&lt;button hidden=\"true\" #dupRef id=\"buttonId\"&gt;Button&lt;/button&gt;\n&lt;button id=\"buttonId\" *ngIf=\"showId(dupRef.id)\"&gt;BUTTON&lt;/button&gt;\n</code></pre>\n\n<p>See an example here: <a href=\"https://stackblitz.com/edit/angular-sq8rde?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-sq8rde?file=src%2Fapp%2Fapp.component.html</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4957245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19bba5247e3333dc4b974ffa4b13eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ayyylmao", "link": "https://stackoverflow.com/users/4957245/ayyylmao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1556117443, "creation_date": 1556108436, "last_edit_date": 1556109929, "question_id": 55829920, "link": "https://stackoverflow.com/questions/55829920/how-to-get-the-id-of-the-element-who-calls-a-function-in-the-ngif-directive", "title": "How to get the id of the element who calls a function in the ngif directive?", "body": "<p>I need to get the id of the element who calls a function inside the ngif directive.</p>\n\n<p>For example, I have this button with the id and the ngif directive:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button id=\"buttonId\" *ngIf=\"showId()\"&gt;BUTTON&lt;/button&gt;\n</code></pre>\n\n<p>I need to get the id of this element inside the showId() function</p>\n\n<p>Also, the main reason is not to use the template variable into the function so that this function can automatically get the caller</p>\n\n<p>The idea is to call a service function that knows who the caller is and responds true or false based on who is currently logged in. Since there is a huge refactor to do the idea was not to have the ids as parameters.</p>\n"}, {"tags": ["javascript", "html", "typescript"], "comments": [{"owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1556106804, "post_id": 55829404, "comment_id": 98323505, "body": "global variable is accessible everywhere."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 3, "creation_date": 1556106807, "post_id": 55829404, "comment_id": 98323507, "body": "Replace <code>function()</code> with <code>() =&gt;</code> and your <code>this</code> remains the class instance. Your method works in general, but you need to store <code>this</code> in a variable (like <code>var that = this;</code>, then inside <code>that.unratedJobs = ...</code>)"}, {"owner": {"reputation": 487, "user_id": 5525271, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/IP3Vn.jpg?s=128&g=1", "display_name": "Alator", "link": "https://stackoverflow.com/users/5525271/alator"}, "edited": false, "score": 0, "creation_date": 1556106907, "post_id": 55829404, "comment_id": 98323575, "body": "Also, good practise is to use let and const instead of var."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1556106995, "post_id": 55829404, "comment_id": 98323617, "body": "@Quentin This question is a dupe of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\" title=\"how to access the correct this inside a callback\">stackoverflow.com/questions/20279484/&hellip;</a>, not that other famous one, I believe."}, {"owner": {"reputation": 1466, "user_id": 2697740, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000139341200/picture?type=large", "display_name": "Flamur Beqiraj", "link": "https://stackoverflow.com/users/2697740/flamur-beqiraj"}, "edited": false, "score": 0, "creation_date": 1556106998, "post_id": 55829404, "comment_id": 98323621, "body": "Try just at the very beginning and outside of every function to declare <code>var variable = 0;</code> than inside of function don&#39;t write <code>var</code> anymore just do the changes u need!"}, {"owner": {"reputation": 4584, "user_id": 3082414, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ja7eN.jpg?s=128&g=1", "display_name": "Kirk", "link": "https://stackoverflow.com/users/3082414/kirk"}, "reply_to_user": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1556107073, "post_id": 55829404, "comment_id": 98323657, "body": "@NegiRox no, not in this case when you tried to access within callback func. If I restore rr variable with this.unratedjobs it will be an undefined variable."}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1556107242, "post_id": 55829404, "comment_id": 98323760, "body": "@ChrisG - Could be both, but while the code is having issues accessing <code>unratedJobs</code> inside the callback function, the fundemental problem is that the callback is called when the animation finishes which is after the <code>if</code> statement at the end runes."}, {"owner": {"reputation": 4584, "user_id": 3082414, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ja7eN.jpg?s=128&g=1", "display_name": "Kirk", "link": "https://stackoverflow.com/users/3082414/kirk"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1556107383, "post_id": 55829404, "comment_id": 98323839, "body": "@ChrisG, Shorthand function definition works in this case. I can now able to access the variable. Could you explain why it didn&#39;t before? I mean both are same function except one being just a shoter version of it?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1556107437, "post_id": 55829404, "comment_id": 98323869, "body": "Arrow functions keep the <code>this</code> context. It&#39;s why they were added to JS in the first place, basically."}, {"owner": {"reputation": 4584, "user_id": 3082414, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ja7eN.jpg?s=128&g=1", "display_name": "Kirk", "link": "https://stackoverflow.com/users/3082414/kirk"}, "edited": false, "score": 0, "creation_date": 1556107548, "post_id": 55829404, "comment_id": 98323935, "body": "That&#39;s new for me, I thought arrow function is just a shortcut. It seems like its lil more than that. Gotta work on my ES6 lil more. Good save :)"}, {"owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1556107658, "post_id": 55829404, "comment_id": 98324004, "body": "this.unratedJobs is not in global scope."}, {"owner": {"reputation": 4584, "user_id": 3082414, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ja7eN.jpg?s=128&g=1", "display_name": "Kirk", "link": "https://stackoverflow.com/users/3082414/kirk"}, "reply_to_user": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1556107711, "post_id": 55829404, "comment_id": 98324035, "body": "@NegiRox well, I didn&#39;t specify here, but in the whole class it is a member variable."}, {"owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 1, "creation_date": 1556107843, "post_id": 55829404, "comment_id": 98324117, "body": "you are playing with local variable. after modification its value is gone."}, {"owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 1, "creation_date": 1556107882, "post_id": 55829404, "comment_id": 98324142, "body": "replace this  var rr = this.unratedJobs; to  var rr=this. then rr.unratedJobs = _.filter(rr.unratedJobs,  r=&gt; r.jobId != jobId);"}], "owner": {"reputation": 4584, "user_id": 3082414, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ja7eN.jpg?s=128&g=1", "display_name": "Kirk", "link": "https://stackoverflow.com/users/3082414/kirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1556106881, "answer_count": 0, "score": 0, "last_activity_date": 1556106631, "creation_date": 1556106631, "question_id": 55829404, "link": "https://stackoverflow.com/questions/55829404/updating-global-variabe-inside-function-in-javascript", "closed_reason": "Duplicate", "title": "Updating global variabe inside function in Javascript", "body": "<p>I have a method to close bootstrap cards. These cards are loaded in the webpage based on an object array <code>this.unratedjobs</code>. Upon closing individual cards I remove each card's objects(Elements) form the object array <code>this.unratedjobs</code>. While removing these cards, I play a lil' animation using JQuery hide function.</p>\n\n<p>Now, my problem is I can't update the global variable inside the callback function, even if I find a way to access it.</p>\n\n<p>As per my findings, I can copy the global variable into the local scope and manipulate but I can't make it affect the global ones.</p>\n\n<pre><code>onDiscardJobCard(jobId?){\n\n        if(!jobId){\n            jobId = this.alertMessageModal.instance.result;\n            this.addToRateAnotherTime(jobId);\n        }\n\n        //This is assigning a global variable to a local one\n        var rr = this.unratedJobs;\n\n        $('#rating-section-' + jobId).hide('drop', {direction: \"left\"}, 'slow', function() {\n\n            $('#rating-section-' + jobId).remove();\n\n            rr = _.filter(rr,  r=&gt; r.jobId != jobId);\n\n        });\n\n        this.alertMessageModal.dismiss();\n\n        if(this.unratedJobs &amp;&amp; this.unratedJobs.length == 0){\n            this.onDiscardModal.emit();\n        }\n    }\n</code></pre>\n\n<p>I have tried many ways but none worked successfully.</p>\n"}, {"tags": ["angular", "typescript", "import", "ocr", "tesseract"], "comments": [{"owner": {"reputation": 2231, "user_id": 6821441, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xXEmx.jpg?s=128&g=1", "display_name": "Abhishek Ekaanth", "link": "https://stackoverflow.com/users/6821441/abhishek-ekaanth"}, "edited": false, "score": 0, "creation_date": 1556107720, "post_id": 55829403, "comment_id": 98324041, "body": "<a href=\"https://stackoverflow.com/questions/42594133/how-to-import-tesseract-into-angular2-typescript\" title=\"how to import tesseract into angular2 typescript\">stackoverflow.com/questions/42594133/&hellip;</a> check this also this. <a href=\"https://www.npmjs.com/package/tesseract.ts\" rel=\"nofollow noreferrer\">npmjs.com/package/tesseract.ts</a>"}, {"owner": {"reputation": 55, "user_id": 11242073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5804ab41c4ed53c1569b31ac7c83553c?s=128&d=identicon&r=PG&f=1", "display_name": "tearswep", "link": "https://stackoverflow.com/users/11242073/tearswep"}, "reply_to_user": {"reputation": 2231, "user_id": 6821441, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xXEmx.jpg?s=128&g=1", "display_name": "Abhishek Ekaanth", "link": "https://stackoverflow.com/users/6821441/abhishek-ekaanth"}, "edited": false, "score": 0, "creation_date": 1556108104, "post_id": 55829403, "comment_id": 98324277, "body": ":) as stated in my post , I already checked the link you just gave me and it doesn&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 11242073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5804ab41c4ed53c1569b31ac7c83553c?s=128&d=identicon&r=PG&f=1", "display_name": "tearswep", "link": "https://stackoverflow.com/users/11242073/tearswep"}, "is_accepted": true, "score": 0, "last_activity_date": 1557144595, "creation_date": 1557144595, "answer_id": 56004931, "question_id": 55829403, "link": "https://stackoverflow.com/questions/55829403/how-to-get-tesseract-to-work-with-angular2/56004931#56004931", "title": "How to get Tesseract to work with Angular2+?", "body": "<p>If anyone else encounters this , here's the solution I found : tesseract typescript wrapper.</p>\n\n<p><a href=\"https://github.com/urakozz/tesseract.ts\" rel=\"nofollow noreferrer\">Here's a link to github</a></p>\n"}, {"tags": [], "owner": {"reputation": 1847, "user_id": 3407629, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Rm0Mn.jpg?s=128&g=1", "display_name": "kumar kundan", "link": "https://stackoverflow.com/users/3407629/kumar-kundan"}, "is_accepted": false, "score": 0, "last_activity_date": 1563544184, "creation_date": 1563544184, "answer_id": 57113909, "question_id": 55829403, "link": "https://stackoverflow.com/questions/55829403/how-to-get-tesseract-to-work-with-angular2/57113909#57113909", "title": "How to get Tesseract to work with Angular2+?", "body": "<p>No need to use another typescript wrapper dependency, when you can do it without using it also.</p>\n\n<ol>\n<li><p>You need to install the actual javascript module:</p>\n\n<p><code>npm install tesseract.js --save</code></p></li>\n<li><p>Also install @types declarations:</p>\n\n<p><code>npm install @types/tesseract.js --save</code></p></li>\n<li><p>Finally do the folowing to import:</p>\n\n<p><code>import * as Tesseract from 'tesseract.js'</code></p></li>\n<li><p>Use it like this</p>\n\n<p><code>let filename = 'assets/img/abcdefg.jpg'\n Tesseract.recognize(filename)\n      .progress(function (p) { console.log('progress', p) })\n      .catch(err =&gt; console.error(err))\n      .then(function (result) {\n        console.log(\"result ======&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;\");\n        console.log(result.text)\n  })</code></p></li>\n</ol>\n"}], "owner": {"reputation": 55, "user_id": 11242073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5804ab41c4ed53c1569b31ac7c83553c?s=128&d=identicon&r=PG&f=1", "display_name": "tearswep", "link": "https://stackoverflow.com/users/11242073/tearswep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1291, "favorite_count": 1, "accepted_answer_id": 56004931, "answer_count": 2, "score": 0, "last_activity_date": 1563544184, "creation_date": 1556106628, "last_edit_date": 1556108033, "question_id": 55829403, "link": "https://stackoverflow.com/questions/55829403/how-to-get-tesseract-to-work-with-angular2", "title": "How to get Tesseract to work with Angular2+?", "body": "<p>I am trying to use Tesseract in one my components to perform ocr on a file.</p>\n\n<p><strong>.ts</strong>:</p>\n\n<pre><code>import * as Tesseract from 'tesseract.js';\n\nfileToUpload: File = null;\nhandleFileInput(files: FileList) {\n    this.fileToUpload = files.item(0);\n  }\nimageOcr() {\n    Tesseract.recognize(this.fileToUpload)\n      .progress(message =&gt; console.log(message))\n      .catch(err =&gt; console.error(err))\n      .then(res =&gt; console.log(res))\n      .finally(resultOrError =&gt; console.log(resultOrError));\n }\n</code></pre>\n\n<p><strong>.html</strong></p>\n\n<pre><code>&lt;div&gt;\n  &lt;h6&gt;Local Image OCR&lt;/h6&gt;\n  &lt;input type=\"file\" accept=\".jpg,.png,.jpeg,.webp\"  (change)=\"handleFileInput($event.target.files)\"&gt;\n  &lt;button (click)=\"imageOcr()\"&gt;click&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I followed  <a href=\"https://stackoverflow.com/questions/42594133/how-to-import-tesseract-into-angular2-typescript\">this</a> ,\nhowever this error shows </p>\n\n<pre><code>\"blob:http://localhost:4200/65999042-8757-4264-b92d-ed5e0a0e4c27:1 Uncaught DOMException: Failed to execute 'importScripts' on 'WorkerGlobalScope': The script at 'http://localhost:4200/dist/worker.dev.js?nocache=qf0eq67rus' failed to load.\n    at blob:http://localhost:4200/65999042-8757-4264-b92d-ed5e0a0e4c27:1:1\"\n</code></pre>\n\n<p>How or what should I do to make this work?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3209, "user_id": 1775089, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/bE8ZU.jpg?s=128&g=1", "display_name": "Alex Szab&#243;", "link": "https://stackoverflow.com/users/1775089/alex-szab%c3%b3"}, "edited": false, "score": 0, "creation_date": 1556107278, "post_id": 55829349, "comment_id": 98323786, "body": "I think there might be several things here, but <code>...myFilters.statuses</code> should be of type <code>Array&lt;Status | TopStatus&gt;</code>, but in the function you expect it only to return the <code>TopStatus</code> bit, without handling that in the function body. You might get away with casting the types <code>return [...myFilters.cat, ...myFilters.statuses] as [string[], TopStatus[]]</code>, but then your method will be prone to an error that the compiler can no longer warn you about."}], "answers": [{"tags": [], "owner": {"reputation": 23129, "user_id": 733345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UrLrZ.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/733345/joe"}, "is_accepted": false, "score": 1, "last_activity_date": 1556107179, "creation_date": 1556107179, "answer_id": 55829570, "question_id": 55829349, "link": "https://stackoverflow.com/questions/55829349/typescript-union-type-not-working-function-return/55829570#55829570", "title": "TypeScript - Union type not working function return", "body": "<p>Running that <a href=\"https://www.typescriptlang.org/play/#src=export%20interface%20Filters%20%7B%0D%0A%20%20cat%3A%20Array%3Cstring%3E%3B%0D%0A%20%20statuses%3A%20Array%3CStatus%20%7C%20TopStatus%3E%3B%0D%0A%7D%0D%0A%0D%0Aexport%20enum%20Status%20%7B%0D%0A%20%20ARCHIVED%2C%0D%0A%20%20IN_PROGRESS%2C%0D%0A%20%20COMING%0D%0A%7D%0D%0A%0D%0Aexport%20type%20TopStatus%20%3D%20Status.ARCHIVED%20%7C%20Status.IN_PROGRESS%3B%0D%0A%0D%0A%0D%0Afunction%20handleStatuses(myFilters%3A%20Filters)%3A%20Array%3Cstring%20%7C%20TopStatus%3E%20%7B%0D%0A%20%20%20%20return%20%5B...myFilters.cat%2C%20...myFilters.statuses%5D%3B%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">code in the playground</a> gives:</p>\n\n<pre><code>Type '(string | Status)[]' is not assignable to type '(string | Status.ARCHIVED | Status.IN_PROGRESS)[]'.\n  Type 'string | Status' is not assignable to type 'string | Status.ARCHIVED | Status.IN_PROGRESS'.\n    Type 'Status.COMING' is not assignable to type 'string | Status.ARCHIVED | Status.IN_PROGRESS'.\n</code></pre>\n\n<p>Specifically:</p>\n\n<blockquote>\n  <p>Type 'Status.COMING' is not assignable to type 'string | Status.ARCHIVED | Status.IN_PROGRESS'.</p>\n</blockquote>\n\n<p>You're trying to assign an enum to a type that only accepts a subset of its values.</p>\n"}, {"tags": [], "owner": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "is_accepted": true, "score": 1, "last_activity_date": 1556107726, "creation_date": 1556107726, "answer_id": 55829715, "question_id": 55829349, "link": "https://stackoverflow.com/questions/55829349/typescript-union-type-not-working-function-return/55829715#55829715", "title": "TypeScript - Union type not working function return", "body": "<p>Spreading <code>myFilters.statuses</code> will cause spreading <code>Array&lt;Status | TopStatus&gt;</code>, so the value that you return from this function will return type <code>Array&lt;string | Status | TopStatus&gt;</code> instead of manually declared <code>Array&lt;string | TopStatus&gt;</code>. This is clearly and absolutely right, everything is working as designed :)</p>\n\n<p>If you are sure, that <code>myFilters.statuses</code> inside of your function is only includes <code>TopFilter</code>, you can force retyping:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>handleStatuses(myFilters: Filters): Array&lt;string | TopStatus&gt; {\n    return [...myFilters.cat, ...(myFilters.statuses as Array&lt;TopStatus&gt;)];\n}\n</code></pre>\n\n<p>or redeclare the return type of the function in correct way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>handleStatuses(myFilters: Filters): Array&lt;string | Status | TopStatus&gt; {\n    return [...myFilters.cat, ...myFilters.statuses];\n}\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 7951032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/dc7d7.jpg?s=128&g=1", "display_name": "Mouad Ennaciri", "link": "https://stackoverflow.com/users/7951032/mouad-ennaciri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55829715, "answer_count": 2, "score": 1, "last_activity_date": 1556107726, "creation_date": 1556106410, "question_id": 55829349, "link": "https://stackoverflow.com/questions/55829349/typescript-union-type-not-working-function-return", "title": "TypeScript - Union type not working function return", "body": "<p>I have an interface an enum and a type :</p>\n\n<pre><code>export interface Filters {\n  cat: Array&lt;string&gt;;\n  statuses: Array&lt;Status | TopStatus&gt;;\n}\n\nexport enum Status {\n  ARCHIVED,\n  IN_PROGRESS,\n  COMING\n}\n\nexport type TopStatus = Status.ARCHIVED | Status.IN_PROGRESS;\n</code></pre>\n\n<p>And in the method:</p>\n\n<pre><code>  handleStatuses(myFilters: Filters): Array&lt;string | TopStatus&gt; {\n    return [...myFilters.cat, ...myFilters.statuses];\n  }\n</code></pre>\n\n<p>I have the error <code>2322</code> who says he's waiting <code>string | ARCHIVED | IN_PROGRESS | COMING</code> while the method returns <code>string ARCHIVED | IN_PROGRESS</code></p>\n\n<p>But it works when the method returns to Array  `</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1556104905, "post_id": 55828824, "comment_id": 98322363, "body": "What do you mean use the interface ? Typescript will not let you use the interface since interfaces are just types and types are erased. You use interfaces to validate the type of values in typescript, at runtime there is no use for them."}, {"owner": {"reputation": 3390, "user_id": 2518398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JT3Ch.jpg?s=128&g=1", "display_name": "Jacques \u30b8\u30e3\u30c3\u30af", "link": "https://stackoverflow.com/users/2518398/jacques-%e3%82%b8%e3%83%a3%e3%83%83%e3%82%af"}, "edited": false, "score": 1, "creation_date": 1556104942, "post_id": 55828824, "comment_id": 98322389, "body": "A class implements an interface, it cannot extend one."}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556111070, "post_id": 55828824, "comment_id": 98326068, "body": "@TitianCernicova-Dragomir I updated the question."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556111448, "post_id": 55828824, "comment_id": 98326320, "body": "@AlexanderZeitler the js consumer just does not care about the interfaces, the code is still usable, where an interface must be passed in they can just pass in an object literal that satisfies the interface (unchecked of course) or a class they create. You can create classes as well for the interfaces but I don&#39;t think there is a reason to do so unless you have another requirement.."}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1556111929, "post_id": 55828824, "comment_id": 98326682, "body": "If I don&#39;t create a <code>class</code> in TS I get the aforementioned error. I want to ensure the property signature of the <code>interface</code> from TS to be available as well. So my current understanding is I can use the <code>interface</code> in TS as is but for JS interop I need to create a <code>class</code> that can be <code>extend</code>ed in plain JS without resulting in the error above. To act more <code>interface</code> like I also might throw <code>NotImplementedError</code>s in the class I&#39;m <code>extend</code>ing."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556112559, "post_id": 55828824, "comment_id": 98327168, "body": "@AlexanderZeitler You don&#39;t use the interface in TS either when creating object instances. You may write in TS <code>let a: MyInterface = { foo: 0 }</code> this same code is written in JS as <code>let a = { foo: 0 }</code> no interface, no error, works just as well no class required."}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556113470, "post_id": 55828824, "comment_id": 98327732, "body": "@TitianCernicova-Dragomir In TS im currently using <code>class x implements y</code> where <code>y</code> is my interface. I understand that TS is not helping me in plain JS but tools like WebStorm do provide error messages if it can resolve the types + typings. Hence I want to export proper types but these need to be valid (e.g. no empty definitions like compiling TS <code>interfaces</code> produces) from the plain JS point of view as well."}], "answers": [{"comments": [{"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1556108211, "post_id": 55829038, "comment_id": 98324338, "body": "I understand the different concepts behind interfaces and base classes but my questions was about a best practice how to create a library in TypeScript which uses interfaces and how to build it in a way plain ES6 (which does not have interfaces) can also consume this library."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "reply_to_user": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1556116060, "post_id": 55829038, "comment_id": 98329529, "body": "@AlexanderZeitler the error suggests you&#39;re using <code>extends</code> instead of <code>implements</code> ?"}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "reply_to_user": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1556124239, "post_id": 55829038, "comment_id": 98334278, "body": "@Evert <code>implements</code> does not exist in plain JS that&#39;s why I&#39;m using <code>extends</code> and that&#39;s the reason why I&#39;m looking for a workaround/best practice to handle this whole issue."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "reply_to_user": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 1, "creation_date": 1556138053, "post_id": 55829038, "comment_id": 98340313, "body": "@AlexanderZeitler ah I understand now. Then the non-typescript equivalent really is not implementing/extending it all. There would be no point because the whole thing would happen in &#39;runtime&#39; and typescript doesn&#39;t enforce anything at all in runtime."}], "tags": [], "owner": {"reputation": 3390, "user_id": 2518398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JT3Ch.jpg?s=128&g=1", "display_name": "Jacques \u30b8\u30e3\u30c3\u30af", "link": "https://stackoverflow.com/users/2518398/jacques-%e3%82%b8%e3%83%a3%e3%83%83%e3%82%af"}, "is_accepted": false, "score": 2, "last_activity_date": 1556105674, "last_edit_date": 1556105674, "creation_date": 1556105347, "answer_id": 55829038, "question_id": 55828824, "link": "https://stackoverflow.com/questions/55828824/extending-a-typescript-interface-from-javascript-typeerror-class-extends-value/55829038#55829038", "title": "Extending a TypeScript interface from JavaScript: TypeError: Class extends value undefined is not a function or null", "body": "<p>I think you my be misunderstanding how to properly use an interface. Interfaces are not \"Base\" objects, they simple define what an object should look like.</p>\n\n<p>In typescript, many times an interface is used as a type for an object, but in general can be used to define what a class should \"look like\" as well.</p>\n\n<p>For instance:</p>\n\n<pre><code>interface Foo {\n  bar: string;\n  baz: number;\n  bang(): void;\n}\n</code></pre>\n\n<p>In this case, any object/class that <code>implements</code> <code>Foo</code> will need to have these three things.</p>\n\n<p>IE: </p>\n\n<pre><code>class FooImplemented implements Foo {\n  bar = 'Hello World';\n  baz = 42;\n\n  bang() {\n    print(this.bar);\n  }\n}\n</code></pre>\n\n<p>If I do not define bar, baz and/or bang; typescript will throw an error at compile time that I'm not properly implementing the <code>Foo</code> interface in the <code>FooImplemented</code> class.</p>\n\n<p>To summarize, an interface tells the compiler what something is supposed to look like. And an interface can extend another interface. However, a class cannot extend an interface, but it can implement one. (Or multiple)</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">Check out the docs on interfaces on typescripts website.</a></p>\n"}], "owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556108869, "creation_date": 1556104755, "last_edit_date": 1556108869, "question_id": 55828824, "link": "https://stackoverflow.com/questions/55828824/extending-a-typescript-interface-from-javascript-typeerror-class-extends-value", "title": "Extending a TypeScript interface from JavaScript: TypeError: Class extends value undefined is not a function or null", "body": "<p>I've a TypeScript interface like this:</p>\n\n<pre><code>export interface Foo {\n  bar: string\n}\n</code></pre>\n\n<p>This will compile down to an empty <code>.js</code> file.\nSo when using the TypeScript interface in an ES6 Node module, I'll get this error:</p>\n\n<p><code>TypeError: Class extends value undefined is not a function or null</code></p>\n\n<p>A workaround will be to create a class</p>\n\n<pre><code>export class BaseFoo {\n  bar: string\n}\n</code></pre>\n\n<p>Now I can use <code>BaseFoo</code> from ES6 without getting the aforementioned error.\nSo it is not possible to just have interfaces in TypeScript with ES6 interop or is there an more elegant way than having <code>Base*</code> classes (which are not really base classes in the end) here?</p>\n\n<p>Update: I understand the different concepts behind interfaces and base classes but my questions is about a best practice how to create a library in TypeScript which uses interfaces and how to build it in a way plain ES6 (which does not have interfaces) can also consume this library. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1556104228, "post_id": 55828604, "comment_id": 98321907, "body": "sounds promising, i&#39;ll have a look at it"}, {"owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1556106559, "post_id": 55828604, "comment_id": 98323367, "body": "for some reason compile breaks at extends keyword: TS1005: &#39;;&#39; expected."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1556106609, "post_id": 55828604, "comment_id": 98323395, "body": "@RobyRodriguez what version of TS are you using ? Code was tested on 3.4 in the playground, I will add a link"}, {"owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1556106694, "post_id": 55828604, "comment_id": 98323449, "body": "&quot;typescript&quot;: &quot;~2.7.2&quot; :("}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1556106755, "post_id": 55828604, "comment_id": 98323482, "body": "@RobyRodriguez yeah .. that will not work, you might get something working on 2.8 (arrays will be an issue, proper array handling in mapped types was added in 3.2 or 3.1 I belive) but 2.7 does not have conditional types"}, {"owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1556106996, "post_id": 55828604, "comment_id": 98323618, "body": "i see.. one more question though - in the conditional where you check &#39;extends object&#39; can i check for other types, i.e. exclude some object types?.... say any object except <code>SelectItem</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1556107406, "post_id": 55828604, "comment_id": 98323850, "body": "@RobyRodriguez Sure conditional types are very flexible you can check <code>extends</code> any type you want. <code>T[P] extends SelectItem ? State&lt;T[P]&gt; : boolean</code> should be fine. But don&#39;t forget TS types are structurally matched"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1556106644, "last_edit_date": 1556106644, "creation_date": 1556103940, "answer_id": 55828604, "question_id": 55828312, "link": "https://stackoverflow.com/questions/55828312/dynamic-type-based-on-existing-in-typescript/55828604#55828604", "title": "dynamic type based on existing in typescript", "body": "<p>You are close, your syntax is off, you need to use a <code>type</code> not an <code>interface</code>, and <code>typeof T[p] === 'object'</code> is written as <code>T[p] extends object</code> </p>\n\n<pre><code>class Metadata {\n  constructor(\n    public key = 'empty',\n    public value = 'empty'\n  ) { }\n}\nclass Topic {\n  constructor(\n    public name = 'empty'\n  ) { }\n}\nclass Product {\n  constructor(\n    public metadata: Metadata[],\n    public topic: Topic,\n    public title = 'empty'\n  ) { }\n\n}\n\ntype State&lt;T&gt; = {\n  [P in keyof T]: T[P] extends object ? State&lt;T[P]&gt; : boolean\n}\nlet o: State&lt;Product&gt; = {\n  title: true,\n  topic: {\n    name: true\n  },\n  metadata: [\n    { key: true, value: false }\n  ]\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=class%20Metadata%20%7B%0D%0A%20%20constructor(%0D%0A%20%20%20%20public%20key%20%3D%20&#39;empty&#39;%2C%0D%0A%20%20%20%20public%20value%20%3D%20&#39;empty&#39;%0D%0A%20%20)%20%7B%20%7D%0D%0A%7D%0D%0Aclass%20Topic%20%7B%0D%0A%20%20constructor(%0D%0A%20%20%20%20public%20name%20%3D%20&#39;empty&#39;%0D%0A%20%20)%20%7B%20%7D%0D%0A%7D%0D%0Aclass%20Product%20%7B%0D%0A%20%20constructor(%0D%0A%20%20%20%20public%20metadata%3A%20Metadata%5B%5D%2C%0D%0A%20%20%20%20public%20topic%3A%20Topic%2C%0D%0A%20%20%20%20public%20title%20%3D%20&#39;empty&#39;%0D%0A%20%20)%20%7B%20%7D%0D%0A%0D%0A%7D%0D%0A%0D%0Atype%20State%3CT%3E%20%3D%20%7B%0D%0A%20%20%5BP%20in%20keyof%20T%5D%3A%20T%5BP%5D%20extends%20object%20%3F%20State%3CT%5BP%5D%3E%20%3A%20boolean%0D%0A%7D%0D%0Alet%20o%3A%20State%3CProduct%3E%20%3D%20%7B%0D%0A%20%20title%3A%20true%2C%0D%0A%20%20topic%3A%20%7B%0D%0A%20%20%20%20name%3A%20true%0D%0A%20%20%7D%2C%0D%0A%20%20metadata%3A%20%5B%0D%0A%20%20%20%20%7B%20key%3A%20true%2C%20value%3A%20false%20%7D%0D%0A%20%20%5D%0D%0A%7D\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556104030, "post_id": 55828609, "comment_id": 98321769, "body": "While not 100% clear, I think OP wants to map a nested structure with primitive properties being <code>boolean</code>"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556104060, "post_id": 55828609, "comment_id": 98321791, "body": "Oh, I have misunderstood then. &quot;...but its matching leaf-level properties are boolean.&quot;, you&#39;re right. Well then he has your answer. :)"}], "tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1556103957, "creation_date": 1556103957, "answer_id": 55828609, "question_id": 55828312, "link": "https://stackoverflow.com/questions/55828312/dynamic-type-based-on-existing-in-typescript/55828609#55828609", "title": "dynamic type based on existing in typescript", "body": "<p>Use type instead of an interface:</p>\n\n<pre><code>type State&lt;T&gt; = { [P in keyof T]: boolean };\n</code></pre>\n"}], "owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 55828604, "answer_count": 2, "score": 0, "last_activity_date": 1556106644, "creation_date": 1556102995, "question_id": 55828312, "link": "https://stackoverflow.com/questions/55828312/dynamic-type-based-on-existing-in-typescript", "title": "dynamic type based on existing in typescript", "body": "<p>For a given object like:</p>\n\n<pre><code>class Product {\n  constructor(\n    public metadata: Metadata,\n    public topic: Topic,\n    public title = 'empty'\n  ) {}\n  ...\n}\n</code></pre>\n\n<p>I want to create an interface:</p>\n\n<pre><code>interface State&lt;T&gt; {\n}\n</code></pre>\n\n<p>such that TypeScript ensures that a <code>product: State&lt;Product&gt;</code> has the same structure as Product but its matching leaf-level properties are boolean. So <code>product</code> is supposed to have a title property of type boolean.</p>\n\n<hr>\n\n<p>I had a look at the readonly example at <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped-types</a> but in this case I probably need a composite:</p>\n\n<pre><code>interface State&lt;T&gt; {\n  [p in keyof T]: typeof T[p] === 'object' ? State&lt;T[p]&gt; : boolean;\n}\n</code></pre>\n\n<p>Any ideas of how to make this work?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "content-management-system", "typescript-typings"], "comments": [{"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1556281621, "post_id": 55828086, "comment_id": 98395057, "body": "put a <code>&#47;&#47; @ts-ignore</code> on top of the import line"}, {"owner": {"reputation": 1, "user_id": 11404708, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SaBOS8_OqCU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRY80cf9UpDwpFz26C3S18oJ-75g/mo/photo.jpg?sz=128", "display_name": "kimmy monassar", "link": "https://stackoverflow.com/users/11404708/kimmy-monassar"}, "reply_to_user": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1556782554, "post_id": 55828086, "comment_id": 98547956, "body": "Is there any way to do this automatically? Or make TS ignore the files that it cant find?"}], "owner": {"reputation": 1, "user_id": 11404708, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SaBOS8_OqCU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRY80cf9UpDwpFz26C3S18oJ-75g/mo/photo.jpg?sz=128", "display_name": "kimmy monassar", "link": "https://stackoverflow.com/users/11404708/kimmy-monassar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556133902, "creation_date": 1556102300, "last_edit_date": 1556133902, "question_id": 55828086, "link": "https://stackoverflow.com/questions/55828086/importing-modules-from-a-cms-in-typescript-gives-module-not-found", "title": "Importing modules from a CMS in typescript, gives module not found", "body": "<p>When trying to import a module thats not in my node_modules Typescript tells me it cant find the module. The problem im facing is that the module is inside a CMS and i never get it as an actual module.</p>\n\n<p>I can import it with es6 syntax, but behind the scenes its a Java API that returns javascript, and I can only call the functions without knowing 100% the structure of the code behind it (except the JavaDOC).</p>\n\n<p>Ofcourse Typescript tries to import this as usual and cant find the module, example syntax: <code>import PropertyUtil from 'PropertyUtil'</code>, where PropertyUtil is the module.</p>\n\n<p>Is there any way I can solve this? I have a workaround currently with building fake modules from the Javadoc but I dont find it reliable enough..</p>\n"}, {"tags": ["javascript", "typescript", "ionic-framework", "ecmascript-6", "ionic4"], "comments": [{"owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1556364072, "post_id": 55828054, "comment_id": 98418751, "body": "Have you tried file transfer plugin? <a href=\"https://ionicframework.com/docs/native/file-transfer\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/file-transfer</a>"}, {"owner": {"reputation": 1328, "user_id": 5314179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSsFu.jpg?s=128&g=1", "display_name": "Sankha Karunasekara", "link": "https://stackoverflow.com/users/5314179/sankha-karunasekara"}, "reply_to_user": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1556378856, "post_id": 55828054, "comment_id": 98422753, "body": "Yep. the file is uploading that is not an issue. I was not able to get value out of <code>resolveLocalFileSystemURL</code> function. basically I was unable to send file name or size to the back-end that was the problem. <code>uploadFile</code> is actually using file Transfer plugin. I changed my approach and was able to figure it out. thank you for your comment. I will post it my answer when I got time thank you."}], "answers": [{"tags": [], "owner": {"reputation": 1328, "user_id": 5314179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSsFu.jpg?s=128&g=1", "display_name": "Sankha Karunasekara", "link": "https://stackoverflow.com/users/5314179/sankha-karunasekara"}, "is_accepted": true, "score": 2, "last_activity_date": 1556395953, "creation_date": 1556395953, "answer_id": 55884498, "question_id": 55828054, "link": "https://stackoverflow.com/questions/55828054/how-to-get-file-properties-and-upload-a-file-from-ionic-4/55884498#55884498", "title": "How to get file properties and upload a file from ionic 4?", "body": "<h3>you actually need <strong>4</strong> <code>Ionic</code> <code>Cordova</code> plugins to upload a file after getting all the metadata of a file.</h3>\n\n<ol>\n<li><a href=\"https://ionicframework.com/docs/native/file-chooser\" rel=\"nofollow noreferrer\">FileChooser</a>\n\n<blockquote>\n  <p>Opens the file picker on Android for the user to select a file, returns a file URI.</p>\n</blockquote></li>\n<li><p><a href=\"https://ionicframework.com/docs/native/file-path\" rel=\"nofollow noreferrer\">FilePath</a></p>\n\n<blockquote>\n  <p>This plugin allows you to resolve the native filesystem path for Android content URIs and is based on code in the aFileChooser library.</p>\n</blockquote></li>\n<li><p><a href=\"https://ionicframework.com/docs/native/file\" rel=\"nofollow noreferrer\">File</a></p>\n\n<blockquote>\n  <p>This plugin implements a File API allowing read/write access to files residing on the device.</p>\n</blockquote></li>\n<li><p><a href=\"https://ionicframework.com/docs/native/file-transfer\" rel=\"nofollow noreferrer\">File Trnafer</a></p>\n\n<blockquote>\n  <p>This plugin allows you to upload and download files.</p>\n</blockquote></li>\n</ol>\n\n<h3>getting the file's metadata.</h3>\n\n<ul>\n<li><code>file.resolveLocalFilesystemUrl</code> with <code>fileEntry.file</code> give you all the metadata you need, except the <strong>file name</strong>. There is a property called <code>name</code> in the metadata but it always contains value <em>content</em>.</li>\n<li>To get the human readable file name you need <code>filePath</code>. But remember you can't use returning file path to retrieve metadata. For that, you need the original url from <code>fileChooser</code>. </li>\n<li><code>filePathUrl.substring(filePathUrl.lastIndexOf('/') + 1)</code> is used to get only file name from <code>filePath</code>.</li>\n<li>You need <code>nativeURL</code> of the file in order to upload it. Using file path returning from <code>filePath</code> is not going to work. </li>\n</ul>\n\n<pre><code>    getFileInfo(): Promise&lt;any&gt; {\n            return this.fileChooser.open().then(fileURI =&gt; {\n                return this.filePath.resolveNativePath(fileURI).then(filePathUrl =&gt; {\n                    return this.file\n                        .resolveLocalFilesystemUrl(fileURI)\n                        .then((fileEntry: any) =&gt; {\n                            return new Promise((resolve, reject) =&gt; {\n                                fileEntry.file(\n                                    meta =&gt;\n                                        resolve({\n                                            nativeURL: fileEntry.nativeURL,\n                                            fileNameFromPath: filePathUrl.substring(filePathUrl.lastIndexOf('/') + 1),\n                                            ...meta,\n                                        }),\n                                    error =&gt; reject(error)\n                                );\n                            });\n                        });\n                });\n            });\n        }\n</code></pre>\n\n<h3>select a file from the file system of the mobile.</h3>\n\n<pre><code>async selectAFile() {\n\n    this.getFileInfo()\n        .then(async fileMeta =&gt; {\n\n            //get the upload \n            const uploadUrl = await this.getUploadUrl(fileMeta);\n\n            const response: Promise &lt; any &gt; = this.uploadFile(\n                fileMeta,\n                uploadUrl\n            );\n\n            response\n                .then(function(success) {\n                    //upload success message                       \n                })\n                .catch(function(error) {\n                    //upload error message\n                });\n        })\n        .catch(error =&gt; {\n            //something wrong with getting file infomation\n        });\n}\n</code></pre>\n\n<h3>uploading selected file.</h3>\n\n<p>This depends on your backend implementation. This is how to use <strong>File Transfer</strong> to upload a file.</p>\n\n<pre><code>uploadFile(fileMeta, uploadUrl) {\n\n    const options: FileUploadOptions = {\n      fileKey: 'file',\n      fileName: fileMeta.fileNameFromPath,\n      headers: {\n        'Content-Length': fileMeta.size,\n        'Content-Type': fileMeta.type,\n      },\n      httpMethod: 'PUT',\n      mimeType: fileMeta.type,\n    };\n\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    return fileTransfer.upload(file.path, uploadUrl, options);\n  }\n</code></pre>\n\n<p>hope it helps. :) </p>\n"}], "owner": {"reputation": 1328, "user_id": 5314179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSsFu.jpg?s=128&g=1", "display_name": "Sankha Karunasekara", "link": "https://stackoverflow.com/users/5314179/sankha-karunasekara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4537, "favorite_count": 1, "accepted_answer_id": 55884498, "answer_count": 1, "score": 1, "last_activity_date": 1599593554, "creation_date": 1556102184, "last_edit_date": 1556392259, "question_id": 55828054, "link": "https://stackoverflow.com/questions/55828054/how-to-get-file-properties-and-upload-a-file-from-ionic-4", "title": "How to get file properties and upload a file from ionic 4?", "body": "<p>I am trying to upload a file from mobile to google bucket using ionic 4. Although a file can upload into the could. I am struggling to get the file properties out of file object. </p>\n\n<p>Here is my method,</p>\n\n<pre><code>async selectAFile() {\n\n    const uploadFileDetails = {\n      name: '',\n      contentLength: '',\n      size: '',\n      type: '',\n      path: '',\n    };\n\n    this.fileChooser.open().then(uri =&gt; {\n\n      this.file.resolveLocalFilesystemUrl(uri).then(newUrl =&gt; {\n        let dirPath = newUrl.nativeURL;\n\n        const dirPathSegments = dirPath.split('/');\n        dirPathSegments.pop();\n        dirPath = dirPathSegments.join('/');\n\n        (&lt;any&gt;window).resolveLocalFileSystemURL(\n          newUrl.nativeURL,\n          function(fileEntry) {\n            uploadFileDetails.path = newUrl.nativeURL;\n\n            const file: any = getFileFromFileEntry(fileEntry);\n\n            //log 01 \n            console.log({ file });\n\n            uploadFileDetails.size = file.size;\n            uploadFileDetails.name = `${newUrl.name\n              .split(':')\n              .pop()}.${file.type.split('/').pop()}`;\n            uploadFileDetails.type = file.type;\n\n            async function getFileFromFileEntry(fileEntry) {\n\n              try {\n                return await new Promise((resolve, reject) =&gt;\n                  fileEntry.file(resolve, reject)\n                );\n              } catch (err) {\n                console.log(err);\n              }\n            }\n\n          },\n          function(e) {\n            console.error(e);\n          }\n        );\n      });\n    });\n\n    // here uploadFileDetails is simller to what I declared at the top ;)\n    // I wan't this to be populated with file properties\n    // console.log(uploadFileDetails.name) --&gt; //''\n\n    const uploadUrl = await this.getUploadUrl(uploadFileDetails);\n\n    const response: any = this.uploadFile(\n      uploadFileDetails,\n      uploadUrl\n    );\n\n    response\n      .then(function(success) {\n        console.log({ success });\n        this.presentToast('File uploaded successfully.');\n        this.loadFiles();\n      })\n      .catch(function(error) {\n        console.log({ error });\n      });\n  }\n</code></pre>\n\n<p>even though I can <code>console.log</code> the file in log 01. I am unable to get file properties like, <code>size</code>, <code>name</code>, <code>type</code> out of the <code>resolveLocalFileSystemURL</code> function. basically, I am unable to populate <code>uploadFileDetails</code> object. What am I doing wrong? Thank you in advance. </p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2886, "user_id": 1945764, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3cad90f7bbc93c63e13d01dc5fb19e73?s=128&d=identicon&r=PG", "display_name": "Luca D&#39;Amico", "link": "https://stackoverflow.com/users/1945764/luca-damico"}, "edited": false, "score": 0, "creation_date": 1556102401, "post_id": 55828070, "comment_id": 98320843, "body": "So using a timer is really the only solution? :/"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 2886, "user_id": 1945764, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3cad90f7bbc93c63e13d01dc5fb19e73?s=128&d=identicon&r=PG", "display_name": "Luca D&#39;Amico", "link": "https://stackoverflow.com/users/1945764/luca-damico"}, "edited": false, "score": 0, "creation_date": 1556102656, "post_id": 55828070, "comment_id": 98320983, "body": "@LucaD&#39;Amico Somewhere some task has got to happen so that angular will get to know that it has to perform change detection. Maybe a timer in the service itself, once the timer will run, angular will check the bindings in the view. You said your <code>getCurrentTime()</code> and <code>getProgress()</code> were getting called randomly when you were clicking over the screen. This happens because angular does change detection on browser events like &quot;input&quot;, &quot;button click&quot;, etc."}, {"owner": {"reputation": 2886, "user_id": 1945764, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3cad90f7bbc93c63e13d01dc5fb19e73?s=128&d=identicon&r=PG", "display_name": "Luca D&#39;Amico", "link": "https://stackoverflow.com/users/1945764/luca-damico"}, "edited": false, "score": 1, "creation_date": 1556102783, "post_id": 55828070, "comment_id": 98321049, "body": "Okay I was hoping to avoid using a timer, but well, if that&#39;s the only solution... I&#39;m going to try to implement it, and I&#39;ll let you know (I&#39;ll accept your answer then). Thanks."}], "tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": true, "score": 1, "last_activity_date": 1556103242, "last_edit_date": 1556103242, "creation_date": 1556102237, "answer_id": 55828070, "question_id": 55827933, "link": "https://stackoverflow.com/questions/55827933/angular7-problem-in-refreshing-a-seekbar-input-range-using-a-function/55828070#55828070", "title": "Angular7 - Problem in refreshing a seekbar (input range) using a function", "body": "<p>Make getter/setter for <code>currentTime</code> and <code>progress</code>.</p>\n\n<pre><code>get currentTime() {\n    return this._currentTime;\n}\n\nget progress() {\n    return this._progress;\n}\n\nset currentTime(val) {\n    this._currentTime = val\n}\n\nset progress() {\n    this.progress = val\n}\n</code></pre>\n\n<p>When you start your player, say in <code>ngOnInit()</code>, keep updating these variables in a <code>timer()</code></p>\n\n<pre><code>&lt;div class=\"track-controller\"&gt;\n  &lt;small&gt;{{currentTime}}&lt;/small&gt;\n    &lt;div class=\"progress-wrap\"&gt;\n      &lt;input type=\"range\" class=\"progress\" [value]=\"currentTime\" min=\"0\" max=\"100\" step=\"1\"\n                  #duration (input)=\"musicPlayerService.setProgress(toNumber(duration.value)) \"&gt;\n      &lt;div class=\"progress-foreground\" [style.width.%] =\"progress\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n  &lt;small&gt;{{musicPlayerService.getTrackDuration()}}&lt;/small&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Say:</p>\n\n<pre><code>timerSub: Subscription;\nyourUpdateDuration = 1000;\nngOnInit() {\n    this.timerSub = timer(0, yourUpdateDuration).subscribe(() =&gt; {\n        this.currentTime = this.musicPlayerService.getCurrentTime();\n        this.progress = this.musicPlayerService.getProgress();\n    });\n}\n\nngOnDestroy() {\n    if (this.timerSub) {\n        this.timerSub.unsubscribe();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2886, "user_id": 1945764, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3cad90f7bbc93c63e13d01dc5fb19e73?s=128&d=identicon&r=PG", "display_name": "Luca D&#39;Amico", "link": "https://stackoverflow.com/users/1945764/luca-damico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55828070, "answer_count": 1, "score": 0, "last_activity_date": 1556103242, "creation_date": 1556101818, "last_edit_date": 1556102020, "question_id": 55827933, "link": "https://stackoverflow.com/questions/55827933/angular7-problem-in-refreshing-a-seekbar-input-range-using-a-function", "title": "Angular7 - Problem in refreshing a seekbar (input range) using a function", "body": "<p>I'm writing a music player using angular7, and this is the html code of my component:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div class=\"track-controller\"&gt;\n  &lt;small&gt;{{musicPlayerService.getCurrentTime()}}&lt;/small&gt;\n    &lt;div class=\"progress-wrap\"&gt;\n      &lt;input type=\"range\" class=\"progress\" [value]=\"musicPlayerService.getProgress()\" min=\"0\" max=\"100\" step=\"1\"\n                  #duration (input)=\"musicPlayerService.setProgress(toNumber(duration.value)) \"&gt;\n      &lt;div class=\"progress-foreground\" [style.width.%] =\"musicPlayerService.getProgress()\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n  &lt;small&gt;{{musicPlayerService.getTrackDuration()}}&lt;/small&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>As you can see I call 4 functions from my music player service, but in particular these 2 functions should be called continuously to update my seekbar:</p>\n\n<p><code>getCurrentTime():</code> this is used to get the track current time in seconds</p>\n\n<p><code>getProgress():</code> this is used to get the current track %, to update the seekbar</p>\n\n<p>The problem is that as far a I can see, these 2 functions are called only once (when my musicPlayerService start playing the track), and even more strange: everytime I click randomly on the page with my mouse or I move the mouse pointer on a link.</p>\n\n<p>Thanks for the help</p>\n"}, {"tags": ["angular", "typescript", "timeout", "coding-style", "observable"], "comments": [{"owner": {"reputation": 486, "user_id": 11357362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hBxy3H1v_sA/AAAAAAAAAAI/AAAAAAAAA0g/P2FbymBHWPg/photo.jpg?sz=128", "display_name": "ccamac", "link": "https://stackoverflow.com/users/11357362/ccamac"}, "edited": false, "score": 0, "creation_date": 1556104844, "post_id": 55827924, "comment_id": 98322319, "body": "I am sorry, but without your code, I&#39;m not really following what you are saying.  I think I can help, if you are willing to edit your question to include the relevant code samples."}, {"owner": {"reputation": 21, "user_id": 11404630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vACYnrj-IHs/AAAAAAAAAAI/AAAAAAAAAAc/D5nDD_Mpnto/photo.jpg?sz=128", "display_name": "Ckbriqs", "link": "https://stackoverflow.com/users/11404630/ckbriqs"}, "reply_to_user": {"reputation": 486, "user_id": 11357362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hBxy3H1v_sA/AAAAAAAAAAI/AAAAAAAAA0g/P2FbymBHWPg/photo.jpg?sz=128", "display_name": "ccamac", "link": "https://stackoverflow.com/users/11357362/ccamac"}, "edited": false, "score": 0, "creation_date": 1556186075, "post_id": 55827924, "comment_id": 98355120, "body": "ok brother, thanks for getting back, actually i have to check if i am able to share the code or not, well, i&#39;ll share if i am allowed from here."}], "owner": {"reputation": 21, "user_id": 11404630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vACYnrj-IHs/AAAAAAAAAAI/AAAAAAAAAAc/D5nDD_Mpnto/photo.jpg?sz=128", "display_name": "Ckbriqs", "link": "https://stackoverflow.com/users/11404630/ckbriqs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556104590, "creation_date": 1556101798, "last_edit_date": 1556104590, "question_id": 55827924, "link": "https://stackoverflow.com/questions/55827924/how-to-setup-dynamic-country-state-city-without-settimeout-in-crud-modules-in", "title": "How to setup dynamic country, state &amp; city without setTimeout In Crud Modules in Angular2+?", "body": "<p>Recently I created one CRUD, where along with all details I have 3 specific combos details that I want to let you know: Country, State &amp; City.</p>\n\n<p>While Edit, We want to show details/combos filled with data, so I achieved that with the help of setting timeouts &amp; when my manager saw that he told me that its good practice &amp; part of coding standard to not using timeouts,</p>\n\n<p>now I searched all over the web but I couldn't find any solution for that.\nIf anyone knows the way, please let me know here in answer.\nThanks in advance.</p>\n"}, {"tags": ["reactjs", "typescript", "svg"], "comments": [{"owner": {"reputation": 894, "user_id": 5743249, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-K9nPxZFYQbo/AAAAAAAAAAI/AAAAAAAAACQ/-vCcCKzgiMY/photo.jpg?sz=128", "display_name": "Hardik Chaudhary", "link": "https://stackoverflow.com/users/5743249/hardik-chaudhary"}, "edited": false, "score": 2, "creation_date": 1556107532, "post_id": 55827865, "comment_id": 98323925, "body": "use ref={this.node}"}], "answers": [{"tags": [], "owner": {"reputation": 656, "user_id": 3639633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JSIDP.jpg?s=128&g=1", "display_name": "wrager", "link": "https://stackoverflow.com/users/3639633/wrager"}, "is_accepted": true, "score": 1, "last_activity_date": 1556109314, "creation_date": 1556109314, "answer_id": 55830193, "question_id": 55827865, "link": "https://stackoverflow.com/questions/55827865/creating-svg-node-on-ref-with-typescript/55830193#55830193", "title": "creating svg node on ref with typescript?", "body": "<p>The <code>ref</code> attribute expects either <code>React.RefObject&lt;TElement&gt;</code>, or a callback <code>(TElement | null) =&gt; void</code>, or <code>null</code>.</p>\n\n<p>There are two ways to make your code work:</p>\n\n<ol>\n<li><p>Pass <code>this.node</code> to <code>ref</code> attribute:</p>\n\n<pre><code>    &lt;svg ref={this.node} width={500} height={500} /&gt;\n</code></pre></li>\n<li><p>Change the type of <code>this.ref</code> to <code>SVGSVGElement | null</code>:</p>\n\n<pre><code>    private ref: SVGSVGElement | null = null;\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 3549, "user_id": 5288560, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OJfXd.jpg?s=128&g=1", "display_name": "gpbaculio", "link": "https://stackoverflow.com/users/5288560/gpbaculio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1194, "favorite_count": 0, "accepted_answer_id": 55830193, "answer_count": 1, "score": 1, "last_activity_date": 1556109314, "creation_date": 1556101630, "question_id": 55827865, "link": "https://stackoverflow.com/questions/55827865/creating-svg-node-on-ref-with-typescript", "title": "creating svg node on ref with typescript?", "body": "<p>I am trying to create a ref on react+typescript:</p>\n\n<pre><code>class BarChart extends Component {\n  private node: React.RefObject&lt;SVGSVGElement | null&gt;;\n  constructor(props) {\n    super(props);\n    this.node = React.createRef();\n  }\n... \n}\n</code></pre>\n\n<p>this is the svg code i am trying to refer: </p>\n\n<pre><code>&lt;svg ref={node =&gt; (this.node = node)} width={500} height={500} /&gt;\n</code></pre>\n\n<p>but i get this error:</p>\n\n<pre><code>Type 'SVGSVGElement | null' is not assignable to type 'RefObject&lt;SVGSVGElement | null&gt;'.\n  Type 'null' is not assignable to type 'RefObject&lt;SVGSVGElement | null&gt;'.\n</code></pre>\n\n<p>help? i am new in ts</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1556106678, "post_id": 55827730, "comment_id": 98323446, "body": "This is a <a href=\"https://stackoverflow.com/questions/30750207/is-this-a-deferred-antipattern\">deferred Anti-pattern</a>. Remove the anti-pattern before going any further."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2336704"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1556107362, "post_id": 55827730, "comment_id": 98323829, "body": "Removing the deferred object doesn&#39;t remove the error though"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2336704"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1556108184, "post_id": 55827730, "comment_id": 98324327, "body": "Returning the http object returns a promise, yes. But then it just passes the problem to the caller of EmailQuote. I just want to return a string type from this, instead of type any."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2336704"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1556108548, "post_id": 55827730, "comment_id": 98324527, "body": "I thought the point of typescript was to work with real types. That answer that is pasted here is saying just get a response.data, may as well be javascript."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2336704"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1556109688, "post_id": 55827730, "comment_id": 98325239, "body": "I suppose you can just cast response.data? here it&#39;s just a string but for more complex objects it could be useful"}], "owner": {"user_type": "does_not_exist", "display_name": "user2336704"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "closed_date": 1556106704, "answer_count": 0, "score": 0, "last_activity_date": 1556106456, "creation_date": 1556101195, "last_edit_date": 1556106456, "question_id": 55827730, "link": "https://stackoverflow.com/questions/55827730/type-ihttppromisecallbackarg-is-not-assignable-to-type-string", "closed_reason": "Duplicate", "title": "Type IHttpPromiseCallbackArg&lt;{}&gt; is not assignable to type &#39;string&#39;", "body": "<p>I have this method in angular js. I had to update success to then because of change in version but now I get the mentioned error. I am using typings 6.5.6 taken from nuget, and typescript version 2.6 according to the project properties in Visual Studio.</p>\n\n<p>This is my method. The error is in the 'then' part. It doesn't like the data being type string. </p>\n\n<p>I have looked at \n<a href=\"https://stackoverflow.com/questions/47937374/ihttppromise-incorrectly-extends-ipromise-with-typescript-2-5\">IHttpPromise incorrectly extends IPromise with TypeScript 2.5</a>\nBut IHttpPromise and IHttpResponse are not available to me, so are my typings version the issue?</p>\n\n<pre><code>  EmailQuote(quoteRef: string, password: string,testAddress:string,putintTAM:boolean): ng.IPromise&lt;string&gt; {\n\n        var defer = this.q.defer&lt;string&gt;();\n        this.rootScope.loading = true;           \n\n        this.http({\n            url: \"api/quoteEngine/emailQuote?quoteRef=\" + quoteRef + \"&amp;password=\" + password + \"&amp;testAddress=\" + testAddress + \"&amp;putinTam=\" + putintTAM,\n            method: \"POST\"                \n        })\n            .then((data: string) =&gt; {\n                this.rootScope.loading = false;\n                defer.resolve(data);\n            })\n            .catch((reason: any) =&gt; {\n                this.rootScope.loading = false;\n                this.ShowError(reason.data.message);\n                defer.reject(reason.data);\n            });\n\n        return defer.promise;\n    }\n</code></pre>\n"}, {"tags": ["typescript", "amazon-cognito"], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 9469015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbyMw.jpg?s=128&g=1", "display_name": "sum91", "link": "https://stackoverflow.com/users/9469015/sum91"}, "edited": false, "score": 1, "creation_date": 1556102791, "post_id": 55827860, "comment_id": 98321055, "body": "Thanks, I guess they need to add it in their API. My code had a functionality to edit this, but in vain"}, {"owner": {"reputation": 1613, "user_id": 5013336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d627dbf935d8dcb71c8eff8a223e97cc?s=128&d=identicon&r=PG", "display_name": "Arka Mukherjee", "link": "https://stackoverflow.com/users/5013336/arka-mukherjee"}, "reply_to_user": {"reputation": 185, "user_id": 9469015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbyMw.jpg?s=128&g=1", "display_name": "sum91", "link": "https://stackoverflow.com/users/9469015/sum91"}, "edited": false, "score": 1, "creation_date": 1556103700, "post_id": 55827860, "comment_id": 98321561, "body": "@sum91 You could contact AWS Support, and they could make a feature request to the development team regarding this."}], "tags": [], "owner": {"reputation": 1613, "user_id": 5013336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d627dbf935d8dcb71c8eff8a223e97cc?s=128&d=identicon&r=PG", "display_name": "Arka Mukherjee", "link": "https://stackoverflow.com/users/5013336/arka-mukherjee"}, "is_accepted": true, "score": 8, "last_activity_date": 1556101611, "creation_date": 1556101611, "answer_id": 55827860, "question_id": 55827689, "link": "https://stackoverflow.com/questions/55827689/aws-cognito-is-it-possible-to-edit-the-user-pool-name-after-creating-the-user-p/55827860#55827860", "title": "AWS-Cognito: Is it possible to edit the User Pool name after creating the User Pool?", "body": "<p>Unfortunately, it is not possible to change the User Pool name in Amazon Cognito with the existing APIs. <a href=\"https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_UpdateUserPool.html\" rel=\"noreferrer\">UpdateUserPool</a> allows a bunch of configurational changes, but it does not allow developers to modify the Pool Name. </p>\n"}], "owner": {"reputation": 185, "user_id": 9469015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbyMw.jpg?s=128&g=1", "display_name": "sum91", "link": "https://stackoverflow.com/users/9469015/sum91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 0, "accepted_answer_id": 55827860, "answer_count": 1, "score": 8, "last_activity_date": 1556103450, "creation_date": 1556101056, "last_edit_date": 1556103450, "question_id": 55827689, "link": "https://stackoverflow.com/questions/55827689/aws-cognito-is-it-possible-to-edit-the-user-pool-name-after-creating-the-user-p", "title": "AWS-Cognito: Is it possible to edit the User Pool name after creating the User Pool?", "body": "<p>I m trying to update User Pool name and User attributes in AWS-Cognito through my code. \nI could find the information on updating user attributes, but could not find anything on updating pool name. Any information on this?</p>\n"}, {"tags": ["javascript", "typescript", "types", "index-signature"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 2, "creation_date": 1556101199, "post_id": 55827624, "comment_id": 98320149, "body": "Are you really accessing <code>foo</code> like <code>foo[&#39;c&#39;]</code>? Or is it really <code>foo[someVar]</code> where <code>someVar</code> comes from outside your code and could be any string? (If the former, why not <code>foo.c</code>, which would work [e.g., cause an error] with the type <code>{ a: any, b: any }</code>?) (If the latter, I don&#39;t think TypeScript can help, but I&#39;ve been wrong about that before... :-) )"}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1556101269, "post_id": 55827624, "comment_id": 98320191, "body": "The way you&#39;re assigning using bracket notation won&#39;t ever throw an error"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556101293, "post_id": 55827624, "comment_id": 98320206, "body": "This will throw an error if you have <code>noImplictAny</code> turned on"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1556101321, "post_id": 55827624, "comment_id": 98320223, "body": "@CertainPerformance <code>[]</code> is checked and will give errors with <code>noImplictAny</code>"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556101620, "post_id": 55827624, "comment_id": 98320395, "body": "@TitianCernicova-Dragomir - You have an amazingly consistent typo when you type that flag name. :-) Twice here, once in the linked question&#39;s answer..."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1556101861, "post_id": 55827624, "comment_id": 98320541, "body": "@T.J.Crowder yeah for some reason my fingers refuse to write that one right, I&#39;ll correct it in the answer, 10x :) (Oh you beat me to it, double thank you :)"}, {"owner": {"reputation": 179, "user_id": 478776, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e6bf73312828b06a338ac37415cae283?s=128&d=identicon&r=PG", "display_name": "KayO", "link": "https://stackoverflow.com/users/478776/kayo"}, "edited": false, "score": 0, "creation_date": 1556102509, "post_id": 55827624, "comment_id": 98320900, "body": "I&#39;m actually passing in a variable that contains the key, so I guess Typescript can&#39;t help me here since the value is determined at runtime. &quot;noImplicitAny&quot; works for the code example above tough, thanks!"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1556102872, "post_id": 55827624, "comment_id": 98321100, "body": "@TitianCernicova-Dragomir - The OP has updated the question. I suspect TypeScript can&#39;t help, but as I say above, I&#39;ve been wrong before... :-)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1556103137, "post_id": 55827624, "comment_id": 98321253, "body": "@T.J.Crowder If <code>let someDynamicKey: string;</code> then under <code>noImplicitAny</code> ts will not let you use it as an index to <code>foo</code> so you will still get an error.. If the <code>let someDynamicKey: &#39;a&#39; | &#39;b&#39;;</code> then the access is valid as far as TS is concerned.."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556103226, "post_id": 55827624, "comment_id": 98321307, "body": "@TitianCernicova-Dragomir - Yeah, the key thing in my comment above is &quot;...from outside your code...&quot; (e.g., if all the OP knows at compile-time is <code>string</code>). He/she didn&#39;t actually say that above, but I suspect that&#39;s the case."}], "owner": {"reputation": 179, "user_id": 478776, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e6bf73312828b06a338ac37415cae283?s=128&d=identicon&r=PG", "display_name": "KayO", "link": "https://stackoverflow.com/users/478776/kayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1556101389, "answer_count": 0, "score": 0, "last_activity_date": 1556102963, "creation_date": 1556100840, "last_edit_date": 1556102963, "question_id": 55827624, "link": "https://stackoverflow.com/questions/55827624/how-to-restrict-keys-of-typescript-index-signatures", "closed_reason": "Duplicate", "title": "How to restrict keys of Typescript index signatures", "body": "<p>I have an object literal that maps key-value pairs. Is it possible to restrict the index signature key to a range of <strong>pre-defined</strong> values? </p>\n\n<p>I tried the following but no error gets thrown when using the unspecified key \"c\":</p>\n\n<pre><code>let foo: { [key in 'a' | 'b']: any };\n\nfoo['c']; // no error\n</code></pre>\n\n<p><strong>Updated:</strong></p>\n\n<p>The example above <strong>will</strong> throw an error when using \"noImplicitAny\" (see comments below).</p>\n\n<p>In my code I'm actually using a variable instead of a hard coded value, so (I guess) Typescript can't know in advance if given value is allowed or not:</p>\n\n<pre><code>let foo: { [key in 'a' | 'b']: any };\n\nfoo[someDynamicKey]; // no error\n</code></pre>\n"}, {"tags": ["angular", "typescript", "datagrid", "lookup", "devextreme"], "comments": [{"owner": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "edited": false, "score": 0, "creation_date": 1556101552, "post_id": 55827566, "comment_id": 98320349, "body": "Have you looked at this: <a href=\"https://js.devexpress.com/Documentation/Guide/Widgets/TreeList/Columns/Column_Types/Lookup_Columns/\" rel=\"nofollow noreferrer\">js.devexpress.com/Documentation/Guide/Widgets/TreeList/Colum&zwnj;&#8203;ns/&hellip;</a>"}, {"owner": {"reputation": 61, "user_id": 10954925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9BaoGruhZTw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaBeMExulQuqldM0l06BdZMM-Huhg/mo/photo.jpg?sz=128", "display_name": "A. Nurul Istiqamah", "link": "https://stackoverflow.com/users/10954925/a-nurul-istiqamah"}, "reply_to_user": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "edited": false, "score": 0, "creation_date": 1556112438, "post_id": 55827566, "comment_id": 98327082, "body": "@Jojofoulk i&#39;ve tried it. but still not working"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 10954925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9BaoGruhZTw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaBeMExulQuqldM0l06BdZMM-Huhg/mo/photo.jpg?sz=128", "display_name": "A. Nurul Istiqamah", "link": "https://stackoverflow.com/users/10954925/a-nurul-istiqamah"}, "is_accepted": true, "score": 0, "last_activity_date": 1556851200, "creation_date": 1556851200, "answer_id": 55962628, "question_id": 55827566, "link": "https://stackoverflow.com/questions/55827566/why-my-column-not-show-anything-when-i-add-dx-lookup/55962628#55962628", "title": "Why my column not show anything when I add dx-lookup", "body": "<p>I was typo. \"Pengeluaran\" should be \"pengeluaran\" and \"Pemasukan\" should be \"pemasukan\"</p>\n\n<pre><code>let types: Type[] = [\n  {\n    \"ID\": \"pemasukan\",\n    \"Name\": \"Pemasukan\"\n  }, {\n    \"ID\": \"pengeluaran\",\n    \"Name\": \"Pengeluaran\"\n  }\n]\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10954925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9BaoGruhZTw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaBeMExulQuqldM0l06BdZMM-Huhg/mo/photo.jpg?sz=128", "display_name": "A. Nurul Istiqamah", "link": "https://stackoverflow.com/users/10954925/a-nurul-istiqamah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "accepted_answer_id": 55962628, "answer_count": 1, "score": 1, "last_activity_date": 1557049702, "creation_date": 1556100668, "last_edit_date": 1557049702, "question_id": 55827566, "link": "https://stackoverflow.com/questions/55827566/why-my-column-not-show-anything-when-i-add-dx-lookup", "title": "Why my column not show anything when I add dx-lookup", "body": "<p>Why my column not show anything when I add dxo-lookup</p>\n\n<pre><code>&lt;dxi-column dataField=\"jenis\" caption=\"Jenis\"&gt;\n    &lt;dxo-lookup [dataSource]=\"types\" displayExpr=\"Name\" valueExpr=\"ID\"&gt;&lt;/dxo-lookup&gt;\n&lt;/dxi-column&gt;\n</code></pre>\n\n<p>I will custom the column content and this is my typescript</p>\n\n<pre><code>if (objectData['harga'] &gt;= 0) {\n    objectData['jenis'] = \"Pemasukan\";\n} else {\n    objectData['jenis'] = \"Pengeluaran\";\n}\n</code></pre>\n\n<p>When I delete dxo-lookup, table is filled. But I need dxo-lookup to make SelectBox in data grid form. Literally all i ask is how to fill the column with custom content and but still use select box in form</p>\n"}, {"tags": ["angular", "html", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2231, "user_id": 6821441, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xXEmx.jpg?s=128&g=1", "display_name": "Abhishek Ekaanth", "link": "https://stackoverflow.com/users/6821441/abhishek-ekaanth"}, "is_accepted": true, "score": 0, "last_activity_date": 1556100870, "creation_date": 1556100870, "answer_id": 55827635, "question_id": 55827449, "link": "https://stackoverflow.com/questions/55827449/error-typeerror-cant-assign-to-property-validator-on-signupform-not-an-o/55827635#55827635", "title": "ERROR TypeError: &quot;can&#39;t assign to property &quot;validator&quot; on &quot;signUpForm&quot;: not an object&quot;", "body": "<p>Your HTML should look like </p>\n\n<p>try this:</p>\n\n<pre><code>&lt;html&gt;\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-sm-8 col-sm-offset-2\"&gt;\n    &lt;h2&gt;Create an account&lt;/h2&gt;\n    &lt;form [formGroup]=\"signUpForm\" (ngSubmit)=\"onSubmit()\"&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"email\"&gt; Email &lt;/label&gt;\n        &lt;input type=\"text\" id=\"email\" class=\"form-control\"\n               formControlName=\"email\"&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"password\"&gt; Password &lt;/label&gt;\n        &lt;input type=\"password\" id=\"password\"\n               class=\"form-control\" formControlName=\"password\"&gt;\n      &lt;/div&gt;\n      &lt;button class=\"btn btn-primary\" type=\"submit\"\n              [disabled]=\"signUpForm.invalid\"&gt; Create account&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;p class=\"text-danger\"&gt;{{errorMessage}}&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "reply_to_user": {"reputation": 116, "user_id": 10836903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6d5f7115cb4d927b823c738c8713bde?s=128&d=identicon&r=PG&f=1", "display_name": "Youssef Khedher", "link": "https://stackoverflow.com/users/10836903/youssef-khedher"}, "edited": false, "score": 1, "creation_date": 1556101862, "post_id": 55827715, "comment_id": 98320542, "body": "@YoussefKhedher its pleasure to help you:)"}], "tags": [], "owner": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "is_accepted": false, "score": 0, "last_activity_date": 1556101145, "creation_date": 1556101145, "answer_id": 55827715, "question_id": 55827449, "link": "https://stackoverflow.com/questions/55827449/error-typeerror-cant-assign-to-property-validator-on-signupform-not-an-o/55827715#55827715", "title": "ERROR TypeError: &quot;can&#39;t assign to property &quot;validator&quot; on &quot;signUpForm&quot;: not an object&quot;", "body": "<p>You have to missed bind <code>FormGroup</code> that why error is occurs if you have to add this your code is good.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-sm-8 col-sm-offset-2\"&gt;\n    &lt;h2&gt;Create an account&lt;/h2&gt;\n    &lt;form [formGroup]=\"signUpForm\" (ngSubmit)=\"onSubmit()\"&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"email\"&gt; Email &lt;/label&gt;\n        &lt;input type=\"text\" id=\"email\" class=\"form-control\"\n               formControlName=\"email\"&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"password\"&gt; Password &lt;/label&gt;\n        &lt;input type=\"password\" id=\"password\"\n               class=\"form-control\" formControlName=\"password\"&gt;\n      &lt;/div&gt;\n      &lt;button class=\"btn btn-primary\" type=\"submit\"\n              [disabled]=\"signUpForm.invalid\"&gt; Create account&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;p class=\"text-danger\"&gt;{{errorMessage}}&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can also check on the link:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-buks6o?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-buks6o?file=src%2Fapp%2Fapp.component.ts</a></p>\n"}], "owner": {"reputation": 116, "user_id": 10836903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6d5f7115cb4d927b823c738c8713bde?s=128&d=identicon&r=PG&f=1", "display_name": "Youssef Khedher", "link": "https://stackoverflow.com/users/10836903/youssef-khedher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 55827635, "answer_count": 2, "score": 1, "last_activity_date": 1556101145, "creation_date": 1556100290, "question_id": 55827449, "link": "https://stackoverflow.com/questions/55827449/error-typeerror-cant-assign-to-property-validator-on-signupform-not-an-o", "title": "ERROR TypeError: &quot;can&#39;t assign to property &quot;validator&quot; on &quot;signUpForm&quot;: not an object&quot;", "body": "<p>ERROR TypeError: \"can't assign to property \"validator\" on \"sign Up Form\": not an object\"</p>\n\n<p>I tried all the solution answered in the same question but didn't work.\n<a href=\"https://stackoverflow.com/questions/53239335/cant-assign-to-property-validator-on-formcontrolanimalselect-not-an-objec\">&quot;can&#39;t assign to property &quot;validator&quot; on &quot;formControlAnimalSelect&quot;: not an object&quot; Angular Typescript</a></p>\n\n<p>I also checked the link between the FormGroup in my TypeScript code and the form element in my HTML, it's correct.</p>\n\n<pre><code> //typescript\nimport { Component, OnInit } from '@angular/core';\n  import {FormBuilder, FormGroup, Validators} from '@angular/forms';\n  import {AuthService} from '../../services/auth.service';\n  import {Router} from '@angular/router';\n\n  @Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.scss']\n})\nexport class SignupComponent implements OnInit {\n\n  signUpForm: FormGroup;\n  errorMessage: string;\n\n  constructor(private formBuilder: FormBuilder,\n              private authService: AuthService,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.initForm();\n  }\n\n  initForm() {\n    this.signUpForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.pattern\n      (/[0-9a-zA-Z]{6,}/)]]\n    });\n  }\n\n  onSubmit() {\n    const email = this.signUpForm.get('email').value;\n    const password = this.signUpForm.get('password').value;\n    this.authService.createNewUser(email, password).then(\n      () =&gt; {\n        this.router.navigate(['/books']);\n      },\n    (error) =&gt; {\n      this.errorMessage = error;\n    }\n\n    );\n  }\n\n\n}\n</code></pre>\n\n<pre><code>&lt;html&gt;\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-sm-8 col-sm-offset-2\"&gt;\n    &lt;h2&gt;Create an account&lt;/h2&gt;\n    &lt;form formGroup=\"signUpForm\" (ngSubmit)=\"onSubmit()\"&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"email\"&gt; Email &lt;/label&gt;\n        &lt;input type=\"text\" id=\"email\" class=\"form-control\"\n               formControlName=\"email\"&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"password\"&gt; Password &lt;/label&gt;\n        &lt;input type=\"password\" id=\"password\"\n               class=\"form-control\" formControlName=\"password\"&gt;\n      &lt;/div&gt;\n      &lt;button class=\"btn btn-primary\" type=\"submit\"\n              [disabled]=\"signUpForm.invalid\"&gt; Create account&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;p class=\"text-danger\"&gt;{{errorMessage}}&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic-framework", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556100146, "post_id": 55827247, "comment_id": 98319556, "body": "Angular Fire uses <code>Observables</code>. Try <code>this.afDB.object(&#39;&#47;toc-list&#47;&#39; + this.toc_id).valueChanges()</code> and check out this: <a href=\"https://github.com/angular/angularfire2/blob/master/docs/rtdb/objects.md#create-an-object-binding\" rel=\"nofollow noreferrer\">github.com/angular/angularfire2/blob/master/docs/rtdb/&hellip;</a>."}, {"owner": {"reputation": 47, "user_id": 8853694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cId5U.jpg?s=128&g=1", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/8853694/sofiane"}, "reply_to_user": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556100319, "post_id": 55827247, "comment_id": 98319652, "body": "@DaniR it returned an Observable object, but it is not the object that I am looking for, it has returned this :  Observable {_isScalar: false, source: Observable, operator: MapOperator} operator: MapOperator {project: \u0192, thisArg: undefined} source: Observable {_isScalar: false, source: Observable, operator: RefCountOperator} _isScalar: false <b>proto</b>: Object"}, {"owner": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556100490, "post_id": 55827247, "comment_id": 98319777, "body": "Can you provide more code to see what you are doing with the result?"}, {"owner": {"reputation": 47, "user_id": 8853694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cId5U.jpg?s=128&g=1", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/8853694/sofiane"}, "reply_to_user": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556100964, "post_id": 55827247, "comment_id": 98320010, "body": "@DaniR yes I edited the post"}, {"owner": {"reputation": 47, "user_id": 8853694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cId5U.jpg?s=128&g=1", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/8853694/sofiane"}, "reply_to_user": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556101299, "post_id": 55827247, "comment_id": 98320212, "body": "@DaniR I have also updated the picture of the database, I want to display the fields : degre, detail, heure... ect"}, {"owner": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556104830, "post_id": 55827247, "comment_id": 98322310, "body": "Try in your constructor <code>this.afDB.object(&#39;&#47;toc-list&#47;&#39; + this.toc_id).valueChanges().subscribe(res =&gt; console.log(res))</code>. Observables are async and you have to wait for a result."}, {"owner": {"reputation": 47, "user_id": 8853694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cId5U.jpg?s=128&g=1", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/8853694/sofiane"}, "reply_to_user": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556105872, "post_id": 55827247, "comment_id": 98322957, "body": "@DaniR it worked, thank you"}, {"owner": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "edited": false, "score": 0, "creation_date": 1556106249, "post_id": 55827247, "comment_id": 98323187, "body": "You are welcome. Don&#39;t forget to unsubscribe after the view was destroyed. I will create an answer and would be glad about an upvote."}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 5888214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef01cb1dd662194f599d83d66668dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Dani R", "link": "https://stackoverflow.com/users/5888214/dani-r"}, "is_accepted": true, "score": 2, "last_activity_date": 1556106533, "creation_date": 1556106533, "answer_id": 55829378, "question_id": 55827247, "link": "https://stackoverflow.com/questions/55827247/how-to-get-object-from-database-using-its-key/55829378#55829378", "title": "How to get Object from database using it&#39;s Key?", "body": "<p>Observable are async and you have to subscribe on it. Try:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport firebase from 'firebase';\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n\n@IonicPage()\n@Component({\n  selector: 'page-confrontation-1',\n  templateUrl: 'confrontation-1.html',\n})\nexport class Confrontation_1Page {\n\n  toc_id : string;\n  public toc: Array&lt;any&gt; = [];\n  public tocRef: firebase.database.Reference = firebase.database().ref('/toc-list');\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public afDB: AngularFireDatabase) {\n    this.toc_id = navParams.get('tocId');\n    this.afDB.object('/toc-list/' + this.toc_id).valueChanges().subscribe(res =&gt; console.log(res))\n  }\n\n  ionViewDidLeave() {\n    this.afDB.object('/toc-list/' + this.toc_id).valueChanges().unsubscribe();\n  }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 8853694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cId5U.jpg?s=128&g=1", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/8853694/sofiane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 55829378, "answer_count": 1, "score": 0, "last_activity_date": 1556114254, "creation_date": 1556099598, "last_edit_date": 1556114254, "question_id": 55827247, "link": "https://stackoverflow.com/questions/55827247/how-to-get-object-from-database-using-its-key", "title": "How to get Object from database using it&#39;s Key?", "body": "<p>I want to get an Object from database using it's key, but it is not working.</p>\n\n<p>Here is my database : </p>\n\n<p><a href=\"https://i.stack.imgur.com/kZrq4.png\" rel=\"nofollow noreferrer\">DATABASE</a></p>\n\n<p>DATABASE:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>...\r\n - toc-list\r\n           |___ id1 (generated by firebase)\r\n                  |___ field1\r\n                  |___ field2\r\n\r\n           |___ id2 (generated by firebase)\r\n                  |___ field1\r\n                  |___ field2\r\n\r\n           |___ id3 (generated by firebase)\r\n                  |___ field1\r\n                  |___ field2</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I am trying to get an Object from toc-list by using the id1 \"-Ld6AAdHn6JBYcrh29Xz\"</p>\n\n<p>I have tried to get it like this, but it is not working :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport firebase from 'firebase';\r\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-confrontation-1',\r\n  templateUrl: 'confrontation-1.html',\r\n})\r\nexport class Confrontation_1Page {\r\n\r\n  toc_id : string;\r\n  public toc: Array&lt;any&gt; = [];\r\n  public tocRef: firebase.database.Reference = firebase.database().ref('/toc-list');\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public afDB: AngularFireDatabase) {\r\n    this.toc_id = navParams.get('tocId');\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad Confrontation_1Page');\r\n\r\n    // I want to show the details of the element that has the id : toc_id\r\n    console.log(this.afDB.object('/toc-list/' + this.toc_id));\r\n\r\n  }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556099407, "post_id": 55827112, "comment_id": 98319147, "body": "Thanks but it&#39;s still wrong with &quot;Cannot read property &#39;push&#39; of undefined&quot;"}, {"owner": {"reputation": 1572, "user_id": 6713046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/937a8a82943267be635fa90393bf47a9?s=128&d=identicon&r=PG&f=1", "display_name": "porgo", "link": "https://stackoverflow.com/users/6713046/porgo"}, "reply_to_user": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556099509, "post_id": 55827112, "comment_id": 98319205, "body": "@KevinLee add <code>heroes: Hero[] = [];</code> :)"}, {"owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "edited": false, "score": 0, "creation_date": 1556099518, "post_id": 55827112, "comment_id": 98319214, "body": "then intialise the heroes with an empty array"}], "tags": [], "owner": {"reputation": 1572, "user_id": 6713046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/937a8a82943267be635fa90393bf47a9?s=128&d=identicon&r=PG&f=1", "display_name": "porgo", "link": "https://stackoverflow.com/users/6713046/porgo"}, "is_accepted": false, "score": 0, "last_activity_date": 1556099678, "last_edit_date": 1556099678, "creation_date": 1556099171, "answer_id": 55827112, "question_id": 55827094, "link": "https://stackoverflow.com/questions/55827094/argument-of-type-string-is-not-assignable-to-parameter-of-type-customize-type/55827112#55827112", "title": "Argument of type &#39;string&#39; is not assignable to parameter of type &#39;customize type&#39;", "body": "<pre><code>this.heroes.push({id: 1, name: heroname});\n</code></pre>\n\n<p>You should also initialise <code>heroes</code> array:</p>\n\n<pre><code>heroes: Hero[] = [];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556099527, "post_id": 55827200, "comment_id": 98319218, "body": "Thanks but it&#39;s still wrong with &quot;Cannot read property &#39;push&#39; of undefined&quot;"}, {"owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "reply_to_user": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556099609, "post_id": 55827200, "comment_id": 98319259, "body": "can u get with stackblitz;"}, {"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 0, "creation_date": 1556099985, "post_id": 55827200, "comment_id": 98319472, "body": "You need to initialize your array to <code>[]</code> or it will be <code>undefined</code>."}, {"owner": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556100069, "post_id": 55827200, "comment_id": 98319513, "body": "haven&#39;t used that before, but I know the problem now. Thanks"}], "tags": [], "owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "is_accepted": false, "score": 0, "last_activity_date": 1556099999, "last_edit_date": 1556099999, "creation_date": 1556099458, "answer_id": 55827200, "question_id": 55827094, "link": "https://stackoverflow.com/questions/55827094/argument-of-type-string-is-not-assignable-to-parameter-of-type-customize-type/55827200#55827200", "title": "Argument of type &#39;string&#39; is not assignable to parameter of type &#39;customize type&#39;", "body": "<p>change it into <strong>interface</strong> </p>\n\n<pre><code> export interface hero \n{\n\nid:number;\nname:string;\n}\n</code></pre>\n\n<p>As u used HERO[] type interface for ur variable heros;\nit will be accepting a object with combination of id and name;</p>\n\n<p>so u should push \nthis.heroes.push({id:1,name:heroname})</p>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 8545565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7fcc0242b8289f9fcdcfc680f9e1191?s=128&d=identicon&r=PG&f=1", "display_name": "Taher", "link": "https://stackoverflow.com/users/8545565/taher"}, "reply_to_user": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556100038, "post_id": 55827254, "comment_id": 98319500, "body": "Glad to help :) kann you accept it as answer please? :)"}, {"owner": {"reputation": 178, "user_id": 8545565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7fcc0242b8289f9fcdcfc680f9e1191?s=128&d=identicon&r=PG&f=1", "display_name": "Taher", "link": "https://stackoverflow.com/users/8545565/taher"}, "reply_to_user": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556522250, "post_id": 55827254, "comment_id": 98453264, "body": "It does mean that you accepted my answer :) somebody has down rated my answer for some reason, which I don&#39;t understand :/"}, {"owner": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "edited": false, "score": 0, "creation_date": 1556589635, "post_id": 55827254, "comment_id": 98480511, "body": "I think that&#39;s my problem... too simple problem to learn things but wasting their time haha ~"}], "tags": [], "owner": {"reputation": 178, "user_id": 8545565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7fcc0242b8289f9fcdcfc680f9e1191?s=128&d=identicon&r=PG&f=1", "display_name": "Taher", "link": "https://stackoverflow.com/users/8545565/taher"}, "is_accepted": true, "score": 0, "last_activity_date": 1556099607, "creation_date": 1556099607, "answer_id": 55827254, "question_id": 55827094, "link": "https://stackoverflow.com/questions/55827094/argument-of-type-string-is-not-assignable-to-parameter-of-type-customize-type/55827254#55827254", "title": "Argument of type &#39;string&#39; is not assignable to parameter of type &#39;customize type&#39;", "body": "<p>you can push into <code>heroes</code> array just <code>hero</code> objects.</p>\n\n<p>hero object should look like this <code>{id: 1, name: 'heroName'})</code></p>\n\n<p>And you should initialize a value for the array like this:</p>\n\n<pre><code>  heroes: Hero[] = [];\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11404290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRwAXU3ukEE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdX6np1UGfJg0S-GN4JEYc1T12gNA/mo/photo.jpg?sz=128", "display_name": "Kevin Lee", "link": "https://stackoverflow.com/users/11404290/kevin-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1646, "favorite_count": 0, "accepted_answer_id": 55827254, "answer_count": 3, "score": 0, "last_activity_date": 1556101462, "creation_date": 1556099100, "last_edit_date": 1556101462, "question_id": 55827094, "link": "https://stackoverflow.com/questions/55827094/argument-of-type-string-is-not-assignable-to-parameter-of-type-customize-type", "title": "Argument of type &#39;string&#39; is not assignable to parameter of type &#39;customize type&#39;", "body": "<p>I'm now learning angular with Angular official website's tutorial.</p>\n\n<p>I don't know how to add string variable into Hero[](which is my customize type)</p>\n\n<p><strong>heroes.component.ts</strong>  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Hero } from '../hero';\n\nheroes: Hero[];\n\ntest(heroname: string) {\n    // this.heroes.id = 1;\n    if (heroname) {\n        console.log(heroname);\n        this.heroes.push(heroname);\n    }\n}\n</code></pre>\n\n<p><strong>heroes.component.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form&gt;\n    &lt;label&gt;name:\n    &lt;input #hero placeholder=\"name\"&gt;\n  &lt;/label&gt;\n  &lt;button (click)=\"test(hero.value); hero.value=''\" &gt;test&lt;/button&gt;\n  &lt;label *ngFor =\"let heroh of heroes\"&gt;\n      &lt;p&gt;hero: {{heroh}}&lt;/p&gt;\n  &lt;/label&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>hero.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Hero {\n  id: number;\n  name: string;\n}\n\n</code></pre>\n\n<p>Any help will be highly appreciated.</p>\n"}, {"tags": ["angular", "typescript", "routing", "routerlink"], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "reply_to_user": {"reputation": 717, "user_id": 8086276, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d390934ccdb41c44fa69018ae8c8ab77?s=128&d=identicon&r=PG&f=1", "display_name": "Mellville", "link": "https://stackoverflow.com/users/8086276/mellville"}, "edited": false, "score": 0, "creation_date": 1556099565, "post_id": 55827063, "comment_id": 98319240, "body": "if it worked then it will be great if u  accept the answer  thank You!"}], "tags": [], "owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "is_accepted": true, "score": 2, "last_activity_date": 1556099026, "creation_date": 1556099026, "answer_id": 55827063, "question_id": 55826966, "link": "https://stackoverflow.com/questions/55826966/angular-dynamic-path-routing-issue/55827063#55827063", "title": "Angular: Dynamic path Routing issue", "body": "<p>there is syntactical error\n the  dynamic path  should be like path/:id\n give it a try </p>\n\n<pre><code>  const appRoutes: Routes = [\n       //etc\n        { \n            path: 'home',\n            component: HomeComponent,\n            canActivate: [AuthGuard]\n        },\n        {\n            path: 'offer-detail/:id',\n            component: OfferDetailComponent\n        },\n\n        { \n            path: '**',\n            redirectTo: '/'\n        },\n\n    ];\n\n    @NgModule({\n        imports: [RouterModule.forRoot(appRoutes, { preloadingStrategy: PreloadAllModules })],\n        exports: [RouterModule]\n    })\n    export class AppRoutingModule {\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 8086276, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d390934ccdb41c44fa69018ae8c8ab77?s=128&d=identicon&r=PG&f=1", "display_name": "Mellville", "link": "https://stackoverflow.com/users/8086276/mellville"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55827063, "answer_count": 1, "score": 0, "last_activity_date": 1556102220, "creation_date": 1556098731, "last_edit_date": 1556102220, "question_id": 55826966, "link": "https://stackoverflow.com/questions/55826966/angular-dynamic-path-routing-issue", "title": "Angular: Dynamic path Routing issue", "body": "<p>Im trying to navigate to a detailed component based on a click inside a NgFor. But the app navigates to home page, like the router wouldn't exist</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"campaigns\"&gt;\n  &lt;div class=\"campaign\" style=\"width:50%\" *ngFor=\"let campaign of campaignList;\"&gt;\n    &lt;a [routerLink]=\"['/offer-detail',campaign.id]\" routerLinkActive=\"active\"&gt;\n      &lt;p&gt;\n        &lt;span&gt;{{campaign.value}}{{campaign.symbol}}&lt;/span&gt;\n      &lt;/p&gt;\n      &lt;div class=\"logo\"&gt;\n        &lt;img src='{{campaign.perk_logo}}'&gt;\n      &lt;/div&gt;\n    &lt;/a&gt;\n  &lt;/div&gt;\n\n  &lt;!-- &lt;div class=\"campaign\" *ngFor=\"let campaign of campaignList\"&gt;\n  &lt;mat-card &gt;\n\n  &lt;/mat-card&gt;\n  &lt;/div&gt; --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The Router.TS</p>\n\n<pre><code>const appRoutes: Routes = [\n   //etc\n    { \n        path: 'home',\n        component: HomeComponent,\n        canActivate: [AuthGuard]\n    },\n    {\n        path: 'offer-detail:/id',\n        component: OfferDetailComponent\n    },\n\n    { \n        path: '**',\n        redirectTo: '/'\n    },\n\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(appRoutes, { preloadingStrategy: PreloadAllModules })],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule {\n\n}\n</code></pre>\n\n<p>The Inspected Element</p>\n\n<pre><code>&lt;a _ngcontent-c9=\"\" routerlinkactive=\"active\" ng-reflect-router-link=\"/offer-detail,07704540-6052-11\" ng-reflect-router-link-active=\"active\" href=\"/offer-detail/07704540-6052-11e9-9cc3-f302dba8f944\"&gt;&lt;p _ngcontent-c9=\"\"&gt;&lt;span _ngcontent-c9=\"\"&gt;50%&lt;/span&gt;&lt;/p&gt;&lt;div _ngcontent-c9=\"\" class=\"logo\"&gt;&lt;img _ngcontent-c9=\"\" src=\"https://clube-newcore.s3.us-west-2.amazonaws.com/perks-logo/dOsrfguX7YogFB6k.png\"&gt;&lt;/div&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Can someone tell me what I'm doing wrong? Thank you</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular7", "routerlinkactive"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 8668810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471032fa8390580a509a1bdec93ab802?s=128&d=identicon&r=PG&f=1", "display_name": "H. Hakvoort", "link": "https://stackoverflow.com/users/8668810/h-hakvoort"}, "is_accepted": true, "score": 0, "last_activity_date": 1556103192, "creation_date": 1556103192, "answer_id": 55828391, "question_id": 55826853, "link": "https://stackoverflow.com/questions/55826853/mat-nav-list-always-an-item-focused/55828391#55828391", "title": "mat-nav-list always an item focused", "body": "<p>So I cheated a little and fixed my problem with using a dummy link right under \"mat-nav-list\"</p>\n\n<pre><code>  &lt;div class=\"hidden\"&gt;\n        &lt;a mat-list-item [routerLink]=\"['/profile']\"&gt;\n            &lt;h4 mat-line&gt;&lt;/h4&gt;\n        &lt;/a&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>And some css to hide it. I do not use display:none or visabilty: false (not sure if this is the correct one) because that way the dummy does not get renderend and the link Gebruikers(users) still is set to active-list-item. </p>\n\n<pre><code>.hidden{\n  height: 1px;\n  opacity: 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 8668810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471032fa8390580a509a1bdec93ab802?s=128&d=identicon&r=PG&f=1", "display_name": "H. Hakvoort", "link": "https://stackoverflow.com/users/8668810/h-hakvoort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1392, "favorite_count": 1, "accepted_answer_id": 55828391, "answer_count": 1, "score": 1, "last_activity_date": 1556103192, "creation_date": 1556098380, "question_id": 55826853, "link": "https://stackoverflow.com/questions/55826853/mat-nav-list-always-an-item-focused", "title": "mat-nav-list always an item focused", "body": "<p>I have a navigation menu. When I open it, the button/link Gebruikers(users) always behaves as an active-list-item, but it shouldn't. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Q5Nl8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5Nl8.png\" alt=\"navigation menu\"></a></p>\n\n<p>Here is my HTML it is in a mat-nav-list, the *ngf is checking if the user should be seeing the link. </p>\n\n<p>\n     </p>\n\n<pre><code>  &lt;a mat-list-item [routerLink]=\"['/availability']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAvailabilityButton | async\"&gt;\n    &lt;mat-icon mat-list-icon&gt;event_available&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Beschikbaarheid&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;a mat-list-item *ngIf=\"showAvailabilityMenu | async\" [matMenuTriggerFor]=\"availabilityMenu\"&gt;\n      &lt;mat-icon mat-list-icon&gt;event_available&lt;/mat-icon&gt;\n      &lt;h4 mat-line&gt;Beschikbaarheid&lt;/h4&gt;\n    &lt;/a&gt;\n    &lt;mat-menu #availabilityMenu=\"matMenu\" xPosition=\"after\" [overlapTrigger]=\"false\"&gt;\n      &lt;a mat-menu-item [routerLink]=\"['/availability']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAvailabilityMenuMine | async\"&gt;Mijn beschikbaarheid&lt;/a&gt;\n      &lt;a mat-menu-item [routerLink]=\"['/manage/timeblocks']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAvailabilityMenuTimeblocks | async\"&gt;Tijdsblokken&lt;/a&gt;\n      &lt;a mat-menu-item [routerLink]=\"['/manage/availability']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAvailabilityMenuPerUser | async\"&gt;Beschikbaarheid aanpassen&lt;/a&gt;\n      &lt;a mat-menu-item [routerLink]=\"['/manage/availability/overview']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAvailabilityMenuOverview | async\"&gt;Overzicht&lt;/a&gt;\n    &lt;/mat-menu&gt;\n\n  &lt;!-- ABSENCE --&gt;\n\n  &lt;a mat-list-item [routerLink]=\"['/absence']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAbsenceButton | async\"&gt;\n    &lt;mat-icon mat-list-icon&gt;beach_access&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Afwezigheid&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;a mat-list-item *ngIf=\"showAbsenceMenu | async\" [matMenuTriggerFor]=\"absenceMenu\"&gt;\n    &lt;mat-icon mat-list-icon&gt;beach_access&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Afwezigheid&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;mat-menu #absenceMenu=\"matMenu\" xPosition=\"after\" [overlapTrigger]=\"false\"&gt;\n    &lt;a mat-menu-item [routerLink]=\"['/absence']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAbsenceMenuMine | async\"&gt;Mijn afwezigheid&lt;/a&gt;\n    &lt;a mat-menu-item [routerLink]=\"['/manage/absence']\" (click)=\"linkFollow.emit()\" *ngIf=\"showAbsenceMenuOverview | async\"&gt;Afwezigheid aanpassen&lt;/a&gt;\n  &lt;/mat-menu&gt;\n\n  &lt;!-- PLANNING --&gt;\n\n  &lt;a mat-list-item [routerLink]=\"['/planning/view']\" (click)=\"linkFollow.emit()\" *ngIf=\"showPlanningButton | async\"&gt;\n    &lt;mat-icon mat-list-icon&gt;grid_on&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Planning&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;a mat-list-item *ngIf=\"showPlanningMenu | async\" [matMenuTriggerFor]=\"planningMenu\"&gt;\n    &lt;mat-icon mat-list-icon&gt;grid_on&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Planning&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;mat-menu #planningMenu=\"matMenu\" xPosition=\"after\" [overlapTrigger]=\"false\"&gt;\n    &lt;a mat-menu-item [routerLink]=\"['/planning/view']\" (click)=\"linkFollow.emit()\" *ngIf=\"showPlanningMenuView | async\"&gt;Planning bekijken&lt;/a&gt;\n    &lt;a mat-menu-item [routerLink]=\"['/planning/edit']\" (click)=\"linkFollow.emit()\" *ngIf=\"showPlanningMenuEdit | async\"&gt;Planning aanpassen&lt;/a&gt;\n  &lt;/mat-menu&gt;\n\n\n  &lt;a mat-list-item [routerLink]=\"['/users']\" (click)=\"linkFollow.emit()\" *ngIf=\"showUsersButton | async\"&gt;\n    &lt;mat-icon mat-list-icon&gt;people&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Gebruikers&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;a mat-list-item [routerLink]=\"['/hour-registration']\" (click)=\"linkFollow.emit()\" *ngIf=\"showHourRegistrationButton | async\"&gt;\n    &lt;mat-icon mat-list-icon&gt;schedule&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Uren Registratie&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;a mat-list-item [routerLink]=\"['/employe-materials']\" (click)=\"linkFollow.emit()\" *ngIf=\"showEmployeeMaterials | async\"&gt;\n    &lt;mat-icon mat-list-icon&gt;pan_tool&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Werk benodigheden&lt;/h4&gt;\n  &lt;/a&gt;\n  &lt;a mat-list-item [routerLink]=\"['/messages']\" (click)=\"linkFollow.emit()\" *ngIf=\"showMessageButton | async\"&gt;\n    &lt;mat-icon mat-list-icon&gt;message&lt;/mat-icon&gt;\n    &lt;h4 mat-line&gt;Berichten&lt;/h4&gt;\n  &lt;/a&gt;\n</code></pre>\n\n<p></p>\n\n<p>I have tried using routerLinkActive=\"active-list-item\", but with the same result + other links dont get the active-list-item class.</p>\n\n<p>So how can I change that the link Gebruikers isnt selected by default, or how can I make routerLinkActive work?</p>\n"}, {"tags": ["javascript", "typescript", "object", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 4171, "user_id": 2024080, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4e404fe44b680290c95ef673c6653a28?s=128&d=identicon&r=PG", "display_name": "user2024080", "link": "https://stackoverflow.com/users/2024080/user2024080"}, "edited": false, "score": 0, "creation_date": 1556098415, "post_id": 55826741, "comment_id": 98318581, "body": "How about array of object like : <code>var obj = [{ \tname:&quot;new name&quot;,   age:33 }, { \tname:&quot;new ccc&quot;,   age:34 }]</code>"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 4171, "user_id": 2024080, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4e404fe44b680290c95ef673c6653a28?s=128&d=identicon&r=PG", "display_name": "user2024080", "link": "https://stackoverflow.com/users/2024080/user2024080"}, "edited": false, "score": 1, "creation_date": 1556098468, "post_id": 55826741, "comment_id": 98318620, "body": "Use <code>.map</code>, and have the mapper function take in the item being iterated over as <code>obj</code>, and return <code>x</code>"}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 6, "last_activity_date": 1556098082, "creation_date": 1556098082, "answer_id": 55826741, "question_id": 55826718, "link": "https://stackoverflow.com/questions/55826718/how-to-convert-object-keys-to-upper-case/55826741#55826741", "title": "How to convert object keys to upper case", "body": "<p>With</p>\n\n<pre><code>key = key.toUpperCase();\n</code></pre>\n\n<p>Reassigning a variable will almost never do anything on its own (even if <code>key</code> was reassignable) - you need to explicitly to mutate the existing object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {\r\n  name: \"new name\",\r\n  age: 33\r\n}\r\n\r\nconst x = {};\r\n\r\nfor (const [key, value] of Object.entries(obj)) {\r\n  x[key.toUpperCase()] = value;\r\n}\r\nconsole.log(x);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You could also use <code>reduce</code>, to avoid the <em>external</em> mutation of <code>x</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {\r\n  name: \"new name\",\r\n  age: 33\r\n}\r\n\r\nconst x = Object.entries(obj).reduce((a, [key, value]) =&gt; {\r\n  a[key.toUpperCase()] = value;\r\n  return a;\r\n}, {});\r\nconsole.log(x);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4171, "user_id": 2024080, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4e404fe44b680290c95ef673c6653a28?s=128&d=identicon&r=PG", "display_name": "user2024080", "link": "https://stackoverflow.com/users/2024080/user2024080"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1782, "favorite_count": 1, "accepted_answer_id": 55826741, "answer_count": 1, "score": 2, "last_activity_date": 1556098667, "creation_date": 1556097982, "last_edit_date": 1556098667, "question_id": 55826718, "link": "https://stackoverflow.com/questions/55826718/how-to-convert-object-keys-to-upper-case", "title": "How to convert object keys to upper case", "body": "<p>I would like to transform lowercase key to uppercase key. But finding my try not works.</p>\n\n<p>what would be the correct approach?</p>\n\n<p>here is my try:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {\r\n  name: \"new name\",\r\n  age: 33\r\n}\r\n\r\nconst x = Object.assign({}, obj);\r\n\r\nfor (const [key, value] of Object.entries(x)) {\r\n  key = key.toUpperCase();\r\n}\r\n\r\n\r\nconsole.log(x);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://jsfiddle.net/z9bnjcyf/\" rel=\"nofollow noreferrer\">Live Demo</a></p>\n"}, {"tags": ["typescript", "class", "constructor"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556101227, "post_id": 55827293, "comment_id": 98320168, "body": "<code>[key: string]: unknown;</code> will work but basically render the whole class very type unsafe (ie. <code>vm.blaBla</code> would be fine)"}, {"owner": {"reputation": 36, "user_id": 2606634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be8194f6dbb5dd0a807a8c80dc54d12?s=128&d=identicon&r=PG", "display_name": "t.schoel", "link": "https://stackoverflow.com/users/2606634/t-schoel"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556194880, "post_id": 55827293, "comment_id": 98360120, "body": "True, but that is precisely what the question is asking for: the class properties are entirely unknown until the constructor is called. If they are not, then they should probably be declared for type safety as stated above. Whether you do that via a mixin as in Titian&#39;s answer, via inheritance from the base Vue class, or directly on the class would depend upon context."}], "tags": [], "owner": {"reputation": 36, "user_id": 2606634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be8194f6dbb5dd0a807a8c80dc54d12?s=128&d=identicon&r=PG", "display_name": "t.schoel", "link": "https://stackoverflow.com/users/2606634/t-schoel"}, "is_accepted": false, "score": 0, "last_activity_date": 1556099748, "creation_date": 1556099748, "answer_id": 55827293, "question_id": 55826350, "link": "https://stackoverflow.com/questions/55826350/how-to-dynamically-declare-an-instance-property-of-a-class-from-a-constructor-in/55827293#55827293", "title": "How to dynamically declare an instance property of a class from a constructor in Typescript?", "body": "<p>Typescript does not know about the Proxy and the property names it might accept. For example, consider a setter such as:</p>\n\n<pre><code>set(_, key: string, value: any) {\n  if (!key.startsWith('foo')) {\n    return false;\n  }\n\n  data[key] = value;\n  return true;\n}\n</code></pre>\n\n<p>Typescript would have to run the code to determine which property names are legal here.</p>\n\n<p>A quick fix for your problem would be to add a property like <code>[key: string]: unknown;</code> to the Vue class which will tell typescript to accept anything as long as the key is a <code>string</code>, regardless of its type. This will make your example compile.</p>\n\n<p>You should probably consider properly declaring the properties that the Vue class will be using, though, if you possibly can, to take advantage of Typescript's static type checking.</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 7736393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BN4eF.jpg?s=128&g=1", "display_name": "mutoe", "link": "https://stackoverflow.com/users/7736393/mutoe"}, "edited": false, "score": 0, "creation_date": 1556101337, "post_id": 55827383, "comment_id": 98320230, "body": "Thank you for your prompt reply. This seems to solve my problem, but it makes me lose the static type checking, so that I will not report an error when using a variable that does not exist."}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1556106528, "post_id": 55827383, "comment_id": 98323348, "body": "@TitianCernicova-Dragomir Ah yes. Nice answer you&#39;ve given."}], "tags": [], "owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1556100027, "creation_date": 1556100027, "answer_id": 55827383, "question_id": 55826350, "link": "https://stackoverflow.com/questions/55826350/how-to-dynamically-declare-an-instance-property-of-a-class-from-a-constructor-in/55827383#55827383", "title": "How to dynamically declare an instance property of a class from a constructor in Typescript?", "body": "<p>Your Vue class is returning a Proxy object.</p>\n\n<p>Your proxy has a get and set function, which means that you can set and get the wrapped object (in your case <code>Record&lt;string, any&gt;</code>) using an index operator i.e. []</p>\n\n<p>So to correctly use your Vue object to add property \"a\" and then retrieve its value you would use:</p>\n\n<pre><code>vm[\"a\"] = 2\nconsole.log(vm[\"a\"])\n</code></pre>\n\n<p>You can see this working <a href=\"https://stackblitz.com/edit/typescript-jzecwa\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 7736393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BN4eF.jpg?s=128&g=1", "display_name": "mutoe", "link": "https://stackoverflow.com/users/7736393/mutoe"}, "edited": false, "score": 0, "creation_date": 1556102467, "post_id": 55827723, "comment_id": 98320878, "body": "so amazing! ! I am in need of such an answer, which is very helpful for me to learn typescript, thank you very much for your detailed answer."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1556101163, "creation_date": 1556101163, "answer_id": 55827723, "question_id": 55826350, "link": "https://stackoverflow.com/questions/55826350/how-to-dynamically-declare-an-instance-property-of-a-class-from-a-constructor-in/55827723#55827723", "title": "How to dynamically declare an instance property of a class from a constructor in Typescript?", "body": "<p>The first part of the problem is getting the return type of <code>initProxy</code> right. Since you are adding all properties returned by <code>data</code> to the proxy, the return type should contains them. To achieve this we will need a type parameter (<code>T</code>) to the <code>Vue</code> class. This type parameter will capture the actual type of the <code>data</code> return type. With this type parameter in hand we can the let typescript know that <code>initProxy</code> actually returns  <code>T &amp; Vue&lt;T&gt;</code>, that is it returns an object that is both <code>T</code> and the original class</p>\n\n<pre><code>interface IOptions&lt;T&gt; {\n    data: () =&gt; T\n}\n\nclass Vue&lt;T = {}&gt; {\n    private $options: IOptions&lt;T&gt; = {\n        data: () =&gt; ({})\n    } as IOptions&lt;T&gt;\n\n    constructor(options: IOptions&lt;T&gt;) {\n        this.$options = options\n        const proxy = this.initProxy()\n        return proxy\n    }\n    initProxy(): T &amp; Vue&lt;T&gt; {\n        const data = this.$options.data ? this.$options.data() : {}\n\n        return new Proxy(this as unknown as T &amp; Vue&lt;T&gt;, {\n            set(_, key: string, value) {\n                data[key] = value\n                return true\n            },\n            get(_, key: string) {\n                return data[key]\n            }\n        })\n    }\n}\n\nconst vm = new Vue({\n    data() {\n        return {\n            a: 1\n        }\n    }\n})\nvm.initProxy().a // ok now\n</code></pre>\n\n<p>The second part of the problem is that although typescript will let you return an object from the constructor, this will not in any way change the return type of the constructor call (nor can you annotate the constructor return type). This is why although <code>vm.initProxy().a</code> works, <code>vm.a</code> still does not work. </p>\n\n<p>To get around this limitation we have two options:</p>\n\n<ol>\n<li><p>Use a private constructor and a static method that is correctly typed:</p>\n\n<pre><code>class Vue&lt;T = {}&gt; {\n    private $options: IOptions&lt;T&gt; = {\n        data: () =&gt; ({})\n    } as IOptions&lt;T&gt;\n\n    private constructor(options: IOptions&lt;T&gt;) {\n        this.$options = options\n        const proxy = this.initProxy()\n        return proxy\n    }\n    static create&lt;T&gt;(data: IOptions&lt;T&gt;):Vue&lt;T&gt; &amp; T {\n        return new Vue&lt;T&gt;(data) as unknown as Vue&lt;T&gt; &amp; T \n    }\n    initProxy(): T &amp; Vue&lt;T&gt; {\n        const data = this.$options.data ? this.$options.data() : {}\n\n        return new Proxy(this as unknown as T &amp; Vue&lt;T&gt;, {\n            set(_, key: string, value) {\n                data[key] = value\n                return true\n            },\n            get(_, key: string) {\n                return data[key]\n            }\n        })\n    }\n}\n\n\nconst vm = Vue.create({\n    data() {\n        return {\n            a: 1\n        }\n    }\n})\nvm.a = 2;\n</code></pre></li>\n<li><p>Use a separate signature for the class </p>\n\n<pre><code>class _Vue&lt;T = {}&gt; {\n    private $options: IOptions&lt;T&gt; = {\n        data: () =&gt; ({})\n    } as IOptions&lt;T&gt;\n\n    private constructor(options: IOptions&lt;T&gt;) {\n        this.$options = options\n        const proxy = this.initProxy()\n        return proxy\n    }\n    initProxy(): Vue&lt;T&gt; {\n        const data = this.$options.data ? this.$options.data() : {}\n\n        return new Proxy(this as unknown as Vue&lt;T&gt;, {\n            set(_, key: string, value) {\n                data[key] = value\n                return true\n            },\n            get(_, key: string) {\n                return data[key]\n            }\n        })\n    }\n}\ntype Vue&lt;T&gt; = _Vue&lt;T&gt; &amp; T\nconst Vue: new&lt;T&gt;(data: IOptions&lt;T&gt;) =&gt; Vue&lt;T&gt; = _Vue as any\n\nconst vm = new Vue({\n    data() {\n        return {\n            a: 1\n        }\n    }\n})\nvm.a = 2;\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 149, "user_id": 7736393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BN4eF.jpg?s=128&g=1", "display_name": "mutoe", "link": "https://stackoverflow.com/users/7736393/mutoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 1, "accepted_answer_id": 55827723, "answer_count": 3, "score": 2, "last_activity_date": 1569577743, "creation_date": 1556096902, "last_edit_date": 1569577743, "question_id": 55826350, "link": "https://stackoverflow.com/questions/55826350/how-to-dynamically-declare-an-instance-property-of-a-class-from-a-constructor-in", "title": "How to dynamically declare an instance property of a class from a constructor in Typescript?", "body": "<p><em>I tried to write a simple VUE using typescript, but the first step failed. I found a lot of answers and didn't find a solution that would solve my problem.</em></p>\n\n<p>I want to dynamically declare some properties of classes, which they get through constructors, but I don't know how to write such declarations.</p>\n\n<p><strong>Environment</strong></p>\n\n<p>typescript 3.4.5</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IOptions {\n  data: () =&gt; Record&lt;string, any&gt;\n}\n\nclass Vue {\n  private $options: IOptions = {\n    data: () =&gt; ({})\n  }\n\n  constructor(options: IOptions) {\n    this.$options = options\n    const proxy = this.initProxy()\n    return proxy\n  }\n\n  initProxy() {\n    const data = this.$options.data ? this.$options.data() : {}\n\n    return new Proxy(this, {\n      set(_, key: string, value) {\n        data[key] = value\n        return true\n      },\n      get(_, key: string) {\n        return data[key]\n      }\n    })\n  }\n}\n\nconst vm = new Vue({\n  data() {\n    return {\n      a: 1\n    }\n  }\n})\n\nvm.a = 2\n// ^ Property 'a' does not exist on type 'Vue'.\n\nconsole.log(vm.a) // =&gt; 2\n//             ^ Property 'a' does not exist on type 'Vue'.\n\n</code></pre>\n\n<p>This is an online preview of the address <a href=\"https://stackblitz.com/edit/typescript-kh4zmn\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-kh4zmn</a></p>\n\n<p>Open it and you can see that the console outputs the expected output but the editor gives an typescript error with <code>Property 'a' does not exist on type 'Vue'.</code>.</p>\n\n<p>I expect <code>vm</code> to have the correct type so that I can access the properties declared in the constructor without error.</p>\n"}, {"tags": ["reactjs", "typescript", "generics", "higher-order-functions"], "answers": [{"tags": [], "owner": {"reputation": 979, "user_id": 7165303, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QzN9GsYrT-8/AAAAAAAAAAI/AAAAAAAAAIQ/dt-bAbLoh7E/photo.jpg?sz=128", "display_name": "Donovan Hiland", "link": "https://stackoverflow.com/users/7165303/donovan-hiland"}, "is_accepted": true, "score": 2, "last_activity_date": 1557889034, "creation_date": 1557889034, "answer_id": 56141176, "question_id": 55826029, "link": "https://stackoverflow.com/questions/55826029/passing-generics-to-a-component-wrapped-in-a-hoc/56141176#56141176", "title": "Passing generics to a component wrapped in a HOC", "body": "<p>There are 2 options that I can think of that you can do to achieve this:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/a/55539324/7165303\">Cast the export</a>:</li>\n</ol>\n\n<p>In your case it might be a little extra tricky but something like this might work as long as the HOC doesn't require any props. If it does you'll have to change the type you're casting as.</p>\n\n<pre><code>export default connect(\n  mapStateToProps,\n  {}\n)(GraphqlQuery) as typeof GraphqlQuery\n</code></pre>\n\n<ol start=\"2\">\n<li>factory</li>\n</ol>\n\n<pre><code>export const createGraphqlQuery = &lt;T, TVariables = OperationVariables&gt;() =&gt; {\n  const GraphqlQuery = (props: PropsType) =&gt; {\n    const { query, variables, children, user, ...rest } = props;\n    if (!user) return null;\n\n    return (\n      &lt;Query&lt;T, TVariables&gt;\n        query={query}\n        variables={variables}\n        context={{\n          headers: {\n            \"X-User-Id\": user.id,\n          },\n        }}\n        {...rest}\n      &gt;\n      ...\n      &lt;/Query&gt;\n    );\n  };\n\n\n  const mapStateToProps = ({ user }: { user: IUserState }) =&gt; ({\n    user,\n  });\n  return connect(\n    mapStateToProps,\n    {}\n  )(GraphqlQuery)\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>const GraphqlQuery = createGraphqlQuery&lt;{}, {}&gt;();\n\n&lt;GraphqlQuery ... /&gt;\n\n</code></pre>\n\n<p>There are definitely tradeoffs to each.</p>\n"}], "owner": {"reputation": 596, "user_id": 2060993, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4475c1d25ab35662f8f1462ac0ecc8f2?s=128&d=identicon&r=PG", "display_name": "Xizam", "link": "https://stackoverflow.com/users/2060993/xizam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 1, "accepted_answer_id": 56141176, "answer_count": 1, "score": 1, "last_activity_date": 1557889034, "creation_date": 1556095889, "question_id": 55826029, "link": "https://stackoverflow.com/questions/55826029/passing-generics-to-a-component-wrapped-in-a-hoc", "title": "Passing generics to a component wrapped in a HOC", "body": "<p>I have an implementation of the ApolloGraphQL Query component.</p>\n\n<p>When using the Apollo client Query component, typings can be passed as such:</p>\n\n<pre><code>import * as ApolloTypes from './__generated__/GetSubreddit';\n\n &lt;Query&lt;ApolloTypes.GetSubreddit, ApolloTypes.GetSubredditVariables&gt;\n      query={GET_SUBREDDIT}\n      variables={{ name: selectedSubreddit }}\n    &gt;\n...\n&lt;/Query&gt;\n</code></pre>\n\n<p>I have my own component which implements the Apollo Query component. Amongst other things, it adds some headers to each query. I want to be able to pass it typings in the same way as the normal query component, which is easy to do without the <code>connect</code> higher order component from \"react-redux\". I can't figure out how to pass the generics through the HOC. Any advice?</p>\n\n<pre><code>const GraphqlQuery = &lt;T, TVariables = OperationVariables&gt;(props: PropsType) =&gt; {\n  const { query, variables, children, user, ...rest } = props;\n  if (!user) return null;\n\n  return (\n    &lt;Query&lt;T, TVariables&gt;\n      query={query}\n      variables={variables}\n      context={{\n        headers: {\n          \"X-User-Id\": user.id,\n        },\n      }}\n      {...rest}\n    &gt;\n    ...\n    &lt;/Query&gt;\n  );\n};\n\n\nconst mapStateToProps = ({ user }: { user: IUserState }) =&gt; ({\n  user,\n});\nexport default connect(\n  mapStateToProps,\n  {}\n)(GraphqlQuery);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms", "angular4-forms"], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556096067, "post_id": 55826003, "comment_id": 98317134, "body": "@Quellson could you please look into my demo code and tell me which is the correct place to add a formControlName in my shared component."}, {"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556107877, "post_id": 55826003, "comment_id": 98324137, "body": "@Quellson, thanks buddy. The above implementation just gives the right ability to control form group from the parent component itself"}, {"owner": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "reply_to_user": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556110142, "post_id": 55826003, "comment_id": 98325489, "body": "Glad it helped!"}, {"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556542887, "post_id": 55826003, "comment_id": 98463510, "body": "could you please let me know how to set default value from the parent component. I need to set district default as &#39;bangalore&#39;. I tried using this.parentForm.controls[&#39;district&#39;].setValue(&#39;bangalore&#39;) - this is not working"}, {"owner": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "reply_to_user": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556554241, "post_id": 55826003, "comment_id": 98469693, "body": "i&#39;ve updated my answer so that district has a default value to begin with, setting the default values is done when initializing the formGroup."}, {"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556606697, "post_id": 55826003, "comment_id": 98484897, "body": "I tried to replicate with your input but could not set it. Please check on this <a href=\"https://stackblitz.com/edit/angular-nuagbc\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-nuagbc</a>. Thanks for your help."}], "tags": [], "owner": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "is_accepted": true, "score": 3, "last_activity_date": 1556554186, "last_edit_date": 1556554186, "creation_date": 1556095815, "answer_id": 55826003, "question_id": 55825893, "link": "https://stackoverflow.com/questions/55825893/how-to-set-and-get-form-values-when-we-use-css-dropdown-as-shared-component/55826003#55826003", "title": "How to set and get form values when we use css dropdown as shared component", "body": "<p>You need to implement ControlValueAccessors in the shared component so you can attach formControls to them in parent component. Here is a great article on that its preety straight forward.</p>\n\n<p><a href=\"https://medium.com/@majdasab/implementing-control-value-accessor-in-angular-1b89f2f84ebf\" rel=\"nofollow noreferrer\">https://medium.com/@majdasab/implementing-control-value-accessor-in-angular-1b89f2f84ebf</a></p>\n\n<p>This is how your customDropdown component needs to look to implement ControlValueAccessors</p>\n\n<pre><code>import { OnInit } from '@angular/core';\nimport { Component, forwardRef, HostBinding, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'app-common-dropdown',\n  templateUrl: './common-dropdown.component.html',\n  styleUrls: ['./common-dropdown.component.css'],\n  providers: [     \n      {       provide: NG_VALUE_ACCESSOR, \n              useExisting: forwardRef(() =&gt; CommonDropdownComponent),\n              multi: true     \n      }\n    ] \n})\nexport class CommonDropdownComponent implements ControlValueAccessor {\n\n  @Input() placeHolder: string;\n  @Input() dropDownId: string;\n  @Input() dataList: any;\n\n  onChange: any = () =&gt; {}\n  onTouch: any = () =&gt; {}\n  val= \"\" // this is the updated value that the class accesses\n\n  set value(val){  // this value is updated by programmatic changes if( val !== undefined &amp;&amp; this.val !== val){\n    this.val = val\n    this.onChange(val)\n    this.onTouch(val)\n  }\n\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  // this method sets the value programmatically\n  writeValue(value: any){ \n    this.value = value\n  }\n  registerOnChange(fn: any){\n    this.onChange = fn\n  }\n  registerOnTouched(fn){\n    this.onTouch = fn\n  }\n\n  propagateChange(_){\n\n  }\n\n  selectClicked(event: any) {\n    const ele = event.srcElement.parentNode;\n    ele.classList.toggle('cs-active');\n  }\n\n  selectedOption(ctrl: string, value: string) {\n    this.onChange(value) // &lt;-- CRUCIAL need to inform formControl to update the value \n    document.getElementById(ctrl).innerHTML = value;\n    const ele = document.getElementById(ctrl).parentElement;\n    ele.classList.toggle('cs-active');\n  }\n\n  closeDropDown(event: any) {\n    const ele = event.srcElement;\n    ele.classList.remove('cs-active');\n  }\n}\n</code></pre>\n\n<p>Now that we've added the ability to attach formControls to you custom component you can add them to the html in you app.component:</p>\n\n<pre><code>&lt;form [formGroup]=\"parentForm\"&gt;\n    &lt;app-common-dropdown placeHolder=\"select district\" [dropDownId]=\"'districtLabel'\" [dataList]=\"['bangalore','chennai','pune']\" formControlName=\"district\" &gt;&lt;/app-common-dropdown&gt;\n    &lt;app-common-dropdown placeHolder=\"select distance\" [dropDownId]=\"'distanceLabel'\" [dataList]=\"[100,200,300,400]\" formControlName=\"distance\" &gt;&lt;/app-common-dropdown&gt;\n    &lt;app-common-dropdown placeHolder=\"select state\" [dropDownId]=\"'stateLabel'\" [dataList]=\"['karnataka','tamil nadu','mumbai']\" formControlName=\"state\"  &gt;&lt;/app-common-dropdown&gt;\n&lt;/form&gt;\n\n&lt;button type=\"submit\" (click)=\"getFormValues()\"&gt;submit&lt;/button&gt;\n</code></pre>\n\n<p>And you will need to adjust the names in you formGroup since they didnt match the html form</p>\n\n<pre><code>this.parentForm = this.fb.group({\n  district: ['bangalore', Validators.required], &lt;--- SETS THE DEFAULT VALUE OF THE FORM CONTROL\n  distance: [''],\n  state:['']\n});\n</code></pre>\n\n<p>formControlName needs to match a property inside the parentForm.</p>\n"}, {"comments": [{"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556096618, "post_id": 55826084, "comment_id": 98317497, "body": "thanks, but we might end up in adding a new method and variable for every time we have a new drop-down. And also it would be difficult to handle validations by this way."}, {"owner": {"reputation": 1572, "user_id": 6713046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/937a8a82943267be635fa90393bf47a9?s=128&d=identicon&r=PG&f=1", "display_name": "porgo", "link": "https://stackoverflow.com/users/6713046/porgo"}, "reply_to_user": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556097084, "post_id": 55826084, "comment_id": 98317783, "body": "@Onera you can also avoid of creating variables and method for each dropdown. You can set values inside <code>parentForm</code>. And also there can be one method for this, which will get a dropdown type as argument."}, {"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1556099178, "post_id": 55826084, "comment_id": 98319022, "body": "Any way to make a value as default in the dropdown?"}], "tags": [], "owner": {"reputation": 1572, "user_id": 6713046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/937a8a82943267be635fa90393bf47a9?s=128&d=identicon&r=PG&f=1", "display_name": "porgo", "link": "https://stackoverflow.com/users/6713046/porgo"}, "is_accepted": false, "score": 2, "last_activity_date": 1556096595, "last_edit_date": 1556096595, "creation_date": 1556096083, "answer_id": 55826084, "question_id": 55825893, "link": "https://stackoverflow.com/questions/55825893/how-to-set-and-get-form-values-when-we-use-css-dropdown-as-shared-component/55826084#55826084", "title": "How to set and get form values when we use css dropdown as shared component", "body": "<p>I've changed yout demo code, check here: <a href=\"https://stackblitz.com/edit/angular-sge8r3\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-sge8r3</a></p>\n\n<p>In <code>CommonDropdownComponent</code> I added a <code>Output()</code> which emits value selected from dropdown:</p>\n\n<pre><code>@Output() selectedValue: EventEmitter&lt;string&gt; = new EventEmitter&lt;string&gt;();\n</code></pre>\n\n<p>I also changed <code>selectedOpiton</code> method to be able to emit selected value:</p>\n\n<pre><code>selectedOption(ctrl: string, value: string) {\n  document.getElementById(ctrl).innerHTML = value;\n  const ele = document.getElementById(ctrl).parentElement;\n  ele.classList.toggle('cs-active');\n  this.selectedValue.emit(value);\n}\n</code></pre>\n\n<p>And then in <code>AppComponent</code> i'm getting value emitted from child component and set a variable inside <code>AppComponent</code>:</p>\n\n<p>for example for first dropdown:</p>\n\n<pre><code>&lt;app-common-dropdown placeHolder=\"select district\" [dropDownId]=\"'districtLabel'\" [dataList]=\"['bangalore','chennai','pune']\" (selectedValue)=\"setDistrict($event)\"&gt;&lt;/app-common-dropdown&gt;\n</code></pre>\n\n<p>and then in <code>ts</code> file I created a method <code>setDistrict()</code>:</p>\n\n<pre><code>setDistrict(value: string): void {\n  this.district = value;\n}\n</code></pre>\n\n<p>You can also read more about parent-children interaction here: <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">https://angular.io/guide/component-interaction</a></p>\n"}, {"tags": [], "owner": {"reputation": 794, "user_id": 9390292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Abdu Manaz", "link": "https://stackoverflow.com/users/9390292/abdu-manaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1556096850, "creation_date": 1556096850, "answer_id": 55826331, "question_id": 55825893, "link": "https://stackoverflow.com/questions/55825893/how-to-set-and-get-form-values-when-we-use-css-dropdown-as-shared-component/55826331#55826331", "title": "How to set and get form values when we use css dropdown as shared component", "body": "<p>There are multiple ways to go about this. @porgo mentioned is one method.\nPlease check the below url for the implementation using <code>@ViewChild</code></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-k92uxr\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-k92uxr</a></p>\n\n<p>Please refer the below url for communication b.w components<br>\n<a href=\"https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/\" rel=\"nofollow noreferrer\">https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/</a></p>\n"}], "owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 2, "accepted_answer_id": 55826003, "answer_count": 3, "score": 1, "last_activity_date": 1556554186, "creation_date": 1556095495, "last_edit_date": 1556095872, "question_id": 55825893, "link": "https://stackoverflow.com/questions/55825893/how-to-set-and-get-form-values-when-we-use-css-dropdown-as-shared-component", "title": "How to set and get form values when we use css dropdown as shared component", "body": "<p>I have a shared component which is a html and css dropdown.\nI am calling this shared component from a parent component with different data.</p>\n\n<p>For example I have 3 instances of shared component from parent component, so parent form group will have 3 formControls. Since all the 3 formcontrols are now a shared component. How to set and get selected data from all the 3 dropdowns.</p>\n\n<p>Also if any default item is to be set for any dropdown, how can we achieve it.</p>\n\n<p>Main objective here is to access/get all the formControlName values in parent component form group.</p>\n\n<p>I have attached demo code <a href=\"https://stackblitz.com/edit/angular-mncdy5\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-mncdy5</a>\nPlease help as I am in a learning stage!</p>\n"}, {"tags": ["typescript", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "edited": false, "score": 0, "creation_date": 1556096066, "post_id": 55825842, "comment_id": 98317133, "body": "Thanks buddy, theres no other way easier? it seems too much complicated to me to understand this logic"}, {"owner": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "edited": false, "score": 0, "creation_date": 1556096466, "post_id": 55825842, "comment_id": 98317402, "body": "By the way... it gives an error &quot;subArray.every is not a function&quot; why?"}, {"owner": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "edited": false, "score": 0, "creation_date": 1556097334, "post_id": 55825842, "comment_id": 98317933, "body": "I&#39;m sorry maybe i didnt say it correctly i just want to check if 3 strings are into an array.... that&#39;s all"}, {"owner": {"reputation": 794, "user_id": 4792083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f3dcd65041faacab5bf8b31cd5503a?s=128&d=identicon&r=PG", "display_name": "Khaled Osman", "link": "https://stackoverflow.com/users/4792083/khaled-osman"}, "reply_to_user": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "edited": false, "score": 0, "creation_date": 1556098907, "post_id": 55825842, "comment_id": 98318869, "body": "if you want to check if 3 strings are in an array as opposed to checking that the subArray is equal to the listOfItemsToCheck you can do  <code>const includesListOfItemsToCheck = array.some(subArray =&gt; listOfItemsToCheck.every(item =&gt; subArray.includes(item))); </code> instead. This is really easy and readable once you understand Array.some and Array.every, the Alternative would be doing nested forEach loops, which would uglier, more verbose and less readable IMO."}, {"owner": {"reputation": 794, "user_id": 4792083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f3dcd65041faacab5bf8b31cd5503a?s=128&d=identicon&r=PG", "display_name": "Khaled Osman", "link": "https://stackoverflow.com/users/4792083/khaled-osman"}, "reply_to_user": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "edited": false, "score": 1, "creation_date": 1556120411, "post_id": 55825842, "comment_id": 98332266, "body": "@M.Mariscal running the answer on the browser works fine and returns true as expected, can you show me your updated code? Also checkout <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 794, "user_id": 4792083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f3dcd65041faacab5bf8b31cd5503a?s=128&d=identicon&r=PG", "display_name": "Khaled Osman", "link": "https://stackoverflow.com/users/4792083/khaled-osman"}, "reply_to_user": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "edited": false, "score": 0, "creation_date": 1556179270, "post_id": 55825842, "comment_id": 98351314, "body": "@M.Mariscal I&#39;ve updated my answer, here in the updated version its not a nested array, so you can just use Array.every which returns a boolean indicating whether every item in the iDislike array doesn&#39;t exist in the arraychip one"}, {"owner": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "edited": false, "score": 0, "creation_date": 1556191815, "post_id": 55825842, "comment_id": 98358387, "body": "Thank you really very much, you saved me! have a nice day!"}], "tags": [], "owner": {"reputation": 794, "user_id": 4792083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f3dcd65041faacab5bf8b31cd5503a?s=128&d=identicon&r=PG", "display_name": "Khaled Osman", "link": "https://stackoverflow.com/users/4792083/khaled-osman"}, "is_accepted": true, "score": 2, "last_activity_date": 1556179208, "last_edit_date": 1556179208, "creation_date": 1556095322, "answer_id": 55825842, "question_id": 55825738, "link": "https://stackoverflow.com/questions/55825738/how-do-i-check-if-array-not-contains-another-array-on-ionic-4/55825842#55825842", "title": "How do i check if array not contains another array on Ionic 4?", "body": "<p>Array.includes only works with primitive values like strings &amp; numbers..\nAnd you can't compare two arrays using === in JavaScript</p>\n\n<p>so something like this should do the job -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const array = [['Soap'], ['Web development', 'Football'], ['Globe', 'Science', 'Spartan']]\r\nconst listOfItemsToCheck = ['Web development', 'Football']\r\nconst includesListOfItemsToCheck = array.some(subArray =&gt; subArray.every(item =&gt; listOfItemsToCheck.includes(item)));\r\nconsole.log(includesListOfItemsToCheck);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here I'm using Array.some which will return a boolean value if any item in the array satisfies the condition in my return statement.\nAnd Array.every which will return a boolean value determining whether every item in the array satisfies the condition in the return statement.</p>\n\n<h1>Update to answer the updated question:</h1>\n\n<pre class=\"lang-js prettyprint-override\"><code>  const arrayChip = ['4',\"4\",'5','5','7','34','1','9','7','9','4','3']\n  const iDislike = ['Web 3', '2', '4', '5', '6']\n  const allIDislikeDoesntExistInArrayChip = iDislike.every(item =&gt; !arrayChip.includes(item))\nconsole.log(allIDislikeDoesntExistInArrayChip)\n</code></pre>\n"}], "owner": {"reputation": 972, "user_id": 5300978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GCHe.jpg?s=128&g=1", "display_name": "M. Mariscal", "link": "https://stackoverflow.com/users/5300978/m-mariscal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 55825842, "answer_count": 1, "score": 0, "last_activity_date": 1556179208, "creation_date": 1556095001, "last_edit_date": 1556141986, "question_id": 55825738, "link": "https://stackoverflow.com/questions/55825738/how-do-i-check-if-array-not-contains-another-array-on-ionic-4", "title": "How do i check if array not contains another array on Ionic 4?", "body": "<p>I'm using Ionic 4 and i'd like to know how could I check if an array is NOT on other array to make a condition, but it doesn't work, what i'm doing wrong?</p>\n\n<pre><code>  method() {\n    if (!this.array.includes(['Web development', 'Football'])\n      ) {\n        console.log(this.array)\n        //doSomething\n      }\n</code></pre>\n\n<p><strong>UPDATED</strong></p>\n\n<p>once click on a button, imDone method starts. What i want exactly is once clicked, if the iDislike array (all this words) arent on the arrayChip, then do something</p>\n\n<pre><code>  ngOnInit() {    \nthis.arrayChip = [\n  '4',\n  \"4\",\n  '5',\n  '5',\n  '7',\n  '34',\n  '1',\n  '9',\n  '7',\n  '9',\n  '4',\n  '3',]\n  }\n\n  imDone() {\n    let iDislike = ['Web 3', '2', '4', '5', '6']\n    const includesListOfItemsToCheck = this.arrayChip.some(subArray =&gt; \n      iDislike.every(item =&gt; subArray.includes(item)));    \n    console.log(includesListOfItemsToCheck)\n\n    console.log('arrayChip: ' + this.arrayChip)\n  }\n</code></pre>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 7135, "user_id": 7080548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05e995eb5f5cc586a70c441414f3a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Kaczmarek", "link": "https://stackoverflow.com/users/7080548/sebastian-kaczmarek"}, "edited": false, "score": 0, "creation_date": 1556095010, "post_id": 55825676, "comment_id": 98316494, "body": "What is an expected input and output?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "reply_to_user": {"reputation": 7135, "user_id": 7080548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05e995eb5f5cc586a70c441414f3a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Kaczmarek", "link": "https://stackoverflow.com/users/7080548/sebastian-kaczmarek"}, "edited": false, "score": 0, "creation_date": 1556095331, "post_id": 55825676, "comment_id": 98316681, "body": "Expected input can be anything from the symptoms values and I will have to return the value if it exists in symptoms array."}, {"owner": {"reputation": 4036, "user_id": 1109179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/946c3899f642e09870abbf34cf95872e?s=128&d=identicon&r=PG", "display_name": "Sohan", "link": "https://stackoverflow.com/users/1109179/sohan"}, "edited": false, "score": 0, "creation_date": 1556096824, "post_id": 55825676, "comment_id": 98317625, "body": "could you show you expected output?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "edited": false, "score": 0, "creation_date": 1556097063, "post_id": 55825676, "comment_id": 98317770, "body": "I need to return the certain entry of a symptom array like if the input is A then it should filter and return A from the symptoms array as an output instead of returning all the entries"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "edited": false, "score": 0, "creation_date": 1556096237, "post_id": 55825979, "comment_id": 98317250, "body": "It doesn&#39;t get any value."}, {"owner": {"reputation": 9452, "user_id": 9662601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFvyV.png?s=128&g=1", "display_name": "Samuel Philipp", "link": "https://stackoverflow.com/users/9662601/samuel-philipp"}, "edited": false, "score": 0, "creation_date": 1556118950, "post_id": 55825979, "comment_id": 98331380, "body": "While this code snippet may solve the problem, it doesn&#39;t explain why or how it answers the question. Please <a href=\"//meta.stackexchange.com/q/114762/269535\">include an explanation for your code</a>, as that really helps to improve the quality of your post.  Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}], "tags": [], "owner": {"reputation": 794, "user_id": 4792083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f3dcd65041faacab5bf8b31cd5503a?s=128&d=identicon&r=PG", "display_name": "Khaled Osman", "link": "https://stackoverflow.com/users/4792083/khaled-osman"}, "is_accepted": false, "score": 0, "last_activity_date": 1556095753, "creation_date": 1556095753, "answer_id": 55825979, "question_id": 55825676, "link": "https://stackoverflow.com/questions/55825676/i-am-trying-to-filter-array-within-another/55825979#55825979", "title": "I am trying to filter array within another", "body": "<pre class=\"lang-js prettyprint-override\"><code>filterCauses(searchString: string){\n  return this.illnesses.filter(illness =&gt; illness.symptoms.includes(searchString))\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "edited": false, "score": 0, "creation_date": 1556096067, "post_id": 55825996, "comment_id": 98317135, "body": "It shows every entry of specific arrays like if the data is {&quot;cause&quot;: &quot;abc&quot;, &quot;symptoms&quot;: [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]},then it will show A,B,C"}, {"owner": {"reputation": 6613, "user_id": 6433166, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-a-2vAH16fII/AAAAAAAAAAI/AAAAAAAAILw/RY3o0Eie6eo/photo.jpg?sz=128", "display_name": "julianobrasil", "link": "https://stackoverflow.com/users/6433166/julianobrasil"}, "edited": false, "score": 0, "creation_date": 1556096781, "post_id": 55825996, "comment_id": 98317595, "body": "I&#39;m not sure if I&#39;m following you... given a text (part of the name o a symptom), what you want? The entire array that has that symptom, or just the cause?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "edited": false, "score": 0, "creation_date": 1556097035, "post_id": 55825996, "comment_id": 98317746, "body": "What I want is to return the certain entry of a symptom array like if the input is A then it should filter and return A from the symptoms array as an output instead of returning all the entries."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "edited": false, "score": 0, "creation_date": 1556099140, "post_id": 55825996, "comment_id": 98319007, "body": "Thank you so much, it is working I believe so but I will have to display it in html template so and what I were using to display was {{somevar.symptoms}}, but since it is an array so how can I display it there?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "edited": false, "score": 0, "creation_date": 1556099924, "post_id": 55825996, "comment_id": 98319437, "body": "Thank you so much :). It is working and html template is fine too."}], "tags": [], "owner": {"reputation": 6613, "user_id": 6433166, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-a-2vAH16fII/AAAAAAAAAAI/AAAAAAAAILw/RY3o0Eie6eo/photo.jpg?sz=128", "display_name": "julianobrasil", "link": "https://stackoverflow.com/users/6433166/julianobrasil"}, "is_accepted": false, "score": 0, "last_activity_date": 1556102368, "last_edit_date": 1556102368, "creation_date": 1556095800, "answer_id": 55825996, "question_id": 55825676, "link": "https://stackoverflow.com/questions/55825676/i-am-trying-to-filter-array-within-another/55825996#55825996", "title": "I am trying to filter array within another", "body": "<p>Try the <code>some</code> method, which tells you if any of the array's items fit a predicate:</p>\n\n<p>If you want the entire arrays of any <code>cause</code> that contains a symptom with the passed in searchString, you could do:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>filterCauses(searchString: string) {\n  searchString = searchString.toUpperCase();\n  return this.illnesses.filter((i) =&gt; i.symptoms.some((s) =&gt; s.toUpperCase()\n      .includes(searchString)));\n}\n</code></pre>\n\n<h3>UPDATE 1:</h3>\n\n<p>If you just want the possible causes:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>filterCauses(searchString: string): string[] {\n  searchString = searchString.toUpperCase();\n  return this.illnesses.filter((i) =&gt; i.symptoms.some((s) =&gt; s.toUpperCase()\n      .includes(searchString))).map((i) =&gt; i.cause);\n}\n</code></pre>\n\n<h3>UPDATE 2: (asked in comments)</h3>\n\n<p>If you just want the possible symptoms:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>filterCauses(searchString: string): string[] {\n  searchString = searchString.toUpperCase();\n  const symptomSet: Set&lt;string&gt; = new Set&lt;string&gt;();\n  this.illnesses.forEach((i) =&gt; {\n    i.symptoms.forEach((s) =&gt; {\n      if(s.toUpperCase().includes(searchString)) {\n        symptomSet.add(s);\n      }\n    }\n  }\n\n  return Array.from(symptomSet.values());\n}\n</code></pre>\n\n<h3>UPDATE 3: (asked in comments)</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>// @return comma separated list of matching symptoms\nfilterCauses(searchString: string): string {\n  searchString = searchString.toUpperCase();\n  const symptomSet: Set&lt;string&gt; = new Set&lt;string&gt;();\n  this.illnesses.forEach((i) =&gt; {\n    i.symptoms.forEach((s) =&gt; {\n      if(s.toUpperCase().includes(searchString)) {\n        symptomSet.add(s);\n      }\n    }\n  }\n\n  return Array.from(symptomSet.values())\n           .reduce((acc:string,a:string) =&gt; acc += (acc ? ', ' : '') + a,'');\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9110381"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1556102368, "creation_date": 1556094813, "last_edit_date": 1556097068, "question_id": 55825676, "link": "https://stackoverflow.com/questions/55825676/i-am-trying-to-filter-array-within-another", "title": "I am trying to filter array within another", "body": "<p>I am trying to filter array within another that is symptoms in this sceneario.</p>\n\n<p>My data &amp; code is as follows:</p>\n\n<pre><code>illnesses = [\n\n      {\"cause\": \"abc\", \"symptoms\": [\"A\", \"B\", \"C\"]},   \n      {\"cause\": \"def\", \"symptoms\": [\"g\", \"s\", \"k\", \"j\"]}  \n]\n\n\nfilterCauses(searchString: string){\n    return this.illnesses.filter(\n      (c) =&gt; {\n        for (let i = 0; i &lt; this.cause.length; i++) {\n          c.symptoms.filter( d =&gt; d.symptoms[i].toLowerCase().indexOf(searchString.toLowerCase()) !== -1)\n        }\n      }\n    )\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "templates"], "comments": [{"owner": {"reputation": 3162, "user_id": 5729813, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/543553a29a670d036966954eebda5a27?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Walzade", "link": "https://stackoverflow.com/users/5729813/tushar-walzade"}, "edited": false, "score": 0, "creation_date": 1556094847, "post_id": 55825563, "comment_id": 98316388, "body": "See <a href=\"https://www.youtube.com/watch?v=OnX4VxCLmbM\" rel=\"nofollow noreferrer\">this</a> tutorial"}, {"owner": {"reputation": 51, "user_id": 9700772, "user_type": "registered", "profile_image": "https://graph.facebook.com/1755534931170221/picture?type=large", "display_name": "Hassen Tayech", "link": "https://stackoverflow.com/users/9700772/hassen-tayech"}, "reply_to_user": {"reputation": 3162, "user_id": 5729813, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/543553a29a670d036966954eebda5a27?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Walzade", "link": "https://stackoverflow.com/users/5729813/tushar-walzade"}, "edited": false, "score": 0, "creation_date": 1556364378, "post_id": 55825563, "comment_id": 98418842, "body": "in the video, he downloaded a pre-prepared angular project with an integrated theme, then he run &#39;npm install&#39; to download libraries, that is not what i need. i already have a project that im working on, and i want to integrate a html theme (not angular theme)"}, {"owner": {"reputation": 1392, "user_id": 5509598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E6UIR.jpg?s=128&g=1", "display_name": "mondieki", "link": "https://stackoverflow.com/users/5509598/mondieki"}, "edited": false, "score": 0, "creation_date": 1581340522, "post_id": 55825563, "comment_id": 106388247, "body": "@HassenTayech. Did you find a solution to your problem?"}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 9361533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-skZgtkXNKK4/AAAAAAAAAAI/AAAAAAAAAVw/ChuLDYzLJpI/photo.jpg?sz=128", "display_name": "Bhargav Reddy", "link": "https://stackoverflow.com/users/9361533/bhargav-reddy"}, "is_accepted": false, "score": 2, "last_activity_date": 1560669815, "last_edit_date": 1560669815, "creation_date": 1560599613, "answer_id": 56610132, "question_id": 55825563, "link": "https://stackoverflow.com/questions/55825563/how-to-integrate-a-html-template-in-angular-7-project/56610132#56610132", "title": "how to integrate a html template in angular 7 project", "body": "<p>I usually don't use styles array in angular.json, \nInstead, I import all global styles in styles .css as it is set into angular.json styles array by default.</p>\n\n<pre><code>/* You can add global styles to this file, and also import other style files */\n\n@import \"assets/quote.css\";\n\n@import \"https://fonts.googleapis.com/css?family=IBM+Plex+Sans+Condensed:200|Josefin+Sans:300|Julius+Sans+One|Merriweather+Sans:400|Overpass:400|Quicksand\"\n</code></pre>\n\n\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9929537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eKIlvdIn3Mc/AAAAAAAAAAI/AAAAAAAAB4g/4O_GAEGiHQ8/photo.jpg?sz=128", "display_name": "Rohit Tiwari", "link": "https://stackoverflow.com/users/9929537/rohit-tiwari"}, "is_accepted": false, "score": 0, "last_activity_date": 1589146507, "last_edit_date": 1589146507, "creation_date": 1589139037, "answer_id": 61717639, "question_id": 55825563, "link": "https://stackoverflow.com/questions/55825563/how-to-integrate-a-html-template-in-angular-7-project/61717639#61717639", "title": "how to integrate a html template in angular 7 project", "body": "<p>Just add <code>encapsulation: ViewEncapsulation.None</code> in <code>@component</code> like below mentioned.</p>\n\n<pre><code>@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css'],\n    encapsulation: ViewEncapsulation.None\n})\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9700772, "user_type": "registered", "profile_image": "https://graph.facebook.com/1755534931170221/picture?type=large", "display_name": "Hassen Tayech", "link": "https://stackoverflow.com/users/9700772/hassen-tayech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2829, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1589146507, "creation_date": 1556094396, "question_id": 55825563, "link": "https://stackoverflow.com/questions/55825563/how-to-integrate-a-html-template-in-angular-7-project", "title": "how to integrate a html template in angular 7 project", "body": "<p>I'm integrating a html template in angular 7 project and it is not working correctly</p>\n\n<p>I added the template files under assets/template/.. and i added the imports in angular.json like:</p>\n\n<ul>\n<li>\"styles\":  [\"src/assets/template/css/style-customizer.css\",...],</li>\n<li>\"scripts\": [\"src/assets/template/js/vendor/modernizr-2.8.3.min.js\",...]</li>\n</ul>\n\n<p>I edited the html code :</p>\n\n<ul>\n<li>removed doctype and html tags</li>\n<li>removed all the header</li>\n<li>removed all css and js imports</li>\n<li>edited the images sources</li>\n</ul>\n\n<p>(like  src=\"/assets/template/img/slider/1.jpg\" alt=\"main slider\" title=\"#htmlcaption1\")</p>\n\n<p>I added the html code in index.html under the app-root tag and all working fine</p>\n\n<p>But when i change it to app.component.html :</p>\n\n<ul>\n<li>some images not showing</li>\n<li>some css are not working correctly</li>\n<li>and some animations not working</li>\n</ul>\n\n<p>and I don't have any error in my console</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 517, "user_id": 8059110, "user_type": "registered", "profile_image": "https://graph.facebook.com/1573418769336374/picture?type=large", "display_name": "Sylwek", "link": "https://stackoverflow.com/users/8059110/sylwek"}, "is_accepted": false, "score": 0, "last_activity_date": 1562168356, "creation_date": 1562168356, "answer_id": 56873693, "question_id": 55825381, "link": "https://stackoverflow.com/questions/55825381/typescript-throwing-type-error-when-giving-a-transition-component-to-material-ui/56873693#56873693", "title": "Typescript throwing type error when giving a transition component to material ui snackbar", "body": "<p>I had similar error related to Transition component when I was using Snackbar. Problem has been solved with  @material-ui/core 4.1.3.\n<a href=\"https://github.com/mui-org/material-ui/issues/16347\" rel=\"nofollow noreferrer\">see github issue</a></p>\n"}], "owner": {"reputation": 1669, "user_id": 5032858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/03bb8ef1a4faead9d5cec3e8a91d49dd?s=128&d=identicon&r=PG&f=1", "display_name": "sruthi", "link": "https://stackoverflow.com/users/5032858/sruthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562168356, "creation_date": 1556093838, "last_edit_date": 1556094268, "question_id": 55825381, "link": "https://stackoverflow.com/questions/55825381/typescript-throwing-type-error-when-giving-a-transition-component-to-material-ui", "title": "Typescript throwing type error when giving a transition component to material ui snackbar", "body": "<p>I am trying to create snackbar alert messages using material ui in a react js application using typescript. This is throwing a type error when I try to change the transition direction of the snackbar.</p>\n\n<p>Used <a href=\"https://material-ui.com/demos/snackbars/\" rel=\"nofollow noreferrer\">snackbar demo</a> from material ui documentation. By default, the snackbar transitions from bottom to top. I want to transition it from top to bottom. <a href=\"https://material-ui.com/demos/snackbars/#control-direction\" rel=\"nofollow noreferrer\">Here</a> they explain how to do that.</p>\n\n<pre><code>import IconButton from '@material-ui/core/IconButton';\nimport Slide from '@material-ui/core/Slide';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/ErrorOutlined';\nimport InfoIcon from '@material-ui/icons/InfoOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport green from '@material-ui/core/colors/green';\nimport amber from '@material-ui/core/colors/amber';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/WarningRounded';\nimport withStyles, { WithStyles } from '@material-ui/core/styles/withStyles';\n\nimport * as React from 'react';\n\ntype AlertMessageProps = {\n  index: number;\n  type: string;\n  message: string;\n  onClose: (event: any) =&gt; void\n};\n\ntype AlertMessageStateProps = {\n  open: boolean\n}\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst styles1 = (theme: any) =&gt; ({\n  success: {\n    backgroundColor: green[600],\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  info: {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  warning: {\n    backgroundColor: amber[700],\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing.unit,\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n});\n\nconst MySnackbarContent: React.FunctionComponent&lt;WithStyles &amp; {\n  onClose: any,\n  variant: string,\n  message: string\n}&gt; = (props) =&gt; {\n  const { classes, message, onClose, variant, ...other } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    &lt;SnackbarContent\n      className={classes[variant]}\n      aria-describedby=\"client-snackbar\"\n      message={\n        &lt;span id=\"client-snackbar\" className={classes.message}&gt;\n          &lt;Icon className={classes[variant]} /&gt;\n          {message}\n        &lt;/span&gt;\n      }\n      action={[\n        &lt;IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={onClose}\n        &gt;\n          &lt;CloseIcon className={classes.icon} /&gt;\n        &lt;/IconButton&gt;,\n      ]}\n      {...other}\n    /&gt;\n  );\n}\n\nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);\nexport default class AlertMessage extends React.PureComponent&lt;AlertMessageProps, AlertMessageStateProps&gt; {\n\n  state = {\n    open: true\n  }\n\n  handleClose = (event: any, reason: string) =&gt; {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    this.setState({ open: false });\n  };\n\n\n  public render() {\n    const { message } = this.props;\n    return (\n      &lt;Snackbar\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        TransitionComponent={&lt;Slide direction=\"down\" /&gt;}\n        open={this.state.open}\n        autoHideDuration={6000}\n        onClose={this.handleClose}\n      &gt;\n        &lt;MySnackbarContentWrapper\n          onClose={this.handleClose}\n          variant={this.props.type}\n          message={message}\n        /&gt;    \n      &lt;/Snackbar&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>This is the code I wrote.</p>\n\n<p>It is giving type error </p>\n\n<pre><code>[tsl] ERROR in C:\\Users\\ssripat\\projects\\interface\\src\\components\\Alerts\\AlertMessage.tsx(118,9)\n      TS2322: Type 'Element' is not assignable to type 'string | ComponentClass&lt;any, any&gt; | FunctionComponent&lt;any&gt; | undefined'.\n  Type 'Element' is not assignable to type 'FunctionComponent&lt;any&gt;'.\n    Type 'Element' provides no match for the signature '(props: any, context?: any): ReactElement&lt;any&gt; | null'.\n</code></pre>\n\n<p>I am getting a tslint warning at TransitionComponent in Snackbar. When I hover over the warning, this is what I am getting</p>\n\n<pre><code>(JSX attribute) SnackbarProps.TransitionComponent?: string | React.ComponentClass&lt;any, any&gt; | React.FunctionComponent&lt;any&gt; | undefined\nType 'Element' is not assignable to type 'string | ComponentClass&lt;any, any&gt; | FunctionComponent&lt;any&gt; | undefined'.\n  Type 'Element' is not assignable to type 'FunctionComponent&lt;any&gt;'.\n    Type 'Element' provides no match for the signature '(props: any, context?: any): ReactElement&lt;any&gt; | null'.ts(2322)\nSnackbar.d.ts(29, 3): The expected type comes from property 'TransitionComponent' which is declared here on type 'IntrinsicAttributes &amp; SnackbarProps &amp; { children?: ReactNode; }'\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "antd"], "comments": [{"owner": {"reputation": 553, "user_id": 1495753, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZNteK.jpg?s=128&g=1", "display_name": "danywalls", "link": "https://stackoverflow.com/users/1495753/danywalls"}, "edited": false, "score": 0, "creation_date": 1556093391, "post_id": 55825144, "comment_id": 98315610, "body": "it can maybe help <a href=\"https://stackoverflow.com/questions/44898248/how-to-use-antd-form-create-in-typescript\" title=\"how to use antd form create in typescript\">stackoverflow.com/questions/44898248/&hellip;</a> ?"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1557916598, "post_id": 55825144, "comment_id": 98924077, "body": "just install lates antd, already fixed, my version: 3.18.1"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 4823861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e8fb21dfe93276f97395b34ec1fc8be?s=128&d=identicon&r=PG&f=1", "display_name": "Elz&#233;ar", "link": "https://stackoverflow.com/users/4823861/elz%c3%a9ar"}, "is_accepted": true, "score": 3, "last_activity_date": 1556182041, "creation_date": 1556182041, "answer_id": 55845260, "question_id": 55825144, "link": "https://stackoverflow.com/questions/55825144/how-to-use-form-create-in-typescript-and-antd-with-function-component/55845260#55845260", "title": "How to use Form.create in typescript and antd with function component", "body": "<p>I think this is a bug from the TypeScript definitions in Ant Design:<br/>\n<a href=\"https://github.com/ant-design/ant-design/issues/16229\" rel=\"nofollow noreferrer\">https://github.com/ant-design/ant-design/issues/16229</a> (Chinese)<br/>\n<a href=\"https://github.com/ant-design/ant-design/issues/16095#issuecomment-485709670\" rel=\"nofollow noreferrer\">https://github.com/ant-design/ant-design/issues/16095#issuecomment-485709670</a> (English)</p>\n\n<p>It appeared in version 3.16.4 (published on 2019-04-21), and it is still present in version 3.16.5.<br/>\nYou can use a previous version (<code>\"antd\": \"3.16.3\"</code>) until the fix is deployed.</p>\n"}], "owner": {"reputation": 65, "user_id": 1285047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cb9e35fbe024ce111b5eada9042df57?s=128&d=identicon&r=PG", "display_name": "Alimon", "link": "https://stackoverflow.com/users/1285047/alimon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2721, "favorite_count": 1, "accepted_answer_id": 55845260, "answer_count": 1, "score": 2, "last_activity_date": 1556182041, "creation_date": 1556093049, "question_id": 55825144, "link": "https://stackoverflow.com/questions/55825144/how-to-use-form-create-in-typescript-and-antd-with-function-component", "title": "How to use Form.create in typescript and antd with function component", "body": "<p>I have a form created by Form.create(), but I can't compiler success.</p>\n\n<p>error like:</p>\n\n<pre><code>Argument of type 'FunctionComponent&lt;MyProps&gt;' is not assignable to parameter of type 'ComponentType&lt;{}&gt;'.\n  Type 'FunctionComponent&lt;MyProps&gt;' is not assignable to type 'FunctionComponent&lt;{}&gt;'.\n    Type '{}' is missing the following properties from type 'MyProps': form, and 2 more\n</code></pre>\n\n<p>My code is:</p>\n\n<pre><code>import { FormComponentProps } from \"antd/lib/form\";\n\ninterface MyProps extends FormComponentProps {\n   form: any;\n}\n\nconst TableQuery: FunctionComponent&lt;MyProps&gt; = (props: MyProps) =&gt; {\n // some code\n};\n\nconst WrappedTableQuery = Form.create&lt;MyProps&gt;()(TableQuery)\n\nexport default WrappedTableQuery;\n</code></pre>\n\n<p>How can I fix this error.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1556093330, "post_id": 55825139, "comment_id": 98315580, "body": "Hi there :). It works as you expect on 3.3 not on 3.4, might be a regression, or a compiler settings thing (tried on, url too long to post)  <a href=\"https://typescript-play.js.org\" rel=\"nofollow noreferrer\">typescript-play.js.org</a>)"}, {"owner": {"reputation": 1532, "user_id": 984137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/efef2028c8029d38d2b91cf9edbef145?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/984137/jacob"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556093609, "post_id": 55825139, "comment_id": 98315731, "body": "Hi again! :) Interesting fact."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1556094687, "post_id": 55825139, "comment_id": 98316298, "body": "I think this is a bug, do you want to post it or shall I ?"}, {"owner": {"reputation": 1532, "user_id": 984137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/efef2028c8029d38d2b91cf9edbef145?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/984137/jacob"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556094892, "post_id": 55825139, "comment_id": 98316422, "body": "I can confirm it works with 3.3.4 and 3.5.0-dev.20190424, but not with 3.4.5. Please do it :)"}, {"owner": {"reputation": 1532, "user_id": 984137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/efef2028c8029d38d2b91cf9edbef145?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/984137/jacob"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1556095288, "post_id": 55825139, "comment_id": 98316656, "body": "Do you know a trick to get rid of the index signature (string | number) from the union of keys (string | number | &#39;p2&#39;)? So I can continue to use 3.4.x until it is fixed or 3.5 is released."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1556095942, "post_id": 55825139, "comment_id": 98317038, "body": "Have not found a workaround unfortunately :("}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1556115719, "post_id": 55825139, "comment_id": 98329319, "body": "There&#39;s a <a href=\"https://stackoverflow.com/a/51955852/2887218\"><code>KnownKeys&lt;T&gt;</code></a> type alias you can use to get a list of non-index keys and then you can do <code>Pick&lt;T, KnownKeys&lt;T&gt;&gt;</code> to strip off the index signature.  If you apply that to <code>Test2</code> it will become just <code>{p2: boolean}</code>."}], "owner": {"reputation": 1532, "user_id": 984137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/efef2028c8029d38d2b91cf9edbef145?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/984137/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1556093032, "creation_date": 1556093032, "question_id": 55825139, "link": "https://stackoverflow.com/questions/55825139/why-is-index-signature-added-by-generic-argument-constraint", "title": "Why is index signature added by generic argument constraint", "body": "<p>I dont understand why <code>{ [k: string]: BooleanType2 | ObjectType2 }</code> is added to the result of the mapped type. See <code>Test2</code>:</p>\n\n<p>What is the correct way to map the type without the index signature is added?</p>\n\n<pre><code>type BooleanType1 = {\n  type: 'boolean'\n  // optional?: boolean\n}\n\ntype ObjectType1 = {\n  properties: { [k: string]: BooleanType1 | ObjectType1 }\n}\n\ntype Result1&lt;T extends BooleanType1 | ObjectType1&gt; = [T] extends [ObjectType1]\n  ? { [Key in keyof T['properties']]: Result1&lt;T['properties'][Key]&gt; }\n  : [T] extends [BooleanType1]\n  ? boolean\n  : never\n\ntype Test1 = Result1&lt;{ properties: { p1: { type: 'boolean' } } }&gt; // Type is { p1: boolean }\n\ntype BooleanType2 = {\n  type: 'boolean'\n  optional?: boolean // This causes \"[x: string]: never\" to be part of Test2\n}\n\ntype ObjectType2 = {\n  properties: { [k: string]: BooleanType2 | ObjectType2 }\n}\n\ntype Result2&lt;T extends BooleanType2 | ObjectType2&gt; = [T] extends [ObjectType2]\n  ? { [Key in keyof T['properties']]: Result2&lt;T['properties'][Key]&gt; }\n  : [T] extends [BooleanType2]\n  ? boolean\n  : never\n\ntype Test2 = Result2&lt;{ properties: { p2: { type: 'boolean' } } }&gt; // Type is { [x: string]: never; p2: boolean }\n</code></pre>\n"}, {"tags": ["typescript", "generics", "static-methods"], "answers": [{"comments": [{"owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "edited": false, "score": 0, "creation_date": 1556097209, "post_id": 55825177, "comment_id": 98317857, "body": "Thank you for the explanation. Just another follow up question. What do you think about <code>type Type&lt;T&gt; = new (...arg: any[]) =&gt; T; type func = Pick&lt;typeof GenericBase, keyof typeof GenericBase&gt; &amp; Type&lt;GenericBase&gt;;</code>? Though playground shows error, it works on my machine :)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "edited": false, "score": 0, "creation_date": 1556097325, "post_id": 55825177, "comment_id": 98317926, "body": "@SayanPal I actually tried that myself, and got an error.. not sure why I would have expected it to work as a solution for having both the statics and a non generic constructor, but for some reason it errors out .."}, {"owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "edited": false, "score": 0, "creation_date": 1556097403, "post_id": 55825177, "comment_id": 98317979, "body": "Updated the question with the link to playground."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "edited": false, "score": 1, "creation_date": 1556097646, "post_id": 55825177, "comment_id": 98318131, "body": "@SayanPal added a version that adds the constructor back in"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1556097633, "last_edit_date": 1556097633, "creation_date": 1556093162, "answer_id": 55825177, "question_id": 55824925, "link": "https://stackoverflow.com/questions/55824925/how-to-correctly-apply-generic-type-definition-for-generic-static-methods/55825177#55825177", "title": "How to correctly apply generic type definition for generic static methods?", "body": "<p>The problem is that since the base class has a generic type parameter it's constructor is a generic constructor. This would be what the constructor signature would look like:</p>\n\n<pre><code>const t3 : new &lt;T&gt;(...arg: any[]) =&gt; GenericBase&lt;T&gt; = GenericBase\n</code></pre>\n\n<p>This is why when you try to assign <code>DerivedGeneric</code> to <code>typeof GenericBase</code> you can't, because <code>DerivedGeneric</code> does not have such a generic constructor.</p>\n\n<p>If you just want a type that represents the statics of the class you can use <code>Pick</code> to get rid of the generic constructor signature from <code>typeof GenericBase</code>:</p>\n\n<pre><code>const t1: Pick&lt;typeof GenericBase, keyof typeof GenericBase&gt; = DerivedGeneric; // OK\nt1.method(\"t1\");\n</code></pre>\n\n<p>You can also create an intersection of a constructor returns <code>GenericBase&lt;any&gt;</code> and the static members. </p>\n\n<pre><code>type Type&lt;T&gt; =  new (...args: unknown[]) =&gt; T;\nconst t1: Type&lt;GenericBase&gt; &amp; Pick&lt;typeof GenericBase, keyof typeof GenericBase&gt;  = DerivedGeneric;\nt1.method(\"t1\");\nnew t1()\n</code></pre>\n\n<p>Note: it will not work with <code>...args: any[]</code>, <code>any</code> is a bit special not sure how that plays into this, but <code>unknown</code> should be preferred anyway.</p>\n"}], "owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55825177, "answer_count": 1, "score": 1, "last_activity_date": 1556097633, "creation_date": 1556092271, "last_edit_date": 1556097343, "question_id": 55824925, "link": "https://stackoverflow.com/questions/55824925/how-to-correctly-apply-generic-type-definition-for-generic-static-methods", "title": "How to correctly apply generic type definition for generic static methods?", "body": "<p>I have the following base and derived classes.</p>\n\n<pre><code>class GenericBase&lt;T = any&gt; {\n  static method(id: any) {\n    console.log(`${id}: ${this.name}#method`);\n  }\n  public someProp!: T;\n}\n\nclass DerivedGeneric extends GenericBase&lt;Date&gt; {}\n</code></pre>\n\n<p>I am looking for a way to correctly apply type definitions that will allow me to call the static method. Below is what I have tried so far.</p>\n\n<pre><code>const t1: typeof GenericBase = DerivedGeneric;\nt1.method(\"t1\");\n\ntype Type&lt;T&gt; = new (...arg: any[]) =&gt; T;\nconst t2: Type&lt;GenericBase&gt; = DerivedGeneric;\nt2.method(\"t2\");\n</code></pre>\n\n<p>For the first one (<code>t1</code>), TypeScript shows following error</p>\n\n<pre>\nType 'typeof DerivedGeneric' is not assignable to type 'typeof GenericBase'.\n  Type 'DerivedGeneric' is not assignable to type 'GenericBase'.\n    Types of property 'someProp' are incompatible.\n      Type 'Date' is not assignable to type 'T'.\n</pre>\n\n<p>For the second one it shows the following error.</p>\n\n<pre>\nProperty 'method' does not exist on type 'Type>'.\n</pre>\n\n<p>Naturally, the following works without any compile time error ...</p>\n\n<pre><code>const t3: Function = DerivedGeneric;\n(t3 as typeof DerivedGeneric).method(\"t3\");\n</code></pre>\n\n<p>... and so does the following, but now we have a runtime error.</p>\n\n<pre><code>const t4: Function = () =&gt; {};\n(t4 as typeof DerivedGeneric).method(\"t4\");\n</code></pre>\n\n<p>Without generics, the first approach (<code>typeof *Base*</code>) works quite well. You can check that from this <a href=\"https://typescript-play.js.org/#code/MYGwhgzhAEBCkFNoG8BQ1oQC5iwS2GgFsEsALAewBMAKPKgLmjADsBPAShXQ2mApYQKIBADoQFAOY0ABgBJk9AL5MF5PBFEswJJQGIS5ajI4BuHkp4AHAK4AjEAUwUSABQBOFKwEIm2d3gskuaWqKCQMAAiCAEAbghU0AgAHlgILFQw8BBIyKH8gljQWExYbFYIFABmcIjQALzQ0XEJ5liihpS0AERY3WaoqAD0AFTQALSTU9MzU9AjQ4PhUNAA4ukxBNkIADwAKg3M7AB83BjYuE6d1HSMR5xnvAVCIuJSsgrKqsjqmtq6BlIXRM5gwlgwtgcTiEbk8PiYexCS3AK2aeHiVHWLE2hBSaQyMCxOO2O0iuAQpzySwE2GKAEZSuVKjUiQFgNtDmiMayCG06R0gTdenT+uZUGUKtA9kz9qdGtiAO7QGiiVVgdySJisNgAbQAulx6qdEWEaUUsAAmBEynnsxBypqbbkbNltC0Cow9S2i6mFYoAZiYADEbCxgPgBJynQlbeYaFh-cwYBLmY6WpiXQQOB6ujRev6faa-VgACzB0PhvCRxo0Q2UpRx0tJ4pM6pp9ExzPAbPXL0ln1AA\" rel=\"nofollow noreferrer\">playground link</a>. Obviously, all approaches (except <code>t4</code>) work in runtime, and only the compile time errors are bugging me.</p>\n\n<p>Is there any way to correct the typings with the generics?</p>\n\n<p><strong>Edit:</strong>\n<a href=\"https://typescript-play.js.org/#code/MYGwhgzhAEBCkFNoG8BQ1oQC5iwS2GgFsEsALAewBMAKPKgLmjADsBPAShXQ2mApYQKIBADoQFAOY0ABgBJk9AL5MF5PBFEswJJQGIS5ajI4BuHkp4AHAK4AjEAUwUSABQBOFKwEIm2d3gskuaWqKCQMAAiCAEAbghU0AgAHlgILFQw8BBIyKH8gljQWExYbFYIFABmcIjQALzQ0XEJ5liihpS0AERY3WaoqAD0AFTQALSTU9MzU9AjQ4PhUNAA4ukxBNkIADwAKg3M7AB83BjYuE6d1HSMR5xnvAVCIuJSsgrKqsjqmtq6BlIXRM5gwlgwtgcTiEbk8PiYe1BfAE-hswCwFHcNC4aF4yMEwjEEmk3XWLE2wG2fAx7n6SMs+XAK2aeHiVDJFKSqXSmTWGwClMQO0iuAQp1x+NR6Mx2Me5xsFSxAzxz0JbxJLLZHIF1MxdIsqFCZQq0D25V2e1OjXJAHdoDRRI6wO5JExWGwANoAXS49VOiNQxqQVRsLEIjVcBAA1jsg9U+eSBdsADTQKMINjxuM1bVbRCnABkPDNFR2ucFOWO5jCKKKVQAjEwQ2HDpqEuXzA2OkCbt0G-rnkUKHYAFaHW3QBvY6tDIaSopYRvFc3x8tUxpt9n8gjmWfFevdow9Rf64ZzwfFABMCPNZe3FbFrc2Wvvu7nWEvh66NF6l9Pe4vLAAGYmAAMVDdE8AEJ8Wi3RMdzPe1gOYGBsyaZ923vDgv17YD-3PWtigAFjAiD8GgxpZT9FAlDfJCiJQ5cKnjTdy2w65jyI-UgA\" rel=\"nofollow noreferrer\">Link to playground</a> with the following type.</p>\n\n<pre><code>type Type&lt;T&gt; = new (...arg: any[]) =&gt; T;\ntype func = Pick&lt;typeof GenericBase, keyof typeof GenericBase&gt; &amp; Type&lt;GenericBase&gt;;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 1, "creation_date": 1556092237, "post_id": 55824870, "comment_id": 98314950, "body": "what if you just split it by the empty space? <code>var [prefix, phoneno] = &#39;+36 42534534534.split(&#39; &#39;);</code> where <code>prefix</code> will become +36 and <code>phoneno</code> will become 42534534534"}, {"owner": {"reputation": 1572, "user_id": 6713046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/937a8a82943267be635fa90393bf47a9?s=128&d=identicon&r=PG&f=1", "display_name": "porgo", "link": "https://stackoverflow.com/users/6713046/porgo"}, "edited": false, "score": 0, "creation_date": 1556092255, "post_id": 55824870, "comment_id": 98314964, "body": "use split: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 119, "user_id": 9504997, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wiBOgtwyUr8/AAAAAAAAAAI/AAAAAAAABFM/SbXWVaqJgLU/photo.jpg?sz=128", "display_name": "Jon Fernandez", "link": "https://stackoverflow.com/users/9504997/jon-fernandez"}, "edited": false, "score": 0, "creation_date": 1556092291, "post_id": 55824870, "comment_id": 98314984, "body": "if it&#180;s a string you can use Split() <a href=\"https://www.tutorialspoint.com/typescript/typescript_string_split.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/typescript/typescript_string_split.htm</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": false, "score": 2, "last_activity_date": 1556092338, "creation_date": 1556092338, "answer_id": 55824945, "question_id": 55824870, "link": "https://stackoverflow.com/questions/55824870/get-symbols-before-space-and-after-js/55824945#55824945", "title": "Get symbols before space and after (JS)", "body": "<p>Try <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\" rel=\"nofollow noreferrer\">split()</a> with space.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let value = `+36 42534534534`\r\nlet valueSplit = value.split(' ');\r\nlet phoneCode = valueSplit[0]\r\nlet phoneNumber = valueSplit[1]\r\n\r\nconsole.log(phoneCode)\r\nconsole.log(phoneNumber)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "is_accepted": false, "score": 0, "last_activity_date": 1556092572, "creation_date": 1556092572, "answer_id": 55825002, "question_id": 55824870, "link": "https://stackoverflow.com/questions/55824870/get-symbols-before-space-and-after-js/55825002#55825002", "title": "Get symbols before space and after (JS)", "body": "<p>Just use <code>split</code> (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\" rel=\"nofollow noreferrer\">read more about split here</a>) if the string input format is always the same, meaning it always has the prefix separated by the number with an empty space.</p>\n\n<pre><code>set phoneNumberResult(value: string) {\n    if (this.phoneNumberResult !== value) {\n        let [phoneCode, phoneNumber] = value.split(' ');\n        this.phoneCode = phoneCode;\n        this.phoneNumber = phoneNumber;\n        this.changed.forEach(f =&gt; f(value));\n    }\n}\n</code></pre>\n\n<p><code>split</code>, in your case, will return an array where the first element will be the left side of the splitted string and the second element will be the right side of it.</p>\n\n<p>Sample fiddle to play around with: <a href=\"https://jsfiddle.net/mcxuorhf/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/mcxuorhf/</a></p>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556092572, "creation_date": 1556092095, "question_id": 55824870, "link": "https://stackoverflow.com/questions/55824870/get-symbols-before-space-and-after-js", "title": "Get symbols before space and after (JS)", "body": "<p>I have angular component where I have phone number</p>\n\n<p>for example <code>+36 42534534534</code></p>\n\n<p>I need to get code before space and phone number before space.</p>\n\n<p>I make it like this</p>\n\n<pre><code>set phoneNumberResult(value: string) {\n    if (this.phoneNumberResult !== value) {\n        this.phoneCode = value.substr(0, 3);\n        this.phoneNumber = value.substr(5, value.length - 5);\n        this.changed.forEach(f =&gt; f(value));\n    }\n}\n</code></pre>\n\n<p>But phone code can be 3 or 4 or 5 symbols.\nSo I need to get all symbols before space and all after space to get <code>phoneCode</code> and <code>phoneNumber</code></p>\n\n<p>How I can do this correctly?</p>\n"}, {"tags": ["reactjs", "typescript", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 7105503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e87d42b5a845f105ab30d97626b454?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Kratochvil", "link": "https://stackoverflow.com/users/7105503/pavel-kratochvil"}, "edited": false, "score": 0, "creation_date": 1556092307, "post_id": 55824609, "comment_id": 98314995, "body": "This will not work though.? Effect function is triggered in every render because of no dependencies so if you trigger setUsername from logout, then react rerenders and in rerender call effect function which sets username from localStorage again."}], "tags": [], "owner": {"reputation": 711, "user_id": 11291718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBbiq.jpg?s=128&g=1", "display_name": "ljbc1994", "link": "https://stackoverflow.com/users/11291718/ljbc1994"}, "is_accepted": true, "score": 1, "last_activity_date": 1556091194, "creation_date": 1556091194, "answer_id": 55824609, "question_id": 55824372, "link": "https://stackoverflow.com/questions/55824372/how-to-access-a-hook-setter-in-an-onclick-function/55824609#55824609", "title": "How to access a hook setter in an onClick function", "body": "<p>You can declare the function inside the functional component and then access the component state.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function Header(props: IHeaderProps) {\n\n    const [username, setUsername] = useState('');\n\n    function handleLogout() {\n        // handle logout logic here\n        setUsername('');\n    }\n\n    // set username in header if found in storage\n    useEffect(() =&gt; {\n        const token = JSON.parse(localStorage.getItem(TOKEN_NAME) || '{}');\n\n        if(token.Username) {\n        setUsername(token.Username);\n        }\n    });......\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 9671246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab397493c1a5a7896b6b01d230f2870?s=128&d=identicon&r=PG&f=1", "display_name": "Flimzy_Programmer", "link": "https://stackoverflow.com/users/9671246/flimzy-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 55824609, "answer_count": 1, "score": 0, "last_activity_date": 1556091194, "creation_date": 1556090245, "last_edit_date": 1556090934, "question_id": 55824372, "link": "https://stackoverflow.com/questions/55824372/how-to-access-a-hook-setter-in-an-onclick-function", "title": "How to access a hook setter in an onClick function", "body": "<p>I'm rewriting a class component to a functional component, but i can't figure out how to access a hook setter in an onClick function.</p>\n\n<p>I declare the hook as usual, which is a variable and a setter for accessing a username :</p>\n\n<pre><code>export function Header(props: IHeaderProps) {\n\n    const [username, setUsername] = useState('');\n\n\n    // set username in header if found in storage\n    useEffect(() =&gt; {\n        const token = JSON.parse(localStorage.getItem(TOKEN_NAME) || '{}');\n\n        if(token.Username) {\n        setUsername(token.Username);\n        }\n    });......\n</code></pre>\n\n<p>In the JSX i have a \"Sign out\" button. When clicked, it invokes the handleLogout function, where i need to set the username to empty string:</p>\n\n<pre><code>    ....\n    &lt;span className=\"ms-Grid-col ms-u-sm4\"&gt;&lt;DefaultButton onClick={handleLogout} text=\"Log out\" /&gt;&lt;/span&gt;\n    ....\n\nfunction handleLogout() {\n    ...\n    // how can i set the username to empty string here?\n}\n</code></pre>\n\n<p>But how can i achieve this? When this was a class component i had access to the state variable, what is the proper way to deal with this using hooks? I'm using typescript with the \"cannot use lambda in the markup\" rule</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack", "storybook"], "answers": [{"tags": [], "owner": {"reputation": 961, "user_id": 3467836, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Zpiro.jpg?s=128&g=1", "display_name": "Swapnil Patil", "link": "https://stackoverflow.com/users/3467836/swapnil-patil"}, "is_accepted": true, "score": 0, "last_activity_date": 1567664257, "creation_date": 1567664257, "answer_id": 57799428, "question_id": 55824223, "link": "https://stackoverflow.com/questions/55824223/custom-validations-working-perferctly-in-react-app-but-story-book-giving-error/57799428#57799428", "title": "Custom validations working perferctly in react app but story book giving error &#39;Uxpected token&#39;", "body": "<p>The TSDocgen Plugin has some issues if we pass an array of functions as a value to a prop. So, for now, I removed the plugin,</p>\n\n<pre><code>const path = require('path');\nconst SRC_PATH = path.join(__dirname, '../src');\n\nmodule.exports = ({ config }) =&gt; {\n  config.module.rules.push({\n    test: /\\.(ts|tsx)$/,\n    include: [SRC_PATH],\n    use: [\n      {\n        loader: require.resolve('babel-loader'),\n        options: {\n          presets: [['react-app', { flow: false, typescript: true }]],\n        },\n      },\n      {\n        loader: require.resolve('awesome-typescript-loader'),\n        options: {\n          configFileName: './.storybook/tsconfig.json'\n        }\n      },\n    ],\n  });\n  config.resolve.extensions.push('.ts', '.tsx');\n  return config;\n};\n</code></pre>\n\n<p>Welcome if someone finds a solution which will allow using doc plugin also. </p>\n"}], "owner": {"reputation": 961, "user_id": 3467836, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Zpiro.jpg?s=128&g=1", "display_name": "Swapnil Patil", "link": "https://stackoverflow.com/users/3467836/swapnil-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 57799428, "answer_count": 1, "score": 0, "last_activity_date": 1567664257, "creation_date": 1556089751, "question_id": 55824223, "link": "https://stackoverflow.com/questions/55824223/custom-validations-working-perferctly-in-react-app-but-story-book-giving-error", "title": "Custom validations working perferctly in react app but story book giving error &#39;Uxpected token&#39;", "body": "<p>The validations are passed to element in <strong>validationRules</strong> prop like as follow</p>\n\n<pre><code>&lt;Input\n    placeholder=\"Phone Number\"\n    validationRules={[ required ]}\n    onChange={this.updateSearchParams.bind(this, 'phoneNumber')}\n/&gt;\n</code></pre>\n\n<p>The validation rule is basically a function and the validationRules are an array of functions. The <em>require</em> rule is like as follows</p>\n\n<pre><code>export const required = (value: string) =&gt; {\n  if (!value.toString().trim().length) {\n    return false\n  }\n\n  return true\n};\n</code></pre>\n\n<p>The react app is working perfectly fine but when I am running a storybook the file gives an error like</p>\n\n<blockquote>\n  <p>Uncaught SyntaxError: Invalid or unexpected token</p>\n</blockquote>\n\n<p><strong>The storybook run fine without that validationRules prop</strong></p>\n\n<p>The current webpack.config.js of the storybook is</p>\n\n<pre><code>module.exports = ({ config }) =&gt; {\n  config.module.rules.push({\n    test: /\\.(ts|tsx)$/,\n    include: [SRC_PATH],\n    use: [\n      {\n        loader: require.resolve('babel-loader'),\n        options: {\n          presets: [['react-app', { flow: false, typescript: true }]],\n        },\n      },\n      {\n        loader: require.resolve('awesome-typescript-loader'),\n        options: {\n          configFileName: './.storybook/tsconfig.json'\n        }\n      },\n      // Optional\n      {\n        loader: require.resolve('react-docgen-typescript-loader'),\n      },\n    ],\n  });\n  config.plugins.push(new TSDocgenPlugin());\n  config.resolve.extensions.push('.ts', '.tsx');\n  return config;\n};\n</code></pre>\n\n<p><em>Do I need an extra configuration here?</em></p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "gsap"], "owner": {"reputation": 39, "user_id": 10057584, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JGcAtZJCSDk/AAAAAAAAAAI/AAAAAAAADQs/SCcgGlFnH_Q/photo.jpg?sz=128", "display_name": "Adarsh saraogi", "link": "https://stackoverflow.com/users/10057584/adarsh-saraogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556086521, "creation_date": 1556086521, "question_id": 55823478, "link": "https://stackoverflow.com/questions/55823478/using-math-object-to-load-100-in-loader-bar", "title": "Using Math object to load 100% in loader bar", "body": "<p>I am using Gsap and using TimelineLite Object for loader processing and showing percent content using Math.round object but it not showing accurate measure it show 67% percent instead of 100%\nexample</p>\n\n<pre><code> ngOnInit() {\nconst timer = 4;\nthis.master =  new TimelineLite();\nthis.master.to(this.progress.nativeElement, timer, this.progressLoader(this.master));\nthis.master.to(this.panel.nativeElement, 2, this.verticalShow(this.master));\n  }\n\n\n\nprogressLoader(obj: any) {\n      let newPercent: any;\n      this.count = this.count.nativeElement;\n      const vars = {\n      width: '100%',\n      ease:  Power2.easeOut,\n      onUpdate: () =&gt; {\n        console.log(newPercent = Math.round((obj.progress() * 100)));\n        this.count.innerHTML = newPercent + '%';\n      }\n    };\n      return vars;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "date"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1556085431, "post_id": 55823242, "comment_id": 98311911, "body": "What does &quot;gives me a value of the actual date&quot; mean and how do you verify what the value is?"}, {"owner": {"reputation": 15, "user_id": 10726845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fca7cfb80c38b00f0a1ff7923464d78d?s=128&d=identicon&r=PG&f=1", "display_name": "buruguduys", "link": "https://stackoverflow.com/users/10726845/buruguduys"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1556085697, "post_id": 55823242, "comment_id": 98312014, "body": "it gives me the actual value of datescheduled. ex&quot;2019-04-10T16:00:00Z&quot; But when the value of datescheduled is &quot;1970-01-01T00:00:00Z&quot; it gives me 0 using the value of."}], "answers": [{"tags": [], "owner": {"reputation": 1194, "user_id": 9110955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pxFxr.jpg?s=128&g=1", "display_name": "Ilarion Halushka", "link": "https://stackoverflow.com/users/9110955/ilarion-halushka"}, "is_accepted": true, "score": 1, "last_activity_date": 1556085893, "creation_date": 1556085893, "answer_id": 55823360, "question_id": 55823242, "link": "https://stackoverflow.com/questions/55823242/compare-two-dates-using-valueof/55823360#55823360", "title": "Compare two dates using valueOf()", "body": "<p>In moment.js there are many useful methods for comparing dates like <code>isAfter</code>, <code>isBefore</code>. So in your case use:</p>\n\n<pre><code>if (moment(this.card.dateScheduled).isBefore(startDayOfTheWeek))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1956, "user_id": 2845389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7t8u4.png?s=128&g=1", "display_name": "Kaushik", "link": "https://stackoverflow.com/users/2845389/kaushik"}, "is_accepted": false, "score": 0, "last_activity_date": 1556087631, "creation_date": 1556087631, "answer_id": 55823713, "question_id": 55823242, "link": "https://stackoverflow.com/questions/55823242/compare-two-dates-using-valueof/55823713#55823713", "title": "Compare two dates using valueOf()", "body": "<p>I think you can take the benefits of inbuilt functionality. </p>\n\n<p>Here is an example to compare dates in <code>javascript</code>. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const first = +new Date(); // current date\r\nconst last = +new Date(2014, 10, 10); // old date \r\n\r\nconsole.log(first);\r\nconsole.log(last);\r\n// comparing the dates\r\nconsole.log(first &gt; last);\r\nconsole.log(first &lt; last);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 10726845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fca7cfb80c38b00f0a1ff7923464d78d?s=128&d=identicon&r=PG&f=1", "display_name": "buruguduys", "link": "https://stackoverflow.com/users/10726845/buruguduys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 55823360, "answer_count": 2, "score": 1, "last_activity_date": 1556087631, "creation_date": 1556085352, "last_edit_date": 1556087159, "question_id": 55823242, "link": "https://stackoverflow.com/questions/55823242/compare-two-dates-using-valueof", "title": "Compare two dates using valueOf()", "body": "<pre><code> const startDayOfTheWeek: number = moment().startOf('isoweek' as moment.unitOfTime.StartOf).valueOf();\n if (this.card.dateScheduled.valueOf() &lt; startDayOfTheWeek) {\n     this.card.dateScheduled = this.card.dateDue;\n }\n</code></pre>\n\n<p>When using <code>valueOf()</code>, <code>this.card.dateScheduled.valueOf()</code> this gives me a value of the actual date. Not the millisecond relative to 1970 (a.k.a the Unix timestamp/epoch).</p>\n\n<p>Why is that?</p>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1556085780, "post_id": 55823136, "comment_id": 98312039, "body": "As a workaround you can go with <code>type Recursive&lt;T&gt; = T &amp; RecursiveIndex&lt;T&gt;; interface RecursiveIndex&lt;T&gt; { [prop: string]: Recursive&lt;T&gt;; }</code>. Could you add some example how would you use it and what are you trying to achieve?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1556117543, "post_id": 55823136, "comment_id": 98330569, "body": "Another workaround: <code>type Recursive&lt;T&gt; = T &amp; { [prop in string]: Recursive&lt;T&gt; };</code>.  This evaluates to exactly your intended definition without error, but I don&#39;t know why the error happens when you do it your way.  My search of <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">GitHub issues</a> didn&#39;t find anything, so you might consider filing as a bug.  However it helps to have a compelling use case, so you might want to talk about that more either here or in GitHub if you open an issue.  Good luck!"}], "owner": {"reputation": 263, "user_id": 508691, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/171c7c48b5addc1dee481b6747ec80d0?s=128&d=identicon&r=PG", "display_name": "Leo Lobeto", "link": "https://stackoverflow.com/users/508691/leo-lobeto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1556084795, "creation_date": 1556084795, "question_id": 55823136, "link": "https://stackoverflow.com/questions/55823136/type-circularity-errors-seem-to-be-arbitrary-in-typescript", "title": "Type circularity errors seem to be arbitrary in Typescript", "body": "<p>This recursive type definition is accepted by the Typescript compiler.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Recursive&lt;T&gt; = T &amp; { prop: Recursive&lt;T&gt; };\n</code></pre>\n\n<p>I can define as many properties as I want and it will compile, but if I need all possible string properties to be recursively defined, it won't compile.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Recursive&lt;T&gt; = T &amp; { [prop: string]: Recursive&lt;T&gt; };\n</code></pre>\n\n<p>Why is it happening? Is it possible to rewrite the second definition to make it work?</p>\n"}, {"tags": ["angular", "typescript", "angular-routerlink"], "comments": [{"owner": {"reputation": 1175, "user_id": 8217454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oghl3.jpg?s=128&g=1", "display_name": "mojtaba ramezani", "link": "https://stackoverflow.com/users/8217454/mojtaba-ramezani"}, "edited": false, "score": 0, "creation_date": 1556081310, "post_id": 55822548, "comment_id": 98310666, "body": "Try these: <code>&lt;a routerLink=&quot;&#47;locations-list&quot;&gt;</code> or <code>&lt;a [routerLink]=&quot;locations&quot;&gt;</code>"}, {"owner": {"reputation": 1024, "user_id": 3021349, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/W6R7t.png?s=128&g=1", "display_name": "ram12393", "link": "https://stackoverflow.com/users/3021349/ram12393"}, "edited": false, "score": 0, "creation_date": 1556081379, "post_id": 55822548, "comment_id": 98310689, "body": "are you redirecting to the same page ??"}, {"owner": {"reputation": 375, "user_id": 9902881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WfKpr.jpg?s=128&g=1", "display_name": "kashif", "link": "https://stackoverflow.com/users/9902881/kashif"}, "edited": false, "score": 0, "creation_date": 1556081430, "post_id": 55822548, "comment_id": 98310704, "body": "import { Component, OnInit } from &#39;@angular/core&#39;;"}, {"owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "reply_to_user": {"reputation": 1024, "user_id": 3021349, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/W6R7t.png?s=128&g=1", "display_name": "ram12393", "link": "https://stackoverflow.com/users/3021349/ram12393"}, "edited": false, "score": 0, "creation_date": 1556081824, "post_id": 55822548, "comment_id": 98310808, "body": "@ram12393 not to the same page"}, {"owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "reply_to_user": {"reputation": 375, "user_id": 9902881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WfKpr.jpg?s=128&g=1", "display_name": "kashif", "link": "https://stackoverflow.com/users/9902881/kashif"}, "edited": false, "score": 0, "creation_date": 1556081877, "post_id": 55822548, "comment_id": 98310818, "body": "@kashif it&#39;s already there"}, {"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1556083862, "post_id": 55822548, "comment_id": 98311372, "body": "what is the <code>locationService</code> here ?"}, {"owner": {"reputation": 610, "user_id": 6790990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhnZV.jpg?s=128&g=1", "display_name": "Azkar Moulana", "link": "https://stackoverflow.com/users/6790990/azkar-moulana"}, "edited": false, "score": 0, "creation_date": 1556088183, "post_id": 55822548, "comment_id": 98313016, "body": "@LahiruMirihagoda are you staying on the same component that you want to navigate?"}, {"owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "reply_to_user": {"reputation": 610, "user_id": 6790990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhnZV.jpg?s=128&g=1", "display_name": "Azkar Moulana", "link": "https://stackoverflow.com/users/6790990/azkar-moulana"}, "edited": false, "score": 0, "creation_date": 1556088598, "post_id": 55822548, "comment_id": 98313187, "body": "@AzkarMoulana No"}, {"owner": {"reputation": 2093, "user_id": 11289490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hlb8.png?s=128&g=1", "display_name": "Daniel Pi&#241;eiro", "link": "https://stackoverflow.com/users/11289490/daniel-pi%c3%b1eiro"}, "edited": false, "score": 0, "creation_date": 1556089930, "post_id": 55822548, "comment_id": 98313797, "body": "Can you reproduce this on stackblitz?"}], "answers": [{"comments": [{"owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "edited": false, "score": 0, "creation_date": 1556083667, "post_id": 55822574, "comment_id": 98311309, "body": "<code>ngOnInit() {     this.route.params.subscribe(     params =&gt; {        this.locationService.getLocation().subscribe( locations =&gt; {         this.locations = locations;       });     });   } </code>  I tried this but it doesn&#39;t work. Please tell me above code is correct or wrong."}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "edited": false, "score": 0, "creation_date": 1556083866, "post_id": 55822574, "comment_id": 98311374, "body": "is there any errors"}, {"owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "edited": false, "score": 0, "creation_date": 1556087584, "post_id": 55822574, "comment_id": 98312738, "body": "no it work same as before"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": 1, "last_activity_date": 1556081071, "creation_date": 1556081071, "answer_id": 55822574, "question_id": 55822548, "link": "https://stackoverflow.com/questions/55822548/angular-routerlink-does-not-trigger-ngoninit/55822574#55822574", "title": "Angular routerLink does not trigger ngOnInit", "body": "<p>when the router param changed, the base route stays the same. So it doesn't trigger the <code>ngOnInit</code>. So subscribe to the route event </p>\n\n<pre><code>ngOnInit() {\n     this.route.params.subscribe(\n     params =&gt; { \n            // your code\n     });\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "reply_to_user": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "edited": false, "score": 1, "creation_date": 1556084695, "post_id": 55822619, "comment_id": 98311661, "body": "Can you try adding a debugger; as first line inside ngOnInit() ?"}], "tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": false, "score": 1, "last_activity_date": 1556081372, "creation_date": 1556081372, "answer_id": 55822619, "question_id": 55822548, "link": "https://stackoverflow.com/questions/55822548/angular-routerlink-does-not-trigger-ngoninit/55822619#55822619", "title": "Angular routerLink does not trigger ngOnInit", "body": "<p>ngOnInit() is only called once after a component is instantiated, but not when the route changes. You can inject the router and subscribe to it's events or params to get notified about route changes.</p>\n\n<pre><code>ngOnInit() {\n     this.route.params.subscribe(params: any) =&gt; {\n       if(params) //your code\n    });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "edited": false, "score": 0, "creation_date": 1556087929, "post_id": 55822764, "comment_id": 98312903, "body": "It works. But like <code>href</code> it is slower than <code>[routerLink]</code>"}, {"owner": {"reputation": 2093, "user_id": 11289490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hlb8.png?s=128&g=1", "display_name": "Daniel Pi&#241;eiro", "link": "https://stackoverflow.com/users/11289490/daniel-pi%c3%b1eiro"}, "edited": false, "score": 1, "creation_date": 1556089895, "post_id": 55822764, "comment_id": 98313771, "body": "This is a workaround of a problem, not a real answer to the problem. You are leaving angular lifecycle."}], "tags": [], "owner": {"reputation": 375, "user_id": 9902881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WfKpr.jpg?s=128&g=1", "display_name": "kashif", "link": "https://stackoverflow.com/users/9902881/kashif"}, "is_accepted": false, "score": 1, "last_activity_date": 1556082362, "creation_date": 1556082362, "answer_id": 55822764, "question_id": 55822548, "link": "https://stackoverflow.com/questions/55822548/angular-routerlink-does-not-trigger-ngoninit/55822764#55822764", "title": "Angular routerLink does not trigger ngOnInit", "body": "<blockquote>\n  <p>Try this</p>\n</blockquote>\n\n<pre><code>// on click call this function\n    (click)=\"HyperLink()\"\n// on ts file \n    HyperLink(){\n       window.open('/locations-list');  \n   }\n</code></pre>\n"}], "owner": {"reputation": 875, "user_id": 7470045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wWKs.jpg?s=128&g=1", "display_name": "Lahiru Mirihagoda", "link": "https://stackoverflow.com/users/7470045/lahiru-mirihagoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 1, "closed_date": 1556114262, "accepted_answer_id": 55822574, "answer_count": 3, "score": 0, "last_activity_date": 1556082362, "creation_date": 1556080939, "last_edit_date": 1556081233, "question_id": 55822548, "link": "https://stackoverflow.com/questions/55822548/angular-routerlink-does-not-trigger-ngoninit", "closed_reason": "Duplicate", "title": "Angular routerLink does not trigger ngOnInit", "body": "<p>This is the ngOnInit in the componet.ts file </p>\n\n<pre><code>ngOnInit() {\n      this.locationService.getLocation().subscribe( locations =&gt; {\n      this.locations = locations;\n    });\n  }\n</code></pre>\n\n<pre><code>&lt;a [routerLink]=\"['/locations-list']\"&gt;\n</code></pre>\n\n<p>when I use a <code>[routerLink]</code> to navigate to the above component it navigates to the component and load the view, but it does not trigger above <b>ngOnInit</b> method. But if I refresh the page it works fine.\n<br>\nIs there any fix for above problem.</p>\n\n<p>Already I used <code>href</code> to navigate to pages and with <code>href</code> above method works fine always but its very slow. That's why I changes <code>href</code> to <code>[routerLink]</code>.</p>\n\n<p>This is the component.html that contains the view</p>\n\n<pre><code>                &lt;div class=\"table-responsive\"&gt;\n                  &lt;table class=\"table\"&gt;\n                    &lt;thead class=\" text-primary\"&gt;\n                      &lt;th&gt;\n                        Location Name\n                      &lt;/th&gt;\n\n                    &lt;/thead&gt;\n                    &lt;tbody *ngIf=\"locations?.length &gt; 0\"&gt;\n                      &lt;tr *ngFor=\"let location of locations\"&gt;\n                        &lt;td *ngIf=\"location.verified != false\"&gt;\n                          {{location.locationName}}\n                        &lt;/td&gt;\n                      &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                  &lt;/table&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-router"], "answers": [{"tags": [], "owner": {"reputation": 213, "user_id": 11034056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b9ec8f7ced535c7699bd00f19a76f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Ktr1000", "link": "https://stackoverflow.com/users/11034056/ktr1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1556085632, "creation_date": 1556085632, "answer_id": 55823291, "question_id": 55822542, "link": "https://stackoverflow.com/questions/55822542/typescript-throws-an-explicit-function-return-type-error-when-using-suspense-wit/55823291#55823291", "title": "Typescript throws an explicit function return type error when using Suspense with React Router", "body": "<p>I fixed the problem by passing RouteComponentProps as props type in my SignUpFormComponent.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, { FunctionComponent, useState, SyntheticEvent } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nconst SignUpForm: FunctionComponent&lt;RouteComponentProps&gt; = (): JSX.Element =&gt; {\r\n  const submitHandler = async (e: SyntheticEvent): Promise&lt;void&gt; =&gt; {\r\n    e.preventDefault();\r\n\r\n  };\r\n  return (\r\n    &lt;form onSubmit={submitHandler}&gt;\r\n      \r\n    &lt;/form&gt;\r\n  );\r\n};\r\n\r\nexport default SignUpForm;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 213, "user_id": 11034056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b9ec8f7ced535c7699bd00f19a76f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Ktr1000", "link": "https://stackoverflow.com/users/11034056/ktr1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556085632, "creation_date": 1556080897, "last_edit_date": 1556083827, "question_id": 55822542, "link": "https://stackoverflow.com/questions/55822542/typescript-throws-an-explicit-function-return-type-error-when-using-suspense-wit", "title": "Typescript throws an explicit function return type error when using Suspense with React Router", "body": "<p>I tried using suspense and react router but I can't figure out what it should return and i don't want to disable this rule.\nFull error message:</p>\n\n<pre><code>Type '{ history: History&lt;any&gt;; location: Location&lt;any&gt;; match: \nmatch&lt;any&gt;; staticContext?: StaticContext | undefined; }' has no \nproperties in common with type 'IntrinsicAttributes &amp; { children?: \nReactNode; }'\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, { FunctionComponent, lazy, Suspense } from 'react';\r\nimport { BrowserRouter, Route, Link, Switch } from 'react-router-dom';\r\nimport Loader from '../../Loader';\r\nimport Navbar from '../Navbar/Navbar';\r\nconst SignUpForm = lazy(() =&gt; import('../SignUpForm/SignUpForm'));\r\nconst Router: FunctionComponent = (): JSX.Element =&gt; {\r\n  return (\r\n    &lt;BrowserRouter&gt;\r\n      &lt;&gt;\r\n        &lt;Navbar /&gt;\r\n        &lt;div className=\"main-container\"&gt;\r\n          &lt;Switch&gt;\r\n            &lt;Route\r\n              path=\"/sign-up\"\r\n              render={props =&gt; (\r\n                &lt;Suspense fallback={&lt;Loader /&gt;}&gt;\r\n                  &lt;SignUpForm {...props} /&gt;\r\n                &lt;/Suspense&gt;\r\n              )}\r\n            /&gt;\r\n          &lt;/Switch&gt;\r\n        &lt;/div&gt;\r\n      &lt;/&gt;\r\n    &lt;/BrowserRouter&gt;\r\n  );\r\n};\r\n\r\nexport default Router;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1556075869, "post_id": 55821885, "comment_id": 98309618, "body": "That is actually a function that returns a function, and it is TypeScript code, not JavaScript."}], "answers": [{"comments": [{"owner": {"reputation": 1647, "user_id": 1224977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b7f8ef6889ef8c812e1dfac3b09b013f?s=128&d=identicon&r=PG", "display_name": "jhon.smith", "link": "https://stackoverflow.com/users/1224977/jhon-smith"}, "edited": false, "score": 0, "creation_date": 1556076612, "post_id": 55821916, "comment_id": 98309744, "body": "Thank you so much for the explanation .can i call it like this const result = searchFunctionFactory(someVar)(someOtherVar)()"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 1647, "user_id": 1224977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b7f8ef6889ef8c812e1dfac3b09b013f?s=128&d=identicon&r=PG", "display_name": "jhon.smith", "link": "https://stackoverflow.com/users/1224977/jhon-smith"}, "edited": false, "score": 0, "creation_date": 1556076747, "post_id": 55821916, "comment_id": 98309767, "body": "Don&#39;t think so. You could do <code>searchFunctionFactory(someVar)(someOtherVar)</code>, thereby calling the returned function immediately, but that returned function does not return a function as well (it returns an Observable), so you couldn&#39;t call it too. <code>const observableOfAny = searchFunctionFactory(someVar)(someOtherVar)</code>"}, {"owner": {"reputation": 1647, "user_id": 1224977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b7f8ef6889ef8c812e1dfac3b09b013f?s=128&d=identicon&r=PG", "display_name": "jhon.smith", "link": "https://stackoverflow.com/users/1224977/jhon-smith"}, "edited": false, "score": 0, "creation_date": 1556076926, "post_id": 55821916, "comment_id": 98309800, "body": "Hi Thanks again so it would be on the lines of const observableOfAny = searchFunctionFactory(someVar) and then the usual routine  observableOfAny.subscribe(() =&gt; do something) ?"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 1647, "user_id": 1224977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b7f8ef6889ef8c812e1dfac3b09b013f?s=128&d=identicon&r=PG", "display_name": "jhon.smith", "link": "https://stackoverflow.com/users/1224977/jhon-smith"}, "edited": false, "score": 0, "creation_date": 1556076982, "post_id": 55821916, "comment_id": 98309806, "body": "What <code>searchFunctionFactory</code> returns is a function, not a observerable - you&#39;d have to call the returned function to get the observable of any. <code>searchFunctionFactory(someVar)(someOtherVar)</code> and <i>then</i> you can call <code>.subscribe</code> or whatever you want on that observable"}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 1, "last_activity_date": 1556075978, "creation_date": 1556075978, "answer_id": 55821916, "question_id": 55821885, "link": "https://stackoverflow.com/questions/55821885/how-does-this-typescript-function-parameter-work/55821916#55821916", "title": "How does this TypeScript function parameter work", "body": "<p>That indicates that the return value of the <code>searchFunctionFactory</code> function is a function which takes a parameter of <code>text</code>, whose type is <code>Observable&lt;string&gt;</code>, and calling <em>that</em> function returns an <code>Observable&lt;any[]&gt;</code>. It's a higher-order function.</p>\n\n<pre><code>public searchFunctionFactory($index: any): (text: Observable&lt;string&gt;) =&gt; Observable&lt;any[]&gt; {\n                        /*   ^^^^^^^^^^^   searchFunctionFactory parameter */\npublic searchFunctionFactory($index: any): (text: Observable&lt;string&gt;) =&gt; Observable&lt;any[]&gt; {\n  /* searchFunctionFactory return value     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ */\n</code></pre>\n\n<p>As comment notes, this is not Javascript syntax, but Typescript syntax.</p>\n\n<p>So, if you call</p>\n\n<pre><code>const result = searchFunctionFactory(someVar);\n</code></pre>\n\n<p><code>result</code> will be of the type</p>\n\n<pre><code>(text: Observable&lt;string&gt;) =&gt; Observable&lt;any[]&gt;\n</code></pre>\n\n<p>and you could then call it with</p>\n\n<pre><code>const resultTwo = result(someOtherVar)\n</code></pre>\n\n<p>to get a value whose type is <code>Observable&lt;any[]&gt;</code>.</p>\n"}], "owner": {"reputation": 1647, "user_id": 1224977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b7f8ef6889ef8c812e1dfac3b09b013f?s=128&d=identicon&r=PG", "display_name": "jhon.smith", "link": "https://stackoverflow.com/users/1224977/jhon-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 55821916, "answer_count": 1, "score": 1, "last_activity_date": 1556079396, "creation_date": 1556075725, "last_edit_date": 1556079396, "question_id": 55821885, "link": "https://stackoverflow.com/questions/55821885/how-does-this-typescript-function-parameter-work", "title": "How does this TypeScript function parameter work", "body": "<p>I found this code online and trying to understand it.</p>\n\n<pre><code>public searchFunctionFactory($index: any): (text: Observable&lt;string&gt;) =&gt; Observable&lt;any[]&gt; {\n\n\n    //Create a function that considers the specified $index parameter value\n    let getCities = (text$: Observable&lt;string&gt;) =&gt; \n        text$\n            .debounceTime(300)\n            .distinctUntilChanged()\n            .switchMap( query =&gt; {\n\n                //some logic involving $index here\n                //...\n\n                //query.length &lt; 2 ? [] : this.apiService.getCities(query).catch(() =&gt; {\n                //return Observable.of([]);\n            });\n\n    //Return that \"custom\" function, which will in turn be called by the ngbTypescript component\n    return getCities;\n}\n</code></pre>\n\n<p>My question revolves around the method signature.</p>\n\n<pre><code>public searchFunctionFactory($index: any): (text: Observable&lt;string&gt;) =&gt; Observable&lt;any[]&gt;\n</code></pre>\n\n<p>I understand</p>\n\n<p><code>$index: any</code> is an input parameter of type Any.</p>\n\n<p>The function returns Observable an observable of any.</p>\n\n<p>But what is \n<code>: (text: Observable&lt;string&gt;)</code></p>\n\n<p>Is it a second parameter?</p>\n\n<p>If its a second parameter shouldn't it be</p>\n\n<pre><code>public searchFunctionFactory($index: any ,text: Observable&lt;string&gt;) =&gt; Observable&lt;any[]&gt; \n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4515, "user_id": 4808079, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/hXTld.jpg?s=128&g=1", "display_name": "Seph Reed", "link": "https://stackoverflow.com/users/4808079/seph-reed"}, "edited": false, "score": 2, "creation_date": 1556075195, "post_id": 55821798, "comment_id": 98309495, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1764, "user_id": 11397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2a9c4cd347592170aec4e53b0017f?s=128&d=identicon&r=PG", "display_name": "Jojofoulk", "link": "https://stackoverflow.com/users/11397775/jojofoulk"}, "is_accepted": false, "score": 1, "last_activity_date": 1556078230, "creation_date": 1556078230, "answer_id": 55822191, "question_id": 55821798, "link": "https://stackoverflow.com/questions/55821798/how-to-filter-objects-from-object-array-in-typescript/55822191#55822191", "title": "How to filter objects from object array in typescript", "body": "<p>As someone commented, just have a look at the .filter() function, there are plenty of example on how to use it out there. </p>\n\n<p>In your case something like this:</p>\n\n<pre><code> male_employees = employees.filter(employee=&gt;employee.gender===\"male\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": true, "score": 1, "last_activity_date": 1556081740, "last_edit_date": 1556081740, "creation_date": 1556081126, "answer_id": 55822579, "question_id": 55821798, "link": "https://stackoverflow.com/questions/55821798/how-to-filter-objects-from-object-array-in-typescript/55822579#55822579", "title": "How to filter objects from object array in typescript", "body": "<p>Try this</p>\n\n<pre><code>male_employees_list = employees.filter(male_employee =&gt; male_employee.gender===\"male\")\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 8565308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec0e734fcc3b9152959e8f4c93bed3c?s=128&d=identicon&r=PG&f=1", "display_name": "ruwan liyanage", "link": "https://stackoverflow.com/users/8565308/ruwan-liyanage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 55822579, "answer_count": 2, "score": 0, "last_activity_date": 1556081740, "creation_date": 1556075041, "question_id": 55821798, "link": "https://stackoverflow.com/questions/55821798/how-to-filter-objects-from-object-array-in-typescript", "title": "How to filter objects from object array in typescript", "body": "<p>This is my object array. So I want to filter set of object from this and make another object array. </p>\n\n<pre><code>    employees = [\n    {\n        {\n            name: \"tom\",\n            age : 22,\n            address: \"moscow\",\n            gender: \"male\"\n        },\n        {\n            name: \"tom\",\n            age : 25,\n            address: \"manila\",\n            gender: \"male\"\n        },\n        {\n            name: \"tom\",\n            age : 21,\n            address: \"delhi\",\n            gender: \"female\"\n        },\n        {\n            name: \"tom\",\n            age : 20,\n            address: \"cydney\",\n            gender: \"female\"\n        }\n    }\n    ]\n</code></pre>\n\n<p>For example: Think if I want to filter the employees who are belong to <code>male</code> category and make a new array named <code>male_employees</code>, then how i do this  thing. </p>\n\n<pre><code>    male_employees = [\n    {\n        {\n            name: \"tom\",\n            age : 22,\n            address: \"moscow\",\n            gender: \"male\"\n        },\n        {\n            name: \"tom\",\n            age : 25,\n            address: \"manila\",\n            gender: \"male\"\n        }\n\n    }\n    ]\n</code></pre>\n"}, {"tags": ["typescript", "dom", "textnode", "child-nodes", "dom-node"], "comments": [{"owner": {"reputation": 2537, "user_id": 1293501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1057cce759a1cdf650cfcaab9c71d9c4?s=128&d=identicon&r=PG", "display_name": "Michael Scott Cuthbert", "link": "https://stackoverflow.com/users/1293501/michael-scott-cuthbert"}, "edited": false, "score": 1, "creation_date": 1615753465, "post_id": 55821761, "comment_id": 117783040, "body": "great Q.  surprised it (and the A) don&#39;t have a thousand up-votes."}], "answers": [{"comments": [{"owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "edited": false, "score": 2, "creation_date": 1558295207, "post_id": 56210464, "comment_id": 99044033, "body": "But I didn&#39;t write the condition based on <code>tagName</code>. I wrote it based on <code>nodeType</code>. Anyway, you answered my question. Thanks."}], "tags": [], "owner": {"reputation": 584, "user_id": 7958392, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155452518097122/picture?type=large", "display_name": "webpreneur", "link": "https://stackoverflow.com/users/7958392/webpreneur"}, "is_accepted": true, "score": 4, "last_activity_date": 1558295993, "last_edit_date": 1558295993, "creation_date": 1558288151, "answer_id": 56210464, "question_id": 55821761, "link": "https://stackoverflow.com/questions/55821761/typescript-the-type-of-textnode/56210464#56210464", "title": "Typescript: The type of TextNode", "body": "<p>I think you should write your condinition based on <code>nodeName</code>, hence it will return \"#text\" for text nodes.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeName#Example\" rel=\"nofollow noreferrer\">nodeName Example on MDN</a></p>\n\n<p><strong>The interface what you are looking for in TypeScript is <code>CharacterData</code> or simply <code>Text</code>.</strong> On the <code>Text</code> interface you will have both the <code>data</code> and <code>wholeText</code> properties since it implements the <code>characterData</code> interface. On the <code>characterData</code> abstract interface you only have the <code>data</code> prop.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CharacterData\" rel=\"nofollow noreferrer\">Character\u200bData (MDN)</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Text\" rel=\"nofollow noreferrer\">Text (MDN)</a></p>\n"}], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 56210464, "answer_count": 1, "score": 6, "last_activity_date": 1558295993, "creation_date": 1556074816, "question_id": 55821761, "link": "https://stackoverflow.com/questions/55821761/typescript-the-type-of-textnode", "title": "Typescript: The type of TextNode", "body": "<p>If you write below code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const e = document.body.firstChild;\nif (e.nodeType === Node.TEXT_NODE)\n    console.log(e.data);\n</code></pre>\n\n<p>You will get this error on <code>e.data</code>:</p>\n\n<blockquote>\n  <p>TS2339: Property 'data' does not exist on type 'ChildNode'.</p>\n</blockquote>\n\n<p>While if the condition be true (<code>e.nodeType === Node.TEXT_NODE</code>) then <code>e</code> has some other properties in addition to regular <code>ChildNode</code> properties, like <strong><code>data</code></strong> and <strong><code>wholeText</code></strong>.</p>\n\n<hr>\n\n<p>What type should I cast to (other than <code>any</code>)?</p>\n"}, {"tags": ["angular", "typescript", "production"], "comments": [{"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1556077071, "post_id": 55821666, "comment_id": 98309819, "body": "How is <code>userList</code> getting populated?  Is there an async call to get the list of users from a backend?  Nothing obvious in the code you have posted so far.  Just for testing, see if it all works with a const for <code>userList</code> instead of a backend call."}, {"owner": {"reputation": 43, "user_id": 6862994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b09096481d7e12a37f4fa3c047713623?s=128&d=identicon&r=PG&f=1", "display_name": "minaise", "link": "https://stackoverflow.com/users/6862994/minaise"}, "reply_to_user": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1556083209, "post_id": 55821666, "comment_id": 98311169, "body": "yes, I make API call from backend, but I can console.log full list out just before filter successfully with running --prod as well. the most mysterious is for me that why I&#39;m not getting any error while running or building"}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1556098385, "post_id": 55821666, "comment_id": 98318567, "body": "There is no case <code>filter</code> could return undefined. Are you sure you are observing the correct log? I advise to use <code>console.log({user});</code> in place of <code>console.log(user)</code>, so the output will be more meaningful with a little effort"}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1556098415, "post_id": 55821666, "comment_id": 98318580, "body": "Otherwise, if your configuration doesn&#39;t support automatic stringify, use <code>console.log(&#39;user&#39;, user)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 11099982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3287571ec1466929f1cdee8c0777a?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanthi", "link": "https://stackoverflow.com/users/11099982/prashanthi"}, "is_accepted": false, "score": 0, "last_activity_date": 1556089566, "creation_date": 1556089566, "answer_id": 55824171, "question_id": 55821666, "link": "https://stackoverflow.com/questions/55821666/array-filter-not-working-when-ng-serve-build-prod-angular-7-app/55824171#55824171", "title": "Array filter not working when ng serve/build --prod Angular 7 app", "body": "<p>There are two possibilities:</p>\n\n<p>1) Before .filter function, please check if usersList have data or not. (May be its a service call and not handled properly).\n2) Please define userList as a type of array:                </p>\n\n<blockquote>\n  <p><code>usersList: Array&lt;object&gt;;</code></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 519, "user_id": 5902313, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OPvb8nPmKJk/AAAAAAAAAAI/AAAAAAAAABs/CTaRJG5BEhI/photo.jpg?sz=128", "display_name": "Akinjiola Toni", "link": "https://stackoverflow.com/users/5902313/akinjiola-toni"}, "is_accepted": false, "score": 0, "last_activity_date": 1556098490, "last_edit_date": 1556098490, "creation_date": 1556098092, "answer_id": 55826744, "question_id": 55821666, "link": "https://stackoverflow.com/questions/55821666/array-filter-not-working-when-ng-serve-build-prod-angular-7-app/55826744#55826744", "title": "Array filter not working when ng serve/build --prod Angular 7 app", "body": "<p>This happened probably because at the time the variable was accessed,  <code>this.usersList</code> is null, undefined, or a value other than an array. You can cast the value first to an array and be sure that the filter function will be available whenever you need it.</p>\n\n<pre><code>&lt;Array&gt;(this.usersList).filter(....)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;Array&lt;object&gt;&gt;(this.usersList).filter(....)\n</code></pre>\n\n<p>Also, you could check for the value of <code>this.usersList</code> first</p>\n\n<pre><code>let user;\nif(Array.isArray(this.usersList)){\n   user = this.usersList.filter(....)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 6862994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b09096481d7e12a37f4fa3c047713623?s=128&d=identicon&r=PG&f=1", "display_name": "minaise", "link": "https://stackoverflow.com/users/6862994/minaise"}, "is_accepted": false, "score": 0, "last_activity_date": 1556689720, "creation_date": 1556689720, "answer_id": 55932142, "question_id": 55821666, "link": "https://stackoverflow.com/questions/55821666/array-filter-not-working-when-ng-serve-build-prod-angular-7-app/55932142#55932142", "title": "Array filter not working when ng serve/build --prod Angular 7 app", "body": "<p>Oh man, silly mistake I had.</p>\n\n<pre><code>searchUser(id: number) {\nconst user = this.usersList.filter(x =&gt; x.id === id);\n</code></pre>\n\n<p>that was old code, with slightly different reason, the not working one was:</p>\n\n<pre><code>searchUser(user) {\n...\n</code></pre>\n\n<p>where user is an object and user.id which I printed out to console was visible as some number indeed, but the actual type was string. so changed to:</p>\n\n<pre><code>const user = this.usersList.filter(x =&gt; x.id === +id);\n</code></pre>\n\n<p>that did the trick. Something I will probably now remember for ever, check the variable types! \nStill thanks for thinking along. </p>\n"}], "owner": {"reputation": 43, "user_id": 6862994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b09096481d7e12a37f4fa3c047713623?s=128&d=identicon&r=PG&f=1", "display_name": "minaise", "link": "https://stackoverflow.com/users/6862994/minaise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1556689720, "creation_date": 1556073962, "question_id": 55821666, "link": "https://stackoverflow.com/questions/55821666/array-filter-not-working-when-ng-serve-build-prod-angular-7-app", "title": "Array filter not working when ng serve/build --prod Angular 7 app", "body": "<p>I have very strange issue with Angular CLI 7 application where all works correctly when running \"ng serve\". But when running \"ng serve --prod\". I'm not getting any error while serving or building app. Exact problem is with array.filter(x => x.id === myVariable)</p>\n\n<p>I have tried to run app with --aot=false, --build-optimizer=false, nothing seems to help and whenever prod flag is added to serve or build array.filter is not working. </p>\n\n<p>Here's environment details:</p>\n\n<pre><code>Angular CLI: 7.0.4\nNode: 8.10.0\nOS: linux x64\nAngular: \n\nPackage                      Version\n------------------------------------------------------\n@angular-devkit/architect    0.10.4\n@angular-devkit/core         7.0.4\n@angular-devkit/schematics   7.0.4\n@schematics/angular          7.0.4\n@schematics/update           0.10.4\nrxjs                         6.3.3\ntypescript                   3.1.3\n</code></pre>\n\n<p>angular.json:</p>\n\n<pre><code>\"configurations\": {\n        \"production\": {\n          \"fileReplacements\": [\n            {\n              \"replace\": \"src/environments/environment.ts\",\n              \"with\": \"src/environments/environment.prod.ts\"\n            }\n          ],\n          \"optimization\": false,\n          \"outputHashing\": \"all\",\n          \"sourceMap\": false,\n          \"extractCss\": true,\n          \"namedChunks\": false,\n          \"aot\": true,\n          \"extractLicenses\": true,\n          \"vendorChunk\": false,\n          \"buildOptimizer\": true,\n          \"budgets\": [\n            {\n              \"type\": \"initial\",\n              \"maximumWarning\": \"2mb\",\n              \"maximumError\": \"5mb\"\n            }\n          ]\n        },\n</code></pre>\n\n<p>Here's the my devil code:</p>\n\n<pre><code>searchUser(id: number) {\n const user = this.usersList.filter(x =&gt; x.id === id);\n console.log(user);\n return user;\n}\n</code></pre>\n\n<p>userList is Array of Json objects like:</p>\n\n<pre><code>[\n{id: 1, name: \"John\"},\n{id: 2, name: \"Mary\"},\netc...\n]\n</code></pre>\n\n<p>When running app with \"ng serve\" searchUser returns correct user object and prints user object to console.</p>\n\n<p>When running app with \"ng serve --prod\" nothing is returned, console log shows just Undefined.</p>\n\n<p>As there is no clear error (during serve or building) I'm out of ideas, why it's not working or should I update some package, etc. I could rewrite that part and not use lambda expression, if that's the issue, but I believe that should work. </p>\n\n<p>thanks!</p>\n"}, {"tags": ["javascript", "typescript", "html5-canvas"], "answers": [{"tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 1, "last_activity_date": 1556070627, "last_edit_date": 1556070627, "creation_date": 1556070296, "answer_id": 55821239, "question_id": 55821099, "link": "https://stackoverflow.com/questions/55821099/canvas-drawing-await-for-images-to-load-in-a-recursive-method/55821239#55821239", "title": "Canvas Drawing: Await for images to load in a recursive method", "body": "<p>You need to return the Promise synchronously.<br>\nHere you are returning it in the asynchronous <code>onload</code> event handler.<br>\nSo <code>drawImages</code> won't return a Promise but undefined.</p>\n\n<p>Also, you will want to return the next iteration of <code>drawImages</code> everytime, so that your external <code>await</code> awaits for all of these Promises:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = {\r\n  async drawImages(ctx, images) {\r\n    // return a Promise synchronously\r\n    return new Promise((resolve, reject) =&gt; {\r\n      const img = images.shift();\r\n      const imgToDraw = new Image();\r\n      imgToDraw.src = img.src;\r\n      imgToDraw.onload = () =&gt; {\r\n        ctx.drawImage(imgToDraw, img.x, img.y, img.w, img.h);\r\n        if (images.length &gt; 0) {\r\n          // resolve with next iteration so we can await all\r\n          resolve(this.drawImages(ctx, images));\r\n        } else {\r\n          console.log(\"I - Processing\");\r\n          // done\r\n          resolve();\r\n        }\r\n      };\r\n      imgToDraw.onerror = reject;\r\n    });\r\n  }\r\n};\r\n\r\n(async () =&gt; {\r\n  const images = [];\r\n  // picsum.photos doesn't fill all the indexes...\r\n  const urls = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"10\", \"11\", \"12\", \"13\"];\r\n  const s = 50; // image size\r\n  for(let i=0; i&lt;10; i++) {\r\n    images.push( {\r\n      src: `https://picsum.photos/${s}/${s}?image=10` + urls[i],\r\n      x: (i%5)*s,\r\n      y: Math.floor(i/5)*s,\r\n      w: s,\r\n      h: s\r\n    });\r\n  }\r\n  const ctx = canvas.getContext('2d');\r\n  await obj.drawImages(ctx, images);\r\n  // fill a green rect over to show we are able to await it\r\n  ctx.fillStyle = 'rgba(0,255,0, 0.2)';\r\n  ctx.fillRect(0,0,canvas.width,canvas.height);\r\n  console.log(\"all done\");\r\n})();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"250\" height=\"100\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 1, "accepted_answer_id": 55821239, "answer_count": 1, "score": 0, "last_activity_date": 1556070627, "creation_date": 1556068648, "question_id": 55821099, "link": "https://stackoverflow.com/questions/55821099/canvas-drawing-await-for-images-to-load-in-a-recursive-method", "title": "Canvas Drawing: Await for images to load in a recursive method", "body": "<p>I am implementing a recursive method that takes an array of images and draw them into a canvas:</p>\n\n<pre><code>async drawImages(ctx, images): Promise&lt;any&gt; {\n    const img = images.shift();\n    const imgToDraw = new Image();\n    imgToDraw.src = img.src;\n    imgToDraw.onload = () =&gt; {\n        ctx.drawImage(imgToDraw, img.x, img.y, img.w, img.h);\n        if (images.length &gt; 0) {\n            this.drawImages(ctx, images);\n        } else {\n            console.log(\"I - Processing\");\n            return Promise.resolve();\n        }\n    }\n}\n</code></pre>\n\n<p>At the end of the execution of this method, I need to retrieve the DataURL of the canvas, and I am doing it this way:</p>\n\n<pre><code>someCallingMethod() {\n    //...\n    await this.drawImages(ctx, images);\n    console.log(\"II - Finished\");\n    console.log(canvas.toDataURL());\n}\n</code></pre>\n\n<p>The problem that I am facing is that the await is not working on the <code>drawImages</code> method. When executing this code, I always get the <code>\"II - Finished\"</code> log before the <code>\"I - Processing\"</code> one, and therefore the <code>canvas.toDataURL()</code> never contains the images that are supposed to be drawn to the canvas.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["reactjs", "typescript", "eslint", "create-react-app"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5101816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tJySN.png?s=128&g=1", "display_name": "pxsx", "link": "https://stackoverflow.com/users/5101816/pxsx"}, "is_accepted": false, "score": 1, "last_activity_date": 1594993069, "last_edit_date": 1594993069, "creation_date": 1556129108, "answer_id": 55836103, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/55836103#55836103", "title": "Disable ESLint that create-react-app provides", "body": "<p>One way is to <code>eject</code> <code>react-scripts</code> - by running <code>yarn eject</code> / <code>npm run eject</code> - and turn off <code>eslint</code> in <code>webpack</code> config file manually.</p>\n<p>Beware though that ejecting should not be done lightly and other options should be considered before ejecting. Please read <a href=\"https://medium.com/curated-by-versett/dont-eject-your-create-react-app-b123c5247741\" rel=\"nofollow noreferrer\">Don\u2019t eject your Create React App</a> to gain some understanding of what it means and perhaps some reason's why you shouldn't</p>\n<p>Please take a look at this fork: <a href=\"https://github.com/pawel-schmidt/cra_closer_look\" rel=\"nofollow noreferrer\">create-react-app closer look</a>, especially at <code>eject-tic_tac_toe</code> directory, where you have <code>scripts/start.js</code> - the script where the magic happens after <code>yarn start</code> / <code>npm start</code> - and <code>config/webpack.config.dev.js</code> - where you have webpack's config, used in <code>start.js</code>. This is the part you can be interested in to edit:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// \u2026\nmodule.exports = {\n  // \u2026\n  module: {\n    preLoaders: [\n      {\n        test: /\\.(js|jsx)$/,\n        loader: 'eslint',\n        include: paths.appSrc,\n      }\n    ]\n  }\n  // \u2026\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55109, "user_id": 368691, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/74a5bd659b3a8af09a336a932eebe3b1?s=128&d=identicon&r=PG", "display_name": "Gajus", "link": "https://stackoverflow.com/users/368691/gajus"}, "is_accepted": false, "score": 14, "last_activity_date": 1567377140, "creation_date": 1567377140, "answer_id": 57749919, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/57749919#57749919", "title": "Disable ESLint that create-react-app provides", "body": "<p>You can disable <a href=\"/questions/tagged/eslint\" class=\"post-tag\" title=\"show questions tagged &#39;eslint&#39;\" rel=\"tag\">eslint</a> (and override other configurations) using <a href=\"https://github.com/sharegate/craco\" rel=\"noreferrer\">Craco</a>.</p>\n\n<p>It takes 4 changes:</p>\n\n<ol>\n<li><code>npm install @craco/craco --save</code></li>\n<li>create <code>craco.config.js</code> (in the same folder as is package.json)</li>\n<li>populate <code>craco.config.js</code> with:</li>\n</ol>\n\n<pre><code>module.exports = {\n  eslint: {\n    enable: false,\n  },\n};\n\n</code></pre>\n\n<p>Finally, replace <code>react-script</code> with <code>craco</code> in your <code>package.json</code> scripts, i.e.</p>\n\n<pre><code>\"scripts\": {\n  \"build\": \"craco build\",\n  \"start\": \"craco start\",\n}\n\n</code></pre>\n\n<p>This will disable ESLint. Refer to <a href=\"https://github.com/sharegate/craco\" rel=\"noreferrer\">Craco documentation</a> for examples how to extend ESLint configuration.</p>\n"}, {"tags": [], "owner": {"reputation": 609, "user_id": 3050819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e559af3214b1e35cb65df98cf05ff9b?s=128&d=identicon&r=PG&f=1", "display_name": "kodemi", "link": "https://stackoverflow.com/users/3050819/kodemi"}, "is_accepted": false, "score": 55, "last_activity_date": 1576064887, "last_edit_date": 1576064887, "creation_date": 1575897799, "answer_id": 59249839, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/59249839#59249839", "title": "Disable ESLint that create-react-app provides", "body": "<p>You could set EXTEND_ESLINT environment variable to <code>true</code>, for example in <code>.env</code> file:</p>\n\n<pre><code>EXTEND_ESLINT=true\n</code></pre>\n\n<p>Now you can extend eslint configuration in your <code>package.json</code> file:</p>\n\n<pre><code>...\n\"eslintConfig\": {\n    \"extends\": \"react-app\",\n    \"rules\": {\n      \"jsx-a11y/anchor-is-valid\": \"off\"\n    }\n  },\n...\n</code></pre>\n\n<p>To disable eslint you could add a file <code>.eslintignore</code> with the content:</p>\n\n<pre><code>*\n</code></pre>\n\n<p>See documentation for details: <a href=\"https://create-react-app.dev/docs/setting-up-your-editor/#experimental-extending-the-eslint-config\" rel=\"noreferrer\">https://create-react-app.dev/docs/setting-up-your-editor/#experimental-extending-the-eslint-config</a></p>\n"}, {"comments": [{"owner": {"reputation": 2743, "user_id": 2423207, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ytrd4.png?s=128&g=1", "display_name": "Max Carroll", "link": "https://stackoverflow.com/users/2423207/max-carroll"}, "edited": false, "score": 0, "creation_date": 1594988493, "post_id": 60767768, "comment_id": 111326943, "body": "Something interesting that happened to me is that although this hid the one I wanted, it also produced new ones that were never before seen."}], "tags": [], "owner": {"reputation": 1460, "user_id": 1545569, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b3f27de6f1fc979ec6176863263fb58c?s=128&d=identicon&r=PG", "display_name": "Chirag Rupani", "link": "https://stackoverflow.com/users/1545569/chirag-rupani"}, "is_accepted": false, "score": 2, "last_activity_date": 1597544249, "last_edit_date": 1597544249, "creation_date": 1584671316, "answer_id": 60767768, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/60767768#60767768", "title": "Disable ESLint that create-react-app provides", "body": "<p>First ensure <code>EXTEND_ESLINT</code> environment variable is set to true. It can be set in <code>.env</code> file.</p>\n<p>For Typescript, further rules should be added in overrides array, as example below:</p>\n<pre><code>{\n  &quot;eslintConfig&quot;: {\n    &quot;extends&quot;: [&quot;react-app&quot;],\n    &quot;overrides&quot;: [\n      {\n        &quot;files&quot;: [&quot;**/*.ts?(x)&quot;],\n        &quot;rules&quot;: {\n          &quot;eqeqeq&quot;: &quot;warn&quot;\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3715, "user_id": 741251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a5bfd5e25cb0796d6241717ba1cbcb?s=128&d=identicon&r=PG", "display_name": "Nitin Jadhav", "link": "https://stackoverflow.com/users/741251/nitin-jadhav"}, "is_accepted": false, "score": 5, "last_activity_date": 1598072635, "last_edit_date": 1598072635, "creation_date": 1598019959, "answer_id": 63524729, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/63524729#63524729", "title": "Disable ESLint that create-react-app provides", "body": "<h2>step 1</h2>\n<p>create <code>.env</code> file in your project root if its not there and add this line to it</p>\n<pre><code>EXTEND_ESLINT=true\n</code></pre>\n<h2>Step 2</h2>\n<p>add <code>.eslintrc.js</code> to your project root with following content</p>\n<pre><code>module.exports = {\n  &quot;extends&quot;: [&quot;react-app&quot;],\n  &quot;rules&quot;: {\n  },\n  &quot;overrides&quot;: [\n    {\n      &quot;files&quot;: [&quot;**/*.js?(x)&quot;],\n      &quot;rules&quot;: {\n// ******** add ignore rules here *********\n        &quot;react/no-unescaped-entities&quot;: &quot;off&quot;,\n        &quot;react/display-name&quot;: &quot;off&quot;,\n        &quot;react/prop-types&quot;: &quot;off&quot;,\n      }\n    }\n  ]\n}\n</code></pre>\n<p>note that <code>override &gt; rules</code> section: add rules with &quot;off&quot; flag to disable them.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9428719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Michael Chan", "link": "https://stackoverflow.com/users/9428719/michael-chan"}, "is_accepted": false, "score": 4, "last_activity_date": 1603776053, "creation_date": 1603776053, "answer_id": 64548693, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/64548693#64548693", "title": "Disable ESLint that create-react-app provides", "body": "<p>My workaround without ejecting:</p>\n<ol>\n<li>Use an environment variable in <em>.eslintrc.js</em> like this:</li>\n</ol>\n<pre><code>module.exports = {\n    &quot;extends&quot;: process.env.REACT_APP_DEV_DISABLE_ESLINT ? [] : [\n      &quot;eslint:recommended&quot;,\n      &quot;plugin:import/errors&quot;,\n      &quot;plugin:import/warnings&quot;,\n      &quot;plugin:json/recommended&quot;,\n      &quot;plugin:@typescript-eslint/recommended&quot;,\n      &quot;plugin:jsx-a11y/recommended&quot;,\n      &quot;plugin:react/recommended&quot;,\n    ],\n    &quot;rules&quot;: process.env.REACT_APP_DEV_DISABLE_ESLINT ? {} : {\n      // ...rules for production CI\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Set the variable in start script in <strong>package.json</strong>:</li>\n</ol>\n<pre><code>{\n      &quot;scripts&quot;: {\n          &quot;eslint:disable&quot;: &quot;REACT_APP_DEV_DISABLE_ESLINT=true&quot;,\n          &quot;start&quot;: &quot;npm run eslint:disable  react-scripts start&quot;\n      }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 838923, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000141165966/picture?type=large", "display_name": "ranzwertig", "link": "https://stackoverflow.com/users/838923/ranzwertig"}, "is_accepted": false, "score": -1, "last_activity_date": 1615539010, "creation_date": 1615539010, "answer_id": 66596794, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/66596794#66596794", "title": "Disable ESLint that create-react-app provides", "body": "<p>My workaround:</p>\n<p>Add a .eslintignore file:</p>\n<pre><code>*\n</code></pre>\n<p>and run eslint with <code>--no-ignore</code>. So you are able to setup your own eslint. If you need a ignore file you can define it with <code>--ignore-path</code> instead of using the <code>--no-ignore</code> option.</p>\n"}, {"tags": [], "owner": {"reputation": 512, "user_id": 2959223, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eff14c64172608b9b87a40ad809e62b2?s=128&d=identicon&r=PG&f=1", "display_name": "sargunv", "link": "https://stackoverflow.com/users/2959223/sargunv"}, "is_accepted": true, "score": 12, "last_activity_date": 1616905033, "last_edit_date": 1616905033, "creation_date": 1616232277, "answer_id": 66719992, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides/66719992#66719992", "title": "Disable ESLint that create-react-app provides", "body": "<p>As of <code>react-scripts</code> v4.0.2, you can now opt out of ESLint with an environment variable. You can do this by adding it to your <code>.env</code> file, or by prefixing your scripts in your package.json file.</p>\n<p>For example in <code>.env</code>:</p>\n<pre><code>DISABLE_ESLINT_PLUGIN=true\n</code></pre>\n<p>Or in your package.json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;DISABLE_ESLINT_PLUGIN=true react-scripts start&quot;,\n    &quot;build&quot;: &quot;DISABLE_ESLINT_PLUGIN=true react-scripts build&quot;,\n    &quot;test&quot;: &quot;DISABLE_ESLINT_PLUGIN=true react-scripts test&quot;\n  }\n}\n</code></pre>\n<p><a href=\"https://github.com/facebook/create-react-app/pull/10170\" rel=\"noreferrer\">https://github.com/facebook/create-react-app/pull/10170</a></p>\n"}], "owner": {"reputation": 1715, "user_id": 3990900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H0KSV.png?s=128&g=1", "display_name": "Ginpei", "link": "https://stackoverflow.com/users/3990900/ginpei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28247, "favorite_count": 6, "accepted_answer_id": 66719992, "answer_count": 8, "score": 42, "last_activity_date": 1617171444, "creation_date": 1556065520, "last_edit_date": 1617171444, "question_id": 55821078, "link": "https://stackoverflow.com/questions/55821078/disable-eslint-that-create-react-app-provides", "title": "Disable ESLint that create-react-app provides", "body": "<p><a href=\"https://github.com/facebook/create-react-app/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\"><code>create-react-app</code> v3.0.0 is out</a>. It supports TypeScript linting internally. (That's nice!) I think I understand the situation where TSLint is on, and am planning to replace it with ESLint, but it is not right now.</p>\n<p>How to disable that linting step in <code>react-scripts start</code>?</p>\n<p><code>/* eslint-disable */</code> and others are not the ones I'm looking for.</p>\n<p>(DEPRECATED) <strong>UPDATE:</strong> According to the following discussion, it looks there are no ways to manipulate internal ESLint. Thus, the answer to my question would be <strong>&quot;you cannot&quot;</strong>.</p>\n<p><a href=\"https://github.com/facebook/create-react-app/issues/808\" rel=\"nofollow noreferrer\">https://github.com/facebook/create-react-app/issues/808</a></p>\n<p><strong>UPDATE 2:</strong> <a href=\"https://github.com/facebook/create-react-app/releases/tag/v4.0.2\" rel=\"nofollow noreferrer\">v4.0.2</a> supports a flag for this! Find details in <a href=\"https://stackoverflow.com/a/66719992/3990900\">sargunv's answer</a> below.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1556064635, "post_id": 55820844, "comment_id": 98308133, "body": "Something wrong with this answer? It should work as far as I know."}], "tags": [], "owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "is_accepted": false, "score": -2, "last_activity_date": 1556063336, "creation_date": 1556063336, "answer_id": 55820844, "question_id": 55820758, "link": "https://stackoverflow.com/questions/55820758/is-there-a-way-to-bind-to-img-src-other-than-src-or-src/55820844#55820844", "title": "is there a way to bind to &lt;img src=&quot;&quot;&gt; other than [src] or src=&quot;{{}}&quot;", "body": "<p>Property name concatenation doesn't work the way you're trying, it adds to the value of the property rather than the name. To modify the name, you have to use square bracket notation and make the property name a string instead:</p>\n\n<pre><code>[src]=\"this['someImg' + (i + 1)] || ''\"\n</code></pre>\n\n<p>(I also replaced the ternary expression with a short-circuit OR to make it less cumbersome)</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 10833045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41cbb36edaa468769f2e1edf3770fa99?s=128&d=identicon&r=PG&f=1", "display_name": "Austin752", "link": "https://stackoverflow.com/users/10833045/austin752"}, "edited": false, "score": 0, "creation_date": 1556120536, "post_id": 55821592, "comment_id": 98332321, "body": "thank you at was exactly what I was looking for. I didn&#39;t know you could use this in the component template. That helps me a lot!"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": true, "score": 1, "last_activity_date": 1556073344, "creation_date": 1556073344, "answer_id": 55821592, "question_id": 55820758, "link": "https://stackoverflow.com/questions/55820758/is-there-a-way-to-bind-to-img-src-other-than-src-or-src/55821592#55821592", "title": "is there a way to bind to &lt;img src=&quot;&quot;&gt; other than [src] or src=&quot;{{}}&quot;", "body": "<p>There are two ways to access properties of an object:</p>\n\n<pre><code>Dot notation: something.bar\nBracket notation: something['bar']\n</code></pre>\n\n<p>The value between the brackets can be any expression. Therefore, if the property name is stored in a variable, you have to use bracket notation:</p>\n\n<pre><code>var foo = 'bar';\nsomething[foo];\n</code></pre>\n\n<p>In your code someImg1 is a property name of current object (<code>this</code>), you can access it by</p>\n\n<pre><code>&lt;img [src]=\"this['someImg' + (i + 1)]\" /&gt;\n</code></pre>\n\n<p>I made an demo here: <a href=\"https://stackblitz.com/edit/angular-display-dynamic-property\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-display-dynamic-property</a></p>\n\n<p>More reference about Dynamically access object property using variable at <a href=\"https://stackoverflow.com/questions/4244896/dynamically-access-object-property-using-variable\">Dynamically access object property using variable</a></p>\n"}, {"tags": [], "owner": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "is_accepted": false, "score": 0, "last_activity_date": 1556073890, "creation_date": 1556073890, "answer_id": 55821655, "question_id": 55820758, "link": "https://stackoverflow.com/questions/55820758/is-there-a-way-to-bind-to-img-src-other-than-src-or-src/55821655#55821655", "title": "is there a way to bind to &lt;img src=&quot;&quot;&gt; other than [src] or src=&quot;{{}}&quot;", "body": "<p>You can use a function to get the image path like so:</p>\n\n<p><code>&lt;img [src]=\"getImagePath(i + 1)\" alt=\"{{ someName }}\" /&gt;</code> </p>\n\n<p>And in your ts file:</p>\n\n<pre><code>public getImagePath(index) {\n    return this.someImage &amp;&amp; this.someImage[index] ? this.someImage[index] : ''\n}\n</code></pre>\n\n<p>And if you don't wanna display the image at all you can bind the function call to a parent div and add an ngIf like so:</p>\n\n<pre><code>&lt;div *ngIf=\"getImagePath(i + 1) as imagePath\"&gt;\n  &lt;img [src]=\"imagePath\" alt=\"{{ imagePath }}\" /&gt;\n&lt;/div&gt; \n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10833045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41cbb36edaa468769f2e1edf3770fa99?s=128&d=identicon&r=PG&f=1", "display_name": "Austin752", "link": "https://stackoverflow.com/users/10833045/austin752"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 55821592, "answer_count": 3, "score": 2, "last_activity_date": 1556073890, "creation_date": 1556062577, "question_id": 55820758, "link": "https://stackoverflow.com/questions/55820758/is-there-a-way-to-bind-to-img-src-other-than-src-or-src", "title": "is there a way to bind to &lt;img src=&quot;&quot;&gt; other than [src] or src=&quot;{{}}&quot;", "body": "<p>is this type of syntax valid?</p>\n\n<pre><code>&lt;img [src]=\"someImg + (i + 1) ? someImg + (i + 1)  : ''\" alt=\"{{ someName }}\" /&gt;\n</code></pre>\n\n<p>if not, how can I dynamically add a variable to the image src on each iteration of the ngFor loop?. The code above gives me the variable i'm trying to get data from but not the data.</p>\n\n<p>the data i'm trying to get data from is only 3 variables. someImg1, someImg2, someImg3</p>\n\n<p>I have also tried this code syntax too.</p>\n\n<pre><code> &lt;img src=\"{{someImg + (i + 1)}} ? {{someImg + (i + 1)}}  : ''\" alt=\"{{ someName }}\" /&gt;\n</code></pre>\n\n<p>I even tried this one too.</p>\n\n<pre><code>&lt;img [src]=\"someImg + (i + 1)\" /&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;img src=\"{{someImg + (i + 1)}}\" /&gt;\n</code></pre>\n\n<p>any suggestions?</p>\n"}, {"tags": ["node.js", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 747, "user_id": 12917821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gd3SQ.jpg?s=128&g=1", "display_name": "Kaspar Etter", "link": "https://stackoverflow.com/users/12917821/kaspar-etter"}, "is_accepted": false, "score": 2, "last_activity_date": 1587460862, "last_edit_date": 1587460862, "creation_date": 1585954885, "answer_id": 61021655, "question_id": 55820752, "link": "https://stackoverflow.com/questions/55820752/use-an-npm-script-as-bin/61021655#61021655", "title": "Use an npm script as &quot;bin&quot;", "body": "<p><strong>Update</strong>: The issue described below has been fixed in <a href=\"https://github.com/TypeStrong/ts-node/releases/tag/v8.9.0\" rel=\"nofollow noreferrer\"><code>ts-node@8.9.0</code></a> thanks to my report. <code>--script-mode</code> now resolves symlinks before looking for the <code>tsconfig.json</code> file. The correct shebang to use is <code>#!/usr/bin/env ts-node-script</code>, which is now also <a href=\"https://github.com/TypeStrong/ts-node#shebang\" rel=\"nofollow noreferrer\">documented</a>. Make sure you have the newest version installed globally with <code>npm -g install ts-node</code>. (I'm not sure whether you also/still need TypeScript installed globally for this. If yes: <code>npm -g install typescript</code>.)</p>\n\n<p><strong>Outdated</strong>: For those who also still stumble across this problem, I documented my current approach in detail in <a href=\"https://github.com/TypeStrong/ts-node/issues/995\" rel=\"nofollow noreferrer\">this issue</a>. In short, many modules (including those of Node.js itself) require that you use the <a href=\"https://www.typescriptlang.org/v2/tsconfig#esModuleInterop\" rel=\"nofollow noreferrer\"><code>--esModuleInterop</code></a> option for the TypeScript compiler. (You can specify this in your <code>tsconfig.json</code> file.) In order to be able to use your command from anywhere and not just from within your package directory, you have to use the undocumented <a href=\"https://github.com/TypeStrong/ts-node/blob/92cf9613828c2ba2fe37b7a0aa7895e122c16185/src/bin.ts#L240-L258\" rel=\"nofollow noreferrer\"><code>--script-mode</code></a> option for <a href=\"https://github.com/TypeStrong/ts-node\" rel=\"nofollow noreferrer\"><code>ts-node</code></a> or the undocumented <a href=\"https://github.com/TypeStrong/ts-node/blob/92cf9613828c2ba2fe37b7a0aa7895e122c16185/package.json#L10\" rel=\"nofollow noreferrer\"><code>ts-node-script</code></a> command, which does <a href=\"https://github.com/TypeStrong/ts-node/blob/master/src/bin-script.ts\" rel=\"nofollow noreferrer\">the same</a>.</p>\n\n<p>In other words, your <a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\" rel=\"nofollow noreferrer\">shebang</a> should either be <code>#!/usr/bin/env -S ts-node --script-mode</code> or <code>#!/usr/bin/env ts-node-script</code>. (The former uses <a href=\"https://www.gnu.org/software/coreutils/manual/html_node/env-invocation.html#g_t_002dS_002f_002d_002dsplit_002dstring-usage-in-scripts\" rel=\"nofollow noreferrer\"><code>-S</code></a> to pass arguments to the specified interpreter. If this doesn't work on your platform, you can try to <a href=\"http://sambal.org/2014/02/passing-options-node-shebang-line/\" rel=\"nofollow noreferrer\">hack around</a> this limitation.)</p>\n\n<p>If you want to use the <a href=\"https://docs.npmjs.com/files/package.json#bin\" rel=\"nofollow noreferrer\"><code>bin</code></a> functionality of <code>npm</code> (e.g. by running <a href=\"https://docs.npmjs.com/cli/link\" rel=\"nofollow noreferrer\"><code>npm link</code></a> from the package directory), the above doesn't work because <code>--script-mode</code> does not (yet?) follow symbolic links. To work around this, you can use <code>#!/usr/bin/env -S ts-node --project /usr/local/lib/node_modules/&lt;your-project&gt;/tsconfig.json</code> on the first line of your script. This is not ideal, though, as it breaks platform independence. The only other option I see at the moment is to use a bash script instead and call your script from there.</p>\n"}, {"comments": [{"owner": {"reputation": 747, "user_id": 12917821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gd3SQ.jpg?s=128&g=1", "display_name": "Kaspar Etter", "link": "https://stackoverflow.com/users/12917821/kaspar-etter"}, "edited": false, "score": 0, "creation_date": 1587461086, "post_id": 61025911, "comment_id": 108513517, "body": "This approach fails as soon as you have local dependencies in your project. See my answer for a more reliable solution."}], "tags": [], "owner": {"reputation": 6586, "user_id": 1594359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yEqJE.jpg?s=128&g=1", "display_name": "xdeepakv", "link": "https://stackoverflow.com/users/1594359/xdeepakv"}, "is_accepted": false, "score": 0, "last_activity_date": 1585991472, "last_edit_date": 1585991472, "creation_date": 1585991167, "answer_id": 61025911, "question_id": 55820752, "link": "https://stackoverflow.com/questions/55820752/use-an-npm-script-as-bin/61025911#61025911", "title": "Use an npm script as &quot;bin&quot;", "body": "<p>It will work, if <code>ts-node</code> is in path variable use </p>\n\n<pre><code>#!/usr/bin/env ts-node\nconsole.log(\"Hello World\");\n</code></pre>\n\n<p>Checkout repo:\n<a href=\"https://github.com/deepakshrma/ts-cli\" rel=\"nofollow noreferrer\">https://github.com/deepakshrma/ts-cli</a></p>\n\n<p>Try out:</p>\n\n<pre><code>$ npm i -g https://git@github.com:deepakshrma/ts-cli.git\n$ ts-test\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 10054361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1481c9261af1cd59bf495c1c5f50a765?s=128&d=identicon&r=PG&f=1", "display_name": "jexplorer", "link": "https://stackoverflow.com/users/10054361/jexplorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1587460862, "creation_date": 1556062534, "last_edit_date": 1556063041, "question_id": 55820752, "link": "https://stackoverflow.com/questions/55820752/use-an-npm-script-as-bin", "title": "Use an npm script as &quot;bin&quot;", "body": "<p>I have a command line application written in TypeScript with some npm scripts defined in <code>package.json</code>.</p>\n\n<pre><code>  \"scripts\": {\n    \"start\": \"ts-node src/index.ts\",\n    \"start-args\": \"ts-node src/index.ts -- some args\"\n  },\n</code></pre>\n\n<p>I would like to link and alias the TypeScript file so that I can call the program easily, so I am looking for something like a <code>\"bin\"</code> key in the <code>package.json</code> file.</p>\n\n<pre><code>  \"scripts\": {\n    \"start\": \"ts-node ./src/index.ts\",\n    \"start-args\": \"ts-node src/index.ts -- some args\"\n  },\n  \"bin\": {\n    \"foobar\": \"./src/index.ts\",\n    \"bazqux\": \"./src/index.ts some args\"\n  }\n</code></pre>\n\n<p><code>ts-node</code> is installed locally.</p>\n\n<p>However, since TypeScript is not natively supported by node, just putting a shebang on <code>./src/index.ts</code> won't work.</p>\n\n<p>I would also like to be able to create an aliased command with default arguments, like <code>bazqux</code> above. When I link or install the package as global, I can run \"foobar\" globally as if I run \"npm run start\" inside the repository; or run \"bazqux\" globally as it's \"npm run start-args\".</p>\n\n<p>How to achieve this?</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556061446, "creation_date": 1556061446, "question_id": 55820616, "link": "https://stackoverflow.com/questions/55820616/how-to-specify-additional-props-in-a-styled-component-in-material-ui", "title": "How to specify additional props in a styled component in material-ui?", "body": "<p>I have a styled component defined by <code>withStyles</code> from <code>material-ui</code>. I am using <code>typescript</code> so it complains about type error on the last line. The reason is that the component <code>ServiceListComponent</code> requires <code>classes</code> and <code>services</code> but <code>withStyles</code> only provides <code>classes</code>. The <code>services</code> will be provided from parent component. How can I make the type correct in <code>withStyle</code> statement?</p>\n\n<pre><code>const styles = createStyles({...})\ninterface Props {\n  services: RootState.ServicesState;\n  classes: { [className in keyof typeof styles]: string };\n}\n\nconst ServiceListComponent = ({ classes, services }: Props) =&gt; {\n  return (\n    &lt;Grid container className={classes.root}&gt;\n      &lt;Grid container className={classes.parent} spacing={8}&gt;\n        {itemsArray.map(value =&gt; (\n          &lt;Grid key={value} item className={classes.item} xs={4} sm={4} md={3} xl={4}&gt;\n            &lt;Paper className={classes.paper} /&gt;\n          &lt;/Grid&gt;\n        ))}\n      &lt;/Grid&gt;\n    &lt;/Grid&gt;\n  );\n};\n\nServiceListComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport const ServiceList = withStyles(styles)(ServiceListComponent);\n</code></pre>\n\n<p>The error for above code is in the last line:</p>\n\n<pre><code>TS2345: Argument of type '{ ({ classes, services }: Props): Element; propTypes: { classes: Validator&lt;object&gt;; }; }' is not assignable to parameter of type 'ComponentType&lt;ConsistentWith&lt;Props, { classes: Record&lt;\"root\" | \"parent\" | \"paper\" | \"items\" | \"item\", string&gt;; }&gt;&gt;'.\n  Type '{ ({ classes, services }: Props): Element; propTypes: { classes: Validator&lt;object&gt;; }; }' is not assignable to type 'FunctionComponent&lt;ConsistentWith&lt;Props, { classes: Record&lt;\"root\" | \"parent\" | \"paper\" | \"items\" | \"item\", string&gt;; }&gt;&gt;'.\n    Types of property 'propTypes' are incompatible.\n      Type '{ classes: Validator&lt;object&gt;; }' is not assignable to type 'WeakValidationMap&lt;ConsistentWith&lt;Props, { classes: Record&lt;\"root\" | \"parent\" | \"paper\" | \"items\" | \"item\", string&gt;; }&gt;&gt;'.\n        Types of property 'classes' are incompatible.\n          Type 'Validator&lt;object&gt;' is not assignable to type 'Validator&lt;{ root: string; parent: string; paper: string; items: string; item: string; }&gt;'.\n            Type '{}' is missing the following properties from type '{ root: string; parent: string; paper: string; items: string; item: string; }': root, parent, paper, items, item\n</code></pre>\n\n<p>I can make it correct by adding <code>any</code> as below but I don't want to use any.</p>\n\n<pre><code>export const ServiceList = withStyles(styles)&lt;any&gt;(ServiceListComponent);\n</code></pre>\n"}, {"tags": ["typescript", "jwt", "nestjs", "nestjs-passport", "nestjs-jwt"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1556110744, "post_id": 55820591, "comment_id": 98325850, "body": "Can you add a <code>console.log</code> to <code>authService.validateAccount</code>? Is it called? Does it return a truthy value?"}, {"owner": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1556227478, "post_id": 55820591, "comment_id": 98376887, "body": "To my surprise it is not called."}], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "edited": false, "score": 0, "creation_date": 1556234478, "post_id": 55858744, "comment_id": 98378791, "body": "The token is valid. However I am still getting 401. How can I know where the issue in the nestjs pipeline?"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "edited": false, "score": 0, "creation_date": 1556374020, "post_id": 55858744, "comment_id": 98421420, "body": "You already extended the <code>AuthGuard</code>, so you can add <code>console.log</code> statements to its methods. You can also set breaking points in the library code and debug."}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "edited": false, "score": 0, "creation_date": 1556415582, "post_id": 55858744, "comment_id": 98430464, "body": "Since you seem to be using pretty much the standard setup, I don&#39;t think so, no. And as you&#39;re saying your token is not expired and is signed with the right secret, it could still be a faulty header format, version conflict,..."}, {"owner": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "edited": false, "score": 0, "creation_date": 1556791990, "post_id": 55858744, "comment_id": 98552649, "body": "Hello NestJs geeks, kindly help me fix this issue. I have been battling with this for a while now. No solutions."}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "edited": false, "score": 0, "creation_date": 1556793176, "post_id": 55858744, "comment_id": 98553248, "body": "You have to give more information, e.g. logs etc. or create a reproducible version on <a href=\"https://codesandbox.io\" rel=\"nofollow noreferrer\">codesandbox.io</a>"}, {"owner": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "edited": false, "score": 0, "creation_date": 1556887419, "post_id": 55858744, "comment_id": 98590751, "body": "Does anyone mind looking at my code because I really do not know what to do? Maybe I am missing something."}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": false, "score": 4, "last_activity_date": 1556233728, "creation_date": 1556233728, "answer_id": 55858744, "question_id": 55820591, "link": "https://stackoverflow.com/questions/55820591/nestjs-jwt-authentication-returns-401/55858744#55858744", "title": "NestJs JWT Authentication returns 401", "body": "<p><code>validate</code> will only be called when you pass a valid jwt token. When the token is signed with a different secret or is expired, <code>validate</code> will never be called. Make sure you have a valid token. You can check your token for example with the <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt debugger</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "edited": false, "score": 0, "creation_date": 1556876461, "post_id": 55961937, "comment_id": 98585112, "body": "I am not sure what is going on but it did not work."}], "tags": [], "owner": {"reputation": 1, "user_id": 11444639, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UD2ueE1klOI/AAAAAAAAAAI/AAAAAAAAAAc/AohVu1KrI6I/photo.jpg?sz=128", "display_name": "Andr&#233; Lima", "link": "https://stackoverflow.com/users/11444639/andr%c3%a9-lima"}, "is_accepted": false, "score": 0, "last_activity_date": 1556844315, "creation_date": 1556844315, "answer_id": 55961937, "question_id": 55820591, "link": "https://stackoverflow.com/questions/55820591/nestjs-jwt-authentication-returns-401/55961937#55961937", "title": "NestJs JWT Authentication returns 401", "body": "<p>i was stuck in the same problem. Here my code (working) for you to compare:</p>\n\n<p><em>src/auth/auth.module.ts</em></p>\n\n<pre><code>import { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\nimport { AuthService } from './auth.service';\nimport { JwtStrategy } from './jwt.strategy';\nimport { UserModule } from 'src/user/user.module';\nimport { PassportModule } from '@nestjs/passport';\n\n@Module({\n  imports: [\n    PassportModule.register({ defaultStrategy: 'jwt' }),\n    JwtModule.register({\n      secretOrPrivateKey: 'secretKey',\n      signOptions: {\n        expiresIn: '1d',\n      },\n    }),\n    UserModule,\n  ],\n  providers: [AuthService, JwtStrategy],\n  exports: [PassportModule, AuthService],\n})\nexport class AuthModule {}\n</code></pre>\n\n<p><em>src/auth/auth.service.ts</em></p>\n\n<pre><code>import { Injectable } from '@nestjs/common';\nimport { JwtService } from '@nestjs/jwt';\nimport { JwtPayload } from './interfaces/jwt-payload.interface';\nimport { UserService } from 'src/user/user.service';\n\n@Injectable()\nexport class AuthService {\n  constructor(\n    private readonly jwtService: JwtService,\n    private readonly userService: UserService,\n  ) {}\n\n  makeToken(payload: JwtPayload) {\n    const { email } = payload;\n    return this.jwtService.sign({ email });\n  }\n\n  checkToken(token: string) {\n    return this.jwtService.verify(token);\n  }\n\n  async validateUser(payload: JwtPayload) {\n    return await this.userService.read(payload.email);\n  }\n}\n</code></pre>\n\n<p><em>src/auth/jwt.strategy.ts</em></p>\n\n<pre><code>import { Strategy, ExtractJwt, VerifiedCallback } from 'passport-jwt';\nimport { AuthService } from './auth.service';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { JwtPayload } from './interfaces/jwt-payload.interface';\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor(private readonly authService: AuthService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      secretOrKey: 'secretKey',\n    });\n  }\n\n  async validate(payload: JwtPayload, done: VerifiedCallback) {\n    const user = await this.authService.validateUser(payload);\n    if (!user) {\n      done(new UnauthorizedException(), false);\n    }\n    return done(null, user);\n  }\n}\n</code></pre>\n\n<p><em>src/auth/interfaces/jwt-payload.interface.ts</em></p>\n\n<pre><code>export interface JwtPayload {\n  email: string;\n}\n</code></pre>\n\n<p><em>src/account/account.module.ts</em></p>\n\n<pre><code>import { Module } from '@nestjs/common';\nimport { AccountController } from './account.controller';\nimport { PassportModule } from '@nestjs/passport';\nimport { AuthModule } from 'src/auth/auth.module';\n\n@Module({\n  imports: [AuthModule],\n  controllers: [AccountController],\n})\nexport class AccountModule {}\n</code></pre>\n\n<p><em>src/account/account.controller.ts</em></p>\n\n<pre><code>import { Controller, UseGuards, Post } from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\n\n@Controller('account')\nexport class AccountController {\n  @Post('skills')\n  @UseGuards(AuthGuard())\n  updateSkills() {\n    return console.log('something');\n  }\n}\n</code></pre>\n\n<p><strong>P.S.:</strong> I did not do a JwtAuthGuard.</p>\n\n<p><em>I hope it helped you :)</em></p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 4501383, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YVcjxr2g5Mo/AAAAAAAAAAI/AAAAAAAAAaY/31SWM2adUGs/photo.jpg?sz=128", "display_name": "Jaime Suncin", "link": "https://stackoverflow.com/users/4501383/jaime-suncin"}, "is_accepted": false, "score": 0, "last_activity_date": 1557185205, "creation_date": 1557185205, "answer_id": 56013570, "question_id": 55820591, "link": "https://stackoverflow.com/questions/55820591/nestjs-jwt-authentication-returns-401/56013570#56013570", "title": "NestJs JWT Authentication returns 401", "body": "<p>You can view a minimum working example with passport and NestJS</p>\n\n<p><a href=\"https://github.com/leosuncin/nest-auth-example\" rel=\"nofollow noreferrer\">https://github.com/leosuncin/nest-auth-example</a></p>\n\n<p>Main differences with your code:</p>\n\n<pre><code>@Module({\n  imports: [\n    PassportModule.register({ defaultStrategy: 'jwt' }), // I don't do this because I explicity call every stratategy\n    JwtModule.register({\n      secretOrPrivateKey: 'secretKey',\n      signOptions: {\n        expiresIn: '1d',\n      },\n    }),\n    UserModule,\n  ],\n  providers: [AuthService, JwtStrategy],\n  exports: [PassportModule, AuthService], // I don't do this\n})\n</code></pre>\n\n<p>I don't use any <code>JwtAuthGuard</code> just use the default one.</p>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 11587308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a06a2b681f142ea6b34bfc2a3d7b5bf?s=128&d=identicon&r=PG&f=1", "display_name": "All2Pie", "link": "https://stackoverflow.com/users/11587308/all2pie"}, "is_accepted": false, "score": 2, "last_activity_date": 1575378641, "creation_date": 1575378641, "answer_id": 59157923, "question_id": 55820591, "link": "https://stackoverflow.com/questions/55820591/nestjs-jwt-authentication-returns-401/59157923#59157923", "title": "NestJs JWT Authentication returns 401", "body": "<p>I was facing similar issue, the nestjs passport jwt module was working perfectly on my local machine but was not working on the live server. After researching half a day i found that my token header was not reaching the live server, the reason for that is that i am using nginx (proxy_pass) on live server and my header field name was \"access_token\" so for some reason nginx removed it.</p>\n\n<p>Make a simple global middle-ware and check whether you are receiving the token in the header. </p>\n\n<p>Hope that helps someone.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13339569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d326ce9f8e5757dc4fd8ebd640971c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniil", "link": "https://stackoverflow.com/users/13339569/daniil"}, "is_accepted": false, "score": 0, "last_activity_date": 1614279421, "creation_date": 1614279421, "answer_id": 66374779, "question_id": 55820591, "link": "https://stackoverflow.com/questions/55820591/nestjs-jwt-authentication-returns-401/66374779#66374779", "title": "NestJs JWT Authentication returns 401", "body": "<p>I got this problem and i solved it.\nJust remove <code>${procces.env.JWT_SECRET}</code> and do something else, async register for example, i don't know why, but it`s work.</p>\n"}], "owner": {"reputation": 905, "user_id": 1879605, "user_type": "registered", "accept_rate": 2, "profile_image": "https://i.stack.imgur.com/T8uIg.jpg?s=128&g=1", "display_name": "Arsene", "link": "https://stackoverflow.com/users/1879605/arsene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7693, "favorite_count": 2, "answer_count": 5, "score": 4, "last_activity_date": 1614279421, "creation_date": 1556061240, "last_edit_date": 1593455963, "question_id": 55820591, "link": "https://stackoverflow.com/questions/55820591/nestjs-jwt-authentication-returns-401", "title": "NestJs JWT Authentication returns 401", "body": "<p>I have implemented a jwt authentication in nestJs. However whenever I attempt to authenticate using the following authorization headers:</p>\n\n<pre><code>Bearer &lt;token&gt; or JWT &lt;token&gt;\n</code></pre>\n\n<p>I got 401. These are my authentication files</p>\n\n<pre><code>@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy, 'jwt') {\n  constructor(private readonly authService: AuthService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      secretOrKey: `${process.env.SECRET}`,\n    });\n  }\n\n  async validate(payload: Credentials) {\n    const user: Account = await this.authService.validateAccount(payload);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n    return user;\n  }\n}\n\n\n@Injectable()\nexport class JwtAuthGuard extends AuthGuard('jwt') {\n  canActivate(context: ExecutionContext) {\n    return super.canActivate(context);\n  }\n\n  handleRequest(err, user, info) {\n    if (err || !user) {\n      throw err || new UnauthorizedException();\n    }\n    return user;\n  }\n}\n</code></pre>\n\n<p>and this my auth module</p>\n\n<pre><code>@Module({\n  imports: [\n    PassportModule.register({ defaultStrategy: 'jwt' }),\n    JwtModule.register({\n      secretOrPrivateKey: `${process.env.SECRET}`,\n    }),\n    AccountModule,\n  ],\n  providers: [AuthService, JwtStrategy],\n  controllers: [AuthController],\n  exports: [PassportModule, AuthService],\n})\nexport class AuthModule {\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 0, "last_activity_date": 1556061617, "creation_date": 1556061617, "answer_id": 55820640, "question_id": 55820556, "link": "https://stackoverflow.com/questions/55820556/why-doesnt-using-keys-from-two-sides-of-a-union-cause-ts-to-complain/55820640#55820640", "title": "Why doesn&#39;t using keys from two sides of a union cause TS to complain?", "body": "<p>Because the only thing that would cause TS to complain is <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks\" rel=\"nofollow noreferrer\">excess property check</a>, and it's not done for non-discriminated union types. <a href=\"https://github.com/Microsoft/TypeScript/issues/20863\" rel=\"nofollow noreferrer\">There's open issue for that</a>, reported Dec 22, 2017.</p>\n\n<p>See also <a href=\"https://github.com/Microsoft/TypeScript/issues/31055\" rel=\"nofollow noreferrer\">Union type does not act as mutual exclusion</a>, where the answer is \"it never was intended to\".</p>\n"}, {"tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": true, "score": 0, "last_activity_date": 1556062153, "creation_date": 1556062153, "answer_id": 55820704, "question_id": 55820556, "link": "https://stackoverflow.com/questions/55820556/why-doesnt-using-keys-from-two-sides-of-a-union-cause-ts-to-complain/55820704#55820704", "title": "Why doesn&#39;t using keys from two sides of a union cause TS to complain?", "body": "<p>In order to get mutual exclusivity and excess property check one workaround is to do this</p>\n\n<pre><code>export type XOR&lt;T, U&gt; = (T | U) extends object ? (Without&lt;T, U&gt; &amp; U) | (Without&lt;U, T&gt; &amp; T) : T | U;\nexport type Without&lt;T, U&gt; = { [P in Exclude&lt;keyof T, keyof U&gt;]?: never };\n\n\ntype T = XOR&lt;{ a: string }, { b: string }&gt;\n\nconst obj: T = {\n  a: 'a',\n} // passes\n\nconst obj1: T = {\n  b: 'b',\n} // passes\n\nconst obj2: T = {\n  a: 'a',\n  b: 'b',\n} // fails\n</code></pre>\n"}], "owner": {"reputation": 80557, "user_id": 578895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d8cf27059d3e36cdb21e26d5e1defe8c?s=128&d=identicon&r=PG", "display_name": "Mark Kahn", "link": "https://stackoverflow.com/users/578895/mark-kahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 55820704, "answer_count": 2, "score": 0, "last_activity_date": 1556062153, "creation_date": 1556060947, "question_id": 55820556, "link": "https://stackoverflow.com/questions/55820556/why-doesnt-using-keys-from-two-sides-of-a-union-cause-ts-to-complain", "title": "Why doesn&#39;t using keys from two sides of a union cause TS to complain?", "body": "<p>Why doesn't this cause a TS error?  <a href=\"http://www.typescriptlang.org/play/#src=type%20T%20%3D%20%7B%20a%3A%20string%20%7D%20%7C%20%7B%20b%3A%20string%20%7D%0A%0Aconst%20obj%3A%20T%20%3D%20%7B%0A%20%20a%3A%20&#39;a&#39;%2C%0A%20%20b%3A%20&#39;d&#39;%2C%0A%7D\" rel=\"nofollow noreferrer\">TS playground</a></p>\n\n<pre><code>type T = { a: string } | { b: string }\n\nconst obj: T = {\n  a: 'a',\n  b: 'd',\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 860, "user_id": 10121165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yWeIZz14M-k/AAAAAAAAAAI/AAAAAAAAFUs/QlhOo3CS4ko/photo.jpg?sz=128", "display_name": "Francisco Santorelli", "link": "https://stackoverflow.com/users/10121165/francisco-santorelli"}, "edited": false, "score": 0, "creation_date": 1556060576, "post_id": 55820344, "comment_id": 98307270, "body": "is there a method creating each new form? if there is, you could start in it with   <code>if (this.myFormArray.controls.length &gt;= 5) return;</code> this example will vary with each particular case, but you get the idea.  If this is a method, do tell me to add it as an answer! Hope it helps."}, {"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 2, "creation_date": 1556060765, "post_id": 55820344, "comment_id": 98307307, "body": "The &#39;space&#39; character is your friend; not your enemy."}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 11145640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mG-0IBG877I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc_N5d-d_SrGJZ8wAUWPtBLgi114Q/mo/photo.jpg?sz=128", "display_name": "Atul kumar singh", "link": "https://stackoverflow.com/users/11145640/atul-kumar-singh"}, "edited": false, "score": 0, "creation_date": 1556102994, "post_id": 55821413, "comment_id": 98321173, "body": "It is still adding more than 5 fields and i want user to be able to add 5 fields only"}, {"owner": {"reputation": 1, "user_id": 9687013, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z6BZKMeK-KQ/AAAAAAAAAAI/AAAAAAAAAC8/y8bRl6rgOwE/photo.jpg?sz=128", "display_name": "Sean Hamilton", "link": "https://stackoverflow.com/users/9687013/sean-hamilton"}, "reply_to_user": {"reputation": 189, "user_id": 11145640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mG-0IBG877I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc_N5d-d_SrGJZ8wAUWPtBLgi114Q/mo/photo.jpg?sz=128", "display_name": "Atul kumar singh", "link": "https://stackoverflow.com/users/11145640/atul-kumar-singh"}, "edited": false, "score": 0, "creation_date": 1556144192, "post_id": 55821413, "comment_id": 98342408, "body": "I thought it would still add more than 5 fields. I believe the length validator is for string or number length only. Add the Validators.required validator to the array and that should fix it. Otherwise it would need a custom validator (which is a really easy one to do in this case)."}], "tags": [], "owner": {"reputation": 1, "user_id": 9687013, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z6BZKMeK-KQ/AAAAAAAAAAI/AAAAAAAAAC8/y8bRl6rgOwE/photo.jpg?sz=128", "display_name": "Sean Hamilton", "link": "https://stackoverflow.com/users/9687013/sean-hamilton"}, "is_accepted": false, "score": 0, "last_activity_date": 1556075979, "last_edit_date": 1556075979, "creation_date": 1556071804, "answer_id": 55821413, "question_id": 55820344, "link": "https://stackoverflow.com/questions/55820344/how-to-limit-form-array-length/55821413#55821413", "title": "how to limit form array length?", "body": "<p>Wrap your validators in an array. The error you're getting is because maxLength isn't an async validator, which is the variable you're putting it into..</p>\n\n<pre><code>constructor(formState: any = null, validatorOrOpts?: ValidatorFn | &gt;AbstractControlOptions | ValidatorFn[], asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[])\n</code></pre>\n\n<p>This is the correct code below. Not sure if this solves the problem you're trying to solve, but it fixes the error you have right now.</p>\n\n<pre><code>this.skillForm = this.formBuilder.group({\n        skills:this.formBuilder.array([this.createskillFeild()], [ Validators.minLength(1), Validators.maxLength(5)] )\n      });\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 11145640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mG-0IBG877I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc_N5d-d_SrGJZ8wAUWPtBLgi114Q/mo/photo.jpg?sz=128", "display_name": "Atul kumar singh", "link": "https://stackoverflow.com/users/11145640/atul-kumar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1161, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556075979, "creation_date": 1556059297, "question_id": 55820344, "link": "https://stackoverflow.com/questions/55820344/how-to-limit-form-array-length", "title": "how to limit form array length?", "body": "<p>i have an form array which i want to limit to only 5 input elements generated by user \nand my form has following definition </p>\n\n<pre><code> createskillForm()\n    {\n      this.skillForm=this.formBuilder.group({\n        skills:this.formBuilder.array([this.createskillFeild()],Validators.minLength(1),Validators.maxLength(5))\n      });\n    }\n</code></pre>\n\n<p>i have tried making changes with minlength but it is showing the following error in the console :-\nRROR in src/app/components/com-profile/com-profile.component.ts(47,89): error TS2345: Argument of type 'ValidatorFn' is not assignable to parameter of type 'AsyncValidatorFn | AsyncValidatorFn[]'.\n  Type 'ValidatorFn' is not assignable to type 'AsyncValidatorFn'.\n    Type 'ValidationErrors' is not assignable to type 'Promise | Observable'.\n      Type 'ValidationErrors' is not assignable to type 'Observable'.\n        Property '_isScalar' is missing in type 'ValidationErrors'.\nwhat i can do to limit adding user only five skills ?</p>\n"}, {"tags": ["typescript", "express", "mongoose"], "comments": [{"owner": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1556093053, "post_id": 55820035, "comment_id": 98315421, "body": "id is <code>_id</code> <code>findByIdAndUpdate( { _id: mongoose.Types.ObjectId(req.params.id) }</code>"}, {"owner": {"reputation": 95, "user_id": 1785888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8094aebb12da3c93d7970cac9e13907?s=128&d=identicon&r=PG", "display_name": "Eddy", "link": "https://stackoverflow.com/users/1785888/eddy"}, "reply_to_user": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1556116002, "post_id": 55820035, "comment_id": 98329487, "body": "Yup and I can just pass in the id, I don&#39;t need &#39;mongoose.Types.ObjectId&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 1785888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8094aebb12da3c93d7970cac9e13907?s=128&d=identicon&r=PG", "display_name": "Eddy", "link": "https://stackoverflow.com/users/1785888/eddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1556116325, "creation_date": 1556116325, "answer_id": 55832574, "question_id": 55820035, "link": "https://stackoverflow.com/questions/55820035/cannot-update-docuement/55832574#55832574", "title": "Cannot Update Docuement", "body": "<p>In the end, I wanted to use the form data (which is based of the model) and update the document and get the latest document back, I did: </p>\n\n<pre><code>const updateDFRs = await DfrModel.findByIdAndUpdate({_id: req.params.id},  req.body, {new: true});\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 1785888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8094aebb12da3c93d7970cac9e13907?s=128&d=identicon&r=PG", "display_name": "Eddy", "link": "https://stackoverflow.com/users/1785888/eddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556116325, "creation_date": 1556057085, "question_id": 55820035, "link": "https://stackoverflow.com/questions/55820035/cannot-update-docuement", "title": "Cannot Update Docuement", "body": "<p>For some reason, I cannot update a document by id using mongoose and typescript. I am  testing the api and passing in the id as a parameter</p>\n\n<p>I have tried several different methods of updating by ID. I can update by comparing any other fields, but I need to update by the ID</p>\n\n<pre><code>//This is the controller\n\nimport DfrModel from './dfr.model';\nimport { Request, Response } from 'express';\nimport config from '../../config/config';\nimport bodyParser = require('body-parser');\nimport DFRActivityModel from './DFRActivity.model';\nimport * as mongoose from \"mongoose\";\n\nexport default class DfrController {\n\npublic updateOne = async (req:Request, res:Response): Promise&lt;any&gt; =&gt; {\n    const dfr = new DfrModel(req.body);\n    console.log(req.params.id);\n    try {\n        const updateDFRs = await DfrModel.findByIdAndUpdate( mongoose.Types.ObjectId(req.params.id),{$set:{'projectName': 'CHANGED 1234', 'projectNumber': '12345'}}); \n        //const updateDFRs = await DfrModel.findByIdAndUpdate(req.params.id,{$set:{'projectName': 'CHANGED 1234', 'projectNumber': '12345'}}); //Does not work either\n\n        if (updateDFRs === null || updateDFRs.nModified === 0) {\n            return res.status(404).send({\n                success: false,\n                message: 'Error Saving DFR',\n                data: null\n              });\n        }\n\n        res.status(200).send({\n            success: true,\n            data: dfr\n          });\n\n    } catch (err) {\n        res.status(500).send({\n            success: false,\n            message: err.toString(),\n            data: null\n        });\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>// This is the model\nimport * as mongoose from \"mongoose\";\nconst Schema = mongoose.Schema;\n\nconst DFRSchema = Schema ({\n    _id: {\n        type: String,\n    },\n    projectName: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    projectNumber: {\n        type: String,\n        required:false,\n        trim: true\n    }\n};\nexport default mongoose.model(\"DFR\", DFRSchema);\n</code></pre>\n\n<p>I would be expected the document record to update, to the fields I have defined.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1556058273, "post_id": 55819841, "comment_id": 98306735, "body": "Please stop making new questions every time you have a small update. Edit your original one instead."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 1, "creation_date": 1556058294, "post_id": 55819841, "comment_id": 98306742, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55817091/display-amount-with-cents\">Display amount with cents</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556056474, "post_id": 55819929, "comment_id": 98306246, "body": "I get Error: InvalidPipeArgument: &#39;Missing locale data for the locale &quot;fr&quot;.&#39; for pipe &#39;CurrencyPipe&#39;"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556056696, "post_id": 55819929, "comment_id": 98306310, "body": "@Peter Penzov, you will have to import the data for the locale, I updated the answer."}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556056854, "post_id": 55819929, "comment_id": 98306359, "body": "@jo_va are you sure? &#39;fr&#39; is not mandatory. I have <code>transaction.amount</code> and <code>transaction.currency</code> I need to get the locale from them."}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556056941, "post_id": 55819929, "comment_id": 98306380, "body": "@Peter Penzov, I thought using &#39;fr&#39; would switch the currency symbol to the right, but it will actually also format the numbers..."}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556056997, "post_id": 55819929, "comment_id": 98306397, "body": "Any idea what will be the solution?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1556057286, "post_id": 55819929, "comment_id": 98306477, "body": "I&#39;m not an angular developer, so I could be wrong, but since you&#39;re trying to ignore the locale format anyway, couldn&#39;t you just call <a href=\"https://angular.io/api/common/getCurrencySymbol\" rel=\"nofollow noreferrer\"><code>getCurrencySymbol</code></a> by itself? e.g. <code>&lt;td&gt;{{txn.amount | currency:txn.currency:&#39;&#39;}} {{getCurrencySymbol(txn.currency)}}&lt;&#47;td&gt;</code>?"}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1556057399, "post_id": 55819929, "comment_id": 98306511, "body": "@p.s.w.g I get TypeError: _co.getCurrencySymbol is not a function"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1556057445, "post_id": 55819929, "comment_id": 98306532, "body": "@p.s.w.g, I think that would be the solution, I was looking for a way to extract the currency, getCurrencySymbol seems to do just that. And the empty string given as second argument to the pipe will suppress the symbol from the output."}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556057726, "post_id": 55819929, "comment_id": 98306612, "body": "@Peter Penzov, actually, since you are output the code of the currency, why not output it directly ?"}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556057760, "post_id": 55819929, "comment_id": 98306623, "body": "can you give some example please?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556057817, "post_id": 55819929, "comment_id": 98306629, "body": "@PeterPenzov This question also seems relevant: <a href=\"https://stackoverflow.com/q/46077521/1715579\">Get currency symbol angular 2</a>"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556057900, "post_id": 55819929, "comment_id": 98306650, "body": "@PeterPenzov, do you want to only output the currency code ? such as USD, EUR, CAD ? if so, simply print the ISO4217 currency code you give as an argument to the pipe"}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556057946, "post_id": 55819929, "comment_id": 98306659, "body": "@jo_va yes: 10,080.00 USD"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556058023, "post_id": 55819929, "comment_id": 98306676, "body": "@Peter Penzov, to me that looks like the raw currency code you are passing to the pipe, so if that holds for the other currencies as well, simply append that, as shown in the answer. No need to fetch the symbol for the currency"}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556058267, "post_id": 55819929, "comment_id": 98306733, "body": "By the way is there more elegant way? Looks like dirty solution to me?"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556058415, "post_id": 55819929, "comment_id": 98306771, "body": "@Peter Penzov, I think this would be the easiest solution"}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556058441, "post_id": 55819929, "comment_id": 98306778, "body": "@jo_va Any alternatives?"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556058534, "post_id": 55819929, "comment_id": 98306802, "body": "@Peter Penzov, if your formatting is fixed, ie, does not change according to the currency, then you could use the DecimalPipe to format the number and then append the currency code."}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556058588, "post_id": 55819929, "comment_id": 98306824, "body": "It&#39;s changed according to the currency."}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1556058692, "post_id": 55819929, "comment_id": 98306850, "body": "@Peter Penzov, since your formatting changes according to the currency, using the number pipe would be irrelevant, so I think this answer is the easiest way to go. If you want to know more about the DecimalPipe, you can check <a href=\"https://angular.io/api/common/DecimalPipe\" rel=\"nofollow noreferrer\">this link</a>"}], "tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": true, "score": 1, "last_activity_date": 1556058279, "last_edit_date": 1556058279, "creation_date": 1556056412, "answer_id": 55819929, "question_id": 55819841, "link": "https://stackoverflow.com/questions/55819841/display-amount-order/55819929#55819929", "title": "Display amount order", "body": "<p>If you are formatting the number and appending the ISO4217 currency code, then no need to output the symbol and code with the <a href=\"https://angular.io/api/common/CurrencyPipe\" rel=\"nofollow noreferrer\">CurrencyPipe doc</a>. Only use the pipe to format the number, and then append the currency code after the pipe output:</p>\n\n<pre><code> &lt;td&gt;{{ transaction.amount | currency:transaction.currency:'' }} {{ transaction.currency }}&lt;/td&gt;\n</code></pre>\n\n<p>The second argument to the pipe removes the currency and symbol from the output. However, the number will still be formatted according to the currency.</p>\n"}], "owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55819929, "answer_count": 1, "score": -1, "last_activity_date": 1556058279, "creation_date": 1556055861, "question_id": 55819841, "link": "https://stackoverflow.com/questions/55819841/display-amount-order", "title": "Display amount order", "body": "<p>I use this code to display amount and currency:</p>\n\n<pre><code> &lt;td&gt;{{transaction.amount | currency: transaction.currency :'code'}}&lt;/td&gt;\n</code></pre>\n\n<p>This is the visual result:</p>\n\n<pre><code>USD10,080.00\n</code></pre>\n\n<p>Is there a way to get this result: <code>10,080.00 USD</code></p>\n"}, {"tags": ["javascript", "typescript", "npm", "package"], "comments": [{"owner": {"reputation": 161, "user_id": 2694656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xNr7M.jpg?s=128&g=1", "display_name": "Nir Weber", "link": "https://stackoverflow.com/users/2694656/nir-weber"}, "edited": false, "score": 1, "creation_date": 1556054982, "post_id": 55819650, "comment_id": 98305763, "body": "How did you import <code>TypescriptParser</code>?"}, {"owner": {"reputation": 31, "user_id": 8337289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a6e1a34fc9ac09b883c415d738b3807?s=128&d=identicon&r=PG&f=1", "display_name": "Izo Sakallah", "link": "https://stackoverflow.com/users/8337289/izo-sakallah"}, "reply_to_user": {"reputation": 161, "user_id": 2694656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xNr7M.jpg?s=128&g=1", "display_name": "Nir Weber", "link": "https://stackoverflow.com/users/2694656/nir-weber"}, "edited": false, "score": 0, "creation_date": 1556055298, "post_id": 55819650, "comment_id": 98305864, "body": "Actually, I am not sure. Instead of <code>require(&#39;typescript-parser&#39;)</code> I tried using <code>require(&#39;TypescriptParser&#39;)</code> but I got the error <code>Error: Cannot find module &#39;TypescriptParser&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8337289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a6e1a34fc9ac09b883c415d738b3807?s=128&d=identicon&r=PG&f=1", "display_name": "Izo Sakallah", "link": "https://stackoverflow.com/users/8337289/izo-sakallah"}, "edited": false, "score": 0, "creation_date": 1556055443, "post_id": 55819717, "comment_id": 98305925, "body": "Using that, I get: <code>SyntaxError: Unexpected token {</code>"}], "tags": [], "owner": {"reputation": 161, "user_id": 2694656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xNr7M.jpg?s=128&g=1", "display_name": "Nir Weber", "link": "https://stackoverflow.com/users/2694656/nir-weber"}, "is_accepted": false, "score": 1, "last_activity_date": 1556055193, "creation_date": 1556055193, "answer_id": 55819717, "question_id": 55819650, "link": "https://stackoverflow.com/questions/55819650/cant-use-a-class-defined-in-an-npm-package/55819717#55819717", "title": "Can&#39;t use a class defined in an npm package", "body": "<p>Try importing using:</p>\n\n<pre><code>import { TypescriptParser } from 'typescript-parser';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 6796851, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0YOw2FxudDY/AAAAAAAAAAI/AAAAAAAAAAw/xNw_jTVZ24M/photo.jpg?sz=128", "display_name": "Milad Bonakdar", "link": "https://stackoverflow.com/users/6796851/milad-bonakdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1556056583, "creation_date": 1556056583, "answer_id": 55819960, "question_id": 55819650, "link": "https://stackoverflow.com/questions/55819650/cant-use-a-class-defined-in-an-npm-package/55819960#55819960", "title": "Can&#39;t use a class defined in an npm package", "body": "<p>I tried the code below and it works for me :</p>\n\n<p>index.js file </p>\n\n<pre><code>const parser = require('typescript-parser');\n\nconst parser = new TypescriptParser();\n\n</code></pre>\n\n<p>I run it with <code>node index.js</code></p>\n"}, {"tags": [], "owner": {"reputation": 794, "user_id": 2145839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5507e71ca565c51b3a601a5048544e2?s=128&d=identicon&r=PG", "display_name": "Fabrice TIERCELIN", "link": "https://stackoverflow.com/users/2145839/fabrice-tiercelin"}, "is_accepted": false, "score": 0, "last_activity_date": 1583387590, "creation_date": 1583387590, "answer_id": 60538941, "question_id": 55819650, "link": "https://stackoverflow.com/questions/55819650/cant-use-a-class-defined-in-an-npm-package/60538941#60538941", "title": "Can&#39;t use a class defined in an npm package", "body": "<p>This code works for me:</p>\n\n<p>index.js file </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const tp = require('typescript-parser');\nconst parser = new tp.TypescriptParser();\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8337289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a6e1a34fc9ac09b883c415d738b3807?s=128&d=identicon&r=PG&f=1", "display_name": "Izo Sakallah", "link": "https://stackoverflow.com/users/8337289/izo-sakallah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1583387590, "creation_date": 1556054858, "question_id": 55819650, "link": "https://stackoverflow.com/questions/55819650/cant-use-a-class-defined-in-an-npm-package", "title": "Can&#39;t use a class defined in an npm package", "body": "<p>I am trying to use a typescript-parser:\n<a href=\"https://www.npmjs.com/package/typescript-parser\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/typescript-parser</a></p>\n\n<p>but I'm having difficulties with using the package properly.</p>\n\n<p>I installed the package successfully using <code>npm install</code>; when I run <code>npm list --depth=0</code> it shows up in the list.</p>\n\n<p>Eventually, I tried running the following line of code that is suggested in the link attached above (using <code>node</code> command):</p>\n\n<pre><code>const parser = new TypescriptParser();\n</code></pre>\n\n<p>but the problem is that I get the following error:</p>\n\n<pre><code>const parser = new TypescriptParser();\n           ^\n\nReferenceError: TypescriptParser is not defined\n    at Object.&lt;anonymous&gt; (C:\\Users\\...\\parser_example.js:3:16)\n    at Module._compile (internal/modules/cjs/loader.js:701:30)\n    at Object.Module._extensions..js             (internal/modules/cjs/loader.js:712:10)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:754:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\n</code></pre>\n\n<p>Alternatively, I tried running this:</p>\n\n<pre><code>const TypescriptParser = require('typescript-parser');\n\nconst parser = new TypescriptParser();\n</code></pre>\n\n<p>yet I still get a (different) error:</p>\n\n<pre><code>const parser = new TypescriptParser();\n           ^\n\nTypeError: TypescriptParser is not a constructor\n    at Object.&lt;anonymous&gt; (C:\\Users\\...\\parser_example.js:3:16)\n    at Module._compile (internal/modules/cjs/loader.js:701:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:712:10)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:754:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\n</code></pre>\n\n<p>It seems as if although the package was installed, it doesn't recognize the class TypescriptParser.</p>\n\n<p>Any help would be much appreciated!</p>\n"}, {"tags": ["angular", "typescript", "validation", "components"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1556051097, "post_id": 55818871, "comment_id": 98304152, "body": "You seem to be mixing up AngularJS and Angular."}, {"owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1556051155, "post_id": 55818871, "comment_id": 98304182, "body": "Oh, is it just Angular?"}, {"owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1556051171, "post_id": 55818871, "comment_id": 98304190, "body": "Sorry I am very new to this."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1556051797, "post_id": 55818871, "comment_id": 98304454, "body": "You&#39;re using Angular (2+). The site you link to is using AngularJS (1.x). They aren&#39;t compatible."}, {"owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1556051900, "post_id": 55818871, "comment_id": 98304505, "body": "Hmm, thank you for the feedback. Then is there another resource that I could use to achieve the same task?"}], "answers": [{"comments": [{"owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "edited": false, "score": 0, "creation_date": 1556052308, "post_id": 55819119, "comment_id": 98304695, "body": "I am using Angular not AngularJS."}, {"owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "edited": false, "score": 0, "creation_date": 1556052502, "post_id": 55819119, "comment_id": 98304787, "body": "I am not sure if the infoForm data is even assigned the form&#39;s values from the HTML. I can assess each control like you wrote, but I am unsure if there is even data in there."}, {"owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "edited": false, "score": 0, "creation_date": 1556052569, "post_id": 55819119, "comment_id": 98304816, "body": "It&#39;s why I wanted to use the module() method to get the values and validate them."}, {"owner": {"reputation": 41, "user_id": 7528209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/twk3C.jpg?s=128&g=1", "display_name": "Dmidecode", "link": "https://stackoverflow.com/users/7528209/dmidecode"}, "reply_to_user": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "edited": false, "score": 0, "creation_date": 1556052920, "post_id": 55819119, "comment_id": 98304972, "body": "I add some informations and the link to the official documentation about FormControl. If I need to add explanations tell me."}, {"owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "edited": false, "score": 0, "creation_date": 1556053429, "post_id": 55819119, "comment_id": 98305188, "body": "Is your infoForm variable of type FormGroup shown in the debug picture?"}], "tags": [], "owner": {"reputation": 41, "user_id": 7528209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/twk3C.jpg?s=128&g=1", "display_name": "Dmidecode", "link": "https://stackoverflow.com/users/7528209/dmidecode"}, "is_accepted": true, "score": 1, "last_activity_date": 1556052751, "last_edit_date": 1556052751, "creation_date": 1556052149, "answer_id": 55819119, "question_id": 55818871, "link": "https://stackoverflow.com/questions/55818871/angular-not-found-trying-to-get-values-validate-from-html-form/55819119#55819119", "title": "&quot;angular&quot; not found, trying to get values &amp; validate from HTML form", "body": "<p>As the comments says you are mixing AngularJS and Angular.</p>\n\n<p>In your code: </p>\n\n<pre><code>if (this infoForm.invalid)\n</code></pre>\n\n<p>You are verifying if your form is invalid.\nIf you want to do this for every control, you can access them from 'infoForm':</p>\n\n<pre><code>this.infoForm.controls.firstName.invalid\n</code></pre>\n\n<p>Here a picture of the informations in <strong><em>this.infoForm.controls.firstName</em></strong>\n<a href=\"https://i.stack.imgur.com/YU0Y1.png\" rel=\"nofollow noreferrer\">Debug information</a></p>\n\n<p>A control is a <strong>FormControl</strong> type. You can detect if it's invalid / touched / dirty / pristine ...</p>\n\n<p><a href=\"https://angular.io/api/forms/FormControl\" rel=\"nofollow noreferrer\">Form Control official documentation</a></p>\n"}], "owner": {"reputation": 2315, "user_id": 10821284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcrWU.jpg?s=128&g=1", "display_name": "Compiler v2", "link": "https://stackoverflow.com/users/10821284/compiler-v2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 55819119, "answer_count": 1, "score": 0, "last_activity_date": 1556052751, "creation_date": 1556050968, "last_edit_date": 1556052091, "question_id": 55818871, "link": "https://stackoverflow.com/questions/55818871/angular-not-found-trying-to-get-values-validate-from-html-form", "title": "&quot;angular&quot; not found, trying to get values &amp; validate from HTML form", "body": "<p>I am new to Angular and I want to use <code>angular.module('FooApp', []);</code> to retrive HTML form data and validate it from my <code>.ts component file</code>.</p>\n\n<p>It seems that <code>\"angular\"</code> is not even recognized in my IDE (Visual Studio Code). I do not know the library that I need to use for this. </p>\n\n<p>I am trying to do this (Scroll down to Custom Validation): <a href=\"https://www.w3schools.com/angular/angular_validation.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/angular/angular_validation.asp</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form [formGroup]=\"infoForm\" (ngSubmit)=\"validateForm()\" my-directive&gt;\n\n  &lt;label&gt;First Name &lt;/label&gt; &lt;input type=\"text\" maxlength=\"25\" name=\"first\" \nautofocus required /&gt;&lt;br&gt;&lt;br&gt;\n  &lt;label&gt;Last Name &lt;/label&gt; &lt;input type=\"text\" maxlength=\"25\" name=\"last\" \nrequired /&gt;&lt;br&gt;&lt;br&gt;\n....\n&lt;/form&gt;\n\n&lt;script src=\"data-form.component.ts\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>.ts File:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-data-form',\n  templateUrl: './data-form.component.html',\n  styleUrls: ['./data-form.component.css']\n})\n\nexport class DataFormComponent implements OnInit {\n\n  infoForm: FormGroup;\n\n  // The form values for a user\n  constructor(private formBuilder: FormBuilder) {\n     this.infoForm = this.formBuilder.group({\n     firstName: ['', Validators.required],\n     lastName: ['', Validators.required],\n     ....\n  })\n }\n\n  clearForm() {\n    // Get the Form names and make them null to clear the form\n  }\n\n  // Incomplete Implementation, where the error is\n  validateForm() {\n\n    // The error is here\n    var app = angular.module('FooApp', []);\n\n    if (this.infoForm.invalid) {\n      return;\n\n    }\n  }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n\n<p>The Error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5JR0R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5JR0R.png\" alt=\"enter image description here\"></a></p>\n\n<p>Cannot find name, \"angular\".</p>\n\n<p>My project structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HjGyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HjGyC.png\" alt=\"enter image description here\"></a></p>\n\n<p>To get an overall idea of what environment I am working in <a href=\"https://youtu.be/5wtnKulcquA?t=372\" rel=\"nofollow noreferrer\">https://youtu.be/5wtnKulcquA?t=372</a></p>\n"}]