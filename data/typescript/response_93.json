[{"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 21260, "user_id": 165154, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/58a1f8e345ba2cac70d777f7084b23c8?s=128&d=identicon&r=PG", "display_name": "Decent Dabbler", "link": "https://stackoverflow.com/users/165154/decent-dabbler"}, "edited": false, "score": 0, "creation_date": 1476919527, "post_id": 40142822, "comment_id": 67556089, "body": "You&#39;ll probably have to keep track of already Proxied objects with something like a <a href=\"https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\" rel=\"nofollow noreferrer\"><code>WeakMap</code></a>, since, to my knowledge, you can&#39;t determine whether an object is an <code>instanceof Proxy</code>."}, {"owner": {"reputation": 6220, "user_id": 2216621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/10c8cf1cdc1383558bd4b78a19d1b524?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Watts", "link": "https://stackoverflow.com/users/2216621/rob-watts"}, "reply_to_user": {"reputation": 21260, "user_id": 165154, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/58a1f8e345ba2cac70d777f7084b23c8?s=128&d=identicon&r=PG", "display_name": "Decent Dabbler", "link": "https://stackoverflow.com/users/165154/decent-dabbler"}, "edited": false, "score": 0, "creation_date": 1476920252, "post_id": 40142822, "comment_id": 67556296, "body": "@DecentDabbler why a <code>WeakMap</code>?"}, {"owner": {"reputation": 21260, "user_id": 165154, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/58a1f8e345ba2cac70d777f7084b23c8?s=128&d=identicon&r=PG", "display_name": "Decent Dabbler", "link": "https://stackoverflow.com/users/165154/decent-dabbler"}, "edited": false, "score": 0, "creation_date": 1476920630, "post_id": 40142822, "comment_id": 67556409, "body": "In a WeakMap the keys are weak references to objects. This allows you to quickly search for an object, but won&#39;t prevent the garbage collector to remove the object from memory when there&#39;s no other references to the object anymore, thus preventing memory leaks."}, {"owner": {"reputation": 21260, "user_id": 165154, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/58a1f8e345ba2cac70d777f7084b23c8?s=128&d=identicon&r=PG", "display_name": "Decent Dabbler", "link": "https://stackoverflow.com/users/165154/decent-dabbler"}, "edited": false, "score": 0, "creation_date": 1476920803, "post_id": 40142822, "comment_id": 67556466, "body": "PS.: <a href=\"https://stackoverflow.com/a/36382536/165154\">See this answer</a> as well, as I believe the jsfiddle example in the answer has an implementation of this scenario, that may be of use to you."}, {"owner": {"reputation": 21260, "user_id": 165154, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/58a1f8e345ba2cac70d777f7084b23c8?s=128&d=identicon&r=PG", "display_name": "Decent Dabbler", "link": "https://stackoverflow.com/users/165154/decent-dabbler"}, "edited": false, "score": 1, "creation_date": 1476922159, "post_id": 40142822, "comment_id": 67556801, "body": "Sorry, a minor correction: a <a href=\"https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\" rel=\"nofollow noreferrer\">WeakSet</a> is probably more appropriate (which is also used in the aforementioned answer), since you probably don&#39;t have a need to map the objects to a particular value \u2014 you merely want to check whether an object is already in the Proxy list. Furthermore, the question that the aforementioned answer was addressing has <a href=\"https://stackoverflow.com/a/37198132/165154\">another (less complicated) answer</a> that is probably of interest to you as well. But you probably saw that already. :)"}], "answers": [{"tags": [], "owner": {"reputation": 6220, "user_id": 2216621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/10c8cf1cdc1383558bd4b78a19d1b524?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Watts", "link": "https://stackoverflow.com/users/2216621/rob-watts"}, "is_accepted": true, "score": 1, "last_activity_date": 1476996266, "creation_date": 1476996266, "answer_id": 40164194, "question_id": 40142822, "link": "https://stackoverflow.com/questions/40142822/how-do-i-correctly-manage-multi-level-proxying-of-objects/40164194#40164194", "title": "How do I correctly manage multi-level proxying of objects", "body": "<p>As suggested by @DecentDabbler, using a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\" rel=\"nofollow\"><code>WeakSet</code></a> allowed me to ensure I never try to wrap a proxy in another proxy:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const proxiedObjs = new WeakSet();\n\n...\n\nfunction createProxiedObject(objToProxy) {\n  // Recursively ensure object is deeply proxied\n  for (let x in objToProxy) {\n    subObj = objToProxy[x];\n    if (subObj !== null &amp;&amp; typeof subObj === 'object' &amp;&amp; !proxiedObjs.has(subObj)) {\n      objToProxy[x] = createProxiedObject(subObj);\n    }\n  }\n\n  let proxied = new Proxy(objToProxy, {\n    set: function (target, key, value) {\n      //This check is also new - if nothing actually changes\n      //I'd rather not call handleProxiedObjectChange\n      if (_.isEqual(target[key.toString()], value)) {\n        return true;\n      }\n\n      //proxy nested objects\n      if (value !== null &amp;&amp; typeof value === 'object' &amp;&amp; !proxiedObjs.has(value)) {\n        value = createProxiedObject(value);\n      }\n      target[key.toString()] = value;\n\n      handleProxiedObjectChange();\n  });\n  proxiedObjs.add(proxied);\n  return proxied;\n</code></pre>\n"}], "owner": {"reputation": 6220, "user_id": 2216621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/10c8cf1cdc1383558bd4b78a19d1b524?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Watts", "link": "https://stackoverflow.com/users/2216621/rob-watts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 40164194, "answer_count": 1, "score": 1, "last_activity_date": 1476996266, "creation_date": 1476917815, "last_edit_date": 1495541203, "question_id": 40142822, "link": "https://stackoverflow.com/questions/40142822/how-do-i-correctly-manage-multi-level-proxying-of-objects", "title": "How do I correctly manage multi-level proxying of objects", "body": "<p>As demonstrated in <a href=\"https://stackoverflow.com/questions/35610242/detecting-changes-in-a-javascript-array-using-the-proxy-object\">this SO question</a>, <code>Proxy</code> objects are a good way to watch for changes in an object.</p>\n\n<p>What if you want to watch changes to subobjects? You'd need to proxy those subobjects as well.</p>\n\n<p>I'm currently working with some code that does that automatically - any time you try to set a property it makes sure that it is wrapped in a proxy. We're doing this so that we can perform an action every time any value changes.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function createProxiedObject(objToProxy) {\n  return new Proxy(objToProxy, {\n    set: function (target, key, value) {\n    //proxy nested objects\n    if (value !== null &amp;&amp; typeof value === 'object') {\n      value = createProxiedObject(value);\n    }\n    target[key.toString()] = value;\n\n    handleProxiedObjectChange();\n  });\n</code></pre>\n\n<p>This works pretty well, but there is at least one case in which this backfires:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function ensureObjectHasProperty(object, key, default) {\n  if (object[key] !== null) {\n    // some validation happens here\n    return object[key];\n  } else {\n    return default;\n  }\n}\n\n...\n\nproxiedObject = somethingThatCreatesAProxiedObject(someValue);\nproxiedObject[someProperty] = ensureObjectHasProperty(proxiedObject, someProperty, defaultValue)\n</code></pre>\n\n<p>The result is that the value under <code>someProperty</code> (which is already being proxied)  gets reassigned to the proxied object, causing it to get wrapped in another proxy. This results in the <code>handleProxiedObjectChange</code> method being called more than once each time any part of the object changes.</p>\n\n<p>The simple way to fix it is to never assign anything to the proxied object unless it's new, but as this problem has already happened there's a reasonable chance someone will do it again in the future. How can I fix the <code>set</code> function to not rewrap objects that are already being proxied? Or is there a better way to watch an object so that <code>handleProxiedObjectChange</code> can be called any time the object or any of its subobjects change?</p>\n"}, {"tags": ["javascript", "linux", "google-chrome", "typescript", "atom-editor"], "answers": [{"tags": [], "owner": {"reputation": 2392, "user_id": 829132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77b7a250fd9b6da908582ac97ee9a2db?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/829132/damian"}, "is_accepted": true, "score": 1, "last_activity_date": 1476912008, "last_edit_date": 1476912008, "creation_date": 1476911571, "answer_id": 40141617, "question_id": 40141523, "link": "https://stackoverflow.com/questions/40141523/typescript-debugging-on-linux/40141617#40141617", "title": "TypeScript debugging on Linux", "body": "<p>You can debug TypeScript in Chrome using <a href=\"https://developers.google.com/web/tools/chrome-devtools/javascript/source-maps\" rel=\"nofollow\">JavaScript Source Maps</a>. It can be generated by TypeScript compiler. <a href=\"https://code.tutsplus.com/tutorials/javascript-debugging-using-cross-browser-source-maps--cms-24430\" rel=\"nofollow\">Here</a> you can find tutorial.</p>\n\n<p>You can also verify debugging support in <a href=\"https://code.visualstudio.com/Docs/editor/debugging\" rel=\"nofollow\">Visual Studio Code</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 26154, "user_id": 5884955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/J55wI.jpg?s=128&g=1", "display_name": "prosti", "link": "https://stackoverflow.com/users/5884955/prosti"}, "is_accepted": false, "score": 0, "last_activity_date": 1477787457, "last_edit_date": 1477787457, "creation_date": 1477787112, "answer_id": 40324976, "question_id": 40141523, "link": "https://stackoverflow.com/questions/40141523/typescript-debugging-on-linux/40324976#40324976", "title": "TypeScript debugging on Linux", "body": "<p>You can also use this <a href=\"https://atom.io/packages/atom-typescript\" rel=\"nofollow\">https://atom.io/packages/atom-typescript</a>\npackage for Atom editor. It should be cool setting the breakpoints. </p>\n\n<p>Note the load time of the Atom editor will increase a bit after installing this plugin.</p>\n\n<p>The plugin has great potential and great features list.\nAtom is like HTML page.\nYou can understand this if you go <strong>View->Developer->Toggle Developer Tools</strong> .</p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 40141617, "answer_count": 2, "score": 0, "last_activity_date": 1477796263, "creation_date": 1476911130, "last_edit_date": 1477796263, "question_id": 40141523, "link": "https://stackoverflow.com/questions/40141523/typescript-debugging-on-linux", "title": "TypeScript debugging on Linux", "body": "<p>A year ago it was asked about <a href=\"https://stackoverflow.com/questions/30000677/which-editor-and-debugger-for-typescript\">this</a>, so I am wondering what the situation is now in regards to code/debug TypeScript on Linux.</p>\n\n<p>The <a href=\"https://atom.io/packages/atom-typescript\" rel=\"nofollow\">Atom TypeScript plugin</a> seams really good, but I can't find a single post about debugging in Firefox or Chrome on Linux.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Does someone know what the state is for TypeScript debugging on Linux?</p>\n"}, {"tags": ["angularjs", "typescript", "mean-stack"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 0, "creation_date": 1476912085, "post_id": 40141257, "comment_id": 67553420, "body": "Welcome to Stack Overflow!  Please review our <a href=\"http://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">SO Question Checklist</a> to help you to ask a good question, and thus get a good answer."}, {"owner": {"reputation": 359, "user_id": 5565503, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153698567764691/picture?type=large", "display_name": "Mat", "link": "https://stackoverflow.com/users/5565503/mat"}, "reply_to_user": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 0, "creation_date": 1476914844, "post_id": 40141257, "comment_id": 67554539, "body": "Thank you very much"}], "owner": {"reputation": 359, "user_id": 5565503, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153698567764691/picture?type=large", "display_name": "Mat", "link": "https://stackoverflow.com/users/5565503/mat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476915884, "creation_date": 1476910089, "last_edit_date": 1476915884, "question_id": 40141257, "link": "https://stackoverflow.com/questions/40141257/mean-stack-editing-a-post", "title": "MEAN stack editing a post", "body": "<p>So I am working on my very first MEAN stack app and I am using using type script.</p>\n\n<p>I have my post working just fine, but my edit post is not working. Since this is my first app I am not quite sure why. The error says that my parameters for my post are undefined. I hope one of you lovely people can help me out. I've avoided asking for help for a long time because I am sure its a stupid error.</p>\n\n<p>controllers.ts</p>\n\n<p><a href=\"http://pastebin.com/bhXT5bLz\" rel=\"nofollow\">http://pastebin.com/bhXT5bLz</a></p>\n\n<p>app.ts</p>\n\n<pre><code>state('jobPost', {\n              url: '/jobPost',\n              templateUrl: \"/templates/jobPost.html\",\n              controller: MyApp.Controllers.jobPostController,\n              controllerAs: 'jobPost'\n          })\n          .state('editjobPost', {\n              url: '/editjobPost',\n              templateUrl: \"/templates/jobPost.html\",\n              controller: MyApp.Controllers.jobPostController,\n              controllerAs: 'jobPost'\n          })\n</code></pre>\n\n<p>route.ts:</p>\n\n<pre><code>router.get('/jobPostData', function (req, res) {\n  console.log('getting jobPost data');\n  JobPost.find({}, function(err, jobposts) {\n    res.json(jobposts);\n  });\n});\n\nrouter.put('/jobPost', function (req, res, next) {\n  console.log('editing jobPost');\n  let jobPost = new JobPost({\n    jobTitle: req.body.jobTitle,\n    jobLocation: req.body.jobLocation,\n    jobDescription: req.body.jobDescription,\n    created_at: req.body.created_at\n  });\n  console.log(jobPost);\n  jobPost.save(function(err, jobPost) {\n    if (err) return next(err);\n    console.log('edited post');\n    res.send(jobPost);\n  });\n});\n</code></pre>\n\n<p>jobPost.html:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"/css/jobPost.css\" media=\"screen\" title=\"no title\" charset=\"utf-8\"&gt;\n&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n\n&lt;div class=\"container-fluid\"&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div ng-show=\"jobPost.newForm\" class=\"col-md-12\" id=\"background\"&gt;\n        &lt;h1 class=\"headers\"&gt;Post a Job&lt;/h1&gt;\n        &lt;form ng-submit=\"jobPost.newJobPost()\" class=\"new_job_form\" name=\"new_job_form\"&gt;\n          &lt;input ng-model=\"jobPost.jobPost.title\" id=\"jobTitle\" type=\"text\" name=\"jobTitle\" placeholder=\"job title\"&gt; &lt;br&gt;&lt;br&gt;\n          &lt;input ng-model=\"jobPost.jobPost.location\" id=\"jobLocation\" type=\"text\" name=\"jobLocation\" placeholder=\"job location\"&gt; &lt;br&gt;&lt;br&gt;\n          &lt;textarea ng-model=\"jobPost.jobPost.description\" rows=\"8\" cols=\"50\"class=\"input-block-level\" id=\"jobDescription\" name=\"jobDescription\" placeholder=\"Enter Description\" &gt;&lt;/textarea&gt;&lt;br&gt;\n          &lt;input class=\"submit-btn\" type=\"submit\" name=\"submit\" value=\"Submit\"&gt;\n        &lt;/form&gt;\n        &lt;!-- &lt;h2&gt;{{jobPost.message}}&lt;/h2&gt; --&gt;\n      &lt;/div&gt;\n\n        &lt;div ng-show=\"jobPost.editForm\" class=\"col-md-12\" id=\"background\"&gt;\n          &lt;h1 class=\"headers\"&gt;Edit a Job&lt;/h1&gt;\n          &lt;form ng-submit=\"jobPost.editJobPost()\" class=\"edit_job_form\" name=\"edit_job_form\"&gt;\n            &lt;input ng-model=\"jobPost.jobPost.title\" type=\"text\" name=\"jobTitle\" value=\"{{editJobPost.editTitle}}\"&gt; &lt;br&gt;&lt;br&gt;\n            &lt;input ng-model=\"jobPost.jobPost.location\" type=\"text\" name=\"jobLocation\" value=\"{{editJobPost.editLocation}}\"&gt; &lt;br&gt;&lt;br&gt;\n            &lt;textarea ng-model=\"jobPost.jobPost.description\" rows=\"8\" cols=\"50\"class=\"input-block-level\"  name=\"jobDescription\" value=\"{{editJobPost.editDescription}}\" &gt;&lt;/textarea&gt;&lt;br&gt;\n            &lt;input class=\"submit-btn\" type=\"submit\" name=\"submit\" value=\"Submit\"&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n      &lt;/div\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;br&gt;&lt;br&gt;\n\n&lt;div class=\"container-fluid\"&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;h1 class=\"headers\"&gt;Your Jobs&lt;/h1&gt;\n    &lt;div class=\"row\" ng-repeat=\"job in jobPost.jobPosts.slice(((jobPost.currentPage-1)*jobPost.itemsPerPage),((jobPost.currentPage)*jobPost.itemsPerPage)) | orderBy : 'created_at' \"&gt;\n      &lt;h1&gt;&lt;/h1&gt;\n      &lt;div class=\"col-md-12 jobPosting panel-title\"&gt;\n        &lt;h2&gt;{{job.jobTitle}}&lt;a class=\"pull-right\" ui-sref=\"editjobPost\"&gt;&lt;span ng-click=\"jobPost.editJobPost()\" class=\"glyphicon glyphicon-cog\"&gt;&lt;/a&gt;&lt;/h2&gt;\n        &lt;h3&gt;{{job.jobLocation}}&lt;/h3&gt;\n        &lt;h3&gt;{{job.jobDescription}}&lt;/h3&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- &lt;pagination total-items=\"jobPost.totalItems\" ng-model=\"jobPost.currentPage\" ng-change=\"jobPost.pageChanged()\" class=\"pagination-sm\" items-per-page=\"jobPost.itemsPerPage\"&gt;&lt;/pagination&gt; --&gt;\n    &lt;ul uib-pagination total-items=\"jobPost.totalItems\" items-per-page=\"jobPost.itemsPerPage\" ng-model=\"jobPost.currentPage\" ng-change=\"jobPost.pageChanged()\"&gt;&lt;/ul&gt;\n    &lt;!-- &lt;ul uib-pagination total-items=\"totalItems\" ng-model=\"JobPost\" ng-change=\"pageChanged()\"&gt;&lt;/ul&gt; --&gt;\n    &lt;!-- &lt;h4&gt;Default&lt;/h4&gt;\n    &lt;h5&gt;totalItems: {{jobPost.totalItems}}&lt;/h5&gt;\n    &lt;ul uib-pagination total-items=\"jobPost.totalItems\" ng-model=\"jobPost.currentPage\" ng-change=\"jobPost.pageChanged()\"&gt;&lt;/ul&gt; --&gt;\n    &lt;!-- &lt;ul uib-pagination boundary-links=\"true\" total-items=\"jobPost.totalItems\" ng-model=\"jobPost.currentPage\" class=\"pagination-sm\" previous-text=\"&amp;lsaquo;\" next-text=\"&amp;rsaquo;\" first-text=\"&amp;laquo;\" last-text=\"&amp;raquo;\"&gt;&lt;/ul&gt;\n    &lt;ul uib-pagination direction-links=\"false\" boundary-links=\"true\" total-items=\"jobPost.totalItems\" ng-model=\"jobPost.currentPage\"&gt;&lt;/ul&gt;\n    &lt;ul uib-pagination direction-links=\"false\" total-items=\"jobPost.totalItems\" ng-model=\"jobPost.currentPage\" num-pages=\"smallnumPages\"&gt;&lt;/ul&gt;\n    &lt;pre&gt;The selected page no: {{jobPost.currentPage}}&lt;/pre&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" ng-click=\"jobPost.setPage(3)\"&gt;Set current page to: 3&lt;/button&gt; --&gt;\n\n    &lt;hr /&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=\"/js/jobForm.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>jobForm.ts:</p>\n\n<pre><code>$(document).ready(function() {\n  $('.new_job_form').on('submit', function(e){\n    e.preventDefault();\n    var jobTitle = $('#jobTitle').val();\n    var jobLocation = $('#jobLocation').val();\n    var jobDescription = $('#jobDescription').val();\n\n    $('#jobTitle').val('');\n    $('#jobLocation').val('');\n    $('#jobDescription').val('');\n\n    var data = {\n            jobTitle: jobTitle,\n            jobLocation: jobLocation,\n            jobDescription: jobDescription,\n            };\n    console.log(data);\n    $.ajax({\n          url: '/jobPost',\n          dataType: \"json\",\n          method: \"POST\",\n          data: data,\n          success: function(data, textStatus, jqXHR){\n          console.log(\"Successfully saved to database\",data);\n          // var resultString = \"&lt;h4&gt;\"+data.jobTitle+\"&lt;/h4&gt;&lt;h4&gt;\"+data.jobLocation+\"&lt;/h4&gt;&lt;h4&gt;\"+data.jobDescription+\"&lt;/h4&gt;\";\n          // $('.postResult').html(resultString);\n          },\n          error: function(XMLHttpRequest, textStatus, errorThrown){\n              alert(\"Status: \" + textStatus); alert(\"Error: \" + errorThrown);\n          }\n       });\n  });\n  angular.module('MyApp').controller('jobPostController', function ($scope, $log) {\n    $scope.totalItems = 64;\n    $scope.currentPage = 1;\n\n    $scope.setPage = function (pageNo) {\n      $scope.currentPage = pageNo;\n    };\n\n    $scope.pageChanged = function() {\n      $log.log('Page changed to: ' + $scope.currentPage);\n    };\n\n    $scope.maxSize = 5;\n    $scope.bigTotalItems = 175;\n    $scope.bigCurrentPage = 1;\n  });\n\n});\n</code></pre>\n\n<p>****EDIT to reflect answering stack overflow checklist\nI have tried messing with the ui-sref and ng-click for the editJobPost section in the JobPost.html thinking maybe it was a routing error. </p>\n\n<p>I then changed the editJobPost method in controller.js from the JobPost variable to JobPosts variable. Now that it runs and compiles (it didn't before) it throws this in the console:</p>\n\n<pre><code>HITTING EDIT\ncontrollers.js:241 undefined\ncontrollers.js:242 undefined\ncontrollers.js:245 undefined\ncontrollers.js:249 Title: undefined\ncontrollers.js:250 Location: undefined\ncontrollers.js:251 Description: undefined\nangular.js:11881 PUT http://127.0.0.1:3000/jobPost/%7B%7Bjob._id%7D%7D 404 (Not Found)\n</code></pre>\n\n<p>I know that it means my declared variables are undefined, I just don't know where to start. what is wrong and why.</p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7041910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af929f9019d48ecae169bd650ec663?s=128&d=identicon&r=PG&f=1", "display_name": "Kushina", "link": "https://stackoverflow.com/users/7041910/kushina"}, "edited": false, "score": 0, "creation_date": 1476959494, "post_id": 40142055, "comment_id": 67572766, "body": "Thanks for the reply. Are you using Angular 2? Because it doesn&#39;t work for me it keeps giving me <code>Cannot find module</code>"}, {"owner": {"reputation": 712, "user_id": 1071179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ad1e95573ea17ce91f16afa36c578400?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1071179/mahesh"}, "reply_to_user": {"reputation": 21, "user_id": 7041910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af929f9019d48ecae169bd650ec663?s=128&d=identicon&r=PG&f=1", "display_name": "Kushina", "link": "https://stackoverflow.com/users/7041910/kushina"}, "edited": false, "score": 0, "creation_date": 1476962770, "post_id": 40142055, "comment_id": 67574939, "body": "yes.  Angular 2.1.0.  check config.js.  Uses angular/core npm, whose latest is 2.1.0 - refer <a href=\"https://www.npmjs.com/package/@angular/core\" rel=\"nofollow noreferrer\">this</a>.  Did you try removing that declare module and simply import FuzzySet from &#39;fuzzyset&#39;.  I am afraid, if you are making it complicated than needed to import a simple javascript exported module."}, {"owner": {"reputation": 712, "user_id": 1071179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ad1e95573ea17ce91f16afa36c578400?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1071179/mahesh"}, "reply_to_user": {"reputation": 21, "user_id": 7041910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af929f9019d48ecae169bd650ec663?s=128&d=identicon&r=PG&f=1", "display_name": "Kushina", "link": "https://stackoverflow.com/users/7041910/kushina"}, "edited": false, "score": 0, "creation_date": 1477396205, "post_id": 40142055, "comment_id": 67740089, "body": "If you are not using Systemjs and its config file config.js, as I had provided above, it will <i>definitely NOT</i> work.  The Systemjs is recommended in both Angular2 (since you have tags Angular2, you are using it, I know that and I didn&#39;t even try Angular1, just so we are clear).  SImilarly typescript also recommends it in their documentation.  Also from System config documentation - &quot;System Config is Built to the format ES6-specified loader API from ES6 Specification Draft Rev 27, Section 15,&quot;.  If you are building something on your own, it is only repetitive unproductive work, just my 2 cents."}, {"owner": {"reputation": 712, "user_id": 1071179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ad1e95573ea17ce91f16afa36c578400?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1071179/mahesh"}, "reply_to_user": {"reputation": 21, "user_id": 7041910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af929f9019d48ecae169bd650ec663?s=128&d=identicon&r=PG&f=1", "display_name": "Kushina", "link": "https://stackoverflow.com/users/7041910/kushina"}, "edited": false, "score": 0, "creation_date": 1477396265, "post_id": 40142055, "comment_id": 67740140, "body": "I suggest you take a look at the code I provided before complaining.  All you have done above is wrap the FuzzySet inside another module, to make your declaration to work.  Because you didn&#39;t have a module, now you create one and drop FuzzySet into it.  If you want to overdo things, <i>well that I can&#39;t help, really</i>."}], "tags": [], "owner": {"reputation": 712, "user_id": 1071179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ad1e95573ea17ce91f16afa36c578400?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1071179/mahesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1476913629, "creation_date": 1476913629, "answer_id": 40142055, "question_id": 40141233, "link": "https://stackoverflow.com/questions/40141233/typescript-cannot-find-module-angular/40142055#40142055", "title": "Typescript: Cannot find module angular", "body": "<p>Just simply use:</p>\n\n<blockquote>\n  <p>in app.ts</p>\n</blockquote>\n\n<pre><code>import fuzzyset from 'fuzzyset' (app.ts)\n</code></pre>\n\n<blockquote>\n  <p>in config.ts</p>\n</blockquote>\n\n<pre><code>map: {\n    'fuzzyset': 'npm:fuzzyset.js/lib/fuzzyset.js',\n}\n</code></pre>\n\n<blockquote>\n  <p>class definition,</p>\n</blockquote>\n\n<pre><code>        export class App {\n\n      a: any;  // fuzzyset\n      printThis: array;\n      name:string;\n      constructor() {\n        // start doing fuzzy stuff\n        this.a = FuzzySet()  \n\n        this.a.add(\"michael axiak\");\n\n        this.printThisVar = this.a.get(\"micael asiak\");\n        // end doing fuzzy stuff\n        this.name = 'Angular2'\n      }\n    }\n</code></pre>\n\n<blockquote>\n  <p>in @component:</p>\n</blockquote>\n\n<pre><code>&lt;p&gt;{{printThisVar}}&lt;/p&gt;\n</code></pre>\n\n<blockquote>\n  <p>Working Plnkr <a href=\"https://plnkr.co/edit/N5X8eBQhoRQCaeu1qWKB?p=preview\" rel=\"nofollow\">here</a></p>\n</blockquote>\n\n<p>Refer <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow\">this</a> and <a href=\"https://www.thepolyglotdeveloper.com/2016/01/include-external-javascript-libraries-in-an-angular-2-typescript-project/\" rel=\"nofollow\">this</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7041910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af929f9019d48ecae169bd650ec663?s=128&d=identicon&r=PG&f=1", "display_name": "Kushina", "link": "https://stackoverflow.com/users/7041910/kushina"}, "is_accepted": true, "score": 1, "last_activity_date": 1477391647, "creation_date": 1477391647, "answer_id": 40237676, "question_id": 40141233, "link": "https://stackoverflow.com/questions/40141233/typescript-cannot-find-module-angular/40237676#40237676", "title": "Typescript: Cannot find module angular", "body": "<p>I am able to solve the issue. It had some module definition issues and Typescript was not identifying it as a module.  Modifying the definition in the library did work but that wasn't the right way. The end solution that worked without modifying the library was to add its definition in <code>typings.d.ts</code>. In case you want to see the code:</p>\n\n<pre><code>declare module \"fuzzyset\" {\n     function FuzzySet(options?: FuzzySet.FuzzySetOptions) : any;\n     namespace FuzzySet {\n         interface FuzzySetOptions {\n             arr?: any;\n             useLevenshtein?: any;\n             gramSizeLower?: any;\n             gramSizeUpper?: any;\n         }\n     }\n     export = FuzzySet;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7041910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af929f9019d48ecae169bd650ec663?s=128&d=identicon&r=PG&f=1", "display_name": "Kushina", "link": "https://stackoverflow.com/users/7041910/kushina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1294, "favorite_count": 0, "accepted_answer_id": 40237676, "answer_count": 2, "score": 1, "last_activity_date": 1477391647, "creation_date": 1476909994, "question_id": 40141233, "link": "https://stackoverflow.com/questions/40141233/typescript-cannot-find-module-angular", "title": "Typescript: Cannot find module angular", "body": "<p>I am working on angular 2 project with angular-cli (1.0.0-beta.10) and want to use this library (<a href=\"https://github.com/Glench/fuzzyset.js\" rel=\"nofollow\">https://github.com/Glench/fuzzyset.js</a>). When I try to import it, Typescript is not accepting it as a module I don\u2019t really know why. It gives me <code>Cannot find module</code> error.</p>\n\n<p>As a workaround I tried to declare it as module in my <code>system-config.ts</code> file</p>\n\n<pre><code>declare module \"fuzzyset\" {}\n</code></pre>\n\n<p>I am importing it in one of my component like this</p>\n\n<pre><code>import * as FuzzySet from 'fuzzyset';\n</code></pre>\n\n<p>and added to System Config:</p>\n\n<pre><code>System.config({\n  paths: {\n    // paths serve as alias\n    'npm:': 'vendor/'\n  },\n\n  map: {\n    'fuzzyset': 'npm:fuzzyset.js/index.js',\n  },\n  packages: cliSystemConfigPackages\n});\n</code></pre>\n\n<p>But now it gives <code>Cannot invoke an expression whose type lacks a call signature.</code></p>\n\n<p>To solve this error I changed the module declaration to this:</p>\n\n<pre><code>declare module \"fuzzyset\" {\n    export function FuzzySet(options?:any): any;\n}\n</code></pre>\n\n<p>This does work in a way that everything is compiled, but then I am getting error at runtime as follow:\n<a href=\"https://i.stack.imgur.com/Jdtbu.png\" rel=\"nofollow\">Browser console errors</a></p>\n\n<p>Can anyone help me on this? \nThanks in advance :)</p>\n"}, {"tags": ["json", "typescript", "aurelia"], "comments": [{"owner": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 0, "creation_date": 1477284280, "post_id": 40141034, "comment_id": 67685686, "body": "JavaScript is not a typed language. There is no way to infer a type when you pass in JSON. In either case, binding to JSON is not a good idea, and when you give it as an example, its hard to understand where you&#39;re going with the example."}, {"owner": {"reputation": 11, "user_id": 7044353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e5e686ad0673a5d9e356673a7c48451?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Blodgett", "link": "https://stackoverflow.com/users/7044353/bo-blodgett"}, "reply_to_user": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 0, "creation_date": 1477342946, "post_id": 40141034, "comment_id": 67718280, "body": "I realize JS is not typed. Binding to a property that contains JSON data is not a good idea? It is extremely common to have a web service return JSON data where the data needs to be bound to a control and be rendered out as a list of items in a dropdown or as a list of rows in a data table. You can think of &quot;MyComponent&quot; as a dropdown and &quot;MyObject&quot; as a drop down item for the sake of discussion. Based on my answer I want to either hard code the items in the drop down with the nesting of my-component/my-object OR get items from WS (JSON Data) maintaining MyObject property defaults !specified."}, {"owner": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 0, "creation_date": 1477395589, "post_id": 40141034, "comment_id": 67739685, "body": "&gt; It is extremely common to have a web service return JSON data  Yes. But then you parse it with <code>JSON.parse</code> and it&#39;s an object. There&#39;s no point in getting a JSON string from a web service and binding it in your view without parsing it. And therefore, this example has is hard to understand."}, {"owner": {"reputation": 11, "user_id": 7044353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e5e686ad0673a5d9e356673a7c48451?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Blodgett", "link": "https://stackoverflow.com/users/7044353/bo-blodgett"}, "reply_to_user": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 0, "creation_date": 1477417240, "post_id": 40141034, "comment_id": 67754952, "body": "It is obvious you are hung up on why I am passing in JSON as a string but it is nothing more than a shortcut to make the question shorter. Even with this example using .bind there on that &quot;string&quot; gives perfectly valid JSON array of objects by time it is bound / gets to myobjectarrayChanged(value) in the MyComponent view-model. Without .bind yeah it would be a worthless string. I could have very well included a full service and such but it isn&#39;t relevant to the question.  Already figured out ways to do what I wanted so thanks anyway. Best way to do it? No idea."}, {"owner": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 0, "creation_date": 1477497230, "post_id": 40141034, "comment_id": 67793997, "body": "If you pass in JSON, it&#39;s obviously going to be JSON. If you pass in an object, that object could (should) have already been parsed as a MyObject."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7044353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e5e686ad0673a5d9e356673a7c48451?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Blodgett", "link": "https://stackoverflow.com/users/7044353/bo-blodgett"}, "is_accepted": false, "score": 0, "last_activity_date": 1476986055, "creation_date": 1476986055, "answer_id": 40161297, "question_id": 40141034, "link": "https://stackoverflow.com/questions/40141034/aurelia-bind-json-to-component-array-with-default-object-properties-retained/40161297#40161297", "title": "Aurelia bind JSON to component array with default object properties retained", "body": "<p>I figured out how to do it the \"Optional\" way I wanted it done which is a ridiculous amount of work to get something like this working. It would be better if bind could just auto add sub components (without typing them into the template) when they are not complete JSON objects of the sub component type. <strong>I am still open for a better/proper way to do this</strong> but this is my current solution:</p>\n\n<p>In MyComponent add:</p>\n\n<pre><code>    constructor(private bindingEngine:BindingEngine, private viewCompiler:ViewCompiler, private viewSlot:ViewSlot, private container:Container, private resources:ViewResources){\n    }\n\n    myobjectarrayChanged(value) {        \n        this.myobjectarray = [];\n        var item:any;\n        var sItems = '&lt;template&gt;';\n        for(let item of value){\n            sItems += `${'&lt;my-object'}\n                ${item.hasOwnProperty('a') ? ' a=\"' + item.a + '\"' : ''}\n                ${item.hasOwnProperty('b') ? ' b=\"' + item.b + '\"' : ''}\n                ${'&gt;&lt;/my-object&gt;'}`;\n        }\n        sItems += '&lt;template&gt;';\n\n        var viewFactory =  this.viewCompiler.compile(sItems, this.resources);\n        var bindingContext = null; \n        var view = viewFactory.create(this.container, bindingContext);\n        this.viewSlot.add(view);\n        this.viewSlot.attached();\n    }\n</code></pre>\n\n<p>And in MyObject add this to the constructor:</p>\n\n<pre><code>component.myobjectarray.push(this);\n</code></pre>\n\n<p><strong>This makes it so you can specify your component like:</strong></p>\n\n<pre><code>&lt;my-component myobjarray.bind=\"[{a: 'ID'}, {b: 2}]\"&gt;&lt;/my-component&gt;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>&lt;my-component&gt;\n    &lt;my-object a='ID'&gt;&lt;/my-object&gt;\n    &lt;my-object b='2'&gt;&lt;/my-object&gt;\n&lt;/my-component&gt;\n</code></pre>\n\n<p>Which is what I was trying to make happen.</p>\n"}], "owner": {"reputation": 11, "user_id": 7044353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e5e686ad0673a5d9e356673a7c48451?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Blodgett", "link": "https://stackoverflow.com/users/7044353/bo-blodgett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476986055, "creation_date": 1476909263, "question_id": 40141034, "link": "https://stackoverflow.com/questions/40141034/aurelia-bind-json-to-component-array-with-default-object-properties-retained", "title": "Aurelia bind JSON to component array with default object properties retained", "body": "<p>I am trying to do the following:</p>\n\n<pre><code>&lt;my-component myobjarray.bind=\"[{a: 'ID'}, {b: 2}]\"&gt;&lt;/my-component&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>@customElement('my-component') \nexport class MyComponent\n{    \n    @bindable myobjectarray: MyObject[] = [];\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@inject(MyComponent)\n@customElement('my-object') \nexport class MyObject\n{    \n    constructor(component: MyComponent) {\n    }\n    @bindable a:string = 'Hello';\n    @bindable b:number = 1;\n}\n</code></pre>\n\n<p>The issue is after MyComponent.myobjectarray binds myobjectarray has the following values in it because I just sent in a normal JSON object but I want it to be of type MyObject without actually specifying it as such when I pass it in to my-component:</p>\n\n<pre><code>[0] a = \"ID\", b????\n[1] a????, b = 2\n</code></pre>\n\n<p>I would like it to revive the object on bind so it has the default values and looks like this: (Actually types of MyObject)</p>\n\n<pre><code>[0] a = \"ID\", b = 1 (default value)\n[1] a = \"Hello\" (default value), b = 2\n</code></pre>\n\n<p>OPTIONALLY it would be ok if I did the mapping myself in bind or something similar but I cannot create a new instance of MyObject(this) in MyComponent but Aurelia errors and won't let me inject MyComponent into MyObject. (Not sure how to do this either but I would like to know)</p>\n"}, {"tags": ["angular", "typescript", "firebase", "angularfire2"], "answers": [{"tags": [], "owner": {"reputation": 460, "user_id": 5027584, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/613f930f6b927e6b0a9a89f3a8ac6c3f?s=128&d=identicon&r=PG&f=1", "display_name": "koech", "link": "https://stackoverflow.com/users/5027584/koech"}, "is_accepted": false, "score": 3, "last_activity_date": 1476914244, "creation_date": 1476914244, "answer_id": 40142177, "question_id": 40141005, "link": "https://stackoverflow.com/questions/40141005/property-code-does-not-exist-on-type-error/40142177#40142177", "title": "Property &#39;code&#39; does not exist on type &#39;Error&#39;", "body": "<p>You have to cast a type to the error param from catch i.e.</p>\n\n<pre><code>.catch((error:any) =&gt; {\n    console.log(error);\n    console.log(error.code);\n});\n</code></pre>\n\n<p>or you can access the code property directly in this manner</p>\n\n<pre><code>.catch((error) =&gt; {\n    console.log(error);\n    console.log(error['code']);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 9571370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c647b5e934df0742d206d8caeaf50a9?s=128&d=identicon&r=PG", "display_name": "Brent", "link": "https://stackoverflow.com/users/9571370/brent"}, "is_accepted": true, "score": 29, "last_activity_date": 1522346543, "creation_date": 1522346543, "answer_id": 49562477, "question_id": 40141005, "link": "https://stackoverflow.com/questions/40141005/property-code-does-not-exist-on-type-error/49562477#49562477", "title": "Property &#39;code&#39; does not exist on type &#39;Error&#39;", "body": "<p>The real issue is that the Node.js definition file isn't exporting a proper Error definition. It uses the following for Error (and doesn't export this):</p>\n\n<pre><code>interface Error {\n    stack?: string;\n}\n</code></pre>\n\n<p>The actual definition it exports is in the NodeJS namespace:</p>\n\n<pre><code>export interface ErrnoException extends Error {\n    errno?: number;\n    code?: string;\n    path?: string;\n    syscall?: string;\n    stack?: string;\n}\n</code></pre>\n\n<p>So the following typecast will work:</p>\n\n<pre><code>.catch((error: NodeJS.ErrnoException) =&gt; {\n    console.log(error);\n    console.log(error.code);\n})\n</code></pre>\n\n<p>This seems like a flaw in Node's definition, since it doesn't line up with what an object from new Error() actually contains. TypeScript will enforce the interface Error definition.</p>\n"}, {"tags": [], "owner": {"reputation": 470, "user_id": 5877904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ptlwS.jpg?s=128&g=1", "display_name": "Fabiano Albernaz", "link": "https://stackoverflow.com/users/5877904/fabiano-albernaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1555669996, "creation_date": 1555669996, "answer_id": 55760484, "question_id": 40141005, "link": "https://stackoverflow.com/questions/40141005/property-code-does-not-exist-on-type-error/55760484#55760484", "title": "Property &#39;code&#39; does not exist on type &#39;Error&#39;", "body": "<pre><code>export default class ResponseError extends Error {\n    code: number;\n    message: string;\n    response: {\n        headers: { [key: string]: string; };\n        body: string;\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 6803457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31af94693f0fa05f83fca446f868e455?s=128&d=identicon&r=PG&f=1", "display_name": "J-Yen", "link": "https://stackoverflow.com/users/6803457/j-yen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5801, "favorite_count": 3, "accepted_answer_id": 49562477, "answer_count": 3, "score": 9, "last_activity_date": 1555669996, "creation_date": 1476909117, "question_id": 40141005, "link": "https://stackoverflow.com/questions/40141005/property-code-does-not-exist-on-type-error", "title": "Property &#39;code&#39; does not exist on type &#39;Error&#39;", "body": "<p>How can i access the Error.code property?\nI get a Typescript error because the property 'code' does not exist on type 'Error'.</p>\n\n<pre><code>this.authCtrl.login(user, {\n   provider: AuthProviders.Password,\n   method: AuthMethods.Password\n}).then((authData) =&gt; {\n    //Success\n}).catch((error) =&gt; {\n   console.log(error); // I see a code property\n   console.log(error.code); //error\n})\n</code></pre>\n\n<p>Or is there another way to make custom error messages? I want to show the errors in another language.</p>\n"}, {"tags": ["javascript", "typescript", "promise", "async-await", "ecmascript-2017"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 6, "creation_date": 1476906302, "post_id": 40140149, "comment_id": 67550360, "body": "Why are you trying to make a synchronous operation into an async operation?  <code>arr.map()</code> is synchronous and does not return a promise."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1476906395, "post_id": 40140149, "comment_id": 67550415, "body": "You can&#39;t send an asynchronous operation to a function, like <code>map</code>, which expects a synchronous one, and expect it to work."}, {"owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1476907502, "post_id": 40140149, "comment_id": 67551028, "body": "@jfriend00 I have many await statements in the inner function. It&#39;s actually a long function and I just simplified it to make it readable. I&#39;ve added now an await call to make it clearer why it should be async."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1476908106, "post_id": 40140149, "comment_id": 67551400, "body": "You need to await something that returns a promise, not something that returns an array."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1477029674, "post_id": 40140149, "comment_id": 67606746, "body": "async/await is not part of ES7."}, {"owner": {"reputation": 2601, "user_id": 2935062, "user_type": "registered", "profile_image": "https://graph.facebook.com/681495303/picture?type=large", "display_name": "Anthony Manning-Franklin", "link": "https://stackoverflow.com/users/2935062/anthony-manning-franklin"}, "edited": false, "score": 2, "creation_date": 1540795970, "post_id": 40140149, "comment_id": 92979569, "body": "One useful thing to realise is that every time you mark a function as <code>async</code>, you&#39;re making that function return a promise. So of course, a map of async returns an array of promises :)"}], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 1332006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/358c315fed793c97bfe525bb3968f327?s=128&d=identicon&r=PG", "display_name": "Dan Beaulieu", "link": "https://stackoverflow.com/users/1332006/dan-beaulieu"}, "is_accepted": false, "score": 10, "last_activity_date": 1476906741, "creation_date": 1476906741, "answer_id": 40140359, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/40140359#40140359", "title": "Use async await with Array.map", "body": "<p>If you map to an array of Promises, you can then resolve them all to an array of numbers.  See  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"noreferrer\">Promise.all</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 6279, "user_id": 546476, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XmzQi.png?s=128&g=1", "display_name": "Daniel says Reinstate Monica", "link": "https://stackoverflow.com/users/546476/daniel-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1507936822, "post_id": 40140562, "comment_id": 80425287, "body": "What do the <code>:</code> colons mean?"}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "reply_to_user": {"reputation": 6279, "user_id": 546476, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XmzQi.png?s=128&g=1", "display_name": "Daniel says Reinstate Monica", "link": "https://stackoverflow.com/users/546476/daniel-says-reinstate-monica"}, "edited": false, "score": 13, "creation_date": 1507937291, "post_id": 40140562, "comment_id": 80425380, "body": "@DanielPendergast It&#39;s for type annotations in TypeScript."}, {"owner": {"reputation": 361, "user_id": 3799711, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7d2c4c93fcc81003a601b6eaed49433e?s=128&d=identicon&r=PG&f=1", "display_name": "nerdizzle", "link": "https://stackoverflow.com/users/3799711/nerdizzle"}, "edited": false, "score": 0, "creation_date": 1585314539, "post_id": 40140562, "comment_id": 107722580, "body": "What is the difference between calling <code>callAsynchronousOperation(item);</code> with and without <code>await</code> inside the async map function?"}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "reply_to_user": {"reputation": 361, "user_id": 3799711, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7d2c4c93fcc81003a601b6eaed49433e?s=128&d=identicon&r=PG&f=1", "display_name": "nerdizzle", "link": "https://stackoverflow.com/users/3799711/nerdizzle"}, "edited": false, "score": 0, "creation_date": 1585318832, "post_id": 40140562, "comment_id": 107724867, "body": "@nerdizzle That sounds like a good candidate for another question. Basically though, with <code>await</code> the function will wait for the asynchronous operation to complete (or fail) before continuing, otherwise it&#39;ll just immediately continue without waiting."}, {"owner": {"reputation": 361, "user_id": 3799711, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7d2c4c93fcc81003a601b6eaed49433e?s=128&d=identicon&r=PG&f=1", "display_name": "nerdizzle", "link": "https://stackoverflow.com/users/3799711/nerdizzle"}, "edited": false, "score": 0, "creation_date": 1585383256, "post_id": 40140562, "comment_id": 107743675, "body": "@Ajedi32 thx for the response. But without the await in the async map it is not possible anymore to await the re result of the function?"}], "tags": [], "owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "is_accepted": true, "score": 508, "last_activity_date": 1542107538, "last_edit_date": 1542107538, "creation_date": 1476907527, "answer_id": 40140562, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/40140562#40140562", "title": "Use async await with Array.map", "body": "<p>The problem here is that you are trying to <code>await</code> an array of promises rather than a promise. This doesn't do what you expect.</p>\n\n<p>When the object passed to <code>await</code> is not a Promise, <code>await</code> simply returns the value as-is immediately instead of trying to resolve it. So since you passed <code>await</code> an array (of Promise objects) here instead of a Promise, the value returned by await is simply that array, which is of type <code>Promise&lt;number&gt;[]</code>.</p>\n\n<p>What you need to do here is call <code>Promise.all</code> on the array returned by <code>map</code> in order to convert it to a single Promise before <code>await</code>ing it.</p>\n\n<p>According to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"noreferrer\">MDN docs for <code>Promise.all</code></a>:</p>\n\n<blockquote>\n  <p>The <code>Promise.all(iterable)</code> method returns a promise that resolves\n  when all of the promises in the iterable argument have resolved, or\n  rejects with the reason of the first passed promise that rejects.</p>\n</blockquote>\n\n<p>So in your case:</p>\n\n<pre><code>var arr = [1, 2, 3, 4, 5];\n\nvar results: number[] = await Promise.all(arr.map(async (item): Promise&lt;number&gt; =&gt; {\n    await callAsynchronousOperation(item);\n    return item + 1;\n}));\n</code></pre>\n\n<p>This will resolve the specific error you are encountering here.</p>\n"}, {"comments": [{"owner": {"reputation": 1095, "user_id": 4425719, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-6mDjKYogbrQ/AAAAAAAAAAI/AAAAAAAADVM/vCB9DVK11XE/photo.jpg?sz=128", "display_name": "Santiago Mendoza Ramirez", "link": "https://stackoverflow.com/users/4425719/santiago-mendoza-ramirez"}, "edited": false, "score": 7, "creation_date": 1519918729, "post_id": 43926189, "comment_id": 85111142, "body": "The Promise.all will be async for each element of the array. This will be a sync, it have to wait to finish one element in order to start the next one."}, {"owner": {"reputation": 2007, "user_id": 218258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0a263ad123bb5a6fc82989b979c35911?s=128&d=identicon&r=PG", "display_name": "ralfoide", "link": "https://stackoverflow.com/users/218258/ralfoide"}, "edited": false, "score": 0, "creation_date": 1581648400, "post_id": 43926189, "comment_id": 106515954, "body": "For those trying this approach, note that for..of is the proper way to iterate an array content, whereas for..in iterates over the indices."}], "tags": [], "owner": {"reputation": 148, "user_id": 4459773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c65176f4c26b3c86612c9f600f014c?s=128&d=identicon&r=PG&f=1", "display_name": "Beckster", "link": "https://stackoverflow.com/users/4459773/beckster"}, "is_accepted": false, "score": 3, "last_activity_date": 1496731705, "last_edit_date": 1496731705, "creation_date": 1494539629, "answer_id": 43926189, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/43926189#43926189", "title": "Use async await with Array.map", "body": "<p>I'd recommend using Promise.all as mentioned above, but if you really feel like avoiding that approach, you can do a for or any other loop:</p>\n\n<pre><code>const arr = [1,2,3,4,5];\nlet resultingArr = [];\nfor (let i in arr){\n  await callAsynchronousOperation(i);\n  resultingArr.push(i + 1)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3624, "user_id": 504533, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2d7757e19c7deb036eb27a00997db7b9?s=128&d=identicon&r=PG", "display_name": "Andrey Tserkus", "link": "https://stackoverflow.com/users/504533/andrey-tserkus"}, "edited": false, "score": 2, "creation_date": 1510714967, "post_id": 46686116, "comment_id": 81548754, "body": "It is different - it doesn&#39;t run all operations in parallel, but rather executes them in sequence."}, {"owner": {"reputation": 917, "user_id": 4366215, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fcac8a36bfe6380a170ce73f52cf75aa?s=128&d=identicon&r=PG&f=1", "display_name": "Kiechlus", "link": "https://stackoverflow.com/users/4366215/kiechlus"}, "reply_to_user": {"reputation": 3624, "user_id": 504533, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2d7757e19c7deb036eb27a00997db7b9?s=128&d=identicon&r=PG", "display_name": "Andrey Tserkus", "link": "https://stackoverflow.com/users/504533/andrey-tserkus"}, "edited": false, "score": 5, "creation_date": 1512056795, "post_id": 46686116, "comment_id": 82111561, "body": "@AndreyTserkus <code>Promise.mapSeries</code> or <code>Promise.each</code> are sequencial, <code>Promise.map</code> starts them all at once."}, {"owner": {"user_type": "does_not_exist", "display_name": "user659682"}, "reply_to_user": {"reputation": 3624, "user_id": 504533, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2d7757e19c7deb036eb27a00997db7b9?s=128&d=identicon&r=PG", "display_name": "Andrey Tserkus", "link": "https://stackoverflow.com/users/504533/andrey-tserkus"}, "edited": false, "score": 1, "creation_date": 1516310778, "post_id": 46686116, "comment_id": 83646881, "body": "@AndreyTserkus you can run all or some operations in parallel by providing <code>concurrency</code> option."}, {"owner": {"reputation": 417, "user_id": 1708083, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ba8387e0f15e9f96f747374a178b4dfc?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1708083/michal"}, "edited": false, "score": 18, "creation_date": 1519479964, "post_id": 46686116, "comment_id": 84932840, "body": "It&#39;s worth mentioning that it&#39;s not a vanilla JS."}], "tags": [], "owner": {"reputation": 466, "user_id": 7034307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68636ed5012bf0603a11a12ca1a3d69?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Cheung", "link": "https://stackoverflow.com/users/7034307/gabriel-cheung"}, "is_accepted": false, "score": 19, "last_activity_date": 1529685903, "last_edit_date": 1529685903, "creation_date": 1507718355, "answer_id": 46686116, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/46686116#46686116", "title": "Use async await with Array.map", "body": "<p>There's another solution for it if you are not using native Promises but Bluebird. </p>\n\n<p>You could also try using <a href=\"http://bluebirdjs.com/docs/api/promise.map.html\" rel=\"noreferrer\">Promise.map()</a>, mixing the array.map and Promise.all</p>\n\n<p>In you case: </p>\n\n<pre><code>  var arr = [1,2,3,4,5];\n\n  var results: number[] = await Promise.map(arr, async (item): Promise&lt;number&gt; =&gt; {\n    await callAsynchronousOperation(item);\n    return item + 1;\n  });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 376, "user_id": 9059634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf271483cdcffd847c7497895c824a9?s=128&d=identicon&r=PG&f=1", "display_name": "sakib11", "link": "https://stackoverflow.com/users/9059634/sakib11"}, "edited": false, "score": 2, "creation_date": 1597432374, "post_id": 59471024, "comment_id": 112141304, "body": "Over the years of using Javascript, I have always had issues with mapping over arrays without messing up the order due to the async nature of js. I have used promised.all but never thought that it resolves them as is. This answer literally changed how I write maps and other things now. God bless."}], "tags": [], "owner": {"reputation": 651, "user_id": 1379898, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/cVFYr.jpg?s=128&g=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/1379898/miki"}, "is_accepted": false, "score": 9, "last_activity_date": 1606164519, "last_edit_date": 1606164519, "creation_date": 1577202523, "answer_id": 59471024, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/59471024#59471024", "title": "Use async await with Array.map", "body": "<p>Solution below to process all elements of the array in parallel, asynchronously AND preserve the order:</p>\n<pre><code>const arr = [1, 2, 3, 4, 5, 6, 7, 8];\nconst randomDelay = () =&gt; new Promise(resolve =&gt; setTimeout(resolve, Math.random() * 1000));\n\nconst calc = async n =&gt; {\n  await randomDelay();\n  return n * 2;\n};\n\nconst asyncFunc = async () =&gt; {\n  const unresolvedPromises = arr.map(n =&gt; calc(n));\n  const results = await Promise.all(unresolvedPromises);\n};\n\nasyncFunc();\n</code></pre>\n<p>Also <a href=\"https://codepen.io/_miki_/pen/NWPgxpP\" rel=\"nofollow noreferrer\">codepen</a>.</p>\n<p>Notice we only &quot;await&quot; for Promise.all. We call calc without &quot;await&quot; multiple times, and we collect an array of unresolved promises right away. Then Promise.all waits for resolution of all of them and returns an array with the resolved values in order.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 13426412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d82cb265337e2b06ff57f633ee5510?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Muresanu", "link": "https://stackoverflow.com/users/13426412/victor-muresanu"}, "is_accepted": false, "score": 0, "last_activity_date": 1608121168, "creation_date": 1608121168, "answer_id": 65323134, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/65323134#65323134", "title": "Use async await with Array.map", "body": "<p>I had a task on BE side to find all entities from a repo, and to add a new property url and to return to controller layer. This is how I achieved it (thanks to Ajedi32's response):</p>\n<pre><code>async findAll(): Promise&lt;ImageResponse[]&gt; {\n    const images = await this.imageRepository.find(); // This is an array of type Image (DB entity)\n    const host = this.request.get('host');\n    const mappedImages = await Promise.all(images.map(image =&gt; ({...image, url: `http://${host}/images/${image.id}`}))); // This is an array of type Object\n    return plainToClass(ImageResponse, mappedImages); // Result is an array of type ImageResponse\n  }\n</code></pre>\n<p><strong>Note</strong>: Image (entity) doesn't have property url, but ImageResponse - has</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 10310167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f340d76590147f6599c45c8cacaf3e?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Narvekar", "link": "https://stackoverflow.com/users/10310167/abhijeet-narvekar"}, "is_accepted": false, "score": 1, "last_activity_date": 1609692393, "last_edit_date": 1609692393, "creation_date": 1609690406, "answer_id": 65552027, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/65552027#65552027", "title": "Use async await with Array.map", "body": "<p>You can use:</p>\n<pre><code>for await (let resolvedPromise of arrayOfPromises) {\n  console.log(resolvedPromise)\n}\n</code></pre>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of</a></p>\n<p>If you wish to use <code>Promise.all()</code> instead you can go for <code>Promise.allSettled()</code>\nSo you can have better control over rejected promises.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled</a></p>\n"}, {"tags": [], "owner": {"reputation": 562, "user_id": 2491400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d94f56835642f02d03ed894cb488f1?s=128&d=identicon&r=PG", "display_name": "nicolas-van", "link": "https://stackoverflow.com/users/2491400/nicolas-van"}, "is_accepted": false, "score": 0, "last_activity_date": 1609774375, "creation_date": 1609774375, "answer_id": 65565330, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map/65565330#65565330", "title": "Use async await with Array.map", "body": "<p>A solution using <a href=\"https://nicolas-van.github.io/modern-async/modern-async/1.0.2/global.html#map\" rel=\"nofollow noreferrer\">modern-async's map()</a>:</p>\n<pre><code>import { map } from 'modern-async'\n\n...\nconst result = await map(myArray, async (v) =&gt; {\n    ...\n})\n</code></pre>\n<p>The advantage of using that library is that you can control the concurrency using <a href=\"https://nicolas-van.github.io/modern-async/modern-async/1.0.2/global.html#mapLimit\" rel=\"nofollow noreferrer\">mapLimit()</a> or <a href=\"https://nicolas-van.github.io/modern-async/modern-async/1.0.2/global.html#mapSeries\" rel=\"nofollow noreferrer\">mapSeries()</a>.</p>\n"}], "owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175663, "favorite_count": 75, "accepted_answer_id": 40140562, "answer_count": 8, "score": 243, "last_activity_date": 1609774375, "creation_date": 1476905946, "last_edit_date": 1501054328, "question_id": 40140149, "link": "https://stackoverflow.com/questions/40140149/use-async-await-with-array-map", "title": "Use async await with Array.map", "body": "<p>Given the following code:</p>\n\n<pre><code>var arr = [1,2,3,4,5];\n\nvar results: number[] = await arr.map(async (item): Promise&lt;number&gt; =&gt; {\n        await callAsynchronousOperation(item);\n        return item + 1;\n    });\n</code></pre>\n\n<p>which produces the following error:</p>\n\n<blockquote>\n  <p>TS2322: Type 'Promise&lt;number&gt;[]' is not assignable to type 'number[]'.\n  Type 'Promise&lt;number&gt; is not assignable to type 'number'.</p>\n</blockquote>\n\n<p>How can I fix it? How can I make <code>async await</code> and <code>Array.map</code> work together?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 4178006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rSIiD.png?s=128&g=1", "display_name": "Pablo M&#225;ximo", "link": "https://stackoverflow.com/users/4178006/pablo-m%c3%a1ximo"}, "is_accepted": true, "score": 2, "last_activity_date": 1476905562, "creation_date": 1476905562, "answer_id": 40140046, "question_id": 40139913, "link": "https://stackoverflow.com/questions/40139913/angular2-typescript-error-pushing-element/40140046#40140046", "title": "Angular2 / Typescript - Error pushing element", "body": "<p>The method .push is not available for objects, if you want to add something to an object you just have to create the property in the object.</p>\n\n<pre><code>olditem.obj = o;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>olditem['obj'] = o;\n</code></pre>\n\n<p>And then set the item in you localStorage</p>\n"}], "owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 40140046, "answer_count": 1, "score": -1, "last_activity_date": 1476905562, "creation_date": 1476905048, "question_id": 40139913, "link": "https://stackoverflow.com/questions/40139913/angular2-typescript-error-pushing-element", "title": "Angular2 / Typescript - Error pushing element", "body": "<p>This is my function:</p>\n\n<pre><code>foo(o) {\n    let olditems = JSON.parse(localStorage.getItem('key'));\n    let newitem = {'obj': o};\n    olditems.push(newitem);\n    console.log(olditems);\n}\n</code></pre>\n\n<p>I want to push the object <code>o</code> to my <code>localStorage</code>.</p>\n\n<p>It gives me an error:</p>\n\n<pre><code>error_handler.js:46 EXCEPTION: Error in ... - inline template:7:65 caused by: olditems.push is not a function\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5986, "user_id": 121363, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9748cd64cfe438dce98ffddb2e5791de?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/121363/chris"}, "edited": false, "score": 0, "creation_date": 1476904300, "post_id": 40139619, "comment_id": 67549213, "body": "Your error sounds much like this one: <a href=\"http://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x\" title=\"argument of type x is not assignable to parameter of type x\">stackoverflow.com/questions/34738799/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1476904930, "post_id": 40139619, "comment_id": 67549562, "body": "I strongly doubt that the code runs and works perfectly. Anyway, why do you think that the filter function is not working correctly, or that it is what is giving the error? Read the error message carefully--like most error messages, it pretty much tells you exactly what is going wrong."}], "answers": [{"tags": [], "owner": {"reputation": 26884, "user_id": 2806996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66d3af37dfefa9352b9b9722dd629a87?s=128&d=identicon&r=PG", "display_name": "joews", "link": "https://stackoverflow.com/users/2806996/joews"}, "is_accepted": true, "score": 2, "last_activity_date": 1476904337, "creation_date": 1476904337, "answer_id": 40139697, "question_id": 40139619, "link": "https://stackoverflow.com/questions/40139619/basic-javascript-filter-function-not-working-correctly-in-angular2/40139697#40139697", "title": "Basic Javascript filter function not working correctly in Angular2", "body": "<p><code>subscribe</code> expects a function argument:</p>\n\n<pre><code>this.scoreDataService.deletePlayer(email) \n  .subscribe(() =&gt; {\n     this.highScores = this.highScores.filter(highScore =&gt; highScore.email !== email)\n   });\n</code></pre>\n"}], "owner": {"reputation": 50, "user_id": 3624801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XjrMC.jpg?s=128&g=1", "display_name": "Sharvari Desai", "link": "https://stackoverflow.com/users/3624801/sharvari-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 40139697, "answer_count": 1, "score": 0, "last_activity_date": 1476904337, "creation_date": 1476904087, "last_edit_date": 1476904140, "question_id": 40139619, "link": "https://stackoverflow.com/questions/40139619/basic-javascript-filter-function-not-working-correctly-in-angular2", "title": "Basic Javascript filter function not working correctly in Angular2", "body": "<p>This should be incredibly simple, but my filter function in Typescript keeps giving me an error. Here is my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>highScores: HighScore[];\n\ndeletePlayer(email: string) {\n      this.scoreDataService.deletePlayer(email)\n         .subscribe(\n            this.highScores = this.highScores.filter(highScore =&gt; highScore.email !== email)\n          );\n}\n</code></pre>\n\n<p>The filter function should simply return an array HighScore[], but instead, I keep getting this error:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Argument of type 'HighScore[] is not assignable to parameter of type 'NextObserver&lt;Response&gt; | ErrorObserver&lt;Response&gt; | CompletionObserver&lt;Response&gt; ...\n\nType 'HighScore[]' is not assignable to type '(value: Response) =&gt; void'. Tyope 'HighScore[]' provides no match for the signature '(value:Response): void'\n</code></pre>\n\n<p>The weirdest thing is that this code runs and works perfectly even with this error. Does anyone know what could be happening? Thank you in advance!</p>\n"}, {"tags": ["html", "twitter-bootstrap", "angular", "typescript", "angular2-forms"], "answers": [{"comments": [{"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 1, "creation_date": 1476904456, "post_id": 40139113, "comment_id": 67549307, "body": "perfect. Works great. Thank you!"}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476905537, "post_id": 40139113, "comment_id": 67549910, "body": "just another quick question...I also have that &quot;Add&quot; button right above the &quot;Cancel&quot; one. If I use the reset() method on that, it resets the form but no longer closes the modal. How can I get it to do both? Thanks"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476905846, "post_id": 40139113, "comment_id": 67550094, "body": "@Drew13 I edited my post, check it out. If it doesn&#39;t work, try changing <code>id=&quot;myModal1&quot;</code> to <code>#myModal1</code>."}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476906144, "post_id": 40139113, "comment_id": 67550271, "body": "@Drew13 Also, you should change type of your cancel button from <code>submit</code> to <code>button</code>, it may cause some problems for you."}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476906640, "post_id": 40139113, "comment_id": 67550562, "body": "hmm.. I tried both. Neither seemed to work. First I put (ngSubmit)=&quot;submitForm(modalForm.value);myModal1.hide()&quot; inside my open button tag which didn&#39;t work so I left it there and changed id=&quot;myModal1&quot; to #myModal1 and that caused the button that opens up the modal to begin with not to work."}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476906804, "post_id": 40139113, "comment_id": 67550656, "body": "@Drew13 Well, if your modal was closing earlier on submit, I don&#39;t see why wouldn&#39;t it close now. unless you changed something you shouldn&#39;t have. You only added <code>this.modalForm.reset();</code>, right?"}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476906984, "post_id": 40139113, "comment_id": 67550756, "body": "Yes, before adding"}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476907141, "post_id": 40139113, "comment_id": 67550830, "body": "Didn&#39;t mean to submit last comment. Before adding <code>(click)=&quot;resetForm()&quot;</code> to my &quot;Add&quot; button tag, the modal would close when I clicked it. But after adding <code>(ngSubmit)=&quot;submitForm(modalForm.value);myModal1.hide()&quot;</code> to the tag, and then trying <code>#myModal1</code> instead of <code>id=&quot;myModal1&quot;</code> that didn&#39;t work either."}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476907355, "post_id": 40139113, "comment_id": 67550947, "body": "@Drew13 Don&#39;t add <code>(click)=&quot;resetForm()&quot;</code> to your add button, simply add <code>this.modalForm.reset();</code> to <code>submitForm(value: any)</code> method, right below or above <code>console.log(value);</code>"}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476908004, "post_id": 40139113, "comment_id": 67551335, "body": "Not sure if the <code>submitForm(value: any)</code> method is actually being called. Code editor shows it as an unused method. I tried both including and not including <code>(ngSubmit)=&quot;submitForm(modalForm.value);&quot;</code>"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476908070, "post_id": 40139113, "comment_id": 67551370, "body": "@Drew13 Was your <code>submitForm(value: any)</code> method called before you changed anything? Check your console and see if anything is printed there when you click submit."}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476908480, "post_id": 40139113, "comment_id": 67551626, "body": "@Drew13 Sorry, but I can&#39;t solve this problem without looking at your code, you can ask a new question with your current code and I&#39;ll take a look there."}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476909197, "post_id": 40139113, "comment_id": 67552016, "body": "ok it won&#39;t let me post for 90 minutes so I will post another question tomorrow and let you know. Thanks"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476909279, "post_id": 40139113, "comment_id": 67552049, "body": "@Drew13 Just tell me, did your <code>submitForm()</code> method print anything in console before you made any of the changes I told you?"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1476912399, "post_id": 40139113, "comment_id": 67553557, "body": "@Drew13 Then you had this problem previously, edits I suggested didn&#39;t cause it. It may have something to do with the face that both your button types are <code>submit</code>, try changing cancel button&#39;s type from <code>submit</code> to button. Another thing that might cause a problem is <code>data-dismiss=&quot;modal&quot;</code> on your submit button. Remove those and then check if anything is printed in console."}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1479829385, "post_id": 40139113, "comment_id": 68717888, "body": "The issue with resetting the form on submit button and wanting for it to close as well is because resetting the form resets the validation. So the form cannot be submitted while it&#39;s empty if there is required validation. Setting the form values to a single space after adding the value can take care of that. Then you won&#39;t have to reset it."}], "tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 1, "last_activity_date": 1476907303, "last_edit_date": 1476907303, "creation_date": 1476902131, "answer_id": 40139113, "question_id": 40138962, "link": "https://stackoverflow.com/questions/40138962/clear-bootstrap-modal-form-after-cancel-button-is-clicked-inside-modal/40139113#40139113", "title": "Clear Bootstrap Modal Form after cancel button is clicked inside Modal", "body": "<p><code>FormGroup</code> has a method called <code>reset()</code>:</p>\n\n<pre><code>this.modalForm.reset();\n</code></pre>\n\n<p>You can read more about <code>reset()</code> and <code>FormGroup</code> itself in <a href=\"https://angular.io/docs/ts/latest/api/forms/index/FormGroup-class.html\" rel=\"nofollow\">Angular 2 official documentation</a>.</p>\n"}], "owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5357, "favorite_count": 0, "accepted_answer_id": 40139113, "answer_count": 1, "score": 0, "last_activity_date": 1491575466, "creation_date": 1476901613, "last_edit_date": 1491575466, "question_id": 40138962, "link": "https://stackoverflow.com/questions/40138962/clear-bootstrap-modal-form-after-cancel-button-is-clicked-inside-modal", "title": "Clear Bootstrap Modal Form after cancel button is clicked inside Modal", "body": "<p>I have a bootstrap modal with some inputs that I want to clear  and have the modal close if I click the cancel button. It will obviously reset if I refresh the page but I simply want to be able to enter some data into the form fields, click the Cancel button and have the modal immediately close, then once it is closed click to open the modal again and have the form fields be empty.</p>\n\n<pre><code>&lt;div class=\"modal fade\" id=\"myModal1\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"&gt;\n  &lt;div class=\"modal-dialog bodyWidth\"&gt;\n&lt;div class=\"modal-content\"&gt;\n  &lt;div class=\"modal-header\"&gt;\n    &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;\u00d7&lt;/button&gt;\n    &lt;h4 class=\"modal-title\"&gt;Add Data Point&lt;/h4&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-body\"&gt;\n    &lt;form class=\"form-inline\" [formGroup]=\"modalForm\" (ngSubmit)=\"submitForm(modalForm.value)\"&gt;\n      &lt;div class=\"row\"&gt;\n        &lt;div class=\"form-group\" [ngClass]=\"{'has-error':!modalForm.controls['dataPoint'].valid &amp;&amp; modalForm.controls['dataPoint'].touched}\"&gt;\n          &lt;label&gt;Data Point:&lt;/label&gt;\n          &lt;input class=\"form-control special\" type=\"text\" class=\"form-control special\"  placeholder=\"Enter a data point\" [formControl]=\"modalForm.controls['dataPoint']\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\" [ngClass]=\"{'has-error':!modalForm.controls['ICCP'].valid &amp;&amp; modalForm.controls['ICCP'].touched}\"&gt;\n          &lt;label &gt;ICCP:&lt;/label&gt;\n          &lt;input type=\"text\" class=\"form-control special\" placeholder=\"Enter an ICCP\" [formControl]=\"modalForm.controls['ICCP']\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\" [ngClass]=\"{'has-error':!modalForm.controls['startDate'].valid &amp;&amp; modalForm.controls['startDate'].touched}\"&gt;\n          &lt;label&gt;Start Date:&lt;/label&gt;\n          &lt;input class=\"form-control special\" type=\"text\" placeholder=\"Select a start date\" [formControl]=\"modalForm.controls['startDate']\" style=\"margin-right: 4px;\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\" [ngClass]=\"{'has-error':!modalForm.controls['endDate'].valid &amp;&amp; modalForm.controls['endDate'].touched}\"&gt;\n          &lt;label &gt;End Date:&lt;/label&gt;\n          &lt;input type=\"text\" class=\"form-control special\" placeholder=\"Enter an end date\" [formControl]=\"modalForm.controls['endDate']\"&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n    &lt;div style=\"float: left;\"&gt;*All Fields Are Required&lt;/div&gt;\n    &lt;button type=\"submit\" class=\"btn\" [disabled]=\"!modalForm.valid\" data-dismiss=\"modal\"&gt;Add&lt;/button&gt;\n    &lt;button type=\"submit\" (click)=\"resetForm()\" class=\"btn\" data-dismiss=\"modal\" ng-click&gt;Cancel&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\n</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n selector: 'add-validation',\n styleUrls: ['../app/app.component.css'],\n templateUrl: 'add.component.html'\n})\nexport class AddComponent {\nmodalForm : FormGroup;\n\n constructor(fb: FormBuilder){\n   this.modalForm = fb.group({\n  'dataPoint' : [null, Validators.required],\n  'ICCP' : [null, Validators.required],\n  'startDate' : [null, Validators.required],\n  'endDate' : [null, Validators.required]\n})\nconsole.log(this.modalForm);\nthis.modalForm.valueChanges.subscribe( (form: any) =&gt; {\n    console.log('form changed to:', form);\n  }\n);\n}\n\nsubmitForm(value: any){\n  console.log(value);\n}\n\nresetForm(){\n this.modalForm = new FormGroup();\n}\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1476901168, "post_id": 40138816, "comment_id": 67547293, "body": "You haven&#39;t defined <code>greeting</code> so it is completely valid to give an error of it"}, {"owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "edited": false, "score": 2, "creation_date": 1476901613, "post_id": 40138816, "comment_id": 67547603, "body": "if you want to write es6, write es6. If you want to write typescript, define the variable: <code>class Greeter { greeting:string ; constr...</code>. You&#39;re getting valid output, because by default the compiler will emit even if there are errors."}], "answers": [{"tags": [], "owner": {"reputation": 2629, "user_id": 6341295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I74tV.png?s=128&g=1", "display_name": "Priyesh Kumar", "link": "https://stackoverflow.com/users/6341295/priyesh-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1476902145, "last_edit_date": 1495542343, "creation_date": 1476902145, "answer_id": 40139116, "question_id": 40138816, "link": "https://stackoverflow.com/questions/40138816/how-to-write-es-6-code-with-typescript/40139116#40139116", "title": "How to write es 6 code with typescript?", "body": "<p>You need to define <code>greeting</code> before using it like <code>this.greeting</code>.</p>\n\n<p>Try this:</p>\n\n<pre><code>class Greeter {\n    greeting: string; &lt;-- you are missing this\n    constructor(message: string) {\n        this.greeting = message;\n    }\n    greet() {\n        return \"Hello, \" + this.greeting;\n    }\n}\n</code></pre>\n\n<p>By default TypeScript will emit JavaScript even in the presence of errors. You can turn off this by enabling <code>--noEmitOnError</code> compiler option. <a href=\"https://stackoverflow.com/questions/37816422/angular2-typescript-not-compiling-but-works-during-runtime\">source</a></p>\n\n<p>Read official docs <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">here</a> for better understanding.</p>\n\n<p>Compiler options <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 147, "user_id": 1488625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c5e243cc901a83f3d768d96c81d5dd7?s=128&d=identicon&r=PG", "display_name": "Doberman", "link": "https://stackoverflow.com/users/1488625/doberman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1476902145, "creation_date": 1476901118, "last_edit_date": 1476901856, "question_id": 40138816, "link": "https://stackoverflow.com/questions/40138816/how-to-write-es-6-code-with-typescript", "title": "How to write es 6 code with typescript?", "body": "<p>I work with asp.net project in visual studio 2015. I want to use typescript for transpile my code from es6 to es5. But some es6 features dont working in typescript. For example es6 classes don't working.</p>\n\n<p>It is valid es6 code:</p>\n\n<pre><code>class Greeter {\n  constructor(message) {\n    this.greeting = message;\n  }\n  greet() {\n    return \"Hello, \" + this.greeting;\n  }\n}\n</code></pre>\n\n<p>But this code generates the error '<strong>property greeting does not exist on type Greeter</strong>'. But transpiling working, i see valid es 5! </p>\n\n<p>What i do wrong? Maybe linter error? </p>\n"}, {"tags": ["html", "twitter-bootstrap", "angular", "typescript"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 1, "creation_date": 1476900691, "post_id": 40138435, "comment_id": 67547036, "body": "Listen to the tab key, see if it&#39;s coming from the last input in the modal, if it is, cancel the event and set focus on the first input. Do the same thing backwards checking for <code>e.shiftKey</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3305, "user_id": 4873295, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GTi0A.jpg?s=128&g=1", "display_name": "ShellZero", "link": "https://stackoverflow.com/users/4873295/shellzero"}, "edited": false, "score": 0, "creation_date": 1476902442, "post_id": 40138775, "comment_id": 67548132, "body": "You are welcome. Glad I was able to help! By the way, there are couple more focusable elements like area[href], [contenteditable]. you can add those if you want in the string. Cheers."}, {"owner": {"reputation": 121, "user_id": 2682985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmwNw.png?s=128&g=1", "display_name": "Saint48198", "link": "https://stackoverflow.com/users/2682985/saint48198"}, "edited": false, "score": 0, "creation_date": 1503496765, "post_id": 40138775, "comment_id": 78641225, "body": "If you did not want to use jquery with this script. You could querySelector and querySelectorAll to get the parentModel and focusable elements."}], "tags": [], "owner": {"reputation": 3305, "user_id": 4873295, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GTi0A.jpg?s=128&g=1", "display_name": "ShellZero", "link": "https://stackoverflow.com/users/4873295/shellzero"}, "is_accepted": true, "score": 4, "last_activity_date": 1476900975, "creation_date": 1476900975, "answer_id": 40138775, "question_id": 40138435, "link": "https://stackoverflow.com/questions/40138435/how-to-lock-the-tab-focus-on-a-modal-in-typescript/40138775#40138775", "title": "How to lock the tab focus on a modal in typescript?", "body": "<p>You can implement the following method:</p>\n\n<pre><code>private tabKey(event: KeyboardEvent) {\n        let parentModal = $(document).find('.modal');\n        //List of html elements which can be focused by tabbing.\n        let focusableElementsArrayString = 'a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"]';\n        let focusableElementsInModal = parentModal.find(focusableElementsArrayString);\n        let numberOfElements = focusableElementsInModal.length;\n        let firstTabElement = focusableElementsInModal[0];\n        let lastTabElement = focusableElementsInModal[numberOfElements - 1];\n        // Check for Shift + Tab\n        if (event.keyCode === 9 &amp;&amp; event.shiftKey) {\n            if (document.activeElement === firstTabElement) {\n                event.preventDefault();\n                lastTabElement.focus();\n            } // Check for Tab\n        } else if (event.keyCode === 9) {\n            if (document.activeElement === lastTabElement) {\n                event.preventDefault();\n                firstTabElement.focus();\n            }\n        }\n    }\n</code></pre>\n\n<p>I have even implemented the shift+tab for you in the code. Hope that helps.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6895247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1797, "favorite_count": 0, "accepted_answer_id": 40138775, "answer_count": 1, "score": 0, "last_activity_date": 1503986607, "creation_date": 1476899751, "last_edit_date": 1476900454, "question_id": 40138435, "link": "https://stackoverflow.com/questions/40138435/how-to-lock-the-tab-focus-on-a-modal-in-typescript", "title": "How to lock the tab focus on a modal in typescript?", "body": "<p>I have a bootstrap modal with two button elements. When the modal is opened, the buttons get the focus but when I tab twice, the focus leaves the modal and goes to some other element on the main screen. </p>\n\n<p>So, my question is how to lock the tab focus on the modal, i.e., tabbing on the first button, the focus should go to the next button, and tabbing on the second button should get back the focus onto the first button.</p>\n\n<p>I have seen the similar query in other questions where they were asking to use ids to the tags which I don't want to implement.</p>\n\n<p>The following is the modal:</p>\n\n<pre><code>&lt;div class=\"modal-dialog modal-sm\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n                &lt;h4 class=\"modal-title\"&gt;Are you sure?&lt;/h4&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body\"&gt;\n                warning\n            &lt;/div&gt;\n        &lt;div class=\"modal-footer ok-cancel\"&gt;\n           &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"delete()\" data-dismiss=\"modal\"&gt;Delete&lt;/button&gt;\n            &lt;button type=\"button\" class=\"btn btn-default\" (click)=\"cancel()\"&gt;Cancel&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>And also, I might have more modals in future where I could have more elements on the modal. In that case, how could I achieve this?</p>\n\n<p>PS: I am implementing this in an Angular2 framework with typescript.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 0, "creation_date": 1476906116, "post_id": 40138471, "comment_id": 67550254, "body": "but in the link some code of my directive, I have got an exception: EXCEPTION: Error in ./TagComponent class TagComponent - inline template:0:0 caused by: No component factory found for TestComponentComponent"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 1, "creation_date": 1476906291, "post_id": 40138471, "comment_id": 67550355, "body": "You need to add <code>TestComponentComponent</code> to <code>entryComponents</code> in <code>@NgModule()</code> so that a factory is created."}, {"owner": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 1, "creation_date": 1476906580, "post_id": 40138471, "comment_id": 67550530, "body": "O_O I cannot belive"}, {"owner": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 0, "creation_date": 1477055732, "post_id": 40138471, "comment_id": 67622394, "body": "By this way the new component will be created after (or before) the directive-marked component, can i put the new component inside?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 1, "creation_date": 1477061676, "post_id": 40138471, "comment_id": 67626819, "body": "No, only as sibling. You need a <code>ViewContainerRef</code> of an element inside the element, then you can add it inside."}, {"owner": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 0, "creation_date": 1477063940, "post_id": 40138471, "comment_id": 67628356, "body": "Thanx for your response, can i get it inside the Directive&#39;s class? basicly I have to have the common directive for all tags which can contain tags..."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 0, "creation_date": 1477064244, "post_id": 40138471, "comment_id": 67628528, "body": "I don&#39;t get what you mean by &quot;common directive for all tags&quot;. You can try <code>@ContentChild(xxx, {ViewContainerRef})</code> in the directive to get a <code>ViewContainerRef</code> where <code>xxx</code> is a template variable of the element in the component or the type of a component or directive on the element that should work as target. I have seen it mentioned but I haven&#39;t tried if this actually works."}, {"owner": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 0, "creation_date": 1477077949, "post_id": 40138471, "comment_id": 67635631, "body": "I mean, that I want to be able to apply my directive to all tags, for example: &lt;span translatable=&quot;eng&quot;&gt;{{text}}&lt;/span&gt; will be &lt;span&gt;text&lt;div&gt;translation&lt;/div&gt;&lt;/span&gt; or  &lt;p translatable=&quot;eng, ger&quot;&gt;markupble text&lt;/p&gt; will be &lt;p&gt;markupble text&lt;div&gt;english translation&lt;/div&gt;&lt;div&gt;german translation&lt;/div&gt;&lt;/p&gt;"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "edited": false, "score": 0, "creation_date": 1477133855, "post_id": 40138471, "comment_id": 67648828, "body": "Then you need a selector in the directive that matches all these elements. You can use <code>selector: &#39;[translatable]&#39;</code>. Have you considered using a pipe instead of a directive?"}, {"owner": {"reputation": 908, "user_id": 5013099, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hFux06J2-us/AAAAAAAAAAI/AAAAAAAAAEA/qodOsRJk7OQ/photo.jpg?sz=128", "display_name": "Muhammad Inaam Munir", "link": "https://stackoverflow.com/users/5013099/muhammad-inaam-munir"}, "edited": false, "score": 0, "creation_date": 1565213922, "post_id": 40138471, "comment_id": 101286722, "body": "Please add full code. where is private compiler: Compiler used? where you defined this.cmpRef?"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1476899897, "last_edit_date": 1495540008, "creation_date": 1476899897, "answer_id": 40138471, "question_id": 40138401, "link": "https://stackoverflow.com/questions/40138401/angular-2-1-append-component-dynamicly-inside-directive/40138471#40138471", "title": "Angular 2.1 append component dynamicly inside directive", "body": "<pre><code>constructor(\n    private target:ViewContainerRef, \n    private componentFactoryResolver: ComponentFactoryResolver, \n    private compiler: Compiler) {}\n\nngAfterViewInit() {\n  this.createComponent();\n}\n\ncreateComponent() {\n    let factory = this.componentFactoryResolver.resolveComponentFactory(MyDynamicComponent);\n    this.cmpRef = this.target.createComponent(factory)\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/36325212/angular-2-dynamic-tabs-with-user-click-chosen-components/36325468#36325468\">Angular 2 dynamic tabs with user-click chosen components</a></p>\n"}], "owner": {"reputation": 98, "user_id": 3391256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/02004cd97cd5f1d5f46f2c3b4da6dd09?s=128&d=identicon&r=PG&f=1", "display_name": "VVildVVolf", "link": "https://stackoverflow.com/users/3391256/vvildvvolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2049, "favorite_count": 0, "accepted_answer_id": 40138471, "answer_count": 1, "score": 1, "last_activity_date": 1476899897, "creation_date": 1476899662, "question_id": 40138401, "link": "https://stackoverflow.com/questions/40138401/angular-2-1-append-component-dynamicly-inside-directive", "title": "Angular 2.1 append component dynamicly inside directive", "body": "<p>I am a beginner in the angular 2.1. I Want to decorate some elements for the automatical translation and I am going to use a directive, it have to look like:</p>\n\n<pre><code>&lt;span customDirectiveTranslation=\"translateble\"&gt;{{translateble}}&lt;/span&gt;\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>&lt;span customDirectiveTranslation&gt;{{translateble}}&lt;/span&gt;\n</code></pre>\n\n<p>I can use the Renderer inside directive class (createElement), but by this way I can append only simple elements like span.</p>\n\n<p>how can I render component inside another component by custom directive?\nThanx</p>\n"}, {"tags": ["typescript", "systemjs", "jspm"], "answers": [{"comments": [{"owner": {"reputation": 5056, "user_id": 1196988, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ih3Vl.jpg?s=128&g=1", "display_name": "Chris Nevill", "link": "https://stackoverflow.com/users/1196988/chris-nevill"}, "edited": false, "score": 0, "creation_date": 1476986623, "post_id": 40144607, "comment_id": 67591748, "body": "Many Thanks.  The NPM @Types things got me back on track eventually. I had a lot of problems where I had multiple versions of both TypeScript and my type definitions... but got there eventually!  I didn&#39;t seem to need to change my declarations - that seems to be still working at present - with the import jQuery from &#39;jquery&#39;; statement.  It might because I&#39;m now on the latest and greatest everything!"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 2, "last_activity_date": 1476933402, "last_edit_date": 1476933402, "creation_date": 1476931890, "answer_id": 40144607, "question_id": 40137747, "link": "https://stackoverflow.com/questions/40137747/import-jquery-with-typescript-and-jspm/40144607#40144607", "title": "Import JQuery with TypeScript and JSPM", "body": "<p>When using javascript libraries like jQuery and FoundationJS in typescript, you only have to provide enough information for typescript to typecheck your code.</p>\n\n<p>This is usually done by including <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/ambient/d.ts.html\" rel=\"nofollow\">type declarations</a> for javascript libraries together with your source files to be compiled by typescript.</p>\n\n<p>For typescript 2.0, you can find type declarations for jQuery and FoundationJS under <code>@types</code> npm prefix:</p>\n\n<pre><code>npm install @types/foundation\n</code></pre>\n\n<p>will install declarations for FoundationJS and its dependency, jQuery, in <code>node_modules/@types</code> where typescript compiler will find it automatically.</p>\n\n<p>But the way these declarations are written is incompatible with the way you are importing jQuery. It looks like you have to change your import to use typescript-specific syntax compatible with pre-es6 modules:</p>\n\n<pre><code>import jQuery = require('jquery');\n</code></pre>\n\n<p>Then it compiles. Then you might have to choose proper module format (look for <code>--module</code> in <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow\">compiler options</a>). Typescript produces CommonJS by default, which should not be a problem for SystemJS (using es6 module format is precluded by <code>import ... = require</code> syntax).</p>\n\n<p>Another possible issue might be that declarations coming from <code>@types</code> are for a different version of jQuery or FoundationJS which is incompatible with the actual version that you use at run time - then you have to find correct declarations somewhere else or write your own.</p>\n"}], "owner": {"reputation": 5056, "user_id": 1196988, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ih3Vl.jpg?s=128&g=1", "display_name": "Chris Nevill", "link": "https://stackoverflow.com/users/1196988/chris-nevill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 40144607, "answer_count": 1, "score": 0, "last_activity_date": 1476933402, "creation_date": 1476897471, "question_id": 40137747, "link": "https://stackoverflow.com/questions/40137747/import-jquery-with-typescript-and-jspm", "title": "Import JQuery with TypeScript and JSPM", "body": "<p>I have a project using JSPM.\nI'm using FoundationJS which in turn requires JQuery.</p>\n\n<p>I was importing JQuery like this:</p>\n\n<pre><code>import jQuery from 'jquery';\n</code></pre>\n\n<p>and then using it like this:</p>\n\n<pre><code>jQuery(document).foundation();\n</code></pre>\n\n<p>and all was good - JQuery was being imported from JSPM. </p>\n\n<p>However I then decided to switch to using TypeScript.</p>\n\n<p>TypeScript is coming up with the error '</p>\n\n<blockquote>\n  <p>cannot find module 'jquery'</p>\n</blockquote>\n\n<p>How can I import this JSPM module in TypeScript?\nI'm also using SystemJS... but I'm not sure if that helps!</p>\n"}, {"tags": ["angular", "typescript", "casting", "frontend", "reactivex"], "answers": [{"comments": [{"owner": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "edited": false, "score": 0, "creation_date": 1476900528, "post_id": 40137830, "comment_id": 67546938, "body": "omitted to say that single object casting is not working either, the <code>&lt;Stuff&gt;stuffJson</code> still returns an <code>Object</code> instead of <code>Stuff</code>. here is the generated js =&gt; <code>jsonStuffs.forEach(function (jsonStuff) { return stuffs.push(jsonStuff); });</code> could something be missing in my compiler ???"}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "reply_to_user": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "edited": false, "score": 0, "creation_date": 1476900723, "post_id": 40137830, "comment_id": 67547059, "body": "Stuff needs to be an interface (not a class) for casting to work, I guess. Is this the case with you?"}, {"owner": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "edited": false, "score": 0, "creation_date": 1476900871, "post_id": 40137830, "comment_id": 67547135, "body": "its a class indeed. ill retry with an interface."}, {"owner": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "edited": false, "score": 0, "creation_date": 1476901563, "post_id": 40137830, "comment_id": 67547564, "body": "the interface didnt change much"}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "reply_to_user": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "edited": false, "score": 0, "creation_date": 1476902106, "post_id": 40137830, "comment_id": 67547937, "body": "I have edited my answer with the complete code, including the interface. I hope this helps"}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "reply_to_user": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "edited": false, "score": 1, "creation_date": 1476902519, "post_id": 40137830, "comment_id": 67548169, "body": "Maybe it is worth also adding that interfaces in Typescript are not compiled into runtime code. They are usefull to enforce typing at development time. See (<a href=\"http://stackoverflow.com/questions/22875636/how-do-i-cast-a-json-object-to-a-typescript-class\" title=\"how do i cast a json object to a typescript class\">stackoverflow.com/questions/22875636/&hellip;</a>)"}, {"owner": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "edited": false, "score": 0, "creation_date": 1476906679, "post_id": 40137830, "comment_id": 67550586, "body": "yeah, thats the problem. no casting in typescript at runtime :("}], "tags": [], "owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "is_accepted": false, "score": 0, "last_activity_date": 1476902053, "last_edit_date": 1476902053, "creation_date": 1476897761, "answer_id": 40137830, "question_id": 40137390, "link": "https://stackoverflow.com/questions/40137390/angular2-typescript-reactivex-how-to-cast-http-get-result/40137830#40137830", "title": "angular2 &amp; typescript &amp; reactiveX : how to cast http get result", "body": "<p>Every time I am in a similar situation I do casting through a loop (which I guess you define manually).</p>\n\n<p>This is an example with Customers instead of Stuffs</p>\n\n<pre><code>getCustomers(code: string) {\n        let url = environment.baseServicesUrl + 'customer';\n        let jsonParam = {code: code};\n        return this.http.post(url, jsonParam, this.getOptions())\n                    .map(this.extractData)\n                    .map((customerJsons) =&gt; {\n                        let customers = new Array&lt;Customer&gt;();\n                        customerJsons.forEach((customerJson) =&gt; {\n                            customers.push(&lt;Customer&gt;customerJson);\n                        })\n                        return customers\n                    })\n                    .catch(this.handleError);\n    }\n</code></pre>\n\n<p>The casting type Customer is an interface.</p>\n\n<p>Here is the code of <strong>Customer.interface.ts</strong></p>\n\n<pre><code>import {Relationship} from './relationship.interface';\n\nexport interface Customer {\n    customerId: string;\n    name: string;\n    lastName: string;\n    code: string;\n    relationships: Array&lt;Relationship&gt;;\n}\n</code></pre>\n\n<p>Here is the code for <strong>Relationship.interface.ts</strong></p>\n\n<pre><code>export interface Relationship {\n    id: string;\n    type: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 1959, "user_id": 2535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21b5c8eac3b0607dd3bb3357760c5ef9?s=128&d=identicon&r=PG", "display_name": "dafriskymonkey", "link": "https://stackoverflow.com/users/2535096/dafriskymonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 314, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476902053, "creation_date": 1476896160, "question_id": 40137390, "link": "https://stackoverflow.com/questions/40137390/angular2-typescript-reactivex-how-to-cast-http-get-result", "title": "angular2 &amp; typescript &amp; reactiveX : how to cast http get result", "body": "<p>Lets suppose we have a rest api at this url <code>/api/stuffs/</code> where we can get a list of <code>Stuff</code>.</p>\n\n<p>here is the code to http get the list of <code>Stuff</code>:</p>\n\n<pre><code>getStuffs(): Observable&lt;Stuff[]&gt; {\n    return this.http.get(this.url)\n        .map(this.extractStuffs)\n        .catch(this.handleError);\n}\n\nprivate extractStuffs(res: Response) {\n\n    let stuffs = res.json() as Stuff[];\n\n    return stuffs || new Array&lt;Stuff&gt;();\n}\n</code></pre>\n\n<p>everything works fine with this code, except the fact that the <code>stuffs</code> array in the <code>extractStuffs</code> function is not an array of <code>Stuff</code> but and array of <code>Object</code> instead, even if the signature of the function is <code>Observable&lt;Stuff[]&gt;</code> and the result from the api is casted to <code>Stuff[]</code>. What's weird is that typescript compiler is not throwing any error (even if result type is different from signature), witch is totally normal if we take a look at the generated JS file :</p>\n\n<pre><code>StuffService.prototype.extractStuffs = function (res) {\n    var stuffs = res.json();\n    return stuffs || new Array();\n};\n</code></pre>\n\n<p>So obviously casting the result into <code>Stuff[]</code> is not even considered by the compiler.</p>\n\n<p>Is there any way to cast it properly without doing it manually ?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 4, "creation_date": 1476893029, "post_id": 40136444, "comment_id": 67542591, "body": "I&#39;m not sure where you saw -&gt; used but last I checked there was no such thing in Typescript. Can you give an example?"}, {"owner": {"reputation": 10707, "user_id": 6650102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/boCIP.jpg?s=128&g=1", "display_name": "Aurora0001", "link": "https://stackoverflow.com/users/6650102/aurora0001"}, "edited": false, "score": 0, "creation_date": 1476893053, "post_id": 40136444, "comment_id": 67542609, "body": "Are you sure this isn&#39;t CoffeeScript you&#39;re talking about, which does have a difference?"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1476893690, "post_id": 40136444, "comment_id": 67543006, "body": "I am not using CoffeScript but typescript. I tried it in my webstorm with typescript and its not showing any error in case -&gt; function. So I am partially sure its in the typescript but I am not getting any reference about thin function for typescript"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1476894973, "post_id": 40136444, "comment_id": 67543725, "body": "As @toskv wrote, there&#39;s no such thing as <code>-&gt;</code> in typescript. Can you please edit your question and add the code that works for you and uses that?"}], "answers": [{"comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476897092, "post_id": 40137602, "comment_id": 67544877, "body": "It actually throws the same exception as playground: &quot;Expression expected&quot;"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 4, "last_activity_date": 1476896905, "creation_date": 1476896905, "answer_id": 40137602, "question_id": 40136444, "link": "https://stackoverflow.com/questions/40136444/what-is-the-difference-between-thin-arrow-and-fat-arrow-in-typescrip/40137602#40137602", "title": "what is the difference between thin arrow (-&gt;) and fat arrow ( =&gt; ) in typescript", "body": "<p>The fat arrow <code>=&gt;</code> preserves the <code>this</code> of the enclosing context. Otherwise it behaves like a normal function expression.</p>\n\n<p>The thin arrow <code>-&gt;</code> does not exist.</p>\n\n<p>It sounds like you're using Webstorm, which doesn't always provide 100% accurate error information.</p>\n"}], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1451, "favorite_count": 0, "accepted_answer_id": 40137602, "answer_count": 1, "score": 4, "last_activity_date": 1476896905, "creation_date": 1476892894, "question_id": 40136444, "link": "https://stackoverflow.com/questions/40136444/what-is-the-difference-between-thin-arrow-and-fat-arrow-in-typescrip", "title": "what is the difference between thin arrow (-&gt;) and fat arrow ( =&gt; ) in typescript", "body": "<p>In typescript there are two kind of arrow function, one is => (fat arrow) and another (->)thin arrow. My understanding is => function is used to to to use this scope and internal Closure. What the -> (thin arrow ) function do? </p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1476890686, "post_id": 40135135, "comment_id": 67541003, "body": "You&#39;re trying to perform a client-side calculation with a server-side timestamp. I don&#39;t think that will work."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1476890826, "post_id": 40135135, "comment_id": 67541115, "body": "See also <a href=\"http://stackoverflow.com/a/34719492/3731501\">stackoverflow.com/a/34719492/3731501</a>"}, {"owner": {"reputation": 4915, "user_id": 3073280, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PmdLQ.jpg?s=128&g=1", "display_name": "choopage - Jek Bao", "link": "https://stackoverflow.com/users/3073280/choopage-jek-bao"}, "edited": false, "score": 0, "creation_date": 1476890829, "post_id": 40135135, "comment_id": 67541119, "body": "What can I do to make it work on client-side?"}, {"owner": {"reputation": 4915, "user_id": 3073280, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PmdLQ.jpg?s=128&g=1", "display_name": "choopage - Jek Bao", "link": "https://stackoverflow.com/users/3073280/choopage-jek-bao"}, "edited": false, "score": 0, "creation_date": 1476891126, "post_id": 40135135, "comment_id": 67541318, "body": "After seeing estus posted link, I understand it now. I got a little hack to get this working with Angular2. Thanks."}], "owner": {"reputation": 4915, "user_id": 3073280, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PmdLQ.jpg?s=128&g=1", "display_name": "choopage - Jek Bao", "link": "https://stackoverflow.com/users/3073280/choopage-jek-bao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476927309, "creation_date": 1476889361, "last_edit_date": 1476927309, "question_id": 40135135, "link": "https://stackoverflow.com/questions/40135135/to-get-negativetimestamp-why-does-it-throw-nan-error-when-0-minus-a-positive-nu", "title": "To get negativeTimestamp, why does it throw NaN error when 0 minus a positive number?", "body": "<p>hero.ts</p>\n\n<pre><code>export class Hero {\n  name: string;\n  timestamp: number;\n  negativeTimestamp: number;\n\n  constructor() {\n    this.name = '';\n    this.timestamp = firebase.database['ServerValue']['TIMESTAMP'];\n    this.negativeTimestamp = 0 - firebase.database['ServerValue']['TIMESTAMP'];\n  }\n\n}\n</code></pre>\n\n<p>It throws error when I create an object from this class using new Hero();\nThe error message is </p>\n\n<blockquote>\n  <p>EXCEPTION: Uncaught (in promise): Error: Firebase.push failed: first\n  argument contains NaN in property\n  'heroes.zeNtSMyJGvdZkMcxXsdfwSsbmSBrv2.negativeTimestamp'</p>\n</blockquote>\n\n<p><code>this.timestamp</code> works. It generated a timestamp value in Firebase database. That is correct. But how to get a negativeTimestamp?</p>\n\n<p>My objective is to make timestamp from positive value to negative timestamp value. It's for using firebase descending ordering purpose.</p>\n"}, {"tags": ["typescript", "jasmine", "karma-runner"], "comments": [{"owner": {"reputation": 3080, "user_id": 6794233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb65fed9f6898f49650ab8c03335cfe1?s=128&d=identicon&r=PG&f=1", "display_name": "Sreekanth", "link": "https://stackoverflow.com/users/6794233/sreekanth"}, "edited": false, "score": 1, "creation_date": 1477254356, "post_id": 40134497, "comment_id": 67679399, "body": "would you mind sharing your files on plunkr to understand your project structure?"}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1477255435, "post_id": 40134497, "comment_id": 67679725, "body": "The tutorial you have referenced does not appear to use modules, but you are - your code has imports and exports. As such, I cannot see how this could be answered without using an additional karma plugin."}, {"owner": {"reputation": 369, "user_id": 183707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/60ba94c74aadb4f8105d1d97534a653a?s=128&d=identicon&r=PG", "display_name": "Jammer", "link": "https://stackoverflow.com/users/183707/jammer"}, "reply_to_user": {"reputation": 3080, "user_id": 6794233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb65fed9f6898f49650ab8c03335cfe1?s=128&d=identicon&r=PG&f=1", "display_name": "Sreekanth", "link": "https://stackoverflow.com/users/6794233/sreekanth"}, "edited": false, "score": 0, "creation_date": 1477416711, "post_id": 40134497, "comment_id": 67754603, "body": "@sreekanth I wasn&#39;t sure how to get this running on Plunker, because I&#39;m not sure how npm interacts with it. I&#39;m so sorry. I created a github repo that demonstrates the problem if that helps: <a href=\"https://github.com/jammerware/karma-question\" rel=\"nofollow noreferrer\">github.com/jammerware/karma-question</a>. Just clone, npm install, and npm test."}, {"owner": {"reputation": 369, "user_id": 183707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/60ba94c74aadb4f8105d1d97534a653a?s=128&d=identicon&r=PG", "display_name": "Jammer", "link": "https://stackoverflow.com/users/183707/jammer"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1477416800, "post_id": 40134497, "comment_id": 67754663, "body": "@cartant You make a good point. This could be the misunderstanding that&#39;s causing my problem. I saw in the tutorial that the author is making use of /// &lt;reference&gt; statements to expose the object under test, but I&#39;m not sure I really understand how that works. Sorry for the confusion - I&#39;m new to JS testing.  See the github repo I linked in a previous comment. If you were solving this problem, would you make use of a plugin? Would you use karma-browserify?  Thanks for your help and time."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 7287554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd04426223d321903d7665956fd93f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sune Monrad", "link": "https://stackoverflow.com/users/7287554/sune-monrad"}, "is_accepted": true, "score": 1, "last_activity_date": 1481580728, "creation_date": 1481580728, "answer_id": 41110574, "question_id": 40134497, "link": "https://stackoverflow.com/questions/40134497/typescript-karma-making-commonjs-available-to-karma-during-test-runs/41110574#41110574", "title": "Typescript/Karma: Making CommonJS available to Karma during test runs", "body": "<p>The problem seems to be, that you are using ECMAScript 5, which makes the transpiler use requirejs. To fix this target es6 and set the module to es6 or add the npm packages \"requirejs\" and \"karma-requirejs\".</p>\n"}], "owner": {"reputation": 369, "user_id": 183707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/60ba94c74aadb4f8105d1d97534a653a?s=128&d=identicon&r=PG", "display_name": "Jammer", "link": "https://stackoverflow.com/users/183707/jammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1159, "favorite_count": 1, "accepted_answer_id": 41110574, "answer_count": 1, "score": 2, "last_activity_date": 1481580728, "creation_date": 1476887787, "last_edit_date": 1495541637, "question_id": 40134497, "link": "https://stackoverflow.com/questions/40134497/typescript-karma-making-commonjs-available-to-karma-during-test-runs", "title": "Typescript/Karma: Making CommonJS available to Karma during test runs", "body": "<p>I'm trying to write unit tests in Typescript using Jasmine and running with Karma. I've read <a href=\"http://www.damirscorner.com/blog/posts/20160116-ContinuousTestingOfTypeScriptCode.html\" rel=\"nofollow noreferrer\">this tutorial</a> and saw <a href=\"https://stackoverflow.com/questions/19117092/jasmine-tests-in-karma-uncaught-referenceerror-require-is-not-defined\">this</a> question on SO, but my issue is persisting. </p>\n\n<p>When the Typescript compiler compiles my typescript into javascript, it uses the <code>require</code> syntax to import definitions from other files. When I run my compiled tests, I get an error similar to this one:</p>\n\n<p><code>\nUncaught ReferenceError: require is not defined\nat calculator.spec.js\n</code> </p>\n\n<p>From this, I'm theorizing that nothing that would define the <code>require</code> syntax is available at the time of the execution of my spec. However, what I'm not clear on is what I should do about it. One SO question suggested the use of karma-browserify, but I noticed that the tutorial above managed to get this working without that. Any help anyone could provide would be appreciated.</p>\n\n<p>Here are my files:</p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"karma-stuff\",\n  \"version\": \"0.1.0\",\n  \"description\": \"A thing that helps me test stuff\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"karma start\"\n  },\n  \"keywords\": [\n    \"help\"\n  ],\n  \"author\": \"me\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"jasmine\": \"^2.5.2\",\n    \"karma\": \"^1.3.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-typescript-preprocessor\": \"^0.3.0\",\n    \"tsc\": \"^1.20150623.0\"\n  }\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  }\n}\n</code></pre>\n\n<p><strong>typings.json</strong></p>\n\n<pre><code>{\n  \"globalDependencies\": {\n    \"core-js\": \"registry:dt/core-js#0.0.0+20160725163759\",\n    \"jasmine\": \"registry:dt/jasmine#2.5.0+20161003201800\",\n    \"node\": \"registry:dt/node#6.0.0+20160909174046\"\n  }\n}\n</code></pre>\n\n<p><strong>karma.conf.js</strong></p>\n\n<pre><code>module.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine'],\n    files: [\n      '*.spec.ts'\n    ],\n    preprocessors: {\n      '**/*.ts': ['typescript']\n    },\n\n    typescriptPreprocessor: {\n      options: {\n        sourceMap: true, // generate source maps\n        noResolve: false // enforce type resolution\n      },\n      transformPath: function(path) {\n        return path.replace(/\\.ts$/, '.js');\n      }\n    },\n    reporters: ['progress'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['Chrome'],\n    singleRun: false,\n    concurrency: Infinity\n  })\n}\n</code></pre>\n\n<p><strong>object under test: calculator.service.ts</strong></p>\n\n<pre><code>export class Calculator {\n  add(a: number, b: number): number  {\n    return a + b;\n  }\n}\n</code></pre>\n\n<p><strong>test itself: calculator.spec.ts</strong></p>\n\n<pre><code>import { Calculator } from './calculator.service';\n\ndescribe(\"A calculator\", function() {\n  it(\"adds integers correctly\", function() {\n    let things = new Calculator();\n    expect(things.add(1, 2)).toBe(3);\n  });\n});\n</code></pre>\n"}, {"tags": ["typescript", "google-chrome-extension", "webpack", "typescript2.0", "webpack-2"], "comments": [{"owner": {"reputation": 5503, "user_id": 1624684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04b21d9f85011c53930a4370a2e41e9b?s=128&d=identicon&r=PG", "display_name": "Sean Larkin", "link": "https://stackoverflow.com/users/1624684/sean-larkin"}, "edited": false, "score": 0, "creation_date": 1476887402, "post_id": 40134044, "comment_id": 67538482, "body": "Please post your configuration and version of webpack@2.1.0-beta"}, {"owner": {"reputation": 871, "user_id": 2136136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DpcD0.png?s=128&g=1", "display_name": "William S", "link": "https://stackoverflow.com/users/2136136/william-s"}, "reply_to_user": {"reputation": 5503, "user_id": 1624684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04b21d9f85011c53930a4370a2e41e9b?s=128&d=identicon&r=PG", "display_name": "Sean Larkin", "link": "https://stackoverflow.com/users/1624684/sean-larkin"}, "edited": false, "score": 0, "creation_date": 1477040843, "post_id": 40134044, "comment_id": 67612675, "body": "@SeanLarkin It&#39;s all there. :-D"}], "answers": [{"tags": [], "owner": {"reputation": 871, "user_id": 2136136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DpcD0.png?s=128&g=1", "display_name": "William S", "link": "https://stackoverflow.com/users/2136136/william-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1478856326, "last_edit_date": 1495542285, "creation_date": 1478784342, "answer_id": 40528778, "question_id": 40134044, "link": "https://stackoverflow.com/questions/40134044/webpack-2-x-does-webpack-public-path-still-work/40528778#40528778", "title": "Webpack 2.x, does __webpack_public_path__ still work?", "body": "<p>While Webpack is not letting me dynamically set public path, I resolved this by making the chrome extension ID more predictable, using the below stackoverflow answer (which by the way features other varied ways to go about this).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21497781/how-to-change-chrome-packaged-app-id-or-why-do-we-need-key-field-in-the-manifest\">How to change chrome packaged app id Or Why do we need key field in the manifest.json?</a></p>\n\n<blockquote>\n  <p>The ID is derived from the .pem file that was created the first time\n  you (or the Chrome Web Store) packed the extension in a .crx file.\n  When you load an extension in \"unpacked mode\", an ID is automatically\n  generated in an unpredictable way. The only way to control the\n  extension ID during development is by setting the \"key\" field in the\n  manifest file, as the documentation suggests.</p>\n  \n  <p>[... more info on getting the key in source url]</p>\n</blockquote>\n\n<p>And the following <a href=\"https://developer.chrome.com/apps/app_identity#copy_key\" rel=\"nofollow noreferrer\">google support page</a>.</p>\n\n<blockquote>\n  <p>Copy key to your manifest\n  When you register your application in the\n  Google OAuth console, you'll provide your application's ID, which will\n  be checked during token requests. Therefore it's important to have a\n  consistent application ID during development.</p>\n  \n  <p>To keep your application ID constant, you need to copy the key in the\n  installed manifest.json to your source manifest. It's not the most\n  graceful task, but here's how it goes:</p>\n  \n  <p>Go to your user data directory. Example on MacOs:\n  ~/Library/Application\\ Support/Google/Chrome/Default/Extensions List\n  the installed apps and extensions and match your app ID on the apps\n  and extensions management page to the same ID here. Go to the\n  installed app directory (this will be a version within the app ID).\n  Open the installed manifest.json (pico is a quick way to open the\n  file). Copy the \"key\" in the installed manifest.json and paste it into\n  your app's source manifest file.</p>\n</blockquote>\n"}], "owner": {"reputation": 871, "user_id": 2136136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DpcD0.png?s=128&g=1", "display_name": "William S", "link": "https://stackoverflow.com/users/2136136/william-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 40528778, "answer_count": 1, "score": 0, "last_activity_date": 1478856326, "creation_date": 1476886783, "last_edit_date": 1476943837, "question_id": 40134044, "link": "https://stackoverflow.com/questions/40134044/webpack-2-x-does-webpack-public-path-still-work", "title": "Webpack 2.x, does __webpack_public_path__ still work?", "body": "<p>I have a chrome extension with unstable, stable and nightly versions being released, and I need to be able to dynamically set the public path to the extension resources. I've been trying to add it in many ways, by a js entry directly into the webpack.config.js, importing from my ts entries, putting directly in the ts files..</p>\n\n<p>I just want __webpack_public_path__ to be changed globally to something which I can't count on to always be the same between builds.</p>\n\n<p>I have tried like this:</p>\n\n<pre><code>__webpack_public_path__ = chrome.extension.getURL(\"\");\nvar __webpack_public_path__ = chrome.extension.getURL(\"\");\nlet __webpack_public_path__ = chrome.extension.getURL(\"\");\nwindow.__webpack_public_path__ = chrome.extension.getURL(\"\");\n</code></pre>\n\n<p>Does anyone know if this has changed since Webpack 2.x?</p>\n\n<h2>Update!</h2>\n\n<p>This is my webpack.config.development.js</p>\n\n<pre><code>var path = require('path');\nvar CopyWebpackPlugin = require('copy-webpack-plugin');\nvar WebpackNotifierPlugin = require('webpack-notifier');\nvar RawLoader = require('raw-loader');\nvar CssLoader = require('css-loader');\nvar TextLoader = require('text-loader');\nvar VendorChunkPlugin = require('webpack-vendor-chunk-plugin');\nvar webpack = require('webpack');\nvar ngtools = require('@ngtools/webpack');\nvar exec = require('child_process').exec;\n\nvar webpack_devtool = \"source-map\";\nvar webpack_name = \"development\";\nvar webpack_build_title = \"Webpack Development Build\";\nvar webpack_app_dir = \"app\";\nvar webpack_build_dir = \"build\";\nvar webpack_public_path = \"\"\n\nmodule.exports = [\n    {\n        name: webpack_name,\n        devtool: webpack_devtool,\n        context: path.join(__dirname, webpack_app_dir),\n        entry: {\n            \"webpack-setups\": './webpack-setups.js',\n            \"fa\": \"font-awesome-webpack2!./font-awesome.config.js\",\n            \"content_script\": './hp.my.content_script.com_console.ts',\n            \"content_script2\": './hp.my.content_script2.ts',\n            \"popup\": './popup.ts',\n        },\n        output: {\n            path: path.join(__dirname, webpack_build_dir),\n            filename: '[name].bundle.js',\n            publicPath: webpack_public_path\n        },\n        resolve: {\n            modules: [\n                path.resolve(__dirname, \"app\"),\n                \"node_modules\",\n                \"modded_node_modules\"\n            ],\n            extensions: [\".webpack.js\", \".web.js\", \".js\", \".ts\"]\n        },\n        plugins: [\n            function () {\n                this.plugin('watch-run', function (watching, callback) {\n                    console.log('Watch triggered! Begin compile at ' + new Date());\n                    callback();\n                });\n                this.plugin('done', function () {\n                    console.log('Finished compile at ' + new Date());\n                });\n            },\n            new WebpackNotifierPlugin({ title: webpack_build_title })\n        ],\n        module: {\n            rules: [\n                {\n                    test: /\\.ts$/,\n                    use: [\"ts-loader\"]\n                },\n                { test: /\\.css$/, use: [\"style\", \"css\"] },\n                { test: /\\.jpe?g$|\\.gif$|\\.png$/, use: \"url\" },\n                { test: /\\.html/, use: 'file?name=[path][name].[ext]' },\n                { test: /\\.woff(2)?(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/, loader: \"url-loader?limit=10000&amp;minetype=application/font-woff\" },\n                { test: /\\.(ttf|eot|svg)(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/, loader: \"file-loader\" }\n            ]\n        }\n    }\n];\n</code></pre>\n\n<p>Contents of webpack-setups.js</p>\n\n<pre><code>__webpack_public_path__ = chrome.extension.getURL(\"\");\n</code></pre>\n\n<p>package.json snippet:</p>\n\n<pre><code>\"webpack\": \"^2.1.0-beta.25\",\n\"webpack-manifest-plugin\": \"^1.0.1\",\n\"webpack-notifier\": \"^1.4.1\",\n\"webpack-shell-plugin\": \"^0.4.3\",\n\"webpack-vendor-chunk-plugin\": \"^1.0.0\",\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "gulp", "electron"], "answers": [{"tags": [], "owner": {"reputation": 714, "user_id": 2610314, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/1692202410/picture?type=large", "display_name": "Vladimir Melekh", "link": "https://stackoverflow.com/users/2610314/vladimir-melekh"}, "is_accepted": true, "score": 1, "last_activity_date": 1478530694, "creation_date": 1478530694, "answer_id": 40468197, "question_id": 40133687, "link": "https://stackoverflow.com/questions/40133687/angular2-error-in-electron-app-no-provider-for-platformref/40468197#40468197", "title": "Angular2 error in Electron app: No Provider for PlatformRef", "body": "<p>My problem was that one of the files contained reference to 'q-io/fs' npm. As soon as I removed this usage, angular started working. Very strange..</p>\n"}], "owner": {"reputation": 714, "user_id": 2610314, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/1692202410/picture?type=large", "display_name": "Vladimir Melekh", "link": "https://stackoverflow.com/users/2610314/vladimir-melekh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 1, "accepted_answer_id": 40468197, "answer_count": 1, "score": 3, "last_activity_date": 1478530694, "creation_date": 1476885977, "last_edit_date": 1495541873, "question_id": 40133687, "link": "https://stackoverflow.com/questions/40133687/angular2-error-in-electron-app-no-provider-for-platformref", "title": "Angular2 error in Electron app: No Provider for PlatformRef", "body": "<p>I'm trying to run very basic angular2 stuff in my existing electron application.\nTypescript files are successfully compiled into js code, electron is running fine. All needed files are included in index.html. But I always have an error during app start - <strong>No Provider for PlatformRef!</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/dNTLF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNTLF.png\" alt=\"No provider for PlatformRef!\"></a></p>\n\n<p>I have already checked this link: <a href=\"https://stackoverflow.com/questions/39166649/no-provider-for-platformref-error-after-upgrading-to-angular2-rc5-in-ie10\">No provider for PlatformRef error after upgrading to Angular2 RC5 in IE10</a></p>\n\n<p>I don't have es6-shim dependency, my version of TS package is 2.0.3(latest). </p>\n\n<p>Here is what I have.</p>\n\n<p>system.config.js</p>\n\n<pre><code>(function (global) {\n    System.config({\n        paths: {\n            // paths serve as alias\n            'npm:': '../node_modules/'\n        },\n        // map tells the System loader where to look for things\n        map: {\n            // our app is within the app folder\n            'app': 'app',\n            'main': 'app/main.bootstrap.js',\n\n            // angular bundles\n            '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n            '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n            '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n            '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n            '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n            '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n            '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\n            '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n            'rxjs': 'npm:rxjs',\n        },\n        // packages tells the System loader how to load when no filename and/or no extension\n        packages: {\n            app: {\n                main: './main.bootstrap.js',\n                defaultExtension: 'js'\n            },\n            rxjs: {\n                defaultExtension: 'js'\n            }\n        }\n    });\n})(this);\n</code></pre>\n\n<p>main.bootstrap.ts:</p>\n\n<pre><code>import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './components2/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n</code></pre>\n\n<p>app.module.ts:</p>\n\n<pre><code>import {NgModule} from '@angular/core'\nimport {BrowserModule} from '@angular/platform-browser'\nimport {FormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {HttpModule} from '@angular/http';\n\nimport {AppComponent} from './app.component';\nimport {DashboardComponent} from './dashboard.component';\n\nimport './rxjs-extensions';\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule,\n        RouterModule.forRoot([\n            {\n                path: 'dashboard',\n                component: DashboardComponent\n            },\n            {\n                path: '',\n                redirectTo: '/dashboard',\n                pathMatch: 'full'\n            }\n        ])\n    ],\n    declarations: [\n        AppComponent,\n        DashboardComponent\n    ],\n    bootstrap: [ AppComponent ]\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p>app.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'my-app',\n    template: '&lt;h1&gt;{{title}}&lt;/h1&gt;&lt;div class=\"header-bar\"&gt;&lt;/div&gt;',\n    styleUrls: ['']\n})\nexport class AppComponent implements OnInit {\n    //component initialization\n    ngOnInit() {\n        //check authentication\n    }\n\n    title = 'Test';\n}\n</code></pre>\n\n<p>Index.jade:</p>\n\n<pre><code>doctype html\nhtml\n    head(lang=\"en\")\n        meta(charset=\"UTF-8\")\n        title\n        ....\n        script(type='text/javascript').\n            System.import('systemjs.config.js').then(function () {\n                System.import('main');\n            }).catch(console.error.bind(console));\n    body\n        my-app\n</code></pre>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 1053785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab3c9e54f78ff908499d7208f5af098c?s=128&d=identicon&r=PG", "display_name": "gadeynebram", "link": "https://stackoverflow.com/users/1053785/gadeynebram"}, "edited": false, "score": 0, "creation_date": 1476887883, "post_id": 40133871, "comment_id": 67538872, "body": "Thank you for this extended explenation. Unfortunately it&#39;s still not entirely clear to me. When I define services or controllers in the same way (functions defined outside the constructor), the generated code also contains methods who are created on the prototype and where &quot;this&quot; references the instantiated class properties. In this case it seems like &quot;this&quot; in the link function is only scoped to the function itself and not the enclosing class."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 665, "user_id": 1053785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab3c9e54f78ff908499d7208f5af098c?s=128&d=identicon&r=PG", "display_name": "gadeynebram", "link": "https://stackoverflow.com/users/1053785/gadeynebram"}, "edited": false, "score": 0, "creation_date": 1476888398, "post_id": 40133871, "comment_id": 67539290, "body": "Revised my answer. Take a look."}, {"owner": {"reputation": 665, "user_id": 1053785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab3c9e54f78ff908499d7208f5af098c?s=128&d=identicon&r=PG", "display_name": "gadeynebram", "link": "https://stackoverflow.com/users/1053785/gadeynebram"}, "edited": false, "score": 0, "creation_date": 1476948444, "post_id": 40133871, "comment_id": 67565336, "body": "Thank you! The problem here is that it is angular who calls the link function so it should execute the bind method but I don&#39;t think it does that. So I think it is best here to stay with the version that is created in the constructor."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 665, "user_id": 1053785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab3c9e54f78ff908499d7208f5af098c?s=128&d=identicon&r=PG", "display_name": "gadeynebram", "link": "https://stackoverflow.com/users/1053785/gadeynebram"}, "edited": false, "score": 0, "creation_date": 1476950344, "post_id": 40133871, "comment_id": 67566496, "body": "You can have a class method (which is declared outside of the ctor) and then bind it in the ctor: <code>this.myMethod = this.myMethod.bind(this)</code> and then you get to enjoy both worlds"}, {"owner": {"reputation": 665, "user_id": 1053785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab3c9e54f78ff908499d7208f5af098c?s=128&d=identicon&r=PG", "display_name": "gadeynebram", "link": "https://stackoverflow.com/users/1053785/gadeynebram"}, "edited": false, "score": 0, "creation_date": 1476954280, "post_id": 40133871, "comment_id": 67569039, "body": "Found this interesting <a href=\"http://blog.aaronholmes.net/writing-angularjs-directives-as-typescript-classes/\" rel=\"nofollow noreferrer\">post</a>"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1476888386, "last_edit_date": 1476888386, "creation_date": 1476886368, "answer_id": 40133871, "question_id": 40133636, "link": "https://stackoverflow.com/questions/40133636/what-is-the-difference-in-typescript-between-defining-a-method-in-the-constructo/40133871#40133871", "title": "What is the difference in typescript between defining a method in the constructor or as a regular class method?", "body": "<p>Defining the function in the constructor creates, as you wrote, a class property, and it's assigned to the instance only.<br>\nA class method on the other hand is defined on the prototype:</p>\n\n<pre><code>class A {\n    fn2: () =&gt; void;\n\n    constructor() {\n        this.fn2 = () =&gt; {\n            console.log(\"A.fn2\");\n        };\n    }\n\n    fn1(): void {\n        console.log(\"A.fn1\");\n    }\n}\n</code></pre>\n\n<p>Compiles into:</p>\n\n<pre><code>var A = (function () {\n    function A() {\n        this.fn2 = function () {\n            console.log(\"A.fn2\");\n        };\n    }\n    A.prototype.fn1 = function () {\n        console.log(\"A.fn1\");\n    };\n    return A;\n}());\n</code></pre>\n\n<p>Using the instance function is problematic if you want to override the function in a derived class:</p>\n\n<pre><code>class B extends A {\n    constructor() {\n        super();\n\n        this.fn2 = () =&gt; {\n            super.fn2(); // Error: Only public and protected methods of the base class are accessible via the 'super' keyword\n            console.log(\"B.fn2\");\n        };\n    }\n\n    fn1(): void {\n        super.fn1();\n        console.log(\"A.fn1\");\n    }\n}\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/#src=class%20A%20%7B%0D%0A%20%20%20%20fn2%3A%20()%20%3D%3E%20void%3B%0D%0A%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.fn2%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22A.fn2%22)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20fn1()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%22A.fn1%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20B%20extends%20A%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20super()%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.fn2%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20super.fn2()%3B%20%2F%2F%20Error%3A%20Only%20public%20and%20protected%20methods%20of%20the%20base%20class%20are%20accessible%20via%20the%20&#39;super&#39;%20keyword%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22B.fn2%22)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20fn1()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20super.fn1()%3B%0D%0A%20%20%20%20%20%20%20%20console.log(%22A.fn1%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow\">code in playground</a>)</p>\n\n<p>You can save a reference for the previous <code>this.fn2</code> before assigning the new function (in <code>B</code>) so that you'll have a super to call, but that isn't very comfortable.</p>\n\n<p>The plus of course (if you're using arrow functions) is that the functions are bound to the right <code>this</code> out of the box.  </p>\n\n<p>It's up to you to decide what's more important to you, I prefer the methods way, and if I pass them as callbacks then I just <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow\">bind them</a>.</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>The right <code>this</code> should always be correct when you invoke the methods regularly:</p>\n\n<pre><code>class A {\n    bound: () =&gt; void;\n\n    constructor() {\n        this.bound = () =&gt; {\n            console.log(\"bound: \", this);\n        };\n    }\n\n    unbound(): void {\n        console.log(\"unbound: \", this);\n    }\n}\n\nlet a1 = new A();\na1.bound(); // A {}\na1.unbound(); // A {}\n</code></pre>\n\n<p>As expected, <code>this</code> here is the instance of <code>A</code>, but:</p>\n\n<pre><code>function later(fn: Function) {\n    setTimeout(fn, 100);\n}\n\nlater(a1.bound); // A {}\nlater(a1.unbound); // Window { ... }\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/#src=class%20A%20%7B%0D%0A%20%20%20%20bound%3A%20()%20%3D%3E%20void%3B%0D%0A%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.bound%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22bound%3A%20%22%2C%20this)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20unbound()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%22unbound%3A%20%22%2C%20this)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Alet%20a1%20%3D%20new%20A()%3B%0D%0Aa1.bound()%3B%20%2F%2F%20A%20%7B%7D%0D%0Aa1.unbound()%3B%20%2F%2F%20A%20%7B%7D%0D%0A%0D%0Afunction%20later(fn%3A%20Function)%20%7B%0D%0A%20%20%20%20setTimeout(fn%2C%20100)%3B%0D%0A%7D%0D%0A%0D%0Alater(a1.bound)%3B%20%2F%2F%20A%20%7B%7D%0D%0Alater(a1.unbound)%3B%20%2F%2F%20Window%20%7B%20...%20%7D\" rel=\"nofollow\">code in playground</a>)</p>\n\n<p>As you can see here, when invoking <code>a1.unbound</code> using a <code>setTimeout</code> (or if you pass it as a callback) then <code>this</code> isn't the instance of <code>A</code>.<br>\nThat can be fixed like so:</p>\n\n<pre><code>later(a1.unbound.bind(a1)); // A {}\n</code></pre>\n"}], "owner": {"reputation": 665, "user_id": 1053785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab3c9e54f78ff908499d7208f5af098c?s=128&d=identicon&r=PG", "display_name": "gadeynebram", "link": "https://stackoverflow.com/users/1053785/gadeynebram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 40133871, "answer_count": 1, "score": 0, "last_activity_date": 1476888386, "creation_date": 1476885841, "question_id": 40133636, "link": "https://stackoverflow.com/questions/40133636/what-is-the-difference-in-typescript-between-defining-a-method-in-the-constructo", "title": "What is the difference in typescript between defining a method in the constructor or as a regular class method?", "body": "<p>I'm migrating a angular 1 application from javascript to typescript. Actually everything is done but I can't get my head arround one specific case.</p>\n\n<p>I have some directives that use a link function.</p>\n\n<p>in pseudocode:</p>\n\n<pre><code>class SomeDirective implements ng.IDirective{\n    static $inject=['someService'];\n    public restrict: string='EA';\n    public scope: any;\n    constructor(private someService: SomeService){\n        this.scope={\n            data: '='\n        }\n    }\n}\n</code></pre>\n\n<p>now I want to Define a link function like</p>\n\n<pre><code>public link(scope, ele, attrs){\n     do some action with this.someService.someField\n}\n</code></pre>\n\n<p>If I define this method in the class then I get an error: property 'someField' not found on undefined.</p>\n\n<p>If I define the method as follows in the constructor then it does work. What is the difference?</p>\n\n<pre><code>this.link=(scope,ele,attrs)=&gt;{\n    do some action with this.someService.someField\n}\n</code></pre>\n\n<p>link is defined here as a class property of type any.</p>\n"}, {"tags": ["typescript", "ecmascript-6", "systemjs", "circular-dependency"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1476885989, "post_id": 40133230, "comment_id": 67537267, "body": "does this help? <a href=\"https://github.com/systemjs/systemjs/issues/1272\" rel=\"nofollow noreferrer\">github.com/systemjs/systemjs/issues/1272</a>"}, {"owner": {"reputation": 1518, "user_id": 746000, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/aa8275dd59a8095ad47d97ecf450c2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/746000/chris"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1476886875, "post_id": 40133230, "comment_id": 67537997, "body": "Thanks, that is potentially relevant, but our issue is only with our own typescript classes, so we can build them all for a single module loader/framework."}], "owner": {"reputation": 1518, "user_id": 746000, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/aa8275dd59a8095ad47d97ecf450c2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/746000/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476884788, "creation_date": 1476884788, "question_id": 40133230, "link": "https://stackoverflow.com/questions/40133230/does-es6-target-allow-typescript-systemjs-to-support-circular-references", "title": "Does ES6 target allow typescript + systemjs to support circular references?", "body": "<p>I know similar questions have been asked before (e.g., <a href=\"https://stackoverflow.com/questions/24444436/circular-type-references-in-typescript\">1</a>, <a href=\"https://stackoverflow.com/questions/37306749/typescript-inheritance-and-circular-dependencies-in-systemjs\">2</a>). However, they do not mention ES6, which the systemjs docs imply is a solution to the problem (<a href=\"https://github.com/systemjs/systemjs/blob/ee392b91a54cb2865d4aa10b1d2843eb501185d3/docs/module-formats.md\" rel=\"nofollow\">3</a>).</p>\n\n<p>So my question is: If I tell the typescript compiler to target ES6 and emit \"system\" modules, and use systemjs as my module loader, will that support circular dependencies?</p>\n\n<p>If not, any approaches that supports circular dependencies in Typescript are welcome (via whatever transpiler, loader, etc., are required).</p>\n\n<p>(I have already seen advice to modify the code to remove circular dependencies. It would be very harmful to our system design and I would like to avoid it.)</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 3773, "user_id": 5232122, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/87ae151f27d7e84ac4f08d35f12a9d67?s=128&d=identicon&r=PG&f=1", "display_name": "Velidan", "link": "https://stackoverflow.com/users/5232122/velidan"}, "edited": false, "score": 2, "creation_date": 1476885697, "post_id": 40132255, "comment_id": 67537022, "body": "probably it because I didn&#39;t have any routing for my encounters.module"}, {"owner": {"reputation": 104, "user_id": 3788177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRYen.jpg?s=128&g=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/3788177/frank"}, "edited": false, "score": 0, "creation_date": 1476904819, "post_id": 40132255, "comment_id": 67549505, "body": "Possibly try removing comments. When I updated my router to current in the application I was working on I commented a bunch of stuff out from the old router because I didn&#39;t want to lose it. After removing comments some of the strange errors went away.  Although I had all of my comments at the top of my code so I am not sure if that applies here."}, {"owner": {"reputation": 3773, "user_id": 5232122, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/87ae151f27d7e84ac4f08d35f12a9d67?s=128&d=identicon&r=PG&f=1", "display_name": "Velidan", "link": "https://stackoverflow.com/users/5232122/velidan"}, "reply_to_user": {"reputation": 104, "user_id": 3788177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRYen.jpg?s=128&g=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/3788177/frank"}, "edited": false, "score": 0, "creation_date": 1476963469, "post_id": 40132255, "comment_id": 67575505, "body": "Thanks Frank for your help!"}, {"owner": {"reputation": 104, "user_id": 3788177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRYen.jpg?s=128&g=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/3788177/frank"}, "edited": false, "score": 0, "creation_date": 1476986632, "post_id": 40132255, "comment_id": 67591751, "body": "Glad that worked! I posted the answer so people can find it easier.  That same problem had me stumped for almost a whole day when I was updating."}], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 3788177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRYen.jpg?s=128&g=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/3788177/frank"}, "is_accepted": false, "score": 1, "last_activity_date": 1476986542, "creation_date": 1476986542, "answer_id": 40161453, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2/40161453#40161453", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<p>Try removing comments. When I updated my router to current in the application I was working on I commented a bunch of stuff out from the old router because I didn't want to lose it. After removing comments some of the strange errors went away. </p>\n"}, {"comments": [{"owner": {"reputation": 5046, "user_id": 2132421, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xx66M.jpg?s=128&g=1", "display_name": "LastTribunal", "link": "https://stackoverflow.com/users/2132421/lasttribunal"}, "edited": false, "score": 1, "creation_date": 1499382538, "post_id": 41240017, "comment_id": 76895719, "body": "go f&#39;n figure!!"}, {"owner": {"reputation": 8565, "user_id": 4221433, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/19e2y.jpg?s=128&g=1", "display_name": "Vikas Bansal", "link": "https://stackoverflow.com/users/4221433/vikas-bansal"}, "edited": false, "score": 7, "creation_date": 1508606250, "post_id": 41240017, "comment_id": 80679256, "body": "God bless you. Have a blissful life my friend. I was trying to find the error from 1 hour almost and you saved my <code>n</code> numbers of hours :D"}, {"owner": {"reputation": 3448, "user_id": 95242, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/mzfoi.jpg?s=128&g=1", "display_name": "Michael Dausmann", "link": "https://stackoverflow.com/users/95242/michael-dausmann"}, "edited": false, "score": 0, "creation_date": 1519337766, "post_id": 41240017, "comment_id": 84883183, "body": "Yep, this is definitely a module import/loading issue, also be careful with order of imports in the referenced module, I had random and annoying issues with the placement of the CommonModule."}, {"owner": {"reputation": 359, "user_id": 2652511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca2561336b8240c7d894f6647c642a21?s=128&d=identicon&r=PG", "display_name": "Graham Fowles", "link": "https://stackoverflow.com/users/2652511/graham-fowles"}, "edited": false, "score": 0, "creation_date": 1529672008, "post_id": 41240017, "comment_id": 88971309, "body": "thanks, i got this error when i accidentally remove the import for my routing module. had no idea what it was about :)"}, {"owner": {"reputation": 404, "user_id": 2432724, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YQ8WR.jpg?s=128&g=1", "display_name": "Aaron Jessen", "link": "https://stackoverflow.com/users/2432724/aaron-jessen"}, "edited": false, "score": 0, "creation_date": 1539509439, "post_id": 41240017, "comment_id": 92521412, "body": "I second the comment by @VikasBansat. God Bless you for figuring this out...I&#39;ve been seeking an answer to this one for days!"}], "tags": [], "owner": {"reputation": 1476, "user_id": 6838923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SK0Uo.jpg?s=128&g=1", "display_name": "Marek Dulowski", "link": "https://stackoverflow.com/users/6838923/marek-dulowski"}, "is_accepted": false, "score": 89, "last_activity_date": 1482229401, "creation_date": 1482229401, "answer_id": 41240017, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2/41240017#41240017", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<h1>loadChildren needs to reference module with routing</h1>\n\n<p>By assigning a value to loadChildren property inside a route, you have to reference a module, which has a routing system implemented. In other words reference only a module that imports RoutingModule and configures it with forChild(routes) method.</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n// import { CommonModule } from '@angular/common';\n/* ---------------  !System modules  --------------- */\n\nimport { SharedModule } from 'sharedModule';   //There is  a lot of shared components/directives/pipes (over 60) and it re-exports CommonModule so I can't avoid it\n/* ---------------  !App outer modules  --------------- */\n\n\nimport { EncountersComponent } from './encounters.component';\n// import { PassCodeComponent } from '../../shared/components/passcode/passcode.component';\n\nexport const encountersModuleRoutes: Routes = [\n  /* configure routes here */\n];\n\n\n@NgModule({\n  imports: [ SharedModule, RouterModule.forChild(encountersModuleRoutes) ],\n  declarations: [ EncountersComponent],\n  exports: [ EncountersComponent ],\n})\n\n\nexport class EncountersModule {  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 772, "user_id": 1154271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TNEoD.jpg?s=128&g=1", "display_name": "Readren", "link": "https://stackoverflow.com/users/1154271/readren"}, "is_accepted": false, "score": 15, "last_activity_date": 1501920375, "last_edit_date": 1501920375, "creation_date": 1484119485, "answer_id": 41584972, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2/41584972#41584972", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<p>I am not sure because it is not explicitly mentioned in the documentation (2.4.2), but from the examples in the \"Angular Modules\" and \"Routing &amp; Navigation\" guides, I have induced the following pattern:</p>\n\n<ul>\n<li>The lazy module should have his own routing module.</li>\n<li>The routes array defined in the \"lazy-routing.module\" should have a single element; the <code>path</code> property of that element should be an empty string; the <code>component</code> property should be defined (necessary when the lazy module provides any service in order to injection works well) and the template of the referenced component should have an element with the <code>&lt;router-outlet&gt;</code> directive. This route usually has a <code>children</code> property.</li>\n<li>The value of the <code>path</code> property of the lazy route defined in the \"app-routing.module\" (\"lazyModulePrefix\" in my example) would be the prefix of all the paths defined in the \".lazy-routing.module\".</li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>///////////// app-routing.module.ts /////////////////////\nimport { NgModule  } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './login/login.component';\nimport { PageNotFoundComponent } from './page-not-found.component';\n\nconst appRoutes: Routes = [\n  { path: 'login', component: LoginComponent },\n  { path: 'lazyModulePrefix', loadChildren: 'app/lazyModulePath/lazy.module#LazyModule' }, // \n  { path: '', redirectTo: 'login', pathMatch: 'full'},\n  { path: '**', component: PageNotFoundComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(appRoutes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>///////////// lazy-routing.module.ts /////////////////////\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LazyModuleRootComponent } from './lazy-module-root.component';\nimport { LazyModuleHomeComponent } from './lazy-module-home.component';\nimport { AComponentDeclaredInTheLazyModule1 } from './a-component-declared-in-the-lazy-module-1.component';\nimport { AComponentDeclaredInTheLazyModule2 } from './a-component-declared-in-the-lazy-module-2.component';\n\nconst lazyModuleRoutes: Routes = [ // IMPORTANT: this array should contain a single route element with an empty path. And optionally, as many children as desired.\n    { path: '',\n      component: LazyModuleRootComponent, // the `component` property is necessary when the lazy module provides some service in order to injection work well. If defined, the referenced component's template should have an element with the `&lt;router-outlet&gt;` directive.\n      children: [ \n        { path: '', component: LazyModuleHomeComponent }, // this component has no diference with the other children except for the shorter route.\n        { path: 'somePath1', component: AComponentDeclaredInTheLazyModule1 },\n        { path: 'somePath2', component: AComponentDeclaredInTheLazyModule2 },\n    ] } \n];\n\n@NgModule({\n    imports: [RouterModule.forChild(lazyModuleRoutes)],\n    exports: [RouterModule]\n})\nexport class LazyRoutingModule { }\n</code></pre>\n\n<p>.</p>\n\n<pre><code>//////////////////// lazy.module.ts ////////////////////\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SharedModule } from '../shared/shared.module';\nimport { LazyRoutingModule } from './lazy-routing.module';\nimport { LazyModuleRootComponent } from './lazy-module-root.component';\nimport { LazyModuleHomeComponent } from './lazy-module-home.component';\nimport { AComponentDeclaredInTheLazyModule1 } from './a-component-declared-in-the-lazy-module-1.component';\nimport { AComponentDeclaredInTheLazyModule2 } from './a-component-declared-in-the-lazy-module-2.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        SharedModule,\n        LazyRoutingModule,\n    ],\n    declarations: [\n        LazyModuleRootComponent,\n        LazyModuleHomeComponent,\n        AComponentDeclaredInTheLazyModule1,\n        AComponentDeclaredInTheLazyModule2,\n    ]\n})\nexport class LazyModule { }\n</code></pre>\n\n<p>.</p>\n\n<pre><code>//////////////// lazy-module-root.component.ts //////////////////\nimport { Component } from '@angular/core';\n\n@Component({\n    template: '&lt;router-outlet&gt;&lt;/router-outlet&gt;'\n})\nexport class LazyModueRootComponent { }\n</code></pre>\n\n<p>With the above code, the routes mapping would be:</p>\n\n<p><a href=\"http://host/login\" rel=\"noreferrer\">http://host/login</a> -> LoginComponent</p>\n\n<p><a href=\"http://host/lazyModulePrefix\" rel=\"noreferrer\">http://host/lazyModulePrefix</a> -> LazyModuleHomeComponent</p>\n\n<p><a href=\"http://host/lazyModulePrefix/somePath1\" rel=\"noreferrer\">http://host/lazyModulePrefix/somePath1</a> -> AComponentDeclaredInTheLazyModule1</p>\n\n<p><a href=\"http://host/lazyModulePrefix/somePath2\" rel=\"noreferrer\">http://host/lazyModulePrefix/somePath2</a> -> AComponentDeclaredInTheLazyModule2</p>\n\n<p><a href=\"http://host/anythingElse\" rel=\"noreferrer\">http://host/anythingElse</a> -> PageNotFoundComponent</p>\n"}, {"tags": [], "owner": {"reputation": 7739, "user_id": 2473505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Duik4.png?s=128&g=1", "display_name": "Hari Das", "link": "https://stackoverflow.com/users/2473505/hari-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1546180397, "creation_date": 1546180397, "answer_id": 53978481, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2/53978481#53978481", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<p>I was facing same issue and I had everything correct. The following worked for me</p>\n\n<ol>\n<li>Stop the angular server</li>\n<li>Start the server again with <code>ng serve</code></li>\n</ol>\n\n<p>It started working again spontaneously. First make sure you have everything correct as mentioned in other answers and then try this.</p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 7558946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wl55B.gif?s=128&g=1", "display_name": "Mieszcza\u0144czyk S.", "link": "https://stackoverflow.com/users/7558946/mieszcza%c5%84czyk-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1561549582, "creation_date": 1561549582, "answer_id": 56772066, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2/56772066#56772066", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<p>Above answers are good. Check out your imports - probably you forgot to import module. You can also check your typescript package version. In my case in Angular 5, I had a warning in CLI:</p>\n\n<blockquote>\n  <p>@angular/compiler-cli@5.2.11 requires typescript@'>=2.4.2 &lt;2.5.0' but 2.5.3 was found instead.\n  Using this version can result in undefined behaviour and difficult to debug problems.\n  Please run the following command to install a compatible version of TypeScript.</p>\n</blockquote>\n\n<pre><code>npm install typescript@'&gt;=2.4.2 &lt;2.5.0' --save\n</code></pre>\n\n<p>This can also make errors.</p>\n"}, {"tags": [], "owner": {"reputation": 1344, "user_id": 9026103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mBXUBI7N6-c/AAAAAAAAAAI/AAAAAAAAAZc/RF_lKrPO5Tg/photo.jpg?sz=128", "display_name": "Kurkov Igor", "link": "https://stackoverflow.com/users/9026103/kurkov-igor"}, "is_accepted": false, "score": 7, "last_activity_date": 1573680707, "creation_date": 1573680707, "answer_id": 58845932, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2/58845932#58845932", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<p>Long story short: \nI met this error when didn't insert (forgot) child routes to the feature module:</p>\n\n<p>landings.routing.ts\n<code>export const LandingsRoutes = RouterModule.forChild(routes);</code></p>\n\n<p>landings.module.ts</p>\n\n<pre><code>imports: [\n    CommonModule,\n    // LandingsRoutes // &lt;-- this I forgot and receive error Callstack exceeded\n  ]\n</code></pre>\n\n<p>If you don't export the routing module as a module - you need to export the only router with routes. Only forgotten things cause errors</p>\n"}, {"tags": [], "owner": {"reputation": 1610, "user_id": 9570401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EfUT.jpg?s=128&g=1", "display_name": "Inamur Rahman", "link": "https://stackoverflow.com/users/9570401/inamur-rahman"}, "is_accepted": false, "score": 2, "last_activity_date": 1583316904, "creation_date": 1583316904, "answer_id": 60523701, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2/60523701#60523701", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<p>I had the same error. I had four modules inside my angular app.</p>\n\n<pre><code>ERROR in Maximum call stack size exceeded\n</code></pre>\n\n<p><strong>My Error</strong></p>\n\n<p>I had created a routing file inside a module manually and that file was not imported in module.ts file. So you need to import the routing file in your module.ts file.</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserLoginComponent } from './user-login/user-login.component';\nimport { UserSignupComponent } from './user-signup/user-signup.component';\nimport { PublicComponent } from './public/public.component';\nimport { PublicRoutingModule } from './public-routing.modue'; //import it first\n\n@NgModule({\n  declarations: [UserLoginComponent, UserSignupComponent, PublicComponent],\n  imports: [\n    CommonModule,\n    PublicRoutingModule // I was missing this line\n  ]\n})\nexport class PublicModule { }\n</code></pre>\n\n<p><strong>Alert:</strong> <em>This module file is not app.module.ts</em></p>\n"}], "owner": {"reputation": 3773, "user_id": 5232122, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/87ae151f27d7e84ac4f08d35f12a9d67?s=128&d=identicon&r=PG&f=1", "display_name": "Velidan", "link": "https://stackoverflow.com/users/5232122/velidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49702, "favorite_count": 8, "answer_count": 7, "score": 44, "last_activity_date": 1597413019, "creation_date": 1476882313, "last_edit_date": 1476884368, "question_id": 40132255, "link": "https://stackoverflow.com/questions/40132255/rangeerror-maximum-call-stack-size-exceeded-lazy-routing-angular-2", "title": "RangeError: Maximum call stack size exceeded Lazy routing Angular 2", "body": "<p>I'm trying to implement lazy routing into my app.</p>\n\n<p>I have a very big project and when it was at router-deprecated I used AsyncRoute, but now it was removed. </p>\n\n<p>So I tried to implement newest lazy loading, but I got an issue\n<strong>RangeError: Maximum call stack size exceeded</strong>\nWhat I'm doing wrong? I did all code like in instructions.</p>\n\n<p>Take a look please</p>\n\n<p><strong>EncountersModule</strong></p>\n\n<pre><code>    import { NgModule } from '@angular/core';\n    // import { CommonModule } from '@angular/common';\n    /* ---------------  !System modules  --------------- */\n\n    import { SharedModule } from 'sharedModule';   //There is  a lot of shared components/directives/pipes (over 60) and it re-exports CommonModule so I can't avoid it\n    /* ---------------  !App outer modules  --------------- */\n\n\n    import { EncountersComponent } from './encounters.component';\n    // import { PassCodeComponent } from '../../shared/components/passcode/passcode.component';\n\n\n    @NgModule({\n      imports: [ SharedModule ],\n      declarations: [ EncountersComponent],\n      exports: [ EncountersComponent ],\n    })\n\n\n    export class EncountersModule {  }\n</code></pre>\n\n<p>Here is my <strong>app.routing.module</strong></p>\n\n<pre><code>import { NgModule }     from '@angular/core';\n// import { ModuleWithProviders }  from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nimport { ImagingComponent }      from '../modules/index';\nimport { DashboardComponent }      from '../modules/index';\nimport { PrescriptionNoticesComponent }      from '../modules/index';\n// import { EncountersComponent } from \"../modules/encounters/encounters.component\";\nimport { ScheduleComponent } from \"../modules/schedule/schedule.component\";\nimport { AdminComponent } from '../modules/index';\n\n\n\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot([\n      {\n        path: '',\n        component: DashboardComponent,\n        data: { label: 'Dashboard' }\n      },\n      {\n        path: 'encounters',\n        // component: EncountersComponent,\n        loadChildren: 'production/modules/encounters/encounters.module#EncountersModule',\n        data: { label: 'Encounters' }\n      },\n      {\n        path: 'admin',\n        component: AdminComponent,\n        data: { label: 'Admin' }\n      }\n    ])\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class AppRoutingModule {}\n\n\n\n\n// const appRoutes: Routes = [\n//   {\n//     path: 'imaging',\n//     component: ImagingComponent,\n//     data: { label: 'Imaging' }\n//   },\n//   {\n//     path: '',\n//     component: DashboardComponent,\n//     data: { label: 'Dashboard' }\n//   },\n//   {\n//     path: 'prescription_notices',\n//     component: PrescriptionNoticesComponent,\n//     data: { label: 'Prescription Notices' }\n//   },\n//   {\n//     path: 'encounters',\n//     component: EncountersComponent,\n//     data: { label: 'Encounters' }\n//   },\n//   {\n//     path: 'schedule',\n//     component: ScheduleComponent,\n//     data: { label: 'Schedule' }\n//   },\n//   {\n//     path: 'admin',\n//     component: AdminComponent,\n//     data: { label: 'Admin' }\n//   }\n// ];\n//\n// export const appRoutingProviders: any[] = [\n//\n// ];\n//\n// export const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "codemirror", "codemirror-modes"], "comments": [{"owner": {"reputation": 244, "user_id": 1313764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dceba662470d9bf56b832debd3a36b8?s=128&d=identicon&r=PG", "display_name": "schn0573", "link": "https://stackoverflow.com/users/1313764/schn0573"}, "edited": false, "score": 0, "creation_date": 1489771873, "post_id": 40131996, "comment_id": 72833630, "body": "Were you ever able to figure this out?"}, {"owner": {"reputation": 2569, "user_id": 4392527, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1666204769/picture?type=large", "display_name": "Denko Mancheski", "link": "https://stackoverflow.com/users/4392527/denko-mancheski"}, "edited": false, "score": 0, "creation_date": 1493048505, "post_id": 40131996, "comment_id": 74234428, "body": "did you resolve this ? :("}, {"owner": {"reputation": 692, "user_id": 3035471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a074758a5443e15ef32e1af2efe4f165?s=128&d=identicon&r=PG&f=1", "display_name": "mankers", "link": "https://stackoverflow.com/users/3035471/mankers"}, "edited": false, "score": 0, "creation_date": 1493281213, "post_id": 40131996, "comment_id": 74352087, "body": "Sorry guys, for a long absence. Finally, I managed the problem the way described above in update section."}], "owner": {"reputation": 692, "user_id": 3035471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a074758a5443e15ef32e1af2efe4f165?s=128&d=identicon&r=PG&f=1", "display_name": "mankers", "link": "https://stackoverflow.com/users/3035471/mankers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 433, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1493281669, "creation_date": 1476881675, "last_edit_date": 1493281669, "question_id": 40131996, "link": "https://stackoverflow.com/questions/40131996/how-to-define-custom-mode-in-ng2-codemirror", "title": "How to define custom mode in ng2-codemirror?", "body": "<p>I'd like to define my custom mode that extends one of available modes (e.g. javascript)? I've tried to use below code, but no effect.</p>\n\n<pre><code>CodeMirror.defineMode(\"foo\", function (config, parserConfig) {\n        var fooOverlay = {\n            token: function (stream, state) {\n                var ch;\n                if (stream.match(\"{{\")) {\n                    while ((ch = stream.next()) != null)\n                        if (ch == \"}\" &amp;&amp; stream.next() == \"}\") {\n                            stream.eat(\"}\");\n                            return \"foo\";\n                        }\n                }\n                while (stream.next() != null &amp;&amp; !stream.match(\"{{\", false)) { }\n                return null;\n            }\n        };\n        return CodeMirror.overlayMode(CodeMirror.getMode(config, parserConfig.backdrop || \"javascript\"), fooOverlay);\n    });\n\nthis.config = {\n        lineNumbers: true,\n        mode: 'foo'\n    };\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>CodeMirror.defineSimpleMode(\"foo\", {\n        start = [\n            { regex: /\"(?:[^\\\\]|\\\\.)*?(?:\"|$)/, token: \"string\" },\n            { regex: /'(?:[^\\\\]|\\\\.)*?(?:'|$)/, token: \"string\" },\n            {\n                regex: /(?:if|foreach|in|while)\\b/,\n                token: \"keyword\"\n            },\n            { regex: /true|false|null|undefined/, token: \"atom\" },\n        ];\n    });\n</code></pre>\n"}, {"tags": ["angular", "typescript", "html5-video"], "comments": [{"owner": {"reputation": 35, "user_id": 7042244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40015e8c69a3023d091e2c3b74055a67?s=128&d=identicon&r=PG&f=1", "display_name": "TWok", "link": "https://stackoverflow.com/users/7042244/twok"}, "edited": false, "score": 0, "creation_date": 1477324578, "post_id": 40131772, "comment_id": 67708666, "body": "Seriously, noone ? Am I totally off with my approach here ?"}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 3958272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zLiDm.png?s=128&g=1", "display_name": "Jose Marfil", "link": "https://stackoverflow.com/users/3958272/jose-marfil"}, "reply_to_user": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1551130572, "post_id": 40381774, "comment_id": 96520166, "body": "@DavidD. i&#39;ve had some issues with plumker also, so i&#39;ve uploaded a version to stackblitz.com. Hope it&#39;s helps."}, {"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1551138309, "post_id": 40381774, "comment_id": 96522884, "body": "Thanks a lot for this. in macOS, works on Firefox and Safari, but not on Chrome, with <code>Could not start video source (NotReadableError:undefined)</code>"}, {"owner": {"reputation": 575, "user_id": 3958272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zLiDm.png?s=128&g=1", "display_name": "Jose Marfil", "link": "https://stackoverflow.com/users/3958272/jose-marfil"}, "reply_to_user": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1551202367, "post_id": 40381774, "comment_id": 96551212, "body": "could not play your issue yet, even trying to open the camera in multiple apps. will come back if can reproduce and found a solution."}, {"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1552312243, "post_id": 40381774, "comment_id": 96949490, "body": "problem solved, it was just an issue at OS level on macOS. I had to go to security and allow Chrome to access camera and mic first."}, {"owner": {"reputation": 575, "user_id": 3958272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zLiDm.png?s=128&g=1", "display_name": "Jose Marfil", "link": "https://stackoverflow.com/users/3958272/jose-marfil"}, "reply_to_user": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1552322607, "post_id": 40381774, "comment_id": 96956169, "body": "Great @DavidD. glad to hear that."}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "edited": false, "score": 0, "creation_date": 1567050833, "post_id": 40381774, "comment_id": 101848879, "body": "Is there a way to provide an external URL to feed video stream from this approach?"}], "tags": [], "owner": {"reputation": 575, "user_id": 3958272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zLiDm.png?s=128&g=1", "display_name": "Jose Marfil", "link": "https://stackoverflow.com/users/3958272/jose-marfil"}, "is_accepted": true, "score": 8, "last_activity_date": 1551130415, "last_edit_date": 1551130415, "creation_date": 1478095049, "answer_id": 40381774, "question_id": 40131772, "link": "https://stackoverflow.com/questions/40131772/angular-2-and-instantiation-of-a-camera-stream-with-html-5-video/40381774#40381774", "title": "Angular 2 and instantiation of a camera stream with html 5 video", "body": "<p>In your template you can include the video directive like this:</p>\n\n<pre><code>&lt;video #video width=\"640\" height=\"480\" autoplay&gt;&lt;/video&gt;\n</code></pre>\n\n<p>then in your component:</p>\n\n<pre><code>@ViewChild('video') video:any; \n// note that \"#video\" is the name of the template variable in the video element\n\nngAfterViewInit() {\n  let _video=this.video.nativeElement;\n  if(navigator.mediaDevices &amp;&amp; navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia({ video: true })\n                          .then(stream =&gt; {\n                            _video.src = window.URL.createObjectURL(stream);\n                            _video.play();\n                          })\n  }\n}\n</code></pre>\n\n<p>see this on stackblitz: <a href=\"https://stackblitz.com/edit/live-video\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/live-video</a></p>\n"}], "owner": {"reputation": 35, "user_id": 7042244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40015e8c69a3023d091e2c3b74055a67?s=128&d=identicon&r=PG&f=1", "display_name": "TWok", "link": "https://stackoverflow.com/users/7042244/twok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12408, "favorite_count": 4, "accepted_answer_id": 40381774, "answer_count": 1, "score": 2, "last_activity_date": 1551130415, "creation_date": 1476881116, "question_id": 40131772, "link": "https://stackoverflow.com/questions/40131772/angular-2-and-instantiation-of-a-camera-stream-with-html-5-video", "title": "Angular 2 and instantiation of a camera stream with html 5 video", "body": "<p>I'm new to Angular 2.</p>\n\n<p>If I have a video tag, like : </p>\n\n<pre><code>&lt;video width=\"480\" height=\"480\" autoplay&gt;&lt;/video&gt;    \n</code></pre>\n\n<p>And a javascript example snippet to open the camera stream :</p>\n\n<pre><code>var video = document.getElementById('video');\nif(navigator.mediaDevices &amp;&amp; navigator.mediaDevices.getUserMedia) {\n  navigator.mediaDevices.getUserMedia({ video: true }).then(function(stream) {\n      video.src = window.URL.createObjectURL(stream);\n      video.play();\n  });\n}\n</code></pre>\n\n<p>In Angular 2 + Typescript I suppose I can access the video tag like : </p>\n\n<pre><code>@Component({\n  selector: 'video-component',\n  template: `\n    &lt;video #videoplayer autoplay&gt;&lt;/video&gt;\n  `\n})\nexport class Video {\n @ViewChild('videoplayer') videoPlayer;\n  ngAfterViewInit() {\n    let video = document.getElementById('video');\n\n    // How to access the mediadevice ??\n\n  }\n}\n</code></pre>\n\n<p>How can I access the media device and instantiate the stream like illustrated in the javascript snippet ? </p>\n"}, {"tags": ["angular", "typescript", "angular2-forms"], "comments": [{"owner": {"reputation": 49266, "user_id": 3751711, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/vQxvC.png?s=128&g=1", "display_name": "micronyks", "link": "https://stackoverflow.com/users/3751711/micronyks"}, "edited": false, "score": 0, "creation_date": 1476881289, "post_id": 40131770, "comment_id": 67533563, "body": "Show form code in HTML including button."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1476881326, "post_id": 40131770, "comment_id": 67533590, "body": "may be you are submitting your form twice firstly at the form tag and secondly on the button named submit check it once or either post you code"}, {"owner": {"reputation": 1013, "user_id": 2908285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/905d24088d27a026570bd2049bf939e4?s=128&d=identicon&r=PG", "display_name": "mrodrigues", "link": "https://stackoverflow.com/users/2908285/mrodrigues"}, "edited": false, "score": 0, "creation_date": 1476881773, "post_id": 40131770, "comment_id": 67533949, "body": "Thanks for your comments, I just included the template for one of the forms."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1476881782, "post_id": 40131770, "comment_id": 67533961, "body": "your form seems right error is somewhere else, could you please recreate your problem on some plunker ?"}, {"owner": {"reputation": 1013, "user_id": 2908285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/905d24088d27a026570bd2049bf939e4?s=128&d=identicon&r=PG", "display_name": "mrodrigues", "link": "https://stackoverflow.com/users/2908285/mrodrigues"}, "edited": false, "score": 0, "creation_date": 1476883636, "post_id": 40131770, "comment_id": 67535316, "body": "Thanks, now that I&#39;ve wrote the Plunker I realized it was something else. What&#39;s actually firing twice is not the <code>ngSubmit</code> as I had previously thought, but the HTTP request (I&#39;m feeling silly I hadn&#39;t test that before)."}], "answers": [{"tags": [], "owner": {"reputation": 1013, "user_id": 2908285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/905d24088d27a026570bd2049bf939e4?s=128&d=identicon&r=PG", "display_name": "mrodrigues", "link": "https://stackoverflow.com/users/2908285/mrodrigues"}, "is_accepted": false, "score": 0, "last_activity_date": 1476883978, "last_edit_date": 1495540008, "creation_date": 1476883978, "answer_id": 40132891, "question_id": 40131770, "link": "https://stackoverflow.com/questions/40131770/forms-firing-ngsubmit-twice-on-angular-2-0-1/40132891#40132891", "title": "Forms firing ngSubmit twice on Angular 2.0.1", "body": "<p>After some some comments I tried to reproduce the error in a Plunker only to realize that the problem was something else entirely. What was being fired twice was not the <code>ngSubmit</code>, but the HTTP request.</p>\n\n<p>I was subscribing twice to the same <code>http.post(args)</code>, what happens is that I need to call <code>.share()</code> so it won't be executed for every subscribe (<a href=\"https://stackoverflow.com/a/37241863/2908285\">https://stackoverflow.com/a/37241863/2908285</a>).</p>\n"}], "owner": {"reputation": 1013, "user_id": 2908285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/905d24088d27a026570bd2049bf939e4?s=128&d=identicon&r=PG", "display_name": "mrodrigues", "link": "https://stackoverflow.com/users/2908285/mrodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1012, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476883978, "creation_date": 1476881111, "last_edit_date": 1476881711, "question_id": 40131770, "link": "https://stackoverflow.com/questions/40131770/forms-firing-ngsubmit-twice-on-angular-2-0-1", "title": "Forms firing ngSubmit twice on Angular 2.0.1", "body": "<p>For any form in Angular 2.0.1, whenever I press return or click on the submit button, the <code>ngSubmit</code> output is fired twice. I'm already including the <code>FormsModule</code> in the application module:</p>\n\n<pre><code>@NgModule({\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule,\n    routing\n  ],\n  declarations: [\n    // ...\n  ],\n  providers: [\n    // ...\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>I've tried to follow some answers (such as <a href=\"https://github.com/angular/angular/issues/9954#issuecomment-231743596\" rel=\"nofollow\">this</a> one), but <code>disableDeprecatedForms</code> and <code>provideForms</code> have been removed since RC6. I've also tried to import the <code>DeprecatedFormsModule</code>, but it seems to have been removed as well.</p>\n\n<p>What should I do to prevent the <code>ngSubmit</code> to be fired twice?</p>\n\n<h1>UPDATE:</h1>\n\n<p>I didn't think the template would matter in this case since it's a known issue and it happens for any form in the application, but here follow one of the forms as an example (stripped out of unnecessary classes and tags):</p>\n\n<pre><code>&lt;form (ngSubmit)=\"login(user)\"&gt;\n  &lt;input [(ngModel)]=\"user.username\" name=\"username\" type=\"email\" id=\"username\" required&gt;\n  &lt;label for=\"username\"&gt;Email&lt;/label&gt;\n\n  &lt;input [(ngModel)]=\"user.password\" name=\"password\" type=\"password\" id=\"password\" required&gt;\n  &lt;label for=\"password\"&gt;Password&lt;/label&gt;\n\n  &lt;button&gt;\n    Submit\n  &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["typescript", "webpack", "webpack-2"], "answers": [{"comments": [{"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476881290, "post_id": 40131777, "comment_id": 67533564, "body": "Thank you for your answer, sadly that does not work, nothing has changed."}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476881633, "post_id": 40131777, "comment_id": 67533838, "body": "Hm, maybe try setting <code>exclude: [&#39;node_modules&#39;]</code> in <code>module.loaders</code>?"}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476881882, "post_id": 40131777, "comment_id": 67534043, "body": "I tried these: - <code>{ test: &#47;(\\.ts|\\.tsx)$&#47;, loader: &quot;awesome-typescript-loader&quot;, exclude: [&#39;node_modules&#39;] }</code> - <code>{ test: &#47;(\\.ts|\\.tsx)$&#47;, loader: &quot;awesome-typescript-loader&quot;, options: { exclude: [&#39;node_modules&#39;] } }</code> - <code>&#47;node_modules&#47;</code> and <code>[ &#47;node_modules&#47; ]</code> instead of <code>&#39;node_modules&#39;</code>  But nothing works. :/"}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476882707, "post_id": 40131777, "comment_id": 67534653, "body": "Did you try to set both? This is my current configuration."}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476884134, "post_id": 40131777, "comment_id": 67535715, "body": "Maybe an issue on their Github helps? There is already a thread: <a href=\"https://github.com/s-panferov/awesome-typescript-loader/issues/209\" rel=\"nofollow noreferrer\">github.com/s-panferov/awesome-typescript-loader/issues/209</a>"}], "tags": [], "owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "is_accepted": false, "score": 0, "last_activity_date": 1476881130, "creation_date": 1476881130, "answer_id": 40131777, "question_id": 40131583, "link": "https://stackoverflow.com/questions/40131583/webpack-gives-me-module-has-no-exported-member-errors-for-files-in-node-mod/40131777#40131777", "title": "Webpack gives me &quot;Module has no exported member...&quot; errors for files in node_modules even when no module is required", "body": "<p>You could try adding <code>\"exclude\": [ \"node_modules\" ]</code> in your <code>tsconfig.json</code>.</p>\n"}], "owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2423, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476881130, "creation_date": 1476880529, "last_edit_date": 1476881122, "question_id": 40131583, "link": "https://stackoverflow.com/questions/40131583/webpack-gives-me-module-has-no-exported-member-errors-for-files-in-node-mod", "title": "Webpack gives me &quot;Module has no exported member...&quot; errors for files in node_modules even when no module is required", "body": "<p>I have a problem with Webpack. It compiles and tree-shakes correctly, but gives me hundreds of errors, because it for some reason does something with type definitions in node_modules, even though it shouldn't, because no module is required/imported in my entry point.</p>\n\n<p>My webpack.config.js:</p>\n\n<pre><code>const ForkCheckerPlugin = require(\"awesome-typescript-loader\").ForkCheckerPlugin;\nconst ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\nconst webpack = require(\"webpack\");\n\nmodule.exports = {\n    entry:\n    {\n        browser: __dirname + \"/source/index.tsx\"\n    },\n\n    module:\n    {\n        loaders:\n        [\n            { test: /(\\.ts|\\.tsx)$/, loader: \"awesome-typescript-loader\" },\n            { test: /\\.css$/, loader: ExtractTextPlugin.extract({ loader: \"css-loader?modules\" }) },\n            { test: /\\.png$/, loader: \"url-loader\" },\n            { test: /\\.jpg$/, loader: \"url-loader\" },\n            { test: /\\.json$/, loader: \"json-loader\" },\n        ]\n    },\n\n    plugins:\n    [\n        new webpack.DefinePlugin({ \"process.env\": { NODE_ENV: JSON.stringify(\"production\") } }),\n        new webpack.optimize.DedupePlugin(),\n        new webpack.optimize.UglifyJsPlugin({ compressor: { warnings: false } }),\n        new webpack.optimize.CommonsChunkPlugin({ name: \"vendor\", minChunks: module =&gt; /node_modules/.test(module.resource) }),\n        new ExtractTextPlugin(\"browser.css\"),\n    ],\n\n    output:\n    {\n        filename: \"[name].js\",\n        chunkFilename: \"[name].js\",\n        path:  __dirname + \"/build/browser/\"\n    }\n};\n</code></pre>\n\n<p>My entrypoint (source/index.tsx) - basically nothing:</p>\n\n<pre><code>console.log(\"Test\");\n</code></pre>\n\n<p>Errors it gives me (shortened, they're all similar):</p>\n\n<pre><code>ERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\match.d.ts:12:15\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'History'.\n\nERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\match.d.ts:16:80\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'Location'.\n\nERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\useRouterHistory.d.ts:1:9\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'History'.\n\nERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\useRouterHistory.d.ts:1:18\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'HistoryOptions'.\n\nERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\useRouterHistory.d.ts:1:34\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'HistoryQueries'.\n\nERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\useRouterHistory.d.ts:1:50\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'CreateHistory'.\n\nERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\useRoutes.d.ts:4:47\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'CreateHistory'.\n\nERROR in [default] C:\\Users\\Tom\\VSCodeProjects\\personal\\webpack-test\\node_modules\\@types\\react-router\\lib\\useRoutes.d.ts:4:68\nModule '\"C:/Users/Tom/VSCodeProjects/personal/webpack-test/node_modules/history/lib/index\"' has no exported member 'CreateHistory'.\n</code></pre>\n"}, {"tags": ["generics", "typescript", "type-systems"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 1, "last_activity_date": 1476882168, "creation_date": 1476882168, "answer_id": 40132191, "question_id": 40130891, "link": "https://stackoverflow.com/questions/40130891/typescript-literal-type-parameter-doesnt-propagate-to-return/40132191#40132191", "title": "TypeScript literal type parameter doesn&#39;t propagate to return", "body": "<p>What happens is that <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.d.ts#L7020\" rel=\"nofollow\">the last signature</a> of <code>createElement</code> is used:</p>\n\n<pre><code>createElement(tagName: string): HTMLElement;\n</code></pre>\n\n<p>This might be the same thing as:</p>\n\n<pre><code>function fn(s: \"one\" | \"two\") { }\nlet s = \"two\";\nfn(s); // Error: Argument of type 'string' is not assignable to parameter of type '\"one\" | \"two\"'\n</code></pre>\n\n<p>For which there's <a href=\"https://github.com/Microsoft/TypeScript/issues/9489\" rel=\"nofollow\">an open issue</a> for.<br>\nAnother issue that is opened and might be of interest in this case is <a href=\"https://github.com/Microsoft/TypeScript/pull/10676\" rel=\"nofollow\">Always use literal types</a>.</p>\n\n<p>For now, you can do this:</p>\n\n<pre><code>function createEl(type: string) {\n    let el = document.createElement(type);\n    // ...stuff...\n    return el;\n}\n\nlet d = createEl(\"div\") as HTMLDivElement;\nlet a = createEl(\"a\") as HTMLAnchorElement;\n</code></pre>\n\n<p>Which isn't as elegant, but it works.</p>\n"}], "owner": {"reputation": 40175, "user_id": 85821, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/28d7fc76db803c6757e7cfd2cde20354?s=128&d=identicon&r=PG", "display_name": "Bart van Heukelom", "link": "https://stackoverflow.com/users/85821/bart-van-heukelom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476950220, "creation_date": 1476878544, "last_edit_date": 1476950220, "question_id": 40130891, "link": "https://stackoverflow.com/questions/40130891/typescript-literal-type-parameter-doesnt-propagate-to-return", "title": "TypeScript literal type parameter doesn&#39;t propagate to return", "body": "<p>TypeScript has the convenient property that a literal string can be a type parameter to a generic function. Therefore, you can do</p>\n\n<pre><code>let a:HTMLAnchorElement = document.createElement(\"a\");\n</code></pre>\n\n<p>and the compiler knows it's correct (because of the overload <code>createElement(tagName:\"a\"):HTMLAnchorElement</code>).</p>\n\n<p>I had hoped it would be so smart that it also understood the following:</p>\n\n<pre><code>function createEl&lt;T extends string&gt;(type:T) {\n    let el = document.createElement(type);\n    // ...stuff...\n    return el;\n}\nlet a:HTMLAnchorElement = createEl(\"a\");\n</code></pre>\n\n<p>But unfortunately, it does not (gives a \"not assignable\" error). Is there something I'm missing that could make it so, or should I find another approach?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular2-template", "rxjs5"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1476877866, "post_id": 40130139, "comment_id": 67531031, "body": "Why you think the problem is in <code>map()</code>? What does the <code>.do()</code> print? Also, I think the <code>&lt;IRegistration&gt;</code> in <code>map()</code> is redundant, TypeScript compiler it can&#39;t check correct type from <code>json()</code> because it can be anything so it will never raise any error."}, {"owner": {"reputation": 569, "user_id": 251770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fYxir.jpg?s=128&g=1", "display_name": "Alan Stephens", "link": "https://stackoverflow.com/users/251770/alan-stephens"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1476878390, "post_id": 40130139, "comment_id": 67531406, "body": "hmmm.. &lt;IRegistration[]&gt; works fine when there is an array of JSON - in this Angular2 app the map() works out how to populate the strong type ok - it goes bad when I remove the [] and adjust everything else - the .do() just dumps the JSON to console"}], "answers": [{"comments": [{"owner": {"reputation": 569, "user_id": 251770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fYxir.jpg?s=128&g=1", "display_name": "Alan Stephens", "link": "https://stackoverflow.com/users/251770/alan-stephens"}, "edited": false, "score": 0, "creation_date": 1476881850, "post_id": 40130796, "comment_id": 67534023, "body": "that was a surprise - this.myobject - is being setup by the observable listener ok - but clearly not initialised in time for the page - the ?null check just fixes it for now - thanks"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1476878240, "creation_date": 1476878240, "answer_id": 40130796, "question_id": 40130139, "link": "https://stackoverflow.com/questions/40130139/response-json-bind-to-single-object-using-interface-rxjs-observable-fails/40130796#40130796", "title": "Response.json() bind to single object using interface - RxJs/Observable fails", "body": "<p>The code looks fine, I think the problem is that you don't initialize the <code>myobject: IRegistration;</code> before using it.</p>\n\n<p>The <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"nofollow\">doc for lifecycle hook <code>ngOnInit()</code></a> says:</p>\n\n<blockquote>\n  <p>Initialize the directive/component after Angular first displays the data-bound properties and sets the directive/component's input properties.</p>\n</blockquote>\n\n<p>The data is displayed before the HTTP call returns any result so <code>myobject</code> is undefined when Angular is trying to render it.</p>\n\n<p>You can use <code>?</code> to ignore undefined properties such as <code>{{ myobject?.productId }}</code> or initialize the property first <code>myobject: IRegistration = &lt;IRegistration&gt;{};</code>.</p>\n"}], "owner": {"reputation": 569, "user_id": 251770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fYxir.jpg?s=128&g=1", "display_name": "Alan Stephens", "link": "https://stackoverflow.com/users/251770/alan-stephens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1270, "favorite_count": 1, "accepted_answer_id": 40130796, "answer_count": 1, "score": 3, "last_activity_date": 1476878309, "creation_date": 1476876429, "last_edit_date": 1476878309, "question_id": 40130139, "link": "https://stackoverflow.com/questions/40130139/response-json-bind-to-single-object-using-interface-rxjs-observable-fails", "title": "Response.json() bind to single object using interface - RxJs/Observable fails", "body": "<p>This scenario works fine when the RESTful API returns a JSON array - but the web method I'm calling returns a single JSON object - and so the code has been converted to map a single object from <code>&lt;IRegistration[]&gt; to &lt;IRegistration&gt;</code> all the way up the stack. </p>\n\n<p>This fails and the Chrome console returns an error showing the app could not find either of the mapped fields in the HTML</p>\n\n<p>The HTML</p>\n\n<pre><code>{{myobject.productId}}\n{{myobject.productName}}\n</code></pre>\n\n<p>The JSON</p>\n\n<pre><code>{\n  \"productId\": 1,\n  \"productName\": \"My Field Value\"\n}\n</code></pre>\n\n<p>The Interface</p>\n\n<pre><code>export interface IRegistration {\n    productId: number;\n    productName: string;\n}\n</code></pre>\n\n<p>The observable</p>\n\n<pre><code>getRegistration(): Observable&lt;IRegistration&gt; {\n    return this._http.get(this._svcURL)\n        .map((response: Response) =&gt; &lt;IRegistration&gt;response.json())\n        .do(data =&gt; console.log('ALL: ' + JSON.stringify(data)))\n        .catch(this.handleError);\n}\n</code></pre>\n\n<p>The client component</p>\n\n<pre><code>myobject: IRegistration;\n\nngOnInit(): void {\n    this._registrationService.getRegistration().subscribe(\n        reg =&gt; this.myobject= reg,\n        error =&gt; this.errorMessage = &lt;any&gt;error\n    );\n}\n</code></pre>\n\n<p>The error </p>\n\n<pre><code> EXCEPTION: TypeError: Cannot read property 'productId' of undefined in [\n{{myobject.productId}}\n{{myobject.productName}}\n\n in SearchComponent@0:0]\n</code></pre>\n\n<p>The debugging I've done points to the response.json() in the observable failing to map correctly to the IRegistration - I can't seem to find the correct syntax?</p>\n"}, {"tags": ["angularjs", "typescript", "angularjs-directive"], "answers": [{"tags": [], "owner": {"reputation": 1077, "user_id": 4658387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d2353efc88cbf1b457a8ee2fdab46fb?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Teja", "link": "https://stackoverflow.com/users/4658387/ravi-teja"}, "is_accepted": false, "score": 1, "last_activity_date": 1476875011, "creation_date": 1476875011, "answer_id": 40129627, "question_id": 40129072, "link": "https://stackoverflow.com/questions/40129072/cannot-import-file-in-typescript/40129627#40129627", "title": "Cannot import file in typescript", "body": "<p>Try this</p>\n\n<pre><code>import {CustomDirective} from './Module';\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 5490816, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6730a71165c40358b2cb9918845c51bc?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolay Pryahin", "link": "https://stackoverflow.com/users/5490816/nikolay-pryahin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476876010, "creation_date": 1476873672, "question_id": 40129072, "link": "https://stackoverflow.com/questions/40129072/cannot-import-file-in-typescript", "title": "Cannot import file in typescript", "body": "<p>I wanted to use a typescrypt function from another file, but there is a problem:</p>\n\n<p>I made a file Module.ts with an </p>\n\n<pre><code>export function CustomDirective(): ng.IDirective {\n    var directive: ng.IDirective = &lt;ng.IDirective&gt;{//Filling directive here\n    };\n    return directive;\n}\n</code></pre>\n\n<p>In app.ts (same folder) I tried to import this file and use in  </p>\n\n<pre><code>angular.module(...).directive('name', CustomDirective())\n</code></pre>\n\n<p>I tried to use </p>\n\n<pre><code>import 'Module';\nimport Module = require('Module');//\nimport * as Module from 'Module'; // this two with Module.CustomFirective();\n</code></pre>\n\n<p>But if there is an import, there accures an error that Module cannot be found. And PublicController, BusyIndicator become also not found. </p>\n\n<p>How do I insert file with a function properly? </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1341, "user_id": 6522205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56c839224a30c0e2820cda0a30ac67e8?s=128&d=identicon&r=PG", "display_name": "Kacper Polak", "link": "https://stackoverflow.com/users/6522205/kacper-polak"}, "edited": false, "score": 1, "creation_date": 1476871786, "post_id": 40128075, "comment_id": 67526385, "body": "Thanks! It&#39;s working for me :) Have a nice day! :DDD"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 9, "last_activity_date": 1476871193, "creation_date": 1476871193, "answer_id": 40128075, "question_id": 40128015, "link": "https://stackoverflow.com/questions/40128015/destroy-component-by-itself-angular2/40128075#40128075", "title": "Destroy component by itself - angular2", "body": "<p>This is not supported. I'd suggest to add an eventemitter</p>\n\n<pre><code>@Output() delete:EventEmitter = new EventEmitter();\n</code></pre>\n\n<p>and then add an event handler that removes the item from the data array</p>\n\n<pre><code>&lt;row-cmp *ngFor=\"let row of data;let i=index\" (delete)=\"data.splice(i,1)\"\n     [id]=\"row.id\" \n     [name]=\"row.name\" \n     [value]=\"row.value\"&gt;\n&lt;/row-cmp&gt;\n</code></pre>\n"}], "owner": {"reputation": 1341, "user_id": 6522205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56c839224a30c0e2820cda0a30ac67e8?s=128&d=identicon&r=PG", "display_name": "Kacper Polak", "link": "https://stackoverflow.com/users/6522205/kacper-polak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3580, "favorite_count": 0, "accepted_answer_id": 40128075, "answer_count": 1, "score": 7, "last_activity_date": 1504887157, "creation_date": 1476871052, "last_edit_date": 1504887157, "question_id": 40128015, "link": "https://stackoverflow.com/questions/40128015/destroy-component-by-itself-angular2", "title": "Destroy component by itself - angular2", "body": "<p>I have component (<code>main-cmp</code>) with rows from database. \nFor rows I create another component for eg. <code>row-cmp</code></p>\n\n<p><code>main-cmp</code> have requested data from database, and parse it as</p>\n\n<pre><code>&lt;row-cmp *ngFor=\"let row of data\" \n     [id]=\"row.id\" \n     [name]=\"row.name\" \n     [value]=\"row.value\"&gt;\n&lt;/row-cmp&gt;\n</code></pre>\n\n<p>In <code>row-cmp</code> I have declare <code>delete()</code> function who call http request to my backend. Now when response from request is true I want to destroy <code>row-cmp</code> for selected row. Is this possible ? </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 13, "last_activity_date": 1553789995, "last_edit_date": 1553789995, "creation_date": 1476869240, "answer_id": 40127363, "question_id": 40127328, "link": "https://stackoverflow.com/questions/40127328/angular2-getting-routes-params-with-promises/40127363#40127363", "title": "Angular2 Getting route&#39;s params with promises", "body": "<p><code>_route.params</code> emits more than one event. When a route change only changes the parameter value of a route then the component is not re-created by the router but instead just another <code>params</code> value emitted.</p>\n\n<p>Therefore using <code>toPromise()</code> is probably not a good idea but it's possible, for example using <code>first()</code> so that the observable completes after the first event and therefore also the promise returned by <code>toPromise()</code> completes.</p>\n\n<p>Without <code>.first()</code> the promise completes when you navigate away from the route (not verified).</p>\n\n<pre><code>constructor(private _route: ActivatedRoute) {}\n\nngOnInit() {\n  this._route.params.first().toPromise().then(data =&gt; {\n     ...\n  })\n}\n</code></pre>\n\n<p><code>first</code> needs to be imported. In newer RxJs version <code>first</code> needs to be wrapped in <code>pipe</code> like this <code>pipe(first())</code></p>\n"}], "owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2155, "favorite_count": 2, "accepted_answer_id": 40127363, "answer_count": 1, "score": 7, "last_activity_date": 1553789995, "creation_date": 1476869151, "question_id": 40127328, "link": "https://stackoverflow.com/questions/40127328/angular2-getting-routes-params-with-promises", "title": "Angular2 Getting route&#39;s params with promises", "body": "<p>Hey I have tried that following bit of code : </p>\n\n<pre><code>constructor(private _route: ActivatedRoute) {}\n\nngOnInit() {\n  this._route.params.toPromise().then(data =&gt; {\n     ...\n  })\n}\n</code></pre>\n\n<p>However it doesn't do anyhting. If I swap <code>toPromise().then</code> by <code>subscribe</code> it works fine. Any idea why it wouldn't work ? I have used <code>toPromise().then</code> in many other places in my project and it works just fine.</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1476868370, "post_id": 40126981, "comment_id": 67523853, "body": "is it <code>myDirective.ts</code> or <code>my-directive.ts</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2999287"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1476868497, "post_id": 40126981, "comment_id": 67523953, "body": "The file name is myDirective and the package name is my-directive"}, {"owner": {"reputation": 2388, "user_id": 1124913, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58ce1b983be787b72233e171372f89df?s=128&d=identicon&r=PG", "display_name": "Akanksha Gaur", "link": "https://stackoverflow.com/users/1124913/akanksha-gaur"}, "edited": false, "score": 0, "creation_date": 1476868614, "post_id": 40126981, "comment_id": 67524039, "body": "export * from &quot;./my-Directive&quot;;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2999287"}, "edited": false, "score": 0, "creation_date": 1476868684, "post_id": 40126981, "comment_id": 67524083, "body": "The directive file name is myDirective.ts so I need to export * from &quot;./myDirective&quot;;"}, {"owner": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "edited": false, "score": 0, "creation_date": 1476868725, "post_id": 40126981, "comment_id": 67524121, "body": "&quot;typings&quot;:  &quot;./dist/index.d.ts&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "is_accepted": false, "score": 0, "last_activity_date": 1476875780, "creation_date": 1476875780, "answer_id": 40129919, "question_id": 40126981, "link": "https://stackoverflow.com/questions/40126981/angular-2-unexpected-value-mydirective-declared-by-the-module-appmodule/40129919#40129919", "title": "Angular 2 Unexpected value &#39;MyDirective&#39; declared by the module &#39;AppModule&#39;", "body": "<p>There is a discussion and a PR regarding similar issues here: \n<a href=\"https://github.com/angular/angular-cli/pull/2291\" rel=\"nofollow\">https://github.com/angular/angular-cli/pull/2291</a></p>\n\n<p>See if this might help.</p>\n"}, {"tags": [], "owner": {"reputation": 9429, "user_id": 4159572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h25zb.png?s=128&g=1", "display_name": "Bazinga", "link": "https://stackoverflow.com/users/4159572/bazinga"}, "is_accepted": true, "score": 0, "last_activity_date": 1476974539, "creation_date": 1476974539, "answer_id": 40157592, "question_id": 40126981, "link": "https://stackoverflow.com/questions/40126981/angular-2-unexpected-value-mydirective-declared-by-the-module-appmodule/40157592#40157592", "title": "Angular 2 Unexpected value &#39;MyDirective&#39; declared by the module &#39;AppModule&#39;", "body": "<p>I was facing this issue and I don't know exactly why, but in the <strong>package.json</strong> file, remove the Angular 2 dependencies from the dependencies field to devDependencies solve this problem and my npm module worked.</p>\n\n<p>You should give it a try.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2999287"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 40157592, "answer_count": 2, "score": 0, "last_activity_date": 1476974539, "creation_date": 1476868294, "last_edit_date": 1476869057, "question_id": 40126981, "link": "https://stackoverflow.com/questions/40126981/angular-2-unexpected-value-mydirective-declared-by-the-module-appmodule", "title": "Angular 2 Unexpected value &#39;MyDirective&#39; declared by the module &#39;AppModule&#39;", "body": "<p>I am trying to create npm library with one directive and test it locally with the help of npm link.</p>\n\n<p>But the problem is when I am including my directive in the declarations array I am getting this error:</p>\n\n<blockquote>\n  <p>Unexpected value 'MyDirective' declared by the module 'AppModule'</p>\n</blockquote>\n\n<p>My library structure:</p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code> {\n   \"name\": \"my-directive\",\n   \"main\": \"./dist/index.js\",\n   \"typings\":  \"dist/index.d.ts\"\n }\n</code></pre>\n\n<p><strong>My src folder:</strong></p>\n\n<p><strong>index.ts</strong></p>\n\n<pre><code>export * from \"./myDirective\";\n</code></pre>\n\n<p><strong>myDirective.ts</strong></p>\n\n<pre><code>import {Directive} from '@angular/core';\n\n@Directive({\n  selector: \"my-directive\"\n})\nexport class MyDirective {\n  constructor() {\n    console.log('directive works!');\n  }\n}\n</code></pre>\n\n<p>Now in my Angular 2 app that I'm linking this npm package:</p>\n\n<pre><code>import { MyDirective } from \"my-directive\";\n\n// This line indeed log the constructor function...\nconsole.log(MyDirective);\n // function MyDirective() {\n    // console.log('directive works!');\n // }\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MyDirective\n  ]\n})\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["angular", "typescript", "es6-promise"], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1476868991, "creation_date": 1476868991, "answer_id": 40127256, "question_id": 40126630, "link": "https://stackoverflow.com/questions/40126630/angular-2-waiting-for-boolean-to-be-true-before-executing-service/40127256#40127256", "title": "Angular 2 - Waiting for boolean to be true before executing service", "body": "<p>The problem is in your code, in particular in <code>checkIfDataLoaded()</code> method and not because you're working with booleans.</p>\n\n<p>It obviously throws an error when the inner condition resolves to false because then the method returns <code>undefined</code> and therefore calling <code>undefined.then(...</code> raises an error.</p>\n\n<p>Of course, I don't know what exactly <code>checkIfDataLoaded()</code> should do but if you want to chain <code>.then()</code> to its result then it <strong>always</strong> has to return a <code>Promise</code>.</p>\n\n<p>Maybe something along these lines:</p>\n\n<pre><code>checkIfDataLoaded() {\n    return new Promise((resolve, reject) =&gt; {\n        if (this.homeLoaded &amp;&amp; this.contactLoaded &amp;&amp; this.aboutLoaded) {\n            // Whatever logic goes here\n            resolve(true);\n        } else {\n            resolve(false);\n        }\n    });\n}\n</code></pre>\n\n<p>This way <code>checkIfDataLoaded()</code> always returns <code>Promise</code> while its internals can do whatever you need.</p>\n"}], "owner": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3958, "favorite_count": 0, "accepted_answer_id": 40127256, "answer_count": 1, "score": 2, "last_activity_date": 1476881006, "creation_date": 1476867471, "last_edit_date": 1495540928, "question_id": 40126630, "link": "https://stackoverflow.com/questions/40126630/angular-2-waiting-for-boolean-to-be-true-before-executing-service", "title": "Angular 2 - Waiting for boolean to be true before executing service", "body": "<p>I have an navigation menu that uses ng2-page-scroll module. </p>\n\n<p>I scroll trough page using hashtag links.</p>\n\n<p>The problem is that if i work cross routes, the data takes some time to load, so the service normally scrolls to my section, than the whole data loads, and the section of interest will not be on screen fold anymore, so the user needs to manully scroll to get to the section of interst. This makes the whole menu useless.</p>\n\n<p>So I'm using EventEmitter in all sections, to set bools in the \"scrollable\" page, all good... </p>\n\n<p>But i don't know how to wait for the <code>allDataLoaded</code> boolean to turn true. </p>\n\n<p>I tried to use promises</p>\n\n<p>This is how my code looks so far. </p>\n\n<p><strong>HTML of navigation menu component</strong></p>\n\n<pre><code>&lt;a [routerLink]=\"['']\" [queryParams]=\"{ scrollTo: '#home' }\"&gt;\n&lt;a [routerLink]=\"['']\" [queryParams]=\"{ scrollTo: '#contact' }\"&gt;\n&lt;a [routerLink]=\"['']\" [queryParams]=\"{ scrollTo: '#about' }\"&gt;\n</code></pre>\n\n<p><strong>HTML of component using root segment</strong></p>\n\n<pre><code>&lt;componentOne (dataLoadedEvent)=\"homeLoaded = true; checkIfDataLoaded()\"&gt;&lt;/componentOne&gt;\n</code></pre>\n\n<p><strong>TS of component using root segment</strong></p>\n\n<pre><code>homeLoaded: boolean = false;\ncontactLoaded: boolean = false;\naboutLoaded: boolean = false;\n\nallDataLoaded: boolean = false;\n\n ngOnInit() {\n    // other code here\n    this.route.queryParams.forEach((params: Params) =&gt; {\n        if (params['scrollTo']) {\n            this.checkIfDataLoaded().then(() =&gt; { \n                this.scrollToSection(params['scrollTo']);\n            });\n        }\n    });\n }\n\ncheckIfDataLoaded() {\n    if (this.homeLoaded &amp;&amp; this.contactLoaded &amp;&amp; this.aboutLoaded) {\n        //this.allDataLoaded = true;\n        return new Promise((resolve, reject) =&gt; {\n            resolve(true);\n        });\n    }\n}\n</code></pre>\n\n<p>As G\u00fcnter Z\u00f6chbauer answered here ( <a href=\"https://stackoverflow.com/a/40126194/3264998\">https://stackoverflow.com/a/40126194/3264998</a> ) for another questoin, the code will break with <code>TypeError: Cannot read property 'then' of undefined</code></p>\n\n<p><strong>TL;DR</strong> What is the proper way to use promises when waiting for a bool to turn true/false?</p>\n"}, {"tags": ["angular", "typescript", "import"], "comments": [{"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "edited": false, "score": 0, "creation_date": 1476865812, "post_id": 40125752, "comment_id": 67522146, "body": "I&#39;ve been looking into this some months back and it was possible by making node module that exports stuff (kinda like you import from &#39;@angular&#39;). I found this: <a href=\"https://github.com/Microsoft/TypeScript/issues/5039\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/5039</a>, and it seams some options have been added to <code>tsconfig</code>. I&#39;ll have to look into it too (;"}], "answers": [{"comments": [{"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476869285, "post_id": 40126321, "comment_id": 67524518, "body": "Yea, I just changed it in one file, the rest are still with <code>..&#47;..&#47;</code>"}, {"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476869802, "post_id": 40126321, "comment_id": 67524906, "body": "Try without paths, I just used <code>baseUrl</code>."}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476870036, "post_id": 40126321, "comment_id": 67525092, "body": "Ah, sick bro. This will help me out a ton! Wish I could upvote you x100 :D"}], "tags": [], "owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "is_accepted": true, "score": 2, "last_activity_date": 1476872003, "last_edit_date": 1476872003, "creation_date": 1476866588, "answer_id": 40126321, "question_id": 40125752, "link": "https://stackoverflow.com/questions/40125752/angular-2-can-you-import-something-from-the-project-root-instead-of-having-to-go/40126321#40126321", "title": "Angular 2 can you import something from the project root instead of having to go back using ../", "body": "<p>It seems this could be done with <code>paths</code> and <code>baseUrl</code> compiler options from <code>tsconfig.json</code>. <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping\" rel=\"nofollow\">https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping</a></p>\n\n<p>Here's an example from docs:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"*\": [\n                    \"*\",\n                    \"generated/*\"\n                ]\n            }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>This tells the compiler for any module import that matches the pattern \"*\" (i.e. all values), to look in two locations:</p>\n  \n  <ul>\n  <li>\"*\": meaning the same name unchanged, so map  => \\</li>\n  <li>\"generated*\" meaning the module name with an appended prefix \u201cgenerated\u201d, so map  => \\generated\\</li>\n  </ul>\n</blockquote>\n\n<p>Should be available in TypeScript 1.9+</p>\n\n<hr>\n\n<h3>Update:</h3>\n\n<p>I just tried it: adding <code>\"baseUrl\": \".\"</code> allows me to <code>import {...} from 'app/shared'</code> anywhere in my app (my <code>tsconfig.json</code> is in the <code>src\\</code> folder). Compiles without any errors and works with Angular CLI. </p>\n"}], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 1, "accepted_answer_id": 40126321, "answer_count": 1, "score": 0, "last_activity_date": 1501151957, "creation_date": 1476864936, "last_edit_date": 1495542750, "question_id": 40125752, "link": "https://stackoverflow.com/questions/40125752/angular-2-can-you-import-something-from-the-project-root-instead-of-having-to-go", "title": "Angular 2 can you import something from the project root instead of having to go back using ../", "body": "<p>I've found that I'm slowly digging my own grave, because the deeper my folder structure gets, the further back I must go each time I need to import a module from my root component:</p>\n\n<pre><code>import {ComponentsModule, SharedModule} from '../../../../../../shared';\n</code></pre>\n\n<p>Since that view also have child views then it will become even longer. </p>\n\n<p>I looked at <a href=\"https://stackoverflow.com/questions/34614818/angular2-root-relative-imports\">this question</a> which suggests that this is not possible with Angular 2 as of now. Yet it seems so odd to me that there wouldn't be a way to achieve something like this instead:</p>\n\n<pre><code>import {ComponentsModule, SharedModule} from 'src/app/shared';\n</code></pre>\n\n<p>Is this a feature that will come in the future or is this already possible somehow?</p>\n\n<p><strong>EDIT:</strong> As per @Sasxa's suggestion I did this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"*\": [\n        \"*\"\n      ]\n    },\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ]\n  }\n}\n</code></pre>\n\n<p>But now when I try to start Angular CLI I get a whole bunch of errors, main ones being these: <code>ERROR in Entry module not found: Error: Recursion in resolving</code> and <code>ERROR in multi main Module not found: Error: Recursion in resolving</code>.</p>\n\n<p>Is something missing?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1476869961, "post_id": 40125393, "comment_id": 67525028, "body": "Don&#39;t do it manually: <a href=\"https://www.stevefenton.co.uk/2013/04/stop-manually-assigning-typescript-constructor-parameters/\" rel=\"nofollow noreferrer\">stevefenton.co.uk/2013/04/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 18068, "user_id": 3375906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdecf2bb6e58644b47527e4d6f483226?s=128&d=identicon&r=PG", "display_name": "trungk18", "link": "https://stackoverflow.com/users/3375906/trungk18"}, "edited": false, "score": 0, "creation_date": 1503458982, "post_id": 40125493, "comment_id": 78617863, "body": "I also found a good resource regarding TypeScript shortcut. <a href=\"https://angular.io/guide/displaying-data#creating-a-class-for-the-data\" rel=\"nofollow noreferrer\">angular.io/guide/displaying-data#creating-a-class-for-the-da&zwnj;&#8203;ta</a>"}], "tags": [], "owner": {"reputation": 3284, "user_id": 1841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7626f7fd5a7d9ecc5f84d42c7eea4405?s=128&d=identicon&r=PG", "display_name": "Kewin Dousse", "link": "https://stackoverflow.com/users/1841827/kewin-dousse"}, "is_accepted": true, "score": 3, "last_activity_date": 1506093117, "last_edit_date": 1506093117, "creation_date": 1476864133, "answer_id": 40125493, "question_id": 40125393, "link": "https://stackoverflow.com/questions/40125393/manually-and-auto-assigning-constructor-parameters-in-typescript/40125493#40125493", "title": "Manually and auto assigning constructor parameters in TypeScript", "body": "<p>Yes, the two ways of writing it are effectively the same. You can see the second one being used with <code>public</code> on the official language specification <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#1.6\" rel=\"nofollow noreferrer\">here</a> on GitHub.</p>\n\n<p>So,</p>\n\n<pre><code>class BankAccount {  \n    constructor(public balance: number) {}  \n}\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>class BankAccount {\n    public balance: number\n    constructor(balance: number) {\n        this.balance = balance;  \n    }  \n}\n</code></pre>\n\n<p>Also, a note on the generated JavaScript code : Using <code>private</code> or <code>public</code> won't change the output. Because in pure JavaScript, there's no such thing as a \"private\" member : You can't prevent an access to a member of your object.\nThe only effect <code>public</code> and <code>private</code> have is telling TypeScript what should and what shouldn't be accessed by other code.</p>\n"}], "owner": {"reputation": 18068, "user_id": 3375906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdecf2bb6e58644b47527e4d6f483226?s=128&d=identicon&r=PG", "display_name": "trungk18", "link": "https://stackoverflow.com/users/3375906/trungk18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 1, "accepted_answer_id": 40125493, "answer_count": 1, "score": 2, "last_activity_date": 1506093117, "creation_date": 1476863814, "question_id": 40125393, "link": "https://stackoverflow.com/questions/40125393/manually-and-auto-assigning-constructor-parameters-in-typescript", "title": "Manually and auto assigning constructor parameters in TypeScript", "body": "<p>The following code is what I always use to defined a constructor in <code>TypeScript</code> so far.</p>\n\n<pre><code>export class DashboardComponent {\n    private heroService: HeroService;\n    constructor(heroService: HeroService){\n        this.heroService = heroService\n    }\n}  \n</code></pre>\n\n<p>But recently when I check the <code>Angular 2</code> <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt5.html\" rel=\"nofollow\">document</a>, I saw the syntax is shorter and look like </p>\n\n<pre><code>export class DashboardComponent {\n    constructor(private heroService: HeroService){}\n}   \n</code></pre>\n\n<p>And the compiled JavaScript is the same</p>\n\n<pre><code>var DashboardComponent = (function () {\n    function DashboardComponent(heroService) {\n        this.heroService = heroService;\n    }\n    return DashboardComponent;\n}());\n</code></pre>\n\n<p>Because on the <code>TypeScript</code> <a href=\"http://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow\">docs</a> only show the first type so I just want to make sure that two is the same and I am doing correctly with both of those types. </p>\n\n<p>Appreciate If someone can help me to confirm it?</p>\n"}, {"tags": ["node.js", "typescript", "sequelize.js"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1476864594, "post_id": 40125391, "comment_id": 67521316, "body": "Try to use function instead of arrow function. <code>toJSON: function(){...</code>"}, {"owner": {"reputation": 713, "user_id": 3759703, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/49c862d29731c7d9513f956cc2d0341f?s=128&d=identicon&r=PG&f=1", "display_name": "phzonta", "link": "https://stackoverflow.com/users/3759703/phzonta"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1476868529, "post_id": 40125391, "comment_id": 67523985, "body": "that did the job! thank you"}, {"owner": {"reputation": 2028, "user_id": 4887407, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/y6IBO.png?s=128&g=1", "display_name": "Tom Jardine-McNamara", "link": "https://stackoverflow.com/users/4887407/tom-jardine-mcnamara"}, "edited": false, "score": 0, "creation_date": 1476990538, "post_id": 40125391, "comment_id": 67594099, "body": "FWIW, Sequelize instances already have a toJSON() method..."}], "owner": {"reputation": 713, "user_id": 3759703, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/49c862d29731c7d9513f956cc2d0341f?s=128&d=identicon&r=PG&f=1", "display_name": "phzonta", "link": "https://stackoverflow.com/users/3759703/phzonta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1237, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476863808, "creation_date": 1476863808, "question_id": 40125391, "link": "https://stackoverflow.com/questions/40125391/sequelize-instance-methods-with-typescript", "title": "Sequelize instance methods with typescript", "body": "<p>I'm trying to implement toJSON() instance method of sequelize, like this:</p>\n\n<pre><code>  sequelize.define&lt;UserInstance, UserAttribute&gt;(\"User\", UserValidation, {\n      instanceMethods: {\n          toJSON: () =&gt; {\n              console.log(this); // undefined\n          }\n      }\n  })\n</code></pre>\n\n<p>the this object is undefined. If I put the option object in its own variable, the this object points to the module object.\nOddly, the vscode debugger sees the this object correctly, i.e. pointing to the instance.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2388, "user_id": 1124913, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58ce1b983be787b72233e171372f89df?s=128&d=identicon&r=PG", "display_name": "Akanksha Gaur", "link": "https://stackoverflow.com/users/1124913/akanksha-gaur"}, "edited": false, "score": 0, "creation_date": 1476862954, "post_id": 40124889, "comment_id": 67520314, "body": "Thanks, it resolved the issue. don&#39;t need requirejs anymore."}], "tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": true, "score": 4, "last_activity_date": 1476862627, "last_edit_date": 1476862627, "creation_date": 1476862195, "answer_id": 40124889, "question_id": 40124717, "link": "https://stackoverflow.com/questions/40124717/angular-2-moved-to-types-giving-error-cannot-find-name-require/40124889#40124889", "title": "Angular 2 - moved to @types giving error &quot;cannot find name &#39;require&#39;&quot;", "body": "<p>Change your <code>tsconfig.json</code> as follows as <code>typeRoots</code> and <code>types</code> are <code>compilerOptions</code> properties as per <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow\">documentation</a> :</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false,\n    \"types\": [\n      \"core-js\",\n      \"jasmine\",\n      \"node\",\n      \"lodash\",\n      \"jquery\",\n      \"requirejs\",\n      \"angular\",\n      \"googlemaps\"\n    ],\n    \"typeRoots\": [\n      \"./node_modules/@types\",\n      \"./src/custom-typings.d.ts\"\n    ]\n  }\n}\n</code></pre>\n\n<p>Also check <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow\">documentation for types, typeroots and types</a> which says that <code>If typesRoots is specified, only packages under typeRoots will be included</code> so check by removing <code>typesRoots</code> or making change in <code>typesRoots</code> property settings.</p>\n"}], "owner": {"reputation": 2388, "user_id": 1124913, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58ce1b983be787b72233e171372f89df?s=128&d=identicon&r=PG", "display_name": "Akanksha Gaur", "link": "https://stackoverflow.com/users/1124913/akanksha-gaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1660, "favorite_count": 0, "accepted_answer_id": 40124889, "answer_count": 1, "score": 1, "last_activity_date": 1476862627, "creation_date": 1476861626, "question_id": 40124717, "link": "https://stackoverflow.com/questions/40124717/angular-2-moved-to-types-giving-error-cannot-find-name-require", "title": "Angular 2 - moved to @types giving error &quot;cannot find name &#39;require&#39;&quot;", "body": "<p>I have moved my project from old typings to types-publisher. Most of my dependencies are resolved except I keep getting this error <strong>Cannot find name 'require'</strong>\nhere is my tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"typeRoots\": [\n    \"./node_modules/@types\",\n    \"./src/custom-typings.d.ts\"\n  ],\n  \"types\": [\n    \"core-js\",\n    \"jasmine\",\n    \"node\",\n    \"lodash\",\n    \"jquery\",\n    \"requirejs\",\n    \"angular\",\n    \"googlemaps\"\n  ]\n}\n</code></pre>\n\n<p>in my package.json for \"devdependencies\", I have these </p>\n\n<pre><code>\"@types/angular\": \"^1.5.16\",\n    \"@types/core-js\": \"^0.9.34\",\n    \"@types/googlemaps\": \"^3.25.35\",\n    \"@types/jasmine\": \"^2.5.35\",\n    \"@types/jquery\": \"^2.0.33\",\n    \"@types/lodash\": \"^4.14.37\",\n    \"@types/node\": \"^6.0.45\",\n    \"@types/requirejs\": \"^2.1.28\",\n</code></pre>\n\n<p>I installed @types/requirejs too... but this error won't go away. \nIs there something I am missing or adding incorrectly?</p>\n\n<p>I am using webpack 2.1.0.beta.25 for my application. </p>\n"}, {"tags": ["javascript", "sqlite", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "is_accepted": true, "score": 1, "last_activity_date": 1476859721, "creation_date": 1476859721, "answer_id": 40124119, "question_id": 40123902, "link": "https://stackoverflow.com/questions/40123902/javascript-promise-how-to-make-synchronous/40124119#40124119", "title": "Javascript &#39;Promise&#39; how to make Synchronous", "body": "<p>You need to return new promises from inner promise callbacks:</p>\n\n<pre><code>public openDatabase(): Promise&lt;Array&lt;Message&gt;&gt; {\n    let promise: Promise&lt;Array&lt;Message&gt;&gt; = new Promise&lt;Array&lt;Message&gt;&gt;(resolve =&gt; {\n        if (false &amp;&amp; this.database &amp;&amp; this.database != null) {\n            return Promise.all([this.refreshChats(this.database), this.refreshMessages(this.database)]).then(() =&gt; {\n                console.log('openDatabase1: resolve');\n                resolve(this.messages);\n            });\n        } else {\n            this.database = new SQLite();\n            return this.database.openDatabase({\n                name: \"data.db\",\n                location: \"default\"\n            }).then(() =&gt; {\n                return Promise.all([this.refreshChats(this.database), this.refreshMessages(this.database)]).then(() =&gt; {\n                    console.log('openDatabase2: resolve');\n                    resolve(this.messages);\n                });\n            }, (error) =&gt; {\n                console.log(\"OPEN ERROR: \", error);\n            });\n        }\n    });\n    return promise;\n}\n\npublic refreshChats(db: any): Promise&lt;any&gt; {\n    console.log('refreshChats ');\n    return db.executeSql(\"SELECT * FROM chats\", [])\n        .then((chatData) =&gt; {\n            let promises: Array&lt;any&gt; = [];\n            this.chats = [];\n            if (chatData.rows.length &gt; 0) {\n                for (var i = 0; i &lt; chatData.rows.length; i++) {\n                    promises.push(this.populateChat(db, chatData.rows.item(i)));\n                }\n            }\n            return Promise.all(promises).then(() =&gt; {\n                console.log('refreshChats return this.chats.length = ' + this.chats.length);\n                return this.chats;\n            });\n        })\n        .catch(error =&gt; {\n            console.log(\"ERROR REFRESHING CHATS: \" + JSON.stringify(error));\n            console.log(error);\n        });\n}\n</code></pre>\n\n<p>Note, <code>return Promise.all</code> and <code>return this.database.openDatabase</code>.</p>\n"}], "owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 40124119, "answer_count": 1, "score": 1, "last_activity_date": 1476859721, "creation_date": 1476858990, "last_edit_date": 1476859530, "question_id": 40123902, "link": "https://stackoverflow.com/questions/40123902/javascript-promise-how-to-make-synchronous", "title": "Javascript &#39;Promise&#39; how to make Synchronous", "body": "<p>I am using Ionic2/Typescript.</p>\n\n<p>I have 2 <code>Promise</code>'s that I want to have complete, before I continue (i.e synchronous).  So I put the call to the 2 functions in a <code>Promise.all(...)</code>, expecting them to complete before <code>resolve</code> is called.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>public openDatabase(): Promise&lt;Array&lt;Message&gt;&gt; {\n    let promise: Promise&lt;Array&lt;Message&gt;&gt; = new Promise&lt;Array&lt;Message&gt;&gt;(resolve =&gt; {\n        if (false &amp;&amp; this.database &amp;&amp; this.database != null) {\n            Promise.all([this.refreshChats(this.database), this.refreshMessages(this.database)]).then(() =&gt; {\n                console.log('openDatabase1: resolve');\n                resolve(this.messages);\n            });\n        } else {\n            this.database = new SQLite();\n            this.database.openDatabase({\n                name: \"data.db\",\n                location: \"default\"\n            }).then(() =&gt; {\n                Promise.all([this.refreshChats(this.database), this.refreshMessages(this.database)]).then(() =&gt; {\n                    console.log('openDatabase2: resolve');\n                    resolve(this.messages);\n                });\n            }, (error) =&gt; {\n                console.log(\"OPEN ERROR: \", error);\n            });\n        }\n    });\n    return promise;\n}\n\npublic refreshChats(db: any): Promise&lt;any&gt; {\n    console.log('refreshChats ');\n    return db.executeSql(\"SELECT * FROM chats\", [])\n        .then((chatData) =&gt; {\n            let promises: Array&lt;any&gt; = [];\n            this.chats = [];\n            if (chatData.rows.length &gt; 0) {\n                for (var i = 0; i &lt; chatData.rows.length; i++) {\n                    promises.push(this.populateChat(db, chatData.rows.item(i)));\n                }\n            }\n            Promise.all(promises).then(() =&gt; {\n                console.log('refreshChats return this.chats.length = ' + this.chats.length);\n                return this.chats;\n            });\n        })\n        .catch(error =&gt; {\n            console.log(\"ERROR REFRESHING CHATS: \" + JSON.stringify(error));\n            console.log(error);\n        });\n}\n</code></pre>\n\n<p>From my console output, you can see that <code>resolve</code> is called before the chats are finished refreshing:</p>\n\n<blockquote>\n<pre><code>refreshChats\npopulateChat  Object {...}\nopenDatabase2: resolve\nrefreshChats return this.chats.length = 1\n</code></pre>\n</blockquote>\n\n<p>Any advise on how I should structure my <code>Promises</code> is appreciated.</p>\n"}, {"tags": ["ios", "iphone", "typescript", "ionic2", "node-modules"], "answers": [{"tags": [], "owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "is_accepted": false, "score": 0, "last_activity_date": 1476976125, "creation_date": 1476976125, "answer_id": 40158223, "question_id": 40123360, "link": "https://stackoverflow.com/questions/40123360/how-to-include-node-module-when-building-for-ios-in-ionic-2/40158223#40158223", "title": "How to include node_module when building for iOS in ionic 2?", "body": "<p>To have a plugin in your node_modules in ionic there are 2 things to do.</p>\n\n<p>1) add it to your <code>package.json</code> &lt;- this will generate the actual node_module folder</p>\n\n<p>2) add it to your <code>config.xml</code> as a <code>&lt;plugin&gt;</code> (although I'm not sure since this was installed with <code>npm</code> maybe <code>package.json</code> will be enough</p>\n"}], "owner": {"reputation": 11, "user_id": 3890799, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000031720842/picture?type=large", "display_name": "Daniel Diesenreither", "link": "https://stackoverflow.com/users/3890799/daniel-diesenreither"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476976125, "creation_date": 1476856851, "question_id": 40123360, "link": "https://stackoverflow.com/questions/40123360/how-to-include-node-module-when-building-for-ios-in-ionic-2", "title": "How to include node_module when building for iOS in ionic 2?", "body": "<p>im about to use an autosize module for automatic resize of a ion-textarea.</p>\n\n<p>Module:\n<a href=\"http://www.jacklmoore.com/autosize/\" rel=\"nofollow\">http://www.jacklmoore.com/autosize/</a></p>\n\n<p>I have installed it like the docs said and i testet it in the browser (ionic serve) and on my iPhone(ionic build ios => run with xcode).</p>\n\n<p>Browser => the module does what it should and resizes the textarea perfectly.</p>\n\n<p>Iphone => it does nothing</p>\n\n<p>Question:\nDo i have to specially include node_modules to let the \"ionic build ios\" command know that i need this module?</p>\n\n<p>Would be really great if somebody can help me with this, i will get some :beer: for the guy who can help me on this.</p>\n\n<p>Greetings Daniel</p>\n\n<p>Here a Screencast of the working plugin in Browser.\n<a href=\"https://i.stack.imgur.com/BNKMd.gif\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/BNKMd.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "lazy-loading", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 9024, "user_id": 1808126, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c71e6d5ceb7acfea234912b6519f79ab?s=128&d=identicon&r=PG", "display_name": "Alexander Ciesielski", "link": "https://stackoverflow.com/users/1808126/alexander-ciesielski"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476859130, "post_id": 40123863, "comment_id": 67517940, "body": "Why do you export <code>RouterModule</code> in your modules? I&#39;m pretty sure you shouldn&#39;t do that"}, {"owner": {"reputation": 9024, "user_id": 1808126, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c71e6d5ceb7acfea234912b6519f79ab?s=128&d=identicon&r=PG", "display_name": "Alexander Ciesielski", "link": "https://stackoverflow.com/users/1808126/alexander-ciesielski"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476859228, "post_id": 40123863, "comment_id": 67517989, "body": "Please read the documentation on the Angular 2 router. There should be no such thing as a <code>LoginRouterModule</code>. The LoginModule is the only module you should have for login. Inside that, you should define the <code>RouterModule.forChild</code>"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476859491, "post_id": 40123863, "comment_id": 67518151, "body": "If you read the styleguide you can see that you should have a router-module file for your routing instead of just throwing it inside the main module. Anyway I got it working now thanks to Meligy&#39;s example repo, turns out you can&#39;t use the <code>children</code> syntax with lazy loaded routes. Thanks for the pointer though :)"}], "tags": [], "owner": {"reputation": 9024, "user_id": 1808126, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c71e6d5ceb7acfea234912b6519f79ab?s=128&d=identicon&r=PG", "display_name": "Alexander Ciesielski", "link": "https://stackoverflow.com/users/1808126/alexander-ciesielski"}, "is_accepted": false, "score": 2, "last_activity_date": 1476858843, "creation_date": 1476858843, "answer_id": 40123863, "question_id": 40122820, "link": "https://stackoverflow.com/questions/40122820/angular-2-how-to-define-lazy-loaded-child-routes-of-a-parent-route-thats-also-l/40123863#40123863", "title": "Angular 2 how to define lazy loaded child routes of a parent route that&#39;s also lazy loaded", "body": "<p>You need to define an empty route within your LoginModule.</p>\n\n<p><strong>login.module.ts</strong></p>\n\n<pre><code>@NgModule({\n  imports: [\n    RouterModule.forChild({ path: '', component: LoginComponent })\n    ComponentsModule,\n    SharedModule\n  ],\n  exports: [\n    ComponentsModule,\n    SharedModule\n  ],\n  declarations: [\n    LoginComponent\n  ]\n})\n\nexport class LoginModule {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476859548, "post_id": 40123923, "comment_id": 67518188, "body": "I was using the wrong syntax for lazy loaded child routes, they should really add some info to the docs about this cuz it is far from obvious. Big thanks again."}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1476937845, "post_id": 40123923, "comment_id": 67560515, "body": "Do you know how to solve this? <a href=\"http://stackoverflow.com/questions/40131110/how-to-render-a-grandchild-view-into-the-same-router-outlet-as-the-first-child\" title=\"how to render a grandchild view into the same router outlet as the first child\">stackoverflow.com/questions/40131110/&hellip;</a>"}, {"owner": {"reputation": 10794, "user_id": 540776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8dbbc1a34bd3c1b0888a3575be6439f4?s=128&d=identicon&r=PG", "display_name": "superjos", "link": "https://stackoverflow.com/users/540776/superjos"}, "edited": false, "score": 0, "creation_date": 1492125220, "post_id": 40123923, "comment_id": 73866698, "body": "@Meligy have you tried if your example works with deep-linking, I mean as in <i>type/copy a link to a lazy nested route in browser address bar and press enter</i>?"}], "tags": [], "owner": {"reputation": 32677, "user_id": 146656, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/67de62b6f38aeddc4b57f0a32bed5681?s=128&d=identicon&r=PG", "display_name": "Meligy", "link": "https://stackoverflow.com/users/146656/meligy"}, "is_accepted": true, "score": 3, "last_activity_date": 1476859044, "last_edit_date": 1495541850, "creation_date": 1476859044, "answer_id": 40123923, "question_id": 40122820, "link": "https://stackoverflow.com/questions/40122820/angular-2-how-to-define-lazy-loaded-child-routes-of-a-parent-route-thats-also-l/40123923#40123923", "title": "Angular 2 how to define lazy loaded child routes of a parent route that&#39;s also lazy loaded", "body": "<p>Looking at my repo from my previous answer to you: <a href=\"https://stackoverflow.com/a/40121008/146656\">https://stackoverflow.com/a/40121008/146656</a></p>\n\n<p>In my sample it's <code>lazy/deep</code>, which matches <code>admin/login</code> for you.</p>\n\n<p>First, I ran <code>ng g module lazy/Deep --routing</code></p>\n\n<p>Then, inside <code>src/app/lazy/deep/deep-routing.module.ts</code>, I modified <code>routes</code> to:</p>\n\n<pre>\nexport const routes: Routes = [\n  {\n    path: '',\n    component: DeepComponent\n  }\n];\n</pre>\n\n<p>Then I added a <code>&lt;router-outlet&gt;</code> to the view of the main component in <code>/lazy</code>, so that content from <code>/lazy/deep</code> can be rendered inside it.</p>\n\n<p>The important piece is how I modified the routing for <code>lazy-routing.module.ts</code>, to allow for lazy-loading the <code>lazy/deep</code> route:</p>\n\n<pre>\nexport const routes: Routes = [\n  {\n    path: '',\n    component: LazyComponent\n  },\n  {\n    path: 'deep',\n    // Loading by relative path didn't seem to work here\n    // loadChildren: './deep/deep.module#DeepModule'\n    loadChildren: 'app/lazy/deep/deep.module#DeepModule'\n  }\n];\n</pre>\n\n<p>If you are running <code>ng watch</code> / <code>npm start</code> or <code>ng build --watch</code>, you'll need to restart that in order to make it work.</p>\n\n<p>See the full example in <code>deep-lazy-loading</code> branch in <a href=\"https://github.com/Meligy/routing-angular-cli/tree/deep-lazy-loading\" rel=\"nofollow noreferrer\">https://github.com/Meligy/routing-angular-cli/tree/deep-lazy-loading</a></p>\n"}], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10411, "favorite_count": 1, "accepted_answer_id": 40123923, "answer_count": 2, "score": 0, "last_activity_date": 1492122413, "creation_date": 1476854685, "last_edit_date": 1492122413, "question_id": 40122820, "link": "https://stackoverflow.com/questions/40122820/angular-2-how-to-define-lazy-loaded-child-routes-of-a-parent-route-thats-also-l", "title": "Angular 2 how to define lazy loaded child routes of a parent route that&#39;s also lazy loaded", "body": "<p>I'm trying to get lazy loading to work for my app but it's one issue after another. I've gotten the main route to lazy load which is <code>/admin</code>, now I want to add another route which is <code>/admin/login</code>. </p>\n\n<p>So I did this:</p>\n\n<p><strong>admin-router.module.ts</strong></p>\n\n<pre><code>@NgModule({\n  imports: [\n    ComponentsModule,\n    SharedModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: AdminAreaComponent,\n        children: [\n          {\n            path: 'login',\n            loadChildren: 'app/+admin-area/pages/login/login.module#LoginModule'\n          }\n        ]\n      }\n    ])\n  ],\n  exports: [\n    RouterModule\n  ],\n  declarations: [\n    AdminAreaComponent\n  ]\n})\nexport class AdminAreaRouterModule {}\n</code></pre>\n\n<p><strong>login-router.module.ts</strong></p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\n// Global modules\nimport {ComponentsModule, SharedModule} from '../../shared';\n\n// Components\nimport {LoginComponent} from '../login.component';\n\n@NgModule({\n  imports: [\n    ComponentsModule,\n    SharedModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: LoginComponent\n      }\n    ])\n  ],\n  exports: [\n    RouterModule\n  ],\n  declarations: [\n    LoginComponent\n  ]\n})\nexport class LoginRouterModule {}\n</code></pre>\n\n<p><strong>login.module.ts</strong></p>\n\n<pre><code>import {NgModule} from '@angular/core';\n\nimport {ComponentsModule, SharedModule} from '../../../shared';\nimport {LoginComponent} from './login.component';\nimport {LoginRouterModule} from './router';\n\n@NgModule({\n  imports: [\n    ComponentsModule,\n    SharedModule,\n    LoginRouterModule\n  ],\n  exports: [\n    ComponentsModule,\n    SharedModule,\n    LoginRouterModule\n  ]\n})\n\nexport class LoginModule {}\n</code></pre>\n\n<p>The problem though is that as soon as I add the <code>children</code> part, <code>/admin</code> stops working all together, throwing the error <code>Cannot match any routes. URL Segment: 'admin'</code>.</p>\n\n<p>Is this not how you define child routes of a lazy loaded route? How can I fix it?</p>\n"}, {"tags": ["typescript", "static", "extends", "overriding"], "answers": [{"comments": [{"owner": {"reputation": 36698, "user_id": 145989, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d0edf9d0f312ec47d27046845580ba4f?s=128&d=identicon&r=PG", "display_name": "Ondra \u017di\u017eka", "link": "https://stackoverflow.com/users/145989/ondra-%c5%bdi%c5%beka"}, "edited": false, "score": 0, "creation_date": 1476887633, "post_id": 40124713, "comment_id": 67538677, "body": "Great. I figured out that actually I used to have this., but it was then changed by other team member and the static field made <code>private</code> :)   Is the <code>this</code> for static context documented somewhere thoroughly? Some language specification part?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 36698, "user_id": 145989, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d0edf9d0f312ec47d27046845580ba4f?s=128&d=identicon&r=PG", "display_name": "Ondra \u017di\u017eka", "link": "https://stackoverflow.com/users/145989/ondra-%c5%bdi%c5%beka"}, "edited": false, "score": 1, "creation_date": 1476889075, "post_id": 40124713, "comment_id": 67539815, "body": "I&#39;m unaware of any documentation on this subject, but if you look at the compiled code you can see why <code>this</code> in static functions is the class. Check my revised answer."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1476889210, "last_edit_date": 1476889210, "creation_date": 1476861618, "answer_id": 40124713, "question_id": 40122587, "link": "https://stackoverflow.com/questions/40122587/typescript-reinitializing-static-data-in-a-subclass-or-other-mechanism-to-sto/40124713#40124713", "title": "TypeScript: Reinitializing static data in a subclass? (or other mechanism to store gobal data)", "body": "<p>Your code should not work in typescript 1.8 as well, as you're doing:</p>\n\n<pre><code>return A.foo[A.foo.length - 1];\n</code></pre>\n\n<p>Which should always return <code>-1</code>, if you want it to return <code>3</code> then it should be doing:</p>\n\n<pre><code>class A {\n    static foo = [-1];\n    static getLastFoo() { return this.foo[this.foo.length - 1]; }\n}\n</code></pre>\n\n<p><code>this</code> in the static context is the class and not instance, so when invoking the <code>getLastFoo</code> function on <code>B</code> it will use <code>B.foo</code>.</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>This:</p>\n\n<pre><code>class A {\n    static x = 3;\n    static fn() {\n        console.log(this);\n    }\n}\n</code></pre>\n\n<p>Compiles into this:</p>\n\n<pre><code>var A = (function () {\n    function A() {\n    }\n    A.fn = function () {\n        console.log(this);\n    };\n    A.x = 3;\n    return A;\n}());\n</code></pre>\n\n<p>It's clear here that <code>this</code> inside <code>A.fn</code> is <code>A</code>, and that <code>this.x</code> is the <code>A.x</code>.</p>\n"}], "owner": {"reputation": 36698, "user_id": 145989, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d0edf9d0f312ec47d27046845580ba4f?s=128&d=identicon&r=PG", "display_name": "Ondra \u017di\u017eka", "link": "https://stackoverflow.com/users/145989/ondra-%c5%bdi%c5%beka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 40124713, "answer_count": 1, "score": 0, "last_activity_date": 1476889210, "creation_date": 1476853674, "question_id": 40122587, "link": "https://stackoverflow.com/questions/40122587/typescript-reinitializing-static-data-in-a-subclass-or-other-mechanism-to-sto", "title": "TypeScript: Reinitializing static data in a subclass? (or other mechanism to store gobal data)", "body": "<p>I have some static data which I want to access through some API with basic logic. (Namely, it's metadata about Java classes.)</p>\n\n<p>I've put the API to few static methods of a class, and the data stub to a static field.</p>\n\n<p>Then, in a subclass (which is generated), I redefine the field with some array. And I could access the same field from both parent and subclass. Not sure. I suspect this used to work but stopped working as TS 2.0 got stricter.</p>\n\n<p>Anyway. I am looking for a mechanism to implement this properly. I need to access it all statically, those are data used globally. In Java, I'd probably make the parent a singleton and manipulated the static data trough there in <code>static {}</code> (however horrible that may sound).</p>\n\n<p>What would be the equivalent in TypeScript?</p>\n\n<pre><code>class A {\n    static foo = [-1];\n    static getLastFoo(){ return A.foo[A.foo.length-1]; } \n}\n\nclass B extends A {\n    static foo = [1,2,3]; // Did this work in TS 1.8?\n}\n\nB.getLastFoo(); // &lt;--- gives 3\n</code></pre>\n\n<p>I assume this is somehow possible through the prototypes. Not sure if TypeScript allows that though.</p>\n"}, {"tags": ["javascript", "d3.js", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5226435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b38a4e9c2ac6419e4097f7f069193058?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5226435/kevin"}, "is_accepted": false, "score": 1, "last_activity_date": 1483726063, "creation_date": 1483726063, "answer_id": 41511669, "question_id": 40122165, "link": "https://stackoverflow.com/questions/40122165/how-to-configure-d3-cloud-to-have-links-in-angular2/41511669#41511669", "title": "How to configure d3-cloud to have links in Angular2?", "body": "<p>with your code </p>\n\n<pre><code>CSTWordCloudComponent.prototype.buildSVG = function (words) {\nmoduleScope.host.append('svg')\n    .attr(\"width\", moduleScope.layout.size()[0])\n    .attr(\"height\", moduleScope.layout.size()[1])\n    .append(\"g\")\n    .attr(\"transform\", \"translate(\" + (moduleScope.layout.size()[0] / 2) + \",\" + moduleScope.layout.size()[1] / 2 + \")\")\n    .selectAll(\"text\")\n    .data(words)\n    .enter()\n    .append(\"a\")\n    .attr(\"routerLink\",function (d) { return 'search-results'; })\n    .append(\"text\")\n    .style(\"font-size\", function (d) { return d.size + \"px\"; })\n    .style(\"font-family\", \"Impact\")\n    .style(\"fill\", function (d, i) { return moduleScope.fill(i); })\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"transform\", function (d) {\n    return \"translate(\" + [d.x, d.y] + \")rotate(\" + d.rotate + \")\";\n})\n    .text(function (d) { return d.text; })\n    .on('click', data =&gt; {\n      //you should had imported 'Router' from '@angular/router'\n      //suppose your link is https://google.com/tagname \n      router.navigateByUrl(`https//google.com/${data.text}`);\n    })\n</code></pre>\n\n<p>};</p>\n\n<p>I hope it can help you\uff0cand my english is pool,I hope you can understand</p>\n"}], "owner": {"reputation": 103, "user_id": 6863489, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2FFIo.jpg?s=128&g=1", "display_name": "Mitchell Y", "link": "https://stackoverflow.com/users/6863489/mitchell-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483726063, "creation_date": 1476851450, "question_id": 40122165, "link": "https://stackoverflow.com/questions/40122165/how-to-configure-d3-cloud-to-have-links-in-angular2", "title": "How to configure d3-cloud to have links in Angular2?", "body": "<p>What I'm trying to do is to add links into d3-cloud to pass its value to another page. Here is the code.</p>\n\n<pre><code>CSTWordCloudComponent.prototype.buildSVG = function (words) {\n    moduleScope.host.append('svg')\n        .attr(\"width\", moduleScope.layout.size()[0])\n        .attr(\"height\", moduleScope.layout.size()[1])\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + (moduleScope.layout.size()[0] / 2) + \",\" + moduleScope.layout.size()[1] / 2 + \")\")\n        .selectAll(\"text\")\n        .data(words)\n        .enter()\n        .append(\"a\")\n        .attr(\"routerLink\",function (d) { return 'search-results'; })\n        .append(\"text\")\n        .style(\"font-size\", function (d) { return d.size + \"px\"; })\n        .style(\"font-family\", \"Impact\")\n        .style(\"fill\", function (d, i) { return moduleScope.fill(i); })\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"transform\", function (d) {\n        return \"translate(\" + [d.x, d.y] + \")rotate(\" + d.rotate + \")\";\n    })\n        .text(function (d) { return d.text; });\n\n};\n</code></pre>\n\n<p>As you can see, I'm trying to pass the value through <strong><em>routerlink</em></strong> <strong>and not href.</strong> </p>\n\n<p><code>.attr(\"routerLink\",function (d) { return 'search-results'; })</code></p>\n\n<p>However, routerlink is not recognised. How do I go on with this? </p>\n"}, {"tags": ["javascript", "unit-testing", "typescript"], "comments": [{"owner": {"reputation": 6698, "user_id": 2212031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08b0e0e51adbb9af4a0ec4f06301b6ef?s=128&d=identicon&r=PG", "display_name": "Quentin Roy", "link": "https://stackoverflow.com/users/2212031/quentin-roy"}, "edited": false, "score": 0, "creation_date": 1476848504, "post_id": 40121659, "comment_id": 67514015, "body": "What is <code>QueryController</code>?"}, {"owner": {"reputation": 13, "user_id": 6886211, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/158cbea76a496347380cce47c46898e6?s=128&d=identicon&r=PG&f=1", "display_name": "falafel", "link": "https://stackoverflow.com/users/6886211/falafel"}, "reply_to_user": {"reputation": 6698, "user_id": 2212031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08b0e0e51adbb9af4a0ec4f06301b6ef?s=128&d=identicon&r=PG", "display_name": "Quentin Roy", "link": "https://stackoverflow.com/users/2212031/quentin-roy"}, "edited": false, "score": 0, "creation_date": 1476848659, "post_id": 40121659, "comment_id": 67514052, "body": "@Roque  <code>QueryController</code> is the class that the query function is in."}, {"owner": {"reputation": 6698, "user_id": 2212031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08b0e0e51adbb9af4a0ec4f06301b6ef?s=128&d=identicon&r=PG", "display_name": "Quentin Roy", "link": "https://stackoverflow.com/users/2212031/quentin-roy"}, "edited": false, "score": 0, "creation_date": 1476848882, "post_id": 40121659, "comment_id": 67514114, "body": "Alright (I guessed that). Did you code it yourself? It looks like this class is responsible for your issue. I don&#39;t see any problem with the core you are showing here. Are you sure the <code>datasets</code> property is properly assigned in the constructor? By the way, are you sure the member name is <code>datasets</code> and not <code>dataset</code>?"}, {"owner": {"reputation": 13, "user_id": 6886211, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/158cbea76a496347380cce47c46898e6?s=128&d=identicon&r=PG&f=1", "display_name": "falafel", "link": "https://stackoverflow.com/users/6886211/falafel"}, "reply_to_user": {"reputation": 6698, "user_id": 2212031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08b0e0e51adbb9af4a0ec4f06301b6ef?s=128&d=identicon&r=PG", "display_name": "Quentin Roy", "link": "https://stackoverflow.com/users/2212031/quentin-roy"}, "edited": false, "score": 0, "creation_date": 1476849958, "post_id": 40121659, "comment_id": 67514387, "body": "@Roque I wrote most of it but not the constructor. Does it look OK? <code>export default class QueryController {     private datasets: Datasets = null;      constructor(datasets: Datasets) {         this.datasets = datasets;     }</code>"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1476857635, "post_id": 40121659, "comment_id": 67517162, "body": "Change <code>&quot;234&quot;</code> to <code>&quot;courses&quot;</code>. You are accessing non existing key..."}], "owner": {"reputation": 13, "user_id": 6886211, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/158cbea76a496347380cce47c46898e6?s=128&d=identicon&r=PG&f=1", "display_name": "falafel", "link": "https://stackoverflow.com/users/6886211/falafel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476852114, "creation_date": 1476847967, "last_edit_date": 1476852114, "question_id": 40121659, "link": "https://stackoverflow.com/questions/40121659/passing-object-to-another-variable", "title": "Passing object to another variable", "body": "<p>I'm trying to unit test the query function. When I debug with a breakpoint at the unit test below, I see that <code>this.datasets = Object</code> with the <code>dataset</code> info in my unit test. However, when I step into the query function, data is undefined. Why is it undefined and how do I set it to the <code>dataset</code> in my unit test?</p>\n\n<p>QueryController.ts:</p>\n\n<pre><code>public query(query: QueryRequest): QueryResponse {\n    Log.trace('QueryController::query( ' + JSON.stringify(query) + ' )');\n    let data: any = this.datasets[\"courses\"];\n\n    // do stuff \n}\n</code></pre>\n\n<p>Unit test:</p>\n\n<pre><code>it(\"Valid query\", function () {\n    let query: QueryRequest = {\n        // valid query code here\n    };\n    let dataset: Datasets = {\n        \"234\": {\n            \"courses_dept\": \"math\",\n            \"courses_id\": \"327\",\n            \"courses_avg\": 86.17,\n            \"courses_instructor\": \"spears, britney\",\n            \"courses_title\": \"opera appreciation\",\n            \"courses_pass\": 23,\n            \"courses_fail\": 10,\n            \"courses_audit\": 10\n        },\n    };\n    let controller = new QueryController(dataset);\n    let ret = controller.query(query);\n\n    //check stuff\n});\n</code></pre>\n\n<p><strong>Edit:</strong> I fixed the problem. query() was calling this.datasets[\"courses\"]. I needed to add a \"courses\" key to my dataset in the unit test. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1476847046, "post_id": 40121489, "comment_id": 67513709, "body": "Also, it looks like you mistyped <code>@Injectable()</code> decorator for <code>LoginService</code> - I don&#39;t think it will work with <code>;</code> and without <code>@</code>"}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1476847675, "post_id": 40121489, "comment_id": 67513833, "body": "good calll ;)))"}], "answers": [{"comments": [{"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1476847108, "post_id": 40121500, "comment_id": 67513721, "body": "Ha, that&#39;s just fantastic, thanks for the help :) what is the default access modifier for angular2 when one isn&#39;t specified? is it private?"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1476847158, "post_id": 40121500, "comment_id": 67513729, "body": "I guess &quot;only to constructor&quot; lol. I don&#39;t know what it&#39;s called, if it even has  a name. It&#39;s definitely not <code>private</code> as even a private modifier gives access to the template. Remember there are no such things as access modiifers in JS, so when the TypeScript is compiled, the modfier is gone. So the template can still access a private variable"}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1476847288, "post_id": 40121500, "comment_id": 67513750, "body": "what do you mean by the template can still access a private variable? what&#39;s the point of making it private then?"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1476847359, "post_id": 40121500, "comment_id": 67513764, "body": "Yeah the modifier is just shorthand for declaring the variable in the class and assigning it in the constructor (TypeScript does this for use behind the scenes). I forgot about that. Without the modifier, the property is not added to the class by TypeScript"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 1, "creation_date": 1476847527, "post_id": 40121500, "comment_id": 67513802, "body": "<i>&quot;what do you mean by the template can still access a private variable?&quot;</i> because there is no public or private in JS, which is what the typescript is compiled to. That means it&#39;s accessible at runtime, but not at compile time. The modifiers are only for compile-time checking. Also see previous comment about typescript adding the property to the class when there is a modifier"}], "tags": [], "owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "is_accepted": true, "score": 2, "last_activity_date": 1476846812, "creation_date": 1476846812, "answer_id": 40121500, "question_id": 40121489, "link": "https://stackoverflow.com/questions/40121489/binding-functions-within-service-layer-to-template/40121500#40121500", "title": "Binding functions within service layer to template", "body": "<p>You need to give the service in the constructor an access modifier, or else it is only scoped to the constructor</p>\n\n<pre><code>// constructor(loginService : LoginService)\nconstructor(public loginService : LoginService)\n</code></pre>\n"}], "owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 40121500, "answer_count": 1, "score": 1, "last_activity_date": 1476847663, "creation_date": 1476846719, "last_edit_date": 1476847663, "question_id": 40121489, "link": "https://stackoverflow.com/questions/40121489/binding-functions-within-service-layer-to-template", "title": "Binding functions within service layer to template", "body": "<p>I am trying to separate out the service related functions from the login page component and I am currently getting some errors along the lines of <code>self.context.logout is not a function</code>. Below, I am trying to inject the loginService into the loginPage and then bind some of the functions within the service to my login template. Any ideas why I am getting these errors? thanks in advance!</p>\n\n<p>LoginService</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class LoginService {\n    constructor() {\n        console.log('constructor logic');\n    }\n\n    checkLoginStatus() {\n        console.log('login logic');\n    }\n\n    logout() {\n        console.log('logout logic');\n    }\n}\n</code></pre>\n\n<p>LoginComponent </p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n  providers: [LoginService]\n})\nexport class LoginPage {\n\n  constructor(loginService : LoginService) {\n\n  }\n\n}\n</code></pre>\n\n<p>Template File</p>\n\n<pre><code>&lt;button class=\"login-button\" on-tap=\"loginService.checkLoginStatus()\"&gt;\n  Log In \n&lt;/button&gt;\n&lt;button class=\"login-button\" on-tap=\"loginService.logout()\"&gt;\n  Log Out \n&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1476839498, "post_id": 40120481, "comment_id": 67512020, "body": "thanks for the response artem, can the first implementation you suggested work for any callback function? or does the callback function have to return a promise in order for that to work?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 2, "creation_date": 1476839669, "post_id": 40120481, "comment_id": 67512054, "body": "This is not related to return value, <code>=&gt;</code> captures <code>this</code> for any callback I believe."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 5, "last_activity_date": 1476839401, "creation_date": 1476839401, "answer_id": 40120481, "question_id": 40120469, "link": "https://stackoverflow.com/questions/40120469/calling-internal-component-function-is-throwing-undefined-error/40120481#40120481", "title": "Calling internal component function is throwing undefined error", "body": "<p>It's because <code>this</code> does not refer to your component in the scope of callback function. You have to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"noreferrer\">arrow function</a></p>\n\n<pre><code>     this.Service.getLoginStatus(response =&gt; {\n       if(response.status == 'connected') {\n            this.printHelloWorld(); //throws undefined error\n       }\n     });\n</code></pre>\n\n<p>or <code>bind()</code></p>\n\n<pre><code>     this.Service.getLoginStatus(function(response) {\n       if(response.status == 'connected') {\n            this.printHelloWorld(); //throws undefined error\n       }\n     }.bind(this));\n</code></pre>\n"}], "owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 40120481, "answer_count": 1, "score": 3, "last_activity_date": 1476839722, "creation_date": 1476839262, "last_edit_date": 1476839722, "question_id": 40120469, "link": "https://stackoverflow.com/questions/40120469/calling-internal-component-function-is-throwing-undefined-error", "title": "Calling internal component function is throwing undefined error", "body": "<p>I am trying to call an internal function within my component within the scope of a callback function using the <code>this</code> prefix. For some reason, this is throwing an undefined function error. Any ideas why this is? Thanks in advance!</p>\n\n<pre><code>    import { Component } from '@angular/core';\n\n    @Component({\n      selector: 'page-login',\n      templateUrl: 'login.html',\n      providers: []\n    })\n    export class LoginPage {\n\n      constructor() {\n        console.log('construct called');\n      }\n\n      checkLoginStatus() {\n         this.Service.getLoginStatus((response) =&gt; {\n           if(response.status == 'connected') {\n                this.printHelloWorld(); //throws undefined error\n           }\n         });\n      }\n\n      printHelloWorld() {\n        console.log('hello world!');\n      }\n    }\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 925, "user_id": 28321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55357f1aabb527ec639daa583e971dc1?s=128&d=identicon&r=PG", "display_name": "aunlead", "link": "https://stackoverflow.com/users/28321/aunlead"}, "edited": false, "score": 0, "creation_date": 1509465553, "post_id": 40119942, "comment_id": 81025860, "body": "if you are using Grunt&#39;s grunt-contrib-jasmine, then setting will look like -  <code>JSON options: {      types : [&#39;node&#39;] } </code>"}], "tags": [], "owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "is_accepted": true, "score": 18, "last_activity_date": 1476840786, "last_edit_date": 1476840786, "creation_date": 1476835147, "answer_id": 40119942, "question_id": 40119852, "link": "https://stackoverflow.com/questions/40119852/duplicate-signature-for-jasmine-in-typescript-typings-definition/40119942#40119942", "title": "Duplicate signature for Jasmine in Typescript typings definition", "body": "<p>According to the <code>@types</code>, <code>typeRoots</code> and <code>types</code> section in the <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\"><code>tsconfig</code></a> documentation:</p>\n\n<blockquote>\n  <p>Specify <code>\"types\": []</code> to disable automatic inclusion of <code>@types</code> packages.</p>\n</blockquote>\n\n<p>Like this:</p>\n\n<pre><code>{\n   \"compilerOptions\": {\n       \"types\" : []\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 1679, "user_id": 1090606, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/63c56227ca7c49a8479e94700b5b0ea6?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/1090606/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3267, "favorite_count": 2, "accepted_answer_id": 40119942, "answer_count": 1, "score": 5, "last_activity_date": 1523451813, "creation_date": 1476834567, "question_id": 40119852, "link": "https://stackoverflow.com/questions/40119852/duplicate-signature-for-jasmine-in-typescript-typings-definition", "title": "Duplicate signature for Jasmine in Typescript typings definition", "body": "<p>Typings file:</p>\n\n<pre><code>{\n  \"globalDependencies\": {\n    \"bootstrap\": \"registry:dt/bootstrap#3.3.5+20160619023404\",\n    \"c3\": \"registry:dt/c3#0.0.0+20160926143332\",\n    \"d3\": \"registry:dt/d3#0.0.0+20160907005744\",\n    \"headroom\": \"registry:dt/headroom#0.7.0+20161003183126\",\n    \"jasmine\": \"registry:dt/jasmine#2.5.0+20161003201800\", // IF I REMOVE THIS LINE, I GET NO ERRORS.\n    \"jasmine-jquery\": \"registry:dt/jasmine-jquery#0.0.0+20160317120654\",\n    \"jquery\": \"registry:dt/jquery#1.10.0+20160929162922\",\n    \"lodash\": \"registry:dt/lodash#4.14.0+20161004174455\",\n    \"modernizr\": \"registry:dt/modernizr#3.2.0+20160215162030\",\n    \"nouislider\": \"registry:dt/nouislider#8.0.2+20160412140110\",\n    \"riot-ts\": \"file:typings/custom/riot-ts.d.ts\",\n    \"riotjs\": \"registry:dt/riotjs#0.0.0+20160316155526\",\n    \"tf.custom\": \"file:typings/custom/tf.custom.d.ts\",\n    \"wnumb\": \"registry:dt/wnumb#1.0.0+20160316155526\"\n  },\n  \"dependencies\": {\n    \"requirejs\": \"registry:npm/requirejs#2.2.0+20160319062357\"\n  }\n}\n</code></pre>\n\n<p>Getting some duplicate errors from the Typescript compiler. Complains of duplicate string/index signatures. </p>\n\n<p>Inside of node_modules there is a @types directory, which I comes from <code>protractor module</code>. In there is a copy of the <code>jasmine</code> typing, which is not needed in my case.</p>\n\n<p>I can remove from typings, the installation call to jasmine, but that will mess up my IDE. How do I tell Typescript to ignore the <code>@types</code> directory?</p>\n\n<p><em>TSconfig which gulp tsify uses:</em></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"declaration\": false,\n    \"noImplicitAny\": false,\n    \"removeComments\": true,\n    \"noLib\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true\n  },\n  \"exclude\": [\n    \"node_modules\",  // this should fix the problem, but doesn't. If I remove this line, I get even more errors.\n    \"vendor\",\n    \"gulp\",\n    \"typings\"\n  ]\n}\n</code></pre>\n\n<p><em>Error:</em></p>\n\n<pre><code>   { [TypeScript error: node_modules/@types/jasmine/index.d.ts(74,9): Error TS2375: Duplicate number index signature.]\n  message: '../node_modules/@types/jasmine/index.d.ts(74,9): Error TS2375: Duplicate number index signature.',\n  fileName: '../node_modules/@types/jasmine/index.d.ts',\n  line: 74,\n  column: 9,\n  name: 'TypeScript error' }\n</code></pre>\n\n<p><em>node modules</em>\n<a href=\"https://i.stack.imgur.com/TqTyO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TqTyO.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>typings</em>\n<a href=\"https://i.stack.imgur.com/BuS1Y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BuS1Y.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Package json</strong></p>\n\n<pre><code>{\n  \"license\": \"UNLICENSED\",\n  \"private\": true,\n  \"devDependencies\": {\n    \"alterclass\": \"git+https://github.com/sidouglas/alter-class#1.0\",\n    \"babel\": \"^6.5.2\",\n    \"babel-core\": \"^6.10.4\",\n    \"babel-preset-es2015\": \"^6.9.0\",\n    \"babel-register\": \"^6.9.0\",\n    \"bootstrap-pull\": \"git+https://github.com/sidouglas/bootstrap-pull.git#3.0.3\",\n    \"browserify-shim\": \"^3.8.12\",\n    \"dot-object\": \"^1.4.1\",\n    \"elixir-jasmine\": \"0.0.4\",\n    \"factor-bundle\": \"^2.5.0\",\n    \"fs-symlink\": \"^1.2.1\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-replace-task\": \"^0.11.0\",\n    \"gulp-tslint\": \"^6.1.1\",\n    \"jasmine-fixture\": \"^2.0.0\",\n    \"jasmine-jquery\": \"^2.1.1\",\n    \"jsonminify\": \"^0.4.1\",\n    \"karma\": \"^1.1.1\",\n    \"karma-chrome-launcher\": \"^1.0.1\",\n    \"karma-firefox-launcher\": \"^1.0.0\",\n    \"karma-ios-simulator-launcher\": \"0.0.4\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-phantomjs-launcher\": \"^1.0.2\",\n    \"karma-safari-launcher\": \"^1.0.0\",\n    \"laravel-elixir\": \"^6.0.0-11\",\n    \"laravel-elixir-bless\": \"^2.0.0\",\n    \"laravel-elixir-browserify-official\": \"^0.1.3\",\n    \"laravel-elixir-browsersync\": \"^0.1.5\",\n    \"laravel-elixir-browsersync-official\": \"^1.0.0\",\n    \"laravel-elixir-remove\": \"^0.2.1\",\n    \"laravel-elixir-replace\": \"^1.1.2\",\n    \"laravel-elixir-scss-lint\": \"^1.3.1\",\n    \"node-sass\": \"^3.8.0\",\n    \"precommit-hook\": \"^3.0.0\",\n    \"protractor\": \"^4.0.9\",\n    \"replace\": \"^0.3.0\",\n    \"retyped-bowser-tsd-ambient\": \"0.0.0-0\",\n    \"run-sequence\": \"^1.2.1\",\n    \"sass-convert\": \"^0.5.2\",\n    \"shelljs\": \"^0.7.4\",\n    \"supplant\": \"^0.2.0\",\n    \"tsify\": \"^2.0.1\",\n    \"tslint\": \"^3.15.1\",\n    \"typescript\": \"^2.0.3\",\n    \"typings\": \"^1.4.0\",\n    \"webdriver-manager\": \"^10.2.4\",\n    \"yargs\": \"^4.8.0\"\n  },\n  \"dependencies\": {\n    \"basename\": \"^0.1.2\",\n    \"boilerplate\": \"^0.5.0\",\n    \"bootstrap\": \"^3.3.6\",\n    \"bootstrap-sass\": \"^3.3.6\",\n    \"bootstrap-select\": \"^1.10.0\",\n    \"bowser\": \"^1.4.2\",\n    \"c3\": \"^0.4.11\",\n    \"d3\": \"^4.2.6\",\n    \"del\": \"^2.2.0\",\n    \"factor-bundle\": \"^2.5.0\",\n    \"gulp-change\": \"^1.0.0\",\n    \"gulp-shell\": \"^0.5.2\",\n    \"headroom.js\": \"^0.9.3\",\n    \"include-media\": \"^1.4.5\",\n    \"jquery\": \"^2.2.4\",\n    \"jquery-replace-class\": \"0.0.1\",\n    \"lodash\": \"^4.14.0\",\n    \"nouislider\": \"^8.5.1\",\n    \"partition-bundle\": \"^2.5.0\",\n    \"redux\": \"^3.6.0\",\n    \"requirejs\": \"^2.2.0\",\n    \"riot\": \"^2.5.0\",\n    \"riot-ts\": \"git://github.com/tfsimondouglas/riot-ts.git\",\n    \"webshim\": \"^1.15.10\",\n    \"wnumb\": \"git://github.com/tannerhodges/wnumb\"\n  },\n  \"scripts\": {\n    \"build\": \"node node_modules/.bin/gulp --production\",\n    \"gulp\": \"node node_modules/.bin/gulp\",\n    \"kill\": \"for pid in `ps -ef | grep gulp | awk '{print $2}'` ; do kill -9 $pid ; done\",\n    \"postinstall\": \"node node_modules/.bin/typings install &amp;&amp; ./node_modules/.bin/webdriver-manager update &amp;&amp; gem install scss_lint\",\n    \"protractor\": \"node node_modules/protractor/bin/webdriver-manager start &amp;&amp; node node_modules/.bin/protractor protractor.conf.js\",\n    \"restart\": \"npm run kill &amp; npm start\",\n    \"scsslint\": \"scss-lint ./resources/assets/sass/widgets/**/*.scss --config .scss-lint.yml\",\n    \"start\": \"npm run watch\",\n    \"test\": \"npm run gulp &amp;&amp; ./node_modules/.bin/karma start --single-run --browsers PhantomJS\",\n    \"tslint\": \"./node_modules/.bin/tslint ./resources/**/*.ts  -c ./gulp/ts.lint.json --exclude ./resources/views/cms/widgets/product-search-natural-language/**/*.ts\",\n    \"watch\": \"node node_modules/.bin/gulp watch\",\n    \"validate\": \"npm ls\",\n    \"lint\": \"jshint .\"\n  },\n  \"pre-commit\": [\n    \"scsslint\",\n    \"tslint\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["typescript", "compilation", "symlink", "tsc"], "answers": [{"comments": [{"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "edited": false, "score": 1, "creation_date": 1542554272, "post_id": 53360928, "comment_id": 93601369, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/21446685\">From Review</a>"}, {"owner": {"reputation": 1, "user_id": 10670311, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/6e84d2e01b09bcfb5c06497901ab5489?s=128&d=identicon&r=PG", "display_name": "abcde", "link": "https://stackoverflow.com/users/10670311/abcde"}, "reply_to_user": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "edited": false, "score": 1, "creation_date": 1542566602, "post_id": 53360928, "comment_id": 93605109, "body": "This is not a link-only answer. The important information - &quot;use preserveSymlinks compiler option&quot; - is in the answer text. The link by itself doesn&#39;t answer the question, it&#39;s a list of all compiler options and i added it just for reference."}, {"owner": {"reputation": 1, "user_id": 10670311, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/6e84d2e01b09bcfb5c06497901ab5489?s=128&d=identicon&r=PG", "display_name": "abcde", "link": "https://stackoverflow.com/users/10670311/abcde"}, "reply_to_user": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "edited": false, "score": 0, "creation_date": 1542567077, "post_id": 53360928, "comment_id": 93605231, "body": "And in case you feel there wasn&#39;t enough information, i added an example."}, {"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "edited": false, "score": 0, "creation_date": 1542569661, "post_id": 53360928, "comment_id": 93605909, "body": "Actually I can fail with my review, this is natural. In SO several reviewers should agree before make a decision. And reviewer who fail recieves penalties. Just in my opinion SO is system to create content where &quot;answer&quot; is a unit of content (not thread as on other forums). Asnwer should be an intersting &quot;story&quot; :) do not worry to much if I have failed - other reviewers/moderators review me :) that how it work."}], "tags": [], "owner": {"reputation": 1, "user_id": 10670311, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/6e84d2e01b09bcfb5c06497901ab5489?s=128&d=identicon&r=PG", "display_name": "abcde", "link": "https://stackoverflow.com/users/10670311/abcde"}, "is_accepted": false, "score": 0, "last_activity_date": 1542566957, "last_edit_date": 1542566957, "creation_date": 1542544473, "answer_id": 53360928, "question_id": 40119847, "link": "https://stackoverflow.com/questions/40119847/typescript-compiler-generated-sources-root-dirs-excludes-and-symlinks/53360928#53360928", "title": "TypeScript compiler: generated sources, root dirs, excludes and symlinks", "body": "<p>I think the <code>preserveSymlinks</code> compiler option could help you:</p>\n\n<blockquote>\n  <p>Do not resolve symlinks to their real path; treat a symlinked file like a real one.</p>\n</blockquote>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a></p>\n\n<p>Example:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"preserveSymlinks\": true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 36698, "user_id": 145989, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d0edf9d0f312ec47d27046845580ba4f?s=128&d=identicon&r=PG", "display_name": "Ondra \u017di\u017eka", "link": "https://stackoverflow.com/users/145989/ondra-%c5%bdi%c5%beka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1041, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1542566957, "creation_date": 1476834534, "last_edit_date": 1476834879, "question_id": 40119847, "link": "https://stackoverflow.com/questions/40119847/typescript-compiler-generated-sources-root-dirs-excludes-and-symlinks", "title": "TypeScript compiler: generated sources, root dirs, excludes and symlinks", "body": "<p>I have this setup of a TypeScript 2.0.3 project:</p>\n\n<pre><code>src/main/webapp/tsconfig.json\nsrc/main/webapp/app -- contains .ts files\nsrc/main/webapp/app/tsModels -- a symlink to ../../../../target/tsModels\ntarget/tsModels/   -- contains .ts files\n</code></pre>\n\n<p>The goal is to get the .ts files in <code>target/tsModels</code> compiled.</p>\n\n<p>First, with <code>\"rootDir\": \".\"</code>, <code>tsc</code> complained: </p>\n\n<blockquote>\n  <p>error TS6059: File '[...]/target/tsModels/AboutWindupModel.ts' is not under 'rootDir' '[...]/src/main/webapp'. 'rootDir' is expected to contain all source files.</p>\n</blockquote>\n\n<p>So I tried</p>\n\n<pre><code>{\n  \"compilerOptions\": {  ...,\n    //\"rootDir\": \".\",\n    \"rootDirs\": [\".\", \"../../../target/tsModels\"],\n  },\n} \n</code></pre>\n\n<p>Still the same. Tried:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    //\"rootDir\": \".\",\n    \"rootDirs\": [\".\", \"../../../target/tsModels\"],\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"target/**\",\n    \"../../../target/**\", \n    \"../../../target/**/*\",\n    \"../../../target/tsModels/*\", \n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n\n<p>But still getting that error.</p>\n\n<p>So it seems that <code>tsc</code> can't handle symlinks properly, always checks the canonical path.</p>\n\n<p>So I thought, ok let's compile the <code>tsModels</code> files directly. So I removed the symlink and tried: </p>\n\n<pre><code>  \"compilerOptions\": {\n    //\"rootDir\": \".\",\n    \"rootDirs\": [\".\", \"../../../target/tsModels\"],\n  },\n</code></pre>\n\n<p>But this doesn't actually compile the files in the <code>tsModels</code> dir.<br>\nI have even tried</p>\n\n<pre><code>    \"rootDirs\": \"../../../target/tsModels\",\n</code></pre>\n\n<p>but <code>tsc</code> didn't compile that, instead, it compiled the <code>.</code>. Does it obey that at all?</p>\n\n<p>What should I do to compile files from both dirs?<br>\nIs there a way to use a symlink leading to dir outside <code>rootDir</code>?</p>\n\n<p>Full config with all the garbage I was trying:</p>\n\n<p><code>\n    {\n      \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"system\",\n        \"moduleResolution\": \"node\",\n        \"sourceMap\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"removeComments\": false,\n        \"noImplicitAny\": false,\n        //\"rootDir\": \".\",\n        //\"rootDirs\": [\".\", \"../../../target/tsModels\"],\n        \"rootDirs\": [\"../../../target/tsModels\"],\n        //\"rootDir\": \"../../../target/tsModels\", \n        \"outDir\": \"../../../target/windup-web\",\n        \"sourceRoot\": \"/windup-web/\"\n      },\n      \"exclude\": [\n        \"node_modules\",\n        //\"target/**\",\n        //\"../../../target/**\", \n        //\"../../../target/**/*\",\n        //\"../../../target/tsModels/*\", \n        //\"target/tsModels/**\",\n        \"typings/main\",\n        \"typings/main.d.ts\"\n      ]\n    }\n</code></p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1476833326, "post_id": 40119538, "comment_id": 67510504, "body": "Do you have something like a <code>main.ts</code> file where you bootstrap the module?"}, {"owner": {"reputation": 7533, "user_id": 1531173, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003240952503/picture?type=large", "display_name": "Adil Malik", "link": "https://stackoverflow.com/users/1531173/adil-malik"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1476833773, "post_id": 40119538, "comment_id": 67510617, "body": "Yes, I do have main.ts @ExplosionPills"}], "answers": [{"comments": [{"owner": {"reputation": 7533, "user_id": 1531173, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003240952503/picture?type=large", "display_name": "Adil Malik", "link": "https://stackoverflow.com/users/1531173/adil-malik"}, "edited": false, "score": 0, "creation_date": 1476834061, "post_id": 40119724, "comment_id": 67510699, "body": "I removed it .. and this is error ... core.umd.js:3257 EXCEPTION: Uncaught (in promise): Error: Cannot match any routes. URL Segment: &#39;&#39;"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 7533, "user_id": 1531173, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003240952503/picture?type=large", "display_name": "Adil Malik", "link": "https://stackoverflow.com/users/1531173/adil-malik"}, "edited": false, "score": 1, "creation_date": 1476834272, "post_id": 40119724, "comment_id": 67510757, "body": "Add a route <code>{ path: &#39;&#39;, redirectTo: &#39;otherRoute&#39;, pathMatch: &#39;full&#39; }</code>. You should redirect to the path you want to go to first. Otherwise if you have no other routes configured, remove the routing."}, {"owner": {"reputation": 7533, "user_id": 1531173, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003240952503/picture?type=large", "display_name": "Adil Malik", "link": "https://stackoverflow.com/users/1531173/adil-malik"}, "edited": false, "score": 0, "creation_date": 1476834569, "post_id": 40119724, "comment_id": 67510836, "body": "But i don&#39;t have any other route yet @peeskillet .... that&#39;s why it still give me error .... but application is working fine"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 7533, "user_id": 1531173, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003240952503/picture?type=large", "display_name": "Adil Malik", "link": "https://stackoverflow.com/users/1531173/adil-malik"}, "edited": false, "score": 0, "creation_date": 1476834655, "post_id": 40119724, "comment_id": 67510863, "body": "Then remove the routing (<code>&lt;router-outlet&gt;</code> and <code>RouterModule</code>) until you have some."}], "tags": [], "owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "is_accepted": true, "score": 2, "last_activity_date": 1476833596, "creation_date": 1476833596, "answer_id": 40119724, "question_id": 40119538, "link": "https://stackoverflow.com/questions/40119538/how-do-i-prevent-angular-from-loading-a-component-twice/40119724#40119724", "title": "How do I prevent Angular from loading a Component twice?", "body": "<p>The <code>AppComponent</code> shouldn't be part of the routing. It's used to bootstrap. That's what the error is about. You're trying to add the <code>AppComponent</code> to the routing, but there's no <code>&lt;router-outlet&gt;</code> for it, because it is the top-level component.</p>\n"}], "owner": {"reputation": 7533, "user_id": 1531173, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100003240952503/picture?type=large", "display_name": "Adil Malik", "link": "https://stackoverflow.com/users/1531173/adil-malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2436, "favorite_count": 0, "accepted_answer_id": 40119724, "answer_count": 1, "score": 3, "last_activity_date": 1503869224, "creation_date": 1476832507, "last_edit_date": 1503869224, "question_id": 40119538, "link": "https://stackoverflow.com/questions/40119538/how-do-i-prevent-angular-from-loading-a-component-twice", "title": "How do I prevent Angular from loading a Component twice?", "body": "<p>My Angular app is loading a component twice. Initially, I had <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> in my component's template and it was working fine but was still giving me these errors: </p>\n\n<pre><code>core.umd.js:3257 EXCEPTION: Uncaught (in promise): Error: Cannot find primary outlet to load 'AppComponent'\ncore.umd.js:3262 ORIGINAL STACKTRACE:\ncore.umd.js:3263 Error: Uncaught (in promise): Error: Cannot find primary outlet to load 'AppComponent'\nzone.js:355 Unhandled Promise rejection: Cannot find primary outlet to load 'AppComponent' ; Zone: angular ; Task: Promise.then ; Value: Error: Cannot find primary outlet to load 'AppComponent'(\u2026) Error: Cannot find primary outlet to load 'AppComponent' \nzone.js:357 Error: Uncaught (in promise): Error: Cannot find primary outlet to load 'AppComponent'\n</code></pre>\n\n<p>To resolve these errors, I added <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> to my template. But now my app is loading my component twice. </p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\nmoduleId: module.id\n  selector:'body', \n  templateUrl: 'app.component.html', \n  styleUrls: ['app.component.css']\n})\n\nexport class AppComponent {\n  title = 'Doctor Application';\n}\n</code></pre>\n\n<p><strong>app-routing.module.ts</strong></p>\n\n<pre><code>import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { AppComponent }   from './app.component';\n\nconst routes: Routes = [\n  { path: '', component: AppComponent  },\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\n\nexport class AppRoutingModule {}\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;h1&gt;{{title}}&lt;/h1&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 13770, "user_id": 218277, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/4fe7fa589daf9e5d90b6f97c9c8f2d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Harry Ninh", "link": "https://stackoverflow.com/users/218277/harry-ninh"}, "edited": false, "score": 0, "creation_date": 1476833538, "post_id": 40119401, "comment_id": 67510564, "body": "Logically <code>ng-pristine</code> and <code>ng-touched</code> are set by the <code>onTouched</code> callback. Could you implement that part and see the result?"}, {"owner": {"reputation": 1952, "user_id": 939543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ee55387d609c7277ad57ac164e4a05cd?s=128&d=identicon&r=PG", "display_name": "Max Mumford", "link": "https://stackoverflow.com/users/939543/max-mumford"}, "reply_to_user": {"reputation": 13770, "user_id": 218277, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/4fe7fa589daf9e5d90b6f97c9c8f2d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Harry Ninh", "link": "https://stackoverflow.com/users/218277/harry-ninh"}, "edited": false, "score": 0, "creation_date": 1476865764, "post_id": 40119401, "comment_id": 67522121, "body": "I&#39;ve updated my question with ngTouched implemented - good idea, but unfortunately that wasn&#39;t the solution."}], "answers": [{"tags": [], "owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "is_accepted": false, "score": -1, "last_activity_date": 1519998629, "last_edit_date": 1519998629, "creation_date": 1519997423, "answer_id": 49070120, "question_id": 40119401, "link": "https://stackoverflow.com/questions/40119401/how-to-update-ng-pristine-in-custom-controlvalueaccessor/49070120#49070120", "title": "How to update ng-pristine in Custom ControlValueAccessor", "body": "<p>You can mark the control as pristine (or dirty, touched, untouched) from the component that implements <code>ControlValueAccessor</code> itself by using the <code>ngControl.control</code> property : </p>\n\n<pre><code>export class DatePickerComponent implements ControlValueAccessor {\n\n  // ...\n  yourFunction(): void {\n\n    let control = this.ngControl.control;\n\n    // use any of these to manipulate the state of the control in the form\n    control.markAsTouched();\n    control.markAsUntouched();\n    control.markAsDirty();\n    control.markAsPristine();\n  }\n}\n</code></pre>\n\n<p>the ngControl.controle is the AbstractControl object used internally by Angular forms. Some doc link : <a href=\"https://angular.io/api/forms/AbstractControl\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/AbstractControl</a> </p>\n"}], "owner": {"reputation": 1952, "user_id": 939543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ee55387d609c7277ad57ac164e4a05cd?s=128&d=identicon&r=PG", "display_name": "Max Mumford", "link": "https://stackoverflow.com/users/939543/max-mumford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1712, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1519998629, "creation_date": 1476831355, "last_edit_date": 1476865718, "question_id": 40119401, "link": "https://stackoverflow.com/questions/40119401/how-to-update-ng-pristine-in-custom-controlvalueaccessor", "title": "How to update ng-pristine in Custom ControlValueAccessor", "body": "<p>I have written a simple CustomValueAccessor to implement the pikaday datepicker. It works, but when I choose a date with the date picker and update the property, the inner input control (which is bound to the property with ngModel) does not update it's ng-pristine class, while the outer component does. I need the inner input to be marked as ng-touched and I can't figure out how to achieve that.</p>\n\n<p>Here is my class:</p>\n\n<pre><code>import { Component, OnInit, Input, Output, EventEmitter, ViewEncapsulation, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { DateService } from \"./shared\";\n\nimport * as pikaday from 'pikaday'\n\n@Component({\n  selector: 'datepicker',\n  templateUrl: 'datepicker.component.html',\n  styles: [require('pikaday/css/pikaday.css')],\n  encapsulation: ViewEncapsulation.None,\n    providers: [\n    // providers to implement formControlName\n    { \n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() =&gt; DatePickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class DatePickerComponent implements OnInit, ControlValueAccessor {\n\n  /**\n   * ID of the input element\n   */\n  @Input() id: string;\n\n  /**\n   * The minimum date the user can select. Defaults to today. Set to null to not require. \n   */\n  @Input() minDate: Date = new Date();\n\n  /**\n   * Outputs the chosen date string\n   */\n  @Output('date') dateChanged: EventEmitter&lt;string&gt; = new EventEmitter&lt;string&gt;();\n\n  /**\n   * The formatted date value\n   */\n  private _date: string;\n\n  constructor() { }\n\n  /**\n   * Initialises the pikaday datepicker\n   */\n  ngOnInit() {\n    if(!this.id)\n      throw \"Id is required for datepicker\"\n\n    let options = { \n      field: document.getElementById(this.id),\n      format: DateService.datePickerFormat,\n      onSelect: date =&gt; {\n        this.date = startDatePicker.toString();\n      } \n    };\n    if(this.minDate)\n      options['minDate'] = this.minDate;\n\n    let startDatePicker = new pikaday(options);\n  }\n\n  /**\n   * Emits the new date\n   */\n  set date(value){\n    this._date = value;\n    this.onChangeCallback(value);\n    this.onTouchedCallback(value);\n  }\n\n  /**\n   * Returns the date value\n   */\n  get date(){\n    return this._date;\n  }\n\n  /**\n   * Push date to parent components (required by ControlValueAccessor)\n   */\n  onChangeCallback = (_: any) =&gt; {};\n\n  /**\n   * let formControlValue interface register a touch callback \n   */\n  onTouchedCallback = (_: any) =&gt; {};\n\n  /**\n   * Allows parent component to set the onchange handler\n   */\n  registerOnChange(fn) {\n    this.onChangeCallback = fn;\n  }\n\n  /**\n   * Allows parent component to set an ontouch handler (not implemented)\n   */\n  registerOnTouched(fn) {\n    this.onTouchedCallback = fn;\n  }\n\n  /**\n   * Called when the component is inited with formControlName\n   */\n  writeValue(value: any) {\n    this.date = value;\n  }\n\n}\n</code></pre>\n\n<p>And the template:</p>\n\n<pre><code>&lt;input type=\"text\" [id]=\"id\" [(ngModel)]=\"date\"&gt;\n</code></pre>\n\n<p>And here is the HTML before having set a value with the datepicker:</p>\n\n<pre><code>&lt;datepicker formcontrolname=\"endDatePicker\" id=\"endDatePicker\" ng-reflect-id=\"endDatePicker\" ng-reflect-name=\"endDatePicker\" class=\"ng-untouched ng-pristine ng-invalid\"&gt;&lt;input type=\"text\" ng-reflect-model=\"\" ng-reflect-id=\"endDatePicker\" id=\"endDatePicker\" class=\"ng-untouched ng-pristine ng-valid\"&gt;\n    &lt;input type=\"text\" ng-reflect-model=\"\" ng-reflect-id=\"endDatePicker\" id=\"endDatePicker\" class=\"ng-untouched ng-pristine ng-valid\"&gt;\n&lt;/datepicker&gt;\n</code></pre>\n\n<p>And here it is afterwards:</p>\n\n<pre><code>&lt;datepicker formcontrolname=\"endDatePicker\" id=\"endDatePicker\" ng-reflect-id=\"endDatePicker\" ng-reflect-name=\"endDatePicker\" class=\"ng-touched ng-dirty ng-valid\"&gt;&lt;input type=\"text\" ng-reflect-model=\"19 October, 2016\" ng-reflect-id=\"endDatePicker\" id=\"endDatePicker\" class=\"ng-pristine ng-valid ng-touched\"&gt;\n    &lt;input type=\"text\" ng-reflect-model=\"19 October, 2016\" ng-reflect-id=\"endDatePicker\" id=\"endDatePicker\" class=\"ng-pristine ng-valid ng-touched\"&gt;\n&lt;/datepicker&gt;\n</code></pre>\n\n<p>Note the classes: ng-pristine and ng-touched on the input control. As far as I'm concerned it should be ng-dirty, not ng-pristine.</p>\n"}, {"tags": ["node.js", "typescript", "npm", "node-modules"], "answers": [{"comments": [{"owner": {"reputation": 9698, "user_id": 2849613, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SL5Wi.jpg?s=128&g=1", "display_name": "Maciej Treder", "link": "https://stackoverflow.com/users/2849613/maciej-treder"}, "edited": false, "score": 0, "creation_date": 1476836222, "post_id": 40119106, "comment_id": 67511225, "body": "Ok. This solution works. I refactored my module. Now I got Module build failed: Error: Typescript emitted no output for. How should I prepare my index files/package.json?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1476829618, "creation_date": 1476829618, "answer_id": 40119106, "question_id": 40118036, "link": "https://stackoverflow.com/questions/40118036/creating-node-module-with-subfolders/40119106#40119106", "title": "Creating node module with subfolders", "body": "<blockquote>\n  <p>What should I write in index.ts to make my module to be used in this way</p>\n</blockquote>\n\n<p>Given that you want to use <code>import {something} from 'myModule/A'</code> implies that <code>myModule/A</code> folder should have an <code>index.ts</code> that exports <code>something</code>. </p>\n\n<p>This conflicts with the fact that <code>A/index</code> is actually located in <code>myModule/src/A/index</code>. </p>\n\n<p>Move the file and it should work.</p>\n"}], "owner": {"reputation": 9698, "user_id": 2849613, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SL5Wi.jpg?s=128&g=1", "display_name": "Maciej Treder", "link": "https://stackoverflow.com/users/2849613/maciej-treder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "accepted_answer_id": 40119106, "answer_count": 1, "score": 2, "last_activity_date": 1476829618, "creation_date": 1476824647, "question_id": 40118036, "link": "https://stackoverflow.com/questions/40118036/creating-node-module-with-subfolders", "title": "Creating node module with subfolders", "body": "<p>I am developing npm module. I have following index.ts</p>\n\n<pre><code>export * from './src/A/index';\n</code></pre>\n\n<p>At this moment, in app import statement looks as follow:</p>\n\n<pre><code>import {something} from 'myModule';\n</code></pre>\n\n<p>I would like to add some extra logic to my module, and organize it like:</p>\n\n<pre><code>export * from './src/A/index';\nexport * from './src/B/index';\nexport * from './src/C/index';\n</code></pre>\n\n<p>What should I write in index.ts to make my module to be used in this way:</p>\n\n<pre><code>import {something} from 'myModule/A'\nimport {something2} from 'myModule/B'\n</code></pre>\n\n<p>etc.?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1476820017, "creation_date": 1476820017, "answer_id": 40116824, "question_id": 40116763, "link": "https://stackoverflow.com/questions/40116763/angular-2-attribute-is-undefined-on-ngoninit/40116824#40116824", "title": "Angular 2 attribute is undefined on ngOnInit", "body": "<p>You need to chain async calls:</p>\n\n<pre><code>ngOnInit(): void {\n  this.route.params.forEach((params: Params) =&gt; {\n    console.log(params);\n    let id = +params['id'];\n\n    // vvvvvvvv use `.then(...)`\n    this.getStudent(id).then(student =&gt; {  \n      console.log(id);\n        console.log(this.student);\n        this.getDisciplines(this.student.secretariatId);\n    });\n  }\n}\n\ngetStudent(id: number): void {\n   // vvvvvvvv return the promise so callers can chain their code\n   return this.studentService.getStudent(id)\n     .then(student =&gt; this.student = student);\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3712585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/97Kun.jpg?s=128&g=1", "display_name": "rubenspessoa", "link": "https://stackoverflow.com/users/3712585/rubenspessoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5512, "favorite_count": 0, "accepted_answer_id": 40116824, "answer_count": 1, "score": 1, "last_activity_date": 1505372495, "creation_date": 1476819795, "last_edit_date": 1505372495, "question_id": 40116763, "link": "https://stackoverflow.com/questions/40116763/angular-2-attribute-is-undefined-on-ngoninit", "title": "Angular 2 attribute is undefined on ngOnInit", "body": "<p>I'm new to web developing with AngularJs 2 and <em>I don't have experience with AngularJs 1 too</em>. So, I'm sorry if I'm asking something stupid. I'm stuck on a problem and I googled it but I couldn't find any solutions for it. :/</p>\n\n<p>The problem is:</p>\n\n<p>I'm trying to use <strong>in a function called at the end of ngOnInit</strong> an attribute of an object that I initialize <strong>on ngOnInit</strong>, but this object is still <strong>undefined</strong>, so I get the following exception:</p>\n\n<pre><code>Error: Uncaught (in p**strong text**romise): TypeError: Cannot read property 'secretariatId' of undefined\n</code></pre>\n\n<p>Here is my component:</p>\n\n<pre><code>import {Component, OnInit, AfterViewChecked} from '@angular/core';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\n\nimport {StudentService} from './services/student.service';\nimport {Student} from './services/student';\n\nimport {SecretariatService} from './services/secretariat.service';\n\nimport {DisciplineService} from './services/discipline.service';\nimport {Discipline} from './services/discipline';\n\n\n@Component({\n  selector: 'fountain-enrollstudent',\n  template: require('./templates/enrollstudent.component.html')\n})\nexport class EnrollStudentComponent implements OnInit, AfterViewChecked {\n  public text: string;\n  selectedDiscipline: Discipline;\n  disciplines: Discipline[];\n  student: Student;\n\n  constructor(\n    private disciplineService: DisciplineService,\n    private studentService: StudentService,\n    private secretariatService: SecretariatService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {\n    this.text = 'My brand new component!';\n  }\n\n   ngOnInit(): void {\n    this.route.params.forEach((params: Params) =&gt; {\n      console.log(params);\n      let id = +params['id'];\n      this.getStudent(id);\n      console.log(id);\n      console.log(this.student);\n      this.getDisciplines(this.student.secretariatId);\n     });\n\n     console.log(this.student);\n\n   }\n\n  // Understand the best moment to call it. Ps.: It doesn't work on ngOnInit\n  getDisciplines(secretariatId: number): void {\n     this.disciplineService.getDisciplinesBy(secretariatId)\n      .then(disciplines =&gt; this.disciplines = disciplines);\n  }\n\n  getStudent(id: number): void {\n     this.studentService.getStudent(id)\n       .then(student =&gt; this.student = student);\n  }\n\n  onSelect(discipline: Discipline): void {\n     this.selectedDiscipline = discipline;\n  }\n}\n</code></pre>\n\n<p>Here is my template:</p>\n\n<pre><code>&lt;div class=\"text-center\"&gt;\n  &lt;h4&gt;Disciplines:&lt;/h4&gt;\n  &lt;ul class=\"list-unstyled\"&gt;\n    &lt;li *ngFor=\"let discipline of disciplines\" (click)=\"onSelect(discipline)\" [class.selected]=\"discipline === selectedDiscipline\"&gt;\n      &lt;h4&gt;\n        &lt;a&gt;{{discipline?.name}}&lt;/a&gt;\n      &lt;/h4&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the DisciplineService:</p>\n\n<pre><code> import { Injectable } from '@angular/core';\n\n import { Discipline } from './discipline';\n import { DISCIPLINES } from './mock-disciplines';\n\n@Injectable()\nexport class DisciplineService {\n\n  getDisciplines(): Promise&lt;Discipline[]&gt; {\n    return Promise.resolve(DISCIPLINES);\n  }\n\n  getDisciplinesBy(secretariatId: number): Promise&lt;Discipline[]&gt; {\n     return this.getDisciplines()\n      .then(disciplines =&gt; disciplines.filter(discipline =&gt; discipline.secretariatId === secretariatId));\n  }\n}\n</code></pre>\n\n<p>I was looking for another Lifecycle Hooks to call the function getDisciplines(id: number), but I tried them all and I had no good results. :/</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "angular2-directives"], "answers": [{"comments": [{"owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "edited": false, "score": 0, "creation_date": 1476817718, "post_id": 40115791, "comment_id": 67503794, "body": "It did not work for me. Look <code>active</code> is a class for <code>&lt;a&gt;</code>. I updated my post"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "edited": false, "score": 0, "creation_date": 1476817925, "post_id": 40115791, "comment_id": 67503897, "body": "@FacundoGFlores \tDoes <code>console.log(this.selected);</code> print the object you select?"}, {"owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "edited": false, "score": 0, "creation_date": 1476817951, "post_id": 40115791, "comment_id": 67503909, "body": "Yes, and it is the first one"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "edited": false, "score": 0, "creation_date": 1476818059, "post_id": 40115791, "comment_id": 67503947, "body": "@FacundoGFlores Oh I made such a silly mistake, you can&#39;t compare objects just like that. I&#39;ll edit my post in a moment, you need to compare <code>object.code</code> or some other unique value instead of whole object."}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "edited": false, "score": 1, "creation_date": 1476819569, "post_id": 40115791, "comment_id": 67504817, "body": "@FacundoGFlores Glad I could help. Just make sure that <code>object.code</code> or whatever value you are using as comparison is unique because if you have same <code>object.code</code> in multiple objects, all of them will get <code>active</code> class."}], "tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 13, "last_activity_date": 1476818080, "last_edit_date": 1476818080, "creation_date": 1476816278, "answer_id": 40115791, "question_id": 40115436, "link": "https://stackoverflow.com/questions/40115436/angular2-adding-css-class-to-selected-element/40115791#40115791", "title": "Angular2 - Adding CSS class to selected element", "body": "<p>Create a variable in your component, let's call it <code>temp</code> and then set value of <code>temp</code> to selected object in your click event:</p>\n\n<pre><code>temp: any;\n\nclicked(object) {\n    this.temp = object;\n}\n</code></pre>\n\n<p>And then in your template you can use <code>NgClass</code> directive to achieve what you want:</p>\n\n<pre><code>&lt;ul id=\"navbar-example\" class=\"nav nav-pills nav-stacked\" *ngFor=\"let object of objects; let i = index;\"&gt;\n    &lt;li class=\"nav-item\"&gt;\n        &lt;a id=\"{{object.code}}\" class=\"nav-link\" [ngClass]=\"{ 'active': temp.code == object.code }\" (click)=\"clicked(object)\"&gt;{{object.name}}&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11635, "favorite_count": 1, "accepted_answer_id": 40115791, "answer_count": 1, "score": 6, "last_activity_date": 1476820482, "creation_date": 1476815139, "last_edit_date": 1476820482, "question_id": 40115436, "link": "https://stackoverflow.com/questions/40115436/angular2-adding-css-class-to-selected-element", "title": "Angular2 - Adding CSS class to selected element", "body": "<p>I have the following code in my <code>.html</code>:</p>\n\n<pre><code>&lt;ul id=\"navbar-example\" class=\"nav nav-pills nav-stacked\" *ngFor=\"let object of objects; let i = index;\"&gt;\n    &lt;li class=\"nav-item\" *ngIf = \"i==0\"&gt;\n        &lt;a id=\"{{object.code}}\" class=\"nav-link active\" (click)=\"clicked(object)\"&gt;{{object.name}}&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\" *ngIf = \"i!=0\"&gt;\n        &lt;a id=\"{{object.code}}\" class=\"nav-link\" (click)=\"clicked(object)\"&gt;{{object.name}}&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>So the first element is active when the <code>ul</code> is loaded. Now I want to add the <code>active</code> class to the selected <code>&lt;a&gt;&lt;/a&gt;</code> and toggle that  which has <code>active</code>. How can I achieve it?</p>\n\n<p>EDIT:</p>\n\n<p>I simplified to this:</p>\n\n<pre><code>&lt;ul id=\"navbar-example\" class=\"nav nav-pills nav-stacked\" *ngFor=\"let object of objects;\"&gt;\n    &lt;li class=\"nav-item\" &gt;\n        &lt;a [ngClass]=\"{ 'active': selected == object }\"(click)=\"clicked(object)\"&gt;{{object.names}}&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>but it does not work. This is my component:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { objectsService } from './objects.service';\nimport { object } from './object';\n\n\n@Component({\n  selector: 'objects',\n  styles: [require('./object.css')],\n  template: require('./objects.html'),\n})\nexport class objects implements OnInit {\n  objects: object[];\n  codvisita: string;\n  selected: any;\n\n  constructor(private route: ActivatedRoute, private objectsService: objectsService) {\n  }\n\n  ngOnInit() {\n    this.route.params.forEach((params: Params) =&gt; {\n      this.codvisita = params['id'];\n    });\n    this.objectsService.getobjects(this.codvisita)\n      .subscribe(\n        objects =&gt; {\n          this.objects = objects;\n          this.selected = this.objects[0];\n          console.log(this.selected);\n        }\n      );\n  }\n\n  clicked(e) {\n    this.selected = e;\n    console.log(this.selected);\n  }\n}\n</code></pre>\n"}, {"tags": ["animation", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1305, "user_id": 1838098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WgBJG.jpg?s=128&g=1", "display_name": "trojan", "link": "https://stackoverflow.com/users/1838098/trojan"}, "is_accepted": false, "score": 1, "last_activity_date": 1497863916, "last_edit_date": 1497863916, "creation_date": 1497863183, "answer_id": 44626368, "question_id": 40115138, "link": "https://stackoverflow.com/questions/40115138/angular-2-1-0-transition-not-working/44626368#44626368", "title": "Angular 2.1.0 transition() not working", "body": "<p>From angular Animations <a href=\"https://angular.io/guide/animations\" rel=\"nofollow noreferrer\">docs</a>: </p>\n\n<blockquote>\n  <p>Angular animations are built on top of the standard Web Animations API and run natively on browsers that support it.\n  For other browsers, a polyfill is required. Grab web-animations.min.js from GitHub and add it to your page.</p>\n</blockquote>\n\n<p>You can see browsers that support it here: <a href=\"http://caniuse.com/#feat=web-animation\" rel=\"nofollow noreferrer\">http://caniuse.com/#feat=web-animation</a></p>\n\n<p>For all other browsers <strong>(including Safari)</strong> download and install <a href=\"https://github.com/web-animations/web-animations-js\" rel=\"nofollow noreferrer\">polyfill</a></p>\n\n<p>[edit]On how to install polyfill in angular see <a href=\"https://stackoverflow.com/a/39778524/1838098\">this answer</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6806228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c1ada5f69a76a04bc0215e84626354?s=128&d=identicon&r=PG&f=1", "display_name": "Ali ElZein", "link": "https://stackoverflow.com/users/6806228/ali-elzein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497863916, "creation_date": 1476814058, "question_id": 40115138, "link": "https://stackoverflow.com/questions/40115138/angular-2-1-0-transition-not-working", "title": "Angular 2.1.0 transition() not working", "body": "<p>I'm Trying to add animations to my angular 2 application but it's not working, i tried using an example i got from the internet and i researched a bit but i didn't find anything, please anyone help me.</p>\n\n<pre><code>import {Component, trigger, state, animate, transition, style} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  styles: [`\n    .container {\n      background-color: white;\n      border: 10px solid black;\n      width: 200px;\n      text-align: center;\n      font-size: 50px;\n      box-sizing: border-box;\n      overflow: hidden;\n    }\n  `],\n  animations: [\n    trigger('openClose', [\n      state('collapsed', style({ height: '0px', color: 'red' })),\n      state('expanded', style({ height: '100px', color: 'lightgreen' })),\n      transition('expanded &lt;=&gt; collapsed', animate(500))\n    ])\n  ],\n  template: `\n    &lt;button (click)=\"expand()\"&gt;Expand&lt;/button&gt;\n    &lt;button (click)=\"collapse()\"&gt;Collapse&lt;/button&gt;\n    &lt;hr /&gt;\n    &lt;div class=\"container\" [@openClose]=\"animationState\"&gt;\n      Look at this box\n    &lt;/div&gt;\n  `\n})\nexport class AppComponent {\n  animationState: string;\n\n  constructor() {\n    this.collapse();\n  }\n\n  expand() {\n    this.animationState = 'expanded';\n  }\n\n  collapse() {\n    this.animationState = 'collapsed';\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rollupjs", "stompjs"], "answers": [{"tags": [], "owner": {"reputation": 1068, "user_id": 934625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0874b30fec6d9920088caae59686bc?s=128&d=identicon&r=PG", "display_name": "Jimi", "link": "https://stackoverflow.com/users/934625/jimi"}, "is_accepted": false, "score": 2, "last_activity_date": 1478809476, "creation_date": 1478809476, "answer_id": 40536389, "question_id": 40114618, "link": "https://stackoverflow.com/questions/40114618/how-to-import-stompjs-in-rollup/40536389#40536389", "title": "How to import stompjs in rollup", "body": "<p>Use <code>import * as Stomp from \"stompjs\"</code></p>\n"}], "owner": {"reputation": 221, "user_id": 6029546, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/771082992997654/picture?type=large", "display_name": "Trajche Shoposki", "link": "https://stackoverflow.com/users/6029546/trajche-shoposki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1543156246, "creation_date": 1476812149, "last_edit_date": 1476820774, "question_id": 40114618, "link": "https://stackoverflow.com/questions/40114618/how-to-import-stompjs-in-rollup", "title": "How to import stompjs in rollup", "body": "<p>On ng2 app with typescript I am using stompjs, and it works fine without rollup.</p>\n\n<p>I am importing it:</p>\n\n<p><code>import {Stomp} from \"stompjs\"</code></p>\n\n<p>After running rollup I get \"EXCEPTION: Stomp is not defined\"</p>\n\n<p>My rollup config is:</p>\n\n<pre><code>import rollup from 'rollup';\nimport nodeResolve from 'rollup-plugin-node-resolve';\nimport commonjs    from 'rollup-plugin-commonjs';\n\n\nexport default {\n entry: 'aot/app/src/boot-aot.js',\n dest: 'dist/bundle.es2015.js', // output a single application bundle\n sourceMap: true,\n useStrict: false,\n format: 'iife',\n treeshake: true,\n plugins: [\n  nodeResolve({\n    module: true,\n    jsnext: true,\n    main: true,\n    browser: true,\n    extensions: ['.js']\n  }),\n  commonjs({\n    include: [\n      'node_modules/rxjs/**',\n      'node_modules/stompjs/**'\n    ],\n    namedExports: {\n      'node_modules/stompjs/lib/stomp.min.js': [ 'Stomp' ]\n    }\n  })\n ]\n}\n</code></pre>\n\n<p>TypeScript type definition file for stompjs</p>\n\n<pre><code>declare module \"stompjs\" {\n\n  export interface Client {\n    heartbeat: any;\n\n    debug(...args: string[]);\n\n    connect(...args: any[]);\n    disconnect(disconnectCallback: () =&gt; any, headers?: any);\n\n    send(destination: string, headers?:any, body?: string);\n    subscribe(destination: string, callback?: (message: Message) =&gt; any, body?: string);\n    unsubscribe();\n\n    begin(transaction: string);\n    commit(transaction: string);\n    abort(transaction: string);\n\n    ack(messageID: string, subscription: string, headers?: any);\n    nack(messageID: string, subscription: string, headers?: any);\n  }\n\n  export interface Message {\n    command: string;\n    headers: any;\n    body: string;\n\n    ack(headers?: any);\n    nack(headers?: any);\n  }\n\n  export interface Frame {\n    constructor(command: string, headers?: any, body?: string);\n\n    toString(): string;\n    sizeOfUTF8(s: string);\n    unmarshall(datas: any);\n    marshall(command: string, headers?, body?);\n  }\n\n  export interface Stomp {\n    client: Client;\n    Frame: Frame;\n\n    over(ws: WebSocket);\n  }\n\n  export default Stomp;\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1476811555, "post_id": 40114226, "comment_id": 67500271, "body": "You probably can&#39;t. Why would you like to know something like that? Can you edit your question and add a real world scenario?"}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476817414, "post_id": 40114226, "comment_id": 67503621, "body": "You might be able to make this work using the reflect-metadata API depending on what type info typescript auto-annotates there (and a type guard that checks for it), but other than that I&#39;m with @NitzanTomer"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1476820115, "post_id": 40114226, "comment_id": 67505147, "body": "The only thing that remotely makes sense is to enumerate all properties and check if each one is a string - that&#39;s what index signature <code>{ [index: string]: string }</code> basically means. Would that be good enough to distinguish from compexunioninterface or not - I have no idea."}, {"owner": {"reputation": 946, "user_id": 706690, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b47e8b8a9de1c216a67f0e4b4e8bcee9?s=128&d=identicon&r=PG", "display_name": "Jani", "link": "https://stackoverflow.com/users/706690/jani"}, "edited": false, "score": 0, "creation_date": 1476895736, "post_id": 40114226, "comment_id": 67544164, "body": "Well, I&#39;ve just began learning TypeScript. I found myself writing guards for union type <code>headers?: HeaderInit | { [index: string]: string };</code> of <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/4a3c0197cc63cffda7570844c3f6ebc9f4475587/node-fetch/node-fetch.d.ts#L23\" rel=\"nofollow noreferrer\">node-fetch</a> to have type information inside my <code>if</code> and <code>else</code> blocks. In this case I just wrote a guard for <code>HeaderInit</code>, but as I&#39;m learning, I was curious if it&#39;s possible to write a generic guard for <code>{ [index: string]: string }</code> and if it would make any sense. Thanks for the answers."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1476829794, "creation_date": 1476829794, "answer_id": 40119140, "question_id": 40114226, "link": "https://stackoverflow.com/questions/40114226/how-to-check-if-type-has-index-signature-at-runtime/40119140#40119140", "title": "How to check if type has index signature at runtime", "body": "<blockquote>\n  <p>I'm interested if implementing the type guard for the index signature would make any sense and if it is possible.</p>\n</blockquote>\n\n<p>A custom type guard is <em>designed for the case when a compiler cannot infer advanced knowledge you have about the objects</em>. </p>\n\n<p>So really, its up to you to decided how much of a test is sufficient. I would say go with your idea of <code>implement a type guard for complexunioninterface and just negate that,</code> </p>\n"}], "owner": {"reputation": 946, "user_id": 706690, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b47e8b8a9de1c216a67f0e4b4e8bcee9?s=128&d=identicon&r=PG", "display_name": "Jani", "link": "https://stackoverflow.com/users/706690/jani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 40119140, "answer_count": 1, "score": 0, "last_activity_date": 1476829794, "creation_date": 1476810633, "last_edit_date": 1476811470, "question_id": 40114226, "link": "https://stackoverflow.com/questions/40114226/how-to-check-if-type-has-index-signature-at-runtime", "title": "How to check if type has index signature at runtime", "body": "<p>I'm not sure if this makes any sense, because many types are objects in JavaScript, but here we go:</p>\n\n<p>I want to implement a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow\">type guard</a>, which checks if the type implements <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"nofollow\">index signature</a>. How would one do that?</p>\n\n<p>In other words, how to implement the body of this function:</p>\n\n<pre><code>function hasIndexSignature(o: complexunioninterface | { [index: string]: string }): o is { [index: string]: string } {\n    return /* Help? */;\n}\n</code></pre>\n\n<p>Considering many types are objects, is the correct implementation this:</p>\n\n<pre><code>function hasIndexSignature(o: complexunioninterface | { [index: string]: string }): o is { [index: string]: string } {\n    return typeof o === \"object\";\n}\n</code></pre>\n\n<p>One way would be to implement a type guard for <code>complexunioninterface</code> and just negate that, but I'm interested if implementing the type guard for the index signature would make any sense and if it is possible.</p>\n"}, {"tags": ["node.js", "angular", "typescript", "hapijs", "typescript-typings"], "owner": {"reputation": 2117, "user_id": 1987830, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a74f7bc2352fe0a897f3360dd9c9bcf1?s=128&d=identicon&r=PG", "display_name": "Luka Lopusina", "link": "https://stackoverflow.com/users/1987830/luka-lopusina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 815, "favorite_count": 2, "closed_date": 1484826893, "answer_count": 0, "score": 6, "last_activity_date": 1484698975, "creation_date": 1476810571, "last_edit_date": 1476811118, "question_id": 40114212, "link": "https://stackoverflow.com/questions/40114212/how-to-setup-angular-2-node-hapi-js-and-typescript-in-one-project", "closed_reason": "Not suitable for this site", "title": "How to setup Angular 2, Node (Hapi.js) and TypeScript in one project?", "body": "<p>I would like to setup Angular 2 (TypeScript) and Node (Hapi.js with TypeScript) project. Can you give me step by step tutorial how to organize and setup my project?</p>\n\n<p><strong>I know how to setup Angular 2 (TypeScript) in one and Node (Hapi.js and TypeScript) in other project but I have problems when I merge client and server side in one project. I have problems with multiple typings, loading modules, different tsconfigs, loading libs on web page, folder structure, ...</strong></p>\n\n<p>As I understand SystemJS and Webpack are the same thing and they are used to prepare JS files for using it on web page. Is that correct and if it is which one would you choose (also that one provide in tutorial for project setup)?</p>\n\n<p>Also I would like to know is it useful to use Gulp or Grunt and where would be place in project setup for those technologies?</p>\n\n<p>To summarize which technologies stack would be best to choose for developing Angular 2 and Node (Hapi.js) apps using TypeScript and how to setup them?</p>\n"}, {"tags": ["angular", "typescript", "routing"], "comments": [{"owner": {"reputation": 1540, "user_id": 6664906, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/568c280dc832b398c77b928243799be6?s=128&d=identicon&r=PG&f=1", "display_name": "Bean0341", "link": "https://stackoverflow.com/users/6664906/bean0341"}, "edited": false, "score": 0, "creation_date": 1476813350, "post_id": 40113459, "comment_id": 67501312, "body": "will you post your folder structure, index.html, and systemjs.config"}, {"owner": {"reputation": 201, "user_id": 6812450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68a179117a6126b92fbb230fef3d158d?s=128&d=identicon&r=PG&f=1", "display_name": "Luk&#225;\u0161 Frajt", "link": "https://stackoverflow.com/users/6812450/luk%c3%a1%c5%a1-frajt"}, "reply_to_user": {"reputation": 1540, "user_id": 6664906, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/568c280dc832b398c77b928243799be6?s=128&d=identicon&r=PG&f=1", "display_name": "Bean0341", "link": "https://stackoverflow.com/users/6664906/bean0341"}, "edited": false, "score": 0, "creation_date": 1476815091, "post_id": 40113459, "comment_id": 67502255, "body": "Yes of course <a href=\"https://github.com/coklin3107/Angular_Tutorial/tree/master/Fifth\" rel=\"nofollow noreferrer\">github.com/coklin3107/Angular_Tutorial/tree/master/Fifth</a>  I will be really grateful if you help me @Bean0341"}, {"owner": {"reputation": 1540, "user_id": 6664906, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/568c280dc832b398c77b928243799be6?s=128&d=identicon&r=PG&f=1", "display_name": "Bean0341", "link": "https://stackoverflow.com/users/6664906/bean0341"}, "edited": false, "score": 0, "creation_date": 1476817675, "post_id": 40113459, "comment_id": 67503767, "body": "All I can find are a few small syntax details but I dont think any are big enough to cause your problem, I have transferred all your code into a plunkr and it works fine :/  the things that you should change though include: In Dashboard Component put you module.id before your selector is called. In your App Component add &#39;moduleId: module.id&#39; before your selector as well. Also in your index.html put your <code>base href</code> at the very beginning of your &#39;&lt;head tag&gt;&#39;"}, {"owner": {"reputation": 201, "user_id": 6812450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68a179117a6126b92fbb230fef3d158d?s=128&d=identicon&r=PG&f=1", "display_name": "Luk&#225;\u0161 Frajt", "link": "https://stackoverflow.com/users/6812450/luk%c3%a1%c5%a1-frajt"}, "reply_to_user": {"reputation": 1540, "user_id": 6664906, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/568c280dc832b398c77b928243799be6?s=128&d=identicon&r=PG&f=1", "display_name": "Bean0341", "link": "https://stackoverflow.com/users/6664906/bean0341"}, "edited": false, "score": 0, "creation_date": 1476820478, "post_id": 40113459, "comment_id": 67505351, "body": "I did what you said, but still nothin :/ . Maybe could help you the problem starts when I did this part of tutorial Refactor routes to a Routing Module <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt5.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/tutorial/toh-pt5.html</a>  before refactoring everything was ok so maybe same mistake is here, but I don&#39;t know.."}, {"owner": {"reputation": 1540, "user_id": 6664906, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/568c280dc832b398c77b928243799be6?s=128&d=identicon&r=PG&f=1", "display_name": "Bean0341", "link": "https://stackoverflow.com/users/6664906/bean0341"}, "edited": false, "score": 0, "creation_date": 1476824449, "post_id": 40113459, "comment_id": 67507569, "body": "Honestly I know its not what you want to hear but why make your routes module? just leave as a component haha and leave this post up for someone to figure out :)"}], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 6812450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68a179117a6126b92fbb230fef3d158d?s=128&d=identicon&r=PG&f=1", "display_name": "Luk&#225;\u0161 Frajt", "link": "https://stackoverflow.com/users/6812450/luk%c3%a1%c5%a1-frajt"}, "edited": false, "score": 0, "creation_date": 1477060675, "post_id": 40125630, "comment_id": 67626063, "body": "Thank you so much:)"}, {"owner": {"reputation": 537, "user_id": 4466012, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/100001699801555/picture?type=large", "display_name": "Uzebeckatrente", "link": "https://stackoverflow.com/users/4466012/uzebeckatrente"}, "edited": false, "score": 0, "creation_date": 1487185478, "post_id": 40125630, "comment_id": 71673744, "body": "How did you find the version of Angular you&#39;re working with? I can find the npm version (4.2.0) but not Angular (unless I have a fundamental misunderstanding about what npm means which is certainly possible xD)"}], "tags": [], "owner": {"reputation": 36, "user_id": 7040949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f129d893012a360e91902fea4ca4faf?s=128&d=identicon&r=PG&f=1", "display_name": "evamars", "link": "https://stackoverflow.com/users/7040949/evamars"}, "is_accepted": true, "score": 2, "last_activity_date": 1476864588, "creation_date": 1476864588, "answer_id": 40125630, "question_id": 40113459, "link": "https://stackoverflow.com/questions/40113459/angular-2-routing-app-routing-module-declaration-error/40125630#40125630", "title": "Angular 2 routing app-routing module declaration error", "body": "<p>I faced the exactly same problem and the root cause is that the code and angular module version are NOT match. My angular module was RC5 version but I use the commercial sample code. So I just updated the angular version and everything is OK.</p>\n"}, {"tags": [], "owner": {"reputation": 537, "user_id": 4466012, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/100001699801555/picture?type=large", "display_name": "Uzebeckatrente", "link": "https://stackoverflow.com/users/4466012/uzebeckatrente"}, "is_accepted": false, "score": 1, "last_activity_date": 1487189605, "creation_date": 1487189605, "answer_id": 42259119, "question_id": 40113459, "link": "https://stackoverflow.com/questions/40113459/angular-2-routing-app-routing-module-declaration-error/42259119#42259119", "title": "Angular 2 routing app-routing module declaration error", "body": "<p>I had a similar bug halfway through the \"Routing\" section of the tutorial which ended up being caused by a missing parenthesis, not importing DashboardComponent. Might have been just a \"me\" mistake, although you are never instructed to add that import statement in the tutorial so it's not inconceivable that someone else would also have this issue. </p>\n"}], "owner": {"reputation": 201, "user_id": 6812450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68a179117a6126b92fbb230fef3d158d?s=128&d=identicon&r=PG&f=1", "display_name": "Luk&#225;\u0161 Frajt", "link": "https://stackoverflow.com/users/6812450/luk%c3%a1%c5%a1-frajt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3423, "favorite_count": 0, "accepted_answer_id": 40125630, "answer_count": 2, "score": 3, "last_activity_date": 1554122913, "creation_date": 1476807997, "last_edit_date": 1554122913, "question_id": 40113459, "link": "https://stackoverflow.com/questions/40113459/angular-2-routing-app-routing-module-declaration-error", "title": "Angular 2 routing app-routing module declaration error", "body": "<p>I'm learning Angular 2 from official \ntutorial <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt5.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/tutorial/toh-pt5.html</a>. And I have some problem with routing.  error message: Type DashboardComponent is part of the declarations of 2 modules: AppRoutingModule and AppModule!\nI don't know where is my mistake, I think I have everything same as in tutorial.</p>\n\n<p><em>Error message:</em></p>\n\n<p><img src=\"https://i.stack.imgur.com/X24if.png\" alt=\"Error message\"></p>\n\n<p>My code:</p>\n\n<p>AppModule</p>\n\n<pre><code>import { NgModule }       from '@angular/core';\nimport { BrowserModule }  from '@angular/platform-browser';\nimport { FormsModule }    from '@angular/forms';\n\nimport { AppComponent }         from './app.component';\nimport { DashboardComponent }   from './dashboard.component';\nimport { HeroDetailComponent }  from './hero-detail.component';\nimport { HeroesComponent }      from './heroes.component';\nimport { HeroService }          from './hero.service';\n\nimport { AppRoutingModule }     from './app-routing.module';\n\n@NgModule({\n  imports: [\n    AppRoutingModule,\n    BrowserModule,\n    FormsModule,\n\n  ],\n  declarations: [\n    AppComponent,\n    DashboardComponent,\n    HeroDetailComponent,\n    HeroesComponent\n  ],\n  providers: [ HeroService ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>App-routing Module</p>\n\n<pre><code>import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { DashboardComponent }   from './dashboard.component';\nimport { HeroesComponent }      from './heroes.component';\nimport { HeroDetailComponent }  from './hero-detail.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n  { path: 'dashboard',  component: DashboardComponent },\n  { path: 'detail/:id', component: HeroDetailComponent },\n  { path: 'heroes',     component: HeroesComponent }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n</code></pre>\n\n<p>App Component</p>\n\n<pre><code>import {Component} from \"@angular/core\";\n/**\n * Created by lukasfrajt on 13.10.16.\n */\n\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;h1&gt;{{title}}&lt;/h1&gt;\n    &lt;nav&gt;\n        &lt;a routerLink=\"/heroes\"&gt;Heroes&lt;/a&gt;\n        &lt;a routerLink=\"/dashboard\"&gt;Dashboard&lt;/a&gt;\n    &lt;/nav&gt;    \n    &lt;router-outlet&gt;&lt;/router-outlet&gt;`\n})\nexport class AppComponent {\n    title = 'Tour of Heroes'\n}\n</code></pre>\n\n<p>Dashboard Component</p>\n\n<pre><code>import {Component} from \"@angular/core\";\nimport {Hero} from \"./hero\";\nimport {HeroService} from \"./hero.service\";\nimport {Router} from \"@angular/router\";\n\n\n@Component({\n  selector: 'my-dashboard',\n  moduleId: module.id,\n  templateUrl: `dashboard.component.html`\n})\nexport class DashboardComponent {\n    heroes: Hero[] = [];\n\n  constructor(private heroService: HeroService , private  router: Router)\n  {\n\n  }\n  ngOnInit(): void{\n    this.heroService.getHeroes()\n      .then(heroes =&gt; this.heroes = heroes.slice(1, 5));\n\n  }\n  gotoDetail(hero: Hero): void {\n    let link = ['/detail', hero.id];\n    this.router.navigate(link);\n  }\n}\n</code></pre>\n\n<p>Thank you for you help</p>\n"}, {"tags": ["typescript", "amd"], "comments": [{"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1476826825, "post_id": 40112829, "comment_id": 67508618, "body": "This seems more like a bundling concern than a Typescript concern. How is your loader specification currently working?"}, {"owner": {"reputation": 13, "user_id": 2410054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63b42c1632677b915fba69f6e825761c?s=128&d=identicon&r=PG", "display_name": "pondrejk", "link": "https://stackoverflow.com/users/2410054/pondrejk"}, "reply_to_user": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1479308085, "post_id": 40112829, "comment_id": 68502651, "body": "Actually, I figured I can use a require plugin ojL10n in Oracle JET, which does exactly what I want, it loads the right resource bundle based on the selected language."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2410054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63b42c1632677b915fba69f6e825761c?s=128&d=identicon&r=PG", "display_name": "pondrejk", "link": "https://stackoverflow.com/users/2410054/pondrejk"}, "edited": false, "score": 0, "creation_date": 1479308131, "post_id": 40119168, "comment_id": 68502683, "body": "Thanks, this is helpful, although I wanted to avoid using require call in typescript. Actually, I figured I can use a require plugin ojL10n in Oracle JET, which does exactly what I want, it loads the right resource bundle based on the selected language."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1476829923, "creation_date": 1476829923, "answer_id": 40119168, "question_id": 40112829, "link": "https://stackoverflow.com/questions/40112829/how-to-make-amd-dependency-dynamic-in-typescript/40119168#40119168", "title": "How to make amd-dependency dynamic in TypeScript?", "body": "<blockquote>\n  <p>Is there any way to load a JS module dynamically before my TS class executes</p>\n</blockquote>\n\n<p>Use the <em>dynamic</em> requirejs API i.e. </p>\n\n<pre><code>require('path_to_bundle',()=&gt;{\n  // Bundle is loaded\n});\n</code></pre>\n\n<h1>PS</h1>\n\n<p>install the require js types <code>npm install @types/requirejs --save-dev</code> More : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/@types.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/@types.html</a>  </p>\n"}], "owner": {"reputation": 13, "user_id": 2410054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63b42c1632677b915fba69f6e825761c?s=128&d=identicon&r=PG", "display_name": "pondrejk", "link": "https://stackoverflow.com/users/2410054/pondrejk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476829923, "creation_date": 1476806038, "question_id": 40112829, "link": "https://stackoverflow.com/questions/40112829/how-to-make-amd-dependency-dynamic-in-typescript", "title": "How to make amd-dependency dynamic in TypeScript?", "body": "<p>I would like to load a Javascript language bundle file dynamically in Typescript based on the current language.</p>\n\n<p>Currently, the only way to make sure my file is loaded before my module is to use a comment like this:</p>\n\n<pre><code>/// &lt;amd-dependency path=\"&lt;path_to_bundle&gt;\"/&gt;\n</code></pre>\n\n<p>However, this is static, and I cannot load only the active language bundle.</p>\n\n<p>I could possibly convert my JS resource bundles into Typescript classes with static object properties, but that seems like a lot of work.</p>\n\n<p>Is there any way to load a JS module dynamically before my TS class executes?\nThis seems like a show-stopper for me to use TypeScript.</p>\n\n<p>Thanks,\nPeter</p>\n"}, {"tags": ["angular", "typescript", "webpack", "webpack-dev-server"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1476830107, "creation_date": 1476830107, "answer_id": 40119202, "question_id": 40112765, "link": "https://stackoverflow.com/questions/40112765/output-location-of-webpack-loaders/40119202#40119202", "title": "Output Location of Webpack Loaders", "body": "<blockquote>\n  <p>My question is, is expected and is this a best practice</p>\n</blockquote>\n\n<p>It is common. You just gitignore these however e.g. I do this in alm : <a href=\"https://github.com/alm-tools/alm/blob/ff7f0c5fa9f329dafdf2cfc61ffa0908c0c8f7f8/.gitignore#L5-L6\" rel=\"nofollow\">https://github.com/alm-tools/alm/blob/ff7f0c5fa9f329dafdf2cfc61ffa0908c0c8f7f8/.gitignore#L5-L6</a></p>\n"}], "owner": {"reputation": 675, "user_id": 4752397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l6yvn4lOY_U/AAAAAAAAAAI/AAAAAAAAALo/t3FULZqDoOY/photo.jpg?sz=128", "display_name": "Gibryon Bhojraj", "link": "https://stackoverflow.com/users/4752397/gibryon-bhojraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476838953, "creation_date": 1476805863, "last_edit_date": 1476838953, "question_id": 40112765, "link": "https://stackoverflow.com/questions/40112765/output-location-of-webpack-loaders", "title": "Output Location of Webpack Loaders", "body": "<p>I'm following along with the <a href=\"https://angular.io/docs/ts/latest/quickstart.html\" rel=\"nofollow\">Angular 2 Quickstart</a> and <a href=\"https://angular.io/docs/ts/latest/guide/webpack.html\" rel=\"nofollow\">Webpack</a> instructions.  I've gotten everything to work fine in development.  My question is about organization.</p>\n\n<p>The <a href=\"https://angular.io/docs/ts/latest/guide/webpack.html\" rel=\"nofollow\">Angular 2 Webpack guide</a> says</p>\n\n<blockquote>\n  <p>Although we tell Webpack to put output bundles in the dist folder, the\n  dev server keeps all bundles in memory; it doesn't write them to disk.\n  So we won't find any files in the dist folder (at least not any\n  generated from this development build).</p>\n</blockquote>\n\n<p>And this is true- my <code>dist</code> folder is empty. However, after I run my npm start script, my <code>src</code>, <code>src/app</code>, and <code>config</code> folders have <code>.js</code> and <code>.js.map</code> files added to them for all their <code>.ts</code> files.</p>\n\n<p>My question is, is it expected and is this a best practice? Should my compiled files be located in the same directory as the precompiled files?  Could I output them to separate folders to minimize the clutter in the folder with all my <code>.ts</code> files?</p>\n\n<p>To avoid unnecessary bloat on this question, all my files are exactly as they are in the Webpack guide, before the section on Karma.</p>\n"}, {"tags": ["javascript", "typescript", "knockout.js"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6208452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Ud4n.jpg?s=128&g=1", "display_name": "M.Powell", "link": "https://stackoverflow.com/users/6208452/m-powell"}, "edited": false, "score": 1, "creation_date": 1476805781, "post_id": 40112510, "comment_id": 67496906, "body": "That worked, thank you for explaining the issue, I am still learning the framework."}], "tags": [], "owner": {"reputation": 18926, "user_id": 3297291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0d7237254b7a62c94e8e97cf1e0e29?s=128&d=identicon&r=PG&f=1", "display_name": "user3297291", "link": "https://stackoverflow.com/users/3297291/user3297291"}, "is_accepted": true, "score": 2, "last_activity_date": 1476805102, "creation_date": 1476805102, "answer_id": 40112510, "question_id": 40112332, "link": "https://stackoverflow.com/questions/40112332/knockoutjs-binding-issue-on-select-list/40112510#40112510", "title": "KnockoutJs binding issue on select list", "body": "<p>I don't think the <code>options</code> binding supports observables in the array.</p>\n\n<p>If you replace <code>langs.push(ko.observable(lang));</code> by just <code>langs.push(lang);</code>, it should work.</p>\n\n<p>There's no real point in wrapping an object in an observable when it's in an observable array.</p>\n\n<p><em>Reproduction of problem, note that the second <code>select</code> will throw an error.</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var opts = ko.observableArray([\r\n  { name: \"Option 1\" },\r\n  { name: \"Option 2\" }\r\n]);\r\n\r\n\r\nvar obsObs = ko.observableArray([\r\n  ko.observable({ name: \"Option 1\" }),\r\n  ko.observable({ name: \"Option 2\" })\r\n]);\r\n\r\n\r\nko.applyBindings({\r\n  opts: opts,\r\n  obsObs: obsObs\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;select data-bind=\"options: opts, optionsText: 'name'\"&gt;&lt;/select&gt;\r\n&lt;select data-bind=\"options: obsOpts, optionsText: 'name'\"&gt;&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 6208452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Ud4n.jpg?s=128&g=1", "display_name": "M.Powell", "link": "https://stackoverflow.com/users/6208452/m-powell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 40112510, "answer_count": 1, "score": 0, "last_activity_date": 1476805102, "creation_date": 1476804692, "question_id": 40112332, "link": "https://stackoverflow.com/questions/40112332/knockoutjs-binding-issue-on-select-list", "title": "KnockoutJs binding issue on select list", "body": "<p>I'm using Typescript with KnockoutJs and I am having issues with binding the optionsText and optionsValue. The model is:</p>\n\n<pre><code> export interface LanguageProxy {\n    ID: number;\n    Name: string;\n    Code: string;\n    IsSparse: boolean;\n    HasAudio: boolean;\n    ReadsRightToLeft: boolean;\n    IsAsian: boolean;\n    ShortCode: string;\n    LongCode: string;\n    CultureCode: string;\n    IsEnabled: boolean;\n    IsCustom: boolean;\n}\n</code></pre>\n\n<p>we are setting up the binding as (response being a response from a web service call):</p>\n\n<pre><code>var langs = ko.observableArray([]);\n        response.LanguageProxyListResult.forEach(lang =&gt; {\n            langs.push(ko.observable(lang));\n        });\n\n        this.Languages = langs;\n        ko.applyBindings(this, jQuery(\"#QuickSearchContainer\")[0]);\n</code></pre>\n\n<p>and we are binding using the following HTML below: </p>\n\n<pre><code>&lt;select name=\"ddlLanguage\" id=\"ddlLanguage\" class=\"LanguageList\"  \n                                data-bind=\"options: Languages,\n                                            optionsText: 'Name',\n                                            optionsValue: 'ID',\n                                            optionsCaption: 'Choose...',\n                                            optionsAfterRender: function (e) { jQuery('#ddlLanguage')[0].selectedIndex = 1;}\"&gt;\n\n                            &lt;/select&gt;\n</code></pre>\n\n<p>The data binds correctly, removing the optionsText and optionsValue returns the list of [object] [OBJECT], but when adding the properties of optionsText and value it sets up a blank list.</p>\n\n<p>Looking at a knockoutJs context debugger for chrome, the data appears correctly in the element (under $data.Languages.Symbol(_latestValue) and the parsed context) . Is there something fundamentally I am doing wrong? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1476804079, "post_id": 40112062, "comment_id": 67495653, "body": "You can pass <code>data</code>."}, {"owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1476804699, "post_id": 40112062, "comment_id": 67496127, "body": "Jeez, my bad you right, I was looking at the wrong data. Thanks mate"}], "answers": [{"comments": [{"owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "edited": false, "score": 0, "creation_date": 1485868075, "post_id": 40112363, "comment_id": 71095446, "body": "Could that bit    constructor(route:ActivatedRoute) {     route.data.forEach(data =&gt; console.log(data[&#39;name&#39;]));   } be used in an external service ?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "edited": false, "score": 0, "creation_date": 1485868180, "post_id": 40112363, "comment_id": 71095521, "body": "Not sure what you mean with &quot;external service&quot;, but you can use a guard for example <a href=\"https://angular.io/docs/ts/latest/guide/router.html#!#guards\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/router.html#!#guards</a>"}, {"owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "edited": false, "score": 0, "creation_date": 1485868472, "post_id": 40112363, "comment_id": 71095734, "body": "What I meant was: Is it possible to have something common to all my module&#39;s components where I can get this data[&#39;name&#39;] information."}, {"owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "edited": false, "score": 1, "creation_date": 1485868866, "post_id": 40112363, "comment_id": 71095994, "body": "What I want may actually be the resolve guard. Thanks !"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1476804747, "last_edit_date": 1495540008, "creation_date": 1476804747, "answer_id": 40112363, "question_id": 40112062, "link": "https://stackoverflow.com/questions/40112062/angular2-router-why-dont-we-have-states-anymore-on-routes/40112363#40112363", "title": "Angular2 router: Why don&#39;t we have states anymore on routes", "body": "<pre><code>const routes: Routes = [\n    {\n      path: \"login\",\n      component: LoginComponent,\n      data: { name: 'r1'}\n    },\n    {\n      path: \"users\",\n      component: UsersComponent,\n      data: { name: 'r2'}\n    },\n    {\n      path: \"error\",\n      component: ErreurComponent,\n      data: { name: 'r3'}\n    },\n    {\n      path: \"more/complex/path\",\n      component: FooComponent,\n      data: { name: 'r4'}\n    },\n    {\n      path: \"\",\n      component: HomepageComponent,\n      data: { name: 'r5'}\n    }\n]\n</code></pre>\n\n\n\n<pre><code>class SomeComponent {\n  constructor(route:ActivatedRoute) {\n    route.data.forEach(data =&gt; console.log(data['name']));\n  }\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/36835123/how-do-i-pass-data-in-angular-2-components-while-using-routing/36835156#36835156\">How do I pass data in Angular 2 components while using Routing?</a></p>\n"}], "owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 40112363, "answer_count": 1, "score": 1, "last_activity_date": 1476804747, "creation_date": 1476803932, "last_edit_date": 1476804538, "question_id": 40112062, "link": "https://stackoverflow.com/questions/40112062/angular2-router-why-dont-we-have-states-anymore-on-routes", "title": "Angular2 router: Why don&#39;t we have states anymore on routes", "body": "<p>Here is my <code>app.routes</code>:</p>\n\n<pre><code>const routes: Routes = [\n    {\n      path: \"login\",\n      component: LoginComponent\n    },\n    {\n      path: \"users\",\n      component: UsersComponent\n    },\n    {\n      path: \"error\",\n      component: ErreurComponent\n    },\n    {\n      path: \"more/complex/path\",\n      component: FooComponent\n    },\n    {\n      path: \"\",\n      component: HomepageComponent,\n    }\n]\n\nexport const APP_ROUTER_MODULE = RouterModule.forRoot(routes)\n</code></pre>\n\n<p>Why can't I specify a state or a name for my routes ? If I want to know if wether or not I am on the error page, I then have to check the current route and look for what I have specified in \"path\" (see also my <code>FooComponent</code> above). I found this a bit silly. Is there anyway to work around this ?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "constructor"], "comments": [{"owner": {"reputation": 429, "user_id": 1966954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd18eeec4efc87d4235c6e5752b5d3f6?s=128&d=identicon&r=PG", "display_name": "Pouriya Zarbafian", "link": "https://stackoverflow.com/users/1966954/pouriya-zarbafian"}, "edited": false, "score": 1, "creation_date": 1476802970, "post_id": 40111722, "comment_id": 67494866, "body": "Not very clear."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1476803054, "post_id": 40111722, "comment_id": 67494926, "body": "Could you please add some code that demonstrates what you&#39;re trying to accomplish?"}, {"owner": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "edited": false, "score": 0, "creation_date": 1476804229, "post_id": 40111722, "comment_id": 67495740, "body": "i have added some example. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "edited": false, "score": 0, "creation_date": 1476804594, "post_id": 40112161, "comment_id": 67496046, "body": "having (index):42 Uncaught ReferenceError: somevar is not defined when i do that"}, {"owner": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "edited": false, "score": 0, "creation_date": 1476804945, "post_id": 40112161, "comment_id": 67496309, "body": "when i read it . I tried to alert it from somepage.html . Was expecting that variable will have a value."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "edited": false, "score": 0, "creation_date": 1476804999, "post_id": 40112161, "comment_id": 67496346, "body": "Then you obviously read it before the constructor that writes it is executed."}, {"owner": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "edited": false, "score": 0, "creation_date": 1476812269, "post_id": 40112161, "comment_id": 67500684, "body": "Thanks for the reply. I agree it was loaded first before the constructor."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "edited": false, "score": 0, "creation_date": 1476812401, "post_id": 40112161, "comment_id": 67500770, "body": "You can dispatch a custom event to notify the external JS script that the value is available like shown in <a href=\"http://stackoverflow.com/questions/36342890/in-angular2-how-to-know-when-any-form-input-field-lost-focus/36348311#36348311\" title=\"in angular2 how to know when any form input field lost focus\">stackoverflow.com/questions/36342890/&hellip;</a>"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1476804215, "creation_date": 1476804215, "answer_id": 40112161, "question_id": 40111722, "link": "https://stackoverflow.com/questions/40111722/is-it-possible-to-set-variable-javascript-variables-outside-from-angular2/40112161#40112161", "title": "Is it possible to set variable javascript variables outside from angular2?", "body": "<p>You can assign to <code>window</code> and then also access it from everywhere else this way:</p>\n\n<pre><code>constructor{\n  //id like to assign a value to somevar from inside this component\n  window.somevar = \"blah blah\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "edited": false, "score": 0, "creation_date": 1476812532, "post_id": 40113076, "comment_id": 67500856, "body": "this seems to be working! I&#39;ll take it from here. Thanks a lot!"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 0, "last_activity_date": 1476806775, "creation_date": 1476806775, "answer_id": 40113076, "question_id": 40111722, "link": "https://stackoverflow.com/questions/40111722/is-it-possible-to-set-variable-javascript-variables-outside-from-angular2/40113076#40113076", "title": "Is it possible to set variable javascript variables outside from angular2?", "body": "<p><strong>hmtl outside angular2</strong></p>\n\n<pre><code>window['SomeVarUpdated'] = function (newValue) {\n  // do something\n};\n</code></pre>\n\n<p><strong>component from angular2</strong></p>\n\n<pre><code>export class SomeComponent {\n  constructor() {\n    window['SomeVarUpdated'](\"blah blah\");\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 7037347, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9508af5c1e73398c5e785a21a2bee375?s=128&d=identicon&r=PG&f=1", "display_name": "Erwin", "link": "https://stackoverflow.com/users/7037347/erwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 968, "favorite_count": 0, "accepted_answer_id": 40113076, "answer_count": 2, "score": 1, "last_activity_date": 1476806775, "creation_date": 1476802872, "last_edit_date": 1476804652, "question_id": 40111722, "link": "https://stackoverflow.com/questions/40111722/is-it-possible-to-set-variable-javascript-variables-outside-from-angular2", "title": "Is it possible to set variable javascript variables outside from angular2?", "body": "<p>I am new to angular2 and used a component which is from other library and I want to pass a data from angular2 . My problem is that , I can't set the variable if its not from angular2 to that third party component. </p>\n\n<p>Can anyone enlighten me if its possible?</p>\n\n<p>Ex.</p>\n\n<pre><code>//hmtl outside angular2\nsomepage.html\n var somevar; //variable on somepage.html\n\n//component from angular2\nexport class SomeComponent implements OnInit{\n\n\nconstructor{\n //id like to assign a value to somevar from inside this component\n somevar = \"blah blah\";\n}\n\n\n}\n</code></pre>\n\n<p>Regards,\nErwin</p>\n"}, {"tags": ["javascript", "angular", "typescript", "http-headers", "httpresponse"], "answers": [{"comments": [{"owner": {"reputation": 2268, "user_id": 4983752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ly6B9.jpg?s=128&g=1", "display_name": "ulou", "link": "https://stackoverflow.com/users/4983752/ulou"}, "edited": false, "score": 0, "creation_date": 1476803827, "post_id": 40111834, "comment_id": 67495496, "body": "I tried like in EDIT 1, but it doesnt work, what else Now I got http status 400 for public repo, did I something wrong?"}, {"owner": {"reputation": 105, "user_id": 7031225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca8c49955e7574fdfb3b3ff43177167?s=128&d=identicon&r=PG&f=1", "display_name": "pretzo246", "link": "https://stackoverflow.com/users/7031225/pretzo246"}, "reply_to_user": {"reputation": 2268, "user_id": 4983752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ly6B9.jpg?s=128&g=1", "display_name": "ulou", "link": "https://stackoverflow.com/users/4983752/ulou"}, "edited": false, "score": 0, "creation_date": 1476806198, "post_id": 40111834, "comment_id": 67497186, "body": "Are you sure the server that is receiving your request has CORS setup?"}], "tags": [], "owner": {"reputation": 105, "user_id": 7031225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca8c49955e7574fdfb3b3ff43177167?s=128&d=identicon&r=PG&f=1", "display_name": "pretzo246", "link": "https://stackoverflow.com/users/7031225/pretzo246"}, "is_accepted": false, "score": 0, "last_activity_date": 1476803157, "creation_date": 1476803157, "answer_id": 40111834, "question_id": 40111510, "link": "https://stackoverflow.com/questions/40111510/get-text-from-private-stash-link/40111834#40111834", "title": "Get text from private stash link", "body": "<p>The server that you are making the request to has to implement CORS to grant JavaScript from your website access (Cross Origin Resource Sharing (CORS)). So if you have access to the place where you are scraping, then add the following HTTP headers at the response of the receiving end:</p>\n\n<pre><code>Access-Control-Allow-Headers: Content-Type\nAccess-Control-Allow-Methods: GET, POST, OPTIONS\nAccess-Control-Allow-Origin: *.example.com\n</code></pre>\n\n<p>Make sure to replace \"*.example.com\" with the domain name of the host that is sending the data/getting the data. Doing this should fix your problem.</p>\n"}], "owner": {"reputation": 2268, "user_id": 4983752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ly6B9.jpg?s=128&g=1", "display_name": "ulou", "link": "https://stackoverflow.com/users/4983752/ulou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476868171, "creation_date": 1476802307, "last_edit_date": 1476868171, "question_id": 40111510, "link": "https://stackoverflow.com/questions/40111510/get-text-from-private-stash-link", "title": "Get text from private stash link", "body": "<p>I have application where I getting code from stash raw file. Scrapping from public repositories is simple, it looks like this:</p>\n\n<pre><code>  public getRawFile(rawLink: string) {\n    return this.http.get(rawLink).map((res: Response) =&gt; res.text());\n  }\n</code></pre>\n\n<p>But now I would like to get code from stash raw file, but from private repository. If user have access(is logged into stash) than source code from raw file is loaded. </p>\n\n<p>If I trying same way, I getting respone:</p>\n\n<pre><code>    XMLHttpRequest cannot load 'private_stash_file_link'. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost' is therefore not allowed access.\n    EXCEPTION: Response with status: 0  for URL: null\n    Uncaught Response with status: 0  for URL: null\n</code></pre>\n\n<p>How can I handle this, cookies, specific options for get request, is it even possible?</p>\n\n<p><strong>EDIT 1.</strong></p>\n\n<p>Tried: </p>\n\n<pre><code>  public getRawFile(link: string) {\n    let headers = new Headers();\n    headers.append('Access-Control-Allow-Headers', 'Content-Type');\n    headers.append('Access-Control-Allow-Methods', 'GET, OPTIONS');\n    headers.append('Access-Control-Allow-Origin', '*');\n    let options = new RequestOptions({headers: headers, withCredentials: true});\n    return this.http.get(link, options).map((res: Response) =&gt; res.text());\n  }\n</code></pre>\n\n<p>but same result for private repository..</p>\n\n<p><a href=\"https://plnkr.co/edit/ogDayyIOEbOLkI8XBzOX?p=preview\" rel=\"nofollow\">plunker</a></p>\n"}, {"tags": ["reactjs", "typescript", "react-dnd"], "comments": [{"owner": {"reputation": 283, "user_id": 6460383, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3c48557dd6d3da744686f3e72442c95a?s=128&d=identicon&r=PG&f=1", "display_name": "mastrolindus", "link": "https://stackoverflow.com/users/6460383/mastrolindus"}, "edited": false, "score": 0, "creation_date": 1476802968, "post_id": 40111314, "comment_id": 67494864, "body": "It seems that the current types available with typescript 2 (@types/react-dnd and @types/react-dnd-html5-backend) have some issues with StrictNullChecks flag turned on. Even disabling it I still have other issues, ma some are solved by disabling this..."}], "answers": [{"comments": [{"owner": {"reputation": 4807, "user_id": 1801403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLAec.jpg?s=128&g=1", "display_name": "Damian Green", "link": "https://stackoverflow.com/users/1801403/damian-green"}, "edited": false, "score": 0, "creation_date": 1526573739, "post_id": 41176310, "comment_id": 87808054, "body": "where are <code>MarkovProps</code> and  <code>MarkovState</code> defined?"}, {"owner": {"reputation": 8235, "user_id": 1284760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2f0d151197270b75a2c5e5bf6a2a6583?s=128&d=identicon&r=PG", "display_name": "see sharper", "link": "https://stackoverflow.com/users/1284760/see-sharper"}, "edited": false, "score": 0, "creation_date": 1568878413, "post_id": 41176310, "comment_id": 102416634, "body": "For me it is still completely broken :( The only library I&#39;ve tried to use which has caused me such grief."}, {"owner": {"reputation": 24601, "user_id": 480608, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/03b704efdab65c446bb6a1f486f1867f?s=128&d=identicon&r=PG", "display_name": "Raine Revere", "link": "https://stackoverflow.com/users/480608/raine-revere"}, "edited": false, "score": 0, "creation_date": 1602798649, "post_id": 41176310, "comment_id": 113842137, "body": "There&#39;s also <code>ConnectDragPreview</code>"}], "tags": [], "owner": {"reputation": 7260, "user_id": 86432, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ac0f5806a57ad801fec9f5619763f667?s=128&d=identicon&r=PG", "display_name": "masonk", "link": "https://stackoverflow.com/users/86432/masonk"}, "is_accepted": false, "score": 14, "last_activity_date": 1481854897, "last_edit_date": 1481854897, "creation_date": 1481854581, "answer_id": 41176310, "question_id": 40111314, "link": "https://stackoverflow.com/questions/40111314/react-dnd-typescript-support/41176310#41176310", "title": "React DND typescript support", "body": "<p>I've got it working with the DT types package on 2.1. It doesn't compile with strictNullChecks and I haven't been able to track down the reason why. (When you decorate your components with @DragSource and @DropTarget, you somehow change the return type of the render function from Element to Element | null, but I can't see how.)</p>\n\n<p>The other niggle is that all of the props that are inserted by the collecting function are undefined when you first instantiate your components in a render method, so your options are to pass a bunch of <code>{undefined as any}</code> or else declare your collector-injected props as optionals and typeguard them out every where you look at them. Overall the type declaration file is not bad and I found the typing to be more helpful than harmful when getting to know the library.</p>\n\n<pre><code>import { \n    ConnectDragSource,\n    DragDropContext, \n    DragSource, \n    DragSourceSpec, \n    DragSourceCollector, \n    DragSourceConnector, \n    DragSourceMonitor, \n    DragElementWrapper,\n    ConnectDropTarget,\n    DropTarget,\n    DropTargetConnector,\n    DropTargetMonitor,\n    ClientOffset,\n    DropTargetSpec } from 'react-dnd';\nlet HTML5Backend = require('react-dnd-html5-backend');\nimport { AdjacencyMatrixGraph } from \"Geometry/Graph\";\n\nimport * as React from \"react\";\nimport * as Sauce from \"Sauce\";\nimport * as ReactDOM from \"react-dom\";\nimport * as $ from \"jquery\";\nimport { Position2 } from \"Geometry\";\nimport * as Rx from \"rxjs\";\nimport * as Util from \"Util\";\nrequire(\"./GraphBuilder.scss\");\n\ninterface NodeProps {\n  label?: string;\n  position: ClientOffset;\n}\n\n/* New node from the node well */\nexport interface NodeSourceProps {\n   isDragging : boolean;\n   connectDragSource: ConnectDragSource;\n}\nexport interface NodeSourceState {\n}\n\n// Spec: drag events to handle.\nlet nodeSourceSpec: DragSourceSpec&lt;NodeSourceProps&gt; = {\n    beginDrag: (props: NodeSourceProps) =&gt; ({}),\n};\n\n// Collect: Put drag state into props\nlet nodeSourceCollector = (connect: DragSourceConnector, monitor: DragSourceMonitor) =&gt; {\n    return {\n      connectDragSource: connect.dragSource(),\n      isDragging: monitor.isDragging()\n  }\n};\n\n@DragSource(\"new-node\", nodeSourceSpec, nodeSourceCollector)\nexport class NodeSource extends React.Component&lt;NodeSourceProps, NodeSourceState&gt; {\n  constructor(props: NodeSourceProps) {\n    super(props);\n  }\n  render() {\n    const { connectDragSource, isDragging } = this.props;\n    return connectDragSource(&lt;span className=\"node-source\"&gt;{'\\u2683'}&lt;/span&gt;);\n  }\n}\n\n/* main graph area */\ninterface GraphCanvasProps {\n    connectDropTarget: ConnectDropTarget,\n    isOver: boolean,\n    graph: AdjacencyMatrixGraph&lt;NodeProps&gt;;\n}\n\ninterface GraphCanvasState {}\nconst canvasDropTargetSpecification: DropTargetSpec&lt;GraphCanvasProps&gt; = {\n  drop(props: GraphCanvasProps, monitor: DropTargetMonitor, component: React.Component&lt;GraphCanvasProps, any&gt;) {\n    // console.log(\"Handling drop\", print_monitor(monitor));\n    let pos = monitor.getSourceClientOffset();\n    if (monitor.getItemType() === \"main-node-move\") {\n      let node = (monitor.getItem() as any);\n      graph.setData(node.id, { position: pos });\n    }\n    else if (monitor.getItemType() === \"new-node\") {\n      graph.addNode(\"node-\" + graph.order(), { position: pos });\n    }\n  },\n};\n\nfunction canvasDropTargetCollectingFunction(connect: DropTargetConnector, monitor: DropTargetMonitor) {\n  let rv = {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n  };\n\n  return rv;\n}\n/* ... here's  a DropTarget ... */\n\n@DropTarget([\"main-node-move\", \"new-node\"], canvasDropTargetSpecification, canvasDropTargetCollectingFunction)\nexport class GraphCanvas extends React.Component&lt;GraphCanvasProps, GraphCanvasState&gt; {\n  constructor(props: GraphCanvasProps) {\n    super(props);\n  }\n\n  render(): JSX.Element | null {\n    const { connectDropTarget, graph } = this.props;\n    let nodes = graph.nodes();\n    let nodeEls = Object.keys(nodes).map(k =&gt; {\n      let node = nodes[k];\n      return &lt;CanvasNode \n      key={k} \n      id={k} \n      node={node} \n      graph={graph} \n      connectNodeDrop={null as any} \n      connectMoveNodeDragger={(null)}/&gt;\n    });\n    return connectDropTarget(&lt;div className=\"graph-canvas\"&gt;\n      {nodeEls}\n    &lt;/div&gt;);\n  }\n}\n\n/* ... Here's a the DragContext decorator ... */\n\n@DragDropContext(HTML5Backend)\nclass Markov extends React.Component&lt;MarkovProps, MarkovState&gt;  {\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 6460383, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3c48557dd6d3da744686f3e72442c95a?s=128&d=identicon&r=PG&f=1", "display_name": "mastrolindus", "link": "https://stackoverflow.com/users/6460383/mastrolindus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6137, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1481854897, "creation_date": 1476801834, "question_id": 40111314, "link": "https://stackoverflow.com/questions/40111314/react-dnd-typescript-support", "title": "React DND typescript support", "body": "<p>I read some users mentioning that they are using this library with Typescript support, but I cannot find any documentation anywhere nor I cannot seem to make it work on my own.</p>\n\n<p>I am using typescript 2 and I can't manage to create a really simple working example that simply allows me to drag an existing component. I tried several possibilities but I always get stuck into some problems with typings either when calling DragSource (as a decorator or function) or when rendering the resulting component.</p>\n\n<p>In short I would like an example that shows the usage of react-dnd in typescript that allows me how to make an existing component draggable, possibly without modifiying the component itself (it shouldn't be aware that it is draggable)</p>\n\n<p>Thank you for any help!</p>\n"}, {"tags": ["javascript", "typescript", "windows-runtime", "win-universal-app", "winjs"], "answers": [{"comments": [{"owner": {"reputation": 956, "user_id": 3888657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12c5731412a9032b0cf624686dcc843?s=128&d=identicon&r=PG&f=1", "display_name": "TheTanic", "link": "https://stackoverflow.com/users/3888657/thetanic"}, "edited": false, "score": 0, "creation_date": 1477039905, "post_id": 40170960, "comment_id": 67612061, "body": "Thank you for your reoly. I will Test it as soon as possible"}, {"owner": {"reputation": 956, "user_id": 3888657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12c5731412a9032b0cf624686dcc843?s=128&d=identicon&r=PG&f=1", "display_name": "TheTanic", "link": "https://stackoverflow.com/users/3888657/thetanic"}, "edited": false, "score": 0, "creation_date": 1477293157, "post_id": 40170960, "comment_id": 67689183, "body": "It works, but i get the message that there is a typedef missing and i don&#39;t know which type is needed here."}, {"owner": {"reputation": 10428, "user_id": 5610850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpulC.jpg?s=128&g=1", "display_name": "Elvis Xia - MSFT", "link": "https://stackoverflow.com/users/5610850/elvis-xia-msft"}, "reply_to_user": {"reputation": 956, "user_id": 3888657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12c5731412a9032b0cf624686dcc843?s=128&d=identicon&r=PG&f=1", "display_name": "TheTanic", "link": "https://stackoverflow.com/users/3888657/thetanic"}, "edited": false, "score": 1, "creation_date": 1477295095, "post_id": 40170960, "comment_id": 67690298, "body": "use <code>any</code> type: let variable:any=window[&quot;MyTestComponent&quot;]."}], "tags": [], "owner": {"reputation": 10428, "user_id": 5610850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpulC.jpg?s=128&g=1", "display_name": "Elvis Xia - MSFT", "link": "https://stackoverflow.com/users/5610850/elvis-xia-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1477035567, "creation_date": 1477035567, "answer_id": 40170960, "question_id": 40110894, "link": "https://stackoverflow.com/questions/40110894/use-a-windows-runtime-component-in-a-typescript-application/40170960#40170960", "title": "Use a Windows-Runtime-Component in a Typescript-Application", "body": "<blockquote>\n  <p>The main problem here is, that I am not able to create a reference to the Window-Runtime Component. Is this even possible?</p>\n</blockquote>\n\n<p>Yes, it is possible. If you have referenced the Windows Runtime Component in your main project. The namespace will be stored in the global <code>window</code> object. So you can access the Windows Runtime Component like below:</p>\n\n<pre><code>let variable= window[\"MyTestComponent\"];\n</code></pre>\n"}], "owner": {"reputation": 956, "user_id": 3888657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12c5731412a9032b0cf624686dcc843?s=128&d=identicon&r=PG&f=1", "display_name": "TheTanic", "link": "https://stackoverflow.com/users/3888657/thetanic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 40170960, "answer_count": 1, "score": 0, "last_activity_date": 1477035567, "creation_date": 1476800737, "question_id": 40110894, "link": "https://stackoverflow.com/questions/40110894/use-a-windows-runtime-component-in-a-typescript-application", "title": "Use a Windows-Runtime-Component in a Typescript-Application", "body": "<p>I created a WinJS-Application [Windows-10-UWP] converted the code to Typescript. <br>\nNow I have a Windows-Runtime-Component, which I want to refer to in my .ts files. <br>\nI allready achieved this in the normal javascript by following the instructions given <a href=\"http://www.c-sharpcorner.com/article/winjs-application-with-windows-runtime-component-to-access-n/\" rel=\"nofollow\">here</a>. But I have no idea to achieve this in Typescript. The main problem here is, that I am not able to create a reference to the Window-Runtime Component. Is this even possible?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "webpack"], "comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1476796926, "post_id": 40109345, "comment_id": 67490148, "body": "<a href=\"https://github.com/webpack/docs/issues/45\" rel=\"nofollow noreferrer\">github.com/webpack/docs/issues/45</a> might be a good place to start."}], "answers": [{"tags": [], "owner": {"reputation": 4944, "user_id": 607471, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e77d9c3de52e82db5177651d525a3cd?s=128&d=identicon&r=PG", "display_name": "riscarrott", "link": "https://stackoverflow.com/users/607471/riscarrott"}, "is_accepted": false, "score": 1, "last_activity_date": 1477656498, "creation_date": 1477656498, "answer_id": 40304784, "question_id": 40109345, "link": "https://stackoverflow.com/questions/40109345/webpack-hot-module-replacement-with-node-config/40304784#40304784", "title": "Webpack Hot Module Replacement with Node Config?", "body": "<p>You can set it up in a very similar way to client side HMR:</p>\n\n<p>1) Target 'node':</p>\n\n<pre><code>// webpack.config.js\nmodule.exports = {\n    ...\n    target: 'node'\n    ...\n}\n</code></pre>\n\n<p>2) Enable hot module replacement, either through the cli option <code>--hot</code> or through config:</p>\n\n<pre><code>// webpack.config.js\nmodule.exports = {\n    ...\n    plugins: [new webpack.HotModuleReplacementPlugin()]\n    ...\n};\n</code></pre>\n\n<p>3) Include HMR management code in your entry point:</p>\n\n<pre><code>// webpack.config.js\nmodule.exports = {\n    ...\n    entry: [\n        'webpack/hot/poll?1000', // This differs from client side HMR\n        'app.js'\n    ]\n    ...\n};\n</code></pre>\n\n<p>4) Teach your code how to hot update using <code>module.hot.accept</code>:</p>\n\n<blockquote>\n  <p>NOTE: This is often abstracted away by a loader.</p>\n</blockquote>\n\n<pre><code>// app.js\nlet config = require('./config');\nsetInterval(() =&gt; {\n    console.log(config.FOO_BAR);\n}, 2000);\n\n// NOTE: This would need to be done everywhere you use './config' so you might want to create a loader to generate it.\nif (module.hot) {\n    module.hot.accept('./config', () =&gt; {\n        config = require('./config');\n    });\n}\n</code></pre>\n\n<p>4) Compile the bundle in watch mode.</p>\n"}], "owner": {"reputation": 1144, "user_id": 2697567, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/654ade29cadf74f8c990c1441b637e0f?s=128&d=identicon&r=PG", "display_name": "britztopher", "link": "https://stackoverflow.com/users/2697567/britztopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1599, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1477656498, "creation_date": 1476796489, "question_id": 40109345, "link": "https://stackoverflow.com/questions/40109345/webpack-hot-module-replacement-with-node-config", "title": "Webpack Hot Module Replacement with Node Config?", "body": "<p>So ive looked at documentation for webpack HMR, and cant seem to find a way to hot module load a server side file.  For example, i have a config file, written in typescript, that I need to be able to reload on change to that config file.  So i will need to update after compile.  The docs are all favored towards using webpack dev server except this one <a href=\"https://github.com/webpack/docs/wiki/hot-module-replacement\" rel=\"nofollow\">HMR</a> which doesnt explain what my webpack config should look like in order to use HMR.  Any help or suggestions would be awesome.</p>\n"}, {"tags": ["angular", "typescript", "http", "angular2-services"], "answers": [{"comments": [{"owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 1, "creation_date": 1476796793, "post_id": 40109138, "comment_id": 67490052, "body": "He is also mixing up <code>Observable</code> and <code>Promise</code>, without converting to a <code>Promise</code>."}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 1, "creation_date": 1476796954, "post_id": 40109138, "comment_id": 67490166, "body": "@rinukkusu Yes, he need to use a common style"}, {"owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 0, "creation_date": 1476797045, "post_id": 40109138, "comment_id": 67490227, "body": "Just telling you that so you can improve your answer a little to address all his errors :)"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 9, "last_activity_date": 1555479461, "last_edit_date": 1555479461, "creation_date": 1476795960, "answer_id": 40109138, "question_id": 40109067, "link": "https://stackoverflow.com/questions/40109067/angular-http-not-working-promise-mixed-with-observable-approach/40109138#40109138", "title": "Angular Http Not working. Promise mixed with Observable approach", "body": "<p>Every <code>Http</code> function which returns <code>Observable</code> must have a <code>.subscribe()</code> method attached to it. When you miss this method the request will not executed. So attach <code>.subscribe()</code> method to each function.</p>\n\n<p>As was been said in the comments, you are using two approaches: <code>Promise style</code> and <code>Observable style</code>, so I advice you to use one common style.</p>\n\n<pre><code>this.http.post(this.runUrl, body, options)\n         .map(this.extractData).subscribe(/*here your parameters*/);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21418, "user_id": 2405040, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sNNZx.jpg?s=128&g=1", "display_name": "Shashank Agrawal", "link": "https://stackoverflow.com/users/2405040/shashank-agrawal"}, "is_accepted": false, "score": 3, "last_activity_date": 1476797572, "creation_date": 1476797572, "answer_id": 40109748, "question_id": 40109067, "link": "https://stackoverflow.com/questions/40109067/angular-http-not-working-promise-mixed-with-observable-approach/40109748#40109748", "title": "Angular Http Not working. Promise mixed with Observable approach", "body": "<p>What @Suren mentioned is perfectly correct. As an alternative, you can also use the <code>toPromise()</code> method on this as well to directly convert it to a Promise object:</p>\n\n<pre><code>return this.http.post(this.runUrl, body, options).toPromise();\n</code></pre>\n\n<p>For this, you need to import the following</p>\n\n<pre><code>import 'rxjs/add/operator/toPromise'\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7036716, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9ef90c60e150981e28f63fcee027f3a1?s=128&d=identicon&r=PG&f=1", "display_name": "RaviTeja ", "link": "https://stackoverflow.com/users/7036716/raviteja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1233, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1555479558, "creation_date": 1476795783, "last_edit_date": 1555479558, "question_id": 40109067, "link": "https://stackoverflow.com/questions/40109067/angular-http-not-working-promise-mixed-with-observable-approach", "title": "Angular Http Not working. Promise mixed with Observable approach", "body": "<p>I'm trying to post the data to backend Node js file from Angular. After form <strong>submit</strong> below function is called:</p>\n\n<pre><code>cmdSubmit() : void \n{\n       console.log(this.cli);\n       this.Cliservice.postdata(this.cli)\n                      .then(clidata  =&gt; this.clidata.push(clidata),\n                            error =&gt;  this.errorMessage = &lt;any&gt;error);\n\n}\n</code></pre>\n\n<p>postdata function code:</p>\n\n<pre><code>postdata(obj: any): Promise&lt;any&gt; {\n    alert('hello');\n    let body = JSON.stringify({ obj });\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    return this.http.post(this.runUrl, body, options)\n                    .map(this.extractData)\n                    .catch(this.handleError);\n\n    /*return this.http.post(this.runUrl, body, options)\n                      .map(this.extractData)\n                      .catch(res =&gt; {\n             // do something\n\n             // To throw another error, use Observable.throw\n             return Observable.throw(res.json());\n      });*/\n\n\n    }\n\n    private extractData(res: Response) {\n       let body = res.json();\n       return body.data || { };\n    }\n\nprivate handleError (error: any) {\n    // In a real world app, we might use a remote logging infrastructure\n    // We'd also dig deeper into the error to get a better message\n    let errMsg = (error.message) ? error.message :\n                  error.status ? `${error.status} - ${error.statusText}` : 'Server error';\n    console.error(errMsg); // log to console instead\n    return Observable.throw(errMsg);\n }\n\n}\n</code></pre>\n\n<p>But nothing is happening here. I do not get any error message. Can you please suggest anything on this?</p>\n"}, {"tags": ["javascript", "typescript", "gruntjs", "grunt-contrib-watch"], "answers": [{"tags": [], "owner": {"reputation": 791, "user_id": 3529908, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/684156fa87f3a84dc9f899a476e07e20?s=128&d=identicon&r=PG&f=1", "display_name": "C0ol_Cod3r", "link": "https://stackoverflow.com/users/3529908/c0ol-cod3r"}, "is_accepted": true, "score": 1, "last_activity_date": 1533320262, "last_edit_date": 1533320262, "creation_date": 1476796690, "answer_id": 40109406, "question_id": 40108870, "link": "https://stackoverflow.com/questions/40108870/typescript-uglify-tasks/40109406#40109406", "title": "Typescript &amp; Uglify Tasks", "body": "<p>I think I have a solution to this issue. I added the TS task to my JSFiles watch task and added the typescript files to the list of files it should watch for, like so:</p>\n\n<pre><code>'JSFiles': {\n  files: ['/js/**/*.js', '/typescript/**/*.ts'],\n  tasks: ['ts', 'uglify'],\n  options: {\n    spawn: false,\n  },\n},\n</code></pre>\n\n<p>Now this might to be the best option, as it will take some time to complete the typescript and the minify tasks. But I have set this project up in Symfony2 and I prefer to set up my new project pointing to the prod. files.</p>\n\n<p>Thanks </p>\n"}], "owner": {"reputation": 791, "user_id": 3529908, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/684156fa87f3a84dc9f899a476e07e20?s=128&d=identicon&r=PG&f=1", "display_name": "C0ol_Cod3r", "link": "https://stackoverflow.com/users/3529908/c0ol-cod3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1442, "favorite_count": 1, "accepted_answer_id": 40109406, "answer_count": 1, "score": 1, "last_activity_date": 1533320262, "creation_date": 1476795265, "last_edit_date": 1533320233, "question_id": 40108870, "link": "https://stackoverflow.com/questions/40108870/typescript-uglify-tasks", "title": "Typescript &amp; Uglify Tasks", "body": "<p>Ok, so I am playing around with typescript and was hoping to use it to minify my code but as I understand it, typescript does not do that. So I I built my Gruntfile like this, </p>\n\n<pre><code>module.exports = function(grunt) {\n  grunt.initConfig({\n    pkg: grunt.file.readJSON('package.json'),\n\n    ts: {\n      default: {\n        files: {\n          '/js/builds/admin.js': ['/typescript/admin/*.ts'],\n          '/js/builds/main.js': ['/typescript/main/*.ts'],\n          '/js/builds/public.js': ['/typescript/public/*.ts']\n        }\n      },\n      options: {\n        fast: 'never',\n        sourceMap: false\n      },\n    },\n\n    'uglify': {\n      options: {\n        preserveComments: 'some',\n      },\n      my_target: {\n        files: {\n          //Libs Files\n          '/assets/js/libs.js': [\n            '/js/libs/jquery-3.1.1.min.js',\n            '/js/libs/underscore-1.8.3.min.js',\n            '/js/libs/backbone-1.3.3.min.js',\n          ],\n\n          //Plugin Files\n          '/assets/js/plugins.js': [\n            '/js/plugins/alertify.min.js',\n          ],\n\n          //Admin Build\n          '/assets/js/our_admin.js': [\n            '/js/builds/admin.js'\n          ],\n\n          //Main Build\n          '/assets/js/main.js': [\n            '/js/builds/main.js'\n          ],\n\n          //Public Build\n          '/assets/js/public.js': [\n            '/js/builds/public.js'\n          ]\n        }\n      }\n    },\n\n    watch: {\n      'TypeFiles': {\n        files: ['/typescript/**/*.ts'],\n        tasks: ['ts'],\n        options: {\n          spawn: false\n        },\n      },\n\n      'JSFiles': {\n        files: ['/js/**/*.js'],\n        tasks: ['uglify'],\n        options: {\n          spawn: false,\n        },\n      },\n    }\n  });\n\n  grunt.loadNpmTasks(\"grunt-ts\");\n  grunt.loadNpmTasks('grunt-contrib-uglify');\n  grunt.loadNpmTasks('grunt-contrib-watch');\n};\n</code></pre>\n\n<p>and what I was trying to do was get typescript to build into standard javascript and then auto run the my uglify task. </p>\n\n<p>As it stands, it works if I added / edit any lib or plugin files (as they have nothing to do with my typescript) but when I edit the typescript files, it will build the JS files, but not run the uglify task?</p>\n\n<p>So how do I get it to do the uglify task after the ts task is completed?</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["javascript", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 2, "creation_date": 1476794762, "post_id": 40108657, "comment_id": 67488509, "body": "please tag accordingly."}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1476794798, "post_id": 40108657, "comment_id": 67488537, "body": "@Nina, what must I tag?"}, {"owner": {"reputation": 36638, "user_id": 1577396, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ef7a7186e7dce93cbcb3d6ee049d79cc?s=128&d=identicon&r=PG", "display_name": "Mr_Green", "link": "https://stackoverflow.com/users/1577396/mr-green"}, "edited": false, "score": 6, "creation_date": 1476794837, "post_id": 40108657, "comment_id": 67488561, "body": "[off-topic] <code>message.readByReceiver === true</code> why not just <code>message.readByReceiver</code>?"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 2, "creation_date": 1476794904, "post_id": 40108657, "comment_id": 67488605, "body": "It&#39;s unclear whether <code>readByReceiver</code> is <code>true</code> or <code>&quot;true&quot;</code> (a string)\u2026 Use <code>console.log(&#39;showTick:&#39;, message, ...)</code> instead of concatenating everything into one string."}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 36638, "user_id": 1577396, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ef7a7186e7dce93cbcb3d6ee049d79cc?s=128&d=identicon&r=PG", "display_name": "Mr_Green", "link": "https://stackoverflow.com/users/1577396/mr-green"}, "edited": false, "score": 0, "creation_date": 1476794919, "post_id": 40108657, "comment_id": 67488621, "body": "@Mr_Green, I tried that without success.  I don&#39;t know Javascript well enough to understand the details. Maybe someone else can advise."}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1476795054, "post_id": 40108657, "comment_id": 67488706, "body": "@deceze, thanks for the advise, I am testing that now.  I am from a Java background where objects are strongly typed.  I guess in Javascript they are not."}, {"owner": {"reputation": 36638, "user_id": 1577396, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ef7a7186e7dce93cbcb3d6ee049d79cc?s=128&d=identicon&r=PG", "display_name": "Mr_Green", "link": "https://stackoverflow.com/users/1577396/mr-green"}, "edited": false, "score": 0, "creation_date": 1476795078, "post_id": 40108657, "comment_id": 67488734, "body": "From your above console, <code>message.readByReceiver</code> is clearly an object so it is not equal to <code>true</code>. That is why you weren&#39;t able to see the console inside the if statement."}, {"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1476795079, "post_id": 40108657, "comment_id": 67488735, "body": "Add a tag for typescript for one. ;) --- Also, like @deceze said, use <code>console.log(a,b,c,d)</code> instead of using <code>+</code>."}, {"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "reply_to_user": {"reputation": 36638, "user_id": 1577396, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ef7a7186e7dce93cbcb3d6ee049d79cc?s=128&d=identicon&r=PG", "display_name": "Mr_Green", "link": "https://stackoverflow.com/users/1577396/mr-green"}, "edited": false, "score": 0, "creation_date": 1476795140, "post_id": 40108657, "comment_id": 67488777, "body": "@Mr_Green I don&#39;t think that&#39;s true. Look at <code>message+&#39;  &#39;+message.readByReceiver</code>"}, {"owner": {"reputation": 558, "user_id": 4605422, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Iy_I1wbYnW4/AAAAAAAAAAI/AAAAAAAABqc/75gdeJOn8Zo/photo.jpg?sz=128", "display_name": "Andre Canilho", "link": "https://stackoverflow.com/users/4605422/andre-canilho"}, "edited": false, "score": 1, "creation_date": 1476795146, "post_id": 40108657, "comment_id": 67488780, "body": "Having a lot of stuff inside one condition is not good to find a possible bug.  First I would split all the conditions with parenthesis to prevent unexpected behaviours. You should also use debug, or a simple  <code>console.log</code> to print each condition&#39;s part, to figure out if anything has a value that you were not expecting."}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1476798864, "post_id": 40108657, "comment_id": 67491635, "body": "You need to figure out why a value you thought is a boolean is actually a string. Not work around this mis-typing with more hacks."}], "answers": [{"tags": [], "owner": {"reputation": 914, "user_id": 124399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26b13e43a1d8caa30fc11ae2a2868275?s=128&d=identicon&r=PG", "display_name": "Bryan Ray", "link": "https://stackoverflow.com/users/124399/bryan-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1476798788, "last_edit_date": 1476798788, "creation_date": 1476797075, "answer_id": 40109559, "question_id": 40108657, "link": "https://stackoverflow.com/questions/40108657/javascript-equals-not-working-as-expected/40109559#40109559", "title": "Javascript equals === not working as expected", "body": "<p>I think you need to start off with some debugging techniques to provide or gather some more information. One in specific, is going to be the advice put forth by @andrecanilho and @deceze in the question comments.</p>\n\n<p>You need to break down your if statement in to multiple outputs to figure out where your logic is breaking down:</p>\n\n<pre><code>console.log(message.readByReceiver === true)\nconsole.log(this.senderId === message.senderId)\n</code></pre>\n\n<p>After diagnosing the output of those two statements, our (andre, deceze, and I's) guess is that one of them will be false ... leading you to a solution that you can either resolve yourself, or possibly provide more feedback to the Stack Overflow Community.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>You can not compare a type boolean (true) to a type of string ('true') in Typescript.</p>\n\n<p>Change this line:</p>\n\n<pre><code>if (message.readByReceiver === true || message.readByReceiver === 'true')\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>if (message.readByReceiver === true)\n</code></pre>\n\n<p>This function should help you diagnose where your logic is breaking down:</p>\n\n<pre><code>public showTick(message: Message): boolean {\n    console.log(message.readByReceiver === true);\n    console.log(this.senderId === message.senderId)\n\n    if (message &amp;&amp; message.readByReceiver === true &amp;&amp; this.senderId &amp;&amp; this.senderId === message.senderId) {\n      console.log('showTick(' + message.content + '): return true');\n      return true;\n    }\n    return false;\n  }\n</code></pre>\n"}], "owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1070, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476800118, "creation_date": 1476794676, "last_edit_date": 1476798673, "question_id": 40108657, "link": "https://stackoverflow.com/questions/40108657/javascript-equals-not-working-as-expected", "title": "Javascript equals === not working as expected", "body": "<p>I am using Ionic2 and Typescript to develop an app.  </p>\n\n<p>I have the following code:</p>\n\n<pre><code>  public showTick(message: Message): boolean {\n      console.log('showTick: '+message+'  '+message.readByReceiver+'  '+this.senderId+'   '+message.senderId);\n    if (message &amp;&amp; message.readByReceiver === true &amp;&amp; this.senderId &amp;&amp; this.senderId === message.senderId) {\n      console.log('showTick(' + message.content + '): return true');\n      return true;\n    }\n    return false;\n  }\n</code></pre>\n\n<p>It outputs the following:</p>\n\n<blockquote>\n<pre><code>showTick: [object Object]  true  P8   P8\n</code></pre>\n</blockquote>\n\n<p>I would have expected it to get inside the <code>if</code> statement and also print:</p>\n\n<blockquote>\n<pre><code>showTick(xxx): return true\n</code></pre>\n</blockquote>\n\n<p>Is there something wrong with my use of <code>===</code>?</p>\n\n<p>Any advise appreciated.</p>\n\n<p>p.s. This is the <code>Message</code> model:</p>\n\n<pre><code>  interface Message {\n    _id?: string;\n    chatId?: string;\n    senderId?: string;\n    ownership?: string;\n    content?: string;\n    createdAt?: Date;\n    changeDate?: boolean;\n    readByReceiver?: boolean;\n  }\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I change the code to:</p>\n\n<pre><code>  public showTick(message: Message): boolean {\n    console.log('showTick: ', message, message.readByReceiver, this.senderId, message.senderId);\n    if (message) {\n    console.log('showTick1 ');\n      if (message.readByReceiver === true || message.readByReceiver === 'true') {\n    console.log('showTick2 ');\n        if (this.senderId) {\n    console.log('showTick3 ');\n          if (this.senderId === message.senderId) {\n            console.log('showTick(' + message.content + '): return true');\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n</code></pre>\n\n<p>And get the following ts error (<code>message.readByReceiver === 'true'</code>):</p>\n\n<blockquote>\n<pre><code>ERROR in ./app/pages/messages/messages.ts\n(275,46): error TS2365: Operator '===' cannot be applied to types 'boolean' and 'string'.\n</code></pre>\n</blockquote>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The problem seems to be that a <code>boolean</code> type object is holding a <code>string</code>, so the following fixes it.</p>\n\n<pre><code>if (message.readByReceiver === true || message.readByReceiver+'' === 'true') \n</code></pre>\n\n<p>Two issues:</p>\n\n<ol>\n<li>This fix seems like a hack to me. </li>\n<li>I am not sure why the <code>boolean</code> is holding a <code>string</code>. This is an\nobject coming from a Meteor database defined as <code>boolean</code>.</li>\n</ol>\n"}, {"tags": ["javascript", "typescript", "npm", "lodash"], "comments": [{"owner": {"reputation": 4628, "user_id": 744534, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/iWWdZ.jpg?s=128&g=1", "display_name": "Thaadikkaaran", "link": "https://stackoverflow.com/users/744534/thaadikkaaran"}, "edited": false, "score": 0, "creation_date": 1476793340, "post_id": 40108051, "comment_id": 67487478, "body": "Its not <code>lodash.assignin</code> but <code>lodash.assign</code>"}, {"owner": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "reply_to_user": {"reputation": 4628, "user_id": 744534, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/iWWdZ.jpg?s=128&g=1", "display_name": "Thaadikkaaran", "link": "https://stackoverflow.com/users/744534/thaadikkaaran"}, "edited": false, "score": 0, "creation_date": 1476793555, "post_id": 40108051, "comment_id": 67487626, "body": "@JaganathanBantheswaran sorry, what do you mean? <a href=\"https://www.npmjs.com/package/lodash.assignin\" rel=\"nofollow noreferrer\">npmjs.com/package/lodash.assignin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "edited": false, "score": 0, "creation_date": 1476797320, "post_id": 40109570, "comment_id": 67490434, "body": "What do you mean it&#39;s not available? It&#39;s the same as other packages <a href=\"https://github.com/lodash/lodash/tree/4.2.0-npm-packages\" rel=\"nofollow noreferrer\">github.com/lodash/lodash/tree/4.2.0-npm-packages</a>"}, {"owner": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "edited": false, "score": 1, "creation_date": 1476797672, "post_id": 40109570, "comment_id": 67490678, "body": "Anyway, syntax <code>const assignIn = require(&#39;lodash.assignin&#39;)</code> works well for me, despite it is mostly node-like variant."}, {"owner": {"reputation": 191, "user_id": 4323155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27PypgyuKC4/AAAAAAAAAAI/AAAAAAAAmy8/lRsa9E-hDjk/photo.jpg?sz=128", "display_name": "Cristian Penarrieta", "link": "https://stackoverflow.com/users/4323155/cristian-penarrieta"}, "reply_to_user": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "edited": false, "score": 0, "creation_date": 1476797709, "post_id": 40109570, "comment_id": 67490711, "body": "You are right, it is available. I think you are not installing the package correctly since I have tested locally and it works. Did you do <code>npm i --save lodash.assignin</code> ?"}, {"owner": {"reputation": 191, "user_id": 4323155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27PypgyuKC4/AAAAAAAAAAI/AAAAAAAAmy8/lRsa9E-hDjk/photo.jpg?sz=128", "display_name": "Cristian Penarrieta", "link": "https://stackoverflow.com/users/4323155/cristian-penarrieta"}, "reply_to_user": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "edited": false, "score": 0, "creation_date": 1476797763, "post_id": 40109570, "comment_id": 67490762, "body": "You cannot use <code>import</code> in node.js yet"}, {"owner": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "edited": false, "score": 0, "creation_date": 1476797853, "post_id": 40109570, "comment_id": 67490827, "body": "I&#39;m saying that using <code>require</code> is node style to import modules. In typescript it&#39;s preferred to use word <code>import</code>."}], "tags": [], "owner": {"reputation": 191, "user_id": 4323155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27PypgyuKC4/AAAAAAAAAAI/AAAAAAAAmy8/lRsa9E-hDjk/photo.jpg?sz=128", "display_name": "Cristian Penarrieta", "link": "https://stackoverflow.com/users/4323155/cristian-penarrieta"}, "is_accepted": true, "score": 1, "last_activity_date": 1476797115, "creation_date": 1476797115, "answer_id": 40109570, "question_id": 40108051, "link": "https://stackoverflow.com/questions/40108051/where-to-get-types-for-single-lodash-package/40109570#40109570", "title": "Where to get @types for single lodash package?", "body": "<p>That package (lodash.assignin) is not available, please check list of available lodash packages here <a href=\"https://www.npmjs.com/browse/keyword/lodash-modularized\" rel=\"nofollow\">https://www.npmjs.com/browse/keyword/lodash-modularized</a></p>\n\n<p>For example if I want to use the <code>first</code> method I need to install <code>npm i --save lodash.first</code>\nThen I use the method like this <code>const first = require('lodash.first');</code></p>\n"}, {"tags": [], "owner": {"reputation": 16026, "user_id": 893113, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6fcd7b99b5d8f29a17a2e3095d67bb7e?s=128&d=identicon&r=PG", "display_name": "paulmelnikow", "link": "https://stackoverflow.com/users/893113/paulmelnikow"}, "is_accepted": false, "score": 1, "last_activity_date": 1532557074, "creation_date": 1532557074, "answer_id": 51528447, "question_id": 40108051, "link": "https://stackoverflow.com/questions/40108051/where-to-get-types-for-single-lodash-package/51528447#51528447", "title": "Where to get @types for single lodash package?", "body": "<p>I just solved this for a different package with the following:</p>\n\n<p><strong>src/types/lodash.groupby.d.ts:</strong></p>\n\n<pre><code>import { groupBy } from 'lodash'\n\nexport default groupBy\n</code></pre>\n\n<p><code>yarn add -D '@types/lodash@^4.6.0'</code></p>\n\n<p>Then import with:</p>\n\n<pre><code>import groupBy from 'lodash.groupby'\n</code></pre>\n\n<p>This is using TypeScript 2.9.</p>\n"}], "owner": {"reputation": 909, "user_id": 3647991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J1160.jpg?s=128&g=1", "display_name": "likerRr", "link": "https://stackoverflow.com/users/3647991/likerrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 40109570, "answer_count": 2, "score": 2, "last_activity_date": 1532557074, "creation_date": 1476793056, "question_id": 40108051, "link": "https://stackoverflow.com/questions/40108051/where-to-get-types-for-single-lodash-package", "title": "Where to get @types for single lodash package?", "body": "<p>I need one function from lodash - assignin. I installed <code>lodash.assignin</code> and imported it in my project:</p>\n\n<pre><code>import assignIn = require('lodash.assignin');\n</code></pre>\n\n<p>But after compilation there is an error: \"error TS2307: Cannot find module 'lodash.assignin'\".</p>\n\n<p>I understand that I need typings for <code>lodash.assignin</code> package, but unfortunately there is only <code>lodash/assignin</code> type in <code>@types/lodash</code>.</p>\n\n<p>I don't want install whole lodash package for just one of its function, so does lodash have typings for their single packages?</p>\n"}, {"tags": ["angular", "typescript", "rxjs5"], "answers": [{"comments": [{"owner": {"reputation": 1897, "user_id": 1632341, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d98e1d5908373d17a0b78f7e9eba67b?s=128&d=identicon&r=PG", "display_name": "Akkusativobjekt", "link": "https://stackoverflow.com/users/1632341/akkusativobjekt"}, "edited": false, "score": 0, "creation_date": 1477492623, "post_id": 40107903, "comment_id": 67790675, "body": "I do not want to stop a http request, I just want to ignore/drop the response of it."}], "tags": [], "owner": {"reputation": 9024, "user_id": 1808126, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c71e6d5ceb7acfea234912b6519f79ab?s=128&d=identicon&r=PG", "display_name": "Alexander Ciesielski", "link": "https://stackoverflow.com/users/1808126/alexander-ciesielski"}, "is_accepted": false, "score": 1, "last_activity_date": 1476792623, "creation_date": 1476792623, "answer_id": 40107903, "question_id": 40107860, "link": "https://stackoverflow.com/questions/40107860/how-to-drop-the-response-of-an-observable/40107903#40107903", "title": "How to drop the response of an Observable", "body": "<p>If I understand correctly, you are looking for the <code>switchMap</code> operator. </p>\n\n<p>If no response arrives within 1 second (the specified interval) the HTTP request is silently canceled, and another one is started.</p>\n\n<p>Update:</p>\n\n<p>If you are looking to cancel the HTTP request manually, you have to create a <code>cancelSubject: Subject</code> and define a <code>takeUntil(cancelSubject)</code> on the HTTP request.</p>\n\n<p>To cancel the HTTP request, you simply call <code>cancelSubject.next(true)</code>, which in turn will cancel the HTTP request, because <code>takeUntil</code> takes effect.</p>\n\n<p>Keep in mind, that after a second, the request will be restarted. If you want to cancel the timer, you will have to put the <code>.takeUntil(cancelSubject)</code> on the outer observable.</p>\n"}, {"tags": [], "owner": {"reputation": 1897, "user_id": 1632341, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d98e1d5908373d17a0b78f7e9eba67b?s=128&d=identicon&r=PG", "display_name": "Akkusativobjekt", "link": "https://stackoverflow.com/users/1632341/akkusativobjekt"}, "is_accepted": true, "score": 1, "last_activity_date": 1478700338, "creation_date": 1478700338, "answer_id": 40508888, "question_id": 40107860, "link": "https://stackoverflow.com/questions/40107860/how-to-drop-the-response-of-an-observable/40508888#40508888", "title": "How to drop the response of an Observable", "body": "<p>I ended up using <code>distinctUntilChanged</code> to archive my goal:</p>\n\n<pre><code>getList() {\n    return Observable.timer(0, 1000)\n      .concatMap(() =&gt; this.http.get(this.apiURL)\n      .distinctUntilChanged(null, x =&gt; x.json().info[1].value)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n</code></pre>\n\n<p>Therefore if the current and last response share the same specific value, the newest response is dropped. I guess my question was not clear enough and I did not mention that the decision to drop a response depends on the previous one.</p>\n\n<p>A <strong>downside</strong> of this approach is that the response have to be parsed twice, but I guess that cannot be avoided. It would be nice to know if the json approch is faster than a complete string compare of the result (body).</p>\n\n<p>If the decision to drop a response only depends on the current response, I would recommend to use a <a href=\"http://reactivex.io/documentation/operators/filter.html#collapseRxJS\" rel=\"nofollow noreferrer\">filter</a>.</p>\n"}], "owner": {"reputation": 1897, "user_id": 1632341, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d98e1d5908373d17a0b78f7e9eba67b?s=128&d=identicon&r=PG", "display_name": "Akkusativobjekt", "link": "https://stackoverflow.com/users/1632341/akkusativobjekt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 40508888, "answer_count": 2, "score": 3, "last_activity_date": 1478700405, "creation_date": 1476792497, "last_edit_date": 1495542750, "question_id": 40107860, "link": "https://stackoverflow.com/questions/40107860/how-to-drop-the-response-of-an-observable", "title": "How to drop the response of an Observable", "body": "<p>With the help of <a href=\"https://stackoverflow.com/questions/39994096/start-first-call-of-intervalobservable-instant\">Observable.timer(0, 1000)</a> I am making continuous requests to my server in a defined time pattern. After I processed the content of the response it is possible under special conditions and <strong>depending on the previous response</strong> that I need to drop the response and therefore do not pass it to the subscriber of the service:</p>\n\n<pre><code>@Injectable()\nexport class LoggerService {\n  constructor(private http: Http) { }\n  private apiURL = 'assets/file.json'; \n\n  getList() {\n    return Observable.timer(0, 1000)\n      .concatMap(() =&gt; this.http.get(this.apiURL))\n      .map(this.extractData)\n      .catch(this.handleError););\n  }\n  private extractData(res: Response) {\n    var fooot = new Foo();\n    fooot.fillFromJSON(JSON.stringify(res.json()));\n    if(fooot.getProperty()){\n    //DROP IT\n    }\n    return fooot;\n  }\n\n  private handleError(error: any) {\n    let errMsg = (error.message) ? error.message :\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\n    console.error(errMsg);\n    return Observable.throw(errMsg);\n  }\n}\n</code></pre>\n\n<p>The <code>getList()</code> method is then called from <code>ngOnInit</code> of a component.\nAt the moment there are two possible solutions I can think of, buy maybe there is a better/clearer approach to solve this problem:</p>\n\n<ol>\n<li><p>If I have to drop the response I create a special object which is recognized by the subscriber of <code>getList()</code> and then specifically handled. But this solution would be very ugly because the dropped response leaves my service and I need to extra write code outside of the service to handle this case.</p></li>\n<li><p>I throw an exception when I have to drop the response. Then the exception is caught, recognized (to differ it from other cases) and then dropped without any notice/output. Afterwards the observable is restarted. The advantage of this approach is that the observable which should be dropped to not leave the service, but I do not like the usage of exceptions in this case for the control flow.</p></li>\n</ol>\n\n<p>I tried both solutions and they are working, but I hope there are some better approaches.</p>\n"}, {"tags": ["angular", "typescript", "minify"], "answers": [{"tags": [], "owner": {"reputation": 662, "user_id": 271767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c37fa25716b414d0237bb21eb41b08a4?s=128&d=identicon&r=PG", "display_name": "ugreen", "link": "https://stackoverflow.com/users/271767/ugreen"}, "is_accepted": false, "score": 0, "last_activity_date": 1476791905, "creation_date": 1476791905, "answer_id": 40107661, "question_id": 40107453, "link": "https://stackoverflow.com/questions/40107453/is-there-a-simple-way-to-minify-angular-2-quick-start-app/40107661#40107661", "title": "Is there a simple way to minify Angular 2 quick start app", "body": "<p>Take a look at the build system in this Angular 2 seed package. It's really well done.</p>\n\n<p><a href=\"https://github.com/mgechev/angular-seed\" rel=\"nofollow\">https://github.com/mgechev/angular-seed</a></p>\n\n<p>It can do what you ask, and lots more.</p>\n"}], "owner": {"reputation": 1360, "user_id": 1889351, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fb86e5ec1fc63d472301c47f8640b19b?s=128&d=identicon&r=PG", "display_name": "Vuk Vasi\u0107", "link": "https://stackoverflow.com/users/1889351/vuk-vasi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505851287, "creation_date": 1476791385, "last_edit_date": 1505851287, "question_id": 40107453, "link": "https://stackoverflow.com/questions/40107453/is-there-a-simple-way-to-minify-angular-2-quick-start-app", "title": "Is there a simple way to minify Angular 2 quick start app", "body": "<p>I have spended a lot of time trying to find a way to minify all Javascript generated by TypeScript compiler but i haven't found any way of minifying the Angular 2 Quick start app for production mode:</p>\n\n<p><a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">https://angular.io/guide/quickstart</a></p>\n\n<p>Is there any way to minify application created with this sample (with systemjs.config.js). Have any one succeeded in minifing it for production ?</p>\n"}, {"tags": ["html", "events", "angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1476790763, "post_id": 40107008, "comment_id": 67485694, "body": "See also <a href=\"http://stackoverflow.com/questions/35527456/angular2-window-resize-event/35527852#35527852\" title=\"angular2 window resize event\">stackoverflow.com/questions/35527456/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1385, "user_id": 356620, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/16c95ae32f9cb92421b238ca83b2d88d?s=128&d=identicon&r=PG", "display_name": "J. Frankenstein", "link": "https://stackoverflow.com/users/356620/j-frankenstein"}, "edited": false, "score": 14, "creation_date": 1507591434, "post_id": 40107009, "comment_id": 80261877, "body": "This doesn&#39;t work when there is an element controlled by an ngIf inside the trigger element, since the ngIf removing the element from the DOM happens before the click event: <a href=\"http://plnkr.co/edit/spctsLxkFCxNqLtfzE5q?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/spctsLxkFCxNqLtfzE5q?p=preview</a>"}, {"owner": {"reputation": 239, "user_id": 541636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pL1KM.jpg?s=128&g=1", "display_name": "Avi Moraly", "link": "https://stackoverflow.com/users/541636/avi-moraly"}, "edited": false, "score": 0, "creation_date": 1518455941, "post_id": 40107009, "comment_id": 84504605, "body": "does it work on a component that created dynamiclly via :   const factory = this.resolver.resolveComponentFactory(MyComponent);   const elem = this.vcr.createComponent(factory);"}, {"owner": {"reputation": 133, "user_id": 1141612, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ded6e5d3ba46d0f0a35475ee4db223e4?s=128&d=identicon&r=PG", "display_name": "Miguel Lara", "link": "https://stackoverflow.com/users/1141612/miguel-lara"}, "edited": false, "score": 1, "creation_date": 1548333152, "post_id": 40107009, "comment_id": 95508771, "body": "A nice article on this topic: <a href=\"https://christianliebel.com/2016/05/angular-2-a-simple-click-outside-directive/\" rel=\"nofollow noreferrer\">christianliebel.com/2016/05/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3690, "user_id": 2981031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eTo8k.jpg?s=128&g=1", "display_name": "AMagyar", "link": "https://stackoverflow.com/users/2981031/amagyar"}, "is_accepted": true, "score": 213, "last_activity_date": 1554798748, "last_edit_date": 1554798748, "creation_date": 1476790050, "answer_id": 40107009, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/40107009#40107009", "title": "Detect click outside Angular component", "body": "<pre><code>import { Component, ElementRef, HostListener, Input } from '@angular/core';\n\n@Component({\n  selector: 'selector',\n  template: `\n    &lt;div&gt;\n      {{text}}\n    &lt;/div&gt;\n  `\n})\nexport class AnotherComponent {\n  public text: String;\n\n  @HostListener('document:click', ['$event'])\n  clickout(event) {\n    if(this.eRef.nativeElement.contains(event.target)) {\n      this.text = \"clicked inside\";\n    } else {\n      this.text = \"clicked outside\";\n    }\n  }\n\n  constructor(private eRef: ElementRef) {\n    this.text = 'no clicks yet';\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-x49gwi?file=src/app/another.component.ts\" rel=\"noreferrer\">A working example - click here</a></p>\n"}, {"comments": [{"owner": {"reputation": 674, "user_id": 5374995, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ESjtc.jpg?s=128&g=1", "display_name": "Vikas Kandari", "link": "https://stackoverflow.com/users/5374995/vikas-kandari"}, "edited": false, "score": 1, "creation_date": 1565715393, "post_id": 46656671, "comment_id": 101435862, "body": "This works perfectly with ngif or dynamic updates as well"}, {"owner": {"reputation": 448, "user_id": 4157713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VHMkt.png?s=128&g=1", "display_name": "Vladimir Demirev", "link": "https://stackoverflow.com/users/4157713/vladimir-demirev"}, "edited": false, "score": 1, "creation_date": 1570629322, "post_id": 46656671, "comment_id": 102973595, "body": "This is awesome"}, {"owner": {"reputation": 3199, "user_id": 209555, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/07995ab10178efba6e51018f74fedc5b?s=128&d=identicon&r=PG", "display_name": "NicoJuicy", "link": "https://stackoverflow.com/users/209555/nicojuicy"}, "edited": false, "score": 0, "creation_date": 1614810589, "post_id": 46656671, "comment_id": 117502282, "body": "Should be the approved answer!"}], "tags": [], "owner": {"reputation": 1385, "user_id": 356620, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/16c95ae32f9cb92421b238ca83b2d88d?s=128&d=identicon&r=PG", "display_name": "J. Frankenstein", "link": "https://stackoverflow.com/users/356620/j-frankenstein"}, "is_accepted": false, "score": 59, "last_activity_date": 1507593342, "creation_date": 1507593342, "answer_id": 46656671, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/46656671#46656671", "title": "Detect click outside Angular component", "body": "<p>An alternative to AMagyar's answer. This version works when you click on element that gets removed from the DOM with an ngIf.</p>\n\n<p><a href=\"http://plnkr.co/edit/4mrn4GjM95uvSbQtxrAS?p=preview\" rel=\"noreferrer\">http://plnkr.co/edit/4mrn4GjM95uvSbQtxrAS?p=preview</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  private wasInside = false;\r\n  \r\n  @HostListener('click')\r\n  clickInside() {\r\n    this.text = \"clicked inside\";\r\n    this.wasInside = true;\r\n  }\r\n  \r\n  @HostListener('document:click')\r\n  clickout() {\r\n    if (!this.wasInside) {\r\n      this.text = \"clicked outside\";\r\n    }\r\n    this.wasInside = false;\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 2834619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174e1b777ffa80a1b5af77f676b747b0?s=128&d=identicon&r=PG&f=1", "display_name": "James Bond", "link": "https://stackoverflow.com/users/2834619/james-bond"}, "is_accepted": false, "score": 2, "last_activity_date": 1540492288, "creation_date": 1540492288, "answer_id": 52995926, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/52995926#52995926", "title": "Detect click outside Angular component", "body": "<p>You can useclickOutside() method from <a href=\"https://www.npmjs.com/package/ng-click-outside\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng-click-outside</a> package</p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 6332983, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lo1e45MOprs/AAAAAAAAAAI/AAAAAAAAAm8/Wk-3agaRuKY/photo.jpg?sz=128", "display_name": "Rishanthakumar", "link": "https://stackoverflow.com/users/6332983/rishanthakumar"}, "is_accepted": false, "score": 6, "last_activity_date": 1555860046, "creation_date": 1555860046, "answer_id": 55784020, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/55784020#55784020", "title": "Detect click outside Angular component", "body": "<p>Above mentioned answers are correct but what if you are doing a heavy process after losing the focus from the relevant component. For that, I came with a solution with two flags where the focus out event process will only take place when losing the focus from relevant component only.</p>\n\n<pre><code>isFocusInsideComponent = false;\nisComponentClicked = false;\n\n@HostListener('click')\nclickInside() {\n    this.isFocusInsideComponent = true;\n    this.isComponentClicked = true;\n}\n\n@HostListener('document:click')\nclickout() {\n    if (!this.isFocusInsideComponent &amp;&amp; this.isComponentClicked) {\n        // do the heavy process\n\n        this.isComponentClicked = false;\n    }\n    this.isFocusInsideComponent = false;\n}\n</code></pre>\n\n<p>Hope this will help you. Correct me If have missed anything.</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 702951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd10515680bf3f9468adcdbe4cce94d?s=128&d=identicon&r=PG", "display_name": "edoardo849", "link": "https://stackoverflow.com/users/702951/edoardo849"}, "edited": false, "score": 6, "creation_date": 1580541995, "post_id": 59234391, "comment_id": 106138919, "body": "I think that this one should become the accepted answer as it allows for many optimizations: like in <a href=\"https://stackoverflow.com/a/60014879/702951\">this example</a>"}, {"owner": {"reputation": 341, "user_id": 9455526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AXY0d.jpg?s=128&g=1", "display_name": "Anup Bangale", "link": "https://stackoverflow.com/users/9455526/anup-bangale"}, "edited": false, "score": 1, "creation_date": 1590501490, "post_id": 59234391, "comment_id": 109698872, "body": "this is the prettiest solution i got on the internet"}, {"owner": {"reputation": 969, "user_id": 7322763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d98cf68c572fa4adc16d4c1ecbb8cdc?s=128&d=identicon&r=PG&f=1", "display_name": "ginalx", "link": "https://stackoverflow.com/users/7322763/ginalx"}, "reply_to_user": {"reputation": 1936, "user_id": 2711071, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eb4f74eab7ebf483efaa9de0371cb5f8?s=128&d=identicon&r=PG&f=1", "display_name": "lampshade", "link": "https://stackoverflow.com/users/2711071/lampshade"}, "edited": false, "score": 2, "creation_date": 1591949722, "post_id": 59234391, "comment_id": 110254112, "body": "@lampshade Correct. I talked about this. Read the answer again. I leave the unsubscribe implementation to your style (takeUntil(), Subscription.add()). Don&#39;t forget to unsubscribe!"}, {"owner": {"reputation": 189, "user_id": 9391556, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/9391556/nilesh"}, "edited": false, "score": 0, "creation_date": 1593353047, "post_id": 59234391, "comment_id": 110744339, "body": "@ginalx I implemented your solution, it works as expected. Though ran into an issue the way I use it. <a href=\"https://stackoverflow.com/questions/62563640/angular-custom-clickaway-listener-is-triggered-if-a-child-component-is-removed-u\">Here&#39;s</a> the question, please take a look"}], "tags": [], "owner": {"reputation": 969, "user_id": 7322763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d98cf68c572fa4adc16d4c1ecbb8cdc?s=128&d=identicon&r=PG&f=1", "display_name": "ginalx", "link": "https://stackoverflow.com/users/7322763/ginalx"}, "is_accepted": false, "score": 37, "last_activity_date": 1575803188, "last_edit_date": 1575803188, "creation_date": 1575800132, "answer_id": 59234391, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/59234391#59234391", "title": "Detect click outside Angular component", "body": "<p>Binding to document click through @Hostlistener is costly. It can and will have a visible performance impact if you overuse(for example, when building a custom dropdown component and you have multiple instances created in a form).</p>\n\n<p>I suggest adding a @Hostlistener() to the document click event only once inside your main app component. The event should push the value of the clicked target element inside a public subject stored in a global utility service.</p>\n\n<pre><code>@Component({\n  selector: 'app-root',\n  template: '&lt;router-outlet&gt;&lt;/router-outlet&gt;'\n})\nexport class AppComponent {\n\n  constructor(private utilitiesService: UtilitiesService) {}\n\n  @HostListener('document:click', ['$event'])\n  documentClick(event: any): void {\n    this.utilitiesService.documentClickedTarget.next(event.target)\n  }\n}\n\n@Injectable({ providedIn: 'root' })\nexport class UtilitiesService {\n   documentClickedTarget: Subject&lt;HTMLElement&gt; = new Subject&lt;HTMLElement&gt;()\n}\n</code></pre>\n\n<p>Whoever is interested for the clicked target element should subscribe to the public subject of our utilities service and unsubscribe when the component is destroyed.</p>\n\n<pre><code>export class AnotherComponent implements OnInit {\n\n  @ViewChild('somePopup', { read: ElementRef, static: false }) somePopup: ElementRef\n\n  constructor(private utilitiesService: UtilitiesService) { }\n\n  ngOnInit() {\n      this.utilitiesService.documentClickedTarget\n           .subscribe(target =&gt; this.documentClickListener(target))\n  }\n\n  documentClickListener(target: any): void {\n     if (this.somePopup.nativeElement.contains(target))\n        // Clicked inside  \n     else\n        // Clicked outside\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 2641811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b431e73161692dda6730fde26e1f7a8?s=128&d=identicon&r=PG", "display_name": "Gizrah", "link": "https://stackoverflow.com/users/2641811/gizrah"}, "edited": false, "score": 1, "creation_date": 1585226133, "post_id": 60014879, "comment_id": 107690378, "body": "While I agree with the way you think, I&#39;d suggest not stuffing all logic in a <code>tap</code> operator. Instead, use  <code>skipWhile(() =&gt; !this.isActive), switchMap(() =&gt; this._utilitiesService.documentClickedTarget),  filter((target) =&gt; !this._elementRef.nativeElement.contains(target)),  tap(() =&gt; this._toggleMenuSubject$.next(false))</code>.  This way you utilize way more of RxJs and skip some subscriptions."}], "tags": [], "owner": {"reputation": 133, "user_id": 702951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd10515680bf3f9468adcdbe4cce94d?s=128&d=identicon&r=PG", "display_name": "edoardo849", "link": "https://stackoverflow.com/users/702951/edoardo849"}, "is_accepted": false, "score": 5, "last_activity_date": 1580541692, "creation_date": 1580541692, "answer_id": 60014879, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/60014879#60014879", "title": "Detect click outside Angular component", "body": "<p><a href=\"https://stackoverflow.com/a/59234391/702951\">ginalx's answer</a> should be set as the default one imo: this method allows for many optimizations. </p>\n\n<p><strong>The problem</strong></p>\n\n<p>Say that we have a list of items and on every item we want to include a menu that needs to be toggled. We include a toggle on a button that listens for a <code>click</code> event on itself <code>(click)=\"toggle()\"</code>, but we also want to toggle the menu whenever the user clicks outside of it. If the list of items grows and we attach a <code>@HostListener('document:click')</code> on every menu, then every menu loaded within the item will start listening for the click on the entire document, even when the menu is toggled off. Besides the obvious performance issues, this is unnecessary.</p>\n\n<p>You can, for example, subscribe whenever the popup gets toggled via a click and start listening for \"outside clicks\" only then.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nisActive: boolean = false;\n\n// to prevent memory leaks and improve efficiency, the menu\n// gets loaded only when the toggle gets clicked\nprivate _toggleMenuSubject$: BehaviorSubject&lt;boolean&gt;;\nprivate _toggleMenu$: Observable&lt;boolean&gt;;\n\nprivate _toggleMenuSub: Subscription;\nprivate _clickSub: Subscription = null;\n\n\nconstructor(\n ...\n private _utilitiesService: UtilitiesService,\n private _elementRef: ElementRef,\n){\n ...\n this._toggleMenuSubject$ = new BehaviorSubject(false);\n this._toggleMenu$ = this._toggleMenuSubject$.asObservable();\n\n}\n\nngOnInit() {\n this._toggleMenuSub = this._toggleMenu$.pipe(\n      tap(isActive =&gt; {\n        logger.debug('Label Menu is active', isActive)\n        this.isActive = isActive;\n\n        // subscribe to the click event only if the menu is Active\n        // otherwise unsubscribe and save memory\n        if(isActive === true){\n          this._clickSub = this._utilitiesService.documentClickedTarget\n           .subscribe(target =&gt; this._documentClickListener(target));\n        }else if(isActive === false &amp;&amp; this._clickSub !== null){\n          this._clickSub.unsubscribe();\n        }\n\n      }),\n      // other observable logic\n      ...\n      ).subscribe();\n}\n\ntoggle() {\n    this._toggleMenuSubject$.next(!this.isActive);\n}\n\nprivate _documentClickListener(targetElement: HTMLElement): void {\n    const clickedInside = this._elementRef.nativeElement.contains(targetElement);\n    if (!clickedInside) {\n      this._toggleMenuSubject$.next(false);\n    }    \n }\n\nngOnDestroy(){\n this._toggleMenuSub.unsubscribe();\n}\n\n</code></pre>\n\n<p>And, in <code>*.component.html</code>:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;button (click)=\"toggle()\"&gt;Toggle the menu&lt;/button&gt;\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 2369168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ea9e6afdf87696279e572c77582589e?s=128&d=identicon&r=PG", "display_name": "John Libes", "link": "https://stackoverflow.com/users/2369168/john-libes"}, "is_accepted": false, "score": 3, "last_activity_date": 1602762423, "last_edit_date": 1602762423, "creation_date": 1595491236, "answer_id": 63049560, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/63049560#63049560", "title": "Detect click outside Angular component", "body": "<p>Improving @J. Frankenstein answear</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  \n  @HostListener('click')\n  clickInside($event) {\n    this.text = \"clicked inside\";\n    $event.stopPropagation();\n  }\n  \n  @HostListener('document:click')\n  clickOutside() {\n      this.text = \"clicked outside\";\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 9304217, "user_type": "registered", "profile_image": "https://graph.facebook.com/1254243831387347/picture?type=large", "display_name": "Rahul Yadav", "link": "https://stackoverflow.com/users/9304217/rahul-yadav"}, "is_accepted": false, "score": -1, "last_activity_date": 1597599132, "creation_date": 1597599132, "answer_id": 63440011, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component/63440011#63440011", "title": "Detect click outside Angular component", "body": "<p>u can call event function like (focusout) or (blur) then u put your code</p>\n<pre><code>&lt;div tabindex=0 (blur)=&quot;outsideClick()&quot;&gt;raw data &lt;/div&gt;\n \n\n outsideClick() {\n  alert('put your condition here');\n   }\n</code></pre>\n"}], "owner": {"reputation": 3690, "user_id": 2981031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eTo8k.jpg?s=128&g=1", "display_name": "AMagyar", "link": "https://stackoverflow.com/users/2981031/amagyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127312, "favorite_count": 24, "accepted_answer_id": 40107009, "answer_count": 8, "score": 124, "last_activity_date": 1602762423, "creation_date": 1476790050, "last_edit_date": 1513205411, "question_id": 40107008, "link": "https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component", "title": "Detect click outside Angular component", "body": "<p>How can I detect clicks <em>outside</em> a component in Angular?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs5", "ngrx"], "comments": [{"owner": {"reputation": 19608, "user_id": 1449157, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08e3be6906acb5dd01d9104fc61d6b60?s=128&d=identicon&r=PG", "display_name": "Fabio Antunes", "link": "https://stackoverflow.com/users/1449157/fabio-antunes"}, "edited": false, "score": 0, "creation_date": 1476791409, "post_id": 40106953, "comment_id": 67486151, "body": "add this to yours imports <code>import &#39;rxjs&#47;add&#47;operator&#47;throttle&#39;</code>"}, {"owner": {"reputation": 2304, "user_id": 1436151, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UO1rY.png?s=128&g=1", "display_name": "select", "link": "https://stackoverflow.com/users/1436151/select"}, "reply_to_user": {"reputation": 19608, "user_id": 1449157, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08e3be6906acb5dd01d9104fc61d6b60?s=128&d=identicon&r=PG", "display_name": "Fabio Antunes", "link": "https://stackoverflow.com/users/1449157/fabio-antunes"}, "edited": false, "score": 0, "creation_date": 1476791859, "post_id": 40106953, "comment_id": 67486448, "body": "of course I did that, otherwise it would have crashed before it could even go into the throttle function"}, {"owner": {"reputation": 1050, "user_id": 4158988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118c09afb67eb56a4fb44e155cd8c7fe?s=128&d=identicon&r=PG&f=1", "display_name": "jmachnik", "link": "https://stackoverflow.com/users/4158988/jmachnik"}, "edited": false, "score": 0, "creation_date": 1476792852, "post_id": 40106953, "comment_id": 67487139, "body": "tried throttleWithTimeout instead of throttle?"}], "answers": [{"comments": [{"owner": {"reputation": 5392, "user_id": 695787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/flhSj.jpg?s=128&g=1", "display_name": "Jameson", "link": "https://stackoverflow.com/users/695787/jameson"}, "edited": false, "score": 1, "creation_date": 1489386414, "post_id": 40108454, "comment_id": 72630951, "body": "Additional note for searches: this applied equally well to <code>debounce()</code> and <code>debounceTime()</code>, in RxJS 5."}, {"owner": {"reputation": 3801, "user_id": 2670121, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Pi4yD.jpg?s=128&g=1", "display_name": "Alendorff", "link": "https://stackoverflow.com/users/2670121/alendorff"}, "edited": false, "score": 0, "creation_date": 1505723974, "post_id": 40108454, "comment_id": 79512483, "body": "see also <a href=\"https://www.learnrxjs.io/operators/filtering/throttletime.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/filtering/throttletime.html</a>"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 19, "last_activity_date": 1476795270, "last_edit_date": 1476795270, "creation_date": 1476794176, "answer_id": 40108454, "question_id": 40106953, "link": "https://stackoverflow.com/questions/40106953/rxjs-throttle-this-durationselector-is-not-a-function/40108454#40108454", "title": "rxjs throttle this.durationSelector is not a function", "body": "<p>Documentation page you're referring on <a href=\"https://github.com/Reactive-Extensions/RxJS\" rel=\"noreferrer\">https://github.com/Reactive-Extensions/RxJS</a> is related to RxJS 4. Since you're using Angular2, you're using RxJS 5.</p>\n\n<p>Operator <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-throttle\" rel=\"noreferrer\"><code>throttle()</code></a> expects as argument an Observable or Promise.</p>\n\n<p>Operator <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-throttleTime\" rel=\"noreferrer\"><code>throttleTime()</code></a> takes as argument time in miliseconds.</p>\n\n<p>So you should use <code>throttleTime(1000)</code>. </p>\n\n<p>Note that using <code>.throttle(() =&gt; 1000)</code> is very different. You pass an anonymous function that returns <code>1000</code> instead of <code>1000</code> number directly. That's why it throws a different error.</p>\n"}], "owner": {"reputation": 2304, "user_id": 1436151, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UO1rY.png?s=128&g=1", "display_name": "select", "link": "https://stackoverflow.com/users/1436151/select"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4406, "favorite_count": 2, "accepted_answer_id": 40108454, "answer_count": 1, "score": 7, "last_activity_date": 1476795299, "creation_date": 1476789913, "last_edit_date": 1476795299, "question_id": 40106953, "link": "https://stackoverflow.com/questions/40106953/rxjs-throttle-this-durationselector-is-not-a-function", "title": "rxjs throttle this.durationSelector is not a function", "body": "<p>I am trying to <code>throttle</code> ngrx store action updates events with the following code </p>\n\n<pre><code>import 'rxjs/add/operator/throttle'\nimport { Dispatcher, Store } from '@ngrx/store';\n...\nstatic get parameters() {\n  return [[Dispatcher]];\n}\nconstructor(actions$) {\n...\n\nthis.actions$\n  .filter(action =&gt; action.type === this.Actions[`LOAD_USERS_REQUEST`])\n  .throttle(1000 /* ms */)\n  .subscribe(() =&gt;\n    ...\n  );\n</code></pre>\n\n<p>this throws me an error</p>\n\n<blockquote>\n  <p>at ThrottleSubscriber.tryDurationSelector (throttle.js:80) TypeError:\n  this.durationSelector is not a function</p>\n</blockquote>\n\n<p>When I replace <code>.throttle(1000)</code> with <code>.throttle(() =&gt; 1000)</code> it throws a different error that clearly shows throttle expects a function, just not the one that I provide. But I wonder why because the documentation states throttle expects a number value.</p>\n\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/throttle.md\" rel=\"noreferrer\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/throttle.md</a></p>\n"}, {"tags": ["angular", "typescript", "angular2-components"], "answers": [{"tags": [], "owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "is_accepted": true, "score": 2, "last_activity_date": 1476789839, "creation_date": 1476789839, "answer_id": 40106924, "question_id": 40106861, "link": "https://stackoverflow.com/questions/40106861/angular-2-how-to-bind-a-subcomponent-to-property/40106924#40106924", "title": "Angular 2: how to bind a subcomponent to property", "body": "<p>With the <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#parent-calls-a-viewchild-\" rel=\"nofollow\"><code>ViewChild</code></a> annotation:</p>\n\n<pre><code>export class AppComponent {\n  @ViewChild(MainMenuComponent) menu: MainMenuComponent;\n}\n</code></pre>\n"}], "owner": {"reputation": 378, "user_id": 6847231, "user_type": "registered", "profile_image": "https://graph.facebook.com/1046245289/picture?type=large", "display_name": "Konstantin Stupnik", "link": "https://stackoverflow.com/users/6847231/konstantin-stupnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 40106924, "answer_count": 1, "score": 0, "last_activity_date": 1476789880, "creation_date": 1476789656, "last_edit_date": 1476789880, "question_id": 40106861, "link": "https://stackoverflow.com/questions/40106861/angular-2-how-to-bind-a-subcomponent-to-property", "title": "Angular 2: how to bind a subcomponent to property", "body": "<p>How can I bind subcomponent mainmenu in template to property menu?</p>\n\n<pre><code>import { Component } from '@angular/core';\n\nimport { MainMenuComponent } from './main-menu.component';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div class=\"centered\"&gt;\n      &lt;mainmenu&gt;&lt;/mainmenu&gt;\n    &lt;/div&gt;\n  `\n})\nexport class AppComponent {\n  menu: MainMenuComponent;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "pluralize"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1476793266, "post_id": 40106850, "comment_id": 67487420, "body": "I see you&#39;ve opened an issue, good call. For some reason I&#39;ve failed to use it like that but had success in using it like <code>&lt;template ngPluralCase=&quot;other&quot;&gt;</code> (also a bit shorter). A question <a href=\"https://stackoverflow.com/questions/39547858/angular-2-ng-container\">here</a> still hasn&#39;t got a fair answer."}], "answers": [{"tags": [], "owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "is_accepted": true, "score": 0, "last_activity_date": 1484143153, "last_edit_date": 1592644375, "creation_date": 1479375377, "answer_id": 40651271, "question_id": 40106850, "link": "https://stackoverflow.com/questions/40106850/angular2-cant-bind-to-ngpluralcase-since-it-isnt-a-known-property-of-x/40651271#40651271", "title": "Angular2 : Can&#39;t bind to &#39;ngPluralCase&#39; since it isn&#39;t a known property of &#39;x&#39;", "body": "<p>For the moment I Opened an <a href=\"https://github.com/angular/angular/issues/12363\" rel=\"nofollow noreferrer\">issue on the Github repo</a>, because it really seems broken....</p>\n<p><strong>Edit</strong> This is the <a href=\"https://github.com/angular/angular/issues/12363#issuecomment-254491661\" rel=\"nofollow noreferrer\">answer that I got</a> from my Github issue:</p>\n<blockquote>\n<p>The problem here is actually that the NgPluralCase directive uses an @Attribute injection and because <code>ng-container</code> are virtual nodes, attributes can not be retrieved on them.</p>\n<p>You have to use a <code>&lt;template&gt;</code> tag in this case, the docs will be fixed as part of a pending PR.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 4274, "user_id": 2247766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3ce1cd3398830f498200e9eb5876aea?s=128&d=identicon&r=PG", "display_name": "Rakhat", "link": "https://stackoverflow.com/users/2247766/rakhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1484803560, "last_edit_date": 1484803560, "creation_date": 1484802855, "answer_id": 41734227, "question_id": 40106850, "link": "https://stackoverflow.com/questions/40106850/angular2-cant-bind-to-ngpluralcase-since-it-isnt-a-known-property-of-x/41734227#41734227", "title": "Angular2 : Can&#39;t bind to &#39;ngPluralCase&#39; since it isn&#39;t a known property of &#39;x&#39;", "body": "<p>Answer is <a href=\"https://angular.io\" rel=\"nofollow noreferrer\">angular.io</a> right now is outdated, at least example of <a href=\"https://angular.io/docs/ts/latest/api/common/index/NgPlural-directive.html\" rel=\"nofollow noreferrer\">NgPlural</a>.<br>\nExample below works with v2.4.4:</p>\n\n<pre><code>&lt;some-element [ngPlural]=\"value\"&gt;\n  &lt;template ngPluralCase=\"=0\"&gt;there is nothing&lt;/template&gt;\n  &lt;template ngPluralCase=\"=1\"&gt;there is one&lt;/template&gt;\n  &lt;template ngPluralCase=\"few\"&gt;there are a few&lt;/template&gt;\n&lt;/some-element&gt;\n</code></pre>\n"}], "owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1649, "favorite_count": 2, "accepted_answer_id": 40651271, "answer_count": 2, "score": 2, "last_activity_date": 1484803560, "creation_date": 1476789632, "last_edit_date": 1476799480, "question_id": 40106850, "link": "https://stackoverflow.com/questions/40106850/angular2-cant-bind-to-ngpluralcase-since-it-isnt-a-known-property-of-x", "title": "Angular2 : Can&#39;t bind to &#39;ngPluralCase&#39; since it isn&#39;t a known property of &#39;x&#39;", "body": "<p>First, this question is <strong>not</strong> a duplicate, most answers to questions like \"Cannot bind to 'x'...\" are about unimported modules, I've <strong>already imported the right one(s)</strong>.</p>\n\n<p>I'm following angular.io's doc about <a href=\"https://angular.io/docs/ts/latest/api/common/index/NgPlural-directive.html\" rel=\"nofollow\"><code>ngPlural</code></a> and <a href=\"https://angular.io/docs/ts/latest/api/common/index/NgPluralCase-directive.html\" rel=\"nofollow\"><code>ngPluralCase</code></a> directives:</p>\n\n<blockquote>\n<pre><code>&lt;some-element [ngPlural]=\"value\"&gt;\n  &lt;ng-container *ngPluralCase=\"'=0'\"&gt;...&lt;/ng-container&gt;\n  &lt;ng-container *ngPluralCase=\"'other'\"&gt;...&lt;/ng-container&gt;\n&lt;/some-element&gt;\n</code></pre>\n  \n  <p>(...)</p>\n  \n  <p>exported from @angular/common/index, defined in @angular/common/src/directives/ng_plural.ts</p>\n</blockquote>\n\n<p>When I try to run this code I get an error <a href=\"https://embed.plnkr.co/LzhoDs/\" rel=\"nofollow\">(see it in plnkr)</a>:</p>\n\n<blockquote>\n  <p>Can't bind to 'ngPluralCase' since it isn't a known property of 'ng-container'.</p>\n</blockquote>\n\n<p><strong>main.ts :</strong></p>\n\n<pre><code>import { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\nimport { Component, NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\n\n@Component({\n  selector: \"my-app\",\n  template:`\n  &lt;div [ngPlural]=\"1\"&gt;\n      &lt;ng-container *ngPluralCase=\"'=0'\"&gt;...&lt;/ng-container&gt;\n      &lt;ng-container *ngPluralCase=\"'other'\"&gt;...&lt;/ng-container&gt;\n  &lt;/div&gt;\n  `,\n  styles: []\n})\nclass AppComponent {\n\n}\n\n@NgModule({\n  imports: [\n    BrowserModule\n  ],\n  declarations: [AppComponent],\n  exports: [AppComponent],\n  bootstrap: [AppComponent]\n})\nclass AppModule { }\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n</code></pre>\n\n<p>I imported <code>BrowserModule</code> (which exports <code>CommonModule</code>, but I also tried importing <code>CommonModule</code> directly) in my <code>AppModule</code>, and as you can see, the error is about <code>ngPluralCase</code> and not <code>ngPlural</code> which is in the same module and used without problem...</p>\n\n<p>So my question is :</p>\n\n<p>Does anyone knows what is happening here ? Is it a bug related to the \"experimental\" state of these directives or am I missing something ?</p>\n\n<p><strong>PS</strong>: I'm using angular v2.1.0</p>\n"}, {"tags": ["javascript", "angular", "typescript", "jasmine", "angular2-testing"], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 5860343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qRcGyH8j6QE/AAAAAAAAAAI/AAAAAAAAAIE/n0Pcy3nhAlc/photo.jpg?sz=128", "display_name": "Tom Hall", "link": "https://stackoverflow.com/users/5860343/tom-hall"}, "edited": false, "score": 1, "creation_date": 1586224012, "post_id": 40109595, "comment_id": 108044117, "body": "+1.  And you can inject that service in the beforeEach with <code>slimLoadingBarService = TestBed.inject(SlimLoadingBarService);</code> (for Angular 9) instead of the line that&#39;s there.  And to take advantage of typescript, you could define the variable after the the describe as <code>let mockSlimLoadingBarService: SlimLoadingBarService;</code> so it&#39;s typed.  You&#39;d have to create an interface called <code>SlimLoadingBarService</code> and probably put it in a slim-loading-bar-service.model.ts file, but it helps keeps things organized and can weed out bugs before they happen."}], "tags": [], "owner": {"reputation": 5568, "user_id": 4166367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c9P3c.jpg?s=128&g=1", "display_name": "Sergeon", "link": "https://stackoverflow.com/users/4166367/sergeon"}, "is_accepted": false, "score": 10, "last_activity_date": 1510126624, "last_edit_date": 1510126624, "creation_date": 1476797177, "answer_id": 40109595, "question_id": 40106801, "link": "https://stackoverflow.com/questions/40106801/spyon-could-not-find-an-object-to-spy-upon-for-start/40109595#40109595", "title": "spyOn could not find an object to spy upon for start()", "body": "<p>Declaring <em>slimLoadingBarService</em> with let, you are constraining its scope to the beforeEach callback scope. Declare it with var, or better, declare it after the proper describe() block and set its content within beforeEach callback function:</p>\n\n<pre><code>describe(\"some describe statement\" , function(){\n    let slimLoadingBarService = null;\n\n    beforeEach( () =&gt; {\n        slimLoadingBarService=new SlimLoadingBarService();\n\n    });\n\n    it('should pass data to service', () =&gt; {\n        spyOn(slimLoadingBarService,'start').and.callThrough();\n       //testing code,if I remove the above service from my component, test runs fine\n    });\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 377, "user_id": 4712552, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/liv59.jpg?s=128&g=1", "display_name": "Ravi Ubana", "link": "https://stackoverflow.com/users/4712552/ravi-ubana"}, "edited": false, "score": 1, "creation_date": 1567366920, "post_id": 55939408, "comment_id": 101935352, "body": "You&#39;re God... Saved my day"}], "tags": [], "owner": {"reputation": 1739, "user_id": 4260860, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a6d7eb694f3533e92883e1a12e17ecd?s=128&d=identicon&r=PG&f=1", "display_name": "nirmal", "link": "https://stackoverflow.com/users/4260860/nirmal"}, "is_accepted": false, "score": 7, "last_activity_date": 1575990282, "last_edit_date": 1575990282, "creation_date": 1556728113, "answer_id": 55939408, "question_id": 40106801, "link": "https://stackoverflow.com/questions/40106801/spyon-could-not-find-an-object-to-spy-upon-for-start/55939408#55939408", "title": "spyOn could not find an object to spy upon for start()", "body": "<p>it's due to non declaration in beforeEach</p>\n\n<pre><code>beforeEach(() =&gt; {\n    slimLoadingBarService = TestBed.get(SlimLoadingBarService);\n});\n</code></pre>\n"}], "owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39840, "favorite_count": 1, "answer_count": 2, "score": 12, "last_activity_date": 1575990282, "creation_date": 1476789484, "last_edit_date": 1510143818, "question_id": 40106801, "link": "https://stackoverflow.com/questions/40106801/spyon-could-not-find-an-object-to-spy-upon-for-start", "title": "spyOn could not find an object to spy upon for start()", "body": "<p>I am using angular-cli testing framework.</p>\n\n<p>inside my component , I have used 'ng2-slim-loading-bar' node module.</p>\n\n<pre><code>submit(){\n    this._slimLoadingBarService.start(() =&gt; {\n    });\n    //method operations\n}\n</code></pre>\n\n<p>Now when I am testing this component, I have applied spyOn this service as :</p>\n\n<pre><code>beforeEach(() =&gt; {\n    let slimLoadingBarService=new SlimLoadingBarService();\n    demoComponent = new DemoComponent(slimLoadingBarService);\n    TestBed.configureTestingModule({\n        declarations: [\n            DemoComponent\n        ],\n        providers: [\n            { provide: SlimLoadingBarService, useClass: SlimLoadingBarService}\n        ],\n        imports: [\n            SharedModule\n        ]\n    });\n});\nit('should pass data to servie', () =&gt; {\n    spyOn(slimLoadingBarService,'start').and.callThrough();\n   //testing code,if I remove the above service from my component, test runs fine\n});\n</code></pre>\n\n<p>but its not working.</p>\n\n<p>It throws below error:</p>\n\n<blockquote>\n  <p>spyOn could not find an object to spy upon for start()</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "angular2-di"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1477405553, "post_id": 40106706, "comment_id": 67747265, "body": "You can&#39;t inject into decorators. Perhaps you are looking for <a href=\"http://stackoverflow.com/questions/37611549/how-to-pass-parameters-rendered-from-backend-to-angular2-bootstrap-method/37611614#37611614\" title=\"how to pass parameters rendered from backend to angular2 bootstrap method\">stackoverflow.com/questions/37611549/&hellip;</a>"}], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2096, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1477405398, "creation_date": 1476789182, "last_edit_date": 1495541856, "question_id": 40106706, "link": "https://stackoverflow.com/questions/40106706/angular2-di-how-to-inject-dependency-under-ngmodule", "title": "Angular2 DI: How to inject dependency under @NgModule?", "body": "<p><strong>TL;DR 25.10.16: update</strong></p>\n\n<p>I renamed the title to provide more clarification as i am still concerned about the right solution.</p>\n\n<p>Given a module</p>\n\n<pre><code>@NgModule({\n  imports: [\n    ExternalModule.forRoot(config),\n  ],\n  providers: [EXTERNAL_PROVIDERS(config)],\n})\nexport class MyModule{}\n</code></pre>\n\n<p>So my questions are: is there any possibilty that i can inject a dependency with my passed config like this ?</p>\n\n<ol>\n<li><code>ExternalModule.forRoot(@Inject(MyConfig) config : MyConfig)</code></li>\n<li><code>providers: [EXTERNAL_PROVIDERS(@Inject(MyConfig) config)]</code>  (</li>\n</ol>\n\n<p>I do not want to create <code>{provide: xxx, deps :[xxx], useFactory : xxx}</code> for each given external provider.</p>\n\n<p>I tried to initialize a <code>Application Wide Service Locator</code> with access to the root injector as described <a href=\"https://stackoverflow.com/questions/39409328/storing-injector-instance-for-use-in-components\">here</a> , but with Angular 2.1.0 <code>ngDoBootstrap</code> does not work as expected.</p>\n\n<h2>----------</h2>\n\n<p><strong>Old Post:</strong></p>\n\n<p>I would like to know what the correct pattern is for configuring an external third party library provider in Angular2.</p>\n\n<p>Let's take an example (code samples in Typescript):</p>\n\n<p>There is a library that exposes its providers and offers some configuration options by <code>config</code> object literal:</p>\n\n<pre><code>export function THIRD_PARTY_PROVIDERS(config = {}): Provider[] {\n  return [\n    {\n      provide: ExtConfigurableService,\n      deps: [Http],\n      useFactory: (http: Http) =&gt; {\n        return new ExtConfigurableService(http, config);\n      }\n    },\n    ExtOtherService\n  ];\n}\n</code></pre>\n\n<p>Then on the client side, these providers can be included in an <code>@NgModule</code>:</p>\n\n<pre><code>@NgModule({\n  providers: [\n    THIRD_PARTY_PROVIDERS({foo : 'bar'})\n  ],\n})\nexport class ClientModule { }\n</code></pre>\n\n<p>But what if my configuration object itself has dependencies on an existent service like <code>MyService</code>?\nI cannot inject a dependency in the providers array. The only way from my point of view is to use a <a href=\"https://angular.io/docs/ts/latest/api/core/index/FactoryProvider-interface.html\" rel=\"nofollow noreferrer\">FactoryProvider</a>: </p>\n\n<pre><code>const myConfigProvider = {\n    provide: MyConfig,\n    deps: [MyService],\n    useFactory: (MyService) =&gt; {\n      return new MyConfig(MyService);\n    }\n  };\n</code></pre>\n\n<p>Given that, how can i inject <code>MyConfig</code> into <code>THIRD_PARTY_PROVIDERS</code>? </p>\n\n<hr>\n\n<p>The only solutions which i came up with are not satisfactory:</p>\n\n<ol>\n<li>Use of an exported <code>OpaqueToken</code> from the third party provider side like <a href=\"https://github.com/angular/angular/blob/master/modules/%40angular/router/src/router_module.ts\" rel=\"nofollow noreferrer\">here (Angular 2 Router)</a></li>\n<li>configure all providers manuallay from the client side</li>\n</ol>\n\n<p>The first can only be done from the third party provider: export the token and require that token as own dependency in the factory provider.</p>\n\n<p>The second is very ugly, because you have to know and configure the implementation details / services of the third party lib by yourself. </p>\n\n<pre><code>@NgModule({\n      providers: [\n        {provide: ExtConfigurableService, deps: [MyConfig], useFactory: ...},\n        ExtOtherService\n      ],\n    })\n    export class ClientModule { }\n</code></pre>\n\n<p>What is the preferred pattern in angular 2 (client and third party provider side)?</p>\n\n<hr>\n\n<p><strong>Update 19.10.16</strong></p>\n\n<p>I implemented my first proposal for a solution and it works fine. But it requires that you have <strong>control over the external library / agree with the project owner on your changes or fork the repo</strong>.</p>\n\n<p>third-party-lib.ts:</p>\n\n<pre><code>   export const JWT_CONFIGURATION = new OpaqueToken('THIRD_PARTY_PROVIDER_TOKEN');\n    ...\n\n    @Injectable()\n    export class ExtConfigurableService {\n\n      constructor(@Inject(JWT_CONFIGURATION) config: any) {\n        // do someting with client provided config \n      }\n</code></pre>\n\n<p>my-module.ts</p>\n\n<pre><code> @NgModule({\n      providers: [\n        {\n        provide: JWT_CONFIGURATION,\n        deps: [MyService],\n        useFactory: (mySvc: MyService) =&gt; {\n          return {foo : 'bar'};\n        }, THIRD_PARTY_PROVIDERS\n      ]\n    })\n    export class MyModule { }\n</code></pre>\n\n<p>But if the external lib requires you to pass your config as an argument (like in the example at the top), i still don't know how to inject myconfig into it.</p>\n\n<p>Has Angular 2 other ways to inject a dependency with <code>@Inject()</code> in addition to the constructor or the factory provider?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1476788692, "post_id": 40106480, "comment_id": 67484337, "body": "I guess it&#39;s what is usually displayed at <code>&lt;ng-content&gt;</code> - transcluded elements - but I haven&#39;t tried it myself yet."}, {"owner": {"reputation": 2362, "user_id": 3791310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001359630881/picture?type=large", "display_name": "Kiran Yallabandi", "link": "https://stackoverflow.com/users/3791310/kiran-yallabandi"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1476788796, "post_id": 40106480, "comment_id": 67484398, "body": "I was thinking the same, I tried finding their use in source code but coudnt, guess have to try using it in code"}], "answers": [{"comments": [{"owner": {"reputation": 8169, "user_id": 650104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d91c4e7c47e577adbeef720e9010fe?s=128&d=identicon&r=PG", "display_name": "Javarome", "link": "https://stackoverflow.com/users/650104/javarome"}, "edited": false, "score": 0, "creation_date": 1550335439, "post_id": 40323785, "comment_id": 96234676, "body": "Very good but it seems that it does compile the projected element (and its children). How to get those ng-contents compiled?"}], "tags": [], "owner": {"reputation": 2362, "user_id": 3791310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001359630881/picture?type=large", "display_name": "Kiran Yallabandi", "link": "https://stackoverflow.com/users/3791310/kiran-yallabandi"}, "is_accepted": true, "score": 37, "last_activity_date": 1477776017, "creation_date": 1477776017, "answer_id": 40323785, "question_id": 40106480, "link": "https://stackoverflow.com/questions/40106480/what-are-projectable-nodes-in-angular2/40323785#40323785", "title": "What are projectable nodes in angular2", "body": "<p>Projectable nodes are the node elements ( i.e elements implementing the <a href=\"https://developer.mozilla.org/en/docs/Web/API/Node\" rel=\"noreferrer\">node interface</a> ), which are \"projected\" or in other words, transcluded onto the <code>ng-content</code> that we have in the template of our component.</p>\n\n<p>For example we can create a node element the following way :</p>\n\n<pre><code>var myNode = document.createElement('div');\nvar text = document.createTextNode('this is my text');\nmyNode.appendChild(text);\n</code></pre>\n\n<p>Then we can use the above node, the following way :</p>\n\n<pre><code>constructor(private vcr:ViewContainerRef ) {\n\n}\nngAfterViewInit() {\n\n  let cmpFactory = this.vcr.resolveComponentFactory(MyDynamicComponent);\n  let injector = this.vcr.parentInjector;\n\n  var myNode = document.createElement('div');\n  var text = document.createTextNode('this is my text');\n  myNode.appendChild(text);\n  this.vcr.createComponent(cmpFactory,0,injector,[ [ myNode ] ])\n}\n</code></pre>\n\n<p>A two dimensional array is accepted for projected nodes as we can have multi-slot transclusion, that is more than one <code>ng-content</code>. </p>\n\n<p>Here is a full example of how to use the projectable nodes with <code>ViewContainerRef#createComponent</code>. This example dynamically creates a component that has transclsion/ng-content in it:</p>\n\n<pre><code>import { Component, ViewContainerRef, ComponentFactoryResolver } from '@angular/core';\nimport { ComponentFactory,ComponentRef, Renderer } from '@angular/core';\n\n@Component({\n    selector: 'sample',\n    template: '&lt;ng-content&gt;&lt;/ng-content&gt;&lt;ng-content&gt;&lt;/ng-content&gt;'\n})\nexport class Sample { }\n\n@Component({\n    selector: 'demo',\n    template: '&lt;p&gt;Demo&lt;/p&gt;',\n    entryComponents: [Sample]\n})\nexport class DemoComponent {\n\n    constructor(private vcr: ViewContainerRef, private cfr: ComponentFactoryResolver, private r: Renderer) { }\n\n    ngAfterViewInit() {\n        let cmpFactory = this.cfr.resolveComponentFactory(Sample);\n        let injector = this.vcr.parentInjector;\n        let demoCompEl = this.vcr.element.nativeElement;\n\n        let projectedElA = this.r.createElement(demoCompEl,'p');\n        this.r.createText(projectedElA,'projectable content A');\n        this.r.detachView([projectedElA]);\n\n        let projectedElB = this.r.createElement(demoCompEl,'p');\n        this.r.createText(projectedElB,'projectable content B');\n        this.r.detachView([projectedElB]);\n\n        let projectedC = document.createElement('div');\n        let text = document.createTextNode('projectable content C');\n        projectedC.appendChild(text);\n\n        let cmpRef = this.vcr.createComponent(cmpFactory,0,injector,[[projectedElA],[projectedElB,projectedC]]);\n\n    }\n\n\n}\n</code></pre>\n\n<p>Output : </p>\n\n<pre><code>Demo\n\nprojectable content A\n\nprojectable content B\n\nprojectable content C\n</code></pre>\n\n<p>The additonal thing to notice is that in the 2d array that we pass for <em>projectable nodes</em>, each 1d array entry has the root elements of a particular view that belong together/ will be rendered together in a single <code>ng-content</code> block</p>\n"}], "owner": {"reputation": 2362, "user_id": 3791310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001359630881/picture?type=large", "display_name": "Kiran Yallabandi", "link": "https://stackoverflow.com/users/3791310/kiran-yallabandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4477, "favorite_count": 6, "accepted_answer_id": 40323785, "answer_count": 1, "score": 16, "last_activity_date": 1524494716, "creation_date": 1476788548, "question_id": 40106480, "link": "https://stackoverflow.com/questions/40106480/what-are-projectable-nodes-in-angular2", "title": "What are projectable nodes in angular2", "body": "<p>On reading the documentation of <a href=\"https://angular.io/docs/ts/latest/api/core/index/ViewContainerRef-class.html#!#createEmbeddedView-anchor\" rel=\"noreferrer\">ViewContainerRef</a> and <a href=\"https://angular.io/docs/ts/latest/api/core/index/ComponentFactory-class.html#!#create-anchor\" rel=\"noreferrer\">ComponentFactory</a>, where , for example we have the method </p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/index/ViewContainerRef-class.html#!#createEmbeddedView-anchor\" rel=\"noreferrer\">ViewContainerRef#createComponent</a> which takes 3 arguments : <code>componentFactory</code> , <code>injector</code> and <code>projectableNodes</code>. </p>\n\n<p>I have tried looking up what <code>projectableNodes</code> mean and how they are used in blogs, tutorials and source code but could not find much. </p>\n\n<p>On looking up the <a href=\"https://github.com/angular/angular/pull/11235/files#r77220989\" rel=\"noreferrer\">diff for for ngComponentOutlet directive</a>, All I could gather was that the string in projectableNodes is \"projected\" or rendered on to the created components view ( like ng-content may be). If so that is confusing as  we have <a href=\"https://angular.io/docs/ts/latest/api/core/index/ViewContainerRef-class.html#!#createEmbeddedView-anchor\" rel=\"noreferrer\">ViewContainerRef#createEmbeddedView</a> for the same. </p>\n\n<p>I would like to know as to what are these <code>projectedNodes</code> and have an example of their usage.</p>\n"}, {"tags": ["angular", "typescript", "routes"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 5600829, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/be73c4a8fba755f2bca84caeb0ec36be?s=128&d=identicon&r=PG&f=1", "display_name": "gurps", "link": "https://stackoverflow.com/users/5600829/gurps"}, "edited": false, "score": 0, "creation_date": 1477306960, "post_id": 40106588, "comment_id": 67697013, "body": "I still haven&#39;t found a way around it, I&#39;m really new to angular 2"}, {"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "reply_to_user": {"reputation": 109, "user_id": 5600829, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/be73c4a8fba755f2bca84caeb0ec36be?s=128&d=identicon&r=PG&f=1", "display_name": "gurps", "link": "https://stackoverflow.com/users/5600829/gurps"}, "edited": false, "score": 0, "creation_date": 1477307312, "post_id": 40106588, "comment_id": 67697229, "body": "please share your package.json and file code in which you have used <code>OnActivate</code>, <code>RouteSegment</code> and <code>RouteTree</code>."}], "tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": false, "score": 1, "last_activity_date": 1476788868, "creation_date": 1476788868, "answer_id": 40106588, "question_id": 40106429, "link": "https://stackoverflow.com/questions/40106429/module-node-modules-angular-router-index-has-no-exported-member-onactivate/40106588#40106588", "title": "Module &#39;&quot;node_modules/@angular/router/index&quot;&#39; has no exported member &#39;OnActivate&#39;", "body": "<p>May be you are using older version of angular and in latest angular version <code>OnActivate</code>, <code>RouteSegment</code> and <code>RouteTree</code> are deprecated so you have to make change in your code according to it. You can check angular <a href=\"https://angular.io/docs/ts/latest/api/#!?query=router\" rel=\"nofollow\">router api reference</a> . You can also check <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md\" rel=\"nofollow\">angular change log</a> to check from which version version <code>OnActivate</code>, <code>RouteSegment</code> and <code>RouteTree</code> are are deprecated .</p>\n"}], "owner": {"reputation": 109, "user_id": 5600829, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/be73c4a8fba755f2bca84caeb0ec36be?s=128&d=identicon&r=PG&f=1", "display_name": "gurps", "link": "https://stackoverflow.com/users/5600829/gurps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476788868, "creation_date": 1476788390, "question_id": 40106429, "link": "https://stackoverflow.com/questions/40106429/module-node-modules-angular-router-index-has-no-exported-member-onactivate", "title": "Module &#39;&quot;node_modules/@angular/router/index&quot;&#39; has no exported member &#39;OnActivate&#39;", "body": "<p><strong>Behavior</strong></p>\n\n<p>Following the documentation at <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/guide/router.html</a> I add the following line</p>\n\n<pre><code>import {OnActivate, RouteSegment, RouteTree} from \"@angular/router\";\n</code></pre>\n\n<p>Then i run ng serve and get the following errors</p>\n\n<pre><code>ERROR in [default] /Users/~/src/app/stock-item/stock-item.component.ts:3:8 \nModule '\"/Users/~/node_modules/@angular/router/index\"' has no exported member 'OnActivate'.\n\nERROR in [default] /Users/~/src/app/stock-item/stock-item.component.ts:3:20 \nModule '\"/Users/~/node_modules/@angular/router/index\"' has no exported member 'RouteSegment'.\n\nERROR in [default] /Users/~/src/app/stock-item/stock-item.component.ts:3:34 \nModule '\"/Users/~/node_modules/@angular/router/index\"' has no exported member 'RouteTree'.\n</code></pre>\n"}, {"tags": ["typescript", "ecmascript-6", "es6-proxy"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476787898, "post_id": 40106209, "comment_id": 67483834, "body": "What exactly are you asking?"}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476788001, "post_id": 40106209, "comment_id": 67483889, "body": "How to make ServiceClient&lt;T&gt; &quot;inherit&quot; methods from T, without actual inheritance and the need to implement them."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476788183, "post_id": 40106209, "comment_id": 67484015, "body": "It seems that your code is missing some parts, what&#39;s <code>Service</code> and what&#39;s <code>ServiceClient</code>? Please share all of the code that is needed."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476788499, "post_id": 40106209, "comment_id": 67484186, "body": "@NitzanTomer I don&#39;t know what to put into ServiceClient, except for my Proxy implementation (which is irrelevant), that&#39;s my question. Service is just a common parent type, it&#39;s empty at the moment, though in the future, it&#39;ll hold a constructor that registers it with the HTTP server."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476788687, "post_id": 40106209, "comment_id": 67484333, "body": "Basically I need to somehow modify the type that&#39;s created when I call &quot;new&quot; - compile-time, it should stay normal at runtime."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476788775, "post_id": 40106209, "comment_id": 67484391, "body": "I&#39;m still not sure what you&#39;re trying to do. You can&#39;t change something in compile time but not in runtime. Generics also are not included at runtime, so if you want <code>ServiceClient</code> to implement <code>Api</code> then just have the class implementing that interface. Can you please edit your question and be more specific about what you&#39;re trying to accomplish?"}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476788952, "post_id": 40106209, "comment_id": 67484497, "body": "I don&#39;t know how to be more specific. I need the class ServiceClient&lt;T&gt; to dynamically &quot;inherit&quot; methods from T. I can&#39;t create a class implementing the interface because 1) that&#39;s what I&#39;m trying to avoid, I&#39;d have to pointlessly repeat myself and 2) it&#39;s handled by a proxy, not by an implementation of the interface, so any implementation would be incorrect."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1476789517, "post_id": 40106209, "comment_id": 67484863, "body": "@NitzanTomer I&#39;ve edited the question, I hope it&#39;s more specific now."}, {"owner": {"reputation": 2756, "user_id": 1375316, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/62627013dd03b525ba5954cff57b0f9b?s=128&d=identicon&r=PG", "display_name": "threeve", "link": "https://stackoverflow.com/users/1375316/threeve"}, "edited": false, "score": 0, "creation_date": 1533846475, "post_id": 40106209, "comment_id": 90509122, "body": "@Tom if you&#39;ve gotten a good answer to your question since this time, I would be interested to know.  I&#39;m doing basically the exact same thing, but I can&#39;t even compile without stubbing the methods out on my class."}], "answers": [{"comments": [{"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476790264, "post_id": 40107018, "comment_id": 67485337, "body": "Thank you for your answer."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476790397, "post_id": 40107018, "comment_id": 67485445, "body": "But the ServiceClient class should not be tied to the Api interface. I don&#39;t need any support in runtime, my only point is to have strong typing. The ServiceClient class will contain an ES6 Proxy that will observe for any method calls, and proxy them to the server via a socket. I need a way to make ServiceClient instance that has methods and properties of any interface I specify as its type parameter."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476790653, "post_id": 40107018, "comment_id": 67485609, "body": "The code I&#39;m creating will be used as an external library, where the user will supply only the interface that describes the API and the service class, that handles server side, but nothing more."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476791135, "post_id": 40107018, "comment_id": 67485967, "body": "I need &quot;new ServiceClient&lt;T&gt;()&quot; to create an intersection type of &quot;ServiceClient &amp; T&quot;, so I can use methods from T and compiler enforces strong typing, both on its return type and arguments."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476791628, "post_id": 40107018, "comment_id": 67486286, "body": "That&#39;s not possible in typescript. You can only have interfaces for that. But if you want a class (that you can instantiate) then you need to know all of the methods up front."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476791961, "post_id": 40107018, "comment_id": 67486527, "body": "I;ve created a function: &quot;function createClient&lt;T&gt;(): JsonRpcServiceClient &amp; T { return (new JsonRpcServiceClient()) as JsonRpcServiceClient &amp; T; }&quot; that does what I need. Surely there&#39;s no way to do this using the &quot;new&quot; keyword, as this adds an unnecessary layer of execution into my application?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476792745, "post_id": 40107018, "comment_id": 67487070, "body": "You just keep confusing me. What is this <code>JsonRpcServiceClient</code>? and how exactly can you be sure that it implements <code>T</code>? Please edit you question and add all of this information, include all classes/function/what not so that it will be clear what you have and what you want to have"}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476792964, "post_id": 40107018, "comment_id": 67487219, "body": "The ServiceClient&#39;s constructor creates an ES6 proxy that intercepts all method calls, so no method is undefined, everything is sent to the server. Since I, the developer (sadly not the type system), know that I will always implement only the interface I have, nothing more and nothing less, I want the usage of the client class strongly typed, since I have the interface that describes what the server supports available."}, {"owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476793025, "post_id": 40107018, "comment_id": 67487263, "body": "The class <b>HAS TO</b> implement nothing from the interface, or it would modify the behavior of the proxied class."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "edited": false, "score": 0, "creation_date": 1476814320, "post_id": 40107018, "comment_id": 67501838, "body": "Hopefully I understand what you want, check my revised answer."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 1, "last_activity_date": 1476814296, "last_edit_date": 1476814296, "creation_date": 1476790063, "answer_id": 40107018, "question_id": 40106209, "link": "https://stackoverflow.com/questions/40106209/how-to-add-type-parameters-methods-to-a-type-that-uses-proxy/40107018#40107018", "title": "How to add type parameter&#39;s methods to a type that uses proxy", "body": "<p>I hope I understand what you're asking.</p>\n\n<p>You can't use the generics argument (<code>T</code>) in runtime so you can't dynamically create a proxy object which implements all of the methods in <code>T</code>.</p>\n\n<p>What you can do is something like this:</p>\n\n<pre><code>interface Api {\n    foo(): boolean;\n}\n\nabstract class Service {}\n\nclass MyService extends Service implements Api {\n    public foo(): boolean { return true; }\n}\n\nconst myService = new MyService();\nconst ServiceClient = {} as Api;\nfor (let key in myService) {\n    if (typeof myService[key] === \"function\" &amp;&amp; key !== \"constructor\") {\n        ServiceClient[key] = function() {\n            return myService[key].apply(myService, arguments);\n        }\n    }\n}\n\nlet result = ServiceClient.foo(); // true\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/#src=interface%20Api%20%7B%0D%0A%20%20%20%20foo()%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Aabstract%20class%20Service%20%7B%7D%0D%0A%0D%0Aclass%20MyService%20extends%20Service%20implements%20Api%20%7B%0D%0A%20%20%20%20public%20foo()%3A%20boolean%20%7B%20return%20true%3B%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20myService%20%3D%20new%20MyService()%3B%0D%0Aconst%20ServiceClient%20%3D%20%7B%7D%20as%20Api%3B%0D%0Afor%20(let%20key%20in%20myService)%20%7B%0D%0A%20%20%20%20if%20(typeof%20myService%5Bkey%5D%20%3D%3D%3D%20%22function%22%20%26%26%20key%20!%3D%3D%20%22constructor%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20ServiceClient%5Bkey%5D%20%3D%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20myService%5Bkey%5D.apply(myService%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Alet%20result%20%3D%20ServiceClient.foo()%3B\" rel=\"nofollow\">code in playground</a>)</p>\n\n<p>What I did was created an instance of <code>MyService</code>, then I created an object which will be the proxy for this <code>myService</code>, this proxy <code>ServiceClient</code> is created as an empty object at first.<br>\nThen I iterate over the properties of the <code>MyService</code> instance and for each function (which isn't the constructor) I create a function with the same name on the proxy object, when each of this function is invoked then the equivalent function in <code>myService</code> is invoked.</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>If I understand, then all you need to do is to tell the compiler that your instance is of type <code>Api</code>:</p>\n\n<pre><code>class ServiceClient {\n    // implement proxy magic here\n}\n\nlet client = new ServiceClient() as any as Api;\nlet result = client.foo();\n</code></pre>\n\n<p>That should do the trick, as it creates an instance of the class that proxies things, and then tricks the compiler into thinking that this is an instance of <code>Api</code>.</p>\n"}], "owner": {"reputation": 1765, "user_id": 6145651, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1675468166037192/picture?type=large", "display_name": "Tom", "link": "https://stackoverflow.com/users/6145651/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476814296, "creation_date": 1476787789, "last_edit_date": 1476789486, "question_id": 40106209, "link": "https://stackoverflow.com/questions/40106209/how-to-add-type-parameters-methods-to-a-type-that-uses-proxy", "title": "How to add type parameter&#39;s methods to a type that uses proxy", "body": "<p>I'm developing a simple RPC client/server library for my internal use. I would like to use one interface to describe both client and server, so I can share them between server and browser in my universal application.</p>\n\n<p>The server is easy, the service simply extends my Service class and implements an interface describing the API.</p>\n\n<p>The client will be implemented as an ES6 proxy, simply sending all method calls to the server, I'd like to have it strongly typed as well as the service class. <em>I need instances of type ServiceClient to have all methods and properties of it's type parameter, regardless of what is it.</em></p>\n\n<p>I was thinking about this syntax:</p>\n\n<pre><code>interface Api\n{\n    foo(): boolean;\n}\n\nclass MyService extends Service implements Api\n{\n    public foo(): boolean { return true; }\n}\n\n// usage\nlet result = (new ServiceClient&lt;Api&gt;()).foo(); // type of result is inferred, I get an error if I try to use an undefined method, arguments are type checked...\n</code></pre>\n\n<p>I've tried to browse some typings where it works similarly, but couldn't find a way. Thank you for your help.</p>\n"}, {"tags": ["javascript", "typescript", "equals"], "comments": [{"owner": {"reputation": 115, "user_id": 6259771, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_MBW5eFOCc/AAAAAAAAAAI/AAAAAAAACL8/5qFU6vi33Sc/photo.jpg?sz=128", "display_name": "manu", "link": "https://stackoverflow.com/users/6259771/manu"}, "edited": false, "score": 0, "creation_date": 1476786256, "post_id": 40105583, "comment_id": 67482817, "body": "try array[i] == array[i-1]"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1476786319, "post_id": 40105583, "comment_id": 67482856, "body": "Java is very different from Javascript\u2026"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7035909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc1f99024eddbbd0ac912f3aaf8b1d85?s=128&d=identicon&r=PG&f=1", "display_name": "piiiias", "link": "https://stackoverflow.com/users/7035909/piiiias"}, "edited": false, "score": 0, "creation_date": 1476786913, "post_id": 40105722, "comment_id": 67483252, "body": "Yeah, maybe I should&#39;ve mentioned it, but my array is containing a lot of &quot;date strings&quot;, meaning they are of type string but they are dates, and they are sorted. My problem is that I have more than one of each date some places, and when i loop through it and try to remove all those which are duplicates of the one before them something happens so that im removing all my strings except the first one... &quot;===&quot; dont seem to work either but maybe the mistake is elsewhere if that is supposed to work like the equals method?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 15, "user_id": 7035909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc1f99024eddbbd0ac912f3aaf8b1d85?s=128&d=identicon&r=PG&f=1", "display_name": "piiiias", "link": "https://stackoverflow.com/users/7035909/piiiias"}, "edited": false, "score": 0, "creation_date": 1476787083, "post_id": 40105722, "comment_id": 67483341, "body": "Check my revised answer"}, {"owner": {"reputation": 15, "user_id": 7035909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc1f99024eddbbd0ac912f3aaf8b1d85?s=128&d=identicon&r=PG&f=1", "display_name": "piiiias", "link": "https://stackoverflow.com/users/7035909/piiiias"}, "edited": false, "score": 0, "creation_date": 1476813467, "post_id": 40105722, "comment_id": 67501381, "body": "hey, i now found out i have to add a number for how many items it should remove from my array in the splice method. So the splice line should be like this: array.splice(i, 1); thats what made it remove all my strings... :P"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 0, "last_activity_date": 1476787077, "last_edit_date": 1495540112, "creation_date": 1476786296, "answer_id": 40105722, "question_id": 40105583, "link": "https://stackoverflow.com/questions/40105583/how-to-find-out-if-two-strings-are-the-same-in-typescript/40105722#40105722", "title": "How to find out if two Strings are the same in TypeScript?", "body": "<p>You need to use the <code>==</code> operator or the <code>===</code> operator (more info about the difference here: <a href=\"https://stackoverflow.com/questions/359494/which-equals-operator-vs-should-be-used-in-javascript-comparisons\">Which equals operator (== vs ===) should be used in JavaScript comparisons</a>).</p>\n\n<p>So:</p>\n\n<pre><code>for(var i = 1; i &lt; array.length; i++){\n  if(array[i] === array[i-1]){\n    array.splice(i);\n  }\n}\n</code></pre>\n\n<p>But you need to array to be sorted for that to work.<br>\nHere's an altenative implementation:</p>\n\n<pre><code>let array = [\"one\", \"two\", \"one\", \"three\", \"two\", \"four\", \"one\"];\n\narray.sort((a, b) =&gt; {\n    if (a &lt; b) return -1;\n    if (a &gt; b) return 1;\n    return 0;\n}).filter((item, index) =&gt; item !== array[index - 1]); // [\"four\", \"one\", \"three\", \"two\"]\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/#src=let%20array%20%3D%20%5B%22one%22%2C%20%22two%22%2C%20%22one%22%2C%20%22three%22%2C%20%22two%22%2C%20%22four%22%2C%20%22one%22%5D%3B%0D%0A%0D%0Aarray.sort((a%2C%20b)%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(a%20%3C%20b)%20return%20-1%3B%0D%0A%20%20%20%20if%20(a%20%3E%20b)%20return%201%3B%0D%0A%20%20%20%20return%200%3B%0D%0A%7D).filter((item%2C%20index)%20%3D%3E%20item%20!%3D%3D%20array%5Bindex%20-%201%5D)%3B%20%2F%2F%20%5B%22four%22%2C%20%22one%22%2C%20%22three%22%2C%20%22two%22%5D\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>If your array contains dates then you should do:</p>\n\n<pre><code>for(var i = 1; i &lt; array.length; i++){\n  if(array[i] == array[i-1]){\n    array.splice(i);\n  }\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>for(var i = 1; i &lt; array.length; i++){\n  if(array[i].toString() === array[i-1].toString()){\n    array.splice(i);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8064, "user_id": 5910563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snpEp.jpg?s=128&g=1", "display_name": "Horia Coman", "link": "https://stackoverflow.com/users/5910563/horia-coman"}, "is_accepted": false, "score": 0, "last_activity_date": 1476786355, "creation_date": 1476786355, "answer_id": 40105741, "question_id": 40105583, "link": "https://stackoverflow.com/questions/40105583/how-to-find-out-if-two-strings-are-the-same-in-typescript/40105741#40105741", "title": "How to find out if two Strings are the same in TypeScript?", "body": "<p>I'm afraid the algorithm you propose won't work unless the array of strings is in sorted order, so duplicate entries are next to each other.</p>\n\n<p>If the size of the array is small-ish, a very straight-forward solution is to loop over the array twice, like this:</p>\n\n<pre><code>for (var i = 0; i &lt; array.length; i++)\n  for(var j = i+1; j &lt; array.length; j++)\n    if (array[i] == array[j])\n      array.splice(j);\n</code></pre>\n\n<p>Other classic methods include sorting the array beforehand and <em>then</em> doing what you are doing, or employing an object / hashset to filter elements.</p>\n"}, {"tags": [], "owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "is_accepted": false, "score": 0, "last_activity_date": 1476786872, "creation_date": 1476786872, "answer_id": 40105903, "question_id": 40105583, "link": "https://stackoverflow.com/questions/40105583/how-to-find-out-if-two-strings-are-the-same-in-typescript/40105903#40105903", "title": "How to find out if two Strings are the same in TypeScript?", "body": "<p>Here is a version using reduce &amp; Object.key's.</p>\n\n<p>It should be pretty good on performance too, as it using object literal as a kind lookup.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array = [\"one\", \"two\", \"one\", \"three\", \"two\", \"four\", \"one\"];\r\n\r\nlet deduped = Object.keys(array.reduce((c,a) =&gt; { c[a]=true; return c; },{}))\r\n\r\nconsole.log(deduped);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 7035909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc1f99024eddbbd0ac912f3aaf8b1d85?s=128&d=identicon&r=PG&f=1", "display_name": "piiiias", "link": "https://stackoverflow.com/users/7035909/piiiias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 40105722, "answer_count": 3, "score": 0, "last_activity_date": 1476787077, "creation_date": 1476785909, "last_edit_date": 1476786049, "question_id": 40105583, "link": "https://stackoverflow.com/questions/40105583/how-to-find-out-if-two-strings-are-the-same-in-typescript", "title": "How to find out if two Strings are the same in TypeScript?", "body": "<p>I have an array with some strings and would like to loop through the array to check that i dont have two of the same string.</p>\n\n<p>In java/javascript i would use the equals() method like below, but that dont seem to work. </p>\n\n<pre><code>array: Array&lt;any&gt; = [];\nfor(var i = 1; i &lt; array.length; i++){\n  if(array[i].equals(array[i-1])){\n    array.splice(i);\n  }\n}\n</code></pre>\n\n<p>Is there any other function or easy way to do this?</p>\n"}, {"tags": ["google-maps", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1369, "user_id": 4520350, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/637375143/picture?type=large", "display_name": "sebap", "link": "https://stackoverflow.com/users/4520350/sebap"}, "is_accepted": false, "score": 2, "last_activity_date": 1476786928, "creation_date": 1476786928, "answer_id": 40105921, "question_id": 40104288, "link": "https://stackoverflow.com/questions/40104288/angular2-how-to-setup-a-google-maps-overlayview-translate-js-prototype-into/40105921#40105921", "title": "Angular2 - How to setup a google.maps.OverlayView? (translate JS prototype into Typescript)", "body": "<p>I was on the good way it works...</p>\n\n<pre><code>import { Component } from '@angular/core';\ndeclare const google: any;\n\nclass USGSOverlay extends google.maps.OverlayView{\n\n  bounds_;\n  image_;\n  map_;\n  div_;\n\n  constructor(bounds, image, map){\n    // Initialize all properties.\n    this.bounds_ = bounds;\n    this.image_ = image;\n    this.map_ = map;\n\n    // Define a property to hold the image's div. We'll\n    // actually create this div upon receipt of the onAdd()\n    // method so we'll leave it null for now.\n    this.div_ = null;\n\n    // Explicitly call setMap on this overlay.\n    this.setMap(map);\n  }\n\n  /**\n   * onAdd is called when the map's panes are ready and the overlay has been\n   * added to the map.\n   */\n  onAdd(){\n    const div = document.createElement('div');\n    div.style.borderStyle = 'none';\n    div.style.borderWidth = '0px';\n    div.style.position = 'absolute';\n\n    // Create the img element and attach it to the div.\n    const img = document.createElement('img');\n    img.src = this.image_;\n    img.style.width = '100%';\n    img.style.height = '100%';\n    img.style.position = 'absolute';\n    div.appendChild(img);\n\n    this.div_ = div;\n\n    // Add the element to the \"overlayLayer\" pane.\n    const panes = this.getPanes();\n    panes.overlayLayer.appendChild(div);\n  };\n\n  draw(){\n\n    // We use the south-west and north-east\n    // coordinates of the overlay to peg it to the correct position and size.\n    // To do this, we need to retrieve the projection from the overlay.\n    const overlayProjection = this.getProjection();\n\n    // Retrieve the south-west and north-east coordinates of this overlay\n    // in LatLngs and convert them to pixel coordinates.\n    // We'll use these coordinates to resize the div.\n    const sw = overlayProjection.fromLatLngToDivPixel(this.bounds_.getSouthWest());\n    const ne = overlayProjection.fromLatLngToDivPixel(this.bounds_.getNorthEast());\n\n    // Resize the image's div to fit the indicated dimensions.\n    const div = this.div_;\n    div.style.left = sw.x + 'px';\n    div.style.top = ne.y + 'px';\n    div.style.width = (ne.x - sw.x) + 'px';\n    div.style.height = (sw.y - ne.y) + 'px';\n  };\n\n  // The onRemove() method will be called automatically from the API if\n  // we ever set the overlay's map property to 'null'.\n  onRemove(){\n    this.div_.parentNode.removeChild(this.div_);\n    this.div_ = null;\n  };\n};\n\n\n\n/*\n/*  Component Map\n*/\n@Component({\n  selector: 'map',\n  template: `\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n  `,\n  styles: [\n    `#map{ width:100%; height:100%; position: absolute; width:100%; height:100%; top:0; left:0;}`\n  ],\n})\nexport class MapComponent {\n\n  overlay;\n\n  ngOnInit(){\n    google.maps.event.addDomListener(window, 'load', this.initMap);\n  }\n\n  initMap() {\n\n    const map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 11,\n      center: {lat: 62.323907, lng: -150.109291},\n      mapTypeId: google.maps.MapTypeId.SATELLITE\n    });\n\n    const bounds = new google.maps.LatLngBounds(\n        new google.maps.LatLng(62.281819, -150.287132),\n        new google.maps.LatLng(62.400471, -150.005608));\n\n    // The photograph is courtesy of the U.S. Geological Survey.\n    const srcImage = 'https://developers.google.com/maps/documentation/' +\n        'javascript/examples/full/images/talkeetna.png';\n\n    // The custom USGSOverlay object contains the USGS image,\n    // the bounds of the image, and a reference to the map.\n    this.overlay = new USGSOverlay(bounds, srcImage, map);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29443, "user_id": 1087131, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c31ac7189e69fc6ccef80303cc8edfa0?s=128&d=identicon&r=PG", "display_name": "Stephen Paul", "link": "https://stackoverflow.com/users/1087131/stephen-paul"}, "is_accepted": false, "score": 1, "last_activity_date": 1489336917, "last_edit_date": 1495541857, "creation_date": 1489336917, "answer_id": 42750095, "question_id": 40104288, "link": "https://stackoverflow.com/questions/40104288/angular2-how-to-setup-a-google-maps-overlayview-translate-js-prototype-into/42750095#42750095", "title": "Angular2 - How to setup a google.maps.OverlayView? (translate JS prototype into Typescript)", "body": "<p>I also had loads of trouble with this but eventually came right. It's vital that the google maps script is pre-loaded (I loaded mine in my route resolver) otherwise you'll get a 'google' is not defined error. See <a href=\"https://stackoverflow.com/a/42733315/1087131\">here</a> on how I installed typings and imported the library.</p>\n\n<p>As for the syntax, I ended up using an inner class for this. This is because, if it's a top-level class WebPack attempts (unsuccessfully) to find the google maps library at compile time:</p>\n\n<pre><code>// import typings\nimport {} from '@types/googlemaps';\n\n@Component({...})\nexport class MapComponent implements OnInit {\n  // weird syntax, I know, but it works\n  USGSOverlay = class extends google.maps.OverlayView {\n    constructor(bounds, image, private map){\n      super();\n      ...\n      this.setMap(this.map);\n    }\n    onAdd(){...}\n    draw(){...}\n  }\n  ngOnInit() {\n    const overlay = new this.Overlay(bounds, image, map);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 3604438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f94b080a92cbc6a868a603922ee6823?s=128&d=identicon&r=PG&f=1", "display_name": "KCivilise", "link": "https://stackoverflow.com/users/3604438/kcivilise"}, "is_accepted": false, "score": 3, "last_activity_date": 1492211627, "last_edit_date": 1492211627, "creation_date": 1492209395, "answer_id": 43420095, "question_id": 40104288, "link": "https://stackoverflow.com/questions/40104288/angular2-how-to-setup-a-google-maps-overlayview-translate-js-prototype-into/43420095#43420095", "title": "Angular2 - How to setup a google.maps.OverlayView? (translate JS prototype into Typescript)", "body": "<p>Here is what worked for me (using ionic 2):</p>\n\n<ol>\n<li><p>Use these commands:</p>\n\n<pre><code>npm install typings --global\ntypings install dt~google.maps --global --save\ntypings install google.maps --global\n</code></pre></li>\n<li><p>Add \"typings/*.d.ts\" in your tsconfig.json:</p>\n\n<pre><code>\"include\": [\n  \"src/**/*.ts\",\n  \"typings/*.d.ts\"\n]\n</code></pre></li>\n<li><p>Here is the TypeScript code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n// import typings\nimport { } from '@types/googlemaps';\n/*\n/*  Component Map\n*/\n@Component({\n    selector: 'page-overlay',\n    templateUrl: 'overlay.html'\n})\nexport class OverlayPage {\n    @ViewChild('map') mapElement: ElementRef;\n    map: any;\n    // weird syntax, I know, but it works\n    constructor(public navCtrl: NavController) {\n    }\n    USGSOverlay = class extends google.maps.OverlayView {\n        bounds_: any;\n        image_: any;\n        map_: any;\n        div_: any;\n        constructor(bounds, image, private map) {\n            super();\n            // Initialize all properties.\n            this.bounds_ = bounds;\n            this.image_ = image;\n            this.map_ = map;\n            // Define a property to hold the image's div. We'll\n            // actually create this div upon receipt of the onAdd()\n            // method so we'll leave it null for now.\n            this.div_ = null;\n            // Explicitly call setMap on this overlay.\n            this.setMap(map);\n            this.set\n        }\n        /**\n         * onAdd is called when the map's panes are ready and the overlay has been\n         * added to the map.\n         */\n        onAdd() {\n            const div = document.createElement('div');\n            div.style.borderStyle = 'none';\n            div.style.borderWidth = '0px';\n            div.style.position = 'absolute';\n            // Create the img element and attach it to the div.\n            const img = document.createElement('img');\n            img.src = this.image_;\n            img.style.width = '100%';\n            img.style.height = '100%';\n            img.style.position = 'absolute';\n            div.appendChild(img);\n            this.div_ = div;\n            // Add the element to the \"overlayLayer\" pane.\n            const panes = this.getPanes();\n            panes.overlayLayer.appendChild(div);\n        };\n        draw() {\n            // We use the south-west and north-east\n            // coordinates of the overlay to peg it to the correct position and size.\n            // To do this, we need to retrieve the projection from the overlay.\n            const overlayProjection = this.getProjection();\n            // Retrieve the south-west and north-east coordinates of this overlay\n            // in LatLngs and convert them to pixel coordinates.\n            // We'll use these coordinates to resize the div.\n            const sw = overlayProjection.fromLatLngToDivPixel(this.bounds_.getSouthWest());\n            const ne = overlayProjection.fromLatLngToDivPixel(this.bounds_.getNorthEast());\n            // Resize the image's div to fit the indicated dimensions.\n            const div = this.div_;\n            div.style.left = sw.x + 'px';\n            div.style.top = ne.y + 'px';\n            div.style.width = (ne.x - sw.x) + 'px';\n            div.style.height = (sw.y - ne.y) + 'px';\n        };\n        // The onRemove() method will be called automatically from the API if\n        // we ever set the overlay's map property to 'null'.\n        onRemove() {\n            this.div_.parentNode.removeChild(this.div_);\n            this.div_ = null;\n        };\n    };\n    ngOnInit() {\n        this.loadMap();\n        var bounds = new google.maps.LatLngBounds(\n            new google.maps.LatLng(62.281819, -150.287132),\n            new google.maps.LatLng(62.400471, -150.005608));\n        // The photograph is courtesy of the U.S. Geological Survey.\n        var srcImage = 'https://developers.google.com/maps/documentation/' +\n            'javascript/examples/full/images/talkeetna.png';\n        const overlay = new this.USGSOverlay(bounds, srcImage, this.map);\n        //overlay.setMap(this.map);\n    }\n    ionViewDidLoad() {\n        this.loadMap();\n        var bounds = new google.maps.LatLngBounds(\n            new google.maps.LatLng(62.281819, -150.287132),\n            new google.maps.LatLng(62.400471, -150.005608));\n        // The photograph is courtesy of the U.S. Geological Survey.\n        var srcImage = 'https://developers.google.com/maps/documentation/' +\n            'javascript/examples/full/images/talkeetna.png';\n        const overlay = new this.USGSOverlay(bounds, srcImage, this.map);\n        //overlay.setMap(this.map);\n    }\n    loadMap() {        \n        let latLng = new google.maps.LatLng(62.323907, -150.109291);\n        var mapOptions = {\n            zoom :15,\n            center : latLng,\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n        };\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n    }\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 2811, "user_id": 2360310, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f6925a512e762b9717a0a89d22176582?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2360310/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1541458527, "creation_date": 1541458527, "answer_id": 53163472, "question_id": 40104288, "link": "https://stackoverflow.com/questions/40104288/angular2-how-to-setup-a-google-maps-overlayview-translate-js-prototype-into/53163472#53163472", "title": "Angular2 - How to setup a google.maps.OverlayView? (translate JS prototype into Typescript)", "body": "<p>As my code loads google maps API asynchronously, the above answers did not work for me.\nMy problem was typescript use google variable before loaded google API. </p>\n\n<p>Here is a solution I found.</p>\n\n<p>To see async map loader code, see <a href=\"https://stackoverflow.com/questions/48134937/load-google-maps-js-api-in-component-angular/48876538#48876538\">Load Google Maps JS API in component [Angular]</a></p>\n\n<p><strong>service</strong></p>\n\n<pre><code>//map.service.ts\n\nimport { Injectable } from '@angular/core';\n\n...\ndeclare var google;    \nexport let MyOverlay; // declare and use this from other ts file\n\n@Injectable({ providedIn: 'root' })\nexport class MapService {\n\n    private static promise;\n    map: any;\n\n    public static load() {\n        if (!MapService.promise) {\n            MapService.promise = new Promise((resolve) =&gt; {\n              //load google api asynchronously\n            });\n        }\n\n        return MapService.promise;\n    }\n\n    async initMap(gmapElement, lat = -33.92, lng = 151.25) {\n        return MapService.load()  \n            .then((gapi) =&gt; {\n                //map init\n                this.map = new google.maps.Map(gmapElement.nativeElement, {\n                   //map options\n                })\n                /*** before init MyOverlay, \n                1. Google API should be loaded\n                2. AFTER MAP init(rendering), Overlay Object has Projection to calculate Overlay location\n                ***/\n                this.initMyOverlay()\n            })\n            .catch(console.log)\n    }\n\n    initMyOverlay(){            \n        class MyOverlayCls extends google.maps.OverlayView {    \n         //omitted for code readability\n        }\n        MyOverlay = MyOverlayCls ; //assign class to variable\n    }\n\n}\n</code></pre>\n\n<p><strong>component</strong></p>\n\n<pre><code>//map.component.ts\nimport { MapService, MyOverlay} from 'map.service';\n...\n\n  @ViewChild('gmap') gmapElement: any\n  ...\n\n  ngOnInit() {\n    console.log(\"maps init\")\n    this.mapSvc.initMap(this.gmapElement).then(_ =&gt; {\n\n      //At this time, google API has been loaded and assigned MyOverlay as MyOverlayCls\n      let overlay= new MyOverlay(...)    \n\n    })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8206184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3326a56ce291f4c28e2214df47b1cb71?s=128&d=identicon&r=PG&f=1", "display_name": "Sameer", "link": "https://stackoverflow.com/users/8206184/sameer"}, "is_accepted": false, "score": 1, "last_activity_date": 1574452802, "creation_date": 1574452802, "answer_id": 59000980, "question_id": 40104288, "link": "https://stackoverflow.com/questions/40104288/angular2-how-to-setup-a-google-maps-overlayview-translate-js-prototype-into/59000980#59000980", "title": "Angular2 - How to setup a google.maps.OverlayView? (translate JS prototype into Typescript)", "body": "<p>In my case, i can not have an inner-class in the same class responsible for loading map. It took me sometime to figure out how to do it. \nThis is how i did it</p>\n\n<pre><code>export class mapTextOverlayService {\n\n  //Overlay is creatd in an inner-class because if it is at top-level class google maps library may not be available at the class load time\n  mapTextOverlay = class extends google.maps.OverlayView {\n\n    pos_;\n    text_;\n    map_;\n    div_;\n\n    constructor(pos, text, map) {\n      super();\n      // Initialize all properties.\n      this.pos_ = pos;\n      this.text_ = text;\n      this.map_ = map;\n\n      // Define a property to hold the text's div. We'll\n      // actually create this div upon receipt of the onAdd()\n      // method so we'll leave it null for now.\n      this.div_ = null;\n\n      // Explicitly call setMap on this overlay.\n      this.setMap(map);\n    }\n\n    /**\n     * onAdd is called when the map's panes are ready and the overlay has been\n     * added to the map.\n     */\n    onAdd() {\n      const div = document.createElement('div');\n      div.style.borderStyle = 'none';\n      div.style.borderWidth = '0px';\n      div.style.position = 'absolute';\n\n      div.innerHTML = this.text_;\n\n      this.div_ = div;\n\n      // Add the element to the \"overlayLayer\" pane.\n      const panes = this.getPanes();\n      panes.overlayLayer.appendChild(div);\n    };\n\n    draw() {\n      // We are using bounds centre to peg it to the correct position.\n      // To do this, we need to retrieve the projection from the overlay.\n      const overlayProjection = this.getProjection();\n\n      // Convert the centre coordinates of this overlay from LatLngs to pixel coordinates.\n      // We'll use these coordinates to provide the dimensions of div.\n      const pixelPos = overlayProjection.fromLatLngToDivPixel(this.pos_);\n\n      const div = this.div_;\n      div.style.left = pixelPos.x + 'px';\n      div.style.top = pixelPos.y + 'px';\n    };\n\n    // The onRemove() method will be called automatically from the API if\n    // we ever set the overlay's map property to 'null'.\n    onRemove() {\n      this.div_.parentNode.removeChild(this.div_);\n      this.div_ = null;\n    };\n\n    onHide() {\n      if (this.div_) {\n        this.div_.style.visibility = 'hidden';\n      } \n    };\n\n  }\n\n  createMapTextOverlay(pos, text, map) {\n    return new this.mapTextOverlay(pos, text, map);\n  }\n\n};\n\n</code></pre>\n\n<p>And then in the component where i want to create a text overlay:</p>\n\n<pre><code>let mtos = new mapTextOverlayService();\nlet label = mtos.createMapTextOverlay(boundsCenter, description, this.map.mapobject);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1311, "user_id": 7084125, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b64c554d50efedfabb43699d556a4aff?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Jain", "link": "https://stackoverflow.com/users/7084125/aman-jain"}, "is_accepted": false, "score": 1, "last_activity_date": 1597391863, "creation_date": 1597391863, "answer_id": 63408794, "question_id": 40104288, "link": "https://stackoverflow.com/questions/40104288/angular2-how-to-setup-a-google-maps-overlayview-translate-js-prototype-into/63408794#63408794", "title": "Angular2 - How to setup a google.maps.OverlayView? (translate JS prototype into Typescript)", "body": "<p>Use this simple code to create a custom overlay.</p>\n<pre><code>    // this.userPositionDiv is defined as variable\n    let overlayView = new google.maps.OverlayView();\n    overlayView.draw = () =&gt; {\n        if (!this.userPositionDiv) {\n            this.userPositionDiv = document.createElement('div');\n            this.userPositionDiv.className = 'marker';\n            this.userPositionDiv.style.cssText = `width: 35px; height: 35px; text-align: center; line-height: 35px; position: absolute; cursor: pointer; border-radius: 50%; color: #fff; background: #000`;\n            this.userPositionDiv.innerHTML = `&lt;span class=&quot;number-id&quot;&gt;Hello&lt;/span&gt;`;\n            const panes = overlayView.getPanes();\n            panes.overlayImage.appendChild(this.userPositionDiv);\n        }\n        const point = this.overlayView.getProjection().fromLatLngToDivPixel(this.latLng);\n        if (point) {\n            this.userPositionDiv.style.left = (point.x - 10) + 'px';\n            this.userPositionDiv.style.top = (point.y - 10) + 'px';\n        }\n    }\n    overlayView.setMap(this.gmap);\n</code></pre>\n"}], "owner": {"reputation": 1369, "user_id": 4520350, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/637375143/picture?type=large", "display_name": "sebap", "link": "https://stackoverflow.com/users/4520350/sebap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5329, "favorite_count": 2, "answer_count": 6, "score": 2, "last_activity_date": 1597391863, "creation_date": 1476782401, "last_edit_date": 1476785099, "question_id": 40104288, "link": "https://stackoverflow.com/questions/40104288/angular2-how-to-setup-a-google-maps-overlayview-translate-js-prototype-into", "title": "Angular2 - How to setup a google.maps.OverlayView? (translate JS prototype into Typescript)", "body": "<p>I'd like to create a google map component that work like that :\n<a href=\"https://jsfiddle.net/gvvy5vxz/2/\" rel=\"nofollow\">https://jsfiddle.net/gvvy5vxz/2/</a></p>\n\n<p>It's based on this : <a href=\"https://developers.google.com/maps/documentation/javascript/examples/overlay-simple\" rel=\"nofollow\">https://developers.google.com/maps/documentation/javascript/examples/overlay-simple</a></p>\n\n<p>I'm new to typescript and i'm stuck with the prototype implementation, specially with this JS snippet:</p>\n\n<pre><code>USGSOverlay.prototype = new google.maps.OverlayView();\n\nUSGSOverlay(bounds, image, map) {\n\n    // Initialize all properties.\n    this.bounds_ = bounds;\n    this.image_ = image;\n    this.map_ = map;\n\n    // Define a property to hold the image's div. We'll\n    // actually create this div upon receipt of the onAdd()\n    // method so we'll leave it null for now.\n    this.div_ = null;\n\n    // Explicitly call setMap on this overlay.\n    this.setMap(map);\n  }\n</code></pre>\n\n<p>I have no clue how to translate that in a typescript way and how to declare things properly. </p>\n\n<p>I guess I should create a class USGSOverlay that extends google.maps.OverlayView but it doesn't work. </p>\n\n<pre><code>class USGSOverlay extends google.maps.OverlayView{\n\n  bounds_;\n  image_;\n  map_;\n  div_;\n\n  constructor(bounds, image, map){\n    // Initialize all properties.\n    this.bounds_ = bounds;\n    this.image_ = image;\n    this.map_ = map;\n\n    // Define a property to hold the image's div. We'll\n    // actually create this div upon receipt of the onAdd()\n    // method so we'll leave it null for now.\n    this.div_ = null;\n\n    // Explicitly call setMap on this overlay.\n    this.setMap(map);\n  }\n}\n</code></pre>\n\n<p>This my working base component. It creates a simple map inside #map:</p>\n\n<pre><code>import { Component } from '@angular/core';\ndeclare const google: any;\n/*\n/*  Component Map\n*/\n@Component({\n  selector: 'map',\n  template: `\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n  `,\n  styles: [\n    `#map{ width:100%; height:100%; position: absolute; width:100%; height:100%; top:0; left:0;}`\n  ],\n})\nexport class MapComponent {\n\n  ngOnInit(){\n    google.maps.event.addDomListener(window, 'load', this.initMap);\n  }\n\n  initMap() {\n\n    const map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 11,\n      center: {lat: 62.323907, lng: -150.109291},\n      mapTypeId: google.maps.MapTypeId.SATELLITE\n    });\n\n    const bounds = new google.maps.LatLngBounds(\n        new google.maps.LatLng(62.281819, -150.287132),\n        new google.maps.LatLng(62.400471, -150.005608));\n  }\n}\n</code></pre>\n"}, {"tags": ["xml", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "edited": false, "score": 0, "creation_date": 1476785172, "post_id": 40103810, "comment_id": 67482135, "body": "Thanks Alon, I was going through some inbuilt interfaces and found XMLDocument() is present in Typescript."}, {"owner": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "edited": false, "score": 0, "creation_date": 1476785258, "post_id": 40103810, "comment_id": 67482195, "body": "i have added code to create XML using var xmlDoc = new XMLDocument();"}, {"owner": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "edited": false, "score": 0, "creation_date": 1476785616, "post_id": 40103810, "comment_id": 67482429, "body": "I have added code to create XML using  var xmlDoc = new XMLDocument();  This code does not have any build error. however, at run time i am getting  angular.js:13424 TypeError: Illegal constructor"}, {"owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "reply_to_user": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "edited": false, "score": 0, "creation_date": 1476786584, "post_id": 40103810, "comment_id": 67483036, "body": "@OnkarrajAmbatwar I&#39;m glad I&#39;ve managed to help you. As my answer was helpful for you, please accept this answer and vote up, Then please create a new question for your new problem."}, {"owner": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "edited": false, "score": 0, "creation_date": 1476787830, "post_id": 40103810, "comment_id": 67483788, "body": "Sure Alon. Could you please tell me , how to add typing in specific Visual studio project."}, {"owner": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "edited": false, "score": 0, "creation_date": 1476788859, "post_id": 40103810, "comment_id": 67484429, "body": "I am not able to find XMLWriter typings. Could you please tell me how to get that."}, {"owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "reply_to_user": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "edited": false, "score": 0, "creation_date": 1476789402, "post_id": 40103810, "comment_id": 67484781, "body": "I&#39;m sorry I&#39;m not familiar with this specific library, I just explained to you how to solve the &quot;Cannot find name&quot; error. Now you need to open a new question for each problem you have. When you accept an answer you get 2 reputation points."}], "tags": [], "owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "is_accepted": false, "score": 0, "last_activity_date": 1476781053, "creation_date": 1476781053, "answer_id": 40103810, "question_id": 40103535, "link": "https://stackoverflow.com/questions/40103535/create-xml-file-in-angular2-typescript/40103810#40103810", "title": "Create XML file in Angular2 + TypeScript", "body": "<p>XMLWriter is the good way.</p>\n\n<p>The problem is that you haven't added both a link reference and a require/import statement, so the compiler doesn't know XMLWriter.</p>\n\n<p>Script Reference:</p>\n\n<pre><code>///&lt;reference path=\"../typings/modules/XMLWriter/index.d.ts\" /&gt;\n</code></pre>\n\n<p>Require statement:</p>\n\n<pre><code>var XMLWriter = require('XMLWriter');\n</code></pre>\n\n<p>Your next steps should be as follows:</p>\n\n<ol>\n<li>Install <a href=\"https://github.com/typings/typings\" rel=\"nofollow\">typings</a></li>\n<li>Install XMLWriter (via typings)</li>\n<li>Add a <a href=\"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html\" rel=\"nofollow\">script reference</a> to XMLWriter</li>\n<li>Add an <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow\">import/require statement</a> to load the XMLWriter module</li>\n</ol>\n"}], "owner": {"reputation": 147, "user_id": 3877529, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/100000374682918/picture?type=large", "display_name": "Onkarraj Ambatwar", "link": "https://stackoverflow.com/users/3877529/onkarraj-ambatwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3929, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1476785923, "creation_date": 1476780199, "last_edit_date": 1476785923, "question_id": 40103535, "link": "https://stackoverflow.com/questions/40103535/create-xml-file-in-angular2-typescript", "title": "Create XML file in Angular2 + TypeScript", "body": "<p>I want to create XML document in angularjs + Typescript project. </p>\n\n<p>I read about XMLWriter() but i ma not able to use it. I am getting error \"Cannot find name XMLWriter\"</p>\n\n<p>Could please suggest a good way to create XML file. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 1, "creation_date": 1476778529, "post_id": 40102924, "comment_id": 67477773, "body": "just call the function / <i>next process</i> from <code>subscribe</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 6751153, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/d33e89add6e7753c98eaacddd1e6e00e?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul dev", "link": "https://stackoverflow.com/users/6751153/rahul-dev"}, "edited": false, "score": 1, "creation_date": 1476786201, "post_id": 40103002, "comment_id": 67482782, "body": "I exactly use map in <b>get function</b> and subscribe in getSelectOptionValue()"}, {"owner": {"reputation": 1197, "user_id": 6751153, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/d33e89add6e7753c98eaacddd1e6e00e?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul dev", "link": "https://stackoverflow.com/users/6751153/rahul-dev"}, "edited": false, "score": 0, "creation_date": 1476786370, "post_id": 40103002, "comment_id": 67482892, "body": "and your answer through me <b>error: Cannot read property &#39;subscribe&#39; of undefined</b>  when I again use map in getSelectOptionValue()."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1197, "user_id": 6751153, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/d33e89add6e7753c98eaacddd1e6e00e?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul dev", "link": "https://stackoverflow.com/users/6751153/rahul-dev"}, "edited": false, "score": 1, "creation_date": 1476786788, "post_id": 40103002, "comment_id": 67483172, "body": "Sorry, I didn&#39;t mention the <code>return</code> I added where I changed <code>subscribe</code> to <code>map</code>. If you add <code>return</code> there, it should work."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 12, "last_activity_date": 1592151714, "last_edit_date": 1592151714, "creation_date": 1476778547, "answer_id": 40103002, "question_id": 40102924, "link": "https://stackoverflow.com/questions/40102924/wait-for-http-response-in-angular-2/40103002#40103002", "title": "wait for Http response in angular 2", "body": "<p>You can't make code wait for async calls to return.</p>\n\n<p>What you can do is to chain async calls, so that when an async call returns, some of your code is executed.</p>\n\n<p>If you use <code>map()</code> instead of <code>subscribe()</code> you can return the created <code>Observable</code> for the caller to subscribe. If you call <code>subscribe()</code> the return value will be a <code>Subscription</code> but that is usually not very useful for the caller:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getSelectOptionValue(): any {\n      let area_list_url = '/select_option_list/';\n\n      return this.urlGet(area_list_url).map( /// &lt;&lt;&lt;=== use `map` here\n        (response) =&gt; {\n          let data = response.text() ? response.json() : [{}];\n\n          if (data) {\n            Constant.areaList = data;\n          }\n\n          return JSON.stringify(Constant.areaList);\n        }\n      );\n    }\n}\n</code></pre>\n\n<p>And then use it like:</p>\n\n<pre><code>this.getSelectOptionValue().subscribe(data =&gt; {/* your code that works with received data here */ });\n</code></pre>\n"}], "owner": {"reputation": 1197, "user_id": 6751153, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/d33e89add6e7753c98eaacddd1e6e00e?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul dev", "link": "https://stackoverflow.com/users/6751153/rahul-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63872, "favorite_count": 2, "accepted_answer_id": 40103002, "answer_count": 1, "score": 6, "last_activity_date": 1592151714, "creation_date": 1476778282, "last_edit_date": 1476778592, "question_id": 40102924, "link": "https://stackoverflow.com/questions/40102924/wait-for-http-response-in-angular-2", "title": "wait for Http response in angular 2", "body": "<p>I am using HTTP request in angular 2. I want when I get HTTP response then next process is called.</p>\n\n<p><strong>Example:</strong> In a <strong>form</strong> <strong>select option</strong> values are coming from <strong>HTTP get Request</strong>.I want to form page is loading until I get response for select options.</p>\n\n<p><strong>get function</strong></p>\n\n<pre><code>getSelectOptionValue(): any {\n      let area_list_url = '/select_option_list/';\n\n      this.urlGet(area_list_url).subscribe(\n        (response) =&gt; {\n          let data = response.text() ? response.json() : [{}];\n          if (data) {\n            Constant.areaList = data;\n          }\n        }\n      );\n    }\n    return JSON.stringify(Constant.areaList);\n  }\n</code></pre>\n\n<p><strong>GET function</strong></p>\n\n<pre><code> urlGet(url: string) {\n\n    return this._http.get(Constant.hostUrl + url, {headers: GlobalUtils.head})\n      .map((res)=&gt; {\n        if (res.status === 200) {\n          console.log(res);\n          return res;\n        } else if (res.status = 201) {\n          return res;\n        }\n      }).catch((error)=&gt; {\n        console.log(error);\n\n        if (error.status === 400) {\n          return Observable.throw(new Error(error.status));\n        } else if (error.status === 401) {\n          return Observable.throw(new Error(error.status));\n        } else if (error.status === 403) {\n          return Observable.throw(new Error(error.status));\n        } else if (error.status === 404) {\n          return Observable.throw(new Error(error.status));\n        } else if (error.status === 420) {\n          return Observable.throw(new Error(error.status));\n        } else {\n          return Observable.throw(new Error(error.status));\n        }\n      });\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1476778256, "creation_date": 1476778256, "answer_id": 40102917, "question_id": 40102835, "link": "https://stackoverflow.com/questions/40102835/angular2-modules-best-practices/40102917#40102917", "title": "Angular2 modules: best practices", "body": "<p>The main use case for modules is lazy loading, there move components, ... you want to lazy load into a module.</p>\n\n<p>Besides that, usually modules are split to have a reusable feature per module.</p>\n\n<p>Also modules can export other modules and components, ... from other modules, to make a more complex feature out of several modules.</p>\n"}, {"tags": [], "owner": {"reputation": 6220, "user_id": 88373, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0d6109b117f4eded4bfd2273ce1816e?s=128&d=identicon&r=PG", "display_name": "Rap", "link": "https://stackoverflow.com/users/88373/rap"}, "is_accepted": false, "score": 1, "last_activity_date": 1499372339, "creation_date": 1499372339, "answer_id": 44958155, "question_id": 40102835, "link": "https://stackoverflow.com/questions/40102835/angular2-modules-best-practices/44958155#44958155", "title": "Angular2 modules: best practices", "body": "<p>The main use case for modules is ... well ... modularity. It is the chief way for Angular to implement <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">SRP</a> and <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">SOC</a>. It creates good designs for our Angular apps by increasing cohesion and reduces coupling.</p>\n\n<p>There are other reasons which John Papa lists <a href=\"https://johnpapa.net/introducing-angular-modules-feature-modules-2/\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>It makes sense that some of these features have functionality that is not intended to be exposed outside of the feature. We also may want to add a feature to the app as a whole unit at a later time. Or maybe the feature is there and we want to lazy load it when the user decides it is time to visit the feature.</p>\n</blockquote>\n\n<p>These are all valuable, but the main purpose for modules is good design.</p>\n"}], "owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1502, "favorite_count": 0, "accepted_answer_id": 40102917, "answer_count": 2, "score": 3, "last_activity_date": 1499372339, "creation_date": 1476778007, "question_id": 40102835, "link": "https://stackoverflow.com/questions/40102835/angular2-modules-best-practices", "title": "Angular2 modules: best practices", "body": "<p>I have always been working with one main module called <code>AppModule</code> but I am yet to divide any of my small apps in several modules. What are the best practises regarding <code>Modules</code> ? In other terms, when should I refactor my code to encapsulate some functionalities in a <code>Module</code> ?</p>\n\n<p>Any examples that could help are very welcome.</p>\n\n<p>Cheers</p>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1476774995, "post_id": 40101333, "comment_id": 67475566, "body": "run typings install again?"}, {"owner": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1476783007, "post_id": 40101333, "comment_id": 67480617, "body": "@toskv I ran <code>npm install typings </code>. No difference"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1476788996, "post_id": 40101333, "comment_id": 67484533, "body": "no.. just &quot;typings install&quot;.. so typings goes and fetches any .d.ts files in case they were deleted. :)"}], "answers": [{"tags": [], "owner": {"reputation": 4007, "user_id": 4741503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQxaj.png?s=128&g=1", "display_name": "Ram Pasala", "link": "https://stackoverflow.com/users/4741503/ram-pasala"}, "is_accepted": true, "score": 3, "last_activity_date": 1476789747, "creation_date": 1476789747, "answer_id": 40106899, "question_id": 40101333, "link": "https://stackoverflow.com/questions/40101333/protractor-globals-missing-after-npm-install/40106899#40106899", "title": "Protractor globals missing after npm install", "body": "<p><code>protractor/globals</code> have been removed from <code>v4.0.9</code>, though it was a breaking change for typescript users, the protractor team decided to go with a patch semver.</p>\n\n<p>So now you can just use <code>import {browser} from 'protractor'</code> directly which is much cleaner.</p>\n\n<p>For more details checkout the protractor <a href=\"https://github.com/angular/protractor/blob/master/CHANGELOG.md#409\" rel=\"nofollow\">changelog</a>.</p>\n"}], "owner": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 40106899, "answer_count": 1, "score": 1, "last_activity_date": 1476789747, "creation_date": 1476773229, "question_id": 40101333, "link": "https://stackoverflow.com/questions/40101333/protractor-globals-missing-after-npm-install", "title": "Protractor globals missing after npm install", "body": "<p>I deleted all files inside <code>node_modules</code> in the project and run the following command</p>\n\n<pre><code>&gt;npm install\n</code></pre>\n\n<p>Then I get below error in my script file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cf7xp.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/cf7xp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below is my dependencies in <code>package.json</code></p>\n\n<pre><code> \"dependencies\": {\n    \"es6-shim\": \"^0.35.1\"\n  },\n  \"devDependencies\": {\n    \"codelyzer\": \"^0.0.28\",\n    \"jasmine-bamboo-reporter\": \"0.0.1\",\n    \"jasmine-core\": \"^2.4.1\",\n    \"jasmine-reporters\": \"^2.2.0\",\n    \"jasmine-spec-reporter\": \"^2.5.0\",\n    \"json-loader\": \"^0.5.4\",\n    \"protractor\": \"^4.0.4\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"ts-loader\": \"^0.8.2\",\n    \"ts-node\": \"^1.2.2\",\n    \"tslint\": \"^3.15.1\",\n    \"tslint-loader\": \"^2.1.5\",\n    \"typescript\": \"^2.0.3\",\n    \"typings\": \"^1.3.2\",\n    \"webpack\": \"^1.13.2\",\n    \"webpack-dev-server\": \"^1.14.1\"\n  }\n}\n</code></pre>\n"}, {"tags": ["selenium-webdriver", "typescript", "protractor", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 4741, "user_id": 6405587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tJdlv.jpg?s=128&g=1", "display_name": "Sudharsan Selvaraj", "link": "https://stackoverflow.com/users/6405587/sudharsan-selvaraj"}, "edited": false, "score": 0, "creation_date": 1476772844, "post_id": 40100960, "comment_id": 67474362, "body": "manually download chrome driver version 2.24 and replace it with existing chromdriver.exe file."}, {"owner": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "reply_to_user": {"reputation": 4741, "user_id": 6405587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tJdlv.jpg?s=128&g=1", "display_name": "Sudharsan Selvaraj", "link": "https://stackoverflow.com/users/6405587/sudharsan-selvaraj"}, "edited": false, "score": 0, "creation_date": 1476773490, "post_id": 40100960, "comment_id": 67474701, "body": "@SudharsanSelvaraj I have <code>chromedriver_2.24.exe</code> under this path <code>node_modules\\protractor\\node_modules\\webdriver-manager\\selen&zwnj;&#8203;ium</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "edited": false, "score": 1, "creation_date": 1476774649, "post_id": 40101565, "comment_id": 67475367, "body": "I am using <code>multiCapabilities: </code> and updated the question with <code>conf.ts </code> section. Still doesn&#39;t update with <code>webdriver-manager update </code> command."}, {"owner": {"reputation": 4741, "user_id": 6405587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tJdlv.jpg?s=128&g=1", "display_name": "Sudharsan Selvaraj", "link": "https://stackoverflow.com/users/6405587/sudharsan-selvaraj"}, "reply_to_user": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "edited": false, "score": 0, "creation_date": 1476775248, "post_id": 40101565, "comment_id": 67475735, "body": "edit the conf.json file present in ` node_modules/protractor/config.json<code>. not your project&#39;s </code>conf.js`"}, {"owner": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "edited": false, "score": 0, "creation_date": 1476783232, "post_id": 40101565, "comment_id": 67480771, "body": "I added that to <code>tsconfig.json </code> in the mentioned location. Then ` webdriver-manager update ` results produced below. <code>I&#47;update - chromedriver: file exists C:\\Users\\392811\\AppData\\Roaming\\npm\\node_modules\\protractor\\&zwnj;&#8203;node_modules\\webdriv&zwnj;&#8203;er-manager\\selenium\\&zwnj;&#8203;chromedriver_2.22win&zwnj;&#8203;32.zip [20:29:17] I&#47;update - chromedriver: unzipping chromedriver_2.22win32.zip [20:29:17] I&#47;update - chromedriver: v2.22 up to date</code>"}, {"owner": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "edited": false, "score": 0, "creation_date": 1476873043, "post_id": 40101565, "comment_id": 67527284, "body": "I realized that I have updated <code>webdriver-manager </code> at the global location. That&#39;s why I am getting wrong version there. After updated the correct place it was good."}, {"owner": {"reputation": 2573, "user_id": 1207289, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/000ce6bf0fc5388af955b7c43ff366fc?s=128&d=identicon&r=PG", "display_name": "user1207289", "link": "https://stackoverflow.com/users/1207289/user1207289"}, "edited": false, "score": 0, "creation_date": 1477597868, "post_id": 40101565, "comment_id": 67844536, "body": "upgrading chromedriver worked for webdriverio tests also. I was getting the same error."}, {"owner": {"reputation": 546, "user_id": 4279578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/696dfc8ccd5744e726edea830dfa140a?s=128&d=identicon&r=PG", "display_name": "Louis Querel", "link": "https://stackoverflow.com/users/4279578/louis-querel"}, "edited": false, "score": 0, "creation_date": 1477681813, "post_id": 40101565, "comment_id": 67880649, "body": "If it is possible, upgrading to the latest version of protractor can also help. In my case there was no config.json in the protractor folder and updating the tconfig.json in the webdriver had no impact"}], "tags": [], "owner": {"reputation": 4741, "user_id": 6405587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tJdlv.jpg?s=128&g=1", "display_name": "Sudharsan Selvaraj", "link": "https://stackoverflow.com/users/6405587/sudharsan-selvaraj"}, "is_accepted": true, "score": 13, "last_activity_date": 1476773949, "creation_date": 1476773949, "answer_id": 40101565, "question_id": 40100960, "link": "https://stackoverflow.com/questions/40100960/session-not-created-exception-for-chrome-in-protractor/40101565#40101565", "title": "session not created exception for chrome in Protractor", "body": "<p>You can change the version of chromedriver downloaded by webdriver-manager by altering Protractor's config.json file...</p>\n\n<ol>\n<li>Edit Protractor's config file: node_modules/protractor/config.json</li>\n<li>Change the chrome driver version to whatever you need. eg. \"chromedriver\": \"2.24\".</li>\n<li>Run webdriver-manager update.</li>\n</ol>\n\n<p>from the error you posted, protractor is not using the latest chrome driver version.In stack trace it is displaying chrome driver version as <code>2.21</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "is_accepted": false, "score": 7, "last_activity_date": 1476844795, "creation_date": 1476844795, "answer_id": 40121176, "question_id": 40100960, "link": "https://stackoverflow.com/questions/40100960/session-not-created-exception-for-chrome-in-protractor/40121176#40121176", "title": "session not created exception for chrome in Protractor", "body": "<p>I don't have enough rep yet to leave a comment under Sudharsan's answer but the location of the config file he is telling you to modify is actually at </p>\n\n<pre><code>node_modules/protractor/node_modules/webdriver-manager/config.json\n</code></pre>\n\n<p>It's not the protractor tsconfig but the webdriver-manager <code>config.json</code> that you want to modify. </p>\n\n<p>That being said, I've run into this problem before and taken a different approach to solving it. The solution that Sudharsan provided would work if you only needed to install it once. We have our builds running in TFS which cleans out the build agents working directory and pulls in a fresh repo on each build. Changing the webdriver config would not work in this situation because we <code>npm install</code> all the things before each build. In this case it would always revert back to the older version of chromedriver. </p>\n\n<p>What I did instead was added chromedriver to my devDependencies in the <code>package.json</code> and then I delete the version of chromedriver that webdriver-manager installs and move the updated version of chromedriver into the correct location with a gulp task. So in the package.json I have this listed under devDependencies:</p>\n\n<pre><code>\"chromedriver\": \"~2.24.1\"\n</code></pre>\n\n<p>and then I have a gulp task that deletes and moves the files like this:</p>\n\n<pre><code>var gulp = require('gulp');\nvar del = require('del');\n\nvar chromeDriverFilesToMove = [\n    './node_modules/chromedriver/lib/chromedriver/**'\n];\n\nvar chromeDriverFilesToDelete = [\n    './node_modules/protractor/node_modules/webdriver-manager/selenium/chromedriver*.exe',\n    './node_modules/protractor/node_modules/webdriver-manager/selenium/chromedriver*.zip'\n];\n\ngulp.task('delete-chromedriver', function() {\n    return del(chromeDriverFilesToDelete);\n});\n\ngulp.task('move-chromedriver', function() {\n    gulp.src(chromeDriverFilesToMove)\n        .pipe(gulp.dest('node_modules/protractor/node_modules/webdriver-manager/selenium/'));\n});\n\ngulp.task('chromedriver-update', ['delete-chromedriver', 'move-chromedriver']);\n</code></pre>\n\n<p>And because protractor will still be looking for the older version of chromedriver that was installed when you ran <code>webdriver-manager update</code> you have to tell it where to look for the chromedriver.exe so add this to your protractor conf.js and it should start working. </p>\n\n<pre><code>chromeDriver: \"../node_modules/protractor/node_modules/webdriver-manager/selenium/chromedriver.exe\",\n</code></pre>\n\n<p>It's kind of silly that we have to go through all this trouble to get it to work but chromedriver 2.22 doesn't seem to work with Chrome 53+. At least not in my experience. </p>\n\n<p>TL;DR </p>\n\n<p>If you only have to install it once use Sudharsan's solution (given you modify the correct config), it's easier. If you are in my situation and will have to install protractor continuously try my solution. It has worked well for me and I haven't run into this error since.</p>\n"}, {"comments": [{"owner": {"reputation": 349, "user_id": 1085230, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/0684f15a48f653cc631da2a5744a7bbd?s=128&d=identicon&r=PG", "display_name": "Khyati Sehgal", "link": "https://stackoverflow.com/users/1085230/khyati-sehgal"}, "edited": false, "score": 0, "creation_date": 1557739024, "post_id": 40289934, "comment_id": 98852028, "body": "This worked for me, I am already on latest protractor and chromedriver version. And was getting this error - E/launcher - session not created: Chrome version must be between 70 and 73. I am using- &quot;protractor&quot;: &quot;^5.4.1&quot;, and [14:44:36] I/update - chromedriver: unzipping chromedriver_2.46.zip [14:44:39] I/update - geckodriver: unzipping geckodriver-v0.24.0.zip. Above solution worked for me. Thanks !"}], "tags": [], "owner": {"reputation": 56, "user_id": 2642947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c036bf0f221db6177126a1c91e2b3ac?s=128&d=identicon&r=PG", "display_name": "Sevfuria", "link": "https://stackoverflow.com/users/2642947/sevfuria"}, "is_accepted": false, "score": 1, "last_activity_date": 1477586077, "creation_date": 1477586077, "answer_id": 40289934, "question_id": 40100960, "link": "https://stackoverflow.com/questions/40100960/session-not-created-exception-for-chrome-in-protractor/40289934#40289934", "title": "session not created exception for chrome in Protractor", "body": "<p>Protractor has a new release (4.0.10) that will use the new release of webdriver-manager (10.2.6), which in turn will update to the new Chromedriver when calling webdriver-manager update. All you need to do is update Protractor in your package.json file. </p>\n\n<pre><code>\"protractor\": \"^4.0.9\" to \"protractor\": \"^4.0.10\"\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 9370, "user_id": 119901, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e5292a6ad4feb7a1060578ccd789d404?s=128&d=identicon&r=PG", "display_name": "Marc Stober", "link": "https://stackoverflow.com/users/119901/marc-stober"}, "is_accepted": false, "score": 4, "last_activity_date": 1479224497, "creation_date": 1479224497, "answer_id": 40613963, "question_id": 40100960, "link": "https://stackoverflow.com/questions/40100960/session-not-created-exception-for-chrome-in-protractor/40613963#40613963", "title": "session not created exception for chrome in Protractor", "body": "<p>I just needed to:</p>\n\n<pre><code>npm update -g protractor\nwebdriver-manager update\n</code></pre>\n\n<p>And it worked again.</p>\n"}, {"tags": [], "owner": {"reputation": 10629, "user_id": 2811258, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FpMa5.gif?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/2811258/johnny"}, "is_accepted": false, "score": 0, "last_activity_date": 1480346186, "creation_date": 1480346186, "answer_id": 40847683, "question_id": 40100960, "link": "https://stackoverflow.com/questions/40100960/session-not-created-exception-for-chrome-in-protractor/40847683#40847683", "title": "session not created exception for chrome in Protractor", "body": "<p>For me, updating chromedriver and <code>protractor-conf.js</code> fixed the issue.</p>\n\n<ol>\n<li>Download latest chromedriver that suitable to your OS (change the minor version if needed) from here: <a href=\"http://chromedriver.storage.googleapis.com/index.html?path=2.24/\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html?path=2.24/</a></li>\n<li>Unzip to <code>/usr/local/bin/chromedriver</code> folder.</li>\n<li>In <code>protractor-conf.js</code> (should be in app root) add a line with <code>config.chromeDriver = '/usr/local/bin/chromedriver';</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 9791932, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UL6VC4t7b7c/AAAAAAAAAAI/AAAAAAAADnI/E8rYMk1AGcs/photo.jpg?sz=128", "display_name": "Raj Kumar", "link": "https://stackoverflow.com/users/9791932/raj-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1589552673, "last_edit_date": 1589552673, "creation_date": 1565602370, "answer_id": 57458732, "question_id": 40100960, "link": "https://stackoverflow.com/questions/40100960/session-not-created-exception-for-chrome-in-protractor/57458732#57458732", "title": "session not created exception for chrome in Protractor", "body": "<ol>\n<li>Just run the following command:</li>\n<li><strong>Projectdirectory:/>webdriver-manager update --versions.chrome=ChromeVersion</strong></li>\n<li><em>Replace this with \"ChromeVersion\" Google Chrome Browser Version.Find chrome version by navigating to \"Help>>About Google chrome>>For Example: Version <strong>76.0.3809.100</strong> (Official Build) (64-bit)\".</em></li>\n</ol>\n\n<p>I hope this will work for you.</p>\n"}], "owner": {"reputation": 2039, "user_id": 2303693, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/487bcf3f579431d32b06aebf66e3c39d?s=128&d=identicon&r=PG", "display_name": "SMPH", "link": "https://stackoverflow.com/users/2303693/smph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33002, "favorite_count": 1, "accepted_answer_id": 40101565, "answer_count": 6, "score": 10, "last_activity_date": 1589552673, "creation_date": 1476771880, "last_edit_date": 1476782767, "question_id": 40100960, "link": "https://stackoverflow.com/questions/40100960/session-not-created-exception-for-chrome-in-protractor", "title": "session not created exception for chrome in Protractor", "body": "<p>I get below error when try to run Protractor test against chrome.</p>\n\n<p>My conf.ts</p>\n\n<pre><code>import {Config} from 'protractor'\n\nexport let config: Config = {\n    framework: 'jasmine',\n    // capabilities: { browserName: 'chrome'},\n    multiCapabilities: [\n        // {browserName: 'firefox'},\n        {\n            browserName: 'chrome',\n            chromeOptions: {\n                args: ['--start-maximized']\n            },\n\n        }],\n\n    seleniumAddress: 'http://127.0.0.1:4444/wd/hub',\n    seleniumPort: null,\n    seleniumArgs: [],\n    specs: [\n        './Protractor/Login/*.spec.js',\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Protractor conf.js\n[17:19:07] I/hosted - Using the selenium server at http://127.0.0.1:4444/wd/hub\n[17:19:07] I/launcher - Running 1 instances of WebDriver\n[17:19:09] E/launcher - session not created exception\nfrom unknown error: Runtime.executionContextCreated has invalid 'context': {\"auxData\":{\"frameId\":\"8800.1\",\"isDefault\":true},\"id\":1,\"name\":\"\",\"origin\":\"://\"}\n  (Session info: chrome=54.0.2840.59)\n  (Driver info: chromedriver=2.22.397933 (1cab651507b88dec79b2b2a22d1943c01833cc1b),platform=Windows NT 6.3.9600 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 1.07 seconds\nBuild info: version: '2.53.1', revision: 'a36b8b1', time: '2016-06-30 17:37:03'\nSystem info: host: 'MAL000009416062', ip: '192.168.1.4', os.name: 'Windows 8.1', os.arch: 'amd64', os.version: '6.3', java.version: '1.8.0_73'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\n[17:19:09] E/launcher - SessionNotCreatedError: session not created exception\nfrom unknown error: Runtime.executionContextCreated has invalid 'context': {\"auxData\":{\"frameId\":\"8800.1\",\"isDefault\":true},\"id\":1,\"name\":\"\",\"origin\":\"://\"}\n  (Session info: chrome=54.0.2840.59)\n  (Driver info: chromedriver=2.22.397933 (1cab651507b88dec79b2b2a22d1943c01833cc1b),platform=Windows NT 6.3.9600 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 1.07 seconds\nBuild info: version: '2.53.1', revision: 'a36b8b1', time: '2016-06-30 17:37:03'\nSystem info: host: 'MAL000009416062', ip: '192.168.1.4', os.name: 'Windows 8.1', os.arch: 'amd64', os.version: '6.3', java.version: '1.8.0_73'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\n    at WebDriverError (C:\\Users\\392811\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\error.js:27:5)\n    at SessionNotCreatedError (C:\\Users\\392811\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\error.js:308:5)\n</code></pre>\n\n<p><strong>conf.ts</strong></p>\n\n<pre><code>multiCapabilities: [\n\n        {\n            browserName: 'chrome',\n            chromeOptions: {\n                args: ['--start-maximized']\n            },\n\n        }],\n</code></pre>\n\n<p>Most of the discussion on the web is around version. I am currently using up-to-date versions</p>\n\n<p>Any clue please?</p>\n\n<p>Cheers</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 13770, "user_id": 218277, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/4fe7fa589daf9e5d90b6f97c9c8f2d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Harry Ninh", "link": "https://stackoverflow.com/users/218277/harry-ninh"}, "is_accepted": false, "score": 1, "last_activity_date": 1476772469, "creation_date": 1476772469, "answer_id": 40101116, "question_id": 40100775, "link": "https://stackoverflow.com/questions/40100775/angular-2-unhandled-promise-rejection-typeerror/40101116#40101116", "title": "angular 2 Unhandled promise rejection TypeError", "body": "<p>Change it to:</p>\n\n<pre><code>.catch(\n  (err:any) =&gt; \n  {\n    this.submitError = true;\n  });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 549, "user_id": 6339184, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c4c36f9497d2c77f6bcd131aaa54d18f?s=128&d=identicon&r=PG&f=1", "display_name": "Poonam", "link": "https://stackoverflow.com/users/6339184/poonam"}, "is_accepted": false, "score": 0, "last_activity_date": 1476772614, "creation_date": 1476772614, "answer_id": 40101157, "question_id": 40100775, "link": "https://stackoverflow.com/questions/40100775/angular-2-unhandled-promise-rejection-typeerror/40101157#40101157", "title": "angular 2 Unhandled promise rejection TypeError", "body": "<p>The good approach to use <code>httpService</code> is when you call the <code>httpService</code> and return the <code>json</code> data, then you need to handle this data as it is <code>response</code> or <code>error</code>.. You need to <code>subscribe</code> the data.</p>\n\n<p>In <code>login.component.ts</code></p>\n\n<pre><code>this.loginService.authenticate(this.model.login_id, this.model.password)\n .subscribe((response) =&gt; {\n\n    if(response.status == 404){\n\n      this.submitError = true; \n\n    }\n    else{\n      // do something\n    }\n\n  },\n    error =&gt; {\n           console.log(error);\n           this.submitError = true;  \n   });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "reply_to_user": {"reputation": 193, "user_id": 959081, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4ff2404dbe7622fd6c246d830dd23415?s=128&d=identicon&r=PG", "display_name": "Jawad", "link": "https://stackoverflow.com/users/959081/jawad"}, "edited": false, "score": 0, "creation_date": 1476782145, "post_id": 40103263, "comment_id": 67480052, "body": "@Jawad you&#39;re welcome, I&#39;m glad I&#39;ve managed to help you. I saw that you had accepted my answer, but could you please vote up too (click on the up arrow above the number (which is now 0) on the left side of the answer)?"}], "tags": [], "owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "is_accepted": true, "score": 4, "last_activity_date": 1476779384, "creation_date": 1476779384, "answer_id": 40103263, "question_id": 40100775, "link": "https://stackoverflow.com/questions/40100775/angular-2-unhandled-promise-rejection-typeerror/40103263#40103263", "title": "angular 2 Unhandled promise rejection TypeError", "body": "<p>You're facing a common problem in JavaScript.</p>\n\n<p>Fortunately, in ES6 and TypeScript you can use an arrow function (lambda expression) to lexically capture the meaning of <code>this</code>.</p>\n\n<pre><code>}).catch((err:any) =&gt; {\n    this.submitError = true; // this works\n});\n\n}).catch(function (err:any) {\n        this.submitError = true; // this doesn't work\n});\n</code></pre>\n\n<p>More information about arrow functions: <a href=\"https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow\">Arrow Functions</a></p>\n"}], "owner": {"reputation": 193, "user_id": 959081, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4ff2404dbe7622fd6c246d830dd23415?s=128&d=identicon&r=PG", "display_name": "Jawad", "link": "https://stackoverflow.com/users/959081/jawad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2703, "favorite_count": 0, "accepted_answer_id": 40103263, "answer_count": 3, "score": 1, "last_activity_date": 1476779384, "creation_date": 1476771008, "question_id": 40100775, "link": "https://stackoverflow.com/questions/40100775/angular-2-unhandled-promise-rejection-typeerror", "title": "angular 2 Unhandled promise rejection TypeError", "body": "<p>I'm new to angular and typescript. I'm getting error \"Unhandled promise rejection TypeError: Cannot set property\"</p>\n\n<p>here is my code:</p>\n\n<p>login.component.ts</p>\n\n<pre><code>export class LoginComponent implements OnInit {\n\nconstructor(private fb: FormBuilder, private loginService: LoginService) { }\n\n\nsubmitError = false; // set \"true\" to show error \n\nonSubmit(){\n\n  this.submitError = false;\n  this.submitErrorText = \"\";    \n  this.model = this.loginForm.value;\n  this.loginService.authenticate(this.model.login_id, this.model.password)\n  .then(res =&gt; {\n\n    if(res.status == 404){\n\n      this.submitError = true; \n\n    }\n    else{\n      // do something\n    }\n\n  }).catch(function(err: any){\n\n    this.submitError = true; // Unhandled promise rejection TypeError: Cannot set property 'submitError' of undefined\n\n\n\n  });\n\n\n\n\n}\n</code></pre>\n\n<p>login-service.ts</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class LoginService{\n\n\nprivate auth_url = \"/login/api/auth\";\n\nconstructor(private http: Http){};\n\nauthenticate(username: String, pass: String): Promise&lt;any&gt;{\n    return this.http.post(this.auth_url, {username: username,pass: pass})\n                        .toPromise()\n                        .then(response =&gt; response.json())\n                        .catch(this.handleError);\n}\n\nprivate handleError(error: any): Promise&lt;any&gt;{\n\n    return Promise.reject(error.message || error);\n}\n\n}\n</code></pre>\n\n<p>submitError is class level property, why its not accessible or undefined.\nwhat is the proper way to access it? </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 1075663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a267324d5afa4de3bb847df82c5c6a2e?s=128&d=identicon&r=PG", "display_name": "BizzyDizzy", "link": "https://stackoverflow.com/users/1075663/bizzydizzy"}, "edited": false, "score": 1, "creation_date": 1476774783, "post_id": 40101567, "comment_id": 67475450, "body": "Thank you very much. Yes I missed that part that it checks from current view towards the root. I thought it was the other way around =) I have been cracking my head for two days now =)"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 2, "last_activity_date": 1476773951, "creation_date": 1476773951, "answer_id": 40101567, "question_id": 40100234, "link": "https://stackoverflow.com/questions/40100234/angular-2-child-component-not-detecting-changes-correctly/40101567#40101567", "title": "Angular 2 child component not detecting changes correctly", "body": "<p>With <code>ChangeDetectionStrategy.OnPush</code> strategy you have to call <code>cd.markForCheck</code> API method.</p>\n\n<p>The most important thing:</p>\n\n<blockquote>\n  <p>It marks the path from our component until root to be checked for the\n  next change detection run.</p>\n</blockquote>\n\n<p>So you need to fire it on your <code>UIButton</code> <code>ChangeDetectorRefs</code> otherwise change detection will work only on one button after your action.</p>\n\n<p>Whenever angular2 does change detection it marks view as checked after changes.\n<a href=\"https://i.stack.imgur.com/Zfclk.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Zfclk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is how angular2 handles click event:</p>\n\n<p><strong>UIButton.ngfactory.js</strong></p>\n\n<pre><code>_View_UIButton0.prototype._handle_click_1_0 = function($event) {\n  var self = this;\n  self.markPathToRootAsCheckOnce();\n  self.debug(1,3,14);\n  var pd_0 = (self.context.clicked() !== false);\n  return (true &amp;&amp; pd_0);\n};\n</code></pre>\n\n<p>Pay attention at the line:</p>\n\n<pre><code>self.markPathToRootAsCheckOnce();\n</code></pre>\n\n<p>It marks current button to be checked, but second button will remain with <code>ChangeDetectorStatus.Checked</code> status and omitted when checking will happen.</p>\n\n<p>So your solution might look like this:</p>\n\n<p>1) UIButton component</p>\n\n<pre><code>constructor(public cd: ChangeDetectorRef) {}\n</code></pre>\n\n<p>2) App component</p>\n\n<pre><code>@ViewChildren(UIButton) buttons: QueryList&lt;UIButton&gt;;\n\nset val(v: number){\n  this._val = v;\n  console.log(\"Marked for check!\");\n  this.buttons.toArray().forEach(btn =&gt; btn.cd.markForCheck());\n}\n</code></pre>\n\n<p>This way both buttons will be checked</p>\n\n<p>See it in action <strong><a href=\"https://plnkr.co/edit/351WKCLLDUh6sjIJHTg7?p=preview\" rel=\"nofollow\">Plunker</a></strong></p>\n\n<p>Hope this helps you!</p>\n"}], "owner": {"reputation": 259, "user_id": 1075663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a267324d5afa4de3bb847df82c5c6a2e?s=128&d=identicon&r=PG", "display_name": "BizzyDizzy", "link": "https://stackoverflow.com/users/1075663/bizzydizzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 40101567, "answer_count": 1, "score": 2, "last_activity_date": 1476773951, "creation_date": 1476768726, "question_id": 40100234, "link": "https://stackoverflow.com/questions/40100234/angular-2-child-component-not-detecting-changes-correctly", "title": "Angular 2 child component not detecting changes correctly", "body": "<p>Plunker with an example:\n<a href=\"https://plnkr.co/edit/aWUE54EUMIm8rnw3PZOO?p=preview\" rel=\"nofollow\">https://plnkr.co/edit/aWUE54EUMIm8rnw3PZOO?p=preview</a></p>\n\n<p>First button increments the value. If the value is less than 10 the button should be enabled otherwise it should disable itself.\nThe second button resets the value to 0.</p>\n\n<pre><code>this.button1 = new ButtonAction(\n  \"info\",\n  \"check\",\n  \"right\",\n  \"Click me!\",\n  \"medium\",\n  true,\n  true,\n  new Command(\n    () =&gt; this.val += 1,\n    () =&gt; {\n      return this.val &lt; 10;\n    }\n  ),\n  false\n);\n\nthis.button2 = new ButtonAction(\n  \"info\",\n  \"check\",\n  \"right\",\n  \"Reset first button!\",\n  \"medium\",\n  true,\n  true,\n  new Command(\n    () =&gt; this.val = 0,\n    null\n  ),\n  false\n);\n</code></pre>\n\n<p>When the value reaches 10 the first button indeed disables itself but when I reset the value to 0 it doesn't get updated even though everything is looking ok in the output:</p>\n\n<pre><code>Marked for check with value 7\nbtnClass: btn btn-outline-info btn-block\nisDisabled: false\nMarked for check with value 8\nbtnClass: btn btn-outline-info btn-block\nisDisabled: false\nMarked for check with value 9\nbtnClass: btn btn-outline-info btn-block\nisDisabled: false\nMarked for check with value 10\nbtnClass: btn btn-outline-info btn-block disabled\nisDisabled: true\nMarked for check with value 0\nbtnClass: btn btn-outline-info btn-block\nisDisabled: false\n</code></pre>\n\n<p>This is how the value is set:</p>\n\n<pre><code>set val(v: number){\n  this._val = v;\n  console.log(\"Marked for check with value \"+this._val);\n  //this.cd.markForCheck();\n  this.cd.detectChanges();\n}\n</code></pre>\n\n<p>markForCheck doesn't work either so I really don't know what to do except handle the DOM myself through ElementRef (already tried it and it works), but I don't really want to do this =)</p>\n\n<p>I have been trying to detect the problem and I guess the generated factory class compares the previous value of buttonClasses with the current and it works when it goes from <code>btn btn-outline-info btn-block</code> to <code>btn btn-outline-info btn-block disabled</code> but not the other way around.</p>\n\n<p>The picture shows what happens when I reset the value with the second button and when buttonClasses first time get's called after that.\n<a href=\"https://i.stack.imgur.com/zUVmE.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/zUVmE.png\" alt=\"Debugging after reset button click\"></a></p>\n\n<p>self._expr_2 is the previous value and it's <code>btn btn-outline-info btn-block</code> but it should also have <code>disabled</code>. Current value does not have <code>disabled</code> class which is correct.</p>\n\n<p>Thanks in advance for the help. I really don't know what to do here...</p>\n"}, {"tags": ["javascript", "facebook", "angular", "typescript", "facebook-javascript-sdk"], "comments": [{"owner": {"reputation": 4090, "user_id": 3192021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1m7ny.jpg?s=128&g=1", "display_name": "hzitoun", "link": "https://stackoverflow.com/users/3192021/hzitoun"}, "edited": false, "score": 0, "creation_date": 1476774887, "post_id": 40099186, "comment_id": 67475508, "body": "Please post your entire code"}, {"owner": {"reputation": 8376, "user_id": 5346095, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45ae60b0c535116b89c74f42242c3e81?s=128&d=identicon&r=PG&f=1", "display_name": "JS dev", "link": "https://stackoverflow.com/users/5346095/js-dev"}, "reply_to_user": {"reputation": 4090, "user_id": 3192021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1m7ny.jpg?s=128&g=1", "display_name": "hzitoun", "link": "https://stackoverflow.com/users/3192021/hzitoun"}, "edited": false, "score": 0, "creation_date": 1476780755, "post_id": 40099186, "comment_id": 67479187, "body": "entire code pasted."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 6584449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2d420a765d44ad8ff78cf4338ac30a6?s=128&d=identicon&r=PG&f=1", "display_name": "Rsona", "link": "https://stackoverflow.com/users/6584449/rsona"}, "is_accepted": false, "score": -1, "last_activity_date": 1519300042, "last_edit_date": 1519300042, "creation_date": 1519198102, "answer_id": 48900279, "question_id": 40099186, "link": "https://stackoverflow.com/questions/40099186/facebook-login-using-angular-not-working/48900279#48900279", "title": "Facebook login using Angular not working", "body": "<p>Use npm module \"angular4-oauth-login\" for facebook and google login instead of the javascript fb sdk.</p>\n\n<p>You will find that the integration with the above module was very easy to understand and implement.</p>\n"}], "owner": {"reputation": 8376, "user_id": 5346095, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45ae60b0c535116b89c74f42242c3e81?s=128&d=identicon&r=PG&f=1", "display_name": "JS dev", "link": "https://stackoverflow.com/users/5346095/js-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 673, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519300042, "creation_date": 1476762536, "last_edit_date": 1514351469, "question_id": 40099186, "link": "https://stackoverflow.com/questions/40099186/facebook-login-using-angular-not-working", "title": "Facebook login using Angular not working", "body": "<p>I am using \"Login with Facebook\" functionality to log in to my application using Facebook JavaScript sdk but getting following error:</p>\n\n<pre><code>Failed to load resource: net::ERR_NAME_RESOLUTION_FAILED\nhttps://www.facebook.com/connect/ping?client_id={my-app-id}&amp;domain=localhost&amp;origin=1&amp;redirect_uri=http%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2FP5DLcu0KGJB.js%3Fversion%3D42%23cb%3Dfed5cec4%26domain%3Dlocalhost%26origin%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fff1a152fc%26relation%3Dparent&amp;response_type=token%2Csigned_request%2Ccode&amp;sdk=joey\n</code></pre>\n\n<p>The complete component class is as follows. I am calling onFacebookLoginClick function on click of button in template:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\ndeclare const FB: any;\n@Component({\n   selector: 'login-component',\n   templateUrl: 'app/login-form.component.html'\n})\nexport class LoginComponent implements OnInit\n{\n\n  testAPI() {\n    console.log('Welcome!  Fetching your information.... ');\n    FB.api('/me', function(response) {\n      console.log('Successful login for: ' + response.name);\n      document.getElementById('status').innerHTML =\n        'Thanks for logging in, ' + response.name + '!';\n    });\n  }\n\n    statusChangeCallback(response) {\n    console.log('statusChangeCallback');\n    console.log(response);\n    if (response.status === 'connected') {\n      this.testAPI();\n    } else if (response.status === 'not_authorized') {\n      document.getElementById('status').innerHTML = 'Please log ' +\n        'into this app.';\n    } else {\n      document.getElementById('status').innerHTML = 'Please log ' +\n        'into Facebook.';\n    }\n    };\n\n    constructor() {\n        FB.init({\n            appId      : 'XXXXXXXXXXXXXX',\n            xfbml      : true,\n            version    : 'v2.8'\n        });\n    }\n\n    onFacebookLoginClick() {\n        FB.login(function(response) {\n            if (response.authResponse) {\n                console.log('Welcome!  Fetching your information.... ');\n                FB.api('/me', {fields: 'picture'}, function(response) {\n                    console.log(response);\n                });\n            } else {\n                console.log('User cancelled login or did not fully authorize.');\n            }\n    });\n    }\n\n    ngOnInit() {\n        FB.getLoginStatus(response =&gt; {\n            this.statusChangeCallback(response);\n        });\n    }\n\n\n    }\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1476762314, "post_id": 40099093, "comment_id": 67470670, "body": "Isn&#39;t the part of your code that tests for <code>&#39;</code> currently only applied to things that match the <code>smallWords</code>?"}, {"owner": {"reputation": 10613, "user_id": 1548301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3c49d1a6e7a0b8cbcac8287ab25b173?s=128&d=identicon&r=PG", "display_name": "Vicky Gonsalves", "link": "https://stackoverflow.com/users/1548301/vicky-gonsalves"}, "reply_to_user": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1476762451, "post_id": 40099093, "comment_id": 67470697, "body": "Oh I see it now! Thanks @nnnnnn"}, {"owner": {"reputation": 10613, "user_id": 1548301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3c49d1a6e7a0b8cbcac8287ab25b173?s=128&d=identicon&r=PG", "display_name": "Vicky Gonsalves", "link": "https://stackoverflow.com/users/1548301/vicky-gonsalves"}, "reply_to_user": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1476762625, "post_id": 40099093, "comment_id": 67470730, "body": "@nnnnnn Do u have any optimal solution for this?"}, {"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 2, "creation_date": 1476763090, "post_id": 40099093, "comment_id": 67470835, "body": "Optimal solution is: <a href=\"https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/\" rel=\"nofollow noreferrer\">leave names alone</a>. There is no way to make a program that will handle all names correctly. Let the user input names as they want, and then don&#39;t touch them afterwards."}, {"owner": {"reputation": 10613, "user_id": 1548301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3c49d1a6e7a0b8cbcac8287ab25b173?s=128&d=identicon&r=PG", "display_name": "Vicky Gonsalves", "link": "https://stackoverflow.com/users/1548301/vicky-gonsalves"}, "edited": false, "score": 0, "creation_date": 1476763361, "post_id": 40099093, "comment_id": 67470898, "body": "Never mind I found a solution for my question.. <code>str.replace(&#47;[A-Za-z0-9\\u00C0-\\u00FF]+[^\\&#39;\\s-]*&#47;g,</code> just added <code>\\&#39;</code> in regex array"}, {"owner": {"reputation": 481, "user_id": 2345006, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XFcNh.jpg?s=128&g=1", "display_name": "invot", "link": "https://stackoverflow.com/users/2345006/invot"}, "edited": false, "score": 0, "creation_date": 1571074918, "post_id": 40099093, "comment_id": 103111575, "body": "What about names like John MacAuthor, DeTerro Vallez, or Mary John-Allen? How would someone detect those?"}], "answers": [{"tags": [], "owner": {"reputation": 14396, "user_id": 2056157, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/75294d327aabb9984c01861918f2cf2e?s=128&d=identicon&r=PG&f=1", "display_name": "KevBot", "link": "https://stackoverflow.com/users/2056157/kevbot"}, "is_accepted": true, "score": 7, "last_activity_date": 1476802372, "last_edit_date": 1476802372, "creation_date": 1476764832, "answer_id": 40099504, "question_id": 40099093, "link": "https://stackoverflow.com/questions/40099093/capitalize-names-in-javascript/40099504#40099504", "title": "Capitalize Names in javascript", "body": "<p>I'm not sure about all the use-cases you need to take care of, but for the question you asked, you can use regex that looks for word boundaries:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function capitalizeName(name) {\r\n  return name.replace(/\\b(\\w)/g, s =&gt; s.toUpperCase());\r\n}\r\n\r\nconsole.log(capitalizeName(`D'agostino, Fred`));\r\nconsole.log(capitalizeName(`D'agostino, Ralph B.`));\r\nconsole.log(capitalizeName(`D'allonnes, C. Revault`));\r\nconsole.log(capitalizeName(`D'amanda, Christopher`));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2844, "user_id": 4523896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KX2ZG.jpg?s=128&g=1", "display_name": "MtwStark", "link": "https://stackoverflow.com/users/4523896/mtwstark"}, "is_accepted": false, "score": 2, "last_activity_date": 1567781814, "creation_date": 1567781814, "answer_id": 57824387, "question_id": 40099093, "link": "https://stackoverflow.com/questions/40099093/capitalize-names-in-javascript/57824387#57824387", "title": "Capitalize Names in javascript", "body": "<p>I use this function to capitalize names.\nThe parameter is usefult to force lowercase before capitalize otherwise you can get odd results (BaLlERinO, LaMbORGhini..)</p>\n\n<p>It use regexp to find a space or a special character in ['`\u2018\u2019.-]\nfollowed by any character not in ASCII groups 0-97 and 123-223 because there are only symbols, numbers and uppercase letters, but this characther must not be followed by another space or end of string (to avoid results like Ciccio's )</p>\n\n<pre><code>String.prototype.capitalize = function (lower) {\n  return (lower ? this.toLowerCase() : this).replace(/(?:^|\\s|['`\u2018\u2019.-])[^\\x00-\\x60^\\x7B-\\xDF](?!(\\s|$))/g, function (a) {\n    return a.toUpperCase();\n  });\n};\n\nconsole.log(' \u00ebkthor th\u00f6rsen's \u00f6rst'\u00fbber o'brian von-fist's'.capitalize(true)\n\u00cbkthor Th\u00f6rsen's \u00d6rst'\u00dbber O'Brian Von-Fist's\n</code></pre>\n"}], "owner": {"reputation": 10613, "user_id": 1548301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3c49d1a6e7a0b8cbcac8287ab25b173?s=128&d=identicon&r=PG", "display_name": "Vicky Gonsalves", "link": "https://stackoverflow.com/users/1548301/vicky-gonsalves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3655, "favorite_count": 0, "accepted_answer_id": 40099504, "answer_count": 2, "score": 2, "last_activity_date": 1567781814, "creation_date": 1476761815, "question_id": 40099093, "link": "https://stackoverflow.com/questions/40099093/capitalize-names-in-javascript", "title": "Capitalize Names in javascript", "body": "<p>I have a function which Capitalize the sentences. But its not able to Capitalize names such as,   </p>\n\n<pre><code>D'agostino, Fred  \nD'agostino, Ralph B.  \nD'allonnes, C. Revault  \nD'amanda, Christopher \n</code></pre>\n\n<p>I am expecting:</p>\n\n<pre><code>D'Agostino, Fred  \nD'Agostino, Ralph B.  \nD'Allonnes, C. Revault  \nD'Amanda, Christopher \n</code></pre>\n\n<p><strong>Function</strong>:</p>\n\n<pre><code>getCapitalized(str){\n    var smallWords = /^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\\.?|via)$/i;\n    return str.replace(/[A-Za-z0-9\\u00C0-\\u00FF]+[^\\s-]*/g, function (match, index, title) {\n      if (index &gt; 0 &amp;&amp; index + match.length !== title.length &amp;&amp;\n        match.search(smallWords) &gt; -1 &amp;&amp; title.charAt(index - 2) !== \":\" &amp;&amp;\n        (title.charAt(index + match.length) !== '-' || title.charAt(index - 1) === '-') &amp;&amp;\n        (title.charAt(index + match.length) !== \"'\" || title.charAt(index - 1) === \"'\") &amp;&amp;\n        title.charAt(index - 1).search(/[^\\s-]/) &lt; 0) {\n        return match.toLowerCase();\n      }\n      if (match.substr(1).search(/[A-Z]|\\../) &gt; -1) {\n        return match;\n      }\n      return match.charAt(0).toUpperCase() + match.substr(1);\n    });\n  }\n</code></pre>\n\n<p>Can anybody help me figuring out the issue? I have tried using <code>(title.charAt(index + match.length) !== \"'\" || title.charAt(index - 1) === \"'\")</code> but it doesn't help. </p>\n"}, {"tags": ["generics", "reactjs", "typescript", "jsx", "typescript2.0"], "comments": [{"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1476760569, "post_id": 40098795, "comment_id": 67470309, "body": "What version of TS are you using? It works for me on @2.0.3. Also, where are you getting your react typing?"}, {"owner": {"reputation": 2087, "user_id": 1443533, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fa01dd1ae5e40cca5e6e5b5f694c5d9a?s=128&d=identicon&r=PG", "display_name": "Jacob Thomason", "link": "https://stackoverflow.com/users/1443533/jacob-thomason"}, "reply_to_user": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1476909311, "post_id": 40098795, "comment_id": 67552067, "body": "@Paarth yes, I&#39;m using 2.0.3 as well.  I use the <code>noImplicitAny</code> tsconfig <code>compilerOptions</code> prop which causes it to complain about implicitly being typed as any.  I just assumed that the type could be inferred though."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1476914342, "post_id": 40098795, "comment_id": 67554351, "body": "That&#39;s what I&#39;m confused about. I also have <code>noImplicitAny</code> on, and it&#39;s still working for me -- which is why I&#39;m interested in your <code>react.d.ts</code>. Also, is it possible you&#39;ve got your editor (vscode perhaps?) using 1.8.5 or some other version of TS?"}, {"owner": {"reputation": 2087, "user_id": 1443533, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fa01dd1ae5e40cca5e6e5b5f694c5d9a?s=128&d=identicon&r=PG", "display_name": "Jacob Thomason", "link": "https://stackoverflow.com/users/1443533/jacob-thomason"}, "reply_to_user": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1477882342, "post_id": 40098795, "comment_id": 67927138, "body": "@Paarth I&#39;m using DefinitelyTyped @types definition for React 0.14.43.  However, I will say that I have some other errors in my project currently that I&#39;m trying to resolve related to react definitions not being found.  It&#39;s possible this is related...  <code>ERROR in ~&#47;node_modules&#47;@types&#47;react-router&#47;lib&#47;applyRouterMiddleware&zwnj;&#8203;.d.ts (4,43): error TS2305: Module &#39;&quot;~&#47;node_modules&#47;react&#47;react&quot;.export=&#39; has no exported member &#39;Props&#39;.</code>  I have about 100 of these various errors related to the typings which is fairly clear they&#39;re not getting loaded properly."}], "owner": {"reputation": 2087, "user_id": 1443533, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fa01dd1ae5e40cca5e6e5b5f694c5d9a?s=128&d=identicon&r=PG", "display_name": "Jacob Thomason", "link": "https://stackoverflow.com/users/1443533/jacob-thomason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476783490, "creation_date": 1476759442, "last_edit_date": 1476783490, "question_id": 40098795, "link": "https://stackoverflow.com/questions/40098795/destructuring-a-param-defined-within-an-interface", "title": "Destructuring a param defined within an interface", "body": "<p>I'm a little confused here as to why this doesn't work.  Can someone please explain why <code>plans</code> in the PricingComponent doesn't imply the typing from the defined interface.</p>\n\n<pre><code>import * as React from 'react';\nimport Plans from '../data/Plans';\n\ninterface PricingProps {\n  plans: {\n    [index: number]: {\n      id: number,\n      unitLimit: string,\n      ownerLimit: string,\n      storageLimit: string,\n    };\n  };\n}\n\nconst Pricing: React.StatelessComponent&lt;any&gt; = () =&gt; &lt;PricingComponent plans={Plans} /&gt;;\n\nconst PricingComponent: React.StatelessComponent&lt;PricingProps&gt; = ({ plans }) =&gt;\n  &lt;div /&gt;;\n</code></pre>\n"}, {"tags": ["typescript", "type-safety"], "comments": [{"owner": {"reputation": 10971, "user_id": 3575047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1820d77e8fbadfc9800df2b21efcd46?s=128&d=identicon&r=PG&f=1", "display_name": "Fengyang Wang", "link": "https://stackoverflow.com/users/3575047/fengyang-wang"}, "edited": false, "score": 0, "creation_date": 1476753645, "post_id": 40098030, "comment_id": 67468635, "body": "In JavaScript, a nullary function <i>is</i> a unary function. The extra arguments passed are simply ignored. This is common in, say, event handling. So your function is of the correct signature."}, {"owner": {"reputation": 4811, "user_id": 514773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b378c37b34e0a5636b0d4398da6a649d?s=128&d=identicon&r=PG", "display_name": "MintGrowth", "link": "https://stackoverflow.com/users/514773/mintgrowth"}, "reply_to_user": {"reputation": 10971, "user_id": 3575047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1820d77e8fbadfc9800df2b21efcd46?s=128&d=identicon&r=PG&f=1", "display_name": "Fengyang Wang", "link": "https://stackoverflow.com/users/3575047/fengyang-wang"}, "edited": false, "score": 0, "creation_date": 1476754248, "post_id": 40098030, "comment_id": 67468783, "body": "@FengyangWang: I don&#39;t disagree, except to say that TypeScript does a lot of things that do not get emitted as JavaScript only so that type safety is enforced. I&#39;m just curious if I can find a way to enforce this type safety."}], "answers": [{"comments": [{"owner": {"reputation": 4811, "user_id": 514773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b378c37b34e0a5636b0d4398da6a649d?s=128&d=identicon&r=PG", "display_name": "MintGrowth", "link": "https://stackoverflow.com/users/514773/mintgrowth"}, "edited": false, "score": 0, "creation_date": 1476801426, "post_id": 40101585, "comment_id": 67493627, "body": "Generally, abstractions and interfaces are contractual agreements. Implementations follow them explicitly to the letter of how those interfaces/abstractions are defined. If many methods start appearing that do not need a variable from the function in an interface, the design should maybe be considered. I&#39;m looking for a way to impose this strict implementation."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1476774025, "creation_date": 1476774025, "answer_id": 40101585, "question_id": 40098030, "link": "https://stackoverflow.com/questions/40098030/how-can-i-get-type-safety-for-returned-functions-in-typescript/40101585#40101585", "title": "How can I get type safety for returned functions in TypeScript?", "body": "<blockquote>\n  <p>I am expecting an error because the Cat class definitely does not implement the abstract Animal class properly</p>\n</blockquote>\n\n<p>Because of type compatability. A function (say <code>foo</code>) that doesn't take any parameter is assignable to a function (say <code>bar</code>) that does take a parameter. </p>\n\n<p>Reason: There is no usage of <code>bar</code> where all the information needed for <code>foo</code> to function will be absent. </p>\n\n<h1>More</h1>\n\n<p>This is also covered here : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/type-compatibility.html#number-of-arguments\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/type-compatibility.html#number-of-arguments</a></p>\n"}, {"comments": [{"owner": {"reputation": 4811, "user_id": 514773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b378c37b34e0a5636b0d4398da6a649d?s=128&d=identicon&r=PG", "display_name": "MintGrowth", "link": "https://stackoverflow.com/users/514773/mintgrowth"}, "edited": false, "score": 0, "creation_date": 1476801687, "post_id": 40101599, "comment_id": 67493839, "body": "I personally do not find it horrible to strictly require functions be defined explicitly according to their base class/interface. For example, if a function has an optional parameter(s) those can be defined explicitly as optional. If this is not a good default, then something like strict {} blocks would be useful to those developers who would be more comfortable with explicitly and strictly defined types."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 4811, "user_id": 514773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b378c37b34e0a5636b0d4398da6a649d?s=128&d=identicon&r=PG", "display_name": "MintGrowth", "link": "https://stackoverflow.com/users/514773/mintgrowth"}, "edited": false, "score": 0, "creation_date": 1476802330, "post_id": 40101599, "comment_id": 67494364, "body": "Well, that&#39;s how javascript works, and typescript also permits it. If the passed function doesn&#39;t need to use the arguments then it just don&#39;t include them in the signature. As I said, that works as long as there&#39;s no contradiction. An optional parameter means something else, it means that it may or may not be passed, but here you&#39;re saying that you don&#39;t care if that param is passed or not, you just don&#39;t need it."}, {"owner": {"reputation": 4811, "user_id": 514773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b378c37b34e0a5636b0d4398da6a649d?s=128&d=identicon&r=PG", "display_name": "MintGrowth", "link": "https://stackoverflow.com/users/514773/mintgrowth"}, "edited": false, "score": 0, "creation_date": 1476803203, "post_id": 40101599, "comment_id": 67495041, "body": "Hmm, Ok. It sounds like what I&#39;m looking for out of TypeScript does not currently exist and my thoughts would be better put as a suggestion on their site. Thanks for the help!"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 4811, "user_id": 514773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b378c37b34e0a5636b0d4398da6a649d?s=128&d=identicon&r=PG", "display_name": "MintGrowth", "link": "https://stackoverflow.com/users/514773/mintgrowth"}, "edited": false, "score": 0, "creation_date": 1476803582, "post_id": 40101599, "comment_id": 67495323, "body": "You&#39;re welcome to convey it to the typescript guys, but I&#39;m pretty sure that this is by design, and it makes sense.  The type safety works well here, as you can&#39;t define a signature that receives something else other than one string. If this function will need this string it will add the param, but if not then the function still satisfies the type requirement."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1476774078, "creation_date": 1476774078, "answer_id": 40101599, "question_id": 40098030, "link": "https://stackoverflow.com/questions/40098030/how-can-i-get-type-safety-for-returned-functions-in-typescript/40101599#40101599", "title": "How can I get type safety for returned functions in TypeScript?", "body": "<p>You're not getting an error because in javascript/typescript you're not forced to declare the arguments if you don't want to use them, as long as there's no contradiction.  </p>\n\n<p>For example, the signature of the <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.d.ts#L1221\" rel=\"nofollow\">Array.forEach</a> is:</p>\n\n<pre><code>forEach(callbackfn: (value: T, index: number, array: T[]) =&gt; void, thisArg?: any): void;\n</code></pre>\n\n<p>But this will compile just fine:</p>\n\n<pre><code>let a = [1, 2, 3];\na.forEach(item =&gt; console.log(item));\n</code></pre>\n\n<p>And that's a good thing, it would have been horrible if I had to have all arguments even if I don't use them.<br>\nThe same goes here:</p>\n\n<pre><code>type MyFn = (s: string) =&gt; void;\nlet fn: MyFn = () =&gt; console.log(\"hey\");\n</code></pre>\n\n<p>If I don't need to use the string argument then I can neglect it, or I can even do:</p>\n\n<pre><code>let fn: MyFn = () =&gt; console.log(arguments);\n</code></pre>\n\n<p>If you'll change the signature of the function that you return in <code>Cat.getPlayBehavior</code> to something that contradicts the definition in <code>Animal</code> then you'll get an error:</p>\n\n<pre><code>class Cat extends Animal {\n    getPlayBehavior() {\n        return (n: number) =&gt; {\n            console.log(`Play with toy_var_would_go_here!`);\n        };\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Class 'Cat' incorrectly extends base class 'Animal'.\n  Types of property 'getPlayBehavior' are incompatible.\n    Type '() =&gt; (n: number) =&gt; void' is not assignable to type '() =&gt; (toy: string) =&gt; void'.\n      Type '(n: number) =&gt; void' is not assignable to type '(toy: string) =&gt; void'.\n        Types of parameters 'n' and 'toy' are incompatible.\n          Type 'string' is not assignable to type 'number'.\n</code></pre>\n"}], "owner": {"reputation": 4811, "user_id": 514773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b378c37b34e0a5636b0d4398da6a649d?s=128&d=identicon&r=PG", "display_name": "MintGrowth", "link": "https://stackoverflow.com/users/514773/mintgrowth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 40101599, "answer_count": 2, "score": 2, "last_activity_date": 1476774078, "creation_date": 1476753560, "question_id": 40098030, "link": "https://stackoverflow.com/questions/40098030/how-can-i-get-type-safety-for-returned-functions-in-typescript", "title": "How can I get type safety for returned functions in TypeScript?", "body": "<p>This TypeScript compiles fine:</p>\n\n<pre><code>abstract class Animal {\n    /*\n    Any extension of Animal MUST have a function which returns\n    another function that has exactly the signature (string): void\n     */\n    abstract getPlayBehavior(): (toy: string) =&gt; void;\n}\n\nclass Cat extends Animal {\n    /*\n    Clearly does not have a function which returns a function\n    that has the correct signature. This function returns a function with\n    the signature (void) : void\n    */\n    getPlayBehavior() {\n        return () =&gt; {\n            console.log(`Play with toy_var_would_go_here!`);\n        };\n    }\n}\n\nclass Program {\n    static main() {\n        let cat: Animal = new Cat();\n        cat.getPlayBehavior()(\"Toy\");\n    }\n}\n\nProgram.main();\n</code></pre>\n\n<p>I am expecting an error because the Cat class definitely does not implement the abstract Animal class <em>properly</em>. I expect that the Cat class must have a function which returns another function of the exact signature specified in the abstract Animal class.</p>\n\n<p>Running the code, I get:</p>\n\n<pre><code>&gt; node index.js\n&gt; Play with toy_var_would_go_here!\n</code></pre>\n\n<p>Is there anything I can do to make sure the compiler enforces this kind of policy?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 564, "user_id": 5500690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cebeeb712cc54019ea13c42fc6e912f0?s=128&d=identicon&r=PG", "display_name": "electrovir", "link": "https://stackoverflow.com/users/5500690/electrovir"}, "edited": false, "score": 0, "creation_date": 1553137730, "post_id": 40101618, "comment_id": 97277378, "body": "As one starting out in TypeScript, I have no idea what this is, where to put it, or how to use it. <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">Here is the current documentation</a>. In short, put <code>tsconfig.json</code> in the root of your project. Note: I had to restart VS Code before I started seeing the file&#39;s effects (I didn&#39;t have a <code>tsconfig.json</code> previously)."}, {"owner": {"reputation": 7319, "user_id": 1763061, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96f5495f2bde045d1159aac2cbf5de10?s=128&d=identicon&r=PG", "display_name": "AuthorProxy", "link": "https://stackoverflow.com/users/1763061/authorproxy"}, "edited": false, "score": 0, "creation_date": 1618754212, "post_id": 40101618, "comment_id": 118692263, "body": "I need a playground not a project, why I just need to setup any configs or some sheet like this, how to pass it to compiler directly?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 6, "last_activity_date": 1476774139, "creation_date": 1476774139, "answer_id": 40101618, "question_id": 40097895, "link": "https://stackoverflow.com/questions/40097895/how-to-enable-strict-null-check-for-vscode/40101618#40101618", "title": "How to enable strict null check for vscode", "body": "<blockquote>\n  <p>couldn't find any docs or guidelines on how to enable it.</p>\n</blockquote>\n\n<p>Just use <code>tsconfig.json</code>'s <code>compilerOptions</code>. E.g. </p>\n\n<pre><code>{\n  \"compilerOptions\": {\"strictNullChecks\":true}\n}\n</code></pre>\n"}], "owner": {"reputation": 1724, "user_id": 6672580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-6rBmPoEP_DQ/AAAAAAAAAAI/AAAAAAAAABU/17IsM_eOvmI/photo.jpg?sz=128", "display_name": "bigopon", "link": "https://stackoverflow.com/users/6672580/bigopon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1614, "favorite_count": 0, "accepted_answer_id": 40101618, "answer_count": 1, "score": 3, "last_activity_date": 1476774139, "creation_date": 1476752397, "question_id": 40097895, "link": "https://stackoverflow.com/questions/40097895/how-to-enable-strict-null-check-for-vscode", "title": "How to enable strict null check for vscode", "body": "<p>As Typescript introduces strict null check for dynamic runtime errors, it would be great if enabled. I couldn't find any docs or guidelines on how to enable it.</p>\n\n<p>How do I enable strict null check inside VSCode ?</p>\n"}, {"tags": ["typescript", "google-chrome", "gulp", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 3977, "user_id": 2497278, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3afd098c9c531d5591c5fdc0257da20f?s=128&d=identicon&r=PG", "display_name": "peterc", "link": "https://stackoverflow.com/users/2497278/peterc"}, "edited": false, "score": 0, "creation_date": 1476844527, "post_id": 40098826, "comment_id": 67513162, "body": "Thanks for the reply, but I tried the above and only got a &quot;This site can\u2019t be reached&quot; after Chrome launched. I am not using the browserSync though. Using my options as above, Chrome does launch and open the page, with <code>file:&#47;&#47;&#47;H:&#47;dev&#47;myprojl&#47;build&#47;index.html</code> in the address bar. All appears to work except to break points, where the tooltip says <code>Breakpoint ignored because generated code not found (source map problem?).</code> Tried combinations of the above flags, just cannot get it to work at all."}, {"owner": {"reputation": 60165, "user_id": 836330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fd5f542a64b8b2dac00112a4829de8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/836330/mark"}, "reply_to_user": {"reputation": 3977, "user_id": 2497278, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3afd098c9c531d5591c5fdc0257da20f?s=128&d=identicon&r=PG", "display_name": "peterc", "link": "https://stackoverflow.com/users/2497278/peterc"}, "edited": false, "score": 0, "creation_date": 1477100895, "post_id": 40098826, "comment_id": 67642574, "body": "Are you setting your breakpoints in the build/bundle.js file?  Secondly, are you using the launch or attach option?  I assume for the attach option to work chrome must already be open - preferably a single tab I have read - to your site with the debugger port enabled when you start that instance of chrome."}, {"owner": {"reputation": 3977, "user_id": 2497278, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3afd098c9c531d5591c5fdc0257da20f?s=128&d=identicon&r=PG", "display_name": "peterc", "link": "https://stackoverflow.com/users/2497278/peterc"}, "edited": false, "score": 0, "creation_date": 1477228765, "post_id": 40098826, "comment_id": 67671284, "body": "I was trying to use the launch option, but if I need to attached that would be fine too. I am setting the break points in the <code>.ts</code> files, that is where I would want to debug (just like I can in the browser debugger)."}, {"owner": {"reputation": 60165, "user_id": 836330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fd5f542a64b8b2dac00112a4829de8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/836330/mark"}, "reply_to_user": {"reputation": 3977, "user_id": 2497278, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3afd098c9c531d5591c5fdc0257da20f?s=128&d=identicon&r=PG", "display_name": "peterc", "link": "https://stackoverflow.com/users/2497278/peterc"}, "edited": false, "score": 0, "creation_date": 1477360775, "post_id": 40098826, "comment_id": 67723454, "body": "Have you looked at <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/recipes/browserify-uglify-sourcemap.md\" rel=\"nofollow noreferrer\">github.com/gulpjs/gulp/blob/master/docs/recipes/&hellip;</a>  a gulp recipe for using browserify - it looks like you might have to do some special things to get sourcemaps working properly."}], "tags": [], "owner": {"reputation": 60165, "user_id": 836330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fd5f542a64b8b2dac00112a4829de8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/836330/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1476759722, "creation_date": 1476759722, "answer_id": 40098826, "question_id": 40097870, "link": "https://stackoverflow.com/questions/40097870/how-to-create-external-source-maps-so-can-use-the-chrome-debugger-in-vscode-ty/40098826#40098826", "title": "How to create external source maps so can use the Chrome debugger in Vscode / Typescript for the browser using Gulp", "body": "<p>Does your \"Launch Chrome\" actually start up chrome and find your localhost?  I don't see a url option there.  I started with that same example code you linked to and it didn't work for me as is, I added some options I found elsewhere and it works.  Here's my \"launch\"</p>\n\n<pre><code>    {\n        \"name\": \"Chrome : Launch with sourcemaps\",\n        \"type\": \"chrome\",\n        \"request\": \"launch\",\n       // \"preLaunchTask\": \"sync\",\n        \"url\": \"http://localhost:3000\",\n        \"webRoot\": \"${workspaceRoot}\",\n        \"sourceMaps\": true,\n        \"runtimeArgs\": [\n        \"--remote-debugging-port=9222\"\n        ]\n    }\n</code></pre>\n\n<p>Note the localhost port, which is what my browserSync is using (and browserSync is started <strong>first</strong>, in my case with a preLaunchTask or manually with a gulp task call).  I am not using browserify or typescript so I don't know much about them so I apologize if this code doesn't make sense with them.  But I would try adding the url option with your port number and the runtimeArgs option and see if they help.   </p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 5523956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acbb6b92ea5406569ad2e3b5637dedd?s=128&d=identicon&r=PG&f=1", "display_name": "r4ph43l", "link": "https://stackoverflow.com/users/5523956/r4ph43l"}, "is_accepted": false, "score": 0, "last_activity_date": 1486557121, "creation_date": 1486557121, "answer_id": 42113230, "question_id": 40097870, "link": "https://stackoverflow.com/questions/40097870/how-to-create-external-source-maps-so-can-use-the-chrome-debugger-in-vscode-ty/42113230#42113230", "title": "How to create external source maps so can use the Chrome debugger in Vscode / Typescript for the browser using Gulp", "body": "<p>I had a similar problem and setting the <code>sourceRoot</code> in the build task fixed it for me. Howere I didn't use browserify...</p>\n\n<p>But try to add gulp-sourcemaps to the pipe:</p>\n\n<pre><code>gulp.task(\"default\", [\"clean\", \"copy-html\", \"copy-css\"], function () {\n  return browserify({\n    basedir: '.',\n    debug: true,\n    entries: ['src/main.ts'],\n    cache: {},\n    packageCache: {}\n })\n.pipe(sourcemaps.init())\n.plugin(tsify)    \n.bundle()    \n.pipe(source('bundle.js'))\n.pipe(sourcemaps.write({includeContent: false, sourceRoot: '/src'}))        \n.pipe(gulp.dest(\"build\"));\n});\n</code></pre>\n"}], "owner": {"reputation": 3977, "user_id": 2497278, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3afd098c9c531d5591c5fdc0257da20f?s=128&d=identicon&r=PG", "display_name": "peterc", "link": "https://stackoverflow.com/users/2497278/peterc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 739, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1535035130, "creation_date": 1476752164, "last_edit_date": 1535035130, "question_id": 40097870, "link": "https://stackoverflow.com/questions/40097870/how-to-create-external-source-maps-so-can-use-the-chrome-debugger-in-vscode-ty", "title": "How to create external source maps so can use the Chrome debugger in Vscode / Typescript for the browser using Gulp", "body": "<p>I wish to use Gulp to build my very simple Typescript project <em>running in the browser</em>. Using <code>gulp-typescript</code> it appears to add modules.export into the generated js files, so I then found some <code>browserify</code> examples.</p>\n\n<p>I now have the following gulp.js file</p>\n\n<pre><code>var gulp = require('gulp');\nvar del = require('del');\nvar ts = require(\"gulp-typescript\");\nvar tsProject = ts.createProject(\"tsconfig.json\");\nvar sourcemaps = require('gulp-sourcemaps');\nvar browserify = require(\"browserify\");\nvar source = require('vinyl-source-stream');\nvar tsify = require(\"tsify\");\n\ngulp.task('clean', function () {\n   return del(['build/**/*']);\n});\n\n gulp.task(\"copy-html\", function () {\n   return gulp.src(\"*.html\")\n    .pipe(gulp.dest(\"build\"));\n});\ngulp.task(\"copy-css\", function () {\n  return gulp.src(\"src/*.css\")\n    .pipe(gulp.dest(\"build\"));\n});\ngulp.task(\"default\", [\"clean\", \"copy-html\", \"copy-css\"], function () {\n  return browserify({\n    basedir: '.',\n    debug: true,\n    entries: ['src/main.ts'],\n    cache: {},\n    packageCache: {}\n })\n.plugin(tsify)    \n.bundle()    \n.pipe(source('bundle.js'))        \n.pipe(gulp.dest(\"build\"));\n});\n</code></pre>\n\n<p>This creates bundle.js, and this seems to have the soucemaps embedded in it. Debugging on Chrome seems to work fine, but I am trying to use the vscode Chrome debugger plugin from <a href=\"https://github.com/Microsoft/vscode-chrome-debug\" rel=\"nofollow\">here</a>, but breakpoints are disabled.</p>\n\n<p>My launch.json is as follows.</p>\n\n<pre><code>{\n\"version\": \"0.2.0\",\n\"configurations\": [\n{\n  \"name\": \"Launch Chrome against localhost, with sourcemaps\",\n  \"type\": \"chrome\",\n  \"request\": \"launch\",\n  \"file\": \"${workspaceRoot}/build/index.html\",\n  \"sourceMaps\": true\n\n},\n{\n  \"name\": \"Attach to Chrome, with sourcemaps\",\n  \"type\": \"chrome\",\n  \"request\": \"attach\",\n  \"port\": 9222,\n  \"sourceMaps\": true,\n  \"webRoot\": \"${workspaceRoot}\"\n  }\n ]\n}\n</code></pre>\n\n<p>So I thought perhaps I need the external source maps, so have tried using the <code>gulp-sourcemaps</code> from <a href=\"https://www.npmjs.com/package/gulp-sourcemaps\" rel=\"nofollow\">here</a>, but just can't get the example to work with the above script (no matter where I insert the <code>.pipe(sourcemaps.init())</code> and <code>.pipe(sourcemaps.write())</code> I get gulp build errors.</p>\n\n<p>I have tried various suggestions, but none work (perhaps many of them are now out of date, e.g. using <code>outDir</code> in launch.json I get the error <code>Property ourDir is not allowed.</code></p>\n\n<p>So, am just after whatever I need to do to use this debugger with, Typescript, in Chrome, which to me I thought would be common, but cannot find an example to get this working. I am guessing it is the (embedded) sourcemaps, but not sure.</p>\n\n<p>Any help here would be greatly appreciated!</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"tags": [], "owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "is_accepted": false, "score": 7, "last_activity_date": 1476752289, "creation_date": 1476752289, "answer_id": 40097881, "question_id": 40097820, "link": "https://stackoverflow.com/questions/40097820/property-does-not-exist-on-type-object-observable-subscribe/40097881#40097881", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;. Observable subscribe", "body": "<p>The return type if your method is <code>Observable&lt;Object&gt;</code>. So when you subscribe, that will be the type passed. And there is no <code>testDataArray</code> on the <code>Object</code> type. You can do a couple things:</p>\n\n<ol>\n<li><p>Type the data and return type differently</p>\n\n<pre><code>WORKFLOW_DATA: { testDataArray: any } = []\n\ngetWorkflowForEditor(): Observable&lt;{ testDataArray: any }&gt;\n</code></pre></li>\n<li><p>Or just type assert the response data to <code>any</code></p>\n\n<pre><code>console.log( (&lt;any&gt;WORKFLOW_DATA).testDataArray );\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 4277, "user_id": 82098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9118ca152d43a4caff9eb9ba13500858?s=128&d=identicon&r=PG", "display_name": "0plus1", "link": "https://stackoverflow.com/users/82098/0plus1"}, "edited": false, "score": 0, "creation_date": 1476753973, "post_id": 40097889, "comment_id": 67468712, "body": "As you can see, other answers suggest using any, I personally feel like using an Interface is the correct way, albeit a bit verbose for something as simple as this. Are interfaces the best practice with Angular2?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 4277, "user_id": 82098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9118ca152d43a4caff9eb9ba13500858?s=128&d=identicon&r=PG", "display_name": "0plus1", "link": "https://stackoverflow.com/users/82098/0plus1"}, "edited": false, "score": 1, "creation_date": 1476754298, "post_id": 40097889, "comment_id": 67468802, "body": "The type system is there to help you especially as the application grows. You don&#39;t need to use any of it if you don&#39;t want to \u2014 it has no effect on the final javascript. I (and I think most others) like it because a smart editor provides autocomplete and warns you on making mistakes. If this was my code, I&#39;d probably make a type for the records - <code>{key: string, parent?:string ..}</code> and one for the collection that contains the record type - <code>{testDataArray: recordType[]...</code> or something like that."}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": true, "score": 15, "last_activity_date": 1476752339, "creation_date": 1476752339, "answer_id": 40097889, "question_id": 40097820, "link": "https://stackoverflow.com/questions/40097820/property-does-not-exist-on-type-object-observable-subscribe/40097889#40097889", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;. Observable subscribe", "body": "<p>When you tell typescript:</p>\n\n<p><code>WORKFLOW_DATA: Object</code></p>\n\n<p>You are telling it that <code>WORKFLOW_DATA</code> is a plain object with no attributes. When you later try to access <code>WORKFLOW_DATA.testDataArray</code> the compiler thinks you misusing the type.</p>\n\n<p>If you want type checking on <code>WORKFLOW_DATA</code> you need to create an interface that describes your object. </p>\n"}, {"tags": [], "owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "is_accepted": false, "score": 31, "last_activity_date": 1476752382, "creation_date": 1476752382, "answer_id": 40097894, "question_id": 40097820, "link": "https://stackoverflow.com/questions/40097820/property-does-not-exist-on-type-object-observable-subscribe/40097894#40097894", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;. Observable subscribe", "body": "<p>Typescript expects <code>WORKFLOW_DATA</code> to be <code>Object</code> here:</p>\n\n<pre><code>.subscribe( WORKFLOW_DATA =&gt; {} )\n</code></pre>\n\n<p>because you told it so:</p>\n\n<pre><code>  getWorkflowForEditor(): Observable&lt;Object&gt;\n</code></pre>\n\n<p>But <code>Object</code> doesn't have <code>testDataArray</code> property... You should either tell TypeScript that data can have any properties:</p>\n\n<pre><code>  getWorkflowForEditor(): Observable&lt;any&gt;\n</code></pre>\n\n<p>or use</p>\n\n<pre><code>console.log( WORKFLOW_DATA[\"testDataArray\"] );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 10573307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ac7e856a24405f8d1f0552e45aa1a3?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Bhattacharya", "link": "https://stackoverflow.com/users/10573307/aayush-bhattacharya"}, "is_accepted": false, "score": 0, "last_activity_date": 1615374402, "creation_date": 1615374402, "answer_id": 66563456, "question_id": 40097820, "link": "https://stackoverflow.com/questions/40097820/property-does-not-exist-on-type-object-observable-subscribe/66563456#66563456", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;. Observable subscribe", "body": "<h1>Add Observable</h1>\n<p>in the method of service.ts which you are subscribing. On the Observable you can refer a type object or mention  to accept all type of entries</p>\n<pre><code>getResponse(query: string): Observable&lt;any&gt; {\n    let data = {\n      query: query,\n      lang: &quot;en&quot;,\n      sessionId: &quot;1234567&quot;,\n    };\n    return this.http.post(this.baseURL, data);\n  }\n</code></pre>\n"}], "owner": {"reputation": 4277, "user_id": 82098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9118ca152d43a4caff9eb9ba13500858?s=128&d=identicon&r=PG", "display_name": "0plus1", "link": "https://stackoverflow.com/users/82098/0plus1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46668, "favorite_count": 3, "accepted_answer_id": 40097889, "answer_count": 4, "score": 21, "last_activity_date": 1615374402, "creation_date": 1476751681, "question_id": 40097820, "link": "https://stackoverflow.com/questions/40097820/property-does-not-exist-on-type-object-observable-subscribe", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;. Observable subscribe", "body": "<p>I have just started with Angular2 and I've got an issue I cannot really understand.</p>\n\n<p>I have some mock data created as such:</p>\n\n<pre><code>export const WORKFLOW_DATA: Object =\n{\n    \"testDataArray\" : [\n        { key: \"1\",              name: \"Don Meow\",   source: \"cat1.png\" },\n        { key: \"2\", parent: \"1\", name: \"Roquefort\",    source: \"cat2.png\" },\n        { key: \"3\", parent: \"1\", name: \"Toulouse\",   source: \"cat3.png\" },\n        { key: \"4\", parent: \"3\", name: \"Peppo\", source: \"cat4.png\" },\n        { key: \"5\", parent: \"3\", name: \"Alonzo\",     source: \"cat5.png\" },\n        { key: \"6\", parent: \"2\", name: \"Berlioz\", source: \"cat6.png\" }\n    ]\n};\n</code></pre>\n\n<p>Which is then imported in a service and \"observed\"</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\nimport { WORKFLOW_DATA } from './../mock-data/workflow'\nimport {Observable} from \"rxjs\";\n\n@Injectable()\nexport class ApiService {\n\n  constructor() { }\n\n  getWorkflowForEditor(): Observable&lt;Object&gt;\n  {\n      return Observable.of( WORKFLOW_DATA );\n  }\n\n}\n</code></pre>\n\n<p>I then have a component which, in the constructor:</p>\n\n<pre><code>constructor( private apiService: ApiService)\n    {\n        this.apiService.getWorkflowForEditor().subscribe( WORKFLOW_DATA =&gt; {\n            console.log( WORKFLOW_DATA);\n            console.log( WORKFLOW_DATA.testDataArray );\n        } );\n    }\n</code></pre>\n\n<p>The first console.log logs an Object of type Object which contains the testDataArray property.</p>\n\n<p>The second console.log, results in an error at compile time:</p>\n\n<pre><code>Property 'testDataArray' does not exist on type 'Object'.\n</code></pre>\n\n<p>While still logging an array of objects [Object, Object, ..] as intended.</p>\n\n<p>I really do not understand why, I am sure I am doing something wrong, I would love an explanation.</p>\n\n<p>Thank you for any help!</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "reusability"], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 1490759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dd4087f7146c6f8a6e686d29219f7066?s=128&d=identicon&r=PG", "display_name": "Mario M.", "link": "https://stackoverflow.com/users/1490759/mario-m"}, "edited": false, "score": 0, "creation_date": 1476797202, "post_id": 40097982, "comment_id": 67490357, "body": "How can I use this routes in the template? It has no name, so I don&#39;t know how to call it.  &lt;a [routerLink]=&quot;coral&quot;&gt;Corals&lt;/a&gt;  raises an error."}], "tags": [], "owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "is_accepted": false, "score": 2, "last_activity_date": 1476753244, "creation_date": 1476753244, "answer_id": 40097982, "question_id": 40097746, "link": "https://stackoverflow.com/questions/40097746/how-to-reuse-a-component-code-angular2-ts/40097982#40097982", "title": "How to reuse a component code (Angular2 + TS)", "body": "<p>You can use:</p>\n\n<pre><code>{path: '/:group', component: ItemsList}\n</code></pre>\n\n<p>And access it via router</p>\n\n<pre><code>constructor(route: ActivatedRoute) {\n  this.route.params.subscribe(params =&gt; params.group)\n}\n</code></pre>\n\n<p>Note: this is Router 3.x syntax, it's probably not gonna work out of the box - you should upgrade to final...</p>\n"}], "owner": {"reputation": 416, "user_id": 1490759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dd4087f7146c6f8a6e686d29219f7066?s=128&d=identicon&r=PG", "display_name": "Mario M.", "link": "https://stackoverflow.com/users/1490759/mario-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476753244, "creation_date": 1476751054, "question_id": 40097746, "link": "https://stackoverflow.com/questions/40097746/how-to-reuse-a-component-code-angular2-ts", "title": "How to reuse a component code (Angular2 + TS)", "body": "<p>Creating a small Angular 2 app (A calculator for a nice game called AbyssRium), I'm trying to reuse the code of a simple component that shows a list of elements. I want those components to show only a subset of elements (filtered by group).</p>\n\n<p>I'm not sure if it's possible to do it using the RouteConfig (passing a parameter), but it would be a good option. I tried to understand 'Routes' the documentation (<a href=\"https://angular.io/docs/ts/latest/api/#!?query=route\" rel=\"nofollow\">here</a> and <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow\">here</a> ) but I couldn't see any clear reference (now playing with <a href=\"https://angular.io/docs/ts/latest/guide/router.html#!#resolve-guard\" rel=\"nofollow\">Resolve</a>, but no results yet). I'm looking for something like this:</p>\n\n<pre><code>@RouteConfig([\n  {path: '/corals', name: 'Corals', component: ItemsList, data:{group:'coral'}, useAsDefault: true},\n  {path: '/fishes', name: 'Fishes', component: ItemsList, data:{group:'fish'}},\n])\n</code></pre>\n\n<p>I also tried to inherit the module (ItemsList -> ItemsCoralList &amp; ItemsFishList), and initialize the class (this.group = \"coral\") in the constructor, but tons of compilation errors appear:</p>\n\n<blockquote>\n  <p>Cannot resolve 'xxx'. Make sure they all have valid type or annotations.</p>\n</blockquote>\n\n<p>Any idea how to do it without copying all the code twice?</p>\n\n<p>Here the code at <a href=\"http://plnkr.co/edit/DRx1oH0Y3iLgOJy0YyrJ?p=preview\" rel=\"nofollow\">Plunker</a></p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "edited": false, "score": 0, "creation_date": 1476751677, "post_id": 40097667, "comment_id": 67468184, "body": "So I would have to create a separate route for every single page I decide to make server-side? How would you recommend doing this server-side, IIS, Apache, or something else?"}, {"owner": {"reputation": 8572, "user_id": 4488121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1c5a992838023fa13b0fca96ff218?s=128&d=identicon&r=PG&f=1", "display_name": "lenilsondc", "link": "https://stackoverflow.com/users/4488121/lenilsondc"}, "reply_to_user": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "edited": false, "score": 0, "creation_date": 1476751998, "post_id": 40097667, "comment_id": 67468248, "body": "@chuloon you must configure your server-side technology to always target the index page independent of which url is being requested. Which server-side handler are you using? Apache, IIS, node.js?"}, {"owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "edited": false, "score": 0, "creation_date": 1476753550, "post_id": 40097667, "comment_id": 67468610, "body": "I&#39;m actually very new to using anything back end. My entire career has been based on front end technology, so I haven&#39;t wired up anything. However, I am using firebase for my database, but that&#39;s probably not what I should be using for this problem. I&#39;ll do some research into it all, but thank you for pointing me in the right direction!"}], "tags": [], "owner": {"reputation": 8572, "user_id": 4488121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1c5a992838023fa13b0fca96ff218?s=128&d=identicon&r=PG&f=1", "display_name": "lenilsondc", "link": "https://stackoverflow.com/users/4488121/lenilsondc"}, "is_accepted": true, "score": 1, "last_activity_date": 1476750724, "last_edit_date": 1476750724, "creation_date": 1476750417, "answer_id": 40097667, "question_id": 40097508, "link": "https://stackoverflow.com/questions/40097508/how-to-refresh-angularjs-route/40097667#40097667", "title": "How to: Refresh AngularJS Route", "body": "<p>It's is a server-side thing, your server is handling your entire url as if it was a normal path in the server. You must configure this to target <code>index.html</code> always otherwise your server will try to find the <code>www.myserver.com/about</code> page. There for, it will produce a 404 status code because your url couldn't be found or is forbidden to access in case of a directory.</p>\n"}], "owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 40097667, "answer_count": 1, "score": 1, "last_activity_date": 1476750724, "creation_date": 1476749119, "question_id": 40097508, "link": "https://stackoverflow.com/questions/40097508/how-to-refresh-angularjs-route", "title": "How to: Refresh AngularJS Route", "body": "<p>I'm trying to create a Typescript SPA project through Visual Studio and I'm using AngularJS to handle the routing. Here's my config...</p>\n\n<pre><code>var app = angular.module(\"myApp\", [\"ngRoute\"]);\napp.config(($routeProvider, $locationProvider) =&gt; {\n$routeProvider\n    .when(\"/\", {\n        templateUrl: \"/pages/index/index.html\"\n    })\n    .when(\"/about\", {\n        templateUrl: \"/pages/about/about.html\"\n    })\n    .otherwise({ redirectTo: '/' });\n\n$locationProvider.html5Mode(true);\n});\n</code></pre>\n\n<p>This is working fine, as it makes the URLs look how I want. However, when I go to refresh the page, I get an error 404 or error 403 depending on whether it's the main page or the about page. How do I go about making it so it refreshes to the correct page?</p>\n"}]