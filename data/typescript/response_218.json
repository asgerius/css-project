[{"tags": ["angular", "typescript", "momentjs"], "answers": [{"tags": [], "owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "is_accepted": true, "score": 1, "last_activity_date": 1552521887, "creation_date": 1552521887, "answer_id": 55152955, "question_id": 55152899, "link": "https://stackoverflow.com/questions/55152899/time-conversion-incorrect-in-momentjs/55152955#55152955", "title": "Time conversion incorrect in momentjs", "body": "<p>This is expected because the date-time string input that you are passing to the moment function has timezone offset in it. Moment will convert the input date-time to local date-time based on the timezone offset. If you want to ignore (or rather preserve) the timezone offset and get the exact date-time regardless of the browser timezone, you can use <strong><a href=\"https://momentjs.com/docs/#/parsing/parse-zone/\" rel=\"nofollow noreferrer\">moment.parseZone</a></strong> method.</p>\n\n<blockquote>\n  <p>Moment's string parsing functions like moment(string) and moment.utc(string) accept offset information if provided, but convert the resulting Moment object to local or UTC time. In contrast, moment.parseZone() parses the string but keeps the resulting Moment object in a fixed-offset timezone with the provided offset in the string.</p>\n</blockquote>\n\n<pre><code> const m = moment.parseZone(ISODateTimeString);\n console.log(m.format('LT')); //\"03/13/2019 4:51 PM\" for en-US locale\n\n// or you can also use\n\n const m = moment(ISODateTimeString).utcOffset(ISODateTimeString);\n</code></pre>\n"}], "owner": {"reputation": 691, "user_id": 500066, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9f671700ad92ec321c9b4f06ff023477?s=128&d=identicon&r=PG", "display_name": "doc92606", "link": "https://stackoverflow.com/users/500066/doc92606"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 55152955, "answer_count": 1, "score": 1, "last_activity_date": 1552521887, "creation_date": 1552521446, "question_id": 55152899, "link": "https://stackoverflow.com/questions/55152899/time-conversion-incorrect-in-momentjs", "title": "Time conversion incorrect in momentjs", "body": "<p>I am trying to use momentjs to extract and do some time calculations in typescript but...</p>\n\n<p>I am getting <em>incorrect</em> value for time as <em>11:51 PM</em> </p>\n\n<p>I should be getting 4:51 PM. </p>\n\n<pre><code>const m = moment('2019-03-13T16:51-07:00');\nconsole.log(m.format('LT'));\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-ui-router", "angular7"], "comments": [{"owner": {"reputation": 124, "user_id": 9177952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5bc2bd03888f91ffba9bbb63721b7a4?s=128&d=identicon&r=PG", "display_name": "moronator", "link": "https://stackoverflow.com/users/9177952/moronator"}, "edited": false, "score": 2, "creation_date": 1552520818, "post_id": 55152739, "comment_id": 97045969, "body": "First you could try no log all routing events to check, if a routing event is triggered. You could do this by making just a small change in your routing module: <code>RouterModule.forRoot(routes, { enableTracing: true })</code>"}, {"owner": {"reputation": 420, "user_id": 8906267, "user_type": "registered", "profile_image": "https://graph.facebook.com/1738965409743298/picture?type=large", "display_name": "Javi Marz&#225;n", "link": "https://stackoverflow.com/users/8906267/javi-marz%c3%a1n"}, "reply_to_user": {"reputation": 124, "user_id": 9177952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5bc2bd03888f91ffba9bbb63721b7a4?s=128&d=identicon&r=PG", "display_name": "moronator", "link": "https://stackoverflow.com/users/9177952/moronator"}, "edited": false, "score": 0, "creation_date": 1552522237, "post_id": 55152739, "comment_id": 97046337, "body": "Thanks for answering. I enabled the tracing and watched the console, but I dont really know how tracing works yet, so I couldn&#39;t get anything from there. I took a couple of screenshots though, they are at the end of the post, maybe you can understand it."}, {"owner": {"reputation": 124, "user_id": 9177952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5bc2bd03888f91ffba9bbb63721b7a4?s=128&d=identicon&r=PG", "display_name": "moronator", "link": "https://stackoverflow.com/users/9177952/moronator"}, "edited": false, "score": 0, "creation_date": 1552522683, "post_id": 55152739, "comment_id": 97046456, "body": "I guess you captured this while already being on &#39;cities/Barcelona&#39;. If so, it doesn&#39;t look like a navigation is started at all. At the moment I don&#39;t know how to proceed"}, {"owner": {"reputation": 420, "user_id": 8906267, "user_type": "registered", "profile_image": "https://graph.facebook.com/1738965409743298/picture?type=large", "display_name": "Javi Marz&#225;n", "link": "https://stackoverflow.com/users/8906267/javi-marz%c3%a1n"}, "reply_to_user": {"reputation": 124, "user_id": 9177952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5bc2bd03888f91ffba9bbb63721b7a4?s=128&d=identicon&r=PG", "display_name": "moronator", "link": "https://stackoverflow.com/users/9177952/moronator"}, "edited": false, "score": 0, "creation_date": 1552523324, "post_id": 55152739, "comment_id": 97046618, "body": "I think I was in Madrid before starting the navigation. I repeated the process though, and the console threw the exact same results. I can give you more details or show you other results if you need"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1552525467, "post_id": 55152739, "comment_id": 97047151, "body": "This should be easy enough to put up on stackblitz. Would help understand the issue you are facing. (but I bet the issue cannot be duplicated on SB)"}], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 8906267, "user_type": "registered", "profile_image": "https://graph.facebook.com/1738965409743298/picture?type=large", "display_name": "Javi Marz&#225;n", "link": "https://stackoverflow.com/users/8906267/javi-marz%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1552575093, "post_id": 55165457, "comment_id": 97070317, "body": "Thanks for the answer! I just posted mine and read yours afterwards. It would have helped me a lot, so thanks :)"}], "tags": [], "owner": {"reputation": 43, "user_id": 3475088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d7479c5ea0355435f4e052b7516e668?s=128&d=identicon&r=PG&f=1", "display_name": "user3475088", "link": "https://stackoverflow.com/users/3475088/user3475088"}, "is_accepted": false, "score": 0, "last_activity_date": 1552574762, "creation_date": 1552574762, "answer_id": 55165457, "question_id": 55152739, "link": "https://stackoverflow.com/questions/55152739/angular-7-url-changes-but-nothing-else-happens/55165457#55165457", "title": "Angular 7 Url changes but nothing else happens", "body": "<p>console log in the ngOnInit will be called only once.If you want to detect change in the parameters then subscribe to the paraMap in activateRoute.</p>\n\n<p>created a sample demo in the link below.\n<a href=\"https://stackblitz.com/edit/angular-mriyze?file=src%2Fapp%2Fcities-nav.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-mriyze?file=src%2Fapp%2Fcities-nav.component.ts</a></p>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 8906267, "user_type": "registered", "profile_image": "https://graph.facebook.com/1738965409743298/picture?type=large", "display_name": "Javi Marz&#225;n", "link": "https://stackoverflow.com/users/8906267/javi-marz%c3%a1n"}, "is_accepted": true, "score": 3, "last_activity_date": 1552575375, "last_edit_date": 1552575375, "creation_date": 1552574766, "answer_id": 55165460, "question_id": 55152739, "link": "https://stackoverflow.com/questions/55152739/angular-7-url-changes-but-nothing-else-happens/55165460#55165460", "title": "Angular 7 Url changes but nothing else happens", "body": "<p>Okay, after a long time I found out what was happening. I actually had two problems. </p>\n\n<p>First one, I had to change this line in cities-nav.component:</p>\n\n<pre><code>this.cityName = this.route.snapshot.paramMap.get(\"name\");\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>this.activeRoute.params.subscribe(routeParams =&gt; {\n  this.cityName = routeParams.name;\n  })\n</code></pre>\n\n<p>Because I always was on the path 'cities/:name', so even if I changed from one city to another, it didn't get the name again from the input. So that subscribe solves the problem, and will give you the new param every time you change the variable inside the same path.</p>\n\n<p>The other problem was inside the app-content, because inside onInit I called the cityService which got a city by a name. The problem was similar to the other one, it only reached the city once, even if the city input name changed. So the solution was creating a method ngOnChanges as follows:</p>\n\n<pre><code>ngOnChanges(changes: SimpleChanges): void {\n//Add '${implements OnChanges}' to the class.\nthis.getCityByName(this.cityName);\n}\n</code></pre>\n\n<p>This way every time the component input 'cityName' changes, it will get the new city and update.</p>\n"}], "owner": {"reputation": 420, "user_id": 8906267, "user_type": "registered", "profile_image": "https://graph.facebook.com/1738965409743298/picture?type=large", "display_name": "Javi Marz&#225;n", "link": "https://stackoverflow.com/users/8906267/javi-marz%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2395, "favorite_count": 0, "accepted_answer_id": 55165460, "answer_count": 2, "score": 2, "last_activity_date": 1552575375, "creation_date": 1552520152, "last_edit_date": 1552522172, "question_id": 55152739, "link": "https://stackoverflow.com/questions/55152739/angular-7-url-changes-but-nothing-else-happens", "title": "Angular 7 Url changes but nothing else happens", "body": "<p>This is the first time I post here, I'm quite desperate. \nIm using Angular 7. The problem is that when I manually type the desired url, it works well, but when I press a button and use RouterLink, the url changes but nothing else happens. If I press F5, the page will reload and will go to that new URL that has changed without trouble, so it's not a url routing problem. </p>\n\n<p>I only implemented the routerLink in two buttons for the moment (in cities-nav), while I test it.\nI also implemented a temporary one in app-component.html just in case it was a Material menu problem, but it doesn't work either.\nConsole says nothing. And I have a console.log inside the onInit of the cities-nav component, which triggers the first time that loads the web, but not when I use routerLink, so it doesn't even get there.\nI also tried executing a method with a (click) event. Doesn't work either.</p>\n\n<p>My code is the following: </p>\n\n<p>My app.component.html</p>\n\n<pre><code>&lt;div style=\"text-align:center\"&gt;\n&lt;nav&gt;\n&lt;a routerLink=\"/\"&gt;Go home&lt;/a&gt;\n&lt;/nav&gt;\n&lt;/div&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>This is my app-routing.module</p>\n\n<pre><code>import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { CitiesNavComponent } from './cities-nav/cities-nav.component';\n\nconst routes: Routes = [\n  { path: \"\", redirectTo: \"cities/Madrid\", pathMatch: \"full\" },\n  { path: \"cities/:name\", component: CitiesNavComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n</code></pre>\n\n<p>This is my cities-nav.component.html</p>\n\n<pre><code>    &lt;div class=\"container\"&gt;\n  &lt;div class=\"mdl-layout mdl-js-layout mdl-layout--fixed-header\"&gt;\n    &lt;header class=\"mdl-layout__header\"&gt;\n      &lt;div class=\"mdl-layout__header-row\"&gt;\n        &lt;span *ngIf=\"cityName\" class=\"mdl-layout-title\"&gt;{{this.cityName}}&lt;/span&gt;\n        &lt;div class=\"mdl-layout-spacer\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/header&gt;\n    &lt;div class=\"mdl-layout__drawer\"&gt;\n      &lt;span class=\"mdl-layout-title\"&gt;Cities&lt;/span&gt;\n      &lt;nav class=\"mdl-navigation\"&gt;\n        &lt;a class=\"mdl-navigation__link\" routerLink=\"/cities/Madrid\" routerLinkActive=\"active\"&gt;Madrid&lt;/a&gt;\n        &lt;a class=\"mdl-navigation__link\" routerLink=\"/cities/Barcelona\"&gt;Barcelona&lt;/a&gt;\n        &lt;a class=\"mdl-navigation__link\" (click)=\"goToCadiz()\"&gt;Valencia&lt;/a&gt;\n        &lt;a class=\"mdl-navigation__link\" href=\"\"&gt;C\u00e1diz&lt;/a&gt;\n        &lt;a class=\"mdl-navigation__link black-text\" href=\"\"&gt;ABOUT&lt;/a&gt;\n      &lt;/nav&gt;\n    &lt;/div&gt;\n    &lt;main class=\"mdl-layout__content\"&gt;\n      &lt;div class=\"page-content\"&gt;&lt;app-content *ngIf=\"cityName\" [cityName]=\"this.cityName\"&gt;&lt;/app-content&gt;&lt;/div&gt;\n    &lt;/main&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my cities-nav.component.ts </p>\n\n<pre><code>import { Component, OnInit, NgZone } from \"@angular/core\";\nimport { Location } from \"@angular/common\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Router } from \"@angular/router\";\n\n@Component({\n  selector: \"app-cities-nav\",\n  templateUrl: \"./cities-nav.component.html\",\n  styleUrls: [\"./cities-nav.component.scss\"]\n})\nexport class CitiesNavComponent implements OnInit {\n  cityName: string;\n\n  constructor(\n    private location: Location,\n    private route: ActivatedRoute,\n    private router: Router,\n    private ngZone: NgZone\n  ) {}\n\n  ngOnInit() {\n    console.log(\"Cities nav component OnInit executed\");\n    this.cityName = this.route.snapshot.paramMap.get(\"name\");\n  }\n  goToCadiz() {\n    this.ngZone.run(() =&gt; {\n      this.router.navigateByUrl('/cities/Cadiz');\n    });\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KhLkW.png\" rel=\"nofollow noreferrer\">First screenshot of tracing</a>\n<a href=\"https://i.stack.imgur.com/fZgpT.png\" rel=\"nofollow noreferrer\">Second screenshot of tracing</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "datetime", "time"], "comments": [{"owner": {"reputation": 111, "user_id": 1747604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43900a76437621ac488505864efef8dc?s=128&d=identicon&r=PG", "display_name": "mnj11", "link": "https://stackoverflow.com/users/1747604/mnj11"}, "edited": false, "score": 0, "creation_date": 1552517222, "post_id": 55152246, "comment_id": 97045012, "body": "Could you post your code snippet ?"}, {"owner": {"reputation": 69, "user_id": 11199923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--e6VGLozua0/AAAAAAAAAAI/AAAAAAAAACI/Bk5pEZ-if-E/photo.jpg?sz=128", "display_name": "tomek niewiem", "link": "https://stackoverflow.com/users/11199923/tomek-niewiem"}, "reply_to_user": {"reputation": 111, "user_id": 1747604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43900a76437621ac488505864efef8dc?s=128&d=identicon&r=PG", "display_name": "mnj11", "link": "https://stackoverflow.com/users/1747604/mnj11"}, "edited": false, "score": 0, "creation_date": 1552517514, "post_id": 55152246, "comment_id": 97045090, "body": "I did, do you have any idea how to do it?"}, {"owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1552520935, "post_id": 55152246, "comment_id": 97045998, "body": "Have you tried the <code>moment</code> module?"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 11199923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--e6VGLozua0/AAAAAAAAAAI/AAAAAAAAACI/Bk5pEZ-if-E/photo.jpg?sz=128", "display_name": "tomek niewiem", "link": "https://stackoverflow.com/users/11199923/tomek-niewiem"}, "edited": false, "score": 0, "creation_date": 1552530535, "post_id": 55152373, "comment_id": 97048294, "body": "Not working Uncaught Error: Template parse errors: Parser Error: Unexpected token &#39;Date&#39; at column 6 in [ Actual wait time: {{ new Date() | amDifference: order.time : &#39;minutes&#39;}} minutes ] in ng:///AppModule/KitchenComponent.html@24:21 (&quot;   &lt;/mat-card-subtitle&gt;"}, {"owner": {"reputation": 236, "user_id": 11003521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc7e1937435e681b6646cdb67f598d6?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Z. Li", "link": "https://stackoverflow.com/users/11003521/kevin-z-li"}, "reply_to_user": {"reputation": 69, "user_id": 11199923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--e6VGLozua0/AAAAAAAAAAI/AAAAAAAAACI/Bk5pEZ-if-E/photo.jpg?sz=128", "display_name": "tomek niewiem", "link": "https://stackoverflow.com/users/11199923/tomek-niewiem"}, "edited": false, "score": 0, "creation_date": 1552584197, "post_id": 55152373, "comment_id": 97076482, "body": "You can define a variable and assign new Date() to it. Then replace new Date() with the variable in the statement above."}], "tags": [], "owner": {"reputation": 236, "user_id": 11003521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc7e1937435e681b6646cdb67f598d6?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Z. Li", "link": "https://stackoverflow.com/users/11003521/kevin-z-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1552519991, "last_edit_date": 1552519991, "creation_date": 1552517741, "answer_id": 55152373, "question_id": 55152246, "link": "https://stackoverflow.com/questions/55152246/how-to-calculate-and-display-time-diffrence-in-minutes-angular2/55152373#55152373", "title": "How to calculate and display time diffrence in minutes Angular2", "body": "<p>You could try this</p>\n\n<pre><code>{{ new Date() | amDifference:  order.time : 'minutes'}} minutes\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1517, "user_id": 3179070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7YIM.png?s=128&g=1", "display_name": "javapedia.net", "link": "https://stackoverflow.com/users/3179070/javapedia-net"}, "is_accepted": true, "score": 1, "last_activity_date": 1552525906, "creation_date": 1552525906, "answer_id": 55153474, "question_id": 55152246, "link": "https://stackoverflow.com/questions/55152246/how-to-calculate-and-display-time-diffrence-in-minutes-angular2/55153474#55153474", "title": "How to calculate and display time diffrence in minutes Angular2", "body": "<p>I took a different approach than using amDifference/custom pipes. See my code and suggest/share feedback. I am precalculating the minute difference at the class itself.</p>\n\n<p><strong>order.ts</strong></p>\n\n<pre><code>export class Order {\nmins:number;\n    constructor(private id:number, private time:Date, private now:Date) {\n        let diffInMilliSecs:number  = (this.now.getTime()-time.getTime()) ;\n\n        let diffinMins: number = diffInMilliSecs / 1000/60;\n        this.mins =Math.round(diffinMins);\n    }\n}\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component} from '@angular/core';\nimport { Order } from './order';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent{\n  title = 'Orders';\n  dateNow=new Date();\n\n\n\n  orders = [ new Order(1,new Date(\"13 Mar 2019 19:50:14 EDT\"),this.dateNow),\n  new Order(1,new Date(\"13 Mar 2019 20:15:20 EDT\"),this.dateNow),\n  new Order(1,new Date(\"13 Mar 2019 20:45:55 EDT\"),this.dateNow),\n  new Order(1,new Date(\"13 Mar 2019 20:15:02 EDT\"),this.dateNow),\n  new Order(1,new Date(\"13 Mar 2019 20:15:00 EDT\"),this.dateNow)];\n\n}\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;h1&gt;  {{title}} &lt;/h1&gt;\n&lt;h3&gt; Time Now: {{dateNow}}&lt;/h3&gt;\n\n&lt;table&gt;\n  &lt;tr&gt;&lt;th&gt; Order#&lt;/th&gt; &lt;th&gt;Order time&lt;/th&gt; &lt;th&gt;Wait time (in mins)&lt;/th&gt;&lt;/tr&gt;\n  &lt;tr *ngFor=\"let order of orders\"&gt;\n    &lt;td&gt;{{order.id}}&lt;/td&gt;\n    &lt;td&gt;{{order.time | date:'medium'}}&lt;/td&gt;\n     &lt;td&gt;{{order.mins}}&lt;/td&gt; \n  &lt;/tr&gt;\n\n&lt;/table&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xOzDI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xOzDI.png\" alt=\"Output\"></a></p>\n"}], "owner": {"reputation": 69, "user_id": 11199923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--e6VGLozua0/AAAAAAAAAAI/AAAAAAAAACI/Bk5pEZ-if-E/photo.jpg?sz=128", "display_name": "tomek niewiem", "link": "https://stackoverflow.com/users/11199923/tomek-niewiem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 55153474, "answer_count": 2, "score": 1, "last_activity_date": 1552525906, "creation_date": 1552516935, "last_edit_date": 1552522103, "question_id": 55152246, "link": "https://stackoverflow.com/questions/55152246/how-to-calculate-and-display-time-diffrence-in-minutes-angular2", "title": "How to calculate and display time diffrence in minutes Angular2", "body": "<p>I have an angular app which shows orders using <code>*ngFor</code>, each order have a datetime field with date it was created. I want to create a timer which shows how long customer is waiting for his order in minutes, calculate difference between order.time and now. I tried using <code>amDifference</code> pipe but for some reason it showed the same output for all records. It would be easy to do it for one item but I have no clue how to do it inside <code>*ngFor</code> loop.</p>\n\n<pre><code>&lt;mat-card class=\"order-card\" *ngFor=\"let order of orders?.orders\"&gt;\n  &lt;mat-card-subtitle&gt;\n    Customer Name: {{ order.customerName }}\n  &lt;/mat-card-subtitle&gt;\n\n  &lt;mat-card-subtitle&gt;\n    Table Number: {{ order.tableNumber }}\n  &lt;/mat-card-subtitle&gt;\n\n  &lt;mat-card-subtitle&gt;\n    Food: {{ order.food }}\n  &lt;/mat-card-subtitle&gt;\n\n  &lt;mat-card-subtitle&gt;\n    Drink: {{ order.drink }}\n  &lt;/mat-card-subtitle&gt;\n\n  &lt;mat-card-subtitle&gt;\n    Estimated Wait Time: {{ order.waitTime }} minutes\n  &lt;/mat-card-subtitle&gt;\n\n  &lt;mat-card-subtitle&gt;\n    Actual wait time: &lt;!-- this is where I want to display dynamic time diffrence between now and order.time --&gt;\n  &lt;/mat-card-subtitle&gt;\n  &lt;button mat-button class=\"delete-button\" color=\"primary\" (click)=\"deleteOrder(order.orderId)\"&gt;Remove Order&lt;/button&gt;\n&lt;/mat-card&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "settimeout", "next.js"], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1552516813, "post_id": 55152205, "comment_id": 97044883, "body": "10 more minutes"}, {"owner": {"reputation": 641, "user_id": 10750663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2UYW_hBnfQQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iFdbsj0yASYMacl3QOlWXCR-kG8g/mo/photo.jpg?sz=128", "display_name": "Jordi Castillo", "link": "https://stackoverflow.com/users/10750663/jordi-castillo"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1552516847, "post_id": 55152205, "comment_id": 97044890, "body": "Okey thank you, I thinked it can work but i didn&#39;t test it, we had luck!"}, {"owner": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1552518402, "post_id": 55152205, "comment_id": 97045349, "body": "@LeonGaban if Jordi&#39;s answer worked please mark it as the correct one, thanks"}], "tags": [], "owner": {"reputation": 641, "user_id": 10750663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2UYW_hBnfQQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iFdbsj0yASYMacl3QOlWXCR-kG8g/mo/photo.jpg?sz=128", "display_name": "Jordi Castillo", "link": "https://stackoverflow.com/users/10750663/jordi-castillo"}, "is_accepted": true, "score": 8, "last_activity_date": 1552517153, "last_edit_date": 1552517153, "creation_date": 1552516677, "answer_id": 55152205, "question_id": 55152179, "link": "https://stackoverflow.com/questions/55152179/typescript-reactjs-settimeout-this-implicitly-has-type-any-because-it-d/55152205#55152205", "title": "TypeScript / ReactJS / setTimeout: &#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation.ts", "body": "<p>Do it with arrow function on setTimeout for heredate parents props</p>\n\n<pre><code>setTimeout(\n  () =&gt; {\n  this.resetNotification();\n  }......\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1552517137, "post_id": 55152253, "comment_id": 97044978, "body": "Thanks, great answer too.. +1 but I&#39;m trying to avoid obvious Types, feel that would be too verbose in this situation."}, {"owner": {"reputation": 678, "user_id": 3403247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c9a8a9911653c3fefa614ae225f442?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Ely", "link": "https://stackoverflow.com/users/3403247/bruno-ely"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 1, "creation_date": 1552517240, "post_id": 55152253, "comment_id": 97045017, "body": "Yeah for sure just thought I&#39;d add that in case you <i>really</i> wanted to use <code>function</code> syntax"}], "tags": [], "owner": {"reputation": 678, "user_id": 3403247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c9a8a9911653c3fefa614ae225f442?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Ely", "link": "https://stackoverflow.com/users/3403247/bruno-ely"}, "is_accepted": false, "score": 5, "last_activity_date": 1552517016, "creation_date": 1552517016, "answer_id": 55152253, "question_id": 55152179, "link": "https://stackoverflow.com/questions/55152179/typescript-reactjs-settimeout-this-implicitly-has-type-any-because-it-d/55152253#55152253", "title": "TypeScript / ReactJS / setTimeout: &#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation.ts", "body": "<p>If you still want to use <code>function () {}</code> syntax, you can pass <code>this</code> as the first parameter to the function, along with a type annotation.  Like this:</p>\n\n<pre><code>  setTimeout(\n    function(this: Board) {\n      this.resetNotification();\n    }\n    .bind(this),\n    500\n  );\n</code></pre>\n\n<p>I'm assuming since the file is called <code>Board.tsx</code> that your component is <code>&lt;Board&gt;</code>.  If not, change the type annotation for <code>this</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "is_accepted": false, "score": 0, "last_activity_date": 1616081550, "creation_date": 1616081550, "answer_id": 66694180, "question_id": 55152179, "link": "https://stackoverflow.com/questions/55152179/typescript-reactjs-settimeout-this-implicitly-has-type-any-because-it-d/66694180#66694180", "title": "TypeScript / ReactJS / setTimeout: &#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation.ts", "body": "<p>Just pass the function as a reference, no need to wrap it in an anonymous function or even bind it, which creates yet another function.</p>\n<pre><code>setTimeout(this.resetNotification, 500);\n</code></pre>\n<hr />\n<p>There is no bug in React calling setTimeout instantly, so if you were puzzled by it, consider this.</p>\n<pre><code>function doSomething() {/* */}\n\nconst a = doSomething() // immediately invokes and assigns a result\nconst b = doSomething   // stores a reference\n\n// call later\nconst x = a() // error\nconst y = b() // invokes doSomething and assigns a result\n</code></pre>\n<p>And in your case, the <em>&quot;bug&quot;</em> you mention is basically the same thing.<br />\nWhen you register your <code>setTimeout</code> callback, you mistakenly immediately call it, where instead you should pass a reference to it.</p>\n<pre><code>function doSomething() {/* */}\n\n// wrong\nsetTimeout(doSomething(), 500) // This is basically the same as writing the `a` from above\nsetTimeout(a, 500)             // like this. See the problem? a() cannot be called later.\n</code></pre>\n<p>To fix it, you have three options.</p>\n<ol>\n<li>pass a reference</li>\n</ol>\n<pre><code>setTimeout(this.resetNotification, 500)\n</code></pre>\n<ol start=\"2\">\n<li>wrap in an anonymous arrow function which is transparent to <code>this</code>,<br />\nmeaning it captures the outer (parent) <code>this</code>.<br />\n<em>note that this wraps your function in another function every time you call this</em></li>\n</ol>\n<pre><code>setTimeout(() =&gt; this.resetNotification(), 500)\n</code></pre>\n<ol start=\"3\">\n<li>wrap in a standard anonymous function, but since it comes with it's own <code>this</code>, you must bind it to the <code>this</code> of the parent.<br />\n<em>note that this wraps your function in another function AND THEN binds it, which creates a third function every time</em></li>\n</ol>\n<pre><code>setTimeout(function(){this.resetNotification()}.bind(this), 500)\n</code></pre>\n<h1>Enter <em>setTimeout</em></h1>\n<pre><code>setTimeout(callback, timeout?, param1?, param2?, ...)\n</code></pre>\n<p>It seems people don't realise that <code>setTimeout</code> and <code>setInterval</code>\u00a0actually accept <em>optional unlimited parameters</em>. The reason is to make calling the callback simpler, so instead of this</p>\n<pre><code>setTimeout(\n  function(){\n    this.doSomething(true, &quot;string&quot;, someVariable)\n  }.bind(this),\n  500\n)\n</code></pre>\n<p>You can write this</p>\n<pre><code>setTimeout(this.doSomething, 500, true, &quot;string&quot;, someVariable)\n</code></pre>\n<h3>Isn't that beautiful and elegant? \ud83d\ude09</h3>\n<hr />\n<p>Also you should fix your <code>resetNotification()</code> function's signature to <code>resetNotification(): void</code> not <code>:any</code> as it doesn't return anything.</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2635, "favorite_count": 1, "accepted_answer_id": 55152205, "answer_count": 3, "score": 2, "last_activity_date": 1616081550, "creation_date": 1552516497, "question_id": 55152179, "link": "https://stackoverflow.com/questions/55152179/typescript-reactjs-settimeout-this-implicitly-has-type-any-because-it-d", "title": "TypeScript / ReactJS / setTimeout: &#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation.ts", "body": "<p>In my NextJS/React typescript app I'm using a setTimeout.</p>\n\n<p>There is a bug in React apps causing setTimeout's to get called instantly, which I then found a fix in this answer here: <a href=\"https://stackoverflow.com/questions/36270422/reactjs-settimeout-not-working\">ReactJS: setTimeout() not working?</a></p>\n\n<p>Below is my code, but I'm getting the following typescript error on the <code>this</code> on <code>this.resetNotification</code></p>\n\n<blockquote>\n  <p>any\n  'this' implicitly has type 'any' because it does not have a type annotation.ts(2683)\n  Board.tsx(158, 7): An outer value of 'this' is shadowed by this container.</p>\n</blockquote>\n\n<pre><code>@bind\nresetNotification(): any {\n  console.log('resetNotification...');\n  this.setState({ notificationClass: 'spin-in-notification' });\n  this.props.setNotification('', false);\n}\n\n@bind\nprivate handleNotificationClick() {\n  this.setState({ notificationClass: 'slide-out-bck-top' });\n\n  setTimeout(\n    function() {\n      this.resetNotification();\n    }\n    .bind(this),\n    500\n  );\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/L0WZM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0WZM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1552513525, "post_id": 55151641, "comment_id": 97043728, "body": "What is an &quot;abstract class&quot; ? If you mean the Typescript <code>abstract class</code> then ... no, this does not sound like a good usecase."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1552513532, "post_id": 55151641, "comment_id": 97043731, "body": "Since functions are objects, it doesn&#39;t really matter (in the JavaScript world). Inside static class methods you can also use <code>this</code> to refer to the class itself (again, since functions just objects). In such a case I would simply use an object though (in plain JavaScript at least). I believe abstract classes is a concept from programming languages that don&#39;t support direct object creation. <i>edit:</i> Uh, I was thinking of <i>final</i> abstract classes. Abstract classes itself are useful to be extended by concrete classes..."}, {"owner": {"reputation": 714, "user_id": 1652010, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z45lG.png?s=128&g=1", "display_name": "timebandit", "link": "https://stackoverflow.com/users/1652010/timebandit"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1552547862, "post_id": 55151641, "comment_id": 97052970, "body": "@FelixKling on solo projects I agree it doesn&#39;t matter but working in a team on an expanding project there needs to be good reasons and consistency for the patterns used, hence the original post. I would like to hear some concrete reasons and possibly see some examples from someone who really understands the topic specifically using <b>Typescript</b>"}], "answers": [{"comments": [{"owner": {"reputation": 714, "user_id": 1652010, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z45lG.png?s=128&g=1", "display_name": "timebandit", "link": "https://stackoverflow.com/users/1652010/timebandit"}, "edited": false, "score": 0, "creation_date": 1552547522, "post_id": 55151687, "comment_id": 97052825, "body": "<code>Don&#39;t use a class if you don&#39;t plan to instantiate it.</code> a singleton makes one instance and sometime I favour this over abstracts because I can refer to it&#39;s internals with <code>this</code>, you can do this with abstracts too but I don&#39;t think it&#39;s semantically corrects as there is no instance.<code>Don&#39;t use an abstract class if you don&#39;t plan to extend it</code> in practice abstract classes are sometimes used to hold a collection of methods to form utility classes. So this assertion doesn&#39;t hold up."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 714, "user_id": 1652010, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z45lG.png?s=128&g=1", "display_name": "timebandit", "link": "https://stackoverflow.com/users/1652010/timebandit"}, "edited": false, "score": 1, "creation_date": 1552549785, "post_id": 55151687, "comment_id": 97053865, "body": "@timebandit: Bergi&#39;s point is: <code>const instance = {foo() { console.log(this); } bar() { this.foo(); }}</code> also creates an &quot;instance&quot;, without the need for a class. That&#39;s the advantage of JavaScript. If you have methods that don&#39;t need to share state, use a module instead."}, {"owner": {"reputation": 714, "user_id": 1652010, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z45lG.png?s=128&g=1", "display_name": "timebandit", "link": "https://stackoverflow.com/users/1652010/timebandit"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1552551057, "post_id": 55151687, "comment_id": 97054481, "body": "@FelixKling totally agree with you I should qualify my question by saying that i am interested in an object oriented solution that people form a java c# background moving to TS would understand"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 714, "user_id": 1652010, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z45lG.png?s=128&g=1", "display_name": "timebandit", "link": "https://stackoverflow.com/users/1652010/timebandit"}, "edited": false, "score": 0, "creation_date": 1552567371, "post_id": 55151687, "comment_id": 97064507, "body": "@timebandit Well for people coming from java everything has to be a <code>class</code> of course\u2026 Or you educate them that JavaScript works different, it&#39;s object-based not class-based. Using object literals for your singletons with utility methods is the object-oriented JS way."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 714, "user_id": 1652010, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z45lG.png?s=128&g=1", "display_name": "timebandit", "link": "https://stackoverflow.com/users/1652010/timebandit"}, "edited": false, "score": 0, "creation_date": 1552576093, "post_id": 55151687, "comment_id": 97071043, "body": "@timebandit: Since there are many differences between c#/java and JavaScript classes, knowledge cannot really be transferred IMO. If they have to learn how JavaScript classes work anyway, they might as well learn about how objects work in JavaScript and use them accordingly <i>shrug</i>."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 5, "last_activity_date": 1552514099, "last_edit_date": 1552514099, "creation_date": 1552513656, "answer_id": 55151687, "question_id": 55151641, "link": "https://stackoverflow.com/questions/55151641/abstract-classes-v-singletons-v-public-statics-in-typescript/55151687#55151687", "title": "Abstract Classes v Singletons v Public-statics in Typescript", "body": "<p>Don't use a class if you don't plan to instantiate it.<br>\nDon't use an abstract class if you don't plan to extend it.</p>\n\n<p>A plain object is a better fit for a collection of static methods. In Typescript, you'd probably use a <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces.html\" rel=\"nofollow noreferrer\">namespace</a> or <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">module</a> of functions.</p>\n"}], "owner": {"reputation": 714, "user_id": 1652010, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z45lG.png?s=128&g=1", "display_name": "timebandit", "link": "https://stackoverflow.com/users/1652010/timebandit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552514099, "creation_date": 1552513388, "question_id": 55151641, "link": "https://stackoverflow.com/questions/55151641/abstract-classes-v-singletons-v-public-statics-in-typescript", "title": "Abstract Classes v Singletons v Public-statics in Typescript", "body": "<p>I've moved from a functional style of coding Javascript to class based Typescript for work. The are cases where I need only one instance/place for some functionality so sometimes I have gone for an abstract class whilst at other times I have opted for a singleton. My reason for choosing one over the other are a little arbitrary and fuzzy and my colleagues suggestions have sounded fuzzy also. </p>\n\n<p>When would you use an <strong>abstract</strong> class verses and <strong>singleton</strong> class verses a regular class with <strong>public static</strong> methods and properties. Actual examples and use case to help in deciding when to use which would be great. </p>\n\n<p>Currently abstract and singletons seem pretty similar to me when it comes to the case of creating something where there is only <strong>one</strong> but my reason for picking the latter up till now has simply been that I can do <code>this.property</code> with a singlton whereas within an abstract it seems correct to use only <code>abstractClassName.property</code> which is more verbose. Both seem a good option for centralising state such as a common list of timers item <code>items[]</code> </p>\n"}, {"tags": ["javascript", "typescript", "lodash", "rollup", "tree-shaking"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1552512730, "post_id": 55151444, "comment_id": 97043383, "body": "This is basically why I stopped using lodash. :)"}, {"owner": {"reputation": 964, "user_id": 10315025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/055ebeeddf60ec2f1d1e953b944175cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jclangst", "link": "https://stackoverflow.com/users/10315025/jclangst"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1552514224, "post_id": 55151444, "comment_id": 97044004, "body": "In case there turns out to be no good answer to this, I implore you to just take the easy path and use some babel import transformer like <a href=\"https://www.npmjs.com/package/babel-plugin-import\" rel=\"nofollow noreferrer\">npmjs.com/package/babel-plugin-import</a>. I&#39;ve wasted all day and tried just about everything... don&#39;t be me."}], "owner": {"reputation": 964, "user_id": 10315025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/055ebeeddf60ec2f1d1e953b944175cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jclangst", "link": "https://stackoverflow.com/users/10315025/jclangst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 701, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552512262, "creation_date": 1552512262, "question_id": 55151444, "link": "https://stackoverflow.com/questions/55151444/rollup-no-treeshaking-with-typescript-w-babel", "title": "Rollup - No treeshaking with Typescript w/ Babel", "body": "<p>I am not able to get tree-shaking for <code>lodash-es</code> when using ES6 import syntax. For example, the following seems to include all of lodash:</p>\n\n<pre><code>import { isArray} from 'lodash-es';\n</code></pre>\n\n<p>I am using the below lodash config:</p>\n\n<pre><code>import commonjs from 'rollup-plugin-commonjs';\nimport resolve from 'rollup-plugin-node-resolve';\nimport babel from 'rollup-plugin-babel';\nimport pkg from './package.json';\n\nconst extensions = [\n  '.js', '.jsx', '.ts', '.tsx',\n];\n\nconst name = 'RollupTypeScriptBabel';\n\nexport default {\n  input: './src/index.ts',\n\n  // Specify here external modules which you don't want to include in your bundle (for instance: 'lodash', 'moment' etc.)\n  // https://rollupjs.org/guide/en#external-e-external\n  external: [],\n\n  plugins: [\n    // Allows node_modules resolution\n    resolve({ extensions }),\n\n    // Allow bundling cjs modules. Rollup doesn't understand cjs\n    commonjs(),\n\n    // Compile TypeScript/JavaScript files\n    babel({ extensions, include: ['src/**/*'] }),\n  ],\n\n  output: [{\n    file: pkg.main,\n    format: 'cjs',\n  }, {\n    file: pkg.module,\n    format: 'es',\n  }]\n};\n</code></pre>\n\n<p>I have a test repo set up if anyone wants to try it out: <a href=\"https://github.com/jclangst/rollup-typescript-babel\" rel=\"nofollow noreferrer\">https://github.com/jclangst/rollup-typescript-babel</a>.</p>\n\n<p>I've tried everything including other ES6 compatible libraries other than <code>lodash-es</code> and nothing works. What am I doing wrong that is preventing tree shaking?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 0, "creation_date": 1552511102, "post_id": 55151095, "comment_id": 97042684, "body": "If I didn&#39;t know better \ud83e\udd14 I&#39;d think you were trying to get answers to your homework"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "reply_to_user": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 0, "creation_date": 1552511149, "post_id": 55151095, "comment_id": 97042703, "body": "@Scrimothy its not any homework. its actual logic in my real live project. Dont go on wrong syntax of code. I know syntax can be wrong in code sample i posted"}], "answers": [{"comments": [{"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552512304, "post_id": 55151383, "comment_id": 97043189, "body": "can you tell how you declare constant in typescript as that gives error"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552513191, "post_id": 55151383, "comment_id": 97043618, "body": "i tried to convert constant check in typescript like var check = function (v) { return (v &lt; 45) + (v &lt; 50) + (v &lt; 65); };  but still throws error"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552513441, "post_id": 55151383, "comment_id": 97043700, "body": "@james you should try to understand the error message before you are guessing into the wild."}, {"owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 0, "creation_date": 1552513597, "post_id": 55151383, "comment_id": 97043753, "body": "typescript probably doesn&#39;t like that you&#39;re implicitly using a boolean as a number with your expression. You may have to cast them to numbers before you can add them together"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "reply_to_user": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 0, "creation_date": 1552513815, "post_id": 55151383, "comment_id": 97043848, "body": "@Scrimothy can you give me example of cast?"}, {"owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 0, "creation_date": 1552513929, "post_id": 55151383, "comment_id": 97043896, "body": "The DRY way would be like this, <code>boolToNumber(bool) { return bool ? 1 : 0 }</code> then <code>boolToNumber(v &lt; 45)</code>, but you could also add the ternary for each statement"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 0, "creation_date": 1552514008, "post_id": 55151383, "comment_id": 97043920, "body": "@scrimothy the DRY would actually be <code>+(v &lt; 45)</code>"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552544580, "post_id": 55151383, "comment_id": 97051791, "body": "@JonasWilms can you update answer code with typescript format please?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552544819, "post_id": 55151383, "comment_id": 97051885, "body": "@james sure, please decide for the language <i>before asking the question</i> the next time :)"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552544912, "post_id": 55151383, "comment_id": 97051916, "body": "@JonasWilms  i am sorry for it. But i also want to learn about this syntax you wrote. Can you please send me link to understand that syntax. I didnt understood much how that constant is declared. I will be greatful"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552547540, "post_id": 55151383, "comment_id": 97052834, "body": "what happens if one or two parameters are undefined"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552547721, "post_id": 55151383, "comment_id": 97052920, "body": "also looks like syntax is not correct for constant check you declared. it will be nice if you change all code written in answer in typescript"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552552956, "post_id": 55151383, "comment_id": 97055423, "body": "the output is not correct either. it always returns 0 if i pass for example 46 * 51 * 66. so it outputs to 0 and then its not greater than 6 and then it will not throw alert"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552567825, "post_id": 55151383, "comment_id": 97064834, "body": "@james whoops, the condition must be inverted."}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1552570096, "post_id": 55151383, "comment_id": 97066527, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190021/discussion-between-james-and-jonas-wilms\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552570213, "post_id": 55151383, "comment_id": 97066606, "body": "this returns as valid 25 * 25 * 8"}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1552567801, "last_edit_date": 1552567801, "creation_date": 1552512025, "answer_id": 55151383, "question_id": 55151095, "link": "https://stackoverflow.com/questions/55151095/validation-logic-for-max-measurement/55151383#55151383", "title": "validation logic for max measurement", "body": "<p>You could take the three measures, sort them after size, then apply the condition:</p>\n\n<pre><code> const sizes: number[] = [width, height, length].sort();\n if(sizes[0] &gt;= 45 || sizes[1] &gt;= 50 || sizes[2] &gt;= 65)\n   alert(\"incorrect\");\n</code></pre>\n\n<hr>\n\n<p>Alternatively you each value against all ranges, like:</p>\n\n<pre><code> const check = (v: number) =&gt; +(v &lt; 45) + +(v &lt; 50) + +(v &lt; 65);\n</code></pre>\n\n<p>That will return 3 if the passed value is lower than all ranges, 2 if it is bigger than 45, 1 if bigger than 50 and 0 if bigger than 65.</p>\n\n<p>Then the multiple of all checks has to be bigger or equal 6 (3 * 2 * 1)</p>\n\n<pre><code> if(check(width) * check(height) * check(length) &lt; 6)\n   alert(\"invalid\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552512545, "post_id": 55151467, "comment_id": 97043293, "body": "i changed language to typescript in question"}, {"owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "reply_to_user": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552513481, "post_id": 55151467, "comment_id": 97043711, "body": "@James you should be able to use the same function above with typescript. Just change function definition to <code>validateVolume(...args: [number, number, number]): boolean</code>"}, {"owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552547311, "post_id": 55151467, "comment_id": 97052747, "body": "what happens if other two parameters are undefined. this test fails console.log(validateVolume(45, undefined, 65))"}, {"owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "reply_to_user": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "edited": false, "score": 0, "creation_date": 1552619672, "post_id": 55151467, "comment_id": 97088812, "body": "@James yes, that was happy path only. I&#39;ve updated my snippet to validate against undefined and null."}], "tags": [], "owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "is_accepted": false, "score": 1, "last_activity_date": 1552619616, "last_edit_date": 1552619616, "creation_date": 1552512375, "answer_id": 55151467, "question_id": 55151095, "link": "https://stackoverflow.com/questions/55151095/validation-logic-for-max-measurement/55151467#55151467", "title": "validation logic for max measurement", "body": "<p>There's probably a more succinct way to do this, but I'm thinking that you'd loop through each dimension and match it against your 3 maxes. I'm removing the lowest one that matches first so that you have more room for other dimensions that could be less than more than one max. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function validateVolume(...args) {\r\n  const maxes = [45, 50, 65];\r\n  \r\n  return args.every((dimension) =&gt; {\r\n    if (dimension === null || dimension === undefined) {\r\n      return false;\r\n    }\r\n    return maxes.some((max, index) =&gt; {\r\n      const match = dimension &lt;= max;\r\n      if (match) {\r\n        maxes.splice(index, 1);\r\n      }\r\n      \r\n      return match;\r\n    });\r\n  });\r\n}\r\nconsole.log(validateVolume(undefined, 65, 50));\r\nconsole.log(validateVolume(45, 65, 50));\r\nconsole.log(validateVolume(45, 50, 65));\r\nconsole.log(validateVolume(46, 50, 65));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1637, "user_id": 2838526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9259babbd9e65fd0520a4a367f3bf3e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2838526/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552619616, "creation_date": 1552510759, "last_edit_date": 1552512256, "question_id": 55151095, "link": "https://stackoverflow.com/questions/55151095/validation-logic-for-max-measurement", "title": "validation logic for max measurement", "body": "<p>We have 3 textboxes which accept length, width and height</p>\n\n<p>Either length or width or height cannot be greater than 50</p>\n\n<p>Either length or width or height cannot be greater than 45</p>\n\n<p>Either length or width or height cannot be greater than 65</p>\n\n<p>So there can be below combination</p>\n\n<p>45 * 50 * 65</p>\n\n<p>50 * 45 * 65</p>\n\n<p>65* 45 * 50</p>\n\n<p>I am writing logic in typescript but cannot find way.</p>\n\n<pre><code> if (txtWidth.val() &gt; 45 &amp;&amp; txtLength.val() &lt; 65 &amp;&amp; txtHeight.val() &lt; 50)\n    string error = \"you exceeded measurement\"\n</code></pre>\n\n<p>the logic is not complete but i need good way to solve this or any hit would help</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "siblings", "circular-reference"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1552509492, "post_id": 55150776, "comment_id": 97041928, "body": "What&#39;s the specific issue? IIRC pretty much everything current has at least mark-and-sweep GC, which makes memory leaks due to circular references unlikely, although I suppose not impossible (although I&#39;m having a hard time coming up w/ scenarios)."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1552510126, "post_id": 55150776, "comment_id": 97042210, "body": "There are no destructors in JS. You would have to call them manually."}, {"owner": {"reputation": 34935, "user_id": 2589276, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a6f9b732a6724d701df0647be6b73ad1?s=128&d=identicon&r=PG", "display_name": "Esqarrouth", "link": "https://stackoverflow.com/users/2589276/esqarrouth"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1552511059, "post_id": 55150776, "comment_id": 97042670, "body": "@Bergi yes, that is what I meant by <code>add destructor</code>."}, {"owner": {"reputation": 34935, "user_id": 2589276, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a6f9b732a6724d701df0647be6b73ad1?s=128&d=identicon&r=PG", "display_name": "Esqarrouth", "link": "https://stackoverflow.com/users/2589276/esqarrouth"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1552511201, "post_id": 55150776, "comment_id": 97042720, "body": "@DaveNewton issue is exactly like this. But 50x larger classes and different names. I&#39;m holding an dad object, which his holding a kid object. At some point I&#39;m removing the dad object from the array it is in. And I am hoping the kid object will die."}, {"owner": {"reputation": 34935, "user_id": 2589276, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a6f9b732a6724d701df0647be6b73ad1?s=128&d=identicon&r=PG", "display_name": "Esqarrouth", "link": "https://stackoverflow.com/users/2589276/esqarrouth"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1552511256, "post_id": 55150776, "comment_id": 97042751, "body": "@DaveNewton edited the example code a little bit more"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1552515452, "post_id": 55150776, "comment_id": 97044431, "body": "@Esqarrouth The number of objects isn&#39;t really relevant, though; the mechanism is the same."}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 7, "last_activity_date": 1552509745, "creation_date": 1552509745, "answer_id": 55150891, "question_id": 55150776, "link": "https://stackoverflow.com/questions/55150776/does-typescript-javascript-garbage-collector-handle-circular-references-or-doe/55150891#55150891", "title": "Does Typescript / Javascript garbage collector handle circular references or does it leak memory?", "body": "<p>TypeScript doesn't have a runtime.</p>\n\n<p>There are many JavaScript runtimes, so it's impossible to say some particular thing is true of <em>all</em> of them, but all the major runtimes (those shipped in popular browsers, node.js) are easily capable of dealing with disconnected circular references.</p>\n\n<p>There is a well-defined memory root in JS from which it's easy to do a mark-and-sweep GC, which has no problems dealing with circular references. Circular references are really only an issue in ref-counted GC systems and there's no great reason to do ref counting in the JS language since you don't need deterministic cleanup.</p>\n"}], "owner": {"reputation": 34935, "user_id": 2589276, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a6f9b732a6724d701df0647be6b73ad1?s=128&d=identicon&r=PG", "display_name": "Esqarrouth", "link": "https://stackoverflow.com/users/2589276/esqarrouth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1253, "favorite_count": 0, "closed_date": 1552510095, "accepted_answer_id": 55150891, "answer_count": 1, "score": 1, "last_activity_date": 1552511228, "creation_date": 1552509244, "last_edit_date": 1552511228, "question_id": 55150776, "link": "https://stackoverflow.com/questions/55150776/does-typescript-javascript-garbage-collector-handle-circular-references-or-doe", "closed_reason": "Duplicate", "title": "Does Typescript / Javascript garbage collector handle circular references or does it leak memory?", "body": "<p>In languages like <code>C#</code> this isn't a problem, but this creates hard to find memory bugs in some other languages. Can I use the following code in <code>Typescript</code> or <code>Javascript</code> and trust that everything will be fine?</p>\n\n<pre><code>class Dad {\n    kids: Kid[];\n}\nclass Kid {\n    dad: Dad;\n    siblings: Kid[];\n}\n\nlet anakin: Dad | undefined;\n\nfunction makeKids(dad: Dad) {\n    const luke = new Kid();\n    const leia = new Kid();\n    luke.dad = dad;\n    leia.dad = dad;\n    luke.siblings = [leia];\n    leia.siblings = [luke];\n    dad.kids = [luke, leia];\n}\n\nanakin = new Dad();\nmakeKids(anakin);\nconsole.log(anakin.kids.length); // Prints out 2\nanakin = undefined;\n// I expect luke and leia to die at this point\n// Not float around the memory space infinitely\n</code></pre>\n\n<p>Or should I make the variable kids and siblings optional and add a <code>destructor</code>? Something like this:</p>\n\n<pre><code>kids?: Kid[];\nsiblings?: Kid[];\ndestructor() {\n    this.kids = undefined\n}\n</code></pre>\n\n<p>Here is a related topic and I wasn't satisfied with the answer: <a href=\"https://stackoverflow.com/questions/40819466/destroy-an-circular-reference-instance-in-typescript\">Destroy an circular-reference instance in typescript?</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1552521869, "post_id": 55150760, "comment_id": 97046240, "body": "Do you want <code>PickByValue&lt;Test, &#39;a&#39; | &#39;b&#39;&gt;</code> to be equivalent to <code>Test</code> or equivalent to <code>{}</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 9802808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49d37f10ea29aa1f9a0914a41496263a?s=128&d=identicon&r=PG&f=1", "display_name": "Braden Snell", "link": "https://stackoverflow.com/users/9802808/braden-snell"}, "edited": false, "score": 0, "creation_date": 1552644563, "post_id": 55153000, "comment_id": 97098152, "body": "After reflecting on this I realized <code>KeysMatching</code> was a little more flexible for my specific use case. I came close with my initial tries but wasn&#39;t quite getting there. Thanks so much!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 7, "last_activity_date": 1606842418, "last_edit_date": 1606842418, "creation_date": 1552522207, "answer_id": 55153000, "question_id": 55150760, "link": "https://stackoverflow.com/questions/55150760/how-to-write-pickbyvalue-type/55153000#55153000", "title": "How to write PickByValue type?", "body": "<p>Assuming you intend <code>Test</code> to be this:</p>\n<pre><code>type Test = {\n  includeMe: 'a',\n  andMe: 'a',\n  butNotMe: 'b',\n  orMe: 'b'\n};\n</code></pre>\n<p>and assuming that you want <code>PickByValue&lt;T, V&gt;</code> to give all the properties which are <em>subtypes</em> of <code>V</code> (so that <code>PickByValue&lt;T, unknown&gt;</code> should be <code>T</code>), then you can define <code>PickByValue</code> like this:</p>\n<pre><code>type PickByValue&lt;T, V&gt; = Pick&lt;T, { [K in keyof T]: T[K] extends V ? K : never }[keyof T]&gt;\ntype TestA = PickByValue&lt;Test, 'a'&gt;; // {includeMe: &quot;a&quot;; andMe: &quot;a&quot;}\ntype IncludedKeys = keyof PickByValue&lt;Test, 'a'&gt;; // &quot;includeMe&quot; | &quot;andMe&quot;\n</code></pre>\n<p>But if all you want is <code>IncludedKeys</code>, then you can do that more directly with <code>KeysMatching&lt;T, V&gt;</code>:</p>\n<pre><code>type KeysMatching&lt;T, V&gt; = {[K in keyof T]: T[K] extends V ? K : never}[keyof T];\ntype IncludedKeysDirect = KeysMatching&lt;Test, 'a'&gt; // &quot;includeMe&quot; | &quot;andMe&quot;\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/C4TwDgpgBAKhDOwoF4oG8BQVtQJYDsBjAGwFcATCAWQgC4oByAQwYBoscn9yb7m2O2AEalgAOQD2wXoyECcUCQCcZDORgC+Abgy7QkKAAVchANYAhEADUmZCAB4YrKFYB8KIydOPnaKAG0AaTx8KFMIEAkAM1gAXXoYINioCAAPYAhueBcoAH4oYPp8CAA3CCUoDX9wyJiYWNcMfWg4RABBD2MzSxs7RwRgZ35XLSgAejH0AhIKajooACImBdGuHnmlhY0m8GgASSIySnJAiOzUGujPbutbUgdWwcYWEfHJhemjuYWoAB9FtY0BZ6XYFM5UJjAQgACwIAHMfC53Kg0EEQmEIld6gkkil0plyNkrHkClAiqVylVLnVYjpmlADjNjqcQPAACK4JQQQhIVAs+AQqGw-AIx5DF5vRafWZAv4A7hAoA\" rel=\"nofollow noreferrer\">Playground link to code</a></p>\n"}], "owner": {"reputation": 65, "user_id": 9802808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49d37f10ea29aa1f9a0914a41496263a?s=128&d=identicon&r=PG&f=1", "display_name": "Braden Snell", "link": "https://stackoverflow.com/users/9802808/braden-snell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 1, "accepted_answer_id": 55153000, "answer_count": 1, "score": 5, "last_activity_date": 1606842418, "creation_date": 1552509188, "question_id": 55150760, "link": "https://stackoverflow.com/questions/55150760/how-to-write-pickbyvalue-type", "title": "How to write PickByValue type?", "body": "<p>The <code>Pick</code> type is included with TypeScript. It's implementation is as follows:</p>\n\n<pre><code>type Pick&lt;T, K extends keyof T&gt; = {\n  [P in K]: T[P];\n};\n</code></pre>\n\n<p>How would you write a <code>PickByValue</code> type such that the following works:</p>\n\n<pre><code>type Test = {\n  includeMe: 'a' as 'a',\n  andMe: 'a' as 'a',\n  butNotMe: 'b' as 'b',\n  orMe: 'b' as 'b'\n};\n\ntype IncludedKeys = keyof PickByValue&lt;Test, 'a'&gt;;\n// IncludedKeys = 'includeMe' | 'andMe'\n</code></pre>\n"}, {"tags": ["typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 3189, "user_id": 42429, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Gjtn1.png?s=128&g=1", "display_name": "Martin Cowie", "link": "https://stackoverflow.com/users/42429/martin-cowie"}, "edited": false, "score": 0, "creation_date": 1552660445, "post_id": 55152073, "comment_id": 97107744, "body": "Alas I <i>am</i> using <code>webpack</code>. Possibly this explains why both path mapping, and <code>rootDirs</code> had no effect. I shall update &amp; refocus the question."}], "tags": [], "owner": {"reputation": 964, "user_id": 10315025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/055ebeeddf60ec2f1d1e953b944175cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jclangst", "link": "https://stackoverflow.com/users/10315025/jclangst"}, "is_accepted": false, "score": 0, "last_activity_date": 1552515871, "creation_date": 1552515871, "answer_id": 55152073, "question_id": 55150663, "link": "https://stackoverflow.com/questions/55150663/how-to-load-a-module-from-a-separate-include-directory/55152073#55152073", "title": "How to load a module from a separate `include` directory?", "body": "<p>If your <code>import</code> statements contain no relative specifiers (i.e., is just something like <code>import data from \"messages.json\"</code>), you will ONLY look in <code>node_modules</code> if your <code>\"moduleResolution\"</code> is <code>\"Node\"</code> (which is the most common). </p>\n\n<p>I think a good solution for you might be to use the path mapping feature of the compiler (described here: <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/module-resolution.html</a>). You can then import your data using <code>import data from 'generated/messages.json'</code> if you set up the path mapping for <code>generated</code> to point wherever you want. That way you can avoid using the relative specifiers if that is what you want to avoid.</p>\n\n<p>If that doesn't give you what you want, I'd recommend parsing through here <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/module-resolution.html</a> as that will give you basically all your options (unless you want to use a more complicated build system like webpack).</p>\n"}], "owner": {"reputation": 3189, "user_id": 42429, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Gjtn1.png?s=128&g=1", "display_name": "Martin Cowie", "link": "https://stackoverflow.com/users/42429/martin-cowie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552660667, "creation_date": 1552508851, "last_edit_date": 1552660667, "question_id": 55150663, "link": "https://stackoverflow.com/questions/55150663/how-to-load-a-module-from-a-separate-include-directory", "title": "How to load a module from a separate `include` directory?", "body": "<p>My project's <code>tsconfig.json</code> contains this ...</p>\n\n<pre><code>\"include\": [\n    \"src/**/*\",\n    \"generated**/*\"\n]\n</code></pre>\n\n<p>There are two files <code>src/main.ts</code> and <code>generated/data.json</code></p>\n\n<p>I would like to <code>import data from 'data.json';</code> within <code>src/main.ts</code>. I can only make it work if <code>generated/data.json</code> is moved to <code>src</code>.</p>\n\n<p>I am using <code>webpack</code> and <code>ts-loader</code> to output a bundle. </p>\n\n<p>I have tried both using <code>rootDirs</code> and path mapping in <code>tsconfig</code> so that <code>src/main.ts</code> can <code>import data from</code>data.json;`, but to no avail.</p>\n"}, {"tags": ["angular", "typescript", "openlayers", "openlayers-3", "openlayers-5"], "answers": [{"comments": [{"owner": {"reputation": 549, "user_id": 3557112, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Ucprv.jpg?s=128&g=1", "display_name": "Funn_Bobby", "link": "https://stackoverflow.com/users/3557112/funn-bobby"}, "edited": false, "score": 0, "creation_date": 1552571201, "post_id": 55161528, "comment_id": 97067382, "body": "I&#39;m confused...I didn&#39;t see &quot;extend&quot; in &quot;ol/extent&quot; so I npm installed &quot;ol&quot; again to see if maybe there was an updated version... got &quot;ol@5.3.1&quot;  but I do not have &quot;extend&quot; as a function inside &quot;ol/extent&quot;.  I have &quot;corner&quot; and &quot;relationship&quot;?  Any Ideas on what version I should be using?"}, {"owner": {"reputation": 514, "user_id": 5801610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f723de1a900af558317898d0bcbd122?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5801610/rob"}, "reply_to_user": {"reputation": 549, "user_id": 3557112, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Ucprv.jpg?s=128&g=1", "display_name": "Funn_Bobby", "link": "https://stackoverflow.com/users/3557112/funn-bobby"}, "edited": false, "score": 0, "creation_date": 1552571933, "post_id": 55161528, "comment_id": 97067920, "body": "i am confused too... i just tried ol.extent.extend(extend1, extend2) with ol 5.3.0 from the quickstart guide, it seems to work like intended <a href=\"https://openlayers.org/en/latest/doc/quickstart.html\" rel=\"nofollow noreferrer\">openlayers.org/en/latest/doc/quickstart.html</a>"}, {"owner": {"reputation": 549, "user_id": 3557112, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Ucprv.jpg?s=128&g=1", "display_name": "Funn_Bobby", "link": "https://stackoverflow.com/users/3557112/funn-bobby"}, "edited": false, "score": 0, "creation_date": 1552574923, "post_id": 55161528, "comment_id": 97070193, "body": "Okay, I think it&#39;s in how this gets imported.  In node_modules I have folder ol and under that I have a folder named &quot;extent&quot; and also a .js file named &quot;extent.js&quot; if I import &quot;ol/extent&quot; it points at the folder...not sure how to get it to point at the .js file...maybe just add the &quot;.js&quot;?"}, {"owner": {"reputation": 514, "user_id": 5801610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f723de1a900af558317898d0bcbd122?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5801610/rob"}, "reply_to_user": {"reputation": 549, "user_id": 3557112, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Ucprv.jpg?s=128&g=1", "display_name": "Funn_Bobby", "link": "https://stackoverflow.com/users/3557112/funn-bobby"}, "edited": false, "score": 0, "creation_date": 1552650189, "post_id": 55161528, "comment_id": 97101510, "body": "do you still get the error, also with imports? extend is not a method of extent anymore, it&#39;s more or less a standalone function"}, {"owner": {"reputation": 549, "user_id": 3557112, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Ucprv.jpg?s=128&g=1", "display_name": "Funn_Bobby", "link": "https://stackoverflow.com/users/3557112/funn-bobby"}, "edited": false, "score": 0, "creation_date": 1552678443, "post_id": 55161528, "comment_id": 97117371, "body": "I can&#39;t figure out how to use the extent.js file"}], "tags": [], "owner": {"reputation": 514, "user_id": 5801610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f723de1a900af558317898d0bcbd122?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5801610/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1552563391, "creation_date": 1552563391, "answer_id": 55161528, "question_id": 55150645, "link": "https://stackoverflow.com/questions/55150645/openlayers-4-extent-extend-replacement/55161528#55161528", "title": "OpenLayers 4 extent.extend replacement", "body": "<p>i believe the function is still there, only the syntax has changed:</p>\n\n<pre><code>import {extend} from 'ol/extent';\n\nconst largeExtent = extend(extent1, extent2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 210, "user_id": 3415601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5af3cb408344c559e13f4598a7565d4a?s=128&d=identicon&r=PG", "display_name": "BStone", "link": "https://stackoverflow.com/users/3415601/bstone"}, "is_accepted": false, "score": 0, "last_activity_date": 1596017544, "creation_date": 1596017544, "answer_id": 63151277, "question_id": 55150645, "link": "https://stackoverflow.com/questions/55150645/openlayers-4-extent-extend-replacement/63151277#63151277", "title": "OpenLayers 4 extent.extend replacement", "body": "<p>I'm using React, typescript and OL4 and found this works for me</p>\n<pre><code>import extent from 'ol/extent';\n\nconst combinedExtent = extent.extend(&lt;layer1&gt;,&lt;layer2&gt;);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11199499, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hdI3UIyDlgs/AAAAAAAAAAI/AAAAAAAADOk/NggK7jmpZjQ/photo.jpg?sz=128", "display_name": "Robert Vogt", "link": "https://stackoverflow.com/users/11199499/robert-vogt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1596017544, "creation_date": 1552508795, "question_id": 55150645, "link": "https://stackoverflow.com/questions/55150645/openlayers-4-extent-extend-replacement", "title": "OpenLayers 4 extent.extend replacement", "body": "<p>I am moving code from OpenLayers 3 to OpenLayers 4 (typescript)</p>\n\n<p>I had this piece of code that would extend my extent so that all vector shapes I drew would be visible when the map loaded...</p>\n\n<pre><code>angular.forEach(webMapValues.vectorFieldLayer, function (Field, key) \n{\nwebMapValues.mapObj.addLayer(Field);\nwebMapValues.extent = Field.getSource().getExtent();\nwebMapValues.totalExtent = ol.extent.extend(webMapValues.extent, \nwebMapValues.totalExtent);\n})\n</code></pre>\n\n<p>in the above \"ol.extent.extend\" performed the magic for me and in OpenLayers 4 (typescript) I haven't been able to find the equivalent?</p>\n\n<p>Any help is greatly appreciated!</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "is_accepted": false, "score": 1, "last_activity_date": 1552507979, "creation_date": 1552507979, "answer_id": 55150468, "question_id": 55150016, "link": "https://stackoverflow.com/questions/55150016/loading-external-javascript-dynamically-for-angular-component-and-firing-window/55150468#55150468", "title": "Loading External Javascript Dynamically for Angular Component and firing window.load", "body": "<p>You'll have to fire the <code>window.load</code> event after you load the script.  The only problem is this might have side effects from scripts that bind to this event and (rightly) do anticipate the event occurring multiple times.</p>\n\n<pre><code>const evt = document.createEvent('Event');  \nevt.initEvent('load', true, true);  \nwindow.dispatchEvent(evt);\n</code></pre>\n\n<p>Alternatively and since you seem to have intimate knowledge on how this script works, you might consider recreating the code the occurs after the window loads.  This should mitigate the side effects caused by re-firing the load event.</p>\n\n<p>Either solution is hacky.  Probably the best solution is to consider using a different component.  One that doesn't have dependencies on other frameworks or was written for Angular.</p>\n"}], "owner": {"reputation": 61, "user_id": 522048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85c12498b79c63f8a7f410b8de7a59b?s=128&d=identicon&r=PG", "display_name": "user522048", "link": "https://stackoverflow.com/users/522048/user522048"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558565687, "creation_date": 1552505988, "last_edit_date": 1558565687, "question_id": 55150016, "link": "https://stackoverflow.com/questions/55150016/loading-external-javascript-dynamically-for-angular-component-and-firing-window", "title": "Loading External Javascript Dynamically for Angular Component and firing window.load", "body": "<p>I have an external javascript file that I only want to be included on a particular component, so I am loading it dynamically. <a href=\"https://stackoverflow.com/questions/44204417/dynamically-load-external-javascript-file-from-angular-component/44276683#44276683)\">This answer</a> describes how to do that.</p>\n\n<p>However, the javscript file I'm using does some stuff on window.load:</p>\n\n<pre><code>$(window).on('load', function() {\n    //Some logic\n});\n</code></pre>\n\n<p>Because I'm loading this script dynamically for a specific component, this logic is never firing because the load event fired long before the script was loaded. How can I execute this logic after I've loaded the script?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1744, "user_id": 7391435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d058b609bd442312c037a35eaf52467a?s=128&d=identicon&r=PG&f=1", "display_name": "Josef Kati\u010d", "link": "https://stackoverflow.com/users/7391435/josef-kati%c4%8d"}, "edited": false, "score": 0, "creation_date": 1552507578, "post_id": 55150010, "comment_id": 97041052, "body": "Could you please add here some code example?"}, {"owner": {"reputation": 350, "user_id": 3299510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LjYFL.jpg?s=128&g=1", "display_name": "1Bladesforhire", "link": "https://stackoverflow.com/users/3299510/1bladesforhire"}, "reply_to_user": {"reputation": 1744, "user_id": 7391435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d058b609bd442312c037a35eaf52467a?s=128&d=identicon&r=PG&f=1", "display_name": "Josef Kati\u010d", "link": "https://stackoverflow.com/users/7391435/josef-kati%c4%8d"}, "edited": false, "score": 0, "creation_date": 1552509437, "post_id": 55150010, "comment_id": 97041903, "body": "Sure. I&#39;ve tried string  and String."}], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 3299510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LjYFL.jpg?s=128&g=1", "display_name": "1Bladesforhire", "link": "https://stackoverflow.com/users/3299510/1bladesforhire"}, "edited": false, "score": 0, "creation_date": 1552510844, "post_id": 55151071, "comment_id": 97042573, "body": "so create an array of possible urls locally and check whether the env. is production or dev?"}, {"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "reply_to_user": {"reputation": 350, "user_id": 3299510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LjYFL.jpg?s=128&g=1", "display_name": "1Bladesforhire", "link": "https://stackoverflow.com/users/3299510/1bladesforhire"}, "edited": false, "score": 0, "creation_date": 1552511257, "post_id": 55151071, "comment_id": 97042752, "body": "No, you can&#39;t import from arrays either. Import module by module into separate identifiers/variables"}, {"owner": {"reputation": 350, "user_id": 3299510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LjYFL.jpg?s=128&g=1", "display_name": "1Bladesforhire", "link": "https://stackoverflow.com/users/3299510/1bladesforhire"}, "edited": false, "score": 0, "creation_date": 1552511694, "post_id": 55151071, "comment_id": 97042931, "body": "so set json_data_dev = import from &#39;dev/file/url&#39;; Then if(env.value=dev){}"}, {"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "reply_to_user": {"reputation": 350, "user_id": 3299510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LjYFL.jpg?s=128&g=1", "display_name": "1Bladesforhire", "link": "https://stackoverflow.com/users/3299510/1bladesforhire"}, "edited": false, "score": 0, "creation_date": 1552511735, "post_id": 55151071, "comment_id": 97042946, "body": "@1Bladesforhire yes, along these lines, I&#39;ll update the answer."}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "edited": false, "score": 0, "creation_date": 1552519531, "post_id": 55151071, "comment_id": 97045655, "body": "With angular beta 8 and &quot;module&quot;: &quot;esnext&quot; you can use the dynamic <code>import()</code>"}], "tags": [], "owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "is_accepted": true, "score": 2, "last_activity_date": 1552511845, "last_edit_date": 1552511845, "creation_date": 1552510628, "answer_id": 55151071, "question_id": 55150010, "link": "https://stackoverflow.com/questions/55150010/angular-7-environment-variables-string-literal-expected/55151071#55151071", "title": "Angular 7 environment variables string literal expected", "body": "<p>Can't import a module defined in a variable. That's why it explains a string token.</p>\n\n<p>Instead of loading modules in a dynamic fashion, load possible modules and use a condition to use the specific data you need for a given environment.</p>\n\n<pre><code>import { environment} from '../environments/environment';\nimport dev from 'path/to/dev/file';\nimport prod from 'path/to/prod/file';\n\nconst json_data = environment.production ? prod : dev;\n</code></pre>\n"}], "owner": {"reputation": 350, "user_id": 3299510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LjYFL.jpg?s=128&g=1", "display_name": "1Bladesforhire", "link": "https://stackoverflow.com/users/3299510/1bladesforhire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 1, "accepted_answer_id": 55151071, "answer_count": 1, "score": -2, "last_activity_date": 1552511845, "creation_date": 1552505931, "last_edit_date": 1552509379, "question_id": 55150010, "link": "https://stackoverflow.com/questions/55150010/angular-7-environment-variables-string-literal-expected", "title": "Angular 7 environment variables string literal expected", "body": "<p>I have different paths for staging/production that I would like to keep in environment.ts and envornment.prod.ts per the documentation: <a href=\"https://angular.io/guide/build#configuring-application-environments\" rel=\"nofollow noreferrer\">configuring-application-environment</a>. I have a relative path for the file I want to access and use it works fine if I just type it in: <code>import json_data from '../../folder/file.json'</code> When I try to use the same path from the environment file I get an error TS1141: String literal expected. I can console.log(environment.path) and I get the same path without quotes <code>../../folder/file.json;</code> </p>\n\n<p>I've tried using .toString() and <code>\n`${environment.path}`</code> I've also tried escaping ' so that the value prints the same <code>'../../folder/file.json'</code> </p>\n\n<p>I have also tried setting the value to string when declaring it <code>const url: String = environment.path</code> I'm using this inside a mock-data.ts file and using to generate the data I need for the app. </p>\n\n<p>environment.ts</p>\n\n<pre><code>export const environment = {\n  production: false,\n  all_hosts_url: '\\'../../nodeServer/s/output/hosts.json\\'',\n  connections_url: '../assets/data/connections.json',\n  DOMAINS_URL: '../assets/data/domains.json'\n};\n</code></pre>\n\n<p>mock-data.ts</p>\n\n<pre><code>import { environment} from '../environments/environment';\n\n\nconst _all_hosts_url: String = environment.all_hosts_url;\nconsole.log(_all_hosts_url);\n\n\n import json_data from all_hosts_url;\n</code></pre>\n"}, {"tags": ["javascript", "json", "typescript", "iteration", "reformatting"], "comments": [{"owner": {"reputation": 678, "user_id": 3403247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c9a8a9911653c3fefa614ae225f442?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Ely", "link": "https://stackoverflow.com/users/3403247/bruno-ely"}, "edited": false, "score": 0, "creation_date": 1552506170, "post_id": 55149937, "comment_id": 97040424, "body": "So you always receive it in the same input format and want to transform it to the same output format?"}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1552506850, "post_id": 55149937, "comment_id": 97040734, "body": "The first option is imo a better structure.  The reason why?  Unless you know that &quot;specifiers&quot; contains &quot;Brand ID&quot; and &quot;Program ID&quot; properties ahead of time (similar to how you know that &quot;document&quot; contains &quot;querySelector&quot; and &quot;getElementById&quot; methods), you will have to loop over the object&#39;s properties, in which case you might as well have used an array.  No accounting for requirements of APIs, though."}], "answers": [{"tags": [], "owner": {"reputation": 20977, "user_id": 2518231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ea4d08629a1d5ce591b415bdb5cd365?s=128&d=identicon&r=PG", "display_name": "Matthew Herbst", "link": "https://stackoverflow.com/users/2518231/matthew-herbst"}, "is_accepted": false, "score": 0, "last_activity_date": 1552506025, "creation_date": 1552506025, "answer_id": 55150026, "question_id": 55149937, "link": "https://stackoverflow.com/questions/55149937/reformat-existing-json-into-new-json-using-javascript-typescript/55150026#55150026", "title": "Reformat Existing JSON into new JSON using Javascript/Typescript", "body": "<p>Pretty straightforward with a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">reduce</a>:</p>\n\n<pre><code>const formattedSpecifiers = existingJSON.specifiers.reduce((newSpecifiers, specifier) =&gt; {\n  newSpecifiers[specifier.label] = {\n      [specifier.type]: {\n        type: specifier.type,\n        value: specifier.value,\n      },\n    };\n  };\n\n  return newSpecifiers;\n}, {});\n\nconst newJSON = { specifiers: formattedSpecifiers };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 678, "user_id": 3403247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c9a8a9911653c3fefa614ae225f442?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Ely", "link": "https://stackoverflow.com/users/3403247/bruno-ely"}, "edited": false, "score": 0, "creation_date": 1552506463, "post_id": 55150097, "comment_id": 97040545, "body": "Why not <code>map</code> instead of reduce?"}, {"owner": {"reputation": 821, "user_id": 11189928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bbdb0b3bd4b96258357e0ccc43495bf?s=128&d=identicon&r=PG", "display_name": "AlexOwl", "link": "https://stackoverflow.com/users/11189928/alexowl"}, "reply_to_user": {"reputation": 678, "user_id": 3403247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c9a8a9911653c3fefa614ae225f442?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Ely", "link": "https://stackoverflow.com/users/3403247/bruno-ely"}, "edited": false, "score": 0, "creation_date": 1552506554, "post_id": 55150097, "comment_id": 97040580, "body": "@BrunoEly map transform childs of array and returns new array (with transformed childs), but OP needs an object instead of an array"}, {"owner": {"reputation": 678, "user_id": 3403247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c9a8a9911653c3fefa614ae225f442?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Ely", "link": "https://stackoverflow.com/users/3403247/bruno-ely"}, "edited": false, "score": 0, "creation_date": 1552506673, "post_id": 55150097, "comment_id": 97040633, "body": "You&#39;re right, for a second I thought <code>specifiers</code> was an array in the output"}], "tags": [], "owner": {"reputation": 821, "user_id": 11189928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bbdb0b3bd4b96258357e0ccc43495bf?s=128&d=identicon&r=PG", "display_name": "AlexOwl", "link": "https://stackoverflow.com/users/11189928/alexowl"}, "is_accepted": true, "score": 3, "last_activity_date": 1552506327, "creation_date": 1552506327, "answer_id": 55150097, "question_id": 55149937, "link": "https://stackoverflow.com/questions/55149937/reformat-existing-json-into-new-json-using-javascript-typescript/55150097#55150097", "title": "Reformat Existing JSON into new JSON using Javascript/Typescript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function tranform({specifiers}) {\r\n  return { specifiers: specifiers.reduce((obj, {label, type, value}) =&gt; ({...obj, [label]: { [type]: { type, value } } }), {}) }\r\n}\r\n\r\nconst json = {\r\n    \"specifiers\": [{\r\n        \"value\": \"test\",\r\n        \"type\": \"text\",\r\n        \"label\": \"Brand ID\"\r\n    }, {\r\n        \"value\": \"test\",\r\n        \"type\": \"text\",\r\n        \"label\": \"Program ID\"\r\n    }]\r\n}\r\n\r\nconsole.log(tranform(json))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 10541252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4115d2be821c380675d770ffdb7c84d0?s=128&d=identicon&r=PG&f=1", "display_name": "Ajeetesh Roy", "link": "https://stackoverflow.com/users/10541252/ajeetesh-roy"}, "is_accepted": false, "score": 0, "last_activity_date": 1552506910, "creation_date": 1552506910, "answer_id": 55150222, "question_id": 55149937, "link": "https://stackoverflow.com/questions/55149937/reformat-existing-json-into-new-json-using-javascript-typescript/55150222#55150222", "title": "Reformat Existing JSON into new JSON using Javascript/Typescript", "body": "<p>you can use #Array.reduce. snippet below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let input = {\r\n  \"specifiers\": [{\r\n    \"value\": \"test\",\r\n    \"type\": \"text\",\r\n    \"label\": \"Brand ID\"\r\n  }, {\r\n    \"value\": \"test\",\r\n    \"type\": \"text\",\r\n    \"label\": \"Program ID\"\r\n  }]\r\n}\r\nconst res = input.specifiers.reduce((res, obj) =&gt; {\r\n  const {\r\n    label,\r\n    type,\r\n    value\r\n  } = obj\r\n  res[label] = {};\r\n  res[label][type] = {\r\n    value,\r\n    type\r\n  };\r\n  return res;\r\n}, {});\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 165, "user_id": 10659837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04de21a65ce547d5315794679039c416?s=128&d=identicon&r=PG&f=1", "display_name": "Jack N", "link": "https://stackoverflow.com/users/10659837/jack-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 55150097, "answer_count": 3, "score": 0, "last_activity_date": 1552506910, "creation_date": 1552505653, "last_edit_date": 1552506086, "question_id": 55149937, "link": "https://stackoverflow.com/questions/55149937/reformat-existing-json-into-new-json-using-javascript-typescript", "title": "Reformat Existing JSON into new JSON using Javascript/Typescript", "body": "<p>I currently have an existing JSON that I want to change/reformat into a new JSON to be able to be used in an external service. The format is a bit complicated but I can't change it, so I have to edit my existing JSON. to match my desired output. </p>\n\n<p><strong>Existing JSON:</strong></p>\n\n<pre><code>{\n    \"specifiers\": [{\n        \"value\": \"test\",\n        \"type\": \"text\",\n        \"label\": \"Brand ID\"\n    }, {\n        \"value\": \"test\",\n        \"type\": \"text\",\n        \"label\": \"Program ID\"\n    }]\n}\n</code></pre>\n\n<p><strong>Desired Output:</strong></p>\n\n<pre><code>\n{\n    \"specifiers\": {\n        \"Brand ID\": {\n            \"text\": {\n                \"value\": \"test\",\n                \"type\": \"text\"\n            }\n        },\n\n        \"Program ID\": {\n            \"text\": {\n                \"value\": \"test\",\n                \"type\": \"text\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I've tried iterating through the existing JSON using loops, but I don't really know how to format my loops to use the values as the keys? I'm guessing that I might have to use Object.keys or Object.values, but I'm not sure how to get a specific value for a specific key.</p>\n\n<p><strong>Example Format:</strong></p>\n\n<pre><code>        \"[label]\": {\n            \"[type]\": {\n                \"value\": [value],\n                \"type\": [type]\n            }\n        }\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 5913291, "user_type": "registered", "profile_image": "https://graph.facebook.com/933649626683555/picture?type=large", "display_name": "Mihaylov", "link": "https://stackoverflow.com/users/5913291/mihaylov"}, "is_accepted": false, "score": 0, "last_activity_date": 1552506003, "creation_date": 1552506003, "answer_id": 55150019, "question_id": 55149623, "link": "https://stackoverflow.com/questions/55149623/expansion-effect-in-navbar/55150019#55150019", "title": "Expansion effect in navbar", "body": "<p>Your code is not enough to evaluate your problem . Generally in Angular and any other web language you would need to explain your css very good . In that case I would propose a wrapper element : </p>\n\n<pre><code>&lt;div class=\"wrapper\"&gt;\n  &lt;div class=\"ride-up\"&gt;\n&lt;div class=\"ride-up-element\"&gt; Some text here &lt;/div&gt;\n&lt;/div&gt;\n &lt;/div\n</code></pre>\n\n<p>And then the CSS  : </p>\n\n<pre><code>.wrapper {\ndisplay : flex ; \nflex-direction : row/column ; \nwidth : you choose it ;\nheight : as well : \nother-options : also you choose; \n}\n.ride-up {\nwidth : you choose it ;\nheight : as well : \n}\n.ride-up:hover {\nsome css goes here ....\n}\n.ride-up-element {\nsome other css goes here....\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10916807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552506003, "creation_date": 1552504406, "last_edit_date": 1552504559, "question_id": 55149623, "link": "https://stackoverflow.com/questions/55149623/expansion-effect-in-navbar", "title": "Expansion effect in navbar", "body": "<p>I'm trying to make an expansion effect in my navbar using angular.</p>\n\n<p>I need when I click in \"mostrar informa\u00e7\u00f5es\" the content must ride up.</p>\n\n<p>The problem is that the superior part of my footer is not following the effect.</p>\n\n<p>I try something like:</p>\n\n<pre><code>&lt;footer class=\"page-footer font-small footer-fundo-cinza\"&gt;\n   &lt;div class=\"container\"&gt;\n      &lt;div class=\"row pt-3\"&gt;\n         &lt;div class=\"col-md-4\"&gt;\n            &lt;img src=\"../../../assets/estilomotocar-rodape.png\" class=\"img-responsive img-fluid\"&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div [@fadeInUpDown]=\"mostrar_informacoes\" [@statusDisplay]=\"mostrar_informacoes\" class=\"row\"&gt;\n   &lt;div class=\"container\"&gt;\n      &lt;div class=\"row\"&gt;\n         &lt;div class=\"col-md-12\"&gt;\n            &lt;hr&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/footer&gt;\n</code></pre>\n\n<p><strong>My animations:</strong></p>\n\n<pre><code>export const statusDisplay =\n\n    trigger('statusDisplay', [\n        state('aberto',  style({ display: 'block' })),\n        state('fechado', style({ display: 'none'  })),\n        transition('fechado =&gt; aberto', animate('0ms ease')),\n        transition('aberto =&gt; fechado', animate('0ms 200ms ease'))\n    ])\n\n\nexport const fadeInUpDown =\n\n    trigger('fadeInUpDown', [\n        state('fechado', style({\n            transform: 'translate3d(0,100%,0)'\n        })),\n        state('aberto', style({\n            transform: 'translate3d(0,0,0)'\n        })),\n        transition('fechado &lt;=&gt; aberto', animate('400ms ease'))\n    ])\n</code></pre>\n\n<p>If I put my animation direct in my footer the effect work but the translate3d make my nav go out the page, making a scroll.</p>\n\n<p>My CSS:</p>\n\n<pre><code> footer{\n   position: absolute;\n   bottom: 0;\n   width: 100%;\n }\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1552502964, "post_id": 55149221, "comment_id": 97038871, "body": "Can you add an example of how it&#39;s being used/called?"}, {"owner": {"reputation": 658, "user_id": 2843172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c8ae2f7e942c1deea7da8b4a6a8e254?s=128&d=identicon&r=PG&f=1", "display_name": "Clouse24", "link": "https://stackoverflow.com/users/2843172/clouse24"}, "reply_to_user": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1552503214, "post_id": 55149221, "comment_id": 97039015, "body": "sure @jmargolisvt - I updated the question with an example of each implementation"}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 2843172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c8ae2f7e942c1deea7da8b4a6a8e254?s=128&d=identicon&r=PG&f=1", "display_name": "Clouse24", "link": "https://stackoverflow.com/users/2843172/clouse24"}, "edited": false, "score": 0, "creation_date": 1552516971, "post_id": 55152202, "comment_id": 97044926, "body": "Thanks...this was my conclusion as well, was just curious if I was missing something"}, {"owner": {"reputation": 4644, "user_id": 4850646, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WvJfy.jpg?s=128&g=1", "display_name": "Lucas Basquerotto", "link": "https://stackoverflow.com/users/4850646/lucas-basquerotto"}, "edited": false, "score": 0, "creation_date": 1599838073, "post_id": 55152202, "comment_id": 112908295, "body": "The problem I see with this approach is that auto import features became messy, because you could end up with functions that don&#39;t have a meaningful name if not in the context (for example, a <code>get()</code> method, if you start with <code>get</code> you might end up with a lot of other results, but with <code>HttpUtil.get()</code> you can easily autoimport <code>HttpUtil</code> and you can autocomplete with <code>get()</code> easily, assuming your editor has autoimport features). <b>The class acts as a namespace in this case</b>. The downside is that you probably won&#39;t benefit from <b>treeshaking</b>."}], "tags": [], "owner": {"reputation": 964, "user_id": 10315025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/055ebeeddf60ec2f1d1e953b944175cd?s=128&d=identicon&r=PG&f=1", "display_name": "Jclangst", "link": "https://stackoverflow.com/users/10315025/jclangst"}, "is_accepted": true, "score": 13, "last_activity_date": 1552516658, "creation_date": 1552516658, "answer_id": 55152202, "question_id": 55149221, "link": "https://stackoverflow.com/questions/55149221/class-with-static-methods-vs-exported-functions-typescript/55152202#55152202", "title": "Class with static methods vs exported functions typescript", "body": "<p>Functionally, both implementations will produce the same result with the only difference being that for static methods the function is attached to the class' prototype. If you don't actually need that behavior (unlikely that you do), I'd keep you static methods as separate functions as this is better for tree-shaking and code-splitting (unless you have a LOT of static methods though, these will be only minor gains). In practice, I find that static methods usually only appear for two reasons: (1) whoever wrote the code is used to Java and (2) some IDEs present warnings that you should mark methods as static if they don't use instance variables.</p>\n\n<p>If you just want that ability to namespace a bunch of static methods, you can still do so by exporting an object with all of the individual functions attached.</p>\n"}], "owner": {"reputation": 658, "user_id": 2843172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c8ae2f7e942c1deea7da8b4a6a8e254?s=128&d=identicon&r=PG&f=1", "display_name": "Clouse24", "link": "https://stackoverflow.com/users/2843172/clouse24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3139, "favorite_count": 1, "accepted_answer_id": 55152202, "answer_count": 1, "score": 11, "last_activity_date": 1552516658, "creation_date": 1552502738, "last_edit_date": 1552503189, "question_id": 55149221, "link": "https://stackoverflow.com/questions/55149221/class-with-static-methods-vs-exported-functions-typescript", "title": "Class with static methods vs exported functions typescript", "body": "<p>I've been trying to research this but can't see to find any recommendations. I've inherited a code base where the team is using classes with static methods instead of functions for helper methods. I've never seen this approach taken and trying to decide if I should have them go back and create functions out of them. I feel like this is unclean and bloats imports since you're importing the entire class instead of just the function you're intending?</p>\n\n<p>Is one approach better than the other?  </p>\n\n<p>For example's sake in case I'm not being clear:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    export class StringUtil {\n      public static alterString(str: string) {\n        return alteredString;\n      }\n    }\n</code></pre>\n\n<p>vs</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    export function alterString(str: string) {\n      return alteredString;\n    }\n</code></pre>\n\n<p>This would then be used like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { StringUtil } from '../StringUtil';\n\ngetString(str: string) {\n  return StringUtil.alterString(str);\n}\n</code></pre>\n\n<p>vs </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { alterString } from '../helper-functions';\n\ngetString(str: string) {\n  return alterString(str);\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 77, "user_id": 2183855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e77562b054ed826b73e0a41791a348d?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/2183855/michal"}, "edited": false, "score": 0, "creation_date": 1552503383, "post_id": 55149165, "comment_id": 97039092, "body": "have you tried removing <code>async</code> from <code>beforeEach</code> and also from test ?"}, {"owner": {"reputation": 528, "user_id": 8296499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TkRe.jpg?s=128&g=1", "display_name": "Anil Kumar Reddy A", "link": "https://stackoverflow.com/users/8296499/anil-kumar-reddy-a"}, "reply_to_user": {"reputation": 77, "user_id": 2183855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e77562b054ed826b73e0a41791a348d?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/2183855/michal"}, "edited": false, "score": 0, "creation_date": 1552504739, "post_id": 55149165, "comment_id": 97039746, "body": "@Michal yeah, I tried, but still not working:("}], "answers": [{"tags": [], "owner": {"reputation": 662, "user_id": 7727374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uYz34.jpg?s=128&g=1", "display_name": "Jack_b_321", "link": "https://stackoverflow.com/users/7727374/jack-b-321"}, "is_accepted": true, "score": 3, "last_activity_date": 1587899847, "last_edit_date": 1587899847, "creation_date": 1552510721, "answer_id": 55151091, "question_id": 55149165, "link": "https://stackoverflow.com/questions/55149165/cannot-read-property-of-undefined-ngoninit-getdata-angular-unit-testing-jasm/55151091#55151091", "title": "Cannot read property of undefined &#39;ngOnInit&#39; &#39;getData&#39;-Angular-Unit testing-jasmine", "body": "<p>You're close but not quite there! </p>\n\n<ol>\n<li>Your TestBed configuration must not be nested in a describe block that other describe blocks cannot access</li>\n<li>When using a mock service use the term useClass: instead of useValue:</li>\n<li>There is no need to spyOn the service method when you are mocking out your service</li>\n<li>Instead of testing your ngOnInit test your getData method to make sure it sets the data attribute on your component correctly. This is because you don't know when ngOnInit has finished running your asynchronous code</li>\n<li>As getData is asynchronous pass the done() callback into your it block this will allow you to notify the test when asynchronous code should be completed</li>\n</ol>\n\n<p>Also, it seems like you're possibly using an old version of angular as your RXJS version is before version 6 because your code is using Observable.of() rather than the new syntax which is just of(). Maybe consider upgrading!</p>\n\n<p>Hope this explanation helped! :)</p>\n\n<p>The fixed test code is below:</p>\n\n<pre><code>class MockMyService {\n  public data: Data[];\n  public getData(): Observable&lt;Data[]&gt; {\n    this.data = results;\n    return Observable.of(this.data);\n  }\n}\n\ndescribe('HomeComponent', () =&gt; {\n  let component: HomeComponent;\n  let fixture: ComponentFixture&lt;HomeComponent&gt;;\n  let dataService: DataService;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [HomeComponent],\n      providers: [\n        {\n          provide: DataService,\n          useClass: MockMyService\n        }\n      ],\n      imports: [HttpClientModule],\n      schemas: [CUSTOM_ELEMENTS_SCHEMA],\n    }).compileComponents();\n    fixture = TestBed.createComponent(HomeComponent);\n    component = fixture.componentInstance;\n    dataService = TestBed.get(DataService);\n    fixture.detectChanges();\n  });\n\n  describe('Given the component is loaded', () =&gt; {\n    describe('When getData returns mock data', () =&gt; {\n      it('Then the data attribute has a length of 2', (done) =&gt; {\n        dataService.getData().subscribe(() =&gt; {\n          expect(component.data.length).toEqual(2);\n          done();\n        });\n      });\n    });\n  });\n});\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/IlVze.png\"/></p>\n"}], "owner": {"reputation": 528, "user_id": 8296499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TkRe.jpg?s=128&g=1", "display_name": "Anil Kumar Reddy A", "link": "https://stackoverflow.com/users/8296499/anil-kumar-reddy-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2994, "favorite_count": 0, "accepted_answer_id": 55151091, "answer_count": 1, "score": 1, "last_activity_date": 1587899847, "creation_date": 1552502508, "question_id": 55149165, "link": "https://stackoverflow.com/questions/55149165/cannot-read-property-of-undefined-ngoninit-getdata-angular-unit-testing-jasm", "title": "Cannot read property of undefined &#39;ngOnInit&#39; &#39;getData&#39;-Angular-Unit testing-jasmine", "body": "<p>I'm trying of write a unit test for my component file which is subscribing to a method in service layer</p>\n\n<p>Homecomponent.ts</p>\n\n<pre><code>import { Data } from './../model/data.model';\nimport { DataService } from './../services/data.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n})\nexport class HomeComponent implements OnInit {\n  data: Data[];\n  constructor(private service: DataService) {}\n\n  ngOnInit() {\n    this.getData();\n  }\n  getData() {\n    this.service.getData().subscribe(\n      (data) =&gt; {\n        console.log(data);\n        this.data = data;\n      },\n      (err) =&gt; {\n        console.log(err);\n      },\n    );\n  }\n}\n</code></pre>\n\n<p>HomeComponent.spec.ts</p>\n\n<pre><code>import { Data } from './../model/data.model';\nimport { HttpClientModule } from '@angular/common/http';\nimport { HomeComponent } from './home.component';\nimport { ComponentFixture, async, TestBed } from '@angular/core/testing';\nimport { DataService } from '../services/data.service';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/observable/of';\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { results } from '../model/home';\n\nclass MockMyService {\n  public data: Data[];\n  public getData(): Observable&lt;Data[]&gt; {\n    this.data = results;\n    return Observable.of(this.data);\n  }\n}\n\ndescribe('HomeComponent', () =&gt; {\n  let component: HomeComponent;\n  let fixture: ComponentFixture&lt;HomeComponent&gt;;\n  let mockSomeService: MockMyService;\n  describe('Async', () =&gt; {\n    beforeEach(async(() =&gt; {\n      TestBed.configureTestingModule({\n        declarations: [HomeComponent],\n        providers: [\n          {\n            provide: DataService,\n            useValue: mockSomeService,\n          },\n        ],\n        imports: [HttpClientModule],\n        schemas: [CUSTOM_ELEMENTS_SCHEMA],\n      });\n      TestBed.compileComponents();\n      fixture = TestBed.createComponent(HomeComponent);\n      component = fixture.componentInstance;\n      fixture.detectChanges();\n      mockSomeService = fixture.debugElement.injector.get(DataService);\n      spyOn(mockSomeService, 'getData').and.returnValue(Observable.of(results));\n      component.ngOnInit();\n      fixture.detectChanges();\n    }));\n  });\n\n  // afterEach(() =&gt; {\n  //   fixture = undefined;\n  // });\n\n  it('method should be called', async () =&gt; {\n    component.ngOnInit();\n    mockSomeService.getData();\n    expect(fixture.debugElement.componentInstance.data.length).toEqual(2);\n  });\n});\n</code></pre>\n\n<p>if I use \n component.ngOnInit();\nit is giving error as</p>\n\n<pre><code>TypeError: Cannot read property 'ngOnInit' of undefined\n</code></pre>\n\n<p>if I'm not using component.ngOnInit()\nit is giving me error as</p>\n\n<pre><code>TypeError: Cannot read property 'getData' of undefined\n</code></pre>\n\n<p>How can I overcome this problem?\nThanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552502813, "post_id": 55149216, "comment_id": 97038795, "body": "Let me give this a try real quick.  Did not know about indexers in Typescript/javascript, but I do know of them in C#"}, {"owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552502996, "post_id": 55149216, "comment_id": 97038890, "body": "This still expands all hidden rows, as with my first code block posted."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552503088, "post_id": 55149216, "comment_id": 97038945, "body": "@monstertjie_za - like I said, it is hard to say if it works because I do not know the code in the component. Personally I would prefer options 2 or 3 that I included in the answer."}, {"owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552503563, "post_id": 55149216, "comment_id": 97039176, "body": "3rd option produces: Cannot assign to a reference or variable!  Think safest will be option two."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552503880, "post_id": 55149216, "comment_id": 97039345, "body": "@monstertjie_za - See this <a href=\"https://stackblitz.com/edit/angular-vmamga\" rel=\"nofollow noreferrer\">stackblitz</a> for a working demo of option 3."}, {"owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552504337, "post_id": 55149216, "comment_id": 97039572, "body": "Check myne: <a href=\"https://stackblitz.com/edit/angular-79kvcs?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>  Works in Stackblits, but not in my application, and I literally copied the html over"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552504677, "post_id": 55149216, "comment_id": 97039718, "body": "@monstertjie_za - check that the casing and spelling is the same in your app. Accidentally creating a &quot;new&quot; variable with a mis-type is a common error that is difficult to catch and can easily duplicate that behavior. <a href=\"https://stackblitz.com/edit/angular-u96bex\" rel=\"nofollow noreferrer\">Example stackblitz</a> &lt;= Here I &quot;accidentally&quot; defined it as <code>let sh0wItm = false</code> with a zero."}, {"owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "edited": false, "score": 0, "creation_date": 1552504806, "post_id": 55149216, "comment_id": 97039782, "body": "Thank for your assistance.  I eventually decided to use the second approach."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1552503862, "last_edit_date": 1552503862, "creation_date": 1552502709, "answer_id": 55149216, "question_id": 55149149, "link": "https://stackoverflow.com/questions/55149149/create-unique-variable-name-inside-ngfor/55149216#55149216", "title": "Create unique variable name inside *ngFor", "body": "<pre><code>(click)=\"{{collapse+i}}={{!collapse+i}}\"\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>(click)=\"this[collapse+i] = !this[collapse+i]\"\n</code></pre>\n\n<p>This allows you to use an indexer to obtain the field on the component. If it actually works depends on how you have <code>collapse</code> fields defined on your component. </p>\n\n<hr>\n\n<p>Personally I would prefer extending the type contained in the <code>workQueues</code> array with an additional field.</p>\n\n<pre><code>(click)=\"queue.collapsed = !queue.collapsed\"\n\n...\n\n&lt;tr *ngIf=\"queue.collapsed\"&gt;\n</code></pre>\n\n<hr>\n\n<p>An other alternative is to define a new field in the <code>*ngFor</code>.</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let queue of workQueues; let i = index; let isCollapsed = true\"&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;button (click)=\"isCollapsed = !isCollapsed\"&gt;{{queue.WorkQueueName}}&lt;/button&gt;&lt;/td&gt;\n  &lt;td *ngFor=\"let role of roles\"&gt;\n    &lt;input type=\"checkbox\" /&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr *ngIf=\"!isCollapsed\"&gt;\n  Yay...\n&lt;/tr&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-vmamga\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}], "owner": {"reputation": 5673, "user_id": 6024969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B261u.jpg?s=128&g=1", "display_name": "monstertjie_za", "link": "https://stackoverflow.com/users/6024969/monstertjie-za"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 55149216, "answer_count": 1, "score": 1, "last_activity_date": 1552503862, "creation_date": 1552502456, "question_id": 55149149, "link": "https://stackoverflow.com/questions/55149149/create-unique-variable-name-inside-ngfor", "title": "Create unique variable name inside *ngFor", "body": "<p>I am trying to make a table that, when you click a button, it needs to display the row directly beneath it.</p>\n\n<p>I have had a look at <a href=\"https://stackoverflow.com/questions/42456459/got-interpolation-where-expression-was-expected\">this</a> post, but I could not find an answer from it.</p>\n\n<p>When I have it like below, it works, but the problem is, it displays all other hidden rows since they all share the same <code>collapse variable</code>.</p>\n\n<p>This is the working example, but not 100% correct:</p>\n\n<pre><code>&lt;table&gt;\n&lt;thead&gt;\n  &lt;th&gt;Path out of this queue&lt;/th&gt;\n  &lt;th *ngFor=\"let role of roles\"&gt;{{role.RoleName}}&lt;/th&gt;&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n  &lt;ng-container *ngFor=\"let queue of workQueues; let i = index\"&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;button (click)=\"collapse=!collapse\"&gt;{{queue.WorkQueueName}}&lt;/button&gt;&lt;/td&gt;\n      &lt;td *ngFor=\"let role of roles\"&gt;\n        &lt;input type=\"checkbox\" /&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngIf=\"collapse\"&gt;\n      Yay...\n    &lt;/tr&gt;\n  &lt;/ng-container&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p></p>\n\n<p>I thought I would be able to make the <code>collapse variable</code> unique, by appending the <code>i</code>, which is the <code>index</code>, to it, but then I get the following error:</p>\n\n<blockquote>\n  <p>Parser Error: Got interpolation ({{}}) where expression was expected</p>\n</blockquote>\n\n<p>Here is my attempt:</p>\n\n<pre><code>&lt;table&gt;\n&lt;thead&gt;\n  &lt;th&gt;Path out of this queue&lt;/th&gt;\n  &lt;th *ngFor=\"let role of roles\"&gt;{{role.RoleName}}&lt;/th&gt;&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n  &lt;ng-container *ngFor=\"let queue of workQueues; let i = index\"&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;button (click)=\"{{collapse+i}}={{!collapse+i}}\"&gt;{{queue.WorkQueueName}}&lt;/button&gt;&lt;/td&gt;\n      &lt;td *ngFor=\"let role of roles\"&gt;\n        &lt;input type=\"checkbox\" /&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngIf=\"{{collapse+i}}\"&gt;\n      Yay...\n    &lt;/tr&gt;\n  &lt;/ng-container&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p></p>\n\n<p>Specifically, in my <code>(click)</code> event, how can I make a unique variable that could be used?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 0, "creation_date": 1552501687, "post_id": 55148865, "comment_id": 97038189, "body": "Check out <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">map</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">forEach</a> you should be able to loop through children by nesting these loops"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1552502539, "post_id": 55148865, "comment_id": 97038654, "body": "Could your data also be more deeply nested?  For instance, could your object also contain properties whose values are also objects?  Or will you only have strings and arrays of strings?"}], "answers": [{"comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 17, "user_id": 11198824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d796f55047d0a98c42ade23674108?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/11198824/vicky"}, "edited": false, "score": 0, "creation_date": 1552552259, "post_id": 55148976, "comment_id": 97055068, "body": "@Vicky always happy to help :) you can mark it as correct answer if it helped"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 0, "last_activity_date": 1552503356, "last_edit_date": 1552503356, "creation_date": 1552501800, "answer_id": 55148976, "question_id": 55148865, "link": "https://stackoverflow.com/questions/55148865/i-have-json-from-server-like-this/55148976#55148976", "title": "I have JSON from server like this:", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><strong>reduce.</strong></a></p>\n\n<ul>\n<li>Object.entries gives key and values of each element on arr.</li>\n<li>map through each entry and check whether the value is string or array. add children accordingly.</li>\n<li>Push the values to <code>op</code></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [{\"id\":\"one\",\"state\":\"two\",\"url\":\"www.google.com\",\"childs\":[\"one\",\"two\",\"three\",\"four\"]},{\"id\":\"two\",\"state\":\"three\",\"url\":\"www.yahoo.com\",\"childs\":[\"one\",\"two\",\"three\",\"four\"]}]\r\n\r\nlet op = arr.reduce((op,inp)=&gt;{\r\n  let temp = Object.entries(inp).map(([key,value]) =&gt; ({name:key, children:Array.isArray(value) ? value.map(e=&gt;({name:e})) : ([{name:value}])}))\r\n  op.push(...temp)\r\n  return op\r\n},[])\r\n\r\nconsole.log(op)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1552506008, "creation_date": 1552506008, "answer_id": 55150023, "question_id": 55148865, "link": "https://stackoverflow.com/questions/55148865/i-have-json-from-server-like-this/55150023#55150023", "title": "I have JSON from server like this:", "body": "<p>This function should run on content nested arbitrarily deep:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const is = (T) =&gt; (val) =&gt; val != null &amp;&amp; val.constructor === T || val instanceof T;\r\n\r\nconst transform = (x) =&gt; \r\n  is (Array) (x)\r\n    ? x .map (transform)\r\n    : is (Object) (x)\r\n      ? Object .entries (x) .map (\r\n          ([name, val]) =&gt; ({\r\n            name, \r\n            children: transform(val)\r\n          })\r\n        )\r\n      : {name: x}\r\n\r\n\r\n\r\nconst data = [{id: \"one\", state: \"two\", url: \"www.google.com\", childs: [\"one\", \"two\", \"three\", \"four\"]}, {id: \"two\", state: \"three\", foo: {bar: \"baz\", quz: \"corg\"}, url :\"www.yahoo.com\", childs: [\"one\", \"two\", \"three\", \"four\"]}]\r\n\r\nconsole.log(transform(data)) </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper: {height: 100% !important}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that I added a deeper node on the second value, <code>foo: {bar: 'baz', quz: 'corg'}</code>, and that just continues a little deeper in the output:</p>\n\n<pre><code>    {\n      name: \"foo\",\n      children: [\n        {\n          name: \"bar\",\n          children: {\n            name: \"baz\"\n          }\n        },\n        {\n          name: \"quz\",\n          children: {\n            name: \"corg\"\n          }\n        }\n      ]\n    },\n</code></pre>\n\n<p>The <code>is</code> function is <a href=\"https://github.com/ramda/ramda/blob/v0.26.1/source/is.js#L27-L29\" rel=\"nofollow noreferrer\">borrowed from Ramda</a>.  It simply tests whether a value is a given type.  If desired, we could cache <code>is (Array)</code> and <code>is (Object)</code> as <code>isArray</code> and <code>isObject</code> and replace those calls.</p>\n"}], "owner": {"reputation": 17, "user_id": 11198824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d796f55047d0a98c42ade23674108?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/11198824/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1552506008, "creation_date": 1552501405, "last_edit_date": 1552501763, "question_id": 55148865, "link": "https://stackoverflow.com/questions/55148865/i-have-json-from-server-like-this", "title": "I have JSON from server like this:", "body": "<pre><code>[\n  {\n    \"id\":\"one\",\n    \"state\":\"two\",\n    \"url\":\"www.google.com\",\n    \"childs\":[\n        \"one\",\n        \"two\",\n        \"three\",\n        \"four\"\n    ]\n  },\n  {\n    \"id\":\"two\",\n    \"state\":\"three\",\n    \"url\":\"www.yahoo.com\",\n    \"childs\":[\n        \"one\",\n        \"two\",\n        \"three\",\n        \"four\"\n    ]\n  }\n]\n</code></pre>\n\n<p>Now I want to convert this JSON to </p>\n\n<pre><code>[  \n              {  \n                \"name\":\"id\",\n                \"children\":[  \n                    {  \n                      \"name\":\"one\"\n                    }\n                ]\n              },\n              {  \n                \"name\":\"state\",\n                \"children\":[  \n                    {  \n                      \"name\":\"two\"\n                    }\n                ]\n              },\n              {  \n                \"name\":\"url\",\n                \"children\":[  \n                    {  \n                      \"name\":\"www.google.com\"\n                    }\n                ]\n              },\n              {  \n                \"name\":\"childs\",\n                \"children\":[  \n                    {  \n                      \"name\":\"one\"\n                    },\n                    {  \n                      \"name\":\"two\"\n                    },\n                    {  \n                      \"name\":\"three\"\n                    },\n                    {  \n                      \"name\":\"four\"\n                    }\n                ]\n              }\n\n          ]\n</code></pre>\n\n<p>I am using JS to get this as below:   </p>\n\n<pre><code>buildChildrenNodes() {\n    let arrayOneStrings: Array&lt;object&gt; = [];\n    this.treedata.map((element: any) =&gt; {\n        const sortedData = Object.entries(element);\n        let arrayTwoStrings: Array&lt;object&gt; = [];\n        for (const [key, value] of sortedData) {\n            const twoElement =\n            {\n                name: key,\n                children: [\n                    {\n                        name: value\n                    }\n                ]\n            }\n            arrayTwoStrings.push(twoElement);\n        }\n        const oneElement = {\n            name: element.id,\n            children: arrayTwoStrings\n        };\n        arrayOneStrings.push(oneElement);\n    });\n    this.formattedTreeData = arrayOneStrings;\n};\n</code></pre>\n\n<p>Can Anyone suggest me how we could loop through sub childrens? Thanks in advance</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 0, "creation_date": 1552500811, "post_id": 55148603, "comment_id": 97037699, "body": "Is this a run time check? Do you want to verify at run time if both are not <code>undefined</code>?"}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "reply_to_user": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 0, "creation_date": 1552513172, "post_id": 55148603, "comment_id": 97043607, "body": "@AviadP., no, I want compile-time check. And in runtime I want to verify only one field. Actually I have 9 fields that are either all blank, or all dom elements."}, {"owner": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 0, "creation_date": 1552543835, "post_id": 55148603, "comment_id": 97051513, "body": "If this is a compile time check, then you need nothing else. Your existing function signature will ensure that all arguments ever passed to it will have well defined <code>x</code> and <code>y</code> fields."}], "answers": [{"comments": [{"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1552509958, "post_id": 55148864, "comment_id": 97042138, "body": "I need class. Don&#39;t understand how to use your example with class (it contains compilation error also). Can you give a full example please? By the way, you version with type does NOT work too."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1552521024, "post_id": 55148864, "comment_id": 97046025, "body": "I can&#39;t reproduce your problem, sorry.  As far as I can tell, the above code is a full and working example.    I&#39;ve edited the answer to include a Playground link to show it working.  Do you have <code>--strictNullChecks</code> on?  If not you should enable it.  If so and you still get errors could you explain where they are?"}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1552550851, "post_id": 55148864, "comment_id": 97054377, "body": "For the first code flag really helps. But for the second I see <i>&quot;Cannot find name &#39;C&#39;.&quot;:</i> <a href=\"https://i.stack.imgur.com/jARbb.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/jARbb.png</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1552559524, "post_id": 55148864, "comment_id": 97059518, "body": "You removed the <code>type C =</code> line?  That would be the problem. The type and the value are both needed."}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1552561549, "post_id": 55148864, "comment_id": 97060813, "body": "Ok, understood now. I thought it is an alternative solution, but it was an addition."}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1552561661, "post_id": 55148864, "comment_id": 97060888, "body": "But wait. Seems like I can&#39;t use it inside of the class: <code>this.x &amp;&amp; f(this);</code> is broken."}, {"owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "edited": false, "score": 0, "creation_date": 1552562629, "post_id": 55148864, "comment_id": 97061510, "body": "Ok, solved it: <code>doSmth(this: C) { this.x &amp;&amp; f(this); c.x &amp;&amp; f(c); }</code>."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1552520883, "last_edit_date": 1552520883, "creation_date": 1552501405, "answer_id": 55148864, "question_id": 55148603, "link": "https://stackoverflow.com/questions/55148603/simultaneous-fields/55148864#55148864", "title": "Simultaneous fields", "body": "<p>Your <code>C</code> type is more of a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union</a> than an <code>interface</code> or <code>class</code>: </p>\n\n<pre><code>interface I {\n  x: number\n  y: number\n}\n\ntype C = I | { x?: undefined, y?: undefined }\n\ndeclare function f(obj: I): void;\ndeclare var c: C\n\nc.x &amp;&amp; f(c) // ok\nc.y &amp;&amp; f(c) // ok\nf(c)        // error\n</code></pre>\n\n<p>If you really need a <code>class</code> for the <code>C</code> type you can make a properly-named constructor but will need to <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">assert</a> that it is of the right type, because the compiler can't verify it:</p>\n\n<pre><code>class _C {\n  x?: number;\n  y?: number;\n\n  constructor(); // take no args\n  constructor(x: number, y: number); // or take both x and y args\n  constructor(x?: number, y?: number) {\n    this.x = x;\n    this.y = y;\n  }\n}\n// assert that the _C class makes C instances\nconst C = _C as { new(): C, new(x: number, y: number): C }\n</code></pre>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<hr>\n\n<p>Update: I see that you're having problems with this code for some reason, but I don't know why.  Check out the <a href=\"https://www.typescriptlang.org/play/#src=%2F%2F%20%20note%3A%20turn%20on%20--strictNullChecks%20in%20the%20Options%0A%0Ainterface%20I%20%7B%0A%20%20x%3A%20number%0A%20%20y%3A%20number%0A%7D%0A%0Atype%20C%20%3D%20I%20%7C%20%7B%20x%3F%3A%20undefined%2C%20y%3F%3A%20undefined%20%7D%0A%0Adeclare%20function%20f%28obj%3A%20I%29%3A%20void%3B%0Adeclare%20var%20c%3A%20C%0A%0Ac.x%20%26%26%20f%28c%29%20%2F%2F%20ok%0Ac.y%20%26%26%20f%28c%29%20%2F%2F%20ok%0Af%28c%29%20%20%20%20%20%20%20%20%2F%2F%20error%0A%0Adeclare%20function%20f%28obj%3A%20I%29%3A%20void%3B%0A%0Aclass%20_C%20%7B%0A%20%20x%3F%3A%20number%3B%0A%20%20y%3F%3A%20number%3B%0A%0A%20%20constructor%28%29%3B%20%2F%2F%20take%20no%20args%0A%20%20constructor%28x%3A%20number%2C%20y%3A%20number%29%3B%20%2F%2F%20or%20take%20both%20x%20and%20y%20args%0A%20%20constructor%28x%3F%3A%20number%2C%20y%3F%3A%20number%29%20%7B%0A%20%20%20%20this.x%20%3D%20x%3B%0A%20%20%20%20this.y%20%3D%20y%3B%0A%20%20%7D%0A%7D%0A%2F%2F%20assert%20that%20the%20_C%20class%20makes%20C%20instances%0Aconst%20C%20%3D%20_C%20as%20%7B%20new%28%29%3A%20C%2C%20new%28x%3A%20number%2C%20y%3A%20number%29%3A%20C%20%7D\" rel=\"nofollow noreferrer\">Playground link</a> and remember to turn on <code>--strictNullChecks</code> in the Options.  (After all, you are trying to check against <code>undefined</code> values for <code>x</code> or <code>y</code> as a type guard to determine if <code>C</code> is an <code>I</code> or not... so it's important for the compiler to correctly pay attention to <code>null</code> and <code>undefined</code> values).</p>\n"}], "owner": {"reputation": 14468, "user_id": 4928642, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG", "display_name": "Qwertiy", "link": "https://stackoverflow.com/users/4928642/qwertiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55148864, "answer_count": 1, "score": 0, "last_activity_date": 1552520883, "creation_date": 1552500457, "question_id": 55148603, "link": "https://stackoverflow.com/questions/55148603/simultaneous-fields", "title": "Simultaneous fields", "body": "<p>I want to express in typescript that class has 2 fields and either they both are presented or they both are missing. So I want a check of any of these fields to be enough to consider them both defined.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20I%20%7B%0D%0A%20%20%20%20x%3A%20number%0D%0A%20%20%20%20y%3A%20number%0D%0A%7D%0D%0A%0D%0Aclass%20C%20%7B%0D%0A%20%20%20%20x%3F%3A%20number%20%26%20(this%20is%20I)%0D%0A%20%20%20%20y%3F%3A%20number%20%26%20(this%20is%20I)%0D%0A%7D%0D%0A%0D%0Adeclare%20function%20f(obj%3A%20I)%0D%0A%0D%0Adeclare%20var%20c%3A%20C%0D%0A%0D%0Ac.x%20%26%26%20f(c)%20%2F%2F%20should%20be%20ok%0D%0Ac.y%20%26%26%20f(c)%20%2F%2F%20should%20be%20ok%0D%0Af(c)%20%20%20%20%20%20%20%20%2F%2F%20should%20be%20error\" rel=\"nofollow noreferrer\">Example:</a></p>\n\n<pre><code>interface I {\n    x: number\n    y: number\n}\n\nclass C {\n    x?: number &amp; (this is I)\n    y?: number &amp; (this is I)\n}\n\ndeclare function f(obj: I)\n\ndeclare var c: C\n\nc.x &amp;&amp; f(c) // should be ok\nc.y &amp;&amp; f(c) // should be ok\nf(c)        // should be error\n</code></pre>\n\n<p>But it doesn't work because of</p>\n\n<blockquote>\n  <p>A type predicate is only allowed in return type position for functions and methods.</p>\n</blockquote>\n\n<p>Any solutions?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 6, "last_activity_date": 1552500625, "creation_date": 1552500625, "answer_id": 55148657, "question_id": 55148446, "link": "https://stackoverflow.com/questions/55148446/how-to-constrain-the-keys-of-a-typescript-object-while-inferring-the-values/55148657#55148657", "title": "How to constrain the keys of a TypeScript object while inferring the values?", "body": "<p>Use a helper function to represent the constraint you want to see and then call it?  There is a very small amount of runtime overhead, since it's calling <code>(t =&gt; t)(obj)</code> instead of just using <code>obj</code>.</p>\n\n<pre><code>const asUserPersonaDisplayNames = &lt;\n  S extends string, // allow S to be inferred as a string literal\n  T extends Record&lt;UserPersona, S&gt; &amp; // require keys from UserPersona\n  Record&lt;Exclude&lt;keyof T, UserPersona&gt;, never&gt; // disallow keys not from UserPersona\n&gt;(t: T) =&gt; t\n\nconst userPersonaDisplayNames = asUserPersonaDisplayNames({\n  entrepreneur: \"Entrepreneur\",\n  programmer: \"Programmer\",\n  designer: \"Designer\",\n  product_manager: \"Product Manager\",\n  marketing_sales: \"Marketing &amp; Sales\",\n  customer_support: \"Customer Support\",\n  operations_hr: \"Operations &amp; HR\",\n}); // type has fully string-literal values\n\nconst missing = asUserPersonaDisplayNames({\n  entrepreneur: \"Entrepreneur\",\n  programmer: \"Programmer\",\n  product_manager: \"Product Manager\",\n  marketing_sales: \"Marketing &amp; Sales\",\n  customer_support: \"Customer Support\",\n  operations_hr: \"Operations &amp; HR\",\n}) // error, property \"designer\" is missing\n\nconst extra = asUserPersonaDisplayNames({\n  candlestick_maker: \"Rub a Dub Dub\",\n  entrepreneur: \"Entrepreneur\",\n  programmer: \"Programmer\",\n  designer: \"Designer\",\n  product_manager: \"Product Manager\",\n  marketing_sales: \"Marketing &amp; Sales\",\n  customer_support: \"Customer Support\",\n  operations_hr: \"Operations &amp; HR\",\n}); // error, property \"candlestick_maker\" is extra\n\nconst notString = asUserPersonaDisplayNames({\n  entrepreneur: 25,\n  programmer: \"Programmer\",\n  designer: \"Designer\",\n  product_manager: \"Product Manager\",\n  marketing_sales: \"Marketing &amp; Sales\",\n  customer_support: \"Customer Support\",\n  operations_hr: \"Operations &amp; HR\",\n}); // error, number is not expected\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 14428, "user_id": 1191551, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/97ced8a229689b73b098a542636052e8?s=128&d=identicon&r=PG", "display_name": "Chet", "link": "https://stackoverflow.com/users/1191551/chet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 55148657, "answer_count": 1, "score": 0, "last_activity_date": 1552500625, "creation_date": 1552499911, "question_id": 55148446, "link": "https://stackoverflow.com/questions/55148446/how-to-constrain-the-keys-of-a-typescript-object-while-inferring-the-values", "title": "How to constrain the keys of a TypeScript object while inferring the values?", "body": "<p>Often times, when I have a union of string literals in TypeScript, I want to create a map from the strings to other values. This involved creating a type that doesn't let the values infer which can be annoying when I want to access the value types as well. For example, here's a basic hangup:</p>\n\n<pre><code>type UserPersona =\n    | \"entrepreneur\"\n    | \"programmer\"\n    | \"designer\"\n    | \"product_manager\"\n    | \"marketing_sales\"\n    | \"customer_support\"\n    | \"operations_hr\"\n\n\nconst userPersonaDisplayNames: { [key in UserPersona]: string } = {\n    entrepreneur: \"Entrepreneur\",\n    programmer: \"Programmer\",\n    designer: \"Designer\",\n    product_manager: \"Product Manager\",\n    marketing_sales: \"Marketing &amp; Sales\",\n    customer_support: \"Customer Support\",\n    operations_hr: \"Operations &amp; HR\",\n}\n</code></pre>\n\n<p>The problem here is that the values of <code>userPersonaDisplayNames</code> are type <code>string</code> and not their literal values. </p>\n\n<p>When I leave off the type, the keys and and values are literal types which is great, but the keys are no longer constrained to the union type.</p>\n\n<pre><code>const userPersonaDisplayNames = {\n    entrepreneur: \"Entrepreneur\",\n    programmer: \"Programmer\",\n    designer: \"Designer\",\n    product_manager: \"Product Manager\",\n    marketing_sales: \"Marketing &amp; Sales\",\n    customer_support: \"Customer Support\",\n    operations_hr: \"Operations &amp; HR\",\n}\n</code></pre>\n\n<p>One hack I've discovered is to use extends to assert.</p>\n\n<pre><code>type Assert&lt;A,B&gt; = A extends B\n\ntype assertPersonaKeys = Assert&lt;keyof userPersonaDisplayNames, UserPersona&gt;\n</code></pre>\n\n<p>This works, but it's kind of gross. I have an unused type laying around that TSLint complains about. </p>\n\n<p>It seems like the <code>infer</code> keyword is exactly what I'm looking for, but I'm not sure how it works and it doesn't work in my case. Ideally I could do something like this:</p>\n\n<pre><code>const userPersonaDisplayNames: { [key in UserPersona]: infer } = {\n    entrepreneur: \"Entrepreneur\",\n    programmer: \"Programmer\",\n    designer: \"Designer\",\n    product_manager: \"Product Manager\",\n    marketing_sales: \"Marketing &amp; Sales\",\n    customer_support: \"Customer Support\",\n    operations_hr: \"Operations &amp; HR\",\n}\n</code></pre>\n\n<p>Any ideas how to solve this problem in a clean way?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular6", "observable"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 1, "creation_date": 1552552645, "post_id": 55148336, "comment_id": 97055288, "body": "<code>combineLatest</code> does already what you want. You can use <code>take(1)</code> as well to complete the chain after the first emission. If you need to make checks like <code>if (!a || !b || !c)</code> then some of your source Observables emit <code>undefined</code> or <code>null</code> or whatever values but even <code>undefined</code> is a valid emission."}], "answers": [{"comments": [{"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1553413300, "post_id": 55148704, "comment_id": 97369870, "body": "Well, wouldn&#39;t you know... One of the f#ckers produced an undefined value at first! We were not aware of that and now that we are, we actually discovered a serious bug in the logic. Awesome! (I always claim that code is like an apartment. Clean one will make it hard for bugs to hide.)"}], "tags": [], "owner": {"reputation": 991, "user_id": 4544288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXKlvPbQ4wA/AAAAAAAAAAI/AAAAAAAAABE/EBjOj2lD-N0/photo.jpg?sz=128", "display_name": "Massimiliano Sartoretto", "link": "https://stackoverflow.com/users/4544288/massimiliano-sartoretto"}, "is_accepted": true, "score": 4, "last_activity_date": 1552570235, "last_edit_date": 1552570235, "creation_date": 1552500796, "answer_id": 55148704, "question_id": 55148336, "link": "https://stackoverflow.com/questions/55148336/combining-multiple-observables-and-acting-when-at-least-one-value-is-returned-in/55148704#55148704", "title": "Combining multiple observables and acting when at least one value is returned in Angular", "body": "<p>Well you describe the right operator:</p>\n\n<blockquote>\n  <p><code>combineLatest</code> will not emit an initial value until each observable emits at least one value</p>\n</blockquote>\n\n<p>So I believe your issue is different, maybe some of your sources emit a null/undefined value?</p>\n\n<p>ref <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">https://www.learnrxjs.io/operators/combination/combinelatest.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1553413128, "post_id": 55173727, "comment_id": 97369838, "body": "Interesting usage of <i>timer(2000).pipe(mapTo(&#39;b&#39;))</i>. I haven&#39;t seen that syntax before (usually I use <i>setTimeout(()=&gt;{...},2000)</i>. Yours seem cleaner. Is that something Typescript specific?"}, {"owner": {"reputation": 1768, "user_id": 5031771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001177430983/picture?type=large", "display_name": "Wilhelm Olejnik", "link": "https://stackoverflow.com/users/5031771/wilhelm-olejnik"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1553431779, "post_id": 55173727, "comment_id": 97374145, "body": "It&#39;s not typescript specific, they&#39;re just regular rxjs operators."}, {"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1553492811, "post_id": 55173727, "comment_id": 97388919, "body": "I&#39;m asking because I tried that specific syntax and it didn&#39;t fly. The <i>timer</i> was new to me and it&#39;s great but the <i>pipe()</i> wouldn&#39;t accept <i>mapTo()</i>. Is that an older (newer?) syntax?"}, {"owner": {"reputation": 1768, "user_id": 5031771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001177430983/picture?type=large", "display_name": "Wilhelm Olejnik", "link": "https://stackoverflow.com/users/5031771/wilhelm-olejnik"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1553549681, "post_id": 55173727, "comment_id": 97418232, "body": "Hmm, no idea why it didn&#39;t work. Just checked in it js and works fine <a href=\"https://stackblitz.com/edit/rxjs-observable-examples-eqxyzc?file=index.js\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1768, "user_id": 5031771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001177430983/picture?type=large", "display_name": "Wilhelm Olejnik", "link": "https://stackoverflow.com/users/5031771/wilhelm-olejnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1552607990, "creation_date": 1552607990, "answer_id": 55173727, "question_id": 55148336, "link": "https://stackoverflow.com/questions/55148336/combining-multiple-observables-and-acting-when-at-least-one-value-is-returned-in/55173727#55173727", "title": "Combining multiple observables and acting when at least one value is returned in Angular", "body": "<p>Use <code>zip</code> instead of <code>forkJoin</code>. It works similar but doesn't require observables to complete.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const a$ = of('a');                       // will complete instantly\nconst b$ = timer(2000).pipe(mapTo('b'));  // will complete later \nconst c$ = new BehaviorSubject('c');      // will never complete\n\nzip(a$, b$, c$).subscribe(console.log)    // (after 2s) ['a', 'b', 'c']\n\n</code></pre>\n\n<p>demo: <a href=\"https://stackblitz.com/edit/rxjs-ycqqhn\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs-ycqqhn</a></p>\n"}], "owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2420, "favorite_count": 1, "accepted_answer_id": 55148704, "answer_count": 2, "score": 3, "last_activity_date": 1552607990, "creation_date": 1552499506, "question_id": 55148336, "link": "https://stackoverflow.com/questions/55148336/combining-multiple-observables-and-acting-when-at-least-one-value-is-returned-in", "title": "Combining multiple observables and acting when at least one value is returned in Angular", "body": "<p>I have a set of observables and I'll need to react when the last one has provided a value (whichever that one will be).</p>\n\n<p>My first approach was <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-forkJoin\" rel=\"nofollow noreferrer\"><em>forkJoin</em></a> like this.</p>\n\n<pre><code>const observables = [\n  this.backend.config(),\n  this.navigation.location()\n];\n\nforkJoin(observables)\n  .subscribe(([backend, selection]) =&gt; {\n    console.log(backend);\n    console.log(selection);\n  });\n</code></pre>\n\n<p>This worked partly as long as the observables emit <em>complete</em> at some point (upon which, the finalization is invoked. Then I tried <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-combineLatest\" rel=\"nofollow noreferrer\"><em>combineLatest</em></a>. That resolved the original issue but created a new one. Now, I get the final method invoked as soon as <strong>any</strong> of the observables provides.</p>\n\n<p>I'd like to get it invoked when each of the observables has provided at least once and might or might not have completed. It doesn't mater if it's the latest value from each or if it's the first one. Although, it might be a plus to learn how to control that as well for +1.</p>\n\n<p>The best, yet hacky, solution I came up with is to check <em>!!backend</em> and <em>!!navigation</em> and only act if all of them satisfy. I'm looking for a smoother solution or confirmation that the one I'm using is as good as it gets.</p>\n\n<pre><code>combineLatest(observables)\n  .subscribe(([a, b, c]) =&gt; {\n    if (!a || !b || !c)\n      console.log(\"Oh, I'm coming...\");\n    else\n      console.log(\"Wham, bam - I'm done!\");\n  });\n</code></pre>\n\n<p>All that from blogs <a href=\"https://www.metaltoad.com/blog/angular-6-upgrading-api-calls-rxjs-6\" rel=\"nofollow noreferrer\">like this</a> or <a href=\"https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"nofollow noreferrer\">that</a>, <a href=\"https://stackoverflow.com/a/45172164/1525840\">posts on SO</a> and <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-combineLatest\" rel=\"nofollow noreferrer\">Observables' docs</a>.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 14428, "user_id": 1191551, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/97ced8a229689b73b098a542636052e8?s=128&d=identicon&r=PG", "display_name": "Chet", "link": "https://stackoverflow.com/users/1191551/chet"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1552500040, "post_id": 55148302, "comment_id": 97037318, "body": "Oooh yeah. That&#39;s even better!"}], "answers": [{"tags": [], "owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "is_accepted": false, "score": 0, "last_activity_date": 1552499785, "creation_date": 1552499785, "answer_id": 55148410, "question_id": 55148302, "link": "https://stackoverflow.com/questions/55148302/how-to-get-a-set-of-string-literals-from-a-typescript-union-type/55148410#55148410", "title": "How to get a set of string literals from a TypeScript union type?", "body": "<p>This doesn't answer the question directly, but offers a different solution to get the same result.</p>\n\n<pre><code>/**\n * Creates a string enum. Use like so:\n *     const Ab = strEnum(['a', 'b']);\n *     type AbKeys = keyof typeof Ab;\n * @param keys keys in the enum\n * @returns enum object\n */\nexport function createStringEnum&lt;T extends string&gt;(keys: T[]): {[K in T]: K} {\n    return keys.reduce((res, key) =&gt; {\n        res[key] = key;\n        return res;\n    }, Object.create(null));\n}\n\nconst Ab = createStringEnum(['a', 'b']);\nconsole.log(Object.keys(Ab)); // ['a','b']\nconsole.log(Ab.a) // 'a'\n\ntype AbKeys = keyof typeof Ab;\nconst a: AbKeys = 'c'; // error\n</code></pre>\n"}], "owner": {"reputation": 14428, "user_id": 1191551, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/97ced8a229689b73b098a542636052e8?s=128&d=identicon&r=PG", "display_name": "Chet", "link": "https://stackoverflow.com/users/1191551/chet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "closed_date": 1552500044, "answer_count": 1, "score": 1, "last_activity_date": 1552499785, "creation_date": 1552499372, "question_id": 55148302, "link": "https://stackoverflow.com/questions/55148302/how-to-get-a-set-of-string-literals-from-a-typescript-union-type", "closed_reason": "Duplicate", "title": "How to get a set of string literals from a TypeScript union type?", "body": "<p>Whenever I have a union type of strings in TypeScript, a very common thing I need to do is get an array of these string literals.</p>\n\n<pre><code>export type UserPersona =\n    | \"entrepreneur\"\n    | \"programmer\"\n    | \"designer\"\n    | \"product_manager\"\n    | \"marketing_sales\"\n    | \"customer_support\"\n    | \"operations_hr\"\n</code></pre>\n\n<p>I find it a bit cumbersome, but whenever I need to do this, I will create an object map, type everything out again, and then get the key can cast the type.</p>\n\n<pre><code>const userPersonaMap: { [key in UserPersona]: true } = {\n    entrepreneur: true,\n    programmer: true,\n    designer: true,\n    product_manager: true,\n    marketing_sales: true,\n    customer_support: true,\n    operations_hr: true,\n}\n\nexport const userPersonas = Object.keys(userPersonaMap) as Array&lt;UserPersona&gt;\n</code></pre>\n\n<p>A few things I don't like about this approach:</p>\n\n<ol>\n<li>I have to type everything out twice.</li>\n<li>I have to cast the type.</li>\n<li>There's runtime overhead - granted, its trivial, but I do this <em>all the time</em>. </li>\n</ol>\n"}, {"tags": ["typescript", "functional-programming"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1552499269, "post_id": 55148092, "comment_id": 97036910, "body": "Can you give an example of how it&#39;s used / implemented?"}, {"owner": {"reputation": 159, "user_id": 1006238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd1eabec1f1859832a148e3e3ff33b9e?s=128&d=identicon&r=PG", "display_name": "srubin", "link": "https://stackoverflow.com/users/1006238/srubin"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1552499907, "post_id": 55148092, "comment_id": 97037247, "body": "Sure - added one to the description."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1552499929, "post_id": 55148092, "comment_id": 97037259, "body": "Imperative programming? Dynamic programming? Memoisation?"}, {"owner": {"reputation": 67060, "user_id": 783743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/835bdcdab3e4bf466f0d59f809c50035?s=128&d=identicon&r=PG", "display_name": "Aadit M Shah", "link": "https://stackoverflow.com/users/783743/aadit-m-shah"}, "edited": false, "score": 0, "creation_date": 1552539713, "post_id": 55148092, "comment_id": 97050261, "body": "How are you calling <code>calcDeriver</code>? This function doesn&#39;t make any sense."}], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 4935221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10204130414435783/picture?type=large", "display_name": "Alfred Young", "link": "https://stackoverflow.com/users/4935221/alfred-young"}, "edited": false, "score": 0, "creation_date": 1562832884, "post_id": 55148679, "comment_id": 100504142, "body": "the pattern that is really being described here happens at .reduce(complexCalculation, previous.result), +1 to this answer"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1552500699, "creation_date": 1552500699, "answer_id": 55148679, "question_id": 55148092, "link": "https://stackoverflow.com/questions/55148092/is-there-a-name-for-this-idiom-that-computes-a-new-result-based-on-a-previous-va/55148679#55148679", "title": "Is there a name for this idiom that computes a new result based on a previous value and result?", "body": "<p>My first thought was this was a form of <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\">Memoization</a> with only a single memoized result. However, if that's was the case, you'd simply return <code>previous.result</code> if <code>samePrefix</code> was found.</p>\n\n<p>Instead it looks like what you're doing is creating a kind of <a href=\"https://en.wikipedia.org/wiki/Fold_(higher-order_function)\" rel=\"nofollow noreferrer\">Reduce / Fold</a> function that is capable of picking up where it left off from a previous state.</p>\n\n<p>There are many different names for this pattern, so its up to you to determine what you think best fits in your case. Here are some suggestions:</p>\n\n<ul>\n<li><code>Reduction</code> / <code>Reducer</code></li>\n<li><code>FoldResult</code> / <code>Folder</code></li>\n<li><code>Aggregation</code> / <code>Aggregator</code></li>\n</ul>\n"}], "owner": {"reputation": 159, "user_id": 1006238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd1eabec1f1859832a148e3e3ff33b9e?s=128&d=identicon&r=PG", "display_name": "srubin", "link": "https://stackoverflow.com/users/1006238/srubin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552500699, "creation_date": 1552498605, "last_edit_date": 1552499895, "question_id": 55148092, "link": "https://stackoverflow.com/questions/55148092/is-there-a-name-for-this-idiom-that-computes-a-new-result-based-on-a-previous-va", "title": "Is there a name for this idiom that computes a new result based on a previous value and result?", "body": "<p>Is there a standard name for this \"Deriver\" idiom (written in Typescript, but not Typescript-specific):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Derivation&lt;T, R&gt; = { value: T, result: R };\ntype Deriver&lt;T, R&gt; = (\n    previous: Derivation&lt;T, R&gt; | undefined,\n    value: T\n) =&gt; R;\n</code></pre>\n\n<p>where a <code>deriver</code> is a function that computes a new value <code>R</code> using the previous value/result as a hint to potentially optimize the new computation?</p>\n\n<p>Here's an example of such a function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function complexCalculation(a: number, b: number): number {\n    // assume that this function is expensive\n    return a + b;\n}\n\nfunction calcDeriver(\n    previous: Derivation&lt;number[], number&gt; | undefined,\n    value: number[]\n): number {\n    if (previous) {\n        if (previous.value === value) {\n            return previous.result;\n        }\n        let samePrefix = true;\n        if (previous.value.length &lt; value.length) {\n            for (let i = 0; i &lt; previous.value.length; i++) {\n                if (previous.value[i] !== value[i]) {\n                    samePrefix = false;\n                    break;\n                }\n            }\n        }\n        if (samePrefix) {\n            return value\n                .slice(previous.value.length)\n                .reduce(complexCalculation, previous.result);\n        }\n    }\n\n    return value.reduce(complexCalculation, 0);\n}\n</code></pre>\n"}, {"tags": ["typescript", "unit-testing", "jestjs", "private-members", "nestjs"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1552499348, "post_id": 55148009, "comment_id": 97036958, "body": "One solution is to access private properties with bracket, that is <code>obj[&#39;privateMethod&#39;]()</code> However, the private method must be called by a public one, and that&#39;s what you should be testing/callinginstead."}, {"owner": {"reputation": 33, "user_id": 11024040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cF-gKOwff20/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAwm9DRqtyuVRkmZKVLz13kiEsuw/mo/photo.jpg?sz=128", "display_name": "dicom-nate", "link": "https://stackoverflow.com/users/11024040/dicom-nate"}, "reply_to_user": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1552500666, "post_id": 55148009, "comment_id": 97037627, "body": "I am testing the public one, but I want to make sure the simple i/o algorithms in the private functions work properly. Thanks for the suggestion."}], "answers": [{"comments": [{"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 4, "creation_date": 1552499990, "post_id": 55148248, "comment_id": 97037290, "body": "I&#39;m not sure whether or not the question has non-opinionated answers, but I disagree with the idea that this answer should be a comment (it seeks to answer the question, not to further it)"}, {"owner": {"reputation": 33, "user_id": 11024040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cF-gKOwff20/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAwm9DRqtyuVRkmZKVLz13kiEsuw/mo/photo.jpg?sz=128", "display_name": "dicom-nate", "link": "https://stackoverflow.com/users/11024040/dicom-nate"}, "edited": false, "score": 0, "creation_date": 1552500587, "post_id": 55148248, "comment_id": 97037584, "body": "This may be true, but in my case these actions will never be used outside of the service class (the one I want to test), so making another class isn&#39;t a good idea, but I see what you mean. Also, I won&#39;t do environment switching, as the examples I&#39;ve seen are too messy. I will post a good solution that I am using."}, {"owner": {"reputation": 4501, "user_id": 5747415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WgeaU.jpg?s=128&g=1", "display_name": "Dirk Herrmann", "link": "https://stackoverflow.com/users/5747415/dirk-herrmann"}, "edited": false, "score": 1, "creation_date": 1552503267, "post_id": 55148248, "comment_id": 97039042, "body": "Apart from many good advice here, there is one logical flaw.  Changing something private into public will certainly change its accessibility.   But, if tests are fragile when testing something private, why would they not be fragile any more only by making that same private thing public?"}, {"owner": {"reputation": 327, "user_id": 678532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810d1f21b587003cea2fcc001db5cb35?s=128&d=identicon&r=PG", "display_name": "adamfsk", "link": "https://stackoverflow.com/users/678532/adamfsk"}, "edited": false, "score": 0, "creation_date": 1552593846, "post_id": 55148248, "comment_id": 97081459, "body": "@dirkhermann It wasn\u2019t my intention to imply that it would be a good idea to do so. I\u2019ve replaced this part with a link describing the anti-pattern here, with some good solutions. Thanks!"}, {"owner": {"reputation": 33, "user_id": 11024040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cF-gKOwff20/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAwm9DRqtyuVRkmZKVLz13kiEsuw/mo/photo.jpg?sz=128", "display_name": "dicom-nate", "link": "https://stackoverflow.com/users/11024040/dicom-nate"}, "edited": false, "score": 0, "creation_date": 1552913602, "post_id": 55148248, "comment_id": 97178459, "body": "I accepted this answer as it is the better solution. But I also provided a direct answer below that will work for most people. Sometimes you work at a company and your manager asks you to do something and you just do it, even if it is bad practice. I don&#39;t want to argue, I just want to get it done, and I&#39;m sure others do too. Thanks."}, {"owner": {"reputation": 327, "user_id": 678532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810d1f21b587003cea2fcc001db5cb35?s=128&d=identicon&r=PG", "display_name": "adamfsk", "link": "https://stackoverflow.com/users/678532/adamfsk"}, "edited": false, "score": 0, "creation_date": 1586613502, "post_id": 55148248, "comment_id": 108193203, "body": "@dirkhermann I didn\u2019t properly address your question. The reason the tests will become more fragile is because by testing the private methods we\u2019re testing the internal implementation rather than whether the class functions as expected. If we test private methods and then decide to refactor, we need to rewrite all those tests, which wouldn\u2019t be necessary if we were only testing the public API. Private methods are normally much more open to change than public methods since they\u2019d only affect the class itself and not external consumers"}], "tags": [], "owner": {"reputation": 327, "user_id": 678532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810d1f21b587003cea2fcc001db5cb35?s=128&d=identicon&r=PG", "display_name": "adamfsk", "link": "https://stackoverflow.com/users/678532/adamfsk"}, "is_accepted": true, "score": 4, "last_activity_date": 1552593749, "last_edit_date": 1552593749, "creation_date": 1552499180, "answer_id": 55148248, "question_id": 55148009, "link": "https://stackoverflow.com/questions/55148009/testing-private-methods-in-jestjs/55148248#55148248", "title": "Testing private methods in JestJS", "body": "<p>As a guideline, you should be able to test a class by using its public methods. If there is significant functionality hidden within private/protected access, then it might be a signal that it could be refactored out into another class.</p>\n\n<p>Is it possible for you to refactor the complex private method(s) into another class(es) that you could then test separately?</p>\n\n<p>Please bear in mind that testing your private methods will make your tests more fragile to changes in how you implement the behaviour of the class, even when the behaviour of the class itself hasn't changed. This is highly likely to be the case when refactoring for optimisation, for example.</p>\n\n<p>Edit:\nGiven that you\u2019re working with JavaScript at the base level, there\u2019s several ways you could achieve your goal, such as the solution you\u2019ve posted making the methods protected and using a subclass to test, or by some variation of making the methods public, temporary or permanently, but it\u2019s almost certainly unwise to do so in any form. I highly recommend reading the following link which provides further information about why it\u2019s a bad idea to do so, and also provides potentially good solutions to the problems you\u2019re having:\n<a href=\"https://enterprisecraftsmanship.com/2017/10/23/unit-testing-private-methods/\" rel=\"nofollow noreferrer\">https://enterprisecraftsmanship.com/2017/10/23/unit-testing-private-methods/</a></p>\n"}, {"comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1552503947, "post_id": 55148791, "comment_id": 97039380, "body": "TypeScript doesn&#39;t let you extend a private method in a subclass and make it public"}, {"owner": {"reputation": 33, "user_id": 11024040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cF-gKOwff20/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAwm9DRqtyuVRkmZKVLz13kiEsuw/mo/photo.jpg?sz=128", "display_name": "dicom-nate", "link": "https://stackoverflow.com/users/11024040/dicom-nate"}, "reply_to_user": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1552506054, "post_id": 55148791, "comment_id": 97040358, "body": "My mistake! I forgot to say that I made the functions &quot;protected&quot;. I updated my answer. Thanks for noticing :)"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1552525983, "post_id": 55148791, "comment_id": 97047263, "body": "The problem is that when someone looks at the class, they are going to think this method is intended to be overridden when it really isn&#39;t. I would follow the other suggestions instead. When something isn&#39;t easily testable, it&#39;s often a sign that it could use some refactoring"}, {"owner": {"reputation": 33, "user_id": 11024040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cF-gKOwff20/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAwm9DRqtyuVRkmZKVLz13kiEsuw/mo/photo.jpg?sz=128", "display_name": "dicom-nate", "link": "https://stackoverflow.com/users/11024040/dicom-nate"}, "reply_to_user": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1552913278, "post_id": 55148791, "comment_id": 97178232, "body": "I agree that this is not the perfect solution and that the other is better, but I wanted to provide people with an option that works and would be fine for most cases, like mine. But, in general, I would suggest using the solution in the other answer. I will accept that one instead of mine."}], "tags": [], "owner": {"reputation": 33, "user_id": 11024040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cF-gKOwff20/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAwm9DRqtyuVRkmZKVLz13kiEsuw/mo/photo.jpg?sz=128", "display_name": "dicom-nate", "link": "https://stackoverflow.com/users/11024040/dicom-nate"}, "is_accepted": false, "score": 1, "last_activity_date": 1552506021, "last_edit_date": 1552506021, "creation_date": 1552501141, "answer_id": 55148791, "question_id": 55148009, "link": "https://stackoverflow.com/questions/55148009/testing-private-methods-in-jestjs/55148791#55148791", "title": "Testing private methods in JestJS", "body": "<p>My solution was to make the functions \"protected\" and extend the class in a class inside the test file, with those functions exposed. </p>\n\n<p>Example:</p>\n\n<pre><code>class ClassToTest {\n    protected add(x: number, y: number}: number {\n        return x + y;\n    }\n}\n</code></pre>\n\n<p>In the test file:</p>\n\n<pre><code>class PublicClassToTest extends ClassToTest {\n    public add(x: number, y: number): number {\n        return super.add(x, y);\n    }\n}\n\ndescribe('ClassToTest', () =&gt; {\n\n    const obj = new PublicClassToTest();\n\n    it('adding 2 numbers', () =&gt; {\n        // GIVEN x is 6\n        const x = 6;\n\n        // AND y is 2\n        const y = 2;\n\n        // WHEN we add them\n        const result = obj.add(x, y);\n\n        // THEN the result is 8\n        expect(result).toBe(8);\n    });\n});\n</code></pre>\n\n<p><strong>As a bonus feature:</strong> This not only solved my issue with this, but also provided a nice way for me to see my function headers from within the test file, without needing to switch back and forth between my test and the class I am testing.</p>\n"}], "owner": {"reputation": 33, "user_id": 11024040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cF-gKOwff20/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAwm9DRqtyuVRkmZKVLz13kiEsuw/mo/photo.jpg?sz=128", "display_name": "dicom-nate", "link": "https://stackoverflow.com/users/11024040/dicom-nate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 1, "accepted_answer_id": 55148248, "answer_count": 2, "score": 2, "last_activity_date": 1552593749, "creation_date": 1552498332, "question_id": 55148009, "link": "https://stackoverflow.com/questions/55148009/testing-private-methods-in-jestjs", "title": "Testing private methods in JestJS", "body": "<p>I am making an API with NestJS (using TypeScript) and it uses JestJS as the default test framework. I am writing a test for a service class and I am trying to access its private functions (Enforced with TypeScript), but I cannot for obvious reasons.</p>\n\n<p>The traditional solution in other languages (like Java) is to change the functions to be in <em>package</em> or <em>internal</em> scope, but this doesn't exist in TypeScript.</p>\n\n<p>How can I access those functions for testing purposes, but still enforce the private access (as good practice)?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1552497833, "post_id": 55147825, "comment_id": 97036172, "body": "If you don&#39;t want <code>BehaviorSubject</code> to have a default <code>false</code> value you can use <code>ReplaySubject(1)</code> instead that won&#39;t emit until you explicitly call <code>next()</code> on it."}, {"owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1552497882, "post_id": 55147825, "comment_id": 97036198, "body": "@martin false indicates the user is logged out, which should be the default."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1552498010, "post_id": 55147825, "comment_id": 97036266, "body": "So you want it to have a default value and to not have a default value at the same time"}], "answers": [{"comments": [{"owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "edited": false, "score": 0, "creation_date": 1552498431, "post_id": 55147919, "comment_id": 97036477, "body": "This seems to be working from the quick test I just ran."}, {"owner": {"reputation": 1050, "user_id": 3973844, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001761656850/picture?type=large", "display_name": "Jan Wendland", "link": "https://stackoverflow.com/users/3973844/jan-wendland"}, "reply_to_user": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "edited": false, "score": 0, "creation_date": 1552499254, "post_id": 55147919, "comment_id": 97036898, "body": "@JoeScotto That&#39;s good. I made a little edit to show an alternative that works better in your case. Setting the debounce time conditionally saves you the time you use as debounce time when <code>true</code> is emitted. For the debounce time used in my example this makes 100ms."}, {"owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "edited": false, "score": 0, "creation_date": 1552499288, "post_id": 55147919, "comment_id": 97036922, "body": "Yup, I used 50ms with the conditional debounce... seems to be working perfect. Thanks!"}], "tags": [], "owner": {"reputation": 1050, "user_id": 3973844, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001761656850/picture?type=large", "display_name": "Jan Wendland", "link": "https://stackoverflow.com/users/3973844/jan-wendland"}, "is_accepted": true, "score": 1, "last_activity_date": 1552498472, "last_edit_date": 1552498472, "creation_date": 1552498008, "answer_id": 55147919, "question_id": 55147825, "link": "https://stackoverflow.com/questions/55147825/behaviorsubject-always-defaulting-to-false-before-programmatically-being-set/55147919#55147919", "title": "BehaviorSubject always defaulting to false before programmatically being set", "body": "<p>You could pipe through <code>debounceTime</code> to set a timeframe for which only the latest value will be emitted. Since this change may happen in a tick, 100ms is probably way too much in your case. Consider lowering the time according to your needs:</p>\n\n<pre><code>this.auth.state.pipe(debounceTime(100)).subscribe(state =&gt; {\n  alert(state);\n  if (state) {\n    this.menuCtrl.enable(true);\n    this.router.navigate(['users', 'dashboard']);\n  } else {\n    this.menuCtrl.enable(false);\n    this.router.navigate(['intro']);\n  }\n});\n</code></pre>\n\n<p>A solution that arguably saves a little bit of time on debouncing would be to use a conditional debounce that only kicks in on <code>false</code> values:</p>\n\n<pre><code>debounce(state =&gt; timer(state ? 0 : 100))\n</code></pre>\n"}], "owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 55147919, "answer_count": 1, "score": 0, "last_activity_date": 1552498472, "creation_date": 1552497666, "question_id": 55147825, "link": "https://stackoverflow.com/questions/55147825/behaviorsubject-always-defaulting-to-false-before-programmatically-being-set", "title": "BehaviorSubject always defaulting to false before programmatically being set", "body": "<p>I'm using BehaviorSubject for authentication in my app, when it's set to true it means the user is logged in with a token and valid expiration and the app should redirect them to the home dashboard page. When it's false, they should be prompted to login.</p>\n\n<p>Everything is working as expected except when the app resumes and the user is logged in. Even though the user is logged in and <code>BehaviorSubject</code> is set to true, it will be briefly set to false before checking the token again and then setting it back to true. This results in a brief navigation to <code>/intro</code> followed immediately by the proper navigation of <code>/users/dashboard</code></p>\n\n<p>Is there a way I can prevent this glitchy navigation?</p>\n\n<p>authentication.service.ts</p>\n\n<pre><code>export class AuthenticationService {\n  state = new BehaviorSubject(false);\n\n  constructor(\n    private storage: Storage,\n    private platform: Platform\n  ) {\n    this.platform.ready().then(() =&gt; {\n      this.checkToken();\n    });\n  }\n\n  /**\n   * Ensures the user has access and is not passed their expiration\n   */\n  checkToken() {\n    this.storage.get('token').then(token =&gt; {\n      if (token) {\n        this.storage.get('expiration').then(expiration =&gt; {\n          const currentDate = moment.utc().format('YYYY-MM-DD HH:mm:ss');\n          if (moment(currentDate).isBefore(expiration)) {\n            this.state.next(true);\n          }\n        });\n      }\n    });\n  }\n}\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>// Authentication\nthis.auth.state.subscribe(state =&gt; {\n  alert(state);\n  if (state) {\n    this.menuCtrl.enable(true);\n    this.router.navigate(['users', 'dashboard']);\n  } else {\n    this.menuCtrl.enable(false);\n    this.router.navigate(['intro']);\n  }\n});\n</code></pre>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "edited": false, "score": 0, "creation_date": 1552496563, "post_id": 55147454, "comment_id": 97035372, "body": "I&#39;m using require(&#39;http&#39;);"}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "reply_to_user": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "edited": false, "score": 0, "creation_date": 1552496603, "post_id": 55147454, "comment_id": 97035402, "body": "Ah I didn&#39;t recognize it. You probably need to run <code>npm install -D @types&#47;node</code>"}, {"owner": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "edited": false, "score": 0, "creation_date": 1552496703, "post_id": 55147454, "comment_id": 97035472, "body": "Not works. Should have some types for this guys, don&#39;t?"}, {"owner": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "edited": false, "score": 0, "creation_date": 1552496743, "post_id": 55147454, "comment_id": 97035500, "body": "For connectionOptions I think is object the type"}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "reply_to_user": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "edited": false, "score": 0, "creation_date": 1552496800, "post_id": 55147454, "comment_id": 97035534, "body": "@AndreMoraes take a look at the source of the @types/node package to find all the types you need. For your code sample you can omit the type for connectionOptions."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "reply_to_user": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "edited": false, "score": 0, "creation_date": 1552496882, "post_id": 55147454, "comment_id": 97035580, "body": "Not everything needs a type because types can often be inferred. However, i think this is the type: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node/http.d.ts#L70\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types&zwnj;&#8203;/&hellip;</a>"}], "tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": false, "score": 0, "last_activity_date": 1552496407, "creation_date": 1552496407, "answer_id": 55147454, "question_id": 55147397, "link": "https://stackoverflow.com/questions/55147397/typescript-types-http-request-rest-api/55147454#55147454", "title": "Typescript types HTTP request Rest API", "body": "<p>I don't know what http library you are using, but generally the following options exist:</p>\n\n<ol>\n<li>The library you use ships types. In this case you can possibly just dive into the source of this library and find the correct types.</li>\n<li>The types are shipped in a <code>@types/foo</code> package (foo being the name of the package you are using). In this case, you can find the types also by reading the source of this package.</li>\n<li>Neither are available, so you need to come up with your own types. This isn't that difficult. </li>\n</ol>\n\n<p>For example, the first object you specified might have this type:</p>\n\n<pre><code>type ConnectionOptions = {\n  headers: {\n    [s: string]: string\n  },\n  host: string,\n  path: string,\n  port: number\n} \n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 633, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552496407, "creation_date": 1552496234, "question_id": 55147397, "link": "https://stackoverflow.com/questions/55147397/typescript-types-http-request-rest-api", "title": "Typescript types HTTP request Rest API", "body": "<p>So, I'm having some issue with my code because some types not specified and I don't know what type should I use.<br/></p>\n\n<pre><code>  const ***connectionOptions*** = {\n    headers: {\n      Authorization: 'Basic ' + new Buffer(this.config.USERNAME + ':' + this.config.PASSWORD).toString('base64')\n    },\n    host: 'http://lpr.houstonhidta.net',\n    path: '/live/alarm',\n    port: 8099\n  };\n\n  const ***request*** = http.request(connectionOptions, (***response***) =&gt; {\n    response.setEncoding('utf8');\n    response.on('data', (***chunk***) =&gt; {\n      return response._read;\n    });\n  });```\n\nTypes missing for : &lt;br/&gt;\nconnectionOptions&lt;br/&gt;\nrequest&lt;br/&gt;\nresponse&lt;br/&gt;\nchunk&lt;br/&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1552499883, "post_id": 55147378, "comment_id": 97037237, "body": "Maybe <code>components</code> should be of type <code>Partial&lt;ComponentDictType&gt;</code> instead of <code>ComponentDictType</code>?"}, {"owner": {"reputation": 639, "user_id": 2322869, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/822471d05ee2f022f929267067693525?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/2322869/george"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1552575998, "post_id": 55147378, "comment_id": 97070960, "body": "@jcalz, yay! It worked! Post an answer and i will approve it"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1552577318, "creation_date": 1552577318, "answer_id": 55166365, "question_id": 55147378, "link": "https://stackoverflow.com/questions/55147378/typescript-how-to-pass-a-generic-dict-type-to-class-so-it-allows-to-set-empty-o/55166365#55166365", "title": "Typescript: How to pass a generic dict type to class so it allows to set empty object as default value?", "body": "<p>The only way you can assign an empty object to <code>components</code> is if the type of <code>components</code> is compatible with an empty object.  One way to do this is to have <code>ComponentDictType</code> remain the full non-optional type but use <code>Partial&lt;ComponentDictType&gt;</code> as the type of the <code>components</code> property:</p>\n\n<pre><code>class Entity&lt;ComponentDictType&gt; {\n    public id: number = 0; // init here too\n    public components: Partial&lt;ComponentDictType&gt; = {}; // no error\n}\n</code></pre>\n\n<p>(Note that I initialize both properties.  It's recommended to use both <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#--strictnullchecks\" rel=\"nofollow noreferrer\"><code>--strictNullChecks</code></a> and <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#strict-class-initialization\" rel=\"nofollow noreferrer\"><code>--strictPropertyInitialization</code></a> to catch <code>undefined</code> errors before runtime.)</p>\n\n<p>Now you can use your class, but be warned that the compiler no longer thinks that each property of <code>components</code> necessarily exists... you'll have to check it:</p>\n\n<pre><code>interface Components {\n  position: {\n    x: number,\n    y: number\n  },\n  mass: {\n    value: number\n  },\n  color: {\n    value: string\n  }\n}\n\nconst entity = new Entity&lt;Components&gt;();\nentity.components.color // {value: string} | undefined\nentity.components.color.value; // error, possibly undefined\nif (entity.components.color) { // check it yourself\n  entity.components.color.value; // okay now\n}\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 639, "user_id": 2322869, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/822471d05ee2f022f929267067693525?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/2322869/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 55166365, "answer_count": 1, "score": 0, "last_activity_date": 1552577318, "creation_date": 1552496180, "question_id": 55147378, "link": "https://stackoverflow.com/questions/55147378/typescript-how-to-pass-a-generic-dict-type-to-class-so-it-allows-to-set-empty-o", "title": "Typescript: How to pass a generic dict type to class so it allows to set empty object as default value?", "body": "<p>I want my Entity to store some components in a dictionary like an example below. But I want the shape of the <code>components</code> dictionary to be passed on <code>Entity</code> creation.</p>\n\n<pre><code>    entity: {\n      id: 1,\n      components: {\n        position: {\n          x: 0,\n          y: 0\n        },\n        mass : {\n          value: 4\n        },\n        color: {\n          value: 'green'\n        }\n      }\n    }\n</code></pre>\n\n<p>Unfortunately, Typescript does not allow me to set the initial value of <code>components</code> as an empty object <code>{}</code>. I get the error <code>Type {} is not assignable to 'ComponentDictType'.</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Entity&lt;ComponentDictType&gt; {\r\n\tpublic id: number\r\n\tpublic components: ComponentDictType = {}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I constrain ComponentDictType so it becomes assignabme to an empty object?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 1, "last_activity_date": 1552496012, "creation_date": 1552496012, "answer_id": 55147311, "question_id": 55147281, "link": "https://stackoverflow.com/questions/55147281/parsing-a-series-of-numbers-from-typescript-string/55147311#55147311", "title": "Parsing a series of numbers from TypeScript string", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match\" rel=\"nofollow noreferrer\"><strong>match</strong></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"Water - 3, Tomatos - 4, Melons - 5, Apples - 6\"\r\n\r\nlet op = str.match(/\\d+/g).map(e=&gt; +e)\r\n\r\nconsole.log(op)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 6395379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce74c7c5b1397847d5d71a2ae27d132?s=128&d=identicon&r=PG&f=1", "display_name": "Philip L", "link": "https://stackoverflow.com/users/6395379/philip-l"}, "edited": false, "score": 0, "creation_date": 1552497861, "post_id": 55147322, "comment_id": 97036187, "body": "Thanks, it will work only for numbers in range 0-9, any straight forward way similar to this one, to do it for any range? Edit: Code Maniac answer does that :D"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 311, "user_id": 6395379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce74c7c5b1397847d5d71a2ae27d132?s=128&d=identicon&r=PG&f=1", "display_name": "Philip L", "link": "https://stackoverflow.com/users/6395379/philip-l"}, "edited": false, "score": 0, "creation_date": 1552498223, "post_id": 55147322, "comment_id": 97036365, "body": "I made an update that works for all numbers larger than 0, also your question only asked for numbers between <code>0-9</code>: <code>Assuming each number is in range 0-9</code>"}, {"owner": {"reputation": 311, "user_id": 6395379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce74c7c5b1397847d5d71a2ae27d132?s=128&d=identicon&r=PG&f=1", "display_name": "Philip L", "link": "https://stackoverflow.com/users/6395379/philip-l"}, "edited": false, "score": 0, "creation_date": 1552500703, "post_id": 55147322, "comment_id": 97037642, "body": "look at <code>2)</code> in my question. Nevertheless I appreciate your answer! Thanks."}], "tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": true, "score": 2, "last_activity_date": 1552498188, "last_edit_date": 1552498188, "creation_date": 1552496039, "answer_id": 55147322, "question_id": 55147281, "link": "https://stackoverflow.com/questions/55147281/parsing-a-series-of-numbers-from-typescript-string/55147322#55147322", "title": "Parsing a series of numbers from TypeScript string", "body": "<p>You can <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\" rel=\"nofollow noreferrer\">split</a> on an empty string to get an array of characters. Then you can  <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">filter</a> each character removing non-numeric characters. Finally you <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">map</a> each one to convert it to a number.</p>\n\n<h3>Numbers Between 0 and 9</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"Water - 3, Tomatos - 4, Melons - 5, Apples - 6, Pears - 0\"\r\n\r\nlet nums = str.split('').filter(i =&gt; parseInt(i) &gt; -1).map(Number)\r\n\r\nconsole.log(nums)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h3>All numbers</h3>\n\n<p>We can use this regex to split on non-word characters (spaces, commas, etc)</p>\n\n<pre><code>/\\W/\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"Water - 3, Tomatos - 44, Melons - 5, Apples - 666, Pears - 0\"\r\n\r\nlet nums = str.split(/\\W/).filter(i =&gt; parseInt(i) &gt; -1).map(Number)\r\n\r\nconsole.log(nums)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 311, "user_id": 6395379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce74c7c5b1397847d5d71a2ae27d132?s=128&d=identicon&r=PG&f=1", "display_name": "Philip L", "link": "https://stackoverflow.com/users/6395379/philip-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 55147322, "answer_count": 2, "score": -1, "last_activity_date": 1552498188, "creation_date": 1552495917, "question_id": 55147281, "link": "https://stackoverflow.com/questions/55147281/parsing-a-series-of-numbers-from-typescript-string", "title": "Parsing a series of numbers from TypeScript string", "body": "<p>Assume:</p>\n\n<p><code>str = \"Water - 3, Tomatos - 4, Melons - 5, Apples - 6\"</code>.</p>\n\n<p>My goal is to extract the numbers to a number array in order to perform some calculations on them.</p>\n\n<p>Assuming each number is in range 0-9, in <code>C#</code> one could use the <code>int.TryParse</code> method on each character and parse those numbers into an array.</p>\n\n<p>1) Is there any equivalent for <code>int.TryParse</code> in <code>TypeScript</code>?</p>\n\n<p>2) What's the optimal way to extract those numbers into an array, assuming a number representation may be longer then 1 character?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 189, "user_id": 3644889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5b5783fcc63e345e326081c49c3650?s=128&d=identicon&r=PG&f=1", "display_name": "francesco", "link": "https://stackoverflow.com/users/3644889/francesco"}, "edited": false, "score": 0, "creation_date": 1552553608, "post_id": 55147147, "comment_id": 97055811, "body": "I want to add that this is no longer an issue for me, I&#39;ve not found a soluttion for this &quot;contrained subtype definition&quot; but for the graphql queries now I&#39;m generating dedicated (new) types graph ( non sub-types ) for each query using : &quot;typescript-client&quot; plugins from this library : <code>https:&#47;&#47;graphql-code-generator.com&#47;docs&#47;plugins&#47;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5175, "user_id": 4370109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UcQgO.jpg?s=128&g=1", "display_name": "Brian Tompsett - \u6c64\u83b1\u6069", "link": "https://stackoverflow.com/users/4370109/brian-tompsett-%e6%b1%a4%e8%8e%b1%e6%81%a9"}, "edited": false, "score": 1, "creation_date": 1552503056, "post_id": 55147878, "comment_id": 97038921, "body": "I think a bit more explanation would make the answer clearer for learners. Code only answers are not always useful."}, {"owner": {"reputation": 189, "user_id": 3644889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5b5783fcc63e345e326081c49c3650?s=128&d=identicon&r=PG&f=1", "display_name": "francesco", "link": "https://stackoverflow.com/users/3644889/francesco"}, "edited": false, "score": 0, "creation_date": 1552504062, "post_id": 55147878, "comment_id": 97039427, "body": "Sorry this is almost ok, the problem is that I cannot use that with the RecursivePartial interface here, because I cannot override type of included ( Pick&#39;ed) ,everything is required to override returned graphql query type in typescript ... maybe I&#39;ll prepare more complete example and EDIT the original question.."}], "tags": [], "owner": {"reputation": 802, "user_id": 8318454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08706eac2bac889d1f5f00e4644a19f5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Cumming", "link": "https://stackoverflow.com/users/8318454/tom-cumming"}, "is_accepted": false, "score": 1, "last_activity_date": 1552497866, "creation_date": 1552497866, "answer_id": 55147878, "question_id": 55147147, "link": "https://stackoverflow.com/questions/55147147/how-to-create-an-interface-to-be-a-subset-of-another-interface/55147878#55147878", "title": "how to create an interface to be a subset of another interface?", "body": "<pre><code>type Custom = Pick&lt;RecursivePartial&lt;IAutogenerated&gt;, 'name' | 'age'&gt;; // OK\ntype Custom2 = Pick&lt;RecursivePartial&lt;IAutogenerated&gt;, 'name' | 'agez'&gt;; // Type error\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 3644889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5b5783fcc63e345e326081c49c3650?s=128&d=identicon&r=PG&f=1", "display_name": "francesco", "link": "https://stackoverflow.com/users/3644889/francesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552507336, "creation_date": 1552495584, "last_edit_date": 1552507336, "question_id": 55147147, "link": "https://stackoverflow.com/questions/55147147/how-to-create-an-interface-to-be-a-subset-of-another-interface", "title": "how to create an interface to be a subset of another interface?", "body": "<p>some context : playing with graphql I have pre-defined interfaces for query generated automatically, but the results of any given query is only a subset of that automatically-generated-interface</p>\n\n<p>and to have a compile-time checking of query-results-interfaces  I need an interface that is a custom subset ( STRICTLY without any additional parameters ) of a Super-interface,</p>\n\n<p>an example... </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ntype RecursivePartial&lt;T&gt; = {\n  [P in keyof T]?: RecursivePartial&lt;T[P]&gt;;\n};\n\ninterface IAutogenerated {\n name : string\n weight: number\n age: number\n}\ninterface ICustom extends RecursivePartial&lt;IAutogenerated&gt; {\n    name: string \n    agez : number  // &lt;------ I want this not allowed at compiletime ( ie: because it's a typo!)\n}\nlet a : ICustom = {\n  name : \"me\" // this is required, weight is not because  the usage of \"RecursivePartial\"\n}\n\n</code></pre>\n\n<p>in this example I want ICustom to be exactly a subset of IAutogenerated ( maybe with some creative usage of \"keyof\"?  </p>\n\n<p>in java I would use the override in each member of the extending interface to be sure to not add typo and to have the compiler help me during refactoring..</p>\n\n<p>version of typescript: 3.3</p>\n\n<p>thank you, \nFrancesco</p>\n\n<p>EDIT:\ngiven the answer of Tom I've added another ADDITIONAL EXAMPLE which may further expose the real usage of the RecursivePartial </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n// ------ AUTOGENERATED INTERFACE OF GRAPHQL ----- \nexport interface People {\n  id: number;\n  name: string;\n  gender: Gender;\n  age: number;\n  childs: (Maybe&lt;People&gt;)[];\n}\n\n/// CUSTOMIZATION BASED ON SINGLE CREATED QUERY\nexport type Child = Pick&lt;RecursivePartial&lt;People&gt;,\n  'name'\n  &gt;\nexport type PeopleListItem = Pick&lt;RecursivePartial&lt;People&gt;,\n  'id'|'name'|'childs' &gt;\n\n// what is needed here something between the Pick ( which allow strict subset ) and RecursivePartial, which allow super-typing of subset elements )\n// export interface PeopleListItem extends RecursivePartial&lt;People&gt;{\n//   id : number,\n//   name : string,\n//   childs : Child[] // NOTE --&gt; here Child is a subtype of People\n// }\n\n</code></pre>\n\n<p>to give some context this will constitute the return type of gql: </p>\n\n<pre><code>query {\npeople {\n id\n name\n childs {\n   name \n } \n}\n</code></pre>\n\n<p>here with the commented code I don't have the sub-type strictness of Pick,\nbut i can ovverride members with \"Partial\"s with the Pick I cannot override elements but I have subtype strictness ..</p>\n\n<p>seems a weird question but those constraint are both required to have a typed object sub-graph </p>\n\n<p>EDIT 2 : \nI've created a monster that provide some of the requirements but it's very ugly , I'm using typescript since 1 week so please pardon me for the following code.. ( and please help me to find something better ) </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ntype RecursivePartial&lt;T&gt; = {\n  [P in keyof T]?: RecursivePartial&lt;T[P]&gt;;\n};\n\ntype RecursivePartialPick&lt;T, K extends keyof T&gt; = {\n  [P in K]: RecursivePartial&lt;T[P]&gt;;\n};\n\n// ------ AUTOGENERATED INTERFACE OF GRAPHQL -----\nexport interface People {\n  id: number;\n  name: string;\n  gender: Gender;\n  age: number;\n  childs: (Maybe&lt;People&gt;)[];\n}\n\n/// CUSTOMIZATION BASED ON SINGLE CREATED QUERY\nexport type Child = RecursivePartialPick&lt;People, 'name' &gt;\n\n// this will stabilize sub-fields Picke'd from the original type (Avoid typing errors and code duplication )\ntype _PeoplePick = 'id' | 'name' | 'childs';\n\n// override the field with a subtype \ninterface _PeopleListItem extends RecursivePartialPick&lt;People,_PeoplePick &gt;{\n     childs : Child[] //&lt;&lt;--- note here : no safety against typing errors in \"childs\" field name ( Except that resulting type is not Child[] but (Maybe&lt;People&gt;)[]; \n}\nexport type PeopleListItem = Pick&lt;_PeopleListItem,_PeoplePick&gt;\nlet result : PeopleListItem = {\n   name : \"\" ,\n   id : 2 ,\n   childs : [{ // &lt;Child[]&gt;\n     name : \"n\"\n   }]\n}\n\n</code></pre>\n"}, {"tags": ["typescript", "ionic4", "ionic-native"], "owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1569340324, "creation_date": 1552495466, "last_edit_date": 1552495945, "question_id": 55147103, "link": "https://stackoverflow.com/questions/55147103/export-csv-file-to-local-storage-and-open-it-using-ionic-4", "title": "Export CSV file to local storage and open it using Ionic 4", "body": "<p>I am using Ionic 4 and I am trying to save export a string to CSV file, save it to dataDirectory (iOS) and then open this file.</p>\n\n<pre><code>import { File } from '@ionic-native/file/ngx';\nimport { DocumentViewer, DocumentViewerOptions } from '@ionic-native/document-viewer/ngx';\n\nconst options: DocumentViewerOptions = {\n  title: 'My CSV'\n};\n\nconst data = 'Foo,Bar';\n\nconstructor(private file: File,\n            private documentViewer: DocumentViewer){}\n\nexportCsvFile() {\n  this.file.writeFile(this.file.dataDirectory,\n  'test.csv',\n  data,\n  {replace: true})\n  .then((res) =&gt; \n  this.documentViewer.viewDocument(this.file.dataDirectory + 'test.csv',\n  'text/plain', options);)\n  .catch(err =&gt; console.log(err));\n}\n</code></pre>\n\n<p>When I debug, I can see that the file is created successfully. But the <code>documentViewer</code> doesn't display anything. </p>\n"}, {"tags": ["typescript", "unit-testing", "mocha.js", "sinon"], "answers": [{"tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 0, "last_activity_date": 1552498927, "creation_date": 1552498927, "answer_id": 55148188, "question_id": 55146556, "link": "https://stackoverflow.com/questions/55146556/spy-returns-callcount-0-when-used-as-object-property/55148188#55148188", "title": "Spy returns callcount 0 when used as object property", "body": "\n\n<p>When a <code>Promise</code> resolves the callback gets queued in the <a href=\"https://www.ecma-international.org/ecma-262/6.0/#sec-jobs-and-job-queues\" rel=\"nofollow noreferrer\">PromiseJobs queue</a> which gets processed <em>after the current running message has completed</em>.</p>\n\n<p>In this case your functions are queuing callbacks in PromiseJobs and the current running message is <em>the test itself</em> so the test runs to completion <em>before the jobs queued in PromiseJobs have a chance to run</em>.</p>\n\n<p>Because the jobs in PromiseJobs haven't run yet, the test fails when it gets to the test for <code>channelSpy</code> since it hasn't been called yet.</p>\n\n<hr>\n\n<p>The <code>Promise</code> returned by <code>init</code> is already chained to the <code>Promises</code> returned by <code>connect</code> and <code>createChannel</code> so all you have to do is make your test function <code>async</code> and then call <code>await</code> on the <code>Promise</code> returned by <code>init</code>:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>it('Should check if SomeClass has created Channel', async () =&gt; {  // async test function\n  const someclass = SomeClass.getInstance();\n  await someclass.init();  // await the Promise returned by init\n\n  // @ts-ignore\n  expect(amqplib.connect.callCount).to.be.eq(1); // True\n  // @ts-ignore\n  expect(this.channelSpy.callCount).to.be.eq(1); // True\n});\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11198068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pYYKDBwdFBY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXuLnboYEaE4jQ1pDPZrZSxu8xKQ/mo/photo.jpg?sz=128", "display_name": "\u0141ukasz \u015amia\u0142owski", "link": "https://stackoverflow.com/users/11198068/%c5%81ukasz-%c5%9amia%c5%82owski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 55148188, "answer_count": 1, "score": 1, "last_activity_date": 1552498927, "creation_date": 1552493728, "question_id": 55146556, "link": "https://stackoverflow.com/questions/55146556/spy-returns-callcount-0-when-used-as-object-property", "title": "Spy returns callcount 0 when used as object property", "body": "<p>I'm trying to write test that checks if third-part library functions has been called.</p>\n\n<p>The test: (mocha)</p>\n\n<pre><code>describe('SomeClassTest', () =&gt; {\n  describe('Setup', () =&gt; {\n    beforeEach(() =&gt; {\n      const channel = {createChannel: () =&gt; 'channel created'};\n      // @ts-ignore\n      this.channelSpy = Sinon.spy(channel, 'createChannel');\n      // @ts-ignore\n      Sinon.stub(amqplib, 'connect').returns(channel);\n  });\n    // @ts-ignore\n    afterEach(() =&gt; amqplib.connect.restore());\n\n    it('Should check if SomeClass has created Channel', () =&gt; {\n      const someclass = SomeClass.getInstance();\n      someclass.init();\n\n      // @ts-ignore\n      expect(amqplib.connect.callCount).to.be.eq(1); // True\n      // @ts-ignore\n      expect(this.channelSpy.callCount).to.be.eq(1); // False :(\n    });\n  });\n});\n</code></pre>\n\n<p>The class:</p>\n\n<pre><code>export default class SomeClass {\n\n  private connection?: amqplib.Connection;\n\n  public async init() {\n    await this.connect();\n    await this.createChannel();\n  }\n\n  private async connect(): Promise&lt;void&gt; {\n    this.connection = await amqplib.connect(this.connectionOptions);\n  }\n\n  private async createChannel(): Promise&lt;void&gt; {\n    if (!this.connection) {\n      throw new Error('Some Error :)');\n    }\n    this.channel = await this.connection.createChannel();\n  }\n}\n</code></pre>\n\n<p>I'm sure that this.connection.createChannel() has been called, but tests don't want to prove it, Would anyone help my poor soul?:)</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 764, "user_id": 799813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2eff6901bd6599cd9a6f808a2a960b46?s=128&d=identicon&r=PG", "display_name": "Tommie Jones", "link": "https://stackoverflow.com/users/799813/tommie-jones"}, "edited": false, "score": 0, "creation_date": 1552506142, "post_id": 55147074, "comment_id": 97040415, "body": "OK this worked but I have no idea how the if statement is evaluated at compile time."}, {"owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "reply_to_user": {"reputation": 764, "user_id": 799813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2eff6901bd6599cd9a6f808a2a960b46?s=128&d=identicon&r=PG", "display_name": "Tommie Jones", "link": "https://stackoverflow.com/users/799813/tommie-jones"}, "edited": false, "score": 0, "creation_date": 1552506826, "post_id": 55147074, "comment_id": 97040716, "body": "@TommieJones Well it&#39;s not actually getting evaluated. TS uses the abstract syntax tree to do this. But it&#39;s very basic, meaning writing <code>if ([bar instanceof ArrayBuffer][0] === true)</code> instead of <code>if (bar instanceof ArrayBuffer)</code> will not work even tho it does the same thing."}, {"owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "reply_to_user": {"reputation": 764, "user_id": 799813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2eff6901bd6599cd9a6f808a2a960b46?s=128&d=identicon&r=PG", "display_name": "Tommie Jones", "link": "https://stackoverflow.com/users/799813/tommie-jones"}, "edited": false, "score": 0, "creation_date": 1597168698, "post_id": 55147074, "comment_id": 112044186, "body": "Someone upvoted this, so I&#39;m getting back to the above comment and it&#39;s important to mention the way it works is <code>instanceof</code> is a &quot;type guard&quot; in TS, you can make you own with <code>is</code>. so the above comment is not very accurate, it does kinda get &quot;evaluated&quot;, not in the wild but in the type context like how all complex types do"}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": true, "score": 2, "last_activity_date": 1552496838, "last_edit_date": 1552496838, "creation_date": 1552495369, "answer_id": 55147074, "question_id": 55146508, "link": "https://stackoverflow.com/questions/55146508/typescript-and-dealing-with-filereader/55147074#55147074", "title": "typescript and dealing with FileReader", "body": "<p>Well you know TS is pretty dope xD. Write your code like you would normally write and it will interpret your code and things will roll.  </p>\n\n<pre><code>function foo() {\n    return (\n        Math.random() &lt; 0.5\n            ? \"damn dis shit wild\"\n            : new ArrayBuffer(1024)\n    )\n}\n\nlet bar = foo(); // string | ArrayBuffer\nif (bar instanceof ArrayBuffer) {\n    // bar is only ArrayBuffer in this block :O *.*\n    bar.byteLength; // &lt;-- no error\n} else {\n    bar.startsWith(\"damn\") // &lt;-- no error\n}\n</code></pre>\n\n<p>Here's a <a href=\"http://www.typescriptlang.org/play/#src=function%20foo()%20%7B%0D%0A%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20Math.random()%20%3C%200.5%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%22damn%20dis%20shit%20wild%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20new%20ArrayBuffer(1024)%0D%0A%20%20%20%20)%0D%0A%7D%0D%0A%0D%0Alet%20bar%20%3D%20foo()%3B%0D%0Aif%20(bar%20instanceof%20ArrayBuffer)%20%7B%0D%0A%20%20%20%20%2F%2F%20bar%20is%20only%20ArrayBuffer%20in%20this%20block%20%3AO%20*.*%0D%0A%20%20%20%20bar.byteLength%3B%20%2F%2F%20%3C--%20no%20error%0D%0A%7D%20else%20%7B%0D%0A%20%20%20%20bar.startsWith(%22damn%22)%20%2F%2F%20%3C--%20no%20error%0D%0A%7D\" rel=\"nofollow noreferrer\">demo</a>. I guess this is what you wanted?</p>\n\n<p>Btw you also mentioned by \"force\" huh so normal assertion would work too, but is not recommended because it can give runtime errors if <code>bar</code> is <code>string</code>.</p>\n\n<pre><code>function foo() {\n    return (\n        Math.random() &lt; 0.5\n            ? \"damn dis shit wild\"\n            : new ArrayBuffer(1024)\n    )\n}\n\nlet bar = &lt;ArrayBuffer&gt;foo();\nbar.byteLength; // &lt;-- no error\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=function%20foo()%20%7B%0D%0A%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20Math.random()%20%3C%200.5%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%22damn%20dis%20shit%20wild%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20new%20ArrayBuffer(1024)%0D%0A%20%20%20%20)%0D%0A%7D%0D%0A%0D%0Alet%20bar%20%3D%20%3CArrayBuffer%3Efoo()%3B%0D%0Abar.byteLength%3B%20%2F%2F%20%3C--%20no%20error\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 764, "user_id": 799813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2eff6901bd6599cd9a6f808a2a960b46?s=128&d=identicon&r=PG", "display_name": "Tommie Jones", "link": "https://stackoverflow.com/users/799813/tommie-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "accepted_answer_id": 55147074, "answer_count": 1, "score": 0, "last_activity_date": 1552496838, "creation_date": 1552493622, "question_id": 55146508, "link": "https://stackoverflow.com/questions/55146508/typescript-and-dealing-with-filereader", "title": "typescript and dealing with FileReader", "body": "<p>I am trying to read a file on the client side as an array buffer. Here is my code.</p>\n\n<pre><code>for (var index = 0; index &lt; input.files.length;index++) {\n  let reader = new FileReader();\n  console.log(input.files[index].name);\n  reader.onload = () =&gt; {\n    var data:ArrayBuffer = reader.result;\n    console.log(data.toString().length);\n  }\n  reader.readAsArrayBuffer(input.files[index])\n}\n</code></pre>\n\n<p>However my editor complains that reader.result returns (string | ArrayBuffer)</p>\n\n<p>However if I remove type type from the data. I am unable to use ArrayBuffer specific methods like byteLength.</p>\n\n<p>How do I force the reader.result to be an ArrayBuffer?</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "angular6"], "comments": [{"owner": {"reputation": 3689, "user_id": 1188208, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e16acff64f6a2eea7299925a4875ec28?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Lavieri", "link": "https://stackoverflow.com/users/1188208/luis-lavieri"}, "edited": false, "score": 1, "creation_date": 1552493933, "post_id": 55146448, "comment_id": 97033825, "body": "If these are forms, why aren&#39;t you letting angular solve the DOM manipulation? Are these <a href=\"https://angular.io/guide/forms\" rel=\"nofollow noreferrer\">template-driven forms or reactive forms</a>? If you set your forms correctly, you might not need the <code>setDropdowns()</code> function"}, {"owner": {"reputation": 61, "user_id": 10351758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ccbe046e01cdcb3c75f2b237f5c20?s=128&d=identicon&r=PG&f=1", "display_name": "J1297", "link": "https://stackoverflow.com/users/10351758/j1297"}, "reply_to_user": {"reputation": 3689, "user_id": 1188208, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e16acff64f6a2eea7299925a4875ec28?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Lavieri", "link": "https://stackoverflow.com/users/1188208/luis-lavieri"}, "edited": false, "score": 0, "creation_date": 1552551997, "post_id": 55146448, "comment_id": 97054938, "body": "I actually didn&#39;t know i could do interrogations in for example [selected]... thank you so much, i&#39;ve been hanging on this problem for quite a while."}, {"owner": {"reputation": 3689, "user_id": 1188208, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e16acff64f6a2eea7299925a4875ec28?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Lavieri", "link": "https://stackoverflow.com/users/1188208/luis-lavieri"}, "edited": false, "score": 0, "creation_date": 1552574120, "post_id": 55146448, "comment_id": 97069598, "body": "Yeah. Do the research first. I am 99.99% sure that you don&#39;t need <code>JQuery</code> at all. That&#39;s the whole point of <code>Angular</code>... you don&#39;t actually need to do anything with the DOM yourself."}], "owner": {"reputation": 61, "user_id": 10351758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ccbe046e01cdcb3c75f2b237f5c20?s=128&d=identicon&r=PG&f=1", "display_name": "J1297", "link": "https://stackoverflow.com/users/10351758/j1297"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552493438, "creation_date": 1552493438, "question_id": 55146448, "link": "https://stackoverflow.com/questions/55146448/waiting-for-ngfor-to-build-the-page-to-perform-dom-manipulation", "title": "Waiting for *ngFor to build the page to perform DOM Manipulation", "body": "<p>Community,</p>\n\n<p>i am having some problems with my Angular 6 - App which i'm unfortunately not able to solve after hours of thinking &amp; searching on google.</p>\n\n<p>I've got a component that is displaying Meetings, Projects and Tasks in a Form. Those forms require a lot of data from different collections to select from (if the user wants to change something). All of those are being loaded in my ngOnInit:</p>\n\n<pre><code>  ngOnInit() {\n    this.meetServ.getCompanyMeetings(false)\n      .subscribe(data =&gt; this.meetings = data as meeting[]);\n    this.deptServ.getCompanyDepartments()\n      .subscribe(data =&gt; this.depts = data as department[]);\n    this.CusServ.getCompanyCustomers()\n      .subscribe(data =&gt; this.customers = data as customer[]);\n    this.UserServ.getCompanyUsers()\n      .subscribe(data =&gt; {\n        this.users = data as user[];\n      })\n  }\n</code></pre>\n\n<p>When I'm done loading all the data, I want to set all of the dropdown menus to the right values. So I put a setDropdowns method in the subscription of the last http-request I am doing (also tried out of subscription).\nThe extend() Method is called by onclick event as soon as the User selects a Meeting:</p>\n\n<pre><code>extend(meetingID) {\n    document.getElementById(\"overlay\").remove()\n    this.meetServ.getMeetingbyID(meetingID)\n      .subscribe(data =&gt; {\n        this.singleMeeting = data as meeting\n        this.init(); //gets all the projects by ID of selected Meeting\n        this.setMeetingAccessLevel();\n        this.setMeetingComments();\n        this.setDropdowns(); // tried like this\n      })\n      this.setDropdowns(); // and like this\n  }\n</code></pre>\n\n<p>and my setDropdowns() Method looks like this:</p>\n\n<pre><code>  setDropdowns() {\n    var projectDivs = document.querySelectorAll(\"div.projectContent\");\n    console.log(this.projects.length)\n    for (var i = 0; i &lt; this.projects.length; i++) {\n      // Access Level\n      var opts = projectDivs[i].querySelector(\"#access\").querySelectorAll(\"option\");\n      (&lt;HTMLOptionElement&gt;opts[this.projects[i].accessLevel]).selected = true;\n      // Department\n      opts = projectDivs[i].querySelector(\"select#dept\").querySelectorAll(\"option\");\n      for (var j = 0; j &lt; this.depts.length; j++) {\n        if (this.depts[j]._id == this.projects[i].department) {\n          opts[j + 1].selected = true\n        }\n      }\n      //Customer\n      opts = projectDivs[i].querySelector(\"select#proCustomer\").querySelectorAll(\"option\")\n      for (var k = 0; k &lt; this.customers.length; k++) {\n        if (this.customers[k]._id == this.projects[i].customer) {\n          opts[k + 1].selected = true\n        }\n      }\n      //Official\n      var asd = (&lt;HTMLSelectElement&gt;projectDivs[i].querySelector(\"select#proinCharge\")).querySelectorAll(\"option\")\n      for (var l = 0; l &lt; this.users.length; l++) {\n        /* if (this.users[l]._id == this.projects[i].inCharge) {\n          asd[l].selected = true\n        } */\n      }\n    }\n  }\n</code></pre>\n\n<p>But when I look at the console, this.projects.length is either 0 or 2 (which is the actual number of projects in that meeting). The thing is, when I get it to log 2, the projectDivs[i].querySelector(\"#access\") part errors \"Cannot read property 'querySelector' of undefined\", which actually makes no sense, since projectDivs are generated like this:</p>\n\n<pre><code>&lt;div class=\"projectContent\" id=\"projectContent\" *ngFor=\"let project of projects\"&gt;\n</code></pre>\n\n<p>and console.log(this.projects.length) returns 2 earlier.</p>\n\n<p>So projects are loaded but the HTML seems to not be loaded properly at that point.\nNow for sure i googled this a lot and tried out stuff like jQuery document.ready and checked if document.readyState == complete, but it seems to only apply to the static document and not to the *ngFor generated elements.</p>\n\n<p>So obviously my question in the end is: Is there any way to wait for all *ngFor generated elements or is there just a much easier way of doing this which is wasn't able to spot?</p>\n\n<p>Thanks in advance for all the upcoming answers.</p>\n\n<p>Greetings</p>\n"}, {"tags": ["angular", "typescript", "angular6", "observable", "angular7"], "comments": [{"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1552494625, "post_id": 55146432, "comment_id": 97034226, "body": "If you map to the Employee (even is it is already), do you still have the problem ?"}, {"owner": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "edited": false, "score": 0, "creation_date": 1552495108, "post_id": 55146432, "comment_id": 97034497, "body": "Once you <code>console.log</code> data make sure you also return that <code>data</code> (<i>return data;</i>)"}], "answers": [{"tags": [], "owner": {"reputation": 989, "user_id": 5835354, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b271e5fbce867a91b76d6224825e4d08?s=128&d=identicon&r=PG&f=1", "display_name": "shiva krishna", "link": "https://stackoverflow.com/users/5835354/shiva-krishna"}, "is_accepted": true, "score": 1, "last_activity_date": 1552495936, "last_edit_date": 1552495936, "creation_date": 1552495114, "answer_id": 55146996, "question_id": 55146432, "link": "https://stackoverflow.com/questions/55146432/type-observable-employee-is-not-assignable-to-type-observableemployee/55146996#55146996", "title": "Type &#39;Observable&lt;{} | Employee&gt;&#39; is not assignable to type &#39;Observable&lt;Employee&gt;&#39;", "body": "<p>It is because of that <code>catchError()</code> in the service. <code>tap()</code> operator simply returns whatever it gets in and catch probably <code>HttpErrorResponse</code> or <code>{}</code></p>\n\n<p>So,</p>\n\n<h3>1 =></h3>\n\n<pre><code>getEmployees(): Observable&lt;Employee&gt; {\nreturn this.http.get&lt;Employee&gt;(this.url)\n  .pipe(tap(data =&gt; console.log(JSON.stringify(data)))\n}\n</code></pre>\n\n<p>=> or simply</p>\n\n<pre><code>getEmployees(): Observable&lt;Employee&gt; {\n    return this.http.get&lt;Employee&gt;(this.url);\n}\n</code></pre>\n\n<h3>2 =></h3>\n\n<pre><code>getEmployees(): Observable&lt;Employee | {}&gt; {\nreturn this.http.get&lt;Employee&gt;(this.url)\n  .pipe(tap(data =&gt; console.log(JSON.stringify(data))), catchError(this.errorHandler))\n}\nerrorHandler(error: HttpErrorResponse) {\n   return observableThrowError(error.message || 'Server Error');\n}\n</code></pre>\n\n<p>and then typecast it in your <code>subscribe()</code></p>\n\n<pre><code>ngOnInit(): void {\nthis.employeeService.getEmployees()\n  .subscribe(res =&gt; {\n    this.employeeDetail = res as Employee ;\n    console.log(this.employeeDetail);\n  }, error =&gt; console.log(error));\n} \n</code></pre>\n"}], "owner": {"reputation": 1391, "user_id": 6536031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08560f4edf566641348122942ce57d97?s=128&d=identicon&r=PG&f=1", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/6536031/gowtham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 55146996, "answer_count": 1, "score": 0, "last_activity_date": 1552495936, "creation_date": 1552493385, "question_id": 55146432, "link": "https://stackoverflow.com/questions/55146432/type-observable-employee-is-not-assignable-to-type-observableemployee", "title": "Type &#39;Observable&lt;{} | Employee&gt;&#39; is not assignable to type &#39;Observable&lt;Employee&gt;&#39;", "body": "<p>I have tried the following code but I end up with the following issue in my <strong>employee.service.ts</strong> , I referred many stack overflow but I couldn't find out the exact solution</p>\n\n<p><a href=\"https://i.stack.imgur.com/bTmmy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bTmmy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my code </p>\n\n<p><strong>employee.ts</strong></p>\n\n<pre><code>export class Employee {\n  public empId: number;\n  public empName: string;\n  public empEmail: string;\n  public empMobile: number;\n  public empDob: string;\n  public empExpertise: string;\n  public empAddress: string;\n  public empBloodGroup: string;\n  public empAge: number;\n  public totalYrsExp: number;\n  public listAcademic: Academics[];\n  public listExperience: Experience[];\n}\nclass Academics {\n  instName: string;\n  degree: string;\n  percentage: string;\n  startDate: string;\n  endDate: string;\n}\nclass Experience {\n  companyName: string;\n  designation: string;\n  startDate: string;\n  endDate: string;\n}\n</code></pre>\n\n<p><strong>assets/employee.json</strong></p>\n\n<pre><code>[\n  {\n    \"empId\": 1,\n    \"empName\": \"prads\",\n    \"empEmail\": \"me@gmail.com\",\n    \"empMobile\": \"946567457\",\n    \"empDob\": \"01/01/1992\",\n    \"empExpertise\": \"test\",\n    \"empAddress\": \"Che- 41\",\n    \"empBloodGroup\": \"A+\",\n    \"empAge\": 26,\n    \"totalYrsExp\": 3.4,\n    \"listAcademic\": [\n      {\n        \"instName\": \"Jaya\",\n        \"degree\": \"B.E\",\n        \"percentage\": \"7.4%\",\n        \"startDate\": \"01/08/2010\",\n        \"endDate\": \"15/04/2014\"\n      }\n    ],\n    \"listExperience\": [\n      {\n        \"companyName\": \"Alti\",\n        \"designation\": \"sen enginerr\",\n        \"startDate\": \"25/11/2018\",\n        \"endDate\": \"Current\"\n      },\n      {\n        \"companyName\": \"TCS\",\n        \"designation\": \"enginerr\",\n        \"startDate\": \"22/6/2017\",\n        \"endDate\": \"15/11/2018\"\n      }\n    ]\n  },\n  {\n    \"empId\": 6,\n    \"empName\": \"Dinesh\",\n    \"empEmail\": \"me@gmail.com\",\n    \"empMobile\": \"944567457\",\n    \"empDob\": \"01/01/1992\",\n    \"empExpertise\": \"test\",\n    \"empAddress\": \"Che- 41\",\n    \"empBloodGroup\": \"A+\",\n    \"empAge\": 26,\n    \"totalYrsExp\": 3.4,\n    \"listAcademic\": [\n      {\n        \"instName\": \"Jaya\",\n        \"degree\": \"B.E\",\n        \"percentage\": \"7.4%\",\n        \"startDate\": \"01/08/2010\",\n        \"endDate\": \"15/04/2014\"\n      }\n    ],\n    \"listExperience\": [\n      {\n        \"companyName\": \"Alti\",\n        \"designation\": \"sen enginerr\",\n        \"startDate\": \"25/11/2018\",\n        \"endDate\": \"Current\"\n      },\n      {\n        \"companyName\": \"TCS\",\n        \"designation\": \"enginerr\",\n        \"startDate\": \"22/6/2017\",\n        \"endDate\": \"15/11/2018\"\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p><strong>employee.service.ts</strong></p>\n\n<pre><code>import { throwError as observableThrowError, Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Employee } from './model/employee';\nimport { tap, catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class EmployeeService {\n\n  private url = '../../../assets/employee.json';\n\n  constructor(private http: HttpClient) { }\n\n  getEmployees(): Observable&lt;Employee&gt; {\n    return this.http.get&lt;Employee&gt;(this.url)\n      .pipe(tap(data =&gt; console.log(JSON.stringify(data))), catchError(this.errorHandler))\n  }\n  errorHandler(error: HttpErrorResponse) {\n    return observableThrowError(error.message || 'Server Error');\n  }\n\n}\n</code></pre>\n\n<p><strong>employee.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Employee } from './model/employee';\nimport { EmployeeService } from './employee.service';\n@Component({\n  selector: 'app-employee',\n  templateUrl: './employee.component.html',\n  styleUrls: ['./employee.component.css']\n})\nexport class EmployeeComponent implements OnInit {\n\n  employeeDetail: Employee;\n  errorMessage;\n  constructor(private employeeService: EmployeeService) {\n\n  }\n\n\n  ngOnInit(): void {\n    this.employeeService.getEmployees()\n      .subscribe(res =&gt; {\n        this.employeeDetail = res;\n        console.log(this.employeeDetail);\n      }, error =&gt; console.log(error));\n  }\n\n\n}\n</code></pre>\n"}, {"tags": ["django", "angular", "typescript", "django-rest-framework", "swagger"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "edited": false, "score": 0, "creation_date": 1552492961, "post_id": 55146242, "comment_id": 97033168, "body": "can you share how your urls.py looks like and the code you&#39;re using to link the button?"}, {"owner": {"reputation": 514, "user_id": 8499517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726b2880de5671d17a760ee366bd4584?s=128&d=identicon&r=PG&f=1", "display_name": "thedbogh", "link": "https://stackoverflow.com/users/8499517/thedbogh"}, "edited": false, "score": 0, "creation_date": 1552493622, "post_id": 55146242, "comment_id": 97033616, "body": "@RudolfOlah I updated the question. Any ideas?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "edited": false, "score": 0, "creation_date": 1552494104, "post_id": 55146242, "comment_id": 97033921, "body": "one option is to use URL rewriting with NGINX or Apache or whatever your web server is and to have the <code>&#47;frontend&#47;docs</code> rewritten as <code>&#47;backend&#47;docs</code>. You could also use an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\" rel=\"nofollow noreferrer\">iframe</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1161, "user_id": 5597085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y2wtF.jpg?s=128&g=1", "display_name": "Kyle Burkett", "link": "https://stackoverflow.com/users/5597085/kyle-burkett"}, "is_accepted": false, "score": 0, "last_activity_date": 1552496113, "creation_date": 1552496113, "answer_id": 55147355, "question_id": 55146242, "link": "https://stackoverflow.com/questions/55146242/how-can-i-embed-django-rest-api-documentation-on-the-angular-landing-page/55147355#55147355", "title": "How can I embed Django REST API documentation on the Angular landing page?", "body": "<p>Create a new component and route in your Angular app, link to that route.</p>\n\n<p>Put nothing in that component except an iFrame that loads your documentation page. </p>\n"}], "owner": {"reputation": 514, "user_id": 8499517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726b2880de5671d17a760ee366bd4584?s=128&d=identicon&r=PG&f=1", "display_name": "thedbogh", "link": "https://stackoverflow.com/users/8499517/thedbogh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1552496113, "creation_date": 1552492819, "last_edit_date": 1552493580, "question_id": 55146242, "link": "https://stackoverflow.com/questions/55146242/how-can-i-embed-django-rest-api-documentation-on-the-angular-landing-page", "title": "How can I embed Django REST API documentation on the Angular landing page?", "body": "<p>Any ideas how can I embed Django Swagger Documentation or built-in documentation on the Angular frontend? I mean by clicking documentation button on the landing page the user will be routed to the swagger documentation in the area of the same domain. At the moment I can redirect the user for instance from <code>frontenddomain</code> to <code>backenddomain/doc</code> but it may be bothersome because new tab will be opened in the web browser. Maybe you could recommend other solution than Swagger? I just to want display the user all the endpoints of the api in my landing page. Any ideas?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I know how to do routing to the another component etc. I just wonder how can I embed documentation in one of these components? Or maybe there is any other better solution? At the moment I can do for instance like show below. But as you can see it redirects the user to another domain. I would prefer something like this <code>[routerLink]=\"['/cloud']\"</code> and I the <code>/cloud</code> I would have my Swagger documentation. If any additional information is required just let me know. I hope that you will understand what I want to achieve.</p>\n\n<pre><code>&lt;/li&gt;\n        &lt;li class = 'nav-item' *ngIf=\"!isDocumentation() &amp;&amp; !sidebarVisible &amp;&amp; !isWelcome()\"&gt;\n          &lt;p class='sidebar-false-documentation' *ngIf=\"isCloud()\"&gt;\n          &lt;a href=\"http://localhost:8000/doc\" class=\"nav-link\" target=\"_blank\"&gt;&lt;i\n            class=\"nc-icon nc-book-bookmark\"&gt;&lt;/i&gt;Documentation&lt;/a&gt;\n          &lt;/p&gt;\n        &lt;/li&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1552492638, "post_id": 55146141, "comment_id": 97032920, "body": "looks like <code>fruit</code> variable is an object (judging by it having the <code>color</code> property) so you&#39;re trying to call <code>this[&#39;[object Object]&#39;]()</code> or smth like this."}, {"owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1552492696, "post_id": 55146141, "comment_id": 97032968, "body": "If <code>fruit</code> were actually a string than proper way would be <code>this[fruit]()</code>"}, {"owner": {"reputation": 1743, "user_id": 1767328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49f0619ba0f9ff98bb1b29869dd8da12?s=128&d=identicon&r=PG&f=1", "display_name": "bruh", "link": "https://stackoverflow.com/users/1767328/bruh"}, "reply_to_user": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1552492753, "post_id": 55146141, "comment_id": 97033010, "body": "Correct, fruit is an object - just updated the question. But in the iterator, it is just a key, which is a &#39;string&#39;. How can I use that value, just the value, to call a similar-named function?"}, {"owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 1, "creation_date": 1552492809, "post_id": 55146141, "comment_id": 97033050, "body": "Okay, so you&#39;re iterating an object using <code>in</code> operator, so <code>fruit</code> variable is a string, so correct way to check its color would be <code>if (fruits[fruit].color === &#39;green&#39;)</code>"}, {"owner": {"reputation": 1743, "user_id": 1767328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49f0619ba0f9ff98bb1b29869dd8da12?s=128&d=identicon&r=PG&f=1", "display_name": "bruh", "link": "https://stackoverflow.com/users/1767328/bruh"}, "reply_to_user": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1552492910, "post_id": 55146141, "comment_id": 97033130, "body": "You&#39;re right @Andrey , my example was just wrong - I&#39;ll update the iterator, however the <code>this[fruit]()</code> doesn&#39;t do anything."}, {"owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1552493104, "post_id": 55146141, "comment_id": 97033262, "body": "let me check with real angular app @bruh"}, {"owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1552493743, "post_id": 55146141, "comment_id": 97033702, "body": "<a href=\"https://codesandbox.io/s/38k698o3q5\" rel=\"nofollow noreferrer\">codesandbox.io/s/38k698o3q5</a> - it works, you can check the <code>app.component.ts</code> in the sandbox"}], "answers": [{"comments": [{"owner": {"reputation": 1743, "user_id": 1767328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49f0619ba0f9ff98bb1b29869dd8da12?s=128&d=identicon&r=PG&f=1", "display_name": "bruh", "link": "https://stackoverflow.com/users/1767328/bruh"}, "edited": false, "score": 0, "creation_date": 1552492843, "post_id": 55146206, "comment_id": 97033081, "body": "Unfortunately it does not have a name property (my real example the value is actually a boolean). I just want to use the key name, which is a string, is there no way to do that?"}, {"owner": {"reputation": 977, "user_id": 4086736, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/092af807dc807c50beaaa4dcf045e4c8?s=128&d=identicon&r=PG", "display_name": "Mohamad Al Asmar", "link": "https://stackoverflow.com/users/4086736/mohamad-al-asmar"}, "reply_to_user": {"reputation": 1743, "user_id": 1767328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49f0619ba0f9ff98bb1b29869dd8da12?s=128&d=identicon&r=PG&f=1", "display_name": "bruh", "link": "https://stackoverflow.com/users/1767328/bruh"}, "edited": false, "score": 0, "creation_date": 1552493890, "post_id": 55146206, "comment_id": 97033797, "body": "@bruh I don&#39;t think this is the best practice even if its working, imaging then you have 100 fruit, will you be able to maintain your code ? You have to pass in the fruit as a property to a single function that takes care of your business. check my answer below please."}], "tags": [], "owner": {"reputation": 3285, "user_id": 7089383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19c17904d52d7d3f82d034fa0c9ae56?s=128&d=identicon&r=PG", "display_name": "Avanthika", "link": "https://stackoverflow.com/users/7089383/avanthika"}, "is_accepted": false, "score": 1, "last_activity_date": 1552492977, "last_edit_date": 1552492977, "creation_date": 1552492713, "answer_id": 55146206, "question_id": 55146141, "link": "https://stackoverflow.com/questions/55146141/use-loop-variable-to-make-same-named-function-call-javascript/55146206#55146206", "title": "Use loop variable to make same-named function call - Javascript", "body": "<p>You need to do the following to get your code working, we have to call <code>this[key_in_obj]()</code> to run the function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const fruit = {\r\n    apple: { color: 'green' },\r\n    banana: { color: 'yellow' },\r\n    kiwi: { color: 'green' }\r\n  }\r\nfor(let fru in fruit) {\r\n  console.log(fru);\r\n  if (fruit[fru].color === \"green\") {\r\n    this[fru]();\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1743, "user_id": 1767328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49f0619ba0f9ff98bb1b29869dd8da12?s=128&d=identicon&r=PG&f=1", "display_name": "bruh", "link": "https://stackoverflow.com/users/1767328/bruh"}, "edited": false, "score": 0, "creation_date": 1552493105, "post_id": 55146252, "comment_id": 97033265, "body": "This was right, my iterator in my application was incorrect. Thanks"}], "tags": [], "owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "is_accepted": true, "score": 2, "last_activity_date": 1552492862, "creation_date": 1552492862, "answer_id": 55146252, "question_id": 55146141, "link": "https://stackoverflow.com/questions/55146141/use-loop-variable-to-make-same-named-function-call-javascript/55146252#55146252", "title": "Use loop variable to make same-named function call - Javascript", "body": "<p>I think that would be the correct way of doing what you want</p>\n\n<pre><code>const fruits = {\n  apple: { color: 'green' },\n  banana: { color: 'yellow' },\n  kiwi: { color: 'green' }\n}\n\nngOnInit() {\n  for ( let fruit in this.fruittree ) {\n    if ( fruits[fruit].color === 'green' ) {\n      // I want to use the current iterator\n      this[fruit]();\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 977, "user_id": 4086736, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/092af807dc807c50beaaa4dcf045e4c8?s=128&d=identicon&r=PG", "display_name": "Mohamad Al Asmar", "link": "https://stackoverflow.com/users/4086736/mohamad-al-asmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1552493986, "last_edit_date": 1552493986, "creation_date": 1552493675, "answer_id": 55146532, "question_id": 55146141, "link": "https://stackoverflow.com/questions/55146141/use-loop-variable-to-make-same-named-function-call-javascript/55146532#55146532", "title": "Use loop variable to make same-named function call - Javascript", "body": "<p>I see you are trying to do some logic basic on a static condition using multiple functions named as per param value in the iterator, the correct method to do this is by creating one function and passing the fruit as a property and then do the logic there based on the property value itself using switch statement (you can also use if else conditions).</p>\n\n<pre><code>    const fruits = {\n        apple: { color: 'green' },\n        banana: { color: 'yellow' },\n        kiwi: { color: 'green' }\n    }\n    handleGreenFruit(fruit: string) {\n        switch (fruit) {\n            case 'apple':\n                console.log('do apple stuff')\n                break;\n            case 'kiwi':\n                console.log('do kiwi stuff')\n                break;\n        }\n    }\n    ngOnInit() {\n        for (let fruit in this.fruits) {\n            if (this.fruits[fruit].color === 'green') {\n                this.handleGreenFruit(fruit);\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1743, "user_id": 1767328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49f0619ba0f9ff98bb1b29869dd8da12?s=128&d=identicon&r=PG&f=1", "display_name": "bruh", "link": "https://stackoverflow.com/users/1767328/bruh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55146252, "answer_count": 3, "score": 0, "last_activity_date": 1552493986, "creation_date": 1552492499, "last_edit_date": 1552492956, "question_id": 55146141, "link": "https://stackoverflow.com/questions/55146141/use-loop-variable-to-make-same-named-function-call-javascript", "title": "Use loop variable to make same-named function call - Javascript", "body": "<p>I have a loop in an init function:</p>\n\n<pre><code>  fruits = {\n    apple: { color: 'green' },\n    banana: { color: 'yellow' },\n    kiwi: { color: 'green' }\n  }\n\n  ngOnInit() {\n    for ( let fruit in this.fruits ) {\n      if ( this.fruits[fruit].color === 'green' ) {\n        // I want to use the current iterator\n        this[fruit]()\n      }\n    }\n  }\n</code></pre>\n\n<p>As you can see, I'm trying to make method calls to functions that satisfy the condition. The functions will have the same name as the \"loop iterator\" - I just can't figure out how to make the call with a dynamic name.</p>\n\n<pre><code>  apple() { ... }\n  banana() { ... }\n  kiwi() { ... }\n</code></pre>\n\n<p>So, if you look at the condition in the loop, <code>apple()</code> and <code>kiwi()</code> should be called, assuming they are green fruits.</p>\n\n<p><strong>Question: how do I put together the function call correctly, in the ngOnInit function?</strong></p>\n\n<p>I have tried:\n<code>this[fruit]()</code> , <code>this.fruit()</code> , <code>this['fruit']</code> . What is the correct way?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1599, "user_id": 4219258, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/80157a5a5b13ce2808aed07dbd346ea8?s=128&d=identicon&r=PG&f=1", "display_name": "Mischa", "link": "https://stackoverflow.com/users/4219258/mischa"}, "edited": false, "score": 0, "creation_date": 1552911998, "post_id": 55147262, "comment_id": 97177554, "body": "thanks for the answer, I understand that this works, but it means creating something that I feel should not be necessary. However I understand from the lack of response that their is no clear TS intended way of doing this."}, {"owner": {"reputation": 2686, "user_id": 121199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0b142f1643d204484b417a76694e60?s=128&d=identicon&r=PG", "display_name": "filippo", "link": "https://stackoverflow.com/users/121199/filippo"}, "reply_to_user": {"reputation": 1599, "user_id": 4219258, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/80157a5a5b13ce2808aed07dbd346ea8?s=128&d=identicon&r=PG&f=1", "display_name": "Mischa", "link": "https://stackoverflow.com/users/4219258/mischa"}, "edited": false, "score": 0, "creation_date": 1552985193, "post_id": 55147262, "comment_id": 97206664, "body": "Yes. having something like go tags would be great. But I haven&#39;t find anything similar yet. See <a href=\"https://stackoverflow.com/a/30889373/121199\">stackoverflow.com/a/30889373/121199</a> to see what tags  can do"}], "tags": [], "owner": {"reputation": 2686, "user_id": 121199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0b142f1643d204484b417a76694e60?s=128&d=identicon&r=PG", "display_name": "filippo", "link": "https://stackoverflow.com/users/121199/filippo"}, "is_accepted": true, "score": 1, "last_activity_date": 1552495855, "creation_date": 1552495855, "answer_id": 55147262, "question_id": 55145791, "link": "https://stackoverflow.com/questions/55145791/what-is-the-best-way-in-typescript-to-manage-model-instantiation-and-creation/55147262#55147262", "title": "What is the best way in typescript to manage model instantiation and creation?", "body": "<p>When I have to convert between two different representation for some data I first create an interface using generics that represents a mapper between the two representations:</p>\n\n<pre><code>export interface IMapper&lt;T, R&gt; {\n    toDTO(model: T): R;\n\n    toModel(dto: R): T;\n}\n</code></pre>\n\n<p>Then in the implementation of the method toDTO and toModel I manage the mapping of informations between the two classes:</p>\n\n<pre><code>class MyMapper implements IMapper&lt;MyModel, MyModelDTO&gt; {\n    public toDTO(model: MyModel) {\n        let dto = new MyModelDTO(....);\n        // map model infos to dto\n        ....\n        returFor the convertion sometimes I n dto;\n    }\n    public toModel(dto: MyModelDTO) {\n        let model = new MyModel(....);\n        // map dto infos to model\n        ....\n        return model;\n    }\n}\n</code></pre>\n\n<p>The convertion is different case by case.</p>\n\n<p>Sometimes it can be something simple like:</p>\n\n<pre><code>for (let prop in model) {\n  if (dto[prop]) { \n    dto[prop] = model[prop] \n  }\n}\n</code></pre>\n\n<p>In other cases I use a object to aide mapping properties of model to those of dto eg:</p>\n\n<pre><code>class MyMapper implements IMapper&lt;MyModel, MyModelDTO&gt; {\n    private readonly modelToDto = {foo: 'property1', bar: 'prop2'};\n\n    public toDTO(model: MyModel) {\n        let dto = new MyModelDTO(....);\n        Object.keys(this.fields).forEach((k) =&gt; {\n            dto[this.fields[k]] = model[k];\n        });\n\n        return dto\n    }\n\n    ....\n}\n</code></pre>\n"}], "owner": {"reputation": 1599, "user_id": 4219258, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/80157a5a5b13ce2808aed07dbd346ea8?s=128&d=identicon&r=PG&f=1", "display_name": "Mischa", "link": "https://stackoverflow.com/users/4219258/mischa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 2, "accepted_answer_id": 55147262, "answer_count": 1, "score": 1, "last_activity_date": 1552495855, "creation_date": 1552491505, "question_id": 55145791, "link": "https://stackoverflow.com/questions/55145791/what-is-the-best-way-in-typescript-to-manage-model-instantiation-and-creation", "title": "What is the best way in typescript to manage model instantiation and creation?", "body": "<p>I've been struggling with the right way to instantiate and initialise a model in typescript. In my project I'm using nest where I get an object via an API which is validated by casting it to a DTO, the DTO should then be used to create an instance of the model.</p>\n\n<p>I believe the standard way would be like this:</p>\n\n<pre><code>class myModel {\n   public constructor (public property: string) {\n   }\n}\n\nclass MyModelDto {\n    public property: string;\n}\n\n// instantiation function, the input would come from an http post body:\npublic function createMyModel(bodyData: MyModelDto) {\n      const myModel = new MyModel(bodyData.property);\n}\n\n</code></pre>\n\n<p>The upside is that it will never create a myModel instantiation with the wrong properties, since they are all required and you can't pass extra properties to the model. \nThe problem however is that you have to add the full list with each instantiation of your model. This is fine with a few properties, but gets a bit tedious as soon as you introduce multiple (10+). Also because the order matters, you run the risk of inputting the wrong data into the wrong property. As long as the types are the same, your compiler won't complain. </p>\n\n<p>So an alternative to this would be:</p>\n\n<pre><code>class myModel {\n   public property: string\n\n   public constructor (data: myModelInterface) {\n      Object.assign(this, data)\n   }\n}\n\ninterface myModelInterface {\n  property: string;\n}\n\nclass MyModelDto {\n    public property: string;\n}\n\n// instantiation function, the input would come from an http post body:\npublic function createMyModel(bodyData: MyModelDto) {\n      const myModel = new MyModel(bodyData);\n}\n</code></pre>\n\n<p>This is already a lot cleaner on the instantiation. Even though you have to have the same list of properties twice (model &amp; interface) you will never have more than 2. \nThis would have my preference, but the downside of this, is that the compiler will only tell you that bodyData is wrong if you OMIT properties from the MyModelDto definition, but if you add extra properties, it will not complain, nor will it omit the data in your <code>const myModel</code>. Effectively negating a lot of the typescript benefits.</p>\n\n<p>It would be nice if <code>Obect.assign</code> only takes the properties specified in the <code>MyModel</code> class, or if the myModel interface would complain on any difference between the input and the interface, rather than just on a property not being there. But I don't think that is how javascript works.</p>\n\n<p>I have tried some other options (creating my own version of Object.assign), but nothing I have found is a clean way to implement this. I am a little surprised that something that is this basic doesn't seem to have a clearcut solution. (but maybe I am just being naive).</p>\n"}, {"tags": ["typescript", "typescript-typings", "typing"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1552491487, "post_id": 55145634, "comment_id": 97032094, "body": "The problem is that the accessor parameter makes everything required. For the first level maybe we could do something like try to lookup property types to figure out what the original type was but this seems like a bad and brittle idea and it would not work for nested objects. Might I suggest not making the parameter <code>RequiredRecursively</code> and using <code>!</code> instead. This will not be syntactically very bad but it would preserve original types. Something like <code>get(obj, it =&gt; it!.objectField!.nestedObject)</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1552494759, "post_id": 55145634, "comment_id": 97034315, "body": "I&#39;ve <a href=\"https://stackoverflow.com/a/54354538/2887218\">tackled this before</a> and the only way I dealt with it was to use phantom types to hold references to the original type"}], "owner": {"reputation": 188, "user_id": 3917988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da78cc33b174e8dd1d6147f19dddb207?s=128&d=identicon&r=PG", "display_name": "Andrii Los", "link": "https://stackoverflow.com/users/3917988/andrii-los"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552491070, "creation_date": 1552491070, "question_id": 55145634, "link": "https://stackoverflow.com/questions/55145634/how-to-make-type-lookup-to-original-type-to-defer-its-return-type", "title": "How to make type lookup to original type to defer its return type", "body": "<p>I built some neat <code>ts-get</code> library that helps to live without optional-chaining for some time. But I'm struggling with one typing case that I can't resolve.\nBasically, if not a scalar, but an object type is returned from AccessorFunction I want to look up to original <code>T</code> type, for an original nested type. For scalars, I want to keep the behavior I have.</p>\n\n<p>Here is the original code:\n<a href=\"https://github.com/RIP21/ts-get/blob/master/src/index.ts\" rel=\"nofollow noreferrer\">https://github.com/RIP21/ts-get/blob/master/src/index.ts</a></p>\n\n<p>Issue is with case like that.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Original = {\n  objectField?: {\n    optionalField?: string | undefined\n  }\n}\n\nconst obj = {} as Original\n\nconst a = get(obj, it =&gt; it.objectField)\n//    ^ is of type { optionalField: string } | undefined\n// expected type in this case { optionalField?: string | undefined } | undefined\n</code></pre>\n\n<p>If you guys will be able to help it will make our life a bit better and a bit more correctly typed ^_^</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 3036987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0d1Ae.png?s=128&g=1", "display_name": "oopinou", "link": "https://stackoverflow.com/users/3036987/oopinou"}, "edited": false, "score": 0, "creation_date": 1552554782, "post_id": 55158114, "comment_id": 97056517, "body": "If i do so i got the error <code>Cannot find type definition file for &#39;common&#39;.</code>. VSCode also complain for not found types"}, {"owner": {"reputation": 164, "user_id": 10770079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff209f63d7df9f9f6cd806d592c30d0e?s=128&d=identicon&r=PG&f=1", "display_name": "Felix B.", "link": "https://stackoverflow.com/users/10770079/felix-b"}, "reply_to_user": {"reputation": 103, "user_id": 3036987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0d1Ae.png?s=128&g=1", "display_name": "oopinou", "link": "https://stackoverflow.com/users/3036987/oopinou"}, "edited": false, "score": 0, "creation_date": 1552556495, "post_id": 55158114, "comment_id": 97057572, "body": "You can use modules to import classes in your common files. In your <code>declaration.ts</code>: <code>export class Declaration { \u2026 }</code>. In your <code>utils.ts</code>: <code>import * as Declaration1 from &#39;..&#47;@types&#47;declaration1</code>. You can now use <code>Declaration1.Declaration</code> to access your class/type. There is also no need to include <code>typeRoots</code> in your <code>tsconfig.json</code> anymore."}], "tags": [], "owner": {"reputation": 164, "user_id": 10770079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff209f63d7df9f9f6cd806d592c30d0e?s=128&d=identicon&r=PG&f=1", "display_name": "Felix B.", "link": "https://stackoverflow.com/users/10770079/felix-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1552553153, "last_edit_date": 1552553153, "creation_date": 1552552804, "answer_id": 55158114, "question_id": 55145331, "link": "https://stackoverflow.com/questions/55145331/typescript-includes-types-in-paths-but-not-compile-them/55158114#55158114", "title": "typescript - Includes types in paths, but not compile them", "body": "<p>To include types but not compile them, add them to <code>\"typeRoots\"</code> in your <code>tsconfig.json</code>. Everything in <code>\"include\"</code> will be compiled.</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"typeRoots\": [ \"@types\", \"tests\" ]\n  }\n}\n</code></pre>\n\n<p>To ignore files or directories use the <code>\"exclude\"</code> option, for example:</p>\n\n<pre><code>{\n  \"exclude\": [\n    \"node_modules\",\n    \"wwwroot\"\n  ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 12372495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5cdd5c8e9c179b66210056fb6a2b6d5?s=128&d=identicon&r=PG", "display_name": "Garry Xiao", "link": "https://stackoverflow.com/users/12372495/garry-xiao"}, "is_accepted": false, "score": 0, "last_activity_date": 1597027079, "creation_date": 1597027079, "answer_id": 63333405, "question_id": 55145331, "link": "https://stackoverflow.com/questions/55145331/typescript-includes-types-in-paths-but-not-compile-them/63333405#63333405", "title": "typescript - Includes types in paths, but not compile them", "body": "<p>You could create a new tsconfig.json under the folders you don't want to build, add 'noEmit: true' in it.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 12567737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dc648e4fc8966a863f556925c007f6?s=128&d=identicon&r=PG&f=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/12567737/terry"}, "is_accepted": false, "score": 0, "last_activity_date": 1597050910, "creation_date": 1597050910, "answer_id": 63337336, "question_id": 55145331, "link": "https://stackoverflow.com/questions/55145331/typescript-includes-types-in-paths-but-not-compile-them/63337336#63337336", "title": "typescript - Includes types in paths, but not compile them", "body": "<p>Try creating new tsconfig.json under the folder you don't want to build and add below:</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;noEmit&quot;: true\n  },\n  &quot;exclude&quot;: [&quot;src/**/*.ts&quot;]     // files you want to build\n}\n</code></pre>\n<p>and include files you want to build in original tsconfig.json:</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    ...\n  },\n  &quot;include&quot;: [&quot;src/**/*.ts&quot;]     // files you want to build\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 3036987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0d1Ae.png?s=128&g=1", "display_name": "oopinou", "link": "https://stackoverflow.com/users/3036987/oopinou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 706, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1597050910, "creation_date": 1552490248, "last_edit_date": 1552552511, "question_id": 55145331, "link": "https://stackoverflow.com/questions/55145331/typescript-includes-types-in-paths-but-not-compile-them", "title": "typescript - Includes types in paths, but not compile them", "body": "<p>I got an issue in typescript. I have the following hierarchy :</p>\n\n<pre><code>.\n+-- @types\n|   +-- declaration1.ts\n|   +-- declaration2.ts\n+-- common\n|   +-- utils1.ts\n|   +-- utils2.ts\n+-- tests\n|   +-- utils1.test.ts\n|   +-- utils2.test.ts\n</code></pre>\n\n<p>In my tsconfig.json, i put this configuration to have all my types exposed in both tests and commons (or vscode complains) : </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"build/\",\n  },\n  \"include\": [\"tests\", \"common\", \"@types\"]\n}\n\n</code></pre>\n\n<p>My problem is, that i don't want to compile all this stuffs, i just want to compile the commons (which are utils, i cannot get a single (or even multiple) entrypoint(s)).</p>\n\n<p>So i'd like to type <code>tsc</code> and get a <code>build</code> folder fill like this :</p>\n\n<pre><code>.\n+-- build\n|   +-- common\n|   |   +-- utils1.js\n|   |   +-- utils2.js\n// nothing else\n</code></pre>\n\n<p>Instead i got this : </p>\n\n<pre><code>.\n+-- build\n|   +-- @types\n|   |   +-- declaration1.js\n|   |   +-- declaration2.js\n|   +-- common\n|   |   +-- utils1.js\n|   |   +-- utils2.js\n|   +-- tests\n|   |   +-- utils1.test.js\n|   |   +-- utils2.test.js\n</code></pre>\n\n<p>I cannot get how to exclude this directories from compiles.</p>\n\n<p>Thanks if anyone has an idea.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1552489499, "post_id": 55145041, "comment_id": 97030692, "body": "It&#39;s hard to prove a negative without really in-depth knowledge, which I have of JavaScript but not TypeScript, so: I very, very much doubt this information is available at runtime. TypeScript&#39;s static type checking is done at compile-time, and it emits JavaScript. As far as I&#39;m aware, it doesn&#39;t emit further metadata that you&#39;d need to do this."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1552489525, "post_id": 55145041, "comment_id": 97030717, "body": "Now, if they were classes rather than interfaces, you could use <code>instanceof</code>. But using <code>instanceof</code> is often an indicator that you need to rethink what you&#39;re doing. :-)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1552490262, "creation_date": 1552490262, "answer_id": 55145336, "question_id": 55145041, "link": "https://stackoverflow.com/questions/55145041/find-object-property-by-type/55145336#55145336", "title": "Find object property by type", "body": "<p>One posible solution is to pass in the key name. You can have the compiler check that the key name is a valid key of <code>C</code> and that the value parameter is of the same type as the specified key in <code>C</code>:</p>\n\n<pre><code>interface A { a: string; }\n\ninterface B { b: string; }\n\nexport interface C { rnd: A; rnd2: B;}\n\nlet allSettings: C = {} as C\nfunction update&lt;K extends keyof C&gt;(key: K, setting: C[K]) {\n    allSettings[key]  = setting;\n}\n\nupdate(\"rnd\", { a: \"\" }) // ok\nupdate(\"rnd\", { b: \"\" }) // err\nupdate(\"rnd3\", { b: \"\" }) // err \n</code></pre>\n"}], "owner": {"reputation": 1221, "user_id": 7002012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/02ed3bfc071e1d0ffbb736c0b5347130?s=128&d=identicon&r=PG&f=1", "display_name": "Expressingx", "link": "https://stackoverflow.com/users/7002012/expressingx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55145336, "answer_count": 1, "score": 1, "last_activity_date": 1552490262, "creation_date": 1552489342, "question_id": 55145041, "link": "https://stackoverflow.com/questions/55145041/find-object-property-by-type", "title": "Find object property by type", "body": "<p>I have interface like </p>\n\n<pre><code>interface A {\n   a: string;\n}\n\ninterface B {\n   b: string;\n}\n\nexport interface C {\n   rnd: A;\n   rnd2: B;\n}\n</code></pre>\n\n<p>And I want to have function like <code>update&lt;T&gt;(setting: T)</code> which finds the property of type <code>T</code> in the object, which implements <code>interface C</code> and update the property found (if exists already) values with <code>setting</code> passed. </p>\n\n<p>Is there a way to achieve that ? I've tried with iterating and <code>typeof</code> but the compiler returns <code>This condition will always return 'false' since types 'T' and 'string' has no overlap</code></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "edited": false, "score": 1, "creation_date": 1552489485, "post_id": 55145075, "comment_id": 97030683, "body": "subscribing in an <code>ngOnChanges()</code> would lead to multiple subscriptions"}, {"owner": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "edited": false, "score": 1, "creation_date": 1552489703, "post_id": 55145075, "comment_id": 97030843, "body": "@Nikola Trajkovic hi, does that mean Observable is real-time? if I type a then b, does that mean there are two values in the stream? one is a and the other is a,b. Correct me if im wrong."}, {"owner": {"reputation": 1444, "user_id": 8836365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318a500609a3d6575ffa4895afba610f?s=128&d=identicon&r=PG&f=1", "display_name": "James Delaney", "link": "https://stackoverflow.com/users/8836365/james-delaney"}, "reply_to_user": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "edited": false, "score": 0, "creation_date": 1552489957, "post_id": 55145075, "comment_id": 97031027, "body": "@PeterNguye it&#39;s not real time, right. Here is the solution: <a href=\"https://stackoverflow.com/questions/52952035/angular-observable-dont-show-me-values-in-real-time\" title=\"angular observable dont show me values in real time\">stackoverflow.com/questions/52952035/&hellip;</a>"}, {"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "reply_to_user": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "edited": false, "score": 1, "creation_date": 1552490541, "post_id": 55145075, "comment_id": 97031451, "body": "@Peter observable is not an array that accumulates values, first you receive <code>a</code>, then you receive <code>b</code>. If you want <code>a,b</code> it&#39;s your job to accumulate the values"}, {"owner": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "reply_to_user": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "edited": false, "score": 0, "creation_date": 1552491928, "post_id": 55145075, "comment_id": 97032379, "body": "@Andr&#233; Werlang I don&#39;t want a,b. I&#39;m trying to visualize the stream. When I first type &#39;&#39;a&#39;&#39;. &#39;&#39;a&#39;&#39; is added to the stream and then I type b, the input text value is now &quot;ab&quot; so ab is added to the stream. Make no mistake, there&#39;s 2 values in the stream now. My question is :  does the map() function iterate from the first value when it does the transformation [(e: any) =&gt; e.target.value] to the end everytime a keyup event is triggered or observable is aware of which one is already is transformed and only look for the one that ain&#39;t?"}, {"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "reply_to_user": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "edited": false, "score": 0, "creation_date": 1552492645, "post_id": 55145075, "comment_id": 97032926, "body": "@Peter on every keystroke, the first operator receives a new value, which is transformed/filtered and then delievered to the next operator in the chain, and so on, until it gets to the subscribe block. Observables don&#39;t keep track of who gets notified of new values down the chain."}, {"owner": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "reply_to_user": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "edited": false, "score": 0, "creation_date": 1552493278, "post_id": 55145075, "comment_id": 97033391, "body": "@Andr&#233; Werlang Can you elaborate what do you mean by pending calls?"}, {"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "reply_to_user": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "edited": false, "score": 0, "creation_date": 1552493504, "post_id": 55145075, "comment_id": 97033537, "body": "@Peter an observable that didn&#39;t complete; for instance a pending http request."}], "tags": [], "owner": {"reputation": 1444, "user_id": 8836365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318a500609a3d6575ffa4895afba610f?s=128&d=identicon&r=PG&f=1", "display_name": "James Delaney", "link": "https://stackoverflow.com/users/8836365/james-delaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1552489540, "last_edit_date": 1552489540, "creation_date": 1552489426, "answer_id": 55145075, "question_id": 55144984, "link": "https://stackoverflow.com/questions/55144984/rxjs-observable-life-cycle-in-ngoninit/55145075#55145075", "title": "RxJS Observable life cycle in ngOnInit()", "body": "<p>ngOnInit() is called only one time when component is called. </p>\n\n<p>ngOnChange() is called every time when angular detect the change.</p>\n\n<p>Try with  ngOnChange() instead of ngOnInit()</p>\n"}, {"tags": [], "owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "is_accepted": true, "score": 2, "last_activity_date": 1552490455, "creation_date": 1552490455, "answer_id": 55145420, "question_id": 55144984, "link": "https://stackoverflow.com/questions/55144984/rxjs-observable-life-cycle-in-ngoninit/55145420#55145420", "title": "RxJS Observable life cycle in ngOnInit()", "body": "<blockquote>\n  <p>Hi, as far as I know, ngOnInit() is invoked after the first detection change.</p>\n</blockquote>\n\n<p>The first time input properties are received. This occurs from a change detection cycle in the parent component.</p>\n\n<blockquote>\n  <p>My question is Observable.fromEvent creates an Observable stream. Does that mean the same stream is used when the 'keyup' event is triggered? If so, map() actually iterates every value in that stream?Eg. I type a then b, so there are 2 values in the stream? one is a another is a,b?</p>\n</blockquote>\n\n<p>Yes, all <code>keyup</code> events are streamed to this single observable, one after the other.</p>\n\n<blockquote>\n  <p>That's why the switch method is used to return only the latest value?</p>\n</blockquote>\n\n<p>The <code>switch</code> is used to cancel any pending calls to <code>youtube.search(query)</code> in your sample code, once a new value is streamed.</p>\n\n<pre><code>Observable.fromEvent(this.el.nativeElement, 'keyup')\n</code></pre>\n\n<p>I don't like this approach, as <code>this.el</code> might not be available at the time, or it can be re-created during the lifecycle of your component. With this approach you get events from the first element created, which may work then stop working all of sudden.</p>\n\n<p>Instead, I'll bind the <code>keyup</code> event on the template and <code>next()</code> to a subject.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=\"text\" (keyup)=\"onKeyup($event)\"&gt;\n</code></pre>\n\n<pre><code>import {Subject} from 'rxjs';\n...\nkeyupSubject = new Subject();\nendEvent = new Subject();\n\nngOnInit(): void {\n    this.keyupSubject\n        .map()\n        .filter()\n        .debounceTime()\n        .takeUntil(this.endEvent) // automatically unsubscribe when component is destroyed\n        .subscribe(() =&gt; {\n            ...\n        });        \n}\n\nngOnDestroy() {\n    this.endEvent.next();\n}\n\nonKeyup(event) {\n    this.keyupSubject.next(event);\n}\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 10432165, "user_type": "registered", "profile_image": "https://graph.facebook.com/980128452159224/picture?type=large", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/10432165/peter-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 55145420, "answer_count": 2, "score": 0, "last_activity_date": 1552490455, "creation_date": 1552489185, "question_id": 55144984, "link": "https://stackoverflow.com/questions/55144984/rxjs-observable-life-cycle-in-ngoninit", "title": "RxJS Observable life cycle in ngOnInit()", "body": "<pre><code>ngOnInit(): void {\n    // convert the `keyup` event into an observable stream\n    Observable.fromEvent(this.el.nativeElement, 'keyup')\n      .map((e: any) =&gt; e.target.value) // extract the value of the input\n      .filter((text: string) =&gt; text.length &gt; 1) // filter out if empty\n      .debounceTime(250)                         // only once every 250ms\n      .do(() =&gt; this.loading.emit(true))         // enable loading\n      // search, discarding old events if new input comes in\n      .map((query: string) =&gt; this.youtube.search(query))\n      .switch()\n      // act on the return of the search\n      .subscribe(\n        (results: SearchResult[]) =&gt; { // on sucesss\n          this.loading.emit(false);\n          this.results.emit(results);\n        },\n        (err: any) =&gt; { // on error\n          console.log(err);\n          this.loading.emit(false);\n        },\n        () =&gt; { // on completion\n          this.loading.emit(false);\n        }\n      );\n  }\n</code></pre>\n\n<p>Hi, as far as I know, ngOnInit() is invoked after the first detection change. My question is Observable.fromEvent creates an Observable stream. Does that mean the same stream is used when the 'keyup' event is triggered? If so, map() actually iterates every value in that stream?Eg. I type a then b, so there are 2 values in the stream? one is a another is a,b? That's why the switch method is used to return only the latest value?</p>\n"}, {"tags": ["angular", "typescript", "protractor"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1552528821, "post_id": 55144846, "comment_id": 97047913, "body": "Please show the timeout error. Both the login page and the redirect page  are Angular page or not?"}], "answers": [{"tags": [], "owner": {"reputation": 1002, "user_id": 1165421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f042fa245e817874119a3d7828ee014f?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1165421/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1552489709, "last_edit_date": 1552489709, "creation_date": 1552489177, "answer_id": 55144982, "question_id": 55144846, "link": "https://stackoverflow.com/questions/55144846/protractor-execution-hangs-when-page-is-redirected/55144982#55144982", "title": "Protractor execution hangs when page is redirected", "body": "<p>You login function seems flawed. The Protractor functions <a href=\"https://www.protractortest.org/#/api?view=webdriver.WebDriver.prototype.wait\" rel=\"nofollow noreferrer\">wait</a>, <a href=\"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.click\" rel=\"nofollow noreferrer\">click</a> and <a href=\"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.submit\" rel=\"nofollow noreferrer\">submit</a> are all asynchronous. They return a promise. That means you must wait for the returned promise to resolve before you can continue your execution.\nE.g.</p>\n\n<pre><code>loginPage.submit('username', 'password')\n .then(() =&gt; {\n     loginPage.optionButton.click()\n     .then(() =&gt; {\n          browser.wait(until.presenceOf(elementOnNextPage), TIMEOUT);\n      });\n  });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10783024, "user_type": "registered", "profile_image": "https://graph.facebook.com/1903971519700228/picture?type=large", "display_name": "Prasanth Pridhivi", "link": "https://stackoverflow.com/users/10783024/prasanth-pridhivi"}, "is_accepted": false, "score": 0, "last_activity_date": 1571695529, "creation_date": 1571695529, "answer_id": 58494699, "question_id": 55144846, "link": "https://stackoverflow.com/questions/55144846/protractor-execution-hangs-when-page-is-redirected/58494699#58494699", "title": "Protractor execution hangs when page is redirected", "body": "<p>As @Robert mentioned, you need to wait until your helpers.login() function returns a promise.  Here is a snippet which I currently use</p>\n\n<pre><code>describe('Go to login page and then admin', () =&gt; {\n    beforeAll(() =&gt; {\n        navigateTo('login').then(()=&gt; {\n            &lt;do something&gt;\n        });\n        navigateTo('admin');\n    });\n});\n\nnavigateTo(path: string) {\n    browser.waitForAngularEnabled(true);\n    return browser.get(path).then(() =&gt; {\n        browser.waitForAngularEnabled(false);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 8362471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d564f545263d9c3fd8315db27328ff5a?s=128&d=identicon&r=PG&f=1", "display_name": "Phaze", "link": "https://stackoverflow.com/users/8362471/phaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571695529, "creation_date": 1552488791, "question_id": 55144846, "link": "https://stackoverflow.com/questions/55144846/protractor-execution-hangs-when-page-is-redirected", "title": "Protractor execution hangs when page is redirected", "body": "<p>I have a problem where protractor execution hangs when the page is redirected.</p>\n\n<pre><code>describe('describe something', () =&gt; {\n  beforeAll(() =&gt; {\n    helpers.login();\n    page.elementThatNavigatesToAnotherPage.click();\n  });\n\n  afterAll(() =&gt; {\n    helpers.logout();\n  });\n\n  it('should something', () =&gt; {\n    expect(page.someElement.isPresent()).toBe(true);\n  });\n});\n</code></pre>\n\n<p>Whenever the <code>page.elementThatNavigatesToAnotherPage.click()</code> is in the <code>beforeAll()</code>, protractor execution will hang and timeout. If I remove it, the test will pass/fail and continue running other tests.</p>\n\n<p>My <code>login()</code> function looks like this:</p>\n\n<pre><code>export function login(): void {\n  const loginPage = new LoginPage();\n\n  browser.get('#/login');\n\n  browser.wait(until.presenceOf(elementOnLoginPage), TIMEOUT).then(() =&gt; {\n    loginPage.submit('username', 'password');\n    loginPage.optionButton.click();\n\n    browser.wait(until.presenceOf(elementOnNextPage), TIMEOUT);\n  });\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1552488738, "post_id": 55144758, "comment_id": 97030109, "body": "You couldn&#39;t do that because the type <code>ReadonlyArray&lt;string&gt;</code> doesn&#39;t provide any information about what the contents of that array are. However, you could use a tuple with constant members, e.g. <code>props: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code> and convert that to an interface. Would that work for your use case?"}, {"owner": {"reputation": 5474, "user_id": 247730, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d70fcf5ed1663dcaa9a68145abd470d5?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/247730/ryan"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1552491946, "post_id": 55144758, "comment_id": 97032389, "body": "If you gave that as an answer. Explaining both why it won&#39;t work but what might work I&#39;d accept that answer."}], "answers": [{"tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1552498917, "last_edit_date": 1552498917, "creation_date": 1552498552, "answer_id": 55148077, "question_id": 55144758, "link": "https://stackoverflow.com/questions/55144758/array-element-to-interface-property/55148077#55148077", "title": "Array Element to Interface Property", "body": "<p>In order for TypeScript to understand what a certain type <em>is</em>, it has to be described at compile time. But if you start with the type <code>ReadonlyArray&lt;string&gt;</code>, it can only know that <code>props</code> contains some strings, and little else (it could be empty, there could be duplicates, etc.) There's no way for the compiler to get from <code>ReadonlyArray&lt;string&gt;</code> to <code>{ a: number, b: number, c: number }</code> because it could just as easily become almost other type. The closest you could get is <code>Record&lt;string, number&gt;</code>, but that's not terribly satisfying.</p>\n\n<p>I'd recommend defining a union type for your keys, like this:</p>\n\n<pre><code>type PropKeys = 'a' | 'b' | 'c';\ntype Props = Record&lt;PropKeys, number&gt;;\n\nconst props: ReadonlyArray&lt;PropKeys&gt; = [ 'a', 'b', 'c' ];\nconst numbers: Props = {\n  a: 1,\n  b: 2,\n  c: 3,\n}\n</code></pre>\n\n<p>This is the easiest and most natural way to approach this problem.</p>\n\n<p>However, if a union is out of the question for some reason, and you absolutely <em>must</em> use an array, you can type the array as a fixed-length tuple with each element being constant type (or union of constant types), so that the compiler can dissect / analyze it and give you back a reconstructed type you're looking for. </p>\n\n<pre><code>const props: [ 'a', 'b', 'c' ] = [ 'a', 'b', 'c' ];\n// In TS 3.4 (not yet released at time of writing)\n// const props = ['a', 'b', 'c'] as const;\n\ntype Props = Record&lt;typeof props[number], number&gt;;\nconst numbers: Props = {\n  a: 1,\n  b: 2,\n  c: 3,\n}\n</code></pre>\n"}], "owner": {"reputation": 5474, "user_id": 247730, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d70fcf5ed1663dcaa9a68145abd470d5?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/247730/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55148077, "answer_count": 1, "score": 0, "last_activity_date": 1552498917, "creation_date": 1552488545, "question_id": 55144758, "link": "https://stackoverflow.com/questions/55144758/array-element-to-interface-property", "title": "Array Element to Interface Property", "body": "<p>I would like to take a <a href=\"https://github.com/Microsoft/TypeScript/commit/cac3a32513d2f06cbf1d7da0e34b4df571fe472b\" rel=\"nofollow noreferrer\"><code>ReadonlyArray&lt;string&gt;</code></a> and convert it's elements to an <code>interface</code>. That is, from the example below, I'd like to take the <code>props</code> array and <em>synthesize</em> <code>Props</code> interface (the actual type of the <code>Props</code> properties are irrelevant to me).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Given\nconst props: ReadonlyArray&lt;string&gt; = [ 'a', 'b', 'c' ];\n\n// Output\ninterface Props {\n  a: number;\n  b: number;\n  c: number;\n}\n</code></pre>\n\n<p>Perhaps another approach would be to start with the <code>Props</code> interface and then <em>get</em> the <code>props</code> array. Though based on this <a href=\"https://github.com/Microsoft/TypeScript/issues/13267#issuecomment-270251290\" rel=\"nofollow noreferrer\">comment</a> from a TypeScript developer it seems that is an explicit non-goal of the project.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "edited": false, "score": 0, "creation_date": 1552488515, "post_id": 55144390, "comment_id": 97029930, "body": "What&#39;s your question?"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1552489750, "last_edit_date": 1552489750, "creation_date": 1552489196, "answer_id": 55144987, "question_id": 55144390, "link": "https://stackoverflow.com/questions/55144390/can-typescript-typing-ensure-the-function-will-return-the-requested-keys/55144987#55144987", "title": "Can typescript typing ensure the function will return the requested keys?", "body": "<p>So, there is <a href=\"https://stackoverflow.com/a/49579497/2887218\">a way</a> to determine which keys of a type are optional, and you can also provide a call signature for the <code>get()</code> function which promises to return a <code>Something</code> with some of the formerly-optional properties now being required (it is best if you make it a function of one <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overload</a> so that the implementation signature can stay as loose as before; otherwise you will get a lot of complaints in the implementation).  Also note that there is a type alias called <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.3.1/lib/lib.es5.d.ts#L1428-L1433\" rel=\"nofollow noreferrer\"><code>Required&lt;T&gt;</code></a> in the standard library that takes an object type <code>T</code> and returns a new type where all optional properties are now required.  Using a combination of <code>Required&lt;T&gt;</code> and <code>Pick&lt;T, K&gt;</code> and <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" rel=\"nofollow noreferrer\">an intersection</a> should work:</p>\n\n<pre><code>interface Something {\n  id: string;\n  foo?: string;\n  bar?: number;\n}\n\n// get the optional keys of an object type\ntype OptionalKeys&lt;T&gt; = { [K in keyof T]-?: {} extends Pick&lt;T, K&gt; ? K : never }[keyof T];\n\ntype OptionalProp = OptionalKeys&lt;Something&gt;\n\n// make get() a generic function that returns an intersection of Something with\n//  a Required&lt;Pick&lt;Something, K&gt;&gt; for the passed-in K parameters\n\nfunction get&lt;K extends OptionalProp&gt;(\n  properties: K[]\n): Required&lt;Pick&lt;Something, K&gt;&gt; &amp; Something;\nfunction get(properties: OptionalProp[]): Something {\n  // impl here\n  return null!\n}\n\nconst result = get(['bar']);\n// const result: Required&lt;Pick&lt;Something, \"bar\"&gt;&gt; &amp; Something\nresult.bar * 1; // okay now\n</code></pre>\n\n<p>This should work for you.  Note that the returned type of <code>get()</code> will be an intersection type like <code>Required&lt;Pick&lt;Something, \"bar\"&gt;&gt; &amp; Something</code>.  If you want a more straightforward bag-of-properties object type, you can change the <code>get()</code> signature to something uglier for the implementer but nicer for the caller:</p>\n\n<pre><code>function get&lt;K extends OptionalProp,\n  R extends Something=Required&lt;Pick&lt;Something, K&gt;&gt; &amp; Something\n&gt;(properties: K[]): { [P in keyof R]: R[P] };\nfunction get(properties: OptionalProp[]): Something { /* impl */ }\n  // impl here\n  return null!\n}\n\nconst result = get(['bar']);\n//const result: {\n//    bar: number;\n//    id: string;\n//    foo?: string | undefined;\n//}\n</code></pre>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 1, "user_id": 11197526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1f0b6f785f0b9c3e41596f50ea7fc4e?s=128&d=identicon&r=PG&f=1", "display_name": "T. Ghost", "link": "https://stackoverflow.com/users/11197526/t-ghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552489750, "creation_date": 1552487568, "question_id": 55144390, "link": "https://stackoverflow.com/questions/55144390/can-typescript-typing-ensure-the-function-will-return-the-requested-keys", "title": "Can typescript typing ensure the function will return the requested keys?", "body": "<p>Some web services supply stuff based on the requested properties. I want to create a function that takes the properties, internally calls the web service and returns the requested data.</p>\n\n<p>The function using the data should now know that the specific key is not undefined now.</p>\n\n<p>While searching for a solution myself I found some things that might help but I was not able to create something useful from them:</p>\n\n<ul>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#nonnullablet\" rel=\"nofollow noreferrer\">NonNullable</a></li>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#picktk\" rel=\"nofollow noreferrer\">Pick</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47388407/is-it-possible-to-extract-keys-from-a-parameter-for-type-inference-in-typescript\">Is it possible to extract keys from a parameter for type inference in Typescript?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52188399/typescript-constrain-argument-of-function-to-be-a-key-of-an-object-associated-w\">Typescript: constrain argument of function to be a key of an object associated with a value of a particular type</a></li>\n</ul>\n\n<p>Also something that is an extra hassle: There are default properties that are always there like id in this case.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    interface Something {\n        id: string;\n        foo?: string;\n        bar?: number;\n    }\n\n    // use 'keyof Something' in some ways here?\n    type OptionalProp = 'foo' | 'bar'\n\n    type SomethingSpecific&lt;K extends keyof Something&gt; = {\n        [k in K]: NonNullable&lt;Something[k]&gt;\n    };\n\n    function get(properties: OptionalProp[]): Something {\n        const result: Something = {\n            id: '1337'\n        };\n\n        if (properties.includes('foo')) {\n            result.foo = 'bar';\n        }\n\n        if (properties.includes('bar')) {\n            result.bar = 42;\n        }\n\n        return result;\n    }\n\n    console.log(usage());\n    function usage(): number {\n        const result = get(['bar']);\n        return result.bar * 1;\n    }\n\n</code></pre>\n"}, {"tags": ["typescript", "compiler-errors", "decorator", "typescript-generics", "typescript-decorator"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1552489616, "creation_date": 1552489616, "answer_id": 55145135, "question_id": 55144265, "link": "https://stackoverflow.com/questions/55144265/how-to-limit-the-type-of-parameter-that-the-given-parameter-decorator-may-be-app/55145135#55145135", "title": "How to limit the type of parameter that the given parameter decorator may be applied to", "body": "<p>Your assumption is that <code>TMethodName</code> and <code>TParamIndex</code> get inferred to their literal type versions based on usage. They unfortunately don't for parameter decorators (for method decorators the method name does get inferred to the string literal of the method name, so it's at least an inconsistency in the way they are handled). </p>\n\n<p>There is a <a href=\"https://github.com/Microsoft/TypeScript/issues/30102\" rel=\"nofollow noreferrer\">GitHub issue</a> around this, I even have a version of the typescript compiler code that would do this linked in the issue, but unfortunately it does not seem to be a priority at the moment for the team to incorporate this. </p>\n\n<p>Priorities also change based on feedback, so feel free to upvote the issue, maybe comment about your use case as that will help the team see that there is a real need for this.</p>\n"}], "owner": {"reputation": 671, "user_id": 9259330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoOVr.jpg?s=128&g=1", "display_name": "Veetaha", "link": "https://stackoverflow.com/users/9259330/veetaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 55145135, "answer_count": 1, "score": 1, "last_activity_date": 1552489616, "creation_date": 1552487221, "question_id": 55144265, "link": "https://stackoverflow.com/questions/55144265/how-to-limit-the-type-of-parameter-that-the-given-parameter-decorator-may-be-app", "title": "How to limit the type of parameter that the given parameter decorator may be applied to", "body": "<p>There is currently a way to limit the type of property that the given property decorator may be applied to. E.g.</p>\n\n<pre><code>type PropertyDecorator&lt;TPropType = unknown&gt; = (\n    &lt;\n        TPropName     extends string | symbol,\n        TProtoOrClass extends Record&lt;TPropName, TPropType&gt;\n    &gt;\n    (protoOrClass: TProtoOrClass, propName: TPropName) =&gt; void\n);\n\nfunction boolPropertyDecorator(): PropertyDecorator&lt;boolean&gt; {\n    return () =&gt; {};\n}\n\nclass Foo {\n    // compile-time error \"Type 'number' is not assignable to type 'boolean'\"\n    @boolPropertyDecorator()       \n    prop!: number;\n\n}\n</code></pre>\n\n<p>But I can't manage to leverage such a type checking for method parameter decorators.</p>\n\n<pre><code>type ParameterDecorator&lt;TParamType = unknown&gt; = (\n    &lt;\n        TMethodName   extends string | symbol,\n        TParamIndex   extends number,\n        TProtoOrClass extends Record&lt;\n            TMethodName, \n            (this: TProtoOrClass, ...args: unknown[] &amp; Record&lt;TParamIndex, TParamType&gt;) =&gt; unknown\n        &gt;\n\n    &gt;\n    (\n        protoOrClass:   TProtoOrClass, \n        methodName:     TMethodName, \n        parameterIndex: TParamIndex\n    ) =&gt; void\n);\n\n\nfunction numberParameterDecorator(): ParameterDecorator&lt;number&gt; {\n    return () =&gt; {};\n}\n\nclass Foo {\n    // no decorator-related error message is generated, but should!\n    method(@numberParameterDecorator() str: string) {}\n}\n</code></pre>\n\n<p>I can't say for sure why this happens. Is it a TypeScript bug with parameter decorators? Why is there no error message? Is it somehow related to annihilating unit types (e.g. <code>TParamIndex</code> or <code>TParamName</code>)? </p>\n"}, {"tags": ["angular", "typescript", "angular6", "http-post"], "comments": [{"owner": {"reputation": 65, "user_id": 9397126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kFnKh.jpg?s=128&g=1", "display_name": "Charles Barnes", "link": "https://stackoverflow.com/users/9397126/charles-barnes"}, "edited": false, "score": 0, "creation_date": 1552525916, "post_id": 55144189, "comment_id": 97047247, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20035101/why-does-my-javascript-get-a-no-access-control-allow-origin-header-is-present\">Why does my JavaScript get a &quot;No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource&quot; error when Postman does not?</a>"}], "owner": {"reputation": 65, "user_id": 10859477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b45fb33b81c7b530b5ee34312ba4248?s=128&d=identicon&r=PG&f=1", "display_name": "daniel", "link": "https://stackoverflow.com/users/10859477/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1109, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552585244, "creation_date": 1552487041, "last_edit_date": 1552585244, "question_id": 55144189, "link": "https://stackoverflow.com/questions/55144189/i-am-getting-access-to-xmlhttprequest-has-been-blocked-by-cors-policy-error-and", "title": "I am getting Access to XMLHttpRequest has been blocked by CORS policy error and some times 500 internal server error after making an http post request", "body": "<p>I'm getting these error after sending a post request </p>\n\n<p>I'm trying to send an array of the id's of the checkbox that have been checked recently here is my code:</p>\n\n<p>this array is being filled after an http get request</p>\n\n<pre><code>  user_groups: Array &lt;any&gt; = [];\n</code></pre>\n\n<p>this is the function that build the selected values and send them</p>\n\n<pre><code>addUserGroups(user_id) {\n    this.spinner.show();\n    const new_groups = this.getSelectedGroups();\n    // this.userugroups = new_groups;\n    const formdata = {\n      'Groups_id': new_groups,\n      'User_Id': user_id,\n    };\n    console.log('fromdata: ', formdata);\n    this.authent.assignroles(formdata).then((res) =&gt; {\n      this.spinner.hide();\n      console.log('res: ', res);\n      this.ngOnInit();\n      this.alerts.push({\n        id: 1,\n        type: 'success',\n        message: 'user have benn added to groups'\n      });\n    }, (err) =&gt; {\n      this.spinner.hide();\n      this.ngOnInit();\n      this.alerts.push({\n        id: 1,\n        type: 'warning',\n        message: err.json().Message\n      });\n      console.log('error: ', err);\n    });\n  }\n</code></pre>\n\n<p>this is the function i'm using to get the new selected checkboxes</p>\n\n<pre><code>  getSelectedGroups() {\n    return this.user_groups\n              .filter(group =&gt; group.selected)\n              .map(group =&gt; group.role_id);\n  }\n</code></pre>\n\n<p>i tried to fix it at my university i got error 500 internal server error but when i'm at home i get this error:</p>\n\n<pre><code>Access to XMLHttpRequest at 'http://api-accountingsystem.azurewebsites.net/api/groups/user/roles' from origin 'http://localhost:4200' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n\n<p>if someone can please help me to fix it</p>\n"}, {"tags": ["reactjs", "css", "typescript"], "comments": [{"owner": {"reputation": 51168, "user_id": 1790982, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N1ywU.png?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/1790982/pete"}, "edited": false, "score": 0, "creation_date": 1552486914, "post_id": 55144110, "comment_id": 97028700, "body": "can you show your rendered css and html in a snippet please - see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, but the issue looks to be you are creating multiple grids instead of one grid with multiple relatedNews"}, {"owner": {"reputation": 15197, "user_id": 6441124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y35MW.png?s=128&g=1", "display_name": "Mihai T", "link": "https://stackoverflow.com/users/6441124/mihai-t"}, "edited": false, "score": 0, "creation_date": 1552487163, "post_id": 55144110, "comment_id": 97028923, "body": "Please make your code &#39; testable &#39;. For example make simple HTML/CSS snippet ( change className to class, delete all the <code>this.props</code> anything related to REACT and JSX as this is a CSS/Layout problem. )"}], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 6553556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BPGpE.jpg?s=128&g=1", "display_name": "Dwarka Tiwari", "link": "https://stackoverflow.com/users/6553556/dwarka-tiwari"}, "is_accepted": false, "score": 0, "last_activity_date": 1552488049, "creation_date": 1552488049, "answer_id": 55144569, "question_id": 55144110, "link": "https://stackoverflow.com/questions/55144110/cant-set-three-items-on-a-single-row/55144569#55144569", "title": "Cant set three items on a single row", "body": "<p>It seem problem is with your html hence it not wrap properly because there only two column see below so i.e it not showing in three column</p>\n\n<pre><code>                 &lt;div className={styles.row}&gt;\n                  //This is 1st Column Start    \n                    &lt;div className={styles.imageContainer}&gt;\n                        &lt;a href={this.props.url}&gt;&lt;img src={this.props.image} /&gt;&lt;/a&gt; \n                    &lt;/div&gt;\n                  //This is 1st Column END\n                  //This is 2nd Column Start \n                    &lt;div className={styles.textContainer}&gt;\n                        &lt;a href={this.props.url}&gt;\n                            &lt;h2 className={styles.newsTitle} title={this.props.title}&gt;{ Utilities.trimWord(this.props.title, 80, '...')}&lt;/h2&gt;\n                        &lt;/a&gt;\n                        &lt;span className={styles.subHeadline}&gt;{Utilities.trimWord(this.props.subheader, 50, '...')}\n                        &lt;/span&gt;\n                        &lt;div className={styles.info}&gt;\n                            &lt;NewsInfo publishedDate={this.props.publishedDate} likes={this.props.likes} comments={this.props.comments} /&gt;\n                        &lt;/div&gt;\n                        &lt;div className={styles.row}&gt;  \n                            &lt;NewsTags tags={this.props.tags} tagPageUrl={this.props.tagPageUrl} background={BackgroundType.Grey} /&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                  //This is 2nd Column end\n                &lt;/div&gt;\n</code></pre>\n\n<p>if you want the three column to display use below simple html &amp; css Sinpet</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.row{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    width:100%;\r\n    margin: 0 auto;\r\n}\r\n\r\n.row &gt; div{\r\n   flex-basis: 33.33%;\r\n   text-align: center;\r\n   font-size: 24px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row\"&gt;\r\n  &lt;div&gt;Column 1&lt;/div&gt;\r\n  &lt;div&gt;Column 2&lt;/div&gt;\r\n  &lt;div&gt;Column 3&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 138, "user_id": 8203005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ZTZs.jpg?s=128&g=1", "display_name": "Khaladin", "link": "https://stackoverflow.com/users/8203005/khaladin"}, "is_accepted": false, "score": 0, "last_activity_date": 1552488076, "creation_date": 1552488076, "answer_id": 55144582, "question_id": 55144110, "link": "https://stackoverflow.com/questions/55144110/cant-set-three-items-on-a-single-row/55144582#55144582", "title": "Cant set three items on a single row", "body": "<p>The way the flex property works, it applies the flex on a direct child and only on a direct child, not it's children's children. So from your example it looks as if you didn't go deep enough on your display: flex; &amp; flex-direction: row; properties.\nThese properties should be on the text-container class and would make the <code>&lt;a /&gt;</code>, <code>&lt;span /&gt;</code>, <code>&lt;div className={styles.info}/&gt;</code>, and <code>&lt;div className={styles.row} /&gt;</code> all flex in a row direction. </p>\n\n<p>When you apply <code>display: flex;</code> and <code>flex-direction: row</code> to the row class the only thing flexing is the <code>&lt;div className={styles.imageContainer}&gt;</code> and the <code>&lt;div className={styles.textContainer}&gt;</code> everything inside the textContainer is still going to display block and hence be vertical because the flex property doesn't extend to children's children.</p>\n"}], "owner": {"reputation": 179, "user_id": 8772974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1410a43f6837d8302f6430556a0bcc7c?s=128&d=identicon&r=PG&f=1", "display_name": "Arte2", "link": "https://stackoverflow.com/users/8772974/arte2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552488076, "creation_date": 1552486800, "question_id": 55144110, "link": "https://stackoverflow.com/questions/55144110/cant-set-three-items-on-a-single-row", "title": "Cant set three items on a single row", "body": "<p>I have a react component with some content that is going to be shown three times.</p>\n\n<p>I want the components to be on a single row, in three separate columns. I have tried a lot but havent been able to do it.</p>\n\n<p>This is gonna be shown three times:</p>\n\n<pre><code> return (\n            &lt;div className={styles.grid}&gt;\n            &lt;div className={styles.relatedNews}&gt;\n                &lt;div className={styles.row}&gt;\n                    &lt;div className={styles.imageContainer}&gt;\n                        &lt;a href={this.props.url}&gt;&lt;img src={this.props.image} /&gt;&lt;/a&gt; \n                    &lt;/div&gt;\n                    &lt;div className={styles.textContainer}&gt;\n                        &lt;a href={this.props.url}&gt;\n                            &lt;h2 className={styles.newsTitle} title={this.props.title}&gt;{ Utilities.trimWord(this.props.title, 80, '...')}&lt;/h2&gt;\n                        &lt;/a&gt;\n                        &lt;span className={styles.subHeadline}&gt;{Utilities.trimWord(this.props.subheader, 50, '...')}\n                        &lt;/span&gt;\n                        &lt;div className={styles.info}&gt;\n                            &lt;NewsInfo publishedDate={this.props.publishedDate} likes={this.props.likes} comments={this.props.comments} /&gt;\n                        &lt;/div&gt;\n                        &lt;div className={styles.row}&gt;  \n                            &lt;NewsTags tags={this.props.tags} tagPageUrl={this.props.tagPageUrl} background={BackgroundType.Grey} /&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        );\n</code></pre>\n\n<p>My CSS:</p>\n\n<pre><code>.grid {\n    // display: flex;\n    // flex-wrap: wrap;\n    // margin: auto auto auto;\n\n    .relatedNews {\n        float:left;\n\n        // display: flex;        \n        &amp;:hover {\n            .textContainer i.bookmark {\n                display: block;\n            }\n        }\n\n        .row {\n            // display: flex;      \n            // flex-direction: row;\n            // align-items: center;\n            display: block;\n            width: 400px;\n\n            .imageContainer {\n                //position: relative;\n                // flex: 0 0 215px;\n                float:left;\n                width: 115px;\n                height: 130px;\n                overflow: hidden;\n                box-sizing: border-box;\n                border: 1px solid #eaeaea;\n\n               /*\n\n                .video {\n                    position: absolute;    \n                    width: 100%;\n                    height: 100%;\n                    top: 0;\n                    right: 0;\n                    background-image: linear-gradient(41deg, rgba(0, 0, 0, 0) 77%, rgba(0,0,0,0.8) 110%);\n\n                    i {\n                        position: absolute;\n                        width: 20px;\n                        height: 21px;\n                        top: 14px;\n                        right: 13px;\n                        color: #ffffff;\n                        font-size: 20px;\n\n                    }\n                }\n\n                */\n            }\n            .textContainer {\n                //position: relative;\n               // flex-grow: 1;\n                padding-left: 27px;\n\n                @media all and (max-width: 479px) {\n                    padding-left: 0;\n                }\n\n                a {\n                    text-decoration: none;\n                }\n\n                .newsTitle {\n                    font-size: 17px;\n                    color: #333;\n                    //margin: 0 0 12px 0;\n                    font-weight: normal;\n                    //margin-right: 20px;\n                    width: 190px;\n                }\n\n                .subHeadline {\n                    font-size: 15px;\n                    color: #858585;\n                    margin-bottom: 17px;\n\n                  //  display: inline-block;\n                }\n\n                .info {\n                    font-size: 12px;\n                    color: #c7c7cd;\n                }\n\n                .bookmark {\n                    position: absolute;\n                    top: 0;\n                    right: 0;\n                    font-size: 18px;\n                    padding: 3px;\n                    display: none;\n                    cursor: pointer;\n                    z-index: 9999;\n                }\n            }                      \n        }                \n\n        @media all and (max-width: 479px) {\n            display: block;\n        }\n\n\n\n        // .relatedarticles {\n        //   width: 206px;\n        //   height: 32px;\n        //   font-family: \"Segoe UI WestEuropean\",\"Segoe UI\",-apple-system,BlinkMacSystemFont,Roboto,\"Helvetica Neue\",sans-serif;\n        //   font-size: 24px;\n        //   font-weight: 300;\n        //   font-style: normal;\n        //   font-stretch: normal;\n        //   line-height: normal;\n        //   letter-spacing: normal;\n        //   color: #424242;\n        // }\n    }\n}\n</code></pre>\n\n<p>No mater what I try, the components will never been shown in one single row, but instead in one single column.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1552488536, "post_id": 55144068, "comment_id": 97029945, "body": "Your the generic object is being used as a type, so you must extend a type that has those property names: create that interface and extend that. Secondly, your <code>objectConfig</code> construct does not match the types for the properties you&#39;ve extended. <code>Some detail</code> being a string will cause issues with you passing <code>age</code> as a number type."}], "answers": [{"comments": [{"owner": {"reputation": 1044, "user_id": 1606867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6945818bd8c6cc64255cd03ae26153?s=128&d=identicon&r=PG", "display_name": "Stefan Neubert", "link": "https://stackoverflow.com/users/1606867/stefan-neubert"}, "edited": false, "score": 1, "creation_date": 1552489567, "post_id": 55144957, "comment_id": 97030741, "body": "You might want to keep the <code>&lt;T extends object&gt;</code> though, otherwise you won&#39;t get noticed if you plug in e.g. a number or a string."}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": true, "score": 2, "last_activity_date": 1552489757, "last_edit_date": 1552489757, "creation_date": 1552489097, "answer_id": 55144957, "question_id": 55144068, "link": "https://stackoverflow.com/questions/55144068/constrain-typescript-generics-to-object/55144957#55144957", "title": "Constrain Typescript generics to object", "body": "<p>Well... The problem is you are writing TypeScript as if it is just like JavaScript. That's not how it works. Here's a solution that <em>just works</em> but you need to start writing TypeScript like you write any other OOP language<sup>1</sup>.</p>\n\n<pre><code>interface OptionExtensions {\n    type?: string,\n    showDetail?: boolean,\n    detail?: string\n}\n\nfunction createObject&lt;T extends object&gt;(options: T): T &amp; OptionExtensions {\n    let optionsExtended: T &amp; OptionExtensions = options;\n    if (!optionsExtended.type) {\n        if (optionsExtended.showDetail) {\n            optionsExtended.type = 'text';\n            optionsExtended.detail = 'Some detail';\n        } else {\n            optionsExtended.type = 'simple';\n            optionsExtended.detail = '';\n        }\n    }\n    return optionsExtended;\n}\n\nlet foo = createObject({\n    name: \"Steven\",\n    age: 28\n});\n</code></pre>\n\n<p>Here's a <a href=\"http://www.typescriptlang.org/play/#src=interface%20OptionExtensions%20%7B%0D%0A%20%20%20%20type%3F%3A%20string%2C%0D%0A%20%20%20%20showDetail%3F%3A%20boolean%2C%0D%0A%20%20%20%20detail%3F%3A%20string%0D%0A%7D%0D%0A%0D%0Afunction%20createObject%3CT%20extends%20object%3E(options%3A%20T)%3A%20T%20%26%20OptionExtensions%20%7B%0D%0A%20%20%20%20let%20optionsExtended%3A%20T%20%26%20OptionExtensions%20%3D%20options%3B%0D%0A%20%20%20%20if%20(!optionsExtended.type)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(optionsExtended.showDetail)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20optionsExtended.type%20%3D%20&#39;text&#39;%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20optionsExtended.detail%20%3D%20&#39;Some%20detail&#39;%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20optionsExtended.type%20%3D%20&#39;simple&#39;%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20optionsExtended.detail%20%3D%20&#39;&#39;%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20optionsExtended%3B%0D%0A%7D%0D%0A%0D%0Alet%20foo%20%3D%20createObject(%7B%0D%0A%20%20%20%20name%3A%20%22Steven%22%2C%0D%0A%20%20%20%20age%3A%2028%0D%0A%7D)%3B\" rel=\"nofollow noreferrer\">demo</a>. You can check <code>foo</code> has all properties that you would expect (by writing \"foo.\" and seeing the suggestions).</p>\n\n<p>Footnote 1:\nBy this I mean because TypeScript has nice <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"nofollow noreferrer\">type inference</a> and <a href=\"https://en.wikipedia.org/wiki/Duck_typing\" rel=\"nofollow noreferrer\">duck typing</a> it will allow you to make things work without explicitly writing types and making interfaces but not for too long. Think how would you write things in a OOP language and then make appropriate abstractions and models.</p>\n"}], "owner": {"reputation": 33, "user_id": 11197369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PbnaMKY3IXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcK3QVr1eWcLGbuBzWXCCtG0meJwg/mo/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/11197369/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 2, "accepted_answer_id": 55144957, "answer_count": 1, "score": 1, "last_activity_date": 1552489757, "creation_date": 1552486646, "question_id": 55144068, "link": "https://stackoverflow.com/questions/55144068/constrain-typescript-generics-to-object", "title": "Constrain Typescript generics to object", "body": "<p>Hi guys,</p>\n\n<p>I'm not that familiar with <a href=\"https://www.typescriptlang.org/\" rel=\"nofollow noreferrer\">Typescript</a>, but here is the following I want to achieve, and I'm currently struggling with:</p>\n\n<p>Create an object with the function <code>createObject</code> as defined below. As argument you can pass in <strong>only</strong> a parameter of type Object.</p>\n\n<p>It returns the passed in argument, but modified by an type and detail property).</p>\n\n<p>This is, what I have done so far. \n</p>\n\n<pre><code>function createObject&lt;T extends object&gt;(options: T): T {\n  if (!options.type) {\n    if (options.showDetail) {\n      options.type = 'text';\n      options.detail = 'Some detail';\n    } else {\n      options.type = 'simple';\n      options.detail = '';\n    }\n  }\n  return options\n}\n</code></pre>\n\n<p>When I execute my function:</p>\n\n<pre><code>const objectConfig = {\n  name: 'Steven',\n  age: 28,\n}\n\nconst newObj = createObject(objectConfig);\n</code></pre>\n\n<p>Inside the function <code>createObject</code>, <code>options.type, options.showDetail, options.detail</code> are highlighted red. Typescript complains about: </p>\n\n<blockquote>\n  <p>[Line 4] Property 'type' does not exist on type 'T'.</p>\n  \n  <p>[Line 3] Property 'showDetail' does not exist on type 'T'.</p>\n  \n  <p>[Line 5, 8] Property 'detail' does not exist on type 'T'.</p>\n</blockquote>\n\n<p>Furthermore, returning the Generic, won't return the modified argument, instead just the input argument. I.e. I won't get Typescript hints about the detail/type property of <code>newObj</code>.</p>\n\n<p>My IDE just gives me type hints for the age and name property. As expected since I return erroneously just the input argument.</p>\n\n<p>How can I get a proper typescript solution?\nThank you!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1552487188, "post_id": 55143893, "comment_id": 97028947, "body": "Could you prepare playground for it, i can not reproduce your error"}, {"owner": {"reputation": 1044, "user_id": 1606867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6945818bd8c6cc64255cd03ae26153?s=128&d=identicon&r=PG", "display_name": "Stefan Neubert", "link": "https://stackoverflow.com/users/1606867/stefan-neubert"}, "edited": false, "score": 0, "creation_date": 1552487423, "post_id": 55143893, "comment_id": 97029133, "body": "I think right now you are inconsistent with your <code>promiseFunc</code>: Is this meant to be a function returning a Promise (as the name, your text and your type suggest) or a Promise (as <code>makeCancelable</code> and your use case example suggest)?"}, {"owner": {"reputation": 2496, "user_id": 1245564, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eab80ccaf981c12f7385c521df9763b9?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/1245564/amir"}, "reply_to_user": {"reputation": 1044, "user_id": 1606867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6945818bd8c6cc64255cd03ae26153?s=128&d=identicon&r=PG", "display_name": "Stefan Neubert", "link": "https://stackoverflow.com/users/1606867/stefan-neubert"}, "edited": false, "score": 0, "creation_date": 1552494204, "post_id": 55143893, "comment_id": 97033974, "body": "@StefanNeubert it&#39;s a function, that takes a function (that returns a promise), as a parameter, and returns an object, that has a promise: Promise&lt;T&gt; and cancle: () =&gt; void property."}, {"owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "edited": false, "score": 0, "creation_date": 1552494525, "post_id": 55143893, "comment_id": 97034171, "body": "@Amir if <code>makeCancelable</code> returns a promise how would you expect it to know what arguments to pass to the function that returns the promise? Also in the example code <code>makeCancelable</code> is actaully taking a promise and not function as <code>fetchApi(SOME_URL)</code> will return a promise. My suggestion would be to make <code>makeCancelable</code> a <a href=\"https://en.wikipedia.org/wiki/Higher-order_function\" rel=\"nofollow noreferrer\">higher-order function</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1552493325, "post_id": 55146325, "comment_id": 97033415, "body": "Won&#39;t this work with generic rest parameters? (In Typescript 3, ofc)"}, {"owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1552493600, "post_id": 55146325, "comment_id": 97033598, "body": "@Cerberus how would you type it though? <a href=\"http://www.typescriptlang.org/play/#src=function%20testFn(a%3A%20string%2C%20b%3A%20number)%20%7B%20%7D%0D%0Afunction%20makeHof%3CA%2C%20B%3E(fn%3A%20(...args%3A%20A%5B%5D)%20%3D%3E%20B)%3A%20(...args%3A%20A%5B%5D)%20%3D%3E%20%7B%20test%3A%20string%20%7D%20%7B%0D%0A%20%20%20%20return%20(...args%3A%20A%5B%5D)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20fn(...args)%3B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%20test%3A%20%22yoo%22%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0AmakeHof(testFn)(123)%20%2F%2F%20%3C--%20no%20error%20\" rel=\"nofollow noreferrer\">this</a> doesn&#39;t work."}, {"owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1552494154, "post_id": 55146325, "comment_id": 97033946, "body": "@Cerberus is <a href=\"http://www.typescriptlang.org/play/#src=function%20testFn(a%3A%20string%2C%20b%3A%20number)%20%7B%20%7D%0D%0Afunction%20makeHof%3CA%20extends%20any%5B%5D%2C%20B%3E(fn%3A%20(...args%3A%20A)%20%3D%3E%20B)%3A%20(...args%3A%20A)%20%3D%3E%20%7B%20test%3A%20string%20%7D%20%7B%0D%0A%20%20%20%20return%20(...args%3A%20A)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20fn(...args)%3B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%20test%3A%20%22yoo%22%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0AmakeHof(testFn)(123)%20%2F%2F%20%3C--%20error%20\" rel=\"nofollow noreferrer\">this</a> correct?"}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1552775781, "last_edit_date": 1552775781, "creation_date": 1552493079, "answer_id": 55146325, "question_id": 55143893, "link": "https://stackoverflow.com/questions/55143893/how-do-i-type-a-function-that-wraps-a-promise-returing-function-and-returns-a/55146325#55146325", "title": "How do I type a function, that wraps a promise returing function, and returns a type of the oringal function?", "body": "<p>As Stefan Neubert mentioned, there is inconsistency in your code and I'm not exactly sure what you. But my best guess is you want to make a higher-order function that takes a <code>Promise</code> factory and returns a <code>ICancelablePromise</code> factory</p>\n\n<p>So...</p>\n\n<pre><code>let delay = (ms: number) =&gt; new Promise(r =&gt; setTimeout(r, ms));\nlet delayCancellable = makeCancelable(delay);\ndelayCancellable(1000); // return a ICancelablePromise\n</code></pre>\n\n<p>Here's how you can do it...</p>\n\n<pre><code>interface ICancelablePromise&lt;T&gt; {\n  cancel: () =&gt; void;\n  promise: Promise&lt;T&gt;;\n}\n\nfunction makeCancelable&lt;T, A extends any[]&gt;(promiseFunc: (...args: A) =&gt; Promise&lt;T&gt;): (...args: A) =&gt; ICancelablePromise&lt;T&gt; {\n    return (...args: A): ICancelablePromise&lt;T&gt; =&gt; {\n        let hasCanceled = false;\n\n        const wrappedPromise = new Promise&lt;T&gt;((resolve, reject) =&gt; {\n            promiseFunc(...args).then(\n                (val: T) =&gt; (hasCanceled ? reject({ isCanceled: true }) : resolve(val)),\n                (error: any) =&gt; (hasCanceled ? reject({ isCanceled: true }) : reject(error)),\n            );\n        });\n\n        return {\n            promise: wrappedPromise,\n            cancel() {\n                hasCanceled = true;\n            },\n        };    \n    }\n};\n\nlet delay = (time: number) =&gt; new Promise&lt;{ test: string }&gt;(resolve =&gt; {\n    setTimeout(() =&gt; {\n        resolve({ test: \"foo\" });\n    }, time);\n})\nlet delayCancellable = makeCancelable(delay);\n\n\nlet delayed = delayCancellable(1000);\ndelayed.promise\n.then(val =&gt; {\n    console.log(val.test)\n    console.log(val.foo) // &lt;-- error\n})\n.catch(() =&gt; console.log(\"rejected\"))\n\ndelayed.cancel();\n\n/*\nall these will give compile error because\ntheir args don't match delay's args\n*/\n\ndelayCancellable()\ndelayCancellable(\"hello\")\n\n/*these will also give an error because they are\nnot promise returning functions*/\n\nmakeCancelable(() =&gt; alert(\"foo\"))\nmakeCancelable(123)\n</code></pre>\n\n<p>Here's a <a href=\"http://www.typescriptlang.org/play/#src=interface%20ICancelablePromise%3CT%3E%20%7B%0D%0A%20%20cancel%3A%20()%20%3D%3E%20void%3B%0D%0A%20%20promise%3A%20Promise%3CT%3E%3B%0D%0A%7D%0D%0A%0D%0Afunction%20makeCancelable%3CT%2C%20A%20extends%20any%5B%5D%3E(promiseFunc%3A%20(...args%3A%20A)%20%3D%3E%20Promise%3CT%3E)%3A%20(...args%3A%20A)%20%3D%3E%20ICancelablePromise%3CT%3E%20%7B%0D%0A%20%20%20%20return%20(...args%3A%20A)%3A%20ICancelablePromise%3CT%3E%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20let%20hasCanceled%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20wrappedPromise%20%3D%20new%20Promise%3CT%3E((resolve%2C%20reject)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20promiseFunc(...args).then(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(val%3A%20T)%20%3D%3E%20(hasCanceled%20%3F%20reject(%7B%20isCanceled%3A%20true%20%7D)%20%3A%20resolve(val))%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(error%3A%20any)%20%3D%3E%20(hasCanceled%20%3F%20reject(%7B%20isCanceled%3A%20true%20%7D)%20%3A%20reject(error))%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20promise%3A%20wrappedPromise%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cancel()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hasCanceled%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%3B%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0Alet%20delay%20%3D%20(time%3A%20number)%20%3D%3E%20new%20Promise%3C%7B%20test%3A%20string%20%7D%3E(resolve%20%3D%3E%20%7B%0D%0A%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20resolve(%7B%20test%3A%20%22foo%22%20%7D)%3B%0D%0A%20%20%20%20%7D%2C%20time)%3B%0D%0A%7D)%0D%0Alet%20delayCancellable%20%3D%20makeCancelable(delay)%3B%0D%0A%0D%0A%0D%0Alet%20delayed%20%3D%20delayCancellable(1000)%3B%0D%0Adelayed.promise%0D%0A.then(val%20%3D%3E%20%7B%0D%0A%20%20%20%20console.log(val.test)%0D%0A%20%20%20%20console.log(val.foo)%20%2F%2F%20%3C--%20error%0D%0A%7D)%0D%0A.catch(()%20%3D%3E%20console.log(%22rejected%22))%0D%0A%0D%0Adelayed.cancel()%3B%0D%0A%0D%0A%2F*%0D%0Aall%20these%20will%20give%20compile%20error%20because%0D%0Atheir%20args%20don&#39;t%20match%20delay&#39;s%20args%0D%0A*%2F%0D%0A%0D%0AdelayCancellable()%0D%0AdelayCancellable(%22hello%22)%0D%0A%0D%0A%2F*these%20will%20also%20give%20an%20error%20because%20they%20are%0D%0Anot%20promise%20returning%20functions*%2F%0D%0A%0D%0AmakeCancelable(()%20%3D%3E%20alert(%22foo%22))%0D%0AmakeCancelable(123)\" rel=\"nofollow noreferrer\">demo</a> (You can also remove compile errors and hit Run to test the implementation)</p>\n"}], "owner": {"reputation": 2496, "user_id": 1245564, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eab80ccaf981c12f7385c521df9763b9?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/1245564/amir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552775781, "creation_date": 1552486201, "question_id": 55143893, "link": "https://stackoverflow.com/questions/55143893/how-do-i-type-a-function-that-wraps-a-promise-returing-function-and-returns-a", "title": "How do I type a function, that wraps a promise returing function, and returns a type of the oringal function?", "body": "<p>I am not sure if the title makes much sense, so I think it's better to show an example. The idea is, that this function, takes a 1 parameter, which is a promise returning function, and the wrapping function, will return an object, that will allow me to cancel the promise. </p>\n\n<p>Here is what I have:</p>\n\n<pre><code>export interface ICancelablePromise&lt;T&gt; {\n  cancel: () =&gt; void;\n  promise: Promise&lt;T&gt;;\n}\n\n// Trying to create a type for the makeCancelable function\nexport type IMakeCancelable = &lt;T&gt;(promiseFunc: (a?: any, b?: any, c?: any) =&gt; Promise&lt;T&gt;) =&gt; ICancelablePromise&lt;T&gt;;\n\nconst makeCancelable = &lt;T&gt;(promiseFunc: Promise&lt;T&gt;): ICancelablePromise&lt;T&gt; =&gt; {\n  let hasCanceled = false;\n\n  const wrappedPromise = new Promise&lt;T&gt;((resolve, reject) =&gt; {\n    promiseFunc.then(\n      (val: T) =&gt; (hasCanceled ? reject({ isCanceled: true }) : resolve(val)),\n      (error: any) =&gt; (hasCanceled ? reject({ isCanceled: true }) : reject(error)),\n    );\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled = true;\n    },\n  };\n};\n\nexport default makeCancelable;\n</code></pre>\n\n<p>And here is a use case example:</p>\n\n<pre><code>const wrappedFetchApi = makeCancelable(fetchApi(SOME_URL));\n\nwrappedFetchApi.promise.then(apiResponse =&gt; /* DO SOMETHING */);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>wrappedFetchApi.cancel();\n</code></pre>\n\n<p>As of now, with my typing I keep getting error:</p>\n\n<p><strong>provides no match for the signature '(promiseFunc: (a?: any, b?: any, c?: any) => Promise): ICancelablePromise</strong></p>\n"}, {"tags": ["javascript", "html", "angular", "twitter-bootstrap", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "edited": false, "score": 0, "creation_date": 1552488452, "post_id": 55143881, "comment_id": 97029883, "body": "First of all, thanks for your response. Actually, I didn&#39;t downvoted, I simply can&#39;t do it because I have less than 15 reputations xD.  Your solution is correct. but I am having trouble inserting the pipe, it gives me an error: <code>zone.js:192 Uncaught Error: Template parse errors: The pipe &#39;youtube&#39; could not be found (&quot;           &lt;div class=&quot;modal-content&quot;&gt;                             &lt;iframe width=&quot;560&quot; height=&quot;315&quot; [ERROR -&gt;][src]=&quot;item.youtube | youtube&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyros&quot;):</code>"}, {"owner": {"reputation": 551, "user_id": 9625231, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iz1L4dxdncs/AAAAAAAAAAI/AAAAAAAAAEg/fzzPDLfZVKM/photo.jpg?sz=128", "display_name": "xzesstence", "link": "https://stackoverflow.com/users/9625231/xzesstence"}, "reply_to_user": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "edited": false, "score": 1, "creation_date": 1552489083, "post_id": 55143881, "comment_id": 97030365, "body": "you are using the pipe with the name youtube so check your Pipe and change @Pipe({ name: &#39;safe&#39; }) into @Pipe({ name: &#39;youtube&#39; })"}], "tags": [], "owner": {"reputation": 551, "user_id": 9625231, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iz1L4dxdncs/AAAAAAAAAAI/AAAAAAAAAEg/fzzPDLfZVKM/photo.jpg?sz=128", "display_name": "xzesstence", "link": "https://stackoverflow.com/users/9625231/xzesstence"}, "is_accepted": true, "score": 0, "last_activity_date": 1552495304, "last_edit_date": 1552495304, "creation_date": 1552486166, "answer_id": 55143881, "question_id": 55143728, "link": "https://stackoverflow.com/questions/55143728/how-to-bind-object-into-iframe-src/55143881#55143881", "title": "How to bind object into iframe src", "body": "<p>the problem here is that iframe src's are protected in angular and marked as unsafe.\nyou can create a pipe and use the domsanitizer</p>\n\n<p>like this</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({ name: 'safe' })\nexport class SafePipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n} \n</code></pre>\n\n<p>then add your pipe to the app module</p>\n\n<pre><code>@NgModule({\n   declarations : [\n     ...\n     SafePipe\n   ],\n})\n</code></pre>\n\n<p>in html you can use it like this</p>\n\n<pre><code>&lt;iframe width=\"100%\" height=\"300\" [src]=\"url | safe\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>you can read about it here\n<a href=\"https://stackoverflow.com/questions/39393431/how-with-angular2-rc-6-disable-sanitize-on-embed-html-tag-which-display-pdf/39394814#39394814\">how with angular2 rc.6 disable sanitize on embed html tag which display pdf</a></p>\n"}], "owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 0, "accepted_answer_id": 55143881, "answer_count": 1, "score": 0, "last_activity_date": 1552495304, "creation_date": 1552485650, "question_id": 55143728, "link": "https://stackoverflow.com/questions/55143728/how-to-bind-object-into-iframe-src", "title": "How to bind object into iframe src", "body": "<p>I have added youtube iframe to my html file, but I want it to display the source based on the object from the backend instead of writing the url by hand like I have below. I have an object that stores the link from admin panel, it's called item.youtube. it works perfectly when I insert it inside <code>[href]</code> as you can see below, but certainly not with iframe. How can I bind it correctly?</p>\n\n<p>Here is my html of an iframe inside modal: </p>\n\n<pre><code>&lt;div class=\"modal\" id=\"myModal\"&gt;\n  &lt;div class=\"modal-dialog\"&gt;\n      &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;&lt;span&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;\n    &lt;div class=\"modal-content\"&gt;\n          &lt;iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/RnNwo8aLJJ4?autoplay=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And here is my list of items with title, description etc. including title class that has above mentioned <code>[href]</code> that works perfectly:</p>\n\n<pre><code>&lt;div class=\"paragraph-items\" *ngFor=\"let section of page\"&gt;\n\n  &lt;section class=\"news\"&gt;\n\n\n    &lt;div class=\"news-items-wrapper\"&gt;\n      &lt;div class=\"news-wrapper\" *ngFor=\"let item of section.items\"&gt;\n        &lt;div class=\"news-item-wrapper\"&gt;\n          &lt;a class=\"thumb\" data-toggle=\"modal\" data-target=\"#myModal\" href=\"#\"\n             [ngStyle]=\"{'background-image': 'url(' + item.thumbnail + ')'}\"&gt;\n          &lt;/a&gt;\n          &lt;div class=\"info\"&gt;\n            &lt;a class=\"title\" [href]=\"item.youtube\" target=\"_blank\"&gt;{{ item.title }}&lt;/a&gt;\n            &lt;div class=\"description\" [innerHTML]=\"item.description\"&gt;&lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n  &lt;/section&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "circular-dependency"], "comments": [{"owner": {"reputation": 991, "user_id": 4544288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXKlvPbQ4wA/AAAAAAAAAAI/AAAAAAAAABE/EBjOj2lD-N0/photo.jpg?sz=128", "display_name": "Massimiliano Sartoretto", "link": "https://stackoverflow.com/users/4544288/massimiliano-sartoretto"}, "edited": false, "score": 1, "creation_date": 1552487469, "post_id": 55143722, "comment_id": 97029169, "body": "Circular dependencies are usually a warning of bad design. You should definitely review your architecture, eventually splitting in different classes or services. Names here are too generic to help you."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1552489373, "post_id": 55143722, "comment_id": 97030589, "body": "please provide import section of each file, also if you export them with index.ts please provide that one too"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1552489483, "post_id": 55143722, "comment_id": 97030679, "body": "See related: <a href=\"https://softwareengineering.stackexchange.com/q/306483/244226\">How to solve circular dependency?</a> and <a href=\"https://stackoverflow.com/a/1962292/1260204\">how to avoid circular dependencies here</a>"}, {"owner": {"reputation": 991, "user_id": 4544288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXKlvPbQ4wA/AAAAAAAAAAI/AAAAAAAAABE/EBjOj2lD-N0/photo.jpg?sz=128", "display_name": "Massimiliano Sartoretto", "link": "https://stackoverflow.com/users/4544288/massimiliano-sartoretto"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1552490392, "post_id": 55143722, "comment_id": 97031327, "body": "@cgTag Having classes depending on each other breaks multiple design principles. Not saying it&#39;s not doable, but I would carefully review the design of the classes before tweaking the code to &quot;avoid the issue&quot;"}, {"owner": {"reputation": 991, "user_id": 4544288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXKlvPbQ4wA/AAAAAAAAAAI/AAAAAAAAABE/EBjOj2lD-N0/photo.jpg?sz=128", "display_name": "Massimiliano Sartoretto", "link": "https://stackoverflow.com/users/4544288/massimiliano-sartoretto"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1552490788, "post_id": 55143722, "comment_id": 97031637, "body": "@cgTag There is no worse blind man than the one who doesn&#39;t want to see. Have a nice and productive day."}], "answers": [{"tags": [], "owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "is_accepted": false, "score": 0, "last_activity_date": 1552489345, "last_edit_date": 1552489345, "creation_date": 1552489017, "answer_id": 55144926, "question_id": 55143722, "link": "https://stackoverflow.com/questions/55143722/circle-dependency-of-3-services-in-angular/55144926#55144926", "title": "Circle dependency of 3 services in Angular", "body": "<p>You can remove contentService from constructor injection in DomainSharedService, and use it as an argument in checkDomainData, e.g. </p>\n\n<pre><code>async checkDomainData(content: ContentService): Promise&lt;DomainData&gt; {\n   const whiteList: string[] = await content.getContentCodes();\n   ...\n}\n</code></pre>\n\n<p>To use this service in a component, say, FooComponent,</p>\n\n<pre><code>class FooComponent {\n  constructor(private content: ContentService, private domainSharedService: DomainSharedService) {}\n  someMethod() {\n    this.domainSharedService.checkDomainData(this.content); \n  }\n}\n</code></pre>\n\n<p>Alternatively, you can fetch contentService manually by using angular injector, e.g., in DomainSharedService,</p>\n\n<pre><code>constructor(private injector: Injector, ...) {    }\n\nasync checkDomainData(): Promise&lt;DomainData&gt; {\n  let content = this.injector.get(ContentService);\n  const whiteList: string[] = await content.getContentCodes();\n  ...\n}\n</code></pre>\n\n<p>The above workaround can avoid circular dependencies. But as others suggested, it is a bad design :)</p>\n"}], "owner": {"reputation": 33, "user_id": 2949708, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8cf97a9613121963ab7e4d7cb57c68d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio", "link": "https://stackoverflow.com/users/2949708/sergio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1552490135, "creation_date": 1552485630, "last_edit_date": 1552486369, "question_id": 55143722, "link": "https://stackoverflow.com/questions/55143722/circle-dependency-of-3-services-in-angular", "title": "Circle dependency of 3 services in Angular", "body": "<p>I'm having a trouble with my angular project. I'm having these warnings:</p>\n\n<pre><code>WARNING in Circular dependency detected:\nsrc\\app\\core\\http\\content.service.ts -&gt; src\\app\\core\\http\\domain.service.ts -&gt; \nsrc\\app\\shared\\http\\domain-shared.service.ts -&gt; \nsrc\\app\\core\\http\\content.service.ts\n</code></pre>\n\n<p>I have 3 services:</p>\n\n<p><code>Content Service</code> where I get a bunch of codes of my DB with the method</p>\n\n<pre><code>getContentCodes()\n  constructor(\n    private httpClient: HttpClient,\n    private tokenService: TokenService,\n    private domainService: DomainService\n  ) {\n    this.externalToken = new Token();\n    this.domainData = this.domainService.getDomainData() as DomainData;\n  }\n</code></pre>\n\n<p><code>Domain Service</code> where I have the code to get a values from the instance of this or the storage</p>\n\n<pre><code>  constructor(private storageBrowser: StorageBrowser, private domainSharedService: DomainSharedService) {\n    this.init();\n  }\n\n  getDomainData(): DomainData {\n    if (this.domainData &amp;&amp; Object.values(this.domainData).length &gt; 0) {\n      return this.domainData;\n    }\n\n    let domain = this.storageBrowser.get(StorageVariables.DOMAIN_DATA);\n    if (!domain) {\n       domain = this.checkForDomain();\n    }\n\n    this.domainData = new DomainData(domain);\n    return this.domainData;\n  }\n\n  setDomainDataItem(item: DomainItem) {\n    this.domainData.setDomainItem(item);\n    this.storageBrowser.set(StorageVariables.DOMAIN_DATA, this.domainData, true);\n  }\n\n  async checkForDomain(): Promise&lt;DomainData&gt; {\n    return await this.domainSharedService.checkDomainData();\n  }\n</code></pre>\n\n<p>and finally I have the <code>Domain Shared</code> service where I will have make the HTTP request to get the Domain Data values</p>\n\n<pre><code>constructor(private clubService: ClubService, private content: ContentService) {\n    this.domainCalls = [];\n}\n\nasync checkDomainData(): Promise&lt;DomainData&gt; {\n    const whiteList: string[] = await this.content.getContentCodes();\n    const clubLevels: ClubLevel[] = await this.clubService.getClubLevels();\n    this.domainCalls = [{ code: 'clubLevels', value: clubLevels.reverse() }, { code: 'whiteList', value: whiteList}];\n    const domainItems: DomainItem[] = this.setItems(this.domainCalls);\n    const domainData: DomainData = new DomainData();\n    domainData.data = domainItems;\n    return domainData;\n}\n</code></pre>\n\n<p>Content uses domain service to get the domain shared values that is checked in the domain service where is injected domain shared service. And in this Domain Shared service is injected Content to use getContentCodes() to get the Whitelist</p>\n\n<p>There is a way that I could make this Services communicate each other without having to Inject them or without having the circular dependency?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["angular", "typescript", "multi-select"], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 3109260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/561715f5de979c8e9baaf7e8033d3892?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Forward", "link": "https://stackoverflow.com/users/3109260/cameron-forward"}, "edited": false, "score": 0, "creation_date": 1557705881, "post_id": 55157281, "comment_id": 98843112, "body": "Thanks Srinivas - the only way I could stop this erroneous insertion of the id into the text"}], "tags": [], "owner": {"reputation": 611, "user_id": 4269154, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/742e18f1ff9d19a127b7d727306b1553?s=128&d=identicon&r=PG&f=1", "display_name": "Insomniac", "link": "https://stackoverflow.com/users/4269154/insomniac"}, "is_accepted": false, "score": 2, "last_activity_date": 1552549456, "creation_date": 1552549456, "answer_id": 55157281, "question_id": 55143632, "link": "https://stackoverflow.com/questions/55143632/angular2-multiselect-dropdown-showing-both-id-and-itemname-in-the-dropdown-list/55157281#55157281", "title": "angular2-multiselect-dropdown showing both id and itemName in the dropdown list", "body": "<p>I have solved this issue by using Template Driven Forms. </p>\n\n<pre><code>&lt;angular2-multiselect [data]=\"PayerDummyObjType\" [(ngModel)]=\"PayerDummyObjTypeSelected\" [settings]=\"dropdownSettings\"&gt;\n&lt;c-item&gt;\n        &lt;ng-template let-item=\"item\"&gt;\n          &lt;label style=\"color: #333;min-width: 150px;font-weight: 500\"&gt;{{item.itemName}}&lt;/label&gt; \n        &lt;/ng-template&gt;\n&lt;/c-item&gt;    \n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 611, "user_id": 4269154, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/742e18f1ff9d19a127b7d727306b1553?s=128&d=identicon&r=PG&f=1", "display_name": "Insomniac", "link": "https://stackoverflow.com/users/4269154/insomniac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1552549456, "creation_date": 1552485397, "question_id": 55143632, "link": "https://stackoverflow.com/questions/55143632/angular2-multiselect-dropdown-showing-both-id-and-itemname-in-the-dropdown-list", "title": "angular2-multiselect-dropdown showing both id and itemName in the dropdown list", "body": "<p>I am using angular2-multiselect-dropdown to bind the values from the server </p>\n\n<pre><code>interface PayerDummyObjType{\nid: string;\nitemName: string;\n}\nPayerDummyObjType: PayerDummyObjType[];\nPayerDummyObjTypeSelected: PayerDummyObjType[];  \ndropdownSettings = {}; \n\nthis.http.getPBMPayerDetails().subscribe((data: FilterDetails[]) =&gt; {\nthis.dropdownSettings = {\n        singleSelection: false,\n        text: \"Select Payer\",\n        selectAllText: 'Select All',\n        unSelectAllText: 'UnSelect All',\n        enableSearchFilter: true,\n        classes: \"myclass custom-class-example\",\n        badgeShowLimit: 2,\n        lazyLoading: true,\n        labelKey: 'itemName',\n        primaryKey: 'id',\n        maxHeight: '200'\n    };\nthis.PayerDummyObjType = []; \ndata.forEach(x =&gt; {\nthis.PayerDummyObjType.push({ \nid:x.FILTER_VALUES, itemName:x.DISPLAY_NM                         \n});\n});\n</code></pre>\n\n<p>here is my HTMl code</p>\n\n<pre><code> &lt;angular2-multiselect [data]=\"PayerDummyObjType\" [(ngModel)]=\"PayerDummyObjTypeSelected\"\n            [settings]=\"dropdownSettings\" (onSelect)=\"onItemSelect($event)\" (onDeSelect)=\"OnItemDeSelect($event)\"\n            (onSelectAll)=\"onSelectAll($event)\" (onDeSelectAll)=\"onDeSelectAll($event)\" (onOpen)=\"onOpen($event)\"\n            (onClose)=\"onClose($event)\" (clickOutside)=\"onClose($event)\"&gt;\n &lt;/angular2-multiselect&gt;\n</code></pre>\n\n<p>In the dropdown I am getting both id and itemName. Please find the below attached screenshot. I am not getting where I am doing wrong.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aA4Ax.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aA4Ax.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "data-binding"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10358489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2mEcBzbxduA/AAAAAAAAAAI/AAAAAAAAAaY/nuJ2ZnzQOu4/photo.jpg?sz=128", "display_name": "Suong Liang", "link": "https://stackoverflow.com/users/10358489/suong-liang"}, "edited": false, "score": 0, "creation_date": 1552488865, "post_id": 55144298, "comment_id": 97030190, "body": "OMG, your rewrited function works like a charm !! :D Thank you so much"}], "tags": [], "owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "is_accepted": true, "score": 0, "last_activity_date": 1552487858, "last_edit_date": 1552487858, "creation_date": 1552487319, "answer_id": 55144298, "question_id": 55143338, "link": "https://stackoverflow.com/questions/55143338/how-to-sync-variable-value-on-template-in-angular-7/55144298#55144298", "title": "How to sync variable value on template in Angular 7?", "body": "<p>Why you are calling API every time when the user types anything in the textbox?</p>\n\n<p>I would rewrite the code like this:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n/** @title Simple form field */\n@Component({\n  selector: 'form-field-overview-example',\n  templateUrl: 'form-field-overview-example.html',\n  styleUrls: ['form-field-overview-example.css'],\n})\nexport class FormFieldOverviewExample implements OnInit {\n\n  duplicateAccount = false;\n  UserListFromAPI: User[] = [];\n\n  ngOnInit() {\n    this.GetUserList();\n  }\n\n  ConfirmDataBeforeSubmission(username: string) {\n    this.UserListFromAPI.forEach(element =&gt; {\n      if (element.Username === username) {\n        this.duplicateAccount = !this.duplicateAccount;\n      }\n    });\n  }\n\n  GetUserList() {\n    this.myAPIService.GetListUser().subscribe((list) =&gt; {\n      this.UserListFromAPI = list;\n    });\n  }\n}\n</code></pre>\n\n<p>Please check and let me know if its working or not!</p>\n\n<blockquote>\n  <p>EDIT:</p>\n</blockquote>\n\n<p>I will rewrite the function <code>ConfirmDataBeforeSubmission()</code>:</p>\n\n<pre><code>ConfirmDataBeforeSubmission(username: string) {\n   this.duplicateAccount = this.UserListFromAPI.some(x =&gt; x.Username == username);\n}\n</code></pre>\n\n<p>Here is working example without API call (i.e with Sample data)</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-x1fhjf-u3rhfm\" rel=\"nofollow noreferrer\"><code>StackBlitz</code></a></p>\n"}], "owner": {"reputation": 15, "user_id": 10358489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2mEcBzbxduA/AAAAAAAAAAI/AAAAAAAAAaY/nuJ2ZnzQOu4/photo.jpg?sz=128", "display_name": "Suong Liang", "link": "https://stackoverflow.com/users/10358489/suong-liang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 55144298, "answer_count": 1, "score": 1, "last_activity_date": 1552539137, "creation_date": 1552484547, "last_edit_date": 1552539137, "question_id": 55143338, "link": "https://stackoverflow.com/questions/55143338/how-to-sync-variable-value-on-template-in-angular-7", "title": "How to sync variable value on template in Angular 7?", "body": "<p>I have a form that user can register the accounts, when user type in the username, if there's already existed account the error message will show up.\nHowever as I check this by event, the check flag only render once and not binding again if user delete the text and reinput.</p>\n\n<p>My form on my component HTML: </p>\n\n<pre><code>&lt;label for=\"Username\"&gt;Username:&lt;/label&gt;\n&lt;input type=\"text\" (keyup)=\"ConfirmDataBeforeSubmission(regisUsername.value)\" pattern=\"^[a-zA-Z0-9]+$\" required name=\"Username\" id=\"Username\" class=\"modal_input\" #regisUsername='ngModel' ngModel /&gt;\n               &lt;!-- Errors --&gt;\n&lt;div class=\"has-text-danger\" *ngIf=\"(regisUsername.touched || regisUsername.dirty) &amp;&amp; (regisUsername.errors)\"&gt;\n  &lt;div *ngIf=\"regisUsername.errors?.required\"&gt;\n   Username can't be blank\n  &lt;/div&gt;\n  &lt;div *ngIf=\"regisUsername.errors?.pattern\"&gt;\n   Username can't have special characters/space\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div *ngIf=\"duplicateAccount\"&gt;\n   Username already exists\n&lt;/div&gt;\n</code></pre>\n\n<p>My component ts file that handle the error</p>\n\n<pre><code>  duplicateAccount = false;\n  UserListFromAPI: User[] = [];\n ConfirmDataBeforeSubmission(username: string) {\n    this.myAPIService.GetListUser().subscribe((list) =&gt; {\n      this.UserListFromAPI = list;\n    });\n\n    this.UserListFromAPI.forEach(element =&gt; {\n      if (element.Username === username) {\n        this.duplicateAccount = !this.duplicateAccount;\n      }\n    });\n\n  }\n</code></pre>\n\n<p>Is there any solution ? I'm new to Angular so any help/suggestion would be appreciated.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "is_accepted": false, "score": 0, "last_activity_date": 1552484289, "creation_date": 1552484289, "answer_id": 55143237, "question_id": 55143039, "link": "https://stackoverflow.com/questions/55143039/trying-to-catch-a-401-in-an-http-interceptor-refresh-my-session-and-retry-the-o/55143237#55143237", "title": "Trying to catch a 401 in an http interceptor, refresh my session and retry the original request", "body": "<p>Probably a few syntax errors in this because im writing from mobile but this should get you started</p>\n\n<pre><code>intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\nif (!request.url.startsWith('/api')) {\n    return next.handle(request)\n}\n\nconst cloned = request.clone()\nreturn next.handle(request)\n    .do((event: HttpEvent&lt;any&gt;) =&gt;\n        return from(this.sessionService.refresh())\n               .pipe(map(() =&gt; next.handle(cloned)))\n        }), (err: any) =&gt; {\n             if (err instanceof HttpResponse) {\n                  if(err.status === 401){\n                       return throwError(error);\n                  }\n        }\n    )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3895, "user_id": 4040931, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/705151302/picture?type=large", "display_name": "David Alsh", "link": "https://stackoverflow.com/users/4040931/david-alsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1552520305, "creation_date": 1552520305, "answer_id": 55152754, "question_id": 55143039, "link": "https://stackoverflow.com/questions/55143039/trying-to-catch-a-401-in-an-http-interceptor-refresh-my-session-and-retry-the-o/55152754#55152754", "title": "Trying to catch a 401 in an http interceptor, refresh my session and retry the original request", "body": "<p>The answer was to use <code>switctMap</code> rather than <code>map</code></p>\n\n<pre><code>intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; \n{\n    if (!request.url.startsWith('/api')) {\n        return next.handle(request)\n    }\n\n    const cloned = request.clone()\n    return next.handle(request)\n        .pipe(\n            catchError((error: any) =&gt; {\n                if (error.status !== 401) {\n                    return throwError(error)\n                }\n                return from(this.sessionService.refresh())\n                    .pipe(switchMap(() =&gt; next.handle(cloned)))\n        })\n    )\n}\n</code></pre>\n\n<p>However, I opted for an alternative approach where I check if I have a session before the request happens, injecting a refresh action if required.</p>\n\n<pre><code>intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    if (\n        !request.url.startsWith('/api') || \n        this.sessionService.isValid\n    ) {\n        return next.handle(request)\n    }\n\n    return from(this.sessionService.refresh())\n        .pipe(switchMap(() =&gt; next.handle(request)))\n}\n</code></pre>\n"}], "owner": {"reputation": 3895, "user_id": 4040931, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/705151302/picture?type=large", "display_name": "David Alsh", "link": "https://stackoverflow.com/users/4040931/david-alsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1552520305, "creation_date": 1552483688, "question_id": 55143039, "link": "https://stackoverflow.com/questions/55143039/trying-to-catch-a-401-in-an-http-interceptor-refresh-my-session-and-retry-the-o", "title": "Trying to catch a 401 in an http interceptor, refresh my session and retry the original request", "body": "<p>I am trying to intercept responses coming back from <code>/api</code>, catch them if they 401, execute a refresh session action, then retry the original HTTP call again (additionally preventing it from infinitely looping if it 401s again)</p>\n\n<p>What I think I am doing in the code below is triggering the request with the http handler, subscribing to its events and if it fails on a 401, refresh then return an observable of the cloned request being actioned by the handler.</p>\n\n<pre><code>intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    if (!request.url.startsWith('/api')) {\n        return next.handle(request)\n    }\n\n    const cloned = request.clone()\n    return next.handle(request)\n        .pipe(\n            catchError((error: any) =&gt; {\n                if (error.status !== 401) {\n                    return throwError(error)\n                }\n                return from(this.sessionService.refresh())\n                    .pipe(map(() =&gt; next.handle(cloned)))\n            })\n        )\n}\n</code></pre>\n\n<p>Any suggestions on how I could achieve what I am trying to?</p>\n"}, {"tags": ["typescript", "types", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 2944, "user_id": 5014959, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0452d1509d5759ec646b4638b4af6eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Alp", "link": "https://stackoverflow.com/users/5014959/alp"}, "edited": false, "score": 1, "creation_date": 1552496598, "post_id": 55142266, "comment_id": 97035400, "body": "consider explaining what&#39;s going on here with a few sentences or comments in the code."}], "tags": [], "owner": {"reputation": 1055, "user_id": 281474, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7a3d458c8793aabdf9aef253417e47e9?s=128&d=identicon&r=PG", "display_name": "joe", "link": "https://stackoverflow.com/users/281474/joe"}, "is_accepted": false, "score": -5, "last_activity_date": 1552481158, "creation_date": 1552481158, "answer_id": 55142266, "question_id": 55142177, "link": "https://stackoverflow.com/questions/55142177/how-to-build-a-type-from-enum-values-in-typescript/55142266#55142266", "title": "How to build a type from enum values in TypeScript?", "body": "<p>yes?</p>\n\n<pre><code>enum FooKeys {\n  FOO = 'foo',\n  BAR = 'bar',\n}\n\ninterface Foo {\n  foo: string\n  bar: string\n}\n\nclass Test implements Foo {\n    public foo: string = FooKeys.FOO;\n    public bar: string = FooKeys.BAR;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 445, "user_id": 1566758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98399adfcac08f6c9511fad2d89c7d7a?s=128&d=identicon&r=PG", "display_name": "moltar", "link": "https://stackoverflow.com/users/1566758/moltar"}, "edited": false, "score": 0, "creation_date": 1552522970, "post_id": 55143029, "comment_id": 97046516, "body": "Thank you for a detailed answer. This is exactly what I needed!"}, {"owner": {"reputation": 21728, "user_id": 1114926, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/U4uzx.jpg?s=128&g=1", "display_name": "Green", "link": "https://stackoverflow.com/users/1114926/green"}, "edited": false, "score": 0, "creation_date": 1579281691, "post_id": 55143029, "comment_id": 105726391, "body": "What is <code>Record</code> in <code>Record&lt;FooKeys, string&gt;</code>? Why did you decide to add yet another arbitrary type in your app/code/module? Why do you need extra type?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1579281778, "post_id": 55143029, "comment_id": 105726443, "body": "It&#39;s a <a href=\"http://www.typescriptlang.org/docs/handbook/utility-types.html#recordkt\" rel=\"nofollow noreferrer\">utility type</a>, the definition of which in the standard library is linked in the answer above."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 27, "last_activity_date": 1552483671, "creation_date": 1552483671, "answer_id": 55143029, "question_id": 55142177, "link": "https://stackoverflow.com/questions/55142177/how-to-build-a-type-from-enum-values-in-typescript/55143029#55143029", "title": "How to build a type from enum values in TypeScript?", "body": "<p>Yes, you can use enum values as keys.  And you can use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"noreferrer\">mapped type</a> like the standard library's <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.3.1/lib/lib.es5.d.ts#L1449-L1454\" rel=\"noreferrer\"><code>Record&lt;K, V&gt;</code></a> to prevent repetition:</p>\n\n<pre><code>enum FooKeys {\n  FOO = 'foo',\n  BAR = 'bar',\n}\n\n// probably all you need, but it's a type alias\ntype FooType = Record&lt;FooKeys, string&gt;;\n\n// if you need an interface instead you can do this\ninterface FooInterface extends FooType {};\n</code></pre>\n\n<p>And you can verify that it works:</p>\n\n<pre><code>declare const foo: FooInterface;\nfoo.foo; // okay\nfoo[FooKeys.FOO]; // okay\n\nfoo.bar; // okay\nfoo[FooKeys.BAR]; // okay\n\nfoo.baz; // error\n</code></pre>\n\n<p>Does that work for you?  Good luck!    </p>\n"}, {"tags": [], "owner": {"reputation": 380, "user_id": 5519365, "user_type": "registered", "profile_image": "https://graph.facebook.com/1105809439437753/picture?type=large", "display_name": "Akash Babu", "link": "https://stackoverflow.com/users/5519365/akash-babu"}, "is_accepted": false, "score": 0, "last_activity_date": 1607489468, "creation_date": 1607489468, "answer_id": 65210846, "question_id": 55142177, "link": "https://stackoverflow.com/questions/55142177/how-to-build-a-type-from-enum-values-in-typescript/65210846#65210846", "title": "How to build a type from enum values in TypeScript?", "body": "<p><a href=\"https://stackoverflow.com/a/60768453/5519365\">@hackape 's solution</a> is great, but I found minimal duplication extending his solution as below:</p>\n<pre><code>type ReverseMap&lt;T extends Record&lt;keyof T, any&gt;&gt; = {\n  [V in T[keyof T]]: {\n    [K in keyof T]: T[K] extends V ? K : never;\n  }[keyof T];\n}\n\nconst Map = {\n  'FOO': &quot;foo&quot; as &quot;foo&quot;,\n  'BAR': &quot;bar&quot; as &quot;bar&quot;,\n}\n\nconst reverseMap: ReverseMap&lt;typeof Map&gt; = Object.entries(Map).reduce((rMap, [k, v]) =&gt; {\n  rMap[v] = k;\n  return rMap;\n}, {} as any);\n\nexport type Values = keyof typeof reverseMap; // 'foo' | 'bar';\n</code></pre>\n<p>ReverseMap implementation is well explained <a href=\"https://stackoverflow.com/a/55209457/5519365\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 4396730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/904ce42b78e1f501a70df9b9c3fef85e?s=128&d=identicon&r=PG&f=1", "display_name": "Filip Seman", "link": "https://stackoverflow.com/users/4396730/filip-seman"}, "is_accepted": false, "score": 0, "last_activity_date": 1619095863, "last_edit_date": 1619095863, "creation_date": 1619095326, "answer_id": 67213524, "question_id": 55142177, "link": "https://stackoverflow.com/questions/55142177/how-to-build-a-type-from-enum-values-in-typescript/67213524#67213524", "title": "How to build a type from enum values in TypeScript?", "body": "<p>Does this answer your question?</p>\n<pre class=\"lang-js prettyprint-override\"><code>enum FOO_BAR {\n    F = &quot;foo&quot;,\n    B = &quot;bar&quot;,\n}\n\ntype FooType = Record&lt;FOO_BAR, string&gt;;\n\nconst obj: FooType = {\n    // you can use enum values, better for refactoring\n    [FOO_BAR.F]: &quot;action foo&quot;,\n    [FOO_BAR.B]: &quot;action bar&quot;,\n\n    // or use enum values\n    // foo: &quot;action foo&quot;,\n    // bar: &quot;action bar&quot;,\n};\n\nobj[FOO_BAR.F]; // -&gt; &quot;action foo&quot;\nobj[&quot;foo&quot;];     // -&gt; &quot;action foo&quot;\n\n// If you want partial keys\ntype FooTypePartial = Partial&lt;FooType&gt;;\n\nconst objPartial: FooTypePartial = {\n    [FOO_BAR.F]: &quot;action foo&quot;,\n};\n\nobjPartial[&quot;foo&quot;]; // -&gt; &quot;action foo&quot;, may be undefined\n\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 1566758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98399adfcac08f6c9511fad2d89c7d7a?s=128&d=identicon&r=PG", "display_name": "moltar", "link": "https://stackoverflow.com/users/1566758/moltar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10630, "favorite_count": 1, "accepted_answer_id": 55143029, "answer_count": 4, "score": 18, "last_activity_date": 1619095863, "creation_date": 1552480874, "question_id": 55142177, "link": "https://stackoverflow.com/questions/55142177/how-to-build-a-type-from-enum-values-in-typescript", "title": "How to build a type from enum values in TypeScript?", "body": "<p>Given the following:</p>\n\n<pre><code>enum FooKeys {\n  FOO = 'foo',\n  BAR = 'bar',\n}\n</code></pre>\n\n<p>I'd like to make an interface like this one, but instead of defining keys by hand, build it out of enum's values.</p>\n\n<pre><code>interface Foo {\n  foo: string\n  bar: string\n}\n</code></pre>\n\n<p>Is something like this possible with TypeScript?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["reactjs", "typescript", "enums", "namespaces", "migration"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": -3, "last_activity_date": 1552485516, "creation_date": 1552485516, "answer_id": 55143688, "question_id": 55141976, "link": "https://stackoverflow.com/questions/55141976/react-typescript-constant-enums-and-namespaces-are-not-supported/55143688#55143688", "title": "React &amp; Typescript: Constant enums and namespaces are not supported", "body": "<blockquote>\n  <p>Does anyone have any migration suggestions when it comes to constant enums and namespaces i.e. any preferred alternatives?</p>\n</blockquote>\n\n<h1>Constant Enums</h1>\n\n<p>Delete the <code>const</code> keyword. </p>\n\n<p>Old:</p>\n\n<pre><code>const enum ___\n</code></pre>\n\n<p>New:</p>\n\n<pre><code>enum ___\n</code></pre>\n\n<h1>Namespaces</h1>\n\n<p>They are just the revealing module pattern. Transfer to raw JavaScript.</p>\n\n<p>Old: </p>\n\n<pre><code>namespace X {\n  __\n}\n</code></pre>\n\n<p>New:</p>\n\n<pre><code>const X = (function(){\n  ___\n\n  return {___}\n})()\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 1966215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7h3PW.jpg?s=128&g=1", "display_name": "smd", "link": "https://stackoverflow.com/users/1966215/smd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2466, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1552485516, "creation_date": 1552480215, "last_edit_date": 1552483811, "question_id": 55141976, "link": "https://stackoverflow.com/questions/55141976/react-typescript-constant-enums-and-namespaces-are-not-supported", "title": "React &amp; Typescript: Constant enums and namespaces are not supported", "body": "<p>We've got a React app that's using <a href=\"https://github.com/wmonk/create-react-app-typescript/\" rel=\"nofollow noreferrer\">create-react-app-typescript</a> to add Typescript support within our solution and this has been working fairly well. </p>\n\n<p>However, now that Typescript is supported natively by Create React App, I'm attempting to migrate the project and did so semi-successfully by following the <a href=\"https://vincenttunru.com/migrate-create-react-app-typescript-to-create-react-app/\" rel=\"nofollow noreferrer\">blog post</a> as recommended in the Create React App docs.</p>\n\n<p>I'm getting several Typscript errors on build, which I'm working through currently, but there's a couple that I'm not sure how to best resolve.</p>\n\n<p>The docs state the following note in regards to support for constant enums and namespaces...</p>\n\n<p><a href=\"https://i.stack.imgur.com/XUf14.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XUf14.png\" alt=\"Note: Constant enums and namespaces are not supported.\"></a></p>\n\n<p>Does anyone have any migration suggestions when it comes to constant enums and namespaces i.e. any preferred alternatives?</p>\n\n<p>Any advice much appreciated!</p>\n"}, {"tags": ["angular", "typescript", "core-ui"], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2057, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1591972046, "creation_date": 1552480005, "question_id": 55141894, "link": "https://stackoverflow.com/questions/55141894/how-to-manipulate-routerlink-when-using-app-sidebar-nav-in-coreui", "title": "How to manipulate routerLink when using app-sidebar-nav in coreUI?", "body": "<p>I am using CoreUI's <code>app-sidebar-nav</code> (link <a href=\"https://github.com/coreui/coreui-angular/tree/master/projects/coreui/angular/src/lib/sidebar\" rel=\"nofollow noreferrer\">here</a>) for redirecting to various parts of my application. However, the child route is appended to the current url instead of appending to the root of the application. </p>\n\n<p>I had a similar issue with the toolbar in the same application which was solved <a href=\"https://stackoverflow.com/questions/35896308/angular-2-add-routerlink-in-child-which-points-to-root-router\">here</a> (after a few modifications mentioned <a href=\"https://stackoverflow.com/questions/55139850/refer-to-link-path-while-redirecting-to-root-using-routerlink\">here</a>), but in this case I am using a CoreUI template, and wanted to know if there was a way I could manage to manipulate the routerLink the same way I am able to manipulate in my toolbar. <a href=\"https://github.com/coreui/coreui-angular/blob/b924a8d11fc231a2ac2e980b50d4ac0a69cdd65b/projects/coreui/angular/src/lib/sidebar/app-sidebar-nav/app-sidebar-nav-link.component.html\" rel=\"nofollow noreferrer\">this</a> might be of some help to determine where the <code>routerLink</code> resides </p>\n\n<p>Here is my code:</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { navItems } from 'src/app/views/core/side-nav/_nav';\n/**\n* This component renders the UI of the side-nav component.\n*/\n@Component({\n  selector: 'app-side-nav',\n  templateUrl: './side-nav.component.html',\n  styleUrls: ['./side-nav.component.scss']\n})\nexport class SideNavComponent implements OnInit {\n  /**\n  * The constructor initializes the navItems meta.\n  */\n  constructor(private nav: navItems) { }\n  /**\n  * This property comprises the navItems meta.\n  */\n  public navItems = this.nav.exportData();\n  /**\n  * This flag indicates wether the sidebar is minimized or not.\n  */\n  public sidebarMinimized = true;\n  /**\n  * This property is an eventlistener.\n  */\n  private changes: MutationObserver;\n  /**\n  * This property contains the document body.\n  */\n  public element: HTMLElement = document.body;\n\n  /**\n  * This method observes the changes in the DOM, and minimizes and maximizes the\n  * side nav accordingly.\n  */\n  ngOnInit() {\n    this.changes = new MutationObserver((mutations) =&gt; {\n      this.sidebarMinimized = document.body.classList.contains('sidebar-minimized');\n    });\n    this.changes.observe(&lt;Element&gt;this.element, {\n      attributes: true\n    });\n  }\n\n}\n</code></pre>\n\n<p><strong>navitems ts file</strong></p>\n\n<pre><code>import { TranslatePipe } from 'src/app/pipes/translate/translate.pipe';\nimport { Injectable } from '@angular/core';\nimport { DynamicRoutingService } from 'src/app/services/dynamic-routing/dynamic-routing.service';\nimport { Router } from '@angular/router';\nimport { DummyComponent } from 'src/app/views/dummy/dummy.component';\nimport { LogoutComponent } from 'src/app/views/logout/logout.component';\n\n@Injectable({\n  providedIn: 'root'\n})\n\n/**\n* The purpose of this class is to provide an object containing the translated names\n* for the categories in the nav bar, based on the translation file found in assets/i18n\n*\n* @class navItems\n*/\nexport class navItems {\n\n  /**\n  * Object containing the translated names and their respective icons\n  * @property {array} navData\n  */\n  navData: Array&lt;{ name: string, url: string, icon: string }&gt;;\n\n  /**\n  * constructor for toolbar component is responsible for initializing translatePipe, dynamic routing and router,\n  * as well as adding routes dynamically to the router and the dynamicRouting service\n  * @param translate\n  * @param router\n  * @param dynamicRouting\n  *\n  */\n  constructor(private translate: TranslatePipe, private router: Router, private dynamicRouting: DynamicRoutingService) {\n    this.router.config.unshift(\n      { path: 'knowledge-base', component: DummyComponent, pathMatch: \"full\" },\n      { path: 'home', component: DummyComponent },\n      { path: 'profile', component: DummyComponent },\n      { path: 'settings', component: DummyComponent },\n      { path: 'logout', component: LogoutComponent}\n    );\n    this.dynamicRouting.addItem({ text: \"home\", path: \"home\", icon: \"icon-drop\" });\n    this.dynamicRouting.addItem({ text: \"knowledge_base\", path: \"knowledge-base\", icon: \"icon-pencil\" });\n    this.dynamicRouting.addItem({ text: \"profile\", path: \"profile\", icon: \"icon-puzzle\" });\n    this.dynamicRouting.addItem({ text: \"settings\", path: \"settings\", icon: \"icon-cursor\" });\n    this.dynamicRouting.addItem({ text: \"logout\", path: \"logout\", icon: \"icon-arrow-left-circle\" });\n  }\n\n  /**\n  * When called this method sets the required data into the navData object\n  * @param\n  * @method exportData\n  * @return\n  */\n  exportData() {\n    this.navData = [];\n    let rawData = this.dynamicRouting.getLinks();\n    let self = this;\n    rawData.forEach(function(data) {\n      let text = self.translate.transform(\"generic[nav_bar][categories][\" + data.text + \"][label]\");\n      self.navData.push({ name: text, url: data.path, icon: data.icon });\n    });\n    return this.navData;\n  }\n}\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;app-sidebar [fixed]=\"true\" [display]=\"'lg'\"&gt;\n  &lt;app-sidebar-nav [navItems]=\"navItems\" [perfectScrollbar] [disabled]=\"sidebarMinimized\"&gt;&lt;/app-sidebar-nav&gt;\n  &lt;app-sidebar-minimizer class=\"custom-padding-bottom\"&gt;&lt;/app-sidebar-minimizer&gt;\n&lt;/app-sidebar&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1552478137, "post_id": 55141297, "comment_id": 97022646, "body": "An observable is never finished. What you can do, will be to get the next value of each observable. But if you are sur that it&#39;s an ponctual request, you can convert your Observable as a promise <code>.toPromise()</code> and then you know how to deal with it"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "reply_to_user": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1552478442, "post_id": 55141297, "comment_id": 97022841, "body": "@Wandrille <i>An observable is never finished</i> if you consider finished to be <i>completed</i>, then your statement is wrong."}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "reply_to_user": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1552478702, "post_id": 55141297, "comment_id": 97023034, "body": "@Wandrille An observable is finished with <code>complete()</code> method of  the observer. For example, HTTP requests returns observable and the observable is <b>finished</b> once its subscription is fired."}, {"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "reply_to_user": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1552478706, "post_id": 55141297, "comment_id": 97023036, "body": "@Jota.Toledo you&#39;re right"}, {"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "reply_to_user": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1552478904, "post_id": 55141297, "comment_id": 97023168, "body": "@Harun Y\u0131lmaz Thanks for the info."}], "answers": [{"tags": [], "owner": {"reputation": 2396, "user_id": 7547379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d2af3a4c5cbf1b51597570ad0cd638?s=128&d=identicon&r=PG&f=1", "display_name": "Vadi", "link": "https://stackoverflow.com/users/7547379/vadi"}, "is_accepted": false, "score": 4, "last_activity_date": 1552479520, "last_edit_date": 1552479520, "creation_date": 1552478297, "answer_id": 55141376, "question_id": 55141297, "link": "https://stackoverflow.com/questions/55141297/wait-for-last-subscription-to-end/55141376#55141376", "title": "Wait for last subscription to end", "body": "<blockquote>\n  <p>I want do do something, after all the subscriptions of getObject(row.id) have finished.</p>\n</blockquote>\n\n<p>Better to use <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-forkJoin\" rel=\"nofollow noreferrer\">forkJoin</a> for your example. From official docs:</p>\n\n<blockquote>\n  <p>forkJoin will wait for all passed Observables to complete and then it will emit an array with last values from corresponding Observables.</p>\n</blockquote>\n\n<p>Try to do it in this way: </p>\n\n<pre><code>import { forkJoin } from 'rxjs';\n\nconst rowObjects$ = result.data.map(rd =&gt; this.myService.getObject(rd.id));\n\nforkJoin(rowObjects$)\n  .subscribe((object:any) =&gt; {\n    //...\n  })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "edited": false, "score": 0, "creation_date": 1552482114, "post_id": 55141422, "comment_id": 97025241, "body": "<code>combineLatest</code> will emit each time any of the inner observables emits. The OP wants this to only happen whne all inner observables are complete."}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "reply_to_user": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "edited": false, "score": 0, "creation_date": 1552482361, "post_id": 55141422, "comment_id": 97025389, "body": "@xandermonkey Not each time always but each time after every one of them is fired at least once. And I can&#39;t see where OP stated he wants to fire only once."}, {"owner": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "edited": false, "score": 0, "creation_date": 1552484302, "post_id": 55141422, "comment_id": 97026791, "body": "&quot;after all the subscriptions of getObject(row.id) have finished&quot;. I downvoted because it&#39;s a wrong answer"}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "reply_to_user": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "edited": false, "score": 0, "creation_date": 1552484629, "post_id": 55141422, "comment_id": 97027014, "body": "@xandermonkey <code>combineLatest</code> will only fire after every inner observable fires <b>at least once</b> as well as <code>forkJoin</code>. The only difference between two of them is that the <code>forkJoin</code> performs parallel execution and finishes (completes) while <code>combineLatest</code> performs serial execution (using <code>concat</code> inside) and does not finish (complete). So, <code>combineLatest</code> should work well for OP as well.  And also see: <a href=\"https://stackoverflow.com/a/41797505/1331040\">stackoverflow.com/a/41797505/1331040</a>"}], "tags": [], "owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "is_accepted": false, "score": -1, "last_activity_date": 1552478430, "creation_date": 1552478430, "answer_id": 55141422, "question_id": 55141297, "link": "https://stackoverflow.com/questions/55141297/wait-for-last-subscription-to-end/55141422#55141422", "title": "Wait for last subscription to end", "body": "<p>You can use <code>combineLatest</code> to combine all the observables and wait until every observable fires at least once. </p>\n\n<pre><code>import {combineLatest} from 'rxjs';\n...\n\n\n\nlet result = service.getResults();\n\nconst observablesToCombine = [];\n\nresult.data.forEach((row:any) =&gt; {\n      observablesToCombine.push(this.myService.getObject(row.id));\n})\n\ncombineLatest(observablesToCombine).subscribe((object: Array&lt;any&gt;) =&gt; {\n     //...\n})\n</code></pre>\n"}], "owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1927, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552479520, "creation_date": 1552478030, "question_id": 55141297, "link": "https://stackoverflow.com/questions/55141297/wait-for-last-subscription-to-end", "title": "Wait for last subscription to end", "body": "<p>I have following setup:</p>\n\n<pre><code>    let result = service.getResults();\n\n    result.data.forEach((row:any) =&gt; {\n          this.myService\n            .getObject(row.id)\n            .subscribe((object:any) =&gt; {\n              //...\n            })\n        );\n      }\n</code></pre>\n\n<p>I want do do something, after all the subscriptions of <code>getObject(row.id)</code> have finished. I know there's the <code>add()</code> function but it will do this for every Subscription. Coming from Promises I would have stored every Promise and then in an array and just called Promise.all().</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "antd"], "answers": [{"comments": [{"owner": {"reputation": 19471, "user_id": 648138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/gzQEA.jpg?s=128&g=1", "display_name": "Suhail Gupta", "link": "https://stackoverflow.com/users/648138/suhail-gupta"}, "edited": false, "score": 0, "creation_date": 1552481002, "post_id": 55141809, "comment_id": 97024536, "body": "Could you please explain in the context of my current code? What does <code>fields</code> point to in <code>getFieldValue</code>? There are 2 fields that get rendered on each call to  <code>addMOCField</code>"}, {"owner": {"reputation": 2627, "user_id": 6757576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBQqS.png?s=128&g=1", "display_name": "Samuel Vaillant", "link": "https://stackoverflow.com/users/6757576/samuel-vaillant"}, "reply_to_user": {"reputation": 19471, "user_id": 648138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/gzQEA.jpg?s=128&g=1", "display_name": "Suhail Gupta", "link": "https://stackoverflow.com/users/648138/suhail-gupta"}, "edited": false, "score": 0, "creation_date": 1552485337, "post_id": 55141809, "comment_id": 97027546, "body": "I&#39;ve updated my answer: it&#39;s not mandatory to store the fields on the form. I&#39;ve got now an implementation much closer to what you already have. I&#39;ve only inlined the call <code>getMOCField</code> inside the <code>render</code> function. It does the trick."}, {"owner": {"reputation": 19471, "user_id": 648138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/gzQEA.jpg?s=128&g=1", "display_name": "Suhail Gupta", "link": "https://stackoverflow.com/users/648138/suhail-gupta"}, "edited": false, "score": 0, "creation_date": 1552486358, "post_id": 55141809, "comment_id": 97028287, "body": "It works fine. Also, what would be the correct way to remove the field? In the method <code>removeMOCField</code>, I have splice with the correct index but it always removes the last field. Any idea?"}, {"owner": {"reputation": 2627, "user_id": 6757576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBQqS.png?s=128&g=1", "display_name": "Samuel Vaillant", "link": "https://stackoverflow.com/users/6757576/samuel-vaillant"}, "reply_to_user": {"reputation": 19471, "user_id": 648138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/gzQEA.jpg?s=128&g=1", "display_name": "Suhail Gupta", "link": "https://stackoverflow.com/users/648138/suhail-gupta"}, "edited": false, "score": 1, "creation_date": 1552498359, "post_id": 55141809, "comment_id": 97036431, "body": "Yes it&#39;s because we use the length of the array to compute the field index. You can rather take the last element of the array and add one to it. You then have a value that is unique. Note that the <code>form</code> might contain now non contiguous identifier e.g. <code>recovery_percentage[1]</code>, <code>recovery_percentage[3]</code>. I&#39;ve updated to reflect those changes."}], "tags": [], "owner": {"reputation": 2627, "user_id": 6757576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBQqS.png?s=128&g=1", "display_name": "Samuel Vaillant", "link": "https://stackoverflow.com/users/6757576/samuel-vaillant"}, "is_accepted": true, "score": 1, "last_activity_date": 1552498502, "last_edit_date": 1552498502, "creation_date": 1552479753, "answer_id": 55141809, "question_id": 55141119, "link": "https://stackoverflow.com/questions/55141119/unable-to-select-an-item-from-select-box-write-in-the-input-field-am-i-handli/55141809#55141809", "title": "Unable to select an item from select box / write in the input field. Am I handling &#39;key&#39; incorrectly?", "body": "<p>It seems that the listeners doesn't work once they are stored in the array. I've tried to inline the call to <code>getMOCField</code> in the <code>render</code> function and it works. Here is what I've changed to get it work:</p>\n\n<pre><code>class MOC extends Component {\n  // ...\n\n  addMOCField(event) {\n    event.preventDefault();\n\n    const { mocFields } = this.state;\n\n    // We only keep inside the state an array of number\n    // each one of them represent a section of fields.\n    const lastFieldId = mocFields[mocFields.length - 1] || 0;\n    const nextFieldId = lastFieldId + 1;\n\n    this.setState({\n      mocFields: mocFields.concat(nextFieldId),\n    });\n  }\n\n  removeMOCField(key, event) {\n    event.preventDefault();\n\n    this.setState(prevState =&gt; ({\n      mocFields: prevState.mocFields.filter(field =&gt; field !== key)\n    }));\n  }\n\n  render() {\n    const { mocFields } = this.state;\n    const mocButton = this.getAddMOCButton();\n    const toRender =\n      mocFields.length &gt; 0 ? (\n        &lt;div className=\"w-100 p-2 gray-background br-25\"&gt;\n          {/* {mocFields.map((f, index) =&gt; (\n                &lt;div key={index}&gt;{f}&lt;/div&gt;\n              ))} */}\n          {mocFields.map(fieldIndex =&gt; (\n            &lt;div key={fieldIndex}&gt;{this.getMOCField(fieldIndex)}&lt;/div&gt;\n          ))}\n          {this.getMOCFieldFooter()}\n        &lt;/div&gt;\n      ) : (\n        mocButton\n      );\n\n    return toRender;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 19471, "user_id": 648138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/gzQEA.jpg?s=128&g=1", "display_name": "Suhail Gupta", "link": "https://stackoverflow.com/users/648138/suhail-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55141809, "answer_count": 1, "score": 0, "last_activity_date": 1552498502, "creation_date": 1552477454, "last_edit_date": 1552477898, "question_id": 55141119, "link": "https://stackoverflow.com/questions/55141119/unable-to-select-an-item-from-select-box-write-in-the-input-field-am-i-handli", "title": "Unable to select an item from select box / write in the input field. Am I handling &#39;key&#39; incorrectly?", "body": "<p>I was writing a component with the code given as follows, which after rendering looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ymleY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymleY.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have used antd components to render the fields. The problem that I am facing is that I am neither able to select from the select box nor write in the input field as shown below. I have a feeling that I am using React's <code>key</code> inappropriately for <code>mocFields</code> in the render method which is obtained from <code>getMOCField</code>.</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { Button, Icon, Select, Form, Input } from \"antd\";\nconst FormItem = Form.Item;\nconst Option = Select.Option;\nimport { FormComponentProps } from \"antd/lib/form/Form\";\n\ntype state = {\n  mocFields: JSX.Element[]\n};\n\nexport class MOC extends Component&lt;FormComponentProps, state&gt; {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mocFields: []\n    };\n    this.addMOCField = this.addMOCField.bind(this);\n    this.removeMOCField = this.removeMOCField.bind(this);\n  }\n\n  componentDidMount() {}\n\n  componentWillReceiveProps(nextProps) {}\n\n  removeMOCField(key, event: React.MouseEvent&lt;HTMLElement&gt;) {\n    event.preventDefault();\n    const { mocFields } = this.state;\n\n    mocFields.splice(key, 1);\n\n    this.setState({\n      mocFields\n    });\n  }\n\n  getMOCFieldFooter() {\n    return (\n      &lt;div className=\"d-flex justify-content-between small\"&gt;\n        &lt;div className=\"inline-block\"&gt;\n          &lt;Button\n            type=\"primary\"\n            shape=\"circle\"\n            icon=\"plus\"\n            ghost\n            size=\"small\"\n            className=\"d-font mr-1\"\n            onClick={this.addMOCField}\n          /&gt;\n          &lt;div\n            className=\"text-primary pointer d-font inline-block letter-spacing-1\"\n            onClick={this.addMOCField}\n          &gt;\n            Add another&amp;nbsp;\n          &lt;/div&gt;\n          &lt;div className=\"d-font inline-block letter-spacing-1\"&gt;or&amp;nbsp;&lt;/div&gt;\n          &lt;div className=\"text-primary pointer d-font inline-block letter-spacing-1\"&gt;\n            Create a new MOC\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n\n  getMOCField(key) {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      &lt;div className=\"d-flex justify-content-between\"&gt;\n        &lt;div className=\"inline-block\"&gt;\n          &lt;FormItem label=\"Select MOC\"&gt;\n            {getFieldDecorator(`selected_moc[${key}]`, {\n              rules: [\n                {\n                  required: true,\n                  message: \"Please select moc\"\n                }\n              ]\n            })(\n              &lt;Select&gt;\n                &lt;Option value={\"A\"}&gt;A&lt;/Option&gt;\n                &lt;Option value={\"B\"}&gt;B&lt;/Option&gt;\n              &lt;/Select&gt;\n            )}\n          &lt;/FormItem&gt;\n        &lt;/div&gt;\n\n        &lt;div className=\"inline-block\"&gt;\n          &lt;FormItem label=\"Recovery (%)\"&gt;\n            {getFieldDecorator(`recovery_percentage[${key}]`, {\n              rules: [\n                {\n                  required: true,\n                  message: \"Please input the recovery percentage\"\n                }\n              ]\n            })(&lt;Input type=\"number\" step=\"0.000001\" /&gt;)}\n          &lt;/FormItem&gt;\n        &lt;/div&gt;\n        &lt;div className=\"inline-block pointer\"&gt;\n          &lt;span&gt;\n            &lt;Icon type=\"close\" onClick={this.removeMOCField.bind(this, key)} /&gt;\n          &lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n\n  addMOCField(event: React.MouseEvent&lt;HTMLElement&gt;) {\n    event.preventDefault();\n    const { mocFields } = this.state;\n    const MOCField = this.getMOCField(mocFields.length);\n    mocFields.push(MOCField);\n\n    this.setState({\n      mocFields\n    });\n  }\n\n  getAddMOCButton() {\n    return (\n      &lt;div className=\"d-flex w-100 mt-3\"&gt;\n        &lt;Button\n          type=\"primary\"\n          ghost\n          className=\"w-100\"\n          onClick={this.addMOCField}\n        &gt;\n          &lt;Icon type=\"plus-circle\" /&gt;\n          Add MOC\n        &lt;/Button&gt;\n      &lt;/div&gt;\n    );\n  }\n\n  render() {\n    const { mocFields } = this.state;\n    const mocButton = this.getAddMOCButton();\n    const toRender =\n      mocFields.length &gt; 0 ? (\n        &lt;div className=\"w-100 p-2 gray-background br-25\"&gt;\n          {mocFields.map((f, index) =&gt; (\n            &lt;div key={index}&gt;{f}&lt;/div&gt;\n          ))}\n          {this.getMOCFieldFooter()}\n        &lt;/div&gt;\n      ) : (\n        mocButton\n      );\n\n    return toRender;\n  }\n}\n</code></pre>\n\n<p>What could be the reason for this? What am I doing incorrectly? Currently the above component renders as follows:</p>\n\n<ul>\n<li>If the number of fields in <code>mocFields</code> is zero, then a button to add new fields is rendered.</li>\n<li>After the button is pressed, <code>mocField</code> is populated with the select box and input field as shown above. The key of the <code>div</code> is decided during the render method.</li>\n</ul>\n"}, {"tags": ["json", "mongodb", "typescript", "mongoose"], "comments": [{"owner": {"reputation": 1198, "user_id": 8264275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zRnQ.jpg?s=128&g=1", "display_name": "mehta-rohan", "link": "https://stackoverflow.com/users/8264275/mehta-rohan"}, "edited": false, "score": 0, "creation_date": 1552477285, "post_id": 55141023, "comment_id": 97022106, "body": "share your folder structure"}, {"owner": {"reputation": 2465, "user_id": 10995369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnW1d.png?s=128&g=1", "display_name": "r g", "link": "https://stackoverflow.com/users/10995369/r-g"}, "edited": false, "score": 0, "creation_date": 1552477700, "post_id": 55141023, "comment_id": 97022379, "body": "try making <code>mongoConfig</code> <b>.js</b> file and do export / default export within file"}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 1198, "user_id": 8264275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zRnQ.jpg?s=128&g=1", "display_name": "mehta-rohan", "link": "https://stackoverflow.com/users/8264275/mehta-rohan"}, "edited": false, "score": 0, "creation_date": 1552478176, "post_id": 55141023, "comment_id": 97022672, "body": "@mehta-rohan updated the question"}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 2465, "user_id": 10995369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnW1d.png?s=128&g=1", "display_name": "r g", "link": "https://stackoverflow.com/users/10995369/r-g"}, "edited": false, "score": 0, "creation_date": 1552478222, "post_id": 55141023, "comment_id": 97022696, "body": "@fard Unfortunately, one of the requirements is that the mongoConfig file to be of type JSON :("}, {"owner": {"reputation": 2465, "user_id": 10995369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnW1d.png?s=128&g=1", "display_name": "r g", "link": "https://stackoverflow.com/users/10995369/r-g"}, "edited": false, "score": 1, "creation_date": 1552478346, "post_id": 55141023, "comment_id": 97022791, "body": "@user3063909 based on file tree you should do <code>.&#47;..&#47;mongoConfig.json</code>"}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 2465, "user_id": 10995369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnW1d.png?s=128&g=1", "display_name": "r g", "link": "https://stackoverflow.com/users/10995369/r-g"}, "edited": false, "score": 0, "creation_date": 1552479351, "post_id": 55141023, "comment_id": 97023443, "body": "@fard you were right, thanks a lot! :) Right now I have to deal with another error... unfortunately... :("}], "answers": [{"tags": [], "owner": {"reputation": 1198, "user_id": 8264275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zRnQ.jpg?s=128&g=1", "display_name": "mehta-rohan", "link": "https://stackoverflow.com/users/8264275/mehta-rohan"}, "is_accepted": false, "score": 0, "last_activity_date": 1552480930, "creation_date": 1552480930, "answer_id": 55142190, "question_id": 55141023, "link": "https://stackoverflow.com/questions/55141023/json-config-file-for-mongodb/55142190#55142190", "title": "Json config file for mongodb", "body": "<p>Mongooes.connect takes uri string in : <code>mongodb://username:password@host:port/database</code>. So try,</p>\n\n<pre><code>mongoose.connect('mongodb://username:password@host:port/database?options...');\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>mongoose.connect('mongodb://username:password@host:port/database', options, function(error) {\n  // Check error in initial connection. There is no 2nd param to the callback.\n});\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 854, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1552480930, "creation_date": 1552477132, "last_edit_date": 1552479295, "question_id": 55141023, "link": "https://stackoverflow.com/questions/55141023/json-config-file-for-mongodb", "title": "Json config file for mongodb", "body": "<p>I have the following JSON configuration file for mongodb (named mongoConfig.json):</p>\n\n<pre><code>{\n    \"mongodb\": {\n      \"host\": \"localhost\",\n      \"port\": 27017,\n      \"database\": \"test\"\n    }\n  }\n</code></pre>\n\n<p>I'm trying to use this file to connect to my database. So far I have tried to use it like this:</p>\n\n<pre><code>//mongoConn.ts\n\n'use strict';\n\nconst mongoose = require('mongoose');\nvar config = require('./../mongoConfig.json');\n\nexports.connect = () =&gt; {\n  return mongoose.connect(config.toString())\n    .then(() =&gt; {     \n      console.log(\"Successfully connected to database!\");\n      return mongoose.connection; });\n};\n</code></pre>\n\n<p>but I've got the error: <code>UnhandledPromiseRejectionWarning: Error: Invalid schema, expected `mongodb` or `mongodb+srv`</code></p>\n\n<p>my folder structure is:</p>\n\n<pre><code>        |-.vs\n        |-node_modules\n        |-src\n        |   \u2514\u2500\u2500 connections\n        |           \u2514\u2500\u2500mongoConn.ts\n        |   \u2514\u2500\u2500 mongoConfig.json\n</code></pre>\n\n<p>I'm a total beginner in using mongoDB and config files for it, so I'm guessing that I'm not using the JSON file correctly either...</p>\n\n<p>Any help would be appreciated! :)</p>\n\n<p>EDIT: Corrected the path! (from <code>'./mongoConfig.json'</code> to <code>'./../mongoConfig.json'</code>)</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 3449, "user_id": 1761484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/650b25d2fbecddd803d983a0fef240a9?s=128&d=identicon&r=PG", "display_name": "iofjuupasli", "link": "https://stackoverflow.com/users/1761484/iofjuupasli"}, "edited": false, "score": 0, "creation_date": 1552476537, "post_id": 55140815, "comment_id": 97021674, "body": "What did you try? Can you share your config?"}, {"owner": {"reputation": 2766, "user_id": 906261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28f2e6b092bc325e9ea440d1a176f2f7?s=128&d=identicon&r=PG", "display_name": "wookieb", "link": "https://stackoverflow.com/users/906261/wookieb"}, "edited": false, "score": 0, "creation_date": 1552476653, "post_id": 55140815, "comment_id": 97021726, "body": "I believe your approach is invalid. Node modules should not be bundled to compiled code but rather packed and sent together to serverless project. Why don&#39;t you use tools like &quot;serverless&quot; that will handle that for you?"}, {"owner": {"reputation": 10379, "user_id": 1666071, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T4WHS.jpg?s=128&g=1", "display_name": "enapupe", "link": "https://stackoverflow.com/users/1666071/enapupe"}, "reply_to_user": {"reputation": 2766, "user_id": 906261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28f2e6b092bc325e9ea440d1a176f2f7?s=128&d=identicon&r=PG", "display_name": "wookieb", "link": "https://stackoverflow.com/users/906261/wookieb"}, "edited": false, "score": 0, "creation_date": 1552476794, "post_id": 55140815, "comment_id": 97021812, "body": "@wookieb I do use serverless an am aware it does it for me. Why you say it should not be bundled together? I got better &quot;performance&quot; by uploading a single file and not having that process of separating needed node_modules"}], "answers": [{"comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1552478971, "post_id": 55141270, "comment_id": 97023211, "body": "not true, tsc can do it with --out param. &quot;tsc --out target.js source.ts&quot;"}, {"owner": {"reputation": 425, "user_id": 4126658, "user_type": "registered", "profile_image": "https://graph.facebook.com/1498928029/picture?type=large", "display_name": "Benjamin Parnell", "link": "https://stackoverflow.com/users/4126658/benjamin-parnell"}, "reply_to_user": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 5, "creation_date": 1552480051, "post_id": 55141270, "comment_id": 97023926, "body": "That will build all of the TypeScript compiler output into a single file, but not the source code of your dependencies, which is what the author is asking for I believe."}], "tags": [], "owner": {"reputation": 425, "user_id": 4126658, "user_type": "registered", "profile_image": "https://graph.facebook.com/1498928029/picture?type=large", "display_name": "Benjamin Parnell", "link": "https://stackoverflow.com/users/4126658/benjamin-parnell"}, "is_accepted": true, "score": 5, "last_activity_date": 1552477968, "creation_date": 1552477968, "answer_id": 55141270, "question_id": 55140815, "link": "https://stackoverflow.com/questions/55140815/typescript-build-into-single-file-with-all-external-dependencies-node-modules/55141270#55141270", "title": "TypeScript build into single file with all external dependencies (node_modules) within it", "body": "<p>You will need to use a bundler such as webpack to bundle your compiled code and all your node_modules dependencies. The TypeScript compiler (<code>tsc</code>) just transforms TypeScript code into JavaScript, and won't deal with bundling.</p>\n"}], "owner": {"reputation": 10379, "user_id": 1666071, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T4WHS.jpg?s=128&g=1", "display_name": "enapupe", "link": "https://stackoverflow.com/users/1666071/enapupe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "accepted_answer_id": 55141270, "answer_count": 1, "score": 2, "last_activity_date": 1552477968, "creation_date": 1552476417, "question_id": 55140815, "link": "https://stackoverflow.com/questions/55140815/typescript-build-into-single-file-with-all-external-dependencies-node-modules", "title": "TypeScript build into single file with all external dependencies (node_modules) within it", "body": "<p>Is it possible to build a TS source into a single file, which would also contain <code>node_modules</code> imported packages' source?</p>\n\n<p>That would be very helpful in a serverless project. I have done this before on a non-TS project but was using webpack (for another reason).</p>\n\n<p>It seems this was briefly possible before but was due a bug <a href=\"https://github.com/Microsoft/TypeScript/issues/13414\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/13414</a> ?</p>\n"}, {"tags": ["reactjs", "typescript", "react-final-form"], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 1463956, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/54d2ea1283d216a06dfbbf2596eae135?s=128&d=identicon&r=PG", "display_name": "Gary Carlyle Cook", "link": "https://stackoverflow.com/users/1463956/gary-carlyle-cook"}, "edited": false, "score": 0, "creation_date": 1569325800, "post_id": 55140994, "comment_id": 102553652, "body": "Isnt that exactly the same as he did?"}, {"owner": {"reputation": 1401, "user_id": 8810941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zIKlt.jpg?s=128&g=1", "display_name": "Pavindu", "link": "https://stackoverflow.com/users/8810941/pavindu"}, "reply_to_user": {"reputation": 529, "user_id": 1463956, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/54d2ea1283d216a06dfbbf2596eae135?s=128&d=identicon&r=PG", "display_name": "Gary Carlyle Cook", "link": "https://stackoverflow.com/users/1463956/gary-carlyle-cook"}, "edited": false, "score": 1, "creation_date": 1569331791, "post_id": 55140994, "comment_id": 102557204, "body": "If you carefully look at <code>myfile.tsx</code> in the question, you will see that props has not been provided inside <code>&lt;Form&gt;</code> tag but immediately after."}, {"owner": {"reputation": 529, "user_id": 1463956, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/54d2ea1283d216a06dfbbf2596eae135?s=128&d=identicon&r=PG", "display_name": "Gary Carlyle Cook", "link": "https://stackoverflow.com/users/1463956/gary-carlyle-cook"}, "edited": false, "score": 0, "creation_date": 1569345917, "post_id": 55140994, "comment_id": 102564644, "body": "ah sorry. missed that :)"}], "tags": [], "owner": {"reputation": 1401, "user_id": 8810941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zIKlt.jpg?s=128&g=1", "display_name": "Pavindu", "link": "https://stackoverflow.com/users/8810941/pavindu"}, "is_accepted": true, "score": 2, "last_activity_date": 1552477030, "creation_date": 1552477030, "answer_id": 55140994, "question_id": 55140773, "link": "https://stackoverflow.com/questions/55140773/react-final-form-not-working-with-typescript/55140994#55140994", "title": "React final form not working with typescript", "body": "<p>Props should be provided inside the opening tag of an element.Change your <code>render</code> method to this.</p>\n\n<pre><code>render(): React.ReactNode {\n  return (\n    &lt;div&gt;\n      &lt;Form \n        onSubmit={this.onSubmitHandler} // OK\n        validate={this.validateHandler}\n        render={ ( {handleSubmit, pristine, invalid} ) =&gt; (\n          &lt;form onSubmit={handleSubmit}&gt;\n            &lt;button type=\"submit\" disabled={pristine || invalid}&gt;\n              Submit\n            &lt;/button&gt;\n          &lt;/form&gt;\n        )}&gt;  \n      &lt;/Form&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 1828, "user_id": 1521976, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdf24637862d2e9717725f2eb6fd438d?s=128&d=identicon&r=PG", "display_name": "que1326", "link": "https://stackoverflow.com/users/1521976/que1326"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3544, "favorite_count": 1, "accepted_answer_id": 55140994, "answer_count": 1, "score": 0, "last_activity_date": 1552477030, "creation_date": 1552476288, "question_id": 55140773, "link": "https://stackoverflow.com/questions/55140773/react-final-form-not-working-with-typescript", "title": "React final form not working with typescript", "body": "<p>I want to create a <a href=\"https://github.com/final-form/react-final-form\" rel=\"nofollow noreferrer\">react final form</a> in a react-typescript environment.\nI get an error  that I am missing \"<strong>onSubmit</strong>\" property in type {...} required by \"<strong>FormProps</strong>\". I checked the interface but can't figure why I am getting this error because I have that property set in place and defined.</p>\n\n<p><strong>myfile.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\nimport { Form, Field } from 'react-final-form';\n\nexport default class MyComponent extends React.Component {\n  constructor(props: any) {\n    super(props);\n\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\n    this.validateHandler= this.validateHandler.bind(this);\n  }\n\n   onSubmitHandler(): void {\n   }\n\n   validateHandler(): void {\n\n   }\n\n  render(): React.ReactNode {\n    return (\n      &lt;div&gt;\n        &lt;Form&gt;\n          onSubmit={this.onSubmitHandler} // OK\n          validate={this.validateHandler}\n          render={ ( {handleSubmit, pristine, invalid} ) =&gt; (\n              &lt;form onSubmit={handleSubmit}&gt;\n\n\n                &lt;button type=\"submit\" disabled={pristine || invalid}&gt;\n                  Submit\n                &lt;/button&gt;\n              &lt;/form&gt;\n           )}\n        &lt;/Form&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p><strong>index.d.ts (react final form)</strong> - FormProps => Config => ...onSubmit</p>\n\n<pre><code>export const Form: React.ComponentType&lt;FormProps&gt;;\n\nexport interface FormProps extends Config, RenderableProps&lt;FormRenderProps&gt;{\n  subscription?: FormSubscription;\n  decorators?: Decorator[];\n  initialValuesEqual?: (a?: object, b?: object) =&gt; boolean;\n}\n\nexport interface Config&lt;FormData = object&gt; {\n  debug?: DebugFunction\n  destroyOnUnregister?: boolean\n  initialValues?: object\n  keepDirtyOnReinitialize?: boolean\n  mutators?: { [key: string]: Mutator }\n  onSubmit: (\n    values: FormData,\n    form: FormApi,\n    callback?: (errors?: object) =&gt; void\n  ) =&gt; object | Promise&lt;object | undefined&gt; | undefined | void\n  validate?: (values: object) =&gt; object | Promise&lt;object&gt;\n  validateOnBlur?: boolean\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oiT6i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oiT6i.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "types", "return-type", "typing"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1552477957, "creation_date": 1552477957, "answer_id": 55141268, "question_id": 55140726, "link": "https://stackoverflow.com/questions/55140726/typescript-enforce-inner-type-but-return-actual-type/55141268#55141268", "title": "Typescript: Enforce inner type, but return actual type", "body": "<p>This is a general problem of wanting to enforce that a value satisfies a particular constraint but at the same time keep the actual type of the value. </p>\n\n<p>Unfortunately typescript does not support any special syntax for this. The best you can do is have a function that has a type parameter with a constraint. The type will be inferred from actual value passed in but it will be checked against the constraint:</p>\n\n<pre><code>class ValueGetter {\n    getValues() {\n        return constrainToBooleanValues({\n            value1: true,\n            value2: false,\n            worngValue: 1// err\n        })\n    }\n}\n\nfunction constrainToBooleanValues&lt;T extends Record&lt;string, boolean&gt;&gt;(o: T) {\n    return o;\n}\n</code></pre>\n\n<p>You could even generalize the function: </p>\n\n<pre><code>class ValueGetter {\n    getValues() {\n        return constrain&lt;Record&lt;string, boolean&gt;&gt;()({\n            value1: true,\n            value2: false,\n            worngValue: 1// err\n        })\n    }\n}\n\nfunction constrain&lt;C&gt;() {\n    return &lt;T extends Record&lt;string, boolean&gt;&gt;(o: T) =&gt; o;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1552483240, "post_id": 55141720, "comment_id": 97026030, "body": "Not a bad solution, I am not a fan of having to give a name to the variable and having to repeat that name, but it a very nice use of the type assertion syntax :)"}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": true, "score": 2, "last_activity_date": 1552479437, "creation_date": 1552479437, "answer_id": 55141720, "question_id": 55140726, "link": "https://stackoverflow.com/questions/55140726/typescript-enforce-inner-type-but-return-actual-type/55141720#55141720", "title": "Typescript: Enforce inner type, but return actual type", "body": "<p>Even though this question is answered here's a better way of doing what you want without adding any runtime overhead:</p>\n\n<pre><code>type HasType&lt;T extends C, C&gt; = T;\nfunction getValues() {\n    let foo = {\n        value1: Boolean(100),\n        value2: 123\n    };\n    return &lt;HasType&lt;typeof foo, Record&lt;string, boolean&gt;&gt;&gt;foo;\n    //              ^^^^^^^^^^ error here\n}\n</code></pre>\n\n<p>Here's a <a href=\"http://www.typescriptlang.org/play/#src=type%20HasType%3CT%20extends%20C%2C%20C%3E%20%3D%20T%3B%0D%0A%0D%0Afunction%20getValues()%20%7B%0D%0A%20%20%20%20let%20foo%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20value1%3A%20Boolean(100)%2C%0D%0A%20%20%20%20%20%20%20%20value2%3A%20123%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20%3CHasType%3Ctypeof%20foo%2C%20Record%3Cstring%2C%20boolean%3E%3E%3Efoo%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<p>(Also consider marking this as accepted if you think this is better)</p>\n"}], "owner": {"reputation": 171, "user_id": 564193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f326827966b1a85bef95c3b04beeb0d0?s=128&d=identicon&r=PG", "display_name": "Peter Briers", "link": "https://stackoverflow.com/users/564193/peter-briers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55141720, "answer_count": 2, "score": 1, "last_activity_date": 1552479437, "creation_date": 1552476163, "question_id": 55140726, "link": "https://stackoverflow.com/questions/55140726/typescript-enforce-inner-type-but-return-actual-type", "title": "Typescript: Enforce inner type, but return actual type", "body": "<p>I have the following code:</p>\n\n<pre><code>class ValueGetter {\n  getValues() {\n    return {\n      value1: this.getValueAsBoolean(somewhere.something),\n      value2: this.getValueAsBoolean(somewhere.somethingElse)\n    }\n  }\n}\n</code></pre>\n\n<p>Typescript knows the exact return-type of the function, which is.</p>\n\n<pre><code>{\n  value1: boolean,\n  value2: boolean\n}\n</code></pre>\n\n<p>What's really handy that I can even do the following somewhere else: </p>\n\n<pre><code>class MyFoo {\n  myBar: ReturnType&lt;ValueGetter['getValues']&gt;\n}\n</code></pre>\n\n<p>Now what I want is to enforce <code>getValues</code> so it can only return the following type <code>{[key: string]: boolean}</code> </p>\n\n<p>But if I add this as the return-type of <code>getValues()</code>, I loose the exact return-type with named keys which Typescript deduced for me.</p>\n\n<p>Is there a way to enforce this typing only for the 'inside' of <code>getValues</code>, without loosing the cool deducement-magic with the 'named keys'-returntype Typescript can do?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 1, "creation_date": 1552477884, "post_id": 55140622, "comment_id": 97022493, "body": "Ok very short answer, from observing code in the wild I have to say that there doesn&#39;t seem to be any consensus on what the correct way to do this things is. One would argue that actual classes implementing interfaces is the more OOP way but another could argue that &quot;duck-typing&quot; is a major advantage that comes with writing things in JavaScript/TypeScript."}, {"owner": {"reputation": 1310, "user_id": 1891190, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/23ea4d863ccd694590d98dd3fad149de?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Guest", "link": "https://stackoverflow.com/users/1891190/ben-guest"}, "reply_to_user": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 1, "creation_date": 1552479553, "post_id": 55140622, "comment_id": 97023583, "body": "Okay thanks for the response. I think I will stick with the class way as it is more familiar in other OO languages"}], "answers": [{"comments": [{"owner": {"reputation": 1310, "user_id": 1891190, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/23ea4d863ccd694590d98dd3fad149de?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Guest", "link": "https://stackoverflow.com/users/1891190/ben-guest"}, "edited": false, "score": 0, "creation_date": 1552479573, "post_id": 55141024, "comment_id": 97023593, "body": "Thanks for the answer. I will stick with the class way"}], "tags": [], "owner": {"reputation": 2766, "user_id": 906261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28f2e6b092bc325e9ea440d1a176f2f7?s=128&d=identicon&r=PG", "display_name": "wookieb", "link": "https://stackoverflow.com/users/906261/wookieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1552477133, "creation_date": 1552477133, "answer_id": 55141024, "question_id": 55140622, "link": "https://stackoverflow.com/questions/55140622/typing-non-classes-against-interfaces-in-typescript/55141024#55141024", "title": "Typing non-classes against interfaces in TypeScript", "body": "<p>It's a singleton and yes singleton is <a href=\"https://stackoverflow.com/questions/12755539/why-is-singleton-considered-an-anti-pattern\">considered an anti-pattern</a> so class is better for testing and injection via Dependencji Injection Container</p>\n"}], "owner": {"reputation": 1310, "user_id": 1891190, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/23ea4d863ccd694590d98dd3fad149de?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Guest", "link": "https://stackoverflow.com/users/1891190/ben-guest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55141024, "answer_count": 1, "score": 0, "last_activity_date": 1552477133, "creation_date": 1552475798, "question_id": 55140622, "link": "https://stackoverflow.com/questions/55140622/typing-non-classes-against-interfaces-in-typescript", "title": "Typing non-classes against interfaces in TypeScript", "body": "<p>My application makes use of factory helpers for provisioning various objects. Each factory implements an interface, which allows it to be mocked to aid testing. Traditionally, each factory would be a class that implements the interface:</p>\n\n<pre><code>interface IRequestFactory {\n    create(event: AWSLambda.APIGatewayProxyEvent): IRequest\n}\n\nclass RealRequestFactory implements IRequestFactory {\n    public create(event: AWSLambda.APIGatewayProxyEvent): RealRequest {\n        return new RealRequest(event)\n    }\n}\n\nclass MockRequestFactory implements IRequestFactory {\n    public create(event: AWSLambda.APIGatewayProxyEvent): MockRequest {\n        return new MockRequest(event)\n    }\n}\n</code></pre>\n\n<p><code>RealRequestFactory</code>, or <code>MockRequestFactory</code> can be instantiated and injected into other classes as a dependency. TypeScript however, allows us to declare anything as the interface type, so this can be done:</p>\n\n<pre><code>const realRequestFactory: IRequestFactory = {\n    create(event: AWSLambda.APIGatewayProxyEvent): Request {\n        return new Request(event)\n    }\n}\n</code></pre>\n\n<p>In this case, I don't need to instantiate a class, and can still inject <code>realRequestFactory</code> as a dependency of type <code>IRequestFactory</code>. This approach seems simpler, but I'm not sure it would be considered best practice because it feels a bit like a singleton.</p>\n\n<p>Is there a consensus for typing non-classes against interfaces?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2330, "user_id": 10866113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OUL6k.jpg?s=128&g=1", "display_name": "Thanveer Shah", "link": "https://stackoverflow.com/users/10866113/thanveer-shah"}, "edited": false, "score": 0, "creation_date": 1552475832, "post_id": 55140478, "comment_id": 97021230, "body": "Check out Event Emitter , You can easily do it with that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 2330, "user_id": 10866113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OUL6k.jpg?s=128&g=1", "display_name": "Thanveer Shah", "link": "https://stackoverflow.com/users/10866113/thanveer-shah"}, "edited": false, "score": 0, "creation_date": 1552476342, "post_id": 55140478, "comment_id": 97021542, "body": "@ThanveerShah no he cannot, components have to be parent/child to use them. As for the OP, use your modal service to store the ref, and inject your service into the about component."}], "answers": [{"tags": [], "owner": {"reputation": 368, "user_id": 10800899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4804093e7a637d2333892a20261c8c08?s=128&d=identicon&r=PG&f=1", "display_name": "Bogdan B", "link": "https://stackoverflow.com/users/10800899/bogdan-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1552476584, "creation_date": 1552476584, "answer_id": 55140862, "question_id": 55140478, "link": "https://stackoverflow.com/questions/55140478/close-ngx-modal-opened-from-another-component/55140862#55140862", "title": "Close ngx-modal opened from another component", "body": "<p>Create a service that keeps a reference to your modal (bsModalRef), and inject it into both of you components. Something like this.</p>\n\n<pre><code>@Injectable({\nprovidedIn: 'root'\n})\nexport class RemoteModalControlSerice{\n myModalRef:any;\n setModalRef(modalRef:any){\n  this.myModalRef = modalRef;\n }\n closeModal(){\n  if(!this.myModalRef){\n  // throw some exception\n  }\n  this.myModalRef.close();\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "is_accepted": false, "score": 0, "last_activity_date": 1552477196, "creation_date": 1552477196, "answer_id": 55141043, "question_id": 55140478, "link": "https://stackoverflow.com/questions/55140478/close-ngx-modal-opened-from-another-component/55141043#55141043", "title": "Close ngx-modal opened from another component", "body": "<p>Hey you can try like this: </p>\n\n<p>AboutComponent.html:</p>\n\n<pre><code>&lt;div class=\"modal-header\"&gt;\n  &lt;h4 class=\"modal-title pull-left\"&gt;teste&lt;/h4&gt;\n  &lt;button type=\"button\" class=\"close pull-right\" aria-label=\"Close\"&gt;\n    &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/div&gt;\n&lt;div class=\"modal-body\"&gt;\n  &lt;h1&gt;teste&lt;/h1&gt;\n&lt;/div&gt;\n&lt;div class=\"modal-footer\"&gt;\n  &lt;button type=\"button\" class=\"btn btn-default\" \n    (click)=\"modal.dismiss('Cross click')\"&gt;Fechar&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3916, "user_id": 567957, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/eyG7L.jpg?s=128&g=1", "display_name": "Beetlejuice", "link": "https://stackoverflow.com/users/567957/beetlejuice"}, "is_accepted": false, "score": 1, "last_activity_date": 1552477630, "creation_date": 1552477630, "answer_id": 55141167, "question_id": 55140478, "link": "https://stackoverflow.com/questions/55140478/close-ngx-modal-opened-from-another-component/55141167#55141167", "title": "Close ngx-modal opened from another component", "body": "<p>The ideal solution is:</p>\n\n<p>At the AboutComponent.ts we have to inject BsModalRef instead of BsModalService:</p>\n\n<pre><code>constructor(public modalRef: BsModalRef) { }\n</code></pre>\n\n<p>Doing so, in the template just change the click event:</p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-default\" (click)=\"modalRef.hide()\"&gt;Fechar&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 3916, "user_id": 567957, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/eyG7L.jpg?s=128&g=1", "display_name": "Beetlejuice", "link": "https://stackoverflow.com/users/567957/beetlejuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1552484820, "creation_date": 1552475365, "last_edit_date": 1552484820, "question_id": 55140478, "link": "https://stackoverflow.com/questions/55140478/close-ngx-modal-opened-from-another-component", "title": "Close ngx-modal opened from another component", "body": "<p>I have a component that shows up a modal when click a button, using this code:</p>\n\n<pre><code>constructor(    \n    private modalService: BsModalService\n) {}\n\nshowModal() {\n    this.bsModalRef = this.modalService.show(AboutComponent);\n}\n</code></pre>\n\n<p>How to close this modal from the AboutComponent.ts since it does not have a reference to <code>bsModalRef</code>? </p>\n\n<p>AboutComponent.html:</p>\n\n<pre><code>&lt;div class=\"modal-header\"&gt;\n  &lt;h4 class=\"modal-title pull-left\"&gt;teste&lt;/h4&gt;\n  &lt;button type=\"button\" class=\"close pull-right\" aria-label=\"Close\"&gt;\n    &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/div&gt;\n&lt;div class=\"modal-body\"&gt;\n  &lt;h1&gt;teste&lt;/h1&gt;\n&lt;/div&gt;\n&lt;div class=\"modal-footer\"&gt;\n  &lt;button type=\"button\" class=\"btn btn-default\" (click)=\"closeModal()\"&gt;Fechar&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>AboutComponent.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { BsModalService } from 'ngx-bootstrap';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.scss']\n})\nexport class AboutComponent implements OnInit {\n\n  constructor(private modalService: BsModalService) { }\n\n  ngOnInit() {\n\n  }\n\n  closeModal() {\n    ????????????\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 8835, "user_id": 2054602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa714b545cf57418ee53dc5c6c9517b5?s=128&d=identicon&r=PG&f=1", "display_name": "Radu Di\u021b\u0103", "link": "https://stackoverflow.com/users/2054602/radu-di%c8%9b%c4%83"}, "is_accepted": false, "score": 4, "last_activity_date": 1552476275, "creation_date": 1552476275, "answer_id": 55140768, "question_id": 55140448, "link": "https://stackoverflow.com/questions/55140448/what-is-the-type-for-an-event-in-vue-typescript-project/55140768#55140768", "title": "What is the type for an event in Vue TypeScript project?", "body": "<p>The type is just <code>Event</code>. Relevant information is on <code>e.target</code> property.</p>\n"}, {"comments": [{"owner": {"reputation": 346, "user_id": 11498738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebfafa09bbae02329137769c747bbdf?s=128&d=identicon&r=PG", "display_name": "gekkedev", "link": "https://stackoverflow.com/users/11498738/gekkedev"}, "edited": false, "score": 0, "creation_date": 1602780456, "post_id": 60202054, "comment_id": 113835374, "body": "If the type <code>any</code> does not even work, you probably tried to make something work that can&#39;t work, may it be with or without types. Using <code>any</code> is wrong in the first place because by that you disable the advantage of Typescript. If you plan to do that, the better solution is (honestly) to uninstall Typescript."}], "tags": [], "owner": {"reputation": 893, "user_id": 4542614, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d4911933297e3b7637d8149826405730?s=128&d=identicon&r=PG&f=1", "display_name": "Ayudh", "link": "https://stackoverflow.com/users/4542614/ayudh"}, "is_accepted": false, "score": -1, "last_activity_date": 1581578553, "last_edit_date": 1581578553, "creation_date": 1581576921, "answer_id": 60202054, "question_id": 55140448, "link": "https://stackoverflow.com/questions/55140448/what-is-the-type-for-an-event-in-vue-typescript-project/60202054#60202054", "title": "What is the type for an event in Vue TypeScript project?", "body": "<p>If you give the type as <code>Event</code>, then you will be unable to do <code>e.target.files[0];</code> as TS will complain that <code>Property 'files' does not exist on type 'target' error in typescript</code>. The simplest solution is to give it type as <code>any</code> referring shusson's solution here: <a href=\"https://stackoverflow.com/questions/43176560/property-files-does-not-exist-on-type-eventtarget-error-in-typescript/43176721#43176721\">Property &#39;files&#39; does not exist on type &#39;EventTarget&#39; error in typescript</a> but even this didn't work for me so I ended up just not using TS for that particular Vue component</p>\n"}], "owner": {"reputation": 440, "user_id": 9939657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAPFgKc7pole5XdbT3f1uRS8Z4jSKdxKQJ3cnMKjQ=k-s128", "display_name": "abe.hd", "link": "https://stackoverflow.com/users/9939657/abe-hd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8922, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1581578553, "creation_date": 1552475263, "question_id": 55140448, "link": "https://stackoverflow.com/questions/55140448/what-is-the-type-for-an-event-in-vue-typescript-project", "title": "What is the type for an event in Vue TypeScript project?", "body": "<p>What is the correct type for 'e' as in uploadImage function parameter?</p>\n\n<pre><code>public uploadImage(e /* :type of e */){\n const image = e.target.files[0];\n const reader = new FileReader();\n reader.readAsDataURL(image);\n reader.onload = e =&gt;{\n    this.previewImage = e.target.result;\n    console.log(this.previewImage);\n };\n}\n</code></pre>\n\n<p>In template I have this</p>\n\n<pre><code>&lt;input type=\"file\" accept=\"image/jpeg\" @change=uploadImage&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "is_accepted": true, "score": 2, "last_activity_date": 1552476960, "creation_date": 1552476960, "answer_id": 55140967, "question_id": 55140410, "link": "https://stackoverflow.com/questions/55140410/custom-modal-candeactivate-angular/55140967#55140967", "title": "Custom modal CanDeactivate Angular", "body": "<p>Your Stackblitz shows missing providers for at least the guard and the modal service. Please fix all the console errors first. set providers within app.component.ts</p>\n"}], "owner": {"reputation": 173, "user_id": 11196682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ca861decbd2ddee8fd1a5b660c98b7?s=128&d=identicon&r=PG&f=1", "display_name": "MathAng", "link": "https://stackoverflow.com/users/11196682/mathang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 55140967, "answer_count": 1, "score": 0, "last_activity_date": 1601461285, "creation_date": 1552475147, "last_edit_date": 1601461285, "question_id": 55140410, "link": "https://stackoverflow.com/questions/55140410/custom-modal-candeactivate-angular", "title": "Custom modal CanDeactivate Angular", "body": "<p>I have a problem.</p>\n\n<p>I have follow an example to custom modal in my CanDeactivate`.</p>\n\n<p>But it's not working for me...</p>\n\n<p>I have create a stackblitz :</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-tgs93u\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-tgs93u</a></p>\n\n<p>I have tried to use <code>ngx-bootstrap</code> and services</p>\n\n<p>Someone could you explain me why it doesn't work please?</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1552475140, "post_id": 55140206, "comment_id": 97020810, "body": "Thanks for pasting the code.  It&#39;s not necessary to show any screenshots of code.  It would have been more helpful to indicate what line 38 is, where the error message was telling you the problem exists."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "edited": false, "score": 0, "creation_date": 1552475995, "post_id": 55140385, "comment_id": 97021331, "body": "Thanks, that works so far. But then I get a new error. It appears at the <code>.then(snapshot =&gt; {</code> line, saying <code>Argument of type &#39;(snapshot: DocumentSnapshot) =&gt; Promise&lt;WriteResult&gt; | null&#39; is not assignable to parameter of type &#39;(value: DocumentSnapshot) =&gt; WriteResult | PromiseLike&lt;WriteResult&gt;&#39;.   Type &#39;Promise&lt;WriteResult&gt; | null&#39; is not assignable to type &#39;WriteResult | PromiseLike&lt;WriteResult&gt;&#39;.     Type &#39;null&#39; is not assignable to type &#39;WriteResult | PromiseLike&lt;WriteResult&gt;&#39;.</code>"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "edited": false, "score": 1, "creation_date": 1552476269, "post_id": 55140385, "comment_id": 97021500, "body": "You also need to return a promise that&#39;s resolved when all the async work is complete.  <code>return admin.firestore()...</code>"}, {"owner": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "edited": false, "score": 0, "creation_date": 1552483455, "post_id": 55140385, "comment_id": 97026182, "body": "Is <code>if(data) {...} else {return admin.firestore().doc(docPath).update({})}</code> a good solution? Because it always logs an info statement in the firebase console. Is there a better solution?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "edited": false, "score": 0, "creation_date": 1552492450, "post_id": 55140385, "comment_id": 97032764, "body": "Every successful function invocation always logs two info lines. I don&#39;t think you can avoid that."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1552475078, "creation_date": 1552475078, "answer_id": 55140385, "question_id": 55140206, "link": "https://stackoverflow.com/questions/55140206/firestore-cloud-functions-comment-counter-how-to-fix-object-is-possibly-undefi/55140385#55140385", "title": "Firestore cloud functions Comment Counter: How to fix &quot;Object is possibly undefined&quot;?", "body": "<p>The error is telling you that the error is on line 38.  Since you didn't say which line that is, I'm going to guess that it's on this one:</p>\n\n<pre><code>    const data = snapshot.data()\n</code></pre>\n\n<p>According to the <a href=\"https://cloud.google.com/nodejs/docs/reference/firestore/0.20.x/DocumentSnapshot#data\" rel=\"nofollow noreferrer\">API docs</a>, data() returns <code>DocumentData or undefined</code>, where <code>undefined</code> indicates no document was found.  In TypeScript, this means your code needs to show that it's prepared to handle <code>undefined</code> in order to access properties on the returned object.  You're not doing that here.  As you suggested, you need to use a conditional to determine if the document exists:</p>\n\n<pre><code>const data = snapshot.data()\nif (data) {\n    return admin.firestore().doc('posts/{postID}').update({postCommentsTot: data.postCommentsTot + 1});\n}\nelse {\n    return null\n}\n</code></pre>\n\n<p>Or something similar.</p>\n"}], "owner": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 971, "favorite_count": 0, "accepted_answer_id": 55140385, "answer_count": 1, "score": 0, "last_activity_date": 1552475078, "creation_date": 1552474583, "question_id": 55140206, "link": "https://stackoverflow.com/questions/55140206/firestore-cloud-functions-comment-counter-how-to-fix-object-is-possibly-undefi", "title": "Firestore cloud functions Comment Counter: How to fix &quot;Object is possibly undefined&quot;?", "body": "<p><strong>Requested behaviour:</strong> <br>\nI would like to create a cloud function in typescript which gets executed every time a document gets added to a comments subcollection of a posts collection.\nThe execution should increase a counter on the parent document by one.</p>\n\n<p><strong>Current State</strong> <br>\nThe cloud function gets executed every time I create a document if I replace the \"get promise\" by a console.log() statement.</p>\n\n<p><strong>issue</strong> <br>\nIt does not execute the update part. Instead, it throws an error:\n<code>Object is possibly 'undefined'</code></p>\n\n<p><strong>solution approaches</strong> <br>\nI had a similar issue at a different cloud function and used an if statement to solve it. However, I do not understand how to apply it here.</p>\n\n<blockquote>\n  <p>How can I fix this issue? Do I have to use an if statement?</p>\n</blockquote>\n\n<p><strong>My cloud function</strong> <br>\n<a href=\"https://i.stack.imgur.com/rzd9h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzd9h.png\" alt=\"enter image description here\"></a>\n<strong>code if you want to copy it</strong> <br></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export const createSubCollTrigger = \r\nfunctions.firestore.document('posts/{postID}/comments/{commentID}').onCreate((snap, context) =&gt; {\r\n\r\n    admin.firestore().doc('posts/{postID}').get()\r\n    .then(snapshot =&gt; {\r\n        const data = snapshot.data()\r\n        return admin.firestore().doc('posts/{postID}').update({postCommentsTot: data.postCommentsTot + 1});  \r\n    })\r\n\r\n    .catch(error =&gt; {\r\n        console.log(error)\r\n        return\r\n    })\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>** <br></p>\n"}, {"tags": ["angular", "typescript", "protractor"], "comments": [{"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1552476409, "post_id": 55140181, "comment_id": 97021586, "body": "There does not seem to be an image attached, is there meant to be? Also is it correct to say that you want the contents of all rows returned that contain &#39;11&#39; in the third (result) column?"}, {"owner": {"reputation": 25, "user_id": 6796102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3269e38891973dd4e3b1e06b38e908?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Teo", "link": "https://stackoverflow.com/users/6796102/francis-teo"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1552478355, "post_id": 55140181, "comment_id": 97022797, "body": "Im sorry, stackoverflow did not allow me to attached the image but please see the link below the codes, yup that right."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6796102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3269e38891973dd4e3b1e06b38e908?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Teo", "link": "https://stackoverflow.com/users/6796102/francis-teo"}, "edited": false, "score": 0, "creation_date": 1552556657, "post_id": 55142283, "comment_id": 97057683, "body": "thanks, but what if I only wanted to retrieve the expression column,this wont work for me    var name = &quot;11&quot;     return element(by.css(&quot;table[class=&#39;table&#39;] tbody &gt; tr&quot;)).element(by.css(&quot;span[class=&#39;ng-binding&#39;]&quot;)).filter(fun&zwnj;&#8203;ction (row) {       return row.$$((&quot;td[class=&#39;ng-binding&#39;]&quot;)).get(1).getText().then(fun&zwnj;&#8203;ction (text) {         return text === name       })     }).getText().then(function (text) {       console.log(text+&#39;\\n&#39;)       let split = text.toString().split(&quot; &quot;,100)       let size = split.length;       console.log(size)     })"}], "tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": true, "score": 2, "last_activity_date": 1552557565, "last_edit_date": 1552557565, "creation_date": 1552481200, "answer_id": 55142283, "question_id": 55140181, "link": "https://stackoverflow.com/questions/55140181/protractor-retrieve-all-row-with-filtered-column/55142283#55142283", "title": "Protractor retrieve all row with filtered column", "body": "<p>Two issues in your code:</p>\n\n<p>1) Incorrect css selector to find all rows of table. The correct one: <code>table[class='table'] tbody &gt; tr</code></p>\n\n<p>2) The array index start from '0', thus get the third column should use\n   <code>row.$$(\"td\").get(2)</code></p>\n\n<pre><code>tablefil(result){\n\n  return $$(\"table[class='table'] tbody &gt; tr\")\n\n      .filter(function(row) {\n\n        // find out which row's Result is equal to argument: result\n\n        return row.$$(\"td\").get(2).getText().then(function(text) {\n          return !result || text.trim() === result;\n        });\n\n      })\n      .each(function(row){\n\n        // read the text of 2nd column: Expression on matched row\n\n        row.$$(\"td\").get(1).getText().then(function(text){\n            console.log('expression: ' + text)\n        });\n\n        // or if you want to print the Expression and Result together\n        row.$$(\"td:nth-child(2),td:nth-child(3)\").getText().then(function(texts){\n            console.log(texts[0], '=', text[1])\n        });  \n      })\n}\n\n\ntablefil() // will print all rows\ntablefil('11') // will only print row's Result == 11\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6796102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3269e38891973dd4e3b1e06b38e908?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Teo", "link": "https://stackoverflow.com/users/6796102/francis-teo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 55142283, "answer_count": 1, "score": 0, "last_activity_date": 1552557565, "creation_date": 1552474503, "question_id": 55140181, "link": "https://stackoverflow.com/questions/55140181/protractor-retrieve-all-row-with-filtered-column", "title": "Protractor retrieve all row with filtered column", "body": "<p>I want to retrieve all rows that I have filtered in the 3rd column. I have attached a picture for the reference structure of the site, here is the actual site <a href=\"http://juliemr.github.io/protractor-demo/\" rel=\"nofollow noreferrer\">http://juliemr.github.io/protractor-demo/</a>  </p>\n\n<pre><code>    //I found this online, but its not working for me it still retrieve all the data from the table\n    tablefil(){\n        //third column id like to filter\n       var name = \"11\";\n\n        // This is like element.all(by.css(''))\n        return $$(\"table[class='table']\").filter(function(row) {\n          // Get the second column's text.\n          return row.$$(\"td[class='ng-binding']\").get(3).getText().then(function(rowName) {\n            // Filter rows matching the name you are looking for.\n            return rowName === name;\n\n          });\n        }).getText().then(function(text){\n            //Display rows that fits my filter above\n           console.log('\\n'+text+'\\n')\n        }) \n    }\n\n\n  [1]: https://i.stack.imgur.com/z8Heb.png\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1552474199, "post_id": 55140025, "comment_id": 97020309, "body": "Hi, could you clarify what your question is? Do you get an error? Does it simply not work?"}, {"owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "reply_to_user": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 1, "creation_date": 1552474486, "post_id": 55140025, "comment_id": 97020467, "body": "Thanks - I&#39;ve updated my question. The problem was described as code-comment..."}], "owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552474435, "creation_date": 1552473991, "last_edit_date": 1552474435, "question_id": 55140025, "link": "https://stackoverflow.com/questions/55140025/typescript-module-augmentation-again", "title": "TypeScript module Augmentation (again...)", "body": "<p>OK... this is my last resort...<br>\nI try to augment \"Dictionary\" from \"typescript-collections\" (<a href=\"https://github.com/basarat/typescript-collections/blob/release/src/lib/index.ts\" rel=\"nofollow noreferrer\">https://github.com/basarat/typescript-collections/blob/release/src/lib/index.ts</a>)</p>\n\n<p><code>typescript-collections</code> exports the Dictionary like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export { default as Dictionary } from './Dictionary';\n</code></pre>\n\n<p>My augmented version should have a function \"sort\"</p>\n\n<p>Here is what I have so far</p>\n\n<p><strong>src/augment.d.ts:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Dictionary } from 'typescript-collections';\n\ndeclare module 'typescript-collections' {\n    export interface Dictionary&lt;K, V&gt; {\n        sort(): Dictionary&lt;K, V&gt;;\n    }\n}\n</code></pre>\n\n<p><strong>src/main/extensions/ts-collection.ts:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Dictionary } from 'typescript-collections';\n\n// TS (WebStorm) shows my an error on \"sort\"\n// Property \"sort\" does not exist on type \"Dictionary&lt;K, V&gt;\"...\nDictionary.prototype.sort = function&lt;K, V&gt;(): Dictionary&lt;K, V&gt; {\n    const sortedDict = new Dictionary&lt;K, V&gt;();\n\n    this.keys()\n        .sort()\n        .forEach((key) =&gt; {\n            const value = this.getValue(key);\n            if (value) {\n                sortedDict.setValue(key, value);\n            }\n        });\n\n    return sortedDict;\n};\n\n</code></pre>\n\n<p>augment.d.ts is included in tsconfig.json  </p>\n\n<p><strong>mytest.spec.ts:</strong> (Jest-Test)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Dictionary } from 'typescript-collections';\n\n    test('sort via prototype', () =&gt; {\n        let dict = new Dictionary&lt;string, string&gt;();\n\n        dict.setValue('a', 'a1');\n        dict.setValue('c', 'c1');\n        dict.setValue('b', 'b1');\n\n        expect(dict.keys()).toIncludeAllMembers(['a', 'b', 'c']);\n\n        expect(dict.keys().sort()[1]).toBe('b');\n\n        // Error: Property \"sort\" does not exist on...\n        dict = dict.sort();\n\n        expect(dict.keys()[0]).toBe('a');\n        expect(dict.keys()[1]).toBe('b');\n        expect(dict.keys()[2]).toBe('c');\n    });\n\n</code></pre>\n\n<p><em>[Update]</em><br>\nMy problem is that WebStorm shows me the error in ts-collection.ts (see code-comment) and that I can't use sort in mytest.spec.ts (also code-comment)</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 0, "creation_date": 1552473557, "post_id": 55139850, "comment_id": 97019892, "body": "try using <code>[routerLink]=&#39;[&quot;&#47;{{link.path}}&quot;]&#39;</code>"}, {"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "reply_to_user": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 0, "creation_date": 1552473629, "post_id": 55139850, "comment_id": 97019934, "body": "Nope, that causes an interpolation error."}, {"owner": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 0, "creation_date": 1552473998, "post_id": 55139850, "comment_id": 97020167, "body": "try using <code>routerLink = &quot;&#47;{{link.path}}&quot;</code>"}, {"owner": {"reputation": 2456, "user_id": 1749165, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MVxNw.jpg?s=128&g=1", "display_name": "mumair", "link": "https://stackoverflow.com/users/1749165/mumair"}, "edited": false, "score": 1, "creation_date": 1552474079, "post_id": 55139850, "comment_id": 97020232, "body": "<code>routerLink</code> accept array then you can try: <code>[routerLink]=&#39;[ &quot;&#47;&quot;, link.path ]&#39;</code> separate string from variable"}, {"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "edited": false, "score": 0, "creation_date": 1552474284, "post_id": 55139850, "comment_id": 97020347, "body": "Works! Can you post it as answer so I can accept it?"}, {"owner": {"reputation": 2456, "user_id": 1749165, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MVxNw.jpg?s=128&g=1", "display_name": "mumair", "link": "https://stackoverflow.com/users/1749165/mumair"}, "edited": false, "score": 0, "creation_date": 1552474598, "post_id": 55139850, "comment_id": 97020535, "body": "@noobdev added answer with more information"}], "answers": [{"tags": [], "owner": {"reputation": 2456, "user_id": 1749165, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MVxNw.jpg?s=128&g=1", "display_name": "mumair", "link": "https://stackoverflow.com/users/1749165/mumair"}, "is_accepted": true, "score": 1, "last_activity_date": 1552474398, "creation_date": 1552474398, "answer_id": 55140146, "question_id": 55139850, "link": "https://stackoverflow.com/questions/55139850/refer-to-link-path-while-redirecting-to-root-using-routerlink/55140146#55140146", "title": "Refer to &quot;link.path&quot; while redirecting to root using [routerLink]", "body": "<p>In Angular you can compose URL with respect of any path; <code>[routerLink]</code> provide the facility to provide string token or variables to make final path</p>\n\n<blockquote>\n  <p><code>[routerLink]=\"['/', var, 'str']\"</code> = <code>/var/str</code></p>\n</blockquote>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a class=\"nav-link\" [routerLink]='[\"/\", link.path]'&gt;{{ link.text }}&lt;/a&gt;\n</code></pre>\n\n<p>Angular official reference for RouterLink : <a href=\"https://angular.io/api/router/RouterLink\" rel=\"nofollow noreferrer\">https://angular.io/api/router/RouterLink</a></p>\n"}], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 55140146, "answer_count": 1, "score": 0, "last_activity_date": 1552474398, "creation_date": 1552473449, "question_id": 55139850, "link": "https://stackoverflow.com/questions/55139850/refer-to-link-path-while-redirecting-to-root-using-routerlink", "title": "Refer to &quot;link.path&quot; while redirecting to root using [routerLink]", "body": "<p>I have an application that uses a typescript file for setting up links and within the template I use <code>ngFor</code> to interpolate through the links and build a navigation bar. Within those link objects there is a property called <code>link.path</code> containing the path to be redirected to. I use <code>[routerLink]</code> to redirect to the path required, which works fine, but I was not at the root url. I need to achieve <a href=\"https://stackoverflow.com/questions/35896308/angular-2-add-routerlink-in-child-which-points-to-root-router\">this</a> functionality, which appends the child route to the root of the application. However, after changing my implementation to:</p>\n\n<p><code>[routerLink]= '[\"/link.path\"]'</code></p>\n\n<p>On click I am redirected to <code>&lt;URL&gt;/link.path</code> rather than <code>&lt;URL&gt;/&lt;name under link.path&gt;</code> which naturally gives me a not found error.</p>\n\n<p>how do i change my expression above to show the actual value inside this parameter rather than giving me <code>link.path</code> as a string?</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>// imports, declarations of classes and other stuff.\n\n  * @property {array} links\n  */\n  links: Array&lt;{ text: string, path: string }&gt;;\n\n  /**\n  * constructor for toolbar component is responsible for initializing translatePipe, dynamic routing and router,\n  * as well as adding routes dynamically to the router and the dynamicRouting service\n  * @param translate\n  * @param router\n  * @param dynamicRouting\n  *\n  */\n  constructor(private translate: TranslatePipe, private router: Router, private dynamicRouting: DynamicRoutingService) {\n    this.router.config.unshift(\n      { path: 'knowledge-base', component: DummyComponent },\n      { path: 'home', component: DummyComponent },\n      { path: 'settings', component: DummyComponent }\n    );\n    this.dynamicRouting.addItem({ text: \"home\", path: \"home\" });\n    this.dynamicRouting.addItem({ text: \"knowledge_base\", path: \"knowledge-base\" });\n    this.dynamicRouting.addItem({ text: \"settings\", path: \"settings\" });\n  }\n  /**\n  * Upon initialization this function fetches the links and inserts the translated\n  * text and path to be used by the template\n  *\n  * @param\n  * @return\n  */\n  ngOnInit() {\n    this.links = [];\n    let rawData = this.dynamicRouting.getLinks();\n    let self = this;\n    rawData.forEach(function(data) {\n      let text = self.translate.transform(\"generic[toolbar][categories][\" + data.text + \"][label]\");\n      self.links.push({ text: text, path: data.path });\n    });\n\n  //rest of the methods\n</code></pre>\n\n<p><strong>html</strong></p>\n\n<pre><code>&lt;app-header\n  [fixed]=\"true\"\n  [navbarBrandFull]=\"{src: 'assets/logo.png', width: 143, height: 36, alt: 'RT Logo'}\"\n  [navbarBrandMinimized]=\"{src: 'assets/logo2.png', width: 35, height: 35, alt: 'RT Logo'}\"\n  [sidebarToggler]=\"'lg'\"&gt;\n  &lt;ul class=\"nav navbar-nav d-md-down-none\" routerLinkActive=\"active\"&gt;\n    &lt;li class=\"nav-item px-3\" *ngFor=\"let link of links\"&gt;\n      &lt;a class=\"nav-link\" [routerLink]='[\"/link.path\"]'&gt;{{ link.text }}&lt;/a&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;ul class=\"nav navbar-nav ml-auto\"&gt;\n  &lt;/ul&gt;\n&lt;/app-header&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "material-design"], "comments": [{"owner": {"reputation": 8480, "user_id": 264607, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67363b37d16ceb110e3419614a85a10f?s=128&d=identicon&r=PG", "display_name": "BlackICE", "link": "https://stackoverflow.com/users/264607/blackice"}, "edited": false, "score": 0, "creation_date": 1552474019, "post_id": 55139815, "comment_id": 97020186, "body": "Within the ngfor all of your button ids are the same"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 5829697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1dd414c41732dc53c8bca1fe42cb3db?s=128&d=identicon&r=PG&f=1", "display_name": "mhfour", "link": "https://stackoverflow.com/users/5829697/mhfour"}, "edited": false, "score": 0, "creation_date": 1552475095, "post_id": 55140015, "comment_id": 97020792, "body": "thanks for the answer. it worked perfectly. Another question, is there a way to &quot;unselect&quot; it? meaning the color of the icon reverts back to the previous colour."}, {"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "reply_to_user": {"reputation": 145, "user_id": 5829697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1dd414c41732dc53c8bca1fe42cb3db?s=128&d=identicon&r=PG&f=1", "display_name": "mhfour", "link": "https://stackoverflow.com/users/5829697/mhfour"}, "edited": false, "score": 1, "creation_date": 1552475279, "post_id": 55140015, "comment_id": 97020890, "body": "In your <code>addToSummary</code> method simply do: <code>content.isSelected = !content.isSelected</code>. This will flip the boolean value from true to false and vice versa."}], "tags": [], "owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "is_accepted": true, "score": 3, "last_activity_date": 1552474352, "last_edit_date": 1552474352, "creation_date": 1552473956, "answer_id": 55140015, "question_id": 55139815, "link": "https://stackoverflow.com/questions/55139815/angular-changing-the-icon-colour-when-clicked/55140015#55140015", "title": "angular - changing the icon colour when clicked", "body": "<p>You current solution does not work because <code>getElementById</code> only returns a single (the first found) element with the given id. Besides this performing such DOM queries is definitely not the Angular way.</p>\n\n<p>Instead you would need to change your button definition to something like this:</p>\n\n<pre><code>&lt;button class=\"mdc-icon-button material-icons\" [style.color]=\"content.isSelected ? '#3DA2DA' : 'FFFFFF'\" (click)=\"addToSummary(content)\"&gt;grade&lt;/button&gt;\n</code></pre>\n\n<p>And we also change our <code>addToSummary</code> method to look like this:</p>\n\n<pre><code>addToSummary(content){\n    content.isSelected = true;\n}\n</code></pre>\n\n<p>So the basic idea is like this:</p>\n\n<ul>\n<li>Each elements in your <code>acts</code> array has an <code>isSelected</code> property</li>\n<li>If this property is set to true the star is colored blue</li>\n<li>In the <code>addToSummary</code> method we set the <code>isSelected</code> property to true</li>\n<li>We handle this the 'Angular way' by using <code>[style.color]</code> which allows us to define a simple expression to toggle between white and blue color.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1552474620, "post_id": 55140079, "comment_id": 97020545, "body": "Personally I would advise against any use of <code>document.getElementBy...</code> methods in Angular. Angular is perfectly capable of handling OP&#39;s question without using these methods."}], "tags": [], "owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "is_accepted": false, "score": 0, "last_activity_date": 1552474159, "creation_date": 1552474159, "answer_id": 55140079, "question_id": 55139815, "link": "https://stackoverflow.com/questions/55139815/angular-changing-the-icon-colour-when-clicked/55140079#55140079", "title": "angular - changing the icon colour when clicked", "body": "<p>You can also try like this way</p>\n\n<pre><code> &lt;table class=\"table table-borderless\" style=\"background-color: #CCE4E9\"&gt;\n   &lt;tbody&gt;\n        &lt;tr *ngFor=\"let content of acts; let i = index;\"&gt;\n           &lt;td style=\"font-size: 14px;\" *ngIf=\"content.status == 2;\"&gt; \n              {{content.description}}\n           &lt;/td&gt;\n           &lt;td&gt;\n               &lt;button id=\"addToSummary\" [ngClass]=\"['addToSummary', i]\" class=\"mdc-icon-button material-icons\" style=\"color: #FFFFFF;\"\n                (click)=\"addToSummary(i)\"&gt;grade&lt;/button&gt;\n           &lt;/td&gt;\n        &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\naddToSummary(i){\n     let className = \"addToSummary \" + i;\n     document.getElementByClassName(className).style.color = \"#3DA2DA\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1552475233, "post_id": 55140379, "comment_id": 97020861, "body": "Please don&#39;t do this. Using query selectors really should be a last ditch effort when working with Angular. OP&#39;s question is a classical problem Angular can solve without needing any query selectors."}], "tags": [], "owner": {"reputation": 151, "user_id": 2076016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005a0f0219e8988eec5892333f07790a?s=128&d=identicon&r=PG", "display_name": "lovos25", "link": "https://stackoverflow.com/users/2076016/lovos25"}, "is_accepted": false, "score": 0, "last_activity_date": 1552475061, "creation_date": 1552475061, "answer_id": 55140379, "question_id": 55139815, "link": "https://stackoverflow.com/questions/55139815/angular-changing-the-icon-colour-when-clicked/55140379#55140379", "title": "angular - changing the icon colour when clicked", "body": "<p>Renderer can be used to manipulate the DOM    </p>\n\n<pre><code>import { ElementRef, Renderer2} from '@angular/core';\n\nconstructor(private elRef: ElementRef, private renderer: Renderer2) { }\n\naddToSummary() {\n    let elm = this.elRef.nativeElement.querySelector('#addToSummary');\n    this.renderer.setStyle(elm, 'color', '#3DA2DA');\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 5829697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1dd414c41732dc53c8bca1fe42cb3db?s=128&d=identicon&r=PG&f=1", "display_name": "mhfour", "link": "https://stackoverflow.com/users/5829697/mhfour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 2, "accepted_answer_id": 55140015, "answer_count": 3, "score": 2, "last_activity_date": 1552475061, "creation_date": 1552473364, "question_id": 55139815, "link": "https://stackoverflow.com/questions/55139815/angular-changing-the-icon-colour-when-clicked", "title": "angular - changing the icon colour when clicked", "body": "<p>I currently have a table which displays list of items. Each item has an icon next to it. What I would like to do is to click on them icon and it will changes its colour. Right now, when I click on any of the icons, it will only change the colour of the first icon.</p>\n\n<pre><code>&lt;table class=\"table table-borderless\" style=\"background-color: #CCE4E9\"&gt;\n    &lt;tbody&gt;\n        &lt;tr *ngFor=\"let content of acts\"&gt;\n            &lt;td style=\"font-size: 14px;\" *ngIf=\"content.status == 2;\"&gt;{{content.description}}\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;button id=\"addToSummary\" class=\"mdc-icon-button material-icons\" style=\"color: #FFFFFF;\"\n                    (click)=\"addToSummary()\"&gt;grade&lt;/button&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n\naddToSummary(){\n  document.getElementById(\"addToSummary\").style.color = \"#3DA2DA\";\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ajMMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajMMv.png\" alt=\"screenshot\"></a></p>\n\n<p>What do I need to do to change just one of it?</p>\n"}, {"tags": ["typescript", "react-native", "webview"], "answers": [{"tags": [], "owner": {"reputation": 1603, "user_id": 9491322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/139d90033a3edf3267236d297532b092?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Makwana", "link": "https://stackoverflow.com/users/9491322/ankit-makwana"}, "is_accepted": false, "score": 1, "last_activity_date": 1552544223, "creation_date": 1552544223, "answer_id": 55156075, "question_id": 55139795, "link": "https://stackoverflow.com/questions/55139795/how-to-get-http-status-code-from-rnwebview/55156075#55156075", "title": "How to get HTTP status code from RNWebView", "body": "<p>It is not possible to get the HTTP status code of loaded webpage at all.</p>\n\n<p>NOTE: if any webresource/webpage fails to load, it is possible to get that error code and for that you'll have to use <a href=\"https://github.com/react-native-community/react-native-webview\" rel=\"nofollow noreferrer\">https://github.com/react-native-community/react-native-webview</a></p>\n"}], "owner": {"reputation": 121, "user_id": 2915470, "user_type": "registered", "profile_image": "https://graph.facebook.com/1333120079/picture?type=large", "display_name": "Philippe H. Regenass", "link": "https://stackoverflow.com/users/2915470/philippe-h-regenass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552544223, "creation_date": 1552473309, "question_id": 55139795, "link": "https://stackoverflow.com/questions/55139795/how-to-get-http-status-code-from-rnwebview", "title": "How to get HTTP status code from RNWebView", "body": "<p>I'm working on React-Native/TypeScript App for iOS and Android.</p>\n\n<p>After finishing load the webpage (RNWebView), I need HTTP response code.</p>\n\n<p>As NavState don't support this, I'm thinking to use injected JavaScript to find somehow status code.</p>\n\n<p>Any suggestions are very welcome!</p>\n"}, {"tags": ["typescript", "vue.js", "vue-component"], "comments": [{"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1552529904, "post_id": 55139593, "comment_id": 97048159, "body": "Use the <code>name</code> property, no need to include the component itself."}, {"owner": {"reputation": 899, "user_id": 5584191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84815071fe6aff203ced3619660bbbe9?s=128&d=identicon&r=PG&f=1", "display_name": "lei li", "link": "https://stackoverflow.com/users/5584191/lei-li"}, "reply_to_user": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1552530399, "post_id": 55139593, "comment_id": 97048270, "body": "@Nit Is there a way to implement <a href=\"https://vuejs.org/v2/guide/components-edge-cases.html#Circular-References-Between-Components\" rel=\"nofollow noreferrer\">Circular References Between Components</a> by <code>name</code>?"}, {"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1552531179, "post_id": 55139593, "comment_id": 97048420, "body": "As far as I know, no, but that&#39;s also very different to the question you originally asked."}, {"owner": {"reputation": 899, "user_id": 5584191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84815071fe6aff203ced3619660bbbe9?s=128&d=identicon&r=PG&f=1", "display_name": "lei li", "link": "https://stackoverflow.com/users/5584191/lei-li"}, "reply_to_user": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1552533139, "post_id": 55139593, "comment_id": 97048837, "body": "@Nit Yes, use <code>name</code> property is a good way to resolve my original problem, thank you."}], "answers": [{"comments": [{"owner": {"reputation": 899, "user_id": 5584191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84815071fe6aff203ced3619660bbbe9?s=128&d=identicon&r=PG&f=1", "display_name": "lei li", "link": "https://stackoverflow.com/users/5584191/lei-li"}, "edited": false, "score": 0, "creation_date": 1552530049, "post_id": 55147667, "comment_id": 97048194, "body": "I my case, I gave <code>myComp</code> component a webpack code splitting promise and when I create instance in html, It will be resolved dynamically. But TypeScript may do some static checks while compiling. Is TypeScript not full supported webpack code splitting?"}], "tags": [], "owner": {"reputation": 8835, "user_id": 2054602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa714b545cf57418ee53dc5c6c9517b5?s=128&d=identicon&r=PG&f=1", "display_name": "Radu Di\u021b\u0103", "link": "https://stackoverflow.com/users/2054602/radu-di%c8%9b%c4%83"}, "is_accepted": false, "score": 0, "last_activity_date": 1552497080, "creation_date": 1552497080, "answer_id": 55147667, "question_id": 55139593, "link": "https://stackoverflow.com/questions/55139593/dynamic-import-vue-file-in-typescript-recursive/55147667#55147667", "title": "Dynamic import vue file in typescript recursive", "body": "<p>You are including <code>myComp</code> inside <code>myComp</code> and you end up with an infinite recursion. (you end up with a StackOverlow ;).</p>\n\n<p>One way to fix this is to <code>name</code> your component and use use the given name. There is no need to import your component again. Something like this.</p>\n\n<pre><code> &lt;template&gt;\n  &lt;div&gt;\n   &lt;my-comp v-if=\"someCondition\"&gt;&lt;/my-comp&gt;\n  &lt;/div&gt;\n &lt;/template&gt;\n\n\n&lt;script lang=\"ts\"&gt;\n export default Vue.extend({\n   name: 'my-comp',\n   data(){\n    return{};\n   },\n   components:{\n   }\n })\n&lt;/script&gt;\n</code></pre>\n\n<p>And you should probably change <code>Vue.extend</code> to <code>Vue.component</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 899, "user_id": 5584191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84815071fe6aff203ced3619660bbbe9?s=128&d=identicon&r=PG&f=1", "display_name": "lei li", "link": "https://stackoverflow.com/users/5584191/lei-li"}, "is_accepted": true, "score": 0, "last_activity_date": 1558338748, "creation_date": 1558338748, "answer_id": 56216473, "question_id": 55139593, "link": "https://stackoverflow.com/questions/55139593/dynamic-import-vue-file-in-typescript-recursive/56216473#56216473", "title": "Dynamic import vue file in typescript recursive", "body": "<p>Register the component to global and use it with the name.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 11141271, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vnQ_-H3LFVI/AAAAAAAAAAI/AAAAAAAAD4A/k-CxbSoCFpo/photo.jpg?sz=128", "display_name": "TeamDman", "link": "https://stackoverflow.com/users/11141271/teamdman"}, "is_accepted": false, "score": 0, "last_activity_date": 1577133315, "creation_date": 1577133315, "answer_id": 59461058, "question_id": 55139593, "link": "https://stackoverflow.com/questions/55139593/dynamic-import-vue-file-in-typescript-recursive/59461058#59461058", "title": "Dynamic import vue file in typescript recursive", "body": "<p><a href=\"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin/issues/197\" rel=\"nofollow noreferrer\">I believe it was an issue with TypeScript, which has now been fixed.</a></p>\n\n<p>Try updating if you're experiencing the issue.</p>\n"}], "owner": {"reputation": 899, "user_id": 5584191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84815071fe6aff203ced3619660bbbe9?s=128&d=identicon&r=PG&f=1", "display_name": "lei li", "link": "https://stackoverflow.com/users/5584191/lei-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 750, "favorite_count": 0, "accepted_answer_id": 56216473, "answer_count": 3, "score": 1, "last_activity_date": 1577133315, "creation_date": 1552472796, "last_edit_date": 1552530229, "question_id": 55139593, "link": "https://stackoverflow.com/questions/55139593/dynamic-import-vue-file-in-typescript-recursive", "title": "Dynamic import vue file in typescript recursive", "body": "<p>I tried to dynamically import a single file vue component in itself in typescript and got an error:</p>\n\n<pre><code>/Users/lilei/Desktop/designer-web/node_modules/fork-ts-checker-webpack-plugin/lib/service.js:22\n        throw error;\n        ^\n\nRangeError: Maximum call stack size exceeded\n    at getSymbolLinks (/Users/lilei/Desktop/designer-web/node_modules/typescript/lib/typescript.js:31794:32)\n    at getDeclaredTypeOfTypeAlias (/Users/lilei/Desktop/designer-web/node_modules/typescript/lib/typescript.js:36457:25)\n\n...\n</code></pre>\n\n<p>myComp.vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;my-comp v-if=\"someCondition\"&gt;&lt;/my-comp&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\nexport default Vue.extend({\n  data(){\n    return{};\n  },\n  components:{\n    myComp:()=&gt;import('./myComp.vue')//Which is the name of current file, this is a official usage for dynamic loading vue component, and every thing is right in native JavaScript(not in TypeScript)\n  }\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>I think there are some recursive tasks performed while TypeScript compiling and thrown an error. But I make sure the component won't nested itself infinity by controlling the someCondition in my logic. How to dynamic import <code>.vue</code> file recursively in TypeScript?</p>\n\n<p><a href=\"https://vuejs.org/v2/guide/components-edge-cases.html#Circular-References-Between-Components\" rel=\"nofollow noreferrer\">vue doc</a></p>\n"}, {"tags": ["reactjs", "typescript", "react-spring"], "answers": [{"comments": [{"owner": {"reputation": 5627, "user_id": 1866584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15837d4eab2c874e746a56673f5ec7e7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Ambruzs", "link": "https://stackoverflow.com/users/1866584/peter-ambruzs"}, "edited": false, "score": 0, "creation_date": 1557992803, "post_id": 56149712, "comment_id": 98954127, "body": "It is interesting the typescrpt error gone away in the sandbox. Maybe in the next version it got fixed. Your version is also works without error so it can be also an answer to my question. Since then I switced to the hook api."}, {"owner": {"reputation": 94, "user_id": 14416045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd921e8d324f0c6ee8e9465755d94a4?s=128&d=identicon&r=PG", "display_name": "Tyler Norlund", "link": "https://stackoverflow.com/users/14416045/tyler-norlund"}, "edited": false, "score": 0, "creation_date": 1617810843, "post_id": 56149712, "comment_id": 118412917, "body": "How would you write this with multiple interpolate calls?"}], "tags": [], "owner": {"reputation": 854, "user_id": 5647862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cafd2d1e38a10cf2cf4556847e2ef8b?s=128&d=identicon&r=PG&f=1", "display_name": "Parker Tailor", "link": "https://stackoverflow.com/users/5647862/parker-tailor"}, "is_accepted": true, "score": 4, "last_activity_date": 1557924402, "creation_date": 1557924402, "answer_id": 56149712, "question_id": 55138612, "link": "https://stackoverflow.com/questions/55138612/typescript-with-react-spring-property-interpolate-does-not-exists-on-type-nu/56149712#56149712", "title": "Typescript with react-spring. Property &#39;interpolate&#39; does not exists on type &#39;number&#39;", "body": "<h2>The Why</h2>\n\n<p>When using the render-props version of react-spring, interpolate is used a little differently than the hooks version. <code>interpolate</code> doesn't exist on <code>scale</code> because <code>scale</code> is just a plain old number, not an object.</p>\n\n<h2>The Fix</h2>\n\n<p>You will need to import interpolate first:</p>\n\n<pre><code>import { interpolate, Spring, animated as a } from 'react-spring/renderprops';\n</code></pre>\n\n<p>then style the button using the imported function:</p>\n\n<pre><code>style={{\n  height: '100px',\n  width: '100px',\n  transform: interpolate(\n    [props.scale],\n    (s) =&gt; `scale(${s})`\n  ),\n}}\n</code></pre>\n"}], "owner": {"reputation": 5627, "user_id": 1866584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15837d4eab2c874e746a56673f5ec7e7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Ambruzs", "link": "https://stackoverflow.com/users/1866584/peter-ambruzs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1977, "favorite_count": 0, "accepted_answer_id": 56149712, "answer_count": 1, "score": 1, "last_activity_date": 1557924402, "creation_date": 1552470050, "last_edit_date": 1552471443, "question_id": 55138612, "link": "https://stackoverflow.com/questions/55138612/typescript-with-react-spring-property-interpolate-does-not-exists-on-type-nu", "title": "Typescript with react-spring. Property &#39;interpolate&#39; does not exists on type &#39;number&#39;", "body": "<p>I use react-spring with Typescript. When I use the native rendering with react-spring I get an error message to the interpolate function. </p>\n\n<p>\"Property 'interpolate' does not exist on type 'number'\" </p>\n\n<p>I tried to introduce an interface to the Spring component inner props, but I could not get rid of the various error messages.</p>\n\n<pre><code>import * as React from 'react';\nimport { FC, useState } from 'react';\nimport { Spring, animated as a } from 'react-spring/renderprops';\n\ninterface Props {\nonClick: Function;\n}\n\n/*interface SpringProps {\nscale: number | Scale;\n}\n\ninterface Scale {\ninterpolate: Function;\n}*/\n\nconst SpringButton: FC&lt;Props&gt; = ({ onClick }) =&gt; {\nconst [pressed, setPressed] = useState(false);\nreturn (\n    &lt;Spring native from={{ scale: 1 }} to={{ scale: pressed ? 0.8 : 1 }}&gt;\n    {(props /*: SpringProps*/) =&gt; (\n        &lt;a.button\n        style={{\n            height: '100px',\n            width: '100px',\n            transform: props.scale.interpolate(scale =&gt; `scale(${scale})`) \n        }}\n        onMouseDown={() =&gt; setPressed(true)}\n        onClick={e =&gt; {\n            setPressed(false);\n            onClick(e);\n        }}\n        onMouseLeave={() =&gt; setPressed(false)}\n        &gt;\n        Click me\n        &lt;/a.button&gt;\n    )}\n    &lt;/Spring&gt;\n);\n};\n\nexport default SpringButton;\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/34zopyr8zq\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/34zopyr8zq</a></p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3", "angular6"], "comments": [{"owner": {"reputation": 373, "user_id": 1780110, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2e2ah.png?s=128&g=1", "display_name": "Axelle", "link": "https://stackoverflow.com/users/1780110/axelle"}, "edited": false, "score": 0, "creation_date": 1552470500, "post_id": 55138511, "comment_id": 97017916, "body": "Are you using bootstrap? If not, you could look at their documentation concerning accordions: <a href=\"https://getbootstrap.com/docs/4.0/components/collapse/#accordion-example\" rel=\"nofollow noreferrer\">getbootstrap.com/docs/4.0/components/collapse/&hellip;</a> - I do this for my Angular app and just create an accordion (just like in the example on their website) and put the form inside the card-body"}, {"owner": {"reputation": 373, "user_id": 1780110, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2e2ah.png?s=128&g=1", "display_name": "Axelle", "link": "https://stackoverflow.com/users/1780110/axelle"}, "edited": false, "score": 0, "creation_date": 1552471163, "post_id": 55138511, "comment_id": 97018358, "body": "or you could create your own: <a href=\"https://www.youtube.com/watch?v=cH33gmOHJMU\" rel=\"nofollow noreferrer\">youtube.com/watch?v=cH33gmOHJMU</a>"}, {"owner": {"reputation": 3210, "user_id": 6690002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-AkfGoT9kPCI/AAAAAAAAAAI/AAAAAAAAEXM/QiCULOdIgNM/photo.jpg?sz=128", "display_name": "Khurshid Ansari", "link": "https://stackoverflow.com/users/6690002/khurshid-ansari"}, "edited": false, "score": 0, "creation_date": 1552471270, "post_id": 55138511, "comment_id": 97018435, "body": "I am using <a href=\"https://demo.mobiscroll.com/collapsible/accordion\" rel=\"nofollow noreferrer\">demo.mobiscroll.com/collapsible/accordion</a>. It is really very googe for me."}], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552471628, "post_id": 55138961, "comment_id": 97018656, "body": "It looks a bit different. There are almost 8 inputs and selects together in Ionic component. Also, it should be just one accordion inside which should be all forms together."}, {"owner": {"reputation": 99, "user_id": 6725880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WTVIP.jpg?s=128&g=1", "display_name": "papatepan", "link": "https://stackoverflow.com/users/6725880/papatepan"}, "reply_to_user": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552472028, "post_id": 55138961, "comment_id": 97018905, "body": "The optics are irrelevant in this case. What you want to achieve is have an element with (click) handler that calls a function in your component. (click)=&quot;toggleFunc()&quot; in this function the magic happens and have a this.isExpanded: boolean in your component. Then you can judge what is displayed based on that variable value in your template."}, {"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552472153, "post_id": 55138961, "comment_id": 97018994, "body": "Hmm. I am confused(( So how will look like complete sample according to my code inside the questions?"}, {"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552473665, "post_id": 55138961, "comment_id": 97019952, "body": "I tried to find tutorials for such a case. But there was not a suitable example."}, {"owner": {"reputation": 99, "user_id": 6725880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WTVIP.jpg?s=128&g=1", "display_name": "papatepan", "link": "https://stackoverflow.com/users/6725880/papatepan"}, "reply_to_user": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552475885, "post_id": 55138961, "comment_id": 97021267, "body": "I have created a demo and updated my answer. Check it out and upvote if helps! Cheers"}, {"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552486972, "post_id": 55138961, "comment_id": 97028740, "body": "Thanks it works. So I can just include the whole above code instead of that p tag right?"}, {"owner": {"reputation": 99, "user_id": 6725880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WTVIP.jpg?s=128&g=1", "display_name": "papatepan", "link": "https://stackoverflow.com/users/6725880/papatepan"}, "reply_to_user": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552494239, "post_id": 55138961, "comment_id": 97033993, "body": "Yes, indeed. You can put whatever you want inside the &lt;div class=&quot;panel&quot;&gt;. It will get a class active once opened is true. And that is happening on (click) - firing the toggleFunc"}, {"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1552571927, "post_id": 55138961, "comment_id": 97067916, "body": "When I include the form inside this code it throws this error: <a href=\"https://stackoverflow.com/questions/55159115/unexpected-closing-tag-ion-list-in-ionic-3?noredirect=1#comment97066369_55159115\" title=\"unexpected closing tag ion list in ionic 3\">stackoverflow.com/questions/55159115/&hellip;</a>"}], "tags": [], "owner": {"reputation": 99, "user_id": 6725880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WTVIP.jpg?s=128&g=1", "display_name": "papatepan", "link": "https://stackoverflow.com/users/6725880/papatepan"}, "is_accepted": true, "score": 1, "last_activity_date": 1552475857, "last_edit_date": 1552475857, "creation_date": 1552471026, "answer_id": 55138961, "question_id": 55138511, "link": "https://stackoverflow.com/questions/55138511/how-to-open-this-form-with-accordion-in-ionic-3/55138961#55138961", "title": "How to open this form with accordion in Ionic 3?", "body": "<p>so you need to create your own accordion. \nI have created a small example to demonstrate how an accordion can be achieved.</p>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-accordion\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-accordion</a></p>\n\n<p>You can further apply css animations to make it look and feel better.</p>\n\n<p>Please, upvote if this helps! </p>\n"}], "owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 0, "accepted_answer_id": 55138961, "answer_count": 1, "score": 0, "last_activity_date": 1552475857, "creation_date": 1552469792, "question_id": 55138511, "link": "https://stackoverflow.com/questions/55138511/how-to-open-this-form-with-accordion-in-ionic-3", "title": "How to open this form with accordion in Ionic 3?", "body": "<p>We are building a search form and trying to implement it inside accordion so the user can click it to open the form. Here is the code:</p>\n\n<p><strong>TS.</strong></p>\n\n<pre><code>buildForm(): void {\n    this.form = this.fb.group({\n      username: new FormControl(''),\n      firstName: new FormControl(''),\n      lastName: new FormControl(''),\n      agefrom: new FormControl(''),\n      ageto: new FormControl(''),\n      country: new FormControl(''),\n\n    });\n  }\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;ion-list&gt;\n    &lt;form  [formGroup]=\"form\"&gt;\n        &lt;ion-list style=\"margin-top: 15% !important\" class=\"scroll\"&gt;\n          &lt;ion-item&gt;\n              &lt;ion-input class=\"input-field\" formControlName=\"firstName\" name=\"firstName\" type=\"text\" placeholder=\"First Name\"&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n                &lt;ion-input class=\"input-field\" formControlName=\"lastName\" name=\"lastName\" type=\"text\" placeholder=\"Last Name\"&gt;&lt;/ion-input&gt;\n              &lt;/ion-item&gt;\n          &lt;ion-item&gt;\n           &lt;ion-select interface=\"action-sheet\" class=\"select\" placeholder=\"Country\"&gt;\n              &lt;ion-option ngDefaultControl [value]='country.name' *ngFor=\"let country of countries\"&gt;{{country.name}}\n              &lt;/ion-option&gt;\n            &lt;/ion-select&gt;\n           &lt;/ion-item&gt;    \n                &lt;button ion-button block class=\"search\"&gt;Sign Up&lt;/button&gt;                \n        &lt;/ion-list&gt;\n    &lt;/form&gt;\n   &lt;/ion-list&gt;\n</code></pre>\n\n<p>How to create an accordion which will include this form inside of it?</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "angular-services"], "comments": [{"owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "edited": false, "score": 0, "creation_date": 1552469374, "post_id": 55138310, "comment_id": 97017150, "body": "Inject the weather service instance in coord.service constructor and pass the data to it. Just like you have added httpClient service in your both services. You don&#39;t need to inject both services as each other dependencies."}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 7109092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b647ea33e3f46e2334da3cf849ea03?s=128&d=identicon&r=PG", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/7109092/ahsan"}, "edited": false, "score": 0, "creation_date": 1552469597, "post_id": 55138398, "comment_id": 97017298, "body": "This is the much better approach to combine &amp; share data between two services."}, {"owner": {"reputation": 31, "user_id": 9627427, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Albin Vinoy", "link": "https://stackoverflow.com/users/9627427/albin-vinoy"}, "edited": false, "score": 0, "creation_date": 1552470640, "post_id": 55138398, "comment_id": 97018023, "body": "I understand that in component i pass input to coordService. Can you help me understand what this is <code>switchMap(coords =&gt; this.weatherService.getWeatherInfo(coords))</code>; <code>coords</code> is massaged data from coord_API. How would I make sure correct values are passed into coords?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 31, "user_id": 9627427, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Albin Vinoy", "link": "https://stackoverflow.com/users/9627427/albin-vinoy"}, "edited": false, "score": 0, "creation_date": 1552471097, "post_id": 55138398, "comment_id": 97018321, "body": "@AlbinVinoy I have explained the concept in an edit, feel free to read it !"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 3, "last_activity_date": 1552471080, "last_edit_date": 1552471080, "creation_date": 1552469458, "answer_id": 55138398, "question_id": 55138310, "link": "https://stackoverflow.com/questions/55138310/pass-data-from-component-to-service-1-service-2-depends-on-service-1-service-2/55138398#55138398", "title": "Pass data from component to service 1. Service 2 depends on service 1. Service 2 data to component", "body": "<p>Your component should aggregate the services and make the calls. </p>\n\n<pre><code>constructor(\n  public weatherService: WeatherService,\n  public coordsService: CoordinateService,\n) { }\n\nweatherData() {\n  this.coordsService.getCoordinates('your param').pipe(\n    switchMap(coords =&gt; this.weatherService.getWeatherInfo(coords))\n  ).subscribe(data =&gt; console.log(data));\n}\n</code></pre>\n\n<p>Services are providers that can be injected to anything in Angular. They should have a single purpose : the components should then be able to use them and combine them. </p>\n\n<p><code>switchMap</code> is an RxJS operator. </p>\n\n<p>RxJS is a library widely used by Angular, that enables <a href=\"https://medium.freecodecamp.org/an-introduction-to-functional-reactive-programming-in-redux-b0c14d097836\" rel=\"nofollow noreferrer\">reactive programming</a>. When you make an HTTP call, you create an observer, that is created through the <code>subscribe</code> keyword. That creates a stream, in which the data is immutable. </p>\n\n<p>RxJS allows you to use operators to manipulate the stream. You have <a href=\"https://www.learnrxjs.io/operators/\" rel=\"nofollow noreferrer\">a lot of operators</a> to choose from. </p>\n\n<p>In the case of <code>switchMap</code> : this is an operator that allows you to switch the stream for another one. This means that first you request the coordinates, and then use <code>switchMap</code> to request the weather, with the result of the first http call. </p>\n\n<p>You have several operators for that, like <code>mergeMap</code>, <code>flatMap</code> ... But <code>switchMap</code> should always be the first choice, because it cancels any pending request if the observable is getting observed again. That means the user will cancel the pending request if he clicks on the button several times in a row, resulting in fewer http calls. </p>\n"}], "owner": {"reputation": 31, "user_id": 9627427, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Albin Vinoy", "link": "https://stackoverflow.com/users/9627427/albin-vinoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "accepted_answer_id": 55138398, "answer_count": 1, "score": 0, "last_activity_date": 1552471080, "creation_date": 1552469166, "last_edit_date": 1552469342, "question_id": 55138310, "link": "https://stackoverflow.com/questions/55138310/pass-data-from-component-to-service-1-service-2-depends-on-service-1-service-2", "title": "Pass data from component to service 1. Service 2 depends on service 1. Service 2 data to component", "body": "<p>I am creating a weather application.</p>\n\n<p>I have <code>view.component</code>, <code>coord.service</code>, <code>weather.service</code>.</p>\n\n<p>I have <code>view.component</code> for user input. I want to pass input from component to <code>coord.service</code> which makes an API call and returns coordinates. The coordinates should be passed to <code>weather.service</code> which also makes an API call and returns an Observable back to <code>view.component</code> for rendering into HTML. I cannot figure out/understand how to make this happen. </p>\n\n<p><code>view.component.ts</code>:</p>\n\n<pre><code>@Component({\n  selector: 'app-view',\n  templateUrl: './view.component.html',\n  styleUrls: ['./view.component.css']\n})\n\nexport class ViewComponent implements OnChanges {\n  alerts: any;\n  currData:any = {};\n\n  @Input() location: string;\n\n  coordinate = [];\n\n  constructor(public weatherService: WeatherService) { }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // pass location to coord.service -&gt; i don't know what to do from here\n    //this.weatherData(this.coordinate);\n  }\n\n  weatherData(coord: Array&lt;number&gt;) {\n    this.weatherService.getWeatherInfo(coord).subscribe((data) =&gt; {\n     // do something with data and make it render\n    });\n  }\n</code></pre>\n\n<p><code>coord.service</code></p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class CoordinateService {\n\n  readonly coord_API = \"\"\n\n  constructor(private http : HttpClient) {  }\n\n  getCoordinates(location : string) {\n    return this.http.get(this.coord_API.replace(\"*\", location)).pipe(\n      tap(_ =&gt; console.log(\"recieved geoData\")),\n      catchError(err =&gt; {throw \"GEO ERROR: \" + err})\n    )\n  }\n}\n</code></pre>\n\n<p><code>weather.service</code></p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class WeatherService {\n  readonly weather_api : string = \"\";\n  coordinates : [] = [];\n  // I need to pass in input from component to coordService\n  constructor(public http : HttpClient, public coordinateService : CoordinateService) {  }\n\n  getWeatherInfo(coordinates : Array&lt;number&gt;, type=\"daily\") {\n    return this.http.get(this.weather_api).pipe(\n      tap(_ =&gt; console.log('got data')),\n      catchError(err =&gt; {throw \"WE. ERR : \" + err})\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1552469035, "post_id": 55138179, "comment_id": 97016948, "body": "i dont see what the difference is? you cant apply the <code>selected</code> directive to multiple <code>&lt;option&gt;</code>&#39;s so the top one becomes irrelevant"}, {"owner": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1552469210, "post_id": 55138179, "comment_id": 97017048, "body": "No option is added if the ngIf would return something else then expected. So 1 will be added each tiem. correct me if i&#39;m wrong."}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 1, "creation_date": 1552469359, "post_id": 55138179, "comment_id": 97017140, "body": "the <code>*ngFor</code> will effectively &quot;duplicate&quot; whatever it is on, meaning you will have x amount of <code>&lt;option&gt;</code>&#39;s all with selected on, if the top condition is met"}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1552469530, "post_id": 55138179, "comment_id": 97017248, "body": "the closest thing you could do that should work, is create a filter pipe for the <code>*ngFor</code> and filter it instead of using the <code>*ngIf</code>"}, {"owner": {"reputation": 464, "user_id": 11065438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504de3631c93170cf0c2b0de3fbaa33f?s=128&d=identicon&r=PG&f=1", "display_name": "Pushkar Adhikari", "link": "https://stackoverflow.com/users/11065438/pushkar-adhikari"}, "edited": false, "score": 2, "creation_date": 1552469868, "post_id": 55138179, "comment_id": 97017495, "body": "at this risk of attracting hate, I would like to add to OP that your question and selected answer are in complete mismatch. Your questions asks about attribute <code>selected</code> not about the workings and getting the value of selected option. No offence to submitter of answer: Hardik Patel."}, {"owner": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "edited": false, "score": 0, "creation_date": 1552476513, "post_id": 55138179, "comment_id": 97021656, "body": "@PushkaAdhikari you are deffinetly right. The answer is still a fix to get the same outcome as was planned. So i approved it. I did not know this was the correct way of selecting an option within the select element. In my logic i would have to add the select attribute. I was proven wrong by Hardik Patel ."}], "answers": [{"comments": [{"owner": {"reputation": 464, "user_id": 11065438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504de3631c93170cf0c2b0de3fbaa33f?s=128&d=identicon&r=PG&f=1", "display_name": "Pushkar Adhikari", "link": "https://stackoverflow.com/users/11065438/pushkar-adhikari"}, "edited": false, "score": 0, "creation_date": 1552469134, "post_id": 55138258, "comment_id": 97017007, "body": "IMO you can skip the <code>attr.</code> part and use <code>selected</code>, <i>nvm the downvote, not by me.</i>"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 2, "creation_date": 1552469338, "post_id": 55138258, "comment_id": 97017129, "body": "Leaving comments that complain about downvoting isn&#39;t constructive. It&#39;s just noise. No one pays any attention, and there is absolutely no expectation that voters will leave comments."}, {"owner": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "edited": false, "score": 0, "creation_date": 1552469364, "post_id": 55138258, "comment_id": 97017142, "body": "This adds selected to all the options.. Only the option that is equal to result.WaardeStr should recieve the attribute selected (not me who downvoted)"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 5, "creation_date": 1552469557, "post_id": 55138258, "comment_id": 97017265, "body": "I&#39;m telling you not to leave comments that complain about downvoting or about a lack of comments about downvoting. No one is expected to leave comments to accompany their votes. Votes are anonymous. Comments that try to bully people into revealing how they voted are inappropriate. Comments that just complain about receiving downvotes are pointless noise. Both types of comments will be deleted. I&#39;d rather you save us the trouble of deleting them by not leaving them in the first place. This is not a new site policy. The reason for downvotes appears in the tooltip on the vote arrow, as always."}, {"owner": {"reputation": 464, "user_id": 11065438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504de3631c93170cf0c2b0de3fbaa33f?s=128&d=identicon&r=PG&f=1", "display_name": "Pushkar Adhikari", "link": "https://stackoverflow.com/users/11065438/pushkar-adhikari"}, "reply_to_user": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "edited": false, "score": 0, "creation_date": 1552469677, "post_id": 55138258, "comment_id": 97017359, "body": "@JeroenBerkhof no it would not. <code>attr.selected</code> specifically tells to add attribute <code>selected</code> if the condition is true. so you may have to modify the condition <code>result.WaardeStr == waarde.value</code> but it shouldn&#39;t work as you say. Do correct me if i am wrong."}, {"owner": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "edited": false, "score": 0, "creation_date": 1552469953, "post_id": 55138258, "comment_id": 97017547, "body": "Since i can not upload a picture in the comment section. you probab;y just have to believe me.. I tested the code and that is what happened. Since html shows the last item that has the selected attribute that is what is displayed in the dropdown."}, {"owner": {"reputation": 464, "user_id": 11065438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504de3631c93170cf0c2b0de3fbaa33f?s=128&d=identicon&r=PG&f=1", "display_name": "Pushkar Adhikari", "link": "https://stackoverflow.com/users/11065438/pushkar-adhikari"}, "edited": false, "score": 0, "creation_date": 1552470105, "post_id": 55138258, "comment_id": 97017642, "body": "possibly, I have no reason to not trust you. But question wasn&#39;t clear and so weren&#39;t the answers. Read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "edited": false, "score": 0, "creation_date": 1552470942, "post_id": 55138258, "comment_id": 97018226, "body": "I should. This was my first question on stack overflow."}], "tags": [], "owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "is_accepted": false, "score": 0, "last_activity_date": 1552468997, "creation_date": 1552468997, "answer_id": 55138258, "question_id": 55138179, "link": "https://stackoverflow.com/questions/55138179/angular-7-select-selected-attribute-option-based-on-passed-data/55138258#55138258", "title": "Angular 7 select selected attribute option based on passed data", "body": "<p>Place the condition on the <code>selected</code> attribute :</p>\n\n<pre><code>&lt;select *ngIf=\"result.Waarde.length &gt;= 2; else other_content\" (change)=\"onChangeSelected($event.target.value, result)\" #select class=\"form-control\"&gt;\n    &lt;option *ngFor=\"let waarde of result.Waarde\" [attr.selected]=\"result.WaardeStr == waarde.value\"&gt;\n        {{waarde.value}}\n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "edited": false, "score": 0, "creation_date": 1552469714, "post_id": 55138429, "comment_id": 97017383, "body": "This worked! I should research more about why this works though.. Thanks a lot for your help! I am still new to angular."}], "tags": [], "owner": {"reputation": 3338, "user_id": 1705623, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/6Pxuo.jpg?s=128&g=1", "display_name": "Hardik Patel", "link": "https://stackoverflow.com/users/1705623/hardik-patel"}, "is_accepted": true, "score": 5, "last_activity_date": 1552469556, "creation_date": 1552469556, "answer_id": 55138429, "question_id": 55138179, "link": "https://stackoverflow.com/questions/55138179/angular-7-select-selected-attribute-option-based-on-passed-data/55138429#55138429", "title": "Angular 7 select selected attribute option based on passed data", "body": "<p>Use ngModel as below.</p>\n\n<pre><code>&lt;select *ngIf=\"result.Waarde.length &gt;= 2; else other_content\" [(ngModel)]=\"result.WaardeStr\" (change)=\"onChangeSelected($event.target.value, result)\" #select class=\"form-control\"&gt;\n    &lt;option *ngFor=\"let waarde of result.Waarde\" [value]=\"waarde.value\"&gt;\n       {{waarde.value}}\n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3755, "user_id": 1940850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqElV.png?s=128&g=1", "display_name": "karel", "link": "https://stackoverflow.com/users/1940850/karel"}, "edited": false, "score": 2, "creation_date": 1569826906, "post_id": 58162529, "comment_id": 102707493, "body": "This is a comment about this answer: <a href=\"https://stackoverflow.com/a/55138258/\">stackoverflow.com/a/55138258</a> (a poorly formatted one), not an answer to the question."}, {"owner": {"reputation": 1, "user_id": 12141350, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDU5fRGrrbDjA8x-x5yn5iCMlJk8NYwFGZYly_mLg=k-s128", "display_name": "muchakarla koteswararao", "link": "https://stackoverflow.com/users/12141350/muchakarla-koteswararao"}, "reply_to_user": {"reputation": 3755, "user_id": 1940850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqElV.png?s=128&g=1", "display_name": "karel", "link": "https://stackoverflow.com/users/1940850/karel"}, "edited": false, "score": 0, "creation_date": 1569829578, "post_id": 58162529, "comment_id": 102708736, "body": "&lt;select *ngIf=&quot;result.Waarde.length &gt;= 2; else other_content&quot; (change)=&quot;onChangeSelected($event.target.value, result)&quot; #select class=&quot;form-control&quot;&gt;     &lt;option *ngFor=&quot;let waarde of result.Waarde&quot; [attr.selected]=&quot;result.WaardeStr == waarde.value&quot;&gt;         {{waarde.value}}     &lt;/option&gt; &lt;/select&gt;"}, {"owner": {"reputation": 1, "user_id": 12141350, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDU5fRGrrbDjA8x-x5yn5iCMlJk8NYwFGZYly_mLg=k-s128", "display_name": "muchakarla koteswararao", "link": "https://stackoverflow.com/users/12141350/muchakarla-koteswararao"}, "reply_to_user": {"reputation": 3755, "user_id": 1940850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqElV.png?s=128&g=1", "display_name": "karel", "link": "https://stackoverflow.com/users/1940850/karel"}, "edited": false, "score": 0, "creation_date": 1569829642, "post_id": 58162529, "comment_id": 102708766, "body": "when we have use selected attribute and value attribute not working selected functionality properly"}], "tags": [], "owner": {"reputation": 1, "user_id": 12141350, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDU5fRGrrbDjA8x-x5yn5iCMlJk8NYwFGZYly_mLg=k-s128", "display_name": "muchakarla koteswararao", "link": "https://stackoverflow.com/users/12141350/muchakarla-koteswararao"}, "is_accepted": false, "score": -2, "last_activity_date": 1569830856, "last_edit_date": 1569830856, "creation_date": 1569825032, "answer_id": 58162529, "question_id": 55138179, "link": "https://stackoverflow.com/questions/55138179/angular-7-select-selected-attribute-option-based-on-passed-data/58162529#58162529", "title": "Angular 7 select selected attribute option based on passed data", "body": "<pre><code>&lt;select *ngIf=\"result.Waarde.length &gt;= 2; else other_content\" (change)=\"onChangeSelected($event.target.value, result)\" #select class=\"form-control\"&gt;\n&lt;option *ngFor=\"let waarde of result.Waarde\" [attr.selected]=\"result.WaardeStr == waarde.value\"&gt;\n    {{waarde.value}}\n&lt;/option&gt;\n</code></pre>\n\n<p></p>\n\n<p>We have add value attribute then not working selected !!!!!!!!</p>\n"}], "owner": {"reputation": 47, "user_id": 9592879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BqmRDyNXgfw/AAAAAAAAAAI/AAAAAAAAAgQ/HhGl7lZogUE/photo.jpg?sz=128", "display_name": "Jeroen Berkhof", "link": "https://stackoverflow.com/users/9592879/jeroen-berkhof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6134, "favorite_count": 0, "accepted_answer_id": 55138429, "answer_count": 3, "score": -1, "last_activity_date": 1569830856, "creation_date": 1552468761, "question_id": 55138179, "link": "https://stackoverflow.com/questions/55138179/angular-7-select-selected-attribute-option-based-on-passed-data", "title": "Angular 7 select selected attribute option based on passed data", "body": "<p>I am expiriencing a problem while i am trying to make a select dropdown in angular. \nI want to make one option selected based on the data passed with ngFor. Since I have experienced that I can not use an ngIf and an ngFor at the same time. Even though I do not understand why this is not possible I want to ask the question: \"How do I make this work?\" The data behind the code is working well. This has been tested. neither can i casually use JQuery to fix it with a <code>$(document).ready();</code></p>\n\n<pre><code>&lt;select *ngIf=\"result.Waarde.length &gt;= 2; else other_content\" (change)=\"onChangeSelected($event.target.value, result)\" #select class=\"form-control\"&gt;\n    &lt;option *ngFor=\"let waarde of result.Waarde\" *ngIf=\"result.WaardeStr == waarde.value;\" selected&gt;\n        {{waarde.value}}\n    &lt;/option&gt;\n    &lt;option *ngFor=\"let waarde of result.Waarde\" *ngIf=\"result.WaardeStr != waarde.value;\"&gt;\n       {{waarde.value}}\n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["node.js", "typescript", "npm", "tsc", "npx"], "answers": [{"comments": [{"owner": {"reputation": 1527, "user_id": 796940, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43c4a2ec07bae4b6fd048d9c2d426813?s=128&d=identicon&r=PG", "display_name": "LaVache", "link": "https://stackoverflow.com/users/796940/lavache"}, "edited": false, "score": 3, "creation_date": 1552543690, "post_id": 55138585, "comment_id": 97051463, "body": "Thanks, it appears that <code>npx -p typescript tsc</code> does what I need, and correctly reports version 3.3.3333.  I&#39;m curious how the old &quot;tsc&quot; package was being run?  Because I don&#39;t have it installed in the project or globally, and the string &quot;tsc&quot; doesn&#39;t even exist anywhere inside my package.json or package-lock.json files.  No &quot;tsc&quot; folder under node_modules either.   Also <code>npx tsc --version</code> was reporting <code>message TS6029: Version 1.5.3</code> - which doesn&#39;t appear to be a version number for the &quot;tsc&quot; package? (which uses a different format for its version numbers)."}, {"owner": {"reputation": 1527, "user_id": 796940, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43c4a2ec07bae4b6fd048d9c2d426813?s=128&d=identicon&r=PG", "display_name": "LaVache", "link": "https://stackoverflow.com/users/796940/lavache"}, "edited": false, "score": 2, "creation_date": 1552543699, "post_id": 55138585, "comment_id": 97051472, "body": "I can&#39;t find any &quot;tsc&quot; package anywhere on the host or guest filesystems.  Does npx temporarily download a copy and delete it after running or something like that? (I see a message <code>npx: installed 1 in 1.998s</code> when I run it)  Or otherwise where could the &quot;tsc&quot; package files be coming from?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 1527, "user_id": 796940, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43c4a2ec07bae4b6fd048d9c2d426813?s=128&d=identicon&r=PG", "display_name": "LaVache", "link": "https://stackoverflow.com/users/796940/lavache"}, "edited": false, "score": 1, "creation_date": 1552556709, "post_id": 55138585, "comment_id": 97057720, "body": "Yes, that&#39;s what npx does. It installs a temporary copy. That tsc has the latest 1.20150623.0 version and not 1.5.3 means that the package uses different version internally to show with <code>-v</code> and doesn&#39;t get it from package.json."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1603119909, "post_id": 55138585, "comment_id": 113928609, "body": "Sorry but I don&#39;t understand why npx don&#39; get new version of TSC?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1603123284, "post_id": 55138585, "comment_id": 113930267, "body": "@MuradSofiyev It uses globally installed TS in case there&#39;s one. Use <code>npx --ignore-existing -p typescript tsc</code> if you want it to behave differently."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1603158310, "post_id": 55138585, "comment_id": 113941189, "body": "Yeah but I don&#39;t have any globally installed TS this is mean npx must get download lates version of tsc and execute. Am I wrong? But npx download old version of TypeScript :/"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1603185528, "post_id": 55138585, "comment_id": 113949489, "body": "@MuradSofiyev What version? Did you check that it&#39;s not installed? That you have this problem suggests the opposite."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 11, "last_activity_date": 1552469984, "creation_date": 1552469984, "answer_id": 55138585, "question_id": 55138134, "link": "https://stackoverflow.com/questions/55138134/npx-tsc-version-reports-different-typescript-version-inside-virtual-machine/55138585#55138585", "title": "&quot;npx tsc --version&quot; reports different TypeScript version inside virtual machine", "body": "<p>TypeScript binary is called <code>tsc</code> for shortness. When it's not installed globally, <code>npx</code> has no way to know that <code>tsc</code> refers to <code>tsc</code> binary for <code>typescript</code> package. <code>npx tsc</code> refers to <a href=\"https://www.npmjs.com/package/tsc\" rel=\"noreferrer\">deprecated <code>tsc</code> package</a>.</p>\n\n<p>A way this can be fixed is to specify package name explicitly:</p>\n\n<pre><code>npx -p typescript tsc\n</code></pre>\n\n<p>And the actual problem here is that the project relies on global TypeScript installation. It's common to have <code>typescript</code> a project was written with in project dependencies and refer to local installation in package.json NPM scripts:</p>\n\n<pre><code>...\n\"scripts\": {\n  \"build\": \"tsc\"\n},\n\"devDependencies\": {\n  \"typescript\": \"~3.3.0\"\n\"\n...\n</code></pre>\n"}], "owner": {"reputation": 1527, "user_id": 796940, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43c4a2ec07bae4b6fd048d9c2d426813?s=128&d=identicon&r=PG", "display_name": "LaVache", "link": "https://stackoverflow.com/users/796940/lavache"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4518, "favorite_count": 0, "accepted_answer_id": 55138585, "answer_count": 1, "score": 4, "last_activity_date": 1552469984, "creation_date": 1552468580, "question_id": 55138134, "link": "https://stackoverflow.com/questions/55138134/npx-tsc-version-reports-different-typescript-version-inside-virtual-machine", "title": "&quot;npx tsc --version&quot; reports different TypeScript version inside virtual machine", "body": "<p>I want to be able to run <code>npx tsc</code> on my project on both my host + guest operating systems.  But the guest is using a different (older) version of <code>tsc</code> - and I'm not sure where it's coming from.</p>\n\n<p>My setup:</p>\n\n<ul>\n<li>Host OS: Windows 10</li>\n<li>Guest OS: Debian 9</li>\n<li>I'm using VirtualBox, and the guest is mounting the host's files using VirtualBox's \"shared folders\" feature - so it doesn't have a separate copy of the project files - my project is accessed through shared folders at all times.</li>\n<li>I do NOT have Typescript installed globally (npm -g) on either the host or guest OS (to confirm this, running <code>npm -g ls typescript</code> on both host+guest shows \"empty\", and running \"tsc\" alone does not work, as expected).</li>\n</ul>\n\n<p>I have a project with TypeScript 3.3.3333 installed into the project with NPM.</p>\n\n<p><strong>On the Windows host OS, when I <code>cd</code> to the project folder and run:</strong></p>\n\n<ul>\n<li><code>npm ls typescript</code> I see output: <code>typescript@3.3.3333</code> (as expected)</li>\n<li><code>npx tsc --version</code> I see output: <code>Version 3.3.3333</code> (as expected)</li>\n</ul>\n\n<p><strong>Inside the Linux guest OS, when I <code>cd</code> to the project folder and run:</strong></p>\n\n<ul>\n<li><code>npm ls typescript</code> I see output: <code>typescript@3.3.3333</code> (as expected)</li>\n<li><code>npx tsc --version</code> I see output: <code>message TS6029: Version 1.5.3</code> (<strong>unexpected!</strong>)</li>\n</ul>\n\n<p>So I'm unable to run <code>npx tsc</code> to compile my code inside the guest, as it doesn't support some of my newer tsconfig settings.</p>\n\n<p>Where could this tsc 1.5.3 version be coming from, and how do I get rid of it?  </p>\n\n<p>Or is there some alternative NPM command I can run on the host that will install a usable <code>tsc</code> into the project that works for both Windows+Linux?</p>\n\n<p>Also, none of the parent folders <strong><em>above</em></strong> my project's root have a <code>node_modules</code> folder (but of course my project's root does have its node_modules sub-folder).</p>\n"}, {"tags": ["javascript", "typescript", "dictionary"], "comments": [{"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 1, "creation_date": 1552469571, "post_id": 55138033, "comment_id": 97017279, "body": "You are stating a requirement. Please also try to add what you tried and on what front you are facing the issue with the data transformation."}], "answers": [{"comments": [{"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 1, "creation_date": 1552468772, "post_id": 55138099, "comment_id": 97016780, "body": "You can shorten the body with an implicit return ({ ...acc, [dataText]: rest })"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "reply_to_user": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 1, "creation_date": 1552469084, "post_id": 55138099, "comment_id": 97016981, "body": "@jo_va you&#39;re right. I&#39;ve added that to the answer."}], "tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": true, "score": 1, "last_activity_date": 1552469380, "last_edit_date": 1552469380, "creation_date": 1552468479, "answer_id": 55138099, "question_id": 55138033, "link": "https://stackoverflow.com/questions/55138033/typescript-map-object-to-other-structure/55138099#55138099", "title": "Typescript map Object to other structure", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values\" rel=\"nofollow noreferrer\"><code>Object.values()</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a>. Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Rest_in_Object_Destructuring\" rel=\"nofollow noreferrer\">destructuring</a> to get <code>dataText</code> as a separate variable and the remaining properties to a <code>rest</code> variable like this: <code>{ dataText, ...rest }</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = {\r\n  Laughing: {\r\n    iconClass: 'emoticon-3',\r\n    name: 'Laughing :D',\r\n    dataText: ':D',\r\n  },\r\n  Surprise: {\r\n    iconClass: 'emoticon-4',\r\n    name: \"Surprise, No you di'int' :O\",\r\n    dataText: ':O',\r\n  }\r\n}\r\n\r\nconst newObj = Object.values(obj).reduce((acc, { dataText, ...rest }) =&gt; {\r\n  acc[dataText] = rest;\r\n  return acc\r\n}, {})\r\n\r\nconsole.log(newObj)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As @jo_va suggested, you could also implicitly return from the <code>reduce</code>:</p>\n\n<pre><code>Object.values(obj).reduce((acc, { dataText, ...rest }) =&gt; ({ ...acc, [dataText]: rest }), {})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "is_accepted": false, "score": 1, "last_activity_date": 1552469813, "creation_date": 1552469813, "answer_id": 55138524, "question_id": 55138033, "link": "https://stackoverflow.com/questions/55138033/typescript-map-object-to-other-structure/55138524#55138524", "title": "Typescript map Object to other structure", "body": "<p>You can use <code>array#map</code> to create array of object and then using <code>Object.assign()</code> create a single object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = { Laughing: { iconClass: 'emoticon-3', name: 'Laughing :D', dataText: ':D', }, Surprise: { iconClass: 'emoticon-4', name: \"Surprise, No you di'int' :O\", dataText: ':O', } },\r\n    result = Object.assign(...Object.values(obj).map(({dataText, ...o}) =&gt; ({[dataText] : o})));\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "accepted_answer_id": 55138099, "answer_count": 2, "score": 0, "last_activity_date": 1552469813, "creation_date": 1552468253, "last_edit_date": 1552469193, "question_id": 55138033, "link": "https://stackoverflow.com/questions/55138033/typescript-map-object-to-other-structure", "title": "Typescript map Object to other structure", "body": "<p>I have an object with concrete structure. I want to create another one, with other structure...Something like .map()</p>\n\n<pre><code>const Object: Icon = {\n  Laughing: {\n    iconClass: 'emoticon-3',\n    name: 'Laughing :D',\n    dataText: ':D',\n  },\n  Surprise: {\n    iconClass: 'emoticon-4',\n    name: \"Surprise, No you di'int' :O\",\n    dataText: ':O',\n  }\n  .......\n}\n</code></pre>\n\n<p>and I want to map it to other object structure:</p>\n\n<pre><code>const Object2: Type2 = {\n  :D: {\n    iconClass: 'emoticon-3',\n    name: 'Laughing :D',\n  },\n  :O: {\n    iconClass: 'emoticon-4',\n    name: \"Surprise, No you di'int' :O\",\n  }\n  .......\n}\n</code></pre>\n"}, {"tags": ["typescript", "types", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 359, "user_id": 764167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dBhsz.gif?s=128&g=1", "display_name": "MaxAxeHax", "link": "https://stackoverflow.com/users/764167/maxaxehax"}, "edited": false, "score": 0, "creation_date": 1552471111, "post_id": 55138263, "comment_id": 97018328, "body": "Thanks for your explanation, it cleared some things up for me. I think I got confused with the case of creating a typed object literal, where the compiler (of course) disallows for the object to add properties which are not part of the declared type."}], "tags": [], "owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "is_accepted": false, "score": 3, "last_activity_date": 1552469004, "creation_date": 1552469004, "answer_id": 55138263, "question_id": 55137866, "link": "https://stackoverflow.com/questions/55137866/why-is-this-extra-property-allowed-on-my-typescript-object/55138263#55138263", "title": "Why is this extra property allowed on my Typescript object?", "body": "<p>If you imagine that <code>fields</code> is an interface like so:</p>\n\n<pre><code>interface Fields {\n    Model: string;\n    Size: number;\n}\n</code></pre>\n\n<p>(It's done anonymously, but it does match this interface because of your <code>[key in Vehicle.Fields]: any</code>)</p>\n\n<p>Then this fails, because it <strong>doesn't</strong> match that interface - it doesn't have a <code>Model</code> or a <code>Size</code> property:</p>\n\n<pre><code>fields: {\n    extra: string\n}\n</code></pre>\n\n<p>However, this passes:</p>\n\n<pre><code>fields: {\n    Model: string;\n    Size: number;\n    extra: string\n}\n</code></pre>\n\n<p>Because the anonymous interface there is an <strong>extension</strong> of your <code>Fields</code> interface. It would look something like this:</p>\n\n<pre><code>interface ExtendedFields extends Fields {\n    extra: string;\n}\n</code></pre>\n\n<p>This is all done anonymously through the TypeScript compiler, but you can add properties to an interface and still have it match the interface, just like an extended class is still an instance of the base class</p>\n"}, {"comments": [{"owner": {"reputation": 359, "user_id": 764167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dBhsz.gif?s=128&g=1", "display_name": "MaxAxeHax", "link": "https://stackoverflow.com/users/764167/maxaxehax"}, "edited": false, "score": 0, "creation_date": 1552471068, "post_id": 55138283, "comment_id": 97018303, "body": "Pretty cool solution IMO. It&#39;s a bit hacky and not that easily understandable for non-type-system nerds :D May I ask where I could learn more about conditonal type checking for example? I think I didn&#39;t see any of that in the TS Handbook."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 359, "user_id": 764167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dBhsz.gif?s=128&g=1", "display_name": "MaxAxeHax", "link": "https://stackoverflow.com/users/764167/maxaxehax"}, "edited": false, "score": 1, "creation_date": 1552471241, "post_id": 55138283, "comment_id": 97018413, "body": "@MaxAxeHax Um .. don&#39;t know for sure. I read the PRs and follow the GitHub project religiously. Also I like to experiment a lot and answering questions here helps me build up my knowledge. There are the official docs but those are pretty narrow in their explanations more of a brief description  of the language feature they do not go into what interesting things you can do with it."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 9, "last_activity_date": 1552471007, "last_edit_date": 1552471007, "creation_date": 1552469079, "answer_id": 55138283, "question_id": 55137866, "link": "https://stackoverflow.com/questions/55137866/why-is-this-extra-property-allowed-on-my-typescript-object/55138283#55138283", "title": "Why is this extra property allowed on my Typescript object?", "body": "<p>This is the expected behavior. The base interface only specifies what the minimum requirements for <code>field</code> are, there is not requirement in typescript for an exact match between the implementing class field and the interface field.  The reason you get an error on <code>Vehicle2</code> is not the presence of <code>extra</code> but rather that the other fields are missing. (The bottom error is <code>Property 'S_MODEL' is missing in type '{ extra: string; }'.</code>)</p>\n\n<p>You can do some type trickery to get an error if those extra properties are present using conditional types:</p>\n\n<pre><code>interface DataObject&lt;T extends string, TImplementation extends { fields: any }&gt; {\n    fields: Exclude&lt;keyof TImplementation[\"fields\"], T&gt; extends never ? {\n        [key in T]: any   // Restrict property keys to finite set of strings\n    }: \"Extra fields detected in fields implementation:\" &amp; Exclude&lt;keyof TImplementation[\"fields\"], T&gt;\n}\n\n// Enumerate type's DB field names, shall be used as constants everywhere\n// Advantage: Bad DB names because of legacy project can thus be hidden in our app :))\nnamespace Vehicle {\n    export enum Fields {\n        Model = \"S_MODEL\",\n        Size = \"SIZE2\"\n    }\n}\n\n// Type '{ extra: string; [Vehicle.Fields.Model]: string; [Vehicle.Fields.Size]: number; }' is not assignable to type '\"Extra fields detected in fields implementation:\" &amp; \"extra\"'.\ninterface Vehicle3 extends DataObject&lt;Vehicle.Fields, Vehicle3&gt; {\n    fields: {\n        [Vehicle.Fields.Model]: string,\n        [Vehicle.Fields.Size]: number,\n        extra: string // \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 764167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dBhsz.gif?s=128&g=1", "display_name": "MaxAxeHax", "link": "https://stackoverflow.com/users/764167/maxaxehax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4391, "favorite_count": 0, "accepted_answer_id": 55138283, "answer_count": 2, "score": 9, "last_activity_date": 1552471007, "creation_date": 1552467695, "last_edit_date": 1552468146, "question_id": 55137866, "link": "https://stackoverflow.com/questions/55137866/why-is-this-extra-property-allowed-on-my-typescript-object", "title": "Why is this extra property allowed on my Typescript object?", "body": "<p>We've recently started using typescript for our web platform projects.</p>\n\n<p>One of the great advantages was supposed to be the powerful typing system, which allows compile-time checks of all kinds of correctness (assuming we put in the effort to model and declare our types properly).</p>\n\n<p>Currently, I seem to have found the limits of what the type system is able to achieve, but it seems inconsistent and I may also just be using wrong syntax.</p>\n\n<p>I'm trying to model the types of objects our app will be receiving from the backend, and to use the type system to have the compiler checks everywhere in the app for:</p>\n\n<ol>\n<li>structure, i.e. only existing (enumerated) properties are allowed by the TS compiler on objects of a type</li>\n<li>property typechecks, i.e. the type of every property is known to the TS compiler</li>\n</ol>\n\n<p>Here is a minimized version of my approach (or take a <a href=\"https://typescript-play.js.org/#code/JYOwLgpgTgZghgYwgAgCJzHA8gIwFYQJgA8AKshAB6QgAmAzsvWFKAOYB8yA3gFDIDkMYBAA2DAFw9+g2QG0A1hACeyUMlIBdKXBCqBAegPIAShGasiyAA5QA9tehhVS5YzB2hoYJCYQwyHYwTCzs9DICAL680bxGyACiIACuALbQGCjOjgDkjKgAQl5itMggcOn0ADRMABZwoqLIOCjJ9BClcIwIdiDMumCMEABu0MoA7rXQEHHGAIK0wwNwbBBSBXClhWUV5s2EcG0oQciiEGyIqrZ2BFYIushgtW37yLXAtLQQIGo-dslQZBwazWZASACU4N45Uq1kQKAAahB3ggztJZFRrHYoAFvmlkAAxETiRh8WSyACydi+TQAvMgAEQAZQA+hSsKgEgAZBlVCLkpnAABeKHpzIAkgAtBIAJgZ-OisXiAGEsCYTAlleQEuq1VIAAr2Rw41QS6VytSMVLAej0di8UCQWDw5BIlFoqg0BhoDDYfCEEhu4CoiAAOiJJXoXDJgmEkakMfJyDkQZD4eJDFDVJp2hCrBAbD5skVvFmyFV6s12t1JgNRqcps9UDgDMtZTsAS6drY5RwZwd4Gg8CQruRwbOMoo1G+3vQmFwt0DY7TEZJ0f5cZJCf5GOozakFntxZipfiADksIka3WHA2pyw4G2QHZxkCEEhrJBaABCAdO4eIsuZwAMz3jO+S+guAbEKmZzppG66yJukjokmyawWGq6ZtmYi5oeBZFmhKZAZhGb0KGgoirmKSpC0UCEUmTZwAeoQFsg8RMrU-ziK8tA2g0ogvh0ADc7YBOoGHwSSFA0b+x6xEAA\" rel=\"noreferrer\">direct link to TS playground</a> )</p>\n\n<pre><code>interface DataObject&lt;T extends string&gt; {\n    fields: {\n        [key in T]: any   // Restrict property keys to finite set of strings\n    }\n}\n\n// Enumerate type's DB field names, shall be used as constants everywhere\n// Advantage: Bad DB names because of legacy project can thus be hidden in our app :))\nnamespace Vehicle {\n    export enum Fields {\n        Model = \"S_MODEL\",\n        Size = \"SIZE2\"\n    }\n}\n\n// CORRECT ERROR: Property \"SIZE2\" is missing\ninterface Vehicle extends DataObject&lt;Vehicle.Fields&gt; {\n    fields: {\n        [Vehicle.Fields.Model]: string,\n    }\n}\n\n// CORRECT ERROR: Property \"extra\" is not assignable\ninterface Vehicle2 extends DataObject&lt;Vehicle.Fields&gt; {\n    fields: {\n        extra: string\n    }\n}\n\n// NO ERROR: Property extra is now accepted!\ninterface Vehicle3 extends DataObject&lt;Vehicle.Fields&gt; {\n    fields: {\n        [Vehicle.Fields.Model]: string,\n        [Vehicle.Fields.Size]: number,\n        extra: string  // Should be disallowed!\n    }\n}\n\n</code></pre>\n\n<p><strong><em>Why is the third interface declaration not throwing an error, when the compiler seems perfectly able to disallow the invalid property name in the second case?</em></strong></p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular7"], "comments": [{"owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1552467964, "post_id": 55137836, "comment_id": 97016271, "body": "What version of rxjs are you using?"}, {"owner": {"reputation": 69, "user_id": 7006772, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c90cf294d75c758c35e70558bfad203?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/7006772/dan"}, "reply_to_user": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1552468297, "post_id": 55137836, "comment_id": 97016468, "body": "Thanks for the response the bellow answer solved the issue , it rxjs 6.3.3"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 10, "last_activity_date": 1552467948, "last_edit_date": 1552467948, "creation_date": 1552467680, "answer_id": 55137861, "question_id": 55137836, "link": "https://stackoverflow.com/questions/55137836/angular-7-property-share-does-not-exists-in-type-observable/55137861#55137861", "title": "Angular 7 Property &#39;share&#39; does not exists in type observable", "body": "<p>Wrong import and wrong usage : </p>\n\n<pre><code>import { share } from 'rxjs/operators';\nimport { Observable } from \"rxjs\";\n\nexport abstract class CachcingServiceBase {\n  protected cache&lt;T&gt;(getter: () =&gt; Observable&lt;T&gt;,\n                     setter: (val: Observable&lt;T&gt;) =&gt; void,\n                     retreive: () =&gt; Observable&lt;T&gt;): Observable&lt;T&gt; {\n    const cached = getter();\n    if (cached !== undefined) {\n      return cached;\n    } else {\n      const val = retreive().pipe(share());\n      setter(val);\n      return val;\n    }\n  }\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 69, "user_id": 7006772, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c90cf294d75c758c35e70558bfad203?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/7006772/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3144, "favorite_count": 0, "accepted_answer_id": 55137861, "answer_count": 1, "score": 3, "last_activity_date": 1552467948, "creation_date": 1552467566, "question_id": 55137836, "link": "https://stackoverflow.com/questions/55137836/angular-7-property-share-does-not-exists-in-type-observable", "title": "Angular 7 Property &#39;share&#39; does not exists in type observable", "body": "<p>I was writing CachcingServiceBase in Angular 7 but the following error seems to be hit \"the observable share is not a function\"</p>\n\n<pre><code>import \"rxjs/add/operator/share\";\nimport { Observable } from \"rxjs\";\n\nexport abstract class CachcingServiceBase {\n  protected cache&lt;T&gt;(getter: () =&gt; Observable&lt;T&gt;,\n                     setter: (val: Observable&lt;T&gt;) =&gt; void,\n                     retreive: () =&gt; Observable&lt;T&gt;): Observable&lt;T&gt; {\n    const cached = getter();\n    if (cached !== undefined) {\n      return cached;\n    } else {\n      const val = retreive().share();\n      setter(val);\n      return val;\n    }\n  }\n}\n</code></pre>\n\n<p>am i importing the share operator wrong? how can i solve this ? . I tried to import in other ways too but could not solve the issue </p>\n"}, {"tags": ["typescript", "electron", "spectron"], "answers": [{"comments": [{"owner": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1552485942, "post_id": 55142211, "comment_id": 97027959, "body": "still the same please see the attached image"}, {"owner": {"reputation": 935, "user_id": 4713346, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e8e1bc1af1770a3edf77279b38772391?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto M&#233;ndez", "link": "https://stackoverflow.com/users/4713346/alberto-m%c3%a9ndez"}, "reply_to_user": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1552486599, "post_id": 55142211, "comment_id": 97028476, "body": "@test11 Have you tried to modify your <code>package.json</code> &quot;main2&quot; script to <code>&quot;electron .&#47;main2.js&quot;,</code> and then run it with <code>npm run main2</code>??"}, {"owner": {"reputation": 4240, "user_id": 2550156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdYzH.png?s=128&g=1", "display_name": "pergy", "link": "https://stackoverflow.com/users/2550156/pergy"}, "reply_to_user": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1552487006, "post_id": 55142211, "comment_id": 97028769, "body": "@test11 what I see from the image is that <code>main2</code> is loaded successfully. (that log is right). Why your <code>index2.html</code> is not loaded is an other issue."}, {"owner": {"reputation": 4240, "user_id": 2550156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdYzH.png?s=128&g=1", "display_name": "pergy", "link": "https://stackoverflow.com/users/2550156/pergy"}, "edited": false, "score": 0, "creation_date": 1552487523, "post_id": 55142211, "comment_id": 97029210, "body": "&quot;filePath should be a path to an HTML file relative to the root of your application&quot; from <a href=\"https://electronjs.org/docs/api/web-contents#contentsloadfilefilepath-options\" rel=\"nofollow noreferrer\">docs</a>. Is it true in your case?"}], "tags": [], "owner": {"reputation": 4240, "user_id": 2550156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdYzH.png?s=128&g=1", "display_name": "pergy", "link": "https://stackoverflow.com/users/2550156/pergy"}, "is_accepted": false, "score": 1, "last_activity_date": 1552481002, "creation_date": 1552481002, "answer_id": 55142211, "question_id": 55137797, "link": "https://stackoverflow.com/questions/55137797/running-electron-app-with-custom-main-js-file-electron-rather-starts-the-defaul/55142211#55142211", "title": "running electron app with custom main.js file. Electron rather starts the default main.js file", "body": "<p>Your <code>main2</code> script should be <code>electron ./main2</code> to do what you want.</p>\n\n<p><code>npm run start main2</code> won't start <code>main2</code>, because it runs <code>start</code> (<code>electron .</code>) script, which loads the default module electron finds. The default module is what you defined in <code>main</code> field</p>\n"}], "owner": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552485967, "creation_date": 1552467436, "last_edit_date": 1552485967, "question_id": 55137797, "link": "https://stackoverflow.com/questions/55137797/running-electron-app-with-custom-main-js-file-electron-rather-starts-the-defaul", "title": "running electron app with custom main.js file. Electron rather starts the default main.js file", "body": "<p>I have electron app with main.js which contains</p>\n\n<pre><code>const electron = require('electron')\nconst { app, BrowserWindow } = require('electron')\n\nfunction createWindow(){\n    let win = new BrowserWindow({width: 800, height: 600})\n    console.log(\"loading file index1\");\n    win.loadFile('index1.html')\n}\napp.on('ready',createWindow);\n</code></pre>\n\n<p>and main2.js</p>\n\n<pre><code>const electron = require('electron')\nconst { app, BrowserWindow } = require('electron')\n\nfunction createWindow(){\n    let win = new BrowserWindow({width: 400, height: 400})\n    console.log(\"loading file index2\");\n\n    win.loadFile('index2.html');\n}\napp.on('ready',createWindow);\n</code></pre>\n\n<p>both main.js are almost identical and they should show different pages. I want to start the app default with main.js and provide an option to start the app with main2.js . in my package.json I have introduced</p>\n\n<pre><code>{\n  \"name\": \"mytestapp\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"main.js\",\n  \"scripts\": {\n    \"start\": \"electron .\",\n    \"test:e2e\": \"./node_modules/mocha/bin/mocha tests/test.js\",\n    \"main2\": \"npm run start ./main2.js\",\n    \"debug\": \"./node_modules/.bin/electron ./main2.js\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"electron\": \"^4.0.8\",\n    \"mocha\": \"^3.5.3\",\n    \"spectron\": \"^5.0.0\"\n  },\n  \"dependencies\": {\n    \"start\": \"^5.1.0\"\n  }\n}\n</code></pre>\n\n<p>now when I start the app with <code>npm run main2</code> i still get the page index1 and the app dose not log anything\n<a href=\"https://i.stack.imgur.com/Qe0oR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qe0oR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "generics", "types"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1552469219, "last_edit_date": 1552469219, "creation_date": 1552468156, "answer_id": 55138013, "question_id": 55137735, "link": "https://stackoverflow.com/questions/55137735/typescript-type-is-not-assignable-to-type-pickt-k-how-do-i-type-java/55138013#55138013", "title": "Typescript: Type &#39;{}&#39; is not assignable to type &#39;Pick&lt;T, K&gt;&#39;, how do I type javascript `pick` function correctly?", "body": "<p>The first problem is that <code>{}</code> should not be assignable to <code>Pick&lt;T, K&gt;</code> since <code>Pick&lt;T, K&gt;</code> will probably have required properties. There are some instances where a type assertion is the only way to get things to work and this is one of those. Typescript does not know that you plan to assign those properties a bit later, you have that information and provide it to the compiler in the form of the type assertion, basically saying, relax, I know this isn't really <code>Pick&lt;T, K&gt;</code> but I will make it into that shortly.</p>\n\n<p>The second part of you issue is not so much a functional one <code>Pick&lt;{ name: string; age: number; isMember: boolean;, \"name\" | \"isMember\"&gt;</code> is structurally equivalent to <code>{ name: string; isMember: boolean; }</code>. Sometimes the language service expands these types, sometimes it does not. This is a recent <a href=\"https://github.com/Microsoft/TypeScript/issues/30312\" rel=\"nofollow noreferrer\">issue</a> describing this exact behavior.</p>\n\n<p>You can force an expansion of the type with a more complicated type (an identity mapped type in an intersection with <code>{}</code>):</p>\n\n<pre><code>type Id&lt;T extends object&gt; = {} &amp; { [P in keyof T]: T[P] }\nfunction pick&lt;T, K extends keyof T&gt;(obj: T, properties: K[]): Id&lt;Pick&lt;T, K&gt;&gt; {\n  let result: Pick&lt;T, K&gt; = {} as Pick&lt;T, K&gt; ; // Typescript now satisfy with this.\n\n  properties.forEach(property =&gt; {\n    result[property] = obj[property];\n  });\n\n  return result;\n}\n\nconst data = { name: 'Jason', age: 18, isMember: true };\nconst pickedData = pick(data, ['name', 'isMember']);\n\nconsole.log(pickedData)\n</code></pre>\n\n<p>Just as a warning, there are no guarantees <code>Id</code> will always be expanded, all I can say is that in the current version <code>Id</code> seems to always force the expansion of the mapped type.</p>\n"}], "owner": {"reputation": 1877, "user_id": 11169941, "user_type": "registered", "profile_image": "https://graph.facebook.com/2341214042556921/picture?type=large", "display_name": "Joseph Wang", "link": "https://stackoverflow.com/users/11169941/joseph-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1161, "favorite_count": 0, "accepted_answer_id": 55138013, "answer_count": 1, "score": 2, "last_activity_date": 1558242099, "creation_date": 1552467240, "last_edit_date": 1558242099, "question_id": 55137735, "link": "https://stackoverflow.com/questions/55137735/typescript-type-is-not-assignable-to-type-pickt-k-how-do-i-type-java", "title": "Typescript: Type &#39;{}&#39; is not assignable to type &#39;Pick&lt;T, K&gt;&#39;, how do I type javascript `pick` function correctly?", "body": "<p>I want to type a function called <code>pick</code>, I know typescript has built-in <code>Pick&lt;T, K&gt;</code>, now I want to implement the actual source code usage part, but I'm stuck.</p>\n\n<p>What this function do is to <code>pick</code> provided <code>object</code>'s property based on given strings and return <code>new object</code>.</p>\n\n<p>The usage is this:</p>\n\n<pre><code>const data = { name: 'Jason', age: 18, isMember: true };\nconst pickedData = pick(data, ['name', 'isMember']);\n\nconsole.log(pickedData)\n// =&gt; { name: 'Jason', isMember: true } \n</code></pre>\n\n<p>My <code>pick</code> function's javascript implementation <code>without typescript</code> is this:</p>\n\n<pre><code>function pick(obj, properties) {\n  let result = {}\n\n  properties.forEach(property =&gt; {\n    result[property] = obj[property];\n  });\n\n  return result;\n}\n</code></pre>\n\n<p>Here is the <code>typescript</code> version, but it's not compiling:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function pick&lt;T, K extends keyof T&gt;(obj: T, properties: K[]): Pick&lt;T, K&gt; {\n  let result: Pick&lt;T, K&gt; = {}; // Typescript yells: Type '{}' is not assignable to type 'Pick&lt;T, K&gt;'.\n\n  properties.forEach(property =&gt; {\n    result[property] = obj[property];\n  });\n\n  return result;\n}\n</code></pre>\n\n<p>My VSCode screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ah3Sy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ah3Sy.png\" alt=\"enter image description here\"></a></p>\n\n<p>But, there is one solution, I don't know if this is a <code>good</code> solution, that is to add <code>as Pick&lt;T, K&gt;</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function pick&lt;T, K extends keyof T&gt;(obj: T, properties: K[]): Pick&lt;T, K&gt; {\n  let result: Pick&lt;T, K&gt; = {} as Pick&lt;T, K&gt; ; // Typescript now satisfy with this.\n\n  properties.forEach(property =&gt; {\n    result[property] = obj[property];\n  });\n\n  return result;\n}\n\n</code></pre>\n\n<p>However, when using this <code>pick</code> function, <code>typescript</code> doesn't show the picked object property, instead, it shows unnecessary information:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IqeaV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IqeaV.png\" alt=\"enter image description here\"></a></p>\n\n<p>It shows me this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// typescript shows me, not what I want.\nconst pickedData: Pick&lt;{\n    name: string;\n    age: number;\n    isMember: boolean;\n}, \"name\" | \"isMember\"&gt;\n</code></pre>\n\n<p>Is there any way that <code>typescript</code> can show me this?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// This is what I want typescript to show me.\nconst pickedData: {\n  name: string;\n  isMember: boolean;\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "is_accepted": false, "score": 1, "last_activity_date": 1552467373, "creation_date": 1552467373, "answer_id": 55137776, "question_id": 55137654, "link": "https://stackoverflow.com/questions/55137654/typescript-override-super-interface-property-doesnt-work/55137776#55137776", "title": "Typescript override super interface property doesn&#39;t work", "body": "<p>You can't do this with interfaces.</p>\n\n<p>Well, if you have access to the <code>Person</code> interface, you can do <em>sort of</em> this. Just split it in two parts:</p>\n\n<pre><code>interface PersonBase {\n  name: string;\n  id: number;\n}\n\ninterface Person extends PersonBase {\n  prop: number;\n}\n\ninterface Person2 extends PersonBase {\n  prop: string;\n}\n</code></pre>\n\n<p>If you can't change the original interface and don't need this Here's the trick to replace existing key in existing type:</p>\n\n<pre><code>type Person2 = Pick&lt;Person, Exclude&lt;keyof Person, 'prop'&gt;&gt; &amp; {prop: string};\n</code></pre>\n\n<p>Or, if the mapped types look more clear to you:</p>\n\n<pre><code>type Person2 = {\n  [K in Exclude&lt;keyof Person, 'prop'&gt;]: Person[K]\n} &amp; {\n  prop: string;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1552467622, "creation_date": 1552467622, "answer_id": 55137849, "question_id": 55137654, "link": "https://stackoverflow.com/questions/55137654/typescript-override-super-interface-property-doesnt-work/55137849#55137849", "title": "Typescript override super interface property doesn&#39;t work", "body": "<p>You can omit colliding props from the base(super) interface before extending it:</p>\n\n<pre><code>interface Person {\n    name: string;\n    id: number;\n    prop: number;\n}\n\ntype Omit&lt;T, TKey extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, TKey&gt;&gt;;\n\ninterface Person2 extends Omit&lt;Person, 'prop'&gt; {\n    prop: string;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "is_accepted": true, "score": 2, "last_activity_date": 1552467903, "creation_date": 1552467903, "answer_id": 55137943, "question_id": 55137654, "link": "https://stackoverflow.com/questions/55137654/typescript-override-super-interface-property-doesnt-work/55137943#55137943", "title": "Typescript override super interface property doesn&#39;t work", "body": "<p>Since consumers depend on the property being polymorphic, you can't change the type in derived interfaces. There are other options you might want to consider.</p>\n\n<p>You <em>can</em> narrow the type down in a derived interface:</p>\n\n<pre><code>interface Person {\n  name: string;\n  id: number;\n  prop: number | string;\n}\n\ninterface Person2 extends Person {\n  prop: string;\n}\n\ninterface Person3 extends Person {\n  prop: number;\n}\n</code></pre>\n\n<p>You can then use type guards to check for the actual type of <code>prop</code>:</p>\n\n<pre><code>function isPerson2(value: Person): value is Person2 {\n    return typeof value.prop === \"string\";\n}\n\nfunction isPerson3(value: Person): value is Person3 {\n    return typeof value.prop === \"number\";\n}\n\nfunction doSomething(value: Person) {\n    if (isPerson2(value)) {\n        //value is of type Person2 in here\n    }\n}\n</code></pre>\n\n<p>Another option would be to make <code>Person</code> generic:</p>\n\n<pre><code>interface Person&lt;T&gt; {\n  name: string;\n  id: number;\n  prop: T;\n}\n</code></pre>\n\n<p>That will give you the option to apply <code>string</code> or <code>number</code> as a type parameter.</p>\n\n<p>You can also use type guards with this solution:</p>\n\n<pre><code>function isPersonWithString(value: Person&lt;string | number&gt;): value is Person&lt;string&gt; {\n    return typeof value.prop === \"string\";\n}\n\nfunction isPersonWithNumber(value: Person&lt;string | number&gt;): value is Person&lt;number&gt; {\n    return typeof value.prop === \"number\";\n}\n</code></pre>\n"}], "owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55137943, "answer_count": 3, "score": 0, "last_activity_date": 1552467903, "creation_date": 1552466928, "last_edit_date": 1552466965, "question_id": 55137654, "link": "https://stackoverflow.com/questions/55137654/typescript-override-super-interface-property-doesnt-work", "title": "Typescript override super interface property doesn&#39;t work", "body": "<p>I have the following interface:</p>\n\n<pre><code>interface Person {\n  name: string;\n  id: number;\n  prop: number;\n}\n</code></pre>\n\n<p>I want to create another interlace that extends it:</p>\n\n<pre><code>interface Person2 extends Person {\n  prop: string;\n}\n</code></pre>\n\n<p>But, I want to override the <code>prop</code> type. How can I do it?</p>\n"}, {"tags": ["javascript", "angular", "typescript", ".net-core", "signalr"], "answers": [{"tags": [], "owner": {"reputation": 345, "user_id": 1653383, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Iaf5S.jpg?s=128&g=1", "display_name": "David Blay", "link": "https://stackoverflow.com/users/1653383/david-blay"}, "is_accepted": false, "score": 0, "last_activity_date": 1575029243, "creation_date": 1575029243, "answer_id": 59104482, "question_id": 55137624, "link": "https://stackoverflow.com/questions/55137624/signalr-invoke-only-after-successful-connection/59104482#59104482", "title": "SignalR Invoke only after successful connection", "body": "<p>Below is a sample code that allows you to call <code>invoke</code> at any time.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Injectable} from \"@angular/core\";\nimport {HubConnection, HubConnectionBuilder} from '@microsoft/signalr';\nimport {from, Observable, Subject} from \"rxjs\";\nimport {mergeMap} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport default class SignalrService {\n\n  private _hubConnection: HubConnection;\n  private readonly startedConnection:Promise&lt;any&gt;;\n\n  constructor() {\n    this._hubConnection = new HubConnectionBuilder()\n      .withUrl(`${window.location.href}chatHub`)\n      .build();\n\n    this.startedConnection = this.startConnection();\n  }\n\n  on(method: string): Observable&lt;any&gt; {\n\n    const subject = new Subject&lt;any&gt;();\n\n    this._hubConnection.on(method, data =&gt; {\n      return subject.next(data);\n    });\n\n    return subject.asObservable();\n  }\n\n\n   invoke(method: string, ...data: any): Observable&lt;any&gt; {\n\n     return from(this.startedConnection)\n       .pipe(\n         mergeMap(_ =&gt; {\n           return this._hubConnection.invoke(method, ...data)\n         })\n       )\n\n  }\n\n  private startConnection() {\n    return this._hubConnection\n      .start()\n      .then(() =&gt; {\n        console.log('Hub connection started');\n        return 'connected'\n      })\n      .catch(err =&gt; {\n        console.log('Error while establishing connection, retrying...');\n        setTimeout(this.startConnection, 5000)\n      });\n  }\n\n}\n</code></pre>\n\n<p>Inject it into you component and use it as below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class HomeComponent implements  OnDestroy{\n\n  private  subscriptions = new Subscription();\n\n  constructor(private signalr: SignalrService) {}\n\n  users$ = this.signalr.on(\"ReceiveUsers\");\n  messages$ = this.signalr.on(\"ReceiveMessages\");\n\n\n  ngOnInit(): void {\n    const sendUsersSub = this.signalr.invoke(\"SendUsers\").subscribe();\n    this.subscriptions.add(sendUsersSub);\n\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11124999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f81d7333e7b0add5ce3bcf45837c41?s=128&d=identicon&r=PG&f=1", "display_name": "TJay", "link": "https://stackoverflow.com/users/11124999/tjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1575029243, "creation_date": 1552466812, "last_edit_date": 1552468049, "question_id": 55137624, "link": "https://stackoverflow.com/questions/55137624/signalr-invoke-only-after-successful-connection", "title": "SignalR Invoke only after successful connection", "body": "<p>I'm working on an angular spa. I'm kinda new to angular, typescript and web development in general, so bear with me.</p>\n\n<p>The webpage contains a list of \"jobs\". The user can open the details to a job, adjust parameters and tell the server to execute this job. When a user opens the job, lets call it job-detail-component, SignalR is used to send updates on the details of this job. This happens via an invoke command in ngOnInit in the job-detail-component.</p>\n\n<p><strong>app-component:</strong></p>\n\n<pre><code>ngOnInit() {\n  this.SignalRService.startConnection();\n}\n</code></pre>\n\n<p><strong>job-detail-component:</strong></p>\n\n<pre><code>job: IJob;\n\nngOnInit() {    \n    var jobId = this.route.snapshot.paramMap.get('jobId');\n    this.SignalRService.hubConnection.on('jobstate', (data: any) =&gt; {\n      console.log(\"received job state\");\n      this.job = data;\n    });\n    this.SignalRService.subscribeJob(jobId);\n</code></pre>\n\n<p><strong>SignalR-service</strong></p>\n\n<pre><code>public async startConnection() {\n  this.hubConnection.start()\n    .then(() =&gt; {\n       console.log(\"Connected to server\");\n      })\n    .catch(err =&gt; {\n       console.log('Error while starting connection: ');\n       console.log(err);\n    }\n  )\n}\n\npublic subscribeJob(jobId: string) {\n  console.log(\"subscribing to job\");\n  this.hubConnection.invoke(\"SubJobState\", jobId);\n}\n</code></pre>\n\n<p>Now the part above works great until someone enters the job directly via a direct link to the job, say <code>http://localhost:5000/job-detail/1</code>. Now they have entered the detail page for job number 1, <code>hubconnection.start()</code> is executed by <code>app.component.ts</code>, <code>hubconnection.invoke()</code> is executed from job detail component, and the following error is thrown:</p>\n\n<pre><code>Error: Uncaught (in promise): Error: Cannot send data if the \nconnection is not in the 'Connected' State.\n</code></pre>\n\n<p>This must happen due to <code>SignalRService.startConnection()</code> is currently working on connecting to the hub, and invoke is called before the connection is created.</p>\n\n<p>I solved the issue with what I mean is probably a non-ideal solution:</p>\n\n<pre><code>public subscribeJob(jobId: string) {\n  if (this.hubConnection.state === 1) {\n    console.log(\"subscribing to job\");\n    this.hubConnection.invoke(\"SubJobState\", jobId);\n  }\n  else {\n    setTimeout(() =&gt; {\n      this.subscribeJob(jobId);\n    }, 500);\n  }\n}\n</code></pre>\n\n<p>Is there a better way to solve it than this method?</p>\n"}, {"tags": ["typescript", "debugging", "visual-studio-2017"], "comments": [{"owner": {"reputation": 2780, "user_id": 4892206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sagqm.jpg?s=128&g=1", "display_name": "Michael Czechowski", "link": "https://stackoverflow.com/users/4892206/michael-czechowski"}, "edited": false, "score": 0, "creation_date": 1552466631, "post_id": 55137486, "comment_id": 97015505, "body": "Welcome, your question is very hard to understand, maybe you should first visit the Stack Overflow Tour: <a href=\"https://stackoverflow.com/tour\">stackoverflow.com/tour</a> Afterwards it will be easier for you to understand how this community works."}, {"owner": {"reputation": 5294, "user_id": 6593065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe51beac3e1baad85b28b95f4723ee6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Liu - MSFT", "link": "https://stackoverflow.com/users/6593065/sara-liu-msft"}, "edited": false, "score": 0, "creation_date": 1552548439, "post_id": 55137486, "comment_id": 97053232, "body": "Hi friend, I tried to follow your steps and can reproduced this issue in VS 2017. But in VS code, the same solution, it works fine and the breakpoint inside the Bitrix.connect() be hit by F5. To workaround this issue in VS 2017, we can press F5, then disable and enable this specific breakpoint, press F5 again, this breakpoint should be hit."}], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 10263837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19629128c0022b42a242f045ccfe462f?s=128&d=identicon&r=PG&f=1", "display_name": "Service Man", "link": "https://stackoverflow.com/users/10263837/service-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1552466545, "creation_date": 1552466545, "answer_id": 55137546, "question_id": 55137486, "link": "https://stackoverflow.com/questions/55137486/no-debugger-in-the-typescript/55137546#55137546", "title": "No debugger in the TypeScript", "body": "<p>If you can use Eclipse, you may use: TypEcs (<a href=\"http://typecsdev.com/\" rel=\"nofollow noreferrer\">http://typecsdev.com/</a>). </p>\n"}], "owner": {"reputation": 1, "user_id": 11195877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jbA33WM9UbA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcEPdGVXtXsAQjR8qydqrrifc490A/mo/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0430\u0442\u043e\u043b\u0438\u0439 \u041e\u0433\u043b\u043e\u0431\u043b\u0438\u043d", "link": "https://stackoverflow.com/users/11195877/%d0%90%d0%bd%d0%b0%d1%82%d0%be%d0%bb%d0%b8%d0%b9-%d0%9e%d0%b3%d0%bb%d0%be%d0%b1%d0%bb%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1552466545, "creation_date": 1552466296, "question_id": 55137486, "link": "https://stackoverflow.com/questions/55137486/no-debugger-in-the-typescript", "title": "No debugger in the TypeScript", "body": "<p>I have next problem. I am create project in a visual studio 2017. \n<a href=\"https://yadi.sk/i/D-V8v3U5WN025Q\" rel=\"nofollow noreferrer\">https://yadi.sk/i/D-V8v3U5WN025Q</a>\nI am add in the project next the file, which contains the class and function \u201cBitrix.connect()\u201d.\n<a href=\"https://yadi.sk/i/5vb4IB3-XvSycA\" rel=\"nofollow noreferrer\">https://yadi.sk/i/5vb4IB3-XvSycA</a>\nI use the debug and put a stop point here.\n<a href=\"https://yadi.sk/i/tbrw3uSl0m4lpw\" rel=\"nofollow noreferrer\">https://yadi.sk/i/tbrw3uSl0m4lpw</a>\nI am stopping here if run debug.\n<a href=\"https://yadi.sk/i/CvIPzFNC9CVQog\" rel=\"nofollow noreferrer\">https://yadi.sk/i/CvIPzFNC9CVQog</a>\nBut if I put a stop point in the Bitrix.connect(), I am not stop on the this point.\n<a href=\"https://yadi.sk/i/lwgnkOV8vGAT0Q\" rel=\"nofollow noreferrer\">https://yadi.sk/i/lwgnkOV8vGAT0Q</a>\nThe point has a transparent center.\nIf I am press F11 and debugger put in the Bitrix.connect().\n<a href=\"https://yadi.sk/i/yaG_AqGL1R0TBQ\" rel=\"nofollow noreferrer\">https://yadi.sk/i/yaG_AqGL1R0TBQ</a>\nBut if I press F5, I do not stop in the point stop.\nI can stop on the point with help key F10 or F11.\nI don't know why visual studio works like this.\nHelp me please.\n<a href=\"https://yadi.sk/d/W4hJqbRkDz5HvQ\" rel=\"nofollow noreferrer\">https://yadi.sk/d/W4hJqbRkDz5HvQ</a></p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "owner": {"reputation": 1648, "user_id": 5990446, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MkTvy.png?s=128&g=1", "display_name": "A-yon Lee", "link": "https://stackoverflow.com/users/5990446/a-yon-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552466129, "creation_date": 1552466129, "question_id": 55137437, "link": "https://stackoverflow.com/questions/55137437/whats-the-point-of-passing-a-lambda-to-a-decorator-without-real-needs", "title": "What&#39;s the point of passing a lambda to a decorator without real needs?", "body": "<p>I first saw this kind of coding style in TypeORM, it didn't bring me too much attention back then since I didn't use it. However, I've been seeing a lot of them lately, and I don't get it, what's the point to do that? Plus if I turn on <code>noUnusedParameters</code> in <strong>tsconfig</strong>, this syntax will definitely break the compilation.</p>\n\n<pre><code>@someDecorator(of =&gt; SomeType)\nclass SomeClass {\n    // ...\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1552467044, "post_id": 55137420, "comment_id": 97015724, "body": "You wrote &quot;I know this can&#39;t be fixed&quot;. Did you meant &quot;CAN be fixed&quot; ?"}, {"owner": {"reputation": 11, "user_id": 1087840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kno6M.jpg?s=128&g=1", "display_name": "Vasiliy M.", "link": "https://stackoverflow.com/users/1087840/vasiliy-m"}, "reply_to_user": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1552469328, "post_id": 55137420, "comment_id": 97017122, "body": "Yes. My mistake"}], "owner": {"reputation": 11, "user_id": 1087840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kno6M.jpg?s=128&g=1", "display_name": "Vasiliy M.", "link": "https://stackoverflow.com/users/1087840/vasiliy-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552469379, "creation_date": 1552466057, "last_edit_date": 1552469379, "question_id": 55137420, "link": "https://stackoverflow.com/questions/55137420/why-typescript-compiler-ignores-check-when-its-result-set-to-a-variable", "title": "Why Typescript compiler ignores check, when its result set to a variable?", "body": "<p>I like to put a long conditional statement into a variable like this:</p>\n\n<pre><code>const valid = a &amp;&amp; a.someLongFieldName &gt; 10;\n\nif (valid) { \n  console.log(a.someLongFieldName); \n}\n</code></pre>\n\n<p>TypeScript compiler complaining about it: <code>Object is possibly 'undefined'</code>. Am I doing something wrong? Is there any workaround for situations like this? I know this can be fixed by using <code>a!.someLongFieldName</code>, but it's a bit tough.</p>\n"}, {"tags": ["reactjs", "typescript", "next.js", "react-styleguidist"], "comments": [{"owner": {"reputation": 6093, "user_id": 175404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe91b694d88105da0996b037f45ee7e1?s=128&d=identicon&r=PG", "display_name": "FDisk", "link": "https://stackoverflow.com/users/175404/fdisk"}, "edited": false, "score": 0, "creation_date": 1613988114, "post_id": 55137419, "comment_id": 117236560, "body": "you can check the <a href=\"https://github.com/ohearonkg/next-exploration\" rel=\"nofollow noreferrer\">github.com/ohearonkg/next-exploration</a>"}], "owner": {"reputation": 109, "user_id": 9040784, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/09fb82cde43407892d1202c073f521d7?s=128&d=identicon&r=PG&f=1", "display_name": "Zarazas", "link": "https://stackoverflow.com/users/9040784/zarazas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 557, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1552466995, "creation_date": 1552466056, "question_id": 55137419, "link": "https://stackoverflow.com/questions/55137419/setting-up-react-styleguidist-with-next-js-and-typescript", "title": "Setting up React Styleguidist with Next.js and Typescript", "body": "<p>I am trying to setup React styleguidist with next.js and typescript, but I keep walking into problems. My current styleguide.config.js looks like this:</p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n  components: './components/**/*.tsx',\n  propsParser: require('react-docgen-typescript').withCustomConfig('./tsconfig.json', {\n    propFilter: { skipPropsWithoutDoc: true },\n  }).parse,\n  webpackConfig: {\n    resolve: {\n      alias: {\n        static: path.join(__dirname, 'static'),\n        lib: path.join(__dirname, 'lib'),\n      },\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.(ts|tsx)$/,\n          exclude: /node_modules/,\n          use: [\n            {\n              loader: 'ts-loader',\n            },\n            {\n              loader: 'babel-loader',\n            },\n          ],\n        },\n        {\n          test: /\\.(png|jpg|gif|svg)$/,\n          use: [\n            {\n              loader: 'file-loader',\n              options: {\n                outputPath: 'images',\n              },\n            },\n          ],\n        },\n      ],\n    },\n  },\n};\n</code></pre>\n\n<p>If i just have a very basic component with just basic jsx everything works, but once I want to assign props for example for styled components, typescript starts complaining. Also importing stuff from outside the <code>components</code> folder is causing issues.\nCan maybe someone point me to an example of how they set it up?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1552465324, "post_id": 55137207, "comment_id": 97014793, "body": "Use <code>[style.display]=&quot;isDataLoaded ? &#39;block&#39; : &#39;none&#39;&quot;</code> instead of <code>*ngIf</code>"}, {"owner": {"reputation": 1605, "user_id": 577647, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/df2b2eb575dec34507a6600f292b26f4?s=128&d=identicon&r=PG", "display_name": "tolga", "link": "https://stackoverflow.com/users/577647/tolga"}, "edited": false, "score": 0, "creation_date": 1552465795, "post_id": 55137207, "comment_id": 97015044, "body": "I need to use *ngIf, style doesn&#39;t work in my flow for different reasons."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1552465879, "post_id": 55137207, "comment_id": 97015097, "body": "well you can&#39;t, so you&#39;ll have to find another way. it&#39;s either the style or <code>document.querySelector</code>, and I don&#39;t advise the latter one."}, {"owner": {"reputation": 158, "user_id": 10666879, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uRywFGJSBBc/AAAAAAAAAAI/AAAAAAAAAAg/mVdd-Ni8Q5Q/photo.jpg?sz=128", "display_name": "Aakash More", "link": "https://stackoverflow.com/users/10666879/aakash-more"}, "edited": false, "score": 0, "creation_date": 1552469072, "post_id": 55137207, "comment_id": 97016972, "body": "Try initializing the element with <code>@ViewChildren()</code>. Similar question to <a href=\"https://stackoverflow.com/questions/34947154/angular-2-viewchild-annotation-returns-undefined\">Angular 2 @ViewChild annotation returns undefined</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1605, "user_id": 577647, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/df2b2eb575dec34507a6600f292b26f4?s=128&d=identicon&r=PG", "display_name": "tolga", "link": "https://stackoverflow.com/users/577647/tolga"}, "edited": false, "score": 0, "creation_date": 1552466724, "post_id": 55137374, "comment_id": 97015556, "body": "I said it worked...but caused other problems about my flow. I need to find a way with *ngIf."}, {"owner": {"reputation": 1605, "user_id": 577647, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/df2b2eb575dec34507a6600f292b26f4?s=128&d=identicon&r=PG", "display_name": "tolga", "link": "https://stackoverflow.com/users/577647/tolga"}, "edited": false, "score": 1, "creation_date": 1552469050, "post_id": 55137374, "comment_id": 97016958, "body": "Thank you to both of you."}], "tags": [], "owner": {"reputation": 14584, "user_id": 1141063, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WwcpU.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/1141063/omar"}, "is_accepted": false, "score": 1, "last_activity_date": 1552465902, "creation_date": 1552465902, "answer_id": 55137374, "question_id": 55137207, "link": "https://stackoverflow.com/questions/55137207/set-viewchild-after-ajax-call/55137374#55137374", "title": "Set ViewChild after ajax call", "body": "<p>This happens because it cannot find the element reference. Use the hidden property instead:</p>\n\n<pre><code>&lt;div [hidden]=\"!isDataLoaded\"&gt;\n  ...\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1605, "user_id": 577647, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/df2b2eb575dec34507a6600f292b26f4?s=128&d=identicon&r=PG", "display_name": "tolga", "link": "https://stackoverflow.com/users/577647/tolga"}, "is_accepted": true, "score": 0, "last_activity_date": 1552469001, "creation_date": 1552469001, "answer_id": 55138261, "question_id": 55137207, "link": "https://stackoverflow.com/questions/55137207/set-viewchild-after-ajax-call/55138261#55138261", "title": "Set ViewChild after ajax call", "body": "<p>I found a solution. I carried search input to a different component and now all works fine.</p>\n\n<pre><code>&lt;div *ngIf=\"isDataLoaded\"&gt;\n   &lt;app-location-search location=\"data.location\"&gt;...\n</code></pre>\n\n<p>Now on my sub component I can bind with google maps autocomplete like this:</p>\n\n<pre><code>export class LocationSearchComponent{\n\n    @Input() location: any;\n\n    @ViewChild(\"mySearchElement\") public searchElementRef: ElementRef;\n\n    constructor(public mapsAPILoader: MapsAPILoader) {\n\n    }\n\n    ngOnInit() {\n\n    this.mapsAPILoader.load().then(() =&gt; {\n        ...\n</code></pre>\n"}], "owner": {"reputation": 1605, "user_id": 577647, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/df2b2eb575dec34507a6600f292b26f4?s=128&d=identicon&r=PG", "display_name": "tolga", "link": "https://stackoverflow.com/users/577647/tolga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55138261, "answer_count": 2, "score": 0, "last_activity_date": 1552475333, "creation_date": 1552465221, "last_edit_date": 1552475333, "question_id": 55137207, "link": "https://stackoverflow.com/questions/55137207/set-viewchild-after-ajax-call", "title": "Set ViewChild after ajax call", "body": "<p>I set element reference to my input, </p>\n\n<pre><code>export class MyComponent implements OnInit{\n\n    @ViewChild(\"mySearchElement\") // &lt;input #mySearchElement \n    public searchElementRef: ElementRef;\n</code></pre>\n\n<p>...and bind it with google maps autosearch, which <strong>works fine</strong>.</p>\n\n<pre><code>new google.maps.places.Autocomplete(this.searchElementRef.nativeElement, ...\n</code></pre>\n\n<p>What I try to do is, I want to render whole template after ajax call is completed. So I added a property to my component, </p>\n\n<pre><code>public isDataLoaded = false\n</code></pre>\n\n<p>and I set this true only after ajax work is completed.</p>\n\n<pre><code>&lt;div *ngIf=\"isDataLoaded\"&gt;\n    ....my search element is within this wrapper.\n</code></pre>\n\n<p>...but when I do this, autocomplete cannot find searchElementRef, which is <strong>understandable</strong>.</p>\n\n<p>How can I set viewchild after my ajax call is completed? This doesn't work:</p>\n\n<pre><code>function ajaxCallCompleted() { // Callback once ajax is completed.\n    this.isDataLoaded = true\n    @ViewChild(\"mySearchElement\") this.searchElementRef: ElementRef;\n    new google.maps.places.Autocomplete(this.searchElementRef.nativeElement ....\n} \n</code></pre>\n"}, {"tags": ["javascript", "typescript", "callback", "ibm-mobilefirst", "worklight-server"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11195592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xY5vAnrmssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTt-wOqG_aGgRvDDhaOx4bCSzhxA/mo/photo.jpg?sz=128", "display_name": "Heni G.", "link": "https://stackoverflow.com/users/11195592/heni-g"}, "edited": false, "score": 0, "creation_date": 1552471929, "post_id": 55139082, "comment_id": 97018850, "body": "so how can I check the MFP server Status? That&#39;s my purpose behind that code, otherwise, how can I make the expire the Token by clicking for example on Logout button?"}, {"owner": {"reputation": 2705, "user_id": 4906998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01498edc1b084c45c2272e77225603cf?s=128&d=identicon&r=PG&f=1", "display_name": "Vittal Pai", "link": "https://stackoverflow.com/users/4906998/vittal-pai"}, "reply_to_user": {"reputation": 3, "user_id": 11195592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xY5vAnrmssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTt-wOqG_aGgRvDDhaOx4bCSzhxA/mo/photo.jpg?sz=128", "display_name": "Heni G.", "link": "https://stackoverflow.com/users/11195592/heni-g"}, "edited": false, "score": 0, "creation_date": 1552476942, "post_id": 55139082, "comment_id": 97021880, "body": "@HeniG. Call <code>clearAccessToken(AccessToken accessToken)</code> API to clear the stored access token. You need to pass accessToken parameter in clearAccessToken  which comes in the success callback of  <code>obtainAccessToken</code> API"}, {"owner": {"reputation": 2705, "user_id": 4906998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01498edc1b084c45c2272e77225603cf?s=128&d=identicon&r=PG&f=1", "display_name": "Vittal Pai", "link": "https://stackoverflow.com/users/4906998/vittal-pai"}, "reply_to_user": {"reputation": 3, "user_id": 11195592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xY5vAnrmssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTt-wOqG_aGgRvDDhaOx4bCSzhxA/mo/photo.jpg?sz=128", "display_name": "Heni G.", "link": "https://stackoverflow.com/users/11195592/heni-g"}, "edited": false, "score": 0, "creation_date": 1552544001, "post_id": 55139082, "comment_id": 97051577, "body": "@HeniG.Please mark this solution as answered, If its resolves your query."}, {"owner": {"reputation": 2582, "user_id": 3269832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418bb3854e16ea9cb428a8356f9c7cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Vivin K", "link": "https://stackoverflow.com/users/3269832/vivin-k"}, "reply_to_user": {"reputation": 3, "user_id": 11195592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xY5vAnrmssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTt-wOqG_aGgRvDDhaOx4bCSzhxA/mo/photo.jpg?sz=128", "display_name": "Heni G.", "link": "https://stackoverflow.com/users/11195592/heni-g"}, "edited": false, "score": 1, "creation_date": 1552922452, "post_id": 55139082, "comment_id": 97184143, "body": "@HeniG.,     If finding/reaching the server is your objective, you could try a WLResoureRequest call to &quot;[runtime-name]/api/reach/&quot; endpoint.  &quot;<a href=\"https://www.ibm.com/support/knowledgecenter/SSHS8R_8.0.0/com.ibm.worklight.apiref.doc/html/refrest-mfp-server-runtime/html/reachUsingGET.html\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/SSHS8R_8.0.0/&hellip;</a>&quot;"}], "tags": [], "owner": {"reputation": 2705, "user_id": 4906998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01498edc1b084c45c2272e77225603cf?s=128&d=identicon&r=PG&f=1", "display_name": "Vittal Pai", "link": "https://stackoverflow.com/users/4906998/vittal-pai"}, "is_accepted": true, "score": 1, "last_activity_date": 1552471362, "creation_date": 1552471362, "answer_id": 55139082, "question_id": 55136785, "link": "https://stackoverflow.com/questions/55136785/access-token-returned-although-mfp-server-is-already-down/55139082#55139082", "title": "Access Token returned although MFP Server is already Down", "body": "<p>If the token is already stored in your device and <strong>if its not expired</strong>, then the MF client SDK doesn't communicate with server to fetch new one. </p>\n\n<p>It returns the same access token as long as it is valid.</p>\n"}], "owner": {"reputation": 3, "user_id": 11195592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xY5vAnrmssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTt-wOqG_aGgRvDDhaOx4bCSzhxA/mo/photo.jpg?sz=128", "display_name": "Heni G.", "link": "https://stackoverflow.com/users/11195592/heni-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 55139082, "answer_count": 1, "score": 0, "last_activity_date": 1552471362, "creation_date": 1552463438, "question_id": 55136785, "link": "https://stackoverflow.com/questions/55136785/access-token-returned-although-mfp-server-is-already-down", "title": "Access Token returned although MFP Server is already Down", "body": "<p>I shut down the MFP Server purposely and I still can receive/get the access token through the call WLAuthorizationManager.obtainAccessToken().</p>\n\n<p>By comparing the Token I realize that is the same one as before (when the server was running)</p>\n\n<p>First I don't why the WLAuthorizationManager.obtainAccessToken() goes to callback success function and not to the reject function, the second thing is that the token is the same.</p>\n\n<p>this is my checkServer Function:</p>\n\n<pre><code>    function mfpServerAvailable() {\n\n    var deferred = $q.defer();\n\n        WLAuthorizationManager.obtainAccessToken().then(function (accessToken) {\n            WL.Logger.debug(\"obtainAccessToken onSuccess: \" + JSON.stringify(accessToken));\n            deferred.resolve(true);\n         }, function (response) {\n            WL.Logger.debug(\"obtainAccessToken onFailure: \" + JSON.stringify(response));\n            deferred.reject(false);\n         });\n\n     return deferred.promise;\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "error-handling", "interceptor"], "answers": [{"comments": [{"owner": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1552463779, "post_id": 55136618, "comment_id": 97014085, "body": "yes, even with this my error is not getting caught... I removed the rxjs catchError from the service and I get a console log from the handler :("}, {"owner": {"reputation": 77, "user_id": 2183855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e77562b054ed826b73e0a41791a348d?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/2183855/michal"}, "reply_to_user": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1552464175, "post_id": 55136618, "comment_id": 97014263, "body": "yes, if you use this handler, you don&#39;t need the catchError in the service"}, {"owner": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1552464501, "post_id": 55136618, "comment_id": 97014415, "body": "That&#39;s a huge pain. I thought the interceptor or error handler would have the priority over this... :( Thanks Michal"}], "tags": [], "owner": {"reputation": 77, "user_id": 2183855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e77562b054ed826b73e0a41791a348d?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/2183855/michal"}, "is_accepted": true, "score": 2, "last_activity_date": 1552462675, "creation_date": 1552462675, "answer_id": 55136618, "question_id": 55136475, "link": "https://stackoverflow.com/questions/55136475/angular-intercepting-http-errors/55136618#55136618", "title": "Angular intercepting http errors", "body": "<p>Angular has a hook for error handling (<a href=\"https://angular.io/api/core/ErrorHandler\" rel=\"nofollow noreferrer\">https://angular.io/api/core/ErrorHandler</a>).</p>\n\n<p>You can create a service which implements the angular ErrorHandler and implements <code>handleError</code> method where you can log all errors. This error handler would log not just HttpErrorResponse but all errors, but you can filter out the ones you need. </p>\n\n<pre><code>@Injectable()\nexport class CustomErrorHandler implements ErrorHandler {\n    private static isHttpErrorResponse(error): error is HttpErrorResponse {\n        return error instanceof HttpErrorResponse;\n    }\n\n    handleError(error: any): void {\n        if (CustomErrorHandler.isHttpErrorResponse(error)) {\n            console.log(error);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 1, "accepted_answer_id": 55136618, "answer_count": 1, "score": 0, "last_activity_date": 1552468852, "creation_date": 1552461935, "last_edit_date": 1552468852, "question_id": 55136475, "link": "https://stackoverflow.com/questions/55136475/angular-intercepting-http-errors", "title": "Angular intercepting http errors", "body": "<p>I want to intercept each request and error responses.</p>\n\n<p>I already can intercept requests and set a token in the headers and I can intercept the responses to handle a refresh token.</p>\n\n<p>However I can't find a way to intercept <code>HttpErrorResponse</code>.</p>\n\n<p>I tried 2 methods. One with an explicit rxjs catchError and the other with some kind of callback:</p>\n\n<pre><code>  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    const authToken = this.auth.getToken();\n    if (authToken) {\n      req = req.clone({ headers: req.headers.set('accesstoken', authToken) });\n    }\n    return next.handle(req).pipe(\n      map((event: HttpEvent&lt;any&gt;) =&gt; {\n        if (event instanceof HttpResponse) {\n          //handle refresh token\n        }\n        return event;\n      },\n      catchError((error: any) =&gt; {\n        if (error instanceof HttpErrorResponse) {\n          console.log(error);\n          return Observable.throw(error);\n        }\n      })));\n  }\n</code></pre>\n\n<p>If I have an expired token, every request throws an HttpErrorResponse but this solution doesn't catch it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Br8AJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Br8AJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is returned by the service. No sign of the console.log() from the interceptor.</p>\n\n<p>The service looks like this:</p>\n\n<pre><code>public getData(): Observable&lt;any&gt; {\n    return this.http\n        .get&lt;any&gt;(url)\n        .pipe(\n            map(res =&gt; {\n                return res;\n            }),\n            catchError((e): Observable&lt;any&gt; =&gt; {\n                console.log(e);\n                const res: any = {error: e};\n                return of(res);\n            })\n        );\n}\n</code></pre>\n\n<p>Then I tried with a \"callback syntax\":</p>\n\n<pre><code>return next.handle(req).pipe(\n  map((event: HttpEvent&lt;any&gt;) =&gt; {\n    if (event instanceof HttpResponse) {\n      // refresh token\n    }\n    return event;\n  }, (error: any) =&gt; {\n    if (error instanceof HttpErrorResponse) {\n      console.log(error);\n    }\n  }));\n</code></pre>\n\n<p>Same result as above. Nothing in the console.</p>\n\n<p>I've seen people (<a href=\"https://medium.com/@aleixsuau/error-handling-angular-859d529fa53a\" rel=\"nofollow noreferrer\">https://medium.com/@aleixsuau/error-handling-angular-859d529fa53a</a>) register an ErrorHandler in the module but I haven't tried it yet.</p>\n\n<p>How do I catch an HttpErrorResponse from my interceptor?</p>\n\n<p>EDIT:</p>\n\n<p>I've tried the ErrorHandler way but still couldn't get any log. Then I removed the <code>catchError</code> from my service and finally got something logged...</p>\n\n<p>I'll try to see if this makes the interceptor work... Not fun if I have to remove all my catchError :(</p>\n\n<p>I made a reproducible example here: <a href=\"https://stackblitz.com/edit/angular-m2jc9n\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-m2jc9n</a></p>\n"}, {"tags": ["reactjs", "typescript", "react-redux"], "comments": [{"owner": {"reputation": 161, "user_id": 7058128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1dac1145138e255cac463e5f543598b8?s=128&d=identicon&r=PG", "display_name": "Avinash Lingaloo", "link": "https://stackoverflow.com/users/7058128/avinash-lingaloo"}, "edited": false, "score": 0, "creation_date": 1552491263, "post_id": 55136386, "comment_id": 97031950, "body": "The issue seems to be fixed by changing the export statement as below: const component: React.FunctionComponent&lt;OwnProps&gt; = connect(mapStateToProps, mapDispatchToProps)(MBZSearchResults)  export default component  Can I please have a comment from typescript users to let me know if this is the way to go ?"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 7058128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1dac1145138e255cac463e5f543598b8?s=128&d=identicon&r=PG", "display_name": "Avinash Lingaloo", "link": "https://stackoverflow.com/users/7058128/avinash-lingaloo"}, "edited": false, "score": 0, "creation_date": 1552484845, "post_id": 55142741, "comment_id": 97027181, "body": "If we do it like this, then there won&#39;t be any props validation on this component and one can put in any number of props when calling it.  I already tried this out and the types and way of writing this component have been researched before coming to SO. Did you try this out on your side?"}], "tags": [], "owner": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "is_accepted": false, "score": 0, "last_activity_date": 1552482793, "creation_date": 1552482793, "answer_id": 55142741, "question_id": 55136386, "link": "https://stackoverflow.com/questions/55136386/redux-connect-with-typescript-ts2347/55142741#55142741", "title": "Redux Connect with Typescript - TS2347", "body": "<p>As stated from the error you posted. </p>\n\n<blockquote>\n  <p>TypeScript error: Untyped function calls may not accept type\n  arguments. TS2347</p>\n</blockquote>\n\n<p>The connect function dosen't accept type arguments. </p>\n\n<p>Change the export connect to this:</p>\n\n<pre><code>export default connect(mapStateToProps, mapDispatchToProps)(MBZSearchResults)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 7058128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1dac1145138e255cac463e5f543598b8?s=128&d=identicon&r=PG", "display_name": "Avinash Lingaloo", "link": "https://stackoverflow.com/users/7058128/avinash-lingaloo"}, "reply_to_user": {"reputation": 476, "user_id": 2778731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df5a3223c8e6e38ddf029db68f8a29b6?s=128&d=identicon&r=PG", "display_name": "incorelabs", "link": "https://stackoverflow.com/users/2778731/incorelabs"}, "edited": false, "score": 0, "creation_date": 1590549778, "post_id": 55234568, "comment_id": 109718374, "body": "I understand it as being a way of separating public vs internal props that will be used by your component.  Public props are those props that will be changed/passed down by other components/user-intervention.  Internal/Private props are those kind of props that are inherited in a way; for example &#39;navigation&#39; prop if you use react-navigation.   Hence, you don&#39;t want your users to be able to mess with those internal props."}], "tags": [], "owner": {"reputation": 161, "user_id": 7058128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1dac1145138e255cac463e5f543598b8?s=128&d=identicon&r=PG", "display_name": "Avinash Lingaloo", "link": "https://stackoverflow.com/users/7058128/avinash-lingaloo"}, "is_accepted": true, "score": 1, "last_activity_date": 1589915981, "last_edit_date": 1589915981, "creation_date": 1552975453, "answer_id": 55234568, "question_id": 55136386, "link": "https://stackoverflow.com/questions/55136386/redux-connect-with-typescript-ts2347/55234568#55234568", "title": "Redux Connect with Typescript - TS2347", "body": "<p>The issue seems to be fixed by changing the export statement as below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const component: React.FunctionComponent&lt;OwnProps&gt; = \n  connect(mapStateToProps, mapDispatchToProps)(MBZSearchResults)\n\nexport default component\n</code></pre>\n\n<p>Can I please have a comment from typescript users to let me know if this is the way to go ?</p>\n"}], "owner": {"reputation": 161, "user_id": 7058128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1dac1145138e255cac463e5f543598b8?s=128&d=identicon&r=PG", "display_name": "Avinash Lingaloo", "link": "https://stackoverflow.com/users/7058128/avinash-lingaloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 1, "accepted_answer_id": 55234568, "answer_count": 2, "score": 0, "last_activity_date": 1589915981, "creation_date": 1552461564, "question_id": 55136386, "link": "https://stackoverflow.com/questions/55136386/redux-connect-with-typescript-ts2347", "title": "Redux Connect with Typescript - TS2347", "body": "<p>I'm new to Typescript and though it is fascinating and a life-saver, this error is quite a hard nut to crack.</p>\n\n<p><strong>TypeScript error: Untyped function calls may not accept type arguments.  TS2347</strong></p>\n\n<p>Can you please tell me what should be improved in the below class to get rid of this error ? </p>\n\n<p>Here is the whole class</p>\n\n<pre><code>import React, { FunctionComponent } from 'react'\nimport { ListGroup } from 'react-bootstrap'\nimport { connect } from 'react-redux'\n\n\n\ntype StateProps = {\n  mbzArtists: IMBZArtist[],\n  releaseArtistID: string\n}\n\ntype DispatchProps = {\n  findMBZReleases: (artistID: string) =&gt; void,\n}\n\ntype OwnProps = {}\n\ntype MBZSearchResultsProps = StateProps &amp; DispatchProps &amp; OwnProps\n\nconst MBZSearchResults: FunctionComponent&lt;MBZSearchResultsProps&gt; = ({ findMBZReleases, mbzArtists, releaseArtistID }) =&gt; {\n  return (\n    &lt;div className=\"MBZSearchResults\"&gt;\n      // div content\n    &lt;/div&gt;\n  )\n}\n\nconst mapStateToProps = (state: AppState) =&gt; {\n  return {\n    mbzArtists: state.musicBrainz.mbzArtists,\n    releaseArtistID: state.musicBrainz.artistReleaseID\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps =&gt; {\n  return {\n    findMBZReleases: (artistID: string) =&gt; dispatch(Actions.MBZActions.findMBZReleases(artistID))\n  }\n}\n\nexport default connect&lt;StateProps, DispatchProps, OwnProps&gt;(mapStateToProps, mapDispatchToProps)(MBZSearchResults)\n</code></pre>\n\n<p>In case you require more information, please let me know.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6", "angular5"], "comments": [{"owner": {"reputation": 10009, "user_id": 1041641, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FIz0K.png?s=128&g=1", "display_name": "TmTron", "link": "https://stackoverflow.com/users/1041641/tmtron"}, "edited": false, "score": 2, "creation_date": 1552753095, "post_id": 55136322, "comment_id": 97135151, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36763141/is-there-any-lifecycle-hook-like-window-onbeforeunload-in-angular2\">Is there any lifecycle hook like window.onbeforeunload in Angular2?</a>"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 1, "creation_date": 1561372761, "post_id": 55136322, "comment_id": 100028465, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3888902/detect-browser-or-tab-closing\">Detect browser or tab closing</a>"}], "owner": {"reputation": 91, "user_id": 7088466, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-nd2Ayo03Rf8/AAAAAAAAAAI/AAAAAAAAAFU/wucFDPrGQ4g/photo.jpg?sz=128", "display_name": "Jigar Prajapati", "link": "https://stackoverflow.com/users/7088466/jigar-prajapati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6790, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1561372521, "creation_date": 1552461363, "last_edit_date": 1561372521, "question_id": 55136322, "link": "https://stackoverflow.com/questions/55136322/how-to-detect-browser-close-event-or-tab-close-event-in-angular-6", "title": "How to detect browser close event or tab close event in angular 6+?", "body": "<p>I have written <code>@HostListener</code> in my AppComponent Class to detect browser close or tab close.</p>\n\n<p>I have written this code but it is not working. Kindly help me understand why my code is not working</p>\n\n<p>Below is my code.</p>\n\n<pre><code>export class AppComponent {\n\n  @HostListener('window:unload', [ '$event' ])\n  unloadHandler(event) {\n    alert('call unload');\n  }\n\n  @HostListener('window:beforeunload', [ '$event' ])\n  beforeUnloadHander(event) {\n    alert('call beforeunload');\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "union-types"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1552461034, "creation_date": 1552461034, "answer_id": 55136246, "question_id": 55136237, "link": "https://stackoverflow.com/questions/55136237/extract-the-type-of-a-property-in-an-union-type/55136246#55136246", "title": "Extract the type of a property in an union type", "body": "<p>You just need to use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"nofollow noreferrer\">index type query</a>: </p>\n\n<pre><code>type Color = D['color']\n</code></pre>\n"}], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 55136246, "answer_count": 1, "score": 0, "last_activity_date": 1552461044, "creation_date": 1552460991, "last_edit_date": 1552461044, "question_id": 55136237, "link": "https://stackoverflow.com/questions/55136237/extract-the-type-of-a-property-in-an-union-type", "title": "Extract the type of a property in an union type", "body": "<p>I use the code below:</p>\n\n<pre><code>interface A {\n  color: \"red\"\n  a: string\n}\ninterface B {\n  color: \"green\"\n  b: number\n}\ninterface C {\n  color: \"blue\"\n  c: boolean\n}\n\ntype D = A | B | C // Type is like: { color: \"red\" | \"green\" | \"blue\" }\n\ndeclare const fakeVariable: D\n\ntype Color = typeof fakeVariable.color // Type is: \"red\" | \"green\" | \"blue\"\n</code></pre>\n\n<p>It works as expected. But, is it possible to automatically create the type <code>Color</code> without to declare a fake variable?</p>\n"}, {"tags": ["typescript", "plugins", "visual-studio-code", "cucumberjs"], "comments": [{"owner": {"reputation": 796, "user_id": 3323395, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000538636364/picture?type=large", "display_name": "Raymond Kelly", "link": "https://stackoverflow.com/users/3323395/raymond-kelly"}, "edited": false, "score": 0, "creation_date": 1552495709, "post_id": 55136025, "comment_id": 97034863, "body": "I&#39;m not sure I follow what you are asking? Are you asking for the ability to click on the step in the feature file and have it bring you to the step definition?"}, {"owner": {"reputation": 21, "user_id": 9216518, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-537nMIv89SU/AAAAAAAAAAI/AAAAAAAAA9w/3VO-N95zu14/photo.jpg?sz=128", "display_name": "Bhumika Dewangan", "link": "https://stackoverflow.com/users/9216518/bhumika-dewangan"}, "reply_to_user": {"reputation": 796, "user_id": 3323395, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000538636364/picture?type=large", "display_name": "Raymond Kelly", "link": "https://stackoverflow.com/users/3323395/raymond-kelly"}, "edited": false, "score": 0, "creation_date": 1552631227, "post_id": 55136025, "comment_id": 97091694, "body": "Yes ,same-Kind of Navigator ,Suppose i have step like &quot;When Login to the URL&quot; on .feature file when i hover mouse pointer to the step so it should provide me one link like hyper link that should navigate to the Step definition of that step (/^Login to the URL$/) .Hope this solved your confusion ?"}, {"owner": {"reputation": 796, "user_id": 3323395, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000538636364/picture?type=large", "display_name": "Raymond Kelly", "link": "https://stackoverflow.com/users/3323395/raymond-kelly"}, "edited": false, "score": 0, "creation_date": 1552668367, "post_id": 55136025, "comment_id": 97112433, "body": "Unfortunately there is not built in support for that in VS yet. The closest you can get is this plugin <a href=\"https://marketplace.visualstudio.com/items?itemName=alexkrechik.cucumberautocomplete\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a> which will autocomplete. You could raise that as a feature request in the github repo."}, {"owner": {"reputation": 21, "user_id": 9216518, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-537nMIv89SU/AAAAAAAAAAI/AAAAAAAAA9w/3VO-N95zu14/photo.jpg?sz=128", "display_name": "Bhumika Dewangan", "link": "https://stackoverflow.com/users/9216518/bhumika-dewangan"}, "reply_to_user": {"reputation": 796, "user_id": 3323395, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000538636364/picture?type=large", "display_name": "Raymond Kelly", "link": "https://stackoverflow.com/users/3323395/raymond-kelly"}, "edited": false, "score": 0, "creation_date": 1552804745, "post_id": 55136025, "comment_id": 97145454, "body": "Thanks :), Suggested the same in Github"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11425592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ab7e7e013917494f23b6203fb3cf72?s=128&d=identicon&r=PG&f=1", "display_name": "kapil76", "link": "https://stackoverflow.com/users/11425592/kapil76"}, "is_accepted": false, "score": 0, "last_activity_date": 1602145820, "creation_date": 1602145820, "answer_id": 64258682, "question_id": 55136025, "link": "https://stackoverflow.com/questions/55136025/how-can-i-directly-navigate-from-cucumber-feature-file-to-step-definition-ts-fi/64258682#64258682", "title": "How can i directly navigate from cucumber feature file to step definition .TS file?", "body": "<p>Hope someone resolves their issue using this,</p>\n<p>in .vsCode/settings.json of your root\nadd something like this pointing to the step definition file</p>\n<pre><code>{\n    &quot;cucumberautocomplete.steps&quot;: [\n        &quot;cypress/integration/**/*.ts&quot;,\n    ],\n    &quot;cucumberautocomplete.strictGherkinCompletion&quot;: true,\n}\n</code></pre>\n<p>it works on both .ts as well as .js\nI've used .ts in the example</p>\n<p>more details <a href=\"https://marketplace.visualstudio.com/items?itemName=alexkrechik.cucumberautocomplete\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 21, "user_id": 9216518, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-537nMIv89SU/AAAAAAAAAAI/AAAAAAAAA9w/3VO-N95zu14/photo.jpg?sz=128", "display_name": "Bhumika Dewangan", "link": "https://stackoverflow.com/users/9216518/bhumika-dewangan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 550, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1602145820, "creation_date": 1552460074, "question_id": 55136025, "link": "https://stackoverflow.com/questions/55136025/how-can-i-directly-navigate-from-cucumber-feature-file-to-step-definition-ts-fi", "title": "How can i directly navigate from cucumber feature file to step definition .TS file?", "body": "<p>I am Using VScode with Type script ,But i am unable to find any plugin which directly move my Feature file to the Step Definition file??</p>\n\n<p>Can any one give me the plugin for .ts move directly from .feature cumber file</p>\n"}, {"tags": ["typescript", "proxy", "nuxt.js"], "owner": {"reputation": 123, "user_id": 10716253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--_mydQdeb-8/AAAAAAAAAAI/AAAAAAAAC4w/3XJ7w2LIEFM/photo.jpg?sz=128", "display_name": "Kvilios", "link": "https://stackoverflow.com/users/10716253/kvilios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552459705, "creation_date": 1552459705, "question_id": 55135933, "link": "https://stackoverflow.com/questions/55135933/proxy-routing-in-nuxt-js", "title": "Proxy routing in Nuxt.js", "body": "<p>Please, help me! I use the <a href=\"https://ru.nuxtjs.org/\" rel=\"nofollow noreferrer\">Nuxt.js framework</a> and I have this config in <strong>nuxt.config.ts</strong>:</p>\n\n<pre><code>... // some code here\n,\naxios: {\n  proxy: true\n},\nproxy: {\n  \"/api\": {\n    target: \"https://example.com\" // this is a fictional address\n  }\n}\n</code></pre>\n\n<p>Then, when I try to fetch some JSON data (at local server), e.g.:</p>\n\n<pre><code>this.axios.get('http://localhost:3000/api/my-json');\n</code></pre>\n\n<p>I have this problem:</p>\n\n<blockquote>\n  <p>Access to XMLHttpRequest at '<a href=\"https://example.com/api/my-json/\" rel=\"nofollow noreferrer\">https://example.com/api/my-json/</a>'\n  (redirected from '<a href=\"http://localhost:3000/api/my-json\" rel=\"nofollow noreferrer\">http://localhost:3000/api/my-json</a>') from origin\n  '<a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a>' has been blocked by CORS policy: No\n  'Access-Control-Allow-Origin' header is present on the requested\n  resource.</p>\n</blockquote>\n\n<p>But when I add slash character (\"<code>/</code>\") at the end of the address, e.g.:</p>\n\n<pre><code>this.axios.get('http://localhost:3000/api/my-json/');\n</code></pre>\n\n<p>I have not a problem! Why?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "routes", "angular2-routing"], "comments": [{"owner": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 1, "creation_date": 1552458099, "post_id": 55135567, "comment_id": 97011678, "body": "I recommend you to read this SO question: <a href=\"https://stackoverflow.com/questions/12381563/how-to-stop-browser-back-button-using-javascript\" title=\"how to stop browser back button using javascript\">stackoverflow.com/questions/12381563/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 11195167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bguu4jPFzQU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reFQS_duuAvtL9u9TpdvaogBn2BhA/mo/photo.jpg?sz=128", "display_name": "Aswin Kumar S", "link": "https://stackoverflow.com/users/11195167/aswin-kumar-s"}, "reply_to_user": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1552460276, "post_id": 55135567, "comment_id": 97012513, "body": "No i want page not to reload"}, {"owner": {"reputation": 23, "user_id": 11195167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bguu4jPFzQU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reFQS_duuAvtL9u9TpdvaogBn2BhA/mo/photo.jpg?sz=128", "display_name": "Aswin Kumar S", "link": "https://stackoverflow.com/users/11195167/aswin-kumar-s"}, "reply_to_user": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1552460297, "post_id": 55135567, "comment_id": 97012523, "body": "this is not my expected answer"}, {"owner": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1552460543, "post_id": 55135567, "comment_id": 97012632, "body": "I understand that you didn&#39;t properly read answers, you can edit code on browser back button for given answers."}, {"owner": {"reputation": 23, "user_id": 11195167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bguu4jPFzQU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reFQS_duuAvtL9u9TpdvaogBn2BhA/mo/photo.jpg?sz=128", "display_name": "Aswin Kumar S", "link": "https://stackoverflow.com/users/11195167/aswin-kumar-s"}, "reply_to_user": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1552461346, "post_id": 55135567, "comment_id": 97013017, "body": "ok i saw that,but how it works when modal opened"}, {"owner": {"reputation": 23, "user_id": 11195167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bguu4jPFzQU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reFQS_duuAvtL9u9TpdvaogBn2BhA/mo/photo.jpg?sz=128", "display_name": "Aswin Kumar S", "link": "https://stackoverflow.com/users/11195167/aswin-kumar-s"}, "reply_to_user": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1552461417, "post_id": 55135567, "comment_id": 97013054, "body": "also using typescript"}], "owner": {"reputation": 23, "user_id": 11195167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bguu4jPFzQU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reFQS_duuAvtL9u9TpdvaogBn2BhA/mo/photo.jpg?sz=128", "display_name": "Aswin Kumar S", "link": "https://stackoverflow.com/users/11195167/aswin-kumar-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 454, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552457921, "creation_date": 1552457921, "question_id": 55135567, "link": "https://stackoverflow.com/questions/55135567/close-the-modal-by-back-buttonbrowser-without-route-change", "title": "Close the modal by back button(Browser) without route change", "body": "<p>I saw recent answers,but none satisfied this <a href=\"https://valor-software.com/ngx-bootstrap/#/modals\" rel=\"nofollow noreferrer\">Ngx-bootstrap Modal</a>\nwith the close button problem. \nI used canDeactivate to not to change the route when modal is on open </p>\n\n<blockquote>\n  <p>Here What i\"ve done</p>\n</blockquote>\n\n<p>this openModal is to  open the modal here a isModalOpen  is set to false on close but \"Globally i initialized it with true\"</p>\n\n<pre><code>openModal(msg, isVideoPhoto: boolean, isVideo: boolean) {\nif (isVideo !== undefined) {\n  this.modalRef = this.modalService.show(msg);\n\n}\nif (isVideoPhoto !== undefined) {\n  this.modalService.config.backdrop = false;\n}\n\nconst _combine = combineLatest(\n\n  this.modalService.onHide,\n  this.modalService.onHidden\n).subscribe(() =&gt; this.changeDetection.markForCheck());\nthis.subscriptions.push(\n  this.modalService.onHide.subscribe((reason: string) =&gt; {\n    const _reason = reason ? `, dismissed by ${reason}` : '';\n    console.log(`onHide event has been fired${_reason}`);\n    this.isModalOpen = false;\n  })\n);\nthis.subscriptions.push(\n  this.modalService.onHidden.subscribe((reason: string) =&gt; {\n    const _reason = reason ? `, dismissed by ${reason}` : '';\n    console.log(`onHidden event has been fired${_reason}`);\n    this.unsubscribe();\n  })\n);\n\nthis.subscriptions.push(_combine);\n}\n</code></pre>\n\n<p>This is for closing modal</p>\n\n<pre><code>closeModal(){\nthis.isModalOpen=false;\nthis.modalRef.hide();\n }\n</code></pre>\n\n<p>canDeactivate:</p>\n\n<pre><code>canDeactivate(){\nreturn this.isModalOpen;\n}\n</code></pre>\n\n<p>This class extends a class which contains openModal(),closeModal(),canDeactivate().</p>\n\n<pre><code>export class modalClose implements CanDeactivate&lt;DynamicContentComponent&gt;{\n canDeactivate(component: DynamicContentComponent,  route: \n  ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise&lt;boolean&gt; | \n   boolean {\n   console.log(\"canDeactivate\");\n  return component.canDeactivate();\n  }\n  }\n</code></pre>\n\n<p>app-routing.module.ts:</p>\n\n<pre><code>{ \npath: \":ctype/:termid\",   \ncomponent: DynamicContentComponent,\ncanDeactivate:[modalClose]\n}\n</code></pre>\n\n<p>I want to close the modal with the back button of browser without any route change and after modal closed route wants to change on back button press...!</p>\n"}]