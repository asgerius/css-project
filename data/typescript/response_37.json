[{"tags": ["syntax", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "edited": false, "score": 0, "creation_date": 1443049563, "post_id": 32750874, "comment_id": 53342332, "body": "I was getting an error though about requiring <code>declare </code>"}, {"owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "edited": false, "score": 0, "creation_date": 1443051217, "post_id": 32750874, "comment_id": 53342825, "body": "Thanks, actually I think I misdirected my test-case, what I have is a definition (<code>.d.ts</code>), and I want a constructor on it (<code>declare module Car {     constructor(engine: string) {     } }</code>). It&#39;s defining an external javascript library."}, {"owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "reply_to_user": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "edited": false, "score": 0, "creation_date": 1443053078, "post_id": 32750874, "comment_id": 53343301, "body": "Ok, then the implementation should be removed from the constructor, I&#39;ll put an example in the answer."}, {"owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "edited": false, "score": 0, "creation_date": 1443058184, "post_id": 32750874, "comment_id": 53344410, "body": "Hmm, what I am writing interfaces for doesn&#39;t take arguments. So I tried <code>constructor();</code>, which failed with <code>TS1036</code> and <code>TS2304</code> errors. Trying with <code>constructor(void);</code> fails with <code>TS1109</code> error, and trying with <code>constructor(engine: string);</code> fails with <code>TS1005</code> error. Here is my actual <a href=\"https://github.com/AlecTaylor/waterline_scaffold/blob/master/cust_typings/waterline.d.ts\" rel=\"nofollow noreferrer\">d.ts</a> file. The constructor I am interfacing is <a href=\"https://github.com/balderdashy/waterline/blob/master/lib/waterline.js#L13\" rel=\"nofollow noreferrer\">waterline.js#L13</a>"}, {"owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "edited": false, "score": 0, "creation_date": 1443142606, "post_id": 32750874, "comment_id": 53385388, "body": "I&#39;ve accepted your answer, because I kept extending the question. But if you could reply to my waterline comment that&#39;d be great (and a +1 in it!)."}], "tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": true, "score": 11, "last_activity_date": 1443053144, "last_edit_date": 1443053144, "creation_date": 1443049459, "answer_id": 32750874, "question_id": 32750702, "link": "https://stackoverflow.com/questions/32750702/typescript-constructor-ambient-contexts-error/32750874#32750874", "title": "TypeScript constructor - ambient contexts error", "body": "<p>By using <code>declare</code> you're defining a class type. The type is only defined, and shouldn't have an implementation, so <code>declare</code> needs to be removed. Then it compiles fine.</p>\n\n<pre><code>class Car {\n    constructor(public engine: string) {\n        this.engine = engine + \"foo\";\n    }\n}\n</code></pre>\n\n<p>However that code compiles to:</p>\n\n<pre><code>var Car = (function () {\n    function Car(engine) {\n        this.engine = engine;\n        this.engine = engine + \"foo\";\n    }\n    return Car;\n})();\n</code></pre>\n\n<p>which sets the <code>engine</code> property twice.</p>\n\n<p>That probably wasn't what you intended, so the <code>engine</code> property should be defined on the class, not the constructor.</p>\n\n<pre><code>class Car {\n\n    public engine: string;\n\n    constructor(engine: string) {\n        this.engine = engine + \"foo\";\n    }\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>The error you received about needing <code>declare</code> was due to you using the <code>.d.ts</code> extension for definition files. The extension should be just <code>.ts</code> if you want the file to compile to JavaScript.</p>\n\n<p>Edit 2:</p>\n\n<pre><code>declare class Car {\n\n    public engine;\n\n    constructor(engine: string);\n}\n</code></pre>\n"}], "owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11108, "favorite_count": 1, "accepted_answer_id": 32750874, "answer_count": 1, "score": 7, "last_activity_date": 1443053144, "creation_date": 1443048334, "last_edit_date": 1592644375, "question_id": 32750702, "link": "https://stackoverflow.com/questions/32750702/typescript-constructor-ambient-contexts-error", "title": "TypeScript constructor - ambient contexts error", "body": "<p>How do I create a constructor in TypeScript?</p>\n<p>Looked at a bunch of guides, but the syntax must've changed. Here's my latest attempt:</p>\n<h3>car.d.ts</h3>\n<pre><code>declare class Car {\n    constructor(public engine: string) {\n        this.engine = engine + &quot;foo&quot;;\n    }\n}\n</code></pre>\n<h2>Error:</h2>\n<blockquote>\n<p>An implementation cannot be called in ambient contexts.</p>\n</blockquote>\n"}, {"tags": ["typescript", "ionic-framework", "visual-studio-cordova", "ripple"], "comments": [{"owner": {"reputation": 6783, "user_id": 5140175, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154016382808098/picture?type=large", "display_name": "Michael Braude", "link": "https://stackoverflow.com/users/5140175/michael-braude"}, "edited": false, "score": 0, "creation_date": 1443125693, "post_id": 32750376, "comment_id": 53379249, "body": "Can you clarify - which output window are you seeing this in? VS output window, or Chrome Dev Tools?"}, {"owner": {"reputation": 4735, "user_id": 182344, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0c5c4f4374df4882cf83c70715ebd951?s=128&d=identicon&r=PG", "display_name": "RredCat", "link": "https://stackoverflow.com/users/182344/rredcat"}, "reply_to_user": {"reputation": 6783, "user_id": 5140175, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154016382808098/picture?type=large", "display_name": "Michael Braude", "link": "https://stackoverflow.com/users/5140175/michael-braude"}, "edited": false, "score": 0, "creation_date": 1443182814, "post_id": 32750376, "comment_id": 53401959, "body": "@MichaelBraude I VS output window. Chrome crashes when I try to open Dev Tools."}, {"owner": {"reputation": 6783, "user_id": 5140175, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154016382808098/picture?type=large", "display_name": "Michael Braude", "link": "https://stackoverflow.com/users/5140175/michael-braude"}, "edited": false, "score": 0, "creation_date": 1443223804, "post_id": 32750376, "comment_id": 53422794, "body": "Thanks. VS doesn&#39;t support inline source maps so Ryan&#39;s suggestion below won&#39;t work. Where I&#39;m confused is what is blocking you. I imagine this error is benign....what is actually &#39;unstable&#39;? Does vs crash? Please email vscordovatools@microsoft.com so we can figure out what&#39;s going on."}, {"owner": {"reputation": 4735, "user_id": 182344, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0c5c4f4374df4882cf83c70715ebd951?s=128&d=identicon&r=PG", "display_name": "RredCat", "link": "https://stackoverflow.com/users/182344/rredcat"}, "reply_to_user": {"reputation": 6783, "user_id": 5140175, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154016382808098/picture?type=large", "display_name": "Michael Braude", "link": "https://stackoverflow.com/users/5140175/michael-braude"}, "edited": false, "score": 0, "creation_date": 1443442940, "post_id": 32750376, "comment_id": 53481110, "body": "@MichaelBraude Thank you Michael, I sent mail with details to address provided by you."}], "answers": [{"comments": [{"owner": {"reputation": 4735, "user_id": 182344, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0c5c4f4374df4882cf83c70715ebd951?s=128&d=identicon&r=PG", "display_name": "RredCat", "link": "https://stackoverflow.com/users/182344/rredcat"}, "edited": false, "score": 0, "creation_date": 1443203118, "post_id": 32766030, "comment_id": 53414471, "body": "My project doesn&#39;t have tsconfig.json file."}], "tags": [], "owner": {"reputation": 192, "user_id": 4191138, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JgJ9fu8fTBQ/AAAAAAAAAAI/AAAAAAAAAIM/DSNtrlpWe70/photo.jpg?sz=128", "display_name": "Ryan J. Salva", "link": "https://stackoverflow.com/users/4191138/ryan-j-salva"}, "is_accepted": false, "score": -1, "last_activity_date": 1443110690, "creation_date": 1443110690, "answer_id": 32766030, "question_id": 32750376, "link": "https://stackoverflow.com/questions/32750376/visual-studio-tools-for-apache-cordova-stops-work-correct-after-update/32766030#32766030", "title": "Visual Studio Tools for Apache Cordova stops work correct after update", "body": "<p>Unfortunately, this is a known issue with the current update of TypeScript + VS TACO. The Visual Studio product team intends to release a fix within the next few weeks. Until then, the best way to fix is to add the following setting to your tsconfig.json file:</p>\n\n<pre><code>\"inlineSources\": true\n</code></pre>\n\n<p>This will embed your typescript sources in the source map files so that you can debug them in all scenarios. </p>\n\n<p>While you may be not using TypeScript, the latest versions of Ionic do use TypeScript and, thus, the error. </p>\n"}, {"tags": [], "owner": {"reputation": 4735, "user_id": 182344, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0c5c4f4374df4882cf83c70715ebd951?s=128&d=identicon&r=PG", "display_name": "RredCat", "link": "https://stackoverflow.com/users/182344/rredcat"}, "is_accepted": true, "score": 2, "last_activity_date": 1443533102, "last_edit_date": 1495542205, "creation_date": 1443533102, "answer_id": 32845209, "question_id": 32750376, "link": "https://stackoverflow.com/questions/32750376/visual-studio-tools-for-apache-cordova-stops-work-correct-after-update/32845209#32845209", "title": "Visual Studio Tools for Apache Cordova stops work correct after update", "body": "<p>Thank <a href=\"https://stackoverflow.com/users/5140175/michael-braude\">Michael Braude</a>, he helped me walk over this issue. As he explained, Visual Studio Tools for Apache Cordova uses same port for debugging after update v2. </p>\n\n<p>There are two way to walk over this issue.</p>\n\n<ol>\n<li>Use <a href=\"https://msdn.microsoft.com/en-us/library/dn688631.aspx\" rel=\"nofollow noreferrer\">JavaScript Console</a> of Visual Studio. Frankly, this way is OK for me when I am developing on PC with two displays (I runs emulator on one screen and debug with Visual Studio on another), but a bit uncomfortable when I am developing on Notebook with one screen.</li>\n<li>Run a solution without debugging (CTRL+F5), in this case VS's debugger isn't attached to browser. This looks as simple solution, but you need to be aware that in this case breakpoints don't stop run-time and you have to use <code>debugger;</code> keyword.</li>\n</ol>\n"}], "owner": {"reputation": 4735, "user_id": 182344, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0c5c4f4374df4882cf83c70715ebd951?s=128&d=identicon&r=PG", "display_name": "RredCat", "link": "https://stackoverflow.com/users/182344/rredcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3889, "favorite_count": 0, "accepted_answer_id": 32845209, "answer_count": 2, "score": 1, "last_activity_date": 1519724424, "creation_date": 1443046377, "last_edit_date": 1519724424, "question_id": 32750376, "link": "https://stackoverflow.com/questions/32750376/visual-studio-tools-for-apache-cordova-stops-work-correct-after-update", "title": "Visual Studio Tools for Apache Cordova stops work correct after update", "body": "<p>I am developing ionic application with Visual Studio Tools for Apache Cordova. Everything was OK until I updated Tools for Apache Cordova and TypeScript Tools for Visual Studio.\nAfter this update Ripple emulator became unstable and get the next error in the Output window.</p>\n\n<pre><code>code:-32000\nmessage:Debugger agent is not enabled\nThe source map 'angular-sanitize.min.js.map' for file 'mdha:http://code.ionicframework.com/1.0.0-rc.5/js/ionic.bundle.min.js' could not be read from the specified location due to error 'Exception of type 'TypeScriptSourceMapReader.SourceMapReadFailedException' was thrown.'.\n</code></pre>\n\n<p>I am not using TypeScript in my project and I'm not familiar with it. What can I do for fix it? I guess I can remove my updates.</p>\n\n<p>Could anybody suggest me any other better way?</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1443029152, "post_id": 32745654, "comment_id": 53332284, "body": "Promise callbacks don&#39;t retain values of <code>this</code> from a prior context.  If you want to access <code>this</code>, then save it to a variable before your <code>Promise.all()</code>.  Also, unless <code>new Jimp(newImage)</code> returns a promise (which it does not), then there is no point in using <code>Promise.all()</code> where you are using it.  Promises don&#39;t have any magic powers to know when some async operation is done."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1443029257, "post_id": 32745654, "comment_id": 53332331, "body": "You should probably back up several steps and describe what you&#39;re trying to do with the constructor so folks can help you with a higher level solution because you appear to have several things wrong in that code beyond just the <code>this</code> issue."}, {"owner": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1443049411, "post_id": 32745654, "comment_id": 53342291, "body": "I just added the complete code with the output."}], "answers": [{"comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443049422, "post_id": 32746339, "comment_id": 53342295, "body": "@Jthomps - You can only use Bluebird&#39;s promisify on async functions that follow the node.js calling async convention where the last argument is a callback function that gets called with two arguments, the first one an error value and the second one the value.  The results of <code>require(&quot;jimp&quot;)</code> is a constructor function that has to be used with <code>new</code> that does NOT follow that calling convention.  Thus, you can&#39;t use <code>.promisify()</code> on it.  As I&#39;ve now said multiple places, if you describe what problem you&#39;re really trying to solve, we can probably help you find a good way to solve it."}, {"owner": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443050065, "post_id": 32746339, "comment_id": 53342481, "body": "Thank you, however I just switched to callbacks... I&#39;m still having an issue accessing myImage. It comes back as undefined."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443050141, "post_id": 32746339, "comment_id": 53342494, "body": "@Jthomps - Change this <code>var Jimp = Promise.promisify(require(&quot;jimp&#47;jimp&quot;)); </code> to this: <code>var Jimp = require(&quot;jimp&#47;jimp&quot;);</code> to have a chance at making the callback version work.  And, you still have to fix the <code>this</code> issue like I showed in my answer.  Sorry, but I&#39;m not going to spend any more time on this until you tell me what you&#39;re really trying to accomplish (and please edit your question to include that info)."}, {"owner": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443050564, "post_id": 32746339, "comment_id": 53342630, "body": "I just made the edits, I&#39;m still getting an undefined."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443050829, "post_id": 32746339, "comment_id": 53342725, "body": "@Jthomps - You&#39;re trying to wrap another object around the Jimp object and then using the resulting outer object in a synchronous fashion, but you can&#39;t do that. I&#39;d suggest you stop trying to wrap something else around it and just use the Jimp object just like it shows in the Jimp documentation.  You can&#39;t use the actual img until the callback is called that is passed into the constructor. Sorry, but this is far too frustrating for me because you won&#39;t show what you really want to do (e.g. like what you want to do with the image).  ONLY THEN could we help with the right overall structure."}, {"owner": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443067640, "post_id": 32746339, "comment_id": 53346535, "body": "What I&#39;m trying to do is to figure out a way that I can program in javascript as close to OOP as possible. Today was my first day with TypeScript. I&#39;ve been using promises and generators using bluebird up until now, but I was hoping that I could push it a level further to get a more classic OOP style going on.   What I was trying to do to the image was arbitrary, however, in short I just wanted to have a method variable that contained a Jimp object that I could perform operations on.  I appreciate your time. :)"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443067792, "post_id": 32746339, "comment_id": 53346567, "body": "@Jthomps - well a critical part of the design is how you&#39;re going to know from outside your wrapper object, when the image inside is valid.  You can&#39;t really do anything with your wrapper without knowing that.  But, your design does not take that into account.  That&#39;s why it seems like you need to fix the design first to take that into account and then see what coding problems you have with a fixed design."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "edited": false, "score": 0, "creation_date": 1443068207, "post_id": 32746339, "comment_id": 53346662, "body": "@Jthomps - this timing issue is the crux of your issue with <code>console.log(i.myImage)</code>.  You are trying to run that BEFORE the image has finished loading, but you have to create a wrapper that has an inherently asynchronous design which you have not.  It uses async stuff internal to the object implementation, but tries (unsuccessfully) to hide that from the outside world.  You can&#39;t hide async."}], "tags": [], "owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 1, "last_activity_date": 1443050870, "last_edit_date": 1443050870, "creation_date": 1443030890, "answer_id": 32746339, "question_id": 32745654, "link": "https://stackoverflow.com/questions/32745654/typescript-lost-scope-of-this/32746339#32746339", "title": "Typescript : Lost scope of &#39;this&#39;", "body": "<p>The Jimp constructor does not return a promise so your use of <code>Promise.all()</code> here is likely not doing what you want it to do.  As some people get confused by this, promises do not have any magic powers to somehow know when the Jimp object has finished loading it's image so if that's what you're trying to do here, it will not work that way.  The Jimp constructor returns a Jimp object, not a promise.</p>\n\n<p>I don't see any particular reason to not just use the Jimp callback that you pass into the constructor and make your code work like this:</p>\n\n<pre><code>var Jimp = require(\"jimp/jimp\");\n\nclass Image {\n    private myImage: any;\n\n    constructor(newImage: string, typeOfImage: string) {\n        var self = this;\n        new Jimp(newImage, function(img) {\n           self.myImage = img;\n           // you can use the img here\n        });\n        // you cannot reliably use the img here\n     }\n}\n</code></pre>\n\n<p>But, doing it this way looks like it still leaves all sorts of loose ends because the outside world has no way of knowing when the img has finished loading and you aren't saving the Jimp object reference itself so you can't use any of the Jimp methods on this image.  As I said in my comments, if you share the bigger picture for what you're trying to do here, then we can more likely help you with a more complete solution to your problem.</p>\n"}], "owner": {"reputation": 2354, "user_id": 3973051, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/594835486/picture?type=large", "display_name": "Jonathan Eustace", "link": "https://stackoverflow.com/users/3973051/jonathan-eustace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 0, "accepted_answer_id": 32746339, "answer_count": 1, "score": -1, "last_activity_date": 1443050870, "creation_date": 1443028639, "last_edit_date": 1443050442, "question_id": 32745654, "link": "https://stackoverflow.com/questions/32745654/typescript-lost-scope-of-this", "title": "Typescript : Lost scope of &#39;this&#39;", "body": "<p>I'm trying to assign a value to myImage. When I look at the js target file myImage doesn't even exist. Obviously this throws an error. How do I preserve the scope of this within typescript classes?</p>\n\n<p>What I'm trying to do here is load an image using the Jimp library. Then have a reference to that loaded image to perform operations on, for example resize is a method of a loaded image inside Jimp, so I'd like to be able to call i.myImage.resize(100,100). </p>\n\n<pre><code>\"use strict\";\nvar Promise = require('bluebird');\nvar Jimp = require(\"jimp/jimp\");\n\n\nclass Image{\n    public myImage:any;\n\n    constructor(newImage:string){\n\n         Promise.all([new Jimp(newImage)]).then(function(img){\n            this.myImage = img;\n\n         }).catch(function(e){\n             console.log(e);\n         })\n       }\n    }\n\nvar i = new Image('./jd.jpg');\n\nconsole.log(i.myImage)\n</code></pre>\n\n<p>The output: </p>\n\n<pre><code>undefined\n[TypeError: Cannot set property 'myImage' of undefined]\n</code></pre>\n\n<p>With Callbacks : </p>\n\n<pre><code>var Jimp = require(\"jimp/jimp\");\n\n\nclass Image {\n\n    public myImage: any;\n\n    constructor(newImage: string, typeOfImage: string) {\n        var self = this;\n        new Jimp(newImage, function(e,img) {\n           self.myImage = img;\n        });\n     }\n\n}\n\nvar i = new Image('./jd.jpg');\n\nconsole.log(i.myImage) // outputs undefined\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1443045837, "post_id": 32745118, "comment_id": 53341087, "body": "My knowledge about weak references is really poor, so I couldn&#39;t answer why in that way is not working, so, why don&#39;t you just use <code>this.http</code> in your <code>getMeetings()</code> method?"}, {"owner": {"reputation": 1691, "user_id": 4803192, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2dd1e87601f8ded02fcb4e3e142c671c?s=128&d=identicon&r=PG&f=1", "display_name": "ThreeAccents", "link": "https://stackoverflow.com/users/4803192/threeaccents"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1443193975, "post_id": 32745118, "comment_id": 53409366, "body": "@EricMartinez Its essentially the same thing. I was just looking at a few blogs that were doing the mapping I just thought it looked dirty so I tried setting it as a property to the object to see if it worked and it did"}], "answers": [{"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1461516517, "post_id": 36826048, "comment_id": 61223033, "body": "Observables are lazy and don&#39;t do anything before <code>subscribe()</code> or <code>toPromise()</code> is called."}], "tags": [], "owner": {"reputation": 548, "user_id": 3763544, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/652d8deaed7332af8ff4d8ac56e4d8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Simonxca", "link": "https://stackoverflow.com/users/3763544/simonxca"}, "is_accepted": false, "score": 1, "last_activity_date": 1461516555, "last_edit_date": 1461516555, "creation_date": 1461516468, "answer_id": 36826048, "question_id": 32745118, "link": "https://stackoverflow.com/questions/32745118/injecting-and-using-http-angular2/36826048#36826048", "title": "Injecting and using Http Angular2", "body": "<p>Looks like <code>http.get(path)</code> doesn't send off a request unless you call <code>http.get(path).subscribe();</code> even if you don't do anything with the response.</p>\n\n<p>Plunker: <a href=\"https://plnkr.co/edit/b1fxoIUy31EHTC84U344?p=preview\" rel=\"nofollow\">https://plnkr.co/edit/b1fxoIUy31EHTC84U344?p=preview</a></p>\n\n<p>In the Plunker, open the network view in the console and click the <strong>With Subscribe</strong> / <strong>Without Subscribe</strong> buttons for comparison.</p>\n"}], "owner": {"reputation": 1691, "user_id": 4803192, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2dd1e87601f8ded02fcb4e3e142c671c?s=128&d=identicon&r=PG&f=1", "display_name": "ThreeAccents", "link": "https://stackoverflow.com/users/4803192/threeaccents"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1461516555, "creation_date": 1443026870, "question_id": 32745118, "link": "https://stackoverflow.com/questions/32745118/injecting-and-using-http-angular2", "title": "Injecting and using Http Angular2", "body": "<p>I have a service class that should call an api and return the results:</p>\n\n<pre><code>import {Component, View} from 'angular2/angular2';\nimport { Inject} from 'angular2/di';\nimport {Http} from 'angular2/http';\n\nvar httpMap = new WeakMap&lt;ScheduleService, Http&gt;();\nexport class ScheduleService {\n    meetings: Array&lt;any&gt;;\n    http: any;\n\n    constructor(@Inject(Http) http:Http){\n        httpMap.set(this, http);\n        this.http = http;\n\n        //http.get('/api/sample')\n        //   .map(response =&gt; response.json())\n        //   .subscribe(data =&gt; {\n        //      this.serverData = data;\n        //      });\n    }\n\n    getMeetings(){\n        var path = '/api/meetings/';\n        return httpMap.get(this).get(path);\n    }\n\n}\n</code></pre>\n\n<p>The service class is being called and injected correctly. The issue I am having is that when ever I call the <code>getMeetings</code> method it never makes the request to <code>/api/meetings</code>. If you guys notice in the constructor there is a <code>get</code> request to <code>/api/sample</code> that works perfectly if I uncomment it and run the program I check my <code>network</code> tab and I can see the request was made. </p>\n"}, {"tags": ["build", "typescript", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 1, "last_activity_date": 1443093382, "creation_date": 1443093382, "answer_id": 32759961, "question_id": 32744099, "link": "https://stackoverflow.com/questions/32744099/how-to-generate-a-self-dependent-typescript-file-and-reference-it-in-html/32759961#32759961", "title": "How to generate a self-dependent typescript file and reference it in html?", "body": "<p>You need to:</p>\n\n<ol>\n<li>Load <code>require.js</code>using a <code>&lt;script&gt;</code> tag.</li>\n<li>Create a <a href=\"http://requirejs.org/docs/api.html#config\" rel=\"nofollow\">require.config.js</a> file and load it using a <code>&lt;script&gt;</code> tag.</li>\n<li>Load your file <code>output.js</code> using a <code>&lt;script&gt;</code> tag.</li>\n</ol>\n\n<p>Another option is to compile your modules into CommonJS modules (The following is an example from one of my projects):</p>\n\n<pre><code>var gulp        = require(\"gulp\"),\n    browserify  = require(\"browserify\"),\n    source      = require(\"vinyl-source-stream\"),\n    buffer      = require(\"vinyl-buffer\"),\n    tsc         = require(\"gulp-typescript\");\n\nvar tsProject = tsc.createProject({\n  removeComments : false,\n  noImplicitAny : false,\n  target : \"ES5\",\n  module : \"commonjs\",\n  declarationFiles : false\n});\n\ngulp.task(\"build-source\", function() {\n  return gulp.src(__dirname + \"/source/**/**.ts\")\n             .pipe(tsc(tsProject))\n             .js.pipe(gulp.dest(__dirname + \"/build/source/\"));\n});\n</code></pre>\n\n<p>You can then use <a href=\"http://browserify.org/\" rel=\"nofollow\">Browserify</a> to create one single file that you can load directly in your browser:</p>\n\n<pre><code>gulp.task(\"bundle-source\", function () {\n  var b = browserify({\n    standalone : 'inversify',\n    entries: __dirname + \"/build/source/inversify.js\",\n    debug: true\n  });\n\n  return b.bundle()\n    .pipe(source(\"inversify.js\"))\n    .pipe(buffer())\n    .pipe(gulp.dest(__dirname + \"/bundled/source/\"));\n});\n</code></pre>\n"}], "owner": {"reputation": 6851, "user_id": 1588233, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/239f3554230af8644c737ab82ecededf?s=128&d=identicon&r=PG", "display_name": "Warlock", "link": "https://stackoverflow.com/users/1588233/warlock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 32759961, "answer_count": 1, "score": 0, "last_activity_date": 1443093382, "creation_date": 1443023402, "last_edit_date": 1443078209, "question_id": 32744099, "link": "https://stackoverflow.com/questions/32744099/how-to-generate-a-self-dependent-typescript-file-and-reference-it-in-html", "title": "How to generate a self-dependent typescript file and reference it in html?", "body": "<p>I'm using <code>gulp-typescript</code> task to generate a single js file with all needed requires. The next step is that I need to reference this file in html. How can I do this?</p>\n\n<pre><code>**project**\n|\n+-dist \n   |\n   +- output.js\n+-src\n   | \n   +- a.ts    \n   +- b.ts\n</code></pre>\n\n<p><strong>gulpfile.js</strong></p>\n\n<pre><code>var gulp = require('gulp')\nvar ts = require('gulp-typescript');\nvar concat = require('gulp-concat');\nvar sourcemaps = require('gulp-sourcemaps');\n\nvar config = {\n    app: 'src',\n    dist: 'dist',\n    fileName: 'output.js'\n};\n\ngulp.task('default', function () {\n    var tsRes = gulp.src(config.app + '/scripts/**/*.ts')\n        .pipe(sourcemaps.init())\n        .pipe(ts({\n            noImplicitAny: true,\n            out: config.fileName,\n            isolatedModules: false,\n            module: 'amd'\n        }));\n    return tsRes.js\n        .pipe(concat(config.fileName))\n        .pipe(sourcemaps.write())\n        .pipe(gulp.dest(config.dist));\n});\n</code></pre>\n\n<p><strong>output.js</strong></p>\n\n<pre><code>define([\"require\", \"exports\"], function (require, exports) {\n    var Greeter = (function () {\n        function Greeter(message) {\n            this.greeting = message;\n            console.log('Greeter constructor has been called');\n        }\n        Greeter.prototype.greet = function () {\n            return \"Hello, \" + this.greeting;\n        };\n        return Greeter;\n    })();\n    exports.Greeter = Greeter;\n});\n\ndefine([\"require\", \"exports\", './Greeter'], function (require, exports, model) {\n    var greeter = new model.Greeter(\"world\");\n    console.log(greeter);\n    var button = document.createElement('button');\n    button.textContent = \"Say Hello\";\n    button.onclick = function () {\n        alert(greeter.greet());\n    };\n    document.body.appendChild(button);\n});\n\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdyZWV0ZXIudHMiLCJtYWluLnRzIiwicG9ydGZvbGlvZGFzaGJvYXJkLndvcmtlci5qcyJdLCJuYW1lcyI6WyJHcmVldGVyIiwiR3JlZXRlci5jb25zdHJ1Y3RvciIsIkdyZWV0ZXIuZ3JlZXQiXSwibWFwcGluZ3MiOiI7SUFBQTtRQUVJQSxpQkFBWUEsT0FBZUE7WUFDdkJDLElBQUlBLENBQUNBLFFBQVFBLEdBQUdBLE9BQU9BLENBQUNBO1lBQ3hCQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxxQ0FBcUNBLENBQUNBLENBQUNBO1FBQ3ZEQSxDQUFDQTtRQUNERCx1QkFBS0EsR0FBTEE7WUFDSUUsTUFBTUEsQ0FBQ0EsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0E7UUFDckNBLENBQUNBO1FBQ0xGLGNBQUNBO0lBQURBLENBVEEsQUFTQ0EsSUFBQTtJQVRZLGVBQU8sVUFTbkIsQ0FBQTs7OztJQ1JELElBQUksT0FBTyxHQUFHLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRXJCLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDakMsTUFBTSxDQUFDLE9BQU8sR0FBRztRQUNoQixLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFBO0lBRUQsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7OztBQ1ZsQztBQUNBIiwiZmlsZSI6InBvcnRmb2xpb2Rhc2hib2FyZC53b3JrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgR3JlZXRlciB7XHJcbiAgICBncmVldGluZzogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5ncmVldGluZyA9IG1lc3NhZ2U7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dyZWV0ZXIgY29uc3RydWN0b3IgaGFzIGJlZW4gY2FsbGVkJyk7XHJcbiAgICB9XHJcbiAgICBncmVldCgpIHtcclxuICAgICAgICByZXR1cm4gXCJIZWxsbywgXCIgKyB0aGlzLmdyZWV0aW5nO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IG1vZGVsID0gcmVxdWlyZSgnLi9HcmVldGVyJyk7XHJcbnZhciBncmVldGVyID0gbmV3IG1vZGVsLkdyZWV0ZXIoXCJ3b3JsZFwiKTtcclxuY29uc29sZS5sb2coZ3JlZXRlcik7XHJcblxyXG52YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbmJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F5IEhlbGxvXCI7XHJcbmJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcblx0YWxlcnQoZ3JlZXRlci5ncmVldCgpKTtcclxufVxyXG5cclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4iLG51bGxdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n</code></pre>\n\n<p>I guess that I need to reference it using require.js, but since this is a single file I have no idea how can I call a required module.</p>\n\n<p>What I need ideally is just a single *.min.js file without require.js at all.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I have made a research and found this great article:\n<a href=\"http://www.davidkudera.com/2015/02/28/typescript-gulp-bower-browserify/\" rel=\"nofollow\">http://www.davidkudera.com/2015/02/28/typescript-gulp-bower-browserify/</a></p>\n"}, {"tags": ["javascript", "node.js", "typescript", "pug", "webpack"], "comments": [{"owner": {"reputation": 1508, "user_id": 1444541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/178653c038db283761268207ad9073de?s=128&d=identicon&r=PG", "display_name": "JaKXz", "link": "https://stackoverflow.com/users/1444541/jakxz"}, "edited": false, "score": 1, "creation_date": 1446754647, "post_id": 32744086, "comment_id": 54887414, "body": "For what it&#39;s worth, I got the template loading in TypeScript with the <code>jade-loader</code> in my loaders array and by using <code>import * as template from &#39;.&#47;relative&#47;path&#47;to&#47;template.jade&#39;</code>. This still gives me a TypeScript error in the console, even though I&#39;ve even passed in all my .jade files in tsConfig.json via the filesGlob property. Let me know if you get anywhere with this!"}, {"owner": {"reputation": 4854, "user_id": 1502035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2ZmRs.jpg?s=128&g=1", "display_name": "Kiara Grouwstra", "link": "https://stackoverflow.com/users/1502035/kiara-grouwstra"}, "reply_to_user": {"reputation": 1508, "user_id": 1444541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/178653c038db283761268207ad9073de?s=128&d=identicon&r=PG", "display_name": "JaKXz", "link": "https://stackoverflow.com/users/1444541/jakxz"}, "edited": false, "score": 0, "creation_date": 1446760057, "post_id": 32744086, "comment_id": 54890577, "body": "For some reason just using <code>require(&#39;.&#47;header.jade&#39;)</code> in an ng2 template declaration worked fine. I don&#39;t get it, but okay."}, {"owner": {"reputation": 1508, "user_id": 1444541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/178653c038db283761268207ad9073de?s=128&d=identicon&r=PG", "display_name": "JaKXz", "link": "https://stackoverflow.com/users/1444541/jakxz"}, "edited": false, "score": 0, "creation_date": 1446763942, "post_id": 32744086, "comment_id": 54892397, "body": "Strange. I get a TypeScript error when I do <code>require(&#39;.&#47;main.jade&#39;)</code>, &quot;error TS2304: Cannot find name &#39;require&#39;.&quot;"}, {"owner": {"reputation": 1508, "user_id": 1444541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/178653c038db283761268207ad9073de?s=128&d=identicon&r=PG", "display_name": "JaKXz", "link": "https://stackoverflow.com/users/1444541/jakxz"}, "edited": false, "score": 1, "creation_date": 1446765096, "post_id": 32744086, "comment_id": 54892826, "body": "My <code>package.json</code> has <code>&quot;typescript&quot;: &quot;^1.6.2&quot;</code> in devDependencies, but for some reason it seems the node typings are not built in?"}, {"owner": {"reputation": 4854, "user_id": 1502035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2ZmRs.jpg?s=128&g=1", "display_name": "Kiara Grouwstra", "link": "https://stackoverflow.com/users/1502035/kiara-grouwstra"}, "reply_to_user": {"reputation": 1508, "user_id": 1444541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/178653c038db283761268207ad9073de?s=128&d=identicon&r=PG", "display_name": "JaKXz", "link": "https://stackoverflow.com/users/1444541/jakxz"}, "edited": false, "score": 1, "creation_date": 1446765783, "post_id": 32744086, "comment_id": 54893048, "body": "@JaKXz: Good question... I know for sure I faced this same issue as well. I actually can&#39;t find the answer anymore (been trying other things over the last month), but if you wish to try and compare, I&#39;ve uploaded what I have right now over <a href=\"https://github.com/tycho01/front\" rel=\"nofollow noreferrer\">here</a>. Hope it might help you -- sorry I don&#39;t have any better answer right now."}, {"owner": {"reputation": 1508, "user_id": 1444541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/178653c038db283761268207ad9073de?s=128&d=identicon&r=PG", "display_name": "JaKXz", "link": "https://stackoverflow.com/users/1444541/jakxz"}, "edited": false, "score": 1, "creation_date": 1446768122, "post_id": 32744086, "comment_id": 54893835, "body": "Yeah it is strange. Installing the typings for node solved it for me. Thanks for sharing!"}, {"owner": {"reputation": 4854, "user_id": 1502035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2ZmRs.jpg?s=128&g=1", "display_name": "Kiara Grouwstra", "link": "https://stackoverflow.com/users/1502035/kiara-grouwstra"}, "reply_to_user": {"reputation": 1508, "user_id": 1444541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/178653c038db283761268207ad9073de?s=128&d=identicon&r=PG", "display_name": "JaKXz", "link": "https://stackoverflow.com/users/1444541/jakxz"}, "edited": false, "score": 1, "creation_date": 1446802735, "post_id": 32744086, "comment_id": 54905402, "body": "Hah, great. Glad you got it working!"}], "answers": [{"tags": [], "owner": {"reputation": 531, "user_id": 1440145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfab59f9b2d3e7f2cfbe6f0927cce2e0?s=128&d=identicon&r=PG", "display_name": "James Brantly", "link": "https://stackoverflow.com/users/1440145/james-brantly"}, "is_accepted": true, "score": 2, "last_activity_date": 1446777293, "creation_date": 1446777293, "answer_id": 33558528, "question_id": 32744086, "link": "https://stackoverflow.com/questions/32744086/importing-jade-templates-through-webpack-in-typescript/33558528#33558528", "title": "Importing Jade templates through Webpack in Typescript", "body": "<p>TypeScript assigns special meaning to the <code>import</code> keyword (it's expecting an actual module). You should instead define a <code>require</code> function and use <code>var foo = require('...')</code> (note <code>var</code> instead of <code>import</code>).</p>\n\n<p>Here's an example of a require definition <a href=\"https://github.com/TypeStrong/ts-loader#loading-other-resources-and-code-splitting\" rel=\"nofollow\">from the ts-loader docs</a>.</p>\n\n<pre><code>declare var require: {\n    &lt;T&gt;(path: string): T;\n    (paths: string[], callback: (...modules: any[]) =&gt; void): void;\n    ensure: (paths: string[], callback: (require: &lt;T&gt;(path: string) =&gt; T) =&gt; void) =&gt; void;\n};\n</code></pre>\n"}], "owner": {"reputation": 4854, "user_id": 1502035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2ZmRs.jpg?s=128&g=1", "display_name": "Kiara Grouwstra", "link": "https://stackoverflow.com/users/1502035/kiara-grouwstra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2142, "favorite_count": 0, "accepted_answer_id": 33558528, "answer_count": 1, "score": 2, "last_activity_date": 1446777293, "creation_date": 1443023357, "question_id": 32744086, "link": "https://stackoverflow.com/questions/32744086/importing-jade-templates-through-webpack-in-typescript", "title": "Importing Jade templates through Webpack in Typescript", "body": "<p>I'm trying to get a grip of present front-end tech, and want to load a Jade template using Webpack. Using Javascript, this works as expected.</p>\n\n<p><code>app.js</code>:</p>\n\n<pre><code>import * as foo from \"html!jade-html!./header.jade\";\ndocument.write(foo.default);\n</code></pre>\n\n<p>But if I rename it to <code>app.ts</code>, content unchanged, <code>webpack</code> to build: </p>\n\n<pre><code>ERROR in ./app.ts\n(5,22): error TS2307: Cannot find module 'html!jade-html!./header.jade'.\n</code></pre>\n\n<p>I'm surprised the module loading semantics would suddenly change using TypeScript. What gives?</p>\n\n<p>Bonus points: can this Jade loading snippet be written shorter?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 11097, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZbBzp.jpg?s=128&g=1", "display_name": "kenstone", "link": "https://stackoverflow.com/users/11097/kenstone"}, "edited": false, "score": 0, "creation_date": 1443192558, "post_id": 32750649, "comment_id": 53408425, "body": "Thanks for the answer. It&#39;s good, but it makes an assumption that I&#39;m unsure of: that I am directly capturing the button click. In reality the button click handler is in a different class than the observable work. I wanted to be able to kick-off an update of the observable with just a function call.  FWIW, I was able to do what I wanted with a Subject, but I wondered if there was a way to do it with &quot;straight&quot;"}, {"owner": {"reputation": 16874, "user_id": 3743222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/12f03e5bb18f6cc77efaa8eb7193d5dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3743222", "link": "https://stackoverflow.com/users/3743222/user3743222"}, "reply_to_user": {"reputation": 526, "user_id": 11097, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZbBzp.jpg?s=128&g=1", "display_name": "kenstone", "link": "https://stackoverflow.com/users/11097/kenstone"}, "edited": false, "score": 0, "creation_date": 1443251466, "post_id": 32750649, "comment_id": 53427508, "body": "Yes you can replace <code>Rx.Observable.fromEvent(button, &#39;click&#39;)</code> by your subject. Sometimes you can use <code>Rx.Observable.create</code> in lieu of a subject, wrap the listener creation inside it, and return a disposable to remove the listener - but without seeing your code I don&#39;t know if it is possible or not. Glad it worked though. There is nothing wrong with using a subject when there is no better option available for instance when you don&#39;t/can&#39;t have the event source in scope. BTW, some SO guideline : if the answer is good for you, you should accept it."}], "tags": [], "owner": {"reputation": 16874, "user_id": 3743222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/12f03e5bb18f6cc77efaa8eb7193d5dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3743222", "link": "https://stackoverflow.com/users/3743222/user3743222"}, "is_accepted": true, "score": 4, "last_activity_date": 1443048367, "last_edit_date": 1443048367, "creation_date": 1443048022, "answer_id": 32750649, "question_id": 32741875, "link": "https://stackoverflow.com/questions/32741875/how-to-restart-or-refresh-an-observable/32750649#32750649", "title": "How to restart or refresh an Observable?", "body": "<p>I don't know so much about Angular2 and Typescript, but typescript being a superset of javascript, I made the following hypothesis (let me know if I am wrong) which should make the following javascript code work :</p>\n\n<ul>\n<li><code>server.get</code> returns a promise (or array or Rx.Observable)</li>\n<li><code>posts</code> is an array of <code>post</code></li>\n</ul>\n\n<p>You would need to create an observable from the click event on that button, map that click to your <code>GET</code> request and the rest should be more or less as you wrote. I cannot test it, but it should go along those lines:</p>\n\n<pre><code>// get the DOM id for the button\nvar button = document.getElementById('#xxx');\n\n// create the observable of refined posts\nvar query$ = \n    Rx.Observable.fromEvent(button, 'click')\n        .flapMapLatest(function (ev) {\n                     return this.server.get('http://localhost/rawData.json')\n                   })\n        .map(function (result){return result.json().posts})\n        .map(function (posts) {\n                return posts.map(function(post){\n                                   var refinedPost = new RefinedPost();\n                                   refinedPost.Message = post.Message.toLowerCase();\n                                   return refinedPost;\n                           })\n             })\n        .share()\n\n// subscribe to the query$. Its output is an array of refinedPost\n// All subscriptions will see the same data (hot source)\nvar subscriber = query$.subscribe(function(refinedPosts){console.log(refinedPosts)})\n</code></pre>\n\n<p>Some explanation :</p>\n\n<ol>\n<li>Every click will produce a call to <code>server.get</code> which returns an observable-compatible type (array, promise, or observable). That returned observable is flattened to extract <code>result</code> from that call</li>\n<li>Because the user can click many times, and each click generate its flow of data, and we are interested (another hypothesis I make here too) only in the result of the latest click, we use the operator flatMapLatest, which will perform the flatMap only on the observable generated by the latest click</li>\n<li>We extract the array of post <code>posts</code> and make an array of <code>refinedPost</code> from it. In the end, every click will produce an array of <code>refinedPost</code> which I assume is what you want</li>\n<li>We share this observable as you mention you will have several subscribers, and you want all subscribers to see the same data. </li>\n</ol>\n\n<p>Let me know if my hypotheses are correct and if this worked for you.</p>\n\n<p>In addition I recommend you to have a look at <a href=\"https://gist.github.com/staltz/868e7e9bc2a7b8c1f754\" rel=\"nofollow\">https://gist.github.com/staltz/868e7e9bc2a7b8c1f754</a></p>\n\n<p>In addition to being a very good reminder of the concepts, it addresses a <em>refresh</em> server call problem very similar to yours.</p>\n"}], "owner": {"reputation": 526, "user_id": 11097, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZbBzp.jpg?s=128&g=1", "display_name": "kenstone", "link": "https://stackoverflow.com/users/11097/kenstone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6135, "favorite_count": 0, "accepted_answer_id": 32750649, "answer_count": 1, "score": 8, "last_activity_date": 1473211781, "creation_date": 1443017276, "last_edit_date": 1473211781, "question_id": 32741875, "link": "https://stackoverflow.com/questions/32741875/how-to-restart-or-refresh-an-observable", "title": "How to restart or refresh an Observable?", "body": "<p>I've got a TypeScript/Angular 2 Observable that works perfectly the first time I call it. However, I'm interested in attaching multiple subscribers to the same observable and somehow refreshing the observable and the attached subscribers. Here's what I've got:</p>\n\n<pre><code>query(): Rx.Observable&lt;any&gt; {\n\nreturn this.server.get('http://localhost/rawData.json').toRx().concatMap(\n    result =&gt;\n        result.json().posts\n    )\n    .map((post: any) =&gt; {\n        var refinedPost = new RefinedPost();\n        refinedPost.Message = post.Message.toLowerCase();\n\n        return refinedPost;\n\n    }).toArray();\n\n}\n</code></pre>\n\n<p>Picture that there is a refresh button that when pressed, re-executes this observable and any subscribers that are connected to it get an updated set of data.</p>\n\n<p>How can I accomplish this?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1443015053, "post_id": 32740616, "comment_id": 53322702, "body": "get rid of <code>$q</code> altogether and just return <code>$http</code>. You are using an anti-pattern since <code>$http</code> already returns a promise"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1443015343, "post_id": 32740616, "comment_id": 53322922, "body": "@charlietfl - I see what you are saying but how would that work if the &quot;this.$state.go( .... ) (that returns a promise) returned a failed promise because of something happening when the state change didn&#39;t work?"}, {"owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1443015908, "post_id": 32740616, "comment_id": 53323367, "body": "If you just had the call to <code>$http</code> I would agree with @charlietfl, but as you are using it yourself to trigger some additional actions I think in this case you want to create your own promise to be resolved when all of your actions are completed."}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1443016307, "post_id": 32740616, "comment_id": 53323696, "body": "but the actual <code>delete</code> at server was accomplished so if you fail with <code>$state.go</code> what are you going to show user as problem? A statechange error handler would cover it wouldn&#39;t it?"}, {"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 1, "creation_date": 1443016896, "post_id": 32740616, "comment_id": 53324168, "body": "@Anne If $state.go fails, the error will move up the promise chain and make topicDeleteSubmit return that failed promise, similar to an exception travelling through the function stack. Similarly, you can &quot;catch&quot; the error by adding this to $state.go: <code>.then(null, function() { });</code>. I&#39;m of the opinion that you should be able to do this method without making a custom <code>defer</code>. It takes a bit of understanding of the way <code>.then</code> works, but it&#39;s good practice."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1443017956, "post_id": 32740616, "comment_id": 53324964, "body": "@Katana314 - would you mind adding your suggestion as an answer. I think Duncan is suggesting it still needs to be another promise so I&#39;d like to get another opinion. Thanks so much."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443014961, "post_id": 32740802, "comment_id": 53322617, "body": "Couple of questions. I had originally had a return before &quot;this.$state.go...    reading your answer, can I assume this was the wrong way to do it?  Also can I assume that to make it 100% valid I would also need a defer.reject in the .then( ...    Thanks"}, {"owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "edited": false, "score": 1, "creation_date": 1443015338, "post_id": 32740802, "comment_id": 53322916, "body": "The <code>defer.reject</code> call that you have is probably fine. You might add another reject call in case <code>$state.go</code> can fail but if it isn&#39;t likely to fail that might not be needed. I doubt the <code>return</code> you had was needed as the promise returned by <code>$http</code> isn&#39;t going to care what if anything you return."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443015450, "post_id": 32740802, "comment_id": 53323007, "body": "charlietfl was mentioning this was an anti-pattern but as the state.go returns a promise this was the only way i could think to do it. Do you see any other way. Thanks"}], "tags": [], "owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "is_accepted": false, "score": 0, "last_activity_date": 1443014576, "creation_date": 1443014576, "answer_id": 32740802, "question_id": 32740616, "link": "https://stackoverflow.com/questions/32740616/how-can-i-handle-calling-a-function-that-returns-a-promise-inside-a-defer-resolv/32740802#32740802", "title": "How can I handle calling a function that returns a promise inside a defer.resolve()?", "body": "<p>You can wait until the promise returned by <code>$state.go()</code> resolves before resolving the original promise:</p>\n\n<pre><code>            this.$state.go('home.subjects.subject.admin.topics', {\n                subjectId: this.sus.subject.id\n            }).then(function() {\n                defer.resolve();\n            });\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443027958, "post_id": 32742353, "comment_id": 53331703, "body": "I tried this by putting in a state that was not valid.  topicDeleteSubmit return a success. I really do think I will need to add the $q as Duncan has suggested.  I&#39;d also welcome opinions from others."}], "tags": [], "owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "is_accepted": true, "score": 0, "last_activity_date": 1443018556, "creation_date": 1443018556, "answer_id": 32742353, "question_id": 32740616, "link": "https://stackoverflow.com/questions/32740616/how-can-i-handle-calling-a-function-that-returns-a-promise-inside-a-defer-resolv/32742353#32742353", "title": "How can I handle calling a function that returns a promise inside a defer.resolve()?", "body": "<p>I'll preface my answer with a caveat. I don't have a lot of knowledge of angularjs, but I do know promises pretty well.</p>\n\n<pre><code>topicDeleteSubmit = (): ng.IPromise&lt;any&gt; =&gt; {\n    // Not bothering with 'self'; properly-compiled arrow functions () =&gt; should\n    // inherit `this`.\n    return this.$http({\n        url: this.url,\n        method: \"DELETE\"\n    })\n        .then(\n        (response: ng.IHttpPromiseCallbackArg&lt;any&gt;): any =&gt; {\n                return this.$state.go('home.subjects.subject.admin.topics', {\n                    subjectId: this.sus.subject.id\n                });\n            }\n            // by not including an error handler, the method that calls this one\n            // will need to resolve any errors. Any low-level errors will copy\n            // over to the promise that expects their result. (similar to\n            // exception handling)\n            );\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 32742353, "answer_count": 2, "score": 1, "last_activity_date": 1443028022, "creation_date": 1443014096, "last_edit_date": 1443028022, "question_id": 32740616, "link": "https://stackoverflow.com/questions/32740616/how-can-i-handle-calling-a-function-that-returns-a-promise-inside-a-defer-resolv", "title": "How can I handle calling a function that returns a promise inside a defer.resolve()?", "body": "<p>I have an AngularJS function that uses $q. In the function I have a call to %http and in the .then functions I return <code>defer.resolve()</code> or <code>defer.reject()</code>.</p>\n\n<p>However I realized that before the resolve I need to go to a different state which I do with <code>this.$state.go(..)</code> which returns a promise. </p>\n\n<p>So I am confused. My code is expecting a defer.resolve() so how do I handle this. Can I just return <code>this.$state.go(...)</code>?</p>\n\n<pre><code>topicDeleteSubmit = (): ng.IPromise&lt;any&gt; =&gt; {\n    var self = this;\n    var defer = self.$q.defer();\n    self.$http({\n        url: self.url,\n        method: \"DELETE\"\n    })\n        .then(\n        (response: ng.IHttpPromiseCallbackArg&lt;any&gt;): any =&gt; {\n                // Original code \n                this.$state.go('home.subjects.subject.admin.topics', {\n                    subjectId: this.sus.subject.id\n                });\n                defer.resolve();\n\n                // New code\n                return this.$state.go('home.subjects.subject.admin.topics', {\n                    subjectId: this.sus.subject.id\n                });\n            },\n            (error): any =&gt; {\n                defer.reject(error);\n            }\n            )\n    return defer.promise;\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>My tests seem to show that I do need to add my own defer in the way of Duncan's answer.  I would welcome comments from others confirming this or proving me wrong. </p>\n"}, {"tags": ["reactjs", "typescript", "react-router", "react-jsx", "typescript1.6"], "answers": [{"tags": [], "owner": {"reputation": 870, "user_id": 1942494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cadbe3214e490ffa6e164e65e5817f9?s=128&d=identicon&r=PG", "display_name": "ahz", "link": "https://stackoverflow.com/users/1942494/ahz"}, "is_accepted": false, "score": 2, "last_activity_date": 1443278386, "last_edit_date": 1495540369, "creation_date": 1443278386, "answer_id": 32798350, "question_id": 32740122, "link": "https://stackoverflow.com/questions/32740122/react-router-typescript-navigation-0-13-3-cannot-read-property-router/32798350#32798350", "title": "react-router typescript navigation 0.13.3 - cannot read property &#39;router&#39;", "body": "<p><code>ReactRouter.Navigation</code> is a mixin class - you are accessing it statically, which causes wrong scope.</p>\n\n<p>You should change your code to something like this:</p>\n\n<pre><code>/// &lt;reference path=\"../typings/react/react.d.ts\" /&gt;\n/// &lt;reference path=\"../typings/react-router/react-router.d.ts\" /&gt;\n\nimport React = require('react');\nimport ReactRouter = require('react-router');\nimport Header = require('./common/header.tsx');\nvar Navigation = ReactRouter.Navigation;\n\nclass Home extends React.Component&lt;{}, {}&gt; {\n    static contextTypes: React.ValidationMap&lt;any&gt; = {\n        router: React.PropTypes.func.isRequired\n    };\n\n    render(): JSX.Element {\n        return (\n            &lt;div&gt;\n                &lt;Header.Header MenuItems={[]}/&gt;\n                &lt;div className=\"jumbotron\"&gt;\n                    &lt;h1&gt;Utility&lt;/h1&gt;\n                    &lt;p&gt;Click on one of the options below to get started...&lt;/p&gt;\n                    &lt;a className=\"btn btn-lg\" onClick={() =&gt; (&lt;any&gt;this.context).router.transitionTo('Route1')}&gt;Route1&lt;/a&gt;\n                    &lt;a className=\"btn btn-lg\" onClick={() =&gt; (&lt;any&gt;this.context).router.transitionTo('Route2')}&gt;Route2&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n        );\n    }\n}\n\nexport = Home;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/31079081\">This</a> seems to be very similar question but for pure JavaScript.</p>\n\n<p>BTW why are you using old TypeScript modules instead of <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#es6-modules\" rel=\"nofollow noreferrer\">ES6 modules</a> supported in TS 1.6?</p>\n"}, {"comments": [{"owner": {"reputation": 870, "user_id": 1942494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cadbe3214e490ffa6e164e65e5817f9?s=128&d=identicon&r=PG", "display_name": "ahz", "link": "https://stackoverflow.com/users/1942494/ahz"}, "edited": false, "score": 1, "creation_date": 1446130253, "post_id": 32948229, "comment_id": 54624544, "body": "that&#39;s why I always &quot;casted&quot; it in handler functions - <code>&lt;any&gt;this.context</code>. Therefore my answer is equivalent to this..."}], "tags": [], "owner": {"reputation": 1205, "user_id": 4689483, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/151bc535ca1581cb451eb4df1672b018?s=128&d=identicon&r=PG", "display_name": "JTaub", "link": "https://stackoverflow.com/users/4689483/jtaub"}, "is_accepted": true, "score": 1, "last_activity_date": 1444046781, "creation_date": 1444046781, "answer_id": 32948229, "question_id": 32740122, "link": "https://stackoverflow.com/questions/32740122/react-router-typescript-navigation-0-13-3-cannot-read-property-router/32948229#32948229", "title": "react-router typescript navigation 0.13.3 - cannot read property &#39;router&#39;", "body": "<p>Thanks for your help. It worked to use this.context, however in order to make the TypeScript compiler happy, I needed to create a variable that was equal to this.context with the type of any. Here is what the render method looked like:</p>\n\n<pre><code>render(): JSX.Element {\n    var myContext: any = this.context;\n    return (\n        &lt;div&gt;\n            &lt;Header.Header MenuItems={[]}/&gt;\n            &lt;div className=\"jumbotron\"&gt;\n                &lt;h1&gt;Utility&lt;/h1&gt;\n                &lt;p&gt;Click on one of the options below to get started...&lt;/p&gt;\n                &lt;a className=\"btn btn-lg\" onClick={() =&gt; myContext.router.transitionTo('remoteaccess') }&gt;Remote Access&lt;/a&gt;\n                &lt;a className=\"btn btn-lg\" onClick={() =&gt; myContext.router.transitionTo('bridge') }&gt;Bridge&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 1205, "user_id": 4689483, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/151bc535ca1581cb451eb4df1672b018?s=128&d=identicon&r=PG", "display_name": "JTaub", "link": "https://stackoverflow.com/users/4689483/jtaub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 32948229, "answer_count": 2, "score": 2, "last_activity_date": 1454214534, "creation_date": 1443012663, "last_edit_date": 1454214534, "question_id": 32740122, "link": "https://stackoverflow.com/questions/32740122/react-router-typescript-navigation-0-13-3-cannot-read-property-router", "title": "react-router typescript navigation 0.13.3 - cannot read property &#39;router&#39;", "body": "<p>I am trying to convert an existing react project over to typescript. Nearly everything is working fine, except for the Navigation mixin for react-router (version 0.13.3). I am currently getting an error that states \"Cannot read property 'router' of undefined.\"</p>\n\n<p>My main page code currently looks like this:</p>\n\n<pre><code>/// &lt;reference path=\"../typings/react/react.d.ts\" /&gt;\n/// &lt;reference path=\"../typings/react-router/react-router.d.ts\" /&gt;\n\nimport React = require('react');\nimport ReactRouter = require('react-router');\nimport Header = require('./common/header.tsx');\nvar Navigation = ReactRouter.Navigation;\n\nclass Home extends React.Component&lt;{}, {}&gt; {\n    static contextTypes: React.ValidationMap&lt;any&gt; = {\n        router: React.PropTypes.func.isRequired\n    };\n\n    render(): JSX.Element {\n        return (\n            &lt;div&gt;\n                &lt;Header.Header MenuItems={[]}/&gt;\n                &lt;div className=\"jumbotron\"&gt;\n                    &lt;h1&gt;Utility&lt;/h1&gt;\n                    &lt;p&gt;Click on one of the options below to get started...&lt;/p&gt;\n                    &lt;a className=\"btn btn-lg\" onClick={() =&gt; Navigation.transitionTo('Route1')}&gt;Route1&lt;/a&gt;\n                    &lt;a className=\"btn btn-lg\" onClick={() =&gt; Navigation.transitionTo('Route2')}&gt;Route2&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n        );\n    }\n}\n\nexport = Home;\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1443013747, "post_id": 32740089, "comment_id": 53321610, "body": "Why exactly do you need a deferred? Notice that using deferreds in conjunction with existing promises is referred to as <a href=\"https://github.com/petkaantonov/bluebird/wiki/Promise-anti-patterns#the-deferred-anti-pattern\" rel=\"nofollow noreferrer\">deferred antipattern</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1443014261, "post_id": 32740089, "comment_id": 53322042, "body": "I am going through the rows of a datagrid and doing a save on each of these rows.  Each save has a completion promise. I use $q.all to wait until all those promises (saves) are completed okay and then I set the state of the grid to clean.  Note that I removed a few lines and replaced them with // to simplify this example.  The code doing the save seems to work okay but then I would like to make the topicsSave() function return a promise when it&#39;s completed. That&#39;s the bit I am unclear on right now."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443015961, "post_id": 32740963, "comment_id": 53323417, "body": "Would I also need to return a $q.resolve after the self.topicsForm .. ?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1443016263, "post_id": 32740963, "comment_id": 53323651, "body": "No. The promise is already resolved. You may return the data that will be passed to next &#39;then&#39;, if needed. That&#39;s why deferreds are useless outside of jQuery."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 0, "last_activity_date": 1443014959, "creation_date": 1443014959, "answer_id": 32740963, "question_id": 32740089, "link": "https://stackoverflow.com/questions/32740089/how-can-i-make-a-function-that-contains-mapped-promises-return-a-promise/32740963#32740963", "title": "How can I make a function that contains mapped promises return a promise?", "body": "<p>It is</p>\n\n<pre><code>topicsSave = (): ng.IPromise&lt;any&gt; =&gt; {\n    ...\n    return self.$q.all(requests)\n    .then(\n        (): void =&gt; {\n            self.topicsForm.$setPristine();\n        },\n        (): void =&gt; {\n            return $q.reject('$q.all rejection reason');\n        });\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 32740963, "answer_count": 1, "score": 0, "last_activity_date": 1443014959, "creation_date": 1443012588, "last_edit_date": 1443013591, "question_id": 32740089, "link": "https://stackoverflow.com/questions/32740089/how-can-i-make-a-function-that-contains-mapped-promises-return-a-promise", "title": "How can I make a function that contains mapped promises return a promise?", "body": "<p>I have this AngularJS function:</p>\n\n<pre><code>topicsSave = (): ng.IPromise&lt;any&gt; =&gt; {\n    var self = this;\n    var defer = self.$q.defer();\n    var requests = self.topics\n        .map((rowData: any, i: number) =&gt; {\n            var deferred = self.$q.defer();\n            var entityId = rowData['topicId'];\n            self.$http({ url: self.url,\n                method: \"PUT\",\n                data: rowData\n            }).then((response: ng.IHttpPromiseCallbackArg&lt;any&gt;): void =&gt; {\n                // \n                deferred.resolve(response.data);\n                }, (error: ng.IHttpPromiseCallbackArg&lt;any&gt;): void =&gt; {\n                deferred.reject(error);\n            });\n            return deferred.promise;\n        }\n            );\n    self.$q.all(requests)\n        .then(\n            (): void =&gt; {\n                self.topicsForm.$setPristine();\n            },\n            (): void =&gt; {\n            });\n}\n</code></pre>\n\n<p>From what I see $q.all returns a promise but how do I need to set up a nother defer variable and defer from that?</p>\n"}, {"tags": ["angularjs", "templates", "dynamic", "angularjs-directive", "typescript"], "owner": {"reputation": 631, "user_id": 3655314, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/pmVr3.jpg?s=128&g=1", "display_name": "HansMusterWhatElse", "link": "https://stackoverflow.com/users/3655314/hansmusterwhatelse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1203, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1443100328, "creation_date": 1443010910, "last_edit_date": 1443100328, "question_id": 32739473, "link": "https://stackoverflow.com/questions/32739473/angularjs-typescript-directive-with-dynamic-template-loading-and-events", "title": "AngularJS / Typescript - Directive with dynamic template loading and events", "body": "<p>I've got the following directive (I've cut out the non-important part for the sake of brevity) :</p>\n\n<p>I basically use the <code>ng-include</code> directive to dynamically load my templates.</p>\n\n<h2>Directive</h2>\n\n<pre><code>module chat.directives {\n  \"use strict\";\n  export class ChatWindow implements ng.IDirective {\n    public restrict = 'E'\n    public static DirectoryName = \"chatWindow\";\n    public scope = {\n      chatModel: '=',\n      chatSection: '@chatSection'\n    }\n\n    public template(element : ng.IAugmentedJQuery, attrs : IChatWindowAtributes) {\n      return '&lt;div ng-include=\"getTemplateUrl()\"&gt;&lt;/div&gt;';\n    }\n\n    public link(scope:chat.controllers.IChatScope, element:ng.IAugmentedJQuery, attrs:ng.IAttributes) {\n\n      scope.getTemplateUrl = () =&gt; {\n        return \"/chat/directives/\" + scope.chatSection + \"-chat-window-template.html\";\n      }\n    }\n\n\n    public static factory():ng.IDirectiveFactory {\n      var directive = () =&gt; new ChatWindow();\n      directive.$inject = [];\n      return directive;\n    }\n  }\n\n  interface IChatWindowAtributes extends ng.IAttributes {\n    chatSection : string;\n  }\n\n  angular\n    .module('chat')\n    .directive(chat.directives.ChatWindow.DirectoryName, chat.directives.ChatWindow.factory());\n}\n</code></pre>\n\n<p>Problems do arise as soon as I try to implement an event in one of the templates, for example <code>ng-click</code>.</p>\n\n<p>Because I am using the <code>ng-include</code> hack, <code>element.html()</code> of the linkage function refers to <code>&lt;div ng-include=\"getTemplateUrl()\"&gt;&lt;/div&gt;</code> and thus doesn't allow me to setup an eventhandler programmatically.</p>\n\n<h2>HTML Template</h2>\n\n<pre><code>&lt;!-- Chat window--&gt;\n&lt;div class=\"col-xs-4 chat-window\"&gt;\n  &lt;aside&gt;\n    &lt;div class=\"panel panel-default\"&gt;\n      &lt;div class=\"panel-heading\"&gt;\n        &lt;span class=\"glyphicon glyphicon-list-alt icon\"&gt;&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"chat-output\"&gt;\n\n      &lt;/div&gt;\n      &lt;form action=\"\"&gt;\n        &lt;input id=\"msgInput\" autocomplete=\"off\"/&gt;\n        &lt;button ng-click=\"chat.sendMessage('hi')\" stop-event&gt;Send&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  &lt;/aside&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Additionally, any call from the template with <code>ng-click=\"chat.sendMessage('hi')\"</code> doesn't trigger the corresponding function in my controller.</p>\n\n<h2>Controller Implementation</h2>\n\n<pre><code>module chat.controllers {\n  'use strict';\n\n  class ChatCtrl {\n\n    public chatHistory : Array&lt;Common.Services.IMessage&gt; = [];\n    public chatSection : string;\n    public currentMessage : string;\n\n    // $inject annotation.\n    // It provides $injector with information about dependencies to be injected into constructor\n    // it is better to have it close to the constructor, because the parameters must match in count and type.\n    // See http://docs.angularjs.org/guide/di\n    public static $inject = [\n      '$scope',\n      'UserService',\n      'MessageService'\n    ];\n\n    // dependencies are injected via AngularJS $injector\n    constructor(private $scope: IChatScope, private userService : User.Services.IUserService, private messageService : Common.Services.IMessageService) {\n      this.$scope.chatModel = {\n        chatHistory: this.chatHistory,\n        userService : this.userService,\n        messageService: this.messageService,\n        storeChatSectionInCtrl : this.storeChatSectionInCtrl,\n        subscribeToChatSectionEvents : this.subscribeToChatSectionEvents,\n        fetchChatHistory : this.fetchChatHistory\n      }\n    }\n\n    public storeChatSectionInCtrl(section){\n      // Store the section additionally to the directive in the controller\n      this.chatSection = section;\n    }\n\n    public subscribeToChatSectionEvents(section : string){\n      var self = this;\n\n      // Subscribe for the chat section for incoming messages\n      this.messageService.addMessageListener(section + \"ChatMessage\", function(){\n\n      });\n\n      // Subscribe for incoming messages to load the chat history\n      this.messageService.addMessageListener(section + \"ChatHistory\", function(message : ChatHistoryMessage){\n        self.chatHistory = message.data.chatHistory;\n      });\n    }\n\n    // Send a chat message to the server\n    public sendMessage(message : string){\n      var messageObj = new ChatInputMessage({\n        chatSectionPrefix : this.chatSection,\n        chatMessageObj : new ChatMessage({\n          message : message\n        })\n      });\n\n      this.messageService.sendMessage(messageObj);\n    }\n\n    // Send a request for the chat history to the server\n    public fetchChatHistory(section : string){\n      var messageObj : ChatHistoryMessage = new ChatHistoryMessage({\n       chatSectionPrefix : section,\n       chatHistory : null\n       });\n\n       // Send a request in order to retrieve the chat history of the given section\n       this.messageService.sendMessage(messageObj);\n    }\n  }\n\n  export interface IChatScope extends ng.IScope {\n    getTemplateUrl : () =&gt; string;\n    chatModel : IChatModel;\n    chatSection : string;\n  }\n\n  export interface IChatModel {\n    chatHistory :  Array&lt;Common.Services.IMessage&gt;;\n    userService: User.Services.IUserService;\n    messageService : Common.Services.IMessageService;\n    storeChatSectionInCtrl : (section : string) =&gt; void;\n    subscribeToChatSectionEvents: (nameOfEventListener : string) =&gt; void;\n    fetchChatHistory : (section: string) =&gt; void;\n  }\n\n  // Message\n  export interface IChatMessage {\n    message : string;\n    creationDate? : string;\n    from? : string;\n    to? : string;\n  }\n\n  export class ChatMessage implements IChatMessage {\n    public message : string;\n    public creationDate : string;\n    public from : string;\n    public to : string;\n\n    constructor(message : IChatMessage){\n      this.message = message.message;\n      this.creationDate = message.creationDate;\n      this.from = message.from;\n      this.to = message.to;\n    }\n  };\n\n  // Message Service\n  export interface IChatData{\n    chatSectionPrefix : string;\n    chatMessageObj : IChatMessage;\n  }\n\n  export class ChatInputMessage extends Common.Services.ClientMessage&lt;IChatData&gt; {\n    static NAME = \"ChatMessage\";\n\n    constructor (chatData: IChatData) {\n      super(chatData.chatSectionPrefix + ChatInputMessage.NAME, chatData);\n    }\n  }\n\n  // Chat history\n  export class ChatHistoryMessage extends Common.Services.ClientMessage&lt;IChatHistory&gt; {\n    static NAME = \"ChatHistory\";\n\n    constructor (chatData: IChatHistory) {\n      super(chatData.chatSectionPrefix + ChatHistoryMessage.NAME, chatData);\n    }\n  }\n\n  export interface IChatHistory{\n    chatSectionPrefix : string;\n    chatHistory : Array&lt;IChatMessage&gt;;\n  }\n\n  /**\n  * @ngdoc object\n  * @name chat.controller:ChatCtrl\n  *\n  * @description\n  *\n  */\n  angular\n    .module('chat')\n    .controller('ChatCtrl', ChatCtrl);\n}\n</code></pre>\n\n<h2>HTML</h2>\n\n<pre><code> &lt;div ng-controller=\"ChatCtrl\"&gt;\n      &lt;chat-window chat-model=\"chatModel\" chat-section='lobby'&gt;&lt;/chat-window&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<h2>Solution</h2>\n\n<p>For some reason I though I would operate on the controller instead of the directive - thus using <code>sendMessage('hi')</code> instead of <code>chat.sendMessage('hi')</code> solved the issue ...</p>\n"}, {"tags": ["typescript", "definitelytyped", "tsd", "stamplay"], "comments": [{"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 1, "creation_date": 1443008620, "post_id": 32738512, "comment_id": 53317914, "body": "you can do this manually - just copy your file into your project and add reference to it something like <code>&#47;&#47;&#47;&lt;reference path=&quot;somepath&#47;stamplay-js-sdk.d.ts&quot;&#47;&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 1629243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca09ab1a2a3d0d17f2c27198bf2e146e?s=128&d=identicon&r=PG", "display_name": "Gaelan", "link": "https://stackoverflow.com/users/1629243/gaelan"}, "is_accepted": true, "score": 1, "last_activity_date": 1443035260, "creation_date": 1443035260, "answer_id": 32747596, "question_id": 32738512, "link": "https://stackoverflow.com/questions/32738512/add-a-custom-d-ts-file-into-my-project/32747596#32747596", "title": "Add a custom .d.ts file into my project", "body": "<p>Just put <code>\"repo\": \"Ridermansb/DefinitelyTyped\",</code> into your <code>tsd.json</code>.</p>\n"}], "owner": {"reputation": 9531, "user_id": 491181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5728e1eaf86f796b7b626f322b1ad956?s=128&d=identicon&r=PG", "display_name": "ridermansb", "link": "https://stackoverflow.com/users/491181/ridermansb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "accepted_answer_id": 32747596, "answer_count": 1, "score": 1, "last_activity_date": 1444671623, "creation_date": 1443008147, "last_edit_date": 1444671623, "question_id": 32738512, "link": "https://stackoverflow.com/questions/32738512/add-a-custom-d-ts-file-into-my-project", "title": "Add a custom .d.ts file into my project", "body": "<p>I'm using <a href=\"https://github.com/Stamplay/stamplay-js-sdk\" rel=\"nofollow\">StamplayAPI Javascript</a>, but there is no set type for this library.\nSo I <a href=\"https://github.com/Ridermansb/DefinitelyTyped/blob/master/stamplay-js-sdk/stamplay-js-sdk.d.ts\" rel=\"nofollow\">created a type</a> <code>.d.ts</code> for this library and did a <a href=\"https://github.com/borisyankov/DefinitelyTyped/pull/5958\" rel=\"nofollow\">pull request</a>. But I would not want to wait for the acceptance of the pull request to start using my type.</p>\n\n<p>How can I start using my type with the tsd?</p>\n\n<p>Is there any way to install a type of an outside source .. something like</p>\n\n<pre><code>tsd install stamplay-js-sdk --source /my/git/repo/or/path/to/folder\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "edited": false, "score": 1, "creation_date": 1443008390, "post_id": 32738425, "comment_id": 53317727, "body": "In case that helped anyhow .. great! ;) Enjoy TypeScript"}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 25, "last_activity_date": 1443007867, "creation_date": 1443007867, "answer_id": 32738425, "question_id": 32738387, "link": "https://stackoverflow.com/questions/32738387/how-can-i-make-an-empty-string-array-in-typescript/32738425#32738425", "title": "How can I make an empty string array in Typescript?", "body": "<p>The definition of <strong>string array</strong> should be:</p>\n\n<pre><code>// instead of this\n// var errors: [string];\n// we need this\nvar errors: string[];\nerrors = [];\n</code></pre>\n\n<p><strong>Note:</strong> another issue could be the parameter key here</p>\n\n<pre><code>...forEach(function (key) {...\n</code></pre>\n\n<p>I would guess that we often should declare two of them, because first is very often value, second key/index</p>\n\n<pre><code>Object.keys(response.data.modelState)\n      .forEach(function (value, key) {\n    errors.push.apply(errors, response.data.modelState[key]);\n});\n</code></pre>\n\n<p>And even, we should use arrow function, to get the parent as <strong><code>this</code></strong></p>\n\n<pre><code>Object.keys(response.data.modelState)\n      .forEach( (value, key) =&gt; {\n    errors.push.apply(errors, response.data.modelState[key]);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10501, "user_id": 963546, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ca9c3f23ff17b76740986df8fa2b9061?s=128&d=identicon&r=PG", "display_name": "Gero", "link": "https://stackoverflow.com/users/963546/gero"}, "is_accepted": false, "score": 11, "last_activity_date": 1528822696, "creation_date": 1528822696, "answer_id": 50822197, "question_id": 32738387, "link": "https://stackoverflow.com/questions/32738387/how-can-i-make-an-empty-string-array-in-typescript/50822197#50822197", "title": "How can I make an empty string array in Typescript?", "body": "<p>Outside of a method:</p>\n\n<pre><code>arr: string[] = [];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6264, "user_id": 621278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b088606c5afe57264f5a4170e91a6834?s=128&d=identicon&r=PG", "display_name": "Anders Zommarin", "link": "https://stackoverflow.com/users/621278/anders-zommarin"}, "is_accepted": false, "score": 0, "last_activity_date": 1571916726, "creation_date": 1571916726, "answer_id": 58540448, "question_id": 32738387, "link": "https://stackoverflow.com/questions/32738387/how-can-i-make-an-empty-string-array-in-typescript/58540448#58540448", "title": "How can I make an empty string array in Typescript?", "body": "<p>An alternative is to set the <code>length</code> to <code>0</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const myArray = [1, 2, 3, 4]\nmyArray.length = 0\n</code></pre>\n\n<p>This makes it possible to use <code>const</code> in contexts where emptying the array is needed.</p>\n"}, {"comments": [{"owner": {"reputation": 8220, "user_id": 1831530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RFtYx.jpg?s=128&g=1", "display_name": "mehrandvd", "link": "https://stackoverflow.com/users/1831530/mehrandvd"}, "edited": false, "score": 1, "creation_date": 1601304798, "post_id": 62019735, "comment_id": 113358699, "body": "Exactly what I want."}], "tags": [], "owner": {"reputation": 15147, "user_id": 2947592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q6DU8.jpg?s=128&g=1", "display_name": "wvdz", "link": "https://stackoverflow.com/users/2947592/wvdz"}, "is_accepted": false, "score": 2, "last_activity_date": 1590488000, "creation_date": 1590488000, "answer_id": 62019735, "question_id": 32738387, "link": "https://stackoverflow.com/questions/32738387/how-can-i-make-an-empty-string-array-in-typescript/62019735#62019735", "title": "How can I make an empty string array in Typescript?", "body": "<p>Missing an obvious answer, needed when not assigning it to a variable: <code>[] as string[]</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46200, "favorite_count": 1, "accepted_answer_id": 32738425, "answer_count": 4, "score": 25, "last_activity_date": 1590488000, "creation_date": 1443007766, "last_edit_date": 1443007896, "question_id": 32738387, "link": "https://stackoverflow.com/questions/32738387/how-can-i-make-an-empty-string-array-in-typescript", "title": "How can I make an empty string array in Typescript?", "body": "<p>I would like to have an array that holds string error messages. Here's the code that I came up with:</p>\n\n<pre><code>var errors: [string];\nerrors = [];\nObject.keys(response.data.modelState).forEach(function (key) {\n    errors.push.apply(errors, response.data.modelState[key]);\n});\n</code></pre>\n\n<p>I tried some different ways to add a typescript definition to the variable errors but none seem to work for this case. The first definition works okay but then when I am pushing values I need to push to an array and when I set:</p>\n\n<pre><code>errors = []; \n</code></pre>\n\n<p>Then it gives me an error message:</p>\n\n<blockquote>\n  <p>Severity  Code    Description Project File    Line Error  TS2322  Type\n  'undefined[]' is not assignable to type '[string]'.   Property '0' is\n  missing in type 'undefined[]'.\n  Severity  Code    Description Project File    Line Error      Build: Type\n  'undefined[]' is not assignable to type '[string]'.</p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1443006639, "post_id": 32736522, "comment_id": 53316492, "body": "can you describe your problem a bit more"}], "answers": [{"tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 0, "last_activity_date": 1443004482, "last_edit_date": 1495541649, "creation_date": 1443004482, "answer_id": 32737288, "question_id": 32736522, "link": "https://stackoverflow.com/questions/32736522/what-would-an-interface-to-describe-an-array-of-asp-net-modelstate-look-like-in/32737288#32737288", "title": "What would an interface to describe an array of ASP.NET Modelstate look like in Typescript?", "body": "<p>You can use <a href=\"https://stackoverflow.com/questions/12915412/how-do-i-extend-a-host-object-e-g-error-in-typescript\">custom JS errors</a> to define an error or if you want to use some type from C# you can use <a href=\"http://type.litesolutions.net/\" rel=\"nofollow noreferrer\">this tool</a> to transform C# types into TypeScript types.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 32737288, "answer_count": 1, "score": 1, "last_activity_date": 1443004482, "creation_date": 1443002504, "question_id": 32736522, "link": "https://stackoverflow.com/questions/32736522/what-would-an-interface-to-describe-an-array-of-asp-net-modelstate-look-like-in", "title": "What would an interface to describe an array of ASP.NET Modelstate look like in Typescript?", "body": "<p>I have modelstate looking like this:</p>\n\n<pre><code> var ModelState = {\n    \"model.StartDate\": [ \"The Start Date field is required.\" ],\n    \"model.EndDate\": [ \"The End Date field is required.\" ]\n }\n</code></pre>\n\n<p>I am then using this script to put this into an array:</p>\n\n<pre><code>var errors = [];\nObject.keys(ModelState).forEach(function (key) {\n   errors.push.apply(errors, ModelState[key]);\n});\n</code></pre>\n\n<p>Can someone help me by telling me what the Typescript definition for errors would be.  I realize it will be an array but how can I represent the contents?</p>\n"}, {"tags": ["jquery", "modal-dialog", "typescript"], "comments": [{"owner": {"reputation": 381, "user_id": 5366960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af58ad42fdb9e5c55ba78c6bcfff9e07?s=128&d=identicon&r=PG&f=1", "display_name": "TomekB", "link": "https://stackoverflow.com/users/5366960/tomekb"}, "reply_to_user": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1443000058, "post_id": 32735396, "comment_id": 53312018, "body": "$scope.delete = function (id) {             Photo.get({id: id}, function(result) {                 $scope.photo = result;                 $(&#39;#deletePhotoConfirmation&#39;).modal(&#39;show&#39;);  // error line             });         };"}, {"owner": {"reputation": 381, "user_id": 5366960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af58ad42fdb9e5c55ba78c6bcfff9e07?s=128&d=identicon&r=PG&f=1", "display_name": "TomekB", "link": "https://stackoverflow.com/users/5366960/tomekb"}, "reply_to_user": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1443000272, "post_id": 32735396, "comment_id": 53312152, "body": "I&#39;m referencing to &#39;jquery.d.ts&#39; in &#39;angular.d.ts&#39; file: /// &lt;reference path=&quot;../jquery/jquery.d.ts&quot; /&gt;  and my global vendor reference file looks like: /// &lt;reference path=&#39;../vendor/types/angular/angular.d.ts&#39; /&gt; /// &lt;reference path=&#39;../vendor/types/angular/angular-mocks.d.ts&#39; /&gt; /// &lt;reference path=&#39;../vendor/types/jasmine/jasmine.d.ts&#39; /&gt;"}, {"owner": {"reputation": 9508, "user_id": 4258081, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Gmw10.png?s=128&g=1", "display_name": "Shehary", "link": "https://stackoverflow.com/users/4258081/shehary"}, "edited": false, "score": 2, "creation_date": 1443001215, "post_id": 32735396, "comment_id": 53312832, "body": "@TomekB please do not post code in comments, edit the question post it there, there is edit link at bottom of question below tags"}, {"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1541064550, "post_id": 32735396, "comment_id": 93092641, "body": "<a href=\"https://stackoverflow.com/a/53098414/5361964\">stackoverflow.com/a/53098414/5361964</a> explains all steps to get rid of this issue"}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 5366960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af58ad42fdb9e5c55ba78c6bcfff9e07?s=128&d=identicon&r=PG&f=1", "display_name": "TomekB", "link": "https://stackoverflow.com/users/5366960/tomekb"}, "edited": false, "score": 1, "creation_date": 1443003892, "post_id": 32736178, "comment_id": 53314676, "body": "I&#39;ve checked &#39;jquery.simplemodal.d.ts &#39;. It works fine, thanks!"}], "tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": false, "score": 18, "last_activity_date": 1443001574, "creation_date": 1443001574, "answer_id": 32736178, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/32736178#32736178", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>Your problem is caused by the lack of property with name <code>modal</code> in the <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/jquery/jquery.d.ts\" rel=\"noreferrer\">jquery.d.ts</a> file.</p>\n\n<p>If you sure that this work in pure JS you can trick with it like this </p>\n\n<pre><code>$scope.delete = function (id) {\n  Photo.get({id: id}, function(result) {\n     $scope.photo = result;\n     (&lt;any&gt;$('#deletePhotoConfirmation')).modal('show');\n  });\n};\n</code></pre>\n\n<p>Also, you can find additional <code>d.ts</code> file where this option has already been defined.</p>\n\n<p>Try to consider <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/jquery.simplemodal/jquery.simplemodal.d.ts\" rel=\"noreferrer\">this</a> library that has already had <code>modal</code> option</p>\n\n<p>Good Luck!</p>\n"}, {"tags": [], "owner": {"reputation": 230, "user_id": 2073325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q78Ch.jpg?s=128&g=1", "display_name": "gchao", "link": "https://stackoverflow.com/users/2073325/gchao"}, "is_accepted": false, "score": 4, "last_activity_date": 1526496114, "last_edit_date": 1526496114, "creation_date": 1471503349, "answer_id": 39011717, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/39011717#39011717", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>Try installing the typings for Bootstrap DefinitelyTyped</p>\n\n<p><code>typings install --global --save dt~bootstrap</code></p>\n"}, {"comments": [{"owner": {"reputation": 872, "user_id": 3732058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55f62c5fdd622cdf6b3f1936762b294f?s=128&d=identicon&r=PG&f=1", "display_name": "hughjdavey", "link": "https://stackoverflow.com/users/3732058/hughjdavey"}, "edited": false, "score": 1, "creation_date": 1510580410, "post_id": 41390347, "comment_id": 81481959, "body": "This worked for me in a project with jquery types also installed - it added to the jQuery interface such that <code>$(modal-selector).modal(&#39;show&#39;)</code> etc compiles fine"}, {"owner": {"reputation": 872, "user_id": 3732058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55f62c5fdd622cdf6b3f1936762b294f?s=128&d=identicon&r=PG&f=1", "display_name": "hughjdavey", "link": "https://stackoverflow.com/users/3732058/hughjdavey"}, "edited": false, "score": 9, "creation_date": 1510582672, "post_id": 41390347, "comment_id": 81483399, "body": "I also had to add <code>import * as bootstrap from &quot;bootstrap&quot;;</code> to my <code>app.module.ts</code> otherwise IntelliJ stopped complaining but it still wouldn&#39;t compile on command line with the same error. Doesn&#39;t matter what you call it (doesn&#39;t have to be bootstrap). For absolute clarity, I also have <code>import * as $ from &quot;jquery&quot;;</code> in the same file which lets me use <code>$(...)</code> in my components."}, {"owner": {"reputation": 644, "user_id": 813599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f8cb61c7e9679fa6a0269680d90ed07?s=128&d=identicon&r=PG", "display_name": "Beej", "link": "https://stackoverflow.com/users/813599/beej"}, "reply_to_user": {"reputation": 872, "user_id": 3732058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55f62c5fdd622cdf6b3f1936762b294f?s=128&d=identicon&r=PG&f=1", "display_name": "hughjdavey", "link": "https://stackoverflow.com/users/3732058/hughjdavey"}, "edited": false, "score": 2, "creation_date": 1513042478, "post_id": 41390347, "comment_id": 82489567, "body": "thank you @hughjdavey!!! for including those specific import statements... i can&#39;t believe how obscure this is for how common of a need it must be?!?"}, {"owner": {"reputation": 693, "user_id": 6266949, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b1aeeedb701bcff354177e731df8ab35?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Krs", "link": "https://stackoverflow.com/users/6266949/jason-krs"}, "edited": false, "score": 0, "creation_date": 1524047754, "post_id": 41390347, "comment_id": 86810303, "body": "I don&#39;t know why but this does not work properly for me...A times it works. But most of the times, it does not work... Do you know why ?  I ran the command and imported <code>bootstrap.js</code> in the component ts file but it still fails"}, {"owner": {"reputation": 375, "user_id": 374838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbxZG.jpg?s=128&g=1", "display_name": "Andrew Kvochick", "link": "https://stackoverflow.com/users/374838/andrew-kvochick"}, "edited": false, "score": 0, "creation_date": 1549019687, "post_id": 41390347, "comment_id": 95763561, "body": "You can avoid polluting your code with unused references to &#39;bootstrap&#39; if you add &quot;bootstrap&quot; to the &quot;types&quot; property of the &quot;compilerOptions&quot; object in tsconfig.json."}, {"owner": {"reputation": 85, "user_id": 4997994, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C69EKnmPU3s/AAAAAAAAAAI/AAAAAAAAAA0/MKx1PISsbPg/photo.jpg?sz=128", "display_name": "oomer", "link": "https://stackoverflow.com/users/4997994/oomer"}, "edited": false, "score": 0, "creation_date": 1619225687, "post_id": 41390347, "comment_id": 118849076, "body": "in my agular 4 project, i was getting this warning with Bootstrap imported as <code>import &#39;bootstrap&#39;</code> while running tests (with karma), and this fix fixed it."}], "tags": [], "owner": {"reputation": 6257, "user_id": 639868, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/249a54b5a267717e77ce985983aa7e63?s=128&d=identicon&r=PG", "display_name": "Tucker", "link": "https://stackoverflow.com/users/639868/tucker"}, "is_accepted": false, "score": 65, "last_activity_date": 1551875453, "last_edit_date": 1551875453, "creation_date": 1483069706, "answer_id": 41390347, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/41390347#41390347", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>with newer versions of typescript (>v2 i believe):  </p>\n\n<pre><code>npm install -D @types/bootstrap\n</code></pre>\n\n<p>Edit:\nAs hughjdavey said in his comment, you also need the following import lines:\n    import * as bootstrap from \"bootstrap\";\n    import * as $ from 'jquery';</p>\n"}, {"comments": [{"owner": {"reputation": 364, "user_id": 2900572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHd7M.jpg?s=128&g=1", "display_name": "user2900572", "link": "https://stackoverflow.com/users/2900572/user2900572"}, "edited": false, "score": 0, "creation_date": 1587452428, "post_id": 52026197, "comment_id": 108509123, "body": "where did u add this"}], "tags": [], "owner": {"reputation": 1875, "user_id": 7452985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6bb307f74654f61b7c68339f83dbf4?s=128&d=identicon&r=PG&f=1", "display_name": "izik f", "link": "https://stackoverflow.com/users/7452985/izik-f"}, "is_accepted": false, "score": 9, "last_activity_date": 1535286010, "creation_date": 1535286010, "answer_id": 52026197, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/52026197#52026197", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>this work for me, i add in first row:\n<br>\n<code>declare var $ :any;</code>\n<br>\nthis declare <code>$</code> type is <code>any</code>  ,</p>\n"}, {"tags": [], "owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "is_accepted": false, "score": 10, "last_activity_date": 1541064482, "creation_date": 1541064482, "answer_id": 53098414, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/53098414#53098414", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>In my case I had to use</p>\n\n<pre><code>npm install -D @types/bootstrap\n</code></pre>\n\n<p>and then I had to import bootstrap</p>\n\n<pre><code>import * as bootstrap from 'bootstrap';\n</code></pre>\n\n<p>but most important step was to <strong>remove</strong> jquery</p>\n\n<pre><code>import * as $ from 'jquery';\n</code></pre>\n\n<p>otherwise it was giving me this error:</p>\n\n<blockquote>\n  <p>TypeError: $(...).modal is not a function</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 467, "user_id": 8888713, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rJQwHg43B0/AAAAAAAAAAI/AAAAAAAASDA/Y0Z5Oq8RlZo/photo.jpg?sz=128", "display_name": "cyperpunk", "link": "https://stackoverflow.com/users/8888713/cyperpunk"}, "is_accepted": false, "score": 3, "last_activity_date": 1545372276, "last_edit_date": 1545372276, "creation_date": 1545050336, "answer_id": 53815442, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/53815442#53815442", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>Just add</p>\n\n<pre><code>import * as bootstrap from \"bootstrap\";\nimport * as $ from \"jquery\";\n</code></pre>\n\n<p>in your  <code>app.module.ts</code></p>\n\n<p>And install these packages</p>\n\n<p>npm install @types/jquery --save-dev</p>\n\n<p>npm install @types/bootstrap --save-dev</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6760844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8bbb9f2ed3664a9786bb27fbb6dc03?s=128&d=identicon&r=PG&f=1", "display_name": "Kawau", "link": "https://stackoverflow.com/users/6760844/kawau"}, "is_accepted": false, "score": 1, "last_activity_date": 1571903033, "creation_date": 1571903033, "answer_id": 58536488, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/58536488#58536488", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>Yep, I too had to include both of these imports in order to make my app publishable by angular:</p>\n\n<pre><code>import * as bootstrap from \"bootstrap\";\nimport * as $ from \"jquery\";\n</code></pre>\n\n<p>I added them in the component that was using jQuery.</p>\n"}, {"tags": [], "owner": {"reputation": 18220, "user_id": 191647, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/BkIYy.jpg?s=128&g=1", "display_name": "Mohammad Dayyan", "link": "https://stackoverflow.com/users/191647/mohammad-dayyan"}, "is_accepted": false, "score": 2, "last_activity_date": 1587639590, "creation_date": 1587639590, "answer_id": 61385590, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/61385590#61385590", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>I could resolve it as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as $ from \"jquery\";\n\n($('#menuModal') as any).modal('toggle');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": false, "score": 5, "last_activity_date": 1588747914, "last_edit_date": 1588747914, "creation_date": 1588584730, "answer_id": 61589085, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/61589085#61589085", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>When I upgrade angular to version 9, I faced this issue.</p>\n\n<p>Here are my solution, I shared for whom concerned.</p>\n\n<p><strong>Property 'modal' does not exist on type 'JQuery'</strong></p>\n\n<pre><code>$('#ManualMinMaxModal').modal('show');\n</code></pre>\n\n<p>change to </p>\n\n<pre><code>($('#ManualMinMaxModal') as any).modal('show');\n</code></pre>\n\n<p>And </p>\n\n<p><strong>Property 'DataTable' does not exist on type 'JQuery'</strong></p>\n\n<pre><code>$('#realTimeTable').DataTable()\n</code></pre>\n\n<p>change to</p>\n\n<pre><code>($('#realTimeTable') as any).DataTable()\n</code></pre>\n\n<p>With </p>\n\n<pre><code>!$.fn.DataTable.isDataTable('#realTimeTable')\n</code></pre>\n\n<p>change to</p>\n\n<pre><code>!($.fn as any).DataTable.isDataTable('#realTimeTable')\n</code></pre>\n\n<p>Updated: </p>\n\n<p>cast to any sometime not work, and finally solution is change declare from <code>import * as $ from 'jquery'</code> to <code>declare var $: any;</code></p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 11482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cttb7.png?s=128&g=1", "display_name": "TheScripterX", "link": "https://stackoverflow.com/users/11482517/thescripterx"}, "is_accepted": false, "score": 0, "last_activity_date": 1612643323, "creation_date": 1612643323, "answer_id": 66081610, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery/66081610#66081610", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>Solution for Angular 8+ versions :</p>\n<p>Not working:</p>\n<pre><code>$('#deletePhotoConfirmation').modal('show');\n</code></pre>\n<p>Instead use this:</p>\n<pre><code>($('#deletePhotoConfirmation') as any).modal('show');\n</code></pre>\n<p>For Import :</p>\n<pre><code>import * as $ from 'jquery';\n</code></pre>\n<p><strong>Good Luck</strong></p>\n"}], "owner": {"reputation": 381, "user_id": 5366960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af58ad42fdb9e5c55ba78c6bcfff9e07?s=128&d=identicon&r=PG&f=1", "display_name": "TomekB", "link": "https://stackoverflow.com/users/5366960/tomekb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42038, "favorite_count": 7, "answer_count": 10, "score": 31, "last_activity_date": 1612643323, "creation_date": 1442999376, "last_edit_date": 1443001425, "question_id": 32735396, "link": "https://stackoverflow.com/questions/32735396/error-ts2339-property-modal-does-not-exist-on-type-jquery", "title": "error TS2339: Property &#39;modal&#39; does not exist on type &#39;JQuery&#39;", "body": "<p>I'm using Typescript with AngularJS.\nI have a problem with modals using typed definition of jQuery library.\nI get the following error: 'error TS2339: Property 'modal' does not exist on type 'JQuery'.'</p>\n\n<p>Version: jQuery library, version 1.10.x / 2.0.x\nDefinitions: <a href=\"https://github.com/borisyankov/DefinitelyTyped\" rel=\"noreferrer\">https://github.com/borisyankov/DefinitelyTyped</a></p>\n\n<p>Code</p>\n\n<pre><code>$scope.delete = function (id) {\n  Photo.get({id: id}, function(result) {\n     $scope.photo = result;\n     $('#deletePhotoConfirmation').modal('show');// error line \n  });\n};\n</code></pre>\n\n<p>I'm referencing to <code>jquery.d.ts</code> in <code>angular.d.ts</code></p>\n\n<pre><code>&lt;reference path=\"../jquery/jquery.d.ts\" /&gt;\n</code></pre>\n\n<p>and my global vendor reference file looks like:</p>\n\n<pre><code>&lt;reference path='../vendor/types/angular/angular.d.ts' /&gt;\n&lt;reference path='../vendor/types/angular/angular-mocks.d.ts' /&gt;\n&lt;reference path='../vendor/types/jasmine/jasmine.d.ts' /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "internet-explorer-8", "coffeescript", "typescript", "babeljs"], "answers": [{"tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": true, "score": 6, "last_activity_date": 1442994199, "last_edit_date": 1442994199, "creation_date": 1442993892, "answer_id": 32733690, "question_id": 32733230, "link": "https://stackoverflow.com/questions/32733230/transpiller-and-internet-explorer-8/32733690#32733690", "title": "Transpiller and Internet Explorer 8", "body": "<p>You can use <a href=\"https://en.wikipedia.org/wiki/TypeScript\" rel=\"noreferrer\">Typescript</a>, it give you possibility to build <a href=\"https://en.wikipedia.org/wiki/TypeScript#Compatibility_with_JavaScript\" rel=\"noreferrer\">EcmaScript 3</a> compatibility code.</p>\n\n<p>All that you need to <a href=\"http://www.typescriptlang.org/Tutorial\" rel=\"noreferrer\">getting started</a> with TypeScript - are create simple project in Visual Studio (or VSCode/Sublime/WebStorm), and configure <code>tsconfig.json</code> like this</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es3\",\n    \"declaration\": true,\n    \"noImplicitAny\": false,\n    \"removeComments\": true,\n    \"noLib\": false,\n    \"emitDecoratorMetadata\": true,\n    \"sourceMap\": true,\n    \"listFiles\": true,\n    \"outDir\": \"\",\n    \"out\": \"./Compiled/myfile.js\",\n    \"experimentalDecorators\": true\n  },\n  \"files\": [\n    \"myfile.ts\"\n  ]\n} \n</code></pre>\n\n<p>Good Luck!</p>\n\n<h2>Related resources</h2>\n\n<ol>\n<li><a href=\"https://www.jetbrains.com/webstorm/help/typescript-support.html\" rel=\"noreferrer\">TypeScript in WebStorm</a></li>\n<li><a href=\"https://github.com/Microsoft/TypeScript-Sublime-Plugin\" rel=\"noreferrer\">TypeScript Sublime Plugin</a></li>\n<li><a href=\"http://blogs.msdn.com/b/typescript/archive/2015/04/30/using-typescript-in-visual-studio-code.aspx\" rel=\"noreferrer\">TypeScript in VS Code</a></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "is_accepted": false, "score": 1, "last_activity_date": 1443024101, "creation_date": 1443024101, "answer_id": 32744334, "question_id": 32733230, "link": "https://stackoverflow.com/questions/32733230/transpiller-and-internet-explorer-8/32744334#32744334", "title": "Transpiller and Internet Explorer 8", "body": "<p>Babel has a 'loose' mode for several of its transformations that causes them to generate code that uses fewer fancier ES5 features, at the expense of less spec compatibility. Generally if you enable them, and avoid ES5-specific syntax like getters and setters, things should work in IE8.</p>\n\n<p>Much of this is covered in <a href=\"http://babeljs.io/docs/advanced/caveats/\" rel=\"nofollow\">the caveats page</a>.</p>\n"}], "owner": {"reputation": 193, "user_id": 2354037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345138233100ebec73e0da8438204786?s=128&d=identicon&r=PG", "display_name": "user2354037", "link": "https://stackoverflow.com/users/2354037/user2354037"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2977, "favorite_count": 3, "accepted_answer_id": 32733690, "answer_count": 2, "score": 3, "last_activity_date": 1443024101, "creation_date": 1442992385, "last_edit_date": 1442996783, "question_id": 32733230, "link": "https://stackoverflow.com/questions/32733230/transpiller-and-internet-explorer-8", "title": "Transpiller and Internet Explorer 8", "body": "<p>I want to use for my new project BabelJS, but I have a big requirement: It must be  executable on IE8.</p>\n\n<p><strong>PROBLEM</strong>: Babel compiles ES6 to ES5. ES5 support on IE8 is poor.</p>\n\n<p>Do you know alternatives to Babel that allow me to write \"OOP\" code, easily debuggable and \"IE8 friendly\"?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "jasmine"], "comments": [{"owner": {"reputation": 1197, "user_id": 1998399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d43987f2f410be84d3e7d2137cdc00e8?s=128&d=identicon&r=PG", "display_name": "Chris Story", "link": "https://stackoverflow.com/users/1998399/chris-story"}, "edited": false, "score": 1, "creation_date": 1442979239, "post_id": 32730394, "comment_id": 53302906, "body": "Seems like you are stuck between implementation and how to set-up the test.  Your current passing test isn&#39;t actually testing any of your code.  You verified the hard code data is in fact the data."}, {"owner": {"reputation": 359, "user_id": 4893673, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6lM91.png?s=128&g=1", "display_name": "Ryan Drake", "link": "https://stackoverflow.com/users/4893673/ryan-drake"}, "reply_to_user": {"reputation": 1197, "user_id": 1998399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d43987f2f410be84d3e7d2137cdc00e8?s=128&d=identicon&r=PG", "display_name": "Chris Story", "link": "https://stackoverflow.com/users/1998399/chris-story"}, "edited": false, "score": 0, "creation_date": 1442980147, "post_id": 32730394, "comment_id": 53303143, "body": "True. Chris, any suggestions on how I could get myself unstuck out of this predicament?"}, {"owner": {"reputation": 1197, "user_id": 1998399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d43987f2f410be84d3e7d2137cdc00e8?s=128&d=identicon&r=PG", "display_name": "Chris Story", "link": "https://stackoverflow.com/users/1998399/chris-story"}, "edited": false, "score": 1, "creation_date": 1442982276, "post_id": 32730394, "comment_id": 53303591, "body": "A few suggestions.  If you make a plunkr, I can help get you set-up.  First, the notion of mocking data should be for tests only.  Therefore, the service itself should not have a mock repo.  Second, figure out where the data is coming from.  If some $http call, mock with $httpBackend to return the data and test your expectations of campaigns.  With respect to create test, figure out what you want to test.  Should be able to test array addition in array assuming you mocked the data as already indicated and probably should test the backend call to save to db if that is applicable."}], "owner": {"reputation": 359, "user_id": 4893673, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6lM91.png?s=128&g=1", "display_name": "Ryan Drake", "link": "https://stackoverflow.com/users/4893673/ryan-drake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1759, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442978246, "creation_date": 1442978246, "question_id": 32730394, "link": "https://stackoverflow.com/questions/32730394/angular-jasmine-testing-mock-testing-with-arrays", "title": "Angular + Jasmine Testing: Mock testing with arrays", "body": "<p>I'm writing some Jasmine tests for my Campaigns service and I'd like to be able to create <code>mockRepo</code> array in my CampaignServices spec. The GET test is working, however, with CREATE, I'd like to add a new campaign to the array and unsure how I'd do that in my Jasmine test.</p>\n\n<p>I've read over the Jasmine documentation, but can't see an elegant way where I could push a new array to the end by incrementing the ID count of a new campaign and then expecting that to match within the test. </p>\n\n<p>Please find below the Campaigns model and service:\n<strong>Model: Campaigns.js</strong></p>\n\n<pre><code>var portal;\n(function (portal) {\n    var campaigns;\n    (function (campaigns) {\n        var Campaign = (function () {\n            function Campaign(id, name, description, status, start, end, createdAt, updatedAt) {\n                this.id = id;\n                this.name = name;\n                this.description = description;\n                this.status = status;\n                this.start = start;\n                this.end = end;\n                this.createdAt = createdAt;\n                this.updatedAt = updatedAt;\n            }\n            return Campaign;\n        })();\n        campaigns.Campaign = Campaign;\n    })(campaigns = portal.campaigns || (portal.campaigns = {}));\n})(portal || (portal = {}));\n</code></pre>\n\n<p><strong>Service: CampaignsService.js</strong></p>\n\n<pre><code>var portal;\n(function (portal) {\n    var campaigns;\n    (function (campaigns) {\n        'use strict';\n        var CampaignsService = (function () {\n            function CampaignsService(api) {\n                this.mockRepo = [\n                    new Campaign(1, 'Campaign 1', 'My new campaign', 'live', new Date(2015, 6, 2), new Date(2016, 3, 5), new Date(2015, 6, 2), new Date(2016, 3, 5)),\n                    new Campaign(2, 'Campaign 2', 'My old campaign', 'complete', new Date(2014, 3, 3), new Date(2015, 3, 5), new Date(2015, 6, 2), new Date(2016, 3, 5))\n                ];\n                this.__resource = api.all('campaigns');\n            }\n            CampaignsService.prototype.getList = function () {\n                return this.mockRepo;\n                //return this.__resource.getList();\n            };\n            CampaignsService.prototype.get = function (id) {\n                return this.mockRepo.filter(function (item) {\n                    return item.id === id;\n                })[0];               \n            };\n            CampaignsService.prototype.update = function (model) {\n                var theCampaign = this.get(model.id);\n                theCampaign.name = model.name;\n                theCampaign.updatedAt = new Date();\n\n            };\n            CampaignsService.prototype.create = function (model) {\n                model.id = this.mockRepo.length + 1;\n                this.mockRepo.push(model);\n                return model.id;\n            };\n            CampaignsService.prototype.delete = function (id) {\n                this.mockRepo = this.mockRepo.filter(function (item) {\n                    return item.id !== id;\n                });\n            };\n            CampaignsService.$inject = [\"Restangular\"];\n            return CampaignsService;\n        })();\n        campaigns.CampaignsService = CampaignsService;\n        angular.module('olCampaigns').service('CampaignsService', CampaignsService);\n    })(campaigns = portal.campaigns || (portal.campaigns = {}));\n})(portal || (portal = {}));\n</code></pre>\n\n<p>Below is my spec with the GET passing, however, I haven't managed to CREATE a new campaign. Any suggestions on how best to implement that would be greatly appreciated. </p>\n\n<p><strong>Spec: CampaignServices.js</strong></p>\n\n<pre><code>describe('Campaigns Service', function() {\n    var campaigns = [];\n\n    beforeEach(function() {\n        campaigns = [\n            {\n              \"id\": \"1\",\n              \"name\": \"Campaign 1\",\n              \"description\": \"My new campaign\",\n              \"status\": \"live\",\n              \"start\": new Date(2015, 6, 2),\n              \"end\": new Date(2016, 3, 5),\n              \"createdAt\": new Date(2015, 6, 2),\n              \"updatedAt\": new Date(2016, 3, 5)\n            },\n            {\n              \"id\": \"2\",\n              \"name\": \"Campaign 2\",\n              \"description\": \"My old campaign\",\n              \"status\": \"complete\",\n              \"start\": new Date(2014, 3, 3),\n              \"end\": new Date(2015, 3, 5),\n              \"createdAt\": new Date(2015, 6, 2),\n              \"updatedAt\": new Date(2016, 3, 5)\n            }\n        ]\n    });\n\n    it('GET ALL campaigns', function() {\n        expect(campaigns.length).toEqual(2);\n        expect(campaigns[0]).toEqual({\"id\": \"1\",\"name\": \"Campaign 1\",\"description\": \"My new campaign\",\"status\": \"live\",\"start\": new Date(2015, 6, 2),\"end\": new Date(2016, 3, 5),\"createdAt\": new Date(2015, 6, 2),\n        \"updatedAt\": new Date(2016, 3, 5)});\n    });\n\n    it('CREATE a campaign', function() {\n        // Want to create a new campaign and add it to the campaigns array above\n        newCampaign.id = this.campaignMocks.length + 1;\n        this.campaigns.push(newCampaign);\n        console.log(newCampaign.id)\n    });\n});\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1442972302, "creation_date": 1442972302, "answer_id": 32729667, "question_id": 32729642, "link": "https://stackoverflow.com/questions/32729642/angularjs-vm-data-being-set-but-not-rendering/32729667#32729667", "title": "AngularJS - VM Data being set but not rendering", "body": "<blockquote>\n  <p>What is off in my understanding of this that is keeping products from rendering every time</p>\n</blockquote>\n\n<p>Some things: </p>\n\n<ul>\n<li>The XHR might be hanging. </li>\n<li>You might be doing something outside the angular digest cycle. Try <code>$scope.$apply()</code></li>\n</ul>\n"}], "owner": {"reputation": 1598, "user_id": 3509191, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/20154f137f9370563e03d9ca04d4552d?s=128&d=identicon&r=PG", "display_name": "JMac", "link": "https://stackoverflow.com/users/3509191/jmac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 32729667, "answer_count": 1, "score": 0, "last_activity_date": 1442972302, "creation_date": 1442972015, "question_id": 32729642, "link": "https://stackoverflow.com/questions/32729642/angularjs-vm-data-being-set-but-not-rendering", "title": "AngularJS - VM Data being set but not rendering", "body": "<p>I have the following AngularJS controller, written in Typescript:</p>\n\n<pre><code>/// &lt;reference path='../../definitions.d.ts' /&gt;\n\nmodule baseApp.viewControls.products {\n    export interface IProductsScope extends IAppScope {\n        vm: {\n            products: Array&lt;common.models.IProduct&gt;;\n        }\n    }\n\n    export class ProductsController extends base.BaseController {\n        public products: Array&lt;common.models.IProduct&gt;;\n        public ProductRepository: common.repositories.ProductRepository = new common.repositories.ProductRepository();\n\n        constructor(public $scope: IProductsScope, private $state: ng.ui.IStateService) {\n            super();\n            this.ProductRepository.all().then((products: Array&lt;common.models.IProduct&gt;) =&gt; {\n                this.products = products;\n                $scope.vm = this;\n            });\n        }\n    }\n\n    function setRouteState($stateProvider:ng.ui.IStateProvider) {\n        var state: ng.ui.IState = {\n            url: '/products',\n            views: {\n                mainContent: {\n                    templateUrl: 'viewcontrols/products/products.html',\n                    controller: 'ProductsController'\n                }\n            },\n            cache: false\n        };\n\n        $stateProvider.state('app.products', state);\n    }\n\n    export var productsComponentModule:ng.IModule = angular.module('baseApp.viewControls.products', [\n    ]);\n    productsComponentModule.controller('ProductsController', ProductsController);\n    productsComponentModule.config(setRouteState);\n}\n</code></pre>\n\n<p>The important part of this is the <code>ProductsController</code> constructor. In that controller, I set <code>this.products</code> equal to an Array of objects, and I set <code>$scope.vm</code> to <code>this</code>. I'm expecting this to give me access in my view to <code>vm.products</code>. In my controller, <code>$scope.vm.products</code> looks good. This is my view code:</p>\n\n<pre><code>&lt;li ng-repeat=\"product in vm.products\"&gt;\n        {{product.modelNumber}}\n&lt;/li&gt;\n</code></pre>\n\n<p>This gives me a blank screen, although <code>vm.products</code> looks good in my controller. Strangely enough, if I refresh the browser, it seems like 1 out of 10 times this code works. That leads me to believe that two-way data binding isn't working as I'm expecting, and there is some race condition where rendering takes longer 1 out of 10 times and <code>vm.products</code> is actually set prior to rendering.</p>\n\n<p>What is off in my understanding of this that is keeping products from rendering every time?</p>\n"}, {"tags": ["angularjs", "typescript", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 346, "user_id": 2483389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8c2d3c6ec9dd98cd6ed0a57a556d51?s=128&d=identicon&r=PG", "display_name": "Gabriel Pires", "link": "https://stackoverflow.com/users/2483389/gabriel-pires"}, "edited": false, "score": 0, "creation_date": 1442981040, "post_id": 32729630, "comment_id": 53303330, "body": "I&#39;m confused too, but I don&#39;t see the <code>status</code> field in the return of your getCustomerDetails() function, even though it surely appears in the Jasmine output"}, {"owner": {"reputation": 1316, "user_id": 3383065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTj0q.jpg?s=128&g=1", "display_name": "Jayant Patil", "link": "https://stackoverflow.com/users/3383065/jayant-patil"}, "edited": false, "score": 0, "creation_date": 1442987733, "post_id": 32729630, "comment_id": 53305292, "body": "It may happen that you key is not getting identified as it contains special characters please try adding double or single quotes and try again."}, {"owner": {"reputation": 1366, "user_id": 1516299, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a38113b2128419aad4b9b127a59fa87c?s=128&d=identicon&r=PG", "display_name": "Desmond", "link": "https://stackoverflow.com/users/1516299/desmond"}, "edited": false, "score": 0, "creation_date": 1442993649, "post_id": 32729630, "comment_id": 53308392, "body": "Thanks for your help, Gabriel and Jayant"}], "answers": [{"comments": [{"owner": {"reputation": 1366, "user_id": 1516299, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a38113b2128419aad4b9b127a59fa87c?s=128&d=identicon&r=PG", "display_name": "Desmond", "link": "https://stackoverflow.com/users/1516299/desmond"}, "edited": false, "score": 1, "creation_date": 1442994513, "post_id": 32733275, "comment_id": 53308870, "body": "That nailed it. Thank you SO much @Diana R !!"}], "tags": [], "owner": {"reputation": 1174, "user_id": 4528980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6gk8V.jpg?s=128&g=1", "display_name": "Diana R", "link": "https://stackoverflow.com/users/4528980/diana-r"}, "is_accepted": true, "score": 3, "last_activity_date": 1442992552, "creation_date": 1442992552, "answer_id": 32733275, "question_id": 32729630, "link": "https://stackoverflow.com/questions/32729630/jasmine-error-on-same-string-expected-to-equal/32733275#32733275", "title": "Jasmine Error on same string, &#39;Expected .. to equal ...&#39;", "body": "<p>This happens due to the fact that json objects are actually different instances of objects, but they contain the same data. You need to do something like this:</p>\n\n<p><code>expect(angular.equals(searchResponsePromise, serviceResponse)).toBe(true);</code></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3689782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f36e7708c0b44b1a398074cd60cf1d?s=128&d=identicon&r=PG&f=1", "display_name": "Ben H", "link": "https://stackoverflow.com/users/3689782/ben-h"}, "is_accepted": false, "score": -1, "last_activity_date": 1451523225, "last_edit_date": 1495542185, "creation_date": 1451523225, "answer_id": 34539562, "question_id": 32729630, "link": "https://stackoverflow.com/questions/32729630/jasmine-error-on-same-string-expected-to-equal/34539562#34539562", "title": "Jasmine Error on same string, &#39;Expected .. to equal ...&#39;", "body": "<p>See <a href=\"https://stackoverflow.com/questions/15487510/angularjs-jasmine-comparing-objects\">AngularJS + Jasmine: Comparing objects</a> for the preferred way of doing this. Essentially, you want to use <code>expect(...).toEqual(...)</code> instead of <code>expect(...).toBe(...)</code>. <code>toEqual()</code> performs a deep comparison.</p>\n\n<p>The advantage to doing this over the accepted answer is the error for a failed assertion with <code>toBe(true)</code> will simply say something along the lines of, <code>expected false to be true</code>, which isn't enough information to fix the problem.</p>\n\n<p>The deep comparison performed by <code>toEqual()</code> will result in an assertion error containing both the expected and actual objects, serialized as strings. It makes it much nicer and easier to fix the problem. :)</p>\n"}], "owner": {"reputation": 1366, "user_id": 1516299, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a38113b2128419aad4b9b127a59fa87c?s=128&d=identicon&r=PG", "display_name": "Desmond", "link": "https://stackoverflow.com/users/1516299/desmond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4845, "favorite_count": 0, "accepted_answer_id": 32733275, "answer_count": 2, "score": 0, "last_activity_date": 1451523225, "creation_date": 1442971921, "question_id": 32729630, "link": "https://stackoverflow.com/questions/32729630/jasmine-error-on-same-string-expected-to-equal", "title": "Jasmine Error on same string, &#39;Expected .. to equal ...&#39;", "body": "<p>I'm getting this error, but I've checked and tested the strings and they are exactly the same:</p>\n\n<pre><code>Expected { $$state : { status : 1, value : { customerNumber : 'customerNumber', name : 'name', userId : 'buId', customerType : 'type', address : 'displayAddress' } } } \nto equal { $$state : { status : 1, value : { customerNumber : 'customerNumber', name : 'name', userId : 'buId', customerType : 'type', address : 'displayAddress' } } }.\nError: Expected { $$state : { status : 1, value : { customerNumber : 'customerNumber', name : 'name', userId : 'buId', customerType : 'type', address : 'displayAddress' } } } to equal { $$state : { status : 1, value : { customerNumber : 'customerNumber', name : 'name', userId : 'buId', customerType : 'type', address : 'displayAddress' } } }.\n        at C:/customerServiceSpec.js:70\n</code></pre>\n\n<p>The only thing I can notice is there is a full stop at the end, but I think Jasmine is adding that in the response. Here is my test code:</p>\n\n<pre><code>describe('CustomerService', () =&gt; {\n    var mockUserSession: any = {};\n    var testService any = {};\n    var $q: ng.IQService;\n    var createCustomerDetailsService;\n    var customerDetailsService;\n    var createResolvedPromise;\n    var createRejectedPromise;\n    var resolvePromises;\n\n    var testResponse = {\n        customers: {\n            displayCustomerNumber: 'customerNumber',\n            name: 'name',\n            id: 'id',\n            type: 'type',\n            displayAddress: 'displayAddress'\n        }\n    };\n\n    var serviceResponse={\n        $$state: {\n            status: 1,\n            value: {\n                customerNumber: 'customerNumber',\n                name: 'name',\n                id: 'id',\n                customerType: 'type',\n                address:'displayAddress'\n            }\n        }\n    };\n\n    var rootScope;\n\n    beforeEach(() =&gt; {\n        module('app.customer');\n\n        inject(( _$q_, $injector) =&gt; {\n            this.$q = _$q_;\n            rootScope = $injector.get('$rootScope');\n\n            createResolvedPromise = (result) =&gt; {\n                return () =&gt; {\n                    return this.$q.when(result);\n                };\n            };\n\n            resolvePromises = () =&gt; {\n                rootScope.$digest();\n            };\n\n            createCustomerDetailsService = () =&gt; {\n                return new app.customer.CustomerService(\n                    testService);\n            };\n        });\n\n    });\n\n    it('WILL search by customer ID and return a customers details', () =&gt; {\n        var searchResponsePromise;\n\n        testService.getCustomerDetails = jasmine.createSpy(\"getCustomerDetails\").and.callFake(createResolvedPromise(testResponse));\n        customerDetailsService = createCustomerDetailsService();\n        searchResponsePromise = customerDetailsService.getCustomerDetails('12345678');\n        resolvePromises();\n\n        expect(searchResponsePromise).toEqual(serviceResponse);\n    });\n});\n</code></pre>\n\n<p>And here is my service:</p>\n\n<pre><code>public getCustomerDetails(customerID:string): ng.IPromise&lt;ICustomerDetails&gt; {\n    return this.testService.getCustomerDetails(customerID).then((customerResponse:ICustomerResult) =&gt; {\n\n        var customer = customerResponse.customers;\n\n        var customerDetailsResult:ICustomerDetails = {\n            customerNumber: customer.displayCustomerNumber,\n            name: customer.name,\n            userId: customer.buId,\n            customerType: customer.type,\n            address: customer.displayAddress\n        };\n\n        return customerDetailsResult;\n    });\n}\n</code></pre>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 2, "last_activity_date": 1452592397, "creation_date": 1452592397, "answer_id": 34740333, "question_id": 32728095, "link": "https://stackoverflow.com/questions/32728095/setting-breakpoints-in-typescript-jasmine-tests-with-visual-studio-code/34740333#34740333", "title": "Setting breakpoints in Typescript Jasmine tests with Visual Studio Code", "body": "<p>The following configuration works fine for me and allow to debug jasmine tests.\nIn your launch.json:</p>\n\n<pre><code>{\n    // Name of configuration; appears in the launch configuration drop down menu.\n    \"name\": \"Launch Unit Tests\",\n    // Type of configuration.\n    \"type\": \"node\",\n    // Workspace relative or absolute path to the program.\n    \"program\": \"spec/runner.ts\",\n    // Automatically stop program after launch.\n    \"stopOnEntry\": false,\n    // Command line arguments passed to the program.\n    \"args\": [],\n    // Workspace relative or absolute path to the working directory of the program being debugged. Default is the current workspace.\n    \"cwd\": \".\",\n    // Workspace relative or absolute path to the runtime executable to be used. Default is the runtime executable on the PATH.\n    \"runtimeExecutable\": null,\n    // Optional arguments passed to the runtime executable.\n    \"runtimeArgs\": [\"--nolazy\"],\n    // Environment variables passed to the program.\n    \"env\": {\n        \"NODE_ENV\": \"development\"\n    },\n    // Use JavaScript source maps (if they exist).\n    \"sourceMaps\": true,\n    // If JavaScript source maps are enabled, the generated code is expected in this directory.\n    \"outDir\": \"dist/spec\",\n    \"request\": \"launch\"\n}\n</code></pre>\n\n<p>The runner.ts is as follows:</p>\n\n<pre><code>'use strict';\n\nvar Jasmine = require('jasmine');\nvar j = new Jasmine();\n\nj.loadConfigFile('spec/support/jasmine.json');\nj.configureDefaultReporter({\n    showColors: true\n});\nj.execute();\n</code></pre>\n\n<p>The project file structure is:</p>\n\n<pre><code>-spec\n--runner.ts\n--support\n----jasmine.json\n--folderWithTests1\n-dist\n--spec\n.....\n</code></pre>\n\n<p>Note - \"dist\" is the folder where spec ts files are built to. Therefore \"outDir\" is set to \"dist/spec\".</p>\n\n<p>Hope this will help.</p>\n"}, {"tags": [], "owner": {"reputation": 6618, "user_id": 28537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a1b5488f926f818b9aac995be2995ec?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/28537/dan"}, "is_accepted": true, "score": 1, "last_activity_date": 1456352795, "creation_date": 1456352795, "answer_id": 35614475, "question_id": 32728095, "link": "https://stackoverflow.com/questions/32728095/setting-breakpoints-in-typescript-jasmine-tests-with-visual-studio-code/35614475#35614475", "title": "Setting breakpoints in Typescript Jasmine tests with Visual Studio Code", "body": "<p>I've updated VS Code to 0.10.9 and Typescript to 1.8.2 and this now \"just works\". </p>\n"}], "owner": {"reputation": 6618, "user_id": 28537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a1b5488f926f818b9aac995be2995ec?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/28537/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2289, "favorite_count": 4, "accepted_answer_id": 35614475, "answer_count": 2, "score": 10, "last_activity_date": 1456352795, "creation_date": 1442961233, "last_edit_date": 1443026730, "question_id": 32728095, "link": "https://stackoverflow.com/questions/32728095/setting-breakpoints-in-typescript-jasmine-tests-with-visual-studio-code", "title": "Setting breakpoints in Typescript Jasmine tests with Visual Studio Code", "body": "<p>I am trying to set up a launch configuration in Visual Studio Code so that I can debug my unit tests.</p>\n\n<p>My tests are written in Typescript. The tests and the code they test are compiled into a single js file with a source map.</p>\n\n<p>With the configuration below I can set a breakpoint in the js file and have Visual Studio Code highlight the line in the ts file when it stops. This suggests that the sourcemap is working to some extent. However if I put a breakpoint in a ts file then it is ignored.</p>\n\n<p>Any ideas on how I can get breakpoints in the ts file to work?</p>\n\n<pre><code>{\n    \"version\": \"0.1.0\",\n    // List of configurations. Add new configurations or edit existing ones.\n    // ONLY \"node\" and \"mono\" are supported, change \"type\" to switch.\n    \"configurations\": [\n        {\n            // Name of configuration; appears in the launch configuration drop down menu.\n            \"name\": \"Unit tests\",\n            // Type of configuration. Possible values: \"node\", \"mono\".\n            \"type\": \"node\",\n            // Workspace relative or absolute path to the program.\n            \"program\": \"node_modules/jasmine/bin/jasmine.js\",\n            // Automatically stop program after launch.\n            \"stopOnEntry\": false,\n            // Command line arguments passed to the program.\n            \"args\": [\"JASMINE_CONFIG_PATH=test/script/jasmine.json\"],\n            // Workspace relative or absolute path to the working directory of the program being debugged. Default is the current workspace.\n            \"cwd\": \".\",\n            // Workspace relative or absolute path to the runtime executable to be used. Default is the runtime executable on the PATH.\n            \"runtimeExecutable\": null,\n            // Optional arguments passed to the runtime executable.\n            \"runtimeArgs\": [\"--nolazy\"],\n            // Environment variables passed to the program.\n            \"env\": { },\n            // Use JavaScript source maps (if they exist).\n            \"sourceMaps\": true,\n            // If JavaScript source maps are enabled, the generated code is expected in this directory.\n            \"outDir\": \"test/script\"\n        }\n    ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "typescript", "typescript1.5"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1442965584, "creation_date": 1442965584, "answer_id": 32728833, "question_id": 32727613, "link": "https://stackoverflow.com/questions/32727613/in-typescript-how-do-i-extend-the-ambient-jquery-interface-in-an-external-modul/32728833#32728833", "title": "In TypeScript, how do I extend the ambient JQuery interface in an external module?", "body": "<blockquote>\n  <p>It seems as that if I add the interfaces directly to the modules I cannot add the new methods to the JQuery ambient interface declaration.</p>\n</blockquote>\n\n<p>Yes you need to have <code>yourlib.d.ts</code> to specify how you have extended the global <code>JQuery</code> and then a <code>yourlib.ts</code> that <em>can use external modules</em>. </p>\n\n<p>Alternatively you can <em>just write your code in a global manner</em>. </p>\n"}], "owner": {"reputation": 17933, "user_id": 7756, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e91cc4579b4a88bd811c4169f577284?s=128&d=identicon&r=PG", "display_name": "Orion Adrian", "link": "https://stackoverflow.com/users/7756/orion-adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1350, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442965584, "creation_date": 1442958931, "question_id": 32727613, "link": "https://stackoverflow.com/questions/32727613/in-typescript-how-do-i-extend-the-ambient-jquery-interface-in-an-external-modul", "title": "In TypeScript, how do I extend the ambient JQuery interface in an external module?", "body": "<p>I'm creating jQuery plugins using external modules in TypeScript. It seems as that if I add the interfaces directly to the modules I cannot add the new methods to the JQuery ambient interface declaration.</p>\n\n<p>E.g. in <code>jquery.d.ts</code></p>\n\n<pre><code>declare interface JQuery {\n    ...\n    text(): string;\n\n    text(text: string|number|boolean): JQuery;\n    ...\n}\n</code></pre>\n\n<p>I have an external module that adds a JQuery plugin and extends the JQuery interface, but other modules that import that module don't seem to see it. I'm guessing that it doesn't mix since the declaration just overrides the ambient JQuery interface declaration rather than extend it.</p>\n\n<p>It looks something like (in myplugin.ts):</p>\n\n<pre><code>interface MyCoolOptions {\n    text?: string;\n}\n\ninterface JQuery {\n    myCoolPlugin(options: MyCoolOptions): JQuery;\n}\n\n$.fn.myCoolPlugin = function(options: MyCoolOptions) { this.text(option.text); }\n</code></pre>\n\n<p>I then import the plugin in another file before I use it.</p>\n\n<pre><code>import * as cool from \"myplugin\";\n\n$(\".selector\").myCoolPlugin({ text: \"cool\" });\n</code></pre>\n\n<p>The problem is that I'm getting a message saying \"Property 'myCoolPlugin' does not exist on type JQuery\". I'd rather not have to duplicate the interfaces in an ambient declaration. Is there a way to extend the JQuery interface without having to redefine the MyCoolOptions interface in type definition file (<code>.d.ts</code>)?</p>\n"}, {"tags": ["javascript", "knockout.js", "typescript", "durandal", "amd"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1442965719, "creation_date": 1442965719, "answer_id": 32728857, "question_id": 32727472, "link": "https://stackoverflow.com/questions/32727472/knockout-internal-external-modules-transient-singleton-lifestyles/32728857#32728857", "title": "Knockout internal/external modules !== transient/singleton lifestyles?", "body": "<blockquote>\n  <p>\"undefined\" as the viewModel argument when using an \"internal\" module</p>\n</blockquote>\n\n<p>This is a common error that has to do with JavaScript emit ordering. More on this here : <a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow\">https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md</a></p>\n\n<blockquote>\n  <p>When using an IoC container, I can specify that when a given dependency is needed, that either a new object is passed-in each time, or that the object passed-in is always the same instance.</p>\n</blockquote>\n\n<p>An external module system is not the same as an IoC container. A module is a <em>singleton</em> and you always get the same instance. If you want to have different instances have your module export a function (which can act as a factory to the object you actually want). </p>\n"}], "owner": {"reputation": 38542, "user_id": 26414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fac42e3f137bfe0f34b8493c41d28f9e?s=128&d=identicon&r=PG", "display_name": "Neil Barnwell", "link": "https://stackoverflow.com/users/26414/neil-barnwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442965719, "creation_date": 1442958309, "question_id": 32727472, "link": "https://stackoverflow.com/questions/32727472/knockout-internal-external-modules-transient-singleton-lifestyles", "title": "Knockout internal/external modules !== transient/singleton lifestyles?", "body": "<p>When using an IoC container, I can specify that when a given dependency is needed, that either a new object is passed-in each time, or that the object passed-in is always the same instance.</p>\n\n<p>I had thought that internal and external modules respectively provided that functionality, but now I'm not so sure. In addition, I find that my custom binding in Knockout receives \"undefined\" as the <code>viewModel</code> argument when using an \"internal\" module.</p>\n\n<p>How can I get to choose between singleton and transient with external modules?</p>\n\n<p>I'm using Durandal (Knockout, RequireJS) in TypeScript.</p>\n"}, {"tags": ["angularjs", "typescript", "jasmine"], "comments": [{"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1442957189, "post_id": 32726515, "comment_id": 53296772, "body": "Have you pulled in the jasmine.d.ts from the definitely typed repo?"}, {"owner": {"reputation": 8136, "user_id": 158002, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b4f44968a8b184c409626519645e2bc7?s=128&d=identicon&r=PG", "display_name": "exupero", "link": "https://stackoverflow.com/users/158002/exupero"}, "reply_to_user": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1443012957, "post_id": 32726515, "comment_id": 53320991, "body": "Yes, I have the jasmine.d.ts referenced."}], "answers": [{"comments": [{"owner": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 0, "creation_date": 1476227423, "post_id": 32728764, "comment_id": 67255153, "body": "I noticed you don&#39;t document how to acutally wire in a user-defined global.d.ts file.  Can you please elaborate?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1442965088, "creation_date": 1442965088, "answer_id": 32728764, "question_id": 32726515, "link": "https://stackoverflow.com/questions/32726515/typescript-interface-for-function-with-properties/32728764#32728764", "title": "TypeScript interface for function with properties", "body": "<blockquote>\n  <p>How do I fix this error?</p>\n</blockquote>\n\n<p>Basically add to the <code>Function</code> interface in a file like <code>globals.d.ts</code>. Demo: </p>\n\n<pre><code>interface Function {\n    calls: any;\n}\n\nvar foo = ()=&gt;null;\nfoo.calls; // okay \n</code></pre>\n\n<p>This trick is covered here : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/lib.d.ts.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/lib.d.ts.html</a></p>\n"}], "owner": {"reputation": 8136, "user_id": 158002, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b4f44968a8b184c409626519645e2bc7?s=128&d=identicon&r=PG", "display_name": "exupero", "link": "https://stackoverflow.com/users/158002/exupero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1640, "favorite_count": 0, "accepted_answer_id": 32728764, "answer_count": 1, "score": 3, "last_activity_date": 1442965088, "creation_date": 1442954530, "question_id": 32726515, "link": "https://stackoverflow.com/questions/32726515/typescript-interface-for-function-with-properties", "title": "TypeScript interface for function with properties", "body": "<p>I'm using TypeScript on an Angular.js project and testing with Jasmine.</p>\n\n<p>When I mock a method on an object using <code>spyOn</code>, Jasmine replaces the method with a function that has a <code>calls</code> property so you can do, for instance, <code>thing.method.calls.count()</code>.</p>\n\n<p>The problem is that the TypeScript compiler doesn't know about the <code>calls</code> property on the method and gives a compiler error:</p>\n\n<pre><code>property 'calls' does not exist on type '() =&gt; IPromise&lt;IReport[]&gt;'\n</code></pre>\n\n<p>How do I fix this error? Do I need to define a new interface that has a function signature as well as an object property? I've tried monkeying around with different interface configurations, but without luck so far.</p>\n"}, {"tags": ["angularjs", "typescript", "gulp", "browserify"], "answers": [{"tags": [], "owner": {"reputation": 5286, "user_id": 974272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/5b74de3961f64b0df874763ab1f50e94?s=128&d=identicon&r=PG", "display_name": "rweng", "link": "https://stackoverflow.com/users/974272/rweng"}, "is_accepted": false, "score": 1, "last_activity_date": 1447098924, "last_edit_date": 1495539859, "creation_date": 1447098924, "answer_id": 33617187, "question_id": 32726045, "link": "https://stackoverflow.com/questions/32726045/tsify-compatibility-with-typescript-angularjs/33617187#33617187", "title": "TSIFY compatibility with Typescript AngularJS", "body": "<p>Angular doesn't currently support CommonJS, replacing</p>\n\n<pre><code>import angular = require('angular');\n</code></pre>\n\n<p>with</p>\n\n<pre><code>require('angular');\n</code></pre>\n\n<p>solved it for me. See <a href=\"https://stackoverflow.com/questions/25088406/cant-get-external-library-with-browserify-and-debowerify\">here</a>.</p>\n"}], "owner": {"reputation": 823, "user_id": 2694909, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvE50.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/2694909/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447098924, "creation_date": 1442952927, "last_edit_date": 1442953328, "question_id": 32726045, "link": "https://stackoverflow.com/questions/32726045/tsify-compatibility-with-typescript-angularjs", "title": "TSIFY compatibility with Typescript AngularJS", "body": "<p>I am trying to build a gulp based process that would use AngularJS from a bower package and a tool called debowerify (which I believe should let me plug in the installed bower components into the TSIFY/Browserify stream).  Essentially, I want to build an app.js file for use in my application (with all the JS I need).  I cannot for the life of me get AngularJS to work in this process.  I am using an index.ts file (see below) to bring in my references for browserify to work with.  It has been tricky with angular as the library is optimized out by the compilation process unless you use the import in some way hence the module call I was testing in the index.ts file.</p>\n\n<p>index.ts</p>\n\n<pre><code>//#### Type Definitions ####\n/// &lt;reference path=\"../../typings/angularjs/angular.d.ts\" /&gt;\n\n/// &lt;reference path=\"greeter.ts\" /&gt;\n\nimport angular = require('angular');\nimport greeter = require('./Greeter');\nvar greet = new greeter();\ngreet.sayHello();\n\nangular.module('app', []);\n</code></pre>\n\n<p>Here are my gulp defintions:</p>\n\n<p>gulpfile.js</p>\n\n<pre><code>var gulp = require('gulp');\n\nvar source = require('vinyl-source-stream');\n\nvar browserify = require('browserify');\nvar tsify = require('tsify');\n\nvar debowerify = require('debowerify');\n\nvar exorcist = require('exorcist');\n\nvar config = {\n    publicDir: __dirname + '/app',\n    path: __dirname + '/src/typescript',\n    main: 'index.ts',\n    result: 'app.js'\n};\n\ngulp.task('compile-ts', function(){\n    var bundler = browserify({ \n                    basedir: config.path, \n                    debug: true\n                })\n            .add(config.path + '/' + config.main)\n            .plugin(tsify)\n            .transform(debowerify);\n\n    return bundler.bundle()\n        .pipe(exorcist(config.publicDir + '/app.js.map'))\n        .pipe(source(config.result))\n        .pipe(gulp.dest(config.publicDir));\n});\n</code></pre>\n\n<p>The custom TS files I built (ie: greeter.ts) work great.  However, when I run my gulp compile-ts task I get no errors in the console only in the browser when it informs me that angular is undefined (on the call to angular.module).  I have suspicions that CommonJS may not be supported for angular, but I also found information on the interwebs to the contrary of that.  I am trying to avoid AMD if possible but if that is my only option I would certainly re-consider.  I have this application working if I link to the angular script in my html rather than attempt to import it into my typescript, but I am just not satisfied with that approach as I know this should work.</p>\n"}, {"tags": ["typescript", "mocha.js", "chai", "jspm", "systemjs"], "answers": [{"tags": [], "owner": {"reputation": 449, "user_id": 5212841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3a46421cdb88ddb9c2738e88867ec71?s=128&d=identicon&r=PG", "display_name": "b091", "link": "https://stackoverflow.com/users/5212841/b091"}, "is_accepted": false, "score": 2, "last_activity_date": 1444493995, "creation_date": 1444493995, "answer_id": 33056141, "question_id": 32724618, "link": "https://stackoverflow.com/questions/32724618/how-to-test-mocha-chai-typescript-systemjs-jspm-angular-three-js/33056141#33056141", "title": "How to test Mocha &amp; Chai + TypeScript + SystemJS + JSPM + Angular + Three.js", "body": "<p>You shouldn't create instance of vendor dependencies in your test suite, as well you shouldn't create instances of tested class dependencies just mock it using for example <a href=\"http://sinonjs.org\" rel=\"nofollow\">sinonjs</a>.</p>\n\n<p>Here you have my <a href=\"https://github.com/b091/ts-skeleton\" rel=\"nofollow\">example</a> It do not have any complex test suite just trivial one (i'll try add some more complex soon) but it have Mocha &amp; Chai &amp; sinon + TypeScript + SystemJS + JSPM + Angular + ... :)</p>\n"}, {"comments": [{"owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "edited": false, "score": 0, "creation_date": 1470337973, "post_id": 33496449, "comment_id": 64922579, "body": "fyi, Mocha&#39;s <a href=\"https://mochajs.org/#hooks\" rel=\"nofollow noreferrer\"><code>before</code></a> is the equivalent of Jasmine&#39;s <a href=\"http://jasmine.github.io/2.1/introduction.html#section-10\" rel=\"nofollow noreferrer\"><code>beforeAll</code></a>."}], "tags": [], "owner": {"reputation": 1265, "user_id": 862567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzqUX.png?s=128&g=1", "display_name": "Eduard Jacko", "link": "https://stackoverflow.com/users/862567/eduard-jacko"}, "is_accepted": true, "score": 2, "last_activity_date": 1446572528, "last_edit_date": 1446572528, "creation_date": 1446545609, "answer_id": 33496449, "question_id": 32724618, "link": "https://stackoverflow.com/questions/32724618/how-to-test-mocha-chai-typescript-systemjs-jspm-angular-three-js/33496449#33496449", "title": "How to test Mocha &amp; Chai + TypeScript + SystemJS + JSPM + Angular + Three.js", "body": "<p>I can think about two possibilities for now . I will write it in JS (es6) because Im not quite familiar with typescript and Jasmine but you can transform this in to mocha very easy.</p>\n\n<blockquote>\n  <p>set global variable in your test</p>\n</blockquote>\n\n<pre><code>//QuestDetailCtrl.spec.ts\nimport THREE from 'three';\nwindow.THREE = THREE;\n// or just mock it window.THREE = {}. Its usually not a good thing to \n// import whole external library in your tests. If you will mock them, \n// don't forget to reset your mock before each test if you need a fresh mock\n</code></pre>\n\n<blockquote>\n  <p>import three as dependency in your script and mock it in your test</p>\n</blockquote>\n\n<pre><code>//QuestDetailCtrl.ts\nimport THREE from 'three';\nexport default class QuestDetailCtrl {\n  constructor() { ... }\n\n  renderer: THREE.WebGLRenderer = new THREE.WebGLRenderer(); // &lt;-- This line uses a THREE instance.\n}\n\n//===================================================================\n//QuestDetailCtrl.spec.ts\n// be aware, Im using jasmine 2 here. Im passing done value in to function because mocking dependencies are async. Im not sure how this can be done in mocha\n\nbeforeAll(done =&gt; {\n  System.delete('three');\n\n  System.set('absolute/and/normalized/three/path', System.newModule({\n    WebGLRenderer: ()=&gt;{},\n  }));\n  System.import('absolute/and/normalized/path/QuestDetailCtrl').then(module=&gt;{\n    ComponentBuilder = module;\n    done();\n  });\n});\n</code></pre>\n\n<p>Hope thats help.</p>\n"}], "owner": {"reputation": 2786, "user_id": 3930694, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6851423d47c488280e1f9037e2a84123?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3930694/nicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1870, "favorite_count": 1, "accepted_answer_id": 33496449, "answer_count": 2, "score": 2, "last_activity_date": 1446572528, "creation_date": 1442947678, "question_id": 32724618, "link": "https://stackoverflow.com/questions/32724618/how-to-test-mocha-chai-typescript-systemjs-jspm-angular-three-js", "title": "How to test Mocha &amp; Chai + TypeScript + SystemJS + JSPM + Angular + Three.js", "body": "<p>I'm working on a web-based 3D game. I have my project completely set up with <strong>TypeScript</strong>.</p>\n\n<p>I have all my routing set up using <strong>Angular</strong>, and alongside I'm using <strong>Three.js</strong> as my 3D engine.</p>\n\n<p>Finally, I have the <strong>Mocha + Chai</strong> combo to test my TypeScript using a particular plugin called <a href=\"https://github.com/theblacksmith/typescript-require\" rel=\"nofollow\">typescript-require</a>.</p>\n\n<p>I use <strong>Systemjs</strong> as an importer for my <strong>JSPM</strong> packages.</p>\n\n<p>So to set the stage:<br>\n(<em>Files are stripped down for example purposes</em>)</p>\n\n<p>Systemjs/JSPM File: <code>jspmconfig.js</code></p>\n\n<pre><code>System.config({\n\n  ...\n\n  paths: {\n\n    ...\n\n    \"github:*\": \"jspm_packages/github/*\"\n\n    ...\n\n  },\n\n  map: {\n\n    ...\n\n    \"three.js\": \"github:mrdoob/three.js@master\"\n\n    ...\n\n  }\n});\n</code></pre>\n\n<p>Node File: <code>package.json</code></p>\n\n<pre><code>...\n\n\"scripts\": {\n  \"test\": \"mocha --compilers ts:typescript-require ./source/**/*.spec.ts\"\n},\n\n...\n</code></pre>\n\n<p>Controller File: <code>QuestDetailCtrl.ts</code>:</p>\n\n<pre><code>/// &lt;reference path=\"../../../../../typings/tsd.d.ts\" /&gt;\n\n// Controller | Dashboard\nexport default class QuestDetailCtrl {\n\n    ... \n\n    // Constructor\n    constructor() { ... }\n\n    renderer: THREE.WebGLRenderer = new THREE.WebGLRenderer(); // &lt;-- This line uses a THREE instance.\n}\n</code></pre>\n\n<p><strong>NOTE</strong> <em>Somewhere a bit earlier in my app I already import <strong>Three.js</strong>, so it is available in my controller (this also compiles properly to ES5 and works in the browser).</em></p>\n\n<p>Mocha Test File <code>QuestDetailCtrl.spec.ts</code></p>\n\n<pre><code>/// &lt;reference path=\"../../../../../typings/tsd.d.ts\" /&gt;\n\n// Imports\nimport { assert, expect } from 'chai';\nimport QuestDetailCtrl from './QuestDetailCtrl';\n\n// Describe\ndescribe('QuestDetailCtrl', function() {\n\n    // Shoulds\n    it('should exist', () =&gt; {\n        expect(QuestDetailCtrl).to.exist; // &lt;-- WORKS\n    });\n\n    it('should initialize', () =&gt; {\n        let instance = new QuestDetailCtrl(); // &lt;-- DOES NOT WORK\n    });\n\n});\n</code></pre>\n\n<p>In the last file <code>QuestDetailCtrl.spec.ts</code>, I initialize a new instance of my controller (TypeScript class). </p>\n\n<p>Because Mocha does not know about Three.js, this test fails on initializing the instance of my controller.</p>\n\n<p>So my question becomes:</p>\n\n<p><strong>How would I mock/import Three.js (or any other third party lib) inside my tests, such that Mocha knows about it and is able to test/initialize it?</strong></p>\n\n<p>I guess similar situations are applicable to Angular when I start testing this, so a solution would be very much appreciated!</p>\n\n<p>I already bumped into solutions where one would <code>import System from 'systemjs'</code> and set <code>meta</code> data to the <code>three.js</code> library to set <code>global</code> vars for System, but I couldn't get that to work.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["json", "angularjs", "typescript", "reactive-programming", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 3042847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20812bf59589551344aeae214de49f6a?s=128&d=identicon&r=PG&f=1", "display_name": "xgrommx", "link": "https://stackoverflow.com/users/3042847/xgrommx"}, "edited": false, "score": 2, "creation_date": 1442954246, "post_id": 32725016, "comment_id": 53295260, "body": "<code>toArray</code> working only for ended collection. But if you want get array of values in realtime, you can use <code>scan</code> operator."}, {"owner": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "edited": false, "score": 1, "creation_date": 1442989840, "post_id": 32725016, "comment_id": 53306247, "body": "You can also pass the function you have in <code>map</code> into <code>concatMap</code> as the second argument. you just change the function signature to <code>(result, post) =&gt; {}</code>. It will get invoked for each unrolled item from <code>result.json().posts</code>"}], "tags": [], "owner": {"reputation": 526, "user_id": 11097, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZbBzp.jpg?s=128&g=1", "display_name": "kenstone", "link": "https://stackoverflow.com/users/11097/kenstone"}, "is_accepted": false, "score": 0, "last_activity_date": 1442949893, "last_edit_date": 1442949893, "creation_date": 1442949143, "answer_id": 32725016, "question_id": 32724189, "link": "https://stackoverflow.com/questions/32724189/whats-the-reactive-way-to-collapse-elements-into-an-array/32725016#32725016", "title": "What&#39;s the Reactive way to collapse elements into an array?", "body": "<p>Answering my own question.</p>\n\n<pre><code>query(): Rx.Observable&lt;any&gt; {\n\nreturn this.server.get('http://localhost/rawData.json').toRx().concatMap(\n    result =&gt;\n        result.json().posts\n    )\n    .map((post: any) =&gt; {\n        var refinedPost = new RefinedPost();\n        refinedPost.Message = post.Message.toLowerCase();\n\n        return refinedPost;\n\n    }).toArray();\n}\n</code></pre>\n\n<p>This removes the internal accumulator and the wrapped Observable. <code>toArray()</code> took the sequence of items and brought them together into an array.</p>\n"}], "owner": {"reputation": 526, "user_id": 11097, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZbBzp.jpg?s=128&g=1", "display_name": "kenstone", "link": "https://stackoverflow.com/users/11097/kenstone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442949893, "creation_date": 1442946298, "question_id": 32724189, "link": "https://stackoverflow.com/questions/32724189/whats-the-reactive-way-to-collapse-elements-into-an-array", "title": "What&#39;s the Reactive way to collapse elements into an array?", "body": "<p>Take the following TypeScript/Angular 2 code sample:</p>\n\n<pre><code>query(): Rx.Observable&lt;any&gt; {\n\n    return Observable.create((o) =&gt; {\n\n        var refinedPosts = new Array&lt;RefinedPost&gt;();\n\n        var observable = this.server.get('http://localhost/rawData.json').toRx().concatMap(\n        result =&gt; \n            result.json().posts\n\n        )\n        .map((post: any) =&gt; {\n\n            // Assume I want to convert the raw JSON data into a nice class object with \n            // methods, etc.\n            var refinedPost = new RefinedPost();    \n            refinedPost.Message = post.Message.toLowerCase();\n\n\n            refinedPosts.push(refinedPost);\n        })\n        .subscribeOnCompleted(() =&gt; {\n            o.onNext(refinedPosts);\n        })\n\n\n    });\n\n}\n</code></pre>\n\n<p>Written out, the database is returning JSON. I want to iterate over the raw JSON and create a custom object, eventually returning to subscribers an <code>Array&lt;RefinedPost&gt;</code>. </p>\n\n<p>The code works and the final subscribers get what they need, but I can't help but feel like I didn't do it the \"Reactive Way\". I cheated and used an external accumulator to gather up the elements in the Array, which seems to defeat the purpose of using streams.</p>\n\n<p>So, the question is, is there a better, more concise, reactive way to write this code?</p>\n"}, {"tags": ["node.js", "stream", "typescript"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1442943972, "post_id": 32723022, "comment_id": 53289463, "body": "Yeah, this looks like it should be fixed. Also, this line doesn&#39;t seem to be implemented in <code>node.d.ts</code>: <code>If options is a string, then it specifies the encoding.</code>"}], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 5, "last_activity_date": 1442943454, "creation_date": 1442943454, "answer_id": 32723348, "question_id": 32723022, "link": "https://stackoverflow.com/questions/32723022/typescript-definition-for-createreadstream-wont-accept-start-90-end-99-in/32723348#32723348", "title": "TypeScript definition for createReadStream won&#39;t accept {start: 90, end: 99 } in the options", "body": "<blockquote>\n  <p>I do believe the node.d.ts should be fixed and I can issue a pull request with the fix, but - in the meantime - is there a way to force this call to pass the compiler?</p>\n</blockquote>\n\n<p>You can assert it as <code>any</code> for now:</p>\n\n<pre><code>var st = fs.createReadStream(logFile, {start: rstart, end: rend } as any);\n</code></pre>\n\n<p>Or manually update your local <code>node.d.ts</code> to include those properties.</p>\n"}], "owner": {"reputation": 493, "user_id": 2843394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lnyjT.jpg?s=128&g=1", "display_name": "micurs", "link": "https://stackoverflow.com/users/2843394/micurs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1731, "favorite_count": 0, "accepted_answer_id": 32723348, "answer_count": 1, "score": 2, "last_activity_date": 1442943454, "creation_date": 1442942310, "question_id": 32723022, "link": "https://stackoverflow.com/questions/32723022/typescript-definition-for-createreadstream-wont-accept-start-90-end-99-in", "title": "TypeScript definition for createReadStream won&#39;t accept {start: 90, end: 99 } in the options", "body": "<p>I just updated to TypeScript 1.6.2 and my call to createReadStream() won't compile because the type definition in node.d.ts does not expect 'start' and 'end' in the options parameter.</p>\n\n<pre><code> var st = fs.createReadStream(logFile , {start: rstart, end: rend } );\n</code></pre>\n\n<p>will get this error:</p>\n\n<pre><code> error TS2345: Argument of type '{ start: number; end: number; }' is not assignable to parameter of type '{ flags?: string; encoding?: string; fd?: string; mode?: string; bufferSize?: number; }'.\n</code></pre>\n\n<p>Since the documentation does mention these as valid options (<a href=\"https://nodejs.org/api/fs.html#fs_fs_createreadstream_path_options\" rel=\"nofollow\">https://nodejs.org/api/fs.html#fs_fs_createreadstream_path_options</a>) \nI do believe the node.d.ts should be fixed and I can issue a pull request with the fix, \nbut - in the meantime - is there a way to force this call to pass the compiler?</p>\n\n<p>thanks</p>\n"}, {"tags": ["javascript", "oop", "typescript", "getter-setter"], "comments": [{"owner": {"reputation": 3582, "user_id": 1977665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BTs0W.png?s=128&g=1", "display_name": "rwisch45", "link": "https://stackoverflow.com/users/1977665/rwisch45"}, "edited": false, "score": 1, "creation_date": 1442942856, "post_id": 32722654, "comment_id": 53288855, "body": "Check out <a href=\"https://github.com/wycats/javascript-decorators/blob/big-picture/interop/reusability.md\" rel=\"nofollow noreferrer\">using decorators</a> to do something like this."}], "answers": [{"comments": [{"owner": {"reputation": 3530, "user_id": 3078890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZrmGo.jpg?s=128&g=1", "display_name": "Morteza Tourani", "link": "https://stackoverflow.com/users/3078890/morteza-tourani"}, "edited": false, "score": 0, "creation_date": 1443074629, "post_id": 32753665, "comment_id": 53348711, "body": "I&#39;m aware of that. But I want auto getter and setter."}], "tags": [], "owner": {"reputation": 1081, "user_id": 1629243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca09ab1a2a3d0d17f2c27198bf2e146e?s=128&d=identicon&r=PG", "display_name": "Gaelan", "link": "https://stackoverflow.com/users/1629243/gaelan"}, "is_accepted": true, "score": 2, "last_activity_date": 1443070692, "creation_date": 1443070692, "answer_id": 32753665, "question_id": 32722654, "link": "https://stackoverflow.com/questions/32722654/auto-getter-and-setter-in-typescript/32753665#32753665", "title": "auto getter and setter in TypeScript", "body": "<p>Currently, there is no good way to do this. I think you will just need to go the boilerplate-y way:</p>\n\n<pre><code>class Foo {\n    private _bar: number;\n    get bar() { return this._bar }\n    set bar(bar: number) { this._bar = bar}\n    // ...\n}\n</code></pre>\n\n<p>If you wanted, you could use an editor snippet to make this a bit less of a pain.</p>\n"}], "owner": {"reputation": 3530, "user_id": 3078890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZrmGo.jpg?s=128&g=1", "display_name": "Morteza Tourani", "link": "https://stackoverflow.com/users/3078890/morteza-tourani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2701, "favorite_count": 1, "accepted_answer_id": 32753665, "answer_count": 1, "score": 2, "last_activity_date": 1443070692, "creation_date": 1442941184, "last_edit_date": 1495541342, "question_id": 32722654, "link": "https://stackoverflow.com/questions/32722654/auto-getter-and-setter-in-typescript", "title": "auto getter and setter in TypeScript", "body": "<p>I've created <a href=\"https://stackoverflow.com/questions/30274789/javascript-beyond-property-accessors\">this</a> (sort of auto getter and setter) for javaScript but I don't know how to implement this in typeScript</p>\n\n<p>I want to make an Object Oriented version of that if that's possible.</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": true, "score": 5, "last_activity_date": 1442941234, "creation_date": 1442941234, "answer_id": 32722678, "question_id": 32722432, "link": "https://stackoverflow.com/questions/32722432/injecting-components-angularjs2/32722678#32722678", "title": "Injecting components Angularjs2", "body": "<p>Mark your service as injectable like this:</p>\n\n<pre><code>import {Injectable} from 'angular2/core';\n\n@Injectable()\nclass MeetingService { ... }\n</code></pre>\n\n<p>You can read more about that <strong><a href=\"http://blog.thoughtram.io/angular/2015/09/17/resolve-service-dependencies-in-angular-2.html\" rel=\"noreferrer\">HERE</a></strong></p>\n\n<p><strong>Update</strong> if your code is all in 1 file as you have it shown above, then you will need to move the definition of your service above the component, because classes in ES6 (ES2015) are not hoisted as functions are in ES5.</p>\n"}], "owner": {"reputation": 1691, "user_id": 4803192, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2dd1e87601f8ded02fcb4e3e142c671c?s=128&d=identicon&r=PG&f=1", "display_name": "ThreeAccents", "link": "https://stackoverflow.com/users/4803192/threeaccents"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 32722678, "answer_count": 1, "score": 5, "last_activity_date": 1455368665, "creation_date": 1442940447, "last_edit_date": 1455368665, "question_id": 32722432, "link": "https://stackoverflow.com/questions/32722432/injecting-components-angularjs2", "title": "Injecting components Angularjs2", "body": "<p>I'm just testing out Angularjs2.0 but I'm running into issue injecting a service to a class. Here is my code:</p>\n\n<pre><code>import {Component, View, bootstrap, NgFor, HttpService, Promise} from 'angular2/angular2';\n\n@Component({\n    selector: 'meeting-form',\n    appInjector: [MeetingService]\n})\n\n@View({\n    template: `\n        &lt;ul&gt;\n            &lt;li *ng-for=\"#meeting of meetings\"&gt;\n                Meeting Room: meeting room {{meeting.room}}\n                Date: {{meeting.date}}\n                Time: {{meeting.time}}\n            &lt;/li&gt;\n        &lt;/ul&gt;\n            &lt;select #room&gt;\n                &lt;option value=\"1\"&gt;Meeting Room 1&lt;/option&gt;\n                 &lt;option value=\"2\"&gt;Meeting Room 2&lt;/option&gt;\n            &lt;/select&gt;\n            &lt;input type=\"date\" #date&gt;\n            &lt;input type=\"time\" #time&gt;\n            &lt;button (click)=\"reserveMeeting(room.value, date.value, time.value)\"&gt;Reserve&lt;/button&gt;\n\n    `,\n    directives: [NgFor]\n})\n\nclass MeetingFormComponent{\n    meetings: Array;\n\n    constructor(meetingService: MeetingService){\n        this.meetings = meetingService.getMeetings();\n    }\n\n    reserveMeeting(room: number, date: string, time: string, meetingService: MeetingService){\n        meetingService.postMeeting(room, date, time);\n    }\n}\n\nclass MeetingService {\n    http: HttpService;\n\n    constructor(http: HttpService) {\n        this.http = http;\n    }\n    getMeetings() {\n        return this.http.get('/meetings').then(function(data){\n            return data.meetings;\n        })\n    }\n\n    postMeeting(room: number, date: string, time: string){\n        return this.http.post('/meetings', {\"room\": room, \"date\": date, \"time\": time}).then(function(data){\n           return data.meeting;\n        })\n    }\n}\n\nbootstrap(MeetingFormComponent);\n</code></pre>\n\n<p>I get this error: </p>\n\n<p><code>EXCEPTION: Error during instantiation of Token(Promise&lt;ComponentRef&gt;)!.\nORIGINAL EXCEPTION: Cannot resolve all parameters for MeetingFormComponent(undefined). Make sure they all have valid type or annotations.</code></p>\n\n<p>I'm looking at the docs and it seems like that is exactly how they are injecting their service. Am I missing a step? I've also tried bootstraping the service class but that didn't work.</p>\n"}, {"tags": ["javascript", "html", "unit-testing", "typescript"], "comments": [{"owner": {"reputation": 3911, "user_id": 2729937, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/742a6d2ae57a80bf7c7796b9fb45347e?s=128&d=identicon&r=PG&f=1", "display_name": "Ismael Miguel", "link": "https://stackoverflow.com/users/2729937/ismael-miguel"}, "edited": false, "score": 0, "creation_date": 1442937991, "post_id": 32721610, "comment_id": 53285837, "body": "You forgot to mention that you are using ES6 features. That may cause the tests to be thrown away. I don&#39;t use Visual Studio for Javascript, but that <b>can be a possibility</b> of what is going on. Try to convert it to ES5, using a regular object instead of a module or a class."}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 1, "creation_date": 1442940208, "post_id": 32721610, "comment_id": 53287221, "body": "Try Jasmine unit-testing framework, there are several good integration tools exist for this testing framework in VS"}, {"owner": {"reputation": 141, "user_id": 4581193, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2d62cbbe86d1696bf988cee4f0034c3c?s=128&d=identicon&r=PG&f=1", "display_name": "mmangual83", "link": "https://stackoverflow.com/users/4581193/mmangual83"}, "reply_to_user": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1442940428, "post_id": 32721610, "comment_id": 53287352, "body": "@Oleg Dokuka thank you I will give that a try"}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1443368215, "creation_date": 1443368215, "answer_id": 32809668, "question_id": 32721610, "link": "https://stackoverflow.com/questions/32721610/my-unit-test-does-not-show-in-test-explorer/32809668#32809668", "title": "My unit test does not show in Test Explorer", "body": "<p>tsUnit has a few output options, you have a browser-based output, or TAP output (this is better for command-line usage), or you can generate your own output based on the raw data.</p>\n\n<p>To integrate with Visual Studio, you do need to wrap your tsUnit tests in a .NET test. No Visual Studio extension has been written to allow tsUnit test discovery. You can make this happen using a single test class in your project, for example in a C# project you can write an <a href=\"https://www.stevefenton.co.uk/2013/02/include-javascript-and-typescript-tests-in-visual-studio/\" rel=\"nofollow\">MSTest or NUnit test that calls the TypeScript tests</a>.</p>\n"}], "owner": {"reputation": 141, "user_id": 4581193, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2d62cbbe86d1696bf988cee4f0034c3c?s=128&d=identicon&r=PG&f=1", "display_name": "mmangual83", "link": "https://stackoverflow.com/users/4581193/mmangual83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1443368215, "creation_date": 1442937838, "question_id": 32721610, "link": "https://stackoverflow.com/questions/32721610/my-unit-test-does-not-show-in-test-explorer", "title": "My unit test does not show in Test Explorer", "body": "<p>I am trying to set up a unit test in Typescript using tsUnit. I have created a very simple test just to make sure that I am doing things right. However, every time I click on Run All in Test Explorer it doesn't show me any results! It seems as though Visual Studios 2013 can't find any valid tests in my solution. Here is what I have in code: </p>\n\n<pre><code>/// &lt;reference path=\"../../UnitTesting/UnitTesting/Scripts/tsUnit/tsUnit.ts\" /&gt;\n\nmodule CalculationsTests {\n    export class SimpleMathTests extends tsUnit.TestClass {\n\n        addTwoNumbersWith1And2Expect3() {\n            var result = 1 + 2;\n\n            this.areIdentical(3, result);\n        }\n\n        addTwoNumbersWith3And2Expect5() {\n            var result = 3 + 6;\n\n            this.areIdentical(4, result); // Deliberate error\n        }\n    }\n}\n\nwindow.onload = () =&gt; {\n    // new instance of tsUnit - pass in modules that contain test classes\n    var test = new tsUnit.Test(CalculationsTests);\n\n    // Handle the results yourself...\n    var result = test.run();\n\n    var outcome = (result.errors.length === 0) ? 'Test Passed' : 'Test Failed';\n\n    alert(JSON.stringify(outcome));\n};\n</code></pre>\n\n<p>And in my main html file I have: </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;TypeScript HTML App&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"app.css\" type=\"text/css\" /&gt;\n    &lt;script src=\"/Scripts/tsUnit/tsUnit.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"app.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;TypeScript HTML App&lt;/h1&gt;\n    &lt;h2&gt;TS Unit Test&lt;/h2&gt;\n    &lt;div id=\"content\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hRS7e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRS7e.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone help me find out what I need to do in order to properly set up a unit test?</p>\n"}, {"tags": ["typescript", "visual-studio-2015"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 3723467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/305284a30403d10b7feab378efa45b69?s=128&d=identicon&r=PG&f=1", "display_name": "mszinger", "link": "https://stackoverflow.com/users/3723467/mszinger"}, "edited": false, "score": 0, "creation_date": 1443013223, "post_id": 32717018, "comment_id": 53321168, "body": "I see that now, thanks. Interestingly, I had been disabling an HTMLDivElement, and in TS 1.4, that really &quot;did something&quot;... it seemed to auto-cascade to the child elements of the div. But Ok, I&#39;m all for doing things the right way..."}], "tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": true, "score": 5, "last_activity_date": 1442925803, "last_edit_date": 1442925803, "creation_date": 1442925288, "answer_id": 32717018, "question_id": 32716877, "link": "https://stackoverflow.com/questions/32716877/typescript-htmlelement-disabled-1-4-to-1-6-what-happened-ts2339/32717018#32717018", "title": "Typescript HTMLElement disabled 1.4 to 1.6 what happened (TS2339)?", "body": "<p>Corresponding to <a href=\"https://developer.mozilla.org/ru/docs/Web/API/HTMLElement\" rel=\"noreferrer\">MDN topics</a>, class <code>HTMLElement</code> does not have property such as <code>disabled</code>. That is why Typescript developers team correct this Web API object</p>\n"}, {"tags": [], "owner": {"reputation": 14380, "user_id": 2102532, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe51636ca4d4799fe8600414a3bc891b?s=128&d=identicon&r=PG", "display_name": "meskobalazs", "link": "https://stackoverflow.com/users/2102532/meskobalazs"}, "is_accepted": false, "score": 5, "last_activity_date": 1442925603, "creation_date": 1442925603, "answer_id": 32717142, "question_id": 32716877, "link": "https://stackoverflow.com/questions/32716877/typescript-htmlelement-disabled-1-4-to-1-6-what-happened-ts2339/32717142#32717142", "title": "Typescript HTMLElement disabled 1.4 to 1.6 what happened (TS2339)?", "body": "<p>The <code>HTMLElement</code> interface does not contain the <code>disabled</code> property, as it is not a property which has a meaning for all HTML elements. However, it's children <code>HTMLInputElement</code>, <code>HTMLButtonElement</code> etc. does, because the <code>disabled</code> property makes sense with them.</p>\n\n<p>With this in mind, you should be able to correct your code with little trouble.</p>\n"}], "owner": {"reputation": 93, "user_id": 3723467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/305284a30403d10b7feab378efa45b69?s=128&d=identicon&r=PG&f=1", "display_name": "mszinger", "link": "https://stackoverflow.com/users/3723467/mszinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2107, "favorite_count": 0, "accepted_answer_id": 32717018, "answer_count": 2, "score": 4, "last_activity_date": 1494271493, "creation_date": 1442924880, "question_id": 32716877, "link": "https://stackoverflow.com/questions/32716877/typescript-htmlelement-disabled-1-4-to-1-6-what-happened-ts2339", "title": "Typescript HTMLElement disabled 1.4 to 1.6 what happened (TS2339)?", "body": "<p>I have been working on a TypeScript project using Visual Studio 2013 and the 1.4 version of the TS language. Just now I've upgraded the Visual Studio 2015, which uses TS 1.6.</p>\n\n<p>I have code that uses the \"disabled\" property of an HTMLElement:\nvar e: HTMLElement = ...\ne.disabled = true;</p>\n\n<p>VS 2015/TS 1.6 now gives me error Code TS2339: \"Property 'disabled' does not exist on type 'HTMLElement'.</p>\n\n<p>Whoa! 'disabled' is a DOM property, and it used to do something in my code, and now it's no longer defined? Where did it go, and how do I deal?</p>\n\n<p>I've carefully read the 'What's New' notes on the TS release from 1.4 to 1.6 but it has nothing to say on this matter.</p>\n"}, {"tags": ["typescript", "typescript1.6"], "comments": [{"owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "edited": false, "score": 0, "creation_date": 1442939670, "post_id": 32713452, "comment_id": 53286879, "body": "Another example can be found <a href=\"http://stackoverflow.com/questions/32680394/how-to-prevent-assiging-similar-types/32680710#32680710\">here</a>"}, {"owner": {"reputation": 10794, "user_id": 540776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8dbbc1a34bd3c1b0888a3575be6439f4?s=128&d=identicon&r=PG", "display_name": "superjos", "link": "https://stackoverflow.com/users/540776/superjos"}, "edited": false, "score": 0, "creation_date": 1462908951, "post_id": 32713452, "comment_id": 61832846, "body": "BTW, this seems a much clearer example to me: <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">TS Deep Dive</a>, in particular the <code>isFoo</code> one."}], "answers": [{"tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": false, "score": 3, "last_activity_date": 1457691741, "last_edit_date": 1592644375, "creation_date": 1442915528, "answer_id": 32713812, "question_id": 32713452, "link": "https://stackoverflow.com/questions/32713452/user-defined-type-guards-typescript/32713812#32713812", "title": "user defined type guards [typescript]", "body": "<p>Consider your example</p>\n<pre><code>interface Animal {name: string; } - an interface\ninterface Cat extends Animal { - an implementation\n  meow(); \n}\n\nfunction isCat(a: Animal): a is Cat {\n  return a.name === 'kitty'; // your special checking you can replace it with any other checking expression\n}\n\nvar x: Animal;\n\nif(isCat(x)) {\n  x.meow(); // OK, x is Cat in this block\n}\n</code></pre>\n<p>This example show, that now, we can use expression like <code>a is Cat</code> and in the follow block, where checking has been already used, type of <code>a</code> would be <code>Cat</code>. The <code>return a.name === 'kitty';</code> expression you can replace with</p>\n<pre><code>function isCat(a: Animal): a is Cat {\n  return a[&quot;meow&quot;] != undefined; // it also would be indicate that the animal is Cat\n}\n</code></pre>\n<p>and it would be work.</p>\n<p>Even you can replace it with this too</p>\n<pre><code>function isCat(a: Animal): a is Cat {\n      return true;\n}\n</code></pre>\n<p>I have prepared <a href=\"http://www.typescriptlang.org/Playground#src=interface%20Animal%20%7Bname%3A%20string%3B%20%7D%0Ainterface%20Cat%20extends%20Animal%20%7B%20meow()%3B%20%7D%0A%0Afunction%20isCat(a%3A%20Animal)%3A%20a%20is%20Cat%20%7B%0A%20%20return%20true%3B%0A%7D%0A%0Avar%20x%3A%20Animal%3B%0A%0Aif(isCat(x))%20%7B%0A%20%20alert(%22Even%20undefined%20is%20cat%20now%22)%3B%0A%20%20x.meow()%3B%0A%7D\" rel=\"nofollow noreferrer\">example</a> for you, you can play with it.</p>\n<p><strong>Conclusions:</strong></p>\n<ol>\n<li>Expression <code>a is Cat</code> provide same effect as <code>a instanceof SomeClass</code>, but first one is customizable checking instead of last one, and last one does not work with interfaces.</li>\n<li>Your checking function can contain any code - it is your choice</li>\n<li>This future give us possibility to check <strong>if instance is inctanceof <em>interface</em></strong></li>\n</ol>\n<h1>Update</h1>\n<ol>\n<li>Plays it an role?\n<ul>\n<li>Yes, it plays. <code>a.name === 'kitty'</code> - this expression show the logic of checking that given animal <strong>IS</strong> - <code>Cat</code>, so, here you can provide any <code>boolean</code> expression that check that given animal is <code>Cat</code> even you can return just <code>true</code> or <code>false</code>;</li>\n</ul>\n</li>\n<li>Must all cats called kitty?\n<ul>\n<li>No. It is up to you. In function <code>isCat</code> you can provide any logic that ensure that <em><strong>given</strong></em> animal is of type <code>Cat</code></li>\n</ul>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 4352, "user_id": 279393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/076ecbe5aa801b9417fd7e81f704d64e?s=128&d=identicon&r=PG", "display_name": "bnieland", "link": "https://stackoverflow.com/users/279393/bnieland"}, "is_accepted": false, "score": 2, "last_activity_date": 1564933178, "last_edit_date": 1564933178, "creation_date": 1457466822, "answer_id": 35876788, "question_id": 32713452, "link": "https://stackoverflow.com/questions/32713452/user-defined-type-guards-typescript/35876788#35876788", "title": "user defined type guards [typescript]", "body": "<p>Your questions regarding <code>return a.name === 'kitty';</code>:</p>\n\n<p>1)Does it plays a role?<br>\nYes, the return value determines whether the type guard passes or fails.  </p>\n\n<p>2)Must all cats called kitty?<br>\nYes, in this case, all cats must be called Kitty.</p>\n\n<p>What it comes down to, it this was not a very good example.</p>\n\n<p>A better one would be...</p>\n\n<pre><code>class Animal {name: string; type: string; }\nclass Cat extends Animal {\n  type: string = \"Cat\";\n  meow() {}; \n}\n\nfunction isCat(a: Animal): a is Cat {\n  return a.type === 'Cat'; // your special checking you can replace it with any other checking expression\n}\n\nvar x: Animal = new Cat();\n\nif(isCat(x)) {\n  x.meow(); // OK, x is Cat in this block\n}\n</code></pre>\n\n<p>see <a href=\"https://jsfiddle.net/penguin020/kwuf6yga/\" rel=\"nofollow noreferrer\">JSFiddle</a>. </p>\n"}], "owner": {"reputation": 1000, "user_id": 2310456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ceda5a69344f61def22a10767f34717?s=128&d=identicon&r=PG", "display_name": "MichiBack", "link": "https://stackoverflow.com/users/2310456/michiback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2306, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1564933178, "creation_date": 1442914569, "question_id": 32713452, "link": "https://stackoverflow.com/questions/32713452/user-defined-type-guards-typescript", "title": "user defined type guards [typescript]", "body": "<p>With TypeScript 1.6 is it possible to write functions to check objects against interfaces. (Below is the anncouncement from MSDN and how to use it.)</p>\n\n<p>My question targets the <em>return expression</em> <code>return a.name === 'kitty';</code>:</p>\n\n<ol>\n<li>Plays it an role?</li>\n<li>Must all cats called kitty?</li>\n</ol>\n\n<blockquote>\n  <p><strong>User defined type guards</strong></p>\n  \n  <p>[<a href=\"http://blogs.msdn.com/b/typescript/archive/2015/09/16/announcing-typescript-1-6.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/typescript/archive/2015/09/16/announcing-typescript-1-6.aspx</a>]</p>\n  \n  <p>In earlier versions of TypeScript, you could use if statements to\n  narrow the type. For example, you could use:</p>\n  \n  <p><code>if (typeof x === \"number\") { \u2026 }</code></p>\n  \n  <p>This helped type information flow into common ways of working with\n  types at runtime (inspired by some of the other projects doing\n  typechecking of JS). While this approach is powerful, we wanted to\n  push it a bit further.  In 1.6, you can now create your own type guard\n  functions:</p>\n\n<pre><code>interface Animal {name: string; } \ninterface Cat extends Animal {\n  meow(); \n}\n\nfunction isCat(a: Animal): a is Cat {\n  return a.name === 'kitty'; \n}\n\nvar x: Animal;\n\nif(isCat(x)) {\n  x.meow(); // OK, x is Cat in this block\n}\n</code></pre>\n  \n  <p>This allows you to work with not only typeof and instanceof checks,\n  which need a type that JavaScript understands, but now you can work\n  with interfaces and do custom analysis.  Guard functions are denoted\n  by their \u201ca is X\u201d return type, which returns boolean and signals to\n  the compiler if what the expected type now is.</p>\n</blockquote>\n"}, {"tags": ["angularjs", "typescript", "jasmine", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 1366, "user_id": 1516299, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a38113b2128419aad4b9b127a59fa87c?s=128&d=identicon&r=PG", "display_name": "Desmond", "link": "https://stackoverflow.com/users/1516299/desmond"}, "edited": false, "score": 0, "creation_date": 1442965613, "post_id": 32711476, "comment_id": 53299748, "body": "Thankyou @TomDoesCode, that makes sense. Really appreciate your help!!"}], "tags": [], "owner": {"reputation": 3322, "user_id": 5061263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EZnQE.png?s=128&g=1", "display_name": "TomDoesCode", "link": "https://stackoverflow.com/users/5061263/tomdoescode"}, "is_accepted": true, "score": 2, "last_activity_date": 1442909295, "last_edit_date": 1442909295, "creation_date": 1442908808, "answer_id": 32711476, "question_id": 32710937, "link": "https://stackoverflow.com/questions/32710937/jasmine-angular-testing-with-typescript-typeerror-undefined-is-not-an-obje/32711476#32711476", "title": "Jasmine + Angular testing with Typescript: TypeError: &#39;undefined&#39; is not an object", "body": "<p><code>createResolvedPromise</code> sets up <code>getCustomerDetails</code> to return a promise with the value of the parameter that you pass in - in this case <code>'12345678'</code>. This means that the value of <code>customerResponse</code> is <code>'12345678'</code>. So <code>customer</code> which takes it's value from <code>customerResponse.customers</code> is undefined as there is no property <code>customers</code> on a string. So the error happens as you are trying to evaluate <code>customer.displayCustomerNumber</code> because <code>customer</code> is undefined.</p>\n"}], "owner": {"reputation": 1366, "user_id": 1516299, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a38113b2128419aad4b9b127a59fa87c?s=128&d=identicon&r=PG", "display_name": "Desmond", "link": "https://stackoverflow.com/users/1516299/desmond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 0, "accepted_answer_id": 32711476, "answer_count": 1, "score": 2, "last_activity_date": 1442909295, "creation_date": 1442907183, "question_id": 32710937, "link": "https://stackoverflow.com/questions/32710937/jasmine-angular-testing-with-typescript-typeerror-undefined-is-not-an-obje", "title": "Jasmine + Angular testing with Typescript: TypeError: &#39;undefined&#39; is not an object", "body": "<p>I'm trying to test the following service and seem to be having trouble matching the mock response: </p>\n\n<pre><code>public getCustomerDetails(customerID:string): ng.IPromise&lt;ICustomerDetails&gt; {\n    return this.testService.getCustomerDetails(customerID).then((customerResponse:ICustomerResult) =&gt; {\n\n        var customer = customerResponse.customers;\n\n        var customerDetailsResult:ICustomerDetails = {\n            customerNumber: customer.displayCustomerNumber,\n            name: customer.name,\n            userId: customer.buId,\n            customerType: customer.type,\n            address: customer.displayAddress\n        };\n\n        return customerDetailsResult;\n    });\n}\n</code></pre>\n\n<p>Here is the Jasmine code:</p>\n\n<pre><code>describe('CustomerService', () =&gt; {\n    var mockTestService: any = {};\n    var $q: ng.IQService;\n    var createCustomerDetailsService;\n    var customerDetailsService;\n    var createResolvedPromise;\n    var resolvePromises;\n\n    var serviceResponse = {\n        customerNumber: 'string',\n        name: 'name',\n        userId: 'buId',\n        customerType: 'type',\n        address: 'displayAddress'\n    };\n\n    var rootScope;\n\n    beforeEach(() =&gt; {\n        module('app.customer');\n\n        inject(( _$q_, $injector) =&gt; {\n            this.$q = _$q_;\n            rootScope = $injector.get('$rootScope');\n\n            createResolvedPromise = (result) =&gt; {\n                return this.$q.when(result);\n            };\n\n            resolvePromises = () =&gt; {\n                rootScope.$apply();\n            };\n\n            createCustomerDetailsService = () =&gt; {\n                return new app.customer.CustomerService(\n                    mockRnsService);\n            };\n        });\n\n    });\n\n\n    it('WILL search by customer ID and return a customers details', () =&gt; {\n        var searchResponsePromise;\n\n        mockTestService.getCustomerDetails = jasmine.createSpy(\"getCustomerDetails\").and.callFake(createResolvedPromise);\n        customerDetailsService = createCustomerDetailsService();\n        searchResponsePromise = customerDetailsService.getCustomerDetails('12345678');\n        resolvePromises();\n\n        expect(searchResponsePromise).toEqual(serviceResponse);\n    });\n\n});\n</code></pre>\n\n<p>The error I'm getting is: </p>\n\n<p><code>TypeError: 'undefined' is not an object (evaluating 'customer.displayCustomerNumber')</code></p>\n\n<p>Can anyone tell me why I'm getting this error? Thanks for any help. </p>\n"}, {"tags": ["javascript", "typescript", "this", "alpacajs"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "edited": false, "score": 0, "creation_date": 1442901358, "post_id": 32709344, "comment_id": 53261611, "body": "Using  <code>self</code> withtin typescript return an object of type <code>Window</code> ? It doesn&#39;t contain my Typescript methods/variables"}, {"owner": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "edited": false, "score": 0, "creation_date": 1442901664, "post_id": 32709344, "comment_id": 53261726, "body": "I missed the line <code>let _self = this;</code> -.- I&#39;m sorry. Looks like this is working! Going to test it out"}, {"owner": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "edited": false, "score": 0, "creation_date": 1442901708, "post_id": 32709344, "comment_id": 53261750, "body": "Between, just wondering. Why CAN i access a <code>let</code> within this block scope but can&#39;t i access the other typescript variables/functions?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "edited": false, "score": 0, "creation_date": 1442902102, "post_id": 32709344, "comment_id": 53261890, "body": "<code>can&#39;t i access the other typescript variables&#47;functions?</code> : You can. Not sure what you mean"}, {"owner": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "edited": false, "score": 0, "creation_date": 1442902153, "post_id": 32709344, "comment_id": 53261911, "body": "using the _self i CAN access the other typescript class variables/functions.  But without that _self i can&#39;t. So why can&#39;t i, but can i access the _self?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "edited": false, "score": 1, "creation_date": 1442902808, "post_id": 32709344, "comment_id": 53262190, "body": "<code>So why can&#39;t i, but can i access the _self</code> There is only one thing that  the <i>effectively a variable</i> <code>this</code> can be bound to. If you use a fat arrow it is bound to the lexical scope (in your case the class instance). Without it it is a choice on <i>who calls the function</i> (the library in this case). Since you want <i>two things</i> you need to use <i>two variables</i>. In your case one is <code>this</code> (from the lib) and the other is <code>_self</code> (bound to the class instance)"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "edited": false, "score": 0, "creation_date": 1442964772, "post_id": 32709344, "comment_id": 53299512, "body": "I&#39;ve added this tip here : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow noreferrer\">basarat.gitbooks.io/typescript/content/docs/&hellip;</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1442964759, "last_edit_date": 1442964759, "creation_date": 1442901249, "answer_id": 32709344, "question_id": 32709231, "link": "https://stackoverflow.com/questions/32709231/access-javascript-this-from-typescript/32709344#32709344", "title": "Access JavaScript &quot;this&quot; from TypeScript", "body": "<blockquote>\n  <p>i CAN'T access the alpaca/javascript this, i need both of them</p>\n</blockquote>\n\n<p>Use the standard javascript trick of capturing <code>this</code> before creating the function: </p>\n\n<pre><code>let _self = this;\nthis.options = {\n    \"collapsible\": false,\n    \"fields\": {\n        \"id\": {\n            \"events\": {\n                \"change\": function () {\n                    console.log(_self.getValue());  // the class instance\n                    console.log(this); // the lib version \n                }\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>This tip is documented here as well : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html</a></p>\n"}], "owner": {"reputation": 117, "user_id": 4695837, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce06b52facfda5d59a8d8f265ec5933f?s=128&d=identicon&r=PG&f=1", "display_name": "Bas Van Den Heuvel", "link": "https://stackoverflow.com/users/4695837/bas-van-den-heuvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1544, "favorite_count": 0, "accepted_answer_id": 32709344, "answer_count": 1, "score": 2, "last_activity_date": 1442964759, "creation_date": 1442900746, "question_id": 32709231, "link": "https://stackoverflow.com/questions/32709231/access-javascript-this-from-typescript", "title": "Access JavaScript &quot;this&quot; from TypeScript", "body": "<p>I'm currently working with the AlpacaJS library within my typescript project. This JavaScript/JQuery library is included in my Typescript class and wants me to pass some options in a json style object like so:</p>\n\n<pre><code>this.options = {\n    \"collapsible\": false,\n    \"fields\": {\n        \"id\": {\n            \"events\": {\n                \"change\": function () {\n                    console.log(this.getValue());\n                }\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>Passing this object i say: add a change event to the field \"id\" within the form which alpaca generates. Using \"this\" within that function gives me the \"this\" of the library, and NOT the typescript class \"this\".</p>\n\n<p><strong>The problem</strong>: What if i like to call a method or variable within my Typescript class? I would have to use \"this\", but \"this\" is binded to the alpaca/javascript this. I can't change it to <code>(event) =&gt; { ... }</code> or <code>{ ...}.bind(this)</code> because that way i CAN access the typescript \"this\", but i CAN'T access the alpaca/javascript this, i need both of them....</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1442887274, "post_id": 32707234, "comment_id": 53257838, "body": "Thanks for your help. I am sorry but I realized this after posting the question and just tried a quick edit while you were entering your answer. Now I fixed that but I have another problem.  The data coming back used to have a type of :any so it fitted well into self.topics and self.topicsBase.  Can you give me a suggestion how I could fix this now."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1442887887, "post_id": 32707234, "comment_id": 53257991, "body": "<code>Can you give me a suggestion how I could fix this now.</code> Specify the generic ... but might as well put a put annotation on <code>response</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1442888591, "post_id": 32707234, "comment_id": 53258155, "body": "If you don&#39;t mind can you give me an example of what you mean?  Are you suggesting one way would be to add &lt;ITopic[]&gt; before angular.copy? Also how could i do this with an annotation on response, that&#39;s the one i am really confused about. Thank you very much"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1442888901, "post_id": 32707234, "comment_id": 53258233, "body": "<code>Also how could i do this with an annotation on response, that&#39;s the one i am really confused about</code> : e.g. : <code>.then((response:ng.IHttpPromiseCallbackArg&lt;{foo:string}&gt;): any =&gt; { },(): any =&gt; {});</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1442889787, "post_id": 32707234, "comment_id": 53258445, "body": "I had some difficulties with the callback arguments but from what I see you answered this question correctly.  I will open up another question that&#39;s a bit more specific. Thanks"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1442887208, "creation_date": 1442887208, "answer_id": 32707234, "question_id": 32707151, "link": "https://stackoverflow.com/questions/32707151/how-can-i-implement-http-in-typescript/32707234#32707234", "title": "How can I implement $http in Typescript?", "body": "<blockquote>\n  <p>Argument of type <code>'(data: IHttpPromiseCallbackArg&lt;{}&gt;, status: any, headers: any, config: any) =&gt; any'</code> is not assignable to parameter of type <code>'(response: IHttpPromiseCallbackArg&lt;{}&gt;) =&gt; any'</code></p>\n</blockquote>\n\n<p>You are passing a function that takes more arguments than what is returned by <code>$http()</code>.</p>\n\n<h1>Fixed :</h1>\n\n<pre><code>$http({\n    method: \"GET\",\n    url: myURL\n})\n    .then((response): any =&gt; { },(): any =&gt; {});\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 2, "accepted_answer_id": 32707234, "answer_count": 1, "score": 4, "last_activity_date": 1442887225, "creation_date": 1442886509, "last_edit_date": 1442887225, "question_id": 32707151, "link": "https://stackoverflow.com/questions/32707151/how-can-i-implement-http-in-typescript", "title": "How can I implement $http in Typescript?", "body": "<p>I am having problems defining my $http call in Typescript. Previously I was using .success and .error like this:</p>\n\n<pre><code>this.$http({\n            method: \"GET\",\n            url: self.ac.dataServer + url\n        })\n            .success((data: any, status: number, headers: (headerName: string) =&gt; string, config: ng.IRequestConfig): void =&gt; {\n                self.topics = angular.copy(data);\n                self.topicsBase = angular.copy(data);\n                this.$state.transitionTo('home.subjects.subject.admin.topics', {\n                    subjectId: this.sus.subject.id\n                });\n            })\n            .error((data, status, headers, config): void =&gt; {\n                self.topics = null;\n                self.topicsBase = null;\n            })\n            .finally((): void =&gt; {\n            });\n</code></pre>\n\n<p>Now I changed to use .then:</p>\n\n<pre><code> this.$http({\n            method: \"GET\",\n            url: self.ac.dataServer + url\n        })\n            .then(\n            (response): any =&gt; {\n                self.topics = angular.copy(response.data);\n                self.topicsBase = angular.copy(response.data);\n                this.$state.transitionTo('home.subjects.subject.admin.topics', {\n                    subjectId: this.sus.subject.id\n                });},\n            (response): any =&gt; {\n                self.topics = null;\n                self.topicsBase = null;\n            }\n            );\n</code></pre>\n\n<p>But this gives me the following errors:</p>\n\n<blockquote>\n  <p>Severity  Code    Description Project File    Line\n  Error TS2322  Type '{}' is not assignable to type 'ITopic[]'.\n  Property 'length' is missing in type '{}'.    admin   C:\\H\\admin\\admin\\app\\services\\topicservice.ts   214\n  Severity  Code    Description Project File    Line Error  TS2322  Type '{}' is\n  not assignable to type\n  'ITopic[]'.   admin   C:\\H\\admin\\admin\\app\\services\\topicservice.ts   215</p>\n</blockquote>\n\n<p>The errors come up on the lines where I am assigning an angular.copy(data) to self.topics and self.topicsBase</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 412, "user_id": 3179214, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28ac7463d71c14e86ae0c8f0ca6c406d?s=128&d=identicon&r=PG&f=1", "display_name": "dacox", "link": "https://stackoverflow.com/users/3179214/dacox"}, "edited": false, "score": 0, "creation_date": 1442881491, "post_id": 32706148, "comment_id": 53256466, "body": "Sigh, this is it. I actually did try reordering my <code>_all.ts</code> beforehand without any success.However, when I changed the order that VS was passing TypeScript files to the compiler, everything worked.  I&#39;ll pass this information along to my team."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1442878602, "creation_date": 1442878602, "answer_id": 32706148, "question_id": 32706127, "link": "https://stackoverflow.com/questions/32706127/typescript-and-angularjs-module-is-undefined/32706148#32706148", "title": "TypeScript and AngularJS - Module is undefined?", "body": "<blockquote>\n  <p>I am very confused here</p>\n</blockquote>\n\n<p>This is the hazard of using <code>out</code>. See lots of reasons why you shouldn't : <a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow\">https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md</a></p>\n\n<h1>Temp fix:</h1>\n\n<p>Reorder the files in <code>_all.ts</code> so that the variables are declared in the order they are used</p>\n\n<h1>Long term fix:</h1>\n\n<p>Use <code>commonjs</code> everywhere and for the frontend have something like <code>webpack</code> running.</p>\n"}], "owner": {"reputation": 412, "user_id": 3179214, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28ac7463d71c14e86ae0c8f0ca6c406d?s=128&d=identicon&r=PG&f=1", "display_name": "dacox", "link": "https://stackoverflow.com/users/3179214/dacox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 32706148, "answer_count": 1, "score": 0, "last_activity_date": 1442879135, "creation_date": 1442878454, "last_edit_date": 1442879135, "question_id": 32706127, "link": "https://stackoverflow.com/questions/32706127/typescript-and-angularjs-module-is-undefined", "title": "TypeScript and AngularJS - Module is undefined?", "body": "<p>I have been writing a rather large AngularJS app of directives in TypeScript according to the following article: <a href=\"http://kwilson.me.uk/blog/writing-cleaner-angularjs-with-typescript-and-controlleras/\" rel=\"nofollow\">http://kwilson.me.uk/blog/writing-cleaner-angularjs-with-typescript-and-controlleras/</a>.</p>\n\n<p>I have organized my Controllers and Directives into subfolers of my appm <code>Controllers</code>, and <code>Directives</code>.</p>\n\n<p>My <code>main.ts</code> looks like so:</p>\n\n<pre><code>module Test {\n    angular.module(\"myModule\", [\"myDep\"])\n           .controller(Test.Controllers)\n           .directive(Test.Directives);\n    }\n}\n</code></pre>\n\n<p>my <code>_all.ts</code> looks like so</p>\n\n<pre><code>/// &lt;reference path='Controllers/x.ts' /&gt;\n/// &lt;reference path='Directives/x.ts' /&gt;\n/// &lt;reference path='Controllers/y.ts' /&gt;\n/// &lt;reference path='Directives/y.ts' /&gt;\n/// &lt;reference path='Test/main.ts' /&gt;\n</code></pre>\n\n<p>Everything has been working great, until I attempted to add a service.</p>\n\n<p>I took some duplicated functions between the controllers <code>x</code> and <code>y</code> and put them in a service, under the folder <code>Services</code></p>\n\n<pre><code>module Test.Services {\n    export class TestService {\n\n        test(): string {\n            return \"test\";\n        }\n    }\n}\n</code></pre>\n\n<p>added it to my <code>_all.ts</code></p>\n\n<pre><code>/// &lt;reference path='Controllers/x.ts' /&gt;\n/// &lt;reference path='Directives/x.ts' /&gt;\n/// &lt;reference path='Controllers/y.ts' /&gt;\n/// &lt;reference path='Directives/y.ts' /&gt;\n/// &lt;reference path='Services/test.ts' /&gt;\n/// &lt;reference path='Test/main.ts' /&gt;\n</code></pre>\n\n<p>and attempted to add it to my app:</p>\n\n<pre><code>module Test {\n    angular.module(\"myModule\", [\"myDep\"])\n           .controller(Test.Controllers)\n           .directive(Test.Directives)\n           .service(\"testService\", Test.Services.TestService);\n    }\n}\n</code></pre>\n\n<p>I can get everything to compile, and IntelliSense seems to accept it, but when I render my page, I get </p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'TestService' of undefined\n</code></pre>\n\n<p>It doesn't seem to see my Test.Services module, and I can't figure out why. It is clearly compiling, I can see the Services in the transpiled JavaScript. </p>\n\n<p>If I attempt to do a </p>\n\n<pre><code>console.log(Test.Services);\n</code></pre>\n\n<p>in <code>main.ts</code>, I get <code>undefined</code>, but not for <code>Controllers</code> or <code>Directives</code></p>\n\n<p>If I move my service into the same module <code>Test</code> that <code>angular.module</code> gets called in, it works - but only if it is in the same lexical scope as the <code>angular.module</code> call. If I keep it in the same separate file, but in the <code>Test</code> module, it doesn't work.</p>\n\n<p>I am very confused here.</p>\n"}, {"tags": ["generics", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 1933266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3159d1a1cdfd0183a009f54362d1c5c?s=128&d=identicon&r=PG", "display_name": "williaster", "link": "https://stackoverflow.com/users/1933266/williaster"}, "edited": false, "score": 5, "creation_date": 1599104084, "post_id": 32704797, "comment_id": 112671401, "body": "In case it helps others, you can also define a generic for the <i>method</i> of an interface without requiring the generic for the <i>entire</i> interface:   <code>interface MyInterface { method: &lt;T&gt;(arg: T): T; }</code>"}, {"owner": {"reputation": 32718, "user_id": 1697459, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/bzP9B.png?s=128&g=1", "display_name": "Wilt", "link": "https://stackoverflow.com/users/1697459/wilt"}, "reply_to_user": {"reputation": 93, "user_id": 1933266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3159d1a1cdfd0183a009f54362d1c5c?s=128&d=identicon&r=PG", "display_name": "williaster", "link": "https://stackoverflow.com/users/1933266/williaster"}, "edited": false, "score": 2, "creation_date": 1601965019, "post_id": 32704797, "comment_id": 113561925, "body": "@williaster If you would post that as an answer you would get my upvote, because that syntax was exactly what I was looking for when I landed on this page. Thanks! Small correction, change <code>:</code> to <code>=&gt;</code>: <code>&lt;T&gt;(arg: T) =&gt; T;</code>"}], "tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": true, "score": 28, "last_activity_date": 1442870716, "creation_date": 1442870716, "answer_id": 32704797, "question_id": 32704645, "link": "https://stackoverflow.com/questions/32704645/typescript-generic-method-signature-in-interface/32704797#32704797", "title": "TypeScript Generic Method Signature in Interface", "body": "<p>The <code>T</code> type isn't defined yet. It needs to be added to the method as a type variable like:</p>\n\n<pre><code>filterUnique&lt;T&gt;(array: Array&lt;T&gt;): Array&lt;T&gt;;\n</code></pre>\n\n<p>Or added to the interface like:</p>\n\n<pre><code>export interface IGenericServices&lt;T&gt; {\n    filterUnique(array: Array&lt;T&gt;): Array&lt;T&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 412, "user_id": 3179214, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28ac7463d71c14e86ae0c8f0ca6c406d?s=128&d=identicon&r=PG&f=1", "display_name": "dacox", "link": "https://stackoverflow.com/users/3179214/dacox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13517, "favorite_count": 1, "accepted_answer_id": 32704797, "answer_count": 1, "score": 22, "last_activity_date": 1442870716, "creation_date": 1442869943, "question_id": 32704645, "link": "https://stackoverflow.com/questions/32704645/typescript-generic-method-signature-in-interface", "title": "TypeScript Generic Method Signature in Interface", "body": "<p>I am trying to define an interface with a few methods, and I would like one of the methods to be generic.</p>\n\n<p>It is a <code>filterUnique</code> method, so it should be able to filter lists of numbers, strings, etc.</p>\n\n<p>the following does not compile for me:</p>\n\n<pre><code>export interface IGenericServices {\n    filterUnique(array: Array&lt;T&gt;): Array&lt;T&gt;;\n}\n</code></pre>\n\n<p>Is there a way to make this compile, or am I making a conceptual mistake somewhere here?</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1442873936, "creation_date": 1442873936, "answer_id": 32705396, "question_id": 32703081, "link": "https://stackoverflow.com/questions/32703081/use-amd-modules-with-typescript-1-6-targeting-es6/32705396#32705396", "title": "Use amd modules with typescript 1.6 targeting es6", "body": "<p>I would assume that you can use the <a href=\"https://github.com/Microsoft/TypeScript/wiki/Compiler-Options\" rel=\"nofollow\">compiler options</a> <code>--target</code> to use <code>'ES6'</code> and the <code>--module</code> option to use <code>'amd'</code>.</p>\n\n<p>However, targeting ES6 is an experimental feature:</p>\n\n<blockquote>\n  <p>[1] These options are experimental.</p>\n</blockquote>\n\n<p>Maybe the TypeScript team has not yet added support for this. </p>\n\n<p>If <code>--target</code> and <code>--module</code> don't solve your issue you are going to need to report this issue at the <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow\">TypeScript issues page</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5165, "user_id": 72030, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a760c1a3dfb5a31e6139838a43e94089?s=128&d=identicon&r=PG", "display_name": "nkassis", "link": "https://stackoverflow.com/users/72030/nkassis"}, "edited": false, "score": 0, "creation_date": 1443038787, "post_id": 32716111, "comment_id": 53337755, "body": "SystemJS seems like the right path forward to get ES6 modules working now. Thanks"}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "edited": false, "score": 0, "creation_date": 1443519674, "post_id": 32716111, "comment_id": 53515930, "body": "Version 1.7 (to be released soon) will add support for --module when target is ES6 <a href=\"https://github.com/Microsoft/TypeScript/issues/4806\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/4806</a>"}], "tags": [], "owner": {"reputation": 124, "user_id": 3552482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WtRdn.jpg?s=128&g=1", "display_name": "Aleksey Pastuhov", "link": "https://stackoverflow.com/users/3552482/aleksey-pastuhov"}, "is_accepted": true, "score": 2, "last_activity_date": 1442922625, "creation_date": 1442922625, "answer_id": 32716111, "question_id": 32703081, "link": "https://stackoverflow.com/questions/32703081/use-amd-modules-with-typescript-1-6-targeting-es6/32716111#32716111", "title": "Use amd modules with typescript 1.6 targeting es6", "body": "<p>You can't use AMD while targeting ES6, in case of ES6 has it's own module system. So while you are targeting ES6 - it uses SYSTEM modules by default. Use ES5 and choose any of <code>[amd, common, system, umd]</code>.</p>\n\n<p><code>--target 'ES6'</code>\nor\n<code>--target 'ES5' --module 'amd'</code></p>\n\n<p>It was unable to use AMD+ES6 since TS1.5</p>\n\n<p>Use SystemJS to work with ES6 modules</p>\n"}], "owner": {"reputation": 5165, "user_id": 72030, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a760c1a3dfb5a31e6139838a43e94089?s=128&d=identicon&r=PG", "display_name": "nkassis", "link": "https://stackoverflow.com/users/72030/nkassis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 32716111, "answer_count": 2, "score": 0, "last_activity_date": 1442922625, "creation_date": 1442863603, "question_id": 32703081, "link": "https://stackoverflow.com/questions/32703081/use-amd-modules-with-typescript-1-6-targeting-es6", "title": "Use amd modules with typescript 1.6 targeting es6", "body": "<p>Is there a way to use typescript 1.6 with amd modules while targeting es6?</p>\n\n<p>This worked in 1.4 and was useful as no browser currently have es6 module support but do have a lot of ES6 features built in. </p>\n"}, {"tags": ["angularjs", "angularjs-directive", "typescript"], "comments": [{"owner": {"reputation": 10473, "user_id": 1023216, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UEzVe.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/1023216/tyler"}, "edited": false, "score": 0, "creation_date": 1442860278, "post_id": 32700745, "comment_id": 53247556, "body": "Please add your answer below separately.  That will help others with the same problem"}], "answers": [{"tags": [], "owner": {"reputation": 589, "user_id": 730046, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4c34aca7573a90b1f2c1b2960929e3e4?s=128&d=identicon&r=PG", "display_name": "kukipei", "link": "https://stackoverflow.com/users/730046/kukipei"}, "is_accepted": true, "score": 0, "last_activity_date": 1443605239, "last_edit_date": 1495535220, "creation_date": 1443605239, "answer_id": 32862527, "question_id": 32700745, "link": "https://stackoverflow.com/questions/32700745/angular-directive-wait-for-content/32862527#32862527", "title": "angular directive wait for content", "body": "<p>As tyler suggested in comment I am putting answer separately</p>\n\n<p>I found the solution here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28857086/angularjs-run-custom-directive-after-ng-bind-html\">thanks to mohamedrias</a></p>\n\n<p>so the working code is looking like this:</p>\n\n<pre><code>export class ContentDirective implements angular.IDirective {\npublic priority =  10;\npublic restrict = 'A';\n\nstatic $inject = [\n    \"$window\"\n];\n\nconstructor(private $window) {\n\n}\n\npublic link: angular.IDirectiveLinkFn = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs): void =&gt; {\n    scope.$watch(attrs.ngBindHtml, () =&gt; {\n        this.handleResize(element);\n    });\n};\n\nprivate handleResize(element): void {\n    var win = angular.element(this.$window),\n    // Find all iframes\n        $allVideos = element.find(\"iframe\"),\n    // The element that is fluid width\n        $fluidEl = element;\n\n    // Figure out and save aspect ratio for each iframe\n    $allVideos.each(function () {\n        $(this)\n            .data('aspectRatio', this.height / this.width)\n            // and remove the hard coded width/height\n            .removeAttr('height')\n            .removeAttr('width');\n    });\n\n    // When the window is resized\n    win.resize(() =&gt; {\n        var newWidth = $fluidEl.width();\n        // Resize all iframes according to their own aspect ratio\n        $allVideos.each(function () {\n            var $el = $(this);\n            $el\n                .width(newWidth)\n                .height(newWidth * $el.data('aspectRatio'));\n        });\n    }).resize();\n}\n\npublic static factory(): angular.IDirectiveFactory {\n\n    var directive = ($window) =&gt; {\n        return new ContentDirective($window);\n    };\n\n    directive.$inject = ['$window'];\n    return directive;\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 589, "user_id": 730046, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4c34aca7573a90b1f2c1b2960929e3e4?s=128&d=identicon&r=PG", "display_name": "kukipei", "link": "https://stackoverflow.com/users/730046/kukipei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 32862527, "answer_count": 1, "score": 0, "last_activity_date": 1443605239, "creation_date": 1442854762, "last_edit_date": 1495539867, "question_id": 32700745, "link": "https://stackoverflow.com/questions/32700745/angular-directive-wait-for-content", "title": "angular directive wait for content", "body": "<p>I want to make my iframes responsive. I am using angular directive with typescript to achieve that.</p>\n\n<p>This is the code:</p>\n\n<pre><code>...\nexport class ContentDirective implements angular.IDirective {\n    public priority =  -1;\n    public restrict = 'A';\n    public scope = {};\n\n    static $inject = [\n        \"$window\"\n    ];\n\n    constructor(private $window, private $timeout, private $compile) {\n\n    }\n\n    public link: angular.IDirectiveLinkFn = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes): void =&gt; {\n        this.handleResize(element);\n    };\n\n    private handleResize(element): void {\n        var win = angular.element(this.$window);\n        // Find all iframes\n        var $allVideos = element.find(\"iframe\"),\n        // The element that is fluid width\n            $fluidEl = element;\n\n        // Figure out and save aspect ratio for each iframe\n        $allVideos.each(function () {\n            $(this)\n                .data('aspectRatio', this.height / this.width)\n                // and remove the hard coded width/height\n                .removeAttr('height')\n                .removeAttr('width');\n        });\n\n        // When the window is resized\n        win.resize(() =&gt; {\n            var newWidth = $fluidEl.width();\n            // Resize all iframes according to their own aspect ratio\n            $allVideos.each(function () {\n                var $el = $(this);\n                $el\n                    .width(newWidth)\n                    .height(newWidth * $el.data('aspectRatio'));\n            });\n        }).resize();\n    }\n\n    public static factory(): angular.IDirectiveFactory {\n\n        var directive = ($window) =&gt; {\n            return new ContentDirective($window);\n        };\n\n        directive.$inject = ['$window'];\n        return directive;\n    }\n}\n...\n</code></pre>\n\n<p>This is the part of html I am using:</p>\n\n<pre><code>...\n&lt;p ng-bind-html=\"body\" content-directive&gt;&lt;/p&gt;\n...\n</code></pre>\n\n<p>\"body\" is angular expression with content of p tag. Iframe is in there.</p>\n\n<p>The problem I have is that there isn't any iframe element inside p tag when directive start execution.\nWhen I put $timeout to wait for DOM then everything is working correctly.</p>\n\n<p>How can I start execution of directive after DOM is loaded?</p>\n\n<p>I found the solution here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28857086/angularjs-run-custom-directive-after-ng-bind-html\">thanks to mohamedrias</a></p>\n\n<p>so the working code is looking like this:</p>\n\n<pre><code>export class ContentDirective implements angular.IDirective {\n    public priority =  10;\n    public restrict = 'A';\n\n    static $inject = [\n        \"$window\"\n    ];\n\n    constructor(private $window) {\n\n    }\n\n    public link: angular.IDirectiveLinkFn = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs): void =&gt; {\n        scope.$watch(attrs.ngBindHtml, () =&gt; {\n            this.handleResize(element);\n        });\n    };\n\n    private handleResize(element): void {\n        var win = angular.element(this.$window),\n        // Find all iframes\n            $allVideos = element.find(\"iframe\"),\n        // The element that is fluid width\n            $fluidEl = element;\n\n        // Figure out and save aspect ratio for each iframe\n        $allVideos.each(function () {\n            $(this)\n                .data('aspectRatio', this.height / this.width)\n                // and remove the hard coded width/height\n                .removeAttr('height')\n                .removeAttr('width');\n        });\n\n        // When the window is resized\n        win.resize(() =&gt; {\n            var newWidth = $fluidEl.width();\n            // Resize all iframes according to their own aspect ratio\n            $allVideos.each(function () {\n                var $el = $(this);\n                $el\n                    .width(newWidth)\n                    .height(newWidth * $el.data('aspectRatio'));\n            });\n        }).resize();\n    }\n\n    public static factory(): angular.IDirectiveFactory {\n\n        var directive = ($window) =&gt; {\n            return new ContentDirective($window);\n        };\n\n        directive.$inject = ['$window'];\n        return directive;\n    }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "dependency-injection", "model", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 631, "user_id": 3655314, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/pmVr3.jpg?s=128&g=1", "display_name": "HansMusterWhatElse", "link": "https://stackoverflow.com/users/3655314/hansmusterwhatelse"}, "edited": false, "score": 0, "creation_date": 1442909328, "post_id": 32705865, "comment_id": 53265756, "body": "Awesome - unfortunately, I am using a generator for this project so it won&#39;t be that easy to push the whole codebase to this new convention."}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 0, "last_activity_date": 1443433960, "last_edit_date": 1443433960, "creation_date": 1442876515, "answer_id": 32705865, "question_id": 32699815, "link": "https://stackoverflow.com/questions/32699815/export-a-customised-object-in-angularjs-with-typescript/32705865#32705865", "title": "Export a customised object in AngularJS with TypeScript", "body": "<p>In your code your are using the old syntax (<code>module</code> keyword) for internal modules, <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#namespace-keyword\" rel=\"nofollow\">the new syntax</a> uses the <code>namespace</code> keyword:</p>\n\n<pre><code>namespace Common.Services {\n // ...\n}\n</code></pre>\n\n<p>Since <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#es6-modules\" rel=\"nofollow\">the release of TypeScript 1.5</a> you can use the new ES6 module syntax.</p>\n\n<p>In your example, you need to remove the <code>module Common.Services {</code> part and the <code>export</code> keyword before interfaces and classes. Then at the bottom of the file you can use:</p>\n\n<pre><code>export { IMessageService, IMessage, ClientMessage, MessageService };\n</code></pre>\n\n<p>Then from an independent controller in a file named <code>x_controller.ts</code>:</p>\n\n<pre><code>import { MessageService, ClientMessage } from \"somefile.ts\";\nvar a = new ClientMessage&lt;string&gt;();\nvar b = new MessageService();\n</code></pre>\n\n<p>Once you have migrated your code to the ES6 module syntax, if you are working with Node.js, you can compile the modules into CommonJS modules using the <code>--module commonjs</code> <a href=\"https://github.com/Microsoft/TypeScript/wiki/Compiler-Options\" rel=\"nofollow\">compiler option</a>.</p>\n\n<p>You can learn more about ES6 modules <a href=\"http://www.2ality.com/2014/09/es6-modules-final.html\" rel=\"nofollow\">here</a>. You can learn more about the difference between internal and external modules <a href=\"http://www.codebelt.com/typescript/typescript-internal-and-external-modules/\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 631, "user_id": 3655314, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/pmVr3.jpg?s=128&g=1", "display_name": "HansMusterWhatElse", "link": "https://stackoverflow.com/users/3655314/hansmusterwhatelse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 32705865, "answer_count": 1, "score": 0, "last_activity_date": 1443433960, "creation_date": 1442851633, "question_id": 32699815, "link": "https://stackoverflow.com/questions/32699815/export-a-customised-object-in-angularjs-with-typescript", "title": "Export a customised object in AngularJS with TypeScript", "body": "<p>I've got the service <code>MessageService</code> which resides in the same module as the implemention of the class <code>ClientMessage&lt;T&gt;</code>.</p>\n\n<p>What is the easiest way to access this class via an independent controller which already injects the <code>MessageService</code> class?</p>\n\n<p>Is there an easier approach which comes closer to NodeJS's <code>import service = require('MessageService')</code> solution?</p>\n\n<p>What's best practise for this? Defining those message related model classes in a seperate file and load them via dependency injection?</p>\n\n<p><a href=\"https://i.stack.imgur.com/UiuBJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UiuBJ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "minify", "google-closure-compiler"], "comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1442849329, "post_id": 32697916, "comment_id": 53241104, "body": "I&#39;m not an expert on Closure, but I would first look into fixing that option on Closure. I&#39;m pretty surprised that its default behavior is to completely eliminate user-defined string maps just because it thinks they&#39;re only used internally."}, {"owner": {"reputation": 14130, "user_id": 1211524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31a02e08cce5cb8fb2f50656b1756be?s=128&d=identicon&r=PG", "display_name": "Chad Killingsworth", "link": "https://stackoverflow.com/users/1211524/chad-killingsworth"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1442949686, "post_id": 32697916, "comment_id": 53292818, "body": "@Katana314 That closure-compiler behavior is by design - but is only part of the Advanced mode of the compiler. It&#39;s definitely not a bug."}, {"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1442951022, "post_id": 32697916, "comment_id": 53293521, "body": "I&#39;m curious, though; since a function&#39;s name is just as important as a module&#39;s name, what is stopping <code>CompanyName.HtmlTools.Cookie</code> from becoming <code>g.f.e</code>? It would still be possible to have all internal code work correctly against that if it&#39;s all part of the same compile process, but in the same vein it would break outside code."}, {"owner": {"reputation": 14130, "user_id": 1211524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31a02e08cce5cb8fb2f50656b1756be?s=128&d=identicon&r=PG", "display_name": "Chad Killingsworth", "link": "https://stackoverflow.com/users/1211524/chad-killingsworth"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1442954974, "post_id": 32697916, "comment_id": 53295650, "body": "@Katana314 Closure-compiler in advanced mode assumes that it is aware of all external libraries/code and all external uses of the source. If those assumptions are satisfied properly, <code>CompanyName.HtmlTools.Cookie</code> can become <code>var a</code>. <a href=\"http://closuretools.blogspot.com/2012/09/which-compilation-level-is-right-for-me.html\" rel=\"nofollow noreferrer\">closuretools.blogspot.com/2012/09/&hellip;</a>"}, {"owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1442988208, "post_id": 32697916, "comment_id": 53305466, "body": "@Katana314: Nothing, it is in fact g.f.e.; as I wrote below the question, &quot;same thing for the namespace&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1442929049, "post_id": 32706034, "comment_id": 53279141, "body": "He&#39;s aware that works. He&#39;d like to find a way to make TypeScript generate functions that way when compiling it into JavaScript."}, {"owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1443007709, "post_id": 32706034, "comment_id": 53317218, "body": "@Katana314: Exactly; even if I do it by hand, Visual Studio will overwrite on the next change (which would be ok, if the generated code would work)."}, {"owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "edited": false, "score": 0, "creation_date": 1443007803, "post_id": 32706034, "comment_id": 53317283, "body": "@basarat: That&#39;s the descripton of the problem, not the solution."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": -1, "last_activity_date": 1442877740, "creation_date": 1442877740, "answer_id": 32706034, "question_id": 32697916, "link": "https://stackoverflow.com/questions/32697916/get-typescript-to-export-proper-function-name-for-closure-compiler/32706034#32706034", "title": "Get TypeScript to export proper function name for closure-compiler?", "body": "<blockquote>\n  <p>Cookie[\"createCookie\"] = createCookie;</p>\n</blockquote>\n\n<p>Use this ^ workaround or switch of name mangling on closure compiler. </p>\n"}, {"tags": [], "owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "is_accepted": false, "score": 1, "last_activity_date": 1474385657, "last_edit_date": 1592644375, "creation_date": 1474385657, "answer_id": 39598251, "question_id": 32697916, "link": "https://stackoverflow.com/questions/32697916/get-typescript-to-export-proper-function-name-for-closure-compiler/39598251#39598251", "title": "Get TypeScript to export proper function name for closure-compiler?", "body": "<p>Use a common superclass to store the static methods:</p>\n<blockquote>\n<p>In TypeScript, static properties of classes are inherited, in Closure they are not. To fix this, we create a common superclass.</p>\n<p>These fake superclasses don't actually exist and are present solely to simulate the behavior of <code>goog.inherits(SubClass, SuperClass)</code> in TypeScript definition files. Calling <code>new SuperClass__Class</code> or <code>extends SuperClass__Class</code> in non-declaration TypeScript code will generate a runtime error. You should use <code>new SuperClass</code> and <code>extends SuperClass</code> in non-declaration TypeScript code.</p>\n</blockquote>\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/typescript-closure-tools\" rel=\"nofollow noreferrer\">TypeScript Closure Tools</a></li>\n</ul>\n"}], "owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1474385657, "creation_date": 1442846030, "question_id": 32697916, "link": "https://stackoverflow.com/questions/32697916/get-typescript-to-export-proper-function-name-for-closure-compiler", "title": "Get TypeScript to export proper function name for closure-compiler?", "body": "<p>I have the following TypeScript:</p>\n\n<pre><code>namespace CompanyName.HtmlTools.Cookie\n{\n\n    export function eraseCookie(name:string, path:string)\n    {\n        createCookie(name, \"\", path, -1);\n    }\n\n\n    export function readCookie(name:string) \n    {\n        var nameEQ:string = name + \"=\";\n        var ca:string[] = document.cookie.split(';');\n        for(var i=0;i &lt; ca.length;i++) \n        {\n            var c:string = ca[i];\n            while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n            if (c.indexOf(nameEQ) == 0) \n                return c.substring(nameEQ.length, c.length);\n        }\n        return null;\n    }\n\n\n    // http://stackoverflow.com/questions/14573223/set-cookie-and-get-cookie-with-javascript\n    // http://blog.codinghorror.com/protecting-your-cookies-httponly/\n    export function createCookie(name:string, value:string, path:string, days:number) \n    {\n        var expires:string = \"\";\n\n        if(!path)\n            path = \"/\";\n\n        if (days) \n        {\n            var date:Date = new Date();\n            date.setTime(date.getTime()+(days*24*60*60*1000));\n            expires = \"expires=\" + date.toUTCString() + \"; \";\n        }\n\n        var allValues = name + \"=\" + encodeURIComponent(value) + \"; \" + expires + \"path=\" + path + \";\";\n        if(window.location.protocol === 'https:')\n            allValues += \" secure;\"\n\n        document.cookie = allValues;\n    }\n\n\n    export function getDirName(path:string)\n    {\n        if(path === null) return '/';\n\n        if(path.indexOf(\"/\") !== -1)\n        {\n            var subs:string[] = path.split('/') //break the string into an array\n            subs.pop() //remove its last element\n            path = subs.join('/')  //join the array back into a string\n            if(path === '')\n                return '/';\n            return path;\n        }\n\n        return \"/\";\n    }\n\n\n}\n</code></pre>\n\n<p>Now I want to be able to use a minimized &amp; optimized JavaScript of this typescript like this:</p>\n\n<pre><code>CompanyName.HtmlTools.Cookie.createCookie(\"name\",\"value\", \"path\", 2);\n</code></pre>\n\n<p>However, when I run it through google closure-compiler (only in advanced mode), then the nice function names vanish, and I have CompanyName.HtmlTools.Cookie.f, which breaks all other scripts that use this script. </p>\n\n<p>Now, the problem seems to be, that in the uncompressed javaScript that the TypeScript transpiler create, there is this:</p>\n\n<pre><code>Cookie.createCookie = createCookie;\n</code></pre>\n\n<p>if it was </p>\n\n<pre><code>Cookie[\"createCookie\"] = createCookie;\n</code></pre>\n\n<p>then it would work in Closure-Compiler in advanced mode.</p>\n\n<p>Is there any way to get TypeScript to export functions as </p>\n\n<pre><code>Cookie[\"createCookie\"] = createCookie;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>Cookie.createCookie = createCookie;\n</code></pre>\n\n<p>?</p>\n\n<p>Same thing for the namespace, should be</p>\n\n<pre><code>})(window[\"CompanyName\"]|| (window[\"CompanyName\"] = {}));\n</code></pre>\n\n<p>instead of </p>\n\n<blockquote>\n  <p>})(CompanyName || (CompanyName= {}));</p>\n</blockquote>\n"}, {"tags": ["generics", "typescript", "jsx"], "comments": [{"owner": {"reputation": 5164, "user_id": 1872046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2GC1B.jpg?s=128&g=1", "display_name": "polkovnikov.ph", "link": "https://stackoverflow.com/users/1872046/polkovnikov-ph"}, "edited": false, "score": 0, "creation_date": 1523576741, "post_id": 32696475, "comment_id": 86629556, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/4922\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/4922</a>"}], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 40, "last_activity_date": 1547657358, "last_edit_date": 1547657358, "creation_date": 1442845572, "answer_id": 32697733, "question_id": 32696475, "link": "https://stackoverflow.com/questions/32696475/typescript-tsx-and-generic-parameters/32697733#32697733", "title": "Typescript TSX and generic parameters", "body": "<p>You could use function expressions instead:</p>\n\n<pre><code>const f = function&lt;T1&gt;(arg1: T1) {\n    return function&lt;T2&gt;(arg2: T2) {\n        return { arg1, arg2 };\n    };\n};\n</code></pre>\n\n<p>Or alternatively, I've discovered this works:</p>\n\n<pre><code>const f = &lt;T1, T2&gt;(arg1: T1) =&gt; (arg2: T2) =&gt; {\n   return { arg1, arg2 };\n};\n</code></pre>\n\n<hr>\n\n<p>On a sidenote, it seems that it will compile fine when multiple generic parameters are provided, but not one. For example, providing a dummy generic parameter will make this work:</p>\n\n<pre><code>const f = &lt;T1, _&gt;(arg1: T1) =&gt; {\n   return { arg1 };\n};\n\n// or just adding a comma\nconst g = &lt;T1,&gt;(arg1: T1) =&gt; {\n   return { arg1 };\n};\n</code></pre>\n\n<p>That's definitely not ideal though. There might be another way to make this work with just one generic parameter, but I'm not sure.</p>\n"}, {"comments": [{"owner": {"reputation": 5164, "user_id": 1872046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2GC1B.jpg?s=128&g=1", "display_name": "polkovnikov.ph", "link": "https://stackoverflow.com/users/1872046/polkovnikov-ph"}, "edited": false, "score": 0, "creation_date": 1523576761, "post_id": 37687827, "comment_id": 86629562, "body": "It should&#39;ve been <code>extends any</code>"}, {"owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "reply_to_user": {"reputation": 5164, "user_id": 1872046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2GC1B.jpg?s=128&g=1", "display_name": "polkovnikov.ph", "link": "https://stackoverflow.com/users/1872046/polkovnikov-ph"}, "edited": false, "score": 6, "creation_date": 1523577046, "post_id": 37687827, "comment_id": 86629626, "body": "I work on the team and no it shouldn&#39;t have. As I explained above, generics without a constraint get an implicit constraint of <code>{}</code>, and for the most part are functionally equivalent."}, {"owner": {"reputation": 1097, "user_id": 7612287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zra9l.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/7612287/ivan"}, "edited": false, "score": 0, "creation_date": 1535101072, "post_id": 37687827, "comment_id": 90950762, "body": "@DanielRosenwasser I&#39;ve run into a lot of trouble trying to use <code>extends {}</code> because in that case your function wouldn&#39;t accept something pretty common like React.ReactNode (which can be null). Are there any gotchas with using &lt;T, Dummy&gt;? So far seems to be working ok but wanted to make sure. This one sounds the cleanest to me, and makes explicit the reason why it&#39;s not just T."}, {"owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "edited": false, "score": 6, "creation_date": 1535127904, "post_id": 37687827, "comment_id": 90967247, "body": "With TypeScript 3.0 you can use <code>extends unknown</code> and I think that should work."}], "tags": [], "owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "is_accepted": false, "score": 36, "last_activity_date": 1572936917, "last_edit_date": 1572936917, "creation_date": 1465328007, "answer_id": 37687827, "question_id": 32696475, "link": "https://stackoverflow.com/questions/32696475/typescript-tsx-and-generic-parameters/37687827#37687827", "title": "Typescript TSX and generic parameters", "body": "<p>This is a result of parsing ambiguity issues. One thing that would make this unambiguous is adding an explicit constraint on <code>T1</code>.</p>\n\n<pre><code>const f = &lt;T1 extends unknown&gt;(arg1: T1) =&gt; {\n    return { arg1 };\n}\n</code></pre>\n\n<p>Type parameters like <code>T1</code> implicitly have a constraint of <code>unknown</code> anyway, so in this case your code is functionally equivalent.</p>\n\n<p>Take this solution and you can apply on each arrow function from your original example.</p>\n"}], "owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11785, "favorite_count": 4, "accepted_answer_id": 32697733, "answer_count": 2, "score": 31, "last_activity_date": 1572936917, "creation_date": 1442841978, "question_id": 32696475, "link": "https://stackoverflow.com/questions/32696475/typescript-tsx-and-generic-parameters", "title": "Typescript TSX and generic parameters", "body": "<p>Typescript introduces support for the JSX syntax. So I have an expression that works quite well with traditional *.ts files but no with *.tsx ones:</p>\n\n<pre><code>const f = &lt;T1&gt;(arg1: T1) =&gt; &lt;T2&gt;(arg2: T2) =&gt; {\n   return { arg1, arg2 };\n}\n</code></pre>\n\n<p>I wonder is there a way to make it work inside a *.tsx file?</p>\n"}, {"tags": ["visual-studio-2013", "typescript", "typescript1.6"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1442845283, "post_id": 32694771, "comment_id": 53238338, "body": "Strange. Works fine for me when compiling from the command line with 1.6.2."}, {"owner": {"reputation": 73304, "user_id": 724626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e34d95a3eb52b24fe78d772dc614bddb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/724626/joe"}, "edited": false, "score": 0, "creation_date": 1442878159, "post_id": 32694771, "comment_id": 53255675, "body": "Typescript installs were very bad. I had Typescript/ Typescript/1.2/ Typescript/1.3/ Typescript/1.4 all in my Environment Path. You may not be referencing 1.6 when you think you are."}], "answers": [{"comments": [{"owner": {"reputation": 632, "user_id": 3023032, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5VlOh.jpg?s=128&g=1", "display_name": "DoubleVoid", "link": "https://stackoverflow.com/users/3023032/doublevoid"}, "edited": false, "score": 1, "creation_date": 1442913284, "post_id": 32706060, "comment_id": 53268329, "body": "I figured it out ... I loaded the react.d.ts file via NuGet &quot;React.TypeScript.DefinitelyTyped (V 0.1.12) ... I updated it with this version: <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/react/react.d.ts\" rel=\"nofollow noreferrer\">github.com/borisyankov/DefinitelyTyped/blob/master/react/&hellip;</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1442877967, "creation_date": 1442877967, "answer_id": 32706060, "question_id": 32694771, "link": "https://stackoverflow.com/questions/32694771/typescript-1-6-error-jsx-element-type-xxx-does-not-have-any-construct-or-call-s/32706060#32706060", "title": "TypeScript 1.6 error: JSX element type XXX does not have any construct or call signature", "body": "<p>It works fine without error (screen shot from atom-typescript) : </p>\n\n<p><a href=\"https://i.stack.imgur.com/R80HB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R80HB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Suggestions:</p>\n\n<ul>\n<li>Make sure visual studio is truly using typescript 1.6</li>\n<li>Make sure you have <code>react.d.ts</code> included and try not to use the global version</li>\n<li>Make sure you have the <code>React</code> variable available (e.g. <code>import React = require('react');</code>).</li>\n</ul>\n"}], "owner": {"reputation": 632, "user_id": 3023032, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5VlOh.jpg?s=128&g=1", "display_name": "DoubleVoid", "link": "https://stackoverflow.com/users/3023032/doublevoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2235, "favorite_count": 0, "accepted_answer_id": 32706060, "answer_count": 1, "score": 0, "last_activity_date": 1442877967, "creation_date": 1442837026, "question_id": 32694771, "link": "https://stackoverflow.com/questions/32694771/typescript-1-6-error-jsx-element-type-xxx-does-not-have-any-construct-or-call-s", "title": "TypeScript 1.6 error: JSX element type XXX does not have any construct or call signature", "body": "<pre><code>var CommentList = React.createClass({\n          render: function () {\n        return (\n            &lt;div className=\"commentList\"&gt;\n                Hello, world!I am a CommentList.\n                &lt;/div&gt;\n        );\n          }\n});\n\nvar CommentBox = React.createClass({\n          render: function () {\n        return (\n            &lt;div className=\"commentBox\"&gt;\n                &lt;h1&gt;Comments&lt;/h1&gt;\n                &lt;CommentList /&gt; //ERROR\n                &lt;/div&gt;\n        );\n    }\n});\n\nReact.render(\n          React.createElement(CommentBox, null),\n          document.getElementById('content')\n);\n</code></pre>\n\n<p>With this code, I get the following error message:\n<strong>JSX element type 'CommentList' does not have any construct or call signatures.</strong></p>\n\n<p>The same code works with plain HTML/JS (following this tutorial: <a href=\"https://facebook.github.io/react/docs/tutorial.html\" rel=\"nofollow\">https://facebook.github.io/react/docs/tutorial.html</a>)</p>\n\n<p>I have no clue why TypeScript doesn't like it.\nUsing Visual Studio 2013 with TS 1.6 (<a href=\"http://blogs.msdn.com/b/typescript/archive/2015/09/16/announcing-typescript-1-6.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/typescript/archive/2015/09/16/announcing-typescript-1-6.aspx</a>)</p>\n"}, {"tags": ["angular", "typescript", "angular-components"], "answers": [{"comments": [{"owner": {"reputation": 1778, "user_id": 2387291, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/98e23dfe62d99904bcba092d429cc945?s=128&d=identicon&r=PG", "display_name": "Jefftopia", "link": "https://stackoverflow.com/users/2387291/jefftopia"}, "edited": false, "score": 1, "creation_date": 1448330879, "post_id": 32693892, "comment_id": 55532689, "body": "@Brocco can you update your answer? I&#39;d like to see a current solution since <code>ElementRef</code> is gone."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 23, "creation_date": 1454613328, "post_id": 32693892, "comment_id": 58134529, "body": "<code>ElementRef</code> is available (again?)."}, {"owner": {"reputation": 2998, "user_id": 212661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cD14S.jpg?s=128&g=1", "display_name": "sandeep talabathula", "link": "https://stackoverflow.com/users/212661/sandeep-talabathula"}, "edited": false, "score": 10, "creation_date": 1493203257, "post_id": 32693892, "comment_id": 74311610, "body": "<a href=\"https://angular.io/docs/ts/latest/api/core/index/ElementRef-class.html\" rel=\"nofollow noreferrer\">link</a>  Use this API as the <b>last resort</b> when direct access to DOM is needed. Use templating and data-binding provided by Angular instead. Alternatively you take a look at Renderer which provides API that can safely be used even when direct access to native elements is not supported. Relying on direct DOM access creates tight coupling between your application and rendering layers which will make it impossible to separate the two and deploy your application into a web worker."}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "reply_to_user": {"reputation": 2998, "user_id": 212661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cD14S.jpg?s=128&g=1", "display_name": "sandeep talabathula", "link": "https://stackoverflow.com/users/212661/sandeep-talabathula"}, "edited": false, "score": 0, "creation_date": 1500875574, "post_id": 32693892, "comment_id": 77509479, "body": "@sandeeptalabathula What is a better option for finding an element to attach a floating date picker component from a third-party library to? I&#39;m aware that this wasn&#39;t the original question, but you make it out that finding elements in the DOM is bad in all scenarios..."}, {"owner": {"reputation": 2998, "user_id": 212661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cD14S.jpg?s=128&g=1", "display_name": "sandeep talabathula", "link": "https://stackoverflow.com/users/212661/sandeep-talabathula"}, "reply_to_user": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1500965757, "post_id": 32693892, "comment_id": 77553456, "body": "@john In my perspective, better option would be to create a custom angular2 ts component (an adapter to 3rd party lib) and use it as reusable throughout your app. I did for dialogs, flyouts etc,."}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "reply_to_user": {"reputation": 2998, "user_id": 212661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cD14S.jpg?s=128&g=1", "display_name": "sandeep talabathula", "link": "https://stackoverflow.com/users/212661/sandeep-talabathula"}, "edited": false, "score": 0, "creation_date": 1500967782, "post_id": 32693892, "comment_id": 77554887, "body": "@sandeeptalabathula That&#39;s what I&#39;ve been doing, but it needed me to pass a DOM element to it."}, {"owner": {"reputation": 2998, "user_id": 212661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cD14S.jpg?s=128&g=1", "display_name": "sandeep talabathula", "link": "https://stackoverflow.com/users/212661/sandeep-talabathula"}, "reply_to_user": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 13, "creation_date": 1500969957, "post_id": 32693892, "comment_id": 77556351, "body": "@john  Ah.. okay. You may try out this - <code>this.element.nativeElement.querySelector(&#39;#someElementId&#39;)</code> and pass ElementRef to the constructor like this..  <code>private element: ElementRef,</code>  Import lib... <code>import { ElementRef } from &#39;@angular&#47;core&#39;;</code>"}, {"owner": {"reputation": 1123, "user_id": 12184371, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wrvlRYAkW-E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSNMSs-y94Dm87fcuEB2xJI2-Viw/photo.jpg?sz=128", "display_name": "GBra 4.669", "link": "https://stackoverflow.com/users/12184371/gbra-4-669"}, "edited": false, "score": 0, "creation_date": 1611566762, "post_id": 32693892, "comment_id": 116483388, "body": "<code>ElementRef</code> API should be the last resort when direct access to DOM is needed. <code>Renderer2</code> should be the preferred way. Using <code>ElementRef</code> might be a potential <b>security risk</b>!! <a href=\"https://angular.io/api/core/ElementRef#properties\" rel=\"nofollow noreferrer\">angular.io/api/core/ElementRef#properties</a>"}], "tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": false, "score": 212, "last_activity_date": 1595458287, "last_edit_date": 1595458287, "creation_date": 1442834346, "answer_id": 32693892, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/32693892#32693892", "title": "How can I select an element in a component template?", "body": "<p>You can get a handle to the DOM element via <code>ElementRef</code> by injecting it into your component's constructor:</p>\n<pre><code>constructor(private myElement: ElementRef) { ... }\n</code></pre>\n<p>Docs: <a href=\"https://angular.io/docs/ts/latest/api/core/index/ElementRef-class.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/api/core/index/ElementRef-class.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 876, "user_id": 952412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed9e3e5cc7e76b03ad88d8cdc4fea5f5?s=128&d=identicon&r=PG", "display_name": "gdi2290", "link": "https://stackoverflow.com/users/952412/gdi2290"}, "is_accepted": false, "score": 55, "last_activity_date": 1495637320, "last_edit_date": 1495637320, "creation_date": 1442902675, "answer_id": 32709672, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/32709672#32709672", "title": "How can I select an element in a component template?", "body": "<pre><code>import { Component, ElementRef, OnInit } from '@angular/core';\n\n@Component({\n  selector:'display',\n  template:`\n   &lt;input (input)=\"updateName($event.target.value)\"&gt;\n   &lt;p&gt; My name : {{ myName }}&lt;/p&gt;\n  `\n})\nclass DisplayComponent implements OnInit {\n  constructor(public element: ElementRef) {\n    this.element.nativeElement // &lt;- your direct element reference \n  }\n  ngOnInit() {\n    var el = this.element.nativeElement;\n    console.log(el);\n  }\n  updateName(value) {\n    // ...\n  }\n}\n</code></pre>\n\n<p><em>Example updated to work with the latest version</em></p>\n\n<p>For more details on native element, <a href=\"https://angular.io/docs/js/latest/api/core/index/ElementRef-class.html#!#nativeElement-anchor\" rel=\"noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 2743, "user_id": 1714792, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8c6b1c38cb4fa9ea563b03e85c51b6b4?s=128&d=identicon&r=PG", "display_name": "Honorable Chow", "link": "https://stackoverflow.com/users/1714792/honorable-chow"}, "edited": false, "score": 12, "creation_date": 1459348371, "post_id": 35209681, "comment_id": 60247245, "body": "The angular teams advised against using ElementRef, this is the better solution."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2743, "user_id": 1714792, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8c6b1c38cb4fa9ea563b03e85c51b6b4?s=128&d=identicon&r=PG", "display_name": "Honorable Chow", "link": "https://stackoverflow.com/users/1714792/honorable-chow"}, "edited": false, "score": 8, "creation_date": 1459348505, "post_id": 35209681, "comment_id": 60247349, "body": "Actually <code>input</code> also is an <code>ElementRef</code>, but you get the reference to the element you actually want, instead of querying it from the host <code>ElementRef</code>."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 37, "creation_date": 1464957204, "post_id": 35209681, "comment_id": 62711623, "body": "Actually using <code>ElementRef</code> is just fine. Also using <code>ElementRef.nativeElement</code> with <code>Renderer</code> is fine. What <b>is discouraged</b> is accessing properties of <code>ElementRef.nativeElement.xxx</code> directly."}, {"owner": {"reputation": 1900, "user_id": 1422645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc7ae173442d93bf26fc8c2669e64f8e?s=128&d=identicon&r=PG", "display_name": "Natanael", "link": "https://stackoverflow.com/users/1422645/natanael"}, "edited": false, "score": 0, "creation_date": 1465769436, "post_id": 35209681, "comment_id": 63026763, "body": "I need to change the className of a child element  (html element inside the template) of the component. I made this way:  constructor(private myElement: ElementRef)... ngOnInit() { var el = this.myElement.nativeElement;     el.children[0].className = &#39;new-class-name&#39;; }. Is it correct? I was not able to retrieve the element using @ViewChild()."}, {"owner": {"reputation": 1900, "user_id": 1422645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc7ae173442d93bf26fc8c2669e64f8e?s=128&d=identicon&r=PG", "display_name": "Natanael", "link": "https://stackoverflow.com/users/1422645/natanael"}, "edited": false, "score": 0, "creation_date": 1465900045, "post_id": 35209681, "comment_id": 63082878, "body": "G&#252;nter, where is is said it&#39;s discouraged?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1900, "user_id": 1422645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc7ae173442d93bf26fc8c2669e64f8e?s=128&d=identicon&r=PG", "display_name": "Natanael", "link": "https://stackoverflow.com/users/1422645/natanael"}, "edited": false, "score": 2, "creation_date": 1465900247, "post_id": 35209681, "comment_id": 63083018, "body": "@Natanael I don&#39;t know if or where this is explicitly documented but it is mentioned regularly in issues or other discussions (also from Angular team members) that direct DOM access should be avoided. Accessing the DOM directly (which is what accessing properties and methods of <code>ElementRef.nativeElement)</code> is, prevents you from using Angulars server side rendering and WebWorker feature (I don&#39;t know if it also breaks the upcoming offline template compiler - but I guess not)."}, {"owner": {"reputation": 1900, "user_id": 1422645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc7ae173442d93bf26fc8c2669e64f8e?s=128&d=identicon&r=PG", "display_name": "Natanael", "link": "https://stackoverflow.com/users/1422645/natanael"}, "edited": false, "score": 0, "creation_date": 1465900612, "post_id": 35209681, "comment_id": 63083247, "body": "In some situations I need to define a value to an property like a class without use binding because binding can avoid other libraries to change the elements properties. The only way I found to do  this is via direct property edition."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1465900678, "post_id": 35209681, "comment_id": 63083307, "body": "You can do that. You just need to be aware of the disadvantages though."}, {"owner": {"reputation": 3379, "user_id": 734742, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c9e13d3116ccc004df1053850295ecaa?s=128&d=identicon&r=PG", "display_name": "jsgoupil", "link": "https://stackoverflow.com/users/734742/jsgoupil"}, "edited": false, "score": 11, "creation_date": 1471561374, "post_id": 35209681, "comment_id": 65408175, "body": "As mentioned above in the <i>read</i> section, if you want to get the nativeElement for an element with ViewChild, you have to do the following:  <code>@ViewChild(&#39;myObj&#39;, { read: ElementRef }) myObj: ElementRef;</code>"}, {"owner": {"reputation": 1839, "user_id": 882912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0ee650f3ddaf676349ef9de068ad52?s=128&d=identicon&r=PG", "display_name": "KTCO", "link": "https://stackoverflow.com/users/882912/ktco"}, "edited": false, "score": 0, "creation_date": 1475429585, "post_id": 35209681, "comment_id": 66929614, "body": "I have found that using a <code>ViewChild</code> setter works reliably: <a href=\"http://stackoverflow.com/a/39679241/882912\">stackoverflow.com/a/39679241/882912</a>"}, {"owner": {"reputation": 1975, "user_id": 2137483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zH7ZS.jpg?s=128&g=1", "display_name": "Luke T O&#39;Brien", "link": "https://stackoverflow.com/users/2137483/luke-t-obrien"}, "edited": false, "score": 0, "creation_date": 1481192249, "post_id": 35209681, "comment_id": 69281188, "body": "This is a good description of <code>ViewChild</code> - However the question is asking how to get the <code>&lt;p&gt;</code> element - In jQuery we could do <code>$(&#39;p&#39;)</code> or <code>$(input).next(&#39;p&#39;)</code>, how do we do this in Angular 2? How do we get the DOM element from the <code>ViewChild</code>?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1481194071, "post_id": 35209681, "comment_id": 69282384, "body": "You can add a template variable and use <code>@ViewChild(&#39;varName&#39;)</code> or inject <code>ElementRef</code> and use <code>this.elRef.nativeElement.querySelector(&#39;p&#39;)</code>"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1486630309, "post_id": 35209681, "comment_id": 71430799, "body": "@G&#252;nterZ&#246;chbauer, <i>if you want to subscribe to changes of the query result, it should be done in ngOnInit()</i> - I assume it&#39;s <a href=\"https://github.com/angular/angular/issues/12818\" rel=\"nofollow noreferrer\">not yet implemented</a>, correct? In <code>ngOnInit</code> the viewchildren property is not yet initialized"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1486650622, "post_id": 35209681, "comment_id": 71444788, "body": "I saw these comments, not exactly sure what they mean."}, {"owner": {"reputation": 10794, "user_id": 540776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8dbbc1a34bd3c1b0888a3575be6439f4?s=128&d=identicon&r=PG", "display_name": "superjos", "link": "https://stackoverflow.com/users/540776/superjos"}, "edited": false, "score": 0, "creation_date": 1493765065, "post_id": 35209681, "comment_id": 74539862, "body": "How to get a hold of a <b>native element</b> from within a ContentChild? Tried with <code>@ContentChild(SomeComponent, { read: ElementRef })</code> but it did not work. It complained with <i>Can&#39;t construct a query for the property ... of ... since the query selector wasn&#39;t defined</i>"}, {"owner": {"reputation": 10794, "user_id": 540776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8dbbc1a34bd3c1b0888a3575be6439f4?s=128&d=identicon&r=PG", "display_name": "superjos", "link": "https://stackoverflow.com/users/540776/superjos"}, "edited": false, "score": 0, "creation_date": 1493765744, "post_id": 35209681, "comment_id": 74540076, "body": "(I mean, beside trashing <code>@ContentChild</code> and turning to discouraged <code>ElementRef.nativeElement.querySelector()</code>)"}, {"owner": {"reputation": 547, "user_id": 2418265, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1504a6ed170611f12036358253681f1?s=128&d=identicon&r=PG", "display_name": "Celso Soares", "link": "https://stackoverflow.com/users/2418265/celso-soares"}, "edited": false, "score": 0, "creation_date": 1547223021, "post_id": 35209681, "comment_id": 95131375, "body": "What if you want to access to a dynamic class or id for example? THis seems to be good for static elements"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1547240174, "post_id": 35209681, "comment_id": 95138810, "body": "You can inject <code>ElementRef</code> to get a reference to the host element of the component and use <code>querySelector</code> or any other method DOM <code>Element</code> provides. There is no Angular way to access elements added dynamically through imperative DOM manipulation."}, {"owner": {"reputation": 2221, "user_id": 1052622, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/59zh4.png?s=128&g=1", "display_name": "iGanja", "link": "https://stackoverflow.com/users/1052622/iganja"}, "edited": false, "score": 0, "creation_date": 1576120589, "post_id": 35209681, "comment_id": 104798388, "body": "new to Angular; so let me get this straight... this.elRef.nativeElement.querySelector(&#39;div&#39;); is better than $(&#39;div&#39;); Got It! And to think; we used to create web sites in HTML and [gulp] JavaScript..."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1576125957, "post_id": 35209681, "comment_id": 104799471, "body": "If you use <code>this.elRef.nativeElement.querySelector(&#39;div&#39;)</code> you are probably trying to use Angular as a jQuery alternative. Angular is wildly different. There are only rare cases where you need such code, for example if you integrating legazy (jQuery or similar components). In pure Angular bindings and services usually do the job."}, {"owner": {"reputation": 846, "user_id": 5932611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYD5D.jpg?s=128&g=1", "display_name": "Tharindu Sathischandra", "link": "https://stackoverflow.com/users/5932611/tharindu-sathischandra"}, "edited": false, "score": 0, "creation_date": 1598035102, "post_id": 35209681, "comment_id": 112337236, "body": "with <code>@ViewChild(&#39;myname&#39;) input; </code>, Do we need to use nativeElement property like<code>this.input.nativeElement.value</code>??  Isn&#39;t <code>this.input.value</code> just enough?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 846, "user_id": 5932611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYD5D.jpg?s=128&g=1", "display_name": "Tharindu Sathischandra", "link": "https://stackoverflow.com/users/5932611/tharindu-sathischandra"}, "edited": false, "score": 0, "creation_date": 1598045475, "post_id": 35209681, "comment_id": 112340890, "body": "@TharinduSathischandra that&#39;s quite an old answer and I haven&#39;t used this in s long time. It should be easy enough to figure out."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1066, "last_activity_date": 1521443812, "last_edit_date": 1521443812, "creation_date": 1454613478, "answer_id": 35209681, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/35209681#35209681", "title": "How can I select an element in a component template?", "body": "<p>Instead of injecting <code>ElementRef</code> and using <code>querySelector</code> or similar from there, a declarative way can be used instead to access elements in the view directly:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input #myname&gt;\n</code></pre>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>@ViewChild('myname') input; \n</code></pre>\n\n<p>element</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>ngAfterViewInit() {\n  console.log(this.input.nativeElement.value);\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-ftvwwq\" rel=\"noreferrer\"><strong>StackBlitz example</strong></a></p>\n\n<ul>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/index/ViewChild-decorator.html\" rel=\"noreferrer\">@ViewChild()</a> supports directive or component type as parameter, or the name (string) of a template variable.  </li>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/index/ViewChildren-decorator.html\" rel=\"noreferrer\">@ViewChildren()</a> also supports a list of names as comma separated list (currently no spaces allowed <code>@ViewChildren('var1,var2,var3')</code>).  </li>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/index/ContentChild-decorator.html\" rel=\"noreferrer\">@ContentChild()</a> and <a href=\"https://angular.io/docs/ts/latest/api/core/index/ContentChildren-decorator.html\" rel=\"noreferrer\">@ContentChildren()</a> do the same but in the light DOM (<code>&lt;ng-content&gt;</code> projected elements).</li>\n</ul>\n\n<p><strong>descendants</strong></p>\n\n<p><code>@ContentChildren()</code> is the only one that allows to also query for descendants </p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>@ContentChildren(SomeTypeOrVarName, {descendants: true}) someField; \n</code></pre>\n\n<p><strike>\n<code>{descendants: true}</code> should be the default but is not in 2.0.0 final and it's <a href=\"https://github.com/angular/angular/issues/11645#issuecomment-247650618\" rel=\"noreferrer\">considered a bug</a>\n</strike><br>\nThis was fixed in 2.0.1</p>\n\n<p><strong>read</strong></p>\n\n<p>If there are a component and directives the <code>read</code> parameter allows to specify which instance should be returned.</p>\n\n<p>For example <code>ViewContainerRef</code> that is required by dynamically created components instead of the default <code>ElementRef</code></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>@ViewChild('myname', { read: ViewContainerRef }) target;\n</code></pre>\n\n<p><strong>subscribe changes</strong></p>\n\n<p>Even though view children are only set when <code>ngAfterViewInit()</code> is called and content children are only set when <code>ngAfterContentInit()</code> is called, if you want to subscribe to changes of the query result, it should be done in <code>ngOnInit()</code></p>\n\n<p><a href=\"https://github.com/angular/angular/issues/9689#issuecomment-229247134\" rel=\"noreferrer\">https://github.com/angular/angular/issues/9689#issuecomment-229247134</a></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>@ViewChildren(SomeType) viewChildren;\n@ContentChildren(SomeType) contentChildren;\n\nngOnInit() {\n  this.viewChildren.changes.subscribe(changes =&gt; console.log(changes));\n  this.contentChildren.changes.subscribe(changes =&gt; console.log(changes));\n}\n</code></pre>\n\n<p><strong>direct DOM access</strong></p>\n\n<p>can only query DOM elements, but not components or directive instances:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export class MyComponent {\n  constructor(private elRef:ElementRef) {}\n  ngAfterViewInit() {\n    var div = this.elRef.nativeElement.querySelector('div');\n    console.log(div);\n  }\n\n  // for transcluded content\n  ngAfterContentInit() {\n    var div = this.elRef.nativeElement.querySelector('div');\n    console.log(div);\n  }\n}\n</code></pre>\n\n<p><strong>get arbitrary projected content</strong></p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/40737037/access-transcluded-content/40737143#40737143\">Access transcluded content</a></p>\n"}, {"tags": [], "owner": {"reputation": 3379, "user_id": 734742, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c9e13d3116ccc004df1053850295ecaa?s=128&d=identicon&r=PG", "display_name": "jsgoupil", "link": "https://stackoverflow.com/users/734742/jsgoupil"}, "is_accepted": false, "score": 16, "last_activity_date": 1482970882, "creation_date": 1482970882, "answer_id": 41371577, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/41371577#41371577", "title": "How can I select an element in a component template?", "body": "<p>For people trying to grab the component instance inside a <code>*ngIf</code> or <code>*ngSwitchCase</code>, you can follow this trick.</p>\n\n<p><strong>Create an <code>init</code> directive.</strong></p>\n\n<pre><code>import {\n    Directive,\n    EventEmitter,\n    Output,\n    OnInit,\n    ElementRef\n} from '@angular/core';\n\n@Directive({\n    selector: '[init]'\n})\nexport class InitDirective implements OnInit {\n    constructor(private ref: ElementRef) {}\n\n    @Output() init: EventEmitter&lt;ElementRef&gt; = new EventEmitter&lt;ElementRef&gt;();\n\n    ngOnInit() {\n        this.init.emit(this.ref);\n    }\n}\n</code></pre>\n\n<p><strong>Export your component with a name such as <code>myComponent</code></strong></p>\n\n<pre><code>@Component({\n    selector: 'wm-my-component',\n    templateUrl: 'my-component.component.html',\n    styleUrls: ['my-component.component.css'],\n    exportAs: 'myComponent'\n})\nexport class MyComponent { ... }\n</code></pre>\n\n<p><strong>Use this template to get the <code>ElementRef</code> AND <code>MyComponent</code> instance</strong></p>\n\n<pre><code>&lt;div [ngSwitch]=\"type\"&gt;\n    &lt;wm-my-component\n           #myComponent=\"myComponent\"\n           *ngSwitchCase=\"Type.MyType\"\n           (init)=\"init($event, myComponent)\"&gt;\n    &lt;/wm-my-component&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Use this code in TypeScript</strong></p>\n\n<pre><code>init(myComponentRef: ElementRef, myComponent: MyComponent) {\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 10, "creation_date": 1484577488, "post_id": 41678465, "comment_id": 70554744, "body": "Please provide some explanation to this code. Simply code dumping without explanation is highly discouraged."}, {"owner": {"reputation": 2478, "user_id": 5966155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f7740742ccf3b8a65dad7c6c3452a9?s=128&d=identicon&r=PG", "display_name": "David M.", "link": "https://stackoverflow.com/users/5966155/david-m"}, "edited": false, "score": 5, "creation_date": 1490297885, "post_id": 41678465, "comment_id": 73062618, "body": "This won&#39;t work: attributes set via @ViewChild annotations will only be available after ngAfterViewInit lifecycle event. Accessing the value in the constructor would yield an undefined value for <code>inputTxt</code> in that case."}], "tags": [], "owner": {"reputation": 413, "user_id": 7401466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fff98b5721a8b6257e4cd66bd0049a?s=128&d=identicon&r=PG&f=1", "display_name": "Eng.Gabr", "link": "https://stackoverflow.com/users/7401466/eng-gabr"}, "is_accepted": false, "score": 12, "last_activity_date": 1509438153, "last_edit_date": 1509438153, "creation_date": 1484576329, "answer_id": 41678465, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/41678465#41678465", "title": "How can I select an element in a component template?", "body": "<pre><code> */\nimport {Component,ViewChild} from '@angular/core' /*Import View Child*/\n\n@Component({\n    selector:'display'\n    template:`\n\n     &lt;input #myname (input) = \"updateName(myname.value)\"/&gt;\n     &lt;p&gt; My name : {{myName}}&lt;/p&gt;\n\n    `\n})\nexport class DisplayComponent{\n  @ViewChild('myname')inputTxt:ElementRef; /*create a view child*/\n\n   myName: string;\n\n    updateName: Function;\n    constructor(){\n\n        this.myName = \"Aman\";\n        this.updateName = function(input: String){\n\n            this.inputTxt.nativeElement.value=this.myName; \n\n            /*assign to it the value*/\n        };\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1548, "user_id": 1456334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GR43K.jpg?s=128&g=1", "display_name": "oooyaya", "link": "https://stackoverflow.com/users/1456334/oooyaya"}, "edited": false, "score": 1, "creation_date": 1488684245, "post_id": 42178730, "comment_id": 72338496, "body": "This explains a problem I was having.  This doesn&#39;t work because it&#39;ll say <code>item</code> needs to be an ElementRef, even though you&#39;re setting it to another ElementRef:  <code>let item:ElementRef, item2:ElementRef;  item = item2; &#47;&#47; no can do.</code> . Very confusing.  But this is fine:  <code>let item:ElementRef, item2:ElementRef;  item = item2.nativeElement</code> because of the implementation you pointed out."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1548, "user_id": 1456334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GR43K.jpg?s=128&g=1", "display_name": "oooyaya", "link": "https://stackoverflow.com/users/1456334/oooyaya"}, "edited": false, "score": 1, "creation_date": 1488756545, "post_id": 42178730, "comment_id": 72359628, "body": "Actually your first example <code>let item: ElementRef, item2: ElementRef; item = item2</code> fails because of definite assignment analysis. Your second fails for the same reasons but both succeed if <code>item2</code> is initialized for the reasons discussed (or as a useful quick check for assignability we can use <code>declare let</code> here). Regardless, truly a shame to see <code>any</code> on a public API like this."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 5, "last_activity_date": 1569338711, "last_edit_date": 1569338711, "creation_date": 1486833046, "answer_id": 42178730, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/42178730#42178730", "title": "How can I select an element in a component template?", "body": "<p><em><strong>Note</strong></em>: This doesn't apply to Angular 6 and above as <code>ElementRef</code> became <code>ElementRef&lt;T&gt;</code> with <code>T</code> denoting the type of <code>nativeElement</code>.</p>\n\n<p>I would like to add that if you are using <code>ElementRef</code>, as recommended by all answers, then you will immediately encounter the problem that <code>ElementRef</code> has an awful type declaration that looks like</p>\n\n<pre><code>export declare class ElementRef {\n  nativeElement: any;\n}\n</code></pre>\n\n<p>this is stupid in a browser environment where nativeElement is an <code>HTMLElement</code>.</p>\n\n<p>To workaround this you can use the following technique</p>\n\n<pre><code>import {Inject, ElementRef as ErrorProneElementRef} from '@angular/core';\n\ninterface ElementRef {\n  nativeElement: HTMLElement;\n}\n\n@Component({...}) export class MyComponent {\n  constructor(@Inject(ErrorProneElementRef) readonly elementRef: ElementRef) { }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2823, "user_id": 2538813, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9eb5f4a3d406c3f6b256b151d66963ff?s=128&d=identicon&r=PG", "display_name": "Jamie", "link": "https://stackoverflow.com/users/2538813/jamie"}, "edited": false, "score": 0, "creation_date": 1500287613, "post_id": 44076623, "comment_id": 77252496, "body": "The class Renderer is DEPRECATED since Angular 4.3.0. <a href=\"https://angular.io/api/core/Renderer\" rel=\"nofollow noreferrer\">angular.io/api/core/Renderer</a>"}, {"owner": {"reputation": 1341, "user_id": 1623926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iauVp.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1623926/jordan"}, "reply_to_user": {"reputation": 2823, "user_id": 2538813, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9eb5f4a3d406c3f6b256b151d66963ff?s=128&d=identicon&r=PG", "display_name": "Jamie", "link": "https://stackoverflow.com/users/2538813/jamie"}, "edited": false, "score": 0, "creation_date": 1599158849, "post_id": 44076623, "comment_id": 112695383, "body": "Can&#39;t we just use Renderer2 @Jamie ? <a href=\"https://angular.io/api/core/Renderer2#selectRootElement\" rel=\"nofollow noreferrer\">https://angular.io/api/core/Renderer2#selectRootElement</a>"}], "tags": [], "owner": {"reputation": 3255, "user_id": 235288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5301c31b4ff1b296e4166bb37dcffda0?s=128&d=identicon&r=PG", "display_name": "Neil T.", "link": "https://stackoverflow.com/users/235288/neil-t"}, "is_accepted": false, "score": 21, "last_activity_date": 1599164575, "last_edit_date": 1599164575, "creation_date": 1495218068, "answer_id": 44076623, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/44076623#44076623", "title": "How can I select an element in a component template?", "body": "<p><strong>Angular 4+</strong>:\nUse <code>renderer.selectRootElement</code> with a CSS selector to access the element.</p>\n<p>I've got a form that initially displays an email input. After the email is entered, the form will be expanded to allow them to continue adding information relating to their project. However, if they are <strong>not</strong> an existing client, the form will include an address section above the project information section.</p>\n<p>As of now, the data entry portion has not been broken up into components, so the sections are managed with *ngIf directives. I need to set focus on the project notes field if they are an existing client, or the first name field if they are new.</p>\n<p>I tried the solutions with no success. However, Update 3 in <a href=\"https://stackoverflow.com/questions/34502768/why-angular2-template-local-variables-are-not-usable-in-templates-when-using-ng?rq=1\">this</a> answer gave me half of the eventual solution. The other half came from MatteoNY's response in <a href=\"https://github.com/angular/angular/issues/13818\" rel=\"nofollow noreferrer\">this</a> thread. The result is this:</p>\n<pre><code>import { NgZone, Renderer } from '@angular/core';\n\nconstructor(private ngZone: NgZone, private renderer: Renderer) {}\n\nsetFocus(selector: string): void {\n    this.ngZone.runOutsideAngular(() =&gt; {\n        setTimeout(() =&gt; {\n            this.renderer.selectRootElement(selector).focus();\n        }, 0);\n    });\n}\n\nsubmitEmail(email: string): void {\n    // Verify existence of customer\n    ...\n    if (this.newCustomer) {\n        this.setFocus('#firstname');\n    } else {\n        this.setFocus('#description');\n    }\n}\n</code></pre>\n<p>Since the only thing I'm doing is setting the focus on an element, I don't need to concern myself with change detection, so I can actually run the call to <code>renderer.selectRootElement</code> outside of Angular. Because I need to give the new sections time to render, the element section is wrapped in a timeout to allow the rendering threads time to catch up before the element selection is attempted. Once all that is setup, I can simply call the element using basic CSS selectors.</p>\n<p>I know this example dealt primarily with the focus event, but it's hard for me that this couldn't be used in other contexts.</p>\n<p><strong>UPDATE</strong>: Angular dropped support for <code>Renderer</code> in Angular 4 and removed it completely in Angular 9. This solution should not be impacted by the migration to <code>Renderer2</code>. Please refer to this link for additional information:\n<a href=\"https://angular.io/guide/migration-renderer\" rel=\"nofollow noreferrer\">Renderer migration to Renderer2</a></p>\n"}, {"tags": [], "owner": {"reputation": 1052, "user_id": 5501253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/34E5j.jpg?s=128&g=1", "display_name": "Apoorv", "link": "https://stackoverflow.com/users/5501253/apoorv"}, "is_accepted": false, "score": 2, "last_activity_date": 1507812577, "creation_date": 1507812577, "answer_id": 46710061, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/46710061#46710061", "title": "How can I select an element in a component template?", "body": "<p>to get the immediate next sibling ,use this</p>\n\n<pre><code>event.source._elementRef.nativeElement.nextElementSibling\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 901, "user_id": 2066367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40cf0804cf6fbab6f827d5bf1540ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Hany", "link": "https://stackoverflow.com/users/2066367/hany"}, "edited": false, "score": 0, "creation_date": 1509634060, "post_id": 47073681, "comment_id": 81104829, "body": "But you should notice that you almost not need to access template elements in the component class, you just need to well understand the angular logic correctly."}, {"owner": {"reputation": 10646, "user_id": 89862, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3Gx4I.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/89862/johannes"}, "edited": false, "score": 6, "creation_date": 1513693535, "post_id": 47073681, "comment_id": 82744088, "body": "Dont use any, the type is ElementRef"}, {"owner": {"reputation": 721, "user_id": 215067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec901211f209b1d6b50450ad10796d6d?s=128&d=identicon&r=PG&f=1", "display_name": "TomEberhard", "link": "https://stackoverflow.com/users/215067/tomeberhard"}, "edited": false, "score": 0, "creation_date": 1608241528, "post_id": 47073681, "comment_id": 115531153, "body": "I ended up having to use &#39;any&#39; because the element that I needed access to was another angular component which was wrapping a Kendo UI element, I needed to call a method on the component, which then calls a method on the Kendo element."}], "tags": [], "owner": {"reputation": 901, "user_id": 2066367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40cf0804cf6fbab6f827d5bf1540ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Hany", "link": "https://stackoverflow.com/users/2066367/hany"}, "is_accepted": false, "score": 13, "last_activity_date": 1561971698, "last_edit_date": 1561971698, "creation_date": 1509620499, "answer_id": 47073681, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/47073681#47073681", "title": "How can I select an element in a component template?", "body": "<p>import the <code>ViewChild</code> decorator from <code>@angular/core</code>, like so:</p>\n\n<p>HTML Code:</p>\n\n<pre><code>&lt;form #f=\"ngForm\"&gt; \n  ... \n  ... \n&lt;/form&gt;\n</code></pre>\n\n<p>TS Code:</p>\n\n<pre><code>import { ViewChild } from '@angular/core';\n\nclass TemplateFormComponent {\n\n  @ViewChild('f') myForm: any;\n    .\n    .\n    .\n}\n</code></pre>\n\n<p>now you can use 'myForm' object to access any element within it in the class.</p>\n\n<p><a href=\"https://codecraft.tv/courses/angular/forms/template-driven/\" rel=\"noreferrer\"><code>Source</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 5125158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a22c88748d31a32864027611084d1c?s=128&d=identicon&r=PG&f=1", "display_name": "Sai Goud", "link": "https://stackoverflow.com/users/5125158/sai-goud"}, "is_accepted": false, "score": 1, "last_activity_date": 1520019547, "last_edit_date": 1520019547, "creation_date": 1520018331, "answer_id": 49075942, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/49075942#49075942", "title": "How can I select an element in a component template?", "body": "<p>Selecting target element from the list. It is easy to select particular element from the list of same elements.</p>\n\n<p><strong>component code:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class AppComponent {\n  title = 'app';\n\n  listEvents = [\n    {'name':'item1', 'class': ''}, {'name':'item2', 'class': ''},\n    {'name':'item3', 'class': ''}, {'name':'item4', 'class': ''}\n  ];\n\n  selectElement(item: string, value: number) {\n    console.log(\"item=\"+item+\" value=\"+value);\n    if(this.listEvents[value].class == \"\") {\n      this.listEvents[value].class='selected';\n    } else {\n      this.listEvents[value].class= '';\n    }\n  }\n}\n</code></pre>\n\n<p><strong>html code:</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul *ngFor=\"let event of listEvents; let i = index\"&gt;\n   &lt;li  (click)=\"selectElement(event.name, i)\" [class]=\"event.class\"&gt;\n  {{ event.name }}\n&lt;/li&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>css code:</strong></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.selected {\n  color: red;\n  background:blue;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "is_accepted": false, "score": 3, "last_activity_date": 1582972328, "creation_date": 1582972328, "answer_id": 60464139, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/60464139#60464139", "title": "How can I select an element in a component template?", "body": "<h2>Mimimum example for quick usage:</h2>\n\n<pre><code>import { Component, ElementRef, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  template:\n  `\n  &lt;input #inputEl value=\"hithere\"&gt;\n  `,\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  @ViewChild('inputEl') inputEl:ElementRef; \n\n  ngAfterViewInit() {\n    console.log(this.inputEl);\n  }\n}\n</code></pre>\n\n<ol>\n<li>Put a template reference variable on the DOM element of interest. In our example this is the <code>#inputEl</code> on the <code>&lt;input&gt;</code> tag.</li>\n<li>In our component class inject the DOM element via the @ViewChild decorator</li>\n<li>Access the element in the <code>ngAfterViewInit</code> lifecycle hook.</li>\n</ol>\n\n<p>Note:</p>\n\n<p>If you want to manipulate the DOM elements use the Renderer2 API instead of accessing the elements directly. Permitting direct access to the DOM can make your application more vulnerable to XSS attacks</p>\n"}, {"tags": [], "owner": {"reputation": 328, "user_id": 3143381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa4cf805fe91d5b50ded3fe4cf23972?s=128&d=identicon&r=PG&f=1", "display_name": "Djidel", "link": "https://stackoverflow.com/users/3143381/djidel"}, "is_accepted": false, "score": 0, "last_activity_date": 1596882974, "creation_date": 1596882974, "answer_id": 63314412, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/63314412#63314412", "title": "How can I select an element in a component template?", "body": "<p>In case you are using Angular Material, you can take advantage of cdkFocusInitial directive.</p>\n<p>Example: <code>&lt;input matInput cdkFocusInitial&gt;</code></p>\n<p>Read more here:\n<a href=\"https://material.angular.io/cdk/a11y/overview#regions\" rel=\"nofollow noreferrer\">https://material.angular.io/cdk/a11y/overview#regions</a></p>\n"}, {"tags": [], "owner": {"reputation": 721, "user_id": 215067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec901211f209b1d6b50450ad10796d6d?s=128&d=identicon&r=PG&f=1", "display_name": "TomEberhard", "link": "https://stackoverflow.com/users/215067/tomeberhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1608621710, "last_edit_date": 1608621710, "creation_date": 1608248715, "answer_id": 65349914, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/65349914#65349914", "title": "How can I select an element in a component template?", "body": "<p>For components inside <code>*ngIf</code>, another approach:</p>\n<p>The component I wanted to select was inside a div's *ngIf statement, and @jsgoupil's answer above probably works (Thanks @jsgoupil!), but I ended up finding a way to avoid using *ngIf, by using CSS to hide the element.</p>\n<p>When the condition in the [className] is true, the div gets displayed, and naming the component using # works and it can be selected from within the typescript code. When the condition is false, it's not displayed, and I don't need to select it anyway.</p>\n<p><strong>Component:</strong></p>\n<pre><code>@Component({\n    selector: 'bla',\n    templateUrl: 'bla.component.html',\n    styleUrls: ['bla.component.scss']\n})\nexport class BlaComponent implements OnInit, OnDestroy {\n    @ViewChild('myComponentWidget', {static: true}) public myComponentWidget: any;\n    @Input('action') action: ActionType; // an enum defined in our code. (action could also be declared locally)\n\nconstructor() {\n   etc;\n}\n\n// this lets you use an enum in the HMTL (ActionType.SomeType)\npublic get actionTypeEnum(): typeOf ActionType {\n    return ActionType;\n}\n\npublic someMethodXYZ: void {\n    this.myComponentWidget.someMethod(); // use it like that, assuming the method exists\n}\n</code></pre>\n<p><strong>and then in the bla.component.html file:</strong></p>\n<pre><code>&lt;div [className]=&quot;action === actionTypeEnum.SomeType ? 'show-it' : 'do-not-show'&quot;&gt;\n\n    &lt;my-component #myComponentWidget etc&gt;&lt;/my-component&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;button type=&quot;reset&quot; class=&quot;bunch-of-classes&quot; (click)=&quot;someMethodXYZ()&quot;&gt;\n        &lt;span&gt;XYZ&lt;/span&gt;\n    &lt;/button&gt;\n&lt;/div&gt;   \n</code></pre>\n<p><strong>and the CSS file:</strong></p>\n<pre><code> ::ng-deep {\n    .show-it {\n         display: block;   // example, actually a lot more css in our code\n    }\n    .do-not-show {\n        display: none'; \n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 8090981, "user_type": "registered", "profile_image": "https://graph.facebook.com/460259197641996/picture?type=large", "display_name": "Naeem Bashir", "link": "https://stackoverflow.com/users/8090981/naeem-bashir"}, "is_accepted": false, "score": 0, "last_activity_date": 1616525913, "creation_date": 1616525913, "answer_id": 66769616, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/66769616#66769616", "title": "How can I select an element in a component template?", "body": "<p>i have use two way :</p>\n<p><strong>First way :</strong></p>\n<p>You can get a handle to the DOM element via ElementRef by injecting it into your component's constructor:</p>\n<pre><code>constructor(private myElement: ElementRef) {\nthis.myElement.nativeElement // &lt;- your direct element reference\n}\n</code></pre>\n<p><strong>Second way:</strong></p>\n<pre><code>@Component({\n  selector: 'my-app',\n  template:\n  `\n  &lt;input #input value=&quot;enterThere&quot;&gt;\n  `,\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  @ViewChild('input') input:ElementRef; \n\n  ngAfterViewInit() {\n    console.log(this.input);\n  }\n</code></pre>\n"}], "owner": {"reputation": 6625, "user_id": 2748475, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1240274188/picture?type=large", "display_name": "Aman Gupta", "link": "https://stackoverflow.com/users/2748475/aman-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681376, "favorite_count": 183, "protected_date": 1531311925, "accepted_answer_id": 35209681, "answer_count": 14, "score": 606, "last_activity_date": 1616525913, "creation_date": 1442831685, "last_edit_date": 1576449312, "question_id": 32693061, "link": "https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template", "title": "How can I select an element in a component template?", "body": "<p>Does anybody know how to get hold of an element defined in a component template? Polymer makes it really easy with the <code>$</code> and <code>$$</code>.</p>\n\n<p>I was just wondering how to go about it in Angular.</p>\n\n<p>Take the example from the tutorial:</p>\n\n<pre><code>import {Component} from '@angular/core';\n\n@Component({\n    selector:'display',\n    template:`\n     &lt;input #myname (input)=\"updateName(myname.value)\"/&gt;\n     &lt;p&gt;My name : {{myName}}&lt;/p&gt;\n     `   \n})\nexport class DisplayComponent {\n    myName: string = \"Aman\";\n    updateName(input: String) {\n        this.myName = input;\n    }\n}\n</code></pre>\n\n<p>How do I catch hold or get a reference of the <code>p</code> or <code>input</code> element from within the class definition?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 1092, "user_id": 1132738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95d56707a4ec59450d73f3aa977d7c3?s=128&d=identicon&r=PG", "display_name": "Kashif Mustafa", "link": "https://stackoverflow.com/users/1132738/kashif-mustafa"}, "edited": false, "score": 0, "creation_date": 1442830590, "post_id": 32692509, "comment_id": 53228518, "body": "What are you trying to do ??"}, {"owner": {"reputation": 47, "user_id": 4574957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10153091196802320/picture?type=large", "display_name": "Adrien Blaizot", "link": "https://stackoverflow.com/users/4574957/adrien-blaizot"}, "reply_to_user": {"reputation": 1092, "user_id": 1132738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95d56707a4ec59450d73f3aa977d7c3?s=128&d=identicon&r=PG", "display_name": "Kashif Mustafa", "link": "https://stackoverflow.com/users/1132738/kashif-mustafa"}, "edited": false, "score": 0, "creation_date": 1442836284, "post_id": 32692509, "comment_id": 53231926, "body": "I have one Array, used in two tab. Once must show every element, the other juste some of them."}], "answers": [{"tags": [], "owner": {"reputation": 714, "user_id": 1386579, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/18ffa33bf53d9ffa24e6723143d2fceb?s=128&d=identicon&r=PG", "display_name": "kavinhuh", "link": "https://stackoverflow.com/users/1386579/kavinhuh"}, "is_accepted": true, "score": 0, "last_activity_date": 1442835745, "last_edit_date": 1442835745, "creation_date": 1442830658, "answer_id": 32692690, "question_id": 32692509, "link": "https://stackoverflow.com/questions/32692509/angularjs-filter-afoo-but-not-foo/32692690#32692690", "title": "AngularJs, filter &quot;afoo&quot; but not &quot;foo&quot;", "body": "<p>hope this helps ,you have to write a custom filter which returns the mismatch values</p>\n\n<pre><code>angular.module('myApp',[]).filter('weDontLike', function(){\n\n    return function(items, name){\n\n        var arrayToReturn = [];        \n        for (var i=0; i&lt;items.length; i++){\n            if (items[i].name != name) {\n                arrayToReturn.push(items[i]);\n            }\n        }\n\n        return arrayToReturn;\n    };\n});\n\nfunction HelloCntl($scope) {\n    $scope.friends = [\n        {\n        name: 'John',\n        phone: '555-1276'},\n    {\n        name: 'Mary',\n        phone: '800-BIG-MARY'},\n    {\n        name: 'Mike',\n        phone: '555-4321'},\n    {\n        name: 'Adam',\n        phone: '555-5678'},\n    {\n        name: 'Julie',\n        phone: '555-8765'}\n    ];\n}\n</code></pre>\n\n<p><a href=\"http://fiddle\" rel=\"nofollow\">http://jsfiddle.net/bens/CBgcP/</a></p>\n"}], "owner": {"reputation": 47, "user_id": 4574957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10153091196802320/picture?type=large", "display_name": "Adrien Blaizot", "link": "https://stackoverflow.com/users/4574957/adrien-blaizot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 32692690, "answer_count": 1, "score": -1, "last_activity_date": 1451290353, "creation_date": 1442830116, "last_edit_date": 1451290353, "question_id": 32692509, "link": "https://stackoverflow.com/questions/32692509/angularjs-filter-afoo-but-not-foo", "title": "AngularJs, filter &quot;afoo&quot; but not &quot;foo&quot;", "body": "<p>I try to manage a filter in a ng-repeat</p>\n\n<p><strong>Main.HTML</strong></p>\n\n<pre><code>&lt;table&gt;\n       &lt;tr ng-repeat=\"param in MyParam | filter: UnrequestValue\"&gt;\n          &lt;td&gt;{{param.Label}}&lt;/td&gt;\n       &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong>Main.js</strong></p>\n\n<pre><code>MyParam: Array&lt;parameter&gt;;\nparam1: parameter;\nparam2: parameter;\nparam3: parameter;\n\n$scope.UnrequestValue = \"!foo\";\n\n$scope.param1 = \"TooFoo\";\n$scope.param2 = \"Foo\";\n$scope.param3 = \"Too\";\n\n$scope.param1.Label = \"this is TooFoo\";\n$scope.param2.Label = \"this is Foo\";\n$scope.param2.Label = \"this is Too\";\n</code></pre>\n\n<p>I would like to print:</p>\n\n<ul>\n<li>this is TooFoo </li>\n<li>this is Too</li>\n</ul>\n\n<p>But I have currently getting the result as :</p>\n\n<ul>\n<li>this is Too</li>\n</ul>\n\n<p>Here my filter are not working properly as expected.\nAs i need to follow the spec, so I can't change the labels.\n .</p>\n\n<p>Can anyone know to solve this problem  ?\nIt worked fine with ng-if.</p>\n\n<p>Thanks in advance !</p>\n"}, {"tags": ["typescript", "atom-editor"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1442878095, "post_id": 32691718, "comment_id": 53255658, "body": "There is this feature request : <a href=\"https://github.com/TypeStrong/atom-typescript/issues/253\" rel=\"nofollow noreferrer\">github.com/TypeStrong/atom-typescript/issues/253</a>"}, {"owner": {"reputation": 4702, "user_id": 1165203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/367588ff895238dded0622c0a3f3f0c7?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Imre", "link": "https://stackoverflow.com/users/1165203/g%c3%a1bor-imre"}, "edited": false, "score": 1, "creation_date": 1456155656, "post_id": 32691718, "comment_id": 58803646, "body": "Until the feature is completed you can use the <a href=\"https://atom.io/packages/tree-ignore\" rel=\"nofollow noreferrer\">tree-ignore</a> package to hide the <code>*.map.js</code> files. This might be the best bad solution we currently have. :)"}], "answers": [{"comments": [{"owner": {"reputation": 538, "user_id": 2174074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flOAN.jpg?s=128&g=1", "display_name": "Michael Frost Billing", "link": "https://stackoverflow.com/users/2174074/michael-frost-billing"}, "edited": false, "score": 2, "creation_date": 1442837165, "post_id": 32692757, "comment_id": 53232536, "body": "thx, I have upvoted, but I am not rep&#39;ed enough yet - pitty :)"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 538, "user_id": 2174074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flOAN.jpg?s=128&g=1", "display_name": "Michael Frost Billing", "link": "https://stackoverflow.com/users/2174074/michael-frost-billing"}, "edited": false, "score": 1, "creation_date": 1442878057, "post_id": 32692757, "comment_id": 53255645, "body": "@MichaelBilling Even with your rep you should be able to &quot;mark as answer&quot;."}, {"owner": {"reputation": 538, "user_id": 2174074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flOAN.jpg?s=128&g=1", "display_name": "Michael Frost Billing", "link": "https://stackoverflow.com/users/2174074/michael-frost-billing"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1443000248, "post_id": 32692757, "comment_id": 53312137, "body": "@basarat your right, i&#39;m just a SO noob! (btw. the question was also meant as a .-) to Atom plugin developers that the Visual Studio way of grouping files with same name is a fantistic feature. I&#39;m not at all into coffeescript to make the extension myself. Though i did take a look at the tree-view code)"}, {"owner": {"reputation": 2031, "user_id": 178550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/397f23c9943a2868bdce5b08a591a74d?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/178550/phil"}, "edited": false, "score": 2, "creation_date": 1470191445, "post_id": 32692757, "comment_id": 64842714, "body": "To add to this; if you have Atom open and modify the .gitignore file, you have to close Atom and reopen to see the effects of the change."}, {"owner": {"reputation": 1047, "user_id": 1134297, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2eba0e557cef61fecbe060f8af64a367?s=128&d=identicon&r=PG", "display_name": "ness-EE", "link": "https://stackoverflow.com/users/1134297/ness-ee"}, "edited": false, "score": 0, "creation_date": 1474627123, "post_id": 32692757, "comment_id": 66619231, "body": "Did you mean to put [...] instead of {...} for the filesGlob object?"}], "tags": [], "owner": {"reputation": 1610, "user_id": 145214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed4e23089f1581820603219baea49d51?s=128&d=identicon&r=PG", "display_name": "Kitson", "link": "https://stackoverflow.com/users/145214/kitson"}, "is_accepted": true, "score": 25, "last_activity_date": 1478729325, "last_edit_date": 1478729325, "creation_date": 1442830846, "answer_id": 32692757, "question_id": 32691718, "link": "https://stackoverflow.com/questions/32691718/can-i-hide-typescript-autogenerated-js-and-map-js-files-in-atom/32692757#32692757", "title": "Can I hide typescript autogenerated .js and .map.js files in atom?", "body": "<p>Atom respects <code>.gitignore</code> and will grey out any files matching your <code>.gitignore</code> which you place in the root of your project.  This should be sufficient to ignore generated files:</p>\n\n<pre><code>*.js\n*.jsx\n</code></pre>\n\n<p>In addition, your <code>tsconfig.json</code> can output all your files into another path.  For example:</p>\n\n<pre><code>{\n  \"version\": \"1.6.2\",\n  \"compilerOptions\": {\n    \"outDir\": \"build\"\n    \"sourceMap\": true\n  },\n  \"filesGlob\": [\n    \"./src/**/*.ts\",\n    \"./src/**/*.tsx\"\n  ]\n}\n</code></pre>\n\n<p>This will inform <code>tsc</code> and <code>atom-typescript</code> to output all the TypeScript files located in <code>src</code> into <code>build</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 8109, "user_id": 228369, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6329cc10bb7d03a435e9c5574f6edd5f?s=128&d=identicon&r=PG", "display_name": "chrismarx", "link": "https://stackoverflow.com/users/228369/chrismarx"}, "is_accepted": false, "score": 1, "last_activity_date": 1497627211, "creation_date": 1497627211, "answer_id": 44593046, "question_id": 32691718, "link": "https://stackoverflow.com/questions/32691718/can-i-hide-typescript-autogenerated-js-and-map-js-files-in-atom/44593046#44593046", "title": "Can I hide typescript autogenerated .js and .map.js files in atom?", "body": "<p>Even better, the tree-view component in atom also has a setting to not show gitignored files at all:\n<a href=\"https://i.stack.imgur.com/QxUPe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxUPe.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's the \"Hide VCS Ignored Files\" setting</p>\n"}], "owner": {"reputation": 538, "user_id": 2174074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flOAN.jpg?s=128&g=1", "display_name": "Michael Frost Billing", "link": "https://stackoverflow.com/users/2174074/michael-frost-billing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6028, "favorite_count": 1, "accepted_answer_id": 32692757, "answer_count": 2, "score": 19, "last_activity_date": 1497627211, "creation_date": 1442827812, "last_edit_date": 1471213658, "question_id": 32691718, "link": "https://stackoverflow.com/questions/32691718/can-i-hide-typescript-autogenerated-js-and-map-js-files-in-atom", "title": "Can I hide typescript autogenerated .js and .map.js files in atom?", "body": "<p>Does anyone know if there is a plugin/option for hiding or grouping autogenerated files in Atom? </p>\n\n<p>The files I want hidden/grouped is what the <code>typescript compiler</code> auto generates (<code>.js</code> and <code>.map.js</code> files).</p>\n\n<p>Visual Studio style grouping would be best, if possible</p>\n\n<p>My typescript file\n<code>file.ts</code></p>\n\n<p>which generates\n<code>file.js</code>\n<code>file.map.js</code></p>\n\n<p><code>file.js</code> is interesting to read once in a while, but in general its autogenerated and I shouldn't care about it.</p>\n\n<p>So letting <code>file.ts</code> be a virtual folder like</p>\n\n<pre><code>- file.ts\n  - file.js\n  - file.map.js\n</code></pre>\n\n<p>would be the ideal solution.</p>\n\n<p>Plain hiding is fine. (hiding <code>.js</code> files in general is not a solution, since typescript projects typically mix <code>.js</code>, <code>.ts</code> and even <code>.tsx</code> files)</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1442834568, "post_id": 32691440, "comment_id": 53230885, "body": "Is this via a new project or an in-place upgrade of TypeScript on an existing project? (might be a newer version of angular.d.ts causing the issue and not v1.6)"}, {"owner": {"reputation": 4858, "user_id": 474702, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0e5325e324ddf32bc730c318a67ec974?s=128&d=identicon&r=PG", "display_name": "reckface", "link": "https://stackoverflow.com/users/474702/reckface"}, "reply_to_user": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1442926551, "post_id": 32691440, "comment_id": 53277242, "body": "In place upgrade of an existing project. And unfortunately I also upgraded the angular.d.ts file"}], "answers": [{"comments": [{"owner": {"reputation": 4858, "user_id": 474702, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0e5325e324ddf32bc730c318a67ec974?s=128&d=identicon&r=PG", "display_name": "reckface", "link": "https://stackoverflow.com/users/474702/reckface"}, "edited": false, "score": 0, "creation_date": 1442926505, "post_id": 32706113, "comment_id": 53277201, "body": "No, the error occurs without the alias. This code used to work like this, until I upgraded to Typescript 1.6 and the latest angular.d.ts files"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1442878364, "creation_date": 1442878364, "answer_id": 32706113, "question_id": 32691440, "link": "https://stackoverflow.com/questions/32691440/how-to-deal-with-spurious-type-script-error-types-of-property-timeout-of-types/32706113#32706113", "title": "How to deal with spurious type script error: types of property $timeout of types base class and derived class are incompatible?", "body": "<blockquote>\n  <p>Is it best practice to repeat the alias (eg: import ng = angular) in each module before using it, even though that's already done in the angular.d.ts</p>\n</blockquote>\n\n<p>NO. The error is happening probably because you have done this. </p>\n\n<p>The code you have posted works fine by default: </p>\n\n<p><a href=\"https://i.stack.imgur.com/LlbC0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LlbC0.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4858, "user_id": 474702, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0e5325e324ddf32bc730c318a67ec974?s=128&d=identicon&r=PG", "display_name": "reckface", "link": "https://stackoverflow.com/users/474702/reckface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442878364, "creation_date": 1442826904, "last_edit_date": 1442827521, "question_id": 32691440, "link": "https://stackoverflow.com/questions/32691440/how-to-deal-with-spurious-type-script-error-types-of-property-timeout-of-types", "title": "How to deal with spurious type script error: types of property $timeout of types base class and derived class are incompatible?", "body": "<p>Since upgrading to TypeScript 1.6, I've been getting what appears to be a spurious error with all my ng.Types:</p>\n\n<blockquote>\n  <p>Typescript 1.6 class 'derivedClass' cannot extend class 'baseClass':\n  types of property $timeout of types base class and derived class are\n  incompatible</p>\n</blockquote>\n\n<p>Here's the code sample:</p>\n\n<pre><code>module app.Test {\n\n    class derivedClass extends baseClass {\n        // Notice there's nothing in the derived class\n    }\n\n    class baseClass {\n        constructor(timeout: ng.ITimeoutService, val1: string, otherVal: ng.ILogService) {\n            var vm = this;\n            vm.$timeout = timeout;\n            vm.someValue = val1;\n            vm.otherValue = otherVal;\n        }\n        $timeout: ng.ITimeoutService; // angular.ITimeoutService works\n        someValue: string;\n        otherValue: ng.ILogService;\n    }\n}\n</code></pre>\n\n<p>angular.ITimeoutService works, or adding import ng= angular; in my modules also works. This didn't used to be an issue in the previous versions of Typescript. </p>\n\n<p>Is it best practice to repeat the alias (eg: import ng = angular) in each module before using it, even though that's already done in the angular.d.ts?</p>\n"}, {"tags": ["javascript", "typescript", "race-condition", "babylonjs"], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 2305723, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/23e6e73c52938ec01c706097cf4e8943?s=128&d=identicon&r=PG", "display_name": "efel", "link": "https://stackoverflow.com/users/2305723/efel"}, "edited": false, "score": 0, "creation_date": 1442832903, "post_id": 32687229, "comment_id": 53229891, "body": "Thank you. This works. So if I understand correctly this is because the &quot;i&quot; variable is not separate during the for loop scope. It is more of like a reference that gets updated with each count?  Since javascript is function scope and not bracket scope, this is why adding a funciton works?  I do appreciate the solution but is there a &quot;cleaner&quot; way of doing this?"}, {"owner": {"reputation": 876, "user_id": 2305723, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/23e6e73c52938ec01c706097cf4e8943?s=128&d=identicon&r=PG", "display_name": "efel", "link": "https://stackoverflow.com/users/2305723/efel"}, "edited": false, "score": 0, "creation_date": 1442850226, "post_id": 32687229, "comment_id": 53241688, "body": "figured out a cleaner way to do this using models.forEach syntax"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1442808647, "creation_date": 1442808647, "answer_id": 32687229, "question_id": 32686985, "link": "https://stackoverflow.com/questions/32686985/babylonjs-typescript-race-conditions/32687229#32687229", "title": "babylonjs typescript race conditions?", "body": "<blockquote>\n  <p>I'm assuming because import mesh executes the callback function in its own thread before \"i\" has even had a chance to be set</p>\n</blockquote>\n\n<p>No. Note that JavaScript is (mostly...and definitely in this case) <em>single threaded</em>. </p>\n\n<blockquote>\n  <p>When I do a console print of: models[1] within the same callback</p>\n</blockquote>\n\n<p>This is because the variable <code>i</code> will point to the <em>last</em> value that was assigned (<code>models.length</code>) in this case. </p>\n\n<p>Note: JavaScript closures capture <em>variable</em> not <em>value</em>. So you need to make a new variable in each loop iteration.</p>\n\n<h1>Fixed code</h1>\n\n<pre><code>var models = [\"brick_wall\", \"tree1\", \"person1\"]\n\nfor (var i =0;i&lt;models.length;++i) {\n\n(function(index){\n    var i = index;\n    BABYLON.SceneLoader.ImportMesh(models[i], \"models/\",\"tree.babylon\", scene, (newMeshes) =&gt; {\n\n\n        this.meshMap[models[i]] = newMeshes[0]\n        console.log(\"mesh set:\" + models[i])\n    });\n})(i);\n\n}\n</code></pre>\n\n<p>Here is a video demonstrating this principle : <a href=\"https://www.youtube.com/watch?v=hU4cbxpe49Y\" rel=\"nofollow\">https://www.youtube.com/watch?v=hU4cbxpe49Y</a></p>\n"}], "owner": {"reputation": 876, "user_id": 2305723, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/23e6e73c52938ec01c706097cf4e8943?s=128&d=identicon&r=PG", "display_name": "efel", "link": "https://stackoverflow.com/users/2305723/efel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 32687229, "answer_count": 1, "score": 0, "last_activity_date": 1442808647, "creation_date": 1442806748, "question_id": 32686985, "link": "https://stackoverflow.com/questions/32686985/babylonjs-typescript-race-conditions", "title": "babylonjs typescript race conditions?", "body": "<p>I have been experimenting with babylonjs and so far everything is great. I am able to load meshes and animate them just fine when everything is in the ImportMesh callback function within the same file. However; when I try to split things up and do something simple like below, I seem to get these race conditions.  Take this example:</p>\n\n<pre><code>var models = [\"brick_wall\", \"tree1\", \"person1\"]\n\nfor (var i =0;i&lt;models.length;++i) {\n\n\n    BABYLON.SceneLoader.ImportMesh(models[i], \"models/\",\"tree.babylon\", scene, (newMeshes) =&gt; {\n\n\n        this.meshMap[models[i]] = newMeshes[0]\n        console.log(\"mesh set:\" + models[i])\n    });\n}\n</code></pre>\n\n<p>The console log gets printed out as \"mesh set: undefined\". I'm assuming because import mesh executes the callback function in its own thread before \"i\" has even had a chance to be set?  However I'm having trouble getting my head around as to how \"i\" and/or models list would still not be set when simply doing a console print within the callback. When I do a console print of:</p>\n\n<pre><code>models[1] \n</code></pre>\n\n<p>within the same callback, I am able to see the value correctly? Makes no sense :(</p>\n\n<p>Does anyone know whats going on here with import mesh in regards to threading? Is there a best practices for babylonjs with waiting for threads? I tried using the scene.executewhenready but I still cannot seem to store and retrieve anything in a variable outside the callback.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 158, "user_id": 5332111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577f1d8ac062969e5493abec7a5edf4c?s=128&d=identicon&r=PG&f=1", "display_name": "DBagBaggerWithSwagger", "link": "https://stackoverflow.com/users/5332111/dbagbaggerwithswagger"}, "edited": false, "score": 0, "creation_date": 1442791205, "post_id": 32684959, "comment_id": 53215330, "body": "I know I can do this <i>by hand</i>. I want to know if there&#39;s a TypeScript way to do this."}], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 5332111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577f1d8ac062969e5493abec7a5edf4c?s=128&d=identicon&r=PG&f=1", "display_name": "DBagBaggerWithSwagger", "link": "https://stackoverflow.com/users/5332111/dbagbaggerwithswagger"}, "edited": false, "score": 0, "creation_date": 1442794776, "post_id": 32685340, "comment_id": 53215988, "body": "Checkout the update to my question. Looks like to do it by hand I loose <code>class</code>, <code>interface</code>, etc... keywords"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 158, "user_id": 5332111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577f1d8ac062969e5493abec7a5edf4c?s=128&d=identicon&r=PG&f=1", "display_name": "DBagBaggerWithSwagger", "link": "https://stackoverflow.com/users/5332111/dbagbaggerwithswagger"}, "edited": false, "score": 0, "creation_date": 1442795760, "post_id": 32685340, "comment_id": 53216154, "body": "See update. It should work starting with typescript 1.6"}, {"owner": {"reputation": 158, "user_id": 5332111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577f1d8ac062969e5493abec7a5edf4c?s=128&d=identicon&r=PG&f=1", "display_name": "DBagBaggerWithSwagger", "link": "https://stackoverflow.com/users/5332111/dbagbaggerwithswagger"}, "edited": false, "score": 0, "creation_date": 1442797509, "post_id": 32685340, "comment_id": 53216457, "body": "Yup, 1.6 works. Do you know if this was added to 1.6 to support this problem?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 158, "user_id": 5332111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577f1d8ac062969e5493abec7a5edf4c?s=128&d=identicon&r=PG&f=1", "display_name": "DBagBaggerWithSwagger", "link": "https://stackoverflow.com/users/5332111/dbagbaggerwithswagger"}, "edited": false, "score": 0, "creation_date": 1442799976, "post_id": 32685340, "comment_id": 53216930, "body": "This as well as others. More important was <i>anonymous classes</i> (e.g. class expressions) and <i>inner classes</i>."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1442795747, "last_edit_date": 1442795747, "creation_date": 1442791417, "answer_id": 32685340, "question_id": 32684959, "link": "https://stackoverflow.com/questions/32684959/using-typescript-with-jquery-without-amd/32685340#32685340", "title": "Using TypeScript With jQuery Without AMD?", "body": "<blockquote>\n  <p>Given this TypeScript code , I'd like the following JavaScript</p>\n</blockquote>\n\n<p><strong>This is not how the TypeScript js <em>emit</em> is designed to work</strong>. </p>\n\n<p>So in short : no. You can't get this javascript from that typescript.</p>\n\n<blockquote>\n  <p>I know I can do this by hand. I want to know if there's a TypeScript way to do this.</p>\n</blockquote>\n\n<p>Do it by hand. If its valid JavaScript then its valid TypeScript. There isn't a specific TypeScript way to do this thing. The <em>JavaScript way</em> is <em>the TypeScript way</em> in this case.</p>\n\n<h1>Update</h1>\n\n<blockquote>\n  <p>That's not valid TypeScript and without that, I'm left with prototypes.</p>\n</blockquote>\n\n<p>It is valid TypeScript starting with TypeScript <code>1.6</code>. </p>\n"}], "owner": {"reputation": 158, "user_id": 5332111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577f1d8ac062969e5493abec7a5edf4c?s=128&d=identicon&r=PG&f=1", "display_name": "DBagBaggerWithSwagger", "link": "https://stackoverflow.com/users/5332111/dbagbaggerwithswagger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 32685340, "answer_count": 1, "score": 1, "last_activity_date": 1442797428, "creation_date": 1442788067, "last_edit_date": 1442797428, "question_id": 32684959, "link": "https://stackoverflow.com/questions/32684959/using-typescript-with-jquery-without-amd", "title": "Using TypeScript With jQuery Without AMD?", "body": "<p>Is it possible to use TypeScript and jQuery (or any other non-Node JavaScript library) without AMD?</p>\n\n<p>Currently my code compiles fine, but the compiled code cannot see the jQuery's <code>$</code> function.</p>\n\n<p>Given this TypeScript code:</p>\n\n<pre><code>/// &lt;reference path=\"typings/tsd.d.ts\" /&gt;\nimport $ = require('jquery');\n\nexport class Widget {\n  foo() { \n    $(selector).bar()\n  }\n}\n</code></pre>\n\n<p>I'd like the following JavaScript:</p>\n\n<pre><code>var Widget = (function ($) {\n  function Widget() { }\n  Widget.prototype.foo = function () { ... };\n  return Widget;\n})(jQuery);\n</code></pre>\n\n<p>Currently my code <em>does not</em> have <code>jQuery</code> passed to the anonymous function.</p>\n\n<h2>UPDATE 1</h2>\n\n<p>Per @basarat</p>\n\n<blockquote>\n  <p>Do it by hand. If its valid JavaScript then its valid TypeScript</p>\n</blockquote>\n\n<p>You're suggesting (and I was thinking) that I do this:</p>\n\n<pre><code>var Widget = (function($) {\n  class Widget {\n    foo() {\n      $('body').append('foo');\n    }\n  }\n  return Widget;\n})(jQuery);\n</code></pre>\n\n<p>?</p>\n\n<p>That's not valid TypeScript and without that, I'm left with prototypes.  </p>\n\n<h2>UPDATE 2</h2>\n\n<p>Per @basarat the above is supported with TypeScript 1.6. </p>\n"}, {"tags": ["typescript", "typescript1.6"], "comments": [{"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1482228452, "post_id": 32683251, "comment_id": 69678950, "body": "Did you ever figure out how to do this?"}], "answers": [{"comments": [{"owner": {"reputation": 1502, "user_id": 410224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb96078c6336fedeb984735269465de7?s=128&d=identicon&r=PG", "display_name": "rhyek", "link": "https://stackoverflow.com/users/410224/rhyek"}, "edited": false, "score": 0, "creation_date": 1539215147, "post_id": 51089208, "comment_id": 92424688, "body": "Can you be more specific?"}], "tags": [], "owner": {"reputation": 51, "user_id": 5830726, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tfKIHXz3Wso/AAAAAAAAAAI/AAAAAAAAABE/tHijeOPmnFk/photo.jpg?sz=128", "display_name": "Jan", "link": "https://stackoverflow.com/users/5830726/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1530226258, "last_edit_date": 1530226258, "creation_date": 1530210273, "answer_id": 51089208, "question_id": 32683251, "link": "https://stackoverflow.com/questions/32683251/relative-modules-in-ambient-modules/51089208#51089208", "title": "Relative Modules in Ambient Modules", "body": "<p>To dismiss errors, you can now use:</p>\n\n<pre><code>declare module '*';\n</code></pre>\n"}], "owner": {"reputation": 1610, "user_id": 145214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed4e23089f1581820603219baea49d51?s=128&d=identicon&r=PG", "display_name": "Kitson", "link": "https://stackoverflow.com/users/145214/kitson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1138, "favorite_count": 3, "answer_count": 1, "score": 9, "last_activity_date": 1530226258, "creation_date": 1442776608, "question_id": 32683251, "link": "https://stackoverflow.com/questions/32683251/relative-modules-in-ambient-modules", "title": "Relative Modules in Ambient Modules", "body": "<p>As of TypeScript 1.6.2, there was a \"fix\" for a long term \"defect\" which made it impossible to import relative modules into ambient modules, now some of my code is breaking.  We utilise an AMD environment where we have a plugin module that loads CommonJS modules when executing under Node.  In particular I am using Intern as a testing framework and developing something that is designed to be used only as a CommonJS module.</p>\n\n<p>For example, I used to have this declaration:</p>\n\n<pre><code>declare module 'intern/dojo/node!../../index' {\n    import * as dtsGenerator from '../../index';\n    export = dtsGenerator\n}\n</code></pre>\n\n<p>But now I get <code>Import or export declaration in an ambient module declaration cannot reference module through relative module name.</code></p>\n\n<p>I cannot figure out how to resolve a module absolutely within my ambient module for something contained within my project.  As of course the following indicates that <code>index</code> cannot be found:</p>\n\n<pre><code>declare module 'intern/dojo/node!../../index' {\n    import * as dtsGenerator from 'index';\n    export = dtsGenerator\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "mean-stack", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5356711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuGGl.jpg?s=128&g=1", "display_name": "Waleed Afzal", "link": "https://stackoverflow.com/users/5356711/waleed-afzal"}, "edited": false, "score": 0, "creation_date": 1442777518, "post_id": 32683201, "comment_id": 53211506, "body": "I have installed typescript using this but unfortunately the version I am getting is 1.0.3.0."}, {"owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "reply_to_user": {"reputation": 11, "user_id": 5356711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuGGl.jpg?s=128&g=1", "display_name": "Waleed Afzal", "link": "https://stackoverflow.com/users/5356711/waleed-afzal"}, "edited": false, "score": 0, "creation_date": 1442778307, "post_id": 32683201, "comment_id": 53211765, "body": "checkout where npm installed typescript and where tsc gets called from via which tsc."}, {"owner": {"reputation": 11, "user_id": 5356711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuGGl.jpg?s=128&g=1", "display_name": "Waleed Afzal", "link": "https://stackoverflow.com/users/5356711/waleed-afzal"}, "edited": false, "score": 0, "creation_date": 1442779046, "post_id": 32683201, "comment_id": 53212013, "body": "Typescript is installed in C:\\Users\\Waleed\\AppData\\Roaming\\npm\\node_modules\\typescript And I am writing tsc in cmd like this C:\\WINDOWS\\system32&gt;tsc -v"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1442791847, "post_id": 32683201, "comment_id": 53215453, "body": "Run <code>where tsc</code>. You probably have it installed with Visual studio and need to uninstall it from control panel (or edit your <code>PATH</code> to remove that version)"}, {"owner": {"reputation": 2038, "user_id": 712826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d6a2acc16eaa5e57bf649420f1e86a0?s=128&d=identicon&r=PG", "display_name": "Jeyara", "link": "https://stackoverflow.com/users/712826/jeyara"}, "edited": false, "score": 0, "creation_date": 1442797470, "post_id": 32683201, "comment_id": 53216445, "body": "may be a dumb suggestion. did you close and reopen cmd prompt? i have same issue and once restarted, version shows correct."}], "tags": [], "owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "is_accepted": false, "score": 0, "last_activity_date": 1442776347, "creation_date": 1442776347, "answer_id": 32683201, "question_id": 32682842, "link": "https://stackoverflow.com/questions/32682842/typescript-compilation-issue/32683201#32683201", "title": "Typescript Compilation Issue", "body": "<p>This installs the latest typescript globally:</p>\n\n<pre><code>npm install -g typescript\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5356711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuGGl.jpg?s=128&g=1", "display_name": "Waleed Afzal", "link": "https://stackoverflow.com/users/5356711/waleed-afzal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442776347, "creation_date": 1442773834, "question_id": 32682842, "link": "https://stackoverflow.com/questions/32682842/typescript-compilation-issue", "title": "Typescript Compilation Issue", "body": "<p>Typescript current version is 1.6.2, but when I am installing typescript and checking the version through \"tsc -v\" it gives me typescript version 1.0.3.0, due to which I am not being able to compile typescript.\nKindly tell me what should I do now. Need some serious help regarding this.</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1442770816, "post_id": 32681558, "comment_id": 53209174, "body": "<code>@ViewQuery</code> queries the View DOM (the view you specify in a template, aka Shadow DOM), and <code>@Query</code> queries for the light DOM when you use it in a Directive (see this <a href=\"https://github.com/angular/angular/issues/1935\" rel=\"nofollow noreferrer\">issue</a>). Keep in mind that in the next release, alpha38, both ViewQuery and Query will be renamed (See <a href=\"https://github.com/angular/angular/issues/3922\" rel=\"nofollow noreferrer\">#3922</a>)."}, {"owner": {"reputation": 7052, "user_id": 1771017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a237a0a267700d248da932e8eb30ce3?s=128&d=identicon&r=PG", "display_name": "jaker", "link": "https://stackoverflow.com/users/1771017/jaker"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1442773428, "post_id": 32681558, "comment_id": 53210121, "body": "Eric, what do you mean by &#39;light DOM&#39;? Is there any way to get a reference to child components, such that you could then call its methods? Thanks for the warning regarding alpha38!"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1442777205, "post_id": 32681558, "comment_id": 53211406, "body": "I got &#39;light DOM&#39; from here <a href=\"https://www.polymer-project.org/0.5/platform/shadow-dom.html\" rel=\"nofollow noreferrer\">About shadow DOM</a>. Here&#39;s an example of how to do it : <a href=\"http://plnkr.co/edit/WGupqC?p=preview\" rel=\"nofollow noreferrer\">plnkr</a>, see the comment in it."}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1442777682, "post_id": 32681558, "comment_id": 53211561, "body": "I can&#39;t edit my last comment. Well, regarding the comment in the plnkr, see <a href=\"https://gitter.im/angular/angular?at=55f6d1118cc5f90a4fb6c4ad\" rel=\"nofollow noreferrer\">this</a> from there to a little below (@jamesmoey&#39;s comments)."}], "answers": [{"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1451020102, "post_id": 32705581, "comment_id": 56662458, "body": "<code>@Query</code> and <code>@ViewQuery</code> are deprecated, use <code>@ContentChildren</code> and <code>@ViewChildren</code> instead."}, {"owner": {"reputation": 1383, "user_id": 2027961, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/485f4e2a57b7db70bbaa4e194a9244ea?s=128&d=identicon&r=PG", "display_name": "Yurij", "link": "https://stackoverflow.com/users/2027961/yurij"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1455441100, "post_id": 32705581, "comment_id": 58484116, "body": "@G&#252;nterZ&#246;chbauer can you give us a link, to where they are marked as deprecated? Thank you."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1455441263, "post_id": 32705581, "comment_id": 58484177, "body": "<a href=\"https://github.com/angular/angular/blob/master/modules/angular2/src/core/metadata.dart#L162\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/master/modules/angular2/src/&zwnj;&#8203;&hellip;</a>, <a href=\"https://github.com/angular/angular/blob/master/modules/angular2/src/core/metadata.dart#L137\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/master/modules/angular2/src/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 1383, "user_id": 2027961, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/485f4e2a57b7db70bbaa4e194a9244ea?s=128&d=identicon&r=PG", "display_name": "Yurij", "link": "https://stackoverflow.com/users/2027961/yurij"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1455449770, "post_id": 32705581, "comment_id": 58486479, "body": "@G&#252;nterZ&#246;chbauer thank you. No mention in metadata.ts"}], "tags": [], "owner": {"reputation": 42643, "user_id": 2511783, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/980aca982914967ce7c0fd99e9339b10?s=128&d=identicon&r=PG", "display_name": "alexpods", "link": "https://stackoverflow.com/users/2511783/alexpods"}, "is_accepted": true, "score": 12, "last_activity_date": 1442934259, "last_edit_date": 1442934259, "creation_date": 1442874931, "answer_id": 32705581, "question_id": 32681558, "link": "https://stackoverflow.com/questions/32681558/angular-2-0-whats-the-difference-between-viewquery-and-query/32705581#32705581", "title": "Angular 2.0 - What&#39;s the difference between @ViewQuery and @Query", "body": "<p>First, you must understand what are the Light DOM and Shadow DOM. These terminologies have come from web components. So <a href=\"http://webcomponents.org/polyfills/shadow-dom/\" rel=\"noreferrer\">here is the link</a>. In general:</p>\n\n<ul>\n<li><strong><em>Light DOM</em></strong> - is the DOM that <strong>the end-user of your component</strong> supply into your component.</li>\n<li><strong><em>Shadow DOM</em></strong> - is the internal DOM of your component that is defined <strong>by you</strong> (as a <strong>creator of the component</strong>) and hidden from the end-user.</li>\n</ul>\n\n<p>I think, looking at the next example you can easily understand what is what (<a href=\"http://plnkr.co/edit/zLbED3ITBrJqpPOtXgqj?p=preview\" rel=\"noreferrer\">here is the plunker</a>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'some-component'\n})\n@View({\n  template: `\n    &lt;h1&gt;I am Shadow DOM!&lt;/h1&gt;\n    &lt;h2&gt;Nice to meet you :)&lt;/h2&gt;\n    &lt;ng-content&gt;&lt;/ng-content&gt;\n  `;\n})\nclass SomeComponent { /* ... */ }\n\n@Component({\n  selector: 'another-component'\n})\n@View({\n  directives: [SomeComponent],\n  template: `\n    &lt;some-component&gt;\n      &lt;h1&gt;Hi! I am Light DOM!&lt;/h1&gt;\n      &lt;h2&gt;So happy to see you!&lt;/h2&gt;\n    &lt;/some-component&gt;\n  `\n})\nclass AnotherComponent { /* ... */ }\n</code></pre>\n\n<p>So, the answer for you question is pretty simple:</p>\n\n<blockquote>\n  <p>The difference between <code>Query</code> and <code>ViewQuery</code> is that <code>Query</code> is looking for elements in Light DOM while <code>ViewQuery</code> is looking for them in Shadow DOM.</p>\n</blockquote>\n\n<p><strong>PS</strong> The example shows simple content projection. But <code>&lt;ng-content&gt;</code> can do much more complex things. See <a href=\"https://github.com/angular/angular/issues/2529\" rel=\"noreferrer\">this issue</a>.</p>\n"}], "owner": {"reputation": 7052, "user_id": 1771017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a237a0a267700d248da932e8eb30ce3?s=128&d=identicon&r=PG", "display_name": "jaker", "link": "https://stackoverflow.com/users/1771017/jaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6570, "favorite_count": 3, "accepted_answer_id": 32705581, "answer_count": 1, "score": 7, "last_activity_date": 1455369003, "creation_date": 1442765758, "last_edit_date": 1455369003, "question_id": 32681558, "link": "https://stackoverflow.com/questions/32681558/angular-2-0-whats-the-difference-between-viewquery-and-query", "title": "Angular 2.0 - What&#39;s the difference between @ViewQuery and @Query", "body": "<p>From what I've read in the <a href=\"https://angular.io/docs/js/latest/api/core/QueryList-class.html\" rel=\"noreferrer\">Angular 2 documentation</a> of <code>QueryList</code>, <code>@Query</code> should allow for the ability to inject a reference to a child component into a given component.</p>\n\n<p>Using <code>@QueryView</code> I've managed to get a reference to a child DOM element like so:</p>\n\n<pre><code>// Parent component's template\n&lt;my-component #test&gt;\n\n// Parent component\nclass ParentComponent {\n  constructor(@Query('test') child: QueryList&lt;any&gt;) {...}\n}\n</code></pre>\n\n<p>I expected that <code>@Query</code> may return the matching component rather than the DOM element, but I haven't managed to get it working, nor have I found any documentation that indicates so.</p>\n\n<p>What's the difference between these two decorators?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 7052, "user_id": 1771017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a237a0a267700d248da932e8eb30ce3?s=128&d=identicon&r=PG", "display_name": "jaker", "link": "https://stackoverflow.com/users/1771017/jaker"}, "is_accepted": false, "score": 1, "last_activity_date": 1442787298, "creation_date": 1442787298, "answer_id": 32684867, "question_id": 32681191, "link": "https://stackoverflow.com/questions/32681191/query-not-finding-component-reference/32684867#32684867", "title": "@Query not finding component reference", "body": "<p>As of version <code>2.0.0-alpha.37</code>, to get a reference to a child directive you can use the <code>@ViewQuery</code> decorator, passing the Type of the child component. To get a child DOM element, you can use the <code>@ViewQuery</code> decorator, passing a reference to the element.</p>\n\n<pre><code>@Component({\n  selector: 'Child'\n})\n@View({\n  template: '&lt;h1&gt;I'm a child&lt;/h1&gt;'\n})\nclass Child {}\n\n@Component({\n  selector: 'Parent'\n})\n@View({\n  template: '&lt;child #myComponent&gt;&lt;/child&gt;',\n  directives: [Child]\n})\nclass Parent {\n\n  private childDirectives:QueryList&lt;Child&gt;;\n  private childViews:QueryList&lt;Child&gt;;\n\n  constructor(\n    @ViewQuery(Child) childDirectives:QueryList&lt;Child&gt;,\n    @ViewQuery('myComponent') childViews:QueryList&lt;ElementRef&gt;\n  ) {\n    // A query list of Child components.\n    this.childDirectives = childDirectives;\n    // A query list of views with the id #myComponent.\n    this.childViews = childViews;\n  }\n}\n</code></pre>\n\n<p>I'm not sure what the role of <code>@Query</code> is, nor am I sure whether <code>@ViewQuery</code> accepts any other selectors than IDs. This behaviour doesn't seem to be documented that well, and it seems a little unintuitive - however, it looks like the API is still changing in this area (<a href=\"https://github.com/angular/angular/issues/3922\" rel=\"nofollow\">#3922</a>).</p>\n"}], "owner": {"reputation": 7052, "user_id": 1771017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a237a0a267700d248da932e8eb30ce3?s=128&d=identicon&r=PG", "display_name": "jaker", "link": "https://stackoverflow.com/users/1771017/jaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492782366, "creation_date": 1442763716, "last_edit_date": 1492782366, "question_id": 32681191, "link": "https://stackoverflow.com/questions/32681191/query-not-finding-component-reference", "title": "@Query not finding component reference", "body": "<p>I've created a parent component that uses a child component internally. My aim is for the parent component to use my child components API, but I've been having trouble. Below is my code refined/condensed to the relevant areas.</p>\n\n<pre><code>class TripStop {}\n\n@Component({\n  selector: 'route-map'\n})\n@View({\n  template: '...'\n})\nclass RouteMap {\n\n  setRoute(route: TripStop[]) {\n    // Set the route!\n  }\n\n}\n\n@Component({\n  selector: 'route-plan'\n})\n@View({\n  template: `\n    &lt;div&gt;\n      ...\n      &lt;route-map&gt;&lt;/route-map&gt;\n    &lt;/div&gt;\n  `,\n  directives: [RouteMap]\n})\nclass RoutePlan {\n\n  private stops: TripStop[];\n  private maps:QueryList&lt;RouteMap&gt;;\n\n  constructor(@Query(RouteMap) maps:QueryList&lt;RouteMap&gt;) {\n      this.maps = maps;\n    }\n\n  public addStop() {\n    this.stops.push(new TripStop());\n\n    var routeMapComponent = this.maps.first; // This evaluates to undefined.\n    routeMapComponent.setRoute(this.stops);\n  }\n}\n</code></pre>\n\n<p>So far, I've been unable to get a reference to the child route-map component within my plan-route component. From what I've read on the <a href=\"https://angular.io/docs/js/latest/api/core/QueryList-class.html\" rel=\"nofollow\">Angular 2.0 documentation</a>, it seems as though I should be able to use the <code>@Query</code> decorator to inject a reference to any child components matching the query (as <code>ComponentRef</code> objects).</p>\n\n<p>I've tried both using the component type within the query <code>@Query(RouteMap)</code> and adding an reference to my map element <code>&lt;route-map #myMap&gt;&lt;/route-map&gt;</code> then querying using that <code>@Query('myMap')</code>.</p>\n\n<p>Confusingly, I managed to get the <code>@ViewQuery</code> decorator working and returning a reference to the underly map DOM element by adding a reference to my element &amp; querying using that as described above. That doesn't really help me as I'd rather communicate with my component via it's API than modify it's underlying DOM - however, I think it indicates that the general wiring of my application is working as expected.</p>\n\n<p>What am I missing here?</p>\n\n<p>EDIT: I'm using version <code>2.0.0-alpha.37</code>.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 616, "user_id": 121261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea41e114c7d132e56d7992b157b2e9bb?s=128&d=identicon&r=PG", "display_name": "sax", "link": "https://stackoverflow.com/users/121261/sax"}, "edited": false, "score": 0, "creation_date": 1521871311, "post_id": 32680943, "comment_id": 85926320, "body": "You asked this long time ago - any progress in finding the answer since then?"}, {"owner": {"reputation": 218, "user_id": 2965191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b9dbe7d7d3568c4884b215b6aa7f76?s=128&d=identicon&r=PG", "display_name": "Pajn", "link": "https://stackoverflow.com/users/2965191/pajn"}, "reply_to_user": {"reputation": 616, "user_id": 121261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea41e114c7d132e56d7992b157b2e9bb?s=128&d=identicon&r=PG", "display_name": "sax", "link": "https://stackoverflow.com/users/121261/sax"}, "edited": false, "score": 0, "creation_date": 1522235063, "post_id": 32680943, "comment_id": 86071797, "body": "Basically though a bit more advance than I would like. You will have to build common separately to .d.ts and .js files and use npm link (or, yarn workspaces for maximum comfort) to use common as any other node module"}], "answers": [{"comments": [{"owner": {"reputation": 218, "user_id": 2965191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b9dbe7d7d3568c4884b215b6aa7f76?s=128&d=identicon&r=PG", "display_name": "Pajn", "link": "https://stackoverflow.com/users/2965191/pajn"}, "edited": false, "score": 0, "creation_date": 1442915488, "post_id": 32685505, "comment_id": 53269811, "body": "Whit a single node_modules it&#39;s hard to build a nice artefact as it requires tree shaking to remove the modules that aren&#39;t used in the client or else it would produce a massive output. I would like to solve this in a good way or else I will resort to plain JS. My view is that tests should provide the saftey, types is just for developer comfort."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1442793059, "creation_date": 1442793059, "answer_id": 32685505, "question_id": 32680943, "link": "https://stackoverflow.com/questions/32680943/share-a-common-package-between-server-and-client/32685505#32685505", "title": "Share a common package between server and client", "body": "<blockquote>\n  <p>Is there possible to get typescript to understand this setup or is there a setup that is preffered to this?</p>\n</blockquote>\n\n<p>I tend to just go with a <em>single</em> tsconfig.json with a single <code>node_modules</code>. And then am just careful not to use stuff outside <code>common</code> and <code>client</code> from the frontend. </p>\n\n<p>Its still better than what it would be without the safety of TypeScript. </p>\n"}], "owner": {"reputation": 218, "user_id": 2965191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b9dbe7d7d3568c4884b215b6aa7f76?s=128&d=identicon&r=PG", "display_name": "Pajn", "link": "https://stackoverflow.com/users/2965191/pajn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 755, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1442793059, "creation_date": 1442762281, "question_id": 32680943, "link": "https://stackoverflow.com/questions/32680943/share-a-common-package-between-server-and-client", "title": "Share a common package between server and client", "body": "<p>I want to have the following project setup:\nThree top-level folders client, common and server. All of them is a separate package with its own package.json and node_modules folder.</p>\n\n<p>For the example below I use this structure:</p>\n\n<pre><code>- common\n  - node_modules\n  - package.json\n  - entities.ts\n\n- server\n  - node_modules\n  - package.json\n  - app.ts\n  - tsconfig.json\n</code></pre>\n\n<p>And I try to run tsc in the server folder</p>\n\n<p>Files that should be used by both client and server will be in the common folder and I would like to use ES6 module syntax for importing them from both server and client like <code>import {MyModel} from 'common/entities';</code></p>\n\n<p>The problem is that I can't figure out how to setup typescript to understand this setup.</p>\n\n<p>I have used <code>npm link</code> to make common appear as a normal node_module in the server but the above import generates the error <code>Cannot find module 'common/entities'</code>. I tried adding <code>\"moduleResolution\": \"node\"</code> to <code>compilerOptions</code> without result.</p>\n\n<p>Is there possible to get typescript to understand this setup or is there a setup that is preffered to this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1442793124, "post_id": 32680394, "comment_id": 53215697, "body": "Its all about convenience : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/why-typescript.html\" rel=\"nofollow noreferrer\">basarat.gitbooks.io/typescript/content/docs/why-typescript.h&zwnj;&#8203;tml</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "is_accepted": false, "score": 0, "last_activity_date": 1442760827, "creation_date": 1442760827, "answer_id": 32680709, "question_id": 32680394, "link": "https://stackoverflow.com/questions/32680394/how-to-prevent-assiging-similar-types/32680709#32680709", "title": "How to prevent assiging similar types?", "body": "<p>So it works by design (you can't escape it). From the official documentation:</p>\n\n<p>Classes work similarly to object literal types and interfaces with one exception: they have both a static and an instance type. When comparing two objects of a class type, only members of the instance are compared. Static members and constructors do not affect compatibility.</p>\n\n<pre><code>class Animal {\n    feet: number;\n    constructor(name: string, numFeet: number) { }\n}\n\nclass Size {\n    feet: number;\n    constructor(numFeet: number) { }\n}\n\nvar a: Animal;\nvar s: Size;\n\na = s;  //OK\ns = a;  //OK\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1610, "user_id": 145214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed4e23089f1581820603219baea49d51?s=128&d=identicon&r=PG", "display_name": "Kitson", "link": "https://stackoverflow.com/users/145214/kitson"}, "edited": false, "score": 1, "creation_date": 1442778839, "post_id": 32680710, "comment_id": 53211938, "body": "Agreed, their implementations are different, but their types are the same."}], "tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": false, "score": 5, "last_activity_date": 1442760839, "last_edit_date": 1592644375, "creation_date": 1442760839, "answer_id": 32680710, "question_id": 32680394, "link": "https://stackoverflow.com/questions/32680394/how-to-prevent-assiging-similar-types/32680710#32680710", "title": "How to prevent assiging similar types?", "body": "<p>This is by design, TypeScript won't throw errors if the types match.</p>\n<blockquote>\n<p>One of TypeScript's core principles is that type-checking focuses on the 'shape' that values have. This is sometimes called &quot;duck typing&quot; or &quot;structural subtyping&quot;.</p>\n<p><a href=\"http://www.typescriptlang.org/Handbook#interfaces\" rel=\"noreferrer\">http://www.typescriptlang.org/Handbook#interfaces</a></p>\n</blockquote>\n<p>As a result, this is something that would be checked at runtime.</p>\n<pre><code>var arya: Woman = new Man();\n\nif (arya instanceof Man) {\n    throw new Error(&quot;Dude looks like a lady! *guitar riff*&quot;);\n}\n</code></pre>\n<p>TypeScript understands <code>instanceof</code> so it can be used to cast types as well.</p>\n<pre><code>var jon: Man = new Woman();\n\nif (jon instanceof Man) {\n    // The type of `jon` is Man\n    jon.getFullName();\n}\n\nif (jon instanceof Woman) {\n    // The type of `jon` is Woman\n    jon.getFullName();\n}\n</code></pre>\n<p>Lastly you can also use type guards available in 1.6.</p>\n<pre><code>function isMan(a: Person): a is Man {\n    return a.getFullName().indexOf('Mr. ') !== -1;\n}\n\nvar arya: Woman = new Man();\n\nif(isMan(arya)) {\n    // The type of `arya` is Man\n    arya.getFullName();\n}\n</code></pre>\n"}], "owner": {"reputation": 1830, "user_id": 445438, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/175f5176f5f558ff62acf1a449b0dfbc?s=128&d=identicon&r=PG", "display_name": "budhajeewa", "link": "https://stackoverflow.com/users/445438/budhajeewa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1442760839, "creation_date": 1442758765, "last_edit_date": 1442759083, "question_id": 32680394, "link": "https://stackoverflow.com/questions/32680394/how-to-prevent-assiging-similar-types", "title": "How to prevent assiging similar types?", "body": "<p>How do I prevent TypeScript from allowing assigning similar but different <em>types</em> to a declared variable?</p>\n\n<p>Consider following classes:</p>\n\n<pre><code>class Person {\n private firstName;\n private lastName;\n\n public setFirstName(firstName: string): void {\n  this.firstName = firstName;\n }\n\n public setLastName(lastName: string): void {\n  this.lastName = lastName;\n }\n\n public getFullName(): string {\n  return this.firstName + ' ' + this.lastName;\n }\n}\n\nclass Man extends Person {\n public getFullName(): string {\n  return 'Mr. ' + super.getFullName();\n }\n}\n\nclass Woman extends Person {\n public getFullName(): string {\n  return 'Ms. ' + super.getFullName();\n }\n}\n</code></pre>\n\n<p>Following works:</p>\n\n<pre><code>var jon: Man = new Woman();\nvar arya: Woman = new Man();\n</code></pre>\n\n<p>The reason for above to work is that properties and methods of both <code>Man</code> and <code>Woman</code> types are similar. If I added some property or method unique to either <code>Man</code> or <code>Woman</code>, it'll throw an error as expected.</p>\n\n<p>How do I get TypeScript to throw errors if someone assign different <em>types</em> with similar signatures to variables declared for another <em>type</em>?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1448286319, "post_id": 32679295, "comment_id": 55508603, "body": "Have you solved the problem yet? VSCode also won&#39;t compile for my basic tutorial project, once I start adding modules. Typescript itself does compile to javascript. But I cannot find where to add this &quot;--module&quot; flag."}], "answers": [{"comments": [{"owner": {"reputation": 1770, "user_id": 632011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f83e3180e53d37015a1f7bf1ba45d44a?s=128&d=identicon&r=PG", "display_name": "ghost23", "link": "https://stackoverflow.com/users/632011/ghost23"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1448366398, "post_id": 32681119, "comment_id": 55549047, "body": "Well, it did for me, you probably have a different issue then."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1448541588, "post_id": 32681119, "comment_id": 55636983, "body": "When using VS Code, the flag should be &quot;out&quot; instead of &quot;outDir&quot;. This isn&#39;t documented anywhere it seems."}], "tags": [], "owner": {"reputation": 1770, "user_id": 632011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f83e3180e53d37015a1f7bf1ba45d44a?s=128&d=identicon&r=PG", "display_name": "ghost23", "link": "https://stackoverflow.com/users/632011/ghost23"}, "is_accepted": true, "score": 0, "last_activity_date": 1442763330, "creation_date": 1442763330, "answer_id": 32681119, "question_id": 32679295, "link": "https://stackoverflow.com/questions/32679295/typescript-cannot-compile-modules-unless-the-module-flag-is-provided/32681119#32681119", "title": "Typescript - &quot;Cannot compile modules unless the &#39;--module&#39; flag is provided.&quot;", "body": "<p>oh man, this is too silly. The comma at</p>\n\n<p>\"sourceMap\": true,</p>\n\n<p>is wrong, of course.</p>\n"}], "owner": {"reputation": 1770, "user_id": 632011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f83e3180e53d37015a1f7bf1ba45d44a?s=128&d=identicon&r=PG", "display_name": "ghost23", "link": "https://stackoverflow.com/users/632011/ghost23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2576, "favorite_count": 0, "accepted_answer_id": 32681119, "answer_count": 1, "score": 3, "last_activity_date": 1442763330, "creation_date": 1442751294, "question_id": 32679295, "link": "https://stackoverflow.com/questions/32679295/typescript-cannot-compile-modules-unless-the-module-flag-is-provided", "title": "Typescript - &quot;Cannot compile modules unless the &#39;--module&#39; flag is provided.&quot;", "body": "<p>In a typescript project (using tsc 1.6.2, sublime 3 with the Typescript plugin 0.1.8) I have this typescript file:</p>\n\n<pre><code>/// &lt;reference path=\"../../typings/estree/estree.d.ts\" /&gt;\n\nexport interface NodeWorker {\n\n   nodeTypeFilters: Array&lt;string&gt;;\n\n   enterNode(node: ESTree.Node, parent?: ESTree.Node): void;\n   leaveNode(node: ESTree.Node, parent?: ESTree.Node): void;\n}\n</code></pre>\n\n<p>I also have this tsconfig.json:</p>\n\n<pre><code>{\n   \"compilerOptions\": {\n       \"module\": \"commonjs\",\n       \"noImplicitAny\": true,\n       \"listFiles\": true,\n       \"removeComments\": true,\n       \"preserveConstEnums\": true,\n       \"rootDir\": \"./src\",\n       \"outDir\": \"../built/\",\n       \"sourceMap\": true,\n   }\n}\n</code></pre>\n\n<p>I have several other .ts files, which utilize imports and exports, but only on the file with the NodeWorker I get the error: \"Cannot compile modules unless the '--module' flag is provided.\" on the export statement.</p>\n\n<p>I cannot see the problem.</p>\n"}, {"tags": ["node.js", "express", "typescript", "typescript1.6"], "answers": [{"tags": [], "owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "is_accepted": false, "score": 2, "last_activity_date": 1596936008, "last_edit_date": 1596936008, "creation_date": 1446392219, "answer_id": 33463924, "question_id": 32678496, "link": "https://stackoverflow.com/questions/32678496/express-js-routes-with-typescript/33463924#33463924", "title": "Express.js routes with Typescript", "body": "<p>I hope this will help you.</p>\n<pre><code>export class Admin implements IRoute {\n    path: string;\n    stack: any;\n    constructor() {\n        this.path = '/api/Admin';\n    }\n\n    all(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n    get(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n    post(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n    put(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n    delete(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n    patch(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n    options(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n    head(handerl: RequestHandler): any {\n        return &lt;IRoute&gt;this;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 660, "user_id": 2212899, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-3KTifyH5iCg/AAAAAAAAAAI/AAAAAAAAAS4/PeHF8FiS8Bw/photo.jpg?sz=128", "display_name": "chrisber", "link": "https://stackoverflow.com/users/2212899/chrisber"}, "is_accepted": true, "score": 5, "last_activity_date": 1470052582, "creation_date": 1470052582, "answer_id": 38698264, "question_id": 32678496, "link": "https://stackoverflow.com/questions/32678496/express-js-routes-with-typescript/38698264#38698264", "title": "Express.js routes with Typescript", "body": "<p>Finally a solution emerged:</p>\n\n<p>routing-controllers\nAllows to create controller classes with methods as actions that handle requests. You can use routing-controllers with express.js or koa.js.\n<a href=\"https://github.com/pleerock/routing-controllers\" rel=\"noreferrer\">https://github.com/pleerock/routing-controllers</a></p>\n"}], "owner": {"reputation": 660, "user_id": 2212899, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-3KTifyH5iCg/AAAAAAAAAAI/AAAAAAAAAS4/PeHF8FiS8Bw/photo.jpg?sz=128", "display_name": "chrisber", "link": "https://stackoverflow.com/users/2212899/chrisber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6106, "favorite_count": 1, "accepted_answer_id": 38698264, "answer_count": 2, "score": 3, "last_activity_date": 1596936008, "creation_date": 1442746251, "question_id": 32678496, "link": "https://stackoverflow.com/questions/32678496/express-js-routes-with-typescript", "title": "Express.js routes with Typescript", "body": "<p>I want to use <a href=\"http://expressjs.com/guide/routing.html\" rel=\"nofollow\">Express.js</a> with Typescript to specify the code more modular/OO.</p>\n\n<p>I want to implement a Route/Controller by implementing the IRoute interface and then adding the new Route to app.use().</p>\n\n<p>The problem I'm facing is that each operation (get,post,put,delete) itself returns the IRoute interface and I'm not sure what to return to. To return \n<code>return &lt;IRoute&gt; this;</code> in an operation is not working.</p>\n\n<p>The typescript compiler response with the following error message:</p>\n\n<blockquote>\n  <p>Class MessurmentsController incorrectly implements interface IRoute. Types of property <code>all</code> are incomatible. Type <code>(req: Request, res: Response, next: Function) =&gt; void</code> is not assignable to <code>type (...handler: RequestHandler[]): IRoute</code>. Types of parameters <code>req</code> and <code>handler</code> are incomatible. Type <code>Request</code> is not assignable to type <code>RequestHandler</code>.</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/// &lt;reference path=\"../../../typings/tsd.d.ts\" /&gt;\r\n\r\nimport {IRoute, Request,Response}  from 'express';\r\n\r\n\r\nexport class MeasurementsController implements IRoute {\r\n\tpath: string;\r\n\tstack: any;\r\n\t\r\n\tconstructor(){\r\n\t\tthis.path = \"/api/measurements\"\r\n\t}\r\n\t\r\n\t\r\n\tall(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n        //return &lt;IRoute&gt; this;\r\n\t}\r\n\t\r\n\tget(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n\t}\r\n\t\r\n\tpost(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n\t}\r\n\t\r\n\tput(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n\t}\r\n\t\r\n\tdelete(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n\t}\r\n\tpatch(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n\t}\r\n\toptions(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n\t}\r\n\thead(req: Request, res: Response, next: Function){\r\n\t\tres.send('');\r\n\t}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The Route in d.ts is defined as </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    module e {\r\n        interface IRoute {\r\n            path: string;\r\n            stack: any;\r\n            all(...handler: RequestHandler[]): IRoute;\r\n            get(...handler: RequestHandler[]): IRoute;\r\n            post(...handler: RequestHandler[]): IRoute;\r\n            put(...handler: RequestHandler[]): IRoute;\r\n            delete(...handler: RequestHandler[]): IRoute;\r\n            patch(...handler: RequestHandler[]): IRoute;\r\n            options(...handler: RequestHandler[]): IRoute;\r\n            head(...handler: RequestHandler[]): IRoute;\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any Idea of what I need to return in an operation to get this working?</p>\n"}, {"tags": ["typescript", "encapsulation", "angularjs-service", "angularjs-factory", "typescript1.6"], "comments": [{"owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "edited": false, "score": 0, "creation_date": 1442759015, "post_id": 32677813, "comment_id": 53205317, "body": "You can find more information here: <a href=\"http://stackoverflow.com/questions/12713659/typescript-private-members\">stackoverflow - TypeScript private members</a>, and particularly here <a href=\"https://typescript.codeplex.com/discussions/397651\" rel=\"nofollow noreferrer\">TypeScript Codeplex - Private Variables</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1442793332, "creation_date": 1442793332, "answer_id": 32685536, "question_id": 32677813, "link": "https://stackoverflow.com/questions/32677813/encapsulation-in-typescript-private-functions-in-classes-angular-services-and/32685536#32685536", "title": "Encapsulation in typescript - private functions in classes? Angular services and factories", "body": "<blockquote>\n  <p>What is the correct way to achieve encapsulation in TypeScript? What is the best practice to combine this with AngularJS factories/services?</p>\n</blockquote>\n\n<p><code>private</code> is not possible to implement if you want <em>inheritance</em> to work reliably in JavaScript. </p>\n\n<p>However you can just use the revealing module pattern (and forgo inheritance / prototype) e.g. : </p>\n\n<pre><code>function foo(){\n    let private = 123;\n\n    return {\n        getPrivate() { return private; },\n        setPrivate(val: number) { private = val; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 956, "user_id": 3836205, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a8fcaa9aae1f958bedebdb3a4e9b01b9?s=128&d=identicon&r=PG&f=1", "display_name": "tome", "link": "https://stackoverflow.com/users/3836205/tome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1584, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1563817070, "creation_date": 1442741285, "question_id": 32677813, "link": "https://stackoverflow.com/questions/32677813/encapsulation-in-typescript-private-functions-in-classes-angular-services-and", "title": "Encapsulation in typescript - private functions in classes? Angular services and factories", "body": "<p>I have a minesweeper game that I wrote in JS, and am now trying to convert to typescript. In this game I implemented a 'GameFactory', which contains a lot of private functions and only exports what needs to be public. There is something quite basic that I seem to be misunderstanding regarding typescript's approach.    </p>\n\n<p>In essence, from what I gather, typescript does not support <strong>real</strong> private variables inside of a class, unless they're in either the constructor or in a module. By <strong>real</strong> private I am referring to variables that would not be available on the object, and not to the private keyword.  </p>\n\n<p>What is the correct way to achieve encapsulation in TypeScript? What is the best practice to combine this with AngularJS factories/services? Of course, I could just place all of my code inside of the constructor function, thus achieving regular JS function-scoped encapsulation, but this seems wrong to me, because it does not really use TypeScript's powers.<br>\nLike I said, I am trying to really understand the TypeScript paradigm regarding these issues, if someone can point me in the right direction that would be great, because I searched and was unable to find a good explanation to these issues</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "commonjs", "typescript1.6"], "comments": [{"owner": {"reputation": 13874, "user_id": 796584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6037cef880b523d973e091cc2eae8c41?s=128&d=identicon&r=PG", "display_name": "AlexStack", "link": "https://stackoverflow.com/users/796584/alexstack"}, "edited": false, "score": 0, "creation_date": 1442740391, "post_id": 32676952, "comment_id": 53200196, "body": "Seems like a pathing issue. If not, can you provide a brief example from the auto generated modules and mention the paths they are saved relevant to the file that uses them?"}, {"owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "reply_to_user": {"reputation": 13874, "user_id": 796584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6037cef880b523d973e091cc2eae8c41?s=128&d=identicon&r=PG", "display_name": "AlexStack", "link": "https://stackoverflow.com/users/796584/alexstack"}, "edited": false, "score": 0, "creation_date": 1442775164, "post_id": 32676952, "comment_id": 53210690, "body": "it is not a pathing issue. as i described, the issue simply is that a &#39;typescript&#39; module has not been declared for the above module, which is obvious since it was auto generated. the question asks how to suppress typescript errors for modules without typescript definition."}], "answers": [{"comments": [{"owner": {"reputation": 704, "user_id": 777652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UrjVT.jpg?s=128&g=1", "display_name": "Hunkpapa", "link": "https://stackoverflow.com/users/777652/hunkpapa"}, "edited": false, "score": 2, "creation_date": 1450209209, "post_id": 32685547, "comment_id": 56338101, "body": "Sending code love in your direction. I struggled with this for quite some time"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 8, "last_activity_date": 1442793425, "creation_date": 1442793425, "answer_id": 32685547, "question_id": 32676952, "link": "https://stackoverflow.com/questions/32676952/how-to-import-in-typescript-without-module-declaration/32685547#32685547", "title": "How to import in Typescript without module declaration", "body": "<blockquote>\n  <p>How do i make it suppress this error and import</p>\n</blockquote>\n\n<p>If you are sure that the <code>require</code> statement is <em>valid</em> and want to switch off any <em>type checking</em> on the import, you can just use <code>node.d.ts</code> and do: </p>\n\n<pre><code>var test = require('../templates/test')\n</code></pre>\n\n<p>ie. just use <code>var</code> instead of <code>import</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 1121116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85349af197172b5845b7ab32e5f83020?s=128&d=identicon&r=PG", "display_name": "Wassim Chegham", "link": "https://stackoverflow.com/users/1121116/wassim-chegham"}, "is_accepted": false, "score": 0, "last_activity_date": 1456533506, "creation_date": 1456533506, "answer_id": 35664231, "question_id": 32676952, "link": "https://stackoverflow.com/questions/32676952/how-to-import-in-typescript-without-module-declaration/35664231#35664231", "title": "How to import in Typescript without module declaration", "body": "<p>If you want to use TypeScript imports (which are just ES6 imports), you could use this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as test from '../templates/test';\n</code></pre>\n\n<p>and then call your API like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let foo = test.MY_API;\n</code></pre>\n"}], "owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3810, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1456533506, "creation_date": 1442734500, "question_id": 32676952, "link": "https://stackoverflow.com/questions/32676952/how-to-import-in-typescript-without-module-declaration", "title": "How to import in Typescript without module declaration", "body": "<p>I have a bunch of autogenerated modules that i need to reference from my typescript files.</p>\n\n<p>Eg</p>\n\n<pre>\nimport test = require('../templates/test')\n</pre>\n\n<p>I am generating CommonJS modules with ES5 output.\nSo I cant use <code>amd-dependency</code> (since that works for amd modules only). \nAnd I also cannot manually declare the module since 1. it is autogenerated and 2. it has a relative path.</p>\n\n<p>Typescript 1.6 currently shows an error saying it 'Cannot find module'. How do i make it suppress this error and import?</p>\n"}, {"tags": ["javascript", "typescript", "babylonjs"], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 2305723, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/23e6e73c52938ec01c706097cf4e8943?s=128&d=identicon&r=PG", "display_name": "efel", "link": "https://stackoverflow.com/users/2305723/efel"}, "edited": false, "score": 0, "creation_date": 1442724670, "post_id": 32675581, "comment_id": 53196987, "body": "I see.. so i guess when you create an anonymous function it does not know which &quot;this&quot; to use.. Document or Class?  Am i on the right track here? Trying to explain this so if someone looked this up they would understand why it worked.  Thanks for the help though, this worked. I will be marking it as fixed."}, {"owner": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "reply_to_user": {"reputation": 876, "user_id": 2305723, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/23e6e73c52938ec01c706097cf4e8943?s=128&d=identicon&r=PG", "display_name": "efel", "link": "https://stackoverflow.com/users/2305723/efel"}, "edited": false, "score": 1, "creation_date": 1442725785, "post_id": 32675581, "comment_id": 53197163, "body": "@efel If you&#39;re creating a simple annonymous function, the context (<code>this</code> keyword) will be always the global scope (usually, in browsers, the global scope is the <code>window</code> object). When you use an arrow function, the context will be always the same context as you already are, so, if you&#39;re inside a method of a class, the context will be the object (instance of that class), and the arrow function&#39;s context will be the same. Before, when there was no arrow function, the workaround was to create a local variable to ~save~ the context, and then use it inside the annonymous function."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "edited": false, "score": 1, "creation_date": 1442725854, "post_id": 32675581, "comment_id": 53197179, "body": "The way I would use to explain it is - TS compiler will create <code>var _this = this;</code> and later use it inside of generated arrow function <code>=&gt;</code>. So, what was <b>this</b> outside is now this inside... read more about arrow functions... to make it really clear ;)"}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 3, "last_activity_date": 1442720751, "creation_date": 1442720751, "answer_id": 32675581, "question_id": 32675549, "link": "https://stackoverflow.com/questions/32675549/typescript-class-cannot-find-this-variable/32675581#32675581", "title": "typescript class cannot find &quot;this&quot; variable?", "body": "<p>I guess that you are almost there. Arrow function <em>( <code>=&gt;</code> )</em> syntax is what we need, but even on the <code>BABYLON.SceneLoader.ImportMesh</code> call:</p>\n\n<pre><code>BABYLON.SceneLoader\n    .ImportMesh(this.buildingId, \"models/\",\"tree.babylon\", scene, \n        function (newMeshes) {\n         ...\n         // here we do not have this kept by TS for us\n});\n</code></pre>\n\n<p>we should use</p>\n\n<pre><code>BABYLON.SceneLoader\n    .ImportMesh(this.buildingId, \"models/\",\"tree.babylon\", scene, \n        (newMeshes) =&gt; {\n         ...\n         // here the magic would happen again\n         // and compiler will keep this to be what we expect\n});\n</code></pre>\n"}], "owner": {"reputation": 876, "user_id": 2305723, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/23e6e73c52938ec01c706097cf4e8943?s=128&d=identicon&r=PG", "display_name": "efel", "link": "https://stackoverflow.com/users/2305723/efel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 32675581, "answer_count": 1, "score": 2, "last_activity_date": 1442720827, "creation_date": 1442720390, "last_edit_date": 1442720827, "question_id": 32675549, "link": "https://stackoverflow.com/questions/32675549/typescript-class-cannot-find-this-variable", "title": "typescript class cannot find &quot;this&quot; variable?", "body": "<p>I'm using babylonjs library and created a \"Building\" class with typescript. Using typescript for the whole thing BTW.  I create this new \"Building\" from my main game.ts \"Game\" class and when trying to access a member of \"Building\" I get \"undefined\" variable errors.  However this only happens within another class method but seems work correctly in the constructor.  I'm assuming it has something to do with the \"this\" scoping in javascript/typescript. I have tried modifying the function by doing:</p>\n\n<pre><code>Create = ...(...)=&gt; {\n   ...\n</code></pre>\n\n<p>I have tried creating the variable via:</p>\n\n<pre><code>private rect: = () =&gt; Rectangle\n</code></pre>\n\n<p>but this still does not work</p>\n\n<p>Is this really an issue with \"this\" scoping because nothing seems to be working.\nBelow I marked exactly where this variable works and where this doesnt work.</p>\n\n<pre><code>class Building {\n\n    private rect : Rectangle\n    private buildingMesh:string[]\n    private buildingId:string\n\n    constructor(rect: Rectangle, id:string) {\n\n      this.rect = rect\n      console.log(\"TL in b const: \" + this.rect.topLeft.x) // &lt;--- This works here\n      this.buildingId = id\n\n    }\n\n    Create(scene:BABYLON.Scene) {\n\n      BABYLON.SceneLoader.ImportMesh(this.buildingId, \"models/\",\"tree.babylon\", scene, function (newMeshes) {\n\n          var idx = 0\n\n          console.log(\"TL in b: \" + this.rect.topLeft.x) // &lt;--- this gives me undefined\n          var wall =newMeshes[0].createInstance(this.buildingId + idx) \n          wall.position.x = this.rect.topLeft.x\n          wall.position.y = this.rect.topLeft.y\n          this.buildingMesh.push(this.buildingId + idx)\n          idx++\n      });\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 13874, "user_id": 796584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6037cef880b523d973e091cc2eae8c41?s=128&d=identicon&r=PG", "display_name": "AlexStack", "link": "https://stackoverflow.com/users/796584/alexstack"}, "edited": false, "score": 1, "creation_date": 1442740567, "post_id": 32674475, "comment_id": 53200240, "body": "<a href=\"http://stackoverflow.com/questions/32380131/how-do-i-use-typescript-1-6-with-visual-studio-code-to-get-generators-support\" title=\"how do i use typescript 1 6 with visual studio code to get generators support\">stackoverflow.com/questions/32380131/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 5365918, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/92c915e1b13e7a88cfa7db8a308526b0?s=128&d=identicon&r=PG", "display_name": "Sean McBReen", "link": "https://stackoverflow.com/users/5365918/sean-mcbreen"}, "is_accepted": true, "score": 2, "last_activity_date": 1444099023, "last_edit_date": 1444099023, "creation_date": 1442977743, "answer_id": 32730321, "question_id": 32674475, "link": "https://stackoverflow.com/questions/32674475/how-to-enable-latest-typescript-language-service-in-vs-code/32730321#32730321", "title": "How to enable latest TypeScript Language Service in VS Code?", "body": "<p><a href=\"https://code.visualstudio.com/Updates#_languages-typescript-16-support\" rel=\"nofollow\">https://code.visualstudio.com/Updates#_languages-typescript-16-support</a></p>\n\n<p>To enable 1.6 follow those directions.  Repeated here for brevity...</p>\n\n<p>VS Code uses TypeScript 1.5 in the box. If you want to use a newer version of TypeScript, you can define the typescript.tsdk setting. The value of this setting is the absolute path to the lib folder of a TypeScript installation. This folder contains the file tsserver.js and the corresponding lib.*.d.ts files. Refer to <a href=\"http://blogs.msdn.com/b/typescript/archive/2015/07/27/introducing-typescript-nightlies.aspx\" rel=\"nofollow\">this</a> blog post for how to install the nightly builds of TypeScript.</p>\n\n<p>These setting are experimental i.e. bad things could happen :)</p>\n"}], "owner": {"reputation": 12596, "user_id": 450913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8697727ab104f2d1307c0736fff5ec03?s=128&d=identicon&r=PG", "display_name": "orad", "link": "https://stackoverflow.com/users/450913/orad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1969, "favorite_count": 0, "accepted_answer_id": 32730321, "answer_count": 1, "score": 2, "last_activity_date": 1444099023, "creation_date": 1442708287, "last_edit_date": 1495540763, "question_id": 32674475, "link": "https://stackoverflow.com/questions/32674475/how-to-enable-latest-typescript-language-service-in-vs-code", "title": "How to enable latest TypeScript Language Service in VS Code?", "body": "<p>Visual Studio Code runs whatever TypeScript version that it's shipped with (currently v1.5). If I use some experimental compiler features such as AsyncFunctions then it will complain. Some other answers on SO <a href=\"https://stackoverflow.com/q/29972103/450913\">say</a> how to make VS Code to build project with a different version of TS, but I can't find an answer on how to make Language Service actually use the newer version.</p>\n"}, {"tags": ["typescript", "visual-studio-2015", "tsconfig"], "answers": [{"tags": [], "owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "is_accepted": true, "score": 3, "last_activity_date": 1442708329, "creation_date": 1442708329, "answer_id": 32674482, "question_id": 32673441, "link": "https://stackoverflow.com/questions/32673441/how-to-output-type-definitions-in-vs2015-community/32674482#32674482", "title": "How to output type definitions in vs2015 community", "body": "<p>So the <code>declaration</code> option can be either <code>true</code> or <code>false</code>.\nCheck out <a href=\"http://json.schemastore.org/tsconfig\" rel=\"nofollow\">the tsconfig.json schema</a>.</p>\n"}], "owner": {"reputation": 2483, "user_id": 1157173, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QN3pZ.png?s=128&g=1", "display_name": "Dorad", "link": "https://stackoverflow.com/users/1157173/dorad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "accepted_answer_id": 32674482, "answer_count": 1, "score": 0, "last_activity_date": 1442708329, "creation_date": 1442698351, "question_id": 32673441, "link": "https://stackoverflow.com/questions/32673441/how-to-output-type-definitions-in-vs2015-community", "title": "How to output type definitions in vs2015 community", "body": "<p>I am trying to output types definition(appBundle.d.ts) file in vs2015 community.\nI have seen that there is a compiler option '--declaration', so i tried to just add it into the tsconfig.json file like following:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"declaration\": \"www/scripts/appBundle.d.ts\", // &lt;------\n        \"noImplicitAny\": false,\n        \"noEmitOnError\": true,\n        \"removeComments\": false,\n        \"sourceMap\": true,\n        \"out\": \"www/scripts/appBundle.js\",\n        \"target\": \"es5\"\n    }\n}\n</code></pre>\n\n<p>But it's not working; the appBundle.js is beeing generated as expected, but appBundle.d.ts is not showing up.</p>\n"}, {"tags": ["installation", "typescript", "ionic"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5840004"}, "is_accepted": false, "score": 1, "last_activity_date": 1453779462, "creation_date": 1453779462, "answer_id": 35006688, "question_id": 32671148, "link": "https://stackoverflow.com/questions/32671148/ionic-typescript-installation-ubuntu/35006688#35006688", "title": "ionic typescript installation ubuntu", "body": "<p>You may try this example:<a href=\"https://github.com/anchann/angularjs-typescript-e2e\" rel=\"nofollow\">https://github.com/anchann/angularjs-typescript-e2e</a>.</p>\n\n<p>You have to have a separate grunt task running that watches your .ts files and compiles them into the tslib.js.</p>\n"}, {"comments": [{"owner": {"reputation": 1589, "user_id": 7521686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UDBYX71fG0s/AAAAAAAAAAI/AAAAAAAACk4/hZf1PXHUCRA/photo.jpg?sz=128", "display_name": "Calos", "link": "https://stackoverflow.com/users/7521686/calos"}, "edited": false, "score": 0, "creation_date": 1581400403, "post_id": 60162530, "comment_id": 106410227, "body": "It&#39;s better to include some description of your problem rather than just pasting the command."}], "tags": [], "owner": {"reputation": 104, "user_id": 12529204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYNlV.jpg?s=128&g=1", "display_name": "Deepak Kumar", "link": "https://stackoverflow.com/users/12529204/deepak-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1581401758, "last_edit_date": 1581401758, "creation_date": 1581398968, "answer_id": 60162530, "question_id": 32671148, "link": "https://stackoverflow.com/questions/32671148/ionic-typescript-installation-ubuntu/60162530#60162530", "title": "ionic typescript installation ubuntu", "body": "<p>Some times the dependency does not install in the same, what happens, when you install ionic then typescript automatically install as a dependency, \nI suggest you run this command to install manually typescript dependency.</p>\n\n<pre><code>sudo npm install -g typescript\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5354178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c11fdea21a84361f69bb58a384335f?s=128&d=identicon&r=PG&f=1", "display_name": "ioionic", "link": "https://stackoverflow.com/users/5354178/ioionic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1581401758, "creation_date": 1442683487, "question_id": 32671148, "link": "https://stackoverflow.com/questions/32671148/ionic-typescript-installation-ubuntu", "title": "ionic typescript installation ubuntu", "body": "<p>I installed ionic and cordova.\nI created the ionic project </p>\n\n<blockquote>\n  <p>ionic start myapp blank</p>\n</blockquote>\n\n<p>I added gulp-tsc on my project</p>\n\n<blockquote>\n  <p>npm install gulp-tsc</p>\n</blockquote>\n\n<p>I edited gulpfile.js at the root of the ionic project : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var gulp = require('gulp');\r\nvar gutil = require('gulp-util');\r\nvar bower = require('bower');\r\nvar concat = require('gulp-concat');\r\nvar sass = require('gulp-sass');\r\nvar minifyCss = require('gulp-minify-css');\r\nvar rename = require('gulp-rename');\r\nvar sh = require('shelljs');\r\nvar typescript = require('gulp-tsc');\r\n\r\nvar paths = {\r\n  sass: ['./scss/**/*.scss']\r\n  typescript: ['./www/scripts/**/*.ts']\r\n};\r\n\r\ngulp.task('default', ['sass', 'compile']);\r\n\r\nfunction compileTypeScript(done) {\r\n\tgulp.src(paths.typescript)\r\n\t.pipe(typescript({ sourcemap: true, out: 'tslib.js', sourceRoot: '../scripts' }))\r\n\t.pipe(gulp.dest('./www/js/'))\r\n\t.on('end', done);\r\n}\r\n\r\ngulp.task('compile', compileTypeScript);\r\n\r\ngulp.task('sass', function(done) {\r\n  gulp.src('./scss/ionic.app.scss')\r\n    .pipe(sass({\r\n      errLogToConsole: true\r\n    }))\r\n    .pipe(gulp.dest('./www/css/'))\r\n    .pipe(minifyCss({\r\n      keepSpecialComments: 0\r\n    }))\r\n    .pipe(rename({ extname: '.min.css' }))\r\n    .pipe(gulp.dest('./www/css/'))\r\n    .on('end', done);\r\n});\r\n\r\ngulp.task('watch', function() {\r\n  compileTypeScript();\r\n  gulp.watch(paths.sass, ['sass']);\r\n  gulp.watch(paths.typescript, ['compile']);\r\n});\r\n\r\ngulp.task('install', ['git-check'], function() {\r\n  return bower.commands.install()\r\n    .on('log', function(data) {\r\n      gutil.log('bower', gutil.colors.cyan(data.id), data.message);\r\n    });\r\n});\r\n\r\ngulp.task('git-check', function(done) {\r\n  if (!sh.which('git')) {\r\n    console.log(\r\n      '  ' + gutil.colors.red('Git is not installed.'),\r\n      '\\n  Git, the version control system, is required to download Ionic.',\r\n      '\\n  Download git here:', gutil.colors.cyan('http://git-scm.com/downloads') + '.',\r\n      '\\n  Once git is installed, run \\'' + gutil.colors.cyan('gulp install') + '\\' again.'\r\n    );\r\n    process.exit(1);\r\n  }\r\n  done();\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I added a simple ts file on www/scripts folder (a class), and when I run ionic serve, tslib.js is not generated. I don't have any error.\nWhat I missed to do to generate the js file from ts files ?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "compilation", "gruntjs", "typescript", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 1555, "user_id": 529698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9JQUy.png?s=128&g=1", "display_name": "DigitalDesignDj", "link": "https://stackoverflow.com/users/529698/digitaldesigndj"}, "is_accepted": false, "score": 1, "last_activity_date": 1442680237, "creation_date": 1442680237, "answer_id": 32670594, "question_id": 32670540, "link": "https://stackoverflow.com/questions/32670540/typescript-compile-files-without-mirroring-the-directory-hierarchy/32670594#32670594", "title": "Typescript: Compile files without mirroring the directory hierarchy", "body": "<p>I think you need to give Gulp or another task runner a look. You will need a few steps to achieve what you are looking for.</p>\n\n<ul>\n<li>Compile Typescript </li>\n<li>Concatenate the files</li>\n<li>Cleanup the extra files</li>\n</ul>\n\n<p>I use a similar system with CoffeeScript and it works well.</p>\n"}, {"comments": [{"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1472126344, "post_id": 32677746, "comment_id": 65633325, "body": "I tried <code>gulp-flatten</code> to flatten the output of a TypeScript compilation but I ended up with a messed up sourcemap. The problem was not <i>immediately</i> evident because the sourcemap was created but when I tried actually using it, it did not work. When I looked closer, one of the symptoms of the problem was that the sourcemap produced by tsc contained a <code>sourcesContent</code> field, but after flattening, it was gone."}], "tags": [], "owner": {"reputation": 13874, "user_id": 796584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6037cef880b523d973e091cc2eae8c41?s=128&d=identicon&r=PG", "display_name": "AlexStack", "link": "https://stackoverflow.com/users/796584/alexstack"}, "is_accepted": false, "score": 1, "last_activity_date": 1442740838, "creation_date": 1442740838, "answer_id": 32677746, "question_id": 32670540, "link": "https://stackoverflow.com/questions/32670540/typescript-compile-files-without-mirroring-the-directory-hierarchy/32677746#32677746", "title": "Typescript: Compile files without mirroring the directory hierarchy", "body": "<p>Gulp should work. You can use <a href=\"https://github.com/armed/gulp-flatten\" rel=\"nofollow\">the <code>flatten</code> plugin</a>:</p>\n\n<p>I would use gulp-flatten:</p>\n\n<pre><code>var flatten = require('gulp-flatten');\ngulp.task('compile', function() {\n  gulp.src('src/**/*.ts')\n   .pipe(tsc())                    //compile them\n   .pipe(flatten())                //change their relative path to point to one dir\n   .pipe(gulp.dest('build'));      //write them in destination\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1444407935, "post_id": 32678014, "comment_id": 53906830, "body": "I&#39;ve moved your solution from the question to your answer. Please do not post solutions in questions."}], "tags": [], "owner": {"reputation": 485, "user_id": 4337840, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da6cf8e7746ccaa81308a29ec90388b6?s=128&d=identicon&r=PG&f=1", "display_name": "Toshkuuu", "link": "https://stackoverflow.com/users/4337840/toshkuuu"}, "is_accepted": true, "score": 1, "last_activity_date": 1444407867, "last_edit_date": 1444407867, "creation_date": 1442742677, "answer_id": 32678014, "question_id": 32670540, "link": "https://stackoverflow.com/questions/32670540/typescript-compile-files-without-mirroring-the-directory-hierarchy/32678014#32678014", "title": "Typescript: Compile files without mirroring the directory hierarchy", "body": "<p>I've figured it out. I made a custom <code>Grunt</code> task which is not optimal but does the job.</p>\n\n<pre><code>module.exports = function(grunt) {\n    grunt.loadNpmTasks(\"grunt-typescript\");\n    grunt.loadNpmTasks(\"grunt-contrib-watch\");\n    grunt.loadNpmTasks('grunt-copy');\n    grunt.loadNpmTasks('grunt-contrib-clean');\n\n    grunt.initConfig({\n        typescript: {\n            base: {\n                src: ['./client/**/*.ts'],\n                dest: './temp',\n                options: {\n                    'module': 'commonjs',\n                    target: 'es5',\n                    sourceMap: true\n                }\n            }\n        },\n        copy: {\n            main: {\n                files: [\n                    {\n                        src: ['./temp/**/*.js', './temp/**/*.js.map'],\n                        dest: './build/',\n                        flatten: true,\n                        expand: true\n                    }\n                ]\n            }\n        },\n        clean: [\n            './temp'\n        ],\n        watch: {\n            scripts: {\n                files: ['./client/**/*.ts'],\n                tasks: ['typescript', 'copy', 'clean']\n            }\n        }\n  });\n\n  grunt.registerTask(\"default\", ['typescript', 'copy', 'clean', 'watch']);\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": false, "score": 1, "last_activity_date": 1442842500, "last_edit_date": 1442842500, "creation_date": 1442841968, "answer_id": 32696473, "question_id": 32670540, "link": "https://stackoverflow.com/questions/32670540/typescript-compile-files-without-mirroring-the-directory-hierarchy/32696473#32696473", "title": "Typescript: Compile files without mirroring the directory hierarchy", "body": "<h1><strong>VS Code support two way of typescript compilation:</strong></h1>\n\n<ol>\n<li>Native compilation using <strong><em>tsconfig</em></strong></li>\n<li>Using JavaScript <em>Task Runner</em> such as <strong>Gulp</strong> or <strong>Grunt</strong></li>\n</ol>\n\n<h2>Native compilation using <strong><em>tsconfig</em></strong></h2>\n\n<ol>\n<li>Create file tsconfig.json in root dir\n<a href=\"https://i.stack.imgur.com/1Vu46.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Vu46.png\" alt=\"enter image description here\"></a></li>\n<li><p>Put next configuration in it</p>\n\n<pre><code> {\n   \"version\": \"1.6.0-beta\",\n   \"compilerOptions\": {\n      \"target\": \"es5\",\n      \"declaration\": true,\n      \"noImplicitAny\": false,\n      \"removeComments\": true,\n      \"noLib\": false,\n      \"emitDecoratorMetadata\": true,\n      \"sourceMap\": true,\n      \"listFiles\": true,\n      \"outDir\": \"\",\n      \"out\": \"./Compiled/mycompiled.js\", // here specify your output file( it would be contain all your compiled ts file in one) \n      \"experimentalDecorators\": true\n   },\n   \"files\": [ // file list (optional)\n     \"somefile.ts\"\n   ]\n}\n</code></pre></li>\n<li><p>Configure VS Code task runner\n<a href=\"https://i.stack.imgur.com/0wqpB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0wqpB.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n\n<h2>Using JavaScript <em>Task Runner</em> such as <strong>Gulp</strong> or <strong>Grunt</strong></h2>\n\n<p>Current example show how you should modify your <strong>gulpfile.js</strong> to compile your project using <a href=\"https://www.npmjs.com/package/gulp-typescript\" rel=\"nofollow noreferrer\">gulp-typescript</a></p>\n\n<pre><code>gulp.task('build', function () {\n    var tsResult = gulp.src('src/**/*.ts') // here specify your file location or folders\n                     .pipe(ts({ // gulp-typescript configuration\n                               noImplicitAny: true,\n                               out: 'output.js'// here specify your output file( it would be contain all your compiled ts file in one) \n                              }));\n\n    return \n        tsResult.js\n            .pipe(gulp.dest('./')); // here you can specify your output directory too\n});\n</code></pre>\n\n<h2>Problem Solution</h2>\n\n<p>For your case you can choose both solutions. Pay attention for code comments and specify out directories and name of compiled js file as you wish.</p>\n\n<p>Good Luck! </p>\n\n<h2>Resources</h2>\n\n<ol>\n<li><a href=\"https://www.npmjs.com/package/gulp-typescript\" rel=\"nofollow noreferrer\">Gulp Typescript NPM</a>.</li>\n<li><a href=\"http://blogs.msdn.com/b/typescript/archive/2015/04/30/using-typescript-in-visual-studio-code.aspx\" rel=\"nofollow noreferrer\">Using TypeScript in Visual Studio Code (MSDN Blog)</a>.</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/wiki/tsconfig.json\" rel=\"nofollow noreferrer\">Typescript tsconfig.json specification</a></li>\n<li><a href=\"https://code.visualstudio.com/Docs/editor/tasks\" rel=\"nofollow noreferrer\">Using Task Runner in VS Code</a></li>\n</ol>\n"}], "owner": {"reputation": 485, "user_id": 4337840, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da6cf8e7746ccaa81308a29ec90388b6?s=128&d=identicon&r=PG&f=1", "display_name": "Toshkuuu", "link": "https://stackoverflow.com/users/4337840/toshkuuu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2212, "favorite_count": 1, "accepted_answer_id": 32678014, "answer_count": 4, "score": 3, "last_activity_date": 1444407889, "creation_date": 1442679882, "last_edit_date": 1444407889, "question_id": 32670540, "link": "https://stackoverflow.com/questions/32670540/typescript-compile-files-without-mirroring-the-directory-hierarchy", "title": "Typescript: Compile files without mirroring the directory hierarchy", "body": "<p>I am using VS Code for making an HTML5 game with TypeScript (JS). The project is getting a little bigger and I want to store the output in a different directory. \nThe problem is that whenever I compile everything, it mirrors the original  directory hierarchy. So for example:</p>\n\n<pre><code>-dir1\n--dir2\n--dir3\n---dir4\n</code></pre>\n\n<p>outputs: </p>\n\n<pre><code>-dir1\n--dir2\n--dir3\n---dir4\n</code></pre>\n\n<p>(the same)</p>\n\n<p>and I want: </p>\n\n<pre><code>-dir1\n*.js \n</code></pre>\n\n<p>I've tried Grunt/Gulp/VSCode's own TaskRunner but nothing works and \"keepDirectoryHierarchy\" seems depricated..</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1553172002, "post_id": 32669805, "comment_id": 97290966, "body": "It&#39;s just that the file association in Windows is MPEG-2 TS, rather than TypeScript. No formatting issues whatsoever."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1553172062, "post_id": 32669805, "comment_id": 97291000, "body": "Try right click the file, &quot;open with&quot; and then set the default application, rather than media player or whatever it&#39;s trying to use."}], "answers": [{"comments": [{"owner": {"reputation": 1298, "user_id": 8091775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92198054a92b7ac48519bc1bd2cae893?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin 2", "link": "https://stackoverflow.com/users/8091775/quentin-2"}, "edited": false, "score": 0, "creation_date": 1514992826, "post_id": 38831400, "comment_id": 83134461, "body": "Unfortunately, when clicked on, Windows will attempt to open a ts file as video then crash."}, {"owner": {"reputation": 803, "user_id": 6629672, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j__Hxej46Qs/AAAAAAAAAAI/AAAAAAAAAFM/jcVKE2Z496Q/photo.jpg?sz=128", "display_name": "Almenon", "link": "https://stackoverflow.com/users/6629672/almenon"}, "edited": false, "score": 1, "creation_date": 1529805229, "post_id": 38831400, "comment_id": 89006054, "body": "Is there a way to prevent windows 10 from thinking it is a video file? Even when I tell it to open .ts extensions with VSCode it still thinks it is a video file and shows video tools when I click on it in the file browser."}, {"owner": {"reputation": 3423, "user_id": 4166522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049d84f6be6578b8bbe6ea3aa130ca6d?s=128&d=identicon&r=PG&f=1", "display_name": "Rich N", "link": "https://stackoverflow.com/users/4166522/rich-n"}, "reply_to_user": {"reputation": 803, "user_id": 6629672, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j__Hxej46Qs/AAAAAAAAAAI/AAAAAAAAAFM/jcVKE2Z496Q/photo.jpg?sz=128", "display_name": "Almenon", "link": "https://stackoverflow.com/users/6629672/almenon"}, "edited": false, "score": 4, "creation_date": 1531235687, "post_id": 38831400, "comment_id": 89515852, "body": "@Almenon It&#39;s possible but Microsoft don&#39;t make anything easy in Win10.  Right-click the file, Open with/Choose another app (DONT choose VS Code here).  Now Visual Studio Code should appear in the list, click it and check &#39;Always use this app to open .ts files&#39;, click OK, and the association should be changed.  If the app you want to associate with .ts doesn&#39;t appear you can scroll down, choose &#39;More apps&#39;, scroll down again, choose &#39;Look for another app on this PC&#39; and Windows will open a file browser so you can find the executable on the file system."}, {"owner": {"reputation": 803, "user_id": 6629672, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j__Hxej46Qs/AAAAAAAAAAI/AAAAAAAAAFM/jcVKE2Z496Q/photo.jpg?sz=128", "display_name": "Almenon", "link": "https://stackoverflow.com/users/6629672/almenon"}, "reply_to_user": {"reputation": 3423, "user_id": 4166522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049d84f6be6578b8bbe6ea3aa130ca6d?s=128&d=identicon&r=PG&f=1", "display_name": "Rich N", "link": "https://stackoverflow.com/users/4166522/rich-n"}, "edited": false, "score": 1, "creation_date": 1531794881, "post_id": 38831400, "comment_id": 89716731, "body": "@RichN that associates ts with vscode, yes, but the video tools still appear on the top of the file explorer when I click on the file."}, {"owner": {"reputation": 3423, "user_id": 4166522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049d84f6be6578b8bbe6ea3aa130ca6d?s=128&d=identicon&r=PG&f=1", "display_name": "Rich N", "link": "https://stackoverflow.com/users/4166522/rich-n"}, "reply_to_user": {"reputation": 803, "user_id": 6629672, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j__Hxej46Qs/AAAAAAAAAAI/AAAAAAAAAFM/jcVKE2Z496Q/photo.jpg?sz=128", "display_name": "Almenon", "link": "https://stackoverflow.com/users/6629672/almenon"}, "edited": false, "score": 0, "creation_date": 1531908690, "post_id": 38831400, "comment_id": 89769418, "body": "@Almenon Windows (rather stupidly) just adds the Video Tools as an available menu at the end of the ribbon.  It still displays the menu it was showing before.  Does that actually cause a problem somehow - you can just ignore it can&#39;t you?"}], "tags": [], "owner": {"reputation": 1581, "user_id": 5093536, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/ozl78.jpg?s=128&g=1", "display_name": "Rahul Yadav", "link": "https://stackoverflow.com/users/5093536/rahul-yadav"}, "is_accepted": false, "score": 5, "last_activity_date": 1470665214, "creation_date": 1470665214, "answer_id": 38831400, "question_id": 32669805, "link": "https://stackoverflow.com/questions/32669805/why-my-ts-file-get-saved-as-mpeg2-ts-format-when-i-want-it-to-be-saved-as-types/38831400#38831400", "title": "Why my .ts file get saved as MPEG2 TS format when i want it to be saved as typescript", "body": "<p>It doesn't get saved in MPEG-2 TS format. Windows just interprets the .ts extension as MPEG-2 TS and shows a video file like icon for your .ts file.\nYou can ignore that.</p>\n"}, {"tags": [], "owner": {"reputation": 1050, "user_id": 2100372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hhyEy.jpg?s=128&g=1", "display_name": "zoran404", "link": "https://stackoverflow.com/users/2100372/zoran404"}, "is_accepted": false, "score": 3, "last_activity_date": 1574696133, "creation_date": 1574696133, "answer_id": 59035281, "question_id": 32669805, "link": "https://stackoverflow.com/questions/32669805/why-my-ts-file-get-saved-as-mpeg2-ts-format-when-i-want-it-to-be-saved-as-types/59035281#59035281", "title": "Why my .ts file get saved as MPEG2 TS format when i want it to be saved as typescript", "body": "<p>The fact that windows treats <code>.ts</code> files as <code>video</code> is super annoying for anyone working with typescript daily.</p>\n\n<p>I couldn't find a way to change this in regedit, but I found an app called <a href=\"https://www.nirsoft.net/utils/file_types_manager.html\" rel=\"nofollow noreferrer\">FileTypeMan</a>.</p>\n\n<p>I used it to set mime type to <code>text/plain</code> and perceived type to <code>text</code>.</p>\n\n<p>Now the explorer doesn't try to generate a video thumbnail when i open a folder with typescript files any more.</p>\n\n<p>I don't like that I had to download a program for this, but at least it doesn't need admin rights to run.</p>\n\n<p>If someone find a way to do it with only regedit please share.</p>\n"}, {"tags": [], "owner": {"reputation": 279, "user_id": 7737346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-v7RR3XIYT20/AAAAAAAAAAI/AAAAAAAAFhI/POgYjCPTm9g/photo.jpg?sz=128", "display_name": "KBeDev", "link": "https://stackoverflow.com/users/7737346/kbedev"}, "is_accepted": false, "score": 1, "last_activity_date": 1589567430, "creation_date": 1589567430, "answer_id": 61826043, "question_id": 32669805, "link": "https://stackoverflow.com/questions/32669805/why-my-ts-file-get-saved-as-mpeg2-ts-format-when-i-want-it-to-be-saved-as-types/61826043#61826043", "title": "Why my .ts file get saved as MPEG2 TS format when i want it to be saved as typescript", "body": "<p>You can modify how Windows opens any file, with these steps (in this case, a TypeScript source code file):</p>\n\n<ul>\n<li>Right click on the file (just open the context menu)</li>\n<li>Click in <code>Properties</code></li>\n<li><p>You will see the properties configuration window (showing second section in the <code>General</code> tab):</p>\n\n<p><a href=\"https://i.stack.imgur.com/UMBAB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UMBAB.png\" alt=\"configuration window\"></a></p></li>\n<li><p>Click in the <code>Change...</code> button</p></li>\n<li><p>Then, select your preferred text/code editor or IDE</p>\n\n<p><a href=\"https://i.stack.imgur.com/OfGjA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OfGjA.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>In this case, I have selected Visual Studio Code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LF5Ax.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LF5Ax.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Click in <code>OK</code>, and that is all. Windows 10 will read all <code>.ts</code> files as source code files.</p></li>\n</ul>\n"}], "owner": {"reputation": 101, "user_id": 3129348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab63e32b47a3e8cc94ca100ef541651?s=128&d=identicon&r=PG&f=1", "display_name": "user3129348", "link": "https://stackoverflow.com/users/3129348/user3129348"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4616, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1589567430, "creation_date": 1442675455, "last_edit_date": 1492608953, "question_id": 32669805, "link": "https://stackoverflow.com/questions/32669805/why-my-ts-file-get-saved-as-mpeg2-ts-format-when-i-want-it-to-be-saved-as-types", "title": "Why my .ts file get saved as MPEG2 TS format when i want it to be saved as typescript", "body": "<p>I'm new to the development, currently working on Angular 2 I came across a problem while saving the .ts (typescript) file in my computer (Win 7).\nI have run the commands using npm:</p>\n\n<pre><code>&gt;npm install typescript\n</code></pre>\n\n<p>but when I try to save the text file to .ts file it creates MPEG 2 TS file.\nHow to resolve this problem. Please help!</p>\n"}, {"tags": ["javascript", "angularjs", "javascript-events", "typescript", "angular-ui-router"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1442676055, "post_id": 32669664, "comment_id": 53185415, "body": "where&#39;s the <code>$apply</code>? Why do you ever need to call <code>$apply</code> on <code>$rootScope</code>? Usually done at more local level"}, {"owner": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1442677015, "post_id": 32669664, "comment_id": 53185782, "body": "I did that in a few tests of promises. There are a lot of other tests failing as well actually. I have a lot of tests using $httpBackend, all of these seem to fail on $httpBackend.verifyNoOutstandingExpectation(), which in turn calls Scope.$digest"}], "answers": [{"comments": [{"owner": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "edited": false, "score": 0, "creation_date": 1442677180, "post_id": 32670014, "comment_id": 53185837, "body": "Does not change all of the failing tests."}, {"owner": {"reputation": 1, "user_id": 5352187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6156ff2dbe40e397c5e2e5ba2a871d7?s=128&d=identicon&r=PG&f=1", "display_name": "mad", "link": "https://stackoverflow.com/users/5352187/mad"}, "reply_to_user": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "edited": false, "score": 0, "creation_date": 1442679029, "post_id": 32670014, "comment_id": 53186481, "body": "you need to call broadcast like this: $broadcast(&quot;$stateChangeStart&quot;, data). And you have to call broadcast that something happends on $on not the other way"}, {"owner": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "edited": false, "score": 0, "creation_date": 1442679857, "post_id": 32670014, "comment_id": 53186754, "body": "Why should I broardcast $stateChangeStart? Angular ui-router already does that automatically."}, {"owner": {"reputation": 1, "user_id": 5352187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6156ff2dbe40e397c5e2e5ba2a871d7?s=128&d=identicon&r=PG&f=1", "display_name": "mad", "link": "https://stackoverflow.com/users/5352187/mad"}, "reply_to_user": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "edited": false, "score": 0, "creation_date": 1442679997, "post_id": 32670014, "comment_id": 53186800, "body": "because you registered your $on like that. I don&#39;t see any ui-router setup. With broadcast you &quot;call&quot; what you setup in $on"}, {"owner": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "edited": false, "score": 0, "creation_date": 1442680120, "post_id": 32670014, "comment_id": 53186836, "body": "Well the fact that I use ui-router is evident by the use of the $stateChangeStart and i also tagged the question angular-ui-router."}], "tags": [], "owner": {"reputation": 1, "user_id": 5352187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6156ff2dbe40e397c5e2e5ba2a871d7?s=128&d=identicon&r=PG&f=1", "display_name": "mad", "link": "https://stackoverflow.com/users/5352187/mad"}, "is_accepted": false, "score": 0, "last_activity_date": 1442676816, "creation_date": 1442676816, "answer_id": 32670014, "question_id": 32669664, "link": "https://stackoverflow.com/questions/32669664/angular-run-block-rootscope-on-and-state/32670014#32670014", "title": "Angular run block, $rootScope.$on and $state", "body": "<p>try these:</p>\n\n<pre><code>    angular.module(\"myapp\")\n    .run(($rootScope, StateChangeStartHandler) =&gt; {\n      $rootScope.$on\n        (\"$stateChangeStart\",StateChangeStartHandler.handler.bind(StateChangeStartHandler);\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "is_accepted": false, "score": 0, "last_activity_date": 1442818991, "creation_date": 1442818991, "answer_id": 32689155, "question_id": 32669664, "link": "https://stackoverflow.com/questions/32669664/angular-run-block-rootscope-on-and-state/32689155#32689155", "title": "Angular run block, $rootScope.$on and $state", "body": "<p>I finally solved it. I am not really sure about the technical details, but I think it's related to how angular lazy loads services. The following fixed my problem. Instead of referencing the function <code>handler</code> in <code>StateChangeStartHandler</code> like this,</p>\n\n<pre><code>angular.module(\"myapp\")\n  .run(($rootScope, StateChangeStartHandler) =&gt; {\n    $rootScope.$on(\"$stateChangeStart\", StateChangeStartHandler.handler);\n  });\n</code></pre>\n\n<p>I made it a getter like this:</p>\n\n<pre><code>angular.module(\"myapp\")\n  .run(($rootScope, StateChangeStartHandler) =&gt; {\n    $rootScope.$on(\"$stateChangeStart\", StateChangeStartHandler.handler());\n  });\n</code></pre>\n\n<p>I kept the function in a field in the <code>StateChangeStartHandler</code> and then <code>handler</code> merely returns that function. Without being sure at all, I suspect that when i passed the function like in the first example, <code>StateChangeStartHandler</code> and it's dependencies are not getting properly initialized. If anyone could explain more about this I would really be happy.</p>\n"}], "owner": {"reputation": 706, "user_id": 1882577, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGNXQ.jpg?s=128&g=1", "display_name": "Benjamin Hammer N&#248;rgaard", "link": "https://stackoverflow.com/users/1882577/benjamin-hammer-n%c3%b8rgaard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 886, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442818991, "creation_date": 1442674712, "last_edit_date": 1442677567, "question_id": 32669664, "link": "https://stackoverflow.com/questions/32669664/angular-run-block-rootscope-on-and-state", "title": "Angular run block, $rootScope.$on and $state", "body": "<p>I have a strange issue when i try create an eventhandler in the run block. It is a bit hard to explain the issue, partly becaues I don't understand what's happening but I will do my best. It's written in typescript.</p>\n\n<p>I have the following run-block:</p>\n\n<pre><code>angular.module(\"myapp\")\n  .run(($rootScope, StateChangeStartHandler) =&gt; {\n    $rootScope.$on(\"$stateChangeStart\", StateChangeStartHandler.handler);\n  });\n</code></pre>\n\n<p>StateChangeStartHandler is a simple angular service with a function called handler which is meant to handle the $stateChangeStart event. The handler service looks like this:</p>\n\n<pre><code>class StateChangeStartHandler {\n\n  private AuthService;\n  private $rootScope;\n  private AUTH_EVENTS;\n\n  constructor(AuthService, $rootScope, AUTH_EVENTS\n             // Everything breaks if I comment in the following line\n             //, $state\n             ) {\n    this.AuthService = AuthService;\n    this.$rootScope = $rootScope;\n    this.AUTH_EVENTS = AUTH_EVENTS;\n  }\n\n  handler(event, next) {\n    if (!this.AuthService.isLoggedIn() &amp;&amp; next.name != \"root.login\") {\n      event.preventDefault();\n      this.$rootScope.$broadcast(this.AUTH_EVENTS.notAuthenticated);\n    }\n  }\n}\n\nangular.module(\"myapp\")\n  .service(\"StateChangeStartHandler\", StateChangeStartHandler);\n</code></pre>\n\n<p>I was implementing this using TDD. I wrote a test that verified if go was called on $state. When i then went into the class to implement it, i faced the issue. When I injected $state in the StateChangeStartHandler, suddenly all tests using $rootScope.$apply() said AuthService.isLoggedIn is not a function.</p>\n\n<p>I suspect that $rootScope.$apply() triggers a $stateChangeStart, and then something strange happens.</p>\n\n<p><strong>UPDATE 1:</strong>\nAn example of a seemingly unrelated test that suddenly fails:</p>\n\n<pre><code>Chrome 45.0.2454 (Mac OS X 10.10.5) Authentication service login(email, password) should be defined FAILED\n    TypeError: this.AuthService.isLoggedIn is not a function\n        at StateChangeStartHandler.handler (/Users/blacksails/repos/avalonia/priv/static/js/app.js:305:31)\n        at Scope.$broadcast (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:16311:28)\n        at Object.transitionTo (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:50779:24)\n        at Array.&lt;anonymous&gt; (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:49896:18)\n        at Object.invoke (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:4584:17)\n        at handleIfMatch (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:49386:28)\n        at /Users/blacksails/repos/avalonia/priv/static/js/libraries.js:49441:18\n        at check (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:49557:23)\n        at update (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:49566:13)\n        at Scope.$broadcast (/Users/blacksails/repos/avalonia/priv/static/js/libraries.js:16311:28)\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "bluebird"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 582693, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/1dwYn.jpg?s=128&g=1", "display_name": "Mino", "link": "https://stackoverflow.com/users/582693/mino"}, "edited": false, "score": 0, "creation_date": 1442671816, "post_id": 32668612, "comment_id": 53183850, "body": "Thank you. So I will try to use ES6 promises without Bluebird. Thanks!"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 9, "creation_date": 1442695211, "post_id": 32668612, "comment_id": 53191614, "body": "There are at least 100 reasons to use Bluebird, even in ES6.  The ES6 promises are a tiny subset of what Bluebird offers and Bluebird is entirely compatible with ES6."}], "tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": true, "score": -4, "last_activity_date": 1442668572, "last_edit_date": 1442668572, "creation_date": 1442668220, "answer_id": 32668612, "question_id": 32666841, "link": "https://stackoverflow.com/questions/32666841/typescript-bluebird-definition/32668612#32668612", "title": "Typescript Bluebird definition", "body": "<p>You are targeting ES6. ES6 already has Promises, so using Bluebird with it is redundant and is causing those errors. Using <code>\"target\": \"ES5\"</code> will get rid of those errors. If you're using VS Code, you may need to restart it to catch the changes. On another note, you should add <code>\"module\": \"commonjs\"</code> to configuration as well :).</p>\n"}], "owner": {"reputation": 605, "user_id": 582693, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/1dwYn.jpg?s=128&g=1", "display_name": "Mino", "link": "https://stackoverflow.com/users/582693/mino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1281, "favorite_count": 0, "accepted_answer_id": 32668612, "answer_count": 1, "score": 2, "last_activity_date": 1442668572, "creation_date": 1442656707, "last_edit_date": 1442657955, "question_id": 32666841, "link": "https://stackoverflow.com/questions/32666841/typescript-bluebird-definition", "title": "Typescript Bluebird definition", "body": "<p>I am trying to convert a NodeJS project to Typescript.\nI have used a lot the <a href=\"https://github.com/petkaantonov/bluebird\" rel=\"nofollow noreferrer\">Bluebird</a> library for promises, so I wanted to give a try to its type definition.<br>\nI see a lot of errors like these in the definition file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MJGwv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MJGwv.png\" alt=\"screenshot\"></a></p>\n\n<p>Is it because of something wrong in my configuration?<br>\nThis is my tsconfig.json.</p>\n\n<pre><code>{\n\"compilerOptions\": {\n  \"target\": \"ES6\",\n  \"removeComments\": true,\n  \"preserveConstEnums\": true,\n  \"out\": \"/dist/server/server.js\",\n  \"sourceMap\": true\n},\n\"exclude\": [\n    \"node_modules\"\n]\n}\n</code></pre>\n"}, {"tags": ["compiler-errors", "typescript", "destructuring"], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 6, "last_activity_date": 1442673696, "last_edit_date": 1495541200, "creation_date": 1442642029, "answer_id": 32664774, "question_id": 32663767, "link": "https://stackoverflow.com/questions/32663767/destructuring-in-typescript-cause-compiler-errors-ts1008-and-ts1005/32664774#32664774", "title": "Destructuring in Typescript cause compiler errors TS1008 and TS1005", "body": "<p>I am able to reproduce your problem in past versions of TypeScript, but not 1.6.2:</p>\n\n<pre><code>&gt; tsc -v\nVersion 1.0.3.0\n&gt; tsc -t es5 destructuring.ts\nerror TS1008: Unexpected token; 'identifier' expected.\nerror TS1008: Unexpected token; 'module, class, interface, enum ...\nerror TS1005: ';' expected.\n\n&gt; tsc -v\nmessage TS6029: Version 1.6.2\n&gt; tsc -t es5 destructuring.ts\n&gt;\n</code></pre>\n\n<p>Please ensure you are actually using a version of TypeScript >= 1.5 in Visual Studio Code.</p>\n\n<p>To fix your desktop to use the right version of TypeScript take a look at <a href=\"https://stackoverflow.com/a/32532656\">this answer</a>. Basically, you can see where <code>tsc</code> is running from by typing the command <code>where tsc</code> and you have to remove that directory from the path or delete that directory.</p>\n"}], "owner": {"reputation": 563, "user_id": 5343123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fa1JC.jpg?s=128&g=1", "display_name": "codelegant", "link": "https://stackoverflow.com/users/5343123/codelegant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1666, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1442673696, "creation_date": 1442632208, "last_edit_date": 1442673119, "question_id": 32663767, "link": "https://stackoverflow.com/questions/32663767/destructuring-in-typescript-cause-compiler-errors-ts1008-and-ts1005", "title": "Destructuring in Typescript cause compiler errors TS1008 and TS1005", "body": "<p>I wanna use destructuring in typescript,example code:\n</p>\n\n<pre><code>var {first, second} = { first: \"one\", second: \"two\" }\nconsole.log(first);\n</code></pre>\n\n<p>my compile command <code>tsc --t es5 destructuring.ts</code>,</p>\n\n<p>typescript version <code>1.6.2</code>,</p>\n\n<p>IDE is <code>vs code</code>.</p>\n\n<p>then cause three errors:</p>\n\n<p><code>destructuring.ts(1,5): error TS1008: Unexpectedtoken; 'identifier' expected.</code></p>\n\n<p><code>destructuring.ts(1,21): error TS1008: Unexpected token; 'module, class, interface, enum, import or statement' expected.</code></p>\n\n<p><code>destructuring.ts(1,45): error TS1005: ';' expected.</code>;</p>\n\n<p>In my desktop(<em>window 8.1 x64</em>),command <code>npm -g list</code> ,show <code>typescript@1.6.2</code>,and command  <code>tsc --version</code> show <code>Version 1.0.3.0</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I7px5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7px5.png\" alt=\"typescript 1.0.3.0\"></a></p>\n\n<p>But in my laptop(<em>windows 7 x64</em>),the command <code>tsc --version</code> show <code>message TS6029: Version 1.6.2</code>:\n<a href=\"https://i.stack.imgur.com/yfFA8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfFA8.png\" alt=\"typescript 1.6.2\"></a></p>\n"}, {"tags": ["javascript", "node.js", "npm", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 7972, "user_id": 786644, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d5e64181fe1ce8507a0e9894ccf6447?s=128&d=identicon&r=PG", "display_name": "dumbmatter", "link": "https://stackoverflow.com/users/786644/dumbmatter"}, "edited": false, "score": 0, "creation_date": 1442614774, "post_id": 32661789, "comment_id": 53170075, "body": "Damn, you answered so fast that Stack Overflow won&#39;t let me accept it yet!"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 5, "last_activity_date": 1442614757, "last_edit_date": 1442614757, "creation_date": 1442614373, "answer_id": 32661789, "question_id": 32661756, "link": "https://stackoverflow.com/questions/32661756/using-npm-modules-with-typescript-cant-even-get-the-simplest-example-working/32661789#32661789", "title": "Using npm modules with TypeScript - can&#39;t even get the simplest example working", "body": "<p>The problem is that <code>pubsub.d.ts</code> doesn't contain a definition for the CommonJS module <code>\"pubsub-js\"</code> (instead it only defines a global object <code>PubSubJS</code>).</p>\n\n<p>The best fix would be to edit that file; at the bottom add:</p>\n\n<pre><code>declare module \"pubsub-js\" {\n  export = PubSub;\n}\n</code></pre>\n\n<p>Most .d.ts files already include such a definition when a CommonJS or AMD module is available for a given package.</p>\n"}], "owner": {"reputation": 7972, "user_id": 786644, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d5e64181fe1ce8507a0e9894ccf6447?s=128&d=identicon&r=PG", "display_name": "dumbmatter", "link": "https://stackoverflow.com/users/786644/dumbmatter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 32661789, "answer_count": 1, "score": 0, "last_activity_date": 1442614757, "creation_date": 1442614117, "question_id": 32661756, "link": "https://stackoverflow.com/questions/32661756/using-npm-modules-with-typescript-cant-even-get-the-simplest-example-working", "title": "Using npm modules with TypeScript - can&#39;t even get the simplest example working", "body": "<p>I would like to use npm modules within a Typescript program. Fortunately, I came across <a href=\"https://github.com/DefinitelyTyped/demo-typescript-node-minimal\" rel=\"nofollow\">this</a> which looks very easy and does indeed seem to work. I figured I would try and add another package, just to get the hang of it. So I <a href=\"https://github.com/dumbmatter/demo-typescript-node-minimal\" rel=\"nofollow\">forked it</a> and made <a href=\"https://github.com/dumbmatter/demo-typescript-node-minimal/commit/cdc0d1233476d92bb2e64de6b79417d69f31bdad\" rel=\"nofollow\">one relatively simple commit</a>.</p>\n\n<p>Here's all the things I did in my commit:</p>\n\n<ol>\n<li><p>Added <code>pubsub-js</code> to my dependencies in <code>package.json</code>, so it will install on <code>npm install</code>.</p></li>\n<li><p>Set up <code>tsd</code>, used it to install the TypeScript definition for <code>pubsub-js</code>, and set it to automatically run on <code>npm install</code>.</p></li>\n<li><p>Modified <code>index.ts</code> to include the installed definition:</p>\n\n<pre><code>/// &lt;reference path=\"./typings/pubsubjs/pubsub.d.ts\" /&gt;\n</code></pre>\n\n<p>and to import the installed package:</p>\n\n<pre><code>import PubSub = require('pubsub-js');\n</code></pre></li>\n</ol>\n\n<p>Unfortunately, this doesn't work. I get this error:</p>\n\n<pre><code>$ npm install\n$ npm test\n&gt; demo-typescript-node-minimal@0.0.1 test /home/dumbmatter/projects/mini/demo-typescript-node-minimal\n&gt; tsc index.ts --module commonjs &amp;&amp; node ./index\n\nindex.ts(10,25): error TS2307: Cannot find module 'pubsub-js'.\nnpm ERR! Test failed.  See above for more details.\n</code></pre>\n\n<p>(If you want to it for yourself, <a href=\"https://github.com/dumbmatter/demo-typescript-node-minimal\" rel=\"nofollow\">clone my repo</a>, run <code>npm install</code>, and then <code>npm test</code>.)</p>\n\n<p>And I want to reiterate, the original version (without my commit, straight from <a href=\"https://github.com/DefinitelyTyped/demo-typescript-node-minimal\" rel=\"nofollow\">the original repo</a>) does in fact work:</p>\n\n<pre><code>$ git checkout d002c0dffc9d9f65aca465b0fc6a279bcd23202d\n$ npm test\n\n&gt; demo-typescript-node-minimal@0.0.1 test /home/dumbmatter/projects/mini/demo-typescript-node-minimal\n&gt; tsc index.ts --module commonjs; node ./index\n\n[ 'abc', index: 0, input: 'abcdefgh' ]\nHello Dave\n</code></pre>\n\n<p>So what gives? Why did my attempt fail so miserably?</p>\n\n<p>I would also appreciate any advice on the wisdom of using npm packages in TypeScript in general. Is it just to error prone for real use? If so, and you found yourself in the situation where you wanted some generic pubsub library in a TypeScript program you were using... what would you do? Write your own?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 13405, "user_id": 7979, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4145292dfaeac560665414e5533bf5f1?s=128&d=identicon&r=PG", "display_name": "James Sumners", "link": "https://stackoverflow.com/users/7979/james-sumners"}, "edited": false, "score": 1, "creation_date": 1442595881, "post_id": 32655281, "comment_id": 53161261, "body": "I see. I was trying to define the method as a fully typed method and optional a the same time. TS was having none of that. Thank you."}], "tags": [], "owner": {"reputation": 64960, "user_id": 571194, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/nVvTj.jpg?s=128&g=1", "display_name": "CodingIntrigue", "link": "https://stackoverflow.com/users/571194/codingintrigue"}, "is_accepted": true, "score": 13, "last_activity_date": 1442588779, "creation_date": 1442588779, "answer_id": 32655281, "question_id": 32654633, "link": "https://stackoverflow.com/questions/32654633/implement-javascript-options-object-parameter-pattern/32655281#32655281", "title": "Implement JavaScript options object parameter pattern?", "body": "<p>Seems as though you could do this with an Interface with optional members, and using Object.assign as you already have done:</p>\n\n<pre><code>interface Options {\n  foo?: string;\n  answer?: number,\n  aMethod?: (a:string) =&gt; string;\n}\n\nclass Foo {\n    options: Options;\n    constructor(options:Options) {\n        this.options = {\n            foo: 'bar',\n            answer: 42,\n            aMethod: function(){}\n        };\n        Object.assign(this.options, options);\n    }\n}\nvar foo1 = new Foo({});\nfoo1.options.foo; // 'bar'\nfoo1.options.answer; // 42\nfoo1.options.aMethod; // function()\nvar foo2 = new Foo({answer: 0, aMethod: function(a:string) { return a; } );\nfoo1.options.foo; // 'bar'\nfoo1.options.answer; // 0\nfoo1.options.aMethod; // function(a)\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/Playground#src=interface%20Options%20%7B%0D%0A%20%20foo%3F%3A%20string%3B%0D%0A%20%20answer%3F%3A%20number%2C%0D%0A%20%20aMethod%3F%3A%20(a%3Astring)%20%3D%3E%20string%3B%0D%0A%7D%0D%0A%0D%0Aclass%20Foo%20%7B%0D%0A%09options%3A%20Options%3B%0D%0A%09constructor(options%3AOptions)%20%7B%0D%0A%09%09this.options%20%3D%20%7B%0D%0A%09%09%20%20%20%20foo%3A%20&#39;bar&#39;%2C%0D%0A%09%09%20%20%20%20answer%3A%2042%2C%0D%0A%09%09%20%20%20%20aMethod%3A%20undefined%3B%0D%0A%09%09%7D%3B%0D%0A%09%09Object.assign(this.options%2C%20options)%3B%0D%0A%09%7D%0D%0A%7D%0D%0Avar%20foo1%20%3D%20new%20Foo(%7B%7D)%3B%0D%0Aconsole.log(%22foo1%3A%20foo%22%2C%20foo1.options.foo)%3B%20%2F%2F%20&#39;bar&#39;%0D%0Aconsole.log(%22foo1%3A%20answer%22%2C%20foo1.options.answer)%3B%20%2F%2F%2042%0D%0Aconsole.log(%22foo1%3A%20aMethod%22%2C%20foo1.options.aMethod)%3B%20%2F%2F%20function()%0D%0Avar%20foo2%20%3D%20new%20Foo(%7Banswer%3A%200%2C%20aMethod%3A%20(a%3Astring)%20%3D%3E%20%7B%20return%20a%3B%20%7D%20)%3B%0D%0Aconsole.log(%22foo2%3A%20foo%22%2C%20foo2.options.foo)%3B%20%2F%2F%20&#39;bar&#39;%0D%0Aconsole.log(%22foo2%3A%20answer%22%2C%20foo2.options.answer)%3B%20%2F%2F%200%0D%0Aconsole.log(%22foo2%3A%20aMethod%22%2C%20foo2.options.aMethod)%3B%20%2F%2F%20function(a)\" rel=\"noreferrer\">TS Playground Example</a></p>\n"}, {"comments": [{"owner": {"reputation": 13405, "user_id": 7979, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4145292dfaeac560665414e5533bf5f1?s=128&d=identicon&r=PG", "display_name": "James Sumners", "link": "https://stackoverflow.com/users/7979/james-sumners"}, "edited": false, "score": 0, "creation_date": 1442687405, "post_id": 32670850, "comment_id": 53189190, "body": "Sadly, that isn&#39;t supported by Node yet -- <a href=\"https://github.com/nodejs/node/issues/2823\" rel=\"nofollow noreferrer\">github.com/nodejs/node/issues/2823</a>"}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "reply_to_user": {"reputation": 13405, "user_id": 7979, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4145292dfaeac560665414e5533bf5f1?s=128&d=identicon&r=PG", "display_name": "James Sumners", "link": "https://stackoverflow.com/users/7979/james-sumners"}, "edited": false, "score": 4, "creation_date": 1457100453, "post_id": 32670850, "comment_id": 59265703, "body": "It&#39;s TypeScript. It has to be transpiled anyway before Node executes it. Might as well compile to ES5."}, {"owner": {"reputation": 13405, "user_id": 7979, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4145292dfaeac560665414e5533bf5f1?s=128&d=identicon&r=PG", "display_name": "James Sumners", "link": "https://stackoverflow.com/users/7979/james-sumners"}, "edited": false, "score": 0, "creation_date": 1457114835, "post_id": 32670850, "comment_id": 59275529, "body": "This question was related to an issue I was having while updating a third party library. I&#39;d <i>consider</i> doing an ES5 transpile if it were really my own project, but I&#39;m fond of that to begin with."}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "reply_to_user": {"reputation": 13405, "user_id": 7979, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4145292dfaeac560665414e5533bf5f1?s=128&d=identicon&r=PG", "display_name": "James Sumners", "link": "https://stackoverflow.com/users/7979/james-sumners"}, "edited": false, "score": 0, "creation_date": 1460696222, "post_id": 32670850, "comment_id": 60871683, "body": "For reference, Node supports destructuring behind the flag <code>--harmony_destructuring</code>. Node 6 will support destructuring without the flag, and it should ship within a few weeks. <a href=\"http://node.green/#destructuring--declarations\" rel=\"nofollow noreferrer\">node.green/#destructuring--declarations</a>"}], "tags": [], "owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "is_accepted": false, "score": 5, "last_activity_date": 1442681866, "creation_date": 1442681866, "answer_id": 32670850, "question_id": 32654633, "link": "https://stackoverflow.com/questions/32654633/implement-javascript-options-object-parameter-pattern/32670850#32670850", "title": "Implement JavaScript options object parameter pattern?", "body": "<p>Here's a more exotic ES6 way to implement default options with destructuring assignment instead of <code>Object.assign()</code>:</p>\n\n<pre><code>interface Options {\n  foo?: string;\n  answer?: number,\n  aMethod?: (a:string) =&gt; string;\n}\n\nclass Foo {\n    options: Options;\n    constructor({\n            foo = 'bar',\n            answer = 42,\n            aMethod = undefined\n        }: Options = {}) {\n        this.options = { foo, answer, aMethod };\n    }\n}\nvar foo1 = new Foo();\nconsole.log(\"foo1: foo\", foo1.options.foo); // 'bar'\nconsole.log(\"foo1: answer\", foo1.options.answer); // 42\nconsole.log(\"foo1: aMethod\", foo1.options.aMethod); // function()\nvar foo2 = new Foo({answer: 0, aMethod: (a:string) =&gt; { return a; } );\nconsole.log(\"foo2: foo\", foo2.options.foo); // 'bar'\nconsole.log(\"foo2: answer\", foo2.options.answer); // 0\nconsole.log(\"foo2: aMethod\", foo2.options.aMethod); // function(a)\n</code></pre>\n\n<p>Further explanation: <a href=\"http://simonsmith.io/destructuring-objects-as-function-parameters-in-es6/\" rel=\"noreferrer\">http://simonsmith.io/destructuring-objects-as-function-parameters-in-es6/</a></p>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 2081518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rK3gV.jpg?s=128&g=1", "display_name": "user2081518", "link": "https://stackoverflow.com/users/2081518/user2081518"}, "edited": false, "score": 0, "creation_date": 1591297016, "post_id": 54539750, "comment_id": 110010533, "body": "please name my daughter. you rock"}], "tags": [], "owner": {"reputation": 554, "user_id": 8677156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ng8VH.jpg?s=128&g=1", "display_name": "gombosg", "link": "https://stackoverflow.com/users/8677156/gombosg"}, "is_accepted": false, "score": 8, "last_activity_date": 1549386861, "creation_date": 1549386861, "answer_id": 54539750, "question_id": 32654633, "link": "https://stackoverflow.com/questions/32654633/implement-javascript-options-object-parameter-pattern/54539750#54539750", "title": "Implement JavaScript options object parameter pattern?", "body": "<h2>In Typescript</h2>\n\n<p>Let me chime in with a TS answer. In TS, you can of course define the <em>type</em> of the options object, but as of TS 3.2 you can't assign \"partial defaults\" in the function parameters (i.e. when unset properties of the object will be defaulted to some value).</p>\n\n<p>So this is a real example of a web crawler function, using destructuring. You could also use <code>Object.assign</code> but then for type safety you would have to separately define the type interface for <code>options</code>.</p>\n\n<p>All in all, the only caveat is that you will have to mention those properties twice which will be assigned a default value.</p>\n\n<pre><code>async downloadPageHTML(url: string, options: {\n    cookies?: puppeteer.Cookie[],\n    launchOpts?: LaunchOptions,\n    pageLoadOpts?: Partial&lt;puppeteer.NavigationOptions&gt;,\n    userAgent?: string\n    browser?: puppeteer.Browser\n} = {}) {\n    let {\n        pageLoadOpts = {},\n        launchOpts = {},\n        cookies = [],\n        userAgent = getUserAgent(url)\n    } = options;\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 13405, "user_id": 7979, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4145292dfaeac560665414e5533bf5f1?s=128&d=identicon&r=PG", "display_name": "James Sumners", "link": "https://stackoverflow.com/users/7979/james-sumners"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6032, "favorite_count": 2, "accepted_answer_id": 32655281, "answer_count": 3, "score": 10, "last_activity_date": 1590887791, "creation_date": 1442586897, "question_id": 32654633, "link": "https://stackoverflow.com/questions/32654633/implement-javascript-options-object-parameter-pattern", "title": "Implement JavaScript options object parameter pattern?", "body": "<p>There is a common pattern in JavaScript whereby a \"constructor\" accepts an optional options object. Additionally, that options object may contain only the options the caller wishes to override. For example:</p>\n\n<pre><code>function Foo(options) {\n  this._options = {\n    foo: 'bar',\n    answer: 42,\n    amethod: function(){}\n  };\n  this._options = Object.assign(this._options, options);\n}\n\nlet foo1 = new Foo();\nfoo2._options.foo; // 'bar'\nfoo1._options.answer; // 42\nfoo1._options.amethod(); // undefined\n\nlet foo2 = new Foo({answer: 0, amethod: function(a) { return a; }});\nfoo2._options.foo; // 'bar'\nfoo2._options.answer; // 0\nfoo2._options.amethod('foo'); // 'foo'\n</code></pre>\n\n<p>Is it possible to implement this pattern in Typescript? If so, how?</p>\n"}, {"tags": ["javascript", "typescript", "aurelia"], "comments": [{"owner": {"reputation": 1034, "user_id": 385426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/869065593aa1af3e88c6b5ccbb55b9c1?s=128&d=identicon&r=PG", "display_name": "Mike Graham", "link": "https://stackoverflow.com/users/385426/mike-graham"}, "edited": false, "score": 0, "creation_date": 1442585166, "post_id": 32652003, "comment_id": 53154604, "body": "what is your IDE of choice?  what build strategy do you favor (gulp)?"}, {"owner": {"reputation": 2865, "user_id": 929493, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7lqRn.jpg?s=128&g=1", "display_name": "Nicklas Pouey-Winger", "link": "https://stackoverflow.com/users/929493/nicklas-pouey-winger"}, "reply_to_user": {"reputation": 1034, "user_id": 385426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/869065593aa1af3e88c6b5ccbb55b9c1?s=128&d=identicon&r=PG", "display_name": "Mike Graham", "link": "https://stackoverflow.com/users/385426/mike-graham"}, "edited": false, "score": 0, "creation_date": 1442588334, "post_id": 32652003, "comment_id": 53156830, "body": "@MikeGraham Atom or VS Code is fine. Gulp would also be fine :)"}, {"owner": {"reputation": 1967, "user_id": 2193900, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aXP0y.jpg?s=128&g=1", "display_name": "Matt McCabe", "link": "https://stackoverflow.com/users/2193900/matt-mccabe"}, "edited": false, "score": 0, "creation_date": 1442588743, "post_id": 32652003, "comment_id": 53157119, "body": "I&#39;ve done it with VS Code, I don&#39;t remember it being particularly hard but the steps are a bit of a haze now... I&#39;ll have a look at my commits and see if I can make sense of what I did..."}], "answers": [{"comments": [{"owner": {"reputation": 2865, "user_id": 929493, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7lqRn.jpg?s=128&g=1", "display_name": "Nicklas Pouey-Winger", "link": "https://stackoverflow.com/users/929493/nicklas-pouey-winger"}, "edited": false, "score": 0, "creation_date": 1442944052, "post_id": 32656872, "comment_id": 53289508, "body": "Sorry for the late reply. In step 1, do you mean all .js files including all sub-folders containing various combinations of *.js? (Suchs as map files etc.) Is there a clever way of doing that recursively when in the root folder?"}, {"owner": {"reputation": 1034, "user_id": 385426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/869065593aa1af3e88c6b5ccbb55b9c1?s=128&d=identicon&r=PG", "display_name": "Mike Graham", "link": "https://stackoverflow.com/users/385426/mike-graham"}, "reply_to_user": {"reputation": 2865, "user_id": 929493, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7lqRn.jpg?s=128&g=1", "display_name": "Nicklas Pouey-Winger", "link": "https://stackoverflow.com/users/929493/nicklas-pouey-winger"}, "edited": false, "score": 1, "creation_date": 1442966253, "post_id": 32656872, "comment_id": 53299936, "body": "you can do the renaming from a bash script.  i&#39;ll find that for your tomorrow.  you can ignore or delete the .map files since they will be generated by the typescript compiler during transpilation"}], "tags": [], "owner": {"reputation": 1034, "user_id": 385426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/869065593aa1af3e88c6b5ccbb55b9c1?s=128&d=identicon&r=PG", "display_name": "Mike Graham", "link": "https://stackoverflow.com/users/385426/mike-graham"}, "is_accepted": false, "score": 4, "last_activity_date": 1442593791, "last_edit_date": 1592644375, "creation_date": 1442593791, "answer_id": 32656872, "question_id": 32652003, "link": "https://stackoverflow.com/questions/32652003/port-aurelia-skeleton-navigation-to-typescript/32656872#32656872", "title": "&#39;Port&#39; aurelia-skeleton-navigation to typescript", "body": "<p>So here are some steps:</p>\n<ol>\n<li><p>rename <code>.js</code> files to <code>.ts</code> files</p>\n</li>\n<li><p>setup gulp step to transpile your <code>.ts</code> files into <code>.js</code> files</p>\n<blockquote>\n<p>take a look at this <a href=\"https://github.com/cmichaelgraham/aurelia-typescript-atom/blob/master/skel-nav-ts/gulpfile.js#L7-L27\" rel=\"nofollow noreferrer\">gulp-typescript gulp task</a> as a reference</p>\n</blockquote>\n</li>\n</ol>\n<p>Note: you will want to include <code>paths</code> in your gulp step above to the <code>.d.ts</code> files that are found in each <a href=\"http://aurelia.io\" rel=\"nofollow noreferrer\">aurelia</a> repository's <code>dist</code> folder.  The path will look something like: <code>jspm_packages/github/aurelia/*/dist/*.d.ts</code></p>\n<p>Also tricky: for <code>fetch-client</code> you may also need to include a <code>path</code> to the <code>whatwg-fetch.d.ts</code> type definition (found in <code>fetch-client/doc</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 1231, "user_id": 59148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de60bb7f26eaa682b4a13528ee09005?s=128&d=identicon&r=PG", "display_name": "Erik Lieben", "link": "https://stackoverflow.com/users/59148/erik-lieben"}, "is_accepted": true, "score": 1, "last_activity_date": 1447009781, "creation_date": 1447009781, "answer_id": 33597868, "question_id": 32652003, "link": "https://stackoverflow.com/questions/32652003/port-aurelia-skeleton-navigation-to-typescript/33597868#33597868", "title": "&#39;Port&#39; aurelia-skeleton-navigation to typescript", "body": "<p>Bit late, but I've done this and documented all the steps I took to move the skeleton project over to typescript here <a href=\"http://www.eriklieben.com/aurelia-skeleton-navigation-to-typescript/\" rel=\"nofollow\">http://www.eriklieben.com/aurelia-skeleton-navigation-to-typescript/</a></p>\n"}], "owner": {"reputation": 2865, "user_id": 929493, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7lqRn.jpg?s=128&g=1", "display_name": "Nicklas Pouey-Winger", "link": "https://stackoverflow.com/users/929493/nicklas-pouey-winger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 33597868, "answer_count": 2, "score": 1, "last_activity_date": 1447009781, "creation_date": 1442579096, "question_id": 32652003, "link": "https://stackoverflow.com/questions/32652003/port-aurelia-skeleton-navigation-to-typescript", "title": "&#39;Port&#39; aurelia-skeleton-navigation to typescript", "body": "<p>I've installed the aurelia-skeleton-navigation following <a href=\"http://tutaurelia.net/2015/06/05/part-5-configuring-and-getting-started-with-aurelia/\" rel=\"nofollow\">this guide</a>. However, I'd like to start using Typescript for my development. What would be the next correct step to get this going? I guess that simply changing the file-extensions to *.ts and compile using tsc will not be sufficient.</p>\n\n<p>There are so many resources, but I always seem to run into trouble with one thing or another, every time I give it a shot.</p>\n\n<p>Hopefully someone here can point me in the right direction.\nI've pushed this to <a href=\"https://github.com/nwinger/tutaurelia\" rel=\"nofollow\">github</a> - feel free to help out.</p>\n\n<p>PS: I know there's a repository or two that has already done this, but I'd really like to at least understand the basics of how to port this to using typescript.</p>\n"}, {"tags": ["javascript", "angularjs", "angular", "typescript"], "comments": [{"owner": {"reputation": 38219, "user_id": 2898867, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/o2E0t.jpg?s=128&g=1", "display_name": "Angular University", "link": "https://stackoverflow.com/users/2898867/angular-university"}, "edited": false, "score": 0, "creation_date": 1442614736, "post_id": 32648679, "comment_id": 53170064, "body": "check ng-upgrade, the official upgrade project to see what is possible or not <a href=\"https://github.com/angular/ngUpgrade\" rel=\"nofollow noreferrer\">github.com/angular/ngUpgrade</a>. This blog post is from the project lead explaining the upgrade path <a href=\"http://angularjs.blogspot.be/2015/08/angular-1-and-angular-2-coexistence.html?view=flipcard\" rel=\"nofollow noreferrer\">angularjs.blogspot.be/2015/08/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2842, "user_id": 1645369, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s1lw5.jpg?s=128&g=1", "display_name": "Samir Alajmovic", "link": "https://stackoverflow.com/users/1645369/samir-alajmovic"}, "is_accepted": false, "score": 1, "last_activity_date": 1442570417, "last_edit_date": 1442570417, "creation_date": 1442569989, "answer_id": 32649072, "question_id": 32648679, "link": "https://stackoverflow.com/questions/32648679/which-angular-2-aspects-should-i-keep-in-mind-while-creating-an-angular-1-applic/32649072#32649072", "title": "Which Angular 2 aspects should I keep in mind while creating an Angular 1 application?", "body": "<p>There is no reason to write Angular 2.x in Typescript except if you prefer it or want to contribute to the code or if something is not working, go through the Angular 2.x code to better understand it. Typescript doesn't make JS faster or anything like that, it just offers static typing which is used to aid development tools like the IDE you use. Think Visual Studio.</p>\n\n<p>I'd suggest you start using ES6, which introduces classes (well syntactic sugar, js is still js) which Angular 2 uses, by using a transpiler to convert ES6 code to ES5 and which I reckon more and more people will use (to the horror of Crockford and others).</p>\n\n<p>Don't use complex directive stuff like transclude, compile / pre-link etc, keep it simple since Angular 2.x is trimming down on the mindset of inventing new ways to confuse programmers. They aren't exactly the same thing but Angular 2.x will be based on components which is kind of similar to directives in the way they use template/view.</p>\n\n<p>Get familiar with ES6 import/export.</p>\n\n<p>Stray away from using $scope, it will be removed in its current form.</p>\n\n<p>I wrote a bit more detailed blog post about it actually, <a href=\"http://www.alajmovic.com/2015/07/18/preparing-for-angular-2.html\" rel=\"nofollow\">http://www.alajmovic.com/2015/07/18/preparing-for-angular-2.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1446255293, "post_id": 32662058, "comment_id": 54682383, "body": "Well written blog TGH, succinct and right on the money :)"}], "tags": [], "owner": {"reputation": 36971, "user_id": 336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7F8Fe.jpg?s=128&g=1", "display_name": "TGH", "link": "https://stackoverflow.com/users/336423/tgh"}, "is_accepted": false, "score": 2, "last_activity_date": 1442615956, "creation_date": 1442615956, "answer_id": 32662058, "question_id": 32648679, "link": "https://stackoverflow.com/questions/32648679/which-angular-2-aspects-should-i-keep-in-mind-while-creating-an-angular-1-applic/32662058#32662058", "title": "Which Angular 2 aspects should I keep in mind while creating an Angular 1 application?", "body": "<p>I would recommend using directives with their own \"controllerAs\" based controller. This gets you close to the Angular 2.0 component style. In fact it's very similar.\nHere is an example of what I mean:</p>\n\n<p><a href=\"http://www.syntaxsuccess.com/viewarticle/migrating-from-angular-1.x-to-angular-2.0\" rel=\"nofollow\">http://www.syntaxsuccess.com/viewarticle/migrating-from-angular-1.x-to-angular-2.0</a></p>\n"}], "owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1492783281, "creation_date": 1442568877, "last_edit_date": 1492783281, "question_id": 32648679, "link": "https://stackoverflow.com/questions/32648679/which-angular-2-aspects-should-i-keep-in-mind-while-creating-an-angular-1-applic", "title": "Which Angular 2 aspects should I keep in mind while creating an Angular 1 application?", "body": "<p>I will soon have to rewrite a relatively big/complex web application in Angular 1.x.  I still have to learn Angular 1.x.  I know Angular 2.x will be entirely incompatible with 1.x, but is there anything I can do to prepare for a rewrite in Angular 2.x?</p>\n\n<p>For example:</p>\n\n<ul>\n<li><p>Code stucture: can I separate code that will have to be thrown away from code that might be reusable?  The current web application doesn't have a REST API so I assume at least the REST API I will write will be reusable for the 2.x version.  But I'm concerned about the client side code here.</p></li>\n<li><p>Language choice: most likely I will be asked to use pure JS (the version consumed directly by the browser), but would it be wise to use Typescript instead to write the Angular 1.x app, since that's what Angular 2.x itself is written in?</p></li>\n<li><p>Anything else?</p></li>\n</ul>\n"}, {"tags": ["reactjs", "typescript", "react-jsx", "typescript1.6"], "answers": [{"comments": [{"owner": {"reputation": 2175, "user_id": 212163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8a4ef53e34106f99808a3772a1aebc6?s=128&d=identicon&r=PG", "display_name": "dannie.f", "link": "https://stackoverflow.com/users/212163/dannie-f"}, "edited": false, "score": 0, "creation_date": 1442556019, "post_id": 32644353, "comment_id": 53137430, "body": "Thanks. I did not know that TypeScript emits JavaScript even if there are compilation errors. You answer to my second question did not help though, as I already have the necessary typings installed as per following the steps in the linked article."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2175, "user_id": 212163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8a4ef53e34106f99808a3772a1aebc6?s=128&d=identicon&r=PG", "display_name": "dannie.f", "link": "https://stackoverflow.com/users/212163/dannie-f"}, "edited": false, "score": 0, "creation_date": 1442791767, "post_id": 32644353, "comment_id": 53215440, "body": "Since you are not using <i>external modules</i>. Use <code>tsd install react-global</code> to get the <i>global</i> version of react (<a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/react/react-global.d.ts\" rel=\"nofollow noreferrer\">github.com/borisyankov/DefinitelyTyped/blob/master/react/&hellip;</a>)&zwnj;&#8203;. That said I highly recommend you use file modules with something like weback. <a href=\"https://basarat.gitbooks.io/typescript/content/docs/project/external-modules.html\" rel=\"nofollow noreferrer\">basarat.gitbooks.io/typescript/content/docs/project/&hellip;</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1442553281, "creation_date": 1442553281, "answer_id": 32644353, "question_id": 32644298, "link": "https://stackoverflow.com/questions/32644298/typescript-command-line-compilation-completes-successfully-but-errors-displayed/32644353#32644353", "title": "TypeScript command-line compilation completes successfully but errors displayed", "body": "<blockquote>\n  <p>Why do I still get errors even though the compilation succeeds</p>\n</blockquote>\n\n<p>Just because you get js from typescript does not mean <em>compilation</em> succeeds. Here's more on the topic : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/why-typescript.html\" rel=\"nofollow\">Type errors do not prevent JavaScript emit</a>.</p>\n\n<blockquote>\n  <p>How to get rid of the errors</p>\n</blockquote>\n\n<p>You need the <code>react.d.ts</code> file (<code>tsd install react</code>) (<a href=\"https://basarat.gitbooks.io/typescript/content/docs/jsx/tsx.html\" rel=\"nofollow\">more</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 2175, "user_id": 212163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8a4ef53e34106f99808a3772a1aebc6?s=128&d=identicon&r=PG", "display_name": "dannie.f", "link": "https://stackoverflow.com/users/212163/dannie-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1442558341, "last_edit_date": 1442558341, "creation_date": 1442557101, "answer_id": 32645083, "question_id": 32644298, "link": "https://stackoverflow.com/questions/32644298/typescript-command-line-compilation-completes-successfully-but-errors-displayed/32645083#32645083", "title": "TypeScript command-line compilation completes successfully but errors displayed", "body": "<p>basarat answered my first question but I was still having issues the the compilation errors. </p>\n\n<p>After looking at the errors again, I realized that the TypeScript compiler couldn't find <em>React</em> but It didn't seem to have a problem finding JQuery. So I opened up the React.d.ts file and sure enough, that was the problem. The React namespace was named <code>__React</code> instead of <code>React</code>. Aliasing the namespace like so</p>\n\n<pre><code>import React = __React;\n</code></pre>\n\n<p>allowed me to get rid of the TypeScript errors but unfortunately the app was then expecting to find a global variable called <em>__React</em>. But the React library downloaded from Bower had a variable called <em>React</em> as you would expect.</p>\n\n<p>I added the following script after the including react script in the index.html file</p>\n\n<pre><code>&lt;script&gt;var __React = React;&lt;/script&gt;\n</code></pre>\n\n<p>This allowed the app to run. </p>\n\n<p>I am not sure why the type definition file had that namespace though or if I am getting around the issue the <em>right way</em>, but this solved my problem for now.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I found a better way... Installing react-global <code>tsd install react-global</code> exposes the <strong>React</strong> namespace, making the above hack not required</p>\n"}], "owner": {"reputation": 2175, "user_id": 212163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8a4ef53e34106f99808a3772a1aebc6?s=128&d=identicon&r=PG", "display_name": "dannie.f", "link": "https://stackoverflow.com/users/212163/dannie-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454214600, "creation_date": 1442552988, "last_edit_date": 1454214600, "question_id": 32644298, "link": "https://stackoverflow.com/questions/32644298/typescript-command-line-compilation-completes-successfully-but-errors-displayed", "title": "TypeScript command-line compilation completes successfully but errors displayed", "body": "<p>I was walking through the following JSX TypeScript tutorial: <a href=\"https://github.com/RyanCavanaugh/jsx-intro\" rel=\"nofollow\">https://github.com/RyanCavanaugh/jsx-intro</a></p>\n\n<p>Using the <code>tsc.cmd -w</code> command, the following code compiles and executes successfully in the browser, but I still get errors in the console:</p>\n\n<pre><code>// app.tsx\nvar content = &lt;div&gt;Hello, world!&lt;/div&gt;;\n\n$(() =&gt; {\n    let target = document.getElementById('output');\n    React.render(content, target);\n});\n</code></pre>\n\n<p>`</p>\n\n<pre><code>app.tsx(30,16): error TS2304: Cannot find name 'React'.\n&lt;br&gt;app.tsx(34,5): error TS2304: Cannot find name 'React'.\n&lt;br&gt;message TS6042: Compilation complete. Watching for file changes.\n</code></pre>\n\n<p>`</p>\n\n<p>Why do I still get errors even though the compilation succeeds? How to get rid of the errors?</p>\n\n<p>I am using TypeScript 1.6</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5023, "user_id": 665864, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3bVcw.jpg?s=128&g=1", "display_name": "RONE", "link": "https://stackoverflow.com/users/665864/rone"}, "edited": false, "score": 0, "creation_date": 1442577927, "post_id": 32644127, "comment_id": 53149796, "body": "I was looking for styleUrls example, so landed here, and added the styleUrls: [&#39;app.css&#39;] in my component and created a app.css too. But I think it is not included, Am I missing to include any component for this, can you please post a plunkr demo if possible"}, {"owner": {"reputation": 145, "user_id": 5284303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQrr1.jpg?s=128&g=1", "display_name": "shatakshi", "link": "https://stackoverflow.com/users/5284303/shatakshi"}, "reply_to_user": {"reputation": 5023, "user_id": 665864, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3bVcw.jpg?s=128&g=1", "display_name": "RONE", "link": "https://stackoverflow.com/users/665864/rone"}, "edited": false, "score": 0, "creation_date": 1442637038, "post_id": 32644127, "comment_id": 53174529, "body": "@RAVIMONE Have you included &lt;link href=&quot;path to app.css&quot;&gt; in your index.html"}, {"owner": {"reputation": 5023, "user_id": 665864, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3bVcw.jpg?s=128&g=1", "display_name": "RONE", "link": "https://stackoverflow.com/users/665864/rone"}, "edited": false, "score": 0, "creation_date": 1442651563, "post_id": 32644127, "comment_id": 53177882, "body": "do I need to include it, If so, then what is the point in using styleUrls:[], If I include it directly in index.html file, it will anyways applies to whole app?"}, {"owner": {"reputation": 145, "user_id": 5284303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQrr1.jpg?s=128&g=1", "display_name": "shatakshi", "link": "https://stackoverflow.com/users/5284303/shatakshi"}, "reply_to_user": {"reputation": 5023, "user_id": 665864, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3bVcw.jpg?s=128&g=1", "display_name": "RONE", "link": "https://stackoverflow.com/users/665864/rone"}, "edited": false, "score": 0, "creation_date": 1442811835, "post_id": 32644127, "comment_id": 53219614, "body": "yeah you are right...actualy you have to include the whole path of the styleSheet in the styleUrls for example : &quot; styleUrls: [&#39;path] &quot;. its working fine for me. try it."}], "answers": [{"comments": [{"owner": {"reputation": 1087, "user_id": 809692, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fbb25b22b48fe82f645cdc885733e382?s=128&d=identicon&r=PG", "display_name": "Hardbyte", "link": "https://stackoverflow.com/users/809692/hardbyte"}, "edited": false, "score": 0, "creation_date": 1448000524, "post_id": 32647508, "comment_id": 55406087, "body": "Note the string you pass to the <code>@Attribute</code> decorator is the HTML version e.g. if your property was <code>sort-by</code> in javascript it is usually in camelCase (<code>sortBy</code>) where as the html looks like: <code>&lt;div [sort-by]=&quot;key&quot;&gt;</code>. So you have to use <code>@Attribute(&#39;sort-by&#39;)</code>."}], "tags": [], "owner": {"reputation": 90, "user_id": 5349703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mP99f.jpg?s=128&g=1", "display_name": "Pardeep jain", "link": "https://stackoverflow.com/users/5349703/pardeep-jain"}, "is_accepted": true, "score": 1, "last_activity_date": 1442565458, "creation_date": 1442565458, "answer_id": 32647508, "question_id": 32644127, "link": "https://stackoverflow.com/questions/32644127/angular-2-alpha-37-how-to-get-properties-in-constructor/32647508#32647508", "title": "Angular 2 --alpha 37 How to get properties in constructor?", "body": "<p>use \"@attribute\" to get your value in the constructor.</p>\n\n<ol>\n<li><code>import {Component, View,CORE_DIRECTIVES,Attribute} from 'angular2/angular2';</code></li>\n</ol>\n\n<p>2.replace your constructor with following code.</p>\n\n<pre><code> constructor(@Attribute('type') type:string) { alert(type);   }\n</code></pre>\n\n<p>Done.</p>\n"}], "owner": {"reputation": 145, "user_id": 5284303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQrr1.jpg?s=128&g=1", "display_name": "shatakshi", "link": "https://stackoverflow.com/users/5284303/shatakshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 32647508, "answer_count": 1, "score": 2, "last_activity_date": 1534134825, "creation_date": 1442552113, "last_edit_date": 1534134825, "question_id": 32644127, "link": "https://stackoverflow.com/questions/32644127/angular-2-alpha-37-how-to-get-properties-in-constructor", "title": "Angular 2 --alpha 37 How to get properties in constructor?", "body": "<p>This is my component and its property is type</p>\n\n<pre><code>   @Component({\n    selector: 'canvasContainer',\n    properties: ['type']\n    })\n    @View({\n    templateUrl: \"components/canvas/canvas.html\",\n    directives: [Bar, CORE_DIRECTIVES],\n    styleUrls: ['app.css']\n    })\n   export class Canvas \n    {\n    constructor() {    }\n    }\n</code></pre>\n\n<p>This is my html page:</p>\n\n<pre><code>&lt;bar type=\"pie\"&gt;&lt;/bar&gt;\n</code></pre>\n\n<p>I want to get type pie in my constructor like this:</p>\n\n<pre><code>@Component({\n        selector: 'canvasContainer',\n        properties: ['type']\n        })\n        @View({\n        templateUrl: \"components/canvas/canvas.html\",\n        directives: [Bar, CORE_DIRECTIVES],\n        styleUrls: ['app.css']\n        })\n       export class Canvas \n        {\n        constructor() { alert(type);   }//this alert is not working\n        }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 194, "user_id": 1209240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joNYG.png?s=128&g=1", "display_name": "naruto", "link": "https://stackoverflow.com/users/1209240/naruto"}, "edited": false, "score": 0, "creation_date": 1442559900, "post_id": 32644025, "comment_id": 53139240, "body": "Thank you, I think I&#39;ll go with the double type assertion for the time being. (But I wonder why it works... is that a well-known technique described elsewhere?)"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 194, "user_id": 1209240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joNYG.png?s=128&g=1", "display_name": "naruto", "link": "https://stackoverflow.com/users/1209240/naruto"}, "edited": false, "score": 0, "creation_date": 1442585342, "post_id": 32644025, "comment_id": 53154710, "body": "@naruto it&#39;s a new feature in 1.6. I&#39;m not sure why it works and not the regular type guard. We&#39;ll see what they say in the issue."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 4, "last_activity_date": 1492700338, "last_edit_date": 1492700338, "creation_date": 1442551458, "answer_id": 32644025, "question_id": 32643409, "link": "https://stackoverflow.com/questions/32643409/type-guard-for-union-type-function-regexp-does-not-work/32644025#32644025", "title": "Type guard for union type (Function | RegExp) does not work", "body": "<p>Edit: Type guards on functions using <code>typeof</code> work in TS 2.0+. This should no longer be an issue.</p>\n\n<p>So as pointed out in the issue below, the current supported way is to use <code>instanceof</code>...</p>\n\n<pre><code>var a: ((input: any) =&gt; boolean) | string | RegExp = \"foobar\";\n\nif (a instanceof Function) {\n    a(100); // ok\n}\n</code></pre>\n\n<p>However, there's some new discussion in <a href=\"https://github.com/Microsoft/TypeScript/issues/4868\" rel=\"nofollow noreferrer\">#4868</a> about supporting using <code>typeof</code>.</p>\n\n<hr>\n\n<p><strong>Original Answer</strong></p>\n\n<p>What you're saying does seem like a bug to me.</p>\n\n<p>For now, you could use a user defined type guard:</p>\n\n<pre><code>function isFunction(obj: any) : obj is Function {\n    return typeof obj === \"function\";\n}\n\nif (isFunction(a)) {\n    a(10);\n}\n</code></pre>\n\n<p>Or assert to the any type and then assert to the type of the function:</p>\n\n<pre><code>(a as any as (input: any) =&gt; boolean)(100);\n</code></pre>\n\n<p>I've opened issue <a href=\"https://github.com/Microsoft/TypeScript/issues/4850\" rel=\"nofollow noreferrer\">#4850</a> to inquire about this.</p>\n"}], "owner": {"reputation": 194, "user_id": 1209240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joNYG.png?s=128&g=1", "display_name": "naruto", "link": "https://stackoverflow.com/users/1209240/naruto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 1, "accepted_answer_id": 32644025, "answer_count": 1, "score": 2, "last_activity_date": 1492700338, "creation_date": 1442547259, "last_edit_date": 1442646855, "question_id": 32643409, "link": "https://stackoverflow.com/questions/32643409/type-guard-for-union-type-function-regexp-does-not-work", "title": "Type guard for union type (Function | RegExp) does not work", "body": "<p>This code seems to cause a compile error (checked with TypeScript 1.6.2):</p>\n\n<pre><code>var a: ((input: any) =&gt; boolean) | string | RegExp = \"foobar\";\nif (typeof a === 'function') {\n    a(100); // compile error here\n}\n</code></pre>\n\n<p>The compiler says <code>error TS2349: Cannot invoke an expression whose type lacks a call signature.</code></p>\n\n<p>I entered this in the TS Playground and found that <code>a</code> has a type <code>((input: any) =&gt; boolean) | RegExp</code> inside the if-clause, which was not what I expected. Of course <code>typeof /abc/</code> returns <code>'object'</code>, so I believe <code>a</code> should never be a regular expression in the if-clause.</p>\n\n<p>I guess this is somehow related to <a href=\"https://github.com/Microsoft/TypeScript/issues/4612\" rel=\"nofollow\">this issue</a> and \"aggressive subtype reduction\", but I'm not sure about that.</p>\n\n<p>Explicit type assertion (<code>(&lt;Function&gt;a)(100)</code>) did not solve my problem. Is there a quick workaround?</p>\n\n<p><strong>EDIT</strong>: Updated the question because it turned out that this was not a 1.6-specific issue.</p>\n"}, {"tags": ["typescript", "reactjs-flux", "flux"], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 1, "last_activity_date": 1442547288, "creation_date": 1442547288, "answer_id": 32643419, "question_id": 32643016, "link": "https://stackoverflow.com/questions/32643016/can-typescript-exports-be-overloaded/32643419#32643419", "title": "Can TypeScript exports be overloaded?", "body": "<p>It's using declaration merging. What is happening behind the scenes is essentially something like this:</p>\n\n<pre><code>// class is defined\nfunction Action(source) {\n    this._source = source;\n}\n\nObject.defineProperty(Action.prototype, \"source\", {\n    get: function () {\n        return this._source;\n    },\n    enumerable: true,\n    configurable: true\n});\n\n// enum is defined on the Source property of Action\u2014NOT on Action's prototype\nAction.Source = ...enum object definition...\n\nexport = Action;\n</code></pre>\n\n<p>Read more about \"Merging Modules with Classes, Functions, and Enums\" in the <a href=\"http://www.typescriptlang.org/Handbook#declaration-merging-merging-modules-with-classes-functions-and-enums\" rel=\"nofollow\">Handbook</a>.</p>\n"}], "owner": {"reputation": 4870, "user_id": 998101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/675e5a123090296c06b6c2d41f6b6d72?s=128&d=identicon&r=PG", "display_name": "XeroxDucati", "link": "https://stackoverflow.com/users/998101/xeroxducati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 32643419, "answer_count": 1, "score": 0, "last_activity_date": 1442547288, "creation_date": 1442544276, "question_id": 32643016, "link": "https://stackoverflow.com/questions/32643016/can-typescript-exports-be-overloaded", "title": "Can TypeScript exports be overloaded?", "body": "<p>I found some weird typescript syntax in looking at flux, that isn't making any sense. For example;</p>\n\n<pre><code>class Action {\n    private _source: Action.Source\n\n    constructor( source: Action.Source ) {\n        this._source = source\n    }\n\n    get source() {\n        return this._source\n    }\n}\n\nmodule Action {\n    export enum Source {\n        View,\n        Server\n    }\n}\n\nexport = Action\n</code></pre>\n\n<p>What exactly does export = Action do here? Is it being overloaded to export the module and the class? Mixing them somehow? I'm not understanding the semantics here..</p>\n"}, {"tags": ["node.js", "typescript", "rxjs", "jake"], "answers": [{"tags": [], "owner": {"reputation": 3611, "user_id": 2742189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2038e19735e13bf3e2be52a12eea8c?s=128&d=identicon&r=PG&f=1", "display_name": "OJ Kwon", "link": "https://stackoverflow.com/users/2742189/oj-kwon"}, "is_accepted": true, "score": 1, "last_activity_date": 1442542829, "creation_date": 1442542829, "answer_id": 32642841, "question_id": 32640996, "link": "https://stackoverflow.com/questions/32640996/how-can-i-change-process-on-into-rxjs-style-based-events/32642841#32642841", "title": "How can I change &#39;process.on&#39; into RxJS style based events?", "body": "<p>I've followed examples of RxJS doc (<a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/fromevent.md\" rel=\"nofollow\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/fromevent.md</a>) </p>\n\n<pre><code>var Rx = require('rx');\nvar EventEmitter = require('events').EventEmitter;\n\nvar eventEmitter = new EventEmitter();\n\nvar source = Rx.Observable.fromEvent(eventEmitter, \"cmdStart\");\nsource.subscribe(function (x) { console.log(\"&gt; \" + x) });\neventEmitter.emit('cmdStart', 'testdata');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "is_accepted": false, "score": 1, "last_activity_date": 1442550832, "creation_date": 1442550832, "answer_id": 32643947, "question_id": 32640996, "link": "https://stackoverflow.com/questions/32640996/how-can-i-change-process-on-into-rxjs-style-based-events/32643947#32643947", "title": "How can I change &#39;process.on&#39; into RxJS style based events?", "body": "<p>It is isn't working because you are emitting <code>command</code>, which is presumably the body of your event and not the event name. The <code>fromEvent</code> will only listen on that single event name.</p>\n\n<p>You should be doing <code>eventEmitter.emit('cmdStart', command)</code>.</p>\n"}], "owner": {"reputation": 1826, "user_id": 1539277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZPrM.jpg?s=128&g=1", "display_name": "Eyal Alon", "link": "https://stackoverflow.com/users/1539277/eyal-alon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 32642841, "answer_count": 2, "score": 1, "last_activity_date": 1442550832, "creation_date": 1442529175, "question_id": 32640996, "link": "https://stackoverflow.com/questions/32640996/how-can-i-change-process-on-into-rxjs-style-based-events", "title": "How can I change &#39;process.on&#39; into RxJS style based events?", "body": "<p>How can listen to NodeJS events with Rx?</p>\n\n<p>I have the following code in my JakeJS file.</p>\n\n<pre><code>process.on(\"cmdStart\", () =&gt; {\n    console.log(\"&gt; \" + command)\n});\n</code></pre>\n\n<p>and I want to do it in RxJS style but I'm not really sure what's the best way to do it.</p>\n\n<p>I've read the docs and tried some of the examples they provide at github but I'm not quite sure, it doesn't seems to work, here is what I've tried.</p>\n\n<pre><code>const eventEmitter: any = new EventEmitter();\n\nconst cmdStart = Rx.Observable.fromEvent(eventEmitter, \"cmdStart\");\n\nconst subscription = cmdStart.subscribe(function (command) {\n    console.log(\"&gt; \" + command)\n});\n\neventEmitter.emit(command);\n</code></pre>\n"}, {"tags": ["typescript", "atom-editor", "angular"], "answers": [{"comments": [{"owner": {"reputation": 1094, "user_id": 693756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/5dPzm.jpg?s=128&g=1", "display_name": "Mike_Laird", "link": "https://stackoverflow.com/users/693756/mike-laird"}, "edited": false, "score": 0, "creation_date": 1442608767, "post_id": 32659033, "comment_id": 53167749, "body": "Yes, so your 4th line becomes - baseURL: &#39;/projectFileName&#39;,  - and it works. I am using a different script source for alpha.37, and it still works.  Thanks."}], "tags": [], "owner": {"reputation": 526, "user_id": 11097, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZbBzp.jpg?s=128&g=1", "display_name": "kenstone", "link": "https://stackoverflow.com/users/11097/kenstone"}, "is_accepted": true, "score": 1, "last_activity_date": 1442602026, "creation_date": 1442602026, "answer_id": 32659033, "question_id": 32639530, "link": "https://stackoverflow.com/questions/32639530/angular2-alpha-37-has-a-breaking-change-affecting-jspm-io-and-page-load/32659033#32659033", "title": "angular2 alpha.37 has a breaking change affecting jspm.io and page load", "body": "<p>Here's how I got it to work with alpha.37:</p>\n\n<pre><code> &lt;script src=\"https://code.angularjs.org/tools/traceur-runtime.js\"&gt;&lt;/script&gt;\n &lt;script src=\"https://code.angularjs.org/tools/system.js\"&gt;&lt;/script&gt;\n &lt;script&gt;\n        System.config({\n            baseURL: '/js',\n            defaultJSExtensions: true\n        });\n &lt;/script&gt;\n &lt;script src=\"https://code.angularjs.org/2.0.0-alpha.37/angular2.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And then at the bottom of the file:</p>\n\n<pre><code> &lt;script&gt;\n    System.import('app');\n&lt;/script&gt;\n</code></pre>\n\n<p>In my example, I have all my JavaScript in a folder <code>/js</code>, which is why I set the <code>baseURL</code> property.</p>\n\n<p>I derived this from a Plunker example I found inside the Angular 2 docs:</p>\n\n<p><a href=\"http://plnkr.co/edit/bRs0SX2OTQiJzqvjgl8P?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/bRs0SX2OTQiJzqvjgl8P?p=preview</a></p>\n"}], "owner": {"reputation": 1094, "user_id": 693756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/5dPzm.jpg?s=128&g=1", "display_name": "Mike_Laird", "link": "https://stackoverflow.com/users/693756/mike-laird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 32659033, "answer_count": 1, "score": 1, "last_activity_date": 1442602026, "creation_date": 1442522156, "question_id": 32639530, "link": "https://stackoverflow.com/questions/32639530/angular2-alpha-37-has-a-breaking-change-affecting-jspm-io-and-page-load", "title": "angular2 alpha.37 has a breaking change affecting jspm.io and page load", "body": "<p>I have been using the Angular2 load scripts, below, for many versions in index.html, and they load a simple test app.  When the alpha number changes from 36 to 37, this no longer works. Loading appears, but the component aimed at this link no longer loads.</p>\n\n<pre><code>&lt;res-app&gt;&lt;h1&gt;Loading . . .&lt;/h1&gt;&lt;/res-app&gt;\n\n&lt;!-- ES6-related imports --&gt;\n&lt;script src=\"https://github.jspm.io/jmcriffey/bower-traceur-runtime@0.0.87/traceur-runtime.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://jspm.io/system@0.16.js\"&gt;&lt;/script&gt;\n&lt;!-- links to angular2 compiler and router. --&gt;\n&lt;script src=\"https://code.angularjs.org/2.0.0-alpha.36/angular2.dev.js\"&gt; &lt;/script&gt; &lt;!--Must be after the 2 es6 above --&gt;\n&lt;script src=\"https://code.angularjs.org/2.0.0-alpha.36/router.dev.js\"&gt;&lt;/script&gt;\n&lt;!--System loads app.ts / app.js --&gt;\n&lt;script&gt;System.import('app').catch(console.log.bind(console));&lt;/script&gt;\n</code></pre>\n\n<p>I'm using atom-typescript in the Atom editor. I get the Console error</p>\n\n<pre><code>Error loading \"app\" at https://registry.jspm.io/app.js\nNot Found: https://registry.jspm.io/app.js\n</code></pre>\n\n<p>I did some searches, tried several things, but got no joy.\nWhat is the new way? </p>\n"}, {"tags": ["interface", "module", "typescript"], "comments": [{"owner": {"reputation": 1585, "user_id": 741786, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d84a212315c36aa367014e73417ca312?s=128&d=identicon&r=PG", "display_name": "Tyson Williams", "link": "https://stackoverflow.com/users/741786/tyson-williams"}, "edited": false, "score": 0, "creation_date": 1442518994, "post_id": 32636310, "comment_id": 53125926, "body": "Actually, this code doesn&#39;t even work.  Even though it type-checks at complie time, at runtime, <code>merge.merge</code> is undefined.  I think the issue is that the <code>merge</code> npm is only a function and not a module."}], "answers": [{"comments": [{"owner": {"reputation": 1585, "user_id": 741786, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d84a212315c36aa367014e73417ca312?s=128&d=identicon&r=PG", "display_name": "Tyson Williams", "link": "https://stackoverflow.com/users/741786/tyson-williams"}, "edited": false, "score": 0, "creation_date": 1442580385, "post_id": 32641481, "comment_id": 53151332, "body": "I get a compile error on the second occurrence of <code>declare</code>: &quot;&#39;declare&#39; modifier not allowed for code already in an ambient context.&quot;  Deleting it removes the compile error, but then the symbol <code>merge</code> cannot be found in the importing file."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1442791632, "last_edit_date": 1442791632, "creation_date": 1442532109, "answer_id": 32641481, "question_id": 32636310, "link": "https://stackoverflow.com/questions/32636310/typescript-working-with-other-javascript-libraries-with-a-single-function/32641481#32641481", "title": "Typescript: Working with Other JavaScript Libraries with a single function", "body": "<p>Use <code>export =</code>. Here is the complete example: </p>\n\n<pre><code>declare module \"merge\" {\n\n    interface Merge {\n        merge(o: Object, ...args: Object[]): Object;\n        merge(isDeep: boolean, o: Object, ...args: Object[]): Object;\n    }\n    var merge:Merge;\n    export = Merge;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "is_accepted": false, "score": 1, "last_activity_date": 1442682661, "creation_date": 1442682661, "answer_id": 32671010, "question_id": 32636310, "link": "https://stackoverflow.com/questions/32636310/typescript-working-with-other-javascript-libraries-with-a-single-function/32671010#32671010", "title": "Typescript: Working with Other JavaScript Libraries with a single function", "body": "<p>ES6 destructuring will extract the specific function for you:</p>\n\n<pre><code>import { merge } from 'merge';\nmerge({x: 1}, {y: 2});\n</code></pre>\n\n<p>You don't have to change the module structure.</p>\n\n<p>More examples here: <a href=\"http://www.2ality.com/2014/09/es6-modules-final.html\" rel=\"nofollow\">http://www.2ality.com/2014/09/es6-modules-final.html</a></p>\n"}], "owner": {"reputation": 1585, "user_id": 741786, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d84a212315c36aa367014e73417ca312?s=128&d=identicon&r=PG", "display_name": "Tyson Williams", "link": "https://stackoverflow.com/users/741786/tyson-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1442791632, "creation_date": 1442510326, "question_id": 32636310, "link": "https://stackoverflow.com/questions/32636310/typescript-working-with-other-javascript-libraries-with-a-single-function", "title": "Typescript: Working with Other JavaScript Libraries with a single function", "body": "<p>In typescript, I understand <a href=\"http://www.typescriptlang.org/Handbook#modules-working-with-other-javascript-libraries\" rel=\"nofollow\">how to specify the shape of an external library</a>.  Consider though the case in which only a single function from the library is needed or the library is only a single (possibly overloaded) function (such as <a href=\"https://www.npmjs.com/package/merge\" rel=\"nofollow\">this library for the function merge</a>).  Having to call the function using the module name -dot- function name is rather verbose:</p>\n\n<p>In file <code>merge.d.ts</code>:</p>\n\n<pre><code>declare module \"merge\" {\n    export function merge(o: Object, ...args: Object[]): Object;\n    export function merge(isDeep: boolean, o: Object, ...args: Object[]): Object\n}\n</code></pre>\n\n<p>In some test file:</p>\n\n<pre><code>///&lt;reference path=\"merge.d.ts\"/&gt;\nimport merge = require('merge');\nmerge.merge({x: 1}, {y: 2});\n</code></pre>\n\n<p>Is there a different way to do this that can effectively replace <code>merge.merge</code> with just <code>merge</code> on line 3 while still doing checking types?</p>\n"}, {"tags": ["javascript", "angularjs", "api", "typescript"], "comments": [{"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442504788, "post_id": 32634305, "comment_id": 53117878, "body": "The site you are making the request to have to give your code permission. CORS is the normal way. JSONP is an old hack. Both require that the site implements them. Access-Control-Allow-Origin is a <b>response</b> header not a request header. useXDomain is <a href=\"https://github.com/angular/angular.js/issues/2956\" rel=\"nofollow noreferrer\">nonsense</a>. You can&#39;t work around this using client side code."}, {"owner": {"reputation": 74, "user_id": 5347059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ece7e8b7cf45160834dada97399783?s=128&d=identicon&r=PG&f=1", "display_name": "6matko", "link": "https://stackoverflow.com/users/5347059/6matko"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442505307, "post_id": 32634305, "comment_id": 53118243, "body": "@Quentin So if I get it right, then the only thing is to parse their web ?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442505446, "post_id": 32634305, "comment_id": 53118331, "body": "You&#39;ll have exactly the same problems scraping the website as you do scraping their API. It will still be a cross origin request."}, {"owner": {"reputation": 74, "user_id": 5347059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ece7e8b7cf45160834dada97399783?s=128&d=identicon&r=PG&f=1", "display_name": "6matko", "link": "https://stackoverflow.com/users/5347059/6matko"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442505662, "post_id": 32634305, "comment_id": 53118477, "body": "@Quentin So there isnt any way for me to get data from provided web?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442505682, "post_id": 32634305, "comment_id": 53118489, "body": "Not by directly accessing it with client side code. Use server side code instead."}, {"owner": {"reputation": 74, "user_id": 5347059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ece7e8b7cf45160834dada97399783?s=128&d=identicon&r=PG&f=1", "display_name": "6matko", "link": "https://stackoverflow.com/users/5347059/6matko"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442513691, "post_id": 32634305, "comment_id": 53123060, "body": "@Quentin Can you explain it a little more detailed please, what exactly do you mean, access via my server side to their server side information ?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442513712, "post_id": 32634305, "comment_id": 53123073, "body": "Make an HTTP request using server side code running on your server."}, {"owner": {"reputation": 74, "user_id": 5347059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ece7e8b7cf45160834dada97399783?s=128&d=identicon&r=PG&f=1", "display_name": "6matko", "link": "https://stackoverflow.com/users/5347059/6matko"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442514403, "post_id": 32634305, "comment_id": 53123502, "body": "@Quentin Thanks a lot, i tryed proof of concept with PHP and it really worked. Will try to figure something out with nodeJS, but you really helped me a lot, you showed me the direction where should I go and how can I achieve my task."}], "owner": {"reputation": 74, "user_id": 5347059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ece7e8b7cf45160834dada97399783?s=128&d=identicon&r=PG&f=1", "display_name": "6matko", "link": "https://stackoverflow.com/users/5347059/6matko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1442504445, "answer_count": 0, "score": 0, "last_activity_date": 1442503958, "creation_date": 1442503718, "last_edit_date": 1442503958, "question_id": 32634305, "link": "https://stackoverflow.com/questions/32634305/get-data-from-csgolounge-api-cross-domain", "closed_reason": "Duplicate", "title": "Get data from csgolounge API (Cross domain)", "body": "<p>I am trying to get list of matches from csgolounge.com website and i know that they have some API that I can access via: http:// csgolounge.com/api/matches but when I am trying to get this JSON with angular, i get error.</p>\n\n<p>1) If I use $http.jsonp, then i get:</p>\n\n<blockquote>\n  <p>Refused to execute script from\n  'http:// csgolounge.com/api/matches?callback=angular.callbacks._0'\n  because its MIME type ('application/json') is not executable, and\n  strict MIME type checking is enabled.</p>\n</blockquote>\n\n<pre><code>  $http.jsonp('http://csgolounge.com/api/matches?callback=JSON_CALLBACK').success(function (data) {\n      console.log(\"success\");\n      $scope.matchArray = data; // response data \n  }).error(function (data) {\n      console.log(\"failed\");\n  });\n</code></pre>\n\n<p>2) If I use $http.get:</p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load <a href=\"http://csgolounge.com/api/matches\" rel=\"nofollow\">http://csgolounge.com/api/matches</a>. No\n  'Access-Control-Allow-Origin' header is present on the requested\n  resource. Origin 'http:// localhost:3000' is therefore not allowed\n  access.</p>\n</blockquote>\n\n<pre><code>    $http.get('http://csgolounge.com/api/matches')\n    .success((data: any) =&gt; {\n      $scope.matchArray = data;\n    })\n    .error((err) =&gt; {\n      console.log('error');\n    });\n</code></pre>\n\n<p>I googled a lot about No 'Access-Control-Allow-Origin' and didnt find anything, that helped me. I have this config as well in my angular app:</p>\n\n<pre><code>  $httpProvider.defaults.useXDomain = true;\n  $httpProvider.defaults.withCredentials = true;\n  delete $httpProvider.defaults.headers.common[\"X-Requested-With\"];\n  $httpProvider.defaults.headers.common[\"Accept\"] = \"application/json\";\n  $httpProvider.defaults.headers.common[\"Content-Type\"] = \"application/json\";\n</code></pre>\n\n<p>I used even <code>$httpProvider.defaults.useXDomain = true;</code> alone and it didnt help me.</p>\n\n<p>Even more, I tryed adding this header into $http.get config (headers):</p>\n\n<pre><code>var cfg: ng.IRequestShortcutConfig = {\n       headers: {\n       'Access-Control-Allow-Origin': 'http://localhost:3000'\n     }};\n</code></pre>\n\n<p>As you see, i have tryed many options. I would be amazingly happy if somebody could try get data from that API, I saw that one website used to do it, but i think they were using jQuery + Ajax, dont know if this affects the result or not.</p>\n"}, {"tags": ["javascript", "angularjs", "angularjs-scope", "typescript"], "comments": [{"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1442502492, "post_id": 32633559, "comment_id": 53116340, "body": "Check your console for errors... based on what you have provided, <code>this.scope.menu</code> is undefined and would error during the call to <code>showDetails</code> Are you able to share the full controller?"}, {"owner": {"reputation": 796, "user_id": 2174484, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/e141b7b902f549d434010157877d9698?s=128&d=identicon&r=PG", "display_name": "appthat", "link": "https://stackoverflow.com/users/2174484/appthat"}, "reply_to_user": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1442504941, "post_id": 32633559, "comment_id": 53117992, "body": "I have scope.menu initialized in the controller as well"}, {"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1442516803, "post_id": 32633559, "comment_id": 53124757, "body": "Without seeing the whole controller its kind of hard to help here. Short of that, I&#39;d add some log statements at the start of each function to assure that they&#39;re being called."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1442532345, "creation_date": 1442532345, "answer_id": 32641519, "question_id": 32633559, "link": "https://stackoverflow.com/questions/32633559/scope-variable-wont-update-on-controller-angularjs-with-typescript/32641519#32641519", "title": "scope variable wont update on controller angularjs with typescript", "body": "<p>From the question: </p>\n\n<ul>\n<li>call function to change scope variable to = true</li>\n<li>call a different function later to check scope variable value</li>\n<li>scope variable still = false</li>\n</ul>\n\n<p>JavaScript <em>is not magic</em>. So the only way this can happen is either : </p>\n\n<ul>\n<li>The function isn't called when you think it. <code>console.log</code> is your best friend to debug this. </li>\n<li>You have the wrong <code>this</code>. Try using an <a href=\"http://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow\">arrow function</a> in all your member functions.</li>\n</ul>\n"}], "owner": {"reputation": 796, "user_id": 2174484, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/e141b7b902f549d434010157877d9698?s=128&d=identicon&r=PG", "display_name": "appthat", "link": "https://stackoverflow.com/users/2174484/appthat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 536, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442532345, "creation_date": 1442501824, "last_edit_date": 1442505675, "question_id": 32633559, "link": "https://stackoverflow.com/questions/32633559/scope-variable-wont-update-on-controller-angularjs-with-typescript", "title": "scope variable wont update on controller angularjs with typescript", "body": "<p>I have a setup with child controller calling a function in a parent controller. The method in the parent controller is called successfully, but when I go back to use the scope variable that function modified, the changes did not take.</p>\n\n<p>ie. </p>\n\n<ol>\n<li>call function to change scope variable to = true </li>\n<li>call a different function later to check scope variable value </li>\n<li>scope variable still = false</li>\n</ol>\n\n<p>First function call:</p>\n\n<pre><code>public showDetails(): void {\n    this.scope.menu.showDetails = true; \n}\n</code></pre>\n\n<p>2cd function call:</p>\n\n<pre><code>// handle menu options\npublic selectMenuOption(type: string): boolean {\n    if (this.scope.menu.showDetails) { // value is still false\n        // DO STUFF\n    }\n}\n</code></pre>\n\n<p>Both of these functions reside in the same controller and access the same controller scope as such.</p>\n\n<p>Besides the constructor initializing the value to false, it is not used anywhere else.</p>\n\n<p>This is not about the view at this point, the variable in the controller is simply not updating. I know that to update the view you need to run $apply in certain scenarios, and I have tried using $apply on showDetails() on the off chance that also applied here. All I just got was an illegal access error which is what you get when running $apply during a $digest cycle.</p>\n\n<p>I have discovered the culprit is going through the child controller to update the value in the parent controller. Even though the child controller calls the parent controller function fine, it doesnt seem to affect the parent controllers scope in this manner. </p>\n\n<p>To fix this I will add this value to the service scope and update the parent scope in that manner. I was trying to avoid this extra step. Unless someone has a solution that doesnt involve the service.</p>\n"}, {"tags": ["angularjs", "typescript", "angular-ui-router"], "comments": [{"owner": {"reputation": 6161, "user_id": 1028039, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6db3ab85fc4196cfaddf4ef52c14ba55?s=128&d=identicon&r=PG", "display_name": "micah", "link": "https://stackoverflow.com/users/1028039/micah"}, "edited": false, "score": 0, "creation_date": 1442500141, "post_id": 32632309, "comment_id": 53114641, "body": "Does the <code>QMC.Klient.List</code> module add <code>ui-router</code> as a dependency?"}, {"owner": {"reputation": 491, "user_id": 1933369, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/fBlNp.jpg?s=128&g=1", "display_name": "Loukas Avramidis", "link": "https://stackoverflow.com/users/1933369/loukas-avramidis"}, "reply_to_user": {"reputation": 6161, "user_id": 1028039, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6db3ab85fc4196cfaddf4ef52c14ba55?s=128&d=identicon&r=PG", "display_name": "micah", "link": "https://stackoverflow.com/users/1028039/micah"}, "edited": false, "score": 0, "creation_date": 1442500186, "post_id": 32632309, "comment_id": 53114673, "body": "Yep, it used to work before I migrated to Typescript."}, {"owner": {"reputation": 6161, "user_id": 1028039, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6db3ab85fc4196cfaddf4ef52c14ba55?s=128&d=identicon&r=PG", "display_name": "micah", "link": "https://stackoverflow.com/users/1028039/micah"}, "edited": false, "score": 0, "creation_date": 1442500363, "post_id": 32632309, "comment_id": 53114793, "body": "The listConfig class doesn&#39;t need the injectable array from the way I see you&#39;re using it. Since you are doing injection and passing it directly to the class. Unknown provider should only be an issue with the <code>.config</code> portion of that code. But since moving to typescript order of things included may have changed, which is why I&#39;m wondering does the module itself list ui-router as a dependency as apposed to some parent module."}, {"owner": {"reputation": 6161, "user_id": 1028039, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6db3ab85fc4196cfaddf4ef52c14ba55?s=128&d=identicon&r=PG", "display_name": "micah", "link": "https://stackoverflow.com/users/1028039/micah"}, "edited": false, "score": 0, "creation_date": 1442500515, "post_id": 32632309, "comment_id": 53114923, "body": "Additionally. If you put this in the typescript playground you&#39;l find the $inject is set at a property of the object until it&#39;s being constructed. So if you&#39;re trying to use the class directly as an injectable that won&#39;t work."}, {"owner": {"reputation": 491, "user_id": 1933369, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/fBlNp.jpg?s=128&g=1", "display_name": "Loukas Avramidis", "link": "https://stackoverflow.com/users/1933369/loukas-avramidis"}, "reply_to_user": {"reputation": 6161, "user_id": 1028039, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6db3ab85fc4196cfaddf4ef52c14ba55?s=128&d=identicon&r=PG", "display_name": "micah", "link": "https://stackoverflow.com/users/1028039/micah"}, "edited": false, "score": 0, "creation_date": 1442501238, "post_id": 32632309, "comment_id": 53115442, "body": "There are a few ways to implement a config file in Typescript, I haven&#39;t had any problem with this way so far, so I don&#39;t think it has anything to do with the way the $inject is implemented. The module is initialized in a different file, but contains all necessary dependencies. The resolve dependencies on the other hand can be tricky, that is where I think the problem lies..."}], "answers": [{"tags": [], "owner": {"reputation": 6161, "user_id": 1028039, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6db3ab85fc4196cfaddf4ef52c14ba55?s=128&d=identicon&r=PG", "display_name": "micah", "link": "https://stackoverflow.com/users/1028039/micah"}, "is_accepted": false, "score": 0, "last_activity_date": 1442501146, "creation_date": 1442501146, "answer_id": 32633288, "question_id": 32632309, "link": "https://stackoverflow.com/questions/32632309/unknown-provider-stateparams-when-using-ui-routers-resolve-in-typescript/32633288#32633288", "title": "Unknown provider: $stateParams when using ui-router&#39;s resolve in Typescript", "body": "<p>Not sure what your problem is exactly because from what I can see this looks valid. The only issue is that the class defines $inject as a property on the object but this won't be set until the class is constructed.</p>\n\n<pre><code>// Correct\nfunction MyObj(a, b, c) {}\nMyObj.$inject = ['a', 'b', 'c'];\n\n// Incorrect\nfunction MyObj(a, b, c) {\n  this.$inject = ['a', 'b', 'c'];\n}\n</code></pre>\n\n<p>You can fix this a number of ways. I'd recommend using a decorator. Mostly because it's awesome.</p>\n\n<pre><code>@injectable\nexport class listConfig {\n    constructor(private $stateProvider, private $urlRouterProvider, private $stateParams, private $qmcPath: string) {}\n}\n\nfunction injectable(target) {\n    var fnStr = target.toString().replace(/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg, '');\n    var result = fnStr.slice(fnStr.indexOf('(')+1, fnStr.indexOf(')')).match(/([^\\s,]+)/g);\n    if(result === null) {\n        result = [];\n    }\n\n    target.$inject = result; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238, "user_id": 2025032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P1aqJ.jpg?s=128&g=1", "display_name": "Tim van Peterson", "link": "https://stackoverflow.com/users/2025032/tim-van-peterson"}, "is_accepted": true, "score": 3, "last_activity_date": 1442502848, "creation_date": 1442502848, "answer_id": 32633975, "question_id": 32632309, "link": "https://stackoverflow.com/questions/32632309/unknown-provider-stateparams-when-using-ui-routers-resolve-in-typescript/32633975#32633975", "title": "Unknown provider: $stateParams when using ui-router&#39;s resolve in Typescript", "body": "<p>Try removing all dependencies of $stateParams, and leave only the parameter in the resolve-function</p>\n"}], "owner": {"reputation": 491, "user_id": 1933369, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/fBlNp.jpg?s=128&g=1", "display_name": "Loukas Avramidis", "link": "https://stackoverflow.com/users/1933369/loukas-avramidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4663, "favorite_count": 0, "accepted_answer_id": 32633975, "answer_count": 2, "score": 1, "last_activity_date": 1442502848, "creation_date": 1442498535, "question_id": 32632309, "link": "https://stackoverflow.com/questions/32632309/unknown-provider-stateparams-when-using-ui-routers-resolve-in-typescript", "title": "Unknown provider: $stateParams when using ui-router&#39;s resolve in Typescript", "body": "<p>I want to convert an Angular ui-router config file with multiple states and resolves to Typescript. </p>\n\n<p>All works well as long as I don't use $stateParams, when I do I get the <code>Unknown provider</code> error. I include <code>$stateParams</code> dependency in the <code>$inject</code>, the <code>constructor</code>, the <code>.config()</code> while also at the <code>resolve</code> function as shown bellow:</p>\n\n<pre><code>interface IMyStateParams extends ng.ui.IStateParamsService {\n    parentObjectId: Guid;\n}\n\nexport class listConfig {\n    $inject = ['$stateProvider', '$urlRouterProvider', '$stateParams', '$qmcPath'];\n\n    constructor(private $stateProvider: ng.ui.IStateProvider, private $urlRouterProvider: ng.ui.IUrlRouterProvider, private $stateParams: IMyStateParams, private $qmcPath: string) {\n        this.init();\n    }\n\n    private init(): void {\n        this.$stateProvider\n            .state('client', {\n                url: '/client/:parentObjectId',\n                views: {\n                    'main': {\n                        templateUrl: 'MainDetail/',\n                        controller: 'ClientDetailController',\n                        controllerAs: 'detailCtrl'\n                    }\n                },\n                resolve: {\n                    clientDetailService: 'clientDetailService',\n                    client: (clientDetailService, $stateParams) =&gt; {\n                        return clientDetailService.getClientDetail(this.$stateParams.parentObjectId)\n                            .then(function (data) {\n                                return data;\n                            });\n                    },\n                    clientWVs: function (clientDetailService) {\n                        return clientDetailService.getClientDetailWVs()\n                            .then(function (result) {\n                                return result;\n                            });\n                    }\n                }\n            });\n        }\n    }\n}\n\n(() =&gt; {\n    angular\n        .module('QMC.Klient.List')\n        .config(['$stateProvider', '$urlRouterProvider', '$stateParams', '$qmcPath', // more dependencies\n            ($stateProvider, $urlRouterProvider, $stateParams, $qmcPath) =&gt; {\n                return new QMC.Klient.List.listConfig($stateProvider, $urlRouterProvider, $stateParams, $qmcPath);\n            }\n        ]);\n})();\n</code></pre>\n\n<p>What is the proper way to include a dependency like that?</p>\n\n<p>Ps. I also tried <code>this.$stateParams</code>, same result.</p>\n"}, {"tags": ["javascript", "jquery", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 3698, "user_id": 888734, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/ce2e5173122139c4631afec1da7382fe?s=128&d=identicon&r=PG", "display_name": "user888734", "link": "https://stackoverflow.com/users/888734/user888734"}, "edited": false, "score": 0, "creation_date": 1442492428, "post_id": 32629989, "comment_id": 53109355, "body": "Could you include the code for the ValueRangeModalController?"}, {"owner": {"reputation": 3698, "user_id": 888734, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/ce2e5173122139c4631afec1da7382fe?s=128&d=identicon&r=PG", "display_name": "user888734", "link": "https://stackoverflow.com/users/888734/user888734"}, "edited": false, "score": 0, "creation_date": 1442493346, "post_id": 32629989, "comment_id": 53109924, "body": "Actually, my guess would be that something in jQuery dialog is preventing your javascript events. What part of the DOM is the second dialog being added to? jQuery modal dialog has an internal &quot;_keepFocus&quot; method that will call event.preventDefault() on any mousedowns on the dialog overlay (the div that makes it modal)"}, {"owner": {"reputation": 5851, "user_id": 2948261, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/qWOwk.png?s=128&g=1", "display_name": "Razvan B.", "link": "https://stackoverflow.com/users/2948261/razvan-b"}, "edited": false, "score": 0, "creation_date": 1442495578, "post_id": 32629989, "comment_id": 53111340, "body": "Have you tried to add the <code>autofocus</code> attr on the input? or you mean you can&#39;t click it?"}, {"owner": {"reputation": 148, "user_id": 2090125, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae944bcdb15f0bce592f827351315a6b?s=128&d=identicon&r=PG", "display_name": "TKirahvi", "link": "https://stackoverflow.com/users/2090125/tkirahvi"}, "edited": false, "score": 0, "creation_date": 1442496380, "post_id": 32629989, "comment_id": 53111892, "body": "Autofocus doesn&#39;t help, clicking it doesn&#39;t do anything. user888734: see my edit."}], "owner": {"reputation": 148, "user_id": 2090125, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae944bcdb15f0bce592f827351315a6b?s=128&d=identicon&r=PG", "display_name": "TKirahvi", "link": "https://stackoverflow.com/users/2090125/tkirahvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 604, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442496266, "creation_date": 1442491753, "last_edit_date": 1495541652, "question_id": 32629989, "link": "https://stackoverflow.com/questions/32629989/typescript-angularjs-app-in-a-jquery-dialog-cant-get-focus-on-2nd-dialog", "title": "Typescript AngularJS app in a jQuery dialog, can&#39;t get focus on 2nd dialog", "body": "<p><strong><em>I have a simple web page with button that opens a jQuery dialog:</em></strong> </p>\n\n<pre><code>$(\"#openDialog\").click(function(e) {\n    openMyDialog();\n});\n\nfunction openMyDialog() {\n    $( \"#dialog\" ).dialog({\n      modal: true\n    });\n}\n</code></pre>\n\n<p><strong><em>Now, the #dialog contains angular application:</em></strong> </p>\n\n<pre><code>   &lt;div id=\"dialog\" ng-app=\"my-app\"&gt;&lt;my-directive&gt;&lt;/mydirective&lt;/div&gt;\n</code></pre>\n\n<blockquote>\n  <p>That angular app is written with Typescript. Application has a svg\n  element that contains a button which opens another dialog. That dialog\n  has two input fields in it and when values are inserted the svg image\n  on the background updates accordingly.</p>\n  \n  <p>This all works just fine when I use angular app independently but when\n  it opens in a jquery dialog, I cannot get focus to the 2nd dialog\n  input fields. Developer tools shows the input field as:</p>\n</blockquote>\n\n<pre><code>&lt;input type=\"text\" name=\"minValue\" ng-model=\"range.minValue\" ng-value=\"range.minValue\" size=\"2\" class=\"value-range-element ng-pristine ng-valid ng-touched\"&gt;\n</code></pre>\n\n<p><strong>The second dialog is created like this:</strong> </p>\n\n<pre><code>showValueRangeModal(valueRange: ValueRange, templatePath: string) {\n        var modalInstance = this.modalService.open(\n            {\n                templateUrl: templatePath + 'modals/valueRange.html',\n                windowClass: 'my-modal-container',\n                controller: MyApp.Controllers.ValueRangeModalController,\n                resolve: {\n                    range: () =&gt; valueRange\n                }\n\n            });\n\n        modalInstance.result.then(range =&gt; {\n            valueRange = range;\n        });\n    }\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>I've tried this <a href=\"https://stackoverflow.com/a/26036102/2090125\">https://stackoverflow.com/a/26036102/2090125</a> without\n  any luck.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>EDIT: Here's the controller (not much to see here):</strong></p>\n\n<pre><code>module MyApp.Controllers {\n'use strict';\n\nimport ValueRange = MyApp.Models.DrawingModel.ValueRange;\n\nexport class ValueRangeModalController {\n\n    static $inject = ['$scope', '$modalInstance', 'range'];\n\n    constructor($scope, $modalInstance: ng.ui.bootstrap.IModalServiceInstance, range: ValueRange) {\n        $scope.range = range;\n\n        $scope.save = () =&gt; {\n            $modalInstance.close($scope.range);\n        }\n        $scope.cancel = () =&gt; {\n            $modalInstance.dismiss();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Basically the DOM is like this (when both dialogs are open):</strong></p>\n\n<pre><code>&lt;body&gt;\n    &lt;button id=\"openDialog\"&gt;open&lt;/button&gt;\n\n    &lt;div class=\"ui-dialog ui-widget etc...\"&gt;\n        &lt;div class=\"ui-dialog-titlebar ...\"&gt;&lt;/div&gt;\n        &lt;div id=\"dialog\" ng-app=\"my-app\" class=\"...\"&gt;Here is the ng-app contents&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div modal-render=\"true\" role=\"dialog\" class=\"modal ...\"&gt;\n        &lt;div class=\"modal-dialog\"&gt;\n            &lt;div class=\"modal-content\" modal-transclude&gt;\n                &lt;div id=\"value-rante-modal-container\"&gt;\n                    Contents of the 2nd dialog with input fields\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "interface", "typescript", "typescript1.6"], "answers": [{"comments": [{"owner": {"reputation": 2300, "user_id": 5460631, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RU2fp.png?s=128&g=1", "display_name": "Leon Adler", "link": "https://stackoverflow.com/users/5460631/leon-adler"}, "edited": false, "score": 1, "creation_date": 1461934720, "post_id": 32645992, "comment_id": 61436957, "body": "As a sidenote for future readers: Inline functions can also be defined without the <code>function</code> keyword: <code>{ message: &#39;ahoy-hoy!&#39;, do() { alert(this.message); }}</code>. This syntax is just a shorthand for a normal function and does not bind a lexical <code>this</code> like arrow functions."}, {"owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "edited": false, "score": 0, "creation_date": 1489397704, "post_id": 32645992, "comment_id": 72636188, "body": "Should have used <code>do=()=&gt;{ ... }</code> instead - the assignment makes sure it&#39;s using the <code>Doable</code> instance scope even if called from an event handler etc."}], "tags": [], "owner": {"reputation": 671, "user_id": 5345882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baa26f0e354b73da9f7b758cade40a6?s=128&d=identicon&r=PG&f=1", "display_name": "jezzer", "link": "https://stackoverflow.com/users/5345882/jezzer"}, "is_accepted": true, "score": 18, "last_activity_date": 1442560494, "creation_date": 1442560494, "answer_id": 32645992, "question_id": 32628864, "link": "https://stackoverflow.com/questions/32628864/anonymous-inline-interface-implementation-in-typescript/32645992#32645992", "title": "Anonymous/inline interface implementation in TypeScript", "body": "<p>OK, I finally discovered the problem to question 2 - I was using the fat arrow <code>=&gt;</code> to declare the object's method here:</p>\n\n<pre><code>doThatThing(&lt;Doable&gt;{ \n    private message: 'ahoy-hoy!', \n    do: () =&gt; { // using fat arrow: global scope replaces new object's scope\n        alert(this.message);\n    }\n});\n</code></pre>\n\n<p>...which \"sucked\" the global scope into the method. The problem is fixed using the longer syntax, like so:</p>\n\n<pre><code>doThatThing(&lt;Doable&gt;{\n    private message: 'ahoy-hoy!',\n    do: function() { // using \"regular\" anonymous function syntax, \"this\" meaning is preserved\n        alert(this.message);\n    }\n});\n</code></pre>\n\n<p>So in summary:</p>\n\n<ol>\n<li>unanswered;</li>\n<li>There was a typo in my code, and I should have been using \"function()\" instead of \"=>\"; and,</li>\n<li>Type-asserting the object with the interface removes the compiler error.</li>\n</ol>\n"}], "owner": {"reputation": 671, "user_id": 5345882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baa26f0e354b73da9f7b758cade40a6?s=128&d=identicon&r=PG&f=1", "display_name": "jezzer", "link": "https://stackoverflow.com/users/5345882/jezzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17810, "favorite_count": 5, "accepted_answer_id": 32645992, "answer_count": 1, "score": 39, "last_activity_date": 1442560494, "creation_date": 1442488060, "last_edit_date": 1495541454, "question_id": 32628864, "link": "https://stackoverflow.com/questions/32628864/anonymous-inline-interface-implementation-in-typescript", "title": "Anonymous/inline interface implementation in TypeScript", "body": "<p>I've just started with TypeScript and I'm trying to understand why the following inline object definition isn't considered valid. I have a collection of objects - their type is irrelevant (to me), but they implement the interface so that when I iterate through them I know that the interface methods will be present in each object in the collection.</p>\n\n<p>I came across a \"compiler\" error when I tried to create an object with private information required to implement the required method:</p>\n\n<pre><code>interface Doable {\n    do();\n}\n\nfunction doThatThing (doableThing: Doable) {\n    doableThing.do();\n}\n\ndoThatThing({\n    private message: 'ahoy-hoy!', // compiler error here\n    do: () =&gt; {\n        alert(this.message);\n    }\n});\n</code></pre>\n\n<p>The compiler error message is <strong>\"Argument of type <code>'{ message: string, do: () =&gt; void; }'</code> is not assignable to type Doable. Object literal must specify known properties, and 'message' does not exist in type Doable\"</strong>. Note that the same message is given if I define the object outside of the function call, i.e.</p>\n\n<pre><code>var thing: Doable;\nthing = {\n    private message: 'ahoy-hoy!', // error here\n    do: () =&gt; {\n        alert(this.message);\n    }\n};\ndoThatThing(thing);\n</code></pre>\n\n<p>The same error occurs if I add \"unexpected\" methods as well:</p>\n\n<pre><code>doThatThing({\n    do: () =&gt; {\n        alert(\"ahoy hoy\");\n    },\n    doSecretly: () =&gt; { // compiler error here now\n        alert(\"hi there\");\n    }\n});\n</code></pre>\n\n<p>I looked at the JavaScript and discovered that <code>this</code> within the inline object definition was being scoped to the global object: </p>\n\n<pre><code>var _this = this; // wait, no, why!?\nfunction doThatThing(doableThing) {\n    doableThing.do();\n}\ndoThatThing({\n    message: 'ahoy-hoy!',\n    do: function () {\n        alert(_this.message); // uses global \n    }\n});\n</code></pre>\n\n<p>I tried searching for information on inline implementations of interfaces in TypeScript, but couldn't find anything speaking to this issue specifically. </p>\n\n<p>I can confirm that the \"fixed\" compiled JS works as intended:</p>\n\n<pre><code>function doThatThing(doableThing) {\n    doableThing.do();\n}\n\ndoThatThing({\n    message: 'ahoy-hoy!',\n    do: function () {\n        alert(this.message);\n    }\n});\n</code></pre>\n\n<p>...and that makes sense to me, because (as far as I understand) this is implicitly calling the Object constructor, so <code>this</code> should be scoped to the new Object instance.</p>\n\n<p>It seems like the only solution is to declare each implementation as a class implementing the interface, but that feels really regressive/heavy-handed since I'm only going to have one instance of each class. If the only contract with the called function is implementing the interface, then why can't the object contain additional members?</p>\n\n<p>Sorry, this turned out longer than I intended ...in summary, I'm asking:</p>\n\n<ol>\n<li>Why is that inline interface implementation (\"anonymous class\", as would be said <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"noreferrer\">in Java</a>) considered invalid in TypeScript? Specifically, what does that compiler error mean, and what does it protect against?</li>\n<li>Why is the scope-reassignment to the global object generated in the \"compiled\" JavaScript?</li>\n<li>Assuming it's my error (e.g. that the compiler error is necessary for protecting against some undesirable condition), is the only solution really to explicitly declare a class in advance, like so? </li>\n</ol>\n\n\n\n<pre><code>interface Doable {\n    do() : void;\n}\n\nclass DoableThingA implements Doable { // would prefer to avoid this ...\n    private message: string = 'ahoy-hoy';\n    do() {\n        alert(this.message);\n    }\n}\n\nclass DoableThingB implements Doable { // ... as well as this, since there will be only one instance of each\n    do() {\n        document.getElementById(\"example\").innerHTML = 'whatever';\n    }\n}\n\nfunction doThatThing (doableThing: Doable) {\n    doableThing.do();\n}\n\nvar things: Array&lt;Doable&gt;;\nthings = new Array&lt;Doable&gt;();\nthings.push(new DoableThingA());\nthings.push(new DoableThingB());\n\nfor (var i = 0; i &lt; things.length; i++) {\n    doThatThing(things[i]);\n}\n</code></pre>\n\n<p>P.S. The compiler error only appeared when I upgraded to TS 1.6 today, although the faulty scope bug in the compiled JS occurs in both 1.6 and 1.5.</p>\n\n<p><strong>Update: Fran\u00e7ois Cardinaux provided a link to <a href=\"https://stackoverflow.com/questions/31816061/why-am-i-getting-an-error-object-literal-may-only-specify-known-properties/31816062#31816062\">this answer</a>, which recommends using a type assertion, but <em>this only removes the compiler error and actually causes a logic error due to improper scope</em>:</strong></p>\n\n<pre><code>interface Doable {\n    do();\n}\n\nfunction doThatThing (doableThing: Doable) {\n    doableThing.do();\n}\n\ndoThatThing(&lt;Doable&gt;{ // assert that this object is a Doable\n    private message: 'ahoy-hoy!', // no more compiler error here\n    do: () =&gt; {\n        alert(this.message);\n    }\n});\n</code></pre>\n\n<p>Looking at the compiled JS, this is incorrect:</p>\n\n<pre><code>var _this = this; // very wrong, and now hidden\nfunction doThatThing(doableThing) {\n    doableThing.do();\n}\ndoThatThing({\n    message: 'ahoy-hoy!',\n    do: function () {\n        alert(_this.message); // s/b \"this.message\", which works in JS (try it)\n    }\n});\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1442532501, "creation_date": 1442532501, "answer_id": 32641543, "question_id": 32627930, "link": "https://stackoverflow.com/questions/32627930/angular-typescript-amd-duplication/32641543#32641543", "title": "Angular + TypeScript + AMD = duplication?", "body": "<blockquote>\n  <p>Is there a better way to both use Angular dependency injection and strong typing in an AMD project</p>\n</blockquote>\n\n<p>This was an issue with angular 1.x dependency injection. The Angular module system was <em>independent</em> of the traditional Browser module systems in existance (e.g. AMD). </p>\n\n<p>So you do need to import it twice. Once the Type, next the DI. </p>\n"}], "owner": {"reputation": 31, "user_id": 3844462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e861c196825f77e973a0a62f40f19132?s=128&d=identicon&r=PG&f=1", "display_name": "timpcc", "link": "https://stackoverflow.com/users/3844462/timpcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1442532501, "creation_date": 1442485116, "question_id": 32627930, "link": "https://stackoverflow.com/questions/32627930/angular-typescript-amd-duplication", "title": "Angular + TypeScript + AMD = duplication?", "body": "<p>I've been developing in Angular for a few months and am now investigating whether it's worth moving to TypeScript for my development. One of the issues I'm having is the duplication when using external modules and injecting services. For example I have this (simplified) code:</p>\n\n<pre><code>///&lt;reference path=\"../../../../typings/tsd.d.ts\" /&gt;\n\n// imports for strong typing\nimport audioModel = require('app/plugins/audio/audio.model');\n\nexport class AudioController {\n\n    public model: audioModel;\n\n    static $inject = ['$scope', '$q', 'AudioModel'];\n    constructor(protected $scope, protected $q, protected AudioModel:audioModel) {\n        this.model = new AudioModel();\n    }\n\n}\n</code></pre>\n\n<p>The <em>AudioModel</em> is an Angular factory defined in the external module 'audio.model.ts', so it seems to me that I'm injecting it twice - once using Angular, and again using the TypeScript import to get strong typing. </p>\n\n<p>Is there a better way to both use Angular dependency injection and strong typing in an AMD project?</p>\n"}, {"tags": ["enums", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 5343123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fa1JC.jpg?s=128&g=1", "display_name": "codelegant", "link": "https://stackoverflow.com/users/5343123/codelegant"}, "edited": false, "score": 0, "creation_date": 1442492623, "post_id": 32629557, "comment_id": 53109471, "body": "Your suggestion is very helpfull,thanks for your answer :)"}, {"owner": {"reputation": 563, "user_id": 5343123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fa1JC.jpg?s=128&g=1", "display_name": "codelegant", "link": "https://stackoverflow.com/users/5343123/codelegant"}, "edited": false, "score": 0, "creation_date": 1442623272, "post_id": 32629557, "comment_id": 53172116, "body": "If I wanna to make a type check to the parameter <code>e</code> of the function <code>enumHasValue</code>,just like <code>function enumHasValue(e:??,v:string)</code>,how to make it?"}, {"owner": {"reputation": 18028, "user_id": 2039244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyBkc.png?s=128&g=1", "display_name": "sdgluck", "link": "https://stackoverflow.com/users/2039244/sdgluck"}, "reply_to_user": {"reputation": 563, "user_id": 5343123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fa1JC.jpg?s=128&g=1", "display_name": "codelegant", "link": "https://stackoverflow.com/users/5343123/codelegant"}, "edited": false, "score": 0, "creation_date": 1442648437, "post_id": 32629557, "comment_id": 53177123, "body": "<a href=\"https://stackoverflow.com/questions/30774874/enum-as-parameter-in-typescript\">Take a look at this question</a>."}], "tags": [], "owner": {"reputation": 18028, "user_id": 2039244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyBkc.png?s=128&g=1", "display_name": "sdgluck", "link": "https://stackoverflow.com/users/2039244/sdgluck"}, "is_accepted": false, "score": 1, "last_activity_date": 1442492686, "last_edit_date": 1442492686, "creation_date": 1442490359, "answer_id": 32629557, "question_id": 32627697, "link": "https://stackoverflow.com/questions/32627697/typescript-function-accept-argument-value-from-an-enum/32629557#32629557", "title": "TypeScript function accept argument value from an enum", "body": "<p>What you could do is accept a String and <a href=\"https://stackoverflow.com/a/18112157/2039244\">check that it exists in the Enum</a>, like so:</p>\n\n<pre><code>enum Gender {Male, Female};\n\nfunction validGender(c: String) {\n    if(enumHasValue(Gender, c)) {\n        document.write(`valid gender: ${c}`);\n    } else {\n        document.write(`invalid gender: ${c}`);\n    }\n}\n\nfunction enumHasValue(e, v) {\n    for (var enumMember in e) {\n        if (enumMember === v) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvalidGender(\"Female\"); // =&gt; \"valid gender: Female\"\ndocument.write(\"&lt;br/&gt;\");\nvalidGender(\"Alien\"); // =&gt; \"invalid gender: Alien\"\n</code></pre>\n\n<p>Try this example out in the <a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow\">TypeScript Playground</a> (copy and paste it in and press <em>Run</em>).</p>\n"}, {"comments": [{"owner": {"reputation": 563, "user_id": 5343123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fa1JC.jpg?s=128&g=1", "display_name": "codelegant", "link": "https://stackoverflow.com/users/5343123/codelegant"}, "edited": false, "score": 0, "creation_date": 1442675243, "post_id": 32668288, "comment_id": 53185140, "body": "Wow,it&#39;s a neat solution,but as your function: <code>parseGender(0)=&gt;0;parseGender(&quot;male&quot;)=&gt;0</code> ,then I change <code>gender = Gender[value];</code> to <code>gender = &lt;Type&gt;value;</code>;so <code>parseGender(0)=&gt;0;parseGender(&quot;male&quot;)=&gt;&quot;male&quot;</code>. Did I do something wrong?"}], "tags": [], "owner": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "is_accepted": false, "score": 1, "last_activity_date": 1442666175, "creation_date": 1442666175, "answer_id": 32668288, "question_id": 32627697, "link": "https://stackoverflow.com/questions/32627697/typescript-function-accept-argument-value-from-an-enum/32668288#32668288", "title": "TypeScript function accept argument value from an enum", "body": "<p>You can create a function to parse the <code>gender</code> parameter, like this:</p>\n\n<pre><code>function parseGender(value : Gender | number | string) {\n  var gender;\n  if (value === Number(value)) {\n    gender = &lt;Gender&gt;value;\n  }\n  else if (value === String(value)) {\n    if (&lt;string&gt;value in Gender) {\n      gender = Gender[value];\n    }\n  }\n\n  if (!gender) throw new TypeError(\"The parameter gender is incorrect\");\n  return gender;\n}\n</code></pre>\n\n<p>And then you can use it inside your function:</p>\n\n<pre><code>function judgeGender(gender : Gender | number | string) {\n  var g = parseGender(gender);\n\n  // do whatever you want with g\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2071, "user_id": 6100785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Q9qz.jpg?s=128&g=1", "display_name": "Rodris", "link": "https://stackoverflow.com/users/6100785/rodris"}, "is_accepted": false, "score": 1, "last_activity_date": 1500516235, "creation_date": 1500516235, "answer_id": 45203880, "question_id": 32627697, "link": "https://stackoverflow.com/questions/32627697/typescript-function-accept-argument-value-from-an-enum/45203880#45203880", "title": "TypeScript function accept argument value from an enum", "body": "<p>You can specify which values your function can receive.</p>\n\n<pre><code>type Male = \"male\";\ntype Female = \"female\";\n\nenum Gender {\n    Male = Male,\n    Female = Female\n}\n\nfunction judgeGender(gender: Gender | Male | Female) {\n    //......\n}\n\njudgeGender(Gender.Male);\njudgeGender(\"male\");\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 5343123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fa1JC.jpg?s=128&g=1", "display_name": "codelegant", "link": "https://stackoverflow.com/users/5343123/codelegant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1971, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1500516235, "creation_date": 1442484350, "last_edit_date": 1442491999, "question_id": 32627697, "link": "https://stackoverflow.com/questions/32627697/typescript-function-accept-argument-value-from-an-enum", "title": "TypeScript function accept argument value from an enum", "body": "<p>Code below,the parameter <code>gender</code> is <code>enum type</code>,the value must be one of <code>[\"male\",\"female\"]</code>,but I want to use it simply like this <code>judgeGender(\"male\")</code>,how can I make it?\n</p>\n\n<pre><code>function judgeGender(gender){\n    //......\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1465268479, "post_id": 32627328, "comment_id": 62817523, "body": "possible duplicate of <a href=\"http://stackoverflow.com/q/30898686/1048572\">ES6 - Convert from &#39;require&#39; to &#39;import&#39;</a> - not sure because of the Typescript involvement though"}], "answers": [{"comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1442532796, "post_id": 32627831, "comment_id": 53131660, "body": "by using <code>const Rx = require(&#39;rx&#39;)</code> you are <i>switching off type checking for the <code>Rx</code> variable</i>.  Don&#39;t do this."}, {"owner": {"reputation": 1826, "user_id": 1539277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZPrM.jpg?s=128&g=1", "display_name": "Eyal Alon", "link": "https://stackoverflow.com/users/1539277/eyal-alon"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1442539793, "post_id": 32627831, "comment_id": 53133244, "body": "Yup, I know but it seems like I have no choice."}], "tags": [], "owner": {"reputation": 1826, "user_id": 1539277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZPrM.jpg?s=128&g=1", "display_name": "Eyal Alon", "link": "https://stackoverflow.com/users/1539277/eyal-alon"}, "is_accepted": false, "score": 0, "last_activity_date": 1442484802, "creation_date": 1442484802, "answer_id": 32627831, "question_id": 32627328, "link": "https://stackoverflow.com/questions/32627328/how-would-i-rewrite-this-statement-in-typescript-es6-style-eventemitter-requi/32627831#32627831", "title": "How would I rewrite this statement in TypeScript ES6 style &#39;EventEmitter = require(&#39;events&#39;).EventEmitter&#39;?", "body": "<p>Never mind it works! it's just an issue with Rx definition files.</p>\n\n<p>I changed the following.</p>\n\n<pre><code>import * as Rx from \"rx\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>const Rx = require('rx')\n</code></pre>\n\n<p>and kept the ES6 import style to import the EventEmitter.</p>\n"}, {"comments": [{"owner": {"reputation": 1826, "user_id": 1539277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZPrM.jpg?s=128&g=1", "display_name": "Eyal Alon", "link": "https://stackoverflow.com/users/1539277/eyal-alon"}, "edited": false, "score": 0, "creation_date": 1442533813, "post_id": 32641580, "comment_id": 53131937, "body": "What exactly do you mean by using the Rx event emitter? what do I need to do in order for it to work?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 1826, "user_id": 1539277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZPrM.jpg?s=128&g=1", "display_name": "Eyal Alon", "link": "https://stackoverflow.com/users/1539277/eyal-alon"}, "edited": false, "score": 0, "creation_date": 1442538260, "post_id": 32641580, "comment_id": 53132944, "body": "Sorry. I was wrong. Fixed answer after reading the docs and investigating further"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1442538241, "last_edit_date": 1442538241, "creation_date": 1442532752, "answer_id": 32641580, "question_id": 32627328, "link": "https://stackoverflow.com/questions/32627328/how-would-i-rewrite-this-statement-in-typescript-es6-style-eventemitter-requi/32641580#32641580", "title": "How would I rewrite this statement in TypeScript ES6 style &#39;EventEmitter = require(&#39;events&#39;).EventEmitter&#39;?", "body": "<blockquote>\n  <p>Argument of type 'EventEmitter' is not assignable</p>\n</blockquote>\n\n<p>Reading the docs : <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/fromevent.md\" rel=\"nofollow\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/fromevent.md</a> your example <em>should definitely work</em>. </p>\n\n<p>This is a bug in the definitions for RX. The type definitions should explicitly support <code>EventEmitter</code> or make it compatible with EventEmitter instances.</p>\n"}, {"tags": [], "owner": {"reputation": 1826, "user_id": 1539277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZPrM.jpg?s=128&g=1", "display_name": "Eyal Alon", "link": "https://stackoverflow.com/users/1539277/eyal-alon"}, "is_accepted": true, "score": 0, "last_activity_date": 1442539917, "creation_date": 1442539917, "answer_id": 32642485, "question_id": 32627328, "link": "https://stackoverflow.com/questions/32627328/how-would-i-rewrite-this-statement-in-typescript-es6-style-eventemitter-requi/32642485#32642485", "title": "How would I rewrite this statement in TypeScript ES6 style &#39;EventEmitter = require(&#39;events&#39;).EventEmitter&#39;?", "body": "<p>I don't like the <em>solution</em> but what I did to make it work is switch off the types using 'any'. </p>\n\n<pre><code>var eventEmitter: any = new EventEmitter();\n</code></pre>\n"}], "owner": {"reputation": 1826, "user_id": 1539277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZPrM.jpg?s=128&g=1", "display_name": "Eyal Alon", "link": "https://stackoverflow.com/users/1539277/eyal-alon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1289, "favorite_count": 0, "accepted_answer_id": 32642485, "answer_count": 3, "score": 1, "last_activity_date": 1487219345, "creation_date": 1442483333, "last_edit_date": 1442484296, "question_id": 32627328, "link": "https://stackoverflow.com/questions/32627328/how-would-i-rewrite-this-statement-in-typescript-es6-style-eventemitter-requi", "title": "How would I rewrite this statement in TypeScript ES6 style &#39;EventEmitter = require(&#39;events&#39;).EventEmitter&#39;?", "body": "<p>Like the title states, I would like to rewrite the statement below in TypeScript</p>\n\n<pre><code>EventEmitter = require('events').EventEmitter\n</code></pre>\n\n<p>to ES6 style</p>\n\n<pre><code>import {EventEmitter} from \"events\"\n</code></pre>\n\n<p>I'm not sure whether these two are equivalent, in fact I <em>think</em> they aren't because when I'm trying to use RxJS with the second statement above it doesn't compile the example below whereas it does with the first one.</p>\n\n<p>I'm getting the following error when I'm using the second statement above.</p>\n\n<pre><code>.build/lib/process.ts(12,3): error TS2345: Argument of type 'EventEmitter' is not assignable to parameter of type '{ on: (name: string, cb: (e: any) =&gt; any) =&gt; void; off: (name: string, cb: (e: any) =&gt; any) =&gt; vo...'.\n    Property 'off' is missing in type 'EventEmitter'.\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var EventEmitter = require('events').EventEmitter,\n    Rx = require('rx');\n\nvar eventEmitter = new EventEmitter();\n\nvar source = Rx.Observable.fromEvent(\n  eventEmitter,\n  'data',\n  function (foo, bar) { return { foo: bar, bar: bar }; });\n\nvar subscription = source.subscribe(\n  function (x) {\n    console.log('Next: foo -' + x.foo + ', bar -' + x.bar);\n  },\n  function (err) {\n    console.log('Error: ' + err);\n  },\n  function () {\n    console.log('Completed');\n  });\n\neventEmitter.emit('data', 'baz', 'quux');\n// =&gt; Next: foo - baz, bar - quux\n</code></pre>\n"}]