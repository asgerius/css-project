[{"tags": ["ios", "http", "angular", "typescript", "nativescript"], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 3822676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/349d9a36db0fae12cb5befb98e2e3f53?s=128&d=identicon&r=PG&f=1", "display_name": "Danny908", "link": "https://stackoverflow.com/users/3822676/danny908"}, "is_accepted": false, "score": 0, "last_activity_date": 1490370117, "creation_date": 1490370117, "answer_id": 43003725, "question_id": 41602686, "link": "https://stackoverflow.com/questions/41602686/http-request-on-nativescript-not-working-after-add-arbitrary-loads-on-info-plist/43003725#43003725", "title": "Http request on NativeScript not working after add Arbitrary Loads on Info.plist", "body": "<blockquote>\n  <p>Looks like iOS doesn't support this kind of concatenation only Android\n  does: </p>\n  \n  <ul>\n  <li><strong><code>${variable}/some-data</code></strong></li>\n  </ul>\n  \n  <p>On the http request it's necessary do it in the <code>classic</code> way: </p>\n  \n  <ul>\n  <li><strong>variable+'/some-data'</strong></li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 381, "user_id": 3822676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/349d9a36db0fae12cb5befb98e2e3f53?s=128&d=identicon&r=PG&f=1", "display_name": "Danny908", "link": "https://stackoverflow.com/users/3822676/danny908"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490370117, "creation_date": 1484177377, "question_id": 41602686, "link": "https://stackoverflow.com/questions/41602686/http-request-on-nativescript-not-working-after-add-arbitrary-loads-on-info-plist", "title": "Http request on NativeScript not working after add Arbitrary Loads on Info.plist", "body": "<p>I'm getting starting with NativeScript, actually I'm doing the Quickstart.</p>\n\n<ul>\n<li><em><a href=\"http://docs.nativescript.org/angular/tutorial/ng-chapter-1\" rel=\"nofollow noreferrer\">here is the page</a></em></li>\n</ul>\n\n<p>I read on a similar question that it's necessary enable the http request from Info.plist, this is the content of the file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;\n    &lt;string&gt;en&lt;/string&gt;\n    &lt;key&gt;CFBundleDisplayName&lt;/key&gt;\n    &lt;string&gt;Groceries&lt;/string&gt;\n    &lt;key&gt;CFBundleExecutable&lt;/key&gt;\n    &lt;string&gt;${EXECUTABLE_NAME}&lt;/string&gt;\n    &lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;\n    &lt;string&gt;6.0&lt;/string&gt;\n    &lt;key&gt;CFBundleName&lt;/key&gt;\n    &lt;string&gt;${PRODUCT_NAME}&lt;/string&gt;\n    &lt;key&gt;CFBundlePackageType&lt;/key&gt;\n    &lt;string&gt;APPL&lt;/string&gt;\n    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;\n    &lt;string&gt;1.0&lt;/string&gt;\n    &lt;key&gt;CFBundleSignature&lt;/key&gt;\n    &lt;string&gt;????&lt;/string&gt;\n    &lt;key&gt;CFBundleVersion&lt;/key&gt;\n    &lt;string&gt;1.0&lt;/string&gt;\n    &lt;key&gt;LSRequiresIPhoneOS&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;UILaunchStoryboardName&lt;/key&gt;\n    &lt;string&gt;LaunchScreen&lt;/string&gt;\n    &lt;key&gt;UIRequiresFullScreen&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;UIRequiredDeviceCapabilities&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;armv7&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UISupportedInterfaceOrientations&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UISupportedInterfaceOrientations~ipad&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationPortraitUpsideDown&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UIViewControllerBasedStatusBarAppearance&lt;/key&gt;\n    &lt;false/&gt;\n    &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n        &lt;true/&gt;\n        &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;api.everlive.com&lt;/key&gt;\n            &lt;string&gt;&lt;/string&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n\n<p>Screen of the file:\n<a href=\"https://i.stack.imgur.com/mZisp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mZisp.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I run the app just don't work on iOS platform:\n <a href=\"https://i.stack.imgur.com/G63e7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G63e7.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the console output:</p>\n\n<pre><code>CONSOLE LOG file:///app/shared/user/user.service.ts:50:20: {\"line\":40,\"column\":37,\"sourceURL\":\"file:///app/tns_modules/http/http-request.js\"}\n</code></pre>\n\n<p>Supposedly the app should work with the lines added on Info.plist, any idea about what I'm doing wrong.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 1, "creation_date": 1484173470, "post_id": 41601793, "comment_id": 70406343, "body": "What is happened with <code>splice</code>? Why it is broken?"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484173739, "post_id": 41601793, "comment_id": 70406461, "body": "@timocov see update"}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484174826, "post_id": 41601793, "comment_id": 70406882, "body": "Behavior is the same <a href=\"https://www.typescriptlang.org/play/index.html#src=class%20SuperArray%3CT%3E%20extends%20Array%3CT%3E%20%7B%0D%0A%20%20%20%20public%20splice(start%3F%3A%20number%2C%20deleteCount%3F%3A%20number%2C%20...items%3A%20T%5B%5D)%3A%20T%5B%5D%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20super.splice(start%2C%20deleteCount%2C%20...items)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0Alet%20s%20%3D%20new%20SuperArray(1%2C%202%2C%203)%3B%0D%0As.splice(0)%3B%0D%0Aconsole.log(s)%3B%0D%0Alet%20v%20%3D%20%5B1%2C%202%2C%203%5D%3B%0D%0Av.splice(0)%3B%0D%0Aconsole.log(v)%3B\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1484178976, "post_id": 41601793, "comment_id": 70408287, "body": "Your &quot;super splice&quot; frankly just wouldn&#39;t work as defined, it&#39;s totally ambiguous. Suppose you had a super array of numbers, how exactly is that function supposed to behave?"}], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1484174770, "creation_date": 1484174770, "answer_id": 41602117, "question_id": 41601793, "link": "https://stackoverflow.com/questions/41601793/typescript-arrayt-splice-override/41602117#41602117", "title": "TypeScript Array&lt;T&gt;.splice override", "body": "<p>It seems that the reason this happens is that <code>deleteCount</code> is <code>undefined</code>, and if you try this:</p>\n\n<pre><code>let a = [1, 2, 3];\na.splice(0, undefined); // []\nconsole.log(a); /// [1, 2, 3]\n</code></pre>\n\n<p>Exactly the same thing.<br>\nTo get over this, you'll need to build the arguments array yourself, something like this:</p>\n\n<pre><code>class MyArray&lt;T&gt; extends Array&lt;T&gt; {\n    public splice(start?: number, deleteCount?: number, ...items: T[]): T[] {\n        if (start == undefined) {\n            start = 0; // not sure here, but you wanted it to be optional\n        }\n\n        if (deleteCount == undefined) {\n            deleteCount = this.length - start; // the default\n        }\n\n        const args = ([start, deleteCount] as any[]).concat(items);\n        return super.splice.apply(this, args);\n    }\n}\n</code></pre>\n\n<p>Or something like:</p>\n\n<pre><code>public splice(start?: number, deleteCount?: number, ...items: T[]): T[] {\n    if (deleteCount != undefined) {\n        return super.splice(start, deleteCount, ...items);\n    } else {\n        return super.splice(start, ...items);\n    }\n}\n</code></pre>\n\n<p>But I haven't tested this one.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "accepted_answer_id": 41602117, "answer_count": 1, "score": 1, "last_activity_date": 1484174770, "creation_date": 1484173295, "last_edit_date": 1484173732, "question_id": 41601793, "link": "https://stackoverflow.com/questions/41601793/typescript-arrayt-splice-override", "title": "TypeScript Array&lt;T&gt;.splice override", "body": "<p>Within a class that derives from <code>Array&lt;T&gt;</code>, I have a <code>splice</code> override:</p>\n\n<pre><code>public splice(start?: number, deleteCount?: number, ...items: T[]): T[] {\n    return super.splice(start, deleteCount, ...items);\n}\n</code></pre>\n\n<p>Which compiles to...</p>\n\n<pre><code>SuperArray.prototype.splice = function (start, deleteCount) {\n    var items = [];\n    for (var _i = 2; _i &lt; arguments.length; _i++) {\n        items[_i - 2] = arguments[_i];\n    }\n\n    return _super.prototype.splice.apply(this, [start, deleteCount].concat(items));\n};\n</code></pre>\n\n<p>This doesn't work at all. It completely breaks splice! Is there something wrong with the way it compiles this <code>.apply(this, [start, deleteCount].concat(items))</code> and how do I fix it?</p>\n\n<p>What is happened with splice? Why it is broken?</p>\n\n<pre><code>array.splice(0); // array unaffected\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic2", "ngmodel"], "comments": [{"owner": {"reputation": 7382, "user_id": 1045296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc97eb54e4e25584d3277aab8bbcdd65?s=128&d=identicon&r=PG&f=1", "display_name": "Code Spy", "link": "https://stackoverflow.com/users/1045296/code-spy"}, "edited": false, "score": 0, "creation_date": 1543405326, "post_id": 41601514, "comment_id": 93905832, "body": "Check this if helps <a href=\"https://www.freakyjolly.com/angular-2-not-reflecting-change-in-variable-and-model-value-passed-in-component-method-as-parameter-argument-resolved/\" rel=\"nofollow noreferrer\">freakyjolly.com/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1457, "user_id": 2620440, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/voJKZ.jpg?s=128&g=1", "display_name": "Agust&#237;n", "link": "https://stackoverflow.com/users/2620440/agust%c3%adn"}, "edited": false, "score": 3, "creation_date": 1484175375, "post_id": 41601768, "comment_id": 70407081, "body": "yeah I get that, besides, here that is working, as I just edited the post, the [value] of the input gets updated successfully, but that change never hits the ngModel. If I edit the input, the ngModel gets updated, that&#39;s what you are showing me, that works. But I need it to be updated by other inputs, like a consecuence of other input value changes"}, {"owner": {"reputation": 923, "user_id": 1371297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/133f4fec9498509525f897faa8d4e7d9?s=128&d=identicon&r=PG", "display_name": "bunjeeb", "link": "https://stackoverflow.com/users/1371297/bunjeeb"}, "reply_to_user": {"reputation": 1457, "user_id": 2620440, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/voJKZ.jpg?s=128&g=1", "display_name": "Agust&#237;n", "link": "https://stackoverflow.com/users/2620440/agust%c3%adn"}, "edited": false, "score": 0, "creation_date": 1484176268, "post_id": 41601768, "comment_id": 70407390, "body": "I believe that you need to deal with totalPrice as a readonly or calculated property .. in the example I&#39;m using a method to calculate the total. In the same method you can set the totalPrice and the change will be broadcasted to other components, expressions ...I hope that it helps! :)"}], "tags": [], "owner": {"reputation": 923, "user_id": 1371297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/133f4fec9498509525f897faa8d4e7d9?s=128&d=identicon&r=PG", "display_name": "bunjeeb", "link": "https://stackoverflow.com/users/1371297/bunjeeb"}, "is_accepted": false, "score": 14, "last_activity_date": 1484174715, "last_edit_date": 1484174715, "creation_date": 1484173212, "answer_id": 41601768, "question_id": 41601514, "link": "https://stackoverflow.com/questions/41601514/angular-2-ngmodel-not-updating-after-value-changes/41601768#41601768", "title": "Angular 2 - [(ngModel)] not updating after [value] changes", "body": "<p>Actually <code>[]</code> means bind data and <code>()</code> mean emit changes / or let say raise an event with these changes form this UI control <code>&lt;ion-input&gt;</code>. \nSo <code>[()]</code> doesn't mean two way data binding. \nIt means: </p>\n\n<ul>\n<li>bind data using <code>[]</code></li>\n<li>raise input changes <code>()</code>.</li>\n</ul>\n\n<p><a href=\"https://plnkr.co/edit/vV39j37NYcncDRY8aI7t?p=preview\" rel=\"noreferrer\">Check this example</a> it shows many ways of binding data with input and how to raise changes.</p>\n"}, {"comments": [{"owner": {"reputation": 1457, "user_id": 2620440, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/voJKZ.jpg?s=128&g=1", "display_name": "Agust&#237;n", "link": "https://stackoverflow.com/users/2620440/agust%c3%adn"}, "edited": false, "score": 1, "creation_date": 1484175284, "post_id": 41601823, "comment_id": 70407050, "body": "The ngModelChange thing doesn&#39;t work either. It&#39;s really weird because the value in the input GETS UPDATED, but not the expression {{product.totalPrice}}, I guess the value is updating because the other fields are, but those value changes never actually hit the ngModel"}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "reply_to_user": {"reputation": 1457, "user_id": 2620440, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/voJKZ.jpg?s=128&g=1", "display_name": "Agust&#237;n", "link": "https://stackoverflow.com/users/2620440/agust%c3%adn"}, "edited": false, "score": 0, "creation_date": 1484175640, "post_id": 41601823, "comment_id": 70407178, "body": "I updated the second example my answer. Try adding a ngModel exportAs attribute statement and removing the template reference variable. This is assuming this element is within some type of &lt;form&gt; with ngForm directive in play. Let me know if that works."}], "tags": [], "owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "is_accepted": false, "score": 4, "last_activity_date": 1484175509, "last_edit_date": 1484175509, "creation_date": 1484173459, "answer_id": 41601823, "question_id": 41601514, "link": "https://stackoverflow.com/questions/41601514/angular-2-ngmodel-not-updating-after-value-changes/41601823#41601823", "title": "Angular 2 - [(ngModel)] not updating after [value] changes", "body": "<p>You could try using <code>(ngModelChange)</code> to effectively watch for value changes and updating the <code>product.totalPrice</code>. It would looke something like this.</p>\n\n<pre><code>&lt;ion-item&gt;\n    &lt;ion-label&gt;Total price: {{product.totalPrice}}&lt;/ion-label&gt;\n    &lt;ion-input \n        type=\"number\"\n        [value]=\"product.quantity * product.price\"\n        [(ngModel)]=\"product.totalPrice\" \n        [ngModelOptions]=\"{ standalone: true }\"&gt;&lt;/ion-input&gt;\n        (ngModelChange)=\"product.totalPrice = $event\"\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>If this element is wrapped in <code>&lt;form&gt;</code> element and ngForm exportAs <code>#someForm=\"ngForm\"</code> you can use <a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#ref-vars\" rel=\"nofollow noreferrer\">template reference variable</a> and use that in the label instead. Something like this:</p>\n\n<pre><code>&lt;ion-item&gt;\n    &lt;ion-label&gt;Total price: {{product.totalPrice}}&lt;/ion-label&gt;\n    &lt;ion-input \n        type=\"number\"\n        [value]=\"product.quantity * product.price\"\n        [(ngModel)]=\"product.totalPrice\" \n        [ngModelOptions]=\"{ standalone: true }\"\n        name=\"totalPrice\"\n        #totalPrice=\"ngModel\"&gt;&lt;/ion-input&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>Hopefully this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 520, "user_id": 8353346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86117e2add8adc4b5f1f396546c2ec75?s=128&d=identicon&r=PG&f=1", "display_name": "Gerros", "link": "https://stackoverflow.com/users/8353346/gerros"}, "is_accepted": false, "score": 4, "last_activity_date": 1500817814, "creation_date": 1500817814, "answer_id": 45265824, "question_id": 41601514, "link": "https://stackoverflow.com/questions/41601514/angular-2-ngmodel-not-updating-after-value-changes/45265824#45265824", "title": "Angular 2 - [(ngModel)] not updating after [value] changes", "body": "<p>I also ran into the problem that the two-way-binding had not updated the model when changing the input of the input field. In my case I found out that the property I was binding to was a read only property. To find this out I had to split up the two-way-binding:</p>\n\n<pre><code>[ngModel]=\"data.name\" (ngModelChange)=\"testMethod($event)\"\n</code></pre>\n\n<p>and the method:</p>\n\n<pre><code>testMethod($event) {data.name = $event}\n</code></pre>\n\n<p>Then I got the read only exception.</p>\n"}, {"comments": [{"owner": {"reputation": 8843, "user_id": 1153121, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/917abd6048213a10a381471a03d0891b?s=128&d=identicon&r=PG", "display_name": "Cody", "link": "https://stackoverflow.com/users/1153121/cody"}, "edited": false, "score": 0, "creation_date": 1529682345, "post_id": 46552904, "comment_id": 88977553, "body": "This is actually this correct answer to <b>Bidirectional ngModel bindings for updating a parent value</b>."}, {"owner": {"reputation": 5247, "user_id": 1101602, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/141bc9a3d98f85b746c6825316c81fd7?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1101602/patrick"}, "edited": false, "score": 0, "creation_date": 1580860145, "post_id": 46552904, "comment_id": 106234953, "body": "Can you solve the question the OP asked using your method to illustrate how the OP would use it?"}, {"owner": {"reputation": 2519, "user_id": 1775763, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/fMHkJ.jpg?s=128&g=1", "display_name": "RezKesh", "link": "https://stackoverflow.com/users/1775763/rezkesh"}, "edited": false, "score": 0, "creation_date": 1610455626, "post_id": 46552904, "comment_id": 116133349, "body": "registerOnChange only register a function to be called when the model is changed by the component. But here we need something to change the model when it&#39;s values is changed by the parent component. I have the same problem in my code. I make change in the component, it&#39;s applied. I change the model in the parent component, nothing happens"}], "tags": [], "owner": {"reputation": 307, "user_id": 4003573, "user_type": "registered", "profile_image": "https://graph.facebook.com/648288122/picture?type=large", "display_name": "Lewis Campbell", "link": "https://stackoverflow.com/users/4003573/lewis-campbell"}, "is_accepted": false, "score": 10, "last_activity_date": 1580912637, "last_edit_date": 1580912637, "creation_date": 1507062497, "answer_id": 46552904, "question_id": 41601514, "link": "https://stackoverflow.com/questions/41601514/angular-2-ngmodel-not-updating-after-value-changes/46552904#46552904", "title": "Angular 2 - [(ngModel)] not updating after [value] changes", "body": "<p>So I know that I'm late to the party, but seeing as none of the other answers are correct, I thought I'd add the solution in case anyone else ends up on this page. </p>\n\n<p>When creating a custom component that accepts ngModel, the component must implement the ControlValueAccessor interface. Which is detailed below</p>\n\n<pre><code>interface ControlValueAccessor {  \n  writeValue(obj: any): void\n  registerOnChange(fn: any): void\n  registerOnTouched(fn: any): void\n  setDisabledState(isDisabled: boolean): void\n}\n</code></pre>\n\n<p>In order to register a change made by the component, the component must call the onChange method provided by the registerOnChange method.</p>\n\n<p>For example, if we register our onChange method like so:</p>\n\n<pre><code> onChange: any = () =&gt; { };\n registerOnChange(fn) {\n   this.onChange = (obj) =&gt; fn(obj);\n }\n</code></pre>\n\n<p>When ever our component makes a change to the value, we must execute the following line</p>\n\n<pre><code>this.onChange(this.value)\n</code></pre>\n\n<p>Hopes this helps.</p>\n\n<p>Edit</p>\n\n<p>When I first answered this question, for some reason I was under the impression that a custom child component was not updating the parent component. Rereading it now, it seems that either there was an issue with the ionic-input or the OP was incorrectly using it. </p>\n\n<p>This answer better suits how one would create a component and have it update a property of it's parent using NgModel</p>\n"}], "owner": {"reputation": 1457, "user_id": 2620440, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/voJKZ.jpg?s=128&g=1", "display_name": "Agust&#237;n", "link": "https://stackoverflow.com/users/2620440/agust%c3%adn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60151, "favorite_count": 0, "answer_count": 4, "score": 15, "last_activity_date": 1580912637, "creation_date": 1484172204, "last_edit_date": 1567061748, "question_id": 41601514, "link": "https://stackoverflow.com/questions/41601514/angular-2-ngmodel-not-updating-after-value-changes", "title": "Angular 2 - [(ngModel)] not updating after [value] changes", "body": "<p>I'm setting the the value of an input calculating two other ngModels, and that seems to be working fine. But if I inspect my ngModel, it doesn't change at all. Let me show you:</p>\n\n<pre><code>&lt;ion-item&gt;\n    &lt;ion-label&gt;Total price: {{product.totalPrice}}&lt;/ion-label&gt;\n    &lt;ion-input \n        type=\"number\"\n        [value]=\"product.quantity * product.price\"\n        [(ngModel)]=\"product.totalPrice\" \n        [ngModelOptions]=\"{ standalone: true }\"&gt;&lt;/ion-input&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>So here <code>{{product.totalPrice}}</code> shows the initial value, which is fine. If I change manually that input, the changes will be reflected on the expression, that is also fine. But that input will be <code>readonly</code> and it will be set by changing two other inputs. When I change them, I see the value on the input is updating just fine, but not the expression in the label. What's wrong there?</p>\n\n<p>It's really weird because the value in the input GETS UPDATED, but not the expression <code>{{product.totalPrice}}</code>, I guess the value is updating because the other fields are, but those value changes never actually hit the <code>ngModel</code> </p>\n\n<p>By the way, I'm using Ionic 2</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 67, "user_id": 3904278, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4535aee7d9d966f0f41397e51d7cf61c?s=128&d=identicon&r=PG&f=1", "display_name": "codek", "link": "https://stackoverflow.com/users/3904278/codek"}, "edited": false, "score": 0, "creation_date": 1484233709, "post_id": 41601452, "comment_id": 70434297, "body": "How i can solve It using Observables?"}], "answers": [{"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 67, "user_id": 3904278, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4535aee7d9d966f0f41397e51d7cf61c?s=128&d=identicon&r=PG&f=1", "display_name": "codek", "link": "https://stackoverflow.com/users/3904278/codek"}, "edited": false, "score": 0, "creation_date": 1484242251, "post_id": 41617557, "comment_id": 70440296, "body": "You are welcome, glad I could help! if you&#39;d kindly accept my answer by clicking the tick under the vote for this answer, I would be even happier :P"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 2, "last_activity_date": 1484236435, "creation_date": 1484236435, "answer_id": 41617557, "question_id": 41601452, "link": "https://stackoverflow.com/questions/41601452/error-is-not-a-function-when-call-from-component-to-model-method/41617557#41617557", "title": "Error is not a function when call from component to model method", "body": "<p>This should clear up with just changing your subscription a bit, like so:</p>\n\n<pre><code>ngOnInit() { \n    this.newservice.getNews()\n        .subscribe(data =&gt; {\n            data.forEach(n =&gt; {\n                let newsObj: News = new News(n.id, n.title, n.news, n.path, n.date);\n                this.news.push(newsObj);\n            })\n        });\n}\n</code></pre>\n\n<p>This way each news will be a instance of <code>News</code> and will have appropriate methods, such as your toggleState-method.</p>\n\n<p>Hope this helps! </p>\n"}], "owner": {"reputation": 67, "user_id": 3904278, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4535aee7d9d966f0f41397e51d7cf61c?s=128&d=identicon&r=PG&f=1", "display_name": "codek", "link": "https://stackoverflow.com/users/3904278/codek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 0, "accepted_answer_id": 41617557, "answer_count": 1, "score": 1, "last_activity_date": 1484242225, "creation_date": 1484171900, "last_edit_date": 1484242225, "question_id": 41601452, "link": "https://stackoverflow.com/questions/41601452/error-is-not-a-function-when-call-from-component-to-model-method", "title": "Error is not a function when call from component to model method", "body": "<p>I'm getting this error when I try to call from my component template to model method.</p>\n\n<pre><code>error in ./NewsListComponent class NewsListComponent - inline template:3:12 caused by: self.context.$implicit.toggleState\n</code></pre>\n\n<p>I get news from API and I can see the news on my component template.Then I'm trying to add an (click) event and call to toggleState() method from news. I'm just doing something following the hero tour.</p>\n\n<p>Here I show some code</p>\n\n<hr>\n\n<p><strong>news.model.ts</strong></p>\n\n<pre><code>export class News {\n    constructor(\n        id: number,\n        title: string,\n        news: string,\n        path: string,\n        date: Date,      \n        public state = 'inactive',\n    ) {}\n\n    public toggleState()\n    {\n        this.state = (this.state === 'active' ? 'inactive' : 'active');\n    }\n}\n</code></pre>\n\n<p><strong>news.service.ts</strong></p>\n\n<pre><code>import { Injectable }       from '@angular/core';\nimport { Http, \n         Response, \n         Headers, \n         RequestOptions }   from '@angular/http';\n\nimport { Observable }       from 'rxjs/Observable';\n\nimport { News }             from './news.model';\n\n@Injectable()\nexport class NewsService {\n    private url = 'http://127.0.0.1:8000/app_dev.php/news';\n\n    constructor(private http:Http){}\n\n    getNews(): Observable&lt;News[]&gt; {\n        let headers = new Headers({\n            'Content-Type': 'application/json'\n        });\n        let options = new RequestOptions({\n            headers: headers\n        });\n        return this.http\n                    .get(this.url, options)\n                    .map(this.extractData)\n                    .catch(this.handleError);                    \n    }\n\n    private handleError (error: Response | any) {\n        // In a real world app, we might use a remote logging infrastructure\n        let errMsg: string;\n        if (error instanceof Response) {\n            const body = error.json() || '';\n            const err = body.error || JSON.stringify(body);\n            errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n        } else {\n            errMsg = error.message ? error.message : error.toString();\n        }\n        console.error(errMsg);\n        return Observable.throw(errMsg);\n    }\n\n    private extractData(res: Response) {\n        let body = res.json()\n        return body || { };\n    }   \n}\n</code></pre>\n\n<p><strong>news-list.component.ts</strong></p>\n\n<pre><code>import { \n    Component, \n    OnInit, \n    Input,\n    trigger,\n    state,\n    style,\n    transition,\n    animate }           from '@angular/core';\n\nimport { News }         from './news.model';\nimport { NewsService }  from './news.service';\n\n@Component({\n    selector: 'news-list',   \n    template: `\n        &lt;div class=\"col-sm-8\"&gt;\n            &lt;h2&gt;Noticias&lt;/h2&gt;\n            &lt;div class=\"media\" *ngFor=\"let news_ of news\" \n                [@newsState]=\"news_.state\"\n                (click)=\"news_.toggleState()\"&gt;\n                &lt;div class=\"media-right media-middle\"&gt;\n                    &lt;a href=\"#\"&gt;\n                        IMG\n                    &lt;/a&gt;\n                &lt;/div&gt;\n                &lt;div class=\"media-body media-middle\"&gt;\n                &lt;h4 class=\"media-heading\"&gt;{{news_.title}}&lt;/h4&gt;\n                &lt;p&gt;{{news_.news}}&lt;/p&gt;\n                &lt;hr&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;        \n    `,\n    animations: [\n        trigger('newsState', [\n        state('inactive', style({\n            backgroundColor: '#eee',\n            transform: 'scale(1)'\n        })),\n        state('active',   style({\n            backgroundColor: '#cfd8dc',\n            transform: 'scale(1.1)'\n        })),\n        transition('inactive =&gt; active', animate('100ms ease-in')),\n        transition('active =&gt; inactive', animate('100ms ease-out'))\n        ])\n    ],\n})\nexport class NewsListComponent implements OnInit {\n    error: string;\n    @Input() news: News[];\n    mode = 'Observable';\n    constructor(private newsService: NewsService) {;\n    }\n\n    ngOnInit() {        \n        this.newsService.getNews()\n            .subscribe(\n                (news: News[]) =&gt; this.news = news,\n                error =&gt; this.error = &lt;any&gt;error\n            );\n    }\n}\n</code></pre>\n\n<p><strong>news.module.ts</strong></p>\n\n<pre><code>import { NgModule }             from '@angular/core';\nimport { CommonModule }         from '@angular/common';\n\nimport { NewsService }          from './news.service';\nimport { NewsListComponent }    from './news-list.component';\n\n@NgModule({\n    imports: [\n        CommonModule,  \n    ],\n    declarations: [\n        NewsListComponent        \n    ],\n    providers: [\n        NewsService\n    ],\n    exports: [\n        NewsListComponent\n    ],        \n})\n\nexport class NewsModule {}\n</code></pre>\n\n<p>What am I doing wrong?\nThanks in advance.</p>\n\n<hr>\n\n<p>Edit: Seems the <code>News[]</code> isn't really populated with News objects, if I create a news object explicitly I don't get the error.</p>\n\n<hr>\n\n<p><strong>Problem solved by AJT_82 thanks!!</strong></p>\n\n<pre><code>ngOnInit() { \n    this.newservice.getNews()\n        .subscribe(data =&gt; {\n            data.forEach(n =&gt; {\n                let newsObj: News = new News(n.id, n.title, n.news, n.path, n.date);\n                this.news.push(newsObj);\n            })\n        });\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "spring-data-rest", "angular2-forms"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1484169797, "post_id": 41600898, "comment_id": 70404667, "body": "Trying to convert the JSON object directly to the persistence entity is probably not a good idea; why not introduce a middle tier that knows how to convert one to the other?"}, {"owner": {"reputation": 8816, "user_id": 3342253, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/bHXDR.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/3342253/jan-nielsen"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1484171170, "post_id": 41600898, "comment_id": 70405332, "body": "By design, Spring Data REST does most of that work, @jonrsharpe, (though I do have to patch-up some object references in <code>processPost</code> for the entities to save correctly). I could create a <code>BookJson</code> Java object which has the <code>labelRef</code> array and patch-up that way but it seems like SDR&#39;s intent is to be able to do if it&#39;s encoded properly on the Angular forms side...but perhaps that&#39;s asking too much?"}, {"owner": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1484253110, "post_id": 41600898, "comment_id": 70446228, "body": "The only way I could see to do this would be to either  use a custom Jackson deserializer or split the POST into two requests i.e. One to save the initial book + labels. You then post the recipes with the correct links to the already existing labels. <a href=\"http://docs.spring.io/spring-data/rest/docs/current/reference/html/#_adding_custom_de_serializers_to_jackson_s_objectmapper\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 8816, "user_id": 3342253, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/bHXDR.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/3342253/jan-nielsen"}, "reply_to_user": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1484319211, "post_id": 41600898, "comment_id": 70474281, "body": "@AlanHay -- splitting it into two requests works in my example but I can&#39;t do that in my model which motivated the question. I&#39;ll write-up an answer shortly for the solution I implemented."}], "answers": [{"tags": [], "owner": {"reputation": 8816, "user_id": 3342253, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/bHXDR.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/3342253/jan-nielsen"}, "is_accepted": true, "score": 0, "last_activity_date": 1484323325, "last_edit_date": 1495542752, "creation_date": 1484322291, "answer_id": 41638329, "question_id": 41600898, "link": "https://stackoverflow.com/questions/41600898/properly-de-marshall-angular-formgroup-post-with-linked-objects/41638329#41638329", "title": "Properly de-marshall Angular FormGroup POST with linked objects", "body": "<p><strong>TL;DR;</strong></p>\n\n<p>It's not supported (yet), unfortunately. But you can add support with a bit of custom code.</p>\n\n<h2>Details</h2>\n\n<p>There are two fundamental problems that need to be solved: define a JSON object reference; and, encode client-side JSON object references and decode server-side JSON object references.</p>\n\n<h3>References to JSON objects</h3>\n\n<p>There are a number of proposals for \"standard\" JSON references (see \"<a href=\"https://stackoverflow.com/questions/4001474/json-standard-way-of-referencing-an-object-by-identity-for-eg-circular-refer\">Standard way of referencing an object by identity (for, eg, circular references)?</a>\" for example) but as of 2017 there is no \"standard\".</p>\n\n<h3>Multiple requests</h3>\n\n<p>If you can split the requests, submit the referenced objects first and then use unique relative server-side paths as references to objects:</p>\n\n<pre><code>  /labels/1: {\n    name: 'fruit',\n    description: 'Recipe with fruit.'\n  }\n\n  /labels/2: {\n    name: 'vegetable',\n    description: 'Recipe with vegetables.'\n  }\n\n  /labels/3: {\n    name: 'fish',\n    description: 'Recipe with fish.'\n  } \n</code></pre>\n\n<p>and the second request then uses the server-side paths:</p>\n\n<pre><code>  recipes:[{\n    title: 'Sweet corn and onion salad',\n    description: 'Simple, quick, and refreshing corn salad',\n    labels: [{\n      label: '/labels/1'\n    }]\n  }]\n</code></pre>\n\n<p>Spring Data REST supports this model without any custom code (although you likely will have to patch-up any bi-directional pointers in a more complex model).</p>\n\n<h3>Single request</h3>\n\n<p>If you need to use a single request, choose a JSON object reference model and encode your references accordingly. On the server-side, de-marshall/de-serialize the data using custom code.</p>\n\n<p>Spring Data REST supports <a href=\"http://docs.spring.io/spring-data/rest/docs/current/reference/html/#_adding_custom_de_serializers_to_jackson_s_objectmapper\" rel=\"nofollow noreferrer\">adding custom (de)serializers to Jackson's ObjectMapper</a>. Alternatively, a data transfer object can do the de-marhalling.</p>\n\n<p>I used JSONPath and added a de-serializer to a data transfer object on the server side:</p>\n\n<pre><code>book: {\n  title: 'Cook book',\n  labels:[{\n    name: 'fruit',\n    description: 'Recipe with fruit.'\n  },{\n    name: 'vegetable',\n    description: 'Recipe with vegetables.'\n  },{\n    name: 'fish',\n    description: 'Recipe with fish.'\n  }],\n  recipes:[{\n    title: 'Sweet corn and onion salad',\n    description: 'Simple, quick, and refreshing corn salad',\n    labels: [{\n      label: '$..labels[1]'      &lt;--- using JSONPath reference\n    }]\n  }]\n}\n</code></pre>\n"}], "owner": {"reputation": 8816, "user_id": 3342253, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/bHXDR.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/3342253/jan-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 41638329, "answer_count": 1, "score": 0, "last_activity_date": 1484323325, "creation_date": 1484169572, "question_id": 41600898, "link": "https://stackoverflow.com/questions/41600898/properly-de-marshall-angular-formgroup-post-with-linked-objects", "title": "Properly de-marshall Angular FormGroup POST with linked objects", "body": "<p><strong>TL;DR;</strong></p>\n\n<p>In an Angular 2.x + Spring Data REST + Spring Boot 1.4 application, <strong>how do you define JSON object references which Spring can de-marshall</strong> into the domain model?</p>\n\n<p><strong>Details</strong></p>\n\n<p>For example, if a recipe book contains <code>labels</code> and <code>recipes</code> created at the same time and each <code>recipe</code> has a reference to one or more <code>labels</code>, the representation might look like:</p>\n\n<pre><code>book: {\n  title: 'Cook book',\n  labels:[{            &lt;--- array index used in labelRef below\n    name: 'fruit',\n    description: 'Recipe with fruit.'\n  },{\n    name: 'vegetable',\n    description: 'Recipe with vegetables.'\n  },{\n    name: 'fish',\n    description: 'Recipe with fish.'\n  }],\n  recipes:[{\n    title: 'Sweet corn and onion salad',\n    description: 'Simple, quick, and refreshing corn salad',\n    labels: [{\n      labelRef: 1      &lt;--- using array index as reference\n    }]\n  }]\n}\n</code></pre>\n\n<p>where the array of <code>labelRef</code> using the array index in <code>labels</code> as client-side label identifiers (requiring array order to be guaranteed...). Since <code>labels</code> and <code>recipes</code> are POSTed at the same time, there are no persistent identifiers for either <code>label</code> or <code>recipe</code>. The Angular form for the recipe book is built dynamically so the user can add as many labels and recipes as desired:</p>\n\n<pre><code>    let book =     this._fb.group({\n      title:       this._fb.control(''),\n      labels:      this._fb.array([this.buildLabel()]),\n      recipes:     this._fb.array([this.buildRecipe()])\n    });\n\n  buildLabel(): FormGroup {\n    return         this._fb.group({\n      name:        this._fb.control(''),\n      description: this._fb.control('')\n    });\n  }\n\n  buildRecipe(): FormGroup {\n    return         this._fb.group({\n      title:       this._fb.control(''),\n      description: this._fb.control(''),\n      labels:      this._fb.array([])\n    });\n  }\n\n  buildLabelReference(index: number): FormGroup {\n    return         this._fb.group({\n      labelIndex:  this._fb.control(index)\n    });\n  }\n</code></pre>\n\n<p>The mid-tier representation in Spring Data JPA + Lombok <strong><code>Label</code></strong>:</p>\n\n<pre><code>@Data\n@Entity\n@Table(name = \"LABEL\")\npublic class Label {    \n    @Id\n    @Column(nullable = false)\n    private Long id;\n\n    private String name = \"\";\n    private String description = \"\";\n\n    @ManyToOne(optional=false)\n    @JoinColumn(name=\"book_id\")\n    private Book book;\n}\n</code></pre>\n\n<p><strong><code>Recipe</code></strong>:</p>\n\n<pre><code>@Data\n@Entity\n@Table(name = \"RECIPE\")\npublic class Recipe {\n    @Id\n    @Column(nullable = false)\n    private Long id;\n\n    private String title = \"\";\n    private String description = \"\";\n\n    @OneToMany(cascade={CascadeType.ALL}, mappedBy=\"book\", orphanRemoval=true)\n    @Column(nullable = false)\n    private List&lt;Label&gt; labels = new ArrayList&lt;&gt;();\n\n    @ManyToOne(optional=false)\n    @JoinColumn(name=\"book_id\")\n    private Book book;\n}\n</code></pre>\n\n<p><strong><code>Book</code></strong>:</p>\n\n<pre><code>@Data\n@Entity\n@Table(name = \"BOOK\")\npublic class Book {\n    @Id\n    @Column(nullable = false)\n    private Long id;\n\n    private String title = \"\";\n\n    @OneToMany(cascade={CascadeType.ALL}, mappedBy=\"book\", orphanRemoval=true)\n    @Column(nullable = false)\n    private Set&lt;Label&gt; labels = new HashSet&lt;&gt;();\n\n    @OneToMany(cascade={CascadeType.ALL}, mappedBy=\"book\", orphanRemoval=true)\n    @Column(nullable = false)\n    private List&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n\n<p>The <code>Book</code> is properly de-marhalled in the <code>@RepositoryRestController</code>:</p>\n\n<pre><code>@Slf4j\n@RepositoryRestController\npublic class BookRespositoryRestController {\n\n    private final BookRepository bookRepository;\n    private final LabelRepository labelRepository;\n\n    @RequestMapping(method = RequestMethod.POST,value = \"/books\")\n    public @ResponseBody PersistentEntityResource post(@RequestBody Book book,\n            PersistentEntityResourceAssembler assembler) {\n\n        Book entity = processPost(book);\n\n        return assembler.toResource(entity);\n    }\n</code></pre>\n\n<p><strong>except</strong> for recipe's labels (since <code>labelRef</code> is unknown to the domain model).</p>\n\n<p>So, how do I construct a proper <code>labelRef</code> in my Angular TypeScript application so the <code>Book</code> is also de-marshals the <code>label</code> links in each <code>recipe</code> object?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1484169663, "post_id": 41600840, "comment_id": 70404602, "body": "what does <code>getAttribute(&#39;component&#39;)</code> return ?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1484169711, "post_id": 41600840, "comment_id": 70404617, "body": "It returns <code>TestComponent</code>"}, {"owner": {"reputation": 4507, "user_id": 5436486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/r7hmn.jpg?s=128&g=1", "display_name": "Tareq", "link": "https://stackoverflow.com/users/5436486/tareq"}, "edited": false, "score": 0, "creation_date": 1484169801, "post_id": 41600840, "comment_id": 70404672, "body": "did you try to add <code>public constructor() { super(); }</code> to <code>TestComponent</code> class ? Also, you don&#39;t need to add <code>public</code> to <code>constructor</code> function"}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169853, "post_id": 41600840, "comment_id": 70404704, "body": "Maybe you need add <code>TestComponent</code> to window object? <code>window.TestComponent = TestComponent;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4507, "user_id": 5436486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/r7hmn.jpg?s=128&g=1", "display_name": "Tareq", "link": "https://stackoverflow.com/users/5436486/tareq"}, "is_accepted": false, "score": 0, "last_activity_date": 1484170768, "creation_date": 1484170768, "answer_id": 41601164, "question_id": 41600840, "link": "https://stackoverflow.com/questions/41600840/item-is-not-a-constructor-when-instantiating-as-a-string/41601164#41601164", "title": "Item is not a constructor when instantiating as a string", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Component {\r\n    constructor() {\r\n      console.log('Component created');\r\n    }\r\n}\r\n\r\nclass TestComponent extends Component {\r\n    constructor() {\r\n      super();\r\n    }\r\n  \r\n    click() {\r\n        alert('you clicked me');\r\n    }\r\n}\r\n\r\n\r\nthis._components = new Array();\r\n\r\ngetComponents();\r\n\r\nfunction getComponents() {\r\n  // note TestComponent not 'TestComponent'\r\n    let comps = [TestComponent];\r\n  \r\n    for (var i = 0; i&lt; comps.length; i++) {\r\n      this._components.push(new comps[i]);\r\n      this._components[i].click();\r\n    } \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1484170768, "creation_date": 1484169395, "question_id": 41600840, "link": "https://stackoverflow.com/questions/41600840/item-is-not-a-constructor-when-instantiating-as-a-string", "title": "Item is not a constructor when instantiating as a string", "body": "<p>I am trying to create an instance of an object, but I am getting:</p>\n\n<blockquote>\n  <p>TypeError: window[comps[i]] is not a constructor</p>\n</blockquote>\n\n<p>It is happening in this method (in the for loop):</p>\n\n<pre><code>private getComponents() {\n    let comp = this._element.getAttribute('component');\n    if (!comp) {\n        comp = this._element.getAttribute('data-component');\n    }\n    let comps = comp.split(' ');\n    for (let i = 0, l = comps.length; i &lt; l; i++) {\n        this._components.push(new window[comps[i]]());\n    }\n}\n</code></pre>\n\n<p>This is the class that it is trying to instantiate, but is not</p>\n\n<pre><code>class TestComponent extends Component {\n    public click() {\n        alert('you clicked me');\n    }\n}\n</code></pre>\n\n<p>The component class then looks like this:</p>\n\n<pre><code>class Component {\n\n    public constructor() {\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484167562, "post_id": 41600319, "comment_id": 70403509, "body": "Where is defined <code>purchasable</code>?"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484167655, "post_id": 41600319, "comment_id": 70403556, "body": "@timocov Oops, fixed it. It was meant to be shop."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484167717, "post_id": 41600319, "comment_id": 70403587, "body": "What exactly is the problem? Are you getting an error?"}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 1, "creation_date": 1484167786, "post_id": 41600319, "comment_id": 70403633, "body": "Do you have <code>noImplicitAny</code> compiler option enabled?"}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484168278, "post_id": 41600319, "comment_id": 70403854, "body": "Try this: <code>class BaseShop { } interface ShopContructor { \tnew (index: number): BaseShop; } interface Window { \t[shop: string]: ShopContructor; }</code>"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1484168293, "post_id": 41600319, "comment_id": 70403864, "body": "You need to use type declarations to inform the compiler that you expect those constructors to exist on <code>window</code>."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484168438, "post_id": 41600319, "comment_id": 70403933, "body": "@timocov Yes. I&#39;ll give it a try. Can you post it as an answer so I can pick it as the answer if it works?"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484168880, "post_id": 41600319, "comment_id": 70404179, "body": "@timocov I gave it a try, couldn&#39;t get it to work. I tried setting <code>noImplicitAny</code> to false too, no luck."}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169072, "post_id": 41600319, "comment_id": 70404280, "body": "@Aris What concretely does not work? You get an error or what?"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169154, "post_id": 41600319, "comment_id": 70404326, "body": "@timocov When I set <code>noImplicitAny</code> to false, it compiles but I get an <code>Uncaught TypeError: window[shop] is not a constructor</code>. I didn&#39;t understand your other answer."}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169238, "post_id": 41600319, "comment_id": 70404366, "body": "So, the problem is not in TypeScript :) You have no constructor in <code>window[purchasable]</code>"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169324, "post_id": 41600319, "comment_id": 70404407, "body": "@timocov Yes, it is because those classes are not global on <code>window</code>. What about your trick, though? Can you try that on <code>http:&#47;&#47;www.typescriptlang.org&#47;play&#47;</code>?"}, {"owner": {"reputation": 9173, "user_id": 2765346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nMXhV.png?s=128&g=1", "display_name": "Hristo Eftimov", "link": "https://stackoverflow.com/users/2765346/hristo-eftimov"}, "edited": false, "score": 0, "creation_date": 1484169541, "post_id": 41600319, "comment_id": 70404531, "body": "Try to create a new variable out of the loop which will be your window: <code>let test = window;</code> Then try to access your dynamic class like <code>let instance = new test[shop](index);</code>"}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169618, "post_id": 41600319, "comment_id": 70404579, "body": "Sorry for that :-( It is compiled fine in typescript playground <code>const shops: string[] = [    &quot;AShop&quot;,    &quot;BShop&quot;,    &quot;CShop&quot;, ]; class BaseShop { } interface ShopContructor { \tnew (index: number): BaseShop; } interface Window { \t[shop: string]: ShopContructor; } const instances: BaseShop[] = []; shops.forEach((shop: string, index: number) =&gt; {     let instance = new window[shop](index);     instances.push(instance); }); </code>"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169863, "post_id": 41600319, "comment_id": 70404712, "body": "@timocov I am getting <code>Uncaught TypeError: window[shop] is not a constructor</code> on Typescript playground. Can I get a link to your working example?"}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484169975, "post_id": 41600319, "comment_id": 70404763, "body": "Of course you will get this error because you do not set it to window."}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484170070, "post_id": 41600319, "comment_id": 70404825, "body": "@Aris link is too long to post it as comment here"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484170087, "post_id": 41600319, "comment_id": 70404835, "body": "@timocov URL shortener maybe? :)"}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484170167, "post_id": 41600319, "comment_id": 70404879, "body": "@Aris It is forbidden by stackoverflow"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484170202, "post_id": 41600319, "comment_id": 70404897, "body": "@timocov Maybe you can write it as an answer?"}], "answers": [{"comments": [{"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484171012, "post_id": 41601012, "comment_id": 70405266, "body": "Uncaught TypeError: window[shop] is not a function :("}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484171645, "post_id": 41601012, "comment_id": 70405561, "body": "@Aris But I don&#39;t have <code>window[shop]</code> in this code. I changed it to <code>(&lt;any&gt;window)[shop]</code>."}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484173028, "post_id": 41601012, "comment_id": 70406171, "body": "@AsadSaeeduddin <code>(&lt;any&gt;window)[shop]</code> is compiled to <code>window[shop]</code>"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "edited": false, "score": 0, "creation_date": 1484174886, "post_id": 41601012, "comment_id": 70406908, "body": "@timocov Ah, I didn&#39;t realize this was a runtime error! So the OP doesn&#39;t even have the constructor functions in the global scope? Where are they?"}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": false, "score": 0, "last_activity_date": 1484170170, "creation_date": 1484170170, "answer_id": 41601012, "question_id": 41600319, "link": "https://stackoverflow.com/questions/41600319/creating-class-instances-by-variables-with-typescript/41601012#41601012", "title": "Creating class instances by variables with Typescript", "body": "<p>This is a weird structure, because if you have dynamic classes in the global scope you can't get good type checking for it at compile time. I'd suggest just using <code>&lt;any&gt;</code> here and getting it over with. If you expect certain type guarantees for the resulting instance, you should specify them explicitly using the variable type or casting:</p>\n\n<pre><code>this.shops.forEach((shop, index) =&gt; {\n    let instance = new (&lt;any&gt;window)[shop](index);\n    this.instances.push(instance);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484170925, "post_id": 41601073, "comment_id": 70405223, "body": "Is there any way to get rid of <code>window.AShop = AShop;</code>? I would rather rely on a switch/case actually. Just wanted a magic trick to initialize all the array as a class."}, {"owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484171183, "post_id": 41601073, "comment_id": 70405337, "body": "You can add all classes to an array (instead of their names). <code>const shops: ShopContructor[] = [AShop, BShop, CShop];</code>"}], "tags": [], "owner": {"reputation": 682, "user_id": 3893439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IW9EX.jpg?s=128&g=1", "display_name": "timocov", "link": "https://stackoverflow.com/users/3893439/timocov"}, "is_accepted": true, "score": 1, "last_activity_date": 1484170437, "creation_date": 1484170437, "answer_id": 41601073, "question_id": 41600319, "link": "https://stackoverflow.com/questions/41600319/creating-class-instances-by-variables-with-typescript/41601073#41601073", "title": "Creating class instances by variables with Typescript", "body": "<p>Try this:</p>\n\n<pre><code>const shops: string[] = [\"AShop\", \"BShop\", \"CShop\"];\n\nclass BaseShop {\n    public constructor(index: number) {\n        console.log(index);\n    }\n }\n\nclass AShop extends BaseShop { }\nclass BShop extends BaseShop { }\nclass CShop extends BaseShop { }\n\ninterface ShopContructor {\n    new (index: number): BaseShop;\n}\n\ninterface Window {\n    AShop: ShopContructor;\n    BShop: ShopContructor;\n    CShop: ShopContructor;\n    [shop: string]: ShopContructor;\n}\n\nwindow.AShop = AShop;\nwindow.BShop = BShop;\nwindow.CShop = CShop;\n\nconst instances: BaseShop[] = [];\n\nshops.forEach((shop: string, index: number) =&gt; {\n    let instance = new window[shop](index);\n    instances.push(instance);\n});\n\nconsole.log(instances);\n</code></pre>\n"}], "owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 41601073, "answer_count": 2, "score": 0, "last_activity_date": 1484170437, "creation_date": 1484167296, "last_edit_date": 1484167637, "question_id": 41600319, "link": "https://stackoverflow.com/questions/41600319/creating-class-instances-by-variables-with-typescript", "title": "Creating class instances by variables with Typescript", "body": "<p>Is it possible to convert the following piece of code to work with Typescript?</p>\n\n<pre><code>public shops: string[] = [\n   \"AShop\",\n   \"BShop\",\n   \"CShop\",\n];    \n\nthis.shops.forEach((shop, index) =&gt; {\n    let instance = new window[shop](index);\n    this.instances.push(instance);\n});\n</code></pre>\n\n<p>The following approach doesn't work with <code>Typescript</code> because <code>window</code> is inexistent in the scope. I cannot compile it. (Although it would work with vanilla JS)</p>\n\n<p>Is there a way to treat variable name <code>shop</code> in the loop as an expression and create a dynamic class based on it?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "asp.net-web-api", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 2986, "user_id": 3497559, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/adB61.jpg?s=128&g=1", "display_name": "Nicu", "link": "https://stackoverflow.com/users/3497559/nicu"}, "edited": false, "score": 0, "creation_date": 1484250858, "post_id": 41599878, "comment_id": 70444985, "body": "Can you post your WEB-API configuration ? I suppose the JSON converter does not expect the JSON format in the same way as the standard JSON for example I had a similar problem posting { name: &#39;test&#39; } from front end ant the expected class in the be was { Name: &#39;test&#39; } because of the camel case the WEB-API standard converter could not translate the response. also a request could be helpful"}], "answers": [{"comments": [{"owner": {"reputation": 1355, "user_id": 1443603, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cb3b2b9a9a7ee8db6bc966f6e74a0bda?s=128&d=identicon&r=PG", "display_name": "namrata", "link": "https://stackoverflow.com/users/1443603/namrata"}, "edited": false, "score": 0, "creation_date": 1484166409, "post_id": 41599931, "comment_id": 70402928, "body": "Changed it to : var POCartItems = JSON.stringify(product); return this._http.post(this._creatPOUrl, POCartItems , options)  and at Web API: [HttpPost]public async Task&lt;IHttpActionResult&gt; CreatePOInMO([FromBody] string POCartItems) Still not working."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "reply_to_user": {"reputation": 1355, "user_id": 1443603, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cb3b2b9a9a7ee8db6bc966f6e74a0bda?s=128&d=identicon&r=PG", "display_name": "namrata", "link": "https://stackoverflow.com/users/1443603/namrata"}, "edited": false, "score": 0, "creation_date": 1484166562, "post_id": 41599931, "comment_id": 70402996, "body": "I&#39;m not sure what you mean. The <code>JSON.stringify</code> call is not required. Have a look at the linked documentation/guide."}], "tags": [], "owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "is_accepted": false, "score": 3, "last_activity_date": 1484165695, "creation_date": 1484165695, "answer_id": 41599931, "question_id": 41599878, "link": "https://stackoverflow.com/questions/41599878/post-from-typescript-to-web-api-api-unable-to-pass-a-json-object/41599931#41599931", "title": "POST from Typescript to Web API API, unable to pass a JSON Object", "body": "<p>In Angular 2, when <a href=\"https://angular.io/docs/ts/latest/guide/server-communication.html#!#update\" rel=\"nofollow noreferrer\">posting JSON with the Http client</a>, you should not call <code>JSON.stringify</code>:</p>\n\n<pre><code>this._http.post(this._creatPOUrl, product, options)\n</code></pre>\n"}], "owner": {"reputation": 1355, "user_id": 1443603, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cb3b2b9a9a7ee8db6bc966f6e74a0bda?s=128&d=identicon&r=PG", "display_name": "namrata", "link": "https://stackoverflow.com/users/1443603/namrata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3707, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1484165695, "creation_date": 1484165469, "last_edit_date": 1495535477, "question_id": 41599878, "link": "https://stackoverflow.com/questions/41599878/post-from-typescript-to-web-api-api-unable-to-pass-a-json-object", "title": "POST from Typescript to Web API API, unable to pass a JSON Object", "body": "<p>I am trying to pass a JSON Object from a typescript POST call to a Web API method. \nFiddler shows that the object has been converted into JSON and the Content-Type is 'application/JSON'. But at the API controller, the parameter value displays null instead of JSON.</p>\n\n<p>Typescript: </p>\n\n<pre><code>createPO(product: string): Promise&lt;string&gt; {\n   var headers = new Headers();\n   headers.append('Content-Type', 'application/json');\n   let options = new RequestOptions({ headers: headers });\n   return this._http.post(this._creatPOUrl, JSON.stringify(product), options)\n   .toPromise()\n   .then(response =&gt; &lt;string&gt;response.statusText)\n   .catch(this.handleError);\n   }\n</code></pre>\n\n<p>Web API: \n        [HttpPost]\n        public async Task CreatePOInMO([FromBody] string product)\n        {\n        return Ok();\n        }</p>\n\n<p>product contains null. \nIf I pass the actual value inside product object from typescript(which is a JSON) , it works. But I cannot hard code like this.</p>\n\n<p>I followed this post : <a href=\"https://stackoverflow.com/questions/41574468/angular2-service-not-passing-json-to-webapi\">Angular2 Service not passing JSON to WebAPI</a>\nBut it looks like I am doing whatever is mentioned here.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 9316, "user_id": 1269179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dI0fU.png?s=128&g=1", "display_name": "Clem", "link": "https://stackoverflow.com/users/1269179/clem"}, "edited": false, "score": 0, "creation_date": 1484173691, "post_id": 41601418, "comment_id": 70406436, "body": "Ah well, that makes sense! Thanks!"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1484171762, "creation_date": 1484171762, "answer_id": 41601418, "question_id": 41599825, "link": "https://stackoverflow.com/questions/41599825/typescript-node-modules-in-unexpected-location/41601418#41601418", "title": "TypeScript - node_modules in unexpected location", "body": "<p>You can use <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping\" rel=\"nofollow noreferrer\">paths mapping</a> in tsconfig.json:</p>\n\n<pre><code>  \"compilerOptions\": {\n    ....\n    \"baseUrl\": \".\", // This must be specified if \"paths\" is.\n    \"paths\": {\n      \"rxjs/Rx\": [\"external/node_modules/rxjs/Rx\"]\n    }\n  }\n</code></pre>\n\n<p>You have to add <code>paths</code> mapping for every module you import from non-standard location.</p>\n"}], "owner": {"reputation": 9316, "user_id": 1269179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dI0fU.png?s=128&g=1", "display_name": "Clem", "link": "https://stackoverflow.com/users/1269179/clem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 41601418, "answer_count": 1, "score": 0, "last_activity_date": 1484171762, "creation_date": 1484165239, "question_id": 41599825, "link": "https://stackoverflow.com/questions/41599825/typescript-node-modules-in-unexpected-location", "title": "TypeScript - node_modules in unexpected location", "body": "<p>Is there any way to get typescript imports working if your node_modules are not located in direct tree?</p>\n\n<p>How can I make Typescript not complain when importing something like <code>rxjs</code> from <code>external/node_modules</code>.</p>\n\n<p><strong>Example</strong>:</p>\n\n<p>tree</p>\n\n<pre><code>|-- external\n|  `-- package.json\n|-- index.ts\n`-- tsconfig.json\n</code></pre>\n\n<p>cat tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"amd\",\n        \"target\": \"es5\",\n        \"sourceMap\": true,\n        \"removeComments\": true,\n        \"allowJs\": false,\n        \"pretty\": true,\n        \"experimentalDecorators\": true,\n        \"moduleResolution\": \"node\",\n        \"emitDecoratorMetadata\": true,\n        \"lib\": [ \"es2015\", \"dom\" ]\n    }\n}\n</code></pre>\n\n<p>cat external/package.json</p>\n\n<pre><code>{\n    \"name\": \"external\",\n    \"version\": \"1.0.0\",\n    \"main\": \"index.js\",\n    \"license\": \"MIT\",\n    \"dependencies\": {\n        \"rxjs\": \"^5.0.3\"\n    }\n}\n</code></pre>\n\n<p>cat index.ts</p>\n\n<pre><code>import { Observable } from 'rxjs/Rx';\nObservable\n</code></pre>\n\n<p>cd external</p>\n\n<p>yarn install</p>\n\n<pre><code>yarn add v0.18.1\n[1/4] \ud83d\udd0d  Resolving packages...\n[2/4] \ud83d\ude9a  Fetching packages...\n[3/4] \ud83d\udd17  Linking dependencies...\n[4/4] \ud83d\udcc3  Building fresh packages...\nsuccess Saved lockfile.\nsuccess Saved 2 new dependencies.\n\u251c\u2500 rxjs@5.0.3\n\u2514\u2500 symbol-observable@1.0.4\n\u2728  Done in 1.39s.\n</code></pre>\n\n<p>tsc -v</p>\n\n<p><code>Version 2.1.4</code></p>\n\n<p>tsc</p>\n\n<pre><code>1 import { Observable } from 'rxjs/Rx';\n                             ~~~~~~~~~\n\n../index.ts(1,28): error TS2307: Cannot find module 'rxjs/Rx'.\n</code></pre>\n"}, {"tags": ["inheritance", "typescript"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1484164849, "post_id": 41599549, "comment_id": 70402048, "body": "See <a href=\"https://github.com/Microsoft/TypeScript/issues/1617#issuecomment-69215655\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1484164913, "post_id": 41599549, "comment_id": 70402089, "body": "You would have this with any other language: you&#39;re accessing, from the base constructor, a value that is only initialized later, by the subclass constructor. So it&#39;s undefined. Accessing overridable members from a constructor is a bad idea. Don&#39;t do that. I don&#39;t understand what the problem is with passing the damage using super(damage). This would work fine. I also don&#39;t understand why you need to access the damage from the base constructor: surely the alert is not part of your real code."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484165161, "post_id": 41599549, "comment_id": 70402241, "body": "@JBNizet Because each weapon can have plently of parameters. Damage, accuracy, crit chance, crit damage etc. I don&#39;t want to pass every single of them."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1484165243, "post_id": 41599549, "comment_id": 70402292, "body": "But why do you have to access them from the base class constructor?"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1484165509, "post_id": 41599549, "comment_id": 70402462, "body": "@RyanCavanaugh Otherwise I&#39;ll need to do something like <code>new Sword().constructProperties()</code> in order to properly construct it. It doesn&#39;t look pretty."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484165795, "post_id": 41599549, "comment_id": 70402589, "body": "No, you don&#39;t need to do that. As your own example shows, accessing the damage from a method works as you expect it to work. The problem is accessing it from the base class constructor. And you&#39;ve still not said why you wanted to do that."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484166063, "post_id": 41599549, "comment_id": 70402748, "body": "Well... to construct properties? Let me show you a real world example from my open source repo: <a href=\"https://github.com/Aristona/Phaser.Adventure-Capitalist/blob/master/src/Shop/Shop.ts#L59\" rel=\"nofollow noreferrer\">github.com/Aristona/Phaser.Adventure-Capitalist/blob/master/&zwnj;&#8203;src/&hellip;</a>. In this line, I&#39;m reading the <code>index</code> value of a <code>Shop</code>, then I make a calculation based on it and construct a property called <code>position</code>, which is a <code>x,y</code> location of the <code>Shop</code> on the GUI. All the shared data is located in the abstract class to prevent duplications. If I move it out of constructor, it will be like <code>new LemonShop().positionIt().doOtherStuff()</code> just to <code>construct</code> the shop."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484166409, "post_id": 41599549, "comment_id": 70402927, "body": "I have no idea what you mean by that. But if you need to do <code>new Sword().constructProperties()</code>, and just want to do <code>new Sword()</code> then call <code>this.constructProperties()</code> at the end of your Sword constructor."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484166862, "post_id": 41599549, "comment_id": 70403139, "body": "That&#39;s a better idea than passing multiple parameters into <code>super</code>. What if I don&#39;t want to add <code>this.constructProperties()</code> on each <code>Item</code>? Can I force it to call <code>constructProperties</code> after <code>construct</code> takes place, like by relying on DI containers and alike? It could be magic, as long as there is a way. I can accept it as the answer if you write it as an answer, by the way."}], "answers": [{"comments": [{"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484165358, "post_id": 41599766, "comment_id": 70402358, "body": "Okay... How would you design the <code>Sword-Weapon-Item</code> inheritence? The <code>Weapon</code> needs to access <code>Sword</code>&#39;s properties in order to calculate damage. (access the base damage, roll the crit chance, if it rolls crit, multiply the damage with crit damage). <code>new Item(new Weapon(new Sword()))</code>? That looks weird..."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484165682, "post_id": 41599766, "comment_id": 70402546, "body": "If gravity always makes things fall, how am I supposed to fly? It&#39;s hard work. But it doesn&#39;t change the direction of things."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484166003, "post_id": 41599766, "comment_id": 70402709, "body": "If gravity always makes things fall, then it is most likely immutable. However, it isn&#39;t since each <code>Planet</code> has a different gravity level. In this case, you should be able to pass a specific gravity level. (or even better, your <code>Planet</code> knows/calculates it&#39;s gravity without you passing) If gravity force is pretty low, maybe you can fly."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 1, "last_activity_date": 1484165023, "creation_date": 1484165023, "answer_id": 41599766, "question_id": 41599549, "link": "https://stackoverflow.com/questions/41599549/why-does-typescript-run-the-abstract-class-first/41599766#41599766", "title": "Why does Typescript run the abstract class first?", "body": "<p>Of course base class constructors run first. What would the alternative be?</p>\n\n<pre><code>class Base {\n  damage = 12;\n}\n\nclass Derived extends Base {\n  constructor() {\n    // This should print 'undefined' ?\n    console.log(this.damage);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484165671, "post_id": 41599827, "comment_id": 70402540, "body": "It doesn&#39;t look good when your <code>Sword</code> class has multiple parameters. Also, duplicating code is a terrible thing. With this approach, whenever I add a new property into my <code>Sword</code> class, I also have to make sure to pass it into <code>super()</code>. Then I have to modify <code>Weapon.constructor()</code> to accept that <code>parameter</code>, assign it as a local propery. I just don&#39;t think this is a good approach."}, {"owner": {"reputation": 18254, "user_id": 50890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0ff4ccc86cc2168044e311f45ad291ef?s=128&d=identicon&r=PG", "display_name": "ulrichb", "link": "https://stackoverflow.com/users/50890/ulrichb"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484166109, "post_id": 41599827, "comment_id": 70402769, "body": "Using &quot;parameter properties&quot; you can remove the duplication within the base class. (I&#39;ve appended it to my answer.)"}], "tags": [], "owner": {"reputation": 18254, "user_id": 50890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0ff4ccc86cc2168044e311f45ad291ef?s=128&d=identicon&r=PG", "display_name": "ulrichb", "link": "https://stackoverflow.com/users/50890/ulrichb"}, "is_accepted": false, "score": 1, "last_activity_date": 1484165815, "last_edit_date": 1484165815, "creation_date": 1484165247, "answer_id": 41599827, "question_id": 41599549, "link": "https://stackoverflow.com/questions/41599549/why-does-typescript-run-the-abstract-class-first/41599827#41599827", "title": "Why does Typescript run the abstract class first?", "body": "<p>The base c'tor is run before the assignment of <code>damage</code>. Take a look at the generated constructor of <code>Sword</code>:</p>\n\n<pre><code>function Sword() {\n    var _this = _super.call(this) || this;\n    _this.damage = 999;\n    return _this;\n}\n</code></pre>\n\n<p>As an alternative you could pass the damage as base c'tor parameter:</p>\n\n<pre><code>abstract class Weapon {\n\n    protected damage: number;\n\n    constructor(damage: number) {\n        this.damage = damage;\n        alert(this.damage);\n    }\n\n    showDamage() { /*...*/ }\n}\n\nclass Sword extends Weapon  {\n\n    constructor() {\n        super(999);\n    }\n}\n</code></pre>\n\n<p>Or shorter:</p>\n\n<pre><code>abstract class Weapon {\n    constructor(protected damage: number) {\n        alert(this.damage);\n    }\n\n    showDamage() { /* ... */ }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 3, "last_activity_date": 1484182557, "creation_date": 1484182557, "answer_id": 41603440, "question_id": 41599549, "link": "https://stackoverflow.com/questions/41599549/why-does-typescript-run-the-abstract-class-first/41603440#41603440", "title": "Why does Typescript run the abstract class first?", "body": "<p>Typescript does not treat property initialization in the class body in any special way - it's done as part of that class constructor. It's possible to imagine a language that will apply this assignment</p>\n\n<pre><code>class Sword extends Weapon implements WeaponInterface {\n    protected damage: number = 999;\n</code></pre>\n\n<p>very early, before any constructor is run. Typescript does not do that probably because it's not the simplest and most consistent thing to do.</p>\n\n<p>So you have to do it yourself. One way to achieve what you want is to split code in your constructors into two parts, one that initializes the variables, and the other one that does the rest. Then you can manage yourself when each part is called. This technique is sometimes called <a href=\"http://blogs.microsoft.co.il/sasha/2008/08/19/two-phase-initialization/\" rel=\"nofollow noreferrer\">two-phase initialization</a>:</p>\n\n<pre><code>abstract class Weapon\n{\n    protected abstract damage: number;\n\n    // NOTE: abstract properties must be initialized by subclasses\n    //     in initialize() because they are used here in Weapon class constructor\n    protected initialize(): void { }\n\n    constructor() {\n        this.initialize();\n        alert(this.damage);\n    }\n\n    showDamage() {\n        alert(this.damage);\n    }\n}\n\nclass Sword extends Weapon  {\n    protected damage: number;\n\n    protected initialize(): void {\n        super.initialize();\n        this.damage = 999;\n    }\n\n    constructor() {\n        super();\n    }\n}\n\nconst sword = new Sword;\nsword.showDamage(); // shows 999 twice\n</code></pre>\n"}], "owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 41603440, "answer_count": 3, "score": 1, "last_activity_date": 1484182557, "creation_date": 1484164286, "question_id": 41599549, "link": "https://stackoverflow.com/questions/41599549/why-does-typescript-run-the-abstract-class-first", "title": "Why does Typescript run the abstract class first?", "body": "<p>I'm getting a hard time trying to solve my abstract class issue with Typescript. First of all, let me know what I'm trying to achieve.</p>\n\n<p>I have a class called <code>Sword</code> which extends <code>Weapon</code>. Each <code>Weapon</code> has to have some properties such as <code>damage</code>, but since each item has a different damage type (e.g Sword may do 1 damage, a bow may do 2 damage) I have to define specific properties in the <code>Sword</code> class. My script looks like this:</p>\n\n<pre><code>abstract class Weapon\n{\n    protected abstract damage: number;\n    constructor() {\n        alert(this.damage);\n    }\n\n    showDamage() {\n        alert(this.damage);\n    }\n}\n\nclass Sword extends Weapon implements WeaponInterface {\n    protected damage: number = 999;\n\n    constructor() {\n        super();\n    }\n}\n\nconst sword = new Sword;\nsword.showDamage();\n</code></pre>\n\n<p>Running the script above at <code>http://www.typescriptlang.org/play/</code>, I get two messages:</p>\n\n<pre><code>undefined\n999\n</code></pre>\n\n<p>I'm not exactly sure why <code>Weapon.constructor</code> runs first, because as long as <code>Weapon.constructor</code> runs first, there is literally no point in declaring an abstract value. For example, I have to do something like <code>super(this.damage)</code> in order to pass it into <code>Weapon</code> class. I won't need the <code>protected abstract damage</code> if I do so.</p>\n\n<p>If I cannot even create a very basic inheritence with <code>Typescript</code>, why does it even support abstract classes at all? I'll have to do <code>new Weapon(new Sword)</code> which means I cannot typehint <code>SwordInterface</code> on other classes like <code>Inventory</code>.</p>\n\n<pre><code>class Inventory\n{\n    // Let's assume we have a \"Shield\" equipped so we can only equip \"Sword\" type\n    addSword(sword: SwordInterface): void {\n\n    }\n}\n</code></pre>\n\n<p>I'm not very experienced with compiled languages and Typescript. Could anybody tell me what would be the proper way to achieve this? Passing class properties into <code>super()</code> call sounds lame...</p>\n\n<p>I don't want to break my inheritence and interfaces either.</p>\n"}, {"tags": ["javascript", "typescript", "typescript2.1"], "comments": [{"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484165291, "post_id": 41599505, "comment_id": 70402325, "body": "It&#39;s because type inference looks for every field. If you put the for example <b>fullname</b> property as optional <b>fullname?</b> it should work properly. Or, you should provide every field that match the object contract."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484165524, "post_id": 41599505, "comment_id": 70402469, "body": "Are you sure you&#39;re using the <code>2.1.4</code> version? Maybe your IDE uses something else?"}, {"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484165661, "post_id": 41599505, "comment_id": 70402531, "body": "@NitzanTomer, it&#39;s 2.1.4.everywhere. I even do <code>tsc</code> from command line to make sure IDE doesn&#39;t trick me here."}, {"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "reply_to_user": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484165833, "post_id": 41599505, "comment_id": 70402614, "body": "@Fals not sure if I get you right. <code>fullname</code> and <code>enabled</code> are both fields I don&#39;t want to sneak into my <code>p</code> being <code>Person</code>. This is exactly what I want to do, allow only props defined in <code>Person</code> to be overridable (and not necessary all at once)"}, {"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484166111, "post_id": 41599505, "comment_id": 70402771, "body": "@MichalOstruszka The object that you wan&#39;t to return has nothing to do with Person. TypeScript is strongly typed, then you should properly create classes that match&#39;s the expected type."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484166183, "post_id": 41599505, "comment_id": 70402807, "body": "You&#39;re right, it behaves the same for me (running <code>2.1.4</code>). A bug?"}, {"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "reply_to_user": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484166263, "post_id": 41599505, "comment_id": 70402839, "body": "@Fals I don&#39;t think so. If you take a look at <code>Object.assign</code> signature in this case, it&#39;s: <code>(method) ObjectConstructor.assign&lt;{}, T, Partial&lt;T&gt;&gt;(target: {}, source1: T, source2: Partial&lt;T&gt;): {} &amp; T &amp; Partial&lt;T&gt;</code> so it IS <code>T</code>"}, {"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484166350, "post_id": 41599505, "comment_id": 70402891, "body": "@NitzanTomer not sure yet, tried with latest 2.2 and it&#39;s the same result. Even if it&#39;s a bug - why it behaves differently locally and on playground?"}, {"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484166426, "post_id": 41599505, "comment_id": 70402937, "body": "@MichalOstruszka you are wrong,  age is not optional property, the compiler is yelling for this! if you are assigning an object without the constructor creation using new your must match the entire contract."}, {"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "reply_to_user": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484166631, "post_id": 41599505, "comment_id": 70403029, "body": "@Fals but the resulting object already gets <code>age</code> and other <code>Person</code> props from the first argument (of type <code>Person</code>). I just want to override some of them later on (with <code>b</code>)"}, {"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484167091, "post_id": 41599505, "comment_id": 70403255, "body": "@MichalOstruszka You should post your tsconfig then, there&#39;s probably a compilerOptionsDefinition supressing this error I&#39;m suspecting of suppressExcessPropertyErrors or noImplicitAny."}, {"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "reply_to_user": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1484205547, "post_id": 41599505, "comment_id": 70416170, "body": "@Fals edited my question adding <code>tsconfig.json</code>. Unfortunately looks like it&#39;s none of these two options you mentioned that causes the issue :("}], "answers": [{"comments": [{"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "edited": false, "score": 0, "creation_date": 1484205308, "post_id": 41603003, "comment_id": 70416051, "body": "This is not quite what I had in mind. In your code this <code>extends</code> causes second argument <code>T2</code> to contain all <code>T1</code> props + some extras. What I want to do is <code>T2</code> to contain subset of <code>T1</code> props (and be type-checked in compile time)"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "edited": false, "score": 0, "creation_date": 1484207810, "post_id": 41603003, "comment_id": 70417257, "body": "No, <code>T1 extends T2</code> means that T1 has everything that is in T2, so T2 can not contain any extras: <code>mergeAsNew(p, newPropsErr);</code> gives an error about extra properties in newPropsErr - is that not what you needed?"}, {"owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "edited": false, "score": 0, "creation_date": 1484208084, "post_id": 41603003, "comment_id": 70417401, "body": "Argh, missed that it&#39;s <code>T1 extends T2</code> not the other way around. Yeah, looks like it should do what I need!"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1484179928, "last_edit_date": 1484179928, "creation_date": 1484179589, "answer_id": 41603003, "question_id": 41599505, "link": "https://stackoverflow.com/questions/41599505/typescript-lookup-types-correctly-narrow-down-properties-set-when-merging-with/41603003#41603003", "title": "Typescript lookup types - correctly narrow down properties set when merging with Partial", "body": "<p>When you want to express that one type has only a subset of properties from another type, plain old <code>extends</code> can help too</p>\n\n<pre><code>interface Person {\n    name: string\n    age: number\n    active: boolean\n}\n\n\nlet p: Person = {\n    name: 'john',\n    age: 33,\n    active: false\n};\n\nlet newPropsOk = {\n    name: 'john doe',\n    active: true\n};\n\nlet newPropsErr = {\n  fullname: 'john doe',\n  enabled: true\n};\n\n// a extends b and not the other way round\n//because we don't want to allow b to have properties not in a\nfunction mergeAsNew&lt;T2, T1 extends T2&gt;(a: T1, b: T2): T1 {\n    return Object.assign({}, a, b);\n}\n\nmergeAsNew(p, newPropsOk); // ok\nmergeAsNew(p, newPropsErr); \n// Argument of type 'Person' is not assignable \n// to parameter of type '{ fullname: string; enabled: boolean; }'.\n//   Property 'fullname' is missing in type 'Person'.\n</code></pre>\n\n<p>PS no idea what's going on with playground and mapped types</p>\n"}, {"tags": [], "owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "is_accepted": false, "score": 0, "last_activity_date": 1484209025, "last_edit_date": 1495542278, "creation_date": 1484206672, "answer_id": 41607533, "question_id": 41599505, "link": "https://stackoverflow.com/questions/41599505/typescript-lookup-types-correctly-narrow-down-properties-set-when-merging-with/41607533#41607533", "title": "Typescript lookup types - correctly narrow down properties set when merging with Partial", "body": "<p>Ok, looks like I was too fixed on that yesterday. I got some sleep and it looks like it's (probably) impossible to do what I want that way (using <code>Partial</code>). Leaving this weird playground behaviour aside for a while, here is why (at least I think so):</p>\n\n<p>To recap:</p>\n\n<pre><code>interface Person {\n  name: string\n  age: number\n  active: boolean\n}\n\nfunction mergeAsNew&lt;T&gt;(a: T, b: Partial&lt;T&gt;): T {\n  return Object.assign({}, a, b);\n}\n</code></pre>\n\n<p>In this code, <code>Partial&lt;Person&gt;</code> may (but <strong>doesn't have to</strong>) contain any of <code>Person</code> props, so the following is perfectly valid <code>Partial&lt;Person&gt;</code> type:</p>\n\n<pre><code>let newPropsErr = {\n  fullname: 'john doe',\n  enabled: true\n};\n</code></pre>\n\n<p>As Typescript has structural typing it doesn't care about extra props, it checks only shape of the object and here shape fits <code>Partial&lt;Person&gt;</code> just fine.</p>\n\n<p>The only way to somehow check argument's shape agains <code>Partial&lt;Person&gt;</code> for extra props is to pass it as object literal (literals are strictly checked to match type)</p>\n\n<p>Now to <code>mergeAsNew</code> function itself. I do <code>Object.assign</code> here which does exactly what it's designed for - merges props from both args into new object (all of them). Because types are only for TS compilation, there is no way in runtime to constraint and selectively pick props from <code>b</code> and apply them to override <code>a</code> props.</p>\n\n<p>Looks like <a href=\"https://stackoverflow.com/a/41603003/2153664\">@Artem's answer</a>  that does what I need with <code>extend</code> and no mapped/lookup types.</p>\n\n<p>Anyway, I still don't get why TS Playground works the way it works (what initially give me an impression that all that stuff is perfectly doable).</p>\n"}], "owner": {"reputation": 1979, "user_id": 2153664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bf8ac59830d9faf75c79c82d62f5776?s=128&d=identicon&r=PG", "display_name": "Michal Ostruszka", "link": "https://stackoverflow.com/users/2153664/michal-ostruszka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1484209025, "creation_date": 1484164164, "last_edit_date": 1484205390, "question_id": 41599505, "link": "https://stackoverflow.com/questions/41599505/typescript-lookup-types-correctly-narrow-down-properties-set-when-merging-with", "title": "Typescript lookup types - correctly narrow down properties set when merging with Partial", "body": "<p>I'm playing with lookup types and would like to build kind of safe-merge util function (one that takes entity of type <code>T</code> and an object containing subset of keys of <code>T</code> to update). My goal is to let compiler tell me when I misspell a property or try to append non-existing one for <code>T</code>.</p>\n\n<p>So I have <code>Person</code> and use built-in <code>Partial</code> in (v2.1) like this:</p>\n\n<pre><code>interface Person {\n  name: string\n  age: number\n  active: boolean\n}\n\nfunction mergeAsNew&lt;T&gt;(a: T, b: Partial&lt;T&gt;): T {\n  return Object.assign({}, a, b);\n}\n</code></pre>\n\n<p>Now I apply this to the following data:</p>\n\n<pre><code>let p: Person = {\n  name: 'john',\n  age: 33,\n  active: false\n};\n\nlet newPropsOk = {\n  name: 'john doe',\n  active: true\n};\n\nlet newPropsErr = {\n  fullname: 'john doe',\n  enabled: true\n};\n\nmergeAsNew(p, newPropsOk);\nmergeAsNew(p, newPropsErr); // &lt;----- I want tsc to yell at me here because of trying to assign non-existing props\n</code></pre>\n\n<p>I would like TS compiler to yell at me on the second invocation as <code>fullname</code> and <code>enabled</code> aren't props of <code>Person</code>. Unfortunately this compiles fine locally, but... when I do the same in <a href=\"https://www.typescriptlang.org/play/#src=interface%20Person%20%7B%0D%0A%20%20name%3A%20string%0D%0A%20%20age%3A%20number%0D%0A%20%20active%3A%20boolean%0D%0A%7D%0D%0A%0D%0Afunction%20mergeAsNew%3CT%3E(a%3A%20T%2C%20b%3A%20Partial%3CT%3E)%3A%20T%20%7B%0D%0A%20%20return%20Object.assign(%7B%7D%2C%20a%2C%20b)%3B%0D%0A%7D%0D%0A%0D%0Alet%20p%3A%20Person%20%3D%20%7B%20%0D%0A%20%20name%3A%20&#39;john&#39;%2C%20%0D%0A%20%20age%3A%2033%2C%20%0D%0A%20%20active%3A%20false%20%0D%0A%7D%3B%0D%0A%0D%0Alet%20newPropsOk%20%3D%20%7B%0D%0A%20%20name%3A%20&#39;john%20doe&#39;%2C%0D%0A%20%20active%3A%20true%0D%0A%7D%3B%0D%0A%0D%0Alet%20newPropsErr%20%3D%20%7B%0D%0A%20%20fullname%3A%20&#39;john%20doe&#39;%2C%0D%0A%20%20enabled%3A%20true%2C%0D%0A%20%20active%3A%20true%0D%0A%7D%3B%0D%0A%0D%0AmergeAsNew(p%2C%20newPropsOk)%3B%0D%0AmergeAsNew(p%2C%20newPropsErr)%3B\" rel=\"nofollow noreferrer\">online TS Playground</a> I get more or less what I expect:</p>\n\n<pre><code>The type argument for type parameter 'T' cannot be inferred from the usage. Consider specifying the type arguments explicitly.\n  Type argument candidate 'Person' is not a valid type argument because it is not a supertype of candidate '{ fullname: string; enabled: boolean; }'.\n    Property 'name' is missing in type '{ fullname: string; enabled: boolean; }'.\n</code></pre>\n\n<p>Looks like the playground uses the same version as I do locally (2.1.4). Does anybody have a clue why these two may differ?</p>\n\n<p><strong>Bonus question:</strong></p>\n\n<p>when I try the following assignment:</p>\n\n<pre><code>let x: Person = mergeAsNew(p, newPropsOk);\n</code></pre>\n\n<p>I get the following error on <code>x</code> but only on the playground (it's all fine locally):</p>\n\n<pre><code>Type '{ name: string; active: boolean; }' is not assignable to type 'Person'.\n  Property 'age' is missing in type '{ name: string; active: boolean; }'.\n</code></pre>\n\n<p>Why is that? Shouldn't it <em>be</em> of <code>Person</code> type, as first <code>mergeAsNew</code> argument <strong>is</strong> <code>Person</code> and and everything else is <code>Person</code>-props subset (so it's at most <code>Person</code>)?</p>\n\n<p><strong>EDIT</strong>\nHere is my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES6\",\n    \"module\": \"commonjs\",\n    \"noEmitOnError\": true,\n    \"allowJs\": false,\n    \"sourceMap\": true,\n    \"strictNullChecks\": true\n  },\n  \"exclude\": [\"dist\", \"scripts\"]\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5050, "user_id": 3696076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkvJM.png?s=128&g=1", "display_name": "chrisbajorin", "link": "https://stackoverflow.com/users/3696076/chrisbajorin"}, "edited": false, "score": 0, "creation_date": 1484163470, "post_id": 41599180, "comment_id": 70401276, "body": "The field <code>Title</code> doesn&#39;t exist on <code>CMSFiles</code>. Did you mean <code>fileName</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7269701"}, "reply_to_user": {"reputation": 5050, "user_id": 3696076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkvJM.png?s=128&g=1", "display_name": "chrisbajorin", "link": "https://stackoverflow.com/users/3696076/chrisbajorin"}, "edited": false, "score": 0, "creation_date": 1484165841, "post_id": 41599180, "comment_id": 70402617, "body": "Yes, you are correct I do mean fileName and not title."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7269701"}, "edited": false, "score": 0, "creation_date": 1484165916, "post_id": 41599221, "comment_id": 70402664, "body": "do you know if  &lt;input [(ngModel)]=&quot;news.file1.fileName&quot; placeholder=&quot;fileName&quot; /&gt; is correct syntax?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484167286, "post_id": 41599221, "comment_id": 70403360, "body": "if the properties of the CMSFiles class are public yes. :) It&#39;s just normal js notation"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 1, "last_activity_date": 1484163111, "creation_date": 1484163111, "answer_id": 41599221, "question_id": 41599180, "link": "https://stackoverflow.com/questions/41599180/typescript-class-as-a-member-variable-in-angular/41599221#41599221", "title": "Typescript Class as a Member Variable in Angular?", "body": "<p>Classes define types. Those types can be used wherever any of the default types can be used.</p>\n\n<p>In short yes.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7269701"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1213, "favorite_count": 0, "accepted_answer_id": 41599221, "answer_count": 1, "score": 1, "last_activity_date": 1503886095, "creation_date": 1484162967, "last_edit_date": 1503886095, "question_id": 41599180, "link": "https://stackoverflow.com/questions/41599180/typescript-class-as-a-member-variable-in-angular", "title": "Typescript Class as a Member Variable in Angular?", "body": "<p>I'm learning Angular and TypeScript and I have a question or two.</p>\n\n<p>With TypeScript can you have one class/object be the variable type for an other object as shown below? If so how do you reference the all of the members using Angular.</p>\n\n<pre><code>/* begin cmsfiles.ts */\n\nexport class CMSFiles {\n  fileID: number;\n  fileDateTime: Date;\n  fileName: string;\n  description: string;\n}\n/* end cmsfiles.ts */\n\n/* begin news.ts */\n\nimport { CMSFiles } from './cmsfiles';\n\nexport class News {\n  newsID: number;\n  postDateTime: Date;\n  title: string;\n  body: string;\n  file1: CMSFiles;\n  file2: CMSFiles;\n}\n/* end news.ts */\n</code></pre>\n\n<p>In the Angular template I will need to use something like this:</p>\n\n<pre><code>&lt;input [(ngModel)]=\"news.file1.Title\" placeholder=\"title\" /&gt;\n</code></pre>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2791, "user_id": 1550690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8b9cca97680ea078dd57662b24b75?s=128&d=identicon&r=PG", "display_name": "Karl", "link": "https://stackoverflow.com/users/1550690/karl"}, "edited": false, "score": 0, "creation_date": 1484164235, "post_id": 41598953, "comment_id": 70401710, "body": "Propably answered here: <a href=\"http://stackoverflow.com/questions/39007130/the-pipe-could-not-be-found-angular2-custom-pipe/40770507#40770507\" title=\"the pipe could not be found angular2 custom pipe\">stackoverflow.com/questions/39007130/&hellip;</a>"}, {"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1484175434, "post_id": 41598953, "comment_id": 70407097, "body": "This is due to a typo; <code>GridColumnFilter</code> in your error message and template, but you named it <code>gridColumnFilter</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7406294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8556cf47d897585d0d8871cf0dac4b3c?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Jordan", "link": "https://stackoverflow.com/users/7406294/brandon-jordan"}, "edited": false, "score": 0, "creation_date": 1484234162, "post_id": 41603265, "comment_id": 70434642, "body": "Thanks! Can&#39;t believe I missed that."}], "tags": [], "owner": {"reputation": 5717, "user_id": 1002218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7c943b9ae4e834db8280609133cb5ba?s=128&d=identicon&r=PG", "display_name": "Garth Mason", "link": "https://stackoverflow.com/users/1002218/garth-mason"}, "is_accepted": true, "score": 0, "last_activity_date": 1484181404, "creation_date": 1484181404, "answer_id": 41603265, "question_id": 41598953, "link": "https://stackoverflow.com/questions/41598953/import-not-working-with-angular2-custom-pipes/41603265#41603265", "title": "Import not working with Angular2 custom pipes", "body": "<p>The comment re: typo is correct, the pipe name is case sensitive.</p>\n\n<p>Also rather than the GridColumnFilterModule, you might want to consider putting all pipes in a shared module as described in the doco on <a href=\"https://angular.io/docs/ts/latest/cookbook/ngmodule-faq.html#!#q-module-recommendations\" rel=\"nofollow noreferrer\">Angular Modules</a>, then importing that shared module into the DigitalLinksModule (and any other modules that want the pipe).</p>\n\n<p>I don't think the custom pipe needs to be marked as @Injectable (at least I haven't seen that before).</p>\n"}], "owner": {"reputation": 3, "user_id": 7406294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8556cf47d897585d0d8871cf0dac4b3c?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Jordan", "link": "https://stackoverflow.com/users/7406294/brandon-jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 41603265, "answer_count": 1, "score": 0, "last_activity_date": 1484181404, "creation_date": 1484162083, "question_id": 41598953, "link": "https://stackoverflow.com/questions/41598953/import-not-working-with-angular2-custom-pipes", "title": "Import not working with Angular2 custom pipes", "body": "<p>Here is the custom pipe:    </p>\n\n<pre><code>import { Injectable, Pipe, PipeTransform, NgModule } from '@angular/core';\n\n    @Pipe({\n        name: 'gridColumnFilter'\n        })\n\n    @Injectable()\n    export class GridColumnFilter implements PipeTransform {\n        transform(columns: any, args: any[], header: string): any {\n            return columns.find(columns.find(x =&gt; x.header == header))\n    }\n    }\n\n    @NgModule({\n        declarations: [\n            GridColumnFilter\n        ],\n        exports: [\n            GridColumnFilter\n        ]\n    })\n    export class GridColumnFilterModule { }\n</code></pre>\n\n<p>Here is my Module that I am importing to:</p>\n\n<pre><code>import { GridColumnFilter } from '../../../pipes/grid-column-filter';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n        declarations: [GridColumnFilter],\n        imports: [CommonModule, NgModule, CommonModule],\n        exports: []\n    })\n\n    export class DigitalLinksModule{ }\n</code></pre>\n\n<p>Here is the html:</p>\n\n<pre><code>&lt;p-column *ngFor=\"let col of viewState.parameterGridOptions.cols | GridColumnFilter:viewState.parameterGridOptions.cols:col.header\" [field]=\"col.field\" [header]=\"col.header\" [sortable]=\"col.sortable\"&gt;&lt;/p-column&gt;\n</code></pre>\n\n<p>I am getting the error:</p>\n\n<pre><code>The pipe 'GridColumnFilter' could not be found (\"\n&lt;p-column *ngFor=\"let[ERROR -&gt;] col of viewState.parameterGridOptions.cols | GridColumnFilter:viewState.parameterGridOptions.cols:co\")\n</code></pre>\n\n<p>Haven't found a solution. Thanks in advance.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1484161611, "post_id": 41598700, "comment_id": 70400255, "body": "does data coming from server is Array on <code>number</code>/ object with <code>percentage</code> property?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1484162946, "post_id": 41598700, "comment_id": 70400989, "body": "Can&#39;t reproduce in this plunkr: <a href=\"https://plnkr.co/edit/wzo0n94I0tIFJMha2oJk?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/wzo0n94I0tIFJMha2oJk?p=preview</a>; are you sure you&#39;re <code>orderByField</code> is getting set to a string correctly? It must be equal to <code>&quot;percentage&quot;</code> exactly."}, {"owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1484163795, "post_id": 41598700, "comment_id": 70401465, "body": "@MikeMcCaughan just setup a watcher and was going to confirm they are exactly the same, but of course i was missing a letter... going to retest a few things and see if it works. if it works i will probably delete my question, as I do not believe SO considers grammar errors as valid programming questions. Thank you for pointing that out to me."}, {"owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1484163983, "post_id": 41598700, "comment_id": 70401572, "body": "@MikeMcCaughan , much closer now it is sorting lexicographically <a href=\"http://prntscr.com/duembp\" rel=\"nofollow noreferrer\">prntscr.com/duembp</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1484164342, "post_id": 41598700, "comment_id": 70401765, "body": "I&#39;m not sure what to say. The plunkr, which is essentially the same code as what&#39;s in your question, shows the data sorting numerically. If it&#39;s not doing that in your application, there&#39;s obviously something else going on in code that you&#39;re not showing us..."}, {"owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1484165081, "post_id": 41598700, "comment_id": 70402188, "body": "@MikeMcCaughan , yeah now my issue is figuring out why using <code>parseFloat()</code> in the server and logging the response, it is still a string. and also tried <code>{{p.percentage | number}}%</code> in my html which does not work either."}], "answers": [{"comments": [{"owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "edited": false, "score": 0, "creation_date": 1484164051, "post_id": 41599420, "comment_id": 70401610, "body": "Sorry but there is no explanation to this, and does not completely solve my problem. But thank you for the answer."}], "tags": [], "owner": {"reputation": 56, "user_id": 7147333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f7d12c31864c9dcd294e780a6298fa4?s=128&d=identicon&r=PG&f=1", "display_name": "zdrohn", "link": "https://stackoverflow.com/users/7147333/zdrohn"}, "is_accepted": false, "score": 1, "last_activity_date": 1484164482, "last_edit_date": 1484164482, "creation_date": 1484163847, "answer_id": 41599420, "question_id": 41598700, "link": "https://stackoverflow.com/questions/41598700/angularjs-orderby-percentages/41599420#41599420", "title": "AngularJS orderBy percentages", "body": "<p>Using Angulars $filter('orderBy') you can sort by an objects property, in this case being the 'percentage'. See <a href=\"https://docs.angularjs.org/api/ng/filter/orderBy\" rel=\"nofollow noreferrer\">https://docs.angularjs.org/api/ng/filter/orderBy</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var app = angular.module(\"myApp\", []);\r\n\r\napp.controller(\"myCtrl\", function($scope, $http, $window, $timeout, $filter) {\r\n\t$scope.percentages = [\r\n\t\t{percentage: 8.82}, \r\n\t\t{percentage: 0.00}, \r\n\t\t{percentage: 11.36}, \r\n\t\t{percentage: 21.88}, \r\n\t\t{percentage: 25.74}, \r\n\t\t{percentage: 22.22}\r\n\t];\r\n\r\n\r\n\t$scope.sort = function(click) {\r\n\t\tif(click == true) {\r\n\t\t\t$scope.percentages = $filter('orderBy')($scope.percentages, 'percentage');\r\n\t\t}\r\n                else {\r\n                        $scope.percentages = $filter('orderBy')($scope.percentages, 'percentage', true);\r\n                }\r\n\t}\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.header:hover {\r\n  cursor: pointer;\r\n  \r\n }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0-rc.2/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;div ng-app=\"myApp\" ng-controller=\"myCtrl\"&gt;\r\n&lt;table class='SO' ng-init='clicked = false'&gt;\r\n\t&lt;tbody&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;th class='header' ng-click='clicked = !clicked; sort(clicked);'&gt;Percentage Failed&lt;/th&gt;\r\n\t\t&lt;/tr&gt;\r\n\t\t&lt;tr ng-repeat=\"data in percentages\"&gt;\r\n\t\t\t&lt;td&gt;{{data.percentage}}&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\r\n\t&lt;/tbody&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "edited": false, "score": 0, "creation_date": 1484167143, "post_id": 41600262, "comment_id": 70403283, "body": "yes this is what i did. i had to parse in my controller after it returned from the server."}, {"owner": {"reputation": 3331, "user_id": 3854385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acefdcde642f73261226d709cd07dee4?s=128&d=identicon&r=PG", "display_name": "Loren", "link": "https://stackoverflow.com/users/3854385/loren"}, "reply_to_user": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "edited": false, "score": 0, "creation_date": 1484167256, "post_id": 41600262, "comment_id": 70403348, "body": "But that isn&#39;t working? Or that is working and your trying to fix it serverside now?"}, {"owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "edited": false, "score": 0, "creation_date": 1484168707, "post_id": 41600262, "comment_id": 70404081, "body": "it works client side, but if someone offers to a server side solution i am open to accepting it."}, {"owner": {"reputation": 3331, "user_id": 3854385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acefdcde642f73261226d709cd07dee4?s=128&d=identicon&r=PG", "display_name": "Loren", "link": "https://stackoverflow.com/users/3854385/loren"}, "reply_to_user": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "edited": false, "score": 0, "creation_date": 1484168851, "post_id": 41600262, "comment_id": 70404164, "body": "You will need to post a subset of your nodejs code for us to help with that.  Your question makes it sound like you couldn&#39;t get it working using client or server side parseFloat."}, {"owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "edited": false, "score": 0, "creation_date": 1484169244, "post_id": 41600262, "comment_id": 70404369, "body": "That is correct, let me update with a small chunk of server code. also included that server is written in ts."}, {"owner": {"reputation": 3331, "user_id": 3854385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acefdcde642f73261226d709cd07dee4?s=128&d=identicon&r=PG", "display_name": "Loren", "link": "https://stackoverflow.com/users/3854385/loren"}, "reply_to_user": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "edited": false, "score": 0, "creation_date": 1484264080, "post_id": 41600262, "comment_id": 70451154, "body": "Thanks, it looks good to me from the snippet so I&#39;m not sure sorry."}], "tags": [], "owner": {"reputation": 3331, "user_id": 3854385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acefdcde642f73261226d709cd07dee4?s=128&d=identicon&r=PG", "display_name": "Loren", "link": "https://stackoverflow.com/users/3854385/loren"}, "is_accepted": false, "score": 0, "last_activity_date": 1484167201, "last_edit_date": 1484167201, "creation_date": 1484167092, "answer_id": 41600262, "question_id": 41598700, "link": "https://stackoverflow.com/questions/41598700/angularjs-orderby-percentages/41600262#41600262", "title": "AngularJS orderBy percentages", "body": "<p>How are you running parseFloat?</p>\n\n<p>What about using something like this:</p>\n\n<pre><code>for (var i = 0; i &lt; $scope.percentages.length; i++) {\n    $scope.percentages[i].percentage = \n        parseFloat($scope.percentages[i].percentage);\n}\n</code></pre>\n\n<p>See:  <a href=\"https://plnkr.co/edit/cybPTR63KyCqzVT2bDRK?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/cybPTR63KyCqzVT2bDRK?p=preview</a></p>\n\n<p>I made your array strings beforehand since that is what you were getting from the server and then parse them into floats in JS.</p>\n\n<p>You should run this code each time you fetch numbers from the server (ie after the first time and each subsequent time).  Also, make sure it runs after the results have been fetched (ie in the success callback) rather than right after the request since then it won't have any numbers yet.</p>\n"}], "owner": {"reputation": 7342, "user_id": 2232744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/4hNdg.png?s=128&g=1", "display_name": "Jordan.J.D", "link": "https://stackoverflow.com/users/2232744/jordan-j-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1484169361, "creation_date": 1484161291, "last_edit_date": 1484169361, "question_id": 41598700, "link": "https://stackoverflow.com/questions/41598700/angularjs-orderby-percentages", "title": "AngularJS orderBy percentages", "body": "<p>I have a table with a column such that I am trying to sort these percentages, but they are not being sorted as expected even though I have tried <code>parseFloat</code> and a few other methods of making sure angularjs (using 1.5.0) would successfully order them.</p>\n\n<pre><code>[\n    {percentage: 8.82}\n    {percentage: 0.00}\n    {percentage: 11.36}\n    {percentage: 21.88}\n    {percentage: 25.74}\n    {percentage: 22.22}\n]\n</code></pre>\n\n<p>The two following screenshots show the two orders in which the percentages are sorted.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2q6dj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2q6dj.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/h65wB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h65wB.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code> &lt;tr ng-repeat=\"p in percentages|orderBy:orderByField:reverseSort\"&gt;\n    &lt;td&gt;{{p.percentage}}%&lt;/td&gt;\n &lt;/tr&gt;\n</code></pre>\n\n<p><code>percentages</code> comes from my nodejs server, where I create a percentage and use the <code>toFixed(2)</code> function, which returns a String. But I have tried then using <code>parseFloat()</code> on the String (both before and after it coming back from the server). </p>\n\n<p><code>reverseSort</code> is a boolean value in my controller that gets set on clicking of the column name.</p>\n\n<p><code>orderByField</code> is a string value set in similar fashion to <code>reverseSort</code>.</p>\n\n<p>For @Loren who asked for the server code that returned by JSON (it is Typescript):</p>\n\n<pre><code>        for(let row of rows){\n            row.percentage= parseFloat(((row.prop1/ (row.prop2 + row.prop1))* 100).toFixed(2));\n        }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 1723, "user_id": 877682, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/707dbfbae8c633ee67005ad8ea125b98?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/877682/aaron"}, "edited": false, "score": 4, "creation_date": 1492042475, "post_id": 41611575, "comment_id": 73825198, "body": "Thanks for sharing this solution! It&#39;s just what I needed."}], "tags": [], "owner": {"reputation": 1226, "user_id": 616589, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/842bd6907e901f1ea26f7f5fed680287?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/616589/simon"}, "is_accepted": true, "score": 26, "last_activity_date": 1484219171, "creation_date": 1484219171, "answer_id": 41611575, "question_id": 41598418, "link": "https://stackoverflow.com/questions/41598418/jest-testing-module-multiple-times-in-one-test-suite/41611575#41611575", "title": "Jest - Testing Module Multiple Times in One Test Suite", "body": "<p>So, many thanks to the Jest folks on Discord. It's possible to actually clear the modules from the cache with the <a href=\"https://facebook.github.io/jest/docs/api.html#jestresetmodules\" rel=\"noreferrer\"><code>jest.resetModules()</code></a> function.</p>\n\n<p>So my test.ts file will look as follows:</p>\n\n<pre><code>describe(\"Localisation initialisation\", () =&gt; {\n    beforeEach(() =&gt; {\n        jest.resetModules();\n    });\n\n    it(\"Sets language\", () =&gt; {\n        const localisation = require(\"./localisation\");\n        // Perform the tests\n    });\n\n    it(\"Sets english messages\", () =&gt; {\n        const localisation = require(\"./localisation\");\n        // Perform the tests\n    });\n\n    it(\"Sets french messages\", () =&gt; {\n        const localisation = require(\"./localisation\");\n        // Perform the tests\n    });\n});\n</code></pre>\n\n<p>The <code>beforeEach()</code> call to <code>jest.resetModules()</code> ensures we're re-running the code in the module.</p>\n"}], "owner": {"reputation": 1226, "user_id": 616589, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/842bd6907e901f1ea26f7f5fed680287?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/616589/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5723, "favorite_count": 1, "accepted_answer_id": 41611575, "answer_count": 1, "score": 12, "last_activity_date": 1484219171, "creation_date": 1484160355, "question_id": 41598418, "link": "https://stackoverflow.com/questions/41598418/jest-testing-module-multiple-times-in-one-test-suite", "title": "Jest - Testing Module Multiple Times in One Test Suite", "body": "<p>I have a TypeScript module (should be irrelevant, as I think this affect JS too) and I'm trying to test a module I have. The module imports lots of data from external files and chooses which data should be returned based on the a variable.</p>\n\n<p>I'm attempting to run some tests where I update that variable, re-<code>require</code> the module and run further tests in one file. But my issue is that the <code>require</code> of the file only runs once. I guess it's being cached. Is it possible to tell Jest's <code>require</code> function not to cache or to clear the cache between tests?</p>\n\n<p>Here's some stripped back code of what I'm trying to achieve:</p>\n\n<p>module.ts</p>\n\n<pre><code>import { getLanguage } from \"utils/functions\";\n\nimport * as messagesEn from \"resources/translations/en\";\nimport * as messagesFr from \"resources/translations/fr\";\n\n// Determine the user's default language.\nconst language: string = getLanguage();\n\n// Set messages based on the language.\nlet messages: LocaleMessages = messagesEn.default;\nif (languageWithoutRegionCode === \"fr\") {\n    messages = messagesFr.default;\n}\n\nexport { messages, language };\n</code></pre>\n\n<p>test.ts</p>\n\n<pre><code>import \"jest\";\n\n// Mock the modules\nconst messagesEn = { \"translation1\": \"English\", \"translation2\": \"Words\" };\nconst messagesFr = { \"translation1\": \"Francais\", \"translation2\": \"Mots\" };\nconst getLangTest = jest.fn(() =&gt; \"te-ST\");\nconst getLangEn = jest.fn(() =&gt; \"en-GB\");\nconst getLangFr = jest.fn(() =&gt; \"fr-FR\");\njest.mock(\"resources/translations/en\", () =&gt; ({\"default\": messagesEn}));\njest.mock(\"resources/translations/fr\", () =&gt; ({\"default\": messagesFr}));\njest.mock(\"utils/functions\", () =&gt; ({\n        getLanguage: getLangTest\n    })\n);\n\ndescribe(\"Localisation initialisation\", () =&gt; {\n    it(\"Sets language\", () =&gt; {\n        const localisation = require(\"./localisation\");\n        expect(getLangTest).toHaveBeenCalled();\n        expect(localisation.language).toEqual(\"te-ST\");\n        expect(localisation.messages).toEqual(messagesEn);\n    });\n\n    it(\"Sets english messages\", () =&gt; {\n        // THIS GETS THE MODULE FROM THE CACHE\n        const localisation = require(\"./localisation\");\n        expect(getLangEn).toHaveBeenCalled();\n        expect(localisation.language).toEqual(\"en-GB\");\n        expect(localisation.messages).toEqual(messagesEn);\n    });\n\n    it(\"Sets french messages\", () =&gt; {\n        // THIS GETS THE MODULE FROM THE CACHE\n        const localisation = require(\"./localisation\");\n        expect(getLangFr).toHaveBeenCalled();\n        expect(localisation.language).toEqual(\"fr-FR\");\n        expect(localisation.messages).toEqual(messagesFr);\n    });\n});\n</code></pre>\n\n<p>I'm aware the second and third tests won't work anyway as I'd need to update the <code>\"utils/functions\"</code> mock. The issue is that the code in module.ts only runs once.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1484160267, "post_id": 41598240, "comment_id": 70399555, "body": "Have you considered a JSON contract resolver that would transform the SignalR responses to PascalCase? Something along these lines <a href=\"http://stackoverflow.com/questions/37832165/signalr-net-core-camelcase-json-contract-resolver\" title=\"signalr net core camelcase json contract resolver\">stackoverflow.com/questions/37832165/&hellip;</a>"}, {"owner": {"reputation": 3052, "user_id": 2090341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fq0KO.jpg?s=128&g=1", "display_name": "Matthias M&#252;ller", "link": "https://stackoverflow.com/users/2090341/matthias-m%c3%bcller"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1484215496, "post_id": 41598240, "comment_id": 70421875, "body": "Hm, interesting approach. My problem is basically the fact, that I don&#39;t know how is it done via the HTTP and if and where I should do it at all."}], "owner": {"reputation": 3052, "user_id": 2090341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fq0KO.jpg?s=128&g=1", "display_name": "Matthias M&#252;ller", "link": "https://stackoverflow.com/users/2090341/matthias-m%c3%bcller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484159695, "creation_date": 1484159695, "question_id": 41598240, "link": "https://stackoverflow.com/questions/41598240/angular2-get-typescript-object-mapping", "title": "Angular2-Get TypeScript - Object mapping", "body": "<p>I'm learning currently Angular2 and Typescript.\nI got a good catch on the most of the basic-patterns, but one thing I don't get is the actual usage of the generic type on the observables and how the mapping is done. Probably I can show my example:\nOn the Server-side, I have a Controller returning some HelloWorld-Objects. This model has three simple properties and the method is looking like this:</p>\n\n<pre><code>    [HttpGet(\"helloWorlds\")]\n    public IEnumerable&lt;HelloWorld&gt; HelloWorlds()\n    {\n        return new[]\n        {\n            new HelloWorld\n            {\n                GreetedPersons = 1,\n                GreetingsDate = DateTime.Now,\n                GreetingsMessage = \"Greetings, traveller\"\n            },\n            new HelloWorld\n            {\n                GreetedPersons = 1000,\n                GreetingsDate = new DateTime(1986, 12, 29),\n                GreetingsMessage = \"Happy birthday\"\n            },\n            new HelloWorld\n            {\n                GreetedPersons = 33333,\n                GreetingsDate = new DateTime(2017, 01, 01),\n                GreetingsMessage = \"Happy new year\"\n            }\n        };\n    }\n</code></pre>\n\n<p>I have the same model on Tyepscript but with camel casing:</p>\n\n<pre><code>export class HelloWorld {\npublic greetingsMessage: string;\n\npublic greetingsDate: Date;\n\npublic greetedPersons: number;\n}\n</code></pre>\n\n<p>To abstract the HTTP-Requests, I created a generic Http-Service on Typescript:</p>\n\n<pre><code>@Injectable()\nexport class HttpService {\nconstructor(private http: Http) { }\n\npublic get&lt;T&gt;(url: string): Promise&lt;T&gt; {\n    return this.processResponse(this.http.get(url));\n}\n\npublic post&lt;T&gt;(url: string, body: any, contentType: http.ContentType): Promise&lt;T&gt; {\n    let headers = new Headers();\n    headers.append('Content-Type', this.mapContentType(contentType));\n\n    var requestoptions = new RequestOptions({\n        headers: headers\n    });\n\n    return this.processResponse(this.http.post(url, body, requestoptions));\n}\n\nprivate processResponse&lt;T&gt;(response: Observable&lt;Response&gt;): Promise&lt;T&gt; {\n    return response.map(this.extractJson)\n        .toPromise()\n        .catch(this.handleError);\n}\n\nprivate mapContentType(contentType: http.ContentType) : string {\n    switch (contentType) {\n        case http.ContentType.ApplicationJson:\n            return \"application/json\";\n        default:\n            throw new RangeError(contentType.toString() + \" is not recognized\");\n    }\n}\n\nprivate extractJson(res: Response) {\n    const body = res.json();\n    debugger;\n    return body;\n}\n\nprivate extractArray(res: Response) {\n    const body = res.json();\n    return body.data || {};\n}\n\nprivate handleError(error: any) {\n    // Low Level technical logging\n    // We pass the error via promise to give the client the possibility to show a nice message\n    let errMsg: string;\n    if (error instanceof Response) {\n        const body = error.json() || '';\n        const err = body.error || JSON.stringify(body);\n        errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n    } else {\n        errMsg = error.message ? error.message : error.toString();\n    }\n\n    console.error(errMsg);\n    return Promise.reject(errMsg);\n}\n}\n</code></pre>\n\n<p>And finally, my HelloWorld-Service can then request the HelloWorld:</p>\n\n<pre><code>getHelloWorlds(): Promise&lt;HelloWorld[]&gt; {\n    const url = \"api/HelloWorld/helloWorlds\";\n    return this.httpService.get&lt;HelloWorld[]&gt;(url);\n}\n</code></pre>\n\n<p>What I don't get: In the JSON, I do already receive the HelloWorld-Properties with camel casing, so everything works!\n\"Um, everything works, why does he even bother?\" Good question, because at the moment I'd like to implement a generic SignalR-Service, using this Tutorial: <a href=\"https://blog.sstorie.com/integrating-angular2-and-signalr-part-1/\" rel=\"nofollow noreferrer\">https://blog.sstorie.com/integrating-angular2-and-signalr-part-1/</a> </p>\n\n<p>It works also, but the camel casing doesn't get applied via some magic, so this model</p>\n\n<pre><code>export class ChannelEvent {\nname: string;\nchannelName: string;\ntimestamp: Date;\ndata: any;\njson: string;\n\nconstructor() {\n    this.timestamp = new Date();\n}\n}\n</code></pre>\n\n<p>Doesn't work, I need to define it as pascal cased.</p>\n\n<p>I found some possibilities to map one TypeScript to another, but none of the tutorials I've seen so far, did say anything about this matter.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 12935, "user_id": 1716560, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5616f9dfbc94117b32b3b9788f4fd8c0?s=128&d=identicon&r=PG", "display_name": "ktretyak", "link": "https://stackoverflow.com/users/1716560/ktretyak"}, "edited": false, "score": 0, "creation_date": 1484157804, "post_id": 41597517, "comment_id": 70398226, "body": "If you treat my problem seriously, then perhaps it will be easier to understand. For example, if I use an external library, I can not change definition for <code>interface Second</code> but its still compatible with <code>interface First</code>."}, {"owner": {"reputation": 3120, "user_id": 2148667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7CoUc.jpg?s=128&g=1", "display_name": "Kuba Jagoda", "link": "https://stackoverflow.com/users/2148667/kuba-jagoda"}, "reply_to_user": {"reputation": 12935, "user_id": 1716560, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5616f9dfbc94117b32b3b9788f4fd8c0?s=128&d=identicon&r=PG", "display_name": "ktretyak", "link": "https://stackoverflow.com/users/1716560/ktretyak"}, "edited": false, "score": 0, "creation_date": 1484159162, "post_id": 41597517, "comment_id": 70398904, "body": "The point is that interface <code>Second</code> is not compatible with the interface <code>First</code> because of the optional property. Regardless of that, all the 3 solutions I presented work in this case."}], "tags": [], "owner": {"reputation": 3120, "user_id": 2148667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7CoUc.jpg?s=128&g=1", "display_name": "Kuba Jagoda", "link": "https://stackoverflow.com/users/2148667/kuba-jagoda"}, "is_accepted": false, "score": 1, "last_activity_date": 1484157161, "creation_date": 1484157161, "answer_id": 41597517, "question_id": 41597425, "link": "https://stackoverflow.com/questions/41597425/how-to-tell-typescript-that-optional-property-in-object-exists-and-is-set/41597517#41597517", "title": "How to tell TypeScript that optional property in object exists and is set?", "body": "<p>I don't understand why you declare it as type <code>Second</code> since it has the property. However, you can do one of the following:</p>\n\n<ul>\n<li>change the type in the declaration to <code>First</code>, i.e. <code>let myVar: First = {propertyA: 'some string'};</code></li>\n<li>drop the type declaration completely. Then it will receive an anonymous type <code>{ propertyA: string; }</code> and will be assignable to <code>First</code>, i.e. <code>let myVar = {propertyA: 'some string'};</code></li>\n<li>use explicit type casting, i.e. <code>fn(&lt;First&gt;myVar);</code></li>\n</ul>\n\n<p>The error is caused because it's not safe to assume optional property will be there.</p>\n"}, {"comments": [{"owner": {"reputation": 12935, "user_id": 1716560, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5616f9dfbc94117b32b3b9788f4fd8c0?s=128&d=identicon&r=PG", "display_name": "ktretyak", "link": "https://stackoverflow.com/users/1716560/ktretyak"}, "edited": false, "score": 0, "creation_date": 1484158971, "post_id": 41597537, "comment_id": 70398814, "body": "Thanks, I know about type guard, but its work for a bit different purpose, because I do not need check type of the argument. I have two compatible objects and I believe that exists way to clarify this fact for TypeScript."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 12935, "user_id": 1716560, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5616f9dfbc94117b32b3b9788f4fd8c0?s=128&d=identicon&r=PG", "display_name": "ktretyak", "link": "https://stackoverflow.com/users/1716560/ktretyak"}, "edited": false, "score": 0, "creation_date": 1484159823, "post_id": 41597537, "comment_id": 70399282, "body": "But they are not compatible. <code>{ a: any }</code> is not the same type as <code>{ a?: any }</code>. You have no way of clarifying that for the compiler other than type assert or type guard."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 4, "last_activity_date": 1484157224, "creation_date": 1484157224, "answer_id": 41597537, "question_id": 41597425, "link": "https://stackoverflow.com/questions/41597425/how-to-tell-typescript-that-optional-property-in-object-exists-and-is-set/41597537#41597537", "title": "How to tell TypeScript that optional property in object exists and is set?", "body": "<p>You can do this:</p>\n\n<pre><code>fn(myVar as First);\n</code></pre>\n\n<p>And use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guard</a> for the if:</p>\n\n<pre><code>function isFirst(obj: any): obj is First {\n    return obj &amp;&amp; obj.propertyA;\n}\n\nif(isFirst(myVar)) {\n  fn(myVar);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 838, "user_id": 8209615, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NZ8uGjFHURo/AAAAAAAAAAI/AAAAAAAAAw0/m47L2HeRAiE/photo.jpg?sz=128", "display_name": "Antoine Laffargue", "link": "https://stackoverflow.com/users/8209615/antoine-laffargue"}, "edited": false, "score": 0, "creation_date": 1607430324, "post_id": 52018536, "comment_id": 115264455, "body": "For me your RequiredKeys utility type didn&#39;t work as expected. This version did the trick: <code>type RequiredKeys&lt;T, K extends keyof T&gt; = Exclude&lt;T, K&gt; &amp; { [key in K]-?: Required&lt;T[key]&gt; }</code>"}], "tags": [], "owner": {"reputation": 2934, "user_id": 5043802, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/92ac4cb6218eba19d5f88e9f7389ca6d?s=128&d=identicon&r=PG&f=1", "display_name": "elnygren", "link": "https://stackoverflow.com/users/5043802/elnygren"}, "is_accepted": false, "score": 8, "last_activity_date": 1535209713, "creation_date": 1535209713, "answer_id": 52018536, "question_id": 41597425, "link": "https://stackoverflow.com/questions/41597425/how-to-tell-typescript-that-optional-property-in-object-exists-and-is-set/52018536#52018536", "title": "How to tell TypeScript that optional property in object exists and is set?", "body": "<p>This problem is probably more generally about creating a type guard that tells the compiler your value is of a new type where said field is NOT optional but mandatory / required.</p>\n\n<p>One way is to use the <code>Required&lt;T&gt;</code> type shipped with TypeScript that flips <strong>all</strong> fields to become required. However, a more realistic scenario is that perhaps not all, but only some fields are checked to exist.</p>\n\n<p>Here's an example of a generic type and a typeguard for such a case:</p>\n\n<pre><code>    /** Interface with optional properties */\n    interface IOptionalData {\n      foo?: { bar?: string };\n      other?: { bar?: string};\n      always: { bar?: string };\n    }\n\n    /** Utility to make certain keys of a type required */\n    type RequiredKeys&lt;T, K extends keyof T&gt; = Exclude&lt;T, K&gt; &amp; Required&lt;Pick&lt;T, K&gt;&gt;\n\n    /** Typeguard for property 'foo' in IOptionalData */\n    const ensureFooProperty = (data: IOptionalData): data is RequiredKeys&lt;IOptionalData, 'foo'&gt; =&gt;\n      !!data.foo &amp;&amp; typeof data.foo.bar === 'string'\n\n    const accessData = (data: IOptionalData) =&gt; {\n      if (ensureFooProperty(data)) {\n        console.log(data.always.bar) // always is always defined\n        console.log(data.other.bar)  // COMPILER ERROR: 'other' is possibly undefined\n        return data.foo.bar          // accessing optional props is allowed due to ensureToFoo\n      }\n      console.log(data.foo.bar)      // COMPILER ERROR: 'foo' is possibly undefined\n    }\n</code></pre>\n\n<p><a href=\"https://gist.github.com/elnygren/ddd28c2f0d737d8a1130da783426fea7\" rel=\"noreferrer\">https://gist.github.com/elnygren/ddd28c2f0d737d8a1130da783426fea7</a></p>\n\n<p>Note: in my example you could always just inline the check into the if statement, however, this is not always the best course of action due to DRY (your type guard might be quite a bit more complex)</p>\n"}, {"tags": [], "owner": {"reputation": 1930, "user_id": 1408634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a84377161bf3e4ec45fbe39f0ac95bf?s=128&d=identicon&r=PG", "display_name": "aacotroneo", "link": "https://stackoverflow.com/users/1408634/aacotroneo"}, "is_accepted": false, "score": 7, "last_activity_date": 1547508173, "creation_date": 1547508173, "answer_id": 54190641, "question_id": 41597425, "link": "https://stackoverflow.com/questions/41597425/how-to-tell-typescript-that-optional-property-in-object-exists-and-is-set/54190641#54190641", "title": "How to tell TypeScript that optional property in object exists and is set?", "body": "<p>old question, but there's a very clean solution in newer versions of typescript</p>\n\n<pre><code>fn(myVar!);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/42273853/in-typescript-what-is-the-exclamation-mark-bang-operator-when-dereferenci\">In Typescript, what is the ! (exclamation mark / bang) operator when dereferencing a member?</a></p>\n"}], "owner": {"reputation": 12935, "user_id": 1716560, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5616f9dfbc94117b32b3b9788f4fd8c0?s=128&d=identicon&r=PG", "display_name": "ktretyak", "link": "https://stackoverflow.com/users/1716560/ktretyak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14654, "favorite_count": 1, "answer_count": 4, "score": 13, "last_activity_date": 1547508173, "creation_date": 1484156825, "last_edit_date": 1484159316, "question_id": 41597425, "link": "https://stackoverflow.com/questions/41597425/how-to-tell-typescript-that-optional-property-in-object-exists-and-is-set", "title": "How to tell TypeScript that optional property in object exists and is set?", "body": "<p>I have the following code:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface First\n{\n  propertyA: string;\n}\n\n// Here propertyA is optional\n// Imagine that this interface came from external library.\ninterface Second\n{\n  propertyA ?: string;\n}\n\nfunction fn(arg: First)\n{\n  // ...\n}\n\n// I know that this object can be declared as type of First,\n// but I really need set this as type of Second interface\nlet myVar: Second = {propertyA: 'some string'};\n\n// I really need in this way to make the call.\nfn(myVar); // Error\n\nif(myVar.hasOwnProperty('propertyA'))\n{\n  fn(myVar); // Still same error\n}\n\nif(myVar.propertyA)\n{\n  fn(myVar); // Still same error\n}\n</code></pre>\n\n<p>But TypeScript throw error:</p>\n\n<blockquote>\n  <p>Argument of type 'Second' is not assignable to parameter of type 'First'.\n    Property 'propertyA' is optional in type 'Second' but required in type 'First'.</p>\n</blockquote>\n\n<p>So, how to tell TypeScript that optional property <code>propertyA</code> in <code>myVar</code> exists and is set?</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 2052, "user_id": 3651170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8328614dfce9f7f42d69e95fc8455c6a?s=128&d=identicon&r=PG", "display_name": "Carlos Guzman", "link": "https://stackoverflow.com/users/3651170/carlos-guzman"}, "is_accepted": false, "score": 0, "last_activity_date": 1525793433, "last_edit_date": 1525793433, "creation_date": 1484157872, "answer_id": 41597716, "question_id": 41597360, "link": "https://stackoverflow.com/questions/41597360/how-to-add-a-custom-validator-to-an-ion-input-in-ionic-2-ex-check-for-min-max/41597716#41597716", "title": "How to add a custom validator to an ion-input in Ionic 2? ex. Check for min/max", "body": "<p>Change the type of your ion-input to 'tel' and you will be able to use minlength and maxlength</p>\n\n<p>example: </p>\n\n<pre><code>        &lt;ion-label stacked&gt;Nombre para la tarjeta&lt;/ion-label&gt;\n        &lt;ion-input type=\"tel\" name=\"name\" minlength=\"1\" maxlength=\"11\"\n                   required [(ngModel)]=\"card.name\"&gt;\n        &lt;/ion-input&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1222, "user_id": 4205680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MnFBc.jpg?s=128&g=1", "display_name": "Adeeb basheer", "link": "https://stackoverflow.com/users/4205680/adeeb-basheer"}, "is_accepted": false, "score": 0, "last_activity_date": 1484158122, "creation_date": 1484158122, "answer_id": 41597790, "question_id": 41597360, "link": "https://stackoverflow.com/questions/41597360/how-to-add-a-custom-validator-to-an-ion-input-in-ionic-2-ex-check-for-min-max/41597790#41597790", "title": "How to add a custom validator to an ion-input in Ionic 2? ex. Check for min/max", "body": "<p>Below given code is a custom email validation directive in angular2. Hope it will help you.  </p>\n\n<pre><code>import { Directive, forwardRef } from '@angular/core';\nimport { Validator, AbstractControl, NG_VALIDATORS } from '@angular/forms';\n\n@Directive({\n  selector: '[validateEmail]',\n  providers: [{ provide: NG_VALIDATORS, useExisting: forwardRef(() =&gt; ValidateEmail), multi: true }]\n})\nexport class ValidateEmail implements Validator {\n\n  constructor() { }\n\n  validate(c: AbstractControl): { [key: string]: any } {\n    let EMAIL_REGEXP =  /^[-a-z0-9~!$%^&amp;*_=+}{\\'?]+(\\.[-a-z0-9~!$%^&amp;*_=+}{\\'?]+)*@([a-z0-9_][-a-z0-9_]*(\\.[-a-z0-9_]+)*\\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$/i;\n\n    if (!c.value) return null;\n    return EMAIL_REGEXP.test(c.value) ? null : {\n      validEmail: true\n    };\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7400279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67fc51fda3e1ee243814d41c2a0b2b1a?s=128&d=identicon&r=PG&f=1", "display_name": "navPush", "link": "https://stackoverflow.com/users/7400279/navpush"}, "is_accepted": false, "score": 2, "last_activity_date": 1484165806, "last_edit_date": 1484165806, "creation_date": 1484160605, "answer_id": 41598490, "question_id": 41597360, "link": "https://stackoverflow.com/questions/41597360/how-to-add-a-custom-validator-to-an-ion-input-in-ionic-2-ex-check-for-min-max/41598490#41598490", "title": "How to add a custom validator to an ion-input in Ionic 2? ex. Check for min/max", "body": "<p>FIRST WAY is pretty nice, that I think is best for me, as I have 4 validators and can refer to them by wrapping all in a class that i named CustomValidators</p>\n\n<pre><code>import { Directive, Input } from '@angular/core';\n\nimport { FormControl, Validator, AbstractControl } from '@angular/forms';\n\nexport class CustomValidators {\n    static duplicates(existing: string[]) {\n        return (control: FormControl) =&gt; {\n\n           let valid = existing.map(s =&gt; s.toLowerCase().trim())\n              .indexOf(control.value.toLowerCase().trim()) === -1\n\n           return valid ? null : {\n               duplicates: {\n                   valid: false\n             }\n         }\n     }\n }\n  static min(min: number) {\n    return (control: FormControl) =&gt; {\n        console.log('min' + (parseInt(control.value) &gt;= min));\n        let valid =  parseInt(control.value) &gt;= min;\n\n        return valid ? null : {\n            min: {\n                valid: false\n            }\n        }\n    }\n}\n  static max(max: number) {\n    return (control: FormControl) =&gt; {\n        console.log('max' + (parseInt(control.value) &lt;= max));\n\n        let valid = parseInt(control.value) &lt;= max;\n\n        return valid ? null : {\n            max: {\n                valid: false\n            }\n        }\n    }\n}\n  static wholeNumber(control: FormControl) {\n    console.log('wholeNumber' + (parseFloat(control.value) % 1 === 0));\n      let valid =  parseFloat(control.value) % 1 === 0;\n      return valid ? null : {\n          wholeNumber: {\n            valid: false\n       }\n     }\n   }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>We can pass in a CustomValidator in the consturctor of our (ex. AppPage) class like this.</p>\n\n<pre><code>constructor(public navCtrl: NavController,\n  public navParams: NavParams,\n  public formBuilder: FormBuilder) {\n\n      this.formGroup = formBuilder.group({\n      'tableName': ['', Validators.compose([\n          Validators.required,\n          CustomValidators.duplicates(this.existingTables),\n      ])],\n\n      'totalSeats': ['', Validators.compose([\n          Validators.required, \n          CustomValidators.min(2), \n          CustomValidators.max(20), \n          CustomValidators.wholeNumber,\n      ])] \n\n      });\n\n}\n</code></pre>\n\n<p>SECOND WAY is to create a class separately, this might be easy to do when you don't have a lot of validators, otherwise you would have to make bunch of classes for each of them.</p>\n\n<pre><code>@Directive({ selector: '[validateDuplicates]' }) \nclass ValidateDuplicates implements Validator {\n   @Input('validateDuplicates') existing: string[];\n\n    validate(control: FormControl): { [key: string]: any; } { \n\n        let valid = this.existing.map(s =&gt; s.toLowerCase().trim())\n           .indexOf(control.value.toLowerCase().trim()) === -1;\n\n       return valid ? null : {\n            duplicates: {\n               valid: false\n            }\n       }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7400279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67fc51fda3e1ee243814d41c2a0b2b1a?s=128&d=identicon&r=PG&f=1", "display_name": "navPush", "link": "https://stackoverflow.com/users/7400279/navpush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4581, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1525793433, "creation_date": 1484156568, "question_id": 41597360, "link": "https://stackoverflow.com/questions/41597360/how-to-add-a-custom-validator-to-an-ion-input-in-ionic-2-ex-check-for-min-max", "title": "How to add a custom validator to an ion-input in Ionic 2? ex. Check for min/max", "body": "<p>I am creating an Angular2-Ionic2 TypeScript based app, and have a problem with ion-inputs which don't seem to recognize min, max validator attributes as regular input would.\nOther validators I might need to create is going to be a duplicate validator and a whole number validator.\nIn a nutshell, I need an idea of creating a robust set of validators.</p>\n"}, {"tags": ["typescript", "systemjs", "rxjs5"], "answers": [{"tags": [], "owner": {"reputation": 3430, "user_id": 1798234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ab8e209cb972d4387fb3af285cf5823a?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/1798234/james"}, "is_accepted": true, "score": 2, "last_activity_date": 1484258307, "creation_date": 1484258307, "answer_id": 41623719, "question_id": 41597197, "link": "https://stackoverflow.com/questions/41597197/issue-loading-rxjs-bundle-with-systemjs/41623719#41623719", "title": "Issue loading rxjs bundle with SystemJs", "body": "<p>By adding <code>'Rx'</code> as the <code>meta.rxjs.exports</code> value in <code>system.config</code>, it allows you to select the <code>Rx</code> object to be imported, instead of its parent. You can use dot notation to select an even deeper object if necessary.</p>\n\n<p>Not that you would want to, but just as an example, <code>exports: 'Rx.Observable'</code> would set the property <code>rxjs_1_1</code> to <code>Observable</code> in my original questions transpiled code.</p>\n\n<p>So the full <code>system.config</code> would be:</p>\n\n<pre><code>System.config({\n    transpiler: 'typescript',\n    paths: {\n        'src:*': '/src/*',\n        'npm:*': '/node_modules/*'\n    },\n    map: {\n        'lib': 'src:lib',\n        'rxjs': 'npm:rxjs/bundles/Rx.js',\n        'typescript': 'npm:typescript/lib/typescript.js',\n        'systemjs': 'npm:systemjs/dist/system.src.js'\n    },\n    packages: {\n        lib: {\n            defaultExtension: 'js'\n        }\n    },\n    meta: {\n        rxjs: {\n            format: 'global',\n            exports: 'Rx'\n        }\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 3430, "user_id": 1798234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ab8e209cb972d4387fb3af285cf5823a?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/1798234/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 41623719, "answer_count": 1, "score": 0, "last_activity_date": 1511517859, "creation_date": 1484156000, "last_edit_date": 1592644375, "question_id": 41597197, "link": "https://stackoverflow.com/questions/41597197/issue-loading-rxjs-bundle-with-systemjs", "title": "Issue loading rxjs bundle with SystemJs", "body": "<p><strong>Versions</strong></p>\n<p><code>npm: 3.10.9</code><br />\n<code>systemjs: 0.19.41</code><br />\n<code>typescript: 1.8.10</code><br />\n<code>rxjs: 5.0.3</code></p>\n<p><strong>Background</strong></p>\n<p>I have a project (that's written in typescript) that i'm trying to add <code>rxjs</code> to, but have come across an issue when loading the bundled file through <code>systemjs</code>.</p>\n<p><strong>SystemJs config</strong></p>\n<pre><code>System.config({\n    transpiler: 'typescript',\n    paths: {\n        'src:*': '/src/*',\n        'npm:*': '/node_modules/*'\n    },\n    map: {\n        'lib': 'src:lib',\n        'rxjs': 'npm:rxjs/bundles/Rx.js',\n        'typescript': 'npm:typescript/lib/typescript.js',\n        'systemjs': 'npm:systemjs/dist/system.src.js'\n    },\n    packages: {\n        lib: {\n            defaultExtension: 'js'\n        }\n    }\n});\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>Using the above config, i get the following error.</p>\n<pre><code>Error: (SystemJS) undefined is not a constructor (evaluating '__extends(UnsubscriptionError, _super)')\n</code></pre>\n<p>Which is caused by the fact that systemjs incorrectly defaults to <code>amd</code> format and the <code>exporter</code> function on line 245 of <code>Rx.js</code> never gets executed.</p>\n<p>From the systemjs docs:</p>\n<blockquote>\n<p><strong>Module format detection</strong></p>\n<p>When the module format is not set, automatic regular-expression-based    detection is used. This module format detection is never completely accurate, but caters well for the majority use cases.</p>\n</blockquote>\n<p><strong>Attempted solution</strong></p>\n<p>I presumed that explicitly setting the <code>rxjs</code> package format to <code>global</code> in the config would fix this issue.</p>\n<pre><code>System.config({\n    transpiler: 'typescript',\n    paths: {\n        'src:*': '/src/*',\n        'npm:*': '/node_modules/*'\n    },\n    map: {\n        'lib': 'src:lib',\n        'rxjs': 'npm:rxjs/bundles/Rx.js',\n        'typescript': 'npm:typescript/lib/typescript.js',\n        'systemjs': 'npm:systemjs/dist/system.src.js'\n    },\n    packages: {\n        lib: {\n            defaultExtension: 'js'\n        },\n        rxjs: {\n            format: 'global'\n        }\n    }\n});\n</code></pre>\n<p><strong>Problem 2</strong></p>\n<p>Although this fixed the first issue, it created a second. As everywhere that i attempt to use the <code>rxjs</code> imports now throws an error, as they're <code>undefined</code>.</p>\n<pre><code>import {Observable} from 'rxjs'\n\nexport class SomeClass {\n\n    ...\n    \n    private _isObservable(arg: any): boolean {\n        return arg instanceof Observable;\n    }\n}\n</code></pre>\n<p><code>Uncaught TypeError: Right-hand side of 'instanceof' is not an object at SomeClass._isObservable</code></p>\n<p>Debugging the transpiled code in the console reveals that although <code>window.Rx</code> gets correctly set to the <code>Rx</code> object, the <code>rxjs_1_1</code> object that gets set on <code>SomeClass</code>, is not the global <code>Rx</code> object, but instead another object with the <code>Rx</code> global set as a property 'Rx' on it.</p>\n<p>So <code>rxjs_1.Rx.Observable</code> works, but not of rxjs_1.Observable`.</p>\n<pre><code>(function(System, SystemJS) {System.register(['rxjs'], function(exports_1, context_1) {\n&quot;use strict&quot;;\nvar __moduleName = context_1 &amp;&amp; context_1.id;\nvar rxjs_1;\nvar SomeClass;\nreturn {\n    setters:[\n        function (rxjs_1_1) {\n            rxjs_1 = rxjs_1_1;\n        }],\n    execute: function() {\n        SomeClass = (function () {\n            function SomeClass() {\n            }\n            ...\n            SomeClass.prototype._isObservable = function (arg) {\n                return arg instanceof rxjs_1.Observable;\n            };\n            return SomeClass;\n        }());\n        exports_1(&quot;SomeClass&quot;, SomeClass);\n    }\n}\n</code></pre>\n<p>});</p>\n<p><strong>Question</strong></p>\n<p>Any idea how i get it to pass in <code>Rx</code> object instead?</p>\n"}, {"tags": ["c#", "asp.net", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 15213, "user_id": 1518765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUfY8.jpg?s=128&g=1", "display_name": "olsn", "link": "https://stackoverflow.com/users/1518765/olsn"}, "edited": false, "score": 2, "creation_date": 1484152765, "post_id": 41595570, "comment_id": 70395057, "body": "Please clarify your specific problem or add additional details to highlight exactly what you need. As it&#39;s currently written, it\u2019s hard to tell exactly what you&#39;re asking. See the How to Ask page for help clarifying this question."}, {"owner": {"reputation": 756, "user_id": 1353465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n9kha.jpg?s=128&g=1", "display_name": "chrigu", "link": "https://stackoverflow.com/users/1353465/chrigu"}, "edited": false, "score": 0, "creation_date": 1484164952, "post_id": 41595570, "comment_id": 70402111, "body": "Why do you use <code>response.json().data</code> in one place and only <code>response.json()</code> in the other? Shouldn&#39;t it be the same?"}, {"owner": {"reputation": 297, "user_id": 4731934, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/10205372627947810/picture?type=large", "display_name": "Mark", "link": "https://stackoverflow.com/users/4731934/mark"}, "edited": false, "score": 0, "creation_date": 1484243560, "post_id": 41595570, "comment_id": 70441028, "body": "It&#39;s clear from the second example of code that the data is being returned from the C# Controller and is displayed by Angular 2. The first code example is from the angular.io docs and the Promise isn&#39;t working. I may change the Promise to an Observable to get it to work. It&#39;s not clear to me why the Promise isn&#39;t working."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 2676426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i39J3.jpg?s=128&g=1", "display_name": "dilli.shrestha", "link": "https://stackoverflow.com/users/2676426/dilli-shrestha"}, "is_accepted": true, "score": 0, "last_activity_date": 1494174566, "creation_date": 1494174566, "answer_id": 43833888, "question_id": 41595570, "link": "https://stackoverflow.com/questions/41595570/angular-2-rxjs-promise-not-working-for-http-get-call-to-c-controller-whereas-an/43833888#43833888", "title": "Angular 2 RxJs Promise not working for http.get call to C# Controller whereas Angular 2 In Memory Web API does work", "body": "<p>You can use promise like this </p>\n\n<pre><code>return this.http.get(this.heroesUrl)\n.map(response =&gt; response.json() as Ge)\n       .toPromise()\n       .then(response =&gt; response.json().data as Hero[])\n       .catch(this.handleError);\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 297, "user_id": 4731934, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/10205372627947810/picture?type=large", "display_name": "Mark", "link": "https://stackoverflow.com/users/4731934/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 43833888, "answer_count": 1, "score": 0, "last_activity_date": 1494174566, "creation_date": 1484151048, "question_id": 41595570, "link": "https://stackoverflow.com/questions/41595570/angular-2-rxjs-promise-not-working-for-http-get-call-to-c-controller-whereas-an", "title": "Angular 2 RxJs Promise not working for http.get call to C# Controller whereas Angular 2 In Memory Web API does work", "body": "<p>I'm using ASP.NET Core and Angular 2 (version ~2.2.0) and Rxjs (version ^5.0.0-rc.5). The code sample in the angular.io docs works with the In Memory Web API for Angular 2 however when I make an http.get call to the C# Controller it fails. The data is being returned. The following lines of code don't work:</p>\n\n<pre><code>getHeroes(): Promise&lt;Hero[]&gt; {\nreturn this.http.get(this.heroesUrl)\n           .toPromise()\n           .then(response =&gt; response.json().data as Hero[])\n           .catch(this.handleError);\n  }\n</code></pre>\n\n<p>I've changed the code and these following lines of code do work:</p>\n\n<pre><code>getHeroes(): Hero[] {\n    this.http.get(this.heroesUrl).map(response =&gt; response.json()).subscribe(heroes =&gt; {\n        this.heroes = heroes;\n    })\n    return this.heroes;\n}\n</code></pre>\n\n<p>Can anyone help? I really need to get the first lines of code to work because the second lines of code don't work as planned, they simply demonstrate that the data is being returned and being displayed.</p>\n"}, {"tags": ["angular", "typescript", "karma-jasmine", "angular-cli"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1484151489, "post_id": 41595419, "comment_id": 70394251, "body": "...so where&#39;s the module? Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 127, "user_id": 7398790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7da8c14dbe9f3bac47010454226585b0?s=128&d=identicon&r=PG&f=1", "display_name": "bob", "link": "https://stackoverflow.com/users/7398790/bob"}, "edited": false, "score": 0, "creation_date": 1484154442, "post_id": 41595419, "comment_id": 70396125, "body": "no need here for <code>ModuleWithProviders</code>. <code>Browsermodule</code> is also not needed because you have <code>CommonModule</code>"}, {"owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "edited": false, "score": 0, "creation_date": 1484154746, "post_id": 41595419, "comment_id": 70396333, "body": "What is <code>NgbModule.forRoot(),</code>? You don&#39;t seem to import it anywhere."}, {"owner": {"reputation": 76, "user_id": 2422837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb08291f36ed9b8600208bd1de94c32?s=128&d=identicon&r=PG", "display_name": "Scott Carmichael", "link": "https://stackoverflow.com/users/2422837/scott-carmichael"}, "edited": false, "score": 0, "creation_date": 1484157217, "post_id": 41595419, "comment_id": 70397901, "body": "NgbModule is the Bootstrap module. The MyBtnComponent uses elements of this."}, {"owner": {"reputation": 76, "user_id": 2422837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb08291f36ed9b8600208bd1de94c32?s=128&d=identicon&r=PG", "display_name": "Scott Carmichael", "link": "https://stackoverflow.com/users/2422837/scott-carmichael"}, "edited": false, "score": 0, "creation_date": 1484215505, "post_id": 41595419, "comment_id": 70421881, "body": "I think what is happening is MyBtnComponent is not being imported by the module when running the karma tests. After logging this out in the terminal it shows this to be undefined.  Is there a better way for importing or is this more a config issue with the test setup?"}], "answers": [{"comments": [{"owner": {"reputation": 1938, "user_id": 433970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac815db924e9fff8b1cb34be98545008?s=128&d=identicon&r=PG", "display_name": "eppsilon", "link": "https://stackoverflow.com/users/433970/eppsilon"}, "edited": false, "score": 1, "creation_date": 1492723753, "post_id": 41632610, "comment_id": 74113100, "body": "I&#39;m seeing this problem too. Would you mind describing how you restructured your app?"}, {"owner": {"reputation": 355, "user_id": 6097430, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7cbbf4adc82cfd103899f0095250ab3?s=128&d=identicon&r=PG", "display_name": "Janatbek Orozaly", "link": "https://stackoverflow.com/users/6097430/janatbek-orozaly"}, "edited": false, "score": 0, "creation_date": 1502222289, "post_id": 41632610, "comment_id": 78113479, "body": "what did you do?"}], "tags": [], "owner": {"reputation": 76, "user_id": 2422837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb08291f36ed9b8600208bd1de94c32?s=128&d=identicon&r=PG", "display_name": "Scott Carmichael", "link": "https://stackoverflow.com/users/2422837/scott-carmichael"}, "is_accepted": true, "score": 0, "last_activity_date": 1484303868, "creation_date": 1484303868, "answer_id": 41632610, "question_id": 41595419, "link": "https://stackoverflow.com/questions/41595419/angular2-cli-karma-unit-tests-failing/41632610#41632610", "title": "Angular2 CLI Karma Unit Tests Failing", "body": "<p>I managed to fix this problem by restructuring my app. I think the main issue i was having is the karma-runner doesn't quite match up with the config of the compiler.</p>\n"}], "owner": {"reputation": 76, "user_id": 2422837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb08291f36ed9b8600208bd1de94c32?s=128&d=identicon&r=PG", "display_name": "Scott Carmichael", "link": "https://stackoverflow.com/users/2422837/scott-carmichael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 0, "accepted_answer_id": 41632610, "answer_count": 1, "score": 1, "last_activity_date": 1484303868, "creation_date": 1484150646, "last_edit_date": 1484152353, "question_id": 41595419, "link": "https://stackoverflow.com/questions/41595419/angular2-cli-karma-unit-tests-failing", "title": "Angular2 CLI Karma Unit Tests Failing", "body": "<p>I'm having issues getting karma tests to run for a component i'm testing with the Angular2 CLI. I have a component that uses elements setup in a module so figured it would be sensible way to structure the test (see below). In the TestBed config i am adding my module which also contains the component being tested to the imports array.</p>\n\n<pre><code>/* tslint:disable:no-unused-variable */\n\nimport { TestBed, async, ComponentFixture, ComponentFixtureAutoDetect } from '@angular/core/testing';\nimport { MyBtnComponent } from './';\nimport { MyModule } from '../../my-module.module';\n\nlet fixture : ComponentFixture&lt;MyBtnComponent&gt;;\nlet btn  : MyBtnComponent;\n\ndescribe('Component: MyBtn', () =&gt; {\n    beforeEach(async(() =&gt; {\n        TestBed.configureTestingModule({\n            imports: [\n                MyModule\n            ]\n        }).compileComponents();\n\n        fixture = TestBed.createComponent(MyBtnComponent);\n        btn = fixture.debugElement.componentInstance;\n    }));\n\n    it('should create the button component', async(() =&gt; {\n        expect(btn).toBeTruthy();\n    }));\n\n});\n</code></pre>\n\n<p>I get the following error when running the tests.</p>\n\n<pre><code>Chrome 55.0.2883 (Mac OS X 10.12.0) Component: MyBtn should create the button component FAILED\n    Failed: Unexpected value 'undefined' exported by the module 'MyModule'\n    Error: Unexpected value 'undefined' exported by the module 'MyModule'\n        at SyntaxError.BaseError [as constructor] (http://localhost:9876/_karma_webpack_/0.bundle.js:29009:27) [ProxyZone]\n        at new SyntaxError (http://localhost:9876/_karma_webpack_/0.bundle.js:4129:16) [ProxyZone]\n        at http://localhost:9876/_karma_webpack_/0.bundle.js:11793:40 [ProxyZone]\n        at Array.forEach (native) [ProxyZone]\n        at CompileMetadataResolver.getNgModuleMetadata (http://localhost:9876/_karma_webpack_/0.bundle.js:11791:49) [ProxyZone]\n        at CompileMetadataResolver.getNgModuleSummary (http://localhost:9876/_karma_webpack_/0.bundle.js:11706:52) [ProxyZone]\n        at http://localhost:9876/_karma_webpack_/0.bundle.js:11777:72 [ProxyZone]\n        at Array.forEach (native) [ProxyZone]\n        at CompileMetadataResolver.getNgModuleMetadata (http://localhost:9876/_karma_webpack_/0.bundle.js:11764:49) [ProxyZone]\n        at JitCompiler._loadModules (http://localhost:9876/_karma_webpack_/0.bundle.js:25082:64) [ProxyZone]\n        at JitCompiler._compileModuleAndAllComponents (http://localhost:9876/_karma_webpack_/0.bundle.js:25061:52) [ProxyZone]\n        at JitCompiler.compileModuleAndAllComponentsAsync (http://localhost:9876/_karma_webpack_/0.bundle.js:25022:21) [ProxyZone]\n        at TestingCompilerImpl.compileModuleAndAllComponentsAsync (http://localhost:9876/_karma_webpack_/0.bundle.js:28673:35) [ProxyZone]\n        at TestBed.compileComponents (webpack:///~/@angular/core/bundles/core-testing.umd.js:748:0 &lt;- src/test.ts:3215:35) [ProxyZone]\n    Expected undefined to be truthy.\n        at webpack:///src/app/my-module/_components/btn/btn.spec.ts:41:20 &lt;- src/test.ts:56909:21 [ProxyZone]\n        at AsyncTestZoneSpec.onInvoke (webpack:///~/zone.js/dist/async-test.js:49:0 &lt;- src/test.ts:44340:39) [ProxyZone]\n        at ProxyZoneSpec.onInvoke (webpack:///~/zone.js/dist/proxy.js:76:0 &lt;- src/test.ts:45032:39) [ProxyZone]\n        at Zone.runGuarded (webpack:///~/zone.js/dist/zone.js:126:0 &lt;- src/test.ts:65298:47) [ProxyZone =&gt; ProxyZone]\n        at runInTestZone (webpack:///~/@angular/core/bundles/core-testing.umd.js:105:0 &lt;- src/test.ts:2572:29) [ProxyZone]\n        at Object.&lt;anonymous&gt; (webpack:///~/@angular/core/bundles/core-testing.umd.js:48:0 &lt;- src/test.ts:2515:17) [ProxyZone]\n</code></pre>\n\n<p>Below is my project config and the module that is being imported.</p>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"my-project\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"lint\": \"tslint \\\"src/**/*.ts\\\"\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.3.1\",\n    \"@angular/compiler\": \"^2.3.1\",\n    \"@angular/core\": \"^2.3.1\",\n    \"@angular/forms\": \"^2.3.1\",\n    \"@angular/http\": \"^2.3.1\",\n    \"@angular/platform-browser\": \"^2.3.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.3.1\",\n    \"@angular/router\": \"^3.3.1\",\n    \"@ng-bootstrap/ng-bootstrap\": \"^1.0.0-alpha.15\",\n    \"core-js\": \"^2.4.1\",\n    \"rxjs\": \"^5.0.1\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"^2.3.1\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"1.0.0-beta.24\",\n    \"bootstrap\": \"^4.0.0-alpha.5\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"~4.0.13\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"^4.0.2\",\n    \"typescript\": \"~2.0.3\"\n  }\n}\n</code></pre>\n\n<p>my-module.module.ts</p>\n\n<pre><code>import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { MyBtnComponent } from './_components/my-btn/my-btn.component';\n\n@NgModule({\n    imports: [\n        NgbModule.forRoot(),\n        BrowserModule,\n        CommonModule,\n        FormsModule\n    ],\n    declarations: [\n        MyBtnComponent\n    ],\n    exports: [\n        MyBtnComponent\n    ]\n})\nexport class MyModule {\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484152633, "post_id": 41595408, "comment_id": 70394987, "body": "If <code>classB</code> needs to call <code>classA</code> methods then it needs to know it, meaning that you&#39;ll need to import <code>classA</code> in <code>.&#47;class-b</code>"}, {"owner": {"reputation": 3966, "user_id": 1142380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rM8f6.jpg?s=128&g=1", "display_name": "ToastyMallows", "link": "https://stackoverflow.com/users/1142380/toastymallows"}, "edited": false, "score": 0, "creation_date": 1484159475, "post_id": 41595408, "comment_id": 70399070, "body": "A lot of things to consider here.  Are classA and classB related in any way?  SHOULD classA be calling classB? Perhaps the method being called can be static?  Maybe this functionality could be factored out into a helper classC and passed into classB?"}, {"owner": {"reputation": 3091, "user_id": 2170696, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OeTWf.png?s=128&g=1", "display_name": "Paul Redmond", "link": "https://stackoverflow.com/users/2170696/paul-redmond"}, "reply_to_user": {"reputation": 3966, "user_id": 1142380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rM8f6.jpg?s=128&g=1", "display_name": "ToastyMallows", "link": "https://stackoverflow.com/users/1142380/toastymallows"}, "edited": false, "score": 0, "creation_date": 1484159805, "post_id": 41595408, "comment_id": 70399272, "body": "@ToastyMallows Good points. Yes, they are related. classA is the app&#39;s functionality and classB is the UI/event handlers etc. So classB calls a lot of classA&#39;s methods."}, {"owner": {"reputation": 3966, "user_id": 1142380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rM8f6.jpg?s=128&g=1", "display_name": "ToastyMallows", "link": "https://stackoverflow.com/users/1142380/toastymallows"}, "edited": false, "score": 0, "creation_date": 1484168680, "post_id": 41595408, "comment_id": 70404068, "body": "@PaulRedmond If that&#39;s really all that is in classB, I would inject classB into classA via the constructor and have classB have an interface that classA requires on its constructor.  That will make it easier to test both classA and classB without dealing with hidden dependencies inside the class."}, {"owner": {"reputation": 3091, "user_id": 2170696, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OeTWf.png?s=128&g=1", "display_name": "Paul Redmond", "link": "https://stackoverflow.com/users/2170696/paul-redmond"}, "reply_to_user": {"reputation": 3966, "user_id": 1142380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rM8f6.jpg?s=128&g=1", "display_name": "ToastyMallows", "link": "https://stackoverflow.com/users/1142380/toastymallows"}, "edited": false, "score": 0, "creation_date": 1484215093, "post_id": 41595408, "comment_id": 70421599, "body": "@ToastyMallows Okay I see. Can you give me a code example of that in an answer, please?"}], "answers": [{"tags": [], "owner": {"reputation": 1938, "user_id": 266148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/DG55X.jpg?s=128&g=1", "display_name": "Ricardo Rodrigues", "link": "https://stackoverflow.com/users/266148/ricardo-rodrigues"}, "is_accepted": false, "score": 0, "last_activity_date": 1484151909, "creation_date": 1484151909, "answer_id": 41595866, "question_id": 41595408, "link": "https://stackoverflow.com/questions/41595408/typescript-run-one-classs-methods-from-inside-another-class/41595866#41595866", "title": "TypeScript: Run one class&#39;s methods from inside another class", "body": "<p>There are a couple of ways you can sort this out:</p>\n\n<ul>\n<li>instantiate classA within classB (into a var, a field, depending on the scope you need)</li>\n<li>use a mixin an make classB extend classA using the <code>extends</code> keyword</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3966, "user_id": 1142380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rM8f6.jpg?s=128&g=1", "display_name": "ToastyMallows", "link": "https://stackoverflow.com/users/1142380/toastymallows"}, "is_accepted": false, "score": -1, "last_activity_date": 1484242366, "creation_date": 1484242366, "answer_id": 41619505, "question_id": 41595408, "link": "https://stackoverflow.com/questions/41595408/typescript-run-one-classs-methods-from-inside-another-class/41619505#41619505", "title": "TypeScript: Run one class&#39;s methods from inside another class", "body": "<p>In addition to the other answer, you could pass <code>ClassB</code> into <code>ClassA</code> on the constructor.  The benefit here is that both <code>ClassA</code> and <code>ClassB</code> can be tested without depending on each other (you could pass a <code>MockClassB</code> that implements <code>IClassB</code> into <code>ClassA</code> to test <code>ClassA</code>, for example). </p>\n\n<p>This can be adapted to suit your needs.</p>\n\n<pre><code>interface IClassB\n{\n    SomeMethod(): void;\n}\n\nclass ClassB implements IClassB\n{\n    public SomeMethod(): void\n    {\n        // do something to update the UI\n    }\n}\n\nclass ClassA\n{\n    private classB: IClassB;\n\n    constructor( classB: IClassB )\n    {\n        this.classB = classB;\n    }\n\n    public SomeFunctionality(): void\n    {\n        this.classB.SomeMethod();\n    }\n}\n</code></pre>\n\n<p>Then somewhere at the root of your application:</p>\n\n<pre><code>let iclassB: IClassB = new ClassB();\nlet classA: ClassA = new ClassA( iclassB );\n</code></pre>\n"}], "owner": {"reputation": 3091, "user_id": 2170696, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OeTWf.png?s=128&g=1", "display_name": "Paul Redmond", "link": "https://stackoverflow.com/users/2170696/paul-redmond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1484242366, "creation_date": 1484150622, "question_id": 41595408, "link": "https://stackoverflow.com/questions/41595408/typescript-run-one-classs-methods-from-inside-another-class", "title": "TypeScript: Run one class&#39;s methods from inside another class", "body": "<p>I may not be doing this correctly, but here's my setup:</p>\n\n<p>I have 2 classes in 2 files:</p>\n\n<pre><code>class-a.ts / classA\nclass-b.ts / classB\n</code></pre>\n\n<p>Then I have a namespace file (namespace.ts):</p>\n\n<pre><code>import { classA } from \"./class-a\";\nimport { classB } from \"./class-b\";\n\nnamespace App {\n    let a = new classA();\n    let b = new classB();\n}\n</code></pre>\n\n<p>My question is, how do I call methods available in classA inside classB? Right now, if I try and call <code>a.exampleMethod();</code> within b, it can't find the instance name. Shouldn't it be available?</p>\n"}, {"tags": ["javascript", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 6133, "user_id": 3277581, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5782f76788b57a66b19a27b7e6ab42fe?s=128&d=identicon&r=PG", "display_name": "Serginho", "link": "https://stackoverflow.com/users/3277581/serginho"}, "edited": false, "score": 1, "creation_date": 1484150545, "post_id": 41595303, "comment_id": 70393597, "body": "That&#39;s correct way: <code>import * as moment from &#39;moment&#39;;</code>"}, {"owner": {"reputation": 357, "user_id": 6621222, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/298156843869871/picture?type=large", "display_name": "Dima Grigoriev", "link": "https://stackoverflow.com/users/6621222/dima-grigoriev"}, "reply_to_user": {"reputation": 6133, "user_id": 3277581, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5782f76788b57a66b19a27b7e6ab42fe?s=128&d=identicon&r=PG", "display_name": "Serginho", "link": "https://stackoverflow.com/users/3277581/serginho"}, "edited": false, "score": 0, "creation_date": 1484150696, "post_id": 41595303, "comment_id": 70393706, "body": "Maybe correct, but i need another)"}, {"owner": {"reputation": 6133, "user_id": 3277581, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5782f76788b57a66b19a27b7e6ab42fe?s=128&d=identicon&r=PG", "display_name": "Serginho", "link": "https://stackoverflow.com/users/3277581/serginho"}, "edited": false, "score": 0, "creation_date": 1484150879, "post_id": 41595303, "comment_id": 70393836, "body": "Typescript imports don&#39;t import specific function. When you compite this to javascript, the code is transpiled to require(&#39;moment&#39;). There is nothing you can do"}, {"owner": {"reputation": 7876, "user_id": 3532945, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d31VJ.jpg?s=128&g=1", "display_name": "brando", "link": "https://stackoverflow.com/users/3532945/brando"}, "edited": false, "score": 1, "creation_date": 1491930713, "post_id": 41595303, "comment_id": 73767619, "body": "I think what you want (and me too!) is something like the way you can choose to only import one operator, e.g. Observable or toPromise, with rxjs rather than the whole package.  Don&#39;t think moment.js is modularize like this (yet....)"}], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 6621222, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/298156843869871/picture?type=large", "display_name": "Dima Grigoriev", "link": "https://stackoverflow.com/users/6621222/dima-grigoriev"}, "is_accepted": false, "score": 0, "last_activity_date": 1492522584, "creation_date": 1492522584, "answer_id": 43473801, "question_id": 41595303, "link": "https://stackoverflow.com/questions/41595303/moment-with-typescriptangular2/43473801#43473801", "title": "Moment with typescript+angular2", "body": "<p><code>import { Moment, fn, utc as moment } from 'moment/moment';</code> and use <code>moment.</code> or <code>moment()</code> what you need </p>\n"}], "owner": {"reputation": 357, "user_id": 6621222, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/298156843869871/picture?type=large", "display_name": "Dima Grigoriev", "link": "https://stackoverflow.com/users/6621222/dima-grigoriev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492522584, "creation_date": 1484150245, "question_id": 41595303, "link": "https://stackoverflow.com/questions/41595303/moment-with-typescriptangular2", "title": "Moment with typescript+angular2", "body": "<p>i using the moment js library and everything okay except one thing.</p>\n\n<p>Using initialization like this don't look good. I don't want import everything from 'moment'</p>\n\n<pre><code>import * as moment  from 'moment/moment';\n</code></pre>\n\n<p>One place where i use moment it: </p>\n\n<pre><code>        var differenceBeteweenDates = moment(toDate, this.dateFormat)\n            .diff(moment(fromDate, this.dateFormat),\n            \"days\");\n</code></pre>\n\n<p>i need Import only necessary modules/functions. How i can do it?</p>\n\n<pre><code> ps: import { Moment }  from 'moment/moment'; - don't contain all things what i need\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 3, "last_activity_date": 1484153305, "creation_date": 1484153305, "answer_id": 41596311, "question_id": 41595050, "link": "https://stackoverflow.com/questions/41595050/namespace-without-exported-members-vs-iife/41596311#41596311", "title": "Namespace without exported members, vs IIFE", "body": "<p>The IIFE leaves one less thing in the global scope (the namespace leaves exactly one thing in the global scope), so if you don't want the things touched, the IIFE is the cleanest solution.</p>\n\n<p>There is an interesting parallel to bear in mind though, which is the <code>sealed</code> keyword in C#... using <code>sealed</code> on a class prevents it from being sub-classed. In quite a lot of places where it is used, there are lots of complaints about how it makes it hard to extend behaviour. If your code is part of a library, you may want to consider whether you want to absolutely hide your <code>Dummy</code> in an IIFE, or whether someone may want to extend or merge its contents - but it is of course your choice entirely based on your specific context.</p>\n"}], "owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 41596311, "answer_count": 1, "score": 0, "last_activity_date": 1484153305, "creation_date": 1484149462, "last_edit_date": 1484150663, "question_id": 41595050, "link": "https://stackoverflow.com/questions/41595050/namespace-without-exported-members-vs-iife", "title": "Namespace without exported members, vs IIFE", "body": "<p>If there are no <code>export</code>ed members within a namespace, and no need to merge the namespace somewhere else, is there any benefit to this:</p>\n\n<pre><code>namespace Dummy {\n    //code here\n}\n</code></pre>\n\n<p>over this:</p>\n\n<pre><code>(() =&gt; {\n    //code here\n})();\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "edited": false, "score": 0, "creation_date": 1485878165, "post_id": 41594590, "comment_id": 71102631, "body": "Did you ever figure out a solution to this?"}, {"owner": {"reputation": 51, "user_id": 7405288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55adcbaa6b6616c28e0b67b646ea58d1?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hedberg", "link": "https://stackoverflow.com/users/7405288/tom-hedberg"}, "reply_to_user": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "edited": false, "score": 0, "creation_date": 1485982247, "post_id": 41594590, "comment_id": 71156278, "body": "Sadly no, had to keep working so started using node -tsc with that compile on save. It&#39;s slower though."}, {"owner": {"reputation": 1216, "user_id": 2147110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FnUIe.jpg?s=128&g=1", "display_name": "dperish", "link": "https://stackoverflow.com/users/2147110/dperish"}, "edited": false, "score": 0, "creation_date": 1517496269, "post_id": 41594590, "comment_id": 84126703, "body": "Having the same issue with 2.3 after applying all the latest 2015 updates."}], "owner": {"reputation": 51, "user_id": 7405288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55adcbaa6b6616c28e0b67b646ea58d1?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hedberg", "link": "https://stackoverflow.com/users/7405288/tom-hedberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1484148117, "creation_date": 1484148117, "question_id": 41594590, "link": "https://stackoverflow.com/questions/41594590/compile-on-save-function-not-working-not-showing-any-errors", "title": "Compile on save function not working, not showing any errors", "body": "<p>Currently working on a web project in visual studio 2015 in typeScript.\nYesterday I updated VS to update 3 and updated my typscript extension to 2.1.</p>\n\n<p>Now visual studio is acting very weird when I try to use the compile on save function.\nWhen I run the project it compiles and open as usual but when I save the status bar reports \"Project contained errors. Output generation skipped.\"\nThe source map (js.map) files are updated correctly but the combined .js file is not (very confusing). \nI don't have anything in the error list and compiling works fine if I do it with a \"tsc --watch\" in the cmd.</p>\n\n<p>How should I go about to find out what is wrong in the project? Can I force the compilation somehow, since there doesn't seem to be anything actually wrong with the code? </p>\n"}, {"tags": ["angularjs", "typescript", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6929876, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FxW4yqu27Z0/AAAAAAAAAAI/AAAAAAAAEV4/x6NIo6iLw7w/photo.jpg?sz=128", "display_name": "Jonghoon Park", "link": "https://stackoverflow.com/users/6929876/jonghoon-park"}, "edited": false, "score": 0, "creation_date": 1484879102, "post_id": 41595510, "comment_id": 70702423, "body": "I wasn&#39;t familiar with referencing files in typescript project,, Thank you for the answer. it helped a lot!"}], "tags": [], "owner": {"reputation": 9265, "user_id": 4936697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXfbA.png?s=128&g=1", "display_name": "Nick Iliev", "link": "https://stackoverflow.com/users/4936697/nick-iliev"}, "is_accepted": false, "score": 0, "last_activity_date": 1484150876, "creation_date": 1484150876, "answer_id": 41595510, "question_id": 41594436, "link": "https://stackoverflow.com/questions/41594436/creating-a-nativescript-custom-ui-plugin-with-typescript/41595510#41595510", "title": "Creating a NativeScript custom UI plugin with TypeScript", "body": "<p>In the plugin, you have referenced the author has created a demo app and is using the declaration file for tns-core-modules from that demo. Look <a href=\"https://github.com/NathanWalker/nativescript-cardview/blob/master/tsconfig.json#L10\" rel=\"nofollow noreferrer\">at this line</a> where <strong><em>tns-core-modules.d.ts</em></strong> is included in <strong>tsconfig.json</strong></p>\n\n<p>You can follow this practice for testing cases and for your release you can create a relative path to the tns-core-modules (and references) declaration files from the app node_modules folder like done <a href=\"https://github.com/NickIliev/NativeScript-Cosmos-Databank/blob/master/files/nativescript-youtube-player/tsconfig.json#L13-L17\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>As a side note <a href=\"https://github.com/NickIliev/NativeScript-Cosmos-Databank/blob/master/tsconfig.json#L9\" rel=\"nofollow noreferrer\">noEmiOnError</a> flag in your package.json will allow the translation to continue without hanging on errors.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 4104582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXJ9C.jpg?s=128&g=1", "display_name": "BinaryNate", "link": "https://stackoverflow.com/users/4104582/binarynate"}, "is_accepted": false, "score": 0, "last_activity_date": 1485492585, "last_edit_date": 1485492585, "creation_date": 1484632812, "answer_id": 41689982, "question_id": 41594436, "link": "https://stackoverflow.com/questions/41594436/creating-a-nativescript-custom-ui-plugin-with-typescript/41689982#41689982", "title": "Creating a NativeScript custom UI plugin with TypeScript", "body": "<p>Thanks for linking to your repo. <a href=\"https://docs.nativescript.org/plugins/plugins#create-a-plugin\" rel=\"nofollow noreferrer\">NativeScript's docs</a> state that \"if you are using a transpiler, make sure to include the transpiled JavaScript files in your plugin\".</p>\n\n<p>Your package.json specifies cardview.js as the entrypoint, but your transpiled JavaScript files haven't been added to the repo. I solved this problem in my <a href=\"https://github.com/BinaryNate/nativescript-midi\" rel=\"nofollow noreferrer\">nativescript-midi plugin</a> by committing the transpiled files in a \\dist directory. The plugin is written in ES 6 but transpiled to ES 5 for consumption. To make sure that the src and dist directories remain in sync, I use a git pre-commit hook that automatically runs the build command and commits the results. If you clone the nativescript-midi repo, you can view it in .git/hooks/pre-commit . A benefit of using this approach for your plugin is that it will also allow it to be used by developers who are not using TypeScript.</p>\n"}], "owner": {"reputation": 1, "user_id": 6929876, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FxW4yqu27Z0/AAAAAAAAAAI/AAAAAAAAEV4/x6NIo6iLw7w/photo.jpg?sz=128", "display_name": "Jonghoon Park", "link": "https://stackoverflow.com/users/6929876/jonghoon-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 314, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1485492585, "creation_date": 1484147684, "question_id": 41594436, "link": "https://stackoverflow.com/questions/41594436/creating-a-nativescript-custom-ui-plugin-with-typescript", "title": "Creating a NativeScript custom UI plugin with TypeScript", "body": "<p>I'm trying to create a custom UI plugin in TypeScript</p>\n\n<p>Here's the steps I'm taking</p>\n\n<ol>\n<li>create a plugin project in a local folder</li>\n<li>write .ts files for custom UI in the plugin project root</li>\n<li>generate .js files out of those .ts files with <code>tsc</code> command in the plugin project root</li>\n<li>go to the test NativeScript project and run <code>tns plugin add &lt;local plugin path&gt;</code> to include the created plugin</li>\n</ol>\n\n<p>But I get compiling errors at step 3 because I have importing statements as follows</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { ContentView } from \"ui/content-view\";\r\nimport...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I referenced an example here <a href=\"https://github.com/NathanWalker/nativescript-cardview/blob/master/cardview.ios.ts\" rel=\"nofollow noreferrer\">https://github.com/NathanWalker/nativescript-cardview/blob/master/cardview.ios.ts</a> </p>\n\n<p>My question is how cardview.ios.ts in the example 'nativescript-cardview' is being compiled to cardview.io.js? It seems impossible to do this...</p>\n"}, {"tags": ["angular", "typescript", "npm", "systemjs", "angular2-toaster"], "answers": [{"tags": [], "owner": {"reputation": 2494, "user_id": 1540505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/43grk.png?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1540505/jim"}, "is_accepted": true, "score": 2, "last_activity_date": 1484152913, "creation_date": 1484152913, "answer_id": 41596175, "question_id": 41594355, "link": "https://stackoverflow.com/questions/41594355/angular2-module-not-being-found-when-imported-into-component/41596175#41596175", "title": "Angular2 - module not being found when imported into component", "body": "<p>I managed to get this working. I had forgotten to add an entry into the 'packages' property in the Systemjs.config.js file. Here is that file amended and now working. I also ended up using a different toaster package called 'ng2-toastr' if anyone is confused by the difference in package names. </p>\n\n<pre><code>/**\n * System configuration for Angular 2 samples\n * Adjust as necessary for your application needs.\n */\n(function (global) {\n    System.config({\n        paths: {\n            // paths serve as alias\n            'npm:': 'node_modules/'\n        },\n        // map tells the System loader where to look for things\n        map: {\n            // our app is within the app folder\n            app: 'app',\n            // angular bundles\n            '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n            '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n            '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n            '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n            '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n            '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n            '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\n            '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n            // other libraries\n            'rxjs'                       : 'npm:rxjs',\n            'ng2-toastr'                 : 'npm:ng2-toastr',\n            'angular2-in-memory-web-api' : 'npm:angular2-in-memory-web-api',\n            \"angular2-jwt\"               : \"npm:angular2-jwt/angular2-jwt.js\"\n        },\n        // packages tells the System loader how to load when no filename and/or no extension\n        packages: {\n            app: {\n                main: './main.js',\n                defaultExtension: 'js'\n            },\n            rxjs: {\n                defaultExtension: 'js'\n            },\n            'angular2-in-memory-web-api': {\n                main: './index.js',\n                defaultExtension: 'js'\n            },\n            'angular2-jwt': {\n                'defaultExtension': 'js'\n            },\n            'npm:ng2-toastr': {\n                main: './ng2-toastr.js',\n                defaultExtension: 'js'\n            }\n        }\n    });\n})(this);\n</code></pre>\n"}], "owner": {"reputation": 2494, "user_id": 1540505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/43grk.png?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1540505/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "accepted_answer_id": 41596175, "answer_count": 1, "score": 1, "last_activity_date": 1519491315, "creation_date": 1484147476, "last_edit_date": 1519491315, "question_id": 41594355, "link": "https://stackoverflow.com/questions/41594355/angular2-module-not-being-found-when-imported-into-component", "title": "Angular2 - module not being found when imported into component", "body": "<p>I am having a problem whereas a module I am intending to use in my application is not being found. I get the following error:</p>\n\n<pre><code> GET http://product-admin.dev/node_modules/angular2-toaster/ 404 (Not Found)\n</code></pre>\n\n<p>The module is installed using NPM and the module Github repo is here (<a href=\"https://github.com/Stabzs/Angular2-Toaster\" rel=\"nofollow noreferrer\">https://github.com/Stabzs/Angular2-Toaster</a>).</p>\n\n<pre><code>npm install angular2-toaster\n</code></pre>\n\n<p>It seems that the application is not able to find the file within the node_modules folder and I am not sure why. Here is the relevant section of my Angular2 app.module.ts file:</p>\n\n<pre><code>import { FileUploaderDirective } from \"./components/directives/files/FileUploaderDirective\";\nimport { TabsDirective } from \"./components/directives/tabs/TabsDirective\";\nimport { PaginationDirective } from \"./components/directives/pagination/PaginationDirective\";\n\nimport { APIUrlPipe } from \"./pipes/apiurl.pipe\";\nimport { ToasterModule } from \"angular2-toaster\";\n\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        HttpModule,\n        FormsModule,\n        routing,\n        ToasterModule,\n        ReactiveFormsModule\n</code></pre>\n\n<p>I can also see that within the node_modules folder the module is in there in a folder called 'angular2-toaster'. I was thinking this may be a SystemJS config issue so I added in a line to the map property of the config object as shown here:</p>\n\n<pre><code>/**\n * System configuration for Angular 2 samples\n * Adjust as necessary for your application needs.\n */\n(function (global) {\n    System.config({\n        paths: {\n            // paths serve as alias\n            'npm:': 'node_modules/'\n        },\n        // map tells the System loader where to look for things\n        map: {\n            // our app is within the app folder\n            app: 'app',\n            // angular bundles\n            '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n            '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n            '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n            '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n            '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n            '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n            '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\n            '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n            // other libraries\n            'rxjs'                       : 'npm:rxjs',\n            'angular2-toaster'           : 'npm:angular2-toaster',\n            'angular2-in-memory-web-api' : 'npm:angular2-in-memory-web-api',\n            \"angular2-jwt\"               : \"npm:angular2-jwt/angular2-jwt.js\"\n        },\n</code></pre>\n\n<p>This doesn't seem to have made any difference either. Can anyone see why this problem is happening?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484144833, "post_id": 41593394, "comment_id": 70389795, "body": "the first example is not a valid struture in js.."}, {"owner": {"reputation": 5187, "user_id": 2759075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OUIOd.png?s=128&g=1", "display_name": "Yaron Schwimmer", "link": "https://stackoverflow.com/users/2759075/yaron-schwimmer"}, "edited": false, "score": 0, "creation_date": 1484144834, "post_id": 41593394, "comment_id": 70389796, "body": "<code>myObj</code> doesn&#39;t seem to be a valid object"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1484144895, "post_id": 41593394, "comment_id": 70389841, "body": "The first snippet of yours isn&#39;t a valid js code. You must have key to value, and you have only values..."}, {"owner": {"reputation": 1382, "user_id": 5327791, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3be5600ec4de2b10dbe6286e6494b382?s=128&d=identicon&r=PG&f=1", "display_name": "Protagonist", "link": "https://stackoverflow.com/users/5327791/protagonist"}, "reply_to_user": {"reputation": 5187, "user_id": 2759075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OUIOd.png?s=128&g=1", "display_name": "Yaron Schwimmer", "link": "https://stackoverflow.com/users/2759075/yaron-schwimmer"}, "edited": false, "score": 0, "creation_date": 1484145010, "post_id": 41593394, "comment_id": 70389926, "body": "@yarons I&#39;m getting data from backed as objects in the form of { }. I want to put these in an array."}, {"owner": {"reputation": 1382, "user_id": 5327791, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3be5600ec4de2b10dbe6286e6494b382?s=128&d=identicon&r=PG&f=1", "display_name": "Protagonist", "link": "https://stackoverflow.com/users/5327791/protagonist"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484145157, "post_id": 41593394, "comment_id": 70390038, "body": "@NitzanTomer I&#39;m getting data from the backed as group of objects. I want to put all these in an array"}], "answers": [{"comments": [{"owner": {"reputation": 1382, "user_id": 5327791, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3be5600ec4de2b10dbe6286e6494b382?s=128&d=identicon&r=PG&f=1", "display_name": "Protagonist", "link": "https://stackoverflow.com/users/5327791/protagonist"}, "edited": false, "score": 1, "creation_date": 1484145858, "post_id": 41593609, "comment_id": 70390489, "body": "This will fetch only keys, not both keys and values"}, {"owner": {"reputation": 199, "user_id": 7146717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d755da18dc3aaea5b6e691127898dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Cap", "link": "https://stackoverflow.com/users/7146717/phil-cap"}, "reply_to_user": {"reputation": 1382, "user_id": 5327791, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3be5600ec4de2b10dbe6286e6494b382?s=128&d=identicon&r=PG&f=1", "display_name": "Protagonist", "link": "https://stackoverflow.com/users/5327791/protagonist"}, "edited": false, "score": 0, "creation_date": 1484149180, "post_id": 41593609, "comment_id": 70392709, "body": "It is an array of objects. If you need to display the keys then use Object.keys."}], "tags": [], "owner": {"reputation": 199, "user_id": 7146717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d755da18dc3aaea5b6e691127898dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Cap", "link": "https://stackoverflow.com/users/7146717/phil-cap"}, "is_accepted": false, "score": 0, "last_activity_date": 1484145266, "creation_date": 1484145266, "answer_id": 41593609, "question_id": 41593394, "link": "https://stackoverflow.com/questions/41593394/how-to-convert-group-of-objects-into-an-array-in-typescript/41593609#41593609", "title": "How to convert group of objects into an Array in Typescript", "body": "<p>There are many approaches, but a basic viable option is to use a for-in loop to populate an array, like so:</p>\n\n<p><code>myArray = []\nfor (anObject in myObjects) { \n   myArray.push(anObject)\n}</code></p>\n"}, {"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 3, "last_activity_date": 1484145325, "creation_date": 1484145325, "answer_id": 41593630, "question_id": 41593394, "link": "https://stackoverflow.com/questions/41593394/how-to-convert-group-of-objects-into-an-array-in-typescript/41593630#41593630", "title": "How to convert group of objects into an Array in Typescript", "body": "<p>The data that you're getting, if it's a valid json should look like this: </p>\n\n<pre><code>\"key1\": {\n    'name'   :'Andrew',\n    'gender' :'Male',\n    'dob'    :'12/12/1991'\n},\n\"key2\": {\n    'name'   :'Robby',\n    'gender' :'Male',\n    'dob'    :'12/12/1996'\n}\n...\n</code></pre>\n\n<p>If you have that in a variable then:</p>\n\n<pre><code>let json = that json strucutre\nlet objs = Object.keys(json).map(key =&gt; json[key]);\n</code></pre>\n"}], "owner": {"reputation": 1382, "user_id": 5327791, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3be5600ec4de2b10dbe6286e6494b382?s=128&d=identicon&r=PG&f=1", "display_name": "Protagonist", "link": "https://stackoverflow.com/users/5327791/protagonist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3083, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1484145325, "creation_date": 1484144726, "last_edit_date": 1484145095, "question_id": 41593394, "link": "https://stackoverflow.com/questions/41593394/how-to-convert-group-of-objects-into-an-array-in-typescript", "title": "How to convert group of objects into an Array in Typescript", "body": "<p>I have a group of objects like this</p>\n\n<pre><code>         {\n           'name'   :'Andrew',\n           'gender' :'Male',\n           'dob'    :'12/12/1991'\n         },\n\n         {\n           'name'   :'Robby',\n           'gender' :'Male',\n           'dob'    :'12/12/1996'\n         },\n</code></pre>\n\n<p>How do I convert this to an array of objects?\nFor example </p>\n\n<pre><code>myArray:Array&lt;any&gt;= [\n          {\n              'name'   :'Andrew',\n              'gender' :'Male',\n              'dob'    :'12/12/1991'\n          },\n\n          {\n               'name'   :'Robby',\n               'gender' :'Male',\n               'dob'    :'12/12/1996'\n          },\n     ]\n</code></pre>\n\n<p>I'm expecting group of objects to be converted into Array of objects. How do I achieve this in Typescript?</p>\n"}, {"tags": ["asp.net-mvc", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2832, "user_id": 690920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PCCMa.jpg?s=128&g=1", "display_name": "Leonard", "link": "https://stackoverflow.com/users/690920/leonard"}, "is_accepted": true, "score": 2, "last_activity_date": 1484560500, "creation_date": 1484560500, "answer_id": 41673609, "question_id": 41593358, "link": "https://stackoverflow.com/questions/41593358/passing-parameters-into-app-component/41673609#41673609", "title": "Passing parameters into app component", "body": "<p>I \"solved\" it by using the <em>ElementRef</em> and the <em>dataset</em> property.</p>\n\n<p><em>View.cshtml</em></p>\n\n<pre><code>&lt;app data-workflows=\"@Json.Encode(ViewBag.Workflows)\"&gt;&lt;/app&gt;\n</code></pre>\n\n<p><em>app.component.ts</em></p>\n\n<pre><code>@Component({...})\nexport class AppComponent {\n    constructor(rootElement: ElementRef) {\n        workflows = JSON.parse(rootElement.nativeElement.dataset['workflows']);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2832, "user_id": 690920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PCCMa.jpg?s=128&g=1", "display_name": "Leonard", "link": "https://stackoverflow.com/users/690920/leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "closed_date": 1484560839, "accepted_answer_id": 41673609, "answer_count": 1, "score": 0, "last_activity_date": 1484560500, "creation_date": 1484144592, "question_id": 41593358, "link": "https://stackoverflow.com/questions/41593358/passing-parameters-into-app-component", "closed_reason": "Duplicate", "title": "Passing parameters into app component", "body": "<p>How do I feed static data to my app component? I would like to use the data during component initialization, a bit like <code>ngInit</code> in Angular 1.x</p>\n\n<p>This is what I've tried:</p>\n\n<p><strong>MyView.cshtml</strong></p>\n\n<pre><code>&lt;some-viewing-app [workflows]=\"@Json.Encode(ViewBag.Workflows)\"&gt;&lt;/some-viewing-app&gt;\n</code></pre>\n\n<p><em>or</em></p>\n\n<pre><code>&lt;some-viewing-app workflows=\"@Json.Encode(ViewBag.Workflows)\"&gt;&lt;/some-viewing-app&gt;\n</code></pre>\n\n<p><strong>SomeViewingAppComponent.ts</strong></p>\n\n<pre><code>export interface IWorkflowMap {\n  [id: number]: string;\n}\n\n@Component({\n  selector: 'some-viewing-app',\n  providers: [...],\n  template: `...`,\n})\nexport class AppComponent {\n  @Input()\n  workflows: IWorkflowMap;\n\n  ngOnInit() {\n    this.leadApiService.workflows = this.workflows; // == undefined! :(\n  }\n}\n</code></pre>\n\n<p>I've also tried reading the workflows from the constructor with the same result. I would prefer this solution over fetching static with AJAX.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1484147109, "post_id": 41593298, "comment_id": 70391364, "body": "Why don&#39;t you just <code>import {bar} from &quot;foo&quot;;</code>? What you want to achieve looks like a hack."}, {"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "reply_to_user": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1484147493, "post_id": 41593298, "comment_id": 70391630, "body": "Which part? The <code>export = </code> is minimally required, as this is describing a node module that has <code>module.exports =</code> (<a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/modules.html</a>), and is standard way of handling this in TS. If it&#39;s something else I&#39;m definitely interesting in doing the least hacky way."}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1484147736, "post_id": 41593298, "comment_id": 70391770, "body": "I mean just using that instead of <code>import * as bar from &#39;foo&#47;bar&#39;;</code>.  I don&#39;t know if your usecase allows that. Basically I would just use standard ES6 module features, and use module declarations where external typing information is needed (so no <code>exports=</code>)"}, {"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "reply_to_user": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1484147823, "post_id": 41593298, "comment_id": 70391819, "body": "Ah, right. That&#39;s the part that doesn&#39;t work for me here. It&#39;s described in the documentation, however, so it should be possible. This is pretty standard for other libs as well."}], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "edited": false, "score": 0, "creation_date": 1484145919, "post_id": 41593530, "comment_id": 70390551, "body": "Doing that now results in &quot;cannot find namespace Foo&quot; (posted as edit)"}, {"owner": {"reputation": 792, "user_id": 1024431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea649feabb875d4c217066c0e62032c6?s=128&d=identicon&r=PG", "display_name": "cevek", "link": "https://stackoverflow.com/users/1024431/cevek"}, "reply_to_user": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "edited": false, "score": 0, "creation_date": 1484146732, "post_id": 41593530, "comment_id": 70391136, "body": "@Andrew What version of typescript you use?"}, {"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "edited": false, "score": 0, "creation_date": 1484203827, "post_id": 41593530, "comment_id": 70415389, "body": "It&#39;s version 2.1.3"}], "tags": [], "owner": {"reputation": 792, "user_id": 1024431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea649feabb875d4c217066c0e62032c6?s=128&d=identicon&r=PG", "display_name": "cevek", "link": "https://stackoverflow.com/users/1024431/cevek"}, "is_accepted": false, "score": 1, "last_activity_date": 1484145068, "creation_date": 1484145068, "answer_id": 41593530, "question_id": 41593298, "link": "https://stackoverflow.com/questions/41593298/how-to-export-inner-members-of-an-existing-typescript-declarations-module/41593530#41593530", "title": "How to export inner members of an existing Typescript declarations module", "body": "<p>You can use module declarations</p>\n\n<pre><code>//foo.d.ts\n    interface Foo {}\n    interface Bar {}\n\n    declare module 'foo' {\n        export default Foo\n    }\n\n    declare module 'foo/bar'{\n        export default Bar\n    }\n</code></pre>\n\n<p>And use it from another place </p>\n\n<pre><code>import * as Foo from 'foo';\nimport * as Bar from 'foo/bar';\n</code></pre>\n"}], "owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1276, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1484146058, "creation_date": 1484144389, "last_edit_date": 1484146058, "question_id": 41593298, "link": "https://stackoverflow.com/questions/41593298/how-to-export-inner-members-of-an-existing-typescript-declarations-module", "title": "How to export inner members of an existing Typescript declarations module", "body": "<p>Let's say that I have a declarations file describing the shape of a node module that exports an object with multiple members. This file exists at <code>foo/index.d.ts</code> and looks like:</p>\n\n<pre><code>interface Foo {\n  bar: () =&gt; void;\n  // ... more members here\n}\n\n\ndeclare var Foo: Foo;\nexport = Foo;\n</code></pre>\n\n<p>With this, I can require and use the module as normal when compiling:</p>\n\n<pre><code>import * as Foo from 'foo';\nFoo.bar();\n</code></pre>\n\n<p>However, I now want to also be able to do this:</p>\n\n<pre><code>import * as bar from 'foo/bar';\nbar();\n</code></pre>\n\n<p>I've tried every possible combination of declaration file paths, modules, namespaces, and contexts, but I can't get this working. The most obvious, intuitive way would be to create a file at <code>foo/bar/index.d.ts</code> with:</p>\n\n<pre><code>import * as Foo from '..';\nexport = Foo.bar;\n</code></pre>\n\n<p>But doing this results in the error: <code>'Foo' only refers to a type, but is being used as a namespace here.</code></p>\n\n<p>How can I create declaration files that define modules that export both outer and inner members?</p>\n\n<p><strong>Edit</strong>: Tried to use <code>declare module</code> as suggested by @cevek, but this throws the error \"Cannot find namespace Foo\":</p>\n\n<pre><code>declare module \"foo/bar\" {\n  var bar: Foo.bar;\n  export = bar;\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "inheritance", "typescript", "prototype"], "answers": [{"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 1, "creation_date": 1484143883, "post_id": 41593059, "comment_id": 70389127, "body": "What does ES6 do to allow  this that ES5 cannot do (please feel free to be technical)"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1484144370, "post_id": 41593059, "comment_id": 70389480, "body": "There&#39;s a good article about it: <a href=\"http://www.2ality.com/2013/03/subclassing-builtins-es6.html\" rel=\"nofollow noreferrer\">Subclassing builtins in ECMAScript 6</a>"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1484146214, "post_id": 41593059, "comment_id": 70390757, "body": "Revised my answer with quotes out of this article which explain why it can&#39;t be done with <code>es5</code>"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1484146166, "last_edit_date": 1484146166, "creation_date": 1484143670, "answer_id": 41593059, "question_id": 41592985, "link": "https://stackoverflow.com/questions/41592985/typescript-arrayt-inheritance/41593059#41593059", "title": "TypeScript Array&lt;T&gt; inheritance", "body": "<p>Your code compiles into this when targeting <code>es5</code>:</p>\n\n<pre><code>var SuperArray = (function (_super) {\n    __extends(SuperArray, _super);\n    function SuperArray() {\n        var items = [];\n        for (var _i = 0; _i &lt; arguments.length; _i++) {\n            items[_i] = arguments[_i];\n        }\n        return _super.apply(this, items) || this;\n    }\n    SuperArray.prototype.clear = function () {\n        while (this.length &gt; 0) {\n            this.pop();\n        }\n    };\n    return SuperArray;\n}(Array));\nvar array = new SuperArray(\"Matt\", \"Mark\", \"Luke\", \"John\");\narray.clear();\n</code></pre>\n\n<p>It's not possible to extend native objects like that, which is why you're getting this error.<br>\nIf you'll target <code>es6</code> then the compiled js will look like this:</p>\n\n<pre><code>class SuperArray extends Array {\n    constructor(...items) {\n        super(...items);\n    }\n    clear() {\n        while (this.length &gt; 0) {\n            this.pop();\n        }\n    }\n}\nvar array = new SuperArray(\"Matt\", \"Mark\", \"Luke\", \"John\");\narray.clear();\n</code></pre>\n\n<p>And that will work just fine (if you run it in a browser that supports es6 classes).</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>I'll just paste parts of the article <a href=\"http://www.2ality.com/2013/03/subclassing-builtins-es6.html\" rel=\"nofollow noreferrer\">Subclassing builtins in ECMAScript 6</a> which explains why it can't be done with <code>es5</code>:</p>\n\n<blockquote>\n  <p><strong>Allocation obstacle: MyArray allocates the wrong kind of object</strong><br>\n  Array instances are special \u2013 the ECMAScript 6 specification calls\n  them exotic. Their handling of the property length can\u2019t be replicated\n  via normal JavaScript. If you invoke the constructor MyArray then an\n  instance of MyArray is created, not an exotic object.</p>\n  \n  <p><strong>Initialization obstacle: MyArray can\u2019t use Array for initialization</strong><br>\n  It is impossible to hand an existing object to Array via this \u2013 it\n  completely ignores its this and always creates a new instance.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1484147801, "post_id": 41594175, "comment_id": 70391805, "body": "Strange...that makes my code &quot;seem&quot; like it&#39;s all working...what&#39;s actually going on here?"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1484147827, "post_id": 41594175, "comment_id": 70391823, "body": "Also, is that why <a href=\"https://github.com/Microsoft/TypeScript/pull/12488\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/pull/12488</a> is coming in the 2.2 release?"}, {"owner": {"reputation": 1429, "user_id": 2194590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c6d38af3d9c3b2d10b7fcc0b6092d?s=128&d=identicon&r=PG", "display_name": "HolgerJeromin", "link": "https://stackoverflow.com/users/2194590/holgerjeromin"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1484148082, "post_id": 41594175, "comment_id": 70392004, "body": "You can read something here: <a href=\"https://github.com/Microsoft/TypeScript/issues/11919\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/11919</a> It kind of worked in older TS versions but this caused other issues. #12488 is unrelated"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484152072, "post_id": 41594175, "comment_id": 70394645, "body": "Oh, this is nice, wasn&#39;t aware of that. Though it&#39;s kind of a hustle to do that for every subclass."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1484163238, "post_id": 41594175, "comment_id": 70401164, "body": "@NitzanTomer My guess is that __extends using Object.setPrototypeOf(...) will fix this in the 2.2 release."}], "tags": [], "owner": {"reputation": 1429, "user_id": 2194590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c6d38af3d9c3b2d10b7fcc0b6092d?s=128&d=identicon&r=PG", "display_name": "HolgerJeromin", "link": "https://stackoverflow.com/users/2194590/holgerjeromin"}, "is_accepted": true, "score": 7, "last_activity_date": 1484147401, "last_edit_date": 1484147401, "creation_date": 1484146989, "answer_id": 41594175, "question_id": 41592985, "link": "https://stackoverflow.com/questions/41592985/typescript-arrayt-inheritance/41594175#41594175", "title": "TypeScript Array&lt;T&gt; inheritance", "body": "<p>BTW this is a breaking change in TS2.1</p>\n\n<p>This <a href=\"https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\" rel=\"noreferrer\">TS documentation</a> has a recommendation for a changing the prototype in your constructor</p>\n\n<pre><code>constructor(...items) {\n    super(...items);\n    Object.setPrototypeOf(this, SuperArray.prototype);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2099, "user_id": 5996289, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9a57c0a527e0a648ab903379a9bdb6a2?s=128&d=identicon&r=PG&f=1", "display_name": "Serge Intern", "link": "https://stackoverflow.com/users/5996289/serge-intern"}, "is_accepted": false, "score": 0, "last_activity_date": 1493804330, "creation_date": 1493804330, "answer_id": 43756390, "question_id": 41592985, "link": "https://stackoverflow.com/questions/41592985/typescript-arrayt-inheritance/43756390#43756390", "title": "TypeScript Array&lt;T&gt; inheritance", "body": "<p>Since Typescript 2.2 you can access <code>new.target</code> from the constructor.</p>\n\n<p>Thus you can make the following call after having called <code>super()</code>:</p>\n\n<pre><code>Object.setPrototypeOf(this, new.target.prototype);\n</code></pre>\n\n<p>It should solve the propotype chain issue</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1761, "favorite_count": 0, "accepted_answer_id": 41594175, "answer_count": 3, "score": 2, "last_activity_date": 1493804330, "creation_date": 1484143478, "question_id": 41592985, "link": "https://stackoverflow.com/questions/41592985/typescript-arrayt-inheritance", "title": "TypeScript Array&lt;T&gt; inheritance", "body": "<p>I have some experimental code that inherits from <code>Array&lt;T&gt;</code>...</p>\n\n<pre><code>class SuperArray&lt;T&gt; extends Array&lt;T&gt; {\n    constructor(...items) {\n        super(...items);\n    }\n\n    public clear(): void {\n        while (this.length &gt; 0) {\n            this.pop();\n        }\n    }\n}\n\nvar array = new SuperArray(\"Matt\", \"Mark\", \"Luke\", \"John\");\n\narray.clear();\n</code></pre>\n\n<p><strong><a href=\"http://www.typescriptlang.org/play/index.html#src=class%20SuperArray%3CT%3E%20extends%20Array%3CT%3E%20%7B%0D%0A%20%20%20%20constructor(...items)%20%7B%0D%0A%20%20%20%20%20%20%20%20super(...items)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20clear()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20while%20(this.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.pop()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Avar%20array%20%3D%20new%20SuperArray(%22Matt%22%2C%20%22Mark%22%2C%20%22Luke%22%2C%20%22John%22)%3B%0D%0A%0D%0Aarray.clear()%3B\" rel=\"nofollow noreferrer\">Playground</a></strong></p>\n\n<p>I've added the <code>clear</code> method just to illustrate the problem. When this is compiled and run in the browser, I get...</p>\n\n<blockquote>\n  <p>TypeError: array.clear is not a function</p>\n</blockquote>\n\n<p>How is this completely valid code in TypeScript, but not valid in JavaScript, and is there a way to fix this?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "is_accepted": false, "score": 0, "last_activity_date": 1484156028, "last_edit_date": 1495540455, "creation_date": 1484156028, "answer_id": 41597205, "question_id": 41592739, "link": "https://stackoverflow.com/questions/41592739/load-non-existing-component-with-aot-in-angular-2/41597205#41597205", "title": "Load non-existing Component with AOT in Angular 2", "body": "<p>I didn't face such a challenge, but these are my thoughts.</p>\n\n<ol>\n<li>If each of these 30 components is rendered using the router, place each of them in a separate feature module and create the router configuration to load each of these modules lazily. If your project is Angular CLI based, it'll build a separate bundle for each of the lazily loaded components regardless if you use AoT or not. Then you should be able to replace any of these bundles in your prod server without touching others.</li>\n</ol>\n\n<p>If you are not using Angular CLI, you'll need to manually configure the Webpack build to create a separate bundle for each of these 30 components.</p>\n\n<ol start=\"2\">\n<li>If you're not using the router for loading these components, consider using APP_INITIALIZER as described in the accepted answer here: <a href=\"https://stackoverflow.com/questions/39033835/angularjs2-preload-server-configuration-before-the-application-starts\">Angularjs2 - preload server configuration before the application starts</a></li>\n</ol>\n"}], "owner": {"reputation": 151, "user_id": 4555923, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10152537502662000/picture?type=large", "display_name": "Emma Vihlsson", "link": "https://stackoverflow.com/users/4555923/emma-vihlsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484156028, "creation_date": 1484142725, "question_id": 41592739, "link": "https://stackoverflow.com/questions/41592739/load-non-existing-component-with-aot-in-angular-2", "title": "Load non-existing Component with AOT in Angular 2", "body": "<p>Can I or can I not use Angular 2 with AOT for this project? It is important that it is AOT, it can\u2019t be JIT.</p>\n\n<p>I building an app with a lot of different components, in runtime I will get a specification on which components should be shown. Sometimes 1 components will be shown and sometimes up to 30.</p>\n\n<p>I would like to have these components in a different file. Not just a different .ts-file, i would like to have these components in different .js files and store them on or server and get them when necessary. </p>\n\n<p>For three reasons:</p>\n\n<ol>\n<li><p>The user shouldn\u2019t have to update the app if just one component is updated.</p></li>\n<li><p>If an update is made on one component i don\u2019t want anything else in the app to break just because of this. (and yes it does). If a new app is built we have to retest the whole app, not just that one component.</p></li>\n<li>If only 1 component is needed it is unnecessary to load all 30. </li>\n</ol>\n\n<p>So i\u2019ve been on google/here on stack overflow and searched this and tried different solutions, but no one seems the have this issue. All examples that I found already have the component in the app and its been declared in the NgModule. But my component doesn\u2019t exist until I get the file from the server.</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "edited": false, "score": 0, "creation_date": 1484143331, "post_id": 41592589, "comment_id": 70388797, "body": "Ahh!!! My god! You&#39;re right! I don&#39;t need the filter! What was I thinking?"}], "tags": [], "owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "is_accepted": true, "score": 0, "last_activity_date": 1484142258, "creation_date": 1484142258, "answer_id": 41592589, "question_id": 41592269, "link": "https://stackoverflow.com/questions/41592269/object-object-in-string-after-using-array-split-array-filer-and-array-map-to-fo/41592589#41592589", "title": "object Object in string after using Array.split, Array.filer and Array.map to format string", "body": "<p>The <code>filter()</code> method returns an array of elements that match the filter; you're treating it as though it would return a single element.</p>\n\n<p>So where you expect <code>filter</code> to return <code>'smile'</code> it is instead returning <code>['smile']</code>.  And join is stringifying that as <code>[object Object]</code>.</p>\n\n<p>If you're sure you'll always find exactly one match in the array, you can stick a <code>[0]</code> at the end of the <code>filter</code> call (<code>filter(...)[0]</code>)... but then if you'll always find exactly one match, why use <code>filter</code>?</p>\n\n<p>If you might get 0 or multiple matches, I think you could <code>join()</code> what <code>filter</code> returns, and then return that result for your final <code>join()</code> of the overall string.</p>\n"}], "owner": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 41592589, "answer_count": 1, "score": 0, "last_activity_date": 1484142258, "creation_date": 1484141376, "question_id": 41592269, "link": "https://stackoverflow.com/questions/41592269/object-object-in-string-after-using-array-split-array-filer-and-array-map-to-fo", "title": "object Object in string after using Array.split, Array.filer and Array.map to format string", "body": "<p>I'm writing a function that takes a string, searches for emojis to keywords by converting the string to an array using the <code>.split</code> method, the function then does a look up on the emoji value against the array values and when it finds a match it returns a string. When all is done we <code>.join</code> our array to create a string.</p>\n\n<p>So take, for example the current string with emojis (I get this from a user input): </p>\n\n<blockquote>\n  <p>I like ro\ud83d\ude29ck and roll \ud83d\ude1e\ud83d\ude01</p>\n</blockquote>\n\n<p>In my component the string above is <code>this.message</code>, here's my code:</p>\n\n<pre><code> emojiLookup() {\n\n    let splitMessage = this.message.split(/([\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g);\n\n    this.message = splitMessage.map((a) =&gt; {\n       if(this.isItemEmoji(a)) {\n\n           return this.emojiList.filter((em) =&gt; { // this.emojiList is an array list to match the emoji value to a keyword\n               if(this.emojiToUnicode(a) === em.unicode) {\n                   return (em.aliases[0]); // this value is a string e.g. 'smile'\n               }\n           });\n\n       } else {\n           return a;\n       }\n    }).join('');\n\n    console.log(this.message);\n}\n\nthis.emojiLookup(this.message);\n\n// helper methods used abive\nisItemEmoji(s:string) {\n    return /\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDE4F]/g.test(s);\n}\n\nemojiToUnicode(emoji: any) {\n    if(emoji){\n        return '\\\\u' + emoji.charCodeAt(0).toString(16) + '\\\\u' + emoji.charCodeAt(1).toString(16);\n    }\n}\n</code></pre>\n\n<p>Now all seems to be working however when I output my converted <code>this.message</code> I get the following:</p>\n\n<pre><code>I like ro[object Object]ck and roll [object Object][object Object]\n</code></pre>\n\n<p>I haven't a clue why <code>[object Object]</code> is appearing rather than the string I return from <code>return (em.aliases[0])</code>? I have checked the value of <code>return (em.aliases[0])</code> and it is always a string... what am I doing wrong?</p>\n\n<p>I am using TypeScript in my Angular2 Application. lodash is available too.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1836, "user_id": 4861332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/65ac022252ae7b715bce27b65de4fe7f?s=128&d=identicon&r=PG&f=1", "display_name": "Yashveer Singh", "link": "https://stackoverflow.com/users/4861332/yashveer-singh"}, "edited": false, "score": 0, "creation_date": 1484145575, "post_id": 41592227, "comment_id": 70390304, "body": "Best practice say you should always use DI so that you can better unit test you angular2 code and mock http for for  unit test . So not sure why you want to do this ."}, {"owner": {"reputation": 49, "user_id": 7401084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f56670c803d84e2556761107ebfa6d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Harel", "link": "https://stackoverflow.com/users/7401084/david-harel"}, "reply_to_user": {"reputation": 1836, "user_id": 4861332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/65ac022252ae7b715bce27b65de4fe7f?s=128&d=identicon&r=PG&f=1", "display_name": "Yashveer Singh", "link": "https://stackoverflow.com/users/4861332/yashveer-singh"}, "edited": false, "score": 0, "creation_date": 1484208782, "post_id": 41592227, "comment_id": 70417745, "body": "Yashveer Singh, Understanding that Injectables are singletons, maybe they (should) have a static method that returns a reference to the instantiated object?"}, {"owner": {"reputation": 49, "user_id": 7401084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f56670c803d84e2556761107ebfa6d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Harel", "link": "https://stackoverflow.com/users/7401084/david-harel"}, "reply_to_user": {"reputation": 1836, "user_id": 4861332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/65ac022252ae7b715bce27b65de4fe7f?s=128&d=identicon&r=PG&f=1", "display_name": "Yashveer Singh", "link": "https://stackoverflow.com/users/4861332/yashveer-singh"}, "edited": false, "score": 0, "creation_date": 1484209225, "post_id": 41592227, "comment_id": 70417970, "body": "Yashveer Singh, Can you reference me to an article about http mockup please?"}, {"owner": {"reputation": 1836, "user_id": 4861332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/65ac022252ae7b715bce27b65de4fe7f?s=128&d=identicon&r=PG&f=1", "display_name": "Yashveer Singh", "link": "https://stackoverflow.com/users/4861332/yashveer-singh"}, "edited": false, "score": 0, "creation_date": 1484209622, "post_id": 41592227, "comment_id": 70418165, "body": "I used mock for http in one of my poc project which and the source code is in Git <a href=\"https://github.com/yashveersingh83/ControlSubmissionClient/blob/master/src/app/recepient/recepient.service.spec.ts\" rel=\"nofollow noreferrer\">github.com/yashveersingh83/ControlSubmissionClient/blob/mast&zwnj;&#8203;er/&hellip;</a> . This recepient.service.spec.ts uses mocking of http with a static service . Also check recepient.component.spec.ts where I unit test component with mocked service . If you need some help I am happy please let me know . Although I am new to angular2 but I think the git url provided above can help you a lot if you are learning angular 2."}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 7146717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d755da18dc3aaea5b6e691127898dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Cap", "link": "https://stackoverflow.com/users/7146717/phil-cap"}, "is_accepted": false, "score": 0, "last_activity_date": 1484144989, "creation_date": 1484144989, "answer_id": 41593506, "question_id": 41592227, "link": "https://stackoverflow.com/questions/41592227/typescript-angular2-instantiating-injectable-such-as-http-outside-the-constructo/41593506#41593506", "title": "typescript Angular2 Instantiating Injectable such as Http outside the constructor", "body": "<p>You do not need to manually create an Http object to achieve your goal. The caller can obtain the Http object through dependency injection and pass it to your special class. This does not violate the conditions that you have mentioned.</p>\n\n<p>On a side note you can create an Http instance manually by supplying an appropriate ConnectionBackend and RequestOptions.</p>\n"}], "owner": {"reputation": 49, "user_id": 7401084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f56670c803d84e2556761107ebfa6d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Harel", "link": "https://stackoverflow.com/users/7401084/david-harel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484144989, "creation_date": 1484141276, "question_id": 41592227, "link": "https://stackoverflow.com/questions/41592227/typescript-angular2-instantiating-injectable-such-as-http-outside-the-constructo", "title": "typescript Angular2 Instantiating Injectable such as Http outside the constructor", "body": "<p>I want to create a class that uses a private Http object and should be encapsulated.\nI do not want my class to be Injectable.</p>\n\n<p>If my class has a constructor such as:\nconstructor(private _http: Http) {}\nthen the caller must provide the Http object.</p>\n\n<p>Looking at the examples in <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/tutorial/toh-pt6.html</a> I could not find how to create an Http object outside the constructor.</p>\n\n<p>What is the solution for such a request?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript", "rxjs5", "typescript2.0"], "comments": [{"owner": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "edited": false, "score": 0, "creation_date": 1484144664, "post_id": 41591825, "comment_id": 70389678, "body": "Maybe create pull request?"}, {"owner": {"reputation": 691, "user_id": 550496, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0c625b9f4b1a2e5fbf53ec87f30e8bd0?s=128&d=identicon&r=PG", "display_name": "Adriano dos Santos Fernandes", "link": "https://stackoverflow.com/users/550496/adriano-dos-santos-fernandes"}, "reply_to_user": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "edited": false, "score": 0, "creation_date": 1484146111, "post_id": 41591825, "comment_id": 70390693, "body": "Create pull request for what? I develop this library myself, and I do want a good compile environment that produces usable binaries, and want TypeScript support for that. Maybe it&#39;s a missing feature I didn&#39;t know."}, {"owner": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "edited": false, "score": 0, "creation_date": 1484146684, "post_id": 41591825, "comment_id": 70391087, "body": "Sorry, I misunderstood your question."}], "owner": {"reputation": 691, "user_id": 550496, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0c625b9f4b1a2e5fbf53ec87f30e8bd0?s=128&d=identicon&r=PG", "display_name": "Adriano dos Santos Fernandes", "link": "https://stackoverflow.com/users/550496/adriano-dos-santos-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1484140150, "creation_date": 1484140150, "question_id": 41591825, "link": "https://stackoverflow.com/questions/41591825/typescript-library-rxjs", "title": "TypeScript library + RxJS", "body": "<p>Look at this: <a href=\"https://github.com/asfernandes/rx-computed/tree/v0.0.2-alpha.5\" rel=\"nofollow noreferrer\">https://github.com/asfernandes/rx-computed/tree/v0.0.2-alpha.5</a> in files <a href=\"https://github.com/asfernandes/rx-computed/blob/v0.0.2-alpha.5/lib/rx-computed.ts\" rel=\"nofollow noreferrer\">https://github.com/asfernandes/rx-computed/blob/v0.0.2-alpha.5/lib/rx-computed.ts</a> and <a href=\"https://github.com/asfernandes/rx-computed/blob/v0.0.2-alpha.5/test/rx-computed.ts\" rel=\"nofollow noreferrer\">https://github.com/asfernandes/rx-computed/blob/v0.0.2-alpha.5/test/rx-computed.ts</a></p>\n\n<p>VSCode says there is no error, npm test runs ok, but when I use the library in another project, there is a problem of the RxJS skip method not defined.</p>\n\n<p>The library compiles because the RxJS import in the test file is used in the lib file. How can I avoid this, as there is no sense to have it compiling with the test and not working outside.</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1484138007, "post_id": 41590985, "comment_id": 70385394, "body": "are you trying to sort after filter? or trying to set a sorting comparison function? not really able to get the intention"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1484138082, "post_id": 41590985, "comment_id": 70385444, "body": "Could you hover over that highlighted text.. and let us know what error it is saying?"}, {"owner": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1484138297, "post_id": 41590985, "comment_id": 70385598, "body": "@pankaj parker thanks for valuable comment, the error showing like :- [ts] Argument of type &#39;(a: Activity, b: Activity) =&gt; Activity[]&#39; is not assignable to parameter of type &#39;(a: Activity, b: Activity) =&gt; number&#39;.        Type &#39;Activity[]&#39; is not assignable to type &#39;number&#39;."}, {"owner": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1484138459, "post_id": 41590985, "comment_id": 70385708, "body": "@suraj we just trying to filter the list of events ?...we almost got the answer if you fix the bug it&#39;s really useful to us....."}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "edited": false, "score": 0, "creation_date": 1484141094, "post_id": 41591323, "comment_id": 70387364, "body": "Hi suraj thanks for your answer, we have used your code ,then main thing i have forget to remove this line ;-  <code>this.activitys = data.items;</code> of code in image, then this is my html code :-  <code>&lt;ion-searchbar [(ngModel)]=&quot;searchTerm&quot; (ionInput)=&quot;loadActivitysWithAuth()&quot;&gt;&lt;&#47;ion-searchbar&gt;</code>  whenever we typed events name in search box  it&#39;s <code>loading</code> does not filtering the items, can please check this and update.....thanks.."}, {"owner": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "edited": false, "score": 0, "creation_date": 1484141799, "post_id": 41591323, "comment_id": 70387855, "body": "HI Suraj I have updated the code image in question and added html code also....please help us...thanks suraj.."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "edited": false, "score": 0, "creation_date": 1484142408, "post_id": 41591323, "comment_id": 70388260, "body": "if activitys is not <code>data.items</code> you have to filter <code>data.items</code>"}, {"owner": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "edited": false, "score": 0, "creation_date": 1484144052, "post_id": 41591323, "comment_id": 70389245, "body": "hi suraj have you checked my html codes?...because it&#39;s not filtering again... can you please check it again suraj.... then i have updated like this:-  <code>this.activitys = data.items.filter((activity) =&gt; {</code> is this perfect?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "edited": false, "score": 0, "creation_date": 1484144307, "post_id": 41591323, "comment_id": 70389445, "body": "your <code>this.activitys</code> is local to your function` depends on where you want to show the filtered items and also what sorting condition you need to use."}, {"owner": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "edited": false, "score": 0, "creation_date": 1484144686, "post_id": 41591323, "comment_id": 70389690, "body": "filter is my main importance than sorting of data, based on search input i need to filter <code>data.items</code>"}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 1, "last_activity_date": 1484142292, "last_edit_date": 1484142292, "creation_date": 1484138688, "answer_id": 41591323, "question_id": 41590985, "link": "https://stackoverflow.com/questions/41590985/how-to-solve-error-in-ionic-2-application-using-angular2/41591323#41591323", "title": "How to solve error in ionic 2 application using angular2?", "body": "<p>If you are trying to sort filtered list:</p>\n\n<pre><code>let searchTerm: string = '';\n    this.activitys = data.items.filter((activity) =&gt; {\n        return activity.name.toLowerCase().indexOf(searchTerm.toLowerCase()) &gt; -1;\n    }).sort(/*sort comparison function*/);\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">Sort</a> takes a comparison function which is basically a swap condition.</p>\n"}, {"tags": [], "owner": {"reputation": 657, "user_id": 3689593, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/GYvAV.png?s=128&g=1", "display_name": "Rohit Vinay", "link": "https://stackoverflow.com/users/3689593/rohit-vinay"}, "is_accepted": true, "score": 0, "last_activity_date": 1484150601, "creation_date": 1484150601, "answer_id": 41595405, "question_id": 41590985, "link": "https://stackoverflow.com/questions/41590985/how-to-solve-error-in-ionic-2-application-using-angular2/41595405#41595405", "title": "How to solve error in ionic 2 application using angular2?", "body": "<p>You need to return the below function in an another function and call the same in your HTML file</p>\n\n<pre><code>filterItems(searchTerm): void {\n            this.activitys = [];\n            this.userPoolsAuthClient.getClient().activitysList().subscribe(\n              (data) =&gt; {\n                this.activitys = data.items.filter((activity) =&gt; {\n                  return activity.name.toLowerCase().indexOf(searchTerm.toLowerCase()) &gt; -1;\n                });\n              });\n\n     }\n</code></pre>\n\n<p>Call the below function in your HTML</p>\n\n<pre><code>setFilteredItems() {\n\n  return this.filterItems(this.searchTerm);\n\n}\n</code></pre>\n\n<p>and your HTML goes like this</p>\n\n<pre><code>&lt;ion-searchbar [(ngModel)]=\"searchTerm\" (ionInput)=\"setFilteredItems()\"&gt;&lt;/ion-searchbar&gt;\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 6320636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dpdop.jpg?s=128&g=1", "display_name": "R. Mani Selvam", "link": "https://stackoverflow.com/users/6320636/r-mani-selvam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 41595405, "answer_count": 2, "score": 0, "last_activity_date": 1484150601, "creation_date": 1484137683, "last_edit_date": 1484144273, "question_id": 41590985, "link": "https://stackoverflow.com/questions/41590985/how-to-solve-error-in-ionic-2-application-using-angular2", "title": "How to solve error in ionic 2 application using angular2?", "body": "<p>Hi all How to Fix the <code>bug</code> in ionic 2 application using angular2,Actually I'M developing ionic 2 application, we trying to filter the <code>list of items in list page</code> so we have used <code>type script codes</code>, we got some error in <code>visual studio code</code>and list of items also not filtering in mobile application, we don't know where we have did the mistake, so please check below given image and help us to solve this error. thanks..</p>\n\n<p><strong>My type script code:-</strong>    </p>\n\n<pre><code>  let searchTerm: string = '';\n    this.activitys = data.items.sort((a, b) =&gt; {\n       return this.activitys.filter((activity) =&gt; {\n        return activity.name.toLowerCase().indexOf(searchTerm.toLowerCase()) &gt; -1;\n    });\n    });\n</code></pre>\n\n<ul>\n<li>the error is occurred in this line <code>this.activitys = data.items.sort((a, b) =&gt; {</code></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/kHtPy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHtPy.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>My html code:-</strong></p>\n\n<pre><code>&lt;ion-searchbar [(ngModel)]=\"searchTerm\" (ionInput)=\"loadActivitysWithAuth()\"&gt;&lt;/ion-searchbar&gt;\n</code></pre>\n\n<p><strong>Need to filter below given field:-</strong></p>\n\n<pre><code>&lt;h2 (click)=\"gotoResourceListPage(activity)\"&gt;{{activity.name}}&lt;/h2&gt;\n</code></pre>\n\n<ul>\n<li>we knew we did some <code>syntax</code> error in type script so please check and update the solution thanks...</li>\n</ul>\n"}, {"tags": ["mongodb", "http", "angular", "express", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1484138187, "post_id": 41590949, "comment_id": 70385509, "body": ".map() is a prototype of array. If ids is not an array of course you will get that error. <code>console.log(ids);</code> to see what is it <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 147, "user_id": 4745554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-L47YSyaopNA/AAAAAAAAAAI/AAAAAAAADOE/6lsQLpR2GIs/photo.jpg?sz=128", "display_name": "Krzysztof Skorupski", "link": "https://stackoverflow.com/users/4745554/krzysztof-skorupski"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1484138608, "post_id": 41590949, "comment_id": 70385817, "body": "It is empty object {}  But if I&#39;m sending ids in service as JSON.stringify(ids) I&#39;m getting error as well. Also when I&#39;m using  \t\tvar headers = new Headers(); \t\theaders.append(&#39;Content-Type&#39;, &#39;application/json&#39;); and , {headers} after ids in request"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1484138748, "post_id": 41590949, "comment_id": 70385914, "body": "If you JSON.stringify(ids) it will be a string, so you can&#39;t <code>.map()</code> it. If it&#39;s an empty object you can do a empty object check to not map it for no reason."}, {"owner": {"reputation": 147, "user_id": 4745554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-L47YSyaopNA/AAAAAAAAAAI/AAAAAAAADOE/6lsQLpR2GIs/photo.jpg?sz=128", "display_name": "Krzysztof Skorupski", "link": "https://stackoverflow.com/users/4745554/krzysztof-skorupski"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1484138837, "post_id": 41590949, "comment_id": 70385957, "body": "Indeed, and that is my concern how to send this array from service to express file into req.body properly so I could get list of items based on that array of ids."}, {"owner": {"reputation": 14813, "user_id": 3631348, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/SQTqw.png?s=128&g=1", "display_name": "slaesh", "link": "https://stackoverflow.com/users/3631348/slaesh"}, "edited": false, "score": 0, "creation_date": 1484139163, "post_id": 41590949, "comment_id": 70386159, "body": "HTTP GET-Method has no <code>body</code>!!"}, {"owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "edited": false, "score": 0, "creation_date": 1484139271, "post_id": 41590949, "comment_id": 70386217, "body": "@KrzysztofSkorupski can&#39;t set get requests like that, have to set them as part of the url. You can go angular route and use URLSearchParams, but it&#39;s much simpler to just create the url yourself: <code>const url = &#39;&#47;api&#47;ordersspecific?&#39; + ids.map(id =&gt; &#39;ids=&#39; + id._id + &#39;&amp;&#39;);</code>"}, {"owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "edited": false, "score": 0, "creation_date": 1484139286, "post_id": 41590949, "comment_id": 70386232, "body": "And then read with <code>req.query.ids</code> on node side."}], "answers": [{"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 147, "user_id": 4745554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-L47YSyaopNA/AAAAAAAAAAI/AAAAAAAADOE/6lsQLpR2GIs/photo.jpg?sz=128", "display_name": "Krzysztof Skorupski", "link": "https://stackoverflow.com/users/4745554/krzysztof-skorupski"}, "edited": false, "score": 0, "creation_date": 1484139847, "post_id": 41591472, "comment_id": 70386593, "body": "@KrzysztofSkorupski glad I could help :-)"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 2, "last_activity_date": 1484139078, "creation_date": 1484139078, "answer_id": 41591472, "question_id": 41590949, "link": "https://stackoverflow.com/questions/41590949/get-all-matching-items-using-ids-array-form-database/41591472#41591472", "title": "Get all matching items using ids array form database", "body": "<p>I assume you are trying to send <code>ids</code> to your server side with </p>\n\n<pre><code>return this.http.get('/api/ordersspecyfic', ids)\n</code></pre>\n\n<p>but <code>http.get</code> api doesn't work like that</p>\n\n<blockquote>\n  <p>get(url: string, options?: RequestOptionsArgs) : Observable</p>\n</blockquote>\n\n<p>In order to send this data to your back-end you should use the post api</p>\n\n<pre><code>let headers = new Headers({ 'Content-Type': 'application/json' });\nlet options = new RequestOptions({ headers: headers });\n\nreturn this.http.post('/api/ordersspecyfic', ids, options)\n</code></pre>\n\n<blockquote>\n  <p>post(url: string, body: any, options?: RequestOptionsArgs) : Observable</p>\n</blockquote>\n\n<p>Source:<a href=\"https://angular.io/docs/ts/latest/api/http/index/Http-class.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/api/http/index/Http-class.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "is_accepted": false, "score": 1, "last_activity_date": 1484139145, "creation_date": 1484139145, "answer_id": 41591503, "question_id": 41590949, "link": "https://stackoverflow.com/questions/41590949/get-all-matching-items-using-ids-array-form-database/41591503#41591503", "title": "Get all matching items using ids array form database", "body": "<p>Two errors, backend and frontend.</p>\n\n<ol>\n<li>Frontend error</li>\n</ol>\n\n<p>You say <code>this.http.get('/api/ordersspecific', ids);</code>. This does nothing - or specifically, this only tries to get <code>/api/ordersspecific</code>. It doesn't send ids, your second parameter doesn't match any <a href=\"https://angular.io/docs/ts/latest/api/http/index/Http-class.html\" rel=\"nofollow noreferrer\">RequestOptions</a>. In other words, your ids are ignored.</p>\n\n<p>You'd want to append this as a query string. Check <a href=\"https://angular.io/docs/ts/latest/guide/server-communication.html#!#search-parameters\" rel=\"nofollow noreferrer\">here</a> how to add querystring parameters. But in short, it'd be something simple like:</p>\n\n<pre><code>return this.http.get('/api/ordersspecyfic?ids=&lt;id1&gt;&amp;ids=&lt;id2&gt;...'\n</code></pre>\n\n<ol start=\"2\">\n<li>Backend error</li>\n</ol>\n\n<p>You're reading stuff from body. It's a GET request, there should be no body. Read this from querystring:</p>\n\n<pre><code>router.get('/ordersspecyfic', function(req, res, next){\n  var ids = req.query.ids;\n});\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 4745554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-L47YSyaopNA/AAAAAAAAAAI/AAAAAAAADOE/6lsQLpR2GIs/photo.jpg?sz=128", "display_name": "Krzysztof Skorupski", "link": "https://stackoverflow.com/users/4745554/krzysztof-skorupski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 1, "accepted_answer_id": 41591472, "answer_count": 2, "score": 1, "last_activity_date": 1484139246, "creation_date": 1484137595, "last_edit_date": 1484139246, "question_id": 41590949, "link": "https://stackoverflow.com/questions/41590949/get-all-matching-items-using-ids-array-form-database", "title": "Get all matching items using ids array form database", "body": "<p>I can't receive list of items that matches with my array of ids.</p>\n\n<p>This is PART of code in Angular component:</p>\n\n<pre><code>this.orderService.getSpecyficOrders(ids)\n    .subscribe(orders =&gt; { ... \n</code></pre>\n\n<p>Where ids is an array of </p>\n\n<pre><code>[{_id : ID },{_id : ID },{_id : ID },]\n</code></pre>\n\n<p>ID is <code>\"5235sd23424asd234223sf44\"</code> kind of string form MongoDB documents.</p>\n\n<p>In angular service file I have imported:\nHttp, Headers, and import 'rxjs/add/operator/map';</p>\n\n<p>Here is code in service in Angular:</p>\n\n<pre><code>getSpecyficOrders(ids){\n    return this.http.get('/api/ordersspecyfic', ids)\n        .map(res =&gt; res.json());\n}\n</code></pre>\n\n<p>In express file I have require: multer, express,router,mongojs, db</p>\n\n<p>And here is part of code in express, call to mongodb:</p>\n\n<pre><code>router.get('/ordersspecyfic', function(req, res, next){\n    var ids = req.body;\n    ids = ids.map(function (obj){ return mongojs.ObjectId(obj._id)});\n    db.orders.find({_id: {$in: ids}}, function(err, orders){\n        if(err){\n            res.send(err);\n        }\n        res.json(orders);\n    });\n});\n</code></pre>\n\n<p>And I'm getting error:</p>\n\n<blockquote>\n  <p>Uncaught Response {_body: \"TypeError: ids.map is not a function<br>\n  &nbsp; &amp;n\u2026/node_modules/express/lib/router/index.js:46:12)\u21b5\", status:\n  500, ok: false, statusText: \"Internal Server Error\", headers:\n  Headers\u2026}</p>\n</blockquote>\n\n<p>Console.log in express file\nis showing me that req.body is an empty object {}</p>\n\n<p>As far as I know <code>req.body</code> is not an array,  but I don't know if this is only problem with that code.</p>\n\n<p>All others request of get single element, get all items etc. are working fine.\nI just can't get this one working.. </p>\n"}, {"tags": ["javascript", "typescript", "knockout.js", "observable", "readonly"], "comments": [{"owner": {"reputation": 1279, "user_id": 3141351, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/CLWVR.jpg?s=128&g=1", "display_name": "gkb", "link": "https://stackoverflow.com/users/3141351/gkb"}, "edited": false, "score": 0, "creation_date": 1484139864, "post_id": 41590763, "comment_id": 70386603, "body": "would creating a <code>computedObservable</code> without a <code>write</code> callback solve your purpose? Because as Nitzan mentioned, <code>observable</code> is just a <code>function</code> which is called with a parameter to update its value, while for reading the current value you just have to call it without a parameter`"}, {"owner": {"reputation": 18926, "user_id": 3297291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0d7237254b7a62c94e8e97cf1e0e29?s=128&d=identicon&r=PG&f=1", "display_name": "user3297291", "link": "https://stackoverflow.com/users/3297291/user3297291"}, "edited": false, "score": 0, "creation_date": 1484141609, "post_id": 41590763, "comment_id": 70387726, "body": "Having a <code>readonly</code> observable is a bit paradoxical... The point behind making an observable is that you can change it and updates happen automatically. If you don&#39;t want to change it, you might as well use &quot;just&quot; a <code>readonly</code> boolean: ordinary values work perfectly well when you <code>applyBindings</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5291, "user_id": 3917754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/WBbll.jpg?s=128&g=1", "display_name": "demo", "link": "https://stackoverflow.com/users/3917754/demo"}, "edited": false, "score": 0, "creation_date": 1484138892, "post_id": 41591054, "comment_id": 70385992, "body": "So, answer is No, I can&#39;t make observable immutable?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 5291, "user_id": 3917754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/WBbll.jpg?s=128&g=1", "display_name": "demo", "link": "https://stackoverflow.com/users/3917754/demo"}, "edited": false, "score": 0, "creation_date": 1484139920, "post_id": 41591054, "comment_id": 70386645, "body": "You can, but that only means that you can not assign another observable instance into the same instance. But no, you can not guard against changing the observable state. You can create your own observable which does that"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 1, "last_activity_date": 1484137864, "creation_date": 1484137864, "answer_id": 41591054, "question_id": 41590763, "link": "https://stackoverflow.com/questions/41590763/readonly-observable-in-typescript/41591054#41591054", "title": "Readonly observable in Typescript", "body": "<p>Readonly means that you can not change the reference of the variable, it does not mean that you can't change the object itself.</p>\n\n<p>For example:</p>\n\n<pre><code>class A {\n    public readonly arr: any[] = [];\n}\n\nlet a = new A();\na.arr = []; // error Cannot assign to 'arr' because it is a constant or a read-only property\na.arr.push(4); // fine\n</code></pre>\n\n<p>if <code>this._isDirty</code> is a function then you can invoke it even if the property is set to <code>readonly</code>.</p>\n"}], "owner": {"reputation": 5291, "user_id": 3917754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/WBbll.jpg?s=128&g=1", "display_name": "demo", "link": "https://stackoverflow.com/users/3917754/demo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1484137864, "creation_date": 1484136990, "question_id": 41590763, "link": "https://stackoverflow.com/questions/41590763/readonly-observable-in-typescript", "title": "Readonly observable in Typescript", "body": "<p>I'm using typescript with knockout.js. And for one case I need immutable field for my class. This field should be observable.</p>\n\n<p>I've created </p>\n\n<pre><code>readonly _isDirty = ko.observable&lt;boolean&gt;(false);\n</code></pre>\n\n<p>Assign value in constructor </p>\n\n<pre><code>constructor(data: ITypedInput, isDirty: any) {\n    super(ko.unwrap(data));\n    this._isDirty = isDirty;\n}\n</code></pre>\n\n<p>But when I want to set another value </p>\n\n<pre><code>this._isDirty(true);\n</code></pre>\n\n<p>TypeScript compiler didn't say anything, that it is not allowed.\nIn another case, when I just set value like</p>\n\n<pre><code>this._isDirty = true;\n</code></pre>\n\n<p>Compiler said </p>\n\n<blockquote>\n  <p>Left-hand side of assignment expression cannot be a constant or a read-only property.</p>\n</blockquote>\n\n<p>So is there any way to have readonly observable?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484135924, "post_id": 41590267, "comment_id": 70383993, "body": "what about bla(myModel: One | Two) ? that way there&#39;s no need to extend or implement anything."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1484136872, "post_id": 41590267, "comment_id": 70384627, "body": "That will require to change the function signature every time a new class is added or removed. If you extend/implements a common type then you can safely remove/add classes without the need to change the function"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484137287, "post_id": 41590267, "comment_id": 70384903, "body": "true but in that case you have to make sure every class implements or extends the base. In both cases you need to manage that somehow. If they have common functionality or behaviour that would be fine if not.. having a marker interface just for this seems a bit much. :) Also it would be easier to make a Type that includes only the classes you want. That way everything is centralized and it doesn&#39;t require a class hierarchy. :)"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484137639, "post_id": 41590267, "comment_id": 70385154, "body": "@toskv You can create a type alias which is a union of all the module classes, but again, you&#39;ll need to manage that when classes are added/removed/renamed. As for having a common parent, there&#39;s nothing to manage if your base class only means &quot;member of this module&quot;.  But if a function is expecting all of those classes then they probably have something in common anyway..."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 1, "last_activity_date": 1484135612, "creation_date": 1484135612, "answer_id": 41590267, "question_id": 41590099, "link": "https://stackoverflow.com/questions/41590099/data-type-should-be-anything-inside-module-typescript/41590267#41590267", "title": "data type should be anything inside module typescript", "body": "<p>No, but you can have them implement/extend a base interface/class:</p>\n\n<pre><code>module SomeModule {\n    export interface Base { }\n\n    export class One implements Base { }\n\n    export class Two implements Base { }\n}\n\nfunction bla(myModel: SomeModule.Base) { }\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>module SomeModule {\n    export abstract class Base { }\n\n    export class One extends Base { }\n\n    export class Two extends Base { }\n}\n</code></pre>\n\n<p>You can also make the function generic:</p>\n\n<pre><code>function bla&lt;T extends SomeModule.Base&gt;(myModel: T) { }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 6648609, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45a39ee22f7a1f7d075db2868302a85?s=128&d=identicon&r=PG&f=1", "display_name": "ASfdsa33", "link": "https://stackoverflow.com/users/6648609/asfdsa33"}, "edited": false, "score": 0, "creation_date": 1484139638, "post_id": 41590462, "comment_id": 70386451, "body": "Nice idea, but <code>SomeModel</code> has more than 100 classes."}, {"owner": {"reputation": 30533, "user_id": 651188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f08ef5baf6cd8f807d0baf2323904f61?s=128&d=identicon&r=PG", "display_name": "Roy Dictus", "link": "https://stackoverflow.com/users/651188/roy-dictus"}, "reply_to_user": {"reputation": 97, "user_id": 6648609, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45a39ee22f7a1f7d075db2868302a85?s=128&d=identicon&r=PG&f=1", "display_name": "ASfdsa33", "link": "https://stackoverflow.com/users/6648609/asfdsa33"}, "edited": false, "score": 0, "creation_date": 1484215254, "post_id": 41590462, "comment_id": 70421713, "body": "Well, you didn&#39;t mention that."}], "tags": [], "owner": {"reputation": 30533, "user_id": 651188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f08ef5baf6cd8f807d0baf2323904f61?s=128&d=identicon&r=PG", "display_name": "Roy Dictus", "link": "https://stackoverflow.com/users/651188/roy-dictus"}, "is_accepted": false, "score": 1, "last_activity_date": 1484215447, "last_edit_date": 1484215447, "creation_date": 1484136175, "answer_id": 41590462, "question_id": 41590099, "link": "https://stackoverflow.com/questions/41590099/data-type-should-be-anything-inside-module-typescript/41590462#41590462", "title": "data type should be anything inside module typescript", "body": "<p>In TypeScript 2.0, you can specify multiple possible data types for a parameter or even a variable:</p>\n\n<pre><code>function bla (myModel: One | Two)\n</code></pre>\n\n<p>Then you can use parameters of either type.</p>\n\n<p><strong>EDIT</strong>\nIn the case that SomeModel is very large, as written in the comment below (apparently 100+ classes, which I think is bad design but hey, I'm not judging), it would probably be easiest to just create an <code>abstract</code> base class in <code>SomeModel</code> and have every class in the model derive from that.</p>\n\n<pre><code>export abstract class MyModelClass { /* Any shared logic here */ }\n\nexport class One extends MyModelClass { ... }\n\nexport class Two extends MyModelClass { ... }\n\n...\n</code></pre>\n\n<p>Then you can write</p>\n\n<pre><code>function bla(myModel: MyModelClass) { ... }\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 6648609, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45a39ee22f7a1f7d075db2868302a85?s=128&d=identicon&r=PG&f=1", "display_name": "ASfdsa33", "link": "https://stackoverflow.com/users/6648609/asfdsa33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1484215447, "creation_date": 1484135190, "last_edit_date": 1484135711, "question_id": 41590099, "link": "https://stackoverflow.com/questions/41590099/data-type-should-be-anything-inside-module-typescript", "title": "data type should be anything inside module typescript", "body": "<p>Is it possible to have a datatype, instead of <code>any</code> , which is part of a module like this:</p>\n\n<pre><code>module SomeModule  {\n    export class One  { \n        // ...\n    }\n\n    export class Two { \n        // ...\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>I need something like this:</p>\n\n<pre><code>function bla(myModel: anyThingInsideModule_insteadOfAnyDataType){...}\n</code></pre>\n\n<p>Is That possible ?</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484133544, "post_id": 41589271, "comment_id": 70382455, "body": "you&#39;ll most likely have to create a tsconfig.json file for your project where you specify your project&#39;s setup. That will also allow VSCode to give you more info."}, {"owner": {"reputation": 467, "user_id": 2608576, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/69d5847b72b35bd931bc5100027686b3?s=128&d=identicon&r=PG", "display_name": "user2608576", "link": "https://stackoverflow.com/users/2608576/user2608576"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484137160, "post_id": 41589271, "comment_id": 70384823, "body": "@toskv I do have the tsconfig.json and tslint.json, but I am not sure what is the rule that needs to be added for parameter / variable declarations in tslint and return types for functions."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484137355, "post_id": 41589271, "comment_id": 70384951, "body": "can you share your tsconfig.json file? :) It might be that because of your configuration the editor doesn&#39;t see those things as errors. :)"}, {"owner": {"reputation": 467, "user_id": 2608576, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/69d5847b72b35bd931bc5100027686b3?s=128&d=identicon&r=PG", "display_name": "user2608576", "link": "https://stackoverflow.com/users/2608576/user2608576"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484137476, "post_id": 41589271, "comment_id": 70385033, "body": "@toskv below is my tsconfig.json contents: &#39;&#39;{   &quot;compilerOptions&quot;: {     &quot;module&quot;: &quot;commonjs&quot;,     &quot;allowJs&quot;: true,     &quot;target&quot;: &quot;es6&quot;   },   &quot;exclude&quot;: [     &quot;node_modules&quot;   ] } &#39;&#39;"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484145597, "post_id": 41589271, "comment_id": 70390318, "body": "Awesome. You should make an answer out of that so people that read this in the future know what to do. :)"}, {"owner": {"reputation": 467, "user_id": 2608576, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/69d5847b72b35bd931bc5100027686b3?s=128&d=identicon&r=PG", "display_name": "user2608576", "link": "https://stackoverflow.com/users/2608576/user2608576"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484146132, "post_id": 41589271, "comment_id": 70390708, "body": "Added the below type definition rule to tslint.json file to get this reflected in VS code editor:  &quot;typedef&quot;: [true, &quot;call-signature&quot;, &quot;parameter&quot;, &quot;member-variable-declaration&quot;] - That solved the issue."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484146266, "post_id": 41589271, "comment_id": 70390790, "body": "Make an answer ;)"}], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 2608576, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/69d5847b72b35bd931bc5100027686b3?s=128&d=identicon&r=PG", "display_name": "user2608576", "link": "https://stackoverflow.com/users/2608576/user2608576"}, "is_accepted": false, "score": 0, "last_activity_date": 1485790250, "creation_date": 1485790250, "answer_id": 41939647, "question_id": 41589271, "link": "https://stackoverflow.com/questions/41589271/migration-from-js-to-ts-editor-issue/41939647#41939647", "title": "Migration from js to ts editor issue", "body": "<p>Added the below type definition rule to tslint.json file to get this reflected in VS code editor: \"typedef\": [true, \"call-signature\", \"parameter\", \"member-variable-declaration\"] - That solved the issue. </p>\n"}], "owner": {"reputation": 467, "user_id": 2608576, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/69d5847b72b35bd931bc5100027686b3?s=128&d=identicon&r=PG", "display_name": "user2608576", "link": "https://stackoverflow.com/users/2608576/user2608576"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485790250, "creation_date": 1484132864, "last_edit_date": 1484137577, "question_id": 41589271, "link": "https://stackoverflow.com/questions/41589271/migration-from-js-to-ts-editor-issue", "title": "Migration from js to ts editor issue", "body": "<p>I am trying to migrate my code from java script to type script and using Visual Studio Code as editor.\nWhen I rename the files from js to ts in my project, I do not see any suggestions / warnings (usually underlined red color - say for example variable type not declared in origianl JS file).</p>\n\n<p>Currently I am compiling the ts code manually and fixing the errors but is there any preference setting in VS code to detect the errors directly instead of compiling and checking ?</p>\n\n<p>The tsconfig.json is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"allowJs\": true,\n    \"target\": \"es6\"\n  },\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>\n\n\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1484131734, "post_id": 41588800, "comment_id": 70381186, "body": "Seems you do want a component by id, not an element by id. That&#39;s not supported though."}, {"owner": {"reputation": 543, "user_id": 1184819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pQ8Fi.jpg?s=128&g=1", "display_name": "Bo Vandersteene", "link": "https://stackoverflow.com/users/1184819/bo-vandersteene"}, "edited": false, "score": 1, "creation_date": 1484131841, "post_id": 41588800, "comment_id": 70381250, "body": "Provide som more code"}, {"owner": {"reputation": 987, "user_id": 6869570, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dce8785be48bc3dc549c7c1870ad3390?s=128&d=identicon&r=PG&f=1", "display_name": "Natalia", "link": "https://stackoverflow.com/users/6869570/natalia"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1484132177, "post_id": 41588800, "comment_id": 70381472, "body": "@G&#252;nterZ&#246;chbauer So how can I catch this element? <code>&lt;input type=&#39;text&#39; id=&#39;loginInput&#39;&#47;&gt;</code>?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1484132802, "post_id": 41588800, "comment_id": 70381887, "body": "if you are using angular 2 you can use its data binding feature <a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#!#binding-syntax\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1484132878, "post_id": 41588800, "comment_id": 70381931, "body": "you are trying to set the value of text-filed or want to get value from text-filed ? what you are trying to achive ?"}, {"owner": {"reputation": 987, "user_id": 6869570, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dce8785be48bc3dc549c7c1870ad3390?s=128&d=identicon&r=PG&f=1", "display_name": "Natalia", "link": "https://stackoverflow.com/users/6869570/natalia"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1484133173, "post_id": 41588800, "comment_id": 70382175, "body": "@PardeepJain I want to set the value of login and password inputs, so I don&#39;t need to write it by myself every time I log into the application."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1484133600, "post_id": 41588800, "comment_id": 70382496, "body": "@Natalia please see my answer may help you."}, {"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 2, "creation_date": 1484134243, "post_id": 41588800, "comment_id": 70382931, "body": "Don&#39;t do that, just follow the angular.io tutorial on bindings... There are plenty of examples there"}], "answers": [{"comments": [{"owner": {"reputation": 2022, "user_id": 8400475, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/cmEnr.jpg?s=128&g=1", "display_name": "Gel", "link": "https://stackoverflow.com/users/8400475/gel"}, "edited": false, "score": 0, "creation_date": 1540007863, "post_id": 41589442, "comment_id": 92716192, "body": "interesting.  Is this true in angular 6?"}, {"owner": {"reputation": 1369, "user_id": 1632556, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ErjRS.jpg?s=128&g=1", "display_name": "Soumya Kanti", "link": "https://stackoverflow.com/users/1632556/soumya-kanti"}, "edited": false, "score": 0, "creation_date": 1540147293, "post_id": 41589442, "comment_id": 92747088, "body": "Yes. It is true for Angular 6 as well."}, {"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1541502879, "post_id": 41589442, "comment_id": 93231216, "body": "Is this the preferred way in Angular? It works in Angular 7 as well but I&#39;m not sure if this is the Angular way to do this."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1541745295, "post_id": 41589442, "comment_id": 93328673, "body": "obviously not @skydev, But as per question requirements I answered this"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 37, "last_activity_date": 1484133350, "last_edit_date": 1592644375, "creation_date": 1484133350, "answer_id": 41589442, "question_id": 41588800, "link": "https://stackoverflow.com/questions/41588800/get-element-by-id-angular2/41589442#41589442", "title": "Get element by id - Angular2", "body": "<p>if you want to set value than you can do the same in some function on click or on some event fire.</p>\n<p>also you can get value using <code>ViewChild</code> using local variable like this</p>\n<pre><code>&lt;input type='text' id='loginInput' #abc/&gt;\n</code></pre>\n<p>and get value like this</p>\n<pre><code>this.abc.nativeElement.value\n</code></pre>\n<p><kbd><a href=\"https://plnkr.co/edit/buE3UX4MpcP1vrgof639?p=preview\" rel=\"noreferrer\">here is working example</a></kbd></p>\n<h1>Update</h1>\n<p>okay got it , you have to use <code>ngAfterViewInit</code> method of angualr2 for the same like this</p>\n<pre><code>ngAfterViewInit(){\n    document.getElementById('loginInput').value = '123344565';\n  }\n</code></pre>\n<blockquote>\n<p><code>ngAfterViewInit</code> will not throw any error because it will render after template loading</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 175, "user_id": 6092122, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/d114fe5b0d44af15c13e641824161900?s=128&d=identicon&r=PG&f=1", "display_name": "DavidB", "link": "https://stackoverflow.com/users/6092122/davidb"}, "edited": false, "score": 1, "creation_date": 1518968712, "post_id": 41589453, "comment_id": 84710345, "body": "What if I have to pass the value from the external javascript file to the angular component form field? This is what I did, I have an algorithm sit in the javascript file when the algorithm finished generating the value, and it passes back to the angular form by using this code, getDocumentById(&#39;input&#39;).value = someValue; . But, when I try to retrieve the value in the event of OnSubmit() I got the undefined value. Any idea?"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 8, "last_activity_date": 1518520305, "last_edit_date": 1518520305, "creation_date": 1484133371, "answer_id": 41589453, "question_id": 41588800, "link": "https://stackoverflow.com/questions/41588800/get-element-by-id-angular2/41589453#41589453", "title": "Get element by id - Angular2", "body": "<p>A different approach, i.e: You could just do it 'the Angular way' and use <code>ngModel</code> and skip <code>document.getElementById('loginInput').value = '123';</code> altogether. Instead: </p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"username\"/&gt;\n&lt;input type=\"text\" [(ngModel)]=\"password\"/&gt;\n</code></pre>\n\n<p>and in your component you give these values:</p>\n\n<pre><code>username: 'whatever'\npassword: 'whatever'\n</code></pre>\n\n<p>this will preset the username and password upon navigating to page.</p>\n"}, {"tags": [], "owner": {"reputation": 702, "user_id": 5105411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ad132.jpg?s=128&g=1", "display_name": "Gopherine", "link": "https://stackoverflow.com/users/5105411/gopherine"}, "is_accepted": false, "score": 18, "last_activity_date": 1575038632, "last_edit_date": 1575038632, "creation_date": 1492413389, "answer_id": 43446982, "question_id": 41588800, "link": "https://stackoverflow.com/questions/41588800/get-element-by-id-angular2/43446982#43446982", "title": "Get element by id - Angular2", "body": "<pre><code>(&lt;HTMLInputElement&gt;document.getElementById('loginInput')).value = '123';\n</code></pre>\n\n<p>Angular cannot take HTML elements directly thereby you need to specify the element type by binding the above generic to it.</p>\n\n<p><strong>UPDATE::</strong></p>\n\n<p>This can also be done using ViewChild with #localvariable as shown here, as mentioned in <a href=\"https://stackoverflow.com/a/38944920/5105411\">here</a></p>\n\n<pre><code>&lt;textarea  #someVar  id=\"tasknote\"\n                  name=\"tasknote\"\n                  [(ngModel)]=\"taskNote\"\n                  placeholder=\"{{ notePlaceholder }}\"\n                  style=\"background-color: pink\"\n                  (blur)=\"updateNote() ; noteEditMode = false \" (click)=\"noteEditMode = false\"&gt; {{ todo.note }} \n\n&lt;/textarea&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>import {ElementRef,Renderer2} from '@angular/core';\n@ViewChild('someVar') el:ElementRef;\n\nconstructor(private rd: Renderer2) {}\n\nngAfterViewInit() {\n      console.log(this.rd); \n      this.el.nativeElement.focus();      //&lt;&lt;&lt;=====same as oldest way\n}\n</code></pre>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 2266, "user_id": 8403689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jW9XD.jpg?s=128&g=1", "display_name": "Imranmadbar", "link": "https://stackoverflow.com/users/8403689/imranmadbar"}, "is_accepted": false, "score": 4, "last_activity_date": 1560341851, "creation_date": 1560341851, "answer_id": 56562056, "question_id": 41588800, "link": "https://stackoverflow.com/questions/41588800/get-element-by-id-angular2/56562056#56562056", "title": "Get element by id - Angular2", "body": "<p>Complate Angular Way ( Set/Get value by Id ):</p>\n\n<p>// In Html tag</p>\n\n<pre><code> &lt;button (click) =\"setValue()\"&gt;Set Value&lt;/button&gt;\n &lt;input type=\"text\"  #userNameId /&gt;\n</code></pre>\n\n<p>// In component .ts File</p>\n\n<pre><code>    export class testUserClass {\n       @ViewChild('userNameId') userNameId: ElementRef;\n\n      ngAfterViewInit(){\n         console.log(this.userNameId.nativeElement.value );\n       }\n\n      setValue(){\n        this.userNameId.nativeElement.value = \"Sample user Name\";\n      }\n\n\n\n   }\n</code></pre>\n"}], "owner": {"reputation": 987, "user_id": 6869570, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dce8785be48bc3dc549c7c1870ad3390?s=128&d=identicon&r=PG&f=1", "display_name": "Natalia", "link": "https://stackoverflow.com/users/6869570/natalia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134744, "favorite_count": 5, "answer_count": 4, "score": 45, "last_activity_date": 1575038632, "creation_date": 1484131670, "last_edit_date": 1517770711, "question_id": 41588800, "link": "https://stackoverflow.com/questions/41588800/get-element-by-id-angular2", "title": "Get element by id - Angular2", "body": "<p>I have a code:</p>\n\n<pre><code>document.getElementById('loginInput').value = '123';\n</code></pre>\n\n<p>But while compiling the code I receive following error:</p>\n\n<blockquote>\n  <p>Property value does not exist on type HTMLElement.</p>\n</blockquote>\n\n<p>I have declared a var: <code>value: string;</code>.</p>\n\n<p>How can I avoid this error? </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "angular2-router3"], "answers": [{"comments": [{"owner": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "edited": false, "score": 0, "creation_date": 1484126971, "post_id": 41586932, "comment_id": 70377895, "body": "im a bit confused as to what or how its to be to done, correct me if im wrong, Il create another module which will contain the routes required to be loaded in auxiliary route except the wont be lazy loaded something like                aux.seperate.module                                               <code>@NgModule({ imports : [ CommonsModule,FormsModule,HttpModule, RouterModule.forChild([{ path: &#39;sample-one&#39;, component: SampleOneComponent , outlet : &#39;aux&#39; }])  ], declarations : [ TestUIComponent ], providers : [ TestUIService,SharedDataService ] })</code> ??  export class TestUIModule { }"}, {"owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "reply_to_user": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "edited": false, "score": 0, "creation_date": 1484127025, "post_id": 41586932, "comment_id": 70377937, "body": "you are correct. I was confused. I found a workaround here: <a href=\"https://github.com/angular/angular/issues/12842\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/12842</a> but I haven&#39;t played with it yet"}, {"owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "reply_to_user": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "edited": false, "score": 0, "creation_date": 1484127089, "post_id": 41586932, "comment_id": 70377979, "body": "looks like they stuff the lazy load in a child route with a default path <code>&#39;&#39;</code>"}, {"owner": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "edited": false, "score": 0, "creation_date": 1484127259, "post_id": 41586932, "comment_id": 70378113, "body": "yes but im not looking for a workaround, anyways thanks :) i guess il wait"}], "tags": [], "owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "is_accepted": false, "score": 0, "last_activity_date": 1484126616, "creation_date": 1484126616, "answer_id": 41586932, "question_id": 41586738, "link": "https://stackoverflow.com/questions/41586738/lazy-loading-auxiliary-routes/41586932#41586932", "title": "Lazy loading auxiliary routes", "body": "<p>You should not and can not include the <code>outlet:</code> parameter on the lazy load path. the lazy loaded routes are hidden away from the eagerly loaded application by design.</p>\n\n<p>Instead you should build a module for outlets components and it should have its own routing configuration. In that router configuration you can set up a route to your Auxiliary outlets.</p>\n"}, {"tags": [], "owner": {"reputation": 1494, "user_id": 1075986, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b6a182d923621428e2b78b1524f05d8?s=128&d=identicon&r=PG", "display_name": "Marcello di Simone", "link": "https://stackoverflow.com/users/1075986/marcello-di-simone"}, "is_accepted": false, "score": 1, "last_activity_date": 1542323373, "last_edit_date": 1542323373, "creation_date": 1542323044, "answer_id": 53329103, "question_id": 41586738, "link": "https://stackoverflow.com/questions/41586738/lazy-loading-auxiliary-routes/53329103#53329103", "title": "Lazy loading auxiliary routes", "body": "<p>You did nothing wrong, it just was a long lasting bug in angular router, that got fixed (partly) in angular@6.1. Partly because, to achieve your goal, you have to configurate the lazy loaded module in your app routes as unnamed route and instead name the parent route in your lazy loaded module router configuration:</p>\n\n<p><strong>app.routes</strong></p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    redirectTo: 'home',\n    pathMatch: 'full'\n  },\n  {\n    /* no name for lazy loaded route */\n    path: '',\n    loadChildren: './home/home.module#HomeModule'\n  },\n  {\n    /* you can add multiple empty routes without conflicts */\n    path: '',\n    loadChildren: './about/about.module#AboutModule'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n</code></pre>\n\n<p><strong>home.routes</strong></p>\n\n<pre><code>export const homeRoutes: Routes = [\n  {\n    /* your lazy loaded module route needs to be named */\n    path: 'home',\n    component: HomeComponent,\n    children: [\n      {\n        path: '',\n        component: HomeListComponent\n      },\n      {\n        path: 'form',\n        component: HomeFormComponent,\n        outlet: 'popup'\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(homeRoutes)],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule {\n}\n</code></pre>\n\n<p>while your home component template look like this:</p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n&lt;router-outlet name=\"popup\"&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>and the <code>routerLink</code> has to look like this</p>\n\n<pre><code>[routerLink]=\"['/home', { outlets: { popup: ['form'] } }]\"\n</code></pre>\n"}], "owner": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1542323373, "creation_date": 1484125971, "last_edit_date": 1484126645, "question_id": 41586738, "link": "https://stackoverflow.com/questions/41586738/lazy-loading-auxiliary-routes", "title": "Lazy loading auxiliary routes", "body": "<p>Here the scenario,\nI have a mainpage with 3 routes (child of mainpage each lazy loaded).\n<a href=\"https://i.stack.imgur.com/Ck44n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ck44n.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here the auxiliary component has one primary outlet and other auxiliary as </p>\n\n<pre><code>&lt;router-outlet name=\"auxone\"&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>and this is how my mainpage.route file looks</p>\n\n<p><a href=\"https://i.stack.imgur.com/NgiKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NgiKM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now my auxilary route loads perfectly and im able to route in primary outlet with any problem. But as soon as i try to load a route in the auxiliary outlet like this\n<a href=\"https://i.stack.imgur.com/dsuwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dsuwf.png\" alt=\"enter image description here\"></a></p>\n\n<p>&amp; try to navigate them using</p>\n\n<p><a href=\"https://i.stack.imgur.com/yw7A4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yw7A4.png\" alt=\"enter image description here\"></a>\n(Aux route has one child as its own, and im trying to load another route as another child for the same aux)\n i get errors:</p>\n\n<pre><code>Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'mainpage/aux'\n</code></pre>\n\n<p>As im unable to see any documentation on how to load and route aux routes lazy loading im at my wits end finding out how to make this work.</p>\n\n<p>where exactly am i going wrong?</p>\n\n<p>Here's my project structure\n<a href=\"https://i.stack.imgur.com/MHoNG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MHoNG.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2802, "user_id": 6723846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uohCW.jpg?s=128&g=1", "display_name": "Jason Simpson", "link": "https://stackoverflow.com/users/6723846/jason-simpson"}, "edited": false, "score": 0, "creation_date": 1484124122, "post_id": 41586000, "comment_id": 70376165, "body": "Thanks G&#252;nter, first one did it!"}, {"owner": {"reputation": 659, "user_id": 3861484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b003f3d560bec1158c7648ea00536c97?s=128&d=identicon&r=PG", "display_name": "vijay sahu", "link": "https://stackoverflow.com/users/3861484/vijay-sahu"}, "edited": false, "score": 0, "creation_date": 1567603133, "post_id": 41586000, "comment_id": 102011814, "body": "Both are not working in angular 8.. any suggestion ?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1567614781, "post_id": 41586000, "comment_id": 102018320, "body": "I&#39;d suggest to post a new question with all information that allows to reproduce. It&#39;s unlikely to be related to Angular version."}, {"owner": {"reputation": 522, "user_id": 10335860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVk65.png?s=128&g=1", "display_name": "Chandan Y S", "link": "https://stackoverflow.com/users/10335860/chandan-y-s"}, "edited": false, "score": 1, "creation_date": 1616659157, "post_id": 41586000, "comment_id": 118073173, "body": "The second solution worked in Angular 10."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 16, "last_activity_date": 1484123800, "last_edit_date": 1484123800, "creation_date": 1484123498, "answer_id": 41586000, "question_id": 41585980, "link": "https://stackoverflow.com/questions/41585980/angular-2-how-to-call-a-typescript-function-inside-of-an-addeventlistener-hand/41586000#41586000", "title": "Angular 2 - How to call a typescript function inside of an addEventListener handler function?", "body": "<p>You need to take care that <code>this</code> keeps pointing at the current class instance:</p>\n\n<pre><code>iterateEl[i].addEventListener('click', this.showExcerptInfo.bind(this));\n</code></pre>\n\n<p>alternatively you can use</p>\n\n<pre><code>iterateEl[i].addEventListener('click', (evt) =&gt; this.showExcerptInfo(evt));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2692, "user_id": 4309299, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6c722dcf0a5eb151093c969b6340b7b3?s=128&d=identicon&r=PG&f=1", "display_name": "YairTawil", "link": "https://stackoverflow.com/users/4309299/yairtawil"}, "is_accepted": false, "score": 4, "last_activity_date": 1484126523, "last_edit_date": 1484126523, "creation_date": 1484123731, "answer_id": 41586070, "question_id": 41585980, "link": "https://stackoverflow.com/questions/41585980/angular-2-how-to-call-a-typescript-function-inside-of-an-addeventlistener-hand/41586070#41586070", "title": "Angular 2 - How to call a typescript function inside of an addEventListener handler function?", "body": "<p><code>this</code> not pointing to your class.\nthere is more 2 ways to do it with keeping 'this' without 'bind':</p>\n\n<pre><code>iterateEl[i].addEventListener('click', (event) =&gt; this.showExcerptInfo(event));\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>iterateEl[i].addEventListener('click', this.showExcerptInfo);\n\nshowExcerptInfo: (any) =&gt; void = (event:any):void =&gt; {\n  this.selectedExcerptId = event.srcElement.id;\n  console.log(this.selectedExcerptId);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7998507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q7SmN.jpg?s=128&g=1", "display_name": "Audrey", "link": "https://stackoverflow.com/users/7998507/audrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1568136253, "creation_date": 1568136253, "answer_id": 57875656, "question_id": 41585980, "link": "https://stackoverflow.com/questions/41585980/angular-2-how-to-call-a-typescript-function-inside-of-an-addeventlistener-hand/57875656#57875656", "title": "Angular 2 - How to call a typescript function inside of an addEventListener handler function?", "body": "<p>Adding further info to the accepted answer.<br>\nIf you're trying to pass data from your click element to the receiving function, you can set it up as follows:</p>\n\n<pre><code>// Function 1 - add listener\nelement.addListener(\"click\", this.otherFunction.bind(this, dataFromElement));\n\n// Function 2 - receive click data\notherFunction(dataFromElement) {\n   this.doStuff(dataFromElement)\n}\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 6723846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uohCW.jpg?s=128&g=1", "display_name": "Jason Simpson", "link": "https://stackoverflow.com/users/6723846/jason-simpson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5159, "favorite_count": 0, "accepted_answer_id": 41586000, "answer_count": 3, "score": 6, "last_activity_date": 1568136253, "creation_date": 1484123428, "last_edit_date": 1484125153, "question_id": 41585980, "link": "https://stackoverflow.com/questions/41585980/angular-2-how-to-call-a-typescript-function-inside-of-an-addeventlistener-hand", "title": "Angular 2 - How to call a typescript function inside of an addEventListener handler function?", "body": "<p>I'm trying to call another typescript function (of any kind) inside of a handler function added to spans on a page. When I do this, the handler function works fine and will do basic things such as set variables, console.log, etc. However, when trying to call a function of any kind it will throw an error of 'Cannot read property functionName of undefined'. So for example, here is code that works:</p>\n\n<pre><code>addListenter() {\nif (!this.addListenerFired) {\n  let iterateEl = this.el.nativeElement.querySelectorAll('span');\n  for (let i = 0; i &lt; iterateEl.length; i++) {\n    iterateEl[i].addEventListener('click', this.showExcerptInfo);\n  }\n  this.addListenerFired = true;\n}\nshowExcerptInfo (): void {\n  this.selectedExcerptId = event.srcElement.id;\n  console.log(this.selectedExcerptId);\n}\n</code></pre>\n\n<p>However, if I change the handler function to do the following (or call any function located anywhere, even in the same component) it will not work and throws the error:</p>\n\n<pre><code>showExcerptInfo () {\n  let excerpt = this.excerptsService.getExcerpt(this.selectedExcerptId);\n}\n</code></pre>\n\n<p>Any clues as to why this is happening and/or how it can be resolved?</p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "rxjs5"], "comments": [{"owner": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "edited": false, "score": 0, "creation_date": 1484125254, "post_id": 41585968, "comment_id": 70376784, "body": "An &quot;empty&quot; <code>Observable</code> isn&#39;t really a meaningful concept in this context, I think you are conflating concerns between the <code>Observer</code> and <code>Observable</code>. What is it you are trying to accomplish by this?"}], "answers": [{"comments": [{"owner": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "edited": false, "score": 2, "creation_date": 1484123975, "post_id": 41586047, "comment_id": 70376091, "body": "Moreover, <code>BehaviorSubject</code> has a method <a href=\"http://reactivex.io/rxjs/file/es6/BehaviorSubject.js.html#lineNumber21\" rel=\"nofollow noreferrer\">getValue</a> that returns current value if any."}], "tags": [], "owner": {"reputation": 15213, "user_id": 1518765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUfY8.jpg?s=128&g=1", "display_name": "olsn", "link": "https://stackoverflow.com/users/1518765/olsn"}, "is_accepted": true, "score": 2, "last_activity_date": 1484123684, "creation_date": 1484123684, "answer_id": 41586047, "question_id": 41585968, "link": "https://stackoverflow.com/questions/41585968/check-if-not-completed-observable-is-empty/41586047#41586047", "title": "check if not completed Observable is empty", "body": "<p>You could use <code>takeUntil()</code>:</p>\n\n<pre><code>Observable.of(true)\n    .takeUntil(cache)\n    .do(isEmpty =&gt; {\n        if (isEmpty) {\n            console.log(\"I want to be here!!!\");\n            cache.next(0);\n        }\n    })\n    .subscribe();\n</code></pre>\n\n<p>However this will just work once.</p>\n\n<hr>\n\n<p>Another way would be to \"null\" the cache and initialize it as empty by using a <code>BehaviorSubject</code>:</p>\n\n<pre><code>let cache = new BehaviorSubject&lt;number&gt;(null as any);\n...\ncache\n   .do(content =&gt; {\n       if (content == null) {\n           console.log(\"I want to be here!!!\");\n           cache.next(0);\n       }\n    })\n    .subscribe();\n</code></pre>\n\n<p>And of course you could initialize the cache with some default value right away.</p>\n"}, {"comments": [{"owner": {"reputation": 5664, "user_id": 4790610, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-Y-O9RmPGhkE/AAAAAAAAAAI/AAAAAAAAADg/k97LiSbLzhA/photo.jpg?sz=128", "display_name": "Andreas Gassmann", "link": "https://stackoverflow.com/users/4790610/andreas-gassmann"}, "edited": false, "score": 0, "creation_date": 1553526105, "post_id": 41586938, "comment_id": 97406452, "body": "I was also looking at the <code>_trimBufferThenGetEvents()</code> function to achieve that, and it really seems to be the only way. It&#39;s a shame that this function is not exposed."}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 3, "last_activity_date": 1484329509, "last_edit_date": 1484329509, "creation_date": 1484126629, "answer_id": 41586938, "question_id": 41585968, "link": "https://stackoverflow.com/questions/41585968/check-if-not-completed-observable-is-empty/41586938#41586938", "title": "check if not completed Observable is empty", "body": "<p>Actually, it's not that simple and the accepted answer is not very universal. You want to check whether <code>ReplaySubject</code> is empty at this particular point in time.</p>\n\n<p>However, if you want to make this truly compatible with <code>ReplaySubject</code> <strong>you need to take into account also <code>windowTime</code> parameter</strong> that specifies <em>\"time to live\"</em> for each value that goes through this object. This means that whether your <code>cache</code> is empty or not <strong>will change in time</strong>.</p>\n\n<p><code>ReplaySubject</code> has method <a href=\"https://github.com/ReactiveX/rxjs/blob/master/src/ReplaySubject.ts#L70\" rel=\"nofollow noreferrer\"><code>_trimBufferThenGetEvents</code></a> that does what you need. Unfortunately, this method is private so you need to make a little \"hack\" in JavaScript and extend its <code>prototype</code> directly.</p>\n\n<pre><code>import { ReplaySubject } from 'rxjs';\n\n// Tell the compiler there's a isNowEmpty() method\ndeclare module \"rxjs/ReplaySubject\" {\n    interface ReplaySubject&lt;T&gt; {\n        isNowEmpty(): boolean;\n    }\n}\n\nReplaySubject.prototype['isNowEmpty'] = function() {\n    let events = this._trimBufferThenGetEvents();\n    return events.length &gt; 0;\n};\n</code></pre>\n\n<p>Then using this <code>ReplaySubject</code> is simple:</p>\n\n<pre><code>let s = new ReplaySubject&lt;number&gt;(1, 100);\ns.next(3);\nconsole.log(s.isNowEmpty());\ns.next(4);\n\nsetTimeout(() =&gt; {\n    s.next(5);\n    s.subscribe(val =&gt; console.log('cached:', val));\n    console.log(s.isNowEmpty());\n}, 200);\n\nsetTimeout(() =&gt; {\n    console.log(s.isNowEmpty());\n}, 400);\n</code></pre>\n\n<p>Note that some calls to <code>isNowEmpty()</code> return <code>true</code>, while others return <code>false</code>. For example the last one returns <code>false</code> because the value was invalidated in the meantime.</p>\n\n<p>This example prints:</p>\n\n<pre><code>true\ncached: 5\ntrue\nfalse\n</code></pre>\n\n<p>See live demo: <a href=\"https://jsbin.com/sutaka/3/edit?js,console\" rel=\"nofollow noreferrer\">https://jsbin.com/sutaka/3/edit?js,console</a></p>\n"}, {"tags": [], "owner": {"reputation": 1263, "user_id": 350029, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49273939d2bc2970a5c5d5e00431d62e?s=128&d=identicon&r=PG", "display_name": "Chris Vandevelde", "link": "https://stackoverflow.com/users/350029/chris-vandevelde"}, "is_accepted": false, "score": 2, "last_activity_date": 1516911420, "creation_date": 1516911420, "answer_id": 48451203, "question_id": 41585968, "link": "https://stackoverflow.com/questions/41585968/check-if-not-completed-observable-is-empty/48451203#48451203", "title": "check if not completed Observable is empty", "body": "<p>You could use <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-scan\" rel=\"nofollow noreferrer\"><code>.scan()</code></a> to accumulate your count, and map that to a boolean whether it's nonzero. (It takes a second parameter for a seed value which would make it start with a 0, so it always reflects the current count.)</p>\n\n<p>I've also added a .filter() instead of an if statement to make it cleaner:</p>\n\n<pre><code>let cache = new ReplaySubject&lt;number&gt;(1);\n\ncache\n    .map((object: T) =&gt; 1)\n    .scan((count: number, incoming: number) =&gt; count + incoming, 0)\n    .map((sum) =&gt; sum == 0)\n    .filter((isEmpty: boolean) =&gt; isEmpty)\n    .subscribe((isEmpty: boolean) =&gt; {\n        console.log(\"I want to be here!!!\");\n        cache.next(0);\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "is_accepted": false, "score": 1, "last_activity_date": 1547795596, "creation_date": 1547795596, "answer_id": 54249260, "question_id": 41585968, "link": "https://stackoverflow.com/questions/41585968/check-if-not-completed-observable-is-empty/54249260#54249260", "title": "check if not completed Observable is empty", "body": "<h2>startWith</h2>\n\n<pre><code>let cache = new ReplaySubject&lt;number&gt;(1);\n\nisEmpty$ = cache.pipe(mapTo(false), startWith(true));\n</code></pre>\n\n<p>This says:</p>\n\n<ul>\n<li>Whatever the value is emitted by cache - map it to <code>false</code>. (because it isn't empty after an emission)</li>\n<li>Start with <code>true</code> if nothing has been emitted yet (because that means it's empty)</li>\n</ul>\n"}], "owner": {"reputation": 1563, "user_id": 1768378, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d04ff4fa7a08dc8de07a6a81d01dd28a?s=128&d=identicon&r=PG", "display_name": "vdshb", "link": "https://stackoverflow.com/users/1768378/vdshb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9791, "favorite_count": 1, "accepted_answer_id": 41586047, "answer_count": 4, "score": 5, "last_activity_date": 1547795596, "creation_date": 1484123363, "question_id": 41585968, "link": "https://stackoverflow.com/questions/41585968/check-if-not-completed-observable-is-empty", "title": "check if not completed Observable is empty", "body": "<p>Is there a good way to check if not completed Observable is empty at that exact time?</p>\n\n<pre><code>let cache = new ReplaySubject&lt;number&gt;(1);\n...\n// Here I want to know if 'cache' still empty or not. And, for example, fill it with initial value.\ncache.isEmpty().subscribe(isEmpty =&gt; {\n    if (isEmpty) {\n        console.log(\"I want to be here!!!\");\n        cache.next(0);\n    }\n});\n// but that code does not work until cache.complete()\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "wai-aria", "nvda"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 3906485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271644e57741a0444c1fd52df9d144a8?s=128&d=identicon&r=PG&f=1", "display_name": "martini449", "link": "https://stackoverflow.com/users/3906485/martini449"}, "is_accepted": true, "score": 4, "last_activity_date": 1484127043, "creation_date": 1484127043, "answer_id": 41587100, "question_id": 41585805, "link": "https://stackoverflow.com/questions/41585805/nvda-ignores-angular-ngif-blocks-with-role-alert/41587100#41587100", "title": "NVDA ignores angular *ngIf blocks with role=&quot;alert&quot;", "body": "<p>It seems that adding aria-live like this</p>\n\n<pre><code>   &lt;div aria-live=\"assertive\"&gt;\n    &lt;div role=\"alert\" class=\"validation\" *ngIf=\"model.hasErrors()\"&gt;\n        &lt;div *ngFor=\"let message of model.errors\"&gt;{{message}}&lt;/div&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p>allows the reader to register changes.</p>\n"}], "owner": {"reputation": 86, "user_id": 3906485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271644e57741a0444c1fd52df9d144a8?s=128&d=identicon&r=PG&f=1", "display_name": "martini449", "link": "https://stackoverflow.com/users/3906485/martini449"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 41587100, "answer_count": 1, "score": 2, "last_activity_date": 1484127043, "creation_date": 1484122701, "last_edit_date": 1484124674, "question_id": 41585805, "link": "https://stackoverflow.com/questions/41585805/nvda-ignores-angular-ngif-blocks-with-role-alert", "title": "NVDA ignores angular *ngIf blocks with role=&quot;alert&quot;", "body": "<p>My aim is to give the user information about errors in inputs. I am able to do that without angular with this example. I also managed to recreate the following example with using \"innerHTML\" attribute but it also didn't work with NVDA, in short it just appends a node to body when error occures </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;meta http-equiv=\"content-type\" content=\"text/html; charset=windows-1252\"&gt;\n&lt;title&gt;Contact form (WAI-ARIA)&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\n  function removeOldAlert()\n  {\n    var oldAlert = document.getElementById(\"alert\");\n    if (oldAlert)\n      document.getElementById(\"error\").removeChild(oldAlert);\n  }\n\n  function addAlert(aMsg)\n  {\n    removeOldAlert();\n    var newAlert = document.createElement(\"div\");\n    newAlert.setAttribute(\"role\", \"alert\");\n    newAlert.setAttribute(\"id\", \"alert\");\n    var msg = document.createTextNode(aMsg);\n    newAlert.appendChild(msg);\n    document.getElementById(\"error\").appendChild(newAlert);\n  }\n\n  function checkEntryValidity(aID, aSearchTerm, aMsg)\n  {\n    var elem = document.getElementById(aID);\n    var invalid = (elem.value.indexOf(aSearchTerm) &lt; 0);\n    if (invalid) {\n      elem.setAttribute(\"aria-invalid\", \"true\");\n      addAlert(aMsg);\n    } else {\n      elem.setAttribute(\"aria-invalid\", \"false\");\n      removeOldAlert();\n    }\n  }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=\"post\" action=\"post.php\"&gt;\n&lt;fieldset&gt;&lt;legend&gt;Please enter your contact details&lt;/legend&gt;\n&lt;label for=\"name\"&gt;Your name (required):&lt;/label&gt;\n&lt;input name=\"name\" id=\"name\" aria-required=\"true\" onblur=\"checkEntryValidity('name', ' ', 'Invalid name entered!');\" aria-invalid=\"true\" value=\"\"&gt;&lt;br&gt;\n&lt;label for=\"email\"&gt;E-Mail address (required):&lt;/label&gt;\n&lt;input name=\"email\" id=\"email\" aria-required=\"true\" onblur=\"checkEntryValidity('email', '@', 'Invalid e-mail address');\" aria-invalid=\"true\" value=\"\"&gt;&lt;br&gt;\n&lt;label for=\"website\"&gt;Website (optional):&lt;/label&gt;\n&lt;input name=\"website\" id=\"website\" value=\"\"&gt;\n&lt;/fieldset&gt;\n&lt;label for=\"message\"&gt;Please enter your message (required):&lt;/label&gt;&lt;br&gt;\n&lt;textarea name=\"message\" id=\"message\" rows=\"5\" cols=\"80\" aria-required=\"true\"&gt;&lt;/textarea&gt;&lt;br&gt;\n&lt;input name=\"submit\" value=\"Send message\" type=\"submit\"&gt;\n&lt;input name=\"reset\" value=\"Reset form\" type=\"reset\"&gt;\n&lt;/form&gt;\n&lt;div id=\"error\"&gt;&lt;/div&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SS19R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SS19R.png\" alt=\"screenshot with working example\"></a>\n(alert Invalid name entered!)</p>\n\n<p>but NVDA ignores this type of alert message </p>\n\n<pre><code>&lt;!-- widget with model binding here --&gt;    \n&lt;div role=\"alert\" class=\"validation\" *ngIf=\"model.hasErrors()\"&gt;\n        &lt;div *ngFor=\"let message of model.errors\"&gt;{{message}}&lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2xKjF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2xKjF.png\" alt=\"screenshot with failure\"></a></p>\n\n<p>I don't know why NVDA doesn't register that content change.</p>\n\n<p>Angular2</p>\n\n<p>I am using Windows 10, Firefox 50.1.0 and NVDA 2016.4.</p>\n"}, {"tags": ["javascript", "rest", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1484122822, "creation_date": 1484122822, "answer_id": 41585824, "question_id": 41585599, "link": "https://stackoverflow.com/questions/41585599/how-to-prepare-the-object-before-request-to-be-compatible-with-the-requirements/41585824#41585824", "title": "How to prepare the object before request to be compatible with the requirements of the service?", "body": "<p>Of course you need to pass the exact number of properties.</p>\n\n<p>Why? Don't pass any data that your service doesn't require. Besides this if an hacker can catch your data, he/she will get only that data, not all data.</p>\n\n<p>Think a case when I need to pass only <code>user's name</code> to my <code>Web Api</code>. But my object contains also the <code>email</code>. Why the hacker need also get the <code>email</code>? With <code>name</code> he can't do anything, but with <code>mail</code> he can do many other things.</p>\n"}], "owner": {"reputation": 1945, "user_id": 6081464, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/9938e5a6e2c5c49c43bfe9ef31c5dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Emerceen", "link": "https://stackoverflow.com/users/6081464/emerceen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484122822, "creation_date": 1484121896, "question_id": 41585599, "link": "https://stackoverflow.com/questions/41585599/how-to-prepare-the-object-before-request-to-be-compatible-with-the-requirements", "title": "How to prepare the object before request to be compatible with the requirements of the service?", "body": "<p>When the service requires an object like in method to change name:</p>\n\n<pre><code>{\n  user: {\n    data: {\n      name: string\n    }\n  }\n}\n</code></pre>\n\n<p>but, I have object like</p>\n\n<pre><code>{\n  user: {\n    age: 18,\n    height: 150,\n    weight: 80\n    data: {\n      name: 'John',\n      surname: 'Juhn'\n    }\n  }\n}\n</code></pre>\n\n<p>How do I prepare for an object to be compatible with service?</p>\n\n<p>remove unwanted properties with a copy of an object in order not to lose data?</p>\n\n<p>eg.</p>\n\n<pre><code>export function removeUnnecessaryProperty(object: Object, ...necessaryKeys: string[]) {\n\n  Object.keys(object).forEach(key =&gt; {\n    if (necessaryKeys.indexOf(key) &lt; 0) { delete object[key]; };\n  });\n}\n\nlet objectToRequest = JSON.parse(JSON.stringify(object));\nremoveUnnecessaryProperty(objectToRequest.data, 'name');\nremoveUnnecessaryProperty(objectToRequest, 'data');\n</code></pre>\n\n<p>create a new object only with the required properties?</p>\n\n<p>eg.</p>\n\n<pre><code>export function createObjectWithProperty(object: Object, ...Keys: string[]) {\n  let newObject: Object = {};\n  Keys.map(key =&gt; {\n    newObject[key] = object[key];\n  });\n  return newObject\n}\nlet objectToRequest = {data: undefined}\nobjectToRequest.data = createObjectWithProperty(object.data, 'name');\n</code></pre>\n\n<p>or send an object with additional properties?</p>\n"}, {"tags": ["typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1484129158, "post_id": 41587841, "comment_id": 70379436, "body": "Hope the answer solves your declaration issue though"}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 0, "last_activity_date": 1484129099, "last_edit_date": 1592644375, "creation_date": 1484129099, "answer_id": 41587841, "question_id": 41585227, "link": "https://stackoverflow.com/questions/41585227/create-typescript-definition-files-with-angular-cli/41587841#41587841", "title": "Create TypeScript definition files with angular-cli", "body": "<p>One issue with your tsconfig is that you cant set <code>es6</code> as module while targetting\n<code>es5</code>.</p>\n<p>Check <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">compiler options here</a></p>\n<p>Try <code>CommonJS</code> in module or <code>es2015</code> as target depending on your project.</p>\n"}], "owner": {"reputation": 4405, "user_id": 2857638, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5IX24.jpg?s=128&g=1", "display_name": "Istv&#225;n", "link": "https://stackoverflow.com/users/2857638/istv%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 708, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1484136138, "creation_date": 1484120429, "last_edit_date": 1484136138, "question_id": 41585227, "link": "https://stackoverflow.com/questions/41585227/create-typescript-definition-files-with-angular-cli", "title": "Create TypeScript definition files with angular-cli", "body": "<p>I want to create TypeScript definition files with angular-cli. In the <code>angular-cli.json</code> there is specified the <code>tsconfig</code> file, but when I modify <code>\"declaration\"</code> to <code>true</code> in the <code>tsconfig.json</code>, it's not working.</p>\n\n<p>My <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"\",\n    \"declaration\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ]\n  }\n}\n</code></pre>\n\n<p><code>angular-cli.json</code>:</p>\n\n<pre><code>{\n  \"project\": {\n    \"version\": \"1.0.0-beta.24\",\n    \"name\": \"app-name\"\n  },\n  \"apps\": [\n    {\n      \"root\": \"src\",\n      \"outDir\": \"dist\",\n      \"assets\": [\n        \"assets\",\n        \"favicon.ico\"\n      ],\n      \"index\": \"index.html\",\n      \"main\": \"main.ts\",\n      \"test\": \"test.ts\",\n      \"tsconfig\": \"tsconfig.json\",\n      \"prefix\": \"app\",\n      \"mobile\": false,\n      \"styles\": [\n        \"styles.scss\",\n        \"../node_modules/font-awesome/css/font-awesome.min.css\",\n        \"assets/fix/ubuntu.css\"\n      ],\n      \"scripts\": [],\n      \"environments\": {\n        \"source\": \"environments/environment.ts\",\n        \"dev\": \"environments/environment.ts\",\n        \"prod\": \"environments/environment.prod.ts\"\n      }\n    }\n  ],\n  \"addons\": [\n    \"../node_modules/font-awesome/fonts/*.+(otf|eot|svg|ttf|woff|woff2)\",\n    \"../node_modules/ubuntu-fontface/fonts/*.+(otf|eot|svg|ttf|woff|woff2)\"\n  ],\n  \"packages\": [],\n  \"e2e\": {\n    \"protractor\": {\n      \"config\": \"./protractor.conf.js\"\n    }\n  },\n  \"test\": {\n    \"karma\": {\n      \"config\": \"./karma.conf.js\"\n    }\n  },\n  \"defaults\": {\n    \"styleExt\": \"sass\",\n    \"prefixInterfaces\": false,\n    \"inline\": {\n      \"style\": false,\n      \"template\": false\n    },\n    \"spec\": {\n      \"class\": false,\n      \"component\": true,\n      \"directive\": true,\n      \"module\": false,\n      \"pipe\": true,\n      \"service\": true\n    }\n  }\n}\n</code></pre>\n\n<p>I also don't got the <code>out-tsc</code> directory. Running <code>ntsc -p</code> I got the definition files, but I want to create with angular-cli.</p>\n"}, {"tags": ["typescript", "webpack", "azure-devops", "azure-pipelines"], "comments": [{"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1484129610, "post_id": 41585094, "comment_id": 70379763, "body": "What&#39;re steps of your build definition? Try to add &quot;tscv&quot;: &quot;tsc --version&quot; to script section, then add npm run step/task to run tscv script and check the version."}, {"owner": {"reputation": 1111, "user_id": 5441093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/qSNNa.jpg?s=128&g=1", "display_name": "cpiock", "link": "https://stackoverflow.com/users/5441093/cpiock"}, "reply_to_user": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1484152126, "post_id": 41585094, "comment_id": 70394672, "body": "it returns me Version 2.1.4"}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1484187034, "post_id": 41585094, "comment_id": 70410370, "body": "What&#39;s the detail build log? Can you share a simple project on the OneDrive, which can reproduce that issue?"}, {"owner": {"reputation": 1111, "user_id": 5441093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/qSNNa.jpg?s=128&g=1", "display_name": "cpiock", "link": "https://stackoverflow.com/users/5441093/cpiock"}, "reply_to_user": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1484225730, "post_id": 41585094, "comment_id": 70428736, "body": "here my log <a href=\"https://1drv.ms/u/s!Ah3R-cbwVaIVi_FS_acGEL4W9PoKWA\" rel=\"nofollow noreferrer\">1drv.ms/u/s!Ah3R-cbwVaIVi_FS_acGEL4W9PoKWA</a>"}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1484273143, "post_id": 41585094, "comment_id": 70453551, "body": "The typescript version in package.json is ^2.0.6, but it returns 2.1.4, did you change typescript version in package.json. Try to use  &quot;typescript&quot;: &quot;2.0.6&quot;,"}, {"owner": {"reputation": 1111, "user_id": 5441093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/qSNNa.jpg?s=128&g=1", "display_name": "cpiock", "link": "https://stackoverflow.com/users/5441093/cpiock"}, "reply_to_user": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1484299369, "post_id": 41585094, "comment_id": 70462196, "body": "great. this works thanks"}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1484300427, "post_id": 41585094, "comment_id": 70462858, "body": "Great, I post an answer, you can mark it answer."}], "answers": [{"tags": [], "owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1484300386, "last_edit_date": 1484300386, "creation_date": 1484272672, "answer_id": 41626244, "question_id": 41585094, "link": "https://stackoverflow.com/questions/41585094/webpack-prod-script-failed-on-visual-studio-online-build/41626244#41626244", "title": "Webpack Prod script failed on Visual Studio Online Build", "body": "<p>Use \"typescript\":\"2.0.6\" instead.</p>\n"}], "owner": {"reputation": 1111, "user_id": 5441093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/qSNNa.jpg?s=128&g=1", "display_name": "cpiock", "link": "https://stackoverflow.com/users/5441093/cpiock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 41626244, "answer_count": 1, "score": 0, "last_activity_date": 1484300386, "creation_date": 1484119932, "last_edit_date": 1484152862, "question_id": 41585094, "link": "https://stackoverflow.com/questions/41585094/webpack-prod-script-failed-on-visual-studio-online-build", "title": "Webpack Prod script failed on Visual Studio Online Build", "body": "<p>I run npm run build:prod in my vNext Build on Visual Studio Online and it gives me the followin error.</p>\n\n<pre><code>ERROR in ./main.browser.ts\nModule build failed: TypeError: Cannot read property 'exclude' of undefined\n</code></pre>\n\n<p>If i run the same script locally works fine. I used TypeScript 2.0.6 maybe this is the probleme? Because i just must add Typescript via nuget to my Visual Studio Project.\nHere my package.json:</p>\n\n<pre><code>{\n  \"name\": \"myProject\",\n  \"version\": \"1.0.0\",\n  \"scripts\": {\n    \"build:dev\": \"webpack --config config/webpack.dev.js --progress --profile\",\n    \"build:docker\": \"npm run build:prod &amp;&amp; docker build -t angular2-webpack-start:latest .\",\n    \"build:prod\": \"webpack --config config/webpack.prod.js  --progress --profile --bail\",\n    \"build\": \"npm run build:dev\",\n    \"ci\": \"npm run lint &amp;&amp; npm test &amp;&amp; npm run e2e\",\n    \"clean:dist\": \"npm run rimraf -- dist\",\n    \"clean:install\": \"npm set progress=false &amp;&amp; npm install\",\n    \"clean:start\": \"npm start\",\n    \"clean\": \"npm cache clean &amp;&amp; npm run rimraf -- node_modules doc coverage dist\",\n    \"docker\": \"docker\",\n    \"docs\": \"npm run typedoc -- --options typedoc.json --exclude '**/*.spec.ts' ./src/\",\n    \"e2e:live\": \"npm run e2e -- --elementExplorer\",\n    \"e2e\": \"npm run protractor\",\n    \"github-deploy:dev\": \"webpack --config config/webpack.github-deploy.js --progress --profile --github-dev\",\n    \"github-deploy:prod\": \"webpack --config config/webpack.github-deploy.js --progress --profile --github-prod\",\n    \"github-deploy\": \"npm run github-deploy:dev\",\n    \"lint\": \"npm run tslint \\\"src/**/*.ts\\\"\",\n    \"postversion\": \"git push &amp;&amp; git push --tags\",\n    \"prebuild:dev\": \"npm run clean:dist\",\n    \"prebuild:prod\": \"npm run clean:dist\",\n    \"preclean:install\": \"npm run clean\",\n    \"preclean:start\": \"npm run clean\",\n    \"pree2e\": \"npm run webdriver:update -- --standalone\",\n    \"preversion\": \"npm test\",\n    \"protractor\": \"protractor\",\n    \"rimraf\": \"rimraf\",\n    \"server:dev:hmr\": \"npm run server:dev -- --inline --hot\",\n    \"server:dev\": \"webpack-dev-server --config config/webpack.dev.js --progress --profile --watch --content-base src/\",\n    \"server:prod\": \"http-server dist --cors\",\n    \"server\": \"npm run server:dev\",\n    \"start:hmr\": \"npm run server:dev:hmr\",\n    \"start\": \"npm run server:dev\",\n    \"test\": \"karma start\",\n    \"tslint\": \"tslint\",\n    \"typedoc\": \"typedoc\",\n    \"version\": \"npm run build\",\n    \"watch:dev:hmr\": \"npm run watch:dev -- --hot\",\n    \"watch:dev\": \"npm run build:dev -- --watch\",\n    \"watch:prod\": \"npm run build:prod -- --watch\",\n    \"watch:test\": \"npm run test -- --auto-watch --no-single-run\",\n    \"watch\": \"npm run watch:dev\",\n    \"webdriver-manager\": \"webdriver-manager\",\n    \"webdriver:start\": \"npm run webdriver-manager start\",\n    \"webdriver:update\": \"npm run webdriver-manager update\",\n    \"webpack-dev-server\": \"webpack-dev-server\",\n    \"webpack\": \"webpack\"\n  },\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@angular/common\": \"~2.1.0\",\n    \"@angular/compiler\": \"~2.1.0\",\n    \"@angular/core\": \"~2.1.0\",\n    \"@angular/forms\": \"~2.1.0\",\n    \"@angular/http\": \"~2.1.0\",\n    \"@angular/platform-browser\": \"~2.1.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.1.0\",\n    \"@angular/router\": \"~3.1.0\",\n    \"@angular/upgrade\": \"~2.1.0\",\n    \"@angularclass/conventions-loader\": \"^1.0.2\",\n    \"@angularclass/hmr\": \"~1.2.0\",\n    \"@angularclass/hmr-loader\": \"~3.0.2\",\n    \"assets-webpack-plugin\": \"^3.4.0\",\n    \"bootstrap\": \"^3.3.7\",\n    \"core-js\": \"^2.4.1\",\n    \"http-server\": \"^0.9.0\",\n    \"ie-shim\": \"^0.1.0\",\n    \"jquery\": \"^2.2.3\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"zone.js\": \"^0.6.25\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"^3.0.0\",\n    \"lite-server\": \"^2.2.2\",\n    \"@types/hammerjs\": \"^2.0.33\",\n    \"@types/jasmine\": \"^2.2.34\",\n    \"@types/node\": \"^6.0.38\",\n    \"@types/protractor\": \"^1.5.20\",\n    \"@types/selenium-webdriver\": \"2.44.29\",\n    \"@types/source-map\": \"^0.1.27\",\n    \"@types/uglify-js\": \"^2.0.27\",\n    \"@types/webpack\": \"^1.12.34\",\n    \"angular2-template-loader\": \"^0.5.0\",\n    \"awesome-typescript-loader\": \"^2.2.1\",\n    \"codelyzer\": \"~1.0.0-beta.2\",\n    \"copy-webpack-plugin\": \"^4.0.0\",\n    \"css-loader\": \"^0.25.0\",\n    \"exports-loader\": \"^0.6.3\",\n    \"expose-loader\": \"^0.7.1\",\n    \"file-loader\": \"^0.9.0\",\n    \"gh-pages\": \"^0.11.0\",\n    \"html-webpack-plugin\": \"^2.21.0\",\n    \"imports-loader\": \"^0.6.5\",\n    \"istanbul-instrumenter-loader\": \"^1.0.0\",\n    \"json-loader\": \"^0.5.4\",\n    \"karma\": \"^1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-coverage\": \"^1.1.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-mocha-reporter\": \"^2.0.0\",\n    \"karma-remap-coverage\": \"^0.1.1\",\n    \"karma-sourcemap-loader\": \"^0.3.7\",\n    \"karma-webpack\": \"1.8.0\",\n    \"parse5\": \"^2.2.2\",\n    \"protractor\": \"^4.0.9\",\n    \"raw-loader\": \"0.5.1\",\n    \"rimraf\": \"^2.5.2\",\n    \"script-ext-html-webpack-plugin\": \"^1.3.2\",\n    \"source-map-loader\": \"^0.1.5\",\n    \"string-replace-loader\": \"1.0.5\",\n    \"style-loader\": \"^0.13.1\",\n    \"to-string-loader\": \"^1.1.4\",\n    \"ts-helpers\": \"1.1.2\",\n    \"ts-node\": \"^1.3.0\",\n    \"tslint\": \"^4.0.0-dev.0\",\n    \"tslint-loader\": \"^2.1.3\",\n    \"typedoc\": \"^0.5.0\",\n    \"typescript\": \"^2.0.6\",\n    \"url-loader\": \"^0.5.7\",\n    \"webpack\": \"2.1.0-beta.25\",\n    \"webpack-dev-middleware\": \"^1.6.1\",\n    \"webpack-dev-server\": \"^2.1.0-beta.9\",\n    \"webpack-md5-hash\": \"^0.0.5\",\n    \"webpack-merge\": \"^0.15.0\"\n  }\n}\n</code></pre>\n\n<p><strong>UPDATE 1: My build steps</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/TpawQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TpawQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["sharepoint", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 776, "user_id": 1355994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcfea6efb5d803a83db9dfc9ab6cdeb1?s=128&d=identicon&r=PG&f=1", "display_name": "nizzik", "link": "https://stackoverflow.com/users/1355994/nizzik"}, "is_accepted": false, "score": 0, "last_activity_date": 1484241066, "last_edit_date": 1484241066, "creation_date": 1484240684, "answer_id": 41618994, "question_id": 41584891, "link": "https://stackoverflow.com/questions/41584891/cant-retrieve-items-from-sharepoint-list/41618994#41618994", "title": "cant retrieve items from sharepoint list", "body": "<p>If you don't request for strictly <code>JSON</code> data SharePoint REST API will give you XML data (same data as your browser) thus making your</p>\n\n<pre><code>this.tweetsdata = res.json()\n</code></pre>\n\n<p>line to fail. Try changing your service constructor and method to</p>\n\n<pre><code>import {Http, Response, Headers} from '@angular/http';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport {Injectable}  from '@angular/core';\n\n@Injectable()\nexport class dService {\n    private headers: Headers;\n\n    constructor(private http_: Http){\n          this.headers = new Headers();\n          this.headers.append('Content-Type', 'application/json');\n          this.headers.append('Accept', 'application/json;odata=verbose');\n    }\n\n    getAnnouncements(urllapi){\n        return this.http_.get(urllapi, {headers: this.headers}).map(res=&gt;res.json());\n    }\n}\n</code></pre>\n\n<p>Let me know if that helps.</p>\n"}], "owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484241066, "creation_date": 1484119208, "question_id": 41584891, "link": "https://stackoverflow.com/questions/41584891/cant-retrieve-items-from-sharepoint-list", "title": "cant retrieve items from sharepoint list", "body": "<p>I am able see items in browser If I use it in browser. I use same url within service below, and there is no response, if I change url with some global api url for exp: \"<a href=\"https://api.spotify.com/v1/search?type=artist&amp;q=\" rel=\"nofollow noreferrer\">https://api.spotify.com/v1/search?type=artist&amp;q=</a>\" it works as I expected. so actually service works also.   </p>\n\n<p>It means my problem about sharepoint list api, it requires some specific parameters, but cant figure it out what I did in browser but did not in http request in that service.</p>\n\n<p>api.service:</p>\n\n<pre><code>import {Http} from '@angular/http';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport {Injectable}  from '@angular/core';\n\n@Injectable()\nexport class dService {\n    constructor(private http_: Http){}\n    getAnnouncements(urllapi){\n        return this.http_.get(urllapi).map(res=&gt;res.json());\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>//this.someService.getAnnouncements(\"https://api.spotify.com/v1/search?type=artist&amp;q=\") it works as I expected \nthis.someService.getAnnouncements(\"http://milespoint1:33333/_api/web/lists/getByTitle('Announcement5Jan')/items\").subscribe((res) =&gt; {\n             debugger\n             this.tweetsdata = res.json().data.statuses;\n      this.isLoading=false;\n             console.log(\"spotify service data:\"+res)});\n</code></pre>\n\n<p>browser:\n<a href=\"https://i.stack.imgur.com/SJKXN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SJKXN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 4844, "user_id": 2614988, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/59UP4.gif?s=128&g=1", "display_name": "Tjaart van der Walt", "link": "https://stackoverflow.com/users/2614988/tjaart-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1484729302, "post_id": 41643209, "comment_id": 70624566, "body": "Can you please create a plunker to show what you explained in your answer?"}, {"owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "reply_to_user": {"reputation": 4844, "user_id": 2614988, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/59UP4.gif?s=128&g=1", "display_name": "Tjaart van der Walt", "link": "https://stackoverflow.com/users/2614988/tjaart-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1484742222, "post_id": 41643209, "comment_id": 70633226, "body": "Actually i used your plunkr. This information is available only in debugger, just add breakpoints to store and retrieve. You have to enable pause on exceptions option in chrome debugger to see why route comparison fails."}, {"owner": {"reputation": 4844, "user_id": 2614988, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/59UP4.gif?s=128&g=1", "display_name": "Tjaart van der Walt", "link": "https://stackoverflow.com/users/2614988/tjaart-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1484742297, "post_id": 41643209, "comment_id": 70633275, "body": "I did debug the code ,  and the route that was requestes was the route that was stored."}, {"owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "reply_to_user": {"reputation": 4844, "user_id": 2614988, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/59UP4.gif?s=128&g=1", "display_name": "Tjaart van der Walt", "link": "https://stackoverflow.com/users/2614988/tjaart-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1484742889, "post_id": 41643209, "comment_id": 70633690, "body": "yes, but as i wrote above, stored route (view) gets overwritten with edit route just before retrieve, both this routes will have the same path, but does not mean that they are the same, try expanding routeConfig property in debugger during first store and last retrieve for path <code>person&#47;:id</code>."}, {"owner": {"reputation": 4844, "user_id": 2614988, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/59UP4.gif?s=128&g=1", "display_name": "Tjaart van der Walt", "link": "https://stackoverflow.com/users/2614988/tjaart-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1484804146, "post_id": 41643209, "comment_id": 70662906, "body": "Can you please contribute to this thread <a href=\"https://github.com/angular/angular/issues/13869\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/13869</a>"}, {"owner": {"reputation": 2884, "user_id": 6335994, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3a9470291d89394a2af372f0db5760a?s=128&d=identicon&r=PG&f=1", "display_name": "Corbfon", "link": "https://stackoverflow.com/users/6335994/corbfon"}, "edited": false, "score": 1, "creation_date": 1485440338, "post_id": 41643209, "comment_id": 70932633, "body": "@kemsky could you suggest a better key to use in order to avoid this issue with child routes?"}, {"owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "edited": false, "score": 0, "creation_date": 1485440442, "post_id": 41643209, "comment_id": 70932719, "body": "it looks like you have to combine routeConfig.path with child routeConfig.paths. I&#39;m not sure if it will work with multiple outlets."}], "tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1484341820, "last_edit_date": 1484341820, "creation_date": 1484340568, "answer_id": 41643209, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route/41643209#41643209", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>Angular router is unnecessarily complex and custom strategies continue this trend.</p>\n\n<p>Your custom strategy uses <code>route.routerConfig.path</code> as a key for stored routes.</p>\n\n<p>It stores (overwrites) two different routes for the same path <code>person/:id</code>: </p>\n\n<ol>\n<li><code>/person/%23123456789%23/edit</code></li>\n<li><code>/person/%23123456789%23/view</code></li>\n</ol>\n\n<p>First time view route was stored, second time edit, when you open view again last stored route is edit, but view is expected. </p>\n\n<p>This routes are not compatible according to router opinion, it checks nodes recursively and finds out that <code>routerConfig</code> for <code>ViewPersonComponent</code> is not the same as <code>routerConfig</code> for <code>EditPersonComponent</code>, boom! </p>\n\n<p>So either <code>routerConfig.path</code> must not be used as a key or it is router design problem/limitation.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 1607287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a175020a0d696d918402bf62acf9db6?s=128&d=identicon&r=PG", "display_name": "IveMadeAHugeMistake", "link": "https://stackoverflow.com/users/1607287/ivemadeahugemistake"}, "is_accepted": false, "score": 4, "last_activity_date": 1492023747, "last_edit_date": 1492023747, "creation_date": 1490992224, "answer_id": 43149188, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route/43149188#43149188", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>I added a workaround to never retrieve detached routes when on a route with loadChildren by modifying my retrieve function in the custom RouteReuseStrategy.</p>\n\n<pre><code>    retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n       if (!route.routeConfig) return null;\n       if(route.routeConfig.loadChildren) return null;\n       return this.handlers[route.routeConfig.path];\n    }\n</code></pre>\n\n<p>I'm not sure it is a perfect solution for all scenarios but in my case it works.</p>\n"}, {"comments": [{"owner": {"reputation": 5298, "user_id": 692560, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/H4sk0.png?s=128&g=1", "display_name": "Thor84no", "link": "https://stackoverflow.com/users/692560/thor84no"}, "edited": false, "score": 0, "creation_date": 1610638357, "post_id": 47295591, "comment_id": 116200994, "body": "Seems a very weird approach to traverse the hierarchy to find the deepest child only to traverse it the other direction, then reversing the array of segments. You could just generate it on the first pass."}, {"owner": {"reputation": 1010, "user_id": 1094673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/765cc49efa6c5b256240fa5d75f539ef?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/1094673/bob"}, "edited": false, "score": 0, "creation_date": 1614988937, "post_id": 47295591, "comment_id": 117562568, "body": "The compact() function is clearly not canon."}], "tags": [], "owner": {"reputation": 224, "user_id": 2042608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50df38818a4e3ca8d5639e50ab21322a?s=128&d=identicon&r=PG", "display_name": "barbatus", "link": "https://stackoverflow.com/users/2042608/barbatus"}, "is_accepted": false, "score": 2, "last_activity_date": 1510773704, "last_edit_date": 1510773704, "creation_date": 1510695201, "answer_id": 47295591, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route/47295591#47295591", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>Here is a way to generate unique keys for routes in the strategy class.\nI had similar problem but once i started generating unique keys the problem disappeared:</p>\n\n<pre><code>private takeFullUrl(route: ActivatedRouteSnapshot) {\n  let next = route;\n  // Since navigation is usually relative\n  // we go down to find out the child to be shown.\n  while (next.firstChild) {\n    next = next.firstChild;\n  }\n  const segments = [];\n  // Then build a unique key-path by going to the root.\n  while (next) {\n    segments.push(next.url.join('/'));\n    next = next.parent;\n  }\n  return compact(segments.reverse()).join('/');\n}\n</code></pre>\n\n<p>More on that <a href=\"https://github.com/angular/angular/issues/13869#issuecomment-344403045\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/13869#issuecomment-344403045</a></p>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 3203348, "user_type": "registered", "profile_image": "https://graph.facebook.com/9012849/picture?type=large", "display_name": "user3203348", "link": "https://stackoverflow.com/users/3203348/user3203348"}, "edited": false, "score": 0, "creation_date": 1566420909, "post_id": 51506463, "comment_id": 101655355, "body": "This did the trick for me. The inclusion of the component name seems to be what i was missing to ensure a unique key that will prevent an erroneous overwrite. Thanks for sharing!"}], "tags": [], "owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "is_accepted": false, "score": 1, "last_activity_date": 1532461600, "creation_date": 1532461600, "answer_id": 51506463, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route/51506463#51506463", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>I ran into a similar problem and modifying my unique key method solved it.</p>\n\n<pre><code>private routeToUrl(route: ActivatedRouteSnapshot): string {\n    if (route.url) {\n        if (route.url.length) {\n            return route.url.join('/');\n        } else {\n            if (typeof route.component === 'function') {\n                return `[${route.component.name}]`;\n            } else if (typeof route.component === 'string') {\n                return `[${route.component}]`;\n            } else {\n                return `[null]`;\n            }\n        }\n    } else {\n        return '(null)';\n    }\n}\n\n\nprivate getChildRouteKeys(route:ActivatedRouteSnapshot): string {\n    let  url = this.routeToUrl(route);\n    return route.children.reduce((fin, cr) =&gt; fin += this.getChildRouteKeys(cr), url);\n}\n\nprivate getRouteKey(route: ActivatedRouteSnapshot) {\n    let url = route.pathFromRoot.map(it =&gt; this.routeToUrl(it)).join('/') + '*';\n    url += route.children.map(cr =&gt; this.getChildRouteKeys(cr));\n    return url;\n}\n</code></pre>\n\n<p>Previously I only built off the first child, now I just recursively build my key off all children.  I did not write the routeToUrl function, I got it from an article I read on custom reuse strategies a while back and it is unmodified.</p>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 8576254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uNuiL.png?s=128&g=1", "display_name": "Husam Zidan", "link": "https://stackoverflow.com/users/8576254/husam-zidan"}, "is_accepted": false, "score": 0, "last_activity_date": 1550320089, "creation_date": 1550320089, "answer_id": 54723071, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route/54723071#54723071", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>In my case I need to check the route.routeConfig.children also in retrieve method:</p>\n\n<pre><code>retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n   if (!route.routeConfig) return null;\n   if (route.routeConfig.loadChildren || route.routeConfig.children ) return null;\n   return this.handlers[route.routeConfig.path];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29443, "user_id": 1087131, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c31ac7189e69fc6ccef80303cc8edfa0?s=128&d=identicon&r=PG", "display_name": "Stephen Paul", "link": "https://stackoverflow.com/users/1087131/stephen-paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1571932460, "creation_date": 1571932460, "answer_id": 58545005, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route/58545005#58545005", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>I just resolved this within my app which includes lazy-loaded modules. Eventually I had to settle with a route-re-use strategy which preserved routed components <strong>within</strong> a module, but not <strong>between</strong> modules.</p>\n\n<pre><code>import { ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy } from '@angular/router';\n\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n\n  handlers: { [key: string]: DetachedRouteHandle } = {};\n\n  calcKey(route: ActivatedRouteSnapshot) {\n    return route.pathFromRoot\n      .map(v =&gt; v.url.map(segment =&gt; segment.toString()).join('/'))\n      .filter(url =&gt; !!url)\n      .join('/');\n  }\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    return true;\n  }\n\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    this.handlers[this.calcKey(route)] = handle;\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    return !!route.routeConfig &amp;&amp; !!this.handlers[this.calcKey(route)];\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    if (!route.routeConfig) { return null as any; }\n    if (route.routeConfig.loadChildren) {\n      Object.keys(this.handlers).forEach(key =&gt; delete this.handlers[key]);\n      return null as any;\n    }\n    return this.handlers[this.calcKey(route)];\n  }\n\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    return this.calcKey(curr) === this.calcKey(future);\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 9009654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6B9VS.jpg?s=128&g=1", "display_name": "Hamidreza Hanifi", "link": "https://stackoverflow.com/users/9009654/hamidreza-hanifi"}, "is_accepted": false, "score": 0, "last_activity_date": 1613376861, "creation_date": 1613376861, "answer_id": 66204592, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route/66204592#66204592", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>Had the same issue tried different solutions and this is what worked for me:</p>\n<pre><code>import { RouteReuseStrategy} from &quot;@angular/router/&quot;;\nimport { ActivatedRouteSnapshot, DetachedRouteHandle } from &quot;@angular/router&quot;;\n\ninterface RouteStorageObject {\n  snapshot: ActivatedRouteSnapshot;\n  handle: DetachedRouteHandle;\n}\n\nexport class CacheRouteReuseStrategy implements RouteReuseStrategy {\n  storedRouteHandles = new Map&lt;string, DetachedRouteHandle&gt;();\n  allowRetriveCache = {};\n  storedRoutes: { [key: string]: RouteStorageObject } = {};\n\n  shouldReuseRoute( before: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot):boolean {\n   return before.routeConfig === curr.routeConfig;\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle | null {\n    if (!route.routeConfig || !this.storedRoutes[this.getPath(route)] ) return null as any;\n    if (route.routeConfig.loadChildren) {\n       Object.keys(this.storedRoutes).forEach(key =&gt; delete this.storedRoutes[key]);\n       return null as any;\n    }\n    return this.storedRoutes[this.getPath(route)].handle;\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    let canAttach: boolean = !!route.routeConfig &amp;&amp; !!this.storedRoutes[this.getPath(route)];\n    if (canAttach) {\n       let paramsMatch: boolean = this.compareObjects(route.params, this.storedRoutes[this.getPath(route)].snapshot.params);\n       let queryParamsMatch: boolean = this.compareObjects(route.queryParams, this.storedRoutes[this.getPath(route)].snapshot.queryParams);\n\n       return paramsMatch &amp;&amp; queryParamsMatch;\n    } else {\n       return false;\n    }\n  }\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    return true\n  }\n\n  store(route: ActivatedRouteSnapshot, detachedTree: DetachedRouteHandle): void {\n     let storedRoute: RouteStorageObject = {\n        snapshot: route,\n        handle: detachedTree\n     };\n     if ( detachedTree != null ){\n      this.storedRoutes[this.getPath(route)] = storedRoute;\n     }\n  }\n\n  private getPath(route: ActivatedRouteSnapshot): string {\n      return route.pathFromRoot\n       .map(v =&gt; v.url.map(segment =&gt; segment.toString()).join('/'))\n       .filter(url =&gt; !!url)\n       .join('/');\n  }\n\n   private compareObjects(base: any, compare: any): boolean {\n      // loop through all properties in base object\n      for (let baseProperty in base) {\n\n        // determine if comparrison object has that property, if not: return false\n        if (compare.hasOwnProperty(baseProperty)) {\n        switch(typeof base[baseProperty]) {\n            // if one is object and other is not: return false\n            // if they are both objects, recursively call this comparison function\n            case 'object':\n                if ( typeof compare[baseProperty] !== 'object' || !this.compareObjects(base[baseProperty], compare[baseProperty]) ) { return false; } break;\n            // if one is function and other is not: return false\n            // if both are functions, compare function.toString() results\n            case 'function':\n                if ( typeof compare[baseProperty] !== 'function' || base[baseProperty].toString() !== compare[baseProperty].toString() ) { return false; } break;\n            // otherwise, see if they are equal using coercive comparison\n            default:\n                if ( base[baseProperty] != compare[baseProperty] ) { return false; }\n          }\n        } else {\n        return false;\n        }\n    }\n\n   // returns true only after false HAS NOT BEEN returned through all loops\n   return true;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 4844, "user_id": 2614988, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/59UP4.gif?s=128&g=1", "display_name": "Tjaart van der Walt", "link": "https://stackoverflow.com/users/2614988/tjaart-van-der-walt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6984, "favorite_count": 5, "answer_count": 7, "score": 24, "last_activity_date": 1613376861, "creation_date": 1484118280, "last_edit_date": 1495541910, "question_id": 41584664, "link": "https://stackoverflow.com/questions/41584664/error-cannot-reattach-activatedroutesnapshot-created-from-a-different-route", "title": "Error: Cannot reattach ActivatedRouteSnapshot created from a different route", "body": "<p>I am trying to implement the <code>RouteReuseStrategy</code> class. It works fine when I navigate to top level paths.</p>\n\n<p>As soon as a path has child paths and I navigate to the child path, then navigate back to a top level path I receive the following error:</p>\n\n<blockquote>\n  <p>Error: Uncaught (in promise): Error: Cannot reattach ActivatedRouteSnapshot created from a different route</p>\n</blockquote>\n\n<p>I have created a <a href=\"https://plnkr.co/edit/GuQuWnW2GsfnBOVyWQRh?p=preview\" rel=\"noreferrer\">plunker</a> to demonstrate the error. I see the plunker does not work in IE 11, please view it in the latest version of <strong>Chrome</strong></p>\n\n<p>Steps to reproduce the error:</p>\n\n<p><strong>Step1:</strong>\n<a href=\"https://i.stack.imgur.com/Q6kWd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q6kWd.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Step2</strong>\n<a href=\"https://i.stack.imgur.com/BX0rV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BX0rV.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Step3</strong>\n<a href=\"https://i.stack.imgur.com/4m9Rj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4m9Rj.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Step4</strong>\n<a href=\"https://i.stack.imgur.com/cKZax.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cKZax.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can view the error in the console:\n<a href=\"https://i.stack.imgur.com/syVma.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/syVma.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried the implementation found on this <a href=\"https://www.softwarearchitekt.at/post/2016/12/02/sticky-routes-in-angular-2-3-with-routereusestrategy.aspx\" rel=\"noreferrer\">article</a></p>\n\n<pre><code>export class CustomReuseStrategy implements RouteReuseStrategy {\n\n    handlers: {[key: string]: DetachedRouteHandle} = {};\n\n    shouldDetach(route: ActivatedRouteSnapshot): boolean {\n        console.debug('CustomReuseStrategy:shouldDetach', route);\n        return true;\n    }\n\n    store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n        console.debug('CustomReuseStrategy:store', route, handle);\n        this.handlers[route.routeConfig.path] = handle;\n    }\n\n    shouldAttach(route: ActivatedRouteSnapshot): boolean {\n        console.debug('CustomReuseStrategy:shouldAttach', route);\n        return !!route.routeConfig &amp;&amp; !!this.handlers[route.routeConfig.path];\n    }\n\n    retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n        console.debug('CustomReuseStrategy:retrieve', route);\n        if (!route.routeConfig) return null;\n        return this.handlers[route.routeConfig.path];\n    }\n\n    shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n        console.debug('CustomReuseStrategy:shouldReuseRoute', future, curr);\n        return future.routeConfig === curr.routeConfig;\n    }\n\n}\n</code></pre>\n\n<p>And the implementation of this stackoverflow <a href=\"https://stackoverflow.com/questions/41280471/how-to-implement-routereusestrategy-shoulddetach-for-specific-routes-in-angular#answer-41515648\">answer</a></p>\n\n<pre><code>/**\n * reuse-strategy.ts\n * by corbfon 1/6/17\n */\n\nimport { ActivatedRouteSnapshot, RouteReuseStrategy, DetachedRouteHandle } from '@angular/router';\n\n/** Interface for object which can store both: \n * An ActivatedRouteSnapshot, which is useful for determining whether or not you should attach a route (see this.shouldAttach)\n * A DetachedRouteHandle, which is offered up by this.retrieve, in the case that you do want to attach the stored route\n */\ninterface RouteStorageObject {\n    snapshot: ActivatedRouteSnapshot;\n    handle: DetachedRouteHandle;\n}\n\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n\n    /** \n     * Object which will store RouteStorageObjects indexed by keys\n     * The keys will all be a path (as in route.routeConfig.path)\n     * This allows us to see if we've got a route stored for the requested path\n     */\n    storedRoutes: { [key: string]: RouteStorageObject } = {};\n\n    /** \n     * Decides when the route should be stored\n     * If the route should be stored, I believe the boolean is indicating to a controller whether or not to fire this.store\n     * _When_ it is called though does not particularly matter, just know that this determines whether or not we store the route\n     * An idea of what to do here: check the route.routeConfig.path to see if it is a path you would like to store\n     * @param route This is, at least as I understand it, the route that the user is currently on, and we would like to know if we want to store it\n     * @returns boolean indicating that we want to (true) or do not want to (false) store that route\n     */\n    shouldDetach(route: ActivatedRouteSnapshot): boolean {\n        let detach: boolean = true;\n        console.log(\"detaching\", route, \"return: \", detach);\n        return detach;\n    }\n\n    /**\n     * Constructs object of type `RouteStorageObject` to store, and then stores it for later attachment\n     * @param route This is stored for later comparison to requested routes, see `this.shouldAttach`\n     * @param handle Later to be retrieved by this.retrieve, and offered up to whatever controller is using this class\n     */\n    store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n        let storedRoute: RouteStorageObject = {\n            snapshot: route,\n            handle: handle\n        };\n\n        console.log(\"store:\", storedRoute, \"into: \", this.storedRoutes);\n        // routes are stored by path - the key is the path name, and the handle is stored under it so that you can only ever have one object stored for a single path\n        this.storedRoutes[route.routeConfig.path] = storedRoute;\n    }\n\n    /**\n     * Determines whether or not there is a stored route and, if there is, whether or not it should be rendered in place of requested route\n     * @param route The route the user requested\n     * @returns boolean indicating whether or not to render the stored route\n     */\n    shouldAttach(route: ActivatedRouteSnapshot): boolean {\n\n        // this will be true if the route has been stored before\n        let canAttach: boolean = !!route.routeConfig &amp;&amp; !!this.storedRoutes[route.routeConfig.path];\n\n        // this decides whether the route already stored should be rendered in place of the requested route, and is the return value\n        // at this point we already know that the paths match because the storedResults key is the route.routeConfig.path\n        // so, if the route.params and route.queryParams also match, then we should reuse the component\n        if (canAttach) {\n            let willAttach: boolean = true;\n            console.log(\"param comparison:\");\n            console.log(this.compareObjects(route.params, this.storedRoutes[route.routeConfig.path].snapshot.params));\n            console.log(\"query param comparison\");\n            console.log(this.compareObjects(route.queryParams, this.storedRoutes[route.routeConfig.path].snapshot.queryParams));\n\n            let paramsMatch: boolean = this.compareObjects(route.params, this.storedRoutes[route.routeConfig.path].snapshot.params);\n            let queryParamsMatch: boolean = this.compareObjects(route.queryParams, this.storedRoutes[route.routeConfig.path].snapshot.queryParams);\n\n            console.log(\"deciding to attach...\", route, \"does it match?\", this.storedRoutes[route.routeConfig.path].snapshot, \"return: \", paramsMatch &amp;&amp; queryParamsMatch);\n            return paramsMatch &amp;&amp; queryParamsMatch;\n        } else {\n            return false;\n        }\n    }\n\n    /** \n     * Finds the locally stored instance of the requested route, if it exists, and returns it\n     * @param route New route the user has requested\n     * @returns DetachedRouteHandle object which can be used to render the component\n     */\n    retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n\n        // return null if the path does not have a routerConfig OR if there is no stored route for that routerConfig\n        if (!route.routeConfig || !this.storedRoutes[route.routeConfig.path]) return null;\n        console.log(\"retrieving\", \"return: \", this.storedRoutes[route.routeConfig.path]);\n\n        /** returns handle when the route.routeConfig.path is already stored */\n        return this.storedRoutes[route.routeConfig.path].handle;\n    }\n\n    /** \n     * Determines whether or not the current route should be reused\n     * @param future The route the user is going to, as triggered by the router\n     * @param curr The route the user is currently on\n     * @returns boolean basically indicating true if the user intends to leave the current route\n     */\n    shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n        console.log(\"deciding to reuse\", \"future\", future.routeConfig, \"current\", curr.routeConfig, \"return: \", future.routeConfig === curr.routeConfig);\n        return future.routeConfig === curr.routeConfig;\n    }\n\n    /** \n     * This nasty bugger finds out whether the objects are _traditionally_ equal to each other, like you might assume someone else would have put this function in vanilla JS already\n     * One thing to note is that it uses coercive comparison (==) on properties which both objects have, not strict comparison (===)\n     * @param base The base object which you would like to compare another object to\n     * @param compare The object to compare to base\n     * @returns boolean indicating whether or not the objects have all the same properties and those properties are ==\n     */\n    private compareObjects(base: any, compare: any): boolean {\n\n        // loop through all properties in base object\n        for (let baseProperty in base) {\n\n            // determine if comparrison object has that property, if not: return false\n            if (compare.hasOwnProperty(baseProperty)) {\n                switch (typeof base[baseProperty]) {\n                    // if one is object and other is not: return false\n                    // if they are both objects, recursively call this comparison function\n                    case 'object':\n                        if (typeof compare[baseProperty] !== 'object' || !this.compareObjects(base[baseProperty], compare[baseProperty])) { return false; } break;\n                    // if one is function and other is not: return false\n                    // if both are functions, compare function.toString() results\n                    case 'function':\n                        if (typeof compare[baseProperty] !== 'function' || base[baseProperty].toString() !== compare[baseProperty].toString()) { return false; } break;\n                    // otherwise, see if they are equal using coercive comparison\n                    default:\n                        if (base[baseProperty] != compare[baseProperty]) { return false; }\n                }\n            } else {\n                return false;\n            }\n        }\n\n        // returns true only after false HAS NOT BEEN returned through all loops\n        return true;\n    }\n}\n</code></pre>\n\n<p>Is <code>RouteReuseStrategy</code> ready for child <code>paths</code>? Or is there another way to get <code>RouteReuseStrategy</code> working with paths that contain child <code>paths</code></p>\n"}, {"tags": ["angularjs", "angular", "typescript", "integration"], "answers": [{"comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1484126370, "post_id": 41585545, "comment_id": 70377425, "body": "Shamila. is this what you were looking for?"}, {"owner": {"reputation": 1070, "user_id": 4807443, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/pqVI8.jpg?s=128&g=1", "display_name": "shamila", "link": "https://stackoverflow.com/users/4807443/shamila"}, "edited": false, "score": 0, "creation_date": 1484127549, "post_id": 41585545, "comment_id": 70378305, "body": "Yes. I got the answer Thank you. Changed plunker is as below <a href=\"https://plnkr.co/edit/rQ8QiLVtlo4QK0KNVGPH?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/rQ8QiLVtlo4QK0KNVGPH?p=preview</a>"}], "tags": [], "owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "is_accepted": true, "score": 1, "last_activity_date": 1484126346, "last_edit_date": 1484126346, "creation_date": 1484121654, "answer_id": 41585545, "question_id": 41584409, "link": "https://stackoverflow.com/questions/41584409/change-detection-in-angular-2/41585545#41585545", "title": "Change detection in Angular 2", "body": "<p>I guess you should have a look at the <strong>ngDoCheck</strong> and <strong>OnChanges</strong> lifecycle hooks in Angular2 and $apply in your Angular1.</p>\n\n<p>using $apply your controller is modified as below</p>\n\n<pre><code>var myApp = angular.module(\"hybridExampleApp\", []);\n\n//define as Angular 1 service\nmyApp.service('UserService', UserService);\n\nmyApp.controller('MainController', function ($scope, UserService) {\n\n   $scope.$watch('username',function(){\n        $scope.setUser();\n     });\n    $scope.getUsers = function () {\n        UserService.setUser($scope.username);\n        window.location = './angular2.html'\n    };\n\n    $scope.setUser = function () {\n        UserService.setUser($scope.username);\n        $scope.user = $scope.username;\n    };\n\n    $scope.getUser = function () {\n        $scope.user = UserService.getUser();\n    };\n});\n</code></pre>\n\n<p>Using ngDoCheck your <strong>user.section.component.ts</strong> is modified as below</p>\n\n<pre><code>import {Component, Inject,ChangeDetectionStrategy,ngDoCheck,ngOnChanges} from 'angular2/core';\n\n@Component({\n    selector: 'user-section',\n    templateUrl: './src/ng2-component/user.section.tpl.html',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UserSection implements ngDoCheck, ngOnChanges{\n\n  username123:number;\n\nconstructor(@Inject('UserService') userService:UserService) {\n        this.users = [];\n        this.username = '';\n\n        this.user=0;\n        this._UserService = userService;\n    }\n    ngOnChanges(){\n      console.log('adfkjna');\n\n    }\n\n    getUsers():void{\n        this.users = this._UserService.getUsers();\n    } \n\n    setUser():void{\n        this._UserService.setUser(this.username);\n    }\n\n    getUser():void{ \n        this.user = this._UserService.getUser();\n    }\n     ngDoCheck(){\n\n    this.user = this._UserService.getUser();\n     this.getUser();\n    console.log(this.user);\n\n    }\n}\n</code></pre>\n\n<p>My code is completely <strong>logging</strong> the username changes in angular 1, but I can't figure why is it not binding it to the <strong>UI</strong>.</p>\n\n<p><strong><a href=\"https://plnkr.co/edit/rQ8QiLVtlo4QK0KNVGPH?p=preview\" rel=\"nofollow noreferrer\">LIVE DEMO</a></strong> of your updated plunker.</p>\n"}], "owner": {"reputation": 1070, "user_id": 4807443, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/pqVI8.jpg?s=128&g=1", "display_name": "shamila", "link": "https://stackoverflow.com/users/4807443/shamila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 41585545, "answer_count": 1, "score": 0, "last_activity_date": 1486635982, "creation_date": 1484117253, "last_edit_date": 1486635982, "question_id": 41584409, "link": "https://stackoverflow.com/questions/41584409/change-detection-in-angular-2", "title": "Change detection in Angular 2", "body": "<p>I am integrating angular 1 and angular 2 together. Therefore I have angular 1 controller and service and angular 2 component. Those are working fine for data retrieving and storing vice versa. Below is my html page.</p>\n\n<pre><code>&lt;body&gt;\n&lt;h3&gt;Angular 1 service&lt;/h3&gt;\n&lt;div ng-controller=\"MainController\"&gt;\n    &lt;input ng-model=\"username\" /&gt;\n    &lt;button ng-click=\"setUser()\"&gt;Set User&lt;/button&gt;\n    &lt;button ng-click=\"getUser()\"&gt;Get User&lt;/button&gt;\n    &lt;div&gt;User in service : {{user}}&lt;/div&gt;\n&lt;/div&gt;\n&lt;hr&gt;\n&lt;h3&gt;Angular 2 component uses Angular 1 service&lt;/h3&gt;\n&lt;user-section&gt;&lt;/user-section&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The controller is as below,</p>\n\n<pre><code>myApp.controller('MainController', function ($scope, UserService) {\n    $scope.getUsers = function () {\n        UserService.setUser($scope.username);\n        window.location = './angular2.html'\n    };\n\n    $scope.setUser = function () {\n        UserService.setUser($scope.username);\n        $scope.user = $scope.username;\n    };\n\n    $scope.getUser = function () {\n        $scope.user = UserService.getUser();\n    };\n});\n</code></pre>\n\n<p>The service is as below,</p>\n\n<pre><code>function UserService(){\n    this.user = \"default\";\n}\n\nUserService.prototype.getUsers = function(){\n    var users = ['user1', 'user2', 'user3'];\n    return users;\n}\n\nUserService.prototype.setUser = function(usr){\n    this.user = usr;\n}\n\nUserService.prototype.getUser = function(){\n    return this.user;\n}\n</code></pre>\n\n<p>The angular 2 component is as below,</p>\n\n<pre><code>    import {Component, Inject} from 'angular2/core';\n\n    @Component({\n        selector: 'user-section',\n        templateUrl: '&lt;div&gt;\n                      &lt;input [(ngModel)]=\"username\" /&gt;\n                      &lt;button (click)=\"setUser()\"&gt;Set User&lt;/button&gt;\n                      &lt;button (click)=\"getUser()\"&gt;Get User&lt;/button&gt;\n                      &lt;button (click)=\"getUsers()\"&gt;Get Users&lt;/button&gt;\n                      &lt;br/&gt;\n                      &lt;ul&gt;\n                       &lt;li *ngFor=\"#userId of users\"&gt;{{userId}}&lt;/li&gt;\n                      &lt;/ul&gt;\n                      &lt;div&gt;User in service : {{user}}&lt;/div&gt;\n                      &lt;/div&gt;'\n   })\n export class UserSection {\n        constructor(@Inject('UserService') userService:UserService) {\n                this.users = [];\n                this.username = '';\n                this._UserService = userService;    \n            }\n\n        getUsers(){\n            this.users = this._UserService.getUsers();\n        }\n\n        setUser(){\n            this._UserService.setUser(this.username);\n        }\n\n        getUser(){\n            this.user = this._UserService.getUser();\n        }\n    }\n</code></pre>\n\n<p>An event(getUser) needs to be fired always for angular 2 to get the name from the angular 1. Working plunker <a href=\"https://plnkr.co/edit/fYbIeJUUY7Xst7GEoi2v?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/fYbIeJUUY7Xst7GEoi2v?p=preview</a> \nI want to update the angular 2 model whenever the angular 1 input is changed. Is there a way to do this? There are listeners in angular 2, but I don't know how to make them listen to angular 1 service. </p>\n"}, {"tags": ["typescript", "error-handling", "promise"], "answers": [{"tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 2, "last_activity_date": 1484117280, "creation_date": 1484117280, "answer_id": 41584418, "question_id": 41584288, "link": "https://stackoverflow.com/questions/41584288/generic-handling-of-typescript-promise-response-errors/41584418#41584418", "title": "Generic handling of typescript promise response/errors", "body": "<p>Your callbacks for success and error seems to be the same..\nYou could do:</p>\n\n<pre><code>successHandler = (response:any)=&gt;{\n     return {success: true, result: response};\n     }\nerrorHandler = (error:any)=&gt;{\n     return {success: false, err: err };\n     }\n</code></pre>\n\n<p>and for all your requests,</p>\n\n<pre><code> getHealthCheck() {\n    return this.client.tools.healthcheck().then(this.successHandler).catch(this.errorHandler);\n  }\n\n// other calls\n</code></pre>\n\n<p>Its DRY principle.</p>\n"}, {"comments": [{"owner": {"reputation": 859, "user_id": 969945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4B9iB.jpg?s=128&g=1", "display_name": "Phillip Hartin", "link": "https://stackoverflow.com/users/969945/phillip-hartin"}, "edited": false, "score": 0, "creation_date": 1484190805, "post_id": 41584440, "comment_id": 70411345, "body": "I was attempting to implement something similar, following the docs: <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/generics.html</a>  This is really change my approach in TS going forward. Really appreciate you sharing."}], "tags": [], "owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "is_accepted": true, "score": 5, "last_activity_date": 1484117727, "last_edit_date": 1484117727, "creation_date": 1484117354, "answer_id": 41584440, "question_id": 41584288, "link": "https://stackoverflow.com/questions/41584288/generic-handling-of-typescript-promise-response-errors/41584440#41584440", "title": "Generic handling of typescript promise response/errors", "body": "<p>Why not just lift the response into another type:</p>\n\n<pre><code>type Success&lt;T&gt; = {success: true, result: T};\ntype Failure = {success: false, err: Error};\ntype Result&lt;T&gt; = Success&lt;T&gt; | Failure;\nconst Result = {\n  from&lt;T&gt;(promise: Promise&lt;T&gt;): Promise&lt;Result&lt;T&gt;&gt; {\n    return promise\n           .then(result =&gt; ({success: true, result}))\n           .catch(err =&gt; ({success: false, err}));\n  }\n}\n</code></pre>\n\n<p>Then you can use it as so:</p>\n\n<pre><code>return Result.from(this.client.tools.healthcheck());\n</code></pre>\n"}], "owner": {"reputation": 859, "user_id": 969945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4B9iB.jpg?s=128&g=1", "display_name": "Phillip Hartin", "link": "https://stackoverflow.com/users/969945/phillip-hartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1747, "favorite_count": 0, "accepted_answer_id": 41584440, "answer_count": 2, "score": 2, "last_activity_date": 1484117727, "creation_date": 1484116807, "question_id": 41584288, "link": "https://stackoverflow.com/questions/41584288/generic-handling-of-typescript-promise-response-errors", "title": "Generic handling of typescript promise response/errors", "body": "<p>I have a number of functions that all perform the exact same action upon the return of a promise. <code>this.client</code> is a wrapper for a set of API calls, they return a response or an error. I wish to handle these in all the same manner.</p>\n\n<p>Any ideas can I reduce each of these methods into one liners?</p>\n\n<pre><code>  getHealthCheck() {\n    return this.client.tools.healthcheck().then((response) =&gt; {\n      return {success: true, result: response};\n    }).catch((err) =&gt; {\n      return {success: false, err: err };\n    });;\n  }\n\n  createUser(data) {\n\n    return this.client.users.create(data).then((response) =&gt; {\n      return {success: true, result: response};\n    }).catch((err) =&gt; {\n      return {success: false, err: err };\n    });;\n\n  }\n\n  createCardAccount(data) {\n    return this.client.cardAccounts.create(data).then((response) =&gt; {\n      return {success: true, result: response};\n    }).catch((err) =&gt; {\n      return {success: false, err: err };\n    });;\n  }\n\n  createBankAccount(data) {\n    return this.client.bankAccounts.create(data).then((response) =&gt; {\n      return {success: true, result: response};\n    }).catch((err) =&gt; {\n      return {success: false, err: err };\n    });;\n  }\n\n  makePayment(data) {\n    return this.client.items.makePayment(data).then((response) =&gt; {\n      return {success: true, result: response};\n    }).catch((err) =&gt; {\n      return {success: false, err: err };\n    });;\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1484132916, "post_id": 41584227, "comment_id": 70381958, "body": "Your code makes no sense currently, you would have to provide more info. In parent you are using <code>buttons: [...</code> in child <code>leftButton: [</code> and in view you are using <code>{{button_message.icon}}</code> None of these do not match, so how could it work?"}], "answers": [{"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1484749273, "post_id": 41590644, "comment_id": 70638125, "body": "Farid, did this answer help you? :)"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 0, "last_activity_date": 1484138843, "last_edit_date": 1484138843, "creation_date": 1484136681, "answer_id": 41590644, "question_id": 41584227, "link": "https://stackoverflow.com/questions/41584227/typescript-object-assign-array-and-parsing-data-to-web-page/41590644#41590644", "title": "TypeScript : Object.assign Array and parsing data to web page", "body": "<p>Let's see if I understood you correctly. I would assign the default values already in the parent component, e.g:'</p>\n\n<pre><code>private _headerConfig = {\n    buttons: [\n        {\n            leftButton: {\n                icon: \"md-1-default\"\n                type: \"btn\"\n            },\n        },\n        {\n            rightButton: {\n                icon: \"md-2-default\"\n                type: \"btn\"\n            },\n        },\n    ]\n};\n</code></pre>\n\n<p>then you have this, which passes your <code>_headerConfig</code> to child</p>\n\n<pre><code>&lt;testing [config]=\"_headerConfig\"&gt;&lt;/testing&gt;\n</code></pre>\n\n<p>in your child component you need the following:</p>\n\n<pre><code>@Input() config;\n</code></pre>\n\n<p>well you capture the values in <code>OnInit</code>:</p>\n\n<pre><code>ngOnInit() {\n    console.log(JSON.stringify(this.config));\n}\n</code></pre>\n\n<p>that would output:</p>\n\n<pre><code>{\"buttons\":[{\"leftButton\":{\"icon\":\"md-2-default\",\"type\":\"btn\"}},{\"rightButton\":{\"icon\":\"md-2-default\",\"type\":\"btn\"}}]}\n</code></pre>\n\n<p>Apparently you want to take user input and change these default values. For that you can use e.g</p>\n\n<pre><code>(ngModelChange)=\"updateValue(your parameter)\"\n</code></pre>\n\n<p>Not knowing actually HOW you are doing that, I'll just assing leftButton with a new custom value manually:</p>\n\n<pre><code>this._headerConfig.buttons[0] = { leftButton: { icon: 'custom', type: 'custom' } }\n</code></pre>\n\n<p>Then you do just what you want with the values. You can follow the changes in your child view if you like:</p>\n\n<pre><code>&lt;div&gt;{{config | json}}&lt;/div&gt;\n</code></pre>\n\n<p>So the above change would JSON stringified then look like this:</p>\n\n<pre><code>{\"buttons\":[{\"leftButton\":{\"icon\":\"custom\",\"type\":\"custom\"}},{\"rightButton\":{\"icon\":\"md-1-default\",\"type\":\"btn\"}}]}\n</code></pre>\n"}], "owner": {"reputation": 649, "user_id": 2805507, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tORFQ.jpg?s=128&g=1", "display_name": "FaridAvesko", "link": "https://stackoverflow.com/users/2805507/faridavesko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 847, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484138843, "creation_date": 1484116573, "question_id": 41584227, "link": "https://stackoverflow.com/questions/41584227/typescript-object-assign-array-and-parsing-data-to-web-page", "title": "TypeScript : Object.assign Array and parsing data to web page", "body": "<p>I understand that using object.assign in typescript is </p>\n\n<p>Object.assign({},a , b) . target...source.\nHowever, i am trying to understand how can i fetch data from file to another. </p>\n\n<p>For an instance , my main.ts file , i declared an array .. </p>\n\n<pre><code>  ..\n  template:`&lt;testing [config]=\"_headerConfig\"&gt;&lt;/testing&gt; `\n  ..\n   private _headerConfig = { \n         buttons:[\n         icon: \"md-alarm\", //this can be change depending on own preffered icon logo\n         type : \"btn\"\n  ]\n };\n</code></pre>\n\n<p>i created a second ts.file . Lets call it testing.ts for now. this file will communicate with main.ts. The parent ts(main) file will parse data for icons  and type to testing.ts . </p>\n\n<pre><code>  ..\n  ..\n  @Component\n  selector: \"testing\";\n  ..\n  ..\n  ..\n\n    //i am not sure if i do need to declare this as empty array object.\n   //first i declared an an empty array\n\n    public button_message :  any =[{}];\n\n  //setting default values\n   private _defaultConfig: any = {\n    leftButton : [{icon : \"Default\",\n                   path : \"Default\"}\n                 ],\n    }; \n\n //this is where i used object.assign I want\n\n  let config = this.config.leftButton;\n  console.log (\"object 1 is developer input\" , config); //this will display the inputs from main.ts\n  let defaultConfig = this._defaultConfig.leftButton; //this will display the input from the _defaultConfig\n  console.log (\"object2 is default input\", defaultConfig)\n\n  let finalConfig = Object.assign({}, config, defaultConfig);\n    console.log(\"This is Object Assing log\" , finalConfig)\n</code></pre>\n\n<p>I tried countless ways to figure this part which is \nIf there is input icon inside testing.ts ,  it will display as md-alarm .\nelse it will run as the _defaultConfig which icon is default. </p>\n\n<p>The thing i am not sure how to get the data inside the array . i tried using index pointer but it is returning as a whole. </p>\n\n<p>in my html page , \ni tried using string interpolation to bind the data from my second.ts file. but it always gives me error. \nfor an example. </p>\n\n<p>i want to bind data input icon by developer to \n\"md-alarm\", for an example , this is my second.html which linked to second.ts </p>\n\n<pre><code>        &lt;button  class=\"logo-btn\"&gt;\n            &lt;name=\"{{button_message.icon}}\"&gt;\n            &lt;/&gt;\n        &lt;/button&gt;\n</code></pre>\n\n<p>No msg was parsed . \nAny help would be greatly appreciated.  </p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "edited": false, "score": 0, "creation_date": 1484115464, "post_id": 41583405, "comment_id": 70372157, "body": "Does this not work?: <code>export function foo() { return &#39;bar&#39;; }</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "reply_to_user": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "edited": false, "score": 0, "creation_date": 1484115537, "post_id": 41583405, "comment_id": 70372184, "body": "right but would you be able to call foo() locally (in the same file)? With the syntax in the question, you can call the function locally and it&#39;s exported."}, {"owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "edited": false, "score": 1, "creation_date": 1484115744, "post_id": 41583405, "comment_id": 70372268, "body": "Have a try and look at the compiled JavaScript: <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">typescriptlang.org/play/index.html</a>. I would expect you can invoke the function within the same file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "reply_to_user": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "edited": false, "score": 0, "creation_date": 1484116026, "post_id": 41583405, "comment_id": 70372380, "body": "yeah it looks like it works, but for some reason with the typescriptlang.org website, I can only convert to AMD"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "reply_to_user": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "edited": false, "score": 0, "creation_date": 1484116047, "post_id": 41583405, "comment_id": 70372391, "body": "<a href=\"https://www.typescriptlang.org/play/index.html#src=%0D%0Aexport%20function%20a()%20%7B%0D%0A%0D%0A%20%20%20%20console.log(%27outside%27)%3B%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0A%0D%0Aa()%3B\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "is_accepted": true, "score": 1, "last_activity_date": 1484117444, "creation_date": 1484117444, "answer_id": 41584466, "question_id": 41583405, "link": "https://stackoverflow.com/questions/41583405/node-js-exports-syntax-with-typescript/41584466#41584466", "title": "Node.js exports syntax with TypeScript", "body": "<p>When exporting a named function, the compiled Javascript first defines the named function. You should be able to invoke the named function within the same file:</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>export function foo() {\n    return 'bar';\n}\n\nconst baz = foo();\nconsole.log(baz);\n</code></pre>\n\n<p>compiles to CommonJS:</p>\n\n<pre><code>\"use strict\";\nfunction foo() {\n    return 'bar';\n}\nexports.foo = foo;\nvar baz = foo();\nconsole.log(baz);  // bar\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 41584466, "answer_count": 1, "score": 1, "last_activity_date": 1484117444, "creation_date": 1484112898, "last_edit_date": 1484114141, "question_id": 41583405, "link": "https://stackoverflow.com/questions/41583405/node-js-exports-syntax-with-typescript", "title": "Node.js exports syntax with TypeScript", "body": "<p>Is there a way to accomplish this Node.js/CommonJS syntax with TypeScript?</p>\n\n<pre><code>const makeObservable = exports.makeObservable = function _makeObservable(fn: any, opts: any) {}\n</code></pre>\n\n<p>Basically as you can see, would like to declare a local variable on the same line as exporting that variable. Is it possible in strict TS?</p>\n"}, {"tags": ["mongodb", "express", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "edited": false, "score": 0, "creation_date": 1484114599, "post_id": 41583512, "comment_id": 70371838, "body": "this works with hard coded index numbers, but how can I pass in a number?"}, {"owner": {"reputation": 730, "user_id": 5309948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oJPT.jpg?s=128&g=1", "display_name": "Imperator", "link": "https://stackoverflow.com/users/5309948/imperator"}, "reply_to_user": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "edited": false, "score": 0, "creation_date": 1484114911, "post_id": 41583512, "comment_id": 70371944, "body": "@NateMay I have never worked with Express/Typescript, so I honestly have no idea what is the proper syntax to concatenate strings with variables in this language. In plain JavaScript this would look like <code>&#39;data.&#39; + monthIndex + &#39;.days.&#39; + dayIndex + &#39;.type1.&#39; + type1Index</code>, maybe this will work for you as well."}, {"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 1, "creation_date": 1484115023, "post_id": 41583512, "comment_id": 70371993, "body": "Just build the query dynamically. Also<code>update</code> is deprecated. Use<code>updateOne</code> or <code>updateMany</code>."}, {"owner": {"reputation": 730, "user_id": 5309948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oJPT.jpg?s=128&g=1", "display_name": "Imperator", "link": "https://stackoverflow.com/users/5309948/imperator"}, "reply_to_user": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "edited": false, "score": 1, "creation_date": 1484121295, "post_id": 41583512, "comment_id": 70374763, "body": "@NateMay I have left your edit almost intact, but note that when you pull an element from the array, you actually do <b>not</b> want to indicate any indices, as the query will resolve them by itself. If you want to remove more than one element, you still need only one pull operation, because it removes every element that evaluates to <code>null</code>."}], "tags": [], "owner": {"reputation": 730, "user_id": 5309948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oJPT.jpg?s=128&g=1", "display_name": "Imperator", "link": "https://stackoverflow.com/users/5309948/imperator"}, "is_accepted": true, "score": 1, "last_activity_date": 1492221860, "last_edit_date": 1492221860, "creation_date": 1484113529, "answer_id": 41583512, "question_id": 41582951, "link": "https://stackoverflow.com/questions/41582951/how-to-query-mongodb-documents-using-the-indices-of-embedded-arrays/41583512#41583512", "title": "How to query MongoDb documents using the indices of embedded arrays", "body": "<p>Unfortunately, there is no way to remove an array element by its numerical index with a single operation in MongoDB. In order to do this, you need to unset desired element(s) first, and remove the resulting <code>null</code>-valued fields afterwards.</p>\n\n<p>Your code should look something like this:</p>\n\n<pre><code>db.users.update(\n    { _id : mongojs.ObjectId(req.params.id) },\n    { $unset : { 'data.0.days.1.type1.0' : 1 } }\n);\ndb.users.update(\n    { _id : mongojs.ObjectId(req.params.id) },\n    { $pull : { 'data.0.days.1.type1' : null } }\n);\n</code></pre>\n\n<p>Edit by @bob: to pass in the parameters you have to build the query string, which is ugly:</p>\n\n<pre><code>var unset = {};\nunset['$unset'] = {};\nunset.$unset['data.' + req.params.monthIndex + '.days.' + req.params.dayIndex + '.foods.' + req.params.foodIndex] = 1;\n\ndb.users.update( { _id : mongojs.ObjectId(req.params.id) }, unset );\n\nvar pull = {};\npull['$pull'] = {};\npull.$pull['data.' + req.params.monthIndex + '.days.' + req.params.dayIndex + '.foods'] = null;\n\ndb.users.update( { _id : mongojs.ObjectId(req.params.id) }, pull );\n</code></pre>\n"}], "owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 41583512, "answer_count": 1, "score": 1, "last_activity_date": 1492221860, "creation_date": 1484110334, "last_edit_date": 1484112860, "question_id": 41582951, "link": "https://stackoverflow.com/questions/41582951/how-to-query-mongodb-documents-using-the-indices-of-embedded-arrays", "title": "How to query MongoDb documents using the indices of embedded arrays", "body": "<p>I am trying to learn how to use mongo queries to reach deep into a data tree. Specifically, I'm trying to remove the object below <code>{\"object\": 'to remove'}</code></p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"7840f22736341b09154f7ebf\"),\n    \"username\" : \"nmay\",\n    \"fname\" : \"Nate\",\n    \"lname\" : \"May\",\n    \"data\" : [ \n        {\n            \"monthNum\" : 1,\n            \"year\" : 2016,\n            \"days\" : [ \n                {\n                    \"date\" : \"2016-01-01T06:00:00.000Z\",\n                    \"type1\" : [],\n                    \"type2\" : []\n                }, \n                {\n                    \"date\" : \"2016-01-02T06:00:00.000Z\",\n                    \"type1\" : [\n                       {\"object\": 'to remove'}\n                    ],\n                    \"type2\" : []\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>so far I know how to query for the user <code>_id</code>, but I'm not sure how to remove the desired object using the indices in each array. In this example I want to remove <code>data[0].days[1].type1[0]</code></p>\n\n<p>Here is the query that I have so far:</p>\n\n<pre><code>app.delete('/user/:id/data/:monthIndex/days/:dayIndex/type1/:type1Index', function (req, res, next) {\n  var monthIndex = parseInt(req.params.monthIndex); // these console the value properly\n  var dayIndex = parseInt(req.params.dayIndex); // -1 is applied to the parameter to translate to array position\n  var type1Index = parseInt(req.params.type1Index);\n\n  db.users.update(\n     { _id: mongojs.ObjectId(req.params.id) },\n     { $pull: data.monthIndex.days.dayIndex.type1.type1Index }\n   );\n}\n</code></pre>\n\n<p>It gives me the error </p>\n\n<blockquote>\n  <p>ReferenceError: data is not defined</p>\n</blockquote>\n\n<p><strong>Can someone demonstrate how I can pass this query my index parameters to remove the desired object?</strong></p>\n"}, {"tags": ["typescript", "gulp", "gulp-sourcemaps", "tsconfig", "gulp-typescript"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 5199691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-yOPDz8Zge1Q/AAAAAAAAAAI/AAAAAAAAANQ/Nttm4FgP3jA/photo.jpg?sz=128", "display_name": "MarkHasper", "link": "https://stackoverflow.com/users/5199691/markhasper"}, "edited": false, "score": 1, "creation_date": 1497855257, "post_id": 41584787, "comment_id": 76233561, "body": "<code>tsResult</code> contains both sets of files. <code>tsResult.js</code> just the js files, <code>tsResult.dts</code> just the dts files."}], "tags": [], "owner": {"reputation": 27736, "user_id": 5892036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GhzGs.jpg?s=128&g=1", "display_name": "Sven Schoenung", "link": "https://stackoverflow.com/users/5892036/sven-schoenung"}, "is_accepted": true, "score": 5, "last_activity_date": 1484118828, "creation_date": 1484118828, "answer_id": 41584787, "question_id": 41581684, "link": "https://stackoverflow.com/questions/41581684/is-there-a-way-to-use-gulp-typescript-to-generate-both-map-and-declaration-files/41584787#41584787", "title": "Is there a way to use gulp-typescript to generate both map and declaration files during one compilation task?", "body": "<p>You have two streams in your example:</p>\n\n<ul>\n<li><code>tsResult</code> which contains the typings files</li>\n<li><code>tsResult.js</code> which contains the transpiled JavaScript files</li>\n</ul>\n\n<p>All you have to do is merge them into one stream using <a href=\"https://www.npmjs.com/package/merge-stream\" rel=\"noreferrer\"><code>merge-stream</code></a>:</p>\n\n<pre><code>var tsc = require('gulp-typescript');\nvar sourcemaps = require('gulp-sourcemaps');\nvar merge = require('merge-stream');\n\ngulp.task('compile', function () {\n  var tsProject = tsc.createProject('tsconfig.json');\n  var tsResult = gulp.src(['src/**/*.ts'])\n    .pipe(sourcemaps.init())\n    .pipe(tsProject());\n  return merge(tsResult, tsResult.js)\n    .pipe(sourcemaps.write('.'))\n    .pipe(gulp.dest('./dist/src'));\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "is_accepted": false, "score": 0, "last_activity_date": 1557082095, "creation_date": 1557082095, "answer_id": 55995267, "question_id": 41581684, "link": "https://stackoverflow.com/questions/41581684/is-there-a-way-to-use-gulp-typescript-to-generate-both-map-and-declaration-files/55995267#55995267", "title": "Is there a way to use gulp-typescript to generate both map and declaration files during one compilation task?", "body": "<p>I suggest this approach:</p>\n\n<pre><code>const gulp = require(\"gulp\")\nconst ts = require(\"gulp-typescript\")\nconst sourcemaps = require('gulp-sourcemaps')\nconst tsProject = ts.createProject(\"tsconfig.json\")\nconst merge = require('merge2')\n\ngulp.task(\"compile\", () =&gt; {\n    const tsResult = \n            tsProject.src()  // OR: gulp.src(['src/**/*.ts'])\n            .pipe(sourcemaps.init())\n            .pipe(tsProject())\n\n    return merge([\n        tsResult.dts.pipe(gulp.dest('dist/types')),\n        tsResult.js.pipe(sourcemaps.write('.')).pipe(gulp.dest('dist'))\n    ]);\n})\n</code></pre>\n\n<p>See:</p>\n\n<p><a href=\"https://github.com/ivogabe/gulp-typescript#basic-usage\" rel=\"nofollow noreferrer\">https://github.com/ivogabe/gulp-typescript#basic-usage</a></p>\n"}], "owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3136, "favorite_count": 2, "accepted_answer_id": 41584787, "answer_count": 2, "score": 4, "last_activity_date": 1557082095, "creation_date": 1484101153, "question_id": 41581684, "link": "https://stackoverflow.com/questions/41581684/is-there-a-way-to-use-gulp-typescript-to-generate-both-map-and-declaration-files", "title": "Is there a way to use gulp-typescript to generate both map and declaration files during one compilation task?", "body": "<p>I am using <a href=\"https://www.npmjs.com/package/gulp-typescript\" rel=\"nofollow noreferrer\">gulp-typescript</a> to transpile my TypeScript code to JavaScript. Essentially, I want for one <code>*.ts</code> file, for there to be corresponding <code>*.js</code>, <code>*.d.ts</code> and <code>*.map</code> files generated. </p>\n\n<p>In the compile task, I have noticed that I can only transpile with declaration <strong>or</strong> transpile with map but not both at the same time. For example, having 1 compile task that attempts to generate both declaration + map files (with the JavaScript files) like the following does not work. The following will generate the JavaScript + map files, but not the declaration files.</p>\n\n<pre><code>var tsc = require('gulp-typescript');\nvar sourcemaps = require('gulp-sourcemaps');\nvar tsProject = tsc.createProject('tsconfig.json');\n\ngulp.task('compile', function () {\n  var tsProject = tsc.createProject('tsconfig.json');\n  var tsResult = gulp.src(['src/**/*.ts'])\n    .pipe(sourcemaps.init())\n    .pipe(tsProject());\n  return tsResult.js\n    .pipe(sourcemaps.write('.'))\n    .pipe(gulp.dest('./dist/src'));\n});\n</code></pre>\n\n<p>My <code>tsconfig.json</code> looks like the following.</p>\n\n<pre><code>{\n    \"include\": [\n        \"src/**/*\"\n    ],\n    \"exclude\": [\n        \"node_modules\",\n        \"**/*.spec.ts\"\n    ],\n    \"compilerOptions\": {\n        \"noImplicitAny\": true,\n        \"target\": \"es6\",\n        \"module\": \"commonjs\",\n        \"alwaysStrict\": true,\n        \"diagnostics\": false,\n        \"listEmittedFiles\": false,\n        \"listFiles\": false,\n        \"pretty\": true,\n        \"declaration\": true\n    }\n}\n</code></pre>\n\n<p>To work around this problem, for now, I have to create 3 gulp tasks:</p>\n\n<ul>\n<li>one to create the declarations, </li>\n<li>one to create the mapping, and </li>\n<li>one to call on the previous two. </li>\n</ul>\n\n<p>This option works, but is not desired, or best practice, as now I have to compile twice just to get the desired outputs.</p>\n\n<p>My 3 gulp tasks look like the following. Note how I have made <code>tsProject</code> local to the functions now (keeping it global, the gulp task fails).</p>\n\n<pre><code>gulp.task('compile:with:dts', function () {\n  var tsProject = tsc.createProject('tsconfig.json');\n  return gulp.src(['src/**/*.ts'])\n    .pipe(tsProject())\n    .pipe(gulp.dest('./dist/src'));\n});\n\ngulp.task('compile:with:maps', function () {\n  var tsProject = tsc.createProject('tsconfig.json');\n  var tsResult = gulp.src(['src/**/*.ts'])\n    .pipe(sourcemaps.init())\n    .pipe(tsProject());\n  return tsResult.js\n    .pipe(sourcemaps.write('.'))\n    .pipe(gulp.dest('./dist/src'));\n});\n\ngulp.task('compile', ['compile:with:dts', 'compile:with:maps']);\n</code></pre>\n"}, {"tags": ["typescript", "callback"], "comments": [{"owner": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 0, "creation_date": 1484098662, "post_id": 41581289, "comment_id": 70367476, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 7402125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3916be13b97ace922b364bb4188e1e?s=128&d=identicon&r=PG&f=1", "display_name": "Nabster", "link": "https://stackoverflow.com/users/7402125/nabster"}, "reply_to_user": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 0, "creation_date": 1484101493, "post_id": 41581289, "comment_id": 70368082, "body": "Not Ajax tried several but none work"}, {"owner": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 0, "creation_date": 1484104233, "post_id": 41581289, "comment_id": 70368779, "body": "The async concepts are the same whether it&#39;s ajax or any other async callback. Update your question with what you&#39;re trying that isn&#39;t working. See also <a href=\"http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron\" title=\"why is my variable unaltered after i modify it inside of a function asynchron\">stackoverflow.com/questions/23667086/&hellip;</a>."}, {"owner": {"reputation": 1, "user_id": 7402125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3916be13b97ace922b364bb4188e1e?s=128&d=identicon&r=PG&f=1", "display_name": "Nabster", "link": "https://stackoverflow.com/users/7402125/nabster"}, "reply_to_user": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 0, "creation_date": 1484108432, "post_id": 41581289, "comment_id": 70369761, "body": "How about a simple example.  Trying to keep to few lines"}], "answers": [{"tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 0, "last_activity_date": 1484146848, "creation_date": 1484146848, "answer_id": 41594123, "question_id": 41581289, "link": "https://stackoverflow.com/questions/41581289/typescript-simple-call-back-function/41594123#41594123", "title": "Typescript simple call back function", "body": "<p>I am afraid but there is no such way. </p>\n\n<p>If the api you are using does not provide you with synchronous counterpart of asynchronous function (in your case its <code>getItem</code>), you are forced to use it in asynchronous way either by consuming promises directly or using async/await.</p>\n"}], "owner": {"reputation": 1, "user_id": 7402125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3916be13b97ace922b364bb4188e1e?s=128&d=identicon&r=PG&f=1", "display_name": "Nabster", "link": "https://stackoverflow.com/users/7402125/nabster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484146848, "creation_date": 1484097886, "question_id": 41581289, "link": "https://stackoverflow.com/questions/41581289/typescript-simple-call-back-function", "title": "Typescript simple call back function", "body": "<p>In typescript what is the simplest way to make a function wait for a callback function within?</p>\n\n<pre><code>public isLoggedIn() : boolean\n{\n    myCallBackFunction.getItem(access_token).then((value) =&gt; {\n        return value;\n    });\n\n}\n</code></pre>\n\n<p>This of course doesn't compile, but how do I make it wait for the result?</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1484092246, "post_id": 41580495, "comment_id": 70365937, "body": "Could you expand on the context - what&#39;s the problem you&#39;re trying to solve with this?"}, {"owner": {"reputation": 21643, "user_id": 303221, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bffed58149ee78825913082c02c71804?s=128&d=identicon&r=PG", "display_name": "Joey Morani", "link": "https://stackoverflow.com/users/303221/joey-morani"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1484093914, "post_id": 41580495, "comment_id": 70366397, "body": "Sure. I need to get the path for use with an API but it must be while the user is viewing <code>CustomComponent</code> as I&#39;m not interested in the other route paths such as &quot;list&quot;. I only want the custom &quot;id&quot;."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1484093957, "post_id": 41580495, "comment_id": 70366412, "body": "Then did you read the docs? This is covered in <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/router.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "is_accepted": false, "score": 0, "last_activity_date": 1484094581, "creation_date": 1484094581, "answer_id": 41580855, "question_id": 41580495, "link": "https://stackoverflow.com/questions/41580495/retrieving-the-active-component-and-path/41580855#41580855", "title": "Retrieving the active component and path", "body": "<p>Yah, the angular 2 starter guide covers all that, basically you need to inject ActivatedRoute on your component then you can retrieve the information you want by subscribing to the route params.</p>\n\n<p>I would really recommend you to do the angular tutorial tour of heroes, it is actually pretty good learning material that they provided.</p>\n\n<p>Inject ActivatedRoute, on your component constructor:</p>\n\n<pre><code>constructor(private route: ActivatedRoute) {\n}\n\nngOnInit() {\n    this.route.params.subscribe(params =&gt; {\n      console.log(params['id']);\n    });\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 798, "user_id": 4005915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/631230112/picture?type=large", "display_name": "Nathan Clement", "link": "https://stackoverflow.com/users/4005915/nathan-clement"}, "edited": false, "score": 4, "creation_date": 1551480187, "post_id": 41582417, "comment_id": 96669198, "body": "Just noting for future people looking that it looks like <code>_routeConfig</code> has been renamed to <code>routeConfig</code>"}], "tags": [], "owner": {"reputation": 61, "user_id": 7402317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65c7fe7b4fdc555bd213f6b13f43e7?s=128&d=identicon&r=PG&f=1", "display_name": "sachinkasana", "link": "https://stackoverflow.com/users/7402317/sachinkasana"}, "is_accepted": false, "score": 4, "last_activity_date": 1484106928, "creation_date": 1484106928, "answer_id": 41582417, "question_id": 41580495, "link": "https://stackoverflow.com/questions/41580495/retrieving-the-active-component-and-path/41582417#41582417", "title": "Retrieving the active component and path", "body": "<p>Yes you can check current active component using router snapshot-</p>\n\n<pre><code>import { Router,ActivatedRoute }      from '@angular/router';\n\nconstructor(public route : ActivatedRoute) {\n    var snapshot = route.snapshot;\n    console.log(snapshot._routeConfig.component.name); //This will give you the name of current active component\n  }\n</code></pre>\n\n<p>Note- <strong>snapshot._routeConfig.component.name</strong> it will give you the active component name, and if you want url you can also get it by .url instead of name</p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 724218, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/830f6d180648cd506e98fcc028093216?s=128&d=identicon&r=PG", "display_name": "Vishal", "link": "https://stackoverflow.com/users/724218/vishal"}, "is_accepted": false, "score": 1, "last_activity_date": 1484729442, "creation_date": 1484729442, "answer_id": 41714891, "question_id": 41580495, "link": "https://stackoverflow.com/questions/41580495/retrieving-the-active-component-and-path/41714891#41714891", "title": "Retrieving the active component and path", "body": "<p>you can enable trace in your router config for root <code>{enableTracing: true}</code> to get more idea how routes are resolved and activated</p>\n"}, {"tags": [], "owner": {"reputation": 4502, "user_id": 454741, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/85407f9da99e85cad9d942ef82fa33ab?s=128&d=identicon&r=PG", "display_name": "VadimB", "link": "https://stackoverflow.com/users/454741/vadimb"}, "is_accepted": false, "score": 0, "last_activity_date": 1484729955, "creation_date": 1484729955, "answer_id": 41715031, "question_id": 41580495, "link": "https://stackoverflow.com/questions/41580495/retrieving-the-active-component-and-path/41715031#41715031", "title": "Retrieving the active component and path", "body": "<p>Sure, using <code>ActivatedRoute</code>module you can access route parameters or bind to parameters cgange event</p>\n\n<pre><code>import {ActivatedRoute} from \"@angular/router\";\n\nconstructor(private activatedRoute: ActivatedRoute) { \n}\n\nthis.activatedRoute.params.subscribe(params =&gt; {\n  console.log(params['id']);\n});\n</code></pre>\n\n<p>Also here you can also access your current component type using</p>\n\n<pre><code>this.activatedRoute.component;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 385, "user_id": 2804966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/162e0bd31ba855d392d1888d8a2d28af?s=128&d=identicon&r=PG&f=1", "display_name": "lalo", "link": "https://stackoverflow.com/users/2804966/lalo"}, "edited": false, "score": 0, "creation_date": 1538490027, "post_id": 51833622, "comment_id": 92154939, "body": "Only the ElementRef option works with production build."}, {"owner": {"reputation": 102, "user_id": 1961551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQCzZ.jpg?s=128&g=1", "display_name": "Sean Halls", "link": "https://stackoverflow.com/users/1961551/sean-halls"}, "edited": false, "score": 1, "creation_date": 1584468599, "post_id": 51833622, "comment_id": 107444420, "body": "For those looking down this road, please see @Simon_Weaver&#39;s &quot;Important&quot; note. If you are trying to run a switch based on active component name, for example, it will die in production."}], "tags": [], "owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "is_accepted": false, "score": 3, "last_activity_date": 1534220194, "creation_date": 1534220194, "answer_id": 51833622, "question_id": 41580495, "link": "https://stackoverflow.com/questions/41580495/retrieving-the-active-component-and-path/51833622#51833622", "title": "Retrieving the active component and path", "body": "<p>In <code>ActivatedRouteSnapshot</code> the <code>component</code> property is defined as being one of the following</p>\n\n<pre><code>component: Type&lt;any&gt; | string | null;\n</code></pre>\n\n<p>So you can't just do <code>component.name</code> unless you've already made sure you have <code>Type&lt;any&gt;</code>. This is because <code>.name</code> on a string doesn't exist.</p>\n\n<p>Now <code>Type&lt;any&gt;</code> is actually a function that creates the type (your component type) and is defined as:</p>\n\n<pre><code>export interface Type&lt;T&gt; extends Function {\n    new (...args: any[]): T;\n}\n</code></pre>\n\n<p>So you can do something like this, which will actually compile</p>\n\n<pre><code> if (typeof(this.route.snapshot.component) === 'function')\n {\n     // the compiler is 'smart' enough to know that component here must be Type&lt;T&gt;\n     const name = this.route.snapshot.component.name;\n }\n</code></pre>\n\n<p>An 'elegant' way to do it is using a typescript typeguard (although to be frank in this case it doesn't give you much of a benefit over what I just said).</p>\n\n<pre><code>isComponent(item: Type&lt;any&gt; | string | null): item is Type&lt;any&gt;\n{\n    return typeof item === 'function';\n}\n</code></pre>\n\n<p>Then you can say <code>this.name = isComponent(this.route.snapshot.component) ? this.route.snapshot.component : null</code>.</p>\n\n<p><strong>Important:</strong>\n<code>component.name</code> is still valid in an AOT build, but unfortunately with <code>--prod</code> it will end up being something random like <code>r</code>.</p>\n\n<p>I've resorted to having to inject <code>private element: ElementRef&lt;HTMLElement&gt;</code> and then look for the tag name. This will still be present even with an AOT prod build. There may be a performance cost to doing this so cache it if you're using it a lot.</p>\n\n<pre><code>    if (element.nativeElement.tagName.startsWith('RR-')){\n        super.name = element.nativeElement.tagName;\n    }\n</code></pre>\n"}], "owner": {"reputation": 21643, "user_id": 303221, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bffed58149ee78825913082c02c71804?s=128&d=identicon&r=PG", "display_name": "Joey Morani", "link": "https://stackoverflow.com/users/303221/joey-morani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12623, "favorite_count": 1, "answer_count": 5, "score": 6, "last_activity_date": 1534220194, "creation_date": 1484092166, "question_id": 41580495, "link": "https://stackoverflow.com/questions/41580495/retrieving-the-active-component-and-path", "title": "Retrieving the active component and path", "body": "<p>With Angular2, how would I retrieve the current active component and path?  </p>\n\n<p>For example I might have the following routes:</p>\n\n<pre><code>{ path: '', component: HomeComponent },\n{ path: 'list', component: ListComponent },\n{ path: ':id/', component: CustomComponent }\n</code></pre>\n\n<p>If I had navigated to <code>https://domain.com/test</code> is there a way to know I'm currently viewing the <code>CustomComponent</code> and to retrieve the id/path, which in this case is \"test\"?</p>\n\n<p>I could use <code>window.location.pathname</code> with regex to get the path but this is messy and still doesn't allow me to easily get the active component.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1484091104, "post_id": 41580262, "comment_id": 70365580, "body": "services are not only for unrelated components see <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/&hellip;</a>"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "reply_to_user": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1484091187, "post_id": 41580262, "comment_id": 70365607, "body": "I understand that, but this is not what I was saying. I was addressing a specific use case as it pertains to passing values between non-parent-child components."}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484091191, "post_id": 41580262, "comment_id": 70365608, "body": "You can use services for anything, related or unrelated. In a small app it could even make sense to just have one service that handles all event emitting for the entire app. I get some may say nay."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484091256, "post_id": 41580262, "comment_id": 70365626, "body": "Okay, but again, this is unrelated to my question. I know you can use services for many things. I wasn&#39;t being exhaustive. I was saying that when it comes to passing info between un-related components, you use a service to do so."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484091404, "post_id": 41580262, "comment_id": 70365681, "body": "Actually, this is generally not the case. A shared service will function like a singleton. In other words, two components will share the same instance of the service."}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484092092, "post_id": 41580262, "comment_id": 70365894, "body": "My bet would be, you&#39;re not getting a single instance of the service, typically you&#39;d provide it from a module and inject it into components, not sure I see that here. (For the sake of detail, I&#39;m not sure it&#39;s actually a &quot;singleton&quot;, it&#39;s more like a &quot;managed instance&quot;. RobotLegs, one of the first really usable UI frameworks that used injection heavily, had an explanation citing singletons as being problematic in terms of injection)."}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484092265, "post_id": 41580262, "comment_id": 70365944, "body": "In the end, every component is related via &quot;app&quot;. If you set up an event emitter at that level you basically have a clearing house for events. I&#39;d prefer a global service over that, but again depending on your need, a small app could work with that fine."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484092456, "post_id": 41580262, "comment_id": 70366006, "body": "Tim, I agree it&#39;s not actually a singleton. That&#39;s why I said it functions &quot;like a singleton&quot;. And, in that sense, it can pose problems, because what you change in one component will factor down to another - even if those two components aren&#39;t actually talking to each other. They will still inherit values via the shared service. Change one and it ends up being reflected in another. I ran into this very thing a week ago."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484092584, "post_id": 41580262, "comment_id": 70366041, "body": "Tim, also, these two components are being declared in the same root-level app.module. And it&#39;s in that same root-level app-module that the routeService is being provided. So, based on that, this should be a shared instance between the components, from what I understand."}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484092681, "post_id": 41580262, "comment_id": 70366071, "body": "Well, that depends how you&#39;re providing/injecting it. Sure they may all be in the same module, but that doesn&#39;t mean you can&#39;t create new instances of them. As for the shared service, the point of sharing it would indeed be so that components could share and alter each other&#39;s data; you&#39;d have to take that into account (different objects for different components all shared on the same model/service). On the other hand, if you just use in/outs and bind to one another&#39;s EventEmitters, none of that is a problem. I&#39;m running out of space but I think I have a sample that could work for you."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484092724, "post_id": 41580262, "comment_id": 70366081, "body": "So, in your understanding, what would it look like to create new instances of them based on the scenario I just described?"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484092893, "post_id": 41580262, "comment_id": 70366144, "body": "In both components, the shared service is being used like this:  constructor(private sharedService: SharedService) {}"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484092928, "post_id": 41580262, "comment_id": 70366151, "body": "Time, by the way, a sample would be great!"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484092951, "post_id": 41580262, "comment_id": 70366156, "body": "How is it being provided from the module (and is it injectable etc.) I&#39;m working on the EventEmitter naive sample gimme a few mins."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484093109, "post_id": 41580262, "comment_id": 70366210, "body": "The routeService has the @Injectable decorator, yes."}], "answers": [{"comments": [{"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484105455, "post_id": 41581153, "comment_id": 70369047, "body": "Thanks, Tim. I will look through this to apply to my situation."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484163298, "post_id": 41581153, "comment_id": 70401200, "body": "I&#39;m still unclear how this would work when the two components don&#39;t have a parent-child relationship. Bottom line, I need to either pass the value of &quot;routeUrl&quot; to the non-child component, so it can evaluate itself whether or not that route matches certain parameters... Or, I need to just pass on the boolean result that was found in the service, on to the non-child component."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484163373, "post_id": 41581153, "comment_id": 70401242, "body": "So how would I pass on a boolean result from a service to component calling that service?"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484165437, "post_id": 41581153, "comment_id": 70402419, "body": "Some component somewhere, that is subscribed to the EventEmitter of something else (in your case, a service), uses the Service&#39;s EventEmitter (or a Service function wrapping it), to emit an event: mySvc.emitEvent ( someValue ), similar to the buttonClick above. Any other component that has the Service injected into it and that has subscribed to that emitter, will hear that emitted event and receive the data from the originator. There are no parent child relationships here. Just two components with the same injected service that manipulates event emitter."}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484168659, "post_id": 41581153, "comment_id": 70404055, "body": "I&#39;ll have some time later if you still need to create a CLI project that illustrates this, I&#39;ll do something like create a couple of components that appear unrelated by hierarchy (even though everything is a child of &quot;app&quot; ultimately), and use a service to pass around data via emitted events. Again, the point of what I show above is, it doesn&#39;t matter how the component gets the reference to the event emitter; it can get it from a service, it can get it via an Input. After they the usage is the same."}], "tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": false, "score": 0, "last_activity_date": 1484100350, "last_edit_date": 1484100350, "creation_date": 1484096773, "answer_id": 41581153, "question_id": 41580262, "link": "https://stackoverflow.com/questions/41580262/passing-values-between-non-parent-child-relationship-components-in-angular-2/41581153#41581153", "title": "Passing Values Between Non-Parent/Child Relationship Components in Angular 2", "body": "<p>(Was asked to post a sample of what I was talking about in comments):</p>\n\n<p>I think of practical Angular events/dataflow this way:</p>\n\n<ul>\n<li>\"Interested\" hears emitted event from a component's EventEmitter (because it has a reference to it, and is subscribed to that reference).</li>\n<li>Something emits an even via an EventEmitter, and anything with reference to it and subscribed to it, will hear it. </li>\n</ul>\n\n<p>They all do it with EventEmitters. So a parent can hook into a child's event emitter, and a child can hook into a parent's. Everybody can hook into the Service's. But also, everything is a child of \"app\". So in the end (although a Service would be the way to go), you can build a complete component comm system just by having every component hook into \"app\"'s event emitter. </p>\n\n<p>This sample is one way to approach the menubar button comm problem: when one button is clicked, you want them all to know it (so you can highlight the selected background and unhighlight the rest, whatever). The button components are peers, related only because they have a higher level parent.</p>\n\n<p>So in the parent component (which can be as confined as a MenuBarComponent, or as broad as \"app\"):</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let btn of buttons\"&gt;\n    // Bind the parent's broadcast listener, to the child Input. \n    &lt;my-child [broadcastListener]=\"broadcasterParent\"&gt;\n    &lt;/my-child&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Here the parent is giving the child, via an Input, a reference to its (the parent's) EventEmitter (broadcast and such are just typical names). So when the parent emits an event from its EventEmitter, or any of the children use the reference to that emitter to emit an event, all the components with a reference via an Input, and that have subscribed to that reference, will hear it. </p>\n\n<p>The parent code behind that template above (note I use ES6, pretty sure you'll get the idea, and I just use constructors to keep it short):</p>\n\n<pre><code>import { Component, EventEmitter } from '@angular/core';\n...\nconstructor  ) {\n  // this is the instance given to the child as Input\n  this.broadcasterParent = new EventEmitter ( );\n}\n</code></pre>\n\n<p>In the child:</p>\n\n<pre><code>import { Component } from '@angular/core';\n...\n  constructor ( ) {\n    // This is almost certainly better used in OnInit.\n    // It is how the child subscribes to the parent's event emitter.\n    this.broadcastListener.subscribe( ( b ) =&gt; this.onBroadcast ( b ) );\n  }\n\n  onButtonClick ( evt ) {\n    // Any component anywhere with a ref to this emitter will hear it\n    this.broadcastListener.emit ( evt );\n  }\n\n  onBroadcast ( evt ) {\n    // This will be the data that was sent by whatever button was clicked\n    // via the subscription to the Input event emitter (parent, app, etc).\n    console.log ( evt );        \n}\n\nChildComponent.annotations = [\n  new Component ( {\n      ... // TS would use an attribute for this\n      inputs: [ 'broadcastListener' ]\n      template: `\n        &lt;div click)=\"onButtonClick ( $event )\"&gt;\n           ...\n        &lt;/div&gt;\n      `\n  })\n];\n</code></pre>\n\n<p>A service really does more or less the same thing, but a service is \"floating\" and access via injection, as opposed to fixed in the hieararchy and accessing via Input (and you can make it more robust etc). </p>\n\n<p>So any one button that is clicked, will emit an event which they will all hear because they are all subscribed to the same event emitter (be it in a Service or whatever). </p>\n"}, {"comments": [{"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484197866, "post_id": 41604846, "comment_id": 70413140, "body": "Yes, the issue is definitely that &quot;this.routeUrl&quot; is undefined when I call it in room.component. That&#39;s still strange to me, considering I can console log the correct value for routeUrl in that same component. Question: in your answer, what does &#39;someStr&#39; represent?"}, {"owner": {"reputation": 2730, "user_id": 1090576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/240f919de2adeb15a95ca2d4d81b8138?s=128&d=identicon&r=PG", "display_name": "Goblinlord", "link": "https://stackoverflow.com/users/1090576/goblinlord"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484205315, "post_id": 41604846, "comment_id": 70416055, "body": "Actually, the condition would be: <code>(routeUrl.includes(&#39;staff&#39;) || routeUrl.includes(&#39;contractors&#39;)</code> based on your stuff above.  Just changed in my answer."}, {"owner": {"reputation": 2730, "user_id": 1090576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/240f919de2adeb15a95ca2d4d81b8138?s=128&d=identicon&r=PG", "display_name": "Goblinlord", "link": "https://stackoverflow.com/users/1090576/goblinlord"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484206132, "post_id": 41604846, "comment_id": 70416429, "body": "As for why <code>this.routeUrl</code> is undefined I just didn&#39;t see it defined anywhere in your code you showed.  I would need more to say exactly why.  The other component has nothing that I see that does <code>this.routeUrl = something</code> so it would be undefined.  You would also have to worry about js <code>this</code> semantics wherever and however you are calling something which will reference <code>this</code>."}], "tags": [], "owner": {"reputation": 2730, "user_id": 1090576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/240f919de2adeb15a95ca2d4d81b8138?s=128&d=identicon&r=PG", "display_name": "Goblinlord", "link": "https://stackoverflow.com/users/1090576/goblinlord"}, "is_accepted": false, "score": 1, "last_activity_date": 1484225606, "last_edit_date": 1484225606, "creation_date": 1484193252, "answer_id": 41604846, "question_id": 41580262, "link": "https://stackoverflow.com/questions/41580262/passing-values-between-non-parent-child-relationship-components-in-angular-2/41604846#41604846", "title": "Passing Values Between Non-Parent/Child Relationship Components in Angular 2", "body": "<p>Just looking at your code it looks like something is incorrect here.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  isRoomRoute() {\r\n       if (this.routeService.isRoomRoute(this.routeUrl)) {\r\n           return true;\r\n       }\r\n     }</code></pre>\r\n</div>\r\n</div>\r\n\nIt looks to me as if <code>this.routeUrl</code> in the above code will likely be undefined unless it is defined elsewhere and defined before .  What you could do is instead set a property in the service on the route event and then in the isRoomRoute you would read that property.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Injectable()\r\nclass routeService {\r\n  constructor(private router: Router) {\r\n    // subscribe to event\r\n    router.subscribe((url) =&gt; {\r\n      this.routeUrl = url;\r\n      // other things?  sendRoute??\r\n    });\r\n\r\n  }\r\n\r\n  // Other methods for this class\r\n  isRoomRoute() {\r\n    return this.routeUrl &amp;&amp; (this.routeUrl.includes('staff') || this.routeUrl.includes('contractors'));\r\n  }\r\n}\r\n\r\n// Usage later where this service has been injected\r\n@Component({\r\n // ... other properties\r\n providers: [routeService]\r\n})\r\nclass someComponent {\r\n  constructor(private routeService: routeService) {}\r\n  someMethod() {\r\n    this.routeService.isRoomRoute();  // Check if we are in a room route.\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In a case like this, I am not sure why you can't simply get the URL and parse it when isRoomRoute called instead of setting something on routing events.</p>\n"}, {"tags": [], "owner": {"reputation": 10285, "user_id": 5411511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMvn3.jpg?s=128&g=1", "display_name": "seidme", "link": "https://stackoverflow.com/users/5411511/seidme"}, "is_accepted": true, "score": 6, "last_activity_date": 1486854768, "last_edit_date": 1495540044, "creation_date": 1484194409, "answer_id": 41605011, "question_id": 41580262, "link": "https://stackoverflow.com/questions/41580262/passing-values-between-non-parent-child-relationship-components-in-angular-2/41605011#41605011", "title": "Passing Values Between Non-Parent/Child Relationship Components in Angular 2", "body": "<p>Your understanding is correct, an <code>injectable</code> shared service is a common way of communication between multiple, unrelated components.</p>\n\n<p>Here is the walk-through of such a use case.</p>\n\n<p>Firstly, suiting your situation, we will listen the <code>Router</code> events in <code>AppComponent</code>, obtain the active route, and pass it to <code>RouteService</code> so the service can manipulate it, and/or serve it to other components.</p>\n\n<p>This is how the <code>AppComponent</code> should look like:</p>\n\n<pre><code>export class AppComponent {\n\n    constructor(private _router: Router,\n                private _routeService: RouteService) {\n\n        this._router.events.subscribe(event =&gt; {\n            if (event instanceof NavigationEnd) {\n                let url = event.urlAfterRedirects;\n                this._routeService.onActiveRouteChanged(url);\n            }\n        });\n    }\n\n}\n</code></pre>\n\n<p>When it comes to the service, here we'll introduce the <code>BehaviorSubject</code> as a delegate, so the components using the service can subscribe to a service data changes. For more information about <code>BehaviorSubject</code> and other Subjects, visit: <a href=\"https://stackoverflow.com/questions/34376854/delegation-eventemitter-or-observable-in-angular2\">Delegation: EventEmitter or Observable in Angular2</a></p>\n\n<p>Here is the implementation of our shared <code>RouteService</code> (components need to <a href=\"https://stackoverflow.com/questions/36198785/how-do-i-create-a-singleton-service-in-angular-2\">use the single instance of the service</a>, so make sure you've provided it at the root level):</p>\n\n<pre><code>@Injectable()\nexport class RouteService {\n\n    isRoomRouteSource: BehaviorSubject&lt;boolean&gt; = new BehaviorSubject(false);\n\n    constructor() { }\n\n    onActiveRouteChanged(url: string): void {\n        let isRoomRoute = this._isRoomRoute(url);\n        this.isRoomRouteSource.next(isRoomRoute);\n        // do other stuff needed when route changes\n    }\n\n    private _isRoomRoute(url: string): boolean {\n        return url.includes('staff') || url.includes('contractors');\n    }\n}\n</code></pre>\n\n<p>The example of another component using the service, and subscribing to our <code>BehaviorSubject</code> changes:</p>\n\n<pre><code>export class AnotherComponent {\n\n    isCurrentRouteRoomRoute: boolean;\n\n    constructor(private _routeService: RouteService) {\n        this._routeService.isRoomRouteSource.subscribe((isRoomRoute: boolean) =&gt; {\n            this.isCurrentRouteRoomRoute = isRoomRoute;\n            // prints whenever active route changes\n            console.log('Current route is room route: ', isRoomRoute);\n        });\n     }\n\n}\n</code></pre>\n\n<p>If subscribing to <code>isRoomRouteSource</code> changes isn't necessary, say we just need the last value stored, then:</p>\n\n<pre><code>export class AnotherComponent {\n\n    isCurrentRouteRoomRoute: boolean;\n\n    constructor(private _routeService: RouteService) {\n        this.isCurrentRouteRoomRoute = this._routeService.isRoomRouteSource.getValue(); // returns last value stored\n        console.log('Current route is room route: ', this.isCurrentRouteRoomRoute);\n     }\n\n}\n</code></pre>\n\n<p>Hope this helped!</p>\n"}, {"tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": false, "score": 0, "last_activity_date": 1484231121, "last_edit_date": 1484231121, "creation_date": 1484229942, "answer_id": 41615191, "question_id": 41580262, "link": "https://stackoverflow.com/questions/41580262/passing-values-between-non-parent-child-relationship-components-in-angular-2/41615191#41615191", "title": "Passing Values Between Non-Parent/Child Relationship Components in Angular 2", "body": "<p>Said I'd do it, so here's the same idea as my first answer, just using a \"floating\" service (so no parent/child thing). Although naive, this is pretty much the crux of it. </p>\n\n<p>First, create the service EmitService. </p>\n\n<pre><code>import { Injectable, EventEmitter } from '@angular/core';\n\n@Injectable()\nexport class EmitService {\n\n  private _emitter;\n\n  constructor() {\n    this._emitter = new EventEmitter ( );\n  }\n\n  subscribeToServiceEmitter ( callback ) {\n    return this._emitter.subscribe ( b =&gt; callback ( b ) );\n  }\n\n  emitThisData ( data ) {\n    this._emitter.emit ( data );\n  }\n}\n</code></pre>\n\n<p>Create two components, they can be anywhere in the app. Here's CompOneComponent, copy it to create CompTwoComponent:</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\n// the CLI puts components in their own folders, adjust this import\n// depending on your app structure...\nimport { EmitService } from '../emit.service';\n\n@Component({\n  selector: 'app-comp-one',\n  templateUrl: './comp-one.component.html',\n  styleUrls: ['./comp-one.component.css']\n})\nexport class CompOneComponent implements OnInit, OnDestroy {\n\n  private _sub;\n\n  constructor( private _emitSvc : EmitService ) {}\n\n  ngOnInit() {\n    // A subscription returns an object you can use to unsubscribe\n    this._sub = this._emitSvc.subscribeToServiceEmitter ( this.onEmittedEvent );\n\n    // Watch the browser, you'll see the traces. \n    // Give CompTwoComponent a different interval, like 5000\n    setTimeout( () =&gt; {\n      this._emitSvc.emitThisData ( 'DATA FROM COMPONENT_1' );\n    }, 2000 );\n\n  }\n\n  onEmittedEvent ( data ) {\n    console.log ( `Component One Received ${data}` );\n  };\n\n  ngOnDestroy ( ) {\n    // Clean up or the emitter's callback reference\n    this._sub.unsubscribe ( );\n  }\n}\n</code></pre>\n\n<p>Add it all to your app; the components are all top level here, but they don't have to be, they can exist anywhere:</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { CompOneComponent } from './comp-one/comp-one.component';\nimport { CompTwoComponent } from './comp-two/comp-two.component';\n\nimport { EmitService } from './emit.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CompOneComponent,\n    CompTwoComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  exports: [ ],\n  providers: [ EmitService ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>And that's it. Now both components have access to the Service (and have subscribed to its EventEmitter), so they can tell it to emit events, and will receive whatever events are fired by whatever other component. Create a CLI app, add this stuff, run it, and you'll see the console.logs fire as you'd expect (note the component that emits the event will also hear it, you can filter that out a couple of different ways). Anything that you can inject the EmitService into can use it regardless of \"where\" it is. </p>\n"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5819, "favorite_count": 2, "accepted_answer_id": 41605011, "answer_count": 4, "score": 5, "last_activity_date": 1486854768, "creation_date": 1484090862, "last_edit_date": 1484091874, "question_id": 41580262, "link": "https://stackoverflow.com/questions/41580262/passing-values-between-non-parent-child-relationship-components-in-angular-2", "title": "Passing Values Between Non-Parent/Child Relationship Components in Angular 2", "body": "<p>From my understanding, in Angular 2, if you want to pass values between unrelated components (i.e., components that don't share a route and thus don't share a parent-child relationship), you do so via a shared service.</p>\n\n<p>So that's what I've set up in my Angular2 app. I am checking to see if a certain series of characters exist in a url and returning true if it does. </p>\n\n<pre><code>  isRoomRoute(routeUrl) {\n      if ((routeUrl.includes('staff') || routeUrl.includes('contractors'))) {\n          console.log('This url: ' + routeUrl + ' is a roomRoute');\n          return true;\n      } else {\n          console.log('This url: ' + routeUrl + ' is NOT a room route');\n          return false;\n      }\n  }\n</code></pre>\n\n<p>In the constructor of the root app.component, I'm subscribing to routing events:</p>\n\n<pre><code>constructor(private routeService: RouteService,\n            private router: Router)  {\n    this.router.events.subscribe((route) =&gt; {\n    let routeUrl = route.url;\n    this.routeService.sendRoute(routeUrl);\n    this.routeService.isRoomRoute(routeUrl);\n    });\n}\n</code></pre>\n\n<p>... and then using those provided urls to check whether or not a url contains the specific string. This is evaluated every time the route changes.</p>\n\n<p>So that's all working as expected.</p>\n\n<p>However, I'm running into a problem in passing the result of that check to a different, non-related (non-parent-child) component. </p>\n\n<p>Even though I'm using a shared service (routeService) in both the app.component and the un-related (room.component) component, what works in one doesn't work in the other. From my understanding, the \"truthiness\" of what's being checked here should be enough to return a true statement. </p>\n\n<p>But in the secondary, unrelated component, I get an \"undefined\" error when I call the function, like this: </p>\n\n<pre><code>  isRoomRoute() {\n       if (this.routeService.isRoomRoute(this.routeUrl)) {\n           return true;\n       }\n     }\n</code></pre>\n\n<p>So this is where I'm stuck. Basically the evaluation as to whether a url contains a certain string has already happened. Now I just need to pass the boolean result of that check to the secondary, non-related component. How can I best do this in Angular 2?</p>\n"}, {"tags": ["typescript", "dependency-injection", "decorator"], "comments": [{"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "edited": false, "score": 0, "creation_date": 1484089128, "post_id": 41579543, "comment_id": 70364907, "body": "Can you explain a little bit more about what you want? Are you going to use that decorator only for the Car class, or many kinds of classes?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1484089712, "post_id": 41579543, "comment_id": 70365113, "body": "You&#39;ll need to use the metadeta library, as explained here: <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html#metadata\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/decorators.html#metadata</a>"}, {"owner": {"reputation": 29231, "user_id": 5486494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e4eMy.jpg?s=128&g=1", "display_name": "El houcine bougarfaoui", "link": "https://stackoverflow.com/users/5486494/el-houcine-bougarfaoui"}, "edited": false, "score": 0, "creation_date": 1484089845, "post_id": 41579543, "comment_id": 70365145, "body": "Alex, I want to use it for many kinds of classes,"}, {"owner": {"reputation": 29231, "user_id": 5486494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e4eMy.jpg?s=128&g=1", "display_name": "El houcine bougarfaoui", "link": "https://stackoverflow.com/users/5486494/el-houcine-bougarfaoui"}, "edited": false, "score": 0, "creation_date": 1484089872, "post_id": 41579543, "comment_id": 70365158, "body": "thank you Nitzan Tomer :)"}], "owner": {"reputation": 29231, "user_id": 5486494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e4eMy.jpg?s=128&g=1", "display_name": "El houcine bougarfaoui", "link": "https://stackoverflow.com/users/5486494/el-houcine-bougarfaoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1484087188, "creation_date": 1484087188, "question_id": 41579543, "link": "https://stackoverflow.com/questions/41579543/how-to-know-the-type-of-class-properties-using-typescript-decorators", "title": "how to know the type of class properties using typescript decorators", "body": "<p>I want to know the type of class properties using typescript decorators</p>\n\n<p>for example: </p>\n\n<pre><code>function Inject(constr : Function){\n  //how to get engine property and its type!!! \n}\n\n@Inject\nclass Car{\n\n  constructor(private engine : Engine){}\n\n}\n\nclass Engine{\n\n  constructor(){}\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1484087046, "creation_date": 1484087046, "answer_id": 41579514, "question_id": 41579379, "link": "https://stackoverflow.com/questions/41579379/extend-a-class-at-runtime-by-accepting-base-type-in-constructor/41579514#41579514", "title": "Extend a class at runtime by accepting base type in constructor?", "body": "<p>It's not completely clear why you're trying to do it, if you want to have the properties of the existing instance in the new one then you can:</p>\n\n<pre><code>class bar extends foo {\n    constructor(base: foo) {\n        super();\n        Object.assign(this, base);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1171, "user_id": 4503491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8bc2496a0d125b26ca26b150dad3b78?s=128&d=identicon&r=PG&f=1", "display_name": "Red Riding Hood", "link": "https://stackoverflow.com/users/4503491/red-riding-hood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 41579514, "answer_count": 1, "score": 0, "last_activity_date": 1484087745, "creation_date": 1484086485, "last_edit_date": 1484087745, "question_id": 41579379, "link": "https://stackoverflow.com/questions/41579379/extend-a-class-at-runtime-by-accepting-base-type-in-constructor", "title": "Extend a class at runtime by accepting base type in constructor?", "body": "<p>I was wondering to 'grow' a class at runtime. I'm not sure what the correct terminology for what I want to achieve is, but I hope my code sample makes it clear.</p>\n\n<pre><code>class foo {\n    protected message: string;\n\n    public SetMessage(message: string) {\n        this.message = message;\n    }\n}\n\nclass bar extends foo\n{\n    constructor(baseClass: foo)\n    {\n        // Not possible\n        this = baseClass as bar;\n        alert(this.message);\n    }\n}\n\nlet baseClass = new foo();\nbaseClass.SetMessage(\"Hello World\");\nlet extendedClass = new bar(baseClass);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 7739, "user_id": 3914207, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hLQZd.jpg?s=128&g=1", "display_name": "rashfmnb", "link": "https://stackoverflow.com/users/3914207/rashfmnb"}, "edited": false, "score": 0, "creation_date": 1484082600, "post_id": 41578269, "comment_id": 70361689, "body": "i think you should write the else as well for this function                                      isRoomRoute(routeUrl) {     if (this.routeService.isRoomRoute(this.routeUrl)) {       return true;     } else { return false }    }"}, {"owner": {"reputation": 7739, "user_id": 3914207, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hLQZd.jpg?s=128&g=1", "display_name": "rashfmnb", "link": "https://stackoverflow.com/users/3914207/rashfmnb"}, "edited": false, "score": 0, "creation_date": 1484082819, "post_id": 41578269, "comment_id": 70361830, "body": "or just do this in component   isRoomRoute(routeUrl) {     return this.routeService.isRoomRoute(this.routeUrl))    }"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "reply_to_user": {"reputation": 7739, "user_id": 3914207, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hLQZd.jpg?s=128&g=1", "display_name": "rashfmnb", "link": "https://stackoverflow.com/users/3914207/rashfmnb"}, "edited": false, "score": 0, "creation_date": 1484085180, "post_id": 41578269, "comment_id": 70363115, "body": "If you mean the function in the routeService file, it already does have an else statement:   isRoomRoute(routeUrl) {       if (routeUrl.includes(&#39;crew&#39;)) {           console.log(&#39;This url: &#39; + routeUrl + &#39; is a roomRoute&#39;);           return true;       } else {           console.log(&#39;This url: &#39; + routeUrl + &#39; is NOT a room route&#39;);           return false;       }   }"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484088597, "creation_date": 1484081825, "last_edit_date": 1484088597, "question_id": 41578269, "link": "https://stackoverflow.com/questions/41578269/working-routeservice-function-is-returning-undefined-when-used-in-another-comp", "title": "Working RouteService Function is Returning &quot;Undefined&quot; When Used in Another Component", "body": "<p>I am running two checks and then conditionally populating some data to certain routes if both conditions are met. In my room.component.html file I am using an *ngIf for this:</p>\n\n<pre><code>&lt;div *ngIf=\"isLoggedIn() &amp;&amp; isRoomRoute()\" class=\"others\"&gt;\n  ... do some work\n&lt;/div&gt;\n</code></pre>\n\n<p>My room.component.ts file looks like this:</p>\n\n<pre><code>import { RouteService } from './../../data/route.service';\nimport { Component } from '@angular/core';\nimport { AuthenticationService } from './../../data/authentication.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-room',\n  templateUrl: './room.component.html',\n  styleUrls: ['./room.component.less']\n})\nexport class RoomComponent {\n\n  model: any = {};\n  loading = false;\n  username;\n  password;\n  routeUrl;\n\n  private url = 'http://localhost:5000';\n\n  constructor(private authenticationService: AuthenticationService,\n              private router: Router,\n              private routeService: RouteService,\n              private appComponent: AppComponent) { }\n\n  isLoggedIn() {\n    this.loading = true;\n    if (this.authenticationService.isAuthenticated()) {\n      return true;\n    }\n  }\n\n  isRoomRoute(routeUrl) {\n    if (this.routeService.isRoomRoute(this.routeUrl)) {\n      return true;\n    }\n  }\n\n}\n</code></pre>\n\n<p>As you can see above, the second check is using a function from my routeService. That function looks like this:</p>\n\n<pre><code>  isRoomRoute(routeUrl) {\n      if (routeUrl.includes('staff')) {\n          console.log('This url: ' + routeUrl + ' is a roomRoute');\n          return true;\n      } else {\n          console.log('This url: ' + routeUrl + ' is NOT a room route');\n          return false;\n      }\n  }\n</code></pre>\n\n<p>This urls are being tracked in my app.component, which is using the routeService in the constructor, and looks like this:</p>\n\n<pre><code>constructor(private routeService: RouteService,\n            private router: Router)\n{\n    this.router.events.subscribe((route) =&gt; {\n    let routeUrl = route.url;\n    this.routeService.sendRoute(routeUrl);\n    this.routeService.isRoomRoute(routeUrl);\n    });\n}\n</code></pre>\n\n<p>I am successfully getting the right result from my routerService's \"isRoomRoute\" function, but I am getting an \"undefined\" error when I try and pass that result to my room component, even though I though I am calling the routeService in that component. So my question is, what am I missing that's making the result \"undefined\" from the room component? How do I pass a boolean value from the result of the isRoomRoute() function in the routeService to my room component?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "dependency-injection"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1484083114, "post_id": 41578135, "comment_id": 70362012, "body": "Your imports seem a little unusual. What mechanism are you using to avoid having to put a leading <code>.&#47;</code> on your non-<code>node_modules</code> imports?"}, {"owner": {"reputation": 503, "user_id": 909298, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d818c8d7335bf1afab19fdaf473386fd?s=128&d=identicon&r=PG", "display_name": "mircea", "link": "https://stackoverflow.com/users/909298/mircea"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1484108758, "post_id": 41578135, "comment_id": 70369877, "body": "Actually I am using ./ or ../ depending on the folder because the application is quite big and uses the folder by feature format."}], "answers": [{"comments": [{"owner": {"reputation": 6626, "user_id": 4907913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c2769a366bde01ddbf60008819e371c?s=128&d=identicon&r=PG&f=1", "display_name": "thewaywewere", "link": "https://stackoverflow.com/users/4907913/thewaywewere"}, "edited": false, "score": 0, "creation_date": 1496574014, "post_id": 44353150, "comment_id": 75708588, "body": "This does not provide an answer to the question. Once you have sufficient <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"http://stackoverflow.com/help/privileges/comment\">comment</a> on any post. Also check this <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">what can I do instead</a>."}, {"owner": {"reputation": 503, "user_id": 909298, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d818c8d7335bf1afab19fdaf473386fd?s=128&d=identicon&r=PG", "display_name": "mircea", "link": "https://stackoverflow.com/users/909298/mircea"}, "edited": false, "score": 0, "creation_date": 1496741400, "post_id": 44353150, "comment_id": 75772262, "body": "@Injectable() decorator has parentheses because otherwise would not work for some components."}, {"owner": {"reputation": 503, "user_id": 909298, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d818c8d7335bf1afab19fdaf473386fd?s=128&d=identicon&r=PG", "display_name": "mircea", "link": "https://stackoverflow.com/users/909298/mircea"}, "edited": false, "score": 1, "creation_date": 1496741931, "post_id": 44353150, "comment_id": 75772644, "body": "It was more like &#39;Do you have various declarations of providers from different modules/components&#39; but in a strange way. Obviously, I not used two services with the same name even in different files but my folders were mixed case. As soon as I renamed the folders to use only small caps the problem was solved. I used a Windows machine for development."}], "tags": [], "owner": {"reputation": 63, "user_id": 4283368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W682q.jpg?s=128&g=1", "display_name": "Aitor Moreno Farr&#233;", "link": "https://stackoverflow.com/users/4283368/aitor-moreno-farr%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1496572804, "creation_date": 1496572804, "answer_id": 44353150, "question_id": 41578135, "link": "https://stackoverflow.com/questions/41578135/angular-2-dependency-injection-a-service-is-injected-in-some-components-but-no/44353150#44353150", "title": "Angular 2 dependency injection - A service is injected in some components but not in all", "body": "<ul>\n<li><p>Do you have various declarations of providers from different modules/components? For every declaration inside the providers array, angular will create a new instance of these services.</p></li>\n<li><p>Do you have included the parentheses in the @Injectable decorator? <a href=\"https://angular.io/docs/ts/latest/guide/dependency-injection.html#!#injectable\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/guide/dependency-injection.html#!#injectable</a></p></li>\n</ul>\n"}], "owner": {"reputation": 503, "user_id": 909298, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d818c8d7335bf1afab19fdaf473386fd?s=128&d=identicon&r=PG", "display_name": "mircea", "link": "https://stackoverflow.com/users/909298/mircea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1421, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496572804, "creation_date": 1484081364, "last_edit_date": 1484109182, "question_id": 41578135, "link": "https://stackoverflow.com/questions/41578135/angular-2-dependency-injection-a-service-is-injected-in-some-components-but-no", "title": "Angular 2 dependency injection - A service is injected in some components but not in all", "body": "<p>I am working to an Angular 2 application which has only one module with several services registered as providers at bootstrap. The application has also several components in the same module which are using these services.</p>\n\n<p>All components are receiving the services using DI (services are declared as parameters in construtor).</p>\n\n<p>The problem that I am facing is: the same service is correctly injected in some components but in other no.</p>\n\n<p>I checked the Injector object for the components where the injection fails and the services instances are within the Injector object. What it fails is the searching with the Injector.get() method. The token provided as parameter is different from the token stored in the Injector dictionary. I am not able to find out why because I am using the class name of the service and the token is automatically generated by the Javascript engine from this class name.   </p>\n\n<p>I tried to use OpaqueTokens to control the injection and, again, even if I am using the same opaque token, when Injector.get() method is called, the token provided by argument is considered different from the token stored by injector.</p>\n\n<p>A short fragment from the code looks like</p>\n\n<p>myservice.service.ts</p>\n\n<pre><code>import { OpaqueToken } from '@angular/core'\n\nexport const BACKEND = new OpaqueToken('backend');\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import { BACKEND } from 'myservice.service'\n...\nproviders: [{ provide: BACKEND, useValue: \"TestValue\" }]\n</code></pre>\n\n<p>mycomponent.component.ts</p>\n\n<pre><code>import { Component, Inject } from '@angular/core'\nimport { BACKEND } from 'myservice.service'\n\n@Component(\n{\nselector:'mycomponent'\ntemplateUrl: ...\n})\nexport class MyComponent\n{\n  constructor(@Inject(BACKEND) config: string) {\n    console.info(JSON.stringify(config));\n  }\n}\n</code></pre>\n\n<p>This injection with BACKEND token works for some components but for other not (the empty {} object is injected). I tried to debug the Javascript code in browser and it looks like the Injector is called with a different token than the token from dictionary (they are looking the same, with the same name 'backend' but still different and === returns false).</p>\n\n<p>Note: I am using Angular 2.4.2, Typescript 2.1 with 'commonjs' modules and 'node' module resolution. systemjs is used as module loader.</p>\n\n<p>Please, can you provide some ideeas about how to fix this?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["angular", "typescript", "webpack", "ts-loader", "karma-webpack"], "comments": [{"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1484079476, "post_id": 41577508, "comment_id": 70360013, "body": "I had some odd issues with <code>awesome-ts-loader</code> that were resolved by switching over to <code>ts-loader</code> which seems to receive updates more regularly (and others were having similar problems according to the github issues page for a-t-l). If it&#39;s an option, I would consider quickly installing it and seeing if that resolves the issue."}, {"owner": {"reputation": 219, "user_id": 1710757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ed236bb7e2a25768c6dc21ce0bd59e0?s=128&d=identicon&r=PG", "display_name": "kyleburke", "link": "https://stackoverflow.com/users/1710757/kyleburke"}, "reply_to_user": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1484081514, "post_id": 41577508, "comment_id": 70361079, "body": "@silentsod gave it a shot, but I&#39;m still getting the same error. That could mean the loader isn&#39;t at fault, but not sure where to place blame at this point."}], "owner": {"reputation": 219, "user_id": 1710757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ed236bb7e2a25768c6dc21ce0bd59e0?s=128&d=identicon&r=PG", "display_name": "kyleburke", "link": "https://stackoverflow.com/users/1710757/kyleburke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1484079045, "creation_date": 1484079045, "question_id": 41577508, "link": "https://stackoverflow.com/questions/41577508/awesome-ts-loader-doesnt-correctly-process-files-when-loaded-through-karma-webp", "title": "awesome-ts-loader doesn&#39;t correctly process files when loaded through karma-webpack", "body": "<p>I have an Angular 2 application that is bundled with Webpack, and tested with Jasmine through Karma with karma-webpack. When developing, the code is bundled and served correctly. When testing, awesome-ts-loader throws a \"Module parse failed\" error on my .spec.ts file.</p>\n\n<pre><code>Module parse failed: /Users/kyleburke/angular2-app/app/main/app.component.spec.ts Unexpected token (10:8)\nYou may need an appropriate loader to handle this file type.\n| ////////  SPECS  /////////////\n| describe('AppComponent', function () {\n|   let de: DebugElement;\n|   let comp: AppComponent;\n|   let fixture: ComponentFixture&lt;AppComponent&gt;;\n@ ./app \\.spec\\.ts\n@ ./karma-shim.js\n</code></pre>\n\n<p>I'm using the karma-webpack \"alternative method\" described on their Github Readme to load all of my .spec files (in karma-shim.js):</p>\n\n<pre><code>var appContext = require.context('./app', true, /\\.spec\\.ts/);\nappContext.keys().forEach(function(path) {\n  try {\n    appContext(path);\n  }\n  catch(err) {\n    console.error('problem with'+ path);\n    console.error(err);\n  }\n});\n</code></pre>\n\n<p>The relevant section of my karma.conf.js is configured correctly, according to several sample repos:</p>\n\n<pre><code>files: [\n  { pattern: './karma-shim.js', watched: false }\n],\npreprocessors: {\n  './karma-shim.js': ['webpack', 'sourcemap']\n},\nwebpack: webpackConfig,\n</code></pre>\n\n<p>And everything in my Webpack config lines up (partial sample):</p>\n\n<pre><code>module.exports = () =&gt; {\n  const TARGET = process.env.npm_lifecycle_event;\n\n  const isTest = TARGET === 'test';\n\n  let config = {};\n\n  config.entry = isTest ? {} : './app/main.ts';\n\n  config.output = isTest ? {} : {\n    path: './dist',\n    filename: 'bundle.js'\n  };\n\n  config.resolve = {\n    extensions: ['.ts', '.js', '.json', '.html']\n  };\n\n  config.module = {\n    rules: [\n      {\n        test: /\\.ts$/,\n        loaders: ['awesome-typescript-loader', 'angular2-template-loader' ],\n        exclude: [isTest ? /\\.(e2e)\\.ts$/ : /\\.(spec|e2e)\\.ts$/, /node_modules\\/(?!(ng2-.+))/]\n      },\n      {test: /\\.json$/, loader: 'json-loader'},\n      {test: /\\.html$/, loader: 'raw-loader'}\n    ]\n  };\n\n  ...\n}\n</code></pre>\n\n<p>The error from tslint makes me think that Webpack is correctly finding the spec file, but it maybe isn't being handed off to awesome-ts-loader, or it isn't loading the tsconfig.json. (again, everything loads fine when developing).</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1484079847, "post_id": 41577501, "comment_id": 70360197, "body": "Have you tried <code>{ [key: K]: V }</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 3870, "user_id": 556072, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/894d95cf834e9c3b4966d10eaa52d610?s=128&d=identicon&r=PG", "display_name": "paldepind", "link": "https://stackoverflow.com/users/556072/paldepind"}, "edited": false, "score": 0, "creation_date": 1484133504, "post_id": 41577915, "comment_id": 70382423, "body": "Thanks for the answer. There is a problem however. See my edit."}, {"owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "reply_to_user": {"reputation": 3870, "user_id": 556072, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/894d95cf834e9c3b4966d10eaa52d610?s=128&d=identicon&r=PG", "display_name": "paldepind", "link": "https://stackoverflow.com/users/556072/paldepind"}, "edited": false, "score": 0, "creation_date": 1484133607, "post_id": 41577915, "comment_id": 70382505, "body": "Which version of TS do you use ?"}, {"owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "reply_to_user": {"reputation": 3870, "user_id": 556072, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/894d95cf834e9c3b4966d10eaa52d610?s=128&d=identicon&r=PG", "display_name": "paldepind", "link": "https://stackoverflow.com/users/556072/paldepind"}, "edited": false, "score": 0, "creation_date": 1484134102, "post_id": 41577915, "comment_id": 70382848, "body": "I suppose they fixed that recently :( it is correctly inferred with  2.2.0-dev.20161221"}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1484136908, "post_id": 41577915, "comment_id": 70384650, "body": "@AlexG Can you give an example of code that performs the arithmetic taht the OP shows and that won&#39;t result in an error in 2.2.0-dev.20161221? When I try it, I get the same error that the OP has reported."}, {"owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "reply_to_user": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1484138587, "post_id": 41577915, "comment_id": 70385800, "body": "@Louis Strange it compiles here. Are you sure it&#39;s not just the IDE ?  <a href=\"https://gist.github.com/AlexGalays/d6d1793d14490b31a55d3a7eb8ff80d3\" rel=\"nofollow noreferrer\">gist.github.com/AlexGalays/d6d1793d14490b31a55d3a7eb8ff80d3</a>"}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 1, "creation_date": 1484139072, "post_id": 41577915, "comment_id": 70386112, "body": "@AlexG Yeah, I confirm that it works fine with both the version you mentioned and the current dev. (2.2.0-dev.20170111). The problem was not the IDE. It&#39;s just that if <code>tsc</code> is installed globally and locally, the global one wins. Many of the tools I use (e.g. <code>gulp</code>) perform a check to see if there is a local installation and will hand over execution to the local installation <i>even if there is a global installation</i>. I forgot that <code>tsc</code> does not do that. :-/"}, {"owner": {"reputation": 3870, "user_id": 556072, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/894d95cf834e9c3b4966d10eaa52d610?s=128&d=identicon&r=PG", "display_name": "paldepind", "link": "https://stackoverflow.com/users/556072/paldepind"}, "edited": false, "score": 1, "creation_date": 1484155547, "post_id": 41577915, "comment_id": 70396843, "body": "You&#39;re right @AlexG it has been fixed post 2.1.  Time to live on typescript@next again :) Thank you for your answer."}], "tags": [], "owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "is_accepted": true, "score": 2, "last_activity_date": 1484080582, "creation_date": 1484080582, "answer_id": 41577915, "question_id": 41577501, "link": "https://stackoverflow.com/questions/41577501/how-make-curried-getter-function-typesafe-with-typescript/41577915#41577915", "title": "How make curried getter function typesafe with TypeScript?", "body": "<p>It seems to work with a nightly build at least:</p>\n\n<pre><code>function get&lt;K extends string&gt;(prop: K) {\n  return &lt;V, Obj extends Record&lt;K, V&gt;&gt;(obj: Obj) =&gt; obj[prop];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "edited": false, "score": 0, "creation_date": 1484081960, "post_id": 41578257, "comment_id": 70361313, "body": "Actually Record is found in the standard typescript typings (lib.d.ts) since 2.1.4"}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "reply_to_user": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "edited": false, "score": 0, "creation_date": 1484081996, "post_id": 41578257, "comment_id": 70361336, "body": "Yes, I have a link to the source code in my answer. I don&#39;t know what point you are making there."}, {"owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "edited": false, "score": 0, "creation_date": 1484082077, "post_id": 41578257, "comment_id": 70361379, "body": "You&#39;re right; didn&#39;t read properly :)  So your answer is more complete in case he didn&#39;t switch to 2.1 yet."}, {"owner": {"reputation": 3870, "user_id": 556072, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/894d95cf834e9c3b4966d10eaa52d610?s=128&d=identicon&r=PG", "display_name": "paldepind", "link": "https://stackoverflow.com/users/556072/paldepind"}, "edited": false, "score": 0, "creation_date": 1484133508, "post_id": 41578257, "comment_id": 70382425, "body": "Thanks for the answer. There is a problem however. See my edit."}], "tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": false, "score": 1, "last_activity_date": 1484139680, "last_edit_date": 1495541239, "creation_date": 1484081783, "answer_id": 41578257, "question_id": 41577501, "link": "https://stackoverflow.com/questions/41577501/how-make-curried-getter-function-typesafe-with-typescript/41578257#41578257", "title": "How make curried getter function typesafe with TypeScript?", "body": "<p>What AlexG has <a href=\"https://stackoverflow.com/a/41577915/1906307\">answered</a> does work. You can also just do it without <code>Record</code>. Here's code that illustrates both. <code>get</code> uses <code>Record&lt;K, V&gt;</code> whereas <code>get2</code> uses <code>{[x in K]: V}</code>.</p>\n\n<pre><code>function get&lt;K extends string&gt;(prop: K) {\n  return &lt;V, Obj extends Record&lt;K, V&gt;&gt;(obj: Obj) =&gt; obj[prop];\n}\n\nfunction get2&lt;K extends string&gt;(prop: K) {\n  return &lt;V, T extends {[x in K]: V}&gt;(obj: T) =&gt; obj[prop];\n}\n\nconst foo = {\n  \"a\": 1,\n  \"b\": 2,\n};\n\nconsole.log(get(\"b\")(foo));\nconsole.log(get2(\"b\")(foo));\n// This line should compile fine in recent development versions and\n// presumably will work fine in regular releases from 2.2.0 onwards.\n// There's a bug in 2.1.x that causes the type inference to bork and \n// cause the compiler to think were adding 1 to a plain object (`{}`).\nconsole.log(get2(\"b\")(foo) + 1);\n</code></pre>\n\n<p>I figured the above and then though that with <code>get2</code> I'm probably just replicating what <code>Record</code> does, and <a href=\"https://github.com/Microsoft/TypeScript/blob/4086bd13c7b459ab4302c48fc3ac428cc2078e08/lib/lib.d.ts#L1403\" rel=\"nofollow noreferrer\">lo and behold</a>, that's the case because <code>Record</code> is defined like this:</p>\n\n<pre><code>/**\n * Construct a type with a set of properties K of type T\n */\ntype Record&lt;K extends string, T&gt; = {\n    [P in K]: T;\n}\n</code></pre>\n\n<p>The type inference problem you mentioned in your update is a bug in TypeScript that has been fixed in relatively recent versions of TypeScript. (<a href=\"https://stackoverflow.com/questions/41577501/how-make-curried-getter-function-typesafe-with-typescript/41577915?noredirect=1#comment70384650_41577915\">Alex mentions</a> version 2.2.0-dev.20161221. I've tried with newer versions and also got a flawless compilation.) Presumably, it will be fixed in version 2.2.0. I don't know of any solution that will fix the compilation error in versions prior to 2.2.0 and won't have <em>other</em> negative side-effects.</p>\n"}], "owner": {"reputation": 3870, "user_id": 556072, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/894d95cf834e9c3b4966d10eaa52d610?s=128&d=identicon&r=PG", "display_name": "paldepind", "link": "https://stackoverflow.com/users/556072/paldepind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 41577915, "answer_count": 2, "score": 1, "last_activity_date": 1484139680, "creation_date": 1484079007, "last_edit_date": 1484133480, "question_id": 41577501, "link": "https://stackoverflow.com/questions/41577501/how-make-curried-getter-function-typesafe-with-typescript", "title": "How make curried getter function typesafe with TypeScript?", "body": "<p>I'm trying to write types for the following function</p>\n\n<pre><code>function get(prop) {\n  return (obj) =&gt; obj[prop];\n}\n</code></pre>\n\n<p>I initially tried to use <code>keyof</code> but I couldn't get it to work. Now I've got this:</p>\n\n<pre><code>function get&lt;K extends string&gt;(prop: K) {\n  return &lt;V, T extends {K: V}&gt;(obj: {K: V}) =&gt; obj[prop];\n}\n</code></pre>\n\n<p>But it gives the error</p>\n\n<pre><code>error TS2536: Type 'K' cannot be used to index type '{ K: V; }'.\n</code></pre>\n\n<p>which seem a bit silly since <code>{K: V}</code> seems to have a key <code>K</code>.</p>\n\n<p>Is it possible to make the function typesafe so that the first argument has to be a string and the argument to the returned function has to be an object with the correct property?</p>\n\n<hr>\n\n<p>Update: Thanks for the answers. But there is, however, a problem with both solutions. Consider the code below:</p>\n\n<pre><code>function get&lt;K extends string&gt;(prop: K) {\n  return &lt;V, Obj extends Record&lt;K, V&gt;&gt;(obj: Obj): Obj[K] =&gt; obj[prop];\n}\nconst a = get(\"foo\")({ foo: 1 });\na + 12;\n</code></pre>\n\n<p>The last line results in an error because TypeScript deduces the type <code>{}</code> for <code>a</code>. This makes the function very cumbersome to use because one will have to cast the <code>{}</code>.</p>\n"}, {"tags": ["javascript", "json", "class", "angular", "typescript"], "comments": [{"owner": {"reputation": 1025, "user_id": 2026740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3644e242eeabe917840ddd85204d1?s=128&d=identicon&r=PG", "display_name": "Daniel Corzo", "link": "https://stackoverflow.com/users/2026740/daniel-corzo"}, "edited": false, "score": 1, "creation_date": 1484078265, "post_id": 41577278, "comment_id": 70359401, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/22885995/how-do-i-initialize-a-typescript-object-with-a-json-object\">How do I initialize a typescript object with a JSON object</a>"}], "owner": {"reputation": 734, "user_id": 1707013, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qww7A.jpg?s=128&g=1", "display_name": "TradeRaider", "link": "https://stackoverflow.com/users/1707013/traderaider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1484078376, "creation_date": 1484078140, "last_edit_date": 1484078376, "question_id": 41577278, "link": "https://stackoverflow.com/questions/41577278/how-do-i-cast-a-json-on-to-a-class-interface-angularjs2", "title": "How do I cast a json on to a class/interface angularjs2", "body": "<p>The server returns something like this</p>\n\n<pre><code>{\n    \"_id\": \"5874e4e481009b3cbb0f0ea6\",\n    \"description\": \"A home where the family lives\",\n    \"administrator\": \"586df1e06485de5fc48b72a5\",\n    \"name\": \"Johns House\",\n    \"__v\": 0,\n    \"rooms\": [],\n    \"users\": []\n  }\n</code></pre>\n\n<p>What is the best technique to use this data? If I am to cast this into a class, how would I do it? I am using typescript and the angularjs framework.</p>\n"}, {"tags": ["angularjs", "google-maps", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 52004, "user_id": 1375553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a94s0.jpg?s=128&g=1", "display_name": "Vadim Gremyachev", "link": "https://stackoverflow.com/users/1375553/vadim-gremyachev"}, "is_accepted": true, "score": 0, "last_activity_date": 1484593748, "creation_date": 1484593748, "answer_id": 41683421, "question_id": 41577270, "link": "https://stackoverflow.com/questions/41577270/display-google-maps-with-current-position-with-ngmap/41683421#41683421", "title": "Display Google Maps with current position with ngMap", "body": "<p>For that purpose you could specify <code>current-location</code> for <code>position</code> attribute and set <code>centered</code> to <code>true</code>:</p>\n\n<pre><code>&lt;marker centered=\"true\" position=\"current-location\" &gt;&lt;/marker&gt;\n</code></pre>\n\n<p><a href=\"https://plnkr.co/edit/eVz9M7HUXK4ItWTqpcIk?p=preview\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 702, "user_id": 6212879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83eb9b76551a18573818237109235925?s=128&d=identicon&r=PG&f=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6212879/nano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1300, "favorite_count": 0, "accepted_answer_id": 41683421, "answer_count": 1, "score": 0, "last_activity_date": 1484593748, "creation_date": 1484078130, "question_id": 41577270, "link": "https://stackoverflow.com/questions/41577270/display-google-maps-with-current-position-with-ngmap", "title": "Display Google Maps with current position with ngMap", "body": "<p>I'm trying to display a Google Maps webpage with a marker that shows the current position (using this library -> <a href=\"https://github.com/allenhwkim/angularjs-google-maps\" rel=\"nofollow noreferrer\">https://github.com/allenhwkim/angularjs-google-maps</a>). This is the controller.</p>\n\n<pre><code>export class SearchCtrl implements ISearchCtrl {\n    longitude: number;\n    latitude: number;\n\n    constructor(public StartLoadingService: IStartLoadingService,\n                public LoginService: ILoginService,\n                public NgMap) {\n\n        this.longitude = 9.191383;\n        this.latitude =  45.464211;\n\n        navigator.geolocation.getCurrentPosition(this.setLocations.bind(this));\n    }\n\n    setLocations(position): void {\n        this.longitude = position.coords.longitude;\n        this.latitude = position.coords.latitude;\n    }\n}\n</code></pre>\n\n<p>Is there a function I can call on NgMap to put a marker and jump to such position?</p>\n\n<p>Thanks,</p>\n\n<p>Nano</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "edited": false, "score": 0, "creation_date": 1484077912, "post_id": 41577190, "comment_id": 70359208, "body": "No, it is top down. An apple (B) is a fruit (A) but a fruit is no apple. Inheritance adds or changes behaviour. Your B adds a property to A. So it is clear that A does not have it."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "edited": false, "score": 0, "creation_date": 1484077963, "post_id": 41577190, "comment_id": 70359240, "body": "@chris Care to elaborate?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1484078160, "post_id": 41577190, "comment_id": 70359349, "body": "You&#39;re assuming that any instance of A is also an instance of B. That&#39;s not true: <code>class C extends A {}</code> defines a class that extends A, and doesn&#39;t have any prop property."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484078297, "post_id": 41577190, "comment_id": 70359419, "body": "@JBNizet I&#39;ve been using abstract classes for like years on other languages, even vanilla JS interprets this properly. Could you explain the problem a bit detailed for me? I&#39;m not sure where <code>C</code> comes from, or what difference it makes. The whole point of abstract classes is to get a class to extend it..."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484078512, "post_id": 41577190, "comment_id": 70359527, "body": "Every language I know of will also refuse to compile that. When the compiler compiles A, it can&#39;t find any property <code>prop</code> in A, nor in any of its superclasses. The fact that there is a subclass of A that defines such a property is irrelevant: nothing guarantees to the compiler that all subclasses of A have a <code>prop</code> property."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484078670, "post_id": 41577190, "comment_id": 70359592, "body": "@JBNizet Updated the snippet for clarity. Can&#39;t I tell compiler that I know what I am doing, and this property will be available? Like <code>public reference sound</code> or something? So compiler knows there is a <code>sound</code> property defined on the extended class?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484079490, "post_id": 41577190, "comment_id": 70360020, "body": "Why don&#39;t you instead define it in the superclass, if it&#39;s supposed to exist for all instances of this superclass?"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484080546, "post_id": 41577190, "comment_id": 70360559, "body": "@JBNizet sound property should exist in all classes, but each animal makes a different sound so each animal type (e.g Dog) should define their own sounds. I&#39;m not sure if we can&#39;t understand eachother, but the snippet above works on all scripting languages like PHP, JS and alike. Could you give me a jsfiddle example about defining it in a superclass?"}], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 2, "last_activity_date": 1484080963, "creation_date": 1484080963, "answer_id": 41578019, "question_id": 41577190, "link": "https://stackoverflow.com/questions/41577190/typescript-not-recognizing-properties-on-the-parent-class/41578019#41578019", "title": "Typescript not recognizing properties on the parent class?", "body": "<p>Here's how you should define your two classes:</p>\n\n<pre><code>export abstract class Animal {\n\n  protected constructor(public sound: string) {\n  }\n\n  makeSound() {\n    alert(this.sound);\n  }\n}\n\nexport class Dog extends Animal {\n  constructor() {\n    super('woof');\n  }\n}\n</code></pre>\n\n<p>Putting the property in the Animal class tells the compiler that all animals have a sound. Putting the sound as an argument of the superclass constructor makes it clear that all subclasses must specify their sound when constructing the instance.</p>\n\n<p>There are other possible variations, but if the superclass needs to access the sound property or some getSound() method, then this property/method should exist in the base class.</p>\n"}, {"comments": [{"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484082015, "post_id": 41578151, "comment_id": 70361347, "body": "Alex, when I tried using the abstract keyword approach, sound was <code>undefined</code> so it didn&#39;t read the value from the extending class, as I mentioned on my question. I&#39;ll give this one another try and let you know shortly. Edit: Yeah, when I do <code>console.log(this.sound)</code>, it outputs <code>undefined</code>. I am on Typescript <code>2.1.4</code>."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484082584, "post_id": 41578151, "comment_id": 70361678, "body": "@IcarusCocksson works fine here: <a href=\"http://plnkr.co/edit/wRwff7MrFazrjYQHKmFI?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/wRwff7MrFazrjYQHKmFI?p=preview</a>"}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484082980, "post_id": 41578151, "comment_id": 70361933, "body": "@JBNizet @Alex Weird, it doesn&#39;t work for me. I pushed the commit into my repository if you want to have a look: <a href=\"https://github.com/Aristona/Phaser.Adventure-Capitalist/tree/master/src/Shop\" rel=\"nofollow noreferrer\">github.com/Aristona/Phaser.Adventure-Capitalist/tree/master/&zwnj;&#8203;src/&hellip;</a> - This is the abstract class and line 50-55 is where I define the abstract properties. All the classes in the Shops folder extend the Shop and define those properties themself. When I run it, all of them becomes <code>undefined</code>. (everything between line 50 and 55 in Shop.ts). Any ideas?"}, {"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "edited": false, "score": 0, "creation_date": 1484083142, "post_id": 41578151, "comment_id": 70362027, "body": "@IcarusCocksson I had to remove those exports when running your example code in <a href=\"http://www.typescriptlang.org/play\" rel=\"nofollow noreferrer\">playground</a> for it to work so I guess it has something to do with that. I&#39;ll take a look at your repo."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484083267, "post_id": 41578151, "comment_id": 70362094, "body": "I tried removing them myself, Typescript complains about not having exported members. Thanks alot for the help. My repo can be a bit messy as I was converting my little game into Typescript to get a better understanding of it."}, {"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484084311, "post_id": 41578151, "comment_id": 70362640, "body": "@Aris Have you debugged your code, so that you are sure that this is not just a coding error somewhere? Unfortunately I&#39;m currently not able to pull in your repo and build it myself."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484084540, "post_id": 41578151, "comment_id": 70362771, "body": "@Alex I&#39;m not exactly sure what could be wrong. I guess those <code>export</code> declarations may be problematic. I&#39;ll change my typescript and gulp settings and dig until I find the cause. Thanks alot for the help. Your example works properly (actually, that&#39;s what I did initially) but I guess it is the exports that was breaking my code. Selecting this one as the answer."}, {"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484084857, "post_id": 41578151, "comment_id": 70362947, "body": "@Aris Well, of course you should be able to export stuff... Problem was mostly that I just couldn&#39;t past it in directly in playground and have it working as it was, so I was thinking that you were maybe trying something similar. If you find something interesting, please keep us updated if there is a language bug somewhere."}, {"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484140840, "post_id": 41578151, "comment_id": 70387209, "body": "@Alex Hey Alex, I tried to solve it. Seems like it occurs when I try to access <code>this.sound</code> in the abstract classes constructor. <code>makeSound() {         alert(this.sound); }</code> works, while  <code>constructor() { alert(this.sound); }</code> alerts <code>undefined</code>. Usually, abstract classes has to construct themself with data coming from the parent class. I don&#39;t want to pass everything to <code>super()</code> as parameters..."}, {"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484208077, "post_id": 41578151, "comment_id": 70417393, "body": "@Aris Ah, I see. If you look at the compiled javascript, you can see that TypeScript instantiates the inheritance chain first, and <i>then</i> assigns the properties to the derived class. I&#39;m not sure about this, you might report this to the typescript github and see what they say. Maybe there should be an error message if you reference abstract properties in the constructor of the abstract class."}, {"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484303315, "post_id": 41578151, "comment_id": 70464515, "body": "@Aris Check out these links: <a href=\"https://github.com/Microsoft/TypeScript/issues/9209\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/9209</a>, <a href=\"https://github.com/Microsoft/TypeScript/issues/9230\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/9230</a>"}], "tags": [], "owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "is_accepted": true, "score": 8, "last_activity_date": 1484303277, "last_edit_date": 1484303277, "creation_date": 1484081427, "answer_id": 41578151, "question_id": 41577190, "link": "https://stackoverflow.com/questions/41577190/typescript-not-recognizing-properties-on-the-parent-class/41578151#41578151", "title": "Typescript not recognizing properties on the parent class?", "body": "<p>I agree with JB Nizet. But you also have the ability to define <code>sound</code> as an abstract property. That way your base class knows about <code>sound</code>, and all extending classes have to implement the abstract property <code>sound</code>:</p>\n\n<pre><code>export abstract class Animal\n{\n    abstract sound: string; // Only change here, now your code works\n    constructor() {\n\n    }\n\n    makeSound() {\n        alert(this.sound);\n    }\n}\n\nexport class Dog extends Animal {\n    public sound: string = \"Woof!\";\n\n    constructor() {\n        super();\n    }\n}\n\nconst dog = new Dog;\ndog.makeSound(); // Woof!\n</code></pre>\n\n<p>The ability to define abstract properties came with TS 2.0: <a href=\"https://github.com/Microsoft/TypeScript/issues/4669\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/4669</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>The problem OP experienced with this approach, see comments, was that the abstract property was used in the constructor of the abstract base class. This will not work since the property is assigned the initial value from the deriving class first <em>after</em> the object is instantiated.</p>\n\n<p>There is a <a href=\"https://github.com/Microsoft/TypeScript/issues/9230\" rel=\"noreferrer\">github issue</a> for this problem, where the solution is to simply error on access to abstract properties within the constructor of the abstract class.</p>\n"}, {"comments": [{"owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484082491, "post_id": 41578382, "comment_id": 70361630, "body": "Is get/set syntax mandatory? Also, the following syntax looks a bit weird. <code>protected getProp: string { return &quot;Hello world&quot;; }</code>. Why do we define type as string but place an object literal with a return keyword? o_O"}, {"owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "reply_to_user": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "edited": false, "score": 0, "creation_date": 1484083039, "post_id": 41578382, "comment_id": 70361962, "body": "@IcarusCocksson: <code>getProp</code> is a method, not a property. The get syntax with the method call is because at least early versions of TypeScript don&#39;t support abstract properties. Hence using a getter and calling an abstract method."}], "tags": [], "owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "is_accepted": false, "score": 1, "last_activity_date": 1484082828, "last_edit_date": 1484082828, "creation_date": 1484082302, "answer_id": 41578382, "question_id": 41577190, "link": "https://stackoverflow.com/questions/41577190/typescript-not-recognizing-properties-on-the-parent-class/41578382#41578382", "title": "Typescript not recognizing properties on the parent class?", "body": "<p>The error message is exactly right: <code>prop</code> does not exist on <code>A</code>, because it exists on <code>B</code>. You might be coming from JavaScript, where what you did is just fine. The key difference between TypeScript and JavaScript is that TypeScript s strongly typed and JavaScript is weakly typed. That difference requires a change in your thinking.</p>\n\n<p>In a weakly typed language like JavaScript, it simply doesn't matter that <code>prop</code> does not exist in <code>A</code>. Types are resolved at runtime and if your actual instance has <code>prop</code>, everything will be fine. In a statically (or strongly) typed language, things are different. Types are enforced at compile time and if <code>A</code> doesn't define <code>prop</code>, it can not use it. That's why strongly typed languages allow you to define abstract members: to make them accessible at base classes, but to actually define rhem in derived classes.</p>\n\n<p>Since <a href=\"https://github.com/Microsoft/TypeScript/issues/4669\" rel=\"nofollow noreferrer\">not all versions of TypeScript support abstract properties directly</a>, this solution should work in any case:</p>\n\n<pre><code>export abstract class Animal\n{\n    get sound(): string { return getSound(); }\n    protected abstract getSound(): string;\n    constructor() {}\n    makeSound(): void {\n        console.log(this.sound);\n    }\n}\n\nexport class Dog extends Animal\n{\n    protected getSound: string { return \"Woof!\"; }\n\n    constructor() {\n        super();\n    }\n}\n\nconst b = new B;\nB.makeSound();\n</code></pre>\n"}], "owner": {"reputation": 1918, "user_id": 1838156, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/94ab54f7bc746e96dc4f87c1a1ea84e0?s=128&d=identicon&r=PG", "display_name": "Aris", "link": "https://stackoverflow.com/users/1838156/aris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11457, "favorite_count": 0, "accepted_answer_id": 41578151, "answer_count": 3, "score": 10, "last_activity_date": 1484303277, "creation_date": 1484077819, "last_edit_date": 1484078514, "question_id": 41577190, "link": "https://stackoverflow.com/questions/41577190/typescript-not-recognizing-properties-on-the-parent-class", "title": "Typescript not recognizing properties on the parent class?", "body": "<p>I have a basic inheritence like so:</p>\n\n<pre><code>export abstract class Animal\n{\n     constructor() {\n\n     }\n\n     makeSound() {\n         alert(this.sound);\n     }\n}\n\nexport class Dog extends Animal\n{\n     public sound: string = \"Woof!\";\n\n     constructor() {\n         super();\n     }\n}\n\nconst dog = new Dog;\ndog.makeSound(); // Woof!\n</code></pre>\n\n<p>I'm having an issue trying to get the above snippet working. <code>Property prop does not exist on type A</code>. However, it does exist on B, and since it is public, A should be able to reach prop via <code>this.prop</code>.</p>\n\n<p>I tried the following:</p>\n\n<ul>\n<li>Same as above - It doesn't compile. (Property prop does not exist on type A)</li>\n<li>If I add <code>public prop: any;</code> to <code>A</code>, then <code>prop</code> becomes <code>undefined</code> and not <code>Hello world</code>.</li>\n<li>If I add <code>public abstract prop: any;</code> to <code>A</code>, same thing happens.</li>\n</ul>\n\n<p>The whole point of inheritence by using abstract classes is to share <code>this</code> scope.</p>\n\n<p>How can I do it properly with Typescript?</p>\n"}, {"tags": ["node.js", "typescript", "npm", "asp.net-core", "visual-studio-2005"], "comments": [{"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1484077626, "post_id": 41576890, "comment_id": 70359042, "body": "Which npm version are you using? (do npm -v in the console)"}, {"owner": {"reputation": 110, "user_id": 2670803, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/44769de16fc1095a20984287993b965d?s=128&d=identicon&r=PG", "display_name": "Tarek Salah", "link": "https://stackoverflow.com/users/2670803/tarek-salah"}, "reply_to_user": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1484077683, "post_id": 41576890, "comment_id": 70359072, "body": "npm version is: 4.1.1"}], "answers": [{"comments": [{"owner": {"reputation": 110, "user_id": 2670803, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/44769de16fc1095a20984287993b965d?s=128&d=identicon&r=PG", "display_name": "Tarek Salah", "link": "https://stackoverflow.com/users/2670803/tarek-salah"}, "edited": false, "score": 0, "creation_date": 1484077617, "post_id": 41577027, "comment_id": 70359036, "body": "Thank you for your fast response. It works now. I moved the contents of D:\\weblFront\\frontWeb\\src\\frontWeb\\ to D:\\web and it works."}, {"owner": {"reputation": 961, "user_id": 999428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a15ebc2c6585a4cc3baeb3e7c39a453?s=128&d=identicon&r=PG", "display_name": "Ryan Russon", "link": "https://stackoverflow.com/users/999428/ryan-russon"}, "reply_to_user": {"reputation": 110, "user_id": 2670803, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/44769de16fc1095a20984287993b965d?s=128&d=identicon&r=PG", "display_name": "Tarek Salah", "link": "https://stackoverflow.com/users/2670803/tarek-salah"}, "edited": false, "score": 0, "creation_date": 1484078158, "post_id": 41577027, "comment_id": 70359348, "body": "After a little Googling, it looks like some people have fixed similar issues by purging and re-installing their NPM packages.  Not sure why that would help, but it&#39;s easy to try."}, {"owner": {"reputation": 110, "user_id": 2670803, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/44769de16fc1095a20984287993b965d?s=128&d=identicon&r=PG", "display_name": "Tarek Salah", "link": "https://stackoverflow.com/users/2670803/tarek-salah"}, "edited": false, "score": 0, "creation_date": 1484079246, "post_id": 41577027, "comment_id": 70359884, "body": "I will give it a try after having some time. I wish I could finish my first Asp.Net Core project asap. I created the first page twice and every time this problem arises. When I moved to a shorter folder name it is fixed. I wish it will not come again."}, {"owner": {"reputation": 110, "user_id": 2670803, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/44769de16fc1095a20984287993b965d?s=128&d=identicon&r=PG", "display_name": "Tarek Salah", "link": "https://stackoverflow.com/users/2670803/tarek-salah"}, "edited": false, "score": 0, "creation_date": 1484082400, "post_id": 41577027, "comment_id": 70361575, "body": "It looks like it does not accept any front slash. If I put the contents of the project in d:\\web\\src it does not accept. Meanwhile, when I put them in d:\\webbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb it is ok!!! I think the problem is related to System.IO.Path.NormalizePath(String path, Boolean fullCheck, Int32 maxPathLength, Boolean expandShortPaths) as described."}], "tags": [], "owner": {"reputation": 961, "user_id": 999428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a15ebc2c6585a4cc3baeb3e7c39a453?s=128&d=identicon&r=PG", "display_name": "Ryan Russon", "link": "https://stackoverflow.com/users/999428/ryan-russon"}, "is_accepted": true, "score": 1, "last_activity_date": 1484077254, "creation_date": 1484077254, "answer_id": 41577027, "question_id": 41576890, "link": "https://stackoverflow.com/questions/41576890/system-io-pathtoolongexception-when-building-asp-net-core-project/41577027#41577027", "title": "System.IO.PathTooLongException when building Asp.Net Core project", "body": "<p>It looks like a simple error caused by a path (probably in a dependency) being too long for Windows.  You may be able to solve this just by shortening the path to the folder with your code.</p>\n\n<p>e.g. Try moving the project folder</p>\n\n<p>from D:\\weblFront\\frontWeb\\src\\frontWeb\\frontWeb\\</p>\n\n<p>to D:\\Code\\frontWeb\\</p>\n"}], "owner": {"reputation": 110, "user_id": 2670803, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/44769de16fc1095a20984287993b965d?s=128&d=identicon&r=PG", "display_name": "Tarek Salah", "link": "https://stackoverflow.com/users/2670803/tarek-salah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "accepted_answer_id": 41577027, "answer_count": 1, "score": 0, "last_activity_date": 1484077795, "creation_date": 1484076769, "question_id": 41576890, "link": "https://stackoverflow.com/questions/41576890/system-io-pathtoolongexception-when-building-asp-net-core-project", "title": "System.IO.PathTooLongException when building Asp.Net Core project", "body": "<p>When I build project with Visual Studio 2016 update 3 Asp.Net Core I receive this error and the build is terminated:</p>\n\n<p>Severity    Code    Description Project File    Line    Suppression State\nError   MSB4018 The \"FindConfigFiles\" task failed unexpectedly.\nSystem.IO.PathTooLongException: The specified path, file name, or both are too long. The fully qualified file name must be less than 260 characters, and the directory name must be less than 248 characters.\n   at System.IO.Path.NormalizePath(String path, Boolean fullCheck, Int32 maxPathLength, Boolean expandShortPaths)\n   at System.IO.Path.GetDirectoryName(String path)\n   at System.IO.FileSystemEnumerableIterator<code>1..ctor(String path, String originalUserPath, String searchPattern, SearchOption searchOption, SearchResultHandler</code>1 resultHandler, Boolean checkHost)\n   at System.IO.Directory.EnumerateFiles(String path)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func<code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func</code>2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherFiles(String directoryPath, String projectPath, Func`2 filter)\n   at TypeScript.Tasks.FileHelpers.RecursiveGatherConfigFiles(String directoryPath, String projectPath)\n   at TypeScript.Tasks.FindConfigFiles.FindConfigFilesOnDisk()\n   at TypeScript.Tasks.FindConfigFiles.Execute()\n   at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute()\n   at Microsoft.Build.BackEnd.TaskBuilder.d__26.MoveNext() D:\\weblFront\\frontWeb\\src\\frontWeb\\frontWeb.xproj   C:\\Program Files (x86)\\MSBuild\\Microsoft\\VisualStudio\\v14.0\\TypeScript\\Microsoft.TypeScript.targets 156 </p>\n\n<p>I do not use any tool etc. Only Gulp. How to fix this problem please.</p>\n"}, {"tags": ["angular", "typescript", "universal"], "answers": [{"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 1, "last_activity_date": 1484076995, "creation_date": 1484076995, "answer_id": 41576960, "question_id": 41576814, "link": "https://stackoverflow.com/questions/41576814/404-error-on-service-request-how-to-change-reply-status/41576960#41576960", "title": "404 error on service request. How to change reply status", "body": "<p>You could have a page not found page</p>\n\n<p>and in your routes:</p>\n\n<pre><code>{\n    // all unvalid urls, get redirected to page not found page\n    path: '**',\n    component: PageNotFoundComponent,\n}\n</code></pre>\n\n<p>and if you need to intercept unvalid urls in e.g your service, based on response and use:</p>\n\n<pre><code>this._router.navigateByUrl('/pagenotfound', { skipLocationChange: true }) \n</code></pre>\n\n<p>This also uses <code>skipLocationChange</code>, so when user clicks back-button in browser, user does not get \"stuck\" in the 404 page, it skips that page.</p>\n"}], "owner": {"reputation": 49, "user_id": 7401084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f56670c803d84e2556761107ebfa6d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Harel", "link": "https://stackoverflow.com/users/7401084/david-harel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1484076995, "creation_date": 1484076469, "question_id": 41576814, "link": "https://stackoverflow.com/questions/41576814/404-error-on-service-request-how-to-change-reply-status", "title": "404 error on service request. How to change reply status", "body": "<p>I am a newbie on Angular2.\nI could not find answer to my question: How to replace content of reply if a service in my module result with an error.\nThe scenario is that the module uses a hashed ID from the URL to perform a service request. If the URL was copied incorrectly the request fails.\nWe thought that at this point we should display a 404 page.\nCurrently, when an error is detected, I redirect to the 404 page.\nIt seems to me that this behavior causes problems such as that on the browser the back operation is problematic.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["javascript", "string", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1484078268, "post_id": 41577251, "comment_id": 70359405, "body": "Ah, thank you! You&#39;re right, changing the function to this worked:    isRoomRoute(routeUrl) {       if (routeUrl.includes(&#39;crew&#39;)) {           console.log(&#39;This url: &#39; + routeUrl + &#39; is a roomRoute&#39;);       } else {           console.log(&#39;This url: &#39; + routeUrl + &#39; is NOT a room route&#39;);       }   }"}], "tags": [], "owner": {"reputation": 10285, "user_id": 5411511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMvn3.jpg?s=128&g=1", "display_name": "seidme", "link": "https://stackoverflow.com/users/5411511/seidme"}, "is_accepted": true, "score": 3, "last_activity_date": 1484230391, "last_edit_date": 1484230391, "creation_date": 1484078074, "answer_id": 41577251, "question_id": 41576806, "link": "https://stackoverflow.com/questions/41576806/running-includes-on-a-url-by-checking-for-the-presence-of-a-series-of-charac/41577251#41577251", "title": "Running &quot;.includes&quot; on a url, by checking for the presence of a series of characters not working", "body": "<p>The <code>If</code> statement inside your <code>isRoomRoute</code> function is checking for <code>this.url</code> (routeService property?) instead of the <code>routeUrl</code> (passed url).</p>\n"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 41577251, "answer_count": 1, "score": 0, "last_activity_date": 1484230391, "creation_date": 1484076439, "last_edit_date": 1484078098, "question_id": 41576806, "link": "https://stackoverflow.com/questions/41576806/running-includes-on-a-url-by-checking-for-the-presence-of-a-series-of-charac", "title": "Running &quot;.includes&quot; on a url, by checking for the presence of a series of characters not working", "body": "<p>I am trying to conditionally populate some data to a route depending on whether or not the URL of that particular route has a certain prefix in my Angular 2 app. Assume a route like this:</p>\n\n<blockquote>\n  <p>\"<a href=\"http://localhost:4200/staff/e9a54desc2bea54l3\" rel=\"nofollow noreferrer\">http://localhost:4200/staff/e9a54desc2bea54l3</a>\"</p>\n</blockquote>\n\n<p>To check for this, I am running this function from my routeService file:</p>\n\n<pre><code>  isRoomRoute(routeUrl) {\n      if (this.url.includes('staff')) {\n          console.log('This url: ' + routeUrl + ' is a roomRoute');\n      } else {\n          console.log('This url: ' + routeUrl + ' is NOT a room route');\n      }\n  }\n</code></pre>\n\n<p>And this is connected to my app.component (which is importing the routeService file and using it in the constructor), which is registering route changes, and then calling my \"isRoomRoute\" function, like this:</p>\n\n<pre><code>constructor(private routeService: RouteService,\n            private router: Router) {\n\n    this.router.events.subscribe((route) =&gt; {\n    let routeUrl = route.url;\n    this.routeService.sendRoute(routeUrl);\n    this.routeService.isRoomRoute(routeUrl);\n    });\n}\n</code></pre>\n\n<p>Currently I am getting results that don't appear to fit the conditional parameters I am checking for. In other words, the function returns true or false in unexpected ways, that don't seem to depend on characters in a particular URL.</p>\n\n<p>For instance, if I run this for this route:</p>\n\n<blockquote>\n  <p><a href=\"http://localhost:4200/staff/321e8a56ar6s\" rel=\"nofollow noreferrer\">http://localhost:4200/staff/321e8a56ar6s</a></p>\n</blockquote>\n\n<p>I get this result in the console:</p>\n\n<blockquote>\n  <p>This url: /staff/321e8a56ar6s is NOT a room route</p>\n</blockquote>\n\n<p>Clearly this is not the expected result, because according to the function logic, I should get a positive response that this IS a room result, because it contains \"staff\" in the evaluated url:</p>\n\n<pre><code>  isRoomRoute(routeUrl) {\n      if (this.url.includes('staff')) {\n          console.log('This url: ' + routeUrl + ' is a roomRoute');\n      } else {\n          console.log('This url: ' + routeUrl + ' is NOT a room route');\n      }\n  }\n</code></pre>\n\n<p>I know the URL is being passed, because it's part of the console log that I am seeing in the console. So what am I missing that's making this function not work as expected?</p>\n"}, {"tags": ["javascript", "json", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484076539, "post_id": 41576450, "comment_id": 70358472, "body": "Where is your js running? In node or the browser?"}, {"owner": {"reputation": 3899, "user_id": 4310083, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100001988644101/picture?type=large", "display_name": "Nere", "link": "https://stackoverflow.com/users/4310083/nere"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1484077125, "post_id": 41576450, "comment_id": 70358791, "body": "@NitzanTomer browser...I used ionic2"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1484085321, "post_id": 41576450, "comment_id": 70363183, "body": "Try this one: <a href=\"https://github.com/eligrey/FileSaver.js\" rel=\"nofollow noreferrer\">github.com/eligrey/FileSaver.js</a>"}], "owner": {"reputation": 3899, "user_id": 4310083, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100001988644101/picture?type=large", "display_name": "Nere", "link": "https://stackoverflow.com/users/4310083/nere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484075084, "creation_date": 1484075084, "question_id": 41576450, "link": "https://stackoverflow.com/questions/41576450/how-to-write-string-data-to-file-like-file-json-using-typescript", "title": "How to write string data to file like file.json using typescript?", "body": "<p>I have json file data like this:</p>\n\n<pre><code>{\n  \"word\": {\n    \"meanings\": \"buang\",\n    \"key_word\": \"throw\"\n  }\n}\n</code></pre>\n\n<p>I need to write this data to a physical file using typescript, example \"my_data.json\". But somehow, I do not know how to do it. </p>\n\n<pre><code>private current_data = '{\"word\":{\"meanings\":\"buang\",\"key_word\":\"throw\"}}';\n\n//Write new or override exist file my_data.json\n...\n</code></pre>\n\n<p>Anyone can help me? I tried to figure out but still not find the solution.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 2, "creation_date": 1484073827, "post_id": 41575886, "comment_id": 70356898, "body": "What is wrong here? <a href=\"https://plnkr.co/edit/mvNJ61VJUlI5oITQJzaN?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/mvNJ61VJUlI5oITQJzaN?p=preview</a>"}, {"owner": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1484229006, "post_id": 41575886, "comment_id": 70430945, "body": "Thank you for the plunker. Yeah, it looks like it&#39;s working fine there. My app is an Angular1 / Angular2 hybrid. I don&#39;t know for sure yet, but I&#39;m guessing that that&#39;s causing issues and is the reason why the custom ErrorHandler isn&#39;t working for me."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 1, "creation_date": 1503150560, "post_id": 41575886, "comment_id": 78502681, "body": "maybe it&#39;s one of those rare times when it calls for this question having dual angular/angularjs tags"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506530459, "post_id": 41575886, "comment_id": 79861844, "body": "Template errors are raising during compilation phase before ErrorHandler is initialized"}], "answers": [{"tags": [], "owner": {"reputation": 1478, "user_id": 7385011, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ZoeRJ.jpg?s=128&g=1", "display_name": "FussinHussin", "link": "https://stackoverflow.com/users/7385011/fussinhussin"}, "is_accepted": false, "score": 0, "last_activity_date": 1506529566, "creation_date": 1506529566, "answer_id": 46452865, "question_id": 41575886, "link": "https://stackoverflow.com/questions/41575886/how-to-catch-inline-template-errors-in-angular-2/46452865#46452865", "title": "How to catch inline template errors in Angular 2?", "body": "<p>You could create a template with <code>*ngIf=\"!foo.bar\"</code>.</p>\n\n<p>if it is an async request you are waiting on, you could use the async pipe with the safe operator to just wait for the value without throwing an error: <code>(foo | async).bar</code></p>\n\n<p>is there a particular reason to have a template error handler for this?</p>\n"}], "owner": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1761, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1506529566, "creation_date": 1484073075, "question_id": 41575886, "link": "https://stackoverflow.com/questions/41575886/how-to-catch-inline-template-errors-in-angular-2", "title": "How to catch inline template errors in Angular 2?", "body": "<p>Suppose I have the following component:</p>\n\n<pre><code>@Component({\n  template: '&lt;div&gt;{{foo.bar}}&lt;/div&gt;'\n})\nclass DemoComponent {\n  foo = undefined;\n}\n</code></pre>\n\n<p>Notice how I'm attempting to access the <code>bar</code> property of an undefined value. This throws an error similar to:</p>\n\n<blockquote>\n  <p>Error in class DemoComponent - inline template:1:9 caused by: Cannot read property 'bar' of undefined</p>\n</blockquote>\n\n<p>I would like to catch this error using a <a href=\"https://angular.io/docs/ts/latest/api/core/index/ErrorHandler-class.html\" rel=\"noreferrer\">custom <code>ErrorHandler</code></a>:</p>\n\n<pre><code>class LoggingErrorHandler implements ErrorHandler {\n  constructor(private logger: Logger) {\n  }\n\n  handleError(error: any): void {\n    this.logger.error(error);\n  }\n}\n</code></pre>\n\n<p>However, the <code>handleError</code> method is not called for template errors. My custom error handler works fine for other errors -- just not template errors. So how do I catch template errors?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1484076937, "creation_date": 1484076937, "answer_id": 41576937, "question_id": 41575373, "link": "https://stackoverflow.com/questions/41575373/typescript-comparing-an-id-value-in-two-arrays-of-objects/41576937#41576937", "title": "Typescript: Comparing an ID value in two arrays of objects", "body": "<p>Something like this maybe:</p>\n\n<pre><code>function isOk(obj: any, id: string): boolean {\n    return (!obj.setID || obj.setID.length === 0) &amp;&amp; id === obj.getID;\n}\n\nlet ids = OBJECT1.filter(item1 =&gt; OBJECT2.some(item2 =&gt; isOk(item2, item1.id)));\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7400802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7cbf9a45836cab287400d475f8d8ea8?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Wester", "link": "https://stackoverflow.com/users/7400802/michael-wester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1484076937, "creation_date": 1484071249, "question_id": 41575373, "link": "https://stackoverflow.com/questions/41575373/typescript-comparing-an-id-value-in-two-arrays-of-objects", "title": "Typescript: Comparing an ID value in two arrays of objects", "body": "<p>So, I have two different arrays of objects one object is { id:... } the other object is {getID:..., setID}  if I want to filter down object one to only return id's that exist in the second objects getID but not setID what would be a good solution?</p>\n\n<p>My current hack is basically:</p>\n\n<pre><code>forEach(object in OBJECT1) {\n    OBJECT2.filter(x =&gt; {\n      return (x.setID.length === 0 &amp;&amp; x.getID === object.id);\n    })\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "angular", "typescript", "rxjs5"], "answers": [{"comments": [{"owner": {"reputation": 2304, "user_id": 1436151, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UO1rY.png?s=128&g=1", "display_name": "select", "link": "https://stackoverflow.com/users/1436151/select"}, "edited": false, "score": 1, "creation_date": 1484149878, "post_id": 41584772, "comment_id": 70393148, "body": "Thanks that sound like it can work but I am lost at &quot;You can swap out&quot;. Can you show me how to swap the default scheduler with <code>TestScheduler</code> I could not find an example for that."}], "tags": [], "owner": {"reputation": 8453, "user_id": 106909, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UfObP.jpg?s=128&g=1", "display_name": "Mark van Straten", "link": "https://stackoverflow.com/users/106909/mark-van-straten"}, "is_accepted": false, "score": 0, "last_activity_date": 1484118723, "creation_date": 1484118723, "answer_id": 41584772, "question_id": 41575269, "link": "https://stackoverflow.com/questions/41575269/angular2-unit-test-with-debouncetime-in-component-cannot-use-setinterval-from-w/41584772#41584772", "title": "Angular2 unit test with debounceTime in component &quot;Cannot use setInterval from within an async zone test&quot;", "body": "<p>You can swap out the default scheduler used by <code>debounceTime</code> with a TestScheduler. It will then no longer schedule future values using setInterval. I am not 100% sure if your test will succeed without the debounce running, otherwise you will have to make a true Rx test in which you let the TestScheduler run in virtual time so it will reach the desired end state as if your debounce had been triggered IRL</p>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 6401774, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mkE1LzubSMA/AAAAAAAAAAI/AAAAAAAAAI0/Dv0kuJ0Uj1s/photo.jpg?sz=128", "display_name": "esefs", "link": "https://stackoverflow.com/users/6401774/esefs"}, "is_accepted": false, "score": 0, "last_activity_date": 1484908509, "creation_date": 1484908509, "answer_id": 41761530, "question_id": 41575269, "link": "https://stackoverflow.com/questions/41575269/angular2-unit-test-with-debouncetime-in-component-cannot-use-setinterval-from-w/41761530#41761530", "title": "Angular2 unit test with debounceTime in component &quot;Cannot use setInterval from within an async zone test&quot;", "body": "<p>I had the very same problem and what helped was using the jasmine's 'done'. Though I must admit I am not familiar with the inject and I do not know what versions of angular, etc. you are running, I am trying to adapt your code, in the way that it worked for me:</p>\n\n<pre><code>...\ndescribe(`${collectionName} ListComponent`, () =&gt; {\nlet fixture;\nbeforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n        imports: [\n            RouterLinkMockModule,\n        ],\n        declarations: [\n            ListComponent,\n        ],\n        providers: [\n            Router //I think you have to do that here if you do not use the inject\n        ]\n    });\n});\n\nit('should render 2 items in list', (done) =&gt; {\n    fixture = TestBed.createComponent(ListComponent);\n    fixture.componentInstance.data = data;\n    fixture.detectChanges();\n    const el = fixture.debugElement.nativeElement;\n    expect(el.querySelectorAll('.box').length).toBe(2);\n    done();\n});\n...\n</code></pre>\n\n<p>I am not a 100% sure that this will work for you - I have another method that stores all the references I need in a class called 'Page', like it is suggested on the angular.io page for testing. In there I also call create component and I think that is the critical part that should be covered by the 'done'. \nNot sure if that is relevant, but for reference: I am using angular 2.3.1 and karma 1.2.0 with jasmine-core 2.5.2</p>\n"}], "owner": {"reputation": 2304, "user_id": 1436151, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UO1rY.png?s=128&g=1", "display_name": "select", "link": "https://stackoverflow.com/users/1436151/select"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1161, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1484908509, "creation_date": 1484070875, "last_edit_date": 1484118785, "question_id": 41575269, "link": "https://stackoverflow.com/questions/41575269/angular2-unit-test-with-debouncetime-in-component-cannot-use-setinterval-from-w", "title": "Angular2 unit test with debounceTime in component &quot;Cannot use setInterval from within an async zone test&quot;", "body": "<p>I am trying to test a component that renders background images whenever elements are visible. I detect visibility on scroll an resize events, and to ease the load I'm using <code>debounceTime</code> from RxJS. This however is a problem since the unit test fails with </p>\n\n<blockquote>\n  <p>Failed: Cannot use setInterval from within an async zone test.</p>\n</blockquote>\n\n<p>I know this is a problem due to the async nature of <code>debounceTime</code>, but I'm not sure how to prevent this / mock <code>debounceTime</code> for the test.</p>\n\n<p>This is the Component</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { EventEmitter } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport * as config from '../../config';\nimport ListComponentBase from '../../../forminputs/ListComponentBase';\n\n@Component({\n    selector: `list-component`,\n    template: `\n    &lt;a\n        *ngFor=\"let item of data.list\"\n        class=\"box\"\n        routerLink=\"/edit/{{item._id}}\"&gt;\n        &lt;div class=\"name\" &gt;{{ item.name }}&lt;/div&gt;\n        &lt;list-item-background\n            *ngIf=\"isVisible[item._id]\" [mediaObjectId]=\"item.coverImageUrl\"&gt;&lt;/list-item-background&gt;\n    &lt;/a&gt;\n    `,\n    inputs: ['data', 'id'],\n    outputs: ['filter', 'sorting'],\n})\nexport class ListComponent extends ListComponentBase {\n    constructor() {\n        this.isVisible = {};\n    }\n\n    ngOnInit() {\n        this.check();\n        if (document.querySelector('nav')){\n            this.scroll = Observable\n                .fromEvent(document.querySelector('nav'), 'scroll')\n                .debounceTime(100).subscribe((event) =&gt; {\n                    this.checkVisibility();\n                });\n        }\n        this.resize = Observable\n            .fromEvent(window, 'resize')\n            .debounceTime(100).subscribe((event) =&gt; {\n                this.checkVisibility();\n            });\n    }\n    check() {\n        this.data.list.forEach(item =&gt; {\n            this.isVisible[item._id] = this.isElementInViewport(document.querySelector(`[data-id=\"${item._id}\"]`));\n        });\n    }\n    isElementInViewport(el) {\n        if (!el) return false;\n        const rect = el.getBoundingClientRect();\n        return (\n                rect.top &gt;= 0 &amp;&amp;\n                rect.left &gt;= 0 &amp;&amp;\n                rect.bottom &lt;= (window.innerHeight || document.documentElement.clientHeight) &amp;&amp; /*or $(window).height() */\n                rect.right &lt;= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */\n        );\n    }\n}\n</code></pre>\n\n<p>This is the unit test</p>\n\n<pre><code>import { Router } from '@angular/router';\nimport { TestBed, inject, async } from '@angular/core/testing';\nimport { StoreModule } from '@ngrx/store';\n\nimport RouterLinkMockModule from '../../../testing/RouterLinkMock.module';\nimport { ListComponent } from './list.component';\nimport { defaultData, collectionName } from '../../config';\n\nconst data = {\n    sort: initialState.sort,\n    list: [defaultData, defaultData],\n    articles: { null: { name: 'test' } },\n};\n\ndescribe(`${collectionName} ListComponent`, () =&gt; {\n    let fixture;\n    beforeEach(() =&gt; {\n        TestBed.configureTestingModule({\n            imports: [\n                RouterLinkMockModule,\n            ],\n            declarations: [\n                ListComponent,\n            ],\n        });\n    });\n\n    it('should render 2 items in list', async(inject([Router], (router) =&gt; {\n        fixture = TestBed.createComponent(ListComponent);\n        fixture.componentInstance.data = data;\n        fixture.detectChanges();\n        const el = fixture.debugElement.nativeElement;\n        expect(el.querySelectorAll('.box').length).toBe(2);\n    })));\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "e2e-testing", "angular2-testing"], "answers": [{"tags": [], "owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "is_accepted": true, "score": -1, "last_activity_date": 1484656572, "creation_date": 1484656572, "answer_id": 41697373, "question_id": 41575050, "link": "https://stackoverflow.com/questions/41575050/errors-when-e2e-testing-angular2-app-with-protractor/41697373#41697373", "title": "Errors when e2e testing angular2 app with protractor", "body": "<p>This doesn't solve the problem with Chrome/chromedriver/webdriver-manager but to at least get the e2e tests to run correctly, change the browser in <code>protractor.conf.js</code>:</p>\n\n<pre><code>'browserName': 'firefox'\n</code></pre>\n\n<p>Then the e2e tests will at least be run in Firefox.</p>\n"}], "owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 41697373, "answer_count": 1, "score": 0, "last_activity_date": 1484656572, "creation_date": 1484070164, "last_edit_date": 1484079231, "question_id": 41575050, "link": "https://stackoverflow.com/questions/41575050/errors-when-e2e-testing-angular2-app-with-protractor", "title": "Errors when e2e testing angular2 app with protractor", "body": "<p>I'm trying to run some simple tests on my Angular2 app using protractor. I run <code>ng serve</code> in one command prompt and <code>ng e2e</code> in another. I get several errors/comments related to a session exception. Here is a portion of it:</p>\n\n<pre><code>ERROR:child_process_launcher.cc(536)] Failed to launch child process\n...\nI/direct - Using ChromeDriver directly...\nI/launcher - Running 1 instances of WebDriver\nE/launcher - session not created exception from tab crashed\n(Session info: chrome=55.0.2883.87)\n(Driver info: chromedriver=2.26.436362 (5476ec6bf7ccbada1734a0cdec7d570bb042aa\n),platform=Windows NT 6.1.7601 SP1 x86_64)\n  at WebDriverError (C:\\development\\SolarUI11\\node_modules\\protractor\\node_mod\nes\\selenium-webdriver\\lib\\error.js:27:5)\n  at SessionNotCreatedError (C:\\development\\SolarUI11\\node_modules\\protractor\\\nde_modules\\selenium-webdriver\\lib\\error.js:308:5)\n  at Object.checkLegacyResponse (C:\\development\\SolarUI11\\node_modules\\protrac\ntor\\node_modules\\selenium-webdriver\\lib\\error.js:639:15)\n</code></pre>\n\n<p>I'm very new to Angular2 and e2e testing, so I'm a complete loss for what I'm looking at here and what I should be expecting.</p>\n\n<p>app.po.ts:</p>\n\n<pre><code>import { browser, element, by } from 'protractor';\n\nexport class SolarUi4Page {\n  navigateTo() {\n    return browser.get('http://localhost:4200/');\n  }\n\n  getTitle() {\n    return element(by.css('h1')).getText();\n  }\n\n  getAddButton() {\n    return element(by.css('.icon-plus'));\n  }\n\n  getAddButtonDp() {\n    return element(by.binding('dPoint.tDataPoint'));\n  }\n\n  getAddButtonIccp() {\n    return element(by.binding('dPoint.tICCP'));\n  }\n  getAddButtonStartD() {\n    return element(by.binding('dPoint.tStartDate'));\n  }\n\n  getAddButtonEndD() {\n    return element(by.binding('dPoint.tEndDate'));\n  }\n\n  getAddButtonSubmit() {\n    return element(by.id('addSubmit'));\n  }\n\n  getStartDate() {\n    return element(by.id('calStartTest'));\n  }\n\n  getEndDate() {\n    return element(by.id('calEndTest'));\n  }\n\n  getSearchButton() {\n    return element(by.css('.icon-search'));\n  }\n\n  getTable() {\n    return element(by.id('myTable'));\n  }\n}\n</code></pre>\n\n<p>app.e2e-spec.ts:</p>\n\n<pre><code>import { SolarUi4Page } from './app.po';\nimport { by } from 'protractor';\n\ndescribe('solar-ui4 main page', function() {\n  let page: SolarUi4Page;\n\n  beforeEach(() =&gt; {\n    page = new SolarUi4Page();\n  });\n\n  it('should display title Solar Project', () =&gt; {\n    page.navigateTo();\n    expect(page.getTitle()).toEqual('Solar Project');\n  });\n\n  it('should add new value to array/table and display it', () =&gt; {\n    page.navigateTo();\n    let addButton = page.getAddButton();\n    addButton.click();\n    let addDp = page.getAddButtonDp();\n    let addIccp = page.getAddButtonIccp();\n    let addSd = page.getAddButtonStartD();\n    let addEd = page.getAddButtonEndD();\n    addDp.sendKeys('newDp');\n    addIccp.sendKeys('newIccp');\n    addSd.sendKeys('11/12/2016');\n    addEd.sendKeys('11/20/2016');\n    let addSubmit = page.getAddButtonSubmit();\n    addSubmit.click();\n    let startFormVal = page.getStartDate();\n    let endFormVal = page.getEndDate();\n    startFormVal.sendKeys('11/02/2016');\n    endFormVal.sendKeys('12/20/2016');\n    let searchButton = page.getSearchButton();\n    searchButton.click();\n    let table = page.getTable();\n    let lastRow = table.all(by.tagName('tr')).last();\n    expect(lastRow.get(0).getText()).toEqual('newDp');\n    expect(lastRow.get(1).getText()).toEqual('newIccp');\n    expect(lastRow.get(2).getText()).toEqual('11/02/2016');\n    expect(lastRow.get(3).getText()).toEqual('12/20/2016');\n  })\n</code></pre>\n\n<p>protractor.conf.js:</p>\n\n<pre><code>// Protractor configuration file, see link for more information\n// https://github.com/angular/protractor/blob/master/lib/config.ts\n\n/*global jasmine */\nvar SpecReporter = require('jasmine-spec-reporter');\n\nexports.config = {\n  allScriptsTimeout: 11000,\n  specs: [\n    './e2e/**/*.e2e-spec.ts'\n  ],\n  capabilities: {\n    'browserName': 'chrome'\n  },\n  directConnect: true,\n  baseUrl: 'http://localhost:4200/',\n  framework: 'jasmine',\n  jasmineNodeOpts: {\n    showColors: true,\n    defaultTimeoutInterval: 30000,\n    print: function() {}\n  },\n  useAllAngular2AppRoots: true,\n  beforeLaunch: function() {\n    require('ts-node').register({\n      project: 'e2e'\n    });\n  },\n  onPrepare: function() {\n    jasmine.getEnv().addReporter(new SpecReporter());\n  }\n};\n</code></pre>\n\n<p>If I need to show more errors/add more code let me know.</p>\n"}, {"tags": ["visual-studio", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1852, "user_id": 1156825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W007C.jpg?s=128&g=1", "display_name": "skoll", "link": "https://stackoverflow.com/users/1156825/skoll"}, "edited": false, "score": 0, "creation_date": 1484418492, "post_id": 41620859, "comment_id": 70505565, "body": "I couldn&#39;t get Visual Studio to work properly with the tsconfig.json. For example the Solution Explorer wasn&#39;t working at all. But your answer caused me go through the cproj -file again, and the I found the offending setting there, so thanks again."}, {"owner": {"reputation": 3966, "user_id": 1142380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rM8f6.jpg?s=128&g=1", "display_name": "ToastyMallows", "link": "https://stackoverflow.com/users/1142380/toastymallows"}, "reply_to_user": {"reputation": 1852, "user_id": 1156825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W007C.jpg?s=128&g=1", "display_name": "skoll", "link": "https://stackoverflow.com/users/1156825/skoll"}, "edited": false, "score": 0, "creation_date": 1484590333, "post_id": 41620859, "comment_id": 70562165, "body": "@skoll no problem!  If you end up finding more problems, you can report them on Github to Microsoft <a href=\"https://github.com/Microsoft/TypeScript\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript</a>"}], "tags": [], "owner": {"reputation": 3966, "user_id": 1142380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rM8f6.jpg?s=128&g=1", "display_name": "ToastyMallows", "link": "https://stackoverflow.com/users/1142380/toastymallows"}, "is_accepted": false, "score": 3, "last_activity_date": 1484247360, "creation_date": 1484247360, "answer_id": 41620859, "question_id": 41574645, "link": "https://stackoverflow.com/questions/41574645/suppress-typescript-errors-in-visual-studio-2015/41620859#41620859", "title": "Suppress TypeScript errors in Visual Studio 2015", "body": "<p>You should use a <code>tsconfig.json</code> file, more information here:</p>\n\n<p><a href=\"http://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>\n\n<p>It might take some time to get it configured the way you have your project configured now, but there is a setting to not error when there are unused locals:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"noUnusedLocals\": false\n    }\n}\n</code></pre>\n\n<p>There are also a couple other settings, <code>noUnusedParameters</code>, <code>allowUnsedLabels</code> and <code>allowUnreachableCode</code> which may help you.</p>\n\n<p>The schema for the JSON file is available here: <a href=\"http://json.schemastore.org/tsconfig\" rel=\"nofollow noreferrer\">http://json.schemastore.org/tsconfig</a></p>\n\n<p>Visual Studio should know that the JSON file is a <code>tsconfig</code> file and provide you with IntelliSense information from that schema file.</p>\n"}, {"tags": [], "owner": {"reputation": 1852, "user_id": 1156825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W007C.jpg?s=128&g=1", "display_name": "skoll", "link": "https://stackoverflow.com/users/1156825/skoll"}, "is_accepted": true, "score": 0, "last_activity_date": 1484419295, "creation_date": 1484419295, "answer_id": 41653610, "question_id": 41574645, "link": "https://stackoverflow.com/questions/41574645/suppress-typescript-errors-in-visual-studio-2015/41653610#41653610", "title": "Suppress TypeScript errors in Visual Studio 2015", "body": "<p>If using a csproj -file, you can get rid of the <code>is declared but never used</code> -error by removing the line</p>\n\n<p><code>&lt;TypeScriptNoUnusedLocals&gt;True&lt;/TypeScriptNoUnusedLocals&gt;</code></p>\n\n<p>or changing it to</p>\n\n<p><code>&lt;TypeScriptNoUnusedLocals&gt;False&lt;/TypeScriptNoUnusedLocals&gt;</code></p>\n\n<p>Some other settings for suppressing errors:</p>\n\n<p><code>&lt;TypeScriptAllowUnreachableCode&gt;True&lt;/TypeScriptAllowUnreachableCode&gt;</code>\n<code>&lt;TypeScriptNoUnusedParameters&gt;False&lt;/TypeScriptNoUnusedParameters&gt;</code>\n<code>&lt;TypeScriptNoImplicitAny&gt;False&lt;/TypeScriptNoImplicitAny&gt;</code></p>\n"}], "owner": {"reputation": 1852, "user_id": 1156825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W007C.jpg?s=128&g=1", "display_name": "skoll", "link": "https://stackoverflow.com/users/1156825/skoll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 41653610, "answer_count": 2, "score": 1, "last_activity_date": 1484419295, "creation_date": 1484068980, "question_id": 41574645, "link": "https://stackoverflow.com/questions/41574645/suppress-typescript-errors-in-visual-studio-2015", "title": "Suppress TypeScript errors in Visual Studio 2015", "body": "<p>Is it possible to suppress errors in Visual Studio (when working with TypeScript)?</p>\n\n<p>Specifically I'd like to suppress the <code>is declared but never used</code>-error. When debugging I need to comment out some code every once in a while, but Visual Studio refuses to build the project if I have declared a function I'm not using.</p>\n\n<p>Why is that an error to begin with? Shouldn't it be a warning?</p>\n"}, {"tags": ["javascript", "c#", "angular", "typescript", "asp.net-web-api"], "answers": [{"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1484068843, "last_edit_date": 1484068843, "creation_date": 1484068460, "answer_id": 41574503, "question_id": 41574468, "link": "https://stackoverflow.com/questions/41574468/angular2-service-not-passing-json-to-webapi/41574503#41574503", "title": "Angular2 Service not passing JSON to WebAPI", "body": "<p>Remove the first <code>content-type</code> and change the <code>name</code> in the service parameter equivalent the sent data.</p>\n\n<pre><code>let headers = new Headers();\nheaders.append('Content-Type','application/json');\n\nthis._http\n    .post(this._url,JSON.stringify(knowledgeElement), { headers: headers})\n               .subscribe((res2) =&gt; {console.log('subscribe %o', res2)});\n</code></pre>\n\n<p>And the <code>Web Api</code></p>\n\n<pre><code>public IHttpActionResult Post([FromBody]getKnowledgeByUserId_Result knowledgeElement)\n</code></pre>\n"}], "owner": {"reputation": 896, "user_id": 1444319, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/pIzOK.jpg?s=128&g=1", "display_name": "qubits", "link": "https://stackoverflow.com/users/1444319/qubits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 41574503, "answer_count": 1, "score": 0, "last_activity_date": 1531571219, "creation_date": 1484068350, "question_id": 41574468, "link": "https://stackoverflow.com/questions/41574468/angular2-service-not-passing-json-to-webapi", "title": "Angular2 Service not passing JSON to WebAPI", "body": "<p>Trying to understand what I am doing wrong. I am trying to POST a JSON with a Angular Service to WebAPI2, once I pass it, I want to execute a stored procedure on the database with parameters taken from that JSON. </p>\n\n<p>What happens here however instead:</p>\n\n<ul>\n<li><p>The connection is successfully resolved to the Web Service - OK, I get a response from the server</p></li>\n<li><p>The Debug.WriteLine on the Web Service outputs \"VAR: 0 0\" instead of the actual parameters in JSON</p></li>\n</ul>\n\n<p>Not sure even where to start, is the problem with the Web Service not being able to handle the JSON sent or its Angular not passing the value correctly? Whats wrong?</p>\n\n<p>ng2:</p>\n\n<pre><code>  updateKnowledge(knowledgeElement: KnowledgeElement) {\n    this._action = \"/post\";\n\n    this._url = CONFIGURATION.baseUrls.server + this._action;\n\n    let headers = new Headers();\n    headers.append('Content-Type','application/x-www-form-urlencoded; charset=utf-8');\n    headers.append('Content-Type','application/json');\n\n    this._http\n        .post(this._url,JSON.stringify(knowledgeElement), { headers: headers})\n                   .subscribe((res2) =&gt; {console.log('subscribe %o', res2)});\n  }\n\nexport interface KnowledgeElement {\n  knowledgE_USER_ID: number;\n  knowledgE_NAME: string;\n  knowledgE_DESCRIPTION: string;\n  knowledgE_USER_SCORE: number;\n}\n</code></pre>\n\n<p>Web Service:</p>\n\n<pre><code>        [HttpPost]\n        [HttpGet]\n        public IHttpActionResult Post([FromBody]getKnowledgeByUserId_Result value)\n        {\n            var dbContext = new KNOWH_TESTEntities();\n            System.Diagnostics.Debug.WriteLine(\"VAR: \" + value.KNOWLEDGE_USER_ID + \" \" + value.KNOWLEDGE_USER_SCORE);\n            dbContext.updateKnowledge(value.KNOWLEDGE_USER_ID, value.KNOWLEDGE_USER_SCORE);\n\n            return Ok();\n        }\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "fabricjs"], "owner": {"reputation": 1231, "user_id": 3492427, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/be402eaf9b21cb5777ad98cc864a846a?s=128&d=identicon&r=PG&f=1", "display_name": "Lempkin", "link": "https://stackoverflow.com/users/3492427/lempkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1484068006, "creation_date": 1484068006, "question_id": 41574356, "link": "https://stackoverflow.com/questions/41574356/fabricjs-1-7-3-tsd-for-angularjs-typescript", "title": "fabricjs 1.7.3 tsd for angularJs + TypeScript", "body": "<p>I'm looking for the tsd for the last version of fabricjs (1.7.3), but i can only find tsd for 1.5 (here <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/fabric/index.d.ts\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/fabric/index.d.ts</a>)</p>\n\n<p>I need to use some stuf like in this example <a href=\"http://fabricjs.com/freedrawing\" rel=\"nofollow noreferrer\">http://fabricjs.com/freedrawing</a>\nBut i'm not able to do </p>\n\n<pre><code>...\nprivate canvas : fabric.ICanvas;\n...\npublic constructor()\n this.canvas = new fabric.Canvas('c');\n        this.canvas.isDrawingMode = true;\n        this.canvas.freeDrawingBrush = new fabric['PencilBrush'](this.canvas);\n...\n</code></pre>\n\n<p>It says that freeDrawingBrush doesn't exist on type ICanvas (but i'm very new to fabricjs so maybe i'm doing something wrong?)\nWhere can i find it or is there any easy way to generate it?\nThx</p>\n"}, {"tags": ["javascript", "design-patterns", "typescript", "dependency-injection", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "reply_to_user": {"reputation": 1155, "user_id": 258676, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2fa3aca6fc6f3870ba6595cea9e1536a?s=128&d=identicon&r=PG", "display_name": "NKijak", "link": "https://stackoverflow.com/users/258676/nkijak"}, "edited": false, "score": 0, "creation_date": 1484075457, "post_id": 41574343, "comment_id": 70357856, "body": "@NKijak I can&#39;t. It says that I have to wait 2 days before I can accept my own answer."}], "tags": [], "owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "is_accepted": true, "score": 2, "last_activity_date": 1489333925, "last_edit_date": 1489333925, "creation_date": 1484067969, "answer_id": 41574343, "question_id": 41574342, "link": "https://stackoverflow.com/questions/41574342/implementing-cs-using-in-javascript/41574343#41574343", "title": "Implementing C#&#39;s using in JavaScript", "body": "<p>I thought of a solution just as I finished typing my question. I decided to share it anyway, just in case someone would find it useful.</p>\n\n<pre><code>async function useMongoDB&lt;T&gt;(func: (db: Db) =&gt; Promise&lt;T&gt;) {\n    var db = await connect();\n\n    try {\n        return await func(db);\n    }\n    finally {\n        await db.close();\n    }\n}\n\nexport async function getUser(username: string): Promise&lt;User&gt; {\n    return await useMongoDB(async (db: Db) =&gt; {\n        var result: User[] = await db.collection(\"users\").find({\"username\": username}).toArray();\n        return result.length &gt; 0 ? result[0] : null;\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 41574343, "answer_count": 1, "score": 1, "last_activity_date": 1489333925, "creation_date": 1484067969, "question_id": 41574342, "link": "https://stackoverflow.com/questions/41574342/implementing-cs-using-in-javascript", "title": "Implementing C#&#39;s using in JavaScript", "body": "<p>I have many functions like that:</p>\n\n<pre><code>async function getUser(username: string) {\n    var db = await connect();\n\n    try {\n        var result: User[] = await db.collection(\"users\").find({\"username\": username}).toArray();\n        return result.length &gt; 0 ? result[0] : null;\n    }\n    finally {\n        await db.close();\n    }\n}\n</code></pre>\n\n<p>and <code>connect()</code> function looks like that:</p>\n\n<pre><code>async function connect(): Promise&lt;Db&gt; {\n    return await MongoClient.connect(\"connection string\");\n}\n</code></pre>\n\n<p>I want to avoid using the <code>try/finally</code>, <code>connect()</code> and <code>close()</code> in every function. I would like to have a magic, like the <code>using</code> statement is C#:</p>\n\n<pre><code>async function getUser(username: string) {\n    using(var db = new MongoClient()) {\n        var result: User[] = await db.collection(\"users\").find({\"username\": username}).toArray();\n        return result.length &gt; 0 ? result[0] : null;\n    }\n}\n</code></pre>\n\n<p>How can I eliminate this code duplication?</p>\n\n<p>Notice that I can use any TypeScript or ECMAScript6+ solution as well as any new feature that I need to install in order to use.</p>\n\n<p>Although, a simple JavaScript solution using DI or any other design pattern would be great too.</p>\n"}, {"tags": ["angular", "typescript", "localization"], "comments": [{"owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "edited": false, "score": 0, "creation_date": 1484072191, "post_id": 41574301, "comment_id": 70355961, "body": "Consider extending the CurrecyPipe class: <a href=\"http://stackoverflow.com/questions/37032560/how-to-extend-angular2-datepipe\" title=\"how to extend angular2 datepipe\">stackoverflow.com/questions/37032560/&hellip;</a>"}, {"owner": {"reputation": 153, "user_id": 2506573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16f27133d48e23fe7a48e0362522a2f?s=128&d=identicon&r=PG", "display_name": "UtahDoug", "link": "https://stackoverflow.com/users/2506573/utahdoug"}, "reply_to_user": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "edited": false, "score": 0, "creation_date": 1484073668, "post_id": 41574301, "comment_id": 70356801, "body": "I want to keep other country/lang localization&#39;s intact and just update en-US. I&#39;m looking at checking the localization in the CurrencyPipe and then if en-us alter the display, but just seems dirty."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2506573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16f27133d48e23fe7a48e0362522a2f?s=128&d=identicon&r=PG", "display_name": "UtahDoug", "link": "https://stackoverflow.com/users/2506573/utahdoug"}, "edited": false, "score": 2, "creation_date": 1484075949, "post_id": 41576612, "comment_id": 70358148, "body": "Very clean, nice!  Thanks Jim."}, {"owner": {"reputation": 1609, "user_id": 3356901, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Jppwd.jpg?s=128&g=1", "display_name": "ChaseHardin", "link": "https://stackoverflow.com/users/3356901/chasehardin"}, "edited": false, "score": 1, "creation_date": 1494440297, "post_id": 41576612, "comment_id": 74833779, "body": "Great explanation. Thanks for the assist!"}, {"owner": {"reputation": 1789, "user_id": 5129450, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210460920664342/picture?type=large", "display_name": "Pismotality", "link": "https://stackoverflow.com/users/5129450/pismotality"}, "edited": false, "score": 1, "creation_date": 1507920642, "post_id": 41576612, "comment_id": 80419393, "body": "Outstanding!  Thank you!"}, {"owner": {"reputation": 392, "user_id": 8241002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9595d649c82984429036bf164510a44?s=128&d=identicon&r=PG&f=1", "display_name": "Gobind", "link": "https://stackoverflow.com/users/8241002/gobind"}, "edited": false, "score": 1, "creation_date": 1612525227, "post_id": 41576612, "comment_id": 116800256, "body": "Super. very good solution."}], "tags": [], "owner": {"reputation": 2908, "user_id": 1910355, "user_type": "registered", "accept_rate": 6, "profile_image": "https://i.stack.imgur.com/79e5C.png?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1910355/jim"}, "is_accepted": true, "score": 19, "last_activity_date": 1617585244, "last_edit_date": 1617585244, "creation_date": 1484075691, "answer_id": 41576612, "question_id": 41574301, "link": "https://stackoverflow.com/questions/41574301/display-negative-currency-with-parentheses-in-angular-2-typescript/41576612#41576612", "title": "Display negative currency with parentheses in Angular 2 / Typescript", "body": "<p>I appreciate you asking this great question. Of course the currency pipe does exist, but after scanning the <a href=\"https://angular.io/docs/ts/latest/api/common/index/CurrencyPipe-pipe.html\" rel=\"nofollow noreferrer\">currency pipe documentation</a> it seems that out-of-the-box this pipe won't do what you want. However, you can accomplish your goal with a custom pipe.</p>\n<p><strong>1. First, recognize that you can &quot;chain pipes&quot;.</strong></p>\n<p>For example, you can have a number type variable, send it through the currency pipe, and then send it through your own custom pipe:</p>\n<pre><code>&lt;h1&gt;{{someNumber | currency:'USD':true | myCustomPipe}}&lt;/h1&gt;\n</code></pre>\n<p><strong>2. Recognize that the currency pipe returns a string.</strong></p>\n<p>This means that your custom pipe can accept a string, do some string manipulation, and return a new string.</p>\n<p><strong>3. Recognize that the string manipulation algorithm to go from minus sign to parentheses isn't really that complicated.</strong></p>\n<p>The logic can be interpreted in plan english like this, &quot;If the first character of my input value is not a minus sign then just return the value, but if it is a minus sign then return the entire string without that first character and append a string of a single paren on either side of it&quot;. Using the JavaScript ternary operator it might look like this:</p>\n<pre><code>value.charAt(0) === '-' ?\n'(' + value.substring(1, value.length) + ')' :\nvalue;\n</code></pre>\n<p>I have also created a nice Pipe that does this as a minimum workable example. Suppose you have this component that is displaying the <em>someNumber</em> variable whose value is -5 (negative five).</p>\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n    &lt;h2&gt;MinusSignToParens Pipe Demo&lt;/h2&gt;\n    &lt;h1&gt;{{someNumber | currency:'USD':true | minusSignToParens}}&lt;/h1&gt;\n  `\n})\nexport class App implements OnInit {\n   \n  private someNumber = -5;\n  \n  constructor() {}\n  \n  ngOnInit() {}\n}\n</code></pre>\n<p>And here is the code for the minusSignToParens pipe:</p>\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'minusSignToParens'\n})\nexport class MinusSignToParens implements PipeTransform {\n\n    transform(value: any, args?: any): any {\n        return value.charAt(0) === '-' ?\n           '(' + value.substring(1, value.length) + ')' :\n           value;\n    }\n}\n</code></pre>\n<p>Here is <a href=\"https://plnkr.co/edit/V39HFDs6yhh7DCvL9a2u?p=preview\" rel=\"nofollow noreferrer\">the example in a Plunkr</a> if you wish to play around with it.</p>\n<p>And remember, as <a href=\"https://www.youtube.com/watch?v=8g2KKGgK-0w\" rel=\"nofollow noreferrer\">Migos</a> would say, pipe it up!</p>\n"}], "owner": {"reputation": 153, "user_id": 2506573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16f27133d48e23fe7a48e0362522a2f?s=128&d=identicon&r=PG", "display_name": "UtahDoug", "link": "https://stackoverflow.com/users/2506573/utahdoug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8894, "favorite_count": 3, "accepted_answer_id": 41576612, "answer_count": 1, "score": 15, "last_activity_date": 1617585244, "creation_date": 1484067826, "question_id": 41574301, "link": "https://stackoverflow.com/questions/41574301/display-negative-currency-with-parentheses-in-angular-2-typescript", "title": "Display negative currency with parentheses in Angular 2 / Typescript", "body": "<p>Angular's en-us localization has been updated since 1.3 to display negative currency with a negative sign instead of parentheses. I am using AngularJS 2 / Typescript and would like to override the default negative sign with parentheses (or even something else).  </p>\n\n<p><a href=\"https://github.com/angular/angular.js/issues/12870\" rel=\"noreferrer\" title=\"github angular issue\">Discussion</a> on this shows to override negPre &amp; negSuf however I do not see how to do this with Angular2.  Or maybe a more elegant way to achieve this.</p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1486342437, "post_id": 41574002, "comment_id": 71290581, "body": "You should not get that error if you import (in every file where <code>fabric</code> is referenced) like you mentioned in your question. Is the error coming from the same file or from a different file? Also you can mark <code>fabric</code> as global and avoid doing an import as it is a global anyway. This <a href=\"http://stackoverflow.com/questions/40664298/angular-1-x-with-typescript-2-x-types-and-systemjs-using-global-typings/42035067#42035067\">answer might help</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 2431822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hdyX2.jpg?s=128&g=1", "display_name": "Christos Monogios", "link": "https://stackoverflow.com/users/2431822/christos-monogios"}, "is_accepted": false, "score": 1, "last_activity_date": 1484243303, "creation_date": 1484243303, "answer_id": 41619767, "question_id": 41574002, "link": "https://stackoverflow.com/questions/41574002/typescript-remove-error-error54-33-ts2686fabric-refers-to-a-umd-global/41619767#41619767", "title": "Typescript, remove error Error:(54, 33) TS2686:&#39;fabric&#39; refers to a UMD global, but the current file is a module. Consider adding an import instead", "body": "<p>I am not sure if this answers your question but I think it might help you to resolve your problem. Unfortunately I still don't have the reputation to write it as a comment, so here is an \"answer\".</p>\n\n<p>I dealt with the same error this week. I use React though. In my case the problem was that TSLink suggested me to remove unused imports from my files and in one case the import was React itself. So even though React was not needed, ReactDOM, which I used in that file, wanted it implicitly. </p>\n\n<p>As a result, when I used the ReactDOM properties, they were throwing the same error as in your case, only in my case it was \"React\" instead of \"Fabric\".</p>\n\n<p>I also use the typings for these modules.</p>\n\n<p>Regards</p>\n"}, {"tags": [], "owner": {"reputation": 1003, "user_id": 1383540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc02347e45680894b48e9780ce237557?s=128&d=identicon&r=PG", "display_name": "hillin", "link": "https://stackoverflow.com/users/1383540/hillin"}, "is_accepted": false, "score": 0, "last_activity_date": 1491467509, "creation_date": 1491467509, "answer_id": 43249821, "question_id": 41574002, "link": "https://stackoverflow.com/questions/41574002/typescript-remove-error-error54-33-ts2686fabric-refers-to-a-umd-global/43249821#43249821", "title": "Typescript, remove error Error:(54, 33) TS2686:&#39;fabric&#39; refers to a UMD global, but the current file is a module. Consider adding an import instead", "body": "<p>Try add</p>\n\n<pre><code>import * as fabric from \"fabric\";\n</code></pre>\n\n<p>on the top of the file, and reference <code>Canvas</code> as <code>fabric.Canvas</code>:</p>\n\n<pre><code>const canvas = document.getElementById(\"test_canvas\") as HTMLCanvasElement;\nconst fabricCanvas = new fabric.Canvas(canvas);\n</code></pre>\n\n<p>Also, use </p>\n\n<pre><code>// ReSharper disable once WrongRequireRelativePath\n</code></pre>\n\n<p>if Resharper complains about the path.</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 8280350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c4f0f3889406e08b993727b1083bf35?s=128&d=identicon&r=PG&f=1", "display_name": "Eirah", "link": "https://stackoverflow.com/users/8280350/eirah"}, "is_accepted": false, "score": 0, "last_activity_date": 1544701244, "last_edit_date": 1544701244, "creation_date": 1544254636, "answer_id": 53680545, "question_id": 41574002, "link": "https://stackoverflow.com/questions/41574002/typescript-remove-error-error54-33-ts2686fabric-refers-to-a-umd-global/53680545#53680545", "title": "Typescript, remove error Error:(54, 33) TS2686:&#39;fabric&#39; refers to a UMD global, but the current file is a module. Consider adding an import instead", "body": "<p>I think you should use\n</p>\n\n<pre><code>import { fabric } from 'fabric'\n</code></pre>\n\n<p>Then use\n</p>\n\n<pre><code>new fabric.Canvas()\n</code></pre>\n\n<p>That should work and quiet the error.</p>\n"}], "owner": {"reputation": 19975, "user_id": 2040670, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/65f723dfb968ffe9d50bb524953aac44?s=128&d=identicon&r=PG", "display_name": "born2net", "link": "https://stackoverflow.com/users/2040670/born2net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4204, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1544701244, "creation_date": 1484066900, "last_edit_date": 1484067142, "question_id": 41574002, "link": "https://stackoverflow.com/questions/41574002/typescript-remove-error-error54-33-ts2686fabric-refers-to-a-umd-global", "title": "Typescript, remove error Error:(54, 33) TS2686:&#39;fabric&#39; refers to a UMD global, but the current file is a module. Consider adding an import instead", "body": "<p>So I am getting this error:</p>\n\n<pre><code>import {Canvas} from \"fabric\";\n</code></pre>\n\n<blockquote>\n  <p>Error:(54, 33) TS2686:'fabric' refers to a UMD global, but the current\n  file is a module. Consider adding an import instead.</p>\n</blockquote>\n\n<p>I am using fabric in Angular project with TypeScript.\nIt is being imported manually into the project via angular-cli.</p>\n\n<pre><code> \"scripts\": [\n        \"../node_modules/jquery/dist/jquery.min.js\",\n        \"./libs/jquery.base64.js\",\n        \"./store/signage_sdk.js\",\n        \"../node_modules/fabric/dist/fabric.js\",\n</code></pre>\n\n<p>I am also using <code>@types/fabric</code></p>\n\n<p>how I can quiet this error?</p>\n\n<p>tx</p>\n\n<p>Sean</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "reply_to_user": {"reputation": 20746, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "edited": false, "score": 0, "creation_date": 1484067791, "post_id": 41573822, "comment_id": 70353326, "body": "I&#39;ve split the question into two...hopefully that makes more sense?"}, {"owner": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 0, "creation_date": 1484068035, "post_id": 41573822, "comment_id": 70353487, "body": "you need install <code>typings</code>. please follow here : <a href=\"https://angular.io/docs/ts/latest/guide/typescript-configuration.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/typescript-configuration.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "reply_to_user": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 1, "creation_date": 1484068554, "post_id": 41573822, "comment_id": 70353871, "body": "@candidJ What do I do after installing Typings? Is there any other code I need to write?"}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "edited": false, "score": 0, "creation_date": 1484069247, "post_id": 41573938, "comment_id": 70354284, "body": "Do I declare that in a component file or create a totally new file"}, {"owner": {"reputation": 2312, "user_id": 5170952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeec0d3371a687252098688806b847aa?s=128&d=identicon&r=PG&f=1", "display_name": "libertyernie", "link": "https://stackoverflow.com/users/5170952/libertyernie"}, "reply_to_user": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "edited": false, "score": 0, "creation_date": 1484072497, "post_id": 41573938, "comment_id": 70356126, "body": "I think that might be up to you."}], "tags": [], "owner": {"reputation": 2312, "user_id": 5170952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeec0d3371a687252098688806b847aa?s=128&d=identicon&r=PG&f=1", "display_name": "libertyernie", "link": "https://stackoverflow.com/users/5170952/libertyernie"}, "is_accepted": false, "score": 0, "last_activity_date": 1484066733, "creation_date": 1484066733, "answer_id": 41573938, "question_id": 41573822, "link": "https://stackoverflow.com/questions/41573822/what-are-typings-in-typescript/41573938#41573938", "title": "What are Typings in Typescript", "body": "<p>I've only worked with TypeScript in an ASP.NET (classic) project, so I can't tell you what the typical way to do this is. But there are a couple of somewhat unorthodox options:</p>\n\n<ul>\n<li>Find the *.d.ts files yourself and just copy them into your project somewhere. They won't auto-update along with your libraries, though.</li>\n<li>Declare whatever the library gives you as any. For example, you could do this for JQuery, if you don't have JQuery typings installed yet: <code>declare var $: any;</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "edited": false, "score": 0, "creation_date": 1484070201, "post_id": 41574835, "comment_id": 70354853, "body": "Thanks @E_net4. I have gone through the docs and I still am slightly confused. Using your example above, can I do the same for any library and get the full definitions?"}, {"owner": {"reputation": 20746, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "reply_to_user": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "edited": false, "score": 0, "creation_date": 1484070440, "post_id": 41574835, "comment_id": 70354999, "body": "@Alfy Yes, as long as TS definitions are available for it. You can search for published declarations using this web app: <a href=\"https://aka.ms/types\" rel=\"nofollow noreferrer\">aka.ms/types</a> If it&#39;s not available, you may have to roll your own."}, {"owner": {"reputation": 1456, "user_id": 5293976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02x6e.jpg?s=128&g=1", "display_name": "BEJGAM SHIVA PRASAD", "link": "https://stackoverflow.com/users/5293976/bejgam-shiva-prasad"}, "edited": false, "score": 0, "creation_date": 1503409020, "post_id": 41574835, "comment_id": 78595907, "body": "&quot;In short, TypeScript adds static typing to JavaScript. Since JavaScript alone does not define such type definitions, they must be written and included in the TypeScript compilation process through additional mechanisms. In other words, a JavaScript library may define a function&quot;  It means a lot to understand.."}], "tags": [], "owner": {"reputation": 20746, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "is_accepted": false, "score": 23, "last_activity_date": 1497866681, "last_edit_date": 1497866681, "creation_date": 1484069504, "answer_id": 41574835, "question_id": 41573822, "link": "https://stackoverflow.com/questions/41573822/what-are-typings-in-typescript/41574835#41574835", "title": "What are Typings in Typescript", "body": "<blockquote>\n  <p>What are typings?</p>\n</blockquote>\n\n<p>In short, TypeScript adds static typing to JavaScript. Since JavaScript alone does not define such type definitions, they must be written and included in the TypeScript compilation process through additional mechanisms. In other words, a JavaScript library may define a function:</p>\n\n<pre><code>export function createPerson(name, age, initScore) { ... }  \n</code></pre>\n\n<p>But in the statically typed environment of TypeScript, it would be much more useful for the developer to have something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Person {\n    name: string,\n    age: number,\n    score: number\n}\n\nexport function createPerson(name: string, age: number, initScore?: number): Person;\n</code></pre>\n\n<p>The purpose of <strong>type declarations</strong>, often called <em>typings</em>, <em>type definitions</em> or just <em>types</em>, is to fill in these details over implementations, thus identifying API misuses even across libraries. They usually reside in files with the <code>.d.ts</code> extension, and can be built from <code>.ts</code> files using the compiler. When programs were not written in TypeScript however, these declarations are usually written manually.</p>\n\n<hr>\n\n<p>With that said, your confusion is somewhat justified: more than one approach to installing and managing TypeScript declarations were made over time. Right now however, there is an official (and therefore recommended) means of installing and using declaration files, and it's documented <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/consumption.html\" rel=\"noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>In TypeScript 2.0, it has become significantly easier to consume declaration files, in acquiring, using, and finding them. This page details exactly how to do all three</p>\n  \n  <p>[...]</p>\n  \n  <p>Getting type declarations in TypeScript 2.0 and above requires no tools apart from npm.</p>\n</blockquote>\n\n<p>As an example, retrieving declarations for Angular is as simple as installing this dependency in your project:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>npm install --save @types/angular \n</code></pre>\n\n<p>Packages in the <code>@types</code> namespace will be automatically considered by the compiler for retrieving type declarations. Furthermore, if these declarations are already embedded in the npm package, you don't have to do anything else other than installing that package (an example of such a package is <a href=\"https://github.com/reactjs/redux\" rel=\"noreferrer\">redux</a>). For more information, see the docs on <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"noreferrer\">tsconfig.json</a>. There is also a whole section about <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\" rel=\"noreferrer\">authoring your own declaration files</a>, which is a recommended read to all developers wishing to add type declarations to their own libraries.</p>\n"}, {"comments": [{"owner": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "edited": false, "score": 9, "creation_date": 1484071185, "post_id": 41575212, "comment_id": 70355461, "body": "this is the best answer I have seen all day!! Too bad I can&#39;t upvote yet."}, {"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "reply_to_user": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "edited": false, "score": 2, "creation_date": 1484071281, "post_id": 41575212, "comment_id": 70355512, "body": "@Alfy I&#39;m glad I could help you :)"}, {"owner": {"reputation": 805, "user_id": 2743790, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/aba7fa487335666436a80f1045304e46?s=128&d=identicon&r=PG&f=1", "display_name": "Spdexter", "link": "https://stackoverflow.com/users/2743790/spdexter"}, "edited": false, "score": 0, "creation_date": 1517843797, "post_id": 41575212, "comment_id": 84248191, "body": "Best explanation that any newbie could understand! Thanks"}, {"owner": {"reputation": 1809, "user_id": 7339171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e618ef1f932f57ce1008799082f8db29?s=128&d=identicon&r=PG&f=1", "display_name": "CoffeeTableEspresso", "link": "https://stackoverflow.com/users/7339171/coffeetableespresso"}, "edited": false, "score": 0, "creation_date": 1553889156, "post_id": 41575212, "comment_id": 97568381, "body": "I think you meant dynamically typed rather than untyped, but still a great answer (and upvoted)."}, {"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "reply_to_user": {"reputation": 1809, "user_id": 7339171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e618ef1f932f57ce1008799082f8db29?s=128&d=identicon&r=PG&f=1", "display_name": "CoffeeTableEspresso", "link": "https://stackoverflow.com/users/7339171/coffeetableespresso"}, "edited": false, "score": 0, "creation_date": 1554064366, "post_id": 41575212, "comment_id": 97605439, "body": "@CoffeeTableEspresso There is a lot of debate whether to call some languages dynamically typed or untyped. I&#39;ll think about my choice of term here and maybe I&#39;ll change it or add additional explanations, thank you!"}], "tags": [], "owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "is_accepted": true, "score": 161, "last_activity_date": 1506499176, "last_edit_date": 1506499176, "creation_date": 1484070727, "answer_id": 41575212, "question_id": 41573822, "link": "https://stackoverflow.com/questions/41573822/what-are-typings-in-typescript/41575212#41575212", "title": "What are Typings in Typescript", "body": "<p>JavaScript is untyped, meaning that we can pass around and use data, objects and functions with no constraints. We can write code that calls methods that don't exist on an object, or reference variables that we don't have. These kinds of mistakes can be hard to discover when you are writing code, and it can lead to unstable and buggy code. Doing big changes of your code can become difficult and risky as you don't immediately see if some changes conflicts with the rest of the code somewhere else.</p>\n\n<p>TypeScript is mainly about adding <a href=\"https://en.wikipedia.org/wiki/Data_type\" rel=\"noreferrer\">types</a> to JavaScript. That means that TypeScript requires you to accurately describe the format of your objects and your data. When you do that, that means that the compiler can investigate your code and discover errors. It can see that you are trying to call a function with the wrong kinds of arguments, or reference a variable that is not accessible in the current scope.</p>\n\n<p>When you write TypeScript yourself, this formal description of the code is part of the code itself.</p>\n\n<p>However, when you use external libraries like jQuery or moment.js, there are no information of the types in that code. So in order to use it with TypeScript, you also have to get files that describe the types of that code. These are the <em>type declaration files</em>, most often with the file extension name <code>.d.ts</code>. Fortunately people have written those kinds of type declaration files for most common javascript libraries out there.</p>\n\n<p><a href=\"https://github.com/typings/typings\" rel=\"noreferrer\">Typings</a> was just a tool to install those files. It is now best practice to <a href=\"https://blogs.msdn.microsoft.com/typescript/2016/06/15/the-future-of-declaration-files/\" rel=\"noreferrer\">just use npm</a>.</p>\n\n<p>When you have installed those files, which basically only means downloading them and placing them in your project, the TypeScript compiler will understand* that external code and you will be able to use those libraries. Otherwise you would only get errors everywhere.</p>\n\n<p><sub>* Depending on how you have set up your project and configured it, you might have to configure typescript to look for those files specifically, or it might just work without any configuration from your part.</sub></p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 1435895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c9574773377b066b28a4482e118edc?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/1435895/arun"}, "is_accepted": false, "score": 1, "last_activity_date": 1549087959, "creation_date": 1549087959, "answer_id": 54490514, "question_id": 41573822, "link": "https://stackoverflow.com/questions/41573822/what-are-typings-in-typescript/54490514#54490514", "title": "What are Typings in Typescript", "body": "<p>I will try to explain it with simple example. \nIf you are using third party libraries like jQuery in Angular or typescript projects</p>\n\n<p>You can directly refer jquery file(angular.json file) in Angular projects and write the code by declaring $ or jQuery as shown below </p>\n\n<p>as shown below</p>\n\n<pre><code>declare var $: any;\nngOnInit() {\n   $(document).ready(function() {\n     alert('I am Called From jQuery');\n   });\n}\n</code></pre>\n\n<p>The code will work. But the problem is typescript is all about type checking and discover errors in code at the time of compilation only. </p>\n\n<p>As typescript does not know anything about jquery library it cannot perform static type checking. the below code compile without any errors</p>\n\n<pre><code>ngOnInit() {\n   $(document).ready(function() {\n     $('#my-button').click(1);\n });\n}\n</code></pre>\n\n<p>I am passing wrong parameter to click function of jquery and the above code will compile and at run time whenever we click on button element it will throw an error.</p>\n\n<p>Thats where typings comes into picture. But if you have type definations for jquery plug in those kind of error can be caught at the time of compilation only.</p>\n\n<p>Install jquery typings from node packages and refere it in code </p>\n\n<pre><code>npm install --save jquery\nnpm install --save @types/jquery\n</code></pre>\n\n<p>And import jquery object in the code as shown below</p>\n\n<pre><code>import * as $ from 'jquery';\n</code></pre>\n\n<p>And now the above code wont compile and throws error saying</p>\n\n<pre><code>Argument of type \u20181\u2019 is not assignable to parameter of type \u2018false | EventHandlerBase&lt;HTMLElement, ClickEvent&lt;HTMLElement, null, HTMLElement, HTMLElement&gt;&gt;\u2019\n</code></pre>\n\n<p>You can read more at <a href=\"https://www.angularjswiki.com/angular/how-to-install-and-use-jquery-in-angular-projects/\" rel=\"nofollow noreferrer\">How To Install And Use JQuery In Angular Projects</a></p>\n"}], "owner": {"reputation": 566, "user_id": 4445446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oRPe7.jpg?s=128&g=1", "display_name": "Ikiugu", "link": "https://stackoverflow.com/users/4445446/ikiugu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28209, "favorite_count": 19, "accepted_answer_id": 41575212, "answer_count": 4, "score": 46, "last_activity_date": 1549087959, "creation_date": 1484066391, "last_edit_date": 1484069451, "question_id": 41573822, "link": "https://stackoverflow.com/questions/41573822/what-are-typings-in-typescript", "title": "What are Typings in Typescript", "body": "<p>I am new to Angular2 and I'm enjoying it so far but there is one problem: <strong>Typings</strong>. I can't figure out how to use them and what exactly they are. Some places say to use typings, others say to use npm to install definitions. </p>\n\n<p>I'm confused!! </p>\n"}, {"tags": ["angular", "typescript", "location"], "comments": [{"owner": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "edited": false, "score": 1, "creation_date": 1484062825, "post_id": 41572426, "comment_id": 70349873, "body": "Did you try <code>$window.history.length</code> ?"}, {"owner": {"reputation": 599, "user_id": 5900163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5KtOp.jpg?s=128&g=1", "display_name": "Keff", "link": "https://stackoverflow.com/users/5900163/keff"}, "reply_to_user": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "edited": false, "score": 0, "creation_date": 1484063791, "post_id": 41572426, "comment_id": 70350529, "body": "I tried <code>window.history.length</code>, but it returns random numbers: 4, 3, even if there is no history, and <code>Location.back()</code> does not do anything"}, {"owner": {"reputation": 599, "user_id": 5900163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5KtOp.jpg?s=128&g=1", "display_name": "Keff", "link": "https://stackoverflow.com/users/5900163/keff"}, "reply_to_user": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "edited": false, "score": 2, "creation_date": 1502381838, "post_id": 41572426, "comment_id": 78196951, "body": "Mi bad, using window.history.length did the job"}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 11333539, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1ae9cf9f81566e8cc526c95d5b6e7288?s=128&d=identicon&r=PG", "display_name": "filarrro", "link": "https://stackoverflow.com/users/11333539/filarrro"}, "is_accepted": true, "score": 11, "last_activity_date": 1554800715, "creation_date": 1554800715, "answer_id": 55588982, "question_id": 41572426, "link": "https://stackoverflow.com/questions/41572426/angular2-check-if-location-back-has-history-to-go-back/55588982#55588982", "title": "Angular2 Check if Location.back has history to go back?", "body": "<p>In <code>Angular 7</code> you can use <code>Router.navigated</code> property to check if any navigation event has occurred.</p>\n\n<pre><code>constructor(\n  private router: Router,\n  private location: Location\n) {\n  this.hasHistory = this.router.navigated;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 630, "user_id": 9118235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574c1b3753c263fa4b9a59d83530561c?s=128&d=identicon&r=PG", "display_name": "Baruch G.", "link": "https://stackoverflow.com/users/9118235/baruch-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1607950794, "last_edit_date": 1607950794, "creation_date": 1607946346, "answer_id": 65288484, "question_id": 41572426, "link": "https://stackoverflow.com/questions/41572426/angular2-check-if-location-back-has-history-to-go-back/65288484#65288484", "title": "Angular2 Check if Location.back has history to go back?", "body": "<p>You can use JavaScript to view the last place the user visited:</p>\n<pre><code>document.referrer\n</code></pre>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer\" rel=\"nofollow noreferrer\">doc</a></p>\n<p>So, in your case, you can check if the user can go back, as follows:</p>\n<pre><code>historyBack() {\nif (document.referrer) {\n  this._location.back();\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 599, "user_id": 5900163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5KtOp.jpg?s=128&g=1", "display_name": "Keff", "link": "https://stackoverflow.com/users/5900163/keff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3789, "favorite_count": 0, "accepted_answer_id": 55588982, "answer_count": 2, "score": 11, "last_activity_date": 1607950794, "creation_date": 1484062222, "last_edit_date": 1562233198, "question_id": 41572426, "link": "https://stackoverflow.com/questions/41572426/angular2-check-if-location-back-has-history-to-go-back", "title": "Angular2 Check if Location.back has history to go back?", "body": "<p>So I have a button that calls, <code>Location.back()</code> i want to show it when it has history available, is it posible to check if location has any history, or can go back?</p>\n\n<p>Or is there a way of accessing the history miself?</p>\n\n<p>Angular Version: <code>2.2.3</code></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div (click)=\"historyBack()\"&gt;\n  &lt;i class=\"fa fa-angle-left\"&gt;&lt;/i&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>component:</p>\n\n<pre><code>import {Location} from '@angular/common';\n\n@Component(...)\nexport class HomeComponent{\n  hasHistory = false;\n  constructor(\n   private _location: Location\n  ){\n    this.hasHistory = //Magic code\n  }\n  historyBack(){\n    this._location.back();\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484061654, "post_id": 41572202, "comment_id": 70349077, "body": "have you configured a module in the tsconfig.json file? You probably shouldn&#39;t in your case."}, {"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484061986, "post_id": 41572202, "comment_id": 70349284, "body": "No, this is intended to be a declarations file to accompany a library."}, {"owner": {"reputation": 6173, "user_id": 877703, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/251b6194131d9d190face48e1b400ae4?s=128&d=identicon&r=PG&f=1", "display_name": "chharvey", "link": "https://stackoverflow.com/users/877703/chharvey"}, "edited": false, "score": 0, "creation_date": 1545437689, "post_id": 41572202, "comment_id": 94630930, "body": "you should <b>never</b> have a <code>declare namespace foo {}</code> and a <code>declare var foo</code> in the same file. try renaming one of those."}], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 3, "last_activity_date": 1484066685, "creation_date": 1484066685, "answer_id": 41573915, "question_id": 41572202, "link": "https://stackoverflow.com/questions/41572202/exporting-default-value-from-a-module-in-typescript-declaration-file/41573915#41573915", "title": "Exporting default value from a module in Typescript declaration file", "body": "<p>Use</p>\n\n<pre><code>export = foo;\n</code></pre>\n\n<p>instead of <code>export default foo;</code> in your declaration file</p>\n\n<p>and use <code>import require</code> when importing:</p>\n\n<pre><code>import Foo = require('./foo');\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#export--and-import--require\" rel=\"nofollow noreferrer\">Export assignment/import require</a> is special syntax in typescript for dealing with node modules with exports like</p>\n\n<pre><code>module.exports = function someFunction() {}\n</code></pre>\n"}], "owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 0, "accepted_answer_id": 41573915, "answer_count": 1, "score": 1, "last_activity_date": 1484067878, "creation_date": 1484061592, "last_edit_date": 1484067878, "question_id": 41572202, "link": "https://stackoverflow.com/questions/41572202/exporting-default-value-from-a-module-in-typescript-declaration-file", "title": "Exporting default value from a module in Typescript declaration file", "body": "<p>Let's say I have a declarations file <code>foo.d.ts</code>:</p>\n\n<pre><code>declare namespace foo {\n  interface Bar {\n    (): void;\n  }\n}\n\ndeclare var foo: foo.Bar;\nexport default foo;\n</code></pre>\n\n<p>If I compile this:</p>\n\n<pre><code>import Foo from './foo';\nFoo();\n</code></pre>\n\n<p>The resulting output is:</p>\n\n<pre><code>\"use strict\";\nvar foo_1 = require('./foo');\nfoo_1[\"default\"]();\n</code></pre>\n\n<p>However this code won't run as <code>foo_1</code> is a function and has no property <code>default</code>. How can I get the output to be <code>foo_1()</code> instead of <code>foo_1[\"default\"]()</code>?</p>\n"}, {"tags": ["typescript", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 1, "creation_date": 1484063149, "post_id": 41572085, "comment_id": 70350074, "body": "By changing <code>valid: boolean</code> to <code>valid: (t: T[P]) =&gt; boolean</code> you can have the custom behavior for checking the key as well @JoeyFarina"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 3, "last_activity_date": 1484061197, "creation_date": 1484061197, "answer_id": 41572085, "question_id": 41571756, "link": "https://stackoverflow.com/questions/41571756/can-two-different-typescript-interfaces-be-required-to-have-the-same-keys-but-be/41572085#41572085", "title": "Can two different TypeScript interfaces be required to have the same keys but be able to have different values?", "body": "<p>Something like this using <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">mapped types</a> maybe:</p>\n\n<pre><code>interface Obj {\n  alpha: number\n  beta: string\n}\n\ntype Validator&lt;T&gt; = {\n    [P in keyof T]: {message: string, valid: boolean};\n};\n\nlet o: Obj = { alpha: 1, beta: \"123\" };\nlet v: Validator&lt;Obj&gt; =\n{\n  alpha: {\n    message: \"ok\",\n    valid: true\n  },\n  beta: {\n    message: \"not ok\",\n    valid: false\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 6629644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f8338776115afbd8af84549a2731ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Farina", "link": "https://stackoverflow.com/users/6629644/joey-farina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1391, "favorite_count": 0, "accepted_answer_id": 41572085, "answer_count": 1, "score": 3, "last_activity_date": 1484061197, "creation_date": 1484060165, "question_id": 41571756, "link": "https://stackoverflow.com/questions/41571756/can-two-different-typescript-interfaces-be-required-to-have-the-same-keys-but-be", "title": "Can two different TypeScript interfaces be required to have the same keys but be able to have different values?", "body": "<p>I want to be able to enforce that objValidator has the same keys as the obj that it validates. Is this possible in TypeScript? Any ideas on how I can implement something like this below? Mainly the obj and objValidator must have the same keys, but the key values are different.</p>\n\n<p>I would like to be able to be warned if my objValidator does not have the exact same keys as the obj.</p>\n\n<pre><code>interface obj {\n  alpha: number\n  beta: string\n}\n\ninterface objValidator {\n  alpha: {\n    message: string\n    valid(ALPHA'S TYPE): boolean\n  }\n  beta: {\n    message: string\n    valid(BETA'S TYPE): boolean\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "typescript", "algolia"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 7349289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a916662f5da1699697a38b841af02df?s=128&d=identicon&r=PG&f=1", "display_name": "KrzysztofG06", "link": "https://stackoverflow.com/users/7349289/krzysztofg06"}, "edited": false, "score": 1, "creation_date": 1484052509, "post_id": 41569183, "comment_id": 70342447, "body": "Yup just got the same reply from Algolia staff. Thank you :)"}], "tags": [], "owner": {"reputation": 4269, "user_id": 2950067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae00b72eace77983bdf57476141340dc?s=128&d=identicon&r=PG", "display_name": "redox", "link": "https://stackoverflow.com/users/2950067/redox"}, "is_accepted": false, "score": 4, "last_activity_date": 1484052342, "creation_date": 1484052342, "answer_id": 41569183, "question_id": 41569131, "link": "https://stackoverflow.com/questions/41569131/algolia-analytics-api-cannot-be-called-from-frontend-application/41569183#41569183", "title": "Algolia analytics API cannot be called from frontend application?", "body": "<p>This API has not been designed to be called from the frontend (and therefore doesn't support CORS). You will need to build a proxy through your backend.</p>\n"}], "owner": {"reputation": 137, "user_id": 7349289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a916662f5da1699697a38b841af02df?s=128&d=identicon&r=PG&f=1", "display_name": "KrzysztofG06", "link": "https://stackoverflow.com/users/7349289/krzysztofg06"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1484052342, "creation_date": 1484052160, "question_id": 41569131, "link": "https://stackoverflow.com/questions/41569131/algolia-analytics-api-cannot-be-called-from-frontend-application", "title": "Algolia analytics API cannot be called from frontend application?", "body": "<p>Is it possible to call analytics API from javascript with jQuery?</p>\n\n<p>I've been struggling with this for couple of days with no luck. I tried using CORS wich is sending OPTIONS request first which is rejected (405 error). Also tried with jsonp - but from what I read it has to be configured on server side?</p>\n\n<p>Sample code (nothing fancy):</p>\n\n<pre><code>  $.ajax({\n    url: 'https://analytics.algolia.com/1/searches/test/popular',\n    method: 'GET',\n    beforeSend: (xhr) =&gt; {\n        xhr.setRequestHeader('X-Algolia-Application-Id', 'sample');\n        xhr.setRequestHeader('X-Algolia-API-Key', 'sample');\n    },\n    success: (response) =&gt; {\n      console.log(response);\n    }\n  });\n</code></pre>\n\n<p>Also tried with crossOrigin: true, and dataType: 'jsonp'.</p>\n"}, {"tags": ["javascript", "arrays", "sorting", "typescript"], "comments": [{"owner": {"reputation": 4639, "user_id": 2523444, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/303Tq.gif?s=128&g=1", "display_name": "Vinod Louis", "link": "https://stackoverflow.com/users/2523444/vinod-louis"}, "edited": false, "score": 2, "creation_date": 1484049429, "post_id": 41568267, "comment_id": 70340472, "body": "do a for(var prop in this.userInfo) this.userInfo[prop].sort();"}], "answers": [{"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 3, "last_activity_date": 1484049577, "creation_date": 1484049577, "answer_id": 41568344, "question_id": 41568267, "link": "https://stackoverflow.com/questions/41568267/sort-all-arrays-in-object-using-javascript-typescript/41568344#41568344", "title": "Sort all arrays in object using javascript/typescript", "body": "<p>Use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" rel=\"nofollow noreferrer\"><code>Object.keys</code></a> to get all array's own property names, then iterate the keys using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\"><code>Array#forEach</code></a>:</p>\n\n<pre><code>Object.keys(this.userInfo).forEach(function(key) {\n  this.userInfo[key].sort(function(a, b) {\n    // your sorting logic\n  });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 921, "user_id": 5756604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cQCE1.jpg?s=128&g=1", "display_name": "vijay", "link": "https://stackoverflow.com/users/5756604/vijay"}, "is_accepted": false, "score": 2, "last_activity_date": 1484049580, "creation_date": 1484049580, "answer_id": 41568345, "question_id": 41568267, "link": "https://stackoverflow.com/questions/41568267/sort-all-arrays-in-object-using-javascript-typescript/41568345#41568345", "title": "Sort all arrays in object using javascript/typescript", "body": "<p>Try this this will help you,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>this.userInfo = {\r\n  Interests: [2, 3, 4, 1],\r\n  Websites: [2, 3, 4, 1],\r\n  Games: [2, 3, 4, 1],\r\n  Locations: [2, 3, 4, 1],\r\n  Companies: [2, 3, 4, 1],\r\n  Projects: [2, 3, 4, 1],\r\n  Schools: [2, 3, 4, 1],\r\n  Studies: [2, 3, 4, 1]\r\n};\r\n\r\nfor (var i in this.userInfo) {\r\n  console.log(this.userInfo[i].sort());\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 41568344, "answer_count": 2, "score": -1, "last_activity_date": 1484049580, "creation_date": 1484049345, "question_id": 41568267, "link": "https://stackoverflow.com/questions/41568267/sort-all-arrays-in-object-using-javascript-typescript", "title": "Sort all arrays in object using javascript/typescript", "body": "<p>I want to sort every array in this object, currently i do it this way</p>\n\n<pre><code>this.userInfo = {\n    Interests: [],\n    Websites: [],\n    Games: [],\n    Locations: [],\n    Companies: [],\n    Projects: [],\n    Schools: [],\n    Studies: []\n};\n\n\nthis.userInfo.Interests.sort();\nthis.userInfo.Websites.sort();\nthis.userInfo.Games.sort();\nthis.userInfo.Locations.sort();\nthis.userInfo.Companies.sort();\nthis.userInfo.Projects.sort();\nthis.userInfo.Schools.sort();\nthis.userInfo.Studies.sort();\n</code></pre>\n\n<p>Any other more elegant way?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "identityserver3"], "comments": [{"owner": {"reputation": 458, "user_id": 4437464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXC5a.png?s=128&g=1", "display_name": "Elyas Esna", "link": "https://stackoverflow.com/users/4437464/elyas-esna"}, "edited": false, "score": 0, "creation_date": 1551343748, "post_id": 41567647, "comment_id": 96608213, "body": "I have exactly the same problem, any help???"}], "owner": {"reputation": 73, "user_id": 3300778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93cb15ce9cc58acb22b2baf63e10c3ed?s=128&d=identicon&r=PG&f=1", "display_name": "Psybot", "link": "https://stackoverflow.com/users/3300778/psybot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 577, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1484047486, "creation_date": 1484047486, "question_id": 41567647, "link": "https://stackoverflow.com/questions/41567647/oidc-client-how-to-use-signoutpopup-method-properly", "title": "Oidc-client: how to use signoutPopup method properly", "body": "<p>I'm wondering how to logout properly through the oidc-client UserManager <code>signoutPopup</code> method, without throwing an error when the user closes the popup window?</p>\n\n<p>I'm calling UserManager's signoutPopup method and a popup window opens telling me that I've been logged out and I'm also presented with a link back to the application. Up until now everything works as expected.</p>\n\n<p>Now, if I follow the above link, the application is loaded into the same window. Regardless whether I follow the link first, or close the window immediately there's an error </p>\n\n<blockquote>\n  <p>'Popup window closed'.</p>\n</blockquote>\n\n<p>When the popup window is opened UserManager starts a timer that throws the above error if the window is closed before being cleaned up. I'm guessing that I'm supposed to clean it up somehow. Maybe, I'm just supposed to catch the error.</p>\n\n<p>Does anybody know how logout with the <code>signoutPopup</code> method is supposed to work? I haven't been able to find any documentation or examples regarding this. </p>\n\n<p>I'm using oidc-client 1.2.2, Angular 2 and IdentityServer 3.</p>\n"}, {"tags": ["cordova", "typescript", "ionic-framework", "dropbox-api", "inappbrowser"], "owner": {"reputation": 595, "user_id": 2921861, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/706880107/picture?type=large", "display_name": "Tolga Tamer", "link": "https://stackoverflow.com/users/2921861/tolga-tamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1484047360, "creation_date": 1484047360, "question_id": 41567618, "link": "https://stackoverflow.com/questions/41567618/inappbrowser-cant-catch-the-token-and-goes-directly-to-aboutblank", "title": "Inappbrowser cant catch the token and goes directly to &quot;about:blank&quot;", "body": "<p>I m trying to get the dropbox token. After successfully login, dropbox redirects the url and Inappbrowser goes directly to \"about:blank\" in the background. I believe token comes for a second but inappbrowser redirects the browser so fast to \"about:blank\" so the token is lost. I found out when i put a breakpoint in the event listener i can get the token actually. It is really weird.\nWhat am i doing wrong ? </p>\n\n<pre><code>connectDropbox() {\n      this.$rootScope.$on('$cordovaInAppBrowser:loadstart', (e, event) =&gt; {\n          if(event.url.indexOf(\"access_token\") &gt; -1){ // when i put here breakpoint i actuall get the token, otherweise not.\n            this.TOKEN = this.parseQueryString(event.url).access_token;\n            this.uploadXml();\n          }\n      });\n  let dbx = new Dropbox({clientId: this.CLIENT_ID});\n  let str = dbx.getAuthenticationUrl(\"http://localhost\");\n  this.$cordovaInAppBrowser.open(str, '_blank', this.defaultOptions);\n}\n</code></pre>\n\n<p>My Options for Inappbrowser : </p>\n\n<pre><code> private defaultOptions = {\n      location: 'no',\n      clearcache: 'no',\n      toolbar: 'no'\n    };\n</code></pre>\n"}, {"tags": ["json", "object", "angular", "typescript"], "comments": [{"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484048012, "post_id": 41567607, "comment_id": 70339637, "body": "That failure service looks wonky, in particular, the failures mapping. The arg you are passing to new Failures is { failures = [Failure] }: what is that supposed to do? If it&#39;s a typed array wouldn&#39;t is just be failures: Array&lt;Failure&gt; (or for testing, just omit the type and pass failures, and see if it works)? Also, are you sure the import for Failure is right (or is it just named uppercase, as oppose to the usual lower case, this may not be broken it just looks strange)."}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "reply_to_user": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484048543, "post_id": 41567607, "comment_id": 70339928, "body": "I have failures = [Failure] because i get from JSON an array of Failure. the code is the same as the working FeatureService expect from the class names ofcourse"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484049783, "post_id": 41567607, "comment_id": 70340687, "body": "Right, what I mean is, what exactly does { failures = [Failure] } do? You appear to be setting a variable (failures) equal to an array that contains a function ([Failure]), and then feeding that variable to your Failures constructor.   So you are mapping &quot;new Failures ( [ Failure ] )&quot;.   This would return an array of &quot;Failure&quot; functions, which is what I think your problem is. If failures should be an array of Failures, wouldn&#39;t the syntax be failures: Array&lt;Failure&gt;?  TS may call things &quot;Types&quot;, but remember that&#39;s just sugar. &quot;Types&quot; are still just JS functions under the hood."}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "reply_to_user": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484049967, "post_id": 41567607, "comment_id": 70340803, "body": "This is the Failures constructor : { constructor(public failures : Failure[]){}} so I need an array to make the object. so I want an array of Failure object"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484050105, "post_id": 41567607, "comment_id": 70340883, "body": "I get that. But what you are feeding that constructor isn&#39;t a failures array. It is an array with a single function in it, every time ([Failure]). I could be wrong, but I have never see that { failures = [Failures] } syntax. Try removing that, and it it&#39;s place, just put &quot;failures&quot;, and see what happens. Don&#39;t worry about the type for now, just take the incoming arg (failures) and feed THAT, as-is, to your constructor."}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "reply_to_user": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484050572, "post_id": 41567607, "comment_id": 70341170, "body": "I tried it (the failures in stead of failures = [Failure] ) and console.log(res); gives : {Failures {failures: undefined}}. So it looks like it is now completely undefined"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1484050704, "post_id": 41567607, "comment_id": 70341248, "body": "Did you remove the brackets? Look at my code in the answer. BTW if that&#39;s just showing &quot;undefined&quot;, then something else is wrong with your code, but we&#39;ll get to that."}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484050702, "post_id": 41568565, "comment_id": 70341247, "body": "I now get Object{ failures: : Array[2] 0 : Object 1 : Object } but getfailureArray () is undefined but I can tinker with this maybe I will find something, thanks for explaining so thorough for me"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "reply_to_user": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484051005, "post_id": 41568565, "comment_id": 70341442, "body": "Yeah that second mapping is your big problem. You are doing this: svcResult =&gt; toJson =&gt; to Failures Array. So you are feeding in the result, turning it into json, then submitting that JSON to the failures mapping. Just keep it vanilla and simple to get it rolling (the way JS is meant to be) and then roll in your Types."}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484051074, "post_id": 41568565, "comment_id": 70341480, "body": "Why do you have an ; after { console.log ( failures ); because now the return is al turend around"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "reply_to_user": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484051255, "post_id": 41568565, "comment_id": 70341610, "body": "The ; separates the statement in the map function. I think you&#39;re not really sure what you&#39;re getting back from your service here. Your return is just an object with a property &quot;failures&quot; with an array of objects on it. There is no &quot;getFailureArray&quot; function.  You just access the &quot;failures&quot; property of the return."}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484052562, "post_id": 41568565, "comment_id": 70342483, "body": "Now I get back an observable and a long time ago I made that strange .map so that it is an object because I need  an object so that in a other part of the program I can call upon the individual part of the classes like name or something like that"}, {"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "reply_to_user": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484052608, "post_id": 41568565, "comment_id": 70342505, "body": "Doesn&#39;t work that way though, at least not as you have it coded here. I&#39;d just keep it simple."}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484052720, "post_id": 41568565, "comment_id": 70342572, "body": "But that is why I made that strange .map do you know an way to use it my way with an other map?"}], "tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": false, "score": 0, "last_activity_date": 1484050877, "last_edit_date": 1484050877, "creation_date": 1484050316, "answer_id": 41568565, "question_id": 41567607, "link": "https://stackoverflow.com/questions/41567607/angular-2-sees-my-json-object-as-an-function/41568565#41568565", "title": "Angular 2 sees my Json object as an function", "body": "<p>I could be wrong but this doesn't look right:</p>\n\n<pre><code>getFailures() {\n    return this.http.get('http://localhost:8080/testresultaten')\n      .map((response: Response) =&gt; response.json())\n      .map(({failures = [Failure]}) =&gt; new Failures(failures));// deze error is bullshit\n  }\n</code></pre>\n\n<p>That last mapping, I'm not sure what it is supposed to do. I've never seen that syntax (doesn't mean it's wrong). I get that you have an incoming array. But what this syntax does {failures = [Failure]} is what I think your problem is. I don't think that will do what you think. </p>\n\n<p>Try this and see what happens:</p>\n\n<pre><code>.map(failures =&gt; { console.log ( failures ); new Failures(failures) } );// deze error is bullshit\n</code></pre>\n\n<p>If you try that with your old mapping, and then this new one, it'd be interesting to see what that console.log traces out. I think doing it your way, you won't see what you expect. </p>\n\n<p>If that sorts you out, then you can try typing the incoming payload (though I'm not sure it'll work; it should be receiving JSON from the previous mapping). </p>\n\n<pre><code>.map( (failures: Array&lt;Failure&gt;) =&gt; { console.log ( failures ); new Failures(failures) } );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484053718, "post_id": 41569578, "comment_id": 70343318, "body": "I now also wonder where I found that I found it (or made) around 5 weeks ago for something that is almost the same as this and to this day that still works. I am now gonna try youre fix"}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484054046, "post_id": 41569578, "comment_id": 70343539, "body": "He does not know failure and foo, bar"}, {"owner": {"reputation": 309, "user_id": 6440091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lRXbj.png?s=128&g=1", "display_name": "SovietPanda", "link": "https://stackoverflow.com/users/6440091/sovietpanda"}, "reply_to_user": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484054923, "post_id": 41569578, "comment_id": 70344202, "body": "has <code>Failure</code> a constructor? If not then create one and give all the values in your object in the JSON array as parameter. Example: you have an array with two objects with the value foo and bar. In order to create an object out of it you need a constructor that takes the value foo and bar as a parameter."}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484055450, "post_id": 41569578, "comment_id": 70344555, "body": "The constructor is {  constructor(public method : String , public object : String ){  } }"}, {"owner": {"reputation": 309, "user_id": 6440091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lRXbj.png?s=128&g=1", "display_name": "SovietPanda", "link": "https://stackoverflow.com/users/6440091/sovietpanda"}, "reply_to_user": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484055728, "post_id": 41569578, "comment_id": 70344762, "body": "@Nick can you edit your post with your JSON and <code>Failure</code> class?"}, {"owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484057975, "post_id": 41569578, "comment_id": 70346430, "body": "I now get an Observable back but I want/need an object so that i can use the individual pieces of information"}, {"owner": {"reputation": 309, "user_id": 6440091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lRXbj.png?s=128&g=1", "display_name": "SovietPanda", "link": "https://stackoverflow.com/users/6440091/sovietpanda"}, "reply_to_user": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "edited": false, "score": 0, "creation_date": 1484059079, "post_id": 41569578, "comment_id": 70347273, "body": "You&#39;re close to your finish line. What you now return is an <code>Observable&lt;Failure[]&gt;</code>. With <code>.subscribe()</code> you now define what it should do with <code>Failure[]</code> in the <code>Observable&lt;Failure[]&gt;</code>. Ergo: <code>.subscribe(observable =&gt; this.failureArray = observable)</code>."}], "tags": [], "owner": {"reputation": 309, "user_id": 6440091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lRXbj.png?s=128&g=1", "display_name": "SovietPanda", "link": "https://stackoverflow.com/users/6440091/sovietpanda"}, "is_accepted": false, "score": 0, "last_activity_date": 1484056332, "last_edit_date": 1495542342, "creation_date": 1484053609, "answer_id": 41569578, "question_id": 41567607, "link": "https://stackoverflow.com/questions/41567607/angular-2-sees-my-json-object-as-an-function/41569578#41569578", "title": "Angular 2 sees my Json object as an function", "body": "<p>So if I read it correctly: Your goal is to create an array of <code>Failure</code> objects with the values coming from a JSON array where each of this has a method you'd like to execute somewhere in the code.</p>\n\n<p>If thats the case then I understand what went wrong. As Tim Consolazion mentioned in the comments you only get the values for the <code>Failure</code> object not the <code>Failure</code> object itself (See <a href=\"https://stackoverflow.com/questions/40357237/custom-created-method-error-is-not-a-function\">custom created method error: &quot;is not a function&quot;</a>). So in order to execute the commands from <code>Failure</code> you have to create for each object in your JSON array a <code>Failure</code> object. Something like this:</p>\n\n<pre><code>return this.http.get('http://localhost:8080/testresultaten')\n  .map((response: Response) =&gt; {\n      let content = response.json();\n      let failureList: Failure[] = [];\n\n      content.forEach(failure =&gt; {\n                failureList.push(new Failure(failure.method, failure.object))\n            });\n\n      return failureList || {};\n  }\n</code></pre>\n\n<p>What I wonder is where you found <code>{failures = [Failure]}</code>? I've never seen this before and I've no idea what this is for. </p>\n\n<p><strong>EDIT:</strong> I edited the question so it fits your class <code>Failure</code>. The <code>failure</code> in <code>content.forEach(failure =&gt; {</code> in an object from your JSON array. You can access the values of it like it is a normal object. In your case with <code>failure.method</code> and <code>failure.object</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1484061116, "creation_date": 1484061116, "answer_id": 41572054, "question_id": 41567607, "link": "https://stackoverflow.com/questions/41567607/angular-2-sees-my-json-object-as-an-function/41572054#41572054", "title": "Angular 2 sees my Json object as an function", "body": "<p>I found my problem in the Json the name was function: but in my code it was function so all that was necessary was to make sure it sends function instead of function:</p>\n"}], "owner": {"reputation": 321, "user_id": 6345332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MbOvJ.jpg?s=128&g=1", "display_name": "Nick Alexander", "link": "https://stackoverflow.com/users/6345332/nick-alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1484061116, "creation_date": 1484047340, "last_edit_date": 1484055939, "question_id": 41567607, "link": "https://stackoverflow.com/questions/41567607/angular-2-sees-my-json-object-as-an-function", "title": "Angular 2 sees my Json object as an function", "body": "<p>I have a webapp that gets via Json stuff put it in objects to display them.\nI already did it two times with services and classes.\nBut now i copy and paste the old code make some slight changes to make sure it redirect to the good classes but now i get an array with functions instead an array with objects.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lwpdm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lwpdm.png\" alt=\"Here you see the array open in console\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/7hCmi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7hCmi.png\" alt=\"And here the are closed\"></a></p>\n\n<p>Here is my constructor that calls upon the the service classes and send things to the console</p>\n\n<pre><code>constructor(private featureService : FeatureService, private scenarioservice : ScenarioService, private failuresService : FailuresService){\n    //hier worden de features en failures opgehaald\n    this.featureService.getFeatures().subscribe(res =&gt; {\n      this.featureArray = res.getFeatureArray();\n      console.log(res.getFeatureArray());\n    });\n      this.failuresService.getFailures().subscribe(res =&gt; {\n      this.failureArray = res.getFailureArray();\n      console.log(res.failures[0].method);\n      console.log(this.failureArray);\n    });\n\n  }\n\n}\n</code></pre>\n\n<p>Here is failuresService.getFailures:</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport {Http, Response} from \"@angular/http\";\nimport {Failure} from \"./Failure\";\nimport {Failures} from \"./failures\";\n\n\n@Injectable()\nexport class FailuresService {\n  constructor(protected http: Http) {}\n\n\n  getFailures() {\n    return this.http.get('http://localhost:8080/testresultaten')\n      .map((response: Response) =&gt; response.json())\n      .map(({failures = [Failure]}) =&gt; new Failures(failures));// deze error is bullshit\n  }\n}\n</code></pre>\n\n<p>This is the Json that I get and want to get in an class:</p>\n\n<pre><code>{\n  \"failures:\": [\n    {\n      \"method\": \"canRollOneGame\",\n      \"object\": \"BowlingGame.GameTest\"\n    },\n    {\n      \"method\": \"canCountNighteeneight\",\n      \"object\": \"FizzBuzz.FizzBuzzTest\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Here are the Failure and Failures classes:</p>\n\n<pre><code>import {Failure} from \"./Failure\";\nexport class Failures {\n\n  constructor(public failures : Failure[]){}\n  public getFailureArray(): Failure[]{\n    return this.failures;\n  }\n\n}\n\n\nexport class Failure{\n\n  constructor(public method : String , public object : String ){  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-template"], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 4475632, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/100001404830215/picture?type=large", "display_name": "Przemys\u0142aw Zamorski", "link": "https://stackoverflow.com/users/4475632/przemys%c5%82aw-zamorski"}, "edited": false, "score": 0, "creation_date": 1484044818, "post_id": 41566687, "comment_id": 70337655, "body": "I will try it and give feedback :)"}], "tags": [], "owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "is_accepted": true, "score": 2, "last_activity_date": 1484044360, "creation_date": 1484044360, "answer_id": 41566687, "question_id": 41566155, "link": "https://stackoverflow.com/questions/41566155/child-dont-detect-parent-changes-angular-2/41566687#41566687", "title": "Child dont detect parent changes Angular 2", "body": "<p>There are many ways to enable communications between parent and children components, the most obvious one is through <a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#!#inputs-outputs\" rel=\"nofollow noreferrer\">input and output properties</a>, or through services. Observable is another option. Here's <a href=\"https://plnkr.co/edit/DaDdt7HlJ3l6jkroUxxy?p=preview\" rel=\"nofollow noreferrer\">an example with BehaviorSubject(a special kind of Observable)</a>. The steps are as following:</p>\n\n<ul>\n<li>'new' a BehaviorSubject in parent, let's name it <code>someRxx</code>.</li>\n<li>pass the BehaviorSubject to child using input property, like <code>&lt;my-child [nameRxx]=\"someRxx\"&gt;&lt;/my-child&gt;</code>.</li>\n<li>in child template, use async pipe, like <code>&lt;h2&gt;Hello {{nameRxx | async}}&lt;/h2&gt;</code>; or in child componet, you do <code>nameRxx.subscribe(doSomething)</code> (don't foget to unsubscribe in ngOnDestroy)</li>\n<li>in parent component or its template, do <code>someRxx.next(value)</code>, child will receive the value whenever you do <code>.next</code>.</li>\n</ul>\n\n<p>Enjoy.</p>\n"}], "owner": {"reputation": 591, "user_id": 4475632, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/100001404830215/picture?type=large", "display_name": "Przemys\u0142aw Zamorski", "link": "https://stackoverflow.com/users/4475632/przemys%c5%82aw-zamorski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 0, "accepted_answer_id": 41566687, "answer_count": 1, "score": 1, "last_activity_date": 1484044360, "creation_date": 1484042696, "question_id": 41566155, "link": "https://stackoverflow.com/questions/41566155/child-dont-detect-parent-changes-angular-2", "title": "Child dont detect parent changes Angular 2", "body": "<p>Hi i have a question how it realy work. I have a 2 components parent and child (i show only a piece of code because its my work project).</p>\n\n<p>So the parent component piece of template :</p>\n\n<pre><code>&lt;product-empty [showHistoryMonth]=\"showHistoryMonth\" [showHistoryAvg]=\"showHistoryAvg\"\n           [SP_L_FCSQData]='SP_L_FCSQData'\n           [allHistoryAvgNames]=\"allHistoryAvgNames\" [salesPlanId]=\"salesPlanId\" [allHistoryChannels]=\"allHistoryChannels\" [airingsNames]=\"airingsNames\"\n           [allForecastMonthChannels]=\"allForecastMonthChannels\" [forecastShows]=\"displayArry\"\n           [allProductSummary]=\"allProductSummary\"  &gt;&lt;/product-empty&gt;\n</code></pre>\n\n<p>and function which is important in this case :</p>\n\n<pre><code>private displayArry: string[] = [];\n\ngetForecastDisplay(emit: any) {\n        if (emit.show) {\n            var index = this.displayArry.indexOf(emit.id);\n            if (index === -1) {\n                this.displayArry.push(emit.id);\n            } else { }\n        } else {\n            var index = this.displayArry.indexOf(emit.id);\n            this.displayArry.splice(index, 1);\n        }\n        this.forecastShows = emit;\n        console.log('forecast show', this.displayArry);\n    }\n</code></pre>\n\n<p>And the child component piece :</p>\n\n<pre><code>export class FlexProductEmptyComponent implements DoCheck, OnInit, OnChanges {\n    ...\n    @Input() showHistoryMonth: boolean = false;\n    @Input() showHistoryAvg: boolean = false;\n    @Input() forecastShows: any;\n    ...\n</code></pre>\n\n<p>So the question is how data is passing beetwen parent and child. Right now i try to detect a parent changes in child.\nEDIT : The getForecastDisplay function is called when other component emit data and update displayArry. So like i think when displayArry variable is changed is passed again to all children which are binded to parent.</p>\n\n<p>I mean i try to catch that moment when parent data changed and pass it to child.\nI used a setter and when i set a console log on it it only loggs on init.\nI used a OnChanges with simple change and its logged only on startup of component;\nBut data when are changed is passed to child component (i know it because i set a console log in doCheck and its show a correct value).</p>\n\n<p>So the main question is how i can catch that moment when the parent component pass changed data to child ? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 1, "creation_date": 1484042348, "post_id": 41565809, "comment_id": 70335974, "body": "My bad, it seems I was a bit too fast on this one. Good point."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7398544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a19e296f97f3a80e09a66a99f0456534?s=128&d=identicon&r=PG&f=1", "display_name": "Alexis Lozano", "link": "https://stackoverflow.com/users/7398544/alexis-lozano"}, "edited": false, "score": 0, "creation_date": 1484042710, "post_id": 41566087, "comment_id": 70336224, "body": "It worked ! Thanks :D Unfortunately, my vote is not displayed as I do not have a big reputation :)"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 1, "last_activity_date": 1484042499, "creation_date": 1484042499, "answer_id": 41566087, "question_id": 41565809, "link": "https://stackoverflow.com/questions/41565809/angular-2-activatedroute-dont-carry-data/41566087#41566087", "title": "Angular 2 - ActivatedRoute don&#39;t carry data", "body": "<p>Your code seems fine, the only reason I could think of is that change detection may not be kicking in. Try changing your template like this to ensure after you get your level object that the template is rendered:</p>\n\n<pre><code>@Component({\n  moduleId: module.id,\n  selector: 'my-level',\n  template: `\n  &lt;div *ngIf=\"level\"&gt;\n    &lt;h3&gt;Level {{level?.id}}&lt;h3&gt;\n    &lt;button (click)=\"goBack()\"&gt;Back&lt;/button&gt;\n  &lt;/div&gt;\n  `\n})\nexport class LevelComponent implements OnInit{\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6140214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JOU6TRXf-6Q/AAAAAAAAAAI/AAAAAAAAAEY/5Y-IYoBRwqY/photo.jpg?sz=128", "display_name": "Tushar Tibude", "link": "https://stackoverflow.com/users/6140214/tushar-tibude"}, "is_accepted": false, "score": 0, "last_activity_date": 1496986775, "last_edit_date": 1496986775, "creation_date": 1484043639, "answer_id": 41566469, "question_id": 41565809, "link": "https://stackoverflow.com/questions/41565809/angular-2-activatedroute-dont-carry-data/41566469#41566469", "title": "Angular 2 - ActivatedRoute don&#39;t carry data", "body": "<p>You can use ActivatedRoute and Router like this. </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router ,ActivatedRoute  } from '@angular/router';\n\n@Component({\n  selector: 'app-sub-cat',\n  templateUrl: './sub-cat.component.html',\n  styleUrls: ['./sub-cat.component.css']\n})\nexport class SubCatComponent {\n  public category={};\n  constructor( private route:ActivatedRoute  ,private router:Router ){\n  }\n  onClickCategory(item){\n    this.router.navigate(['shipping-details', {data: item.id}]);\n    sessionStorage.setItem(item.id, JSON.stringify(item));\n  }\n  ngOnInit() {\n    this.category =JSON.parse(sessionStorage.getItem(this.route.snapshot.params['data']));\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7398544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a19e296f97f3a80e09a66a99f0456534?s=128&d=identicon&r=PG&f=1", "display_name": "Alexis Lozano", "link": "https://stackoverflow.com/users/7398544/alexis-lozano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 1, "accepted_answer_id": 41566087, "answer_count": 2, "score": 1, "last_activity_date": 1496986775, "creation_date": 1484041755, "last_edit_date": 1484042510, "question_id": 41565809, "link": "https://stackoverflow.com/questions/41565809/angular-2-activatedroute-dont-carry-data", "title": "Angular 2 - ActivatedRoute don&#39;t carry data", "body": "<p>I followed the tutorial on the angular website and everything was fine.\nHowever, I tried to create another project with the same patterns, but I can't pass data through ActivatedRoute.</p>\n\n<p>Here's the code :</p>\n\n<p>app.module.ts</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent }  from './app.component';\nimport { LevelService } from './level.service';\nimport { RouterModule } from '@angular/router'\n\nimport { NgModule }      from '@angular/core';\nimport { LevelComponent } from './level.component';\nimport { SelectorComponent } from './selector.component';\n\n@NgModule({\n  imports:      [\n    BrowserModule,\n    RouterModule.forRoot([\n      {\n        path: '',\n        redirectTo: '/selector',\n        pathMatch: 'full'\n      },\n      {\n        path: 'selector',\n        component: SelectorComponent\n      },\n      {\n        path: 'level/:id',\n        component: LevelComponent\n      }\n    ])\n  ],\n  declarations: [ AppComponent, SelectorComponent, LevelComponent ],\n  bootstrap:    [ AppComponent ],\n  providers:    [ LevelService ],\n})\nexport class AppModule { }\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-app',\n  template: `\n    &lt;h1&gt;{{title}}&lt;/h1&gt;\n    &lt;router-outlet&gt;&lt;/router-outlet&gt;\n  `,\n})\nexport class AppComponent {\n  title = 'My App';\n}\n</code></pre>\n\n<p>selector.component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Level } from './level';\nimport { LevelComponent } from './level.component';\nimport { LevelService } from './level.service';\nimport { OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-selector',\n  template:`\n    &lt;h3&gt;Selector&lt;/h3&gt;\n    &lt;a *ngFor=\"let level of levels\"  (click)=\"gotoLevel(level)\"&gt;\n      &lt;div&gt;\n        &lt;h4&gt;Level : {{level.id}}&lt;/h4&gt;\n      &lt;/div&gt;\n    &lt;/a&gt;\n  `\n})\n\nexport class SelectorComponent implements OnInit {\n  levels: Level[];\n\n  constructor (private router: Router, private levelService: LevelService) {}\n\n  getLevels(): void {\n    this.levelService.getLevels().then(levels =&gt; this.levels = levels);\n  }\n\n  ngOnInit(): void {\n    this.getLevels();\n  }\n\n  gotoLevel(level: Level): void {\n    this.router.navigate(['/level', level.id]);\n  }\n\n}\n</code></pre>\n\n<p>level.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\nimport { Level } from './level';\nimport { LEVELS } from './mock-levels';\n\n@Injectable()\nexport class LevelService {\n  getLevels(): Promise&lt;Level[]&gt; {\n    return Promise.resolve(LEVELS);\n  }\n\n  getLevel(id: number): Promise&lt;Level&gt; {\n    return this.getLevels().then(levels =&gt; levels.find(level =&gt; level.id === id));\n  }\n}\n</code></pre>\n\n<p>level.component.ts</p>\n\n<pre><code>import { Component, Input, OnInit } from '@angular/core';\nimport { Level } from './level';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { LevelService } from './level.service';\nimport 'rxjs/add/operator/switchMap';\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-level',\n  template: `\n  &lt;h3&gt;Level {{level.id}}&lt;h3&gt;\n  &lt;button (click)=\"goBack()\"&gt;Back&lt;/button&gt;\n  `\n})\n\nexport class LevelComponent implements OnInit{\n  @Input()\n  level: Level;\n  constructor (private levelService: LevelService, private route: ActivatedRoute, private location: Location){}\n  ngOnInit():void {\n    this.route.params.switchMap((params: Params) =&gt; this.levelService.getLevel(+params['id'])).subscribe(level =&gt; this.level = level);\n  }\n  goBack():void {\n    this.location.back();\n  }\n}\n</code></pre>\n\n<p>level.ts</p>\n\n<pre><code>export class Level {\n  id: number;\n}\n</code></pre>\n\n<p>mock-levels.ts</p>\n\n<pre><code>import { Level } from './level';\n\nexport const LEVELS: Level[] = [\n  {id: 1},\n  {id: 2},\n  {id: 3},\n  {id: 4},\n  {id: 5},\n  {id: 6},\n];\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1898, "user_id": 856947, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/uFcyq.jpg?s=128&g=1", "display_name": "Jackalope", "link": "https://stackoverflow.com/users/856947/jackalope"}, "edited": false, "score": 0, "creation_date": 1484082795, "post_id": 41565291, "comment_id": 70361820, "body": "So you&#39;re creating a web-based Typescript editor that transpiles to Javascript on the client?"}], "answers": [{"tags": [], "owner": {"reputation": 12547, "user_id": 4299560, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/84fd2bf8783aba24dd496c7fef48daad?s=128&d=identicon&r=PG&f=1", "display_name": "Ced", "link": "https://stackoverflow.com/users/4299560/ced"}, "is_accepted": false, "score": 0, "last_activity_date": 1484042365, "last_edit_date": 1484042365, "creation_date": 1484041819, "answer_id": 41565834, "question_id": 41565291, "link": "https://stackoverflow.com/questions/41565291/angular-2-with-client-side-typescript-compiler/41565834#41565834", "title": "Angular 2 with client side typescript compiler", "body": "<p>While I don't use System js it seems like you didn't activate hot reloading. Webpack is simpler if you are a beginner I'd advise to take a look at angular-cli.</p>\n\n<p>Anyway <a href=\"https://github.com/frankwallis/plugin-typescript#hot-reload-support\" rel=\"nofollow noreferrer\">here</a> it says that you have to use the <a href=\"https://github.com/capaj/systemjs-hot-reloader\" rel=\"nofollow noreferrer\">hot reloader</a>. <em>I think</em> that's what it is, I never used systemjs so... It could also be because of <code>wamp</code>, maybe go for a standard setup (hint: angular-cli, or do like the angular 2 doc does), serving your files should be a one liner in the cmd, no need for wamp or anything weird when you are just starting.</p>\n"}, {"tags": [], "owner": {"reputation": 3441, "user_id": 966698, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa98d9d3961a2190ef90533745100456?s=128&d=identicon&r=PG", "display_name": "Mavlarn", "link": "https://stackoverflow.com/users/966698/mavlarn"}, "is_accepted": false, "score": 0, "last_activity_date": 1484042625, "creation_date": 1484042625, "answer_id": 41566130, "question_id": 41565291, "link": "https://stackoverflow.com/questions/41565291/angular-2-with-client-side-typescript-compiler/41566130#41566130", "title": "Angular 2 with client side typescript compiler", "body": "<p>After you modify <code>app.module.ts</code>, it is recompiled, since you can see the change after you reopen. The modification only works when you close and open the page, I think the reason is about the browser cache. You can try to clear the cache and refresh. And, the recompilation will take some time, like several seconds.</p>\n\n<p>The auto-compilation is done by the tool you use. I think you have some watch in you script of starting test server. Maybe you use webpack, or the script (which is used in official getting started tutorial).</p>\n\n<p>If you want to compile the typeScript code by yourself, you can use <code>tsc</code>, which is command tool of npm package <code>TypeScript</code>.</p>\n"}], "owner": {"reputation": 1541, "user_id": 1196765, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0e52a69aab7c40c181da9bb84170052d?s=128&d=identicon&r=PG", "display_name": "tweetysat", "link": "https://stackoverflow.com/users/1196765/tweetysat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 699, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1484042625, "creation_date": 1484040241, "question_id": 41565291, "link": "https://stackoverflow.com/questions/41565291/angular-2-with-client-side-typescript-compiler", "title": "Angular 2 with client side typescript compiler", "body": "<p>I'm learning Angular 2 with typescript.</p>\n\n<p>My first step is a simple hello world with client side typescript compilation.\nI'm also using wamp 3.0.4.</p>\n\n<p>So I have</p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Hello Angular&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;style&gt;\n      body {color:#369;font-family: Arial,Helvetica,sans-serif;}\n    &lt;/style&gt;\n    &lt;script src=\"https://unpkg.com/systemjs@0.19.31/dist/system.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://unpkg.com/reflect-metadata@0.1.3/Reflect.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://unpkg.com/zone.js/dist/zone.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      System.import('config.js').then( () =&gt; {\n        System.import('app')\n      }).catch( (err) =&gt; { console.error(\"System.import Error\",err) })\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Angular 2 with TypeScript&lt;/h1&gt;\n    &lt;my-app&gt;Loading AppComponent content here ...&lt;/my-app&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>config.js</strong></p>\n\n<pre><code>System.config({\n  transpiler: 'typescript',\n  typescriptOptions: {\n    emitDecoratorMetadata: true\n  },\n  paths: {\n    'npm:': 'https://unpkg.com/'\n  },\n  map: {\n    'app': './app',\n    '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n    '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n    '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n    '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n    '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n    '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n    '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\n    '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n    'rxjs': 'npm:rxjs',\n    'typescript': 'npm:typescript@2.0.2/lib/typescript.js'\n  },\n  packages: {\n    app: {\n      main: './main.ts',\n      defaultExtension: 'ts'\n  }\n});\n</code></pre>\n\n<p><strong>main.ts</strong></p>\n\n<pre><code>import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app.module';\nplatformBrowserDynamic().bootstrapModule(AppModule)\n</code></pre>\n\n<p>and <strong>app.module.ts</strong></p>\n\n<pre><code>import {Component,NgModule} from '@angular/core'\nimport {BrowserModule} from '@angular/platform-browser'\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div&gt;\n      &lt;h2&gt;Hello {{name}}&lt;/h2&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class App {\n  name:string;\n  constructor() {\n    this.name = 'Angular2'\n  }\n}\n@NgModule({\n  imports: [ BrowserModule ],\n  declarations: [ App ],\n  bootstrap: [ App ]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>I don't know if everything is necessary but ... it is working.</p>\n\n<p>The problem is that if I now modify <code>app.module.ts</code>, let say <code>&lt;h2&gt;Hello my name is {{name}}&lt;/h2&gt;</code> the modifications are not shown when I refresh the web page.  To have it working I have to close the browser and open the page again.  It is like the compilation was done only once and cached.</p>\n\n<p>Is it a problem with wamp ?  with my application ?</p>\n"}, {"tags": ["cordova", "angular", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1484040294, "post_id": 41565070, "comment_id": 70334626, "body": "Could you check this <a href=\"http://ionicframework.com/docs/v2/api/navigation/NavController/\" rel=\"nofollow noreferrer\">link</a>."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1484040416, "post_id": 41565070, "comment_id": 70334686, "body": "generally <a href=\"https://ionicframework.com/docs/v2/native/splashscreen/\" rel=\"nofollow noreferrer\">splashscreen</a> is used and not a separate page. just call show/hide in app.component.ts."}, {"owner": {"reputation": 367, "user_id": 2088623, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d14708c1f8dd80b72dcc62713bbad229?s=128&d=identicon&r=PG", "display_name": "Ujjwal Syal", "link": "https://stackoverflow.com/users/2088623/ujjwal-syal"}, "edited": false, "score": 0, "creation_date": 1484051215, "post_id": 41565070, "comment_id": 70341576, "body": "To both of you above! Thanks for replying but i need to know the concept so that it can be used on other pages as well. Splashscreen was just for example."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 2088623, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d14708c1f8dd80b72dcc62713bbad229?s=128&d=identicon&r=PG", "display_name": "Ujjwal Syal", "link": "https://stackoverflow.com/users/2088623/ujjwal-syal"}, "edited": false, "score": 0, "creation_date": 1484051306, "post_id": 41566210, "comment_id": 70341646, "body": "I know you can pop page from stack also you can remove using an index value. But the point is to close the current page and then move to the next one so that the next page won&#39;t go back to the page we started from."}], "tags": [], "owner": {"reputation": 3441, "user_id": 966698, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa98d9d3961a2190ef90533745100456?s=128&d=identicon&r=PG", "display_name": "Mavlarn", "link": "https://stackoverflow.com/users/966698/mavlarn"}, "is_accepted": false, "score": 0, "last_activity_date": 1484042855, "creation_date": 1484042855, "answer_id": 41566210, "question_id": 41565070, "link": "https://stackoverflow.com/questions/41565070/how-to-move-to-next-page-after-removing-current-page-from-stack-in-ionic-2/41566210#41566210", "title": "How to move to next page after removing current page from stack in ionic 2?", "body": "<p>You can see the <a href=\"http://ionicframework.com/docs/v2/api/navigation/NavController/\" rel=\"nofollow noreferrer\">doc</a>. Ionic 2 use its own nav module, but not router of angular2. NavController has a <code>pop()</code> function to  remove a page from stack.</p>\n"}, {"comments": [{"owner": {"reputation": 367, "user_id": 2088623, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d14708c1f8dd80b72dcc62713bbad229?s=128&d=identicon&r=PG", "display_name": "Ujjwal Syal", "link": "https://stackoverflow.com/users/2088623/ujjwal-syal"}, "edited": false, "score": 0, "creation_date": 1484073890, "post_id": 41570025, "comment_id": 70356936, "body": "I&#39;m gonna try this. But will be better is to remove the page before the second is pushed so that the decision is taken in the first page only."}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 0, "last_activity_date": 1484054921, "creation_date": 1484054921, "answer_id": 41570025, "question_id": 41565070, "link": "https://stackoverflow.com/questions/41565070/how-to-move-to-next-page-after-removing-current-page-from-stack-in-ionic-2/41570025#41570025", "title": "How to move to next page after removing current page from stack in ionic 2?", "body": "<p>You can use <a href=\"http://ionicframework.com/docs/v2/api/navigation/NavController/#remove\" rel=\"nofollow noreferrer\">remove</a> function to remove the previous page from the stack in <code>ngOnInit</code> of the new page which is pushed.</p>\n\n<p><code>this.navCtrl.remove()</code></p>\n\n<p>Or</p>\n\n<p>If you mean to start a new stack, you can do <code>setRoot</code> instead of <code>push</code>.It would be possible solution for splash screen page to home.</p>\n"}], "owner": {"reputation": 367, "user_id": 2088623, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d14708c1f8dd80b72dcc62713bbad229?s=128&d=identicon&r=PG", "display_name": "Ujjwal Syal", "link": "https://stackoverflow.com/users/2088623/ujjwal-syal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1224, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1484054921, "creation_date": 1484039497, "last_edit_date": 1484039534, "question_id": 41565070, "link": "https://stackoverflow.com/questions/41565070/how-to-move-to-next-page-after-removing-current-page-from-stack-in-ionic-2", "title": "How to move to next page after removing current page from stack in ionic 2?", "body": "<p>I want functionality like android's finish() method. I have a splash image page. After it loads I move to home page after 1.5 secs. But when I do that I want the splash page to be first removed from the stack so that the home page doesn't have it to go back to.</p>\n\n<p>How can this be done?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3899, "user_id": 4310083, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100001988644101/picture?type=large", "display_name": "Nere", "link": "https://stackoverflow.com/users/4310083/nere"}, "edited": false, "score": 1, "creation_date": 1484038335, "post_id": 41564722, "comment_id": 70333494, "body": "Thanks...I want to try...very fast response!"}, {"owner": {"reputation": 3899, "user_id": 4310083, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100001988644101/picture?type=large", "display_name": "Nere", "link": "https://stackoverflow.com/users/4310083/nere"}, "edited": false, "score": 0, "creation_date": 1484038404, "post_id": 41564722, "comment_id": 70333538, "body": "Do I need to declare such as <code>private my_model</code>? Since it shown error"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3899, "user_id": 4310083, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100001988644101/picture?type=large", "display_name": "Nere", "link": "https://stackoverflow.com/users/4310083/nere"}, "edited": false, "score": 0, "creation_date": 1484038435, "post_id": 41564722, "comment_id": 70333558, "body": "Yes, I assumed you have that already because you use it in <code>[(ngModel)]=&quot;my_model&quot;</code>. This is why I was wondering a bit what&#39;s the point of the question, but now it&#39;s clear :D"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1484038283, "creation_date": 1484038283, "answer_id": 41564722, "question_id": 41564698, "link": "https://stackoverflow.com/questions/41564698/scope-my-model-equivalent-in-angular2/41564722#41564722", "title": "$scope.my_model equivalent in angular2?", "body": "<p>The components class is the model</p>\n\n<pre><code>submit() {\n this.my_model = ''\n}\n</code></pre>\n"}], "owner": {"reputation": 3899, "user_id": 4310083, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100001988644101/picture?type=large", "display_name": "Nere", "link": "https://stackoverflow.com/users/4310083/nere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 41564722, "answer_count": 1, "score": 1, "last_activity_date": 1495013476, "creation_date": 1484038226, "last_edit_date": 1495013476, "question_id": 41564698, "link": "https://stackoverflow.com/questions/41564698/scope-my-model-equivalent-in-angular2", "title": "$scope.my_model equivalent in angular2?", "body": "<p>I'm newbie in angular2. Just want to know how to:</p>\n\n<ul>\n<li>read <code>[(ngModel)]</code> from view on the typescript controller side</li>\n</ul>\n\n<p>Let say:</p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"my_model\" /&gt;\n</code></pre>\n\n<p>Now, how I want to read the model value in my typescript controller?</p>\n\n<p>The other one is how to set value of the <code>input</code> as <code>''</code> to my <code>[(ngModel)]</code>?</p>\n\n<p>Example of codes:</p>\n\n<p>View:</p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"my_model\" /&gt;\n&lt;br/&gt;\n&lt;button (click)=\"submit()\"&gt;Submit&lt;/button&gt;\n</code></pre>\n\n<p>Controller (Typescript)</p>\n\n<pre><code>submit(){\n   ... //Then? if angularjs 1 just use $scope.my_model ...\n   $scope.my_model = ''; //Only valid for angularjs1\n}\n</code></pre>\n\n<p>Help me please... thanks!</p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1902, "user_id": 4182601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JhDZP.jpg?s=128&g=1", "display_name": "theFreedomBanana", "link": "https://stackoverflow.com/users/4182601/thefreedombanana"}, "is_accepted": false, "score": 0, "last_activity_date": 1484042069, "last_edit_date": 1495540455, "creation_date": 1484042069, "answer_id": 41565921, "question_id": 41564661, "link": "https://stackoverflow.com/questions/41564661/get-text-from-dom-element-and-insert-it-to-title-typescript/41565921#41565921", "title": "get text from DOM element and insert it to &#39;title&#39; typescript", "body": "<p>It seems that using ElementRef for direct DOM access isn't safe according to Angular2 <a href=\"https://angular.io/docs/ts/latest/api/core/index/ElementRef-class.html\" rel=\"nofollow noreferrer\">doc</a>.\nYou can use Renderer with ElementRef to get/set a DOM value this way:</p>\n\n<pre><code>import {Renderer, ElementRef} from '@angular/core;\n...\nexport class IsEllipsisActiveDirective {\nconstructor {\n  private _renderer: Renderer,\n  private _el: ElementRef\n} (\n  //get value\n  this._el.nativeElement.querySelector('div/p/whatever...')\n  //set value\n  this._renderer(_el.nativeElement.querySelector(tag), 'innerHTML', 'Foo')\n)\n</code></pre>\n\n<p>Hope this helps. Credit goes to these Stack Overflow answers:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38002640/how-do-you-access-the-element-html-from-within-an-angular-2-attribute-directive\">How do you access the element HTML from within an Angular2 attribute directive</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/angular-2-typescript-get-hold-of-an-element-in-the-template\">get hold of an element in the template</a></li>\n</ul>\n"}], "owner": {"reputation": 95, "user_id": 2020976, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VYaEU.jpg?s=128&g=1", "display_name": "netalie", "link": "https://stackoverflow.com/users/2020976/netalie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1204, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1484042069, "creation_date": 1484038120, "last_edit_date": 1495540455, "question_id": 41564661, "link": "https://stackoverflow.com/questions/41564661/get-text-from-dom-element-and-insert-it-to-title-typescript", "title": "get text from DOM element and insert it to &#39;title&#39; typescript", "body": "<p>I am trying to write a directive in angular2 + typescript that makes tooltip to show only when ellipsis is active (show complete text pop up only when its not fully displayed, and ends with \"...\" ).\nI found this answer in stackoverflow:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19134192/show-the-tooltip-only-when-ellipsis-is-active\">show the tooltip only when ellipsis is active</a></p>\n\n<p>Now I'm trying to translate this Jquery function:</p>\n\n<p>To typescript. so far this is what I got:</p>\n\n<pre><code>import { Directive, ElementRef } from '@angular/core';\n\n@Directive({ selector: '[isEllipsisActive]' })\n\nexport class IsEllipsisActiveDirective {\nconstructor(el: ElementRef) {\n    if (el.nativeElement.classList.contains('className')) {\n         if (this.isEllipsisActive(el.nativeElement)) {\n             //el.nativeElement.attributes(\"title\",el.nativeElement.text());\n         }\n    }\n}\n isEllipsisActive(e: any) {\nreturn (e.offsetWidth &lt; e.scrollWidth);\n  }\n}\n</code></pre>\n\n<p>I can't figure out how to get the text from the element and pass it on to the element's title using typescript. \nany ideas?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 43540, "user_id": 485743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aafe61931088ccfcf377bdad1a55a707?s=128&d=identicon&r=PG", "display_name": "testndtv", "link": "https://stackoverflow.com/users/485743/testndtv"}, "edited": false, "score": 1, "creation_date": 1484040731, "post_id": 41564442, "comment_id": 70334883, "body": "Thanks...What abt the dynamic attributes that I have ?"}, {"owner": {"reputation": 3200, "user_id": 4609855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/R4OoT.jpg?s=128&g=1", "display_name": "Gille Q.", "link": "https://stackoverflow.com/users/4609855/gille-q"}, "reply_to_user": {"reputation": 43540, "user_id": 485743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aafe61931088ccfcf377bdad1a55a707?s=128&d=identicon&r=PG", "display_name": "testndtv", "link": "https://stackoverflow.com/users/485743/testndtv"}, "edited": false, "score": 0, "creation_date": 1484041089, "post_id": 41564442, "comment_id": 70335102, "body": "@testndtv Can you provide the code where you update your attributes ?"}, {"owner": {"reputation": 43540, "user_id": 485743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aafe61931088ccfcf377bdad1a55a707?s=128&d=identicon&r=PG", "display_name": "testndtv", "link": "https://stackoverflow.com/users/485743/testndtv"}, "edited": false, "score": 0, "creation_date": 1484041315, "post_id": 41564442, "comment_id": 70335237, "body": "I mean these are JS objects set in the script...So var myObj.Url = &#39;xyz.com&#39;"}, {"owner": {"reputation": 3200, "user_id": 4609855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/R4OoT.jpg?s=128&g=1", "display_name": "Gille Q.", "link": "https://stackoverflow.com/users/4609855/gille-q"}, "reply_to_user": {"reputation": 43540, "user_id": 485743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aafe61931088ccfcf377bdad1a55a707?s=128&d=identicon&r=PG", "display_name": "testndtv", "link": "https://stackoverflow.com/users/485743/testndtv"}, "edited": false, "score": 0, "creation_date": 1484041400, "post_id": 41564442, "comment_id": 70335295, "body": "@testndtv Well so you can set them again with javascript or jquery, please, provide your javascript code"}], "tags": [], "owner": {"reputation": 3200, "user_id": 4609855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/R4OoT.jpg?s=128&g=1", "display_name": "Gille Q.", "link": "https://stackoverflow.com/users/4609855/gille-q"}, "is_accepted": false, "score": -1, "last_activity_date": 1484037338, "creation_date": 1484037338, "answer_id": 41564442, "question_id": 41564413, "link": "https://stackoverflow.com/questions/41564413/string-interpolation-for-dynamic-html-attributes/41564442#41564442", "title": "string interpolation for dynamic html attributes", "body": "<p>You should use the backticks to define a string with string interpollation: ``</p>\n\n<p>Like this: </p>\n\n<pre><code>console.log(`1 and 1 make ${1 + 1}`);\n</code></pre>\n\n<p><strong>This is from the <a href=\"https://basarat.gitbooks.io/typescript/content/docs/template-strings.html\" rel=\"nofollow noreferrer\">typescript documentation</a> :</strong></p>\n\n<blockquote>\n  <p>Another common use case is when you want to generate some string out\n  of some static strings + some variables. For this you would need some\n  templating logic and this is where template strings get their name\n  from. Here's how you would potentially generate an html string\n  previously:</p>\n</blockquote>\n\n<pre><code>var lyrics = 'Never gonna give you up';\nvar html = '&lt;div&gt;' + lyrics + '&lt;/div&gt;';\n</code></pre>\n\n<blockquote>\n  <p>Now with template strings you can just do:</p>\n</blockquote>\n\n<pre><code>var lyrics = 'Never gonna give you up';\nvar html = `&lt;div&gt;${lyrics}&lt;/div&gt;`;\n</code></pre>\n\n<blockquote>\n  <p>Note that any placeholder inside the interpolation (${ and }) is\n  treated as a JavaScript expression and evaluated as such e.g. you can\n  do fancy math.</p>\n</blockquote>\n\n<pre><code>console.log(`1 and 1 make ${1 + 1}`);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 373, "user_id": 3970812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xhcUf.jpg?s=128&g=1", "display_name": "Seyi Adekoya", "link": "https://stackoverflow.com/users/3970812/seyi-adekoya"}, "is_accepted": false, "score": 0, "last_activity_date": 1484037378, "creation_date": 1484037378, "answer_id": 41564452, "question_id": 41564413, "link": "https://stackoverflow.com/questions/41564413/string-interpolation-for-dynamic-html-attributes/41564452#41564452", "title": "string interpolation for dynamic html attributes", "body": "<pre><code>document.body.innerHTML += `&lt;form id=\"digSigForm\" action=\"${myObj.Url}\" method=\"post\"&gt;&lt;input type=\"hidden\" name=\"data\" value=\"${myObj.someVal}\"&gt;&lt;/form&gt;`;\n</code></pre>\n\n<p>You forgot the backticks</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2879140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b00e86fc514ceea6565eb25c5f5bf55?s=128&d=identicon&r=PG&f=1", "display_name": "Troy Niemeier", "link": "https://stackoverflow.com/users/2879140/troy-niemeier"}, "is_accepted": false, "score": 0, "last_activity_date": 1593816027, "last_edit_date": 1593816027, "creation_date": 1593451430, "answer_id": 62643519, "question_id": 41564413, "link": "https://stackoverflow.com/questions/41564413/string-interpolation-for-dynamic-html-attributes/62643519#62643519", "title": "string interpolation for dynamic html attributes", "body": "<p>This currently doesn't work.</p>\n<p>I have a string like this, where the row's data attribute is relied upon for some functionality.</p>\n<pre><code>`&lt;tr class=&quot;row ${rowHiddenClass}&quot; data-someId=&quot;${this.someId}&quot;&gt;\n  &lt;td class=&quot;cell&quot;&gt;${this.Notes}&lt;/td&gt;\n  &lt;td class=&quot;cell amount&quot;&gt;$${this.Amount}&lt;/td&gt;\n&lt;/tr&gt;`\n</code></pre>\n<p>And it outputs like this within the attribute strings, which breaks that functionality.</p>\n<pre><code>&lt;tr class=&quot;row $&quot; data-someId=&quot;$&quot;&gt;\n  &lt;td class=&quot;cell&quot;&gt;A nice note&lt;/td&gt;\n  &lt;td class=&quot;cell amount&quot;&gt;$4.00&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>We may have to do some concatenation for the time being.<br />\nI'm not sure yet what the cleaner, simpler solution is.</p>\n<p>This works.</p>\n<pre><code>`&lt;tr class=&quot;row ` + rowHiddenClass + `&quot; data-someId=&quot;` + this.someId + `&quot;&gt;\n  &lt;!-- ... --&gt;\n&lt;/tr&gt;`\n</code></pre>\n"}], "owner": {"reputation": 43540, "user_id": 485743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aafe61931088ccfcf377bdad1a55a707?s=128&d=identicon&r=PG", "display_name": "testndtv", "link": "https://stackoverflow.com/users/485743/testndtv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 10662, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1617253605, "creation_date": 1484037213, "last_edit_date": 1484037606, "question_id": 41564413, "link": "https://stackoverflow.com/questions/41564413/string-interpolation-for-dynamic-html-attributes", "title": "string interpolation for dynamic html attributes", "body": "<p>Is it possible to use string interpolation for the below (Note the dynamic attributes)</p>\n\n<pre><code>document.body.innerHTML += &lt;form id=\"digSigForm\" action=\"${myObj.Url}\" method=\"post\"&gt;&lt;input type=\"hidden\" name=\"data\" value=\"${myObj.someVal}\"&gt;&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "storage", "session-storage"], "comments": [{"owner": {"reputation": 5160, "user_id": 6705115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5c3bb4a1139f63e96487512d9202f877?s=128&d=identicon&r=PG", "display_name": "Igor Jankovi\u0107", "link": "https://stackoverflow.com/users/6705115/igor-jankovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1484036638, "post_id": 41564204, "comment_id": 70332585, "body": "Why don&#39;t you use service?"}, {"owner": {"reputation": 810, "user_id": 3328233, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/90d5686c0ec8c6d16a9bbeff7b8042c0?s=128&d=identicon&r=PG&f=1", "display_name": "sanyooh", "link": "https://stackoverflow.com/users/3328233/sanyooh"}, "reply_to_user": {"reputation": 5160, "user_id": 6705115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5c3bb4a1139f63e96487512d9202f877?s=128&d=identicon&r=PG", "display_name": "Igor Jankovi\u0107", "link": "https://stackoverflow.com/users/6705115/igor-jankovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1484036680, "post_id": 41564204, "comment_id": 70332607, "body": "I do use a service. I can add my code."}, {"owner": {"reputation": 1902, "user_id": 4182601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JhDZP.jpg?s=128&g=1", "display_name": "theFreedomBanana", "link": "https://stackoverflow.com/users/4182601/thefreedombanana"}, "edited": false, "score": 0, "creation_date": 1484038746, "post_id": 41564204, "comment_id": 70333743, "body": "You could use local storage which as session storage is only available on the current tab but persists after closing (you&#39;ll have to explicitly remove it). More details on differences between the two here <a href=\"http://stackoverflow.com/questions/5523140/html5-local-storage-vs-session-storage\" title=\"html5 local storage vs session storage\">stackoverflow.com/questions/5523140/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1711, "user_id": 2925133, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/f0e72bc678710d62377fe1bf50044866?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Badukale", "link": "https://stackoverflow.com/users/2925133/pankaj-badukale"}, "is_accepted": true, "score": 11, "last_activity_date": 1484037754, "creation_date": 1484037754, "answer_id": 41564573, "question_id": 41564204, "link": "https://stackoverflow.com/questions/41564204/save-user-object-in-session-storage/41564573#41564573", "title": "Save user object in Session Storage", "body": "<p>Its ok to have secure/sensitive data in session storage.</p>\n\n<p>As session storage only available for current table and domain...</p>\n\n<p>If user check same session storage data in another window tab then it will not be there....so its secure storage....</p>\n\n<p>If want to know more, please have look on <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage\" rel=\"noreferrer\">sessionStorage</a></p>\n"}, {"comments": [{"owner": {"reputation": 810, "user_id": 3328233, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/90d5686c0ec8c6d16a9bbeff7b8042c0?s=128&d=identicon&r=PG&f=1", "display_name": "sanyooh", "link": "https://stackoverflow.com/users/3328233/sanyooh"}, "edited": false, "score": 1, "creation_date": 1484211571, "post_id": 41565286, "comment_id": 70419293, "body": "I am going to try it out!"}, {"owner": {"reputation": 2372, "user_id": 4193004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sz9EN.jpg?s=128&g=1", "display_name": "Bharat", "link": "https://stackoverflow.com/users/4193004/bharat"}, "edited": false, "score": 0, "creation_date": 1524641138, "post_id": 41565286, "comment_id": 87048833, "body": "this will show undefined until i don&#39;t use localStorage or sessionStorage, is it right?"}, {"owner": {"reputation": 20736, "user_id": 337128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qo1Yy.jpg?s=128&g=1", "display_name": "Thalaivar", "link": "https://stackoverflow.com/users/337128/thalaivar"}, "edited": false, "score": 0, "creation_date": 1524918210, "post_id": 41565286, "comment_id": 87169075, "body": "This is a service so technically if you don&#39;t set anything, it will be undefined... unless a default value is set."}, {"owner": {"reputation": 1378, "user_id": 4566066, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-GgwvIcgflFk/AAAAAAAAAAI/AAAAAAAAHI4/NHlGdIqqJAI/photo.jpg?sz=128", "display_name": "Manu Mohan Thekkedath", "link": "https://stackoverflow.com/users/4566066/manu-mohan-thekkedath"}, "edited": false, "score": 0, "creation_date": 1531668529, "post_id": 41565286, "comment_id": 89672059, "body": "but what a hard refresh on the browser tab will do with that data??? You could explain the use of localStorage too"}, {"owner": {"reputation": 2548, "user_id": 826057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16bf4e0b18546ff370497cc1cf390f5?s=128&d=identicon&r=PG", "display_name": "Stephen Zeng", "link": "https://stackoverflow.com/users/826057/stephen-zeng"}, "edited": false, "score": 0, "creation_date": 1532960577, "post_id": 41565286, "comment_id": 90158145, "body": "If user types the url to another route, (not through clicking a routerLink), I think this service will be initiated again, meaning the previous set values will lost."}], "tags": [], "owner": {"reputation": 20736, "user_id": 337128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qo1Yy.jpg?s=128&g=1", "display_name": "Thalaivar", "link": "https://stackoverflow.com/users/337128/thalaivar"}, "is_accepted": false, "score": 9, "last_activity_date": 1484040226, "creation_date": 1484040226, "answer_id": 41565286, "question_id": 41564204, "link": "https://stackoverflow.com/questions/41564204/save-user-object-in-session-storage/41565286#41565286", "title": "Save user object in Session Storage", "body": "<p>You could either use <code>sessionStorage</code> or use a <code>service</code>.</p>\n\n<p>Your <code>interface</code>: </p>\n\n<pre><code>export interface ISession {\n    session:Object\n}\n</code></pre>\n\n<p>Your actual <code>service</code> class: </p>\n\n<pre><code>    import {Injectable} from '@angular/core';\n\n    @Injectable()\n    export class SessionService implements ISession {    \n        private _session: session\n\n        constructor(){\n\n        }\n\n        set session(value){\n            this._session = value;\n        }\n\n        get session(){\n            return this._session\n        }\n   }\n</code></pre>\n\n<p>Now you can inject this <code>SessionService</code> class in other class <code>constructors</code> and use it. </p>\n"}], "owner": {"reputation": 810, "user_id": 3328233, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/90d5686c0ec8c6d16a9bbeff7b8042c0?s=128&d=identicon&r=PG&f=1", "display_name": "sanyooh", "link": "https://stackoverflow.com/users/3328233/sanyooh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57573, "favorite_count": 2, "accepted_answer_id": 41564573, "answer_count": 2, "score": 12, "last_activity_date": 1525097486, "creation_date": 1484036484, "last_edit_date": 1484036965, "question_id": 41564204, "link": "https://stackoverflow.com/questions/41564204/save-user-object-in-session-storage", "title": "Save user object in Session Storage", "body": "<p>I am using Angular 2 and Typescript and wanted to save the user object like a global variable so it hasn't to be retrieved multiple times. I found the session storage and now save the user object there. </p>\n\n<p>Do you think it is good practice to store it there or is the data too sensitve? If so, what other kind of cache could I use?</p>\n\n<p>Here is the code I use right now:</p>\n\n<p>user.service.ts:</p>\n\n<pre><code>getProfile() {\n    let cached: any;\n    if (cached = sessionStorage.getItem(this._baseUrl)) {\n        return Observable.of(JSON.parse(cached));\n    } else {\n        return this.http.get(this._baseUrl).map((response: Response) =&gt; {\n            sessionStorage.setItem(this._baseUrl, response.text());\n            return response.json();\n        });\n    }\n}\n</code></pre>\n\n<p>The getProfile() is called in the app.component when ngOnInit(). The user object is also needed in other components of the application.</p>\n"}, {"tags": ["typescript", "reflection", "interface"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1484036527, "post_id": 41564078, "comment_id": 70332530, "body": "<a href=\"https://s3.amazonaws.com/gs-geo-images/b194ce6c-f8d5-4df1-a1f0-dfbc44a5f83f.jpg\" rel=\"nofollow noreferrer\">I&#39;m a fraid not</a>.  Especially with javascripts <a href=\"https://en.wikipedia.org/wiki/Duck_typing\" rel=\"nofollow noreferrer\">duck typing</a>."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1484038970, "post_id": 41564078, "comment_id": 70333872, "body": "Interfaces are not available at runtime so I don&#39;t think know if you can do reflection calls on them."}, {"owner": {"reputation": 8560, "user_id": 102797, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0a3d8255055d0dfb4b100074113e4851?s=128&d=identicon&r=PG", "display_name": "nhaa123", "link": "https://stackoverflow.com/users/102797/nhaa123"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 4, "creation_date": 1484041574, "post_id": 41564078, "comment_id": 70335426, "body": "@toskv That&#39;s not the point, that was just an example. I don&#39;t want run time, I want compile time."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10864805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c5edc186bb91a90c50ed5790d027c5d?s=128&d=identicon&r=PG&f=1", "display_name": "frankl5150", "link": "https://stackoverflow.com/users/10864805/frankl5150"}, "is_accepted": false, "score": 2, "last_activity_date": 1561651268, "creation_date": 1561651268, "answer_id": 56794875, "question_id": 41564078, "link": "https://stackoverflow.com/questions/41564078/typescript-reflection-for-interfaces/56794875#56794875", "title": "TypeScript reflection for interfaces", "body": "<p>Since TypeScript interfaces do not exist at runtime, you cannot use reflection on them. To use reflection I created a class that implements the interface and reflected on the class. However, I was unable to tell if a property is readonly. Not sure if this is a lack of understanding on my part, or a defect. Here is what I tried:</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>interface ITest {\n  readonly foo: number;\n  bar: number;\n}\nclass TestImplementation implements ITest {\n  readonly foo: number = 1;\n  bar: number = 2;\n}\nfunction reflectOnTest() {\n  var testImplementation = new TestImplementation();\n  var properties: string[] = Object.getOwnPropertyNames(testImplementation);\n  var fooDescriptor = Object.getOwnPropertyDescriptor(testImplementation, properties[0]);\n  var barDescriptor = Object.getOwnPropertyDescriptor(testImplementation, properties[1]);\n  console.log(\"foo writable = \" + fooDescriptor.writable);\n  console.log(\"bar writable = \" + barDescriptor.writable);\n}\n</code></pre>\n\n<p><strong>Output is:</strong></p>\n\n<p>foo writable = true</p>\n\n<p>bar writable = true</p>\n"}], "owner": {"reputation": 8560, "user_id": 102797, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0a3d8255055d0dfb4b100074113e4851?s=128&d=identicon&r=PG", "display_name": "nhaa123", "link": "https://stackoverflow.com/users/102797/nhaa123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3913, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1561651268, "creation_date": 1484036039, "question_id": 41564078, "link": "https://stackoverflow.com/questions/41564078/typescript-reflection-for-interfaces", "title": "TypeScript reflection for interfaces", "body": "<p>Is there a way to find out if interface's property is defined as read only? Say,</p>\n\n<pre><code>interface ITest {\n    readonly foo: number;\n}\n</code></pre>\n\n<p>Now, is there some sort of reflection or trickery for TypeScript to get this information? E.g. something like:</p>\n\n<pre><code>let info = Reflect.get(ITest, 'foo');\n\nif (info.isReadOnly()) { ... }\n</code></pre>\n"}]