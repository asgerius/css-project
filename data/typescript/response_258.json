[{"tags": ["reactjs", "typescript", "create-react-app"], "answers": [{"tags": [], "owner": {"reputation": 444, "user_id": 2514158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHEeV.png?s=128&g=1", "display_name": "AbuDawood", "link": "https://stackoverflow.com/users/2514158/abudawood"}, "is_accepted": false, "score": 0, "last_activity_date": 1576713501, "creation_date": 1576713501, "answer_id": 59401601, "question_id": 59401528, "link": "https://stackoverflow.com/questions/59401528/declare-a-universally-importable-module-in-typescript-by-an-alias/59401601#59401601", "title": "Declare a universally importable module in TypeScript by an alias", "body": "<p>If your question is same as I understand, please refer to this <a href=\"https://stackoverflow.com/a/38677886/2514158\">post</a></p>\n\n<p>Whilst, using the alias will still follow the path declaration syntax i.e. </p>\n\n<pre><code>import {...} from 'aliasSample/moduleSample'\n</code></pre>\n\n<p>If I haven't fit the question content, try to write an explanative comment, hence I can edit my answer </p>\n"}], "owner": {"reputation": 1653, "user_id": 3088980, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/539810056/picture?type=large", "display_name": "echen", "link": "https://stackoverflow.com/users/3088980/echen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576713501, "creation_date": 1576712796, "question_id": 59401528, "link": "https://stackoverflow.com/questions/59401528/declare-a-universally-importable-module-in-typescript-by-an-alias", "title": "Declare a universally importable module in TypeScript by an alias", "body": "<p>All,</p>\n\n<p>I have a file</p>\n\n<pre><code>// ./theme/theme.ts\nexport const theme = {}\n</code></pre>\n\n<p>All React components must now refer to resolve this module by relative path</p>\n\n<pre><code>import {theme} from '../theme/theme'\n// or\nimport {theme} from '../../theme/theme'\n</code></pre>\n\n<p>Is there away to avoid this and simply:</p>\n\n<pre><code>declare module theme {\n  export const theme = myTheme\n}\n</code></pre>\n\n<p>I tried modifying <code>tsconfig.json</code>'s baseUrl and path properties to no avail</p>\n"}, {"tags": ["angular", "typescript", "angular7", "angular7-router"], "comments": [{"owner": {"reputation": 1, "user_id": 7976538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/00c626136035cad8d88cc059a757f011?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed elbarbary", "link": "https://stackoverflow.com/users/7976538/ahmed-elbarbary"}, "edited": false, "score": 0, "creation_date": 1576713911, "post_id": 59401316, "comment_id": 104992329, "body": "can any one help me please"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7976538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/00c626136035cad8d88cc059a757f011?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed elbarbary", "link": "https://stackoverflow.com/users/7976538/ahmed-elbarbary"}, "edited": false, "score": 0, "creation_date": 1576737888, "post_id": 59402070, "comment_id": 104997293, "body": "thank you for reply convert not defined give me compile error me cannot find name convert"}, {"owner": {"reputation": 1018, "user_id": 5135107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa0b911e7d6ce110e763852b814fe33?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Farouk", "link": "https://stackoverflow.com/users/5135107/mohamed-farouk"}, "reply_to_user": {"reputation": 1, "user_id": 7976538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/00c626136035cad8d88cc059a757f011?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed elbarbary", "link": "https://stackoverflow.com/users/7976538/ahmed-elbarbary"}, "edited": false, "score": 0, "creation_date": 1576758476, "post_id": 59402070, "comment_id": 105006605, "body": "You can try \u2018parseInt(params[&#39;Partid&#39;])\u2019 instead of Convert.StringToInt(params[&#39;Partid&#39;])"}], "tags": [], "owner": {"reputation": 1018, "user_id": 5135107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa0b911e7d6ce110e763852b814fe33?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Farouk", "link": "https://stackoverflow.com/users/5135107/mohamed-farouk"}, "is_accepted": false, "score": 0, "last_activity_date": 1576717809, "creation_date": 1576717809, "answer_id": 59402070, "question_id": 59401316, "link": "https://stackoverflow.com/questions/59401316/how-to-allow-routing-to-get-url-localhost4200-overview-partid-number/59402070#59402070", "title": "How to allow routing to get url localhost:4200/overview? Partid=number", "body": "<p>In app-routing.module.ts</p>\n\n<pre><code>{ path: 'overview/:Partid', component: OverviewComponent },\n</code></pre>\n\n<p>In Component.ts</p>\n\n<pre><code>import { Router, ActivatedRoute, ParamMap } from \"@angular/router\";\n////\nconstructor(public partDetailsService: PartDetailsService\n    ,         public companyService: CompanyService, public route: ActivatedRoute)\n////\nthis.route.params.subscribe((params: ParamMap) =&gt; {\n                const Partid = Convert.StringToInt(params['Partid']);\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7976538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/00c626136035cad8d88cc059a757f011?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed elbarbary", "link": "https://stackoverflow.com/users/7976538/ahmed-elbarbary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576717809, "creation_date": 1576711192, "last_edit_date": 1576715708, "question_id": 59401316, "link": "https://stackoverflow.com/questions/59401316/how-to-allow-routing-to-get-url-localhost4200-overview-partid-number", "title": "How to allow routing to get url localhost:4200/overview? Partid=number", "body": "<p><strong>problem</strong></p>\n\n<p>How to change routing to get this URL localhost:4200/overview? Partid=number ?</p>\n\n<p>number here any dynamic number as 5 etc .</p>\n\n<p>I need when write on URL of my angular app</p>\n\n<p>localhost:4200/overview? Partid=number ?</p>\n\n<p>then it will go to overview component and it will change in URL as </p>\n\n<p>localhost:4200/overview? Partid=number ?</p>\n\n<p>so How to change routing to get this is URL specified</p>\n\n<pre><code>app-routing.module.ts\n\nimport { QualificationsComponent } from './Pages/qualifications/qualifications.component';\nimport { FamilyComponent } from './Pages/family/family.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { OverviewComponent } from './Pages/overview/overview.component';\nimport { ManufacturingComponent } from './Pages/manufacturing/manufacturing.component';\nimport { PackageComponent } from './Pages/package/package.component';\nimport { ParametricComponent } from './Pages/parametric/parametric.component';\n\nconst routes: Routes = [\n  { path: '', component: OverviewComponent },\n  { path: 'overview', component: OverviewComponent },\n  { path: 'family', component: FamilyComponent },\n  {path:'manufacturing',component:ManufacturingComponent},\n  {path:'package',component:PackageComponent},\n  {path:'parametric',component:ParametricComponent},\n  {path:'qualifications',component:QualificationsComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\noverview component\n\nimport { CompanyService } from './../../service/company.service';\nimport { Component, OnInit } from '@angular/core';\nimport { PartDetailsService } from 'src/app/service/part-details.service';\n\n\n\n@Component({\n  selector: 'app-overview',\n  templateUrl: './overview.component.html',\n  styleUrls: ['./overview.component.css']\n})\nexport class OverviewComponent implements OnInit {\n\n\n  public companyProfile;\n  constructor(public partDetailsService: PartDetailsService\n    ,         public companyService: CompanyService) {\n\n   }\n\n  ngOnInit() {\n     //How to catch or rcognize Partid=10 here on component overview \n  }\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "firebase-realtime-database", "promise"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1576712948, "post_id": 59401308, "comment_id": 104992106, "body": "Please edit the question to both show exactly where your log line is that printed undefined, and also fix the formatting of the code.  Also, I&#39;ll point out that since you&#39;re using TypeScript, you also have async/await syntax available, which will make all this a lot easier."}, {"owner": {"reputation": 53, "user_id": 11699943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10fde3fe887d417edb001a95456a2cc7?s=128&d=identicon&r=PG&f=1", "display_name": "theTruthIsOutThere", "link": "https://stackoverflow.com/users/11699943/thetruthisoutthere"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577572543, "post_id": 59401308, "comment_id": 105202484, "body": "Thanks Doug! I have updated the question. Apparently, I should use additionalValues only inside the first function"}], "owner": {"reputation": 53, "user_id": 11699943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10fde3fe887d417edb001a95456a2cc7?s=128&d=identicon&r=PG&f=1", "display_name": "theTruthIsOutThere", "link": "https://stackoverflow.com/users/11699943/thetruthisoutthere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577617719, "creation_date": 1576711150, "last_edit_date": 1577617719, "question_id": 59401308, "link": "https://stackoverflow.com/questions/59401308/typescript-how-to-read-from-firebase-realtime-database-inside-a-triggered-funct", "title": "TypeScript: How to read from Firebase Realtime Database inside a triggered function", "body": "<h1>Background</h1>\n\n<p>I have the <code>nodeACreated</code> function that triggers on <code>/Database/nodeA</code>. Before doing any work on that function when it gets triggered I would like to (preferably immediately) read from <code>/Database/nodeB</code> into a variable (<code>additionalValues</code>) to use that variable as an argument for <code>onNodeACreated</code> later. </p>\n\n<p>I would like to do this sequentially: a write happens in Firebase > function <code>nodeACreated</code> gets triggered > read values from <code>/Database/nodeB</code> > proceed to running <code>onNodeACreated</code> with the values received from reading <code>/Database/nodeB</code></p>\n\n<pre><code>export const nodeACreated = firebase.database.ref('/Database/nodeA').onCreate((snapshot) =&gt; {\n\n    additionalValues: any [];\n\n    return adm.database().ref('Database/NodeB').once('value').then((snapshot) =&gt;\n    {\n    additionalValues = snapshot.val();\n    return other_module.onNodeACreated(additionalValues);\n    });\n    });\n}\n</code></pre>\n\n<p>other_module:</p>\n\n<pre><code>export function onNodeACreated(additionalValues): &lt;any&gt; {\n    console.log(`additionalValues`)\n}\n</code></pre>\n\n<h1>Problem</h1>\n\n<p>Apparently due to my poor understanding <a href=\"https://firebase.google.com/docs/functions/terminate-functions\" rel=\"nofollow noreferrer\">of Promises</a>, I am doing/returning this wrong.</p>\n\n<p>When onNodeACreated runs and I print <code>additionalValues</code> to console, it is <code>undefined</code>.</p>\n\n<h1>Question</h1>\n\n<p>When a triggered function launches how can I read from the other node of Firebase Realtime Database before proceeding with that function?</p>\n"}, {"tags": ["typescript", "svg", "web-component", "rollup", "lit-element"], "answers": [{"tags": [], "owner": {"reputation": 2202, "user_id": 6193024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOy6k.jpg?s=128&g=1", "display_name": "Umbo", "link": "https://stackoverflow.com/users/6193024/umbo"}, "is_accepted": false, "score": 0, "last_activity_date": 1576753181, "creation_date": 1576753181, "answer_id": 59408330, "question_id": 59401193, "link": "https://stackoverflow.com/questions/59401193/outputting-svgs-to-bundle-with-rollupjs-using-rollup-plugin-image-in-a-liteleme/59408330#59408330", "title": "Outputting svgs to bundle with RollupJS using @rollup/plugin-image in a LitElement project", "body": "<blockquote>\n  <p>The issue is I don't know how to include SVG files in rollup's bundle output, which means my browser can't import those files later on and I see 401 errors in the console</p>\n</blockquote>\n\n<p>The aim of <code>@rollup/plugin-image</code> is to let you <em>inline</em> images in the code instead of importing them at runtime, so the browser shouldn't even try to load them...</p>\n\n<p>It's supposed to be used like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {html, LitElement, customElement} from 'lit-element';\nimport myImage from './image.svg';\n\n@customElement('my-test')\nexport class MyTest extends LitElement {\n\n  render() {\n    return html`\n      &lt;img src=\"${myImage}\"&gt;\n      // Or like this, if the `dom` option\n      // of the plugin is set to true:\n      ${myImage}\n    `;\n  }\n\n}\n</code></pre>\n\n<p>However, if I may, I wouldn't recommend inlining SVG as base64: unlike other image formats it's completely interoperable with HTML as it is, so why increasing its size? See <a href=\"https://css-tricks.com/probably-dont-base64-svg/\" rel=\"nofollow noreferrer\">here</a> for more info on this topic.</p>\n\n<p>You may want to take a look at other plugins such as <a href=\"https://www.npmjs.com/package/rollup-plugin-svg\" rel=\"nofollow noreferrer\"><code>rollup-plugin-svg</code></a> that let you bundle SVG as markup.</p>\n"}], "owner": {"reputation": 13, "user_id": 8738292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2fb755ebad6370be16e790496b8f47?s=128&d=identicon&r=PG&f=1", "display_name": "nataliamelissas", "link": "https://stackoverflow.com/users/8738292/nataliamelissas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1613, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576753181, "creation_date": 1576710412, "question_id": 59401193, "link": "https://stackoverflow.com/questions/59401193/outputting-svgs-to-bundle-with-rollupjs-using-rollup-plugin-image-in-a-liteleme", "title": "Outputting svgs to bundle with RollupJS using @rollup/plugin-image in a LitElement project", "body": "<p>I am using <code>@rollup/plugin-image</code> to help resolve svg imports in my LitElement project as recommended here: <a href=\"https://github.com/rollup/plugins\" rel=\"nofollow noreferrer\">https://github.com/rollup/plugins</a>. I also declared the '*.svg' module in custom.d.ts since I am using typescript.</p>\n\n<p>The issue is I don't know how to include SVG files in rollup's bundle output, which means my browser can't import those files later on and I see 401 errors in the console. To temporarily fix this I am just using an inline SVG tag wherever I need to see display an SVG in the render() function of my custom LitElement components. Please help me understand what I am missing.</p>\n\n<p>My current (simplified) rollup.config.js:</p>\n\n<pre><code>// other imports ... \nimport image from '@rollup/plugin-image';\nconst extensions = ['.js', '.ts'];\nconst commonPlugins = [\n  json(),\n  commonJS(),\n  resolve({ module: true, jsnext: true, extensions }),\n  postcss(),\n  terser({ keep_classnames: true, keep_fnames: true }),\n  **image(),** \n];\nconst babelPlugins = [\n   ...\n];\nconst babelInclude = [\n   ...\n];\nconst es6Bundle = {\n  input: ['src/bundle/index.es6.ts'],\n  output: {\n    dir: 'dist/bundle',\n    entryFileNames: 'index.js',\n    format: 'iife',\n    sourcemap: true,\n  },\n  plugins: [\n    babel({\n      extensions,\n      presets: [\n        [\n          '@babel/preset-env',\n          {\n            targets: '&gt;25%',\n          },\n        ],\n        '@babel/typescript',\n      ],\n      plugins: babelPlugins,\n      include: babelInclude,\n    }),\n    ...commonPlugins, // where image() gets included\n  ],\n};\n\nexport default [es6Bundle];\n</code></pre>\n\n<p>My output dir looks like this:\n<code>dist/bundle/wc/*bunch of web-component.js files*</code>\nand inside of <code>dist/bundle</code> there's index.js and index.js.map.</p>\n\n<p>I might be confusing different concepts here, and if so I apologize. This is my first time using rollup and litelement.</p>\n"}, {"tags": ["reactjs", "typescript", "jestjs", "react-testing-library"], "comments": [{"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1576711791, "post_id": 59401186, "comment_id": 104991800, "body": "It can be undefined but you declare it to be HTMLElement only?"}, {"owner": {"reputation": 11294, "user_id": 8338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Arxf4.jpg?s=128&g=1", "display_name": "Alexey Lebedev", "link": "https://stackoverflow.com/users/8338/alexey-lebedev"}, "edited": false, "score": 1, "creation_date": 1576711967, "post_id": 59401186, "comment_id": 104991854, "body": "TypeScript can&#39;t tell if <code>act</code> is going to invoke the callback, and cannot guarantee that <code>app</code> is going to be defined. You can try wrapping <code>act</code> in another promise that will resolve with <code>app</code> from inside the callback. You&#39;ll also probably need to wait for <code>act</code> to resolve as well before proceeding."}, {"owner": {"reputation": 1752, "user_id": 469601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76dddfc78c5cd4d013d6407ad6dd5f2?s=128&d=identicon&r=PG", "display_name": "colefner", "link": "https://stackoverflow.com/users/469601/colefner"}, "reply_to_user": {"reputation": 11294, "user_id": 8338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Arxf4.jpg?s=128&g=1", "display_name": "Alexey Lebedev", "link": "https://stackoverflow.com/users/8338/alexey-lebedev"}, "edited": false, "score": 0, "creation_date": 1576712185, "post_id": 59401186, "comment_id": 104991907, "body": "What @alexey said. You could move your test code inside your callback. That would get TS to shut up, since it would guarantee app is defined."}, {"owner": {"reputation": 11294, "user_id": 8338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Arxf4.jpg?s=128&g=1", "display_name": "Alexey Lebedev", "link": "https://stackoverflow.com/users/8338/alexey-lebedev"}, "reply_to_user": {"reputation": 1752, "user_id": 469601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76dddfc78c5cd4d013d6407ad6dd5f2?s=128&d=identicon&r=PG", "display_name": "colefner", "link": "https://stackoverflow.com/users/469601/colefner"}, "edited": false, "score": 0, "creation_date": 1576712389, "post_id": 59401186, "comment_id": 104991960, "body": "@colefner he tried that, but that defeats the purpose of <code>act</code>, which is to allow React to finish all lifecycle hooks before making assertions with <code>expect</code>."}, {"owner": {"reputation": 1752, "user_id": 469601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76dddfc78c5cd4d013d6407ad6dd5f2?s=128&d=identicon&r=PG", "display_name": "colefner", "link": "https://stackoverflow.com/users/469601/colefner"}, "reply_to_user": {"reputation": 11294, "user_id": 8338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Arxf4.jpg?s=128&g=1", "display_name": "Alexey Lebedev", "link": "https://stackoverflow.com/users/8338/alexey-lebedev"}, "edited": false, "score": 0, "creation_date": 1576712504, "post_id": 59401186, "comment_id": 104991990, "body": "Ah yeah, I missed that part. Good catch there, @AlexeyLebedev"}, {"owner": {"reputation": 11294, "user_id": 8338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Arxf4.jpg?s=128&g=1", "display_name": "Alexey Lebedev", "link": "https://stackoverflow.com/users/8338/alexey-lebedev"}, "edited": false, "score": 0, "creation_date": 1576712885, "post_id": 59401186, "comment_id": 104992089, "body": "Another idea: <code>render(&lt;App&#47;&gt;)</code> renders into <code>document.body</code>, which means you can replace <code>app.querySelector</code> with <code>document.querySelector()</code>. It&#39;s not an exact equivalent, but for this specific test it would work. You can also provide a container of your choice to the <code>render</code> function."}], "answers": [{"tags": [], "owner": {"reputation": 598, "user_id": 915955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uT8PG.jpg?s=128&g=1", "display_name": "Thomas Prei&#223;ler", "link": "https://stackoverflow.com/users/915955/thomas-prei%c3%9fler"}, "is_accepted": true, "score": 1, "last_activity_date": 1576712091, "creation_date": 1576712091, "answer_id": 59401438, "question_id": 59401186, "link": "https://stackoverflow.com/questions/59401186/how-to-test-a-potential-null-value-from-an-async-void-function-without-using-ts/59401438#59401438", "title": "How to test a potential null value from an async void function without using @ts-ignore in TypeScript", "body": "<p>Typescript is complaining about the app variable to not have been initialised when you access it in the if-statement. You can simply fix that by assigning <code>null</code> to it.</p>\n\n<pre><code>let app: HTMLElement = null;\n</code></pre>\n\n<p>In case you use strict null checks you have to allow null on the type:</p>\n\n<pre><code>let app: HTMLElement | null = null;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 600, "user_id": 338074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e32d0924b58f1a177e7aa34f5197887?s=128&d=identicon&r=PG", "display_name": "Leejjon", "link": "https://stackoverflow.com/users/338074/leejjon"}, "is_accepted": false, "score": 0, "last_activity_date": 1576713955, "creation_date": 1576713955, "answer_id": 59401654, "question_id": 59401186, "link": "https://stackoverflow.com/questions/59401186/how-to-test-a-potential-null-value-from-an-async-void-function-without-using-ts/59401654#59401654", "title": "How to test a potential null value from an async void function without using @ts-ignore in TypeScript", "body": "<p>After puzzling this is my result</p>\n\n<pre><code>test('Verify home page header', async() =&gt; {\n    let app: HTMLElement | undefined = undefined;\n    await act(async () =&gt; {\n        const {container} = render(&lt;App/&gt;);\n        app = container;\n    });\n    let appAsHtmlElement = (app as unknown as HTMLElement);\n    const pageHeaderContent = appAsHtmlElement.querySelector(\"#pageHeader\")?.firstChild?.textContent;\n    expect(pageHeaderContent).toMatch('Home page');\n});\n</code></pre>\n\n<p>Better suggestions (if there is some way of not having to use the 'act' function) are still welcome.</p>\n"}], "owner": {"reputation": 600, "user_id": 338074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e32d0924b58f1a177e7aa34f5197887?s=128&d=identicon&r=PG", "display_name": "Leejjon", "link": "https://stackoverflow.com/users/338074/leejjon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 59401438, "answer_count": 2, "score": 1, "last_activity_date": 1576713955, "creation_date": 1576710345, "last_edit_date": 1576711526, "question_id": 59401186, "link": "https://stackoverflow.com/questions/59401186/how-to-test-a-potential-null-value-from-an-async-void-function-without-using-ts", "title": "How to test a potential null value from an async void function without using @ts-ignore in TypeScript", "body": "<p>This is probably more of a JavaScript/TypeScript question then it is about React/Testing. </p>\n\n<p>But I'll give the complete story. So I have a test app with basic routing functionality and tests to verify that the routing works.</p>\n\n<p>App.tsx\n<a href=\"https://github.com/Leejjon/pwa-seo/blob/6f621968de1184b03744a262a68d291b4571c5c1/src/App.tsx\" rel=\"nofollow noreferrer\">https://github.com/Leejjon/pwa-seo/blob/6f621968de1184b03744a262a68d291b4571c5c1/src/App.tsx</a></p>\n\n<p>App.test.tsx\n<a href=\"https://github.com/Leejjon/pwa-seo/blob/6f621968de1184b03744a262a68d291b4571c5c1/src/App.test.tsx\" rel=\"nofollow noreferrer\">https://github.com/Leejjon/pwa-seo/blob/6f621968de1184b03744a262a68d291b4571c5c1/src/App.test.tsx</a></p>\n\n<p>Everything worked fine. Then I added an useEffect hook to initialize my internationalization library:</p>\n\n<pre><code>useEffect(() =&gt; {\n    async function initMessages() {\n        await intl.init({\n            currentLocale: \"en-US\",\n            locales\n        });\n    }\n\n    initMessages().then(() =&gt; setLoading(false));\n}, [loading]);\n</code></pre>\n\n<p>This loads all my text assets in English. This works fine, but broke all my tests with the following error message:\n<code>Warning: An update to App inside a test was not wrapped in act(...).</code></p>\n\n<p>After some reading up <a href=\"https://stackoverflow.com/questions/54748942/why-does-react-hook-throw-the-act-error-when-used-with-fetch-api\">on the internet</a> I managed to fix my tests by adding this 'act' function, here is one example:</p>\n\n<pre><code>import React from 'react';\nimport {act, render, fireEvent, waitForElement} from '@testing-library/react';\nimport \"@testing-library/jest-dom/extend-expect\";\nimport App from './App';\n\ntest('Verify home page header', async() =&gt; {\n    let app: HTMLElement;\n    await act(async () =&gt; {\n        const {container} = render(&lt;App/&gt;);\n        app = container;\n    });\n    // @ts-ignore\n    if (app) {\n        const pageHeaderContent = app.querySelector(\"#pageHeader\")?.firstChild?.textContent;\n        expect(pageHeaderContent).toMatch('Home page');\n    } else {\n        fail(\"The app should have been initialized.\");\n    }\n});\n</code></pre>\n\n<p>Right now I'm suppressing the <code>TS2454: Variable 'app' is used before being assigned.</code> warning with the @ts-ignore. This is ugly. If I move my assertions into the act function, I get the same <code>Warning: An update to App inside a test was not wrapped in act(...).</code> error again.</p>\n\n<p>Is there a way to obtain the container object destructured from the render function without having to use the @ts-ignore and the if clause to do null checking? </p>\n\n<p>I created a tag for the current code related to this question:\n<a href=\"https://github.com/Leejjon/pwa-seo/releases/tag/uglylines\" rel=\"nofollow noreferrer\">https://github.com/Leejjon/pwa-seo/releases/tag/uglylines</a>\nLink to last commit: <a href=\"https://github.com/Leejjon/pwa-seo/commit/2434f78c0619be2d55f9de965149f6bd6d1a0b90\" rel=\"nofollow noreferrer\">https://github.com/Leejjon/pwa-seo/commit/2434f78c0619be2d55f9de965149f6bd6d1a0b90</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3933, "user_id": 7186598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f869a58e83c9ef8ddd17c4c7879ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Gerrit0", "link": "https://stackoverflow.com/users/7186598/gerrit0"}, "edited": false, "score": 0, "creation_date": 1576712608, "post_id": 59401166, "comment_id": 104992014, "body": "Declaration merging can&#39;t do this for you... The simplest solution is probably a postinstall npm script that modifies the declaration file for the library."}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1576715276, "post_id": 59401166, "comment_id": 104992608, "body": "Given that <code>&#39;a&#39; | &#39;b&#39;</code> is a subset of <code>string</code>, does it matter? What are you trying to prevent? <code>libraryMethod</code>, given its definition, can handle all valid values of <code>x</code> that your app can supposedly produce."}, {"owner": {"reputation": 19601, "user_id": 39068, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ecc96b01307b339812f5d1b2936ac9bc?s=128&d=identicon&r=PG", "display_name": "Andrey Shchekin", "link": "https://stackoverflow.com/users/39068/andrey-shchekin"}, "reply_to_user": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1576747024, "post_id": 59401166, "comment_id": 105001030, "body": "@TylerSebastian I&#39;ll give an example (<i>not</i> same as my case, but similar idea). In theory, <code>process.env[&#39;...&#39;]</code> can handle any <code>string</code>. But in practice, in my project I know that env can only contain <code>SETTING_A</code> or <code>SETTING_B</code> and asking for <code>SETTING_X</code> is a bug."}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1576772985, "post_id": 59401166, "comment_id": 105014508, "body": "You can use a type guard to narrow the scope after loading the setting: <code>isValidSetting(x: unknown): x is &#39;a&#39; | &#39;b&#39;</code> (and, of course, actually do the check)."}], "owner": {"reputation": 19601, "user_id": 39068, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ecc96b01307b339812f5d1b2936ac9bc?s=128&d=identicon&r=PG", "display_name": "Andrey Shchekin", "link": "https://stackoverflow.com/users/39068/andrey-shchekin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576710201, "creation_date": 1576710201, "question_id": 59401166, "link": "https://stackoverflow.com/questions/59401166/in-typescript-can-i-narrow-a-parameter-type-in-an-imported-library-just-within", "title": "In TypeScript, can I narrow a parameter type in an imported library, just within my project?", "body": "<p>I am importing an external library in my TypeScript code. One of the types in this library provides a method <code>libraryMethod(x: string)</code>. I know that <em>within my project</em> only valid values for <code>x</code> are <code>'a'</code> and <code>'b'</code>.</p>\n\n<p>If it was my code, I would have changed <code>x: string</code> to <code>x: 'a'|'b'</code> directly.</p>\n\n<p>Is there a way to redefine type of <code>x</code> (without wrapping <code>libraryMethod</code> in another method)?</p>\n"}, {"tags": ["typescript", "concurrency"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1576708737, "creation_date": 1576708737, "answer_id": 59400952, "question_id": 59400715, "link": "https://stackoverflow.com/questions/59400715/pool-of-processes-in-typescript/59400952#59400952", "title": "Pool of processes in typescript", "body": "<blockquote>\n  <p>How can I implement those two processes so they can run concurrently</p>\n</blockquote>\n\n<p>You can spawn child processes to do tasks concurrently with  the built in <code>child_process</code> module.</p>\n\n<h1>More</h1>\n\n<p>Specific examples are in the documentation : <a href=\"https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options\" rel=\"nofollow noreferrer\">https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options</a></p>\n"}], "owner": {"reputation": 212, "user_id": 1829285, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/09d96cb2bc884e2e0f1fe835229d8374?s=128&d=identicon&r=PG", "display_name": "Ephasme", "link": "https://stackoverflow.com/users/1829285/ephasme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 59400952, "answer_count": 1, "score": 0, "last_activity_date": 1576708737, "creation_date": 1576707382, "question_id": 59400715, "link": "https://stackoverflow.com/questions/59400715/pool-of-processes-in-typescript", "title": "Pool of processes in typescript", "body": "<p>I\u2019m trying to implement a dispatcher that will perform long polling on AWS SQS and then dispatch (load balance) any message to n promises that will run in parallel. If I have more that n promises running I want to stop dispatching messages (for that I use AsyncGenerator) and I want to dispatch messages as soon as any of my promise pool finished.</p>\n\n<p>I think I need some sort of blocking queue (like a buffer with max size and back pressure) that will be fed by my generator whilst my workers are taking elements for this buffer to treat them.</p>\n\n<p>Note that order does not matter.</p>\n\n<p>How can I implement those two processes so they can run concurrently?</p>\n\n<p>If I\u2019m not clear please tell me I\u2019ll try to elaborate on your questions.</p>\n"}, {"tags": ["typescript", "parameter-passing", "nested-loops"], "comments": [{"owner": {"reputation": 429, "user_id": 7721494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVSSz.jpg?s=128&g=1", "display_name": "Abdelrhman ElSayed", "link": "https://stackoverflow.com/users/7721494/abdelrhman-elsayed"}, "edited": false, "score": 0, "creation_date": 1576707546, "post_id": 59400658, "comment_id": 104990570, "body": "What is the value of the <code>splitCodes</code> in function call? What do you mean in `   result[i], result[i].products[j],` in <code>publishProductCode</code> definition ?"}, {"owner": {"reputation": 301, "user_id": 11671255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7be5b53666511138aa97e3dca9b724?s=128&d=identicon&r=PG&f=1", "display_name": "OSAMA E", "link": "https://stackoverflow.com/users/11671255/osama-e"}, "reply_to_user": {"reputation": 429, "user_id": 7721494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVSSz.jpg?s=128&g=1", "display_name": "Abdelrhman ElSayed", "link": "https://stackoverflow.com/users/7721494/abdelrhman-elsayed"}, "edited": false, "score": 0, "creation_date": 1576707750, "post_id": 59400658, "comment_id": 104990661, "body": "result[i].products[j] is the value I am trying to access with nested for loops and pass it on to publishProductCode method"}, {"owner": {"reputation": 429, "user_id": 7721494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVSSz.jpg?s=128&g=1", "display_name": "Abdelrhman ElSayed", "link": "https://stackoverflow.com/users/7721494/abdelrhman-elsayed"}, "edited": false, "score": 0, "creation_date": 1576708007, "post_id": 59400658, "comment_id": 104990760, "body": "Function definition don&#39;t see the <code>i</code>, or <code>j</code>, You should only define new property name in it like the current answer"}], "answers": [{"tags": [], "owner": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "is_accepted": false, "score": 1, "last_activity_date": 1576707766, "creation_date": 1576707766, "answer_id": 59400783, "question_id": 59400658, "link": "https://stackoverflow.com/questions/59400658/how-can-i-pass-nested-for-loops-variable-from-one-function-to-another/59400783#59400783", "title": "How can I pass nested for loops variable from one function to another?", "body": "<p>Perhaps replace this:</p>\n\n<pre><code>public publishProductCode(\n   messagePublishService,\n   splitCodes,\n   result[i],           \n   result[i].products[j],\n   source,\n ) {\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>public publishProductCode(\n   messagePublishService,\n   splitCodes,\n   result,           \n   resultProducts,\n   source,\n ) {\n</code></pre>\n\n<p>And then replace the references to <code>result[i]</code> and <code>result[i].products[j]</code> with <code>result</code> and <code>resultProducts</code> accordingly within <code>publishProductCode</code>.</p>\n"}], "owner": {"reputation": 301, "user_id": 11671255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7be5b53666511138aa97e3dca9b724?s=128&d=identicon&r=PG&f=1", "display_name": "OSAMA E", "link": "https://stackoverflow.com/users/11671255/osama-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578621565, "creation_date": 1576707139, "last_edit_date": 1578621565, "question_id": 59400658, "link": "https://stackoverflow.com/questions/59400658/how-can-i-pass-nested-for-loops-variable-from-one-function-to-another", "title": "How can I pass nested for loops variable from one function to another?", "body": "<p>I am using nested for loop in my function. I am trying to pass variable <code>i</code> and variable <code>j</code> whole as an object to another function, but it throws an error. </p>\n\n<pre><code>public getProductCodes(\n   productEvent,\n   result,\n   messagePublishService: MessagePublishService,\n ) {\n   const splitCodes = productEvent.productCodes.split(',');\n\n\n   for (let i = 0; i &lt; result.length; i++) {\n     for (let j = 0; j &lt; result[i].products.length; j++) {\n       if (\n         productEvent.productCodes.length !== 0 &amp;&amp;\n         productEvent.productCodes !== undefined\n       ) {\n         this.publishProductCode(\n           messagePublishService,\n           splitCodes,\n           result[i],result[i].products[j],        -------&gt; This is what I am trying to pass it as an object (Not individual variable)\n           source,\n         );\n       } else {\n         console.log('No data found');\n         return;\n       }\n     }\n   }\n }\n\n public publishProductCode(\n   messagePublishService,\n   splitCodes,\n   result[i],           \n   result[i].products[j],\n   source,\n ) {\n   for (let k = 0; k &lt; splitCodes.length; k++) {\n     if (result[i].products[j].productCode === splitCodes[k]) {\n       console.log(\n         'Product Codes: ' +\n           result[i].products[j].productCode +\n           ' Country : ' +\n           result[i].country +\n           ' Language : ' +\n           result[i].language,\n       );\n     }\n   }\n }\n</code></pre>\n"}, {"tags": ["typescript", "ionic-framework", "openlayers"], "comments": [{"owner": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "edited": false, "score": 1, "creation_date": 1576708478, "post_id": 59400213, "comment_id": 104990896, "body": "The styleFunction should return the style, using return inside forEach won&#39;t do that. See <a href=\"https://stackoverflow.com/a/34653650/10118270\">stackoverflow.com/a/34653650/10118270</a>"}, {"owner": {"reputation": 538, "user_id": 7123439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fcfc425354f7930c607155c018979e?s=128&d=identicon&r=PG&f=1", "display_name": "leonardofmed", "link": "https://stackoverflow.com/users/7123439/leonardofmed"}, "reply_to_user": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "edited": false, "score": 0, "creation_date": 1576758400, "post_id": 59400213, "comment_id": 105006560, "body": "This solved the problem! But I felt a slight performance degradation, do you have any suggestions on this? I believe it is because of the times the loop is performed when the map is updated. Maybe a way to store and assign values only once, but I don&#39;t know if it&#39;s possible. I used <code>for (let attr of attr_array)</code> and <code>for (let i = 0, len = attr_array.length; i &lt; len; i++)</code> as suggested <a href=\"https://stackoverflow.com/a/7252102/7123439\">here</a>, but didn&#39;t see difference."}, {"owner": {"reputation": 1329, "user_id": 1188074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7673f2d36bc2891fc777d4433b7737fe?s=128&d=identicon&r=PG", "display_name": "wlf", "link": "https://stackoverflow.com/users/1188074/wlf"}, "edited": false, "score": 0, "creation_date": 1578496556, "post_id": 59400213, "comment_id": 105458629, "body": "I think you would be better off setting the style at the feature level.This would also remove the need to loop through them. Layer level styling is for use when all features have the same style, you have different styles based on the feature. Furthermore, doing it at the feature level means the style functions are selectively called, ie: when the relevant feature is visible."}], "owner": {"reputation": 538, "user_id": 7123439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fcfc425354f7930c607155c018979e?s=128&d=identicon&r=PG&f=1", "display_name": "leonardofmed", "link": "https://stackoverflow.com/users/7123439/leonardofmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577012010, "creation_date": 1576704446, "last_edit_date": 1577012010, "question_id": 59400213, "link": "https://stackoverflow.com/questions/59400213/style-function-inserted-programmatically-in-vectorlayer-is-not-displayed-and-don", "title": "Style function inserted programmatically in VectorLayer is not displayed and don&#39;t generate errors", "body": "<p>I'm trying to add a style function programmatically to a <code>VectorLayer</code> in my map, but nothing is displayed and no errors are fired. Before, I used to add all the layers and styles manually, but now I want to do this dynamically. Inside the style function I used the <code>switch</code> method to change the color for each feature value, this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var randomVectorLayer = new VectorLayer({\n    ...\n    style: (feature) =&gt; {\n        let featureValue = feature.get(\"SOME_ATTRIBUTE\");\n        switch(featureValue) {\n            case \"VALUE1\":\n                return this.styleArea('rgba(100, 255, 0, 1)'); // returns a style for Areas with the passed color\n            break;\n            case \"VALUE2\":\n                return this.styleArea('rgba(85, 255, 0, 1)', 'rgba(0, 0, 0, 1)', 2);\n            break;\n        }\n    },\n    ...\n});\n</code></pre>\n\n<p>Now I trying to add programmatically, which I already made it for simple polygons with a single style, this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let styleNewLayer;\nif (attr_array.length == 1) { // simple layer with only one attribute\n    styleNewLayer =  this.styleArea(attr_array[0]['color']);\n}\nlet newVectorLayer = new VectorLayer({\n    ...,\n    style: styleNewLayer,\n    ...\n});\n</code></pre>\n\n<p>But polygons that contain many variations of attributes and consequently several styles proved to be more challenging for me. One of the ways I tried to load the styles was this way, changing the <code>switch</code> function for a <code>if</code> one:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let styleNewLayer;\nif (attr_array.length &gt; 1) {\n    styleNewLayer = (feature) =&gt; {\n        attr_array.forEach(attr =&gt; {\n            let featureValue  = feature.get(attr.name); // I can see that this value is correctly acquired\n            if (featureValue == attr.value) { // I tried to set this value to a known one as well.\n                return this.styleArea(attr.color);\n            }\n        });\n    };\n}\nlet newVectorLayer = new VectorLayer({\n    ...,\n    style: styleNewLayer,\n    ...\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jss"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1576705201, "post_id": 59400206, "comment_id": 104989749, "body": "What do you expect <code>keyof typeof this.constructor.css</code> would resolve to? (if it worked as you would like it to work). Note: you could try replacing <code>this.constructor.css</code> with <code>View.css</code>, it could be what you want."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576719943, "post_id": 59400206, "comment_id": 104993489, "body": "Eh, I think without <a href=\"https://github.com/microsoft/TypeScript/issues/3841\" rel=\"nofollow noreferrer\">stronger typing for <code>this.constructor</code> (microsoft/TypeScript#3841)</a> and/or <a href=\"https://github.com/microsoft/TypeScript/issues/5863\" rel=\"nofollow noreferrer\">polymorphic <code>this</code> for static members</a> it might be difficult to get this done without redundant annotations."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576720576, "post_id": 59400206, "comment_id": 104993589, "body": "The workaround for strongly-typed <code>this.constructor</code> from #3841 gives <a href=\"http://www.typescriptlang.org/play/#code/MYGwhgzhAEBqCWBTA7tA3gWAFDV9A2gETAD2AdhAC4BOArsJSdYQLoBc0lAngA6IkAzOEmQBuaAHoJ0ADwBaOdDKJEAE04loYMmRKUwlRNHhloiAG6JqXaBFoAjUJAjY8t-ZXjBoAc0SVoYCgACgBKDhJ7ACtEBnRoan9aalMyWhAQAEJxCQAqeABbHhBc6QBfVzw-AKiQ8OgAJVimVRkAa0QuQU4AC3gIIlIKGnpGZhZBqFYAGndqEx8APnjEymTU9Kyc-KKS8uwKrCcoaAB1RHsAYRIi8kQyAMQAD0MyVRgEFHRK3EHyKjoDCYrA43D43XOVxuPDuD0k0nkimUag0Wh0egMRkofRcODwVAMXl8-kCdW+eLcuFW63iIH6lA4aGgqn6xTAXA4AHIfPNVJzoGUBT8hVhDkMqNBkN4ALxKL6Q663ZQPMIAOlqEBy0jQdKoHABCzKQA\" rel=\"nofollow noreferrer\">this</a>; does it suffice?"}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576762047, "post_id": 59400206, "comment_id": 105008409, "body": "@jcalz Thanks.  The #3841 workaround is a cool but not very feasible in our code base.  I think waiting for the static types to get fixed in Typescript may be the correct answer here."}], "owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576705443, "creation_date": 1576704386, "last_edit_date": 1576705443, "question_id": 59400206, "link": "https://stackoverflow.com/questions/59400206/type-of-static-subclass-method-types-in-typescript", "title": "Type of static subclass method types in Typescript", "body": "<p>In Typescript I'm trying to get part of the type of a static getter class.</p>\n\n<p>Here's a concrete example, where I'm trying to figure out how to get <code>CSSTypes</code>:</p>\n\n<pre><code>class View {\n  static get css (): Record&lt;string, any&gt; {\n    return {}\n  }\n\n  get jss (): CSSTypes {\n    /* return JSS-created CSS class names.\n       Equivalent in type (but not in practice, since we defer to the JSS library) to:\n\n       return Object.assign({},\n         ...Object.keys(this.constructor.css).map(k =&gt; {[k]: `${k}-css-class-name`})\n       )\n     */\n  }\n}\n</code></pre>\n\n<p>I want <code>CSSTypes</code> to be a map of string keys of <code>static get css</code> to another string.</p>\n\n<pre><code>class WebComponent extends View {\n   static get css () {\n      return {\n        list: {\n           display: 'grid'\n        }\n      }\n   }\n}\n</code></pre>\n\n<p>Here's what we get from the console:</p>\n\n<pre><code>&gt;&gt;&gt; wc = new WebComponent()\n\n// wc.jss should have one key, `list`\n&gt;&gt;&gt; wc.jss.list // === something like 'WebComponent__list-0-0-1'\n</code></pre>\n\n<p>If I were to take a stab at what we'd need, it'd look something like (which obviously doesn't work but kind of illustrates the idea):</p>\n\n<pre><code>class View {\n   ...\n   get jss: Record&lt;keyof typeof this.constructor.css, string&gt; {...}\n}\n</code></pre>\n\n<h3>Context</h3>\n\n<p>For this example I'm using JSS with Knockout/TKO and we have hundreds of web-components, and since the documentation of what CSS variables exist from the <code>jss</code> getter is present (as the keys that are returned from <code>static get css</code>) we're hoping there's some magic Typescript that can figure it out without having to duplicate anything.</p>\n\n<p>We use <code>this.jss</code> many thousands of times, so adding a type to that would be challenging, so we are hoping that we can add a type to <code>get jss</code>.  Ideally we'd only modify the super class  getter for <code>jss</code>.  The <code>jss</code> getter is never modified i.e. exists only in the super class, but <code>static get css</code> is specific to every component.</p>\n\n<p>To save memory and increase performance we (generally) have only one JSS style object per class type, hence <code>static css</code>.</p>\n\n<p>This seems outside the scope of what Typescript ordinarily documents, and well outside my competence with it, but I'm hoping it's achievable since it theoretically seems possible.</p>\n"}, {"tags": ["javascript", "android", "typescript", "geolocation", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 12515391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1e13382b293c7d5dd3bd0e3ccf9102?s=128&d=identicon&r=PG&f=1", "display_name": "themoose", "link": "https://stackoverflow.com/users/12515391/themoose"}, "is_accepted": true, "score": 1, "last_activity_date": 1579036411, "creation_date": 1579036411, "answer_id": 59741867, "question_id": 59400194, "link": "https://stackoverflow.com/questions/59400194/android-not-giving-geolocation-ionic-4/59741867#59741867", "title": "Android not giving Geolocation ionic 4", "body": "<p>Huawei device will give geolocation when the app is deployed onto the device using cordova or capcitor for Ionic 4, but it won't work on ionic serve --devapp.</p>\n"}], "owner": {"reputation": 139, "user_id": 12515391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1e13382b293c7d5dd3bd0e3ccf9102?s=128&d=identicon&r=PG&f=1", "display_name": "themoose", "link": "https://stackoverflow.com/users/12515391/themoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 59741867, "answer_count": 1, "score": 2, "last_activity_date": 1579036411, "creation_date": 1576704321, "last_edit_date": 1576704858, "question_id": 59400194, "link": "https://stackoverflow.com/questions/59400194/android-not-giving-geolocation-ionic-4", "title": "Android not giving Geolocation ionic 4", "body": "<p>I am using Geolocation from @ionic-native/geolocation/ngx to show a user's location on entry to viewing a leaflet map, my code works for my browser and IOS phones (I run ionic serve --devapp).</p>\n\n<p>I get an error from an Android phones which are '[object GeolocationPositionError]' with an error message of \"Only secure origins are allowed (see: goo.gl/Y0ZkNV).\". Could anyone help me please? </p>\n\n<p>Also, the app asks automatically for permission to use GPS, there is no code in my app which asks for permission yet.</p>\n\n<pre><code>this.geolocation.getCurrentPosition().then((resp) =&gt; {\n         resp.coords.latitude;\n         resp.coords.longitude;\n         let marker = L.marker([resp.coords.latitude, resp.coords.longitude]).addTo(this.map)\n           .bindPopup('Your Location')\n           .openPopup();\n         this.map.setView([resp.coords.latitude, resp.coords.longitude], 15);\n         console.log(resp.coords.latitude+\" \"+ resp.coords.longitude);\n       }).catch((error) =&gt; {\n         console.log('Error getting location ', error);\n});\n</code></pre>\n\n<p>Are there any additional things I need to do to make the code work for Android?</p>\n\n<p>Much appreciation :)</p>\n"}, {"tags": ["typescript", "derived-class"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1576703554, "post_id": 59399994, "comment_id": 104989145, "body": "It&#39;s <a href=\"https://github.com/microsoft/TypeScript/wiki/FAQ#why-are-function-parameters-bivariant\" rel=\"nofollow noreferrer\">method bivariance</a>... the fix here with <code>--strict</code> is probably to change your interface to <code>interface ObjectHandler {  handleObject: (obj: BaseObject) =&gt; void; }</code> (using function prop syntax instead of method syntax), taking advantage of <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/overview.html#strict-function-types\" rel=\"nofollow noreferrer\"><code>--strictFunctionTypes</code></a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576703773, "post_id": 59399994, "comment_id": 104989225, "body": "See <a href=\"https://github.com/microsoft/TypeScript/pull/18654\" rel=\"nofollow noreferrer\">this</a> also: &quot;The impact of strictly checking methods would be a much bigger breaking change as a large number of generic types would become invariant &quot;.  I might be able to make this into an answer if I get off mobile (but anyone who gets here first is welcome to it also!)"}], "owner": {"reputation": 63, "user_id": 9008282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35362fe3faaa591f641f6d6b720676c1?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Khokhryakov", "link": "https://stackoverflow.com/users/9008282/maxim-khokhryakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576703260, "creation_date": 1576703260, "question_id": 59399994, "link": "https://stackoverflow.com/questions/59399994/why-does-typescript-let-this-code-to-be-compiled", "title": "Why does typescript let this code to be compiled?", "body": "<p>if you run this code, you'll get an error: <code>obj.secretMethod is not a function</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface BaseObject {\n  hello(): void;\n}\n\ninterface ObjectHandler {\n  handleObject(obj: BaseObject): void;\n}\n\nclass RealObject implements BaseObject {\n  hello(): void {\n    console.log(\"Hi\");\n  }\n  secretMethod() {\n    return \"OK!\";\n  }\n}\n\nclass FakeObject implements BaseObject {\n  hello() {\n    console.log(\"Hello\");\n  }\n}\n\nclass RealHandler implements ObjectHandler {\n  handleObject(obj: RealObject): void {\n    console.log(obj.secretMethod());\n  }\n}\n\nconst f: ObjectHandler = new RealHandler();\nconst obj: BaseObject = new FakeObject();\nf.handleObject(obj);\n\n</code></pre>\n\n<p>My question is why does TypeScript compiler sucessfully compile this code and doesn't even give any warnings, even with <code>--strict</code>? In comparasion with C# compiler: a C# compiler wouldn't compile this, because <code>ObjectHandler.handleObject(BaseObject)</code> method must be implemented as <code>ObjectHandler.handleObject(BaseObject)</code> and not <code>ObjectHandler.handleObject(RealObject)</code>, so, programmer must explicitly cast <code>BaseObject</code> to <code>RealObject</code> if he want to call a <code>secretMethod</code>. So why do TypeScript developers have decided to not to emit an error in situations like this?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 11713814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58046c74c35f210240502187fa2ef62c?s=128&d=identicon&r=PG&f=1", "display_name": "DevSantosh", "link": "https://stackoverflow.com/users/11713814/devsantosh"}, "edited": false, "score": 0, "creation_date": 1576725723, "post_id": 59400172, "comment_id": 104994500, "body": "After setting the value of data into  datepicker control like this in .TS file ` const dateOfBirth = this.datePipe.transform(data.DataOfBirth.toString(), &#39;MM/dd/yyyy&#39;);});this.updateUserForm.controls[&#39;DataOfBirth&#39;]&zwnj;&#8203;.setValue(dateOfBirt&zwnj;&#8203;h);` afterwards ,i also did get data in datepicker control."}, {"owner": {"reputation": 4638, "user_id": 4321757, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nLKxmx_8tBM/AAAAAAAAAAI/AAAAAAAAAJM/i1tI_taEq0M/photo.jpg?sz=128", "display_name": "Keith Otto", "link": "https://stackoverflow.com/users/4321757/keith-otto"}, "reply_to_user": {"reputation": 17, "user_id": 11713814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58046c74c35f210240502187fa2ef62c?s=128&d=identicon&r=PG&f=1", "display_name": "DevSantosh", "link": "https://stackoverflow.com/users/11713814/devsantosh"}, "edited": false, "score": 0, "creation_date": 1576860672, "post_id": 59400172, "comment_id": 105043472, "body": "So you&#39;re saying that it worked with that change? If so you can mark this as the answer, otherwise if you have other questions let me know!"}, {"owner": {"reputation": 17, "user_id": 11713814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58046c74c35f210240502187fa2ef62c?s=128&d=identicon&r=PG&f=1", "display_name": "DevSantosh", "link": "https://stackoverflow.com/users/11713814/devsantosh"}, "edited": false, "score": 0, "creation_date": 1577038906, "post_id": 59400172, "comment_id": 105076539, "body": "After changes of this, it also not working , data is not coming into datepicker control."}], "tags": [], "owner": {"reputation": 4638, "user_id": 4321757, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nLKxmx_8tBM/AAAAAAAAAAI/AAAAAAAAAJM/i1tI_taEq0M/photo.jpg?sz=128", "display_name": "Keith Otto", "link": "https://stackoverflow.com/users/4321757/keith-otto"}, "is_accepted": false, "score": 0, "last_activity_date": 1576862789, "last_edit_date": 1576862789, "creation_date": 1576704210, "answer_id": 59400172, "question_id": 59399959, "link": "https://stackoverflow.com/questions/59399959/data-not-retrieved-in-text-box-where-i-used-date-picker/59400172#59400172", "title": "Data not retrieved in text-box where I used Date picker", "body": "<p>Judging by the code in your EditUser typescript file, you aren't setting the value of your date into your FormControl. You put the value of the date into a const variable named <code>dateOfBirth</code> but don't do anything with it afterwards. I'm guessing you will need something like this:</p>\n\n<pre><code>this.updateUserForm.controls['DataOfBirth'].setValue(dateOfBirth);\n</code></pre>\n\n<p>After you store the value in your const.</p>\n\n<p>Edit: After looking at it again it's also possible that you are sending the incorrect date format to the control. By default I believe that the Angular DatePicker works with native Javascript Date objects. </p>\n\n<p>I don't know what the data type of your results are coming from the <code>getRegistrationDetails()</code> function. But if the birth date is a string you can convert it to a Date object as below. If it's already a Date object, just skip the first line converting it to a Date and set it directly into the form control.</p>\n\n<pre><code>this.service.getRegistrationDetails(this.registrationId).subscribe(data =&gt; {\n  const dateOfBirth = new Date(data.DataOfBirth);\n  this.updateUserForm.setValue({\n    'First_Name': data.FirstName,\n    'DataOfBirth': dateOfBirth\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 11713814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58046c74c35f210240502187fa2ef62c?s=128&d=identicon&r=PG&f=1", "display_name": "DevSantosh", "link": "https://stackoverflow.com/users/11713814/devsantosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576862789, "creation_date": 1576703072, "last_edit_date": 1576706679, "question_id": 59399959, "link": "https://stackoverflow.com/questions/59399959/data-not-retrieved-in-text-box-where-i-used-date-picker", "title": "Data not retrieved in text-box where I used Date picker", "body": "<p>Hello Stack Overflow Team,\nWhen click to edit link for edit customer details form  displayed. \nin this form all exist data displayed except datepicker data not displayed.\nall data comping from the Web API.</p>\n\n<p>EditUser.component.html</p>\n\n<pre><code> &lt;mat-form-field class=\"demo-full-width\"&gt;\n              &lt;input matInput [matDatepicker]=\"picker\" matTooltip=\"Enter Date Of Birth\"\n                placeholder=\"Choose Date Of Birth\" formControlName=\"DataOfBirth\"&gt;\n              &lt;mat-datepicker-toggle matSuffix [for]=\"picker\"&gt;&lt;/mat-datepicker-toggle&gt;\n              &lt;mat-datepicker #picker&gt;&lt;/mat-datepicker&gt;\n            &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>EditUser.component.ts</p>\n\n<pre><code>   this.service.getRegistrationDetails(this.registrationId).subscribe(data =&gt; {\n  this.updateUserForm.controls['First_Name'].setValue(data.FirstName);\n  const dateOfBirth = this.datePipe.transform(data.DataOfBirth.toString(), 'MM/dd/yyyy');});\n</code></pre>\n\n<p>Service.ts</p>\n\n<pre><code>getRegistrationDetails(registrationId: string): Observable&lt;Register&gt; {\n// debugger;\nreturn this.http.get&lt;Register&gt;(this.url + '/GetRegistration/' + registrationId);\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase"], "owner": {"reputation": 21, "user_id": 12379065, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mANzYRSYcgYQlSbK7LrOuRvc2ZaczsT6fivGH6CMg=k-s128", "display_name": "Luis Padron", "link": "https://stackoverflow.com/users/12379065/luis-padron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576700851, "creation_date": 1576700851, "question_id": 59399544, "link": "https://stackoverflow.com/questions/59399544/angular-firebase-get-data-in-observable-in-value-changes", "title": "Angular &amp; Firebase get data in observable in value changes", "body": "<p>Problem with got data correctly execute function many one times, these function is execute in ngOnInit one time with abstraction but i dont know ocurrs these problem in a server, i thing in snapshotChanges but i don't know.</p>\n\n<p>thx for help</p>\n\n<p><a href=\"https://i.stack.imgur.com/EinQg.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EinQg.png</a></p>\n\n<pre><code>return &lt;Observable&lt;Products[]&gt;&gt; t.db.collection(PATHS_FIRESTORE.products).snapshotChanges()\n    .pipe(\n      map(actions =&gt; {\n        let arr = actions.map((res) =&gt; {                \n          let doc: any = &lt;any&gt;res.payload.doc.data()\n\n          let obj: any = {}\n\n          if (!isNullOrUndefined(cart)) {                            \n            for (const prod in cart) {                    \n                if (cart.hasOwnProperty(prod)) {\n                    const element = cart[prod];\n                    if (doc.uid === prod) {\n                        obj[doc.uid] = {\n                            name_product: doc.name_product,\n                            path_img: doc.path_img,\n                            price: doc.price,\n                            quantity: doc.quantity + element.total,\n                            uid: doc.uid,\n                            uid_local: doc.uid_local\n                        }\n                    } else {\n                        t.db.collection(PATHS_FIRESTORE.products).doc(prod).ref.get().then( res =&gt; {\n                            const data = res.data()\n\n                            return obj[res.id] = {\n                                name_product: data.name_product,\n                                path_img: data.path_img,\n                                price: data.price,\n                                quantity: element.total,\n                                uid: doc.uid,\n                                uid_local: doc.uid_local\n                            }\n                        })\n                    }                        \n                }\n                console.log(obj)\n            }\n            return obj\n          }else {\n            obj = {                  \n                ...doc\n            }\n\n            return obj\n          }\n        })\n        .filter((b: any) =&gt; {\n            return b.uid_local === uid_local\n        })\n        .filter((b: any) =&gt; {                \n            return b.quantity &gt; 0\n        })\n        .filter((b: any) =&gt; {\n            return !b.status \n        })\n\n        console.log(arr)\n\n        return arr\n      })\n    )\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "comparison"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 1, "creation_date": 1576700419, "post_id": 59399413, "comment_id": 104988039, "body": "Maybe see <a href=\"https://stackoverflow.com/questions/7223359/are-0-and-0-the-same\"><i>Are +0 and -0 the same?</i></a>."}], "answers": [{"tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": true, "score": 1, "last_activity_date": 1576700348, "creation_date": 1576700348, "answer_id": 59399444, "question_id": 59399413, "link": "https://stackoverflow.com/questions/59399413/why-is-the-n-0-used-as-0-0-and-0-0-are-both-true/59399444#59399444", "title": "Why is the `n===0` used, as `-0===0` and `0===0` are both true?", "body": "<p>It\u2019s always going to be true <em>for zero</em>. You want <code>isNegZero(n)</code> to not only be false for <code>+0</code>, but also for any number that is not zero.</p>\n\n<pre><code>&gt; let n = -Number.MIN_VALUE\n&gt; n === 0\nfalse\n&gt; 1 / n === -Infinity\ntrue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 1191482, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1198ea910d6fe012baa24f376af91de7?s=128&d=identicon&r=PG", "display_name": "Eyowzitgoin", "link": "https://stackoverflow.com/users/1191482/eyowzitgoin"}, "is_accepted": false, "score": 0, "last_activity_date": 1576700480, "creation_date": 1576700480, "answer_id": 59399469, "question_id": 59399413, "link": "https://stackoverflow.com/questions/59399413/why-is-the-n-0-used-as-0-0-and-0-0-are-both-true/59399469#59399469", "title": "Why is the `n===0` used, as `-0===0` and `0===0` are both true?", "body": "<p>The return value is the two comparisons '&amp;&amp;'ed together. Since it short circuits, if any number outside of 0 or -0 is passed, it will run the first comparison and then return false without ever needing to look at the second.</p>\n"}], "owner": {"reputation": 5, "user_id": 5452131, "user_type": "registered", "profile_image": "https://graph.facebook.com/996890520362625/picture?type=large", "display_name": "Shreyas Wade", "link": "https://stackoverflow.com/users/5452131/shreyas-wade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 59399444, "answer_count": 2, "score": 0, "last_activity_date": 1576700480, "creation_date": 1576700117, "question_id": 59399413, "link": "https://stackoverflow.com/questions/59399413/why-is-the-n-0-used-as-0-0-and-0-0-are-both-true", "title": "Why is the `n===0` used, as `-0===0` and `0===0` are both true?", "body": "<pre><code>function isNegZero(n) {\n    n = Number( n );\n    return (n === 0) &amp;&amp; (1 / n === -Infinity);\n}\n</code></pre>\n\n<p>I am reading the book <code>You don't know JS</code> and found this piece of code there. This is the function to check if the passes number is a <strong>-0</strong>. I failed to understand as to why the first condition in the comparison is mentioned as it is always going to be true (unless I am wrong in understanding it). Please help.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 11506347, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QSpaydGP--c/AAAAAAAAAAI/AAAAAAAAAAc/JYwjEB_s6gc/photo.jpg?sz=128", "display_name": "Eric Smith", "link": "https://stackoverflow.com/users/11506347/eric-smith"}, "edited": false, "score": 0, "creation_date": 1576704779, "post_id": 59399427, "comment_id": 104989617, "body": "Didn&#39;t work for my existing project. I get an error after Starting the development server..."}, {"owner": {"reputation": 3580, "user_id": 11065828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb2cc4242b5681467e0438b65696600?s=128&d=identicon&r=PG&f=1", "display_name": "kooskoos", "link": "https://stackoverflow.com/users/11065828/kooskoos"}, "reply_to_user": {"reputation": 83, "user_id": 11506347, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QSpaydGP--c/AAAAAAAAAAI/AAAAAAAAAAc/JYwjEB_s6gc/photo.jpg?sz=128", "display_name": "Eric Smith", "link": "https://stackoverflow.com/users/11506347/eric-smith"}, "edited": false, "score": 0, "creation_date": 1576706638, "post_id": 59399427, "comment_id": 104990257, "body": "It will work for a new project. Can you tell us the error?"}, {"owner": {"reputation": 83, "user_id": 11506347, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QSpaydGP--c/AAAAAAAAAAI/AAAAAAAAAAc/JYwjEB_s6gc/photo.jpg?sz=128", "display_name": "Eric Smith", "link": "https://stackoverflow.com/users/11506347/eric-smith"}, "edited": false, "score": 0, "creation_date": 1576857711, "post_id": 59399427, "comment_id": 105042270, "body": "My project breaks when I bump react-scripts from 3.2.0 -&gt; 3.3.0. I get &quot;Allocation failed - JavaScript heap out of memory&quot;."}], "tags": [], "owner": {"reputation": 3580, "user_id": 11065828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb2cc4242b5681467e0438b65696600?s=128&d=identicon&r=PG&f=1", "display_name": "kooskoos", "link": "https://stackoverflow.com/users/11065828/kooskoos"}, "is_accepted": true, "score": 1, "last_activity_date": 1576700209, "creation_date": 1576700209, "answer_id": 59399427, "question_id": 59399404, "link": "https://stackoverflow.com/questions/59399404/how-to-add-typescript-3-7-optional-chaining-support-to-create-react-app-project/59399427#59399427", "title": "How to add TypeScript 3.7 Optional Chaining support to create react app project", "body": "<p>Try this</p>\n\n<pre><code>npm install -s react-scripts@next\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 11506347, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QSpaydGP--c/AAAAAAAAAAI/AAAAAAAAAAc/JYwjEB_s6gc/photo.jpg?sz=128", "display_name": "Eric Smith", "link": "https://stackoverflow.com/users/11506347/eric-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 59399427, "answer_count": 1, "score": 0, "last_activity_date": 1576705440, "creation_date": 1576700067, "last_edit_date": 1576705440, "question_id": 59399404, "link": "https://stackoverflow.com/questions/59399404/how-to-add-typescript-3-7-optional-chaining-support-to-create-react-app-project", "title": "How to add TypeScript 3.7 Optional Chaining support to create react app project", "body": "<p>I want the latest features of TypeScript 3.7 in my create-react-app project. Such as optional chaining and nullish coalescing.</p>\n\n<p>I tried creating an entire new project using:</p>\n\n<pre><code>npx create-react-app my-app --template typescript\n</code></pre>\n\n<p>And it worked, but I still can't figure out how to get it to work in my existing project.</p>\n\n<p>How do I add support for this to my current existing project?</p>\n"}, {"tags": ["typescript", "visual-studio", "visual-studio-code", "intellisense"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12447597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6HxIb.png?s=128&g=1", "display_name": "MKperson", "link": "https://stackoverflow.com/users/12447597/mkperson"}, "is_accepted": false, "score": 0, "last_activity_date": 1576707181, "creation_date": 1576707181, "answer_id": 59400670, "question_id": 59399351, "link": "https://stackoverflow.com/questions/59399351/visual-studio-2019-not-showing-typescript-intellisence/59400670#59400670", "title": "Visual Studio 2019: Not showing Typescript Intellisence", "body": "<p>I would check the Extensions->Manage Extensions and look in the Visual Studio marketplace.\nthe only alternitve I can think of at the moment is if your project started outside of Visual Studio 2019 you have a missing reference somewhere not allowing for intellisence.\nWithout more information, all I can give are suggestions to try.</p>\n"}, {"tags": [], "owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1576755772, "creation_date": 1576755772, "answer_id": 59409092, "question_id": 59399351, "link": "https://stackoverflow.com/questions/59399351/visual-studio-2019-not-showing-typescript-intellisence/59409092#59409092", "title": "Visual Studio 2019: Not showing Typescript Intellisence", "body": "<blockquote>\n  <p>Visual Studio 2019: Not showing Typescript Intellisence</p>\n</blockquote>\n\n<p>1.For now, the default Typescript SDK is <code>3.6</code>, so if you have early SDK versions like <code>2.x</code>, I suggest you install corresponding TypeScript SDK extensions <a href=\"https://marketplace.visualstudio.com/search?term=typescript%20intellisense&amp;target=VS&amp;category=All%20categories&amp;vsVersion=vs2019&amp;sortBy=Relevance\" rel=\"nofollow noreferrer\">here</a>. And according to <a href=\"https://github.com/Microsoft/JSTSdocs/blob/master/articles/troubleshooting/index.md#enable-detailed-language-service-logging\" rel=\"nofollow noreferrer\">this document</a>:</p>\n\n<p><em>If your TypeScript version is less than 3.1, please Disable dedicated syntax process under Tools > Options > Text Editor > JavaScript/TypeScript > Language Service and restart Visual Studio (from the same command prompt).</em></p>\n\n<p>You can follow it if the TS version you use is less than 3.1.</p>\n\n<p>2.Or you can try updating to TS 3.6 which is default in VS2019.</p>\n\n<p><strong>Note:</strong> Please make sure you're opening the Solution/Project instead of single typescript file.</p>\n"}], "owner": {"reputation": 60380, "user_id": 172861, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b64b4df7e1c9ca6fd953fd8a9a5c82b?s=128&d=identicon&r=PG", "display_name": "Ian Vink", "link": "https://stackoverflow.com/users/172861/ian-vink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1747, "favorite_count": 0, "accepted_answer_id": 59409092, "answer_count": 2, "score": 2, "last_activity_date": 1576755772, "creation_date": 1576699783, "question_id": 59399351, "link": "https://stackoverflow.com/questions/59399351/visual-studio-2019-not-showing-typescript-intellisence", "title": "Visual Studio 2019: Not showing Typescript Intellisence", "body": "<p>In VS 2019, when I hover I get no help:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OnLFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OnLFH.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, in Visual Studio Code I get rich help:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1DAZi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1DAZi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there a way to enable more help in Visual Studio 2019 ?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "edited": false, "score": 0, "creation_date": 1576699971, "post_id": 59399311, "comment_id": 104987870, "body": "You have run the npm command? <code>npm install --save @types&#47;googlemaps</code>"}, {"owner": {"reputation": 620, "user_id": 9901630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VqjE7.jpg?s=128&g=1", "display_name": "nullptr.t", "link": "https://stackoverflow.com/users/9901630/nullptr-t"}, "edited": false, "score": 0, "creation_date": 1576700447, "post_id": 59399311, "comment_id": 104988049, "body": "Have you tried using HTTPS? <code>&quot;https:&#47;&#47;maps.googleapis.com...</code>"}, {"owner": {"reputation": 583, "user_id": 2797177, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/21837d24c420325c8605ebfbb35c0051?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Jazdzewski", "link": "https://stackoverflow.com/users/2797177/joe-jazdzewski"}, "edited": false, "score": 0, "creation_date": 1576700704, "post_id": 59399311, "comment_id": 104988136, "body": "according to the documents for the <a href=\"https://www.npmjs.com/package/@google/maps\" rel=\"nofollow noreferrer\">@google/maps</a> package. you will need to install <code>npm install @types&#47;google__maps</code> you will need the double _"}, {"owner": {"reputation": 9, "user_id": 12275792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521c4732c0e4544107797b5906129883?s=128&d=identicon&r=PG&f=1", "display_name": "ckim990", "link": "https://stackoverflow.com/users/12275792/ckim990"}, "reply_to_user": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "edited": false, "score": 0, "creation_date": 1576701811, "post_id": 59399311, "comment_id": 104988522, "body": "@daddygames Yes, I have already run the command previously."}, {"owner": {"reputation": 9, "user_id": 12275792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521c4732c0e4544107797b5906129883?s=128&d=identicon&r=PG&f=1", "display_name": "ckim990", "link": "https://stackoverflow.com/users/12275792/ckim990"}, "reply_to_user": {"reputation": 620, "user_id": 9901630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VqjE7.jpg?s=128&g=1", "display_name": "nullptr.t", "link": "https://stackoverflow.com/users/9901630/nullptr-t"}, "edited": false, "score": 0, "creation_date": 1576701882, "post_id": 59399311, "comment_id": 104988555, "body": "@nullptr.t Yes, I have already tried using HTTPS."}, {"owner": {"reputation": 9, "user_id": 12275792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521c4732c0e4544107797b5906129883?s=128&d=identicon&r=PG&f=1", "display_name": "ckim990", "link": "https://stackoverflow.com/users/12275792/ckim990"}, "reply_to_user": {"reputation": 583, "user_id": 2797177, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/21837d24c420325c8605ebfbb35c0051?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Jazdzewski", "link": "https://stackoverflow.com/users/2797177/joe-jazdzewski"}, "edited": false, "score": 0, "creation_date": 1576701919, "post_id": 59399311, "comment_id": 104988563, "body": "@JoeJazdzewski I ran the command you gave me but nothing has really changed."}, {"owner": {"reputation": 583, "user_id": 2797177, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/21837d24c420325c8605ebfbb35c0051?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Jazdzewski", "link": "https://stackoverflow.com/users/2797177/joe-jazdzewski"}, "edited": false, "score": 0, "creation_date": 1576709075, "post_id": 59399311, "comment_id": 104991077, "body": "can you add your package.json file?"}, {"owner": {"reputation": 583, "user_id": 2797177, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/21837d24c420325c8605ebfbb35c0051?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Jazdzewski", "link": "https://stackoverflow.com/users/2797177/joe-jazdzewski"}, "edited": false, "score": 0, "creation_date": 1576710175, "post_id": 59399311, "comment_id": 104991411, "body": "did you restart your application?"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1576710564, "post_id": 59399311, "comment_id": 104991527, "body": "Post your tsconfig.app"}, {"owner": {"reputation": 1721, "user_id": 7561063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e85f88d7948998c821283bc67082c9?s=128&d=identicon&r=PG&f=1", "display_name": "Allabakash", "link": "https://stackoverflow.com/users/7561063/allabakash"}, "edited": false, "score": 0, "creation_date": 1576745337, "post_id": 59399311, "comment_id": 105000155, "body": "try adding <b>declare var google;</b> above AboutMeComponent"}], "owner": {"reputation": 9, "user_id": 12275792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521c4732c0e4544107797b5906129883?s=128&d=identicon&r=PG&f=1", "display_name": "ckim990", "link": "https://stackoverflow.com/users/12275792/ckim990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2526, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576745278, "creation_date": 1576699598, "last_edit_date": 1576743611, "question_id": 59399311, "link": "https://stackoverflow.com/questions/59399311/error-referenceerror-google-is-not-defined-angular-8", "title": "ERROR ReferenceError: google is not defined Angular 8", "body": "<p>I am using Angular 8 and have been trying to get the Google Maps API to function. The error I get in the console is <code>ERROR ReferenceError: google is not defined</code>. I have proofread over my code a myriad of times. I've already changed the double quote on the URL for the API. The guides I followed were: </p>\n\n<p><a href=\"https://medium.com/@jkeung/integrating-google-maps-api-w-angular-7-e7672396ce2d\" rel=\"nofollow noreferrer\">https://medium.com/@jkeung/integrating-google-maps-api-w-angular-7-e7672396ce2d</a> and <a href=\"https://medium.com/@balramchavan/integrating-google-maps-in-angular-5-ca5f68009f29\" rel=\"nofollow noreferrer\">https://medium.com/@balramchavan/integrating-google-maps-in-angular-5-ca5f68009f29</a>.</p>\n\n<p>The following section is the code I used to modify the files.</p>\n\n<hr>\n\n<p>HTML component file:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script src=\"http://maps.googleapis.com/maps/api/js?key=(The API key I used went here)\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Component TypeScript File:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { ViewChild } from '@angular/core';\nimport {} from 'googlemaps';\n\n@Component({\n    selector: 'app-about-me',\n    templateUrl: './about-me.component.html',\n    styleUrls: ['./about-me.component.scss']\n})\nexport class AboutMeComponent implements OnInit {\n    @ViewChild('map', { static: true }) mapElement: any;\n    map: google.maps.Map;\n\n    constructor() {\n    }\n\n    ngOnInit(): void {\n        const mapProperties = {\n            center: new google.maps.LatLng(35.2271, -80.8431),\n            zoom: 15,\n            mapTypeId: google.maps.MapTypeId.ROADMAP\n        };\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapProperties);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The <code>index.d.ts</code> file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare module 'googlemaps';\n</code></pre>\n\n<hr>\n\n<p>Package.json</p>\n\n<pre><code>{\n  \"name\": \"my-angular-site\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"~8.2.4\",\n    \"@angular/common\": \"~8.2.4\",\n    \"@angular/compiler\": \"~8.2.4\",\n    \"@angular/core\": \"~8.2.4\",\n    \"@angular/forms\": \"~8.2.4\",\n    \"@angular/platform-browser\": \"~8.2.4\",\n    \"@angular/platform-browser-dynamic\": \"~8.2.4\",\n    \"@angular/router\": \"~8.2.4\",\n    \"@types/jest\": \"^24.0.23\",\n    \"bulma\": \"^0.7.5\",\n    \"rxjs\": \"~6.4.0\",\n    \"tslib\": \"^1.10.0\",\n    \"zone.js\": \"~0.9.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.803.3\",\n    \"@angular/cli\": \"~8.3.3\",\n    \"@angular/compiler-cli\": \"~8.2.4\",\n    \"@angular/language-service\": \"~8.2.4\",\n    \"@fortawesome/fontawesome-free\": \"^5.11.2\",\n    \"@types/googlemaps\": \"^3.38.1\",\n    \"@types/node\": \"~8.9.4\",\n    \"bootstrap\": \"^4.3.1\",\n    \"jquery\": \"^3.4.1\",\n    \"ts-node\": \"~7.0.0\",\n    \"tslint\": \"~5.15.0\",\n    \"typescript\": \"~3.5.3\"\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>tsconfig.app.json</p>\n\n<pre><code>{\n\"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/app\",\n    \"types\": [\n      \"googlemaps\"\n    ]\n  },\n  \"files\": [\n    \"src/main.ts\",\n    \"src/polyfills.ts\"\n  ],\n  \"include\": [\n    \"src/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"src/test.ts\",\n    \"src/**/*.spec.ts\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "auth0", "ngx-translate"], "answers": [{"tags": [], "owner": {"reputation": 368, "user_id": 11330475, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DExzp0VEWyI/AAAAAAAAAAI/AAAAAAAAABg/xdpfPouZe24/photo.jpg?sz=128", "display_name": "Coding Morrison", "link": "https://stackoverflow.com/users/11330475/coding-morrison"}, "is_accepted": false, "score": 0, "last_activity_date": 1577460039, "creation_date": 1577460039, "answer_id": 59502721, "question_id": 59399193, "link": "https://stackoverflow.com/questions/59399193/error-with-ngx-translate-and-auth0-authentication/59502721#59502721", "title": "Error with ngx-translate and Auth0 authentication", "body": "<p>I work with the Auth0 Community. This doesn't sound directly related to Auth0 as it sounds like you are successfully confirming your state/session. I'm not 100% familiar with NGX Translate but I did find a tutorial on this front that may help you out. I apologize I can't provide more insight on this front.</p>\n\n<p><a href=\"https://www.codeandweb.com/babeledit/tutorials/how-to-translate-your-angular8-app-with-ngx-translate\" rel=\"nofollow noreferrer\">https://www.codeandweb.com/babeledit/tutorials/how-to-translate-your-angular8-app-with-ngx-translate</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12560881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6078d7a2f19e9fd75e40f798df8d9703?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu Giguere", "link": "https://stackoverflow.com/users/12560881/mathieu-giguere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577460039, "creation_date": 1576699037, "last_edit_date": 1576699147, "question_id": 59399193, "link": "https://stackoverflow.com/questions/59399193/error-with-ngx-translate-and-auth0-authentication", "title": "Error with ngx-translate and Auth0 authentication", "body": "<p>I made a project in Angular 8 and included both ngx-translate (<a href=\"https://github.com/ngx-translate/core\" rel=\"nofollow noreferrer\">https://github.com/ngx-translate/core</a>) and a login using Auth0 (<a href=\"https://auth0.com/docs/quickstart/spa/angular2/01-login#install-the-sdk\" rel=\"nofollow noreferrer\">https://auth0.com/docs/quickstart/spa/angular2/01-login#install-the-sdk</a>). They work well separately but I have an odd error when they are together. </p>\n\n<p>I get this error for each translated text of html in my project in console.</p>\n\n<pre><code>core.js:6014 ERROR \n{error: \"login_required\", error_description: \"Login required\", state: \"aGNHczdqZTRjMzFTM3ZtWnpIOS1kQjdXaXV2dktyVW94ZkdsYm5KVGhRSA==\"}\nerror: \"login_required\"\nerror_description: \"Login required\"\nstate: \"aGNHczdqZTRjMzFTM3ZtWnpIOS1kQjdXaXV2dktyVW94ZkdsYm5KVGhRSA==\"\n__proto__: Object\n</code></pre>\n\n<p>When I comment the provider in my app.module.ts of the Interceptor I made to add the token in my backend requests the translation works well and everything is fine. But then my token won't be sent to the backend for my requests.</p>\n\n<pre><code>providers: [\n    // {\n    //   provide: HTTP_INTERCEPTORS,\n    //   useClass: InterceptorService,\n    //   multi: true\n    // }\n  ]\n</code></pre>\n\n<p>And when I comment the default language in my AppComponent I have no more errors the token is sent to the backend in my requests. But then I dont see the text in my frontend because its not translated.</p>\n\n<pre><code>export class AppComponent {  \n  constructor(public translate: TranslateService) {\n    // translate.setDefaultLang('en');\n  }\n}\n</code></pre>\n\n<p>At first the error seems to indicate that I'm not logged in, but it does the same thing when I log in.</p>\n\n<p>Here is the code of my Interceptor class</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { mergeMap, catchError } from 'rxjs/operators';\nimport { AuthService } from './authentication/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InterceptorService implements HttpInterceptor {\n\n  constructor(private authService: AuthService) { }\n\n  public intercept(\n    req: HttpRequest&lt;any&gt;,\n    next: HttpHandler\n  ): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    return this.authService.getTokenSilently$().pipe(\n      mergeMap(token =&gt; {\n        const tokenReq = req.clone({\n          setHeaders: { Authorization: `Bearer ${token}` }\n        });\n        return next.handle(tokenReq);\n      }),\n      catchError(err =&gt; throwError(err))\n    );\n  }\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1576698653, "post_id": 59399089, "comment_id": 104987359, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/34140847/angular2-disable-button-if-no-checkbox-selected\">Angular2, disable button if no checkbox selected</a>"}, {"owner": {"reputation": 442, "user_id": 10316412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad70ef20b46e67b047bd31c40feaa0?s=128&d=identicon&r=PG&f=1", "display_name": "masu9", "link": "https://stackoverflow.com/users/10316412/masu9"}, "edited": false, "score": 0, "creation_date": 1576698712, "post_id": 59399089, "comment_id": 104987377, "body": "I&#39;ll get you started with some hints. This is all available in the documentation. [disabled] will control if the button is disabled or not, and you can have validation on the checkbox by using Form Controls. <a href=\"https://angular.io/guide/form-validation\" rel=\"nofollow noreferrer\">angular.io/guide/form-validation</a>"}, {"owner": {"reputation": 61, "user_id": 12471135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_KInMN0VtBI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfH1UahLdXFT6cpzxdAIZQMGjZHw/photo.jpg?sz=128", "display_name": "Paul Sartre", "link": "https://stackoverflow.com/users/12471135/paul-sartre"}, "edited": false, "score": 1, "creation_date": 1576703454, "post_id": 59399089, "comment_id": 104989119, "body": "But it is not a form"}, {"owner": {"reputation": 61, "user_id": 12471135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_KInMN0VtBI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfH1UahLdXFT6cpzxdAIZQMGjZHw/photo.jpg?sz=128", "display_name": "Paul Sartre", "link": "https://stackoverflow.com/users/12471135/paul-sartre"}, "edited": false, "score": 1, "creation_date": 1576704287, "post_id": 59399089, "comment_id": 104989399, "body": "The Angular2 doesn&#39;t answer my question because he has multiples checkboxes. I want to do it only for 2 different inputs"}, {"owner": {"reputation": 178, "user_id": 9124526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4c8359a32044391dc4be9b5482b16a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/9124526/mike"}, "edited": false, "score": 1, "creation_date": 1576704428, "post_id": 59399089, "comment_id": 104989463, "body": "This is different question."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 12471135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_KInMN0VtBI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfH1UahLdXFT6cpzxdAIZQMGjZHw/photo.jpg?sz=128", "display_name": "Paul Sartre", "link": "https://stackoverflow.com/users/12471135/paul-sartre"}, "edited": false, "score": 1, "creation_date": 1576703696, "post_id": 59399337, "comment_id": 104989198, "body": "So I want it enabled once both boxes are checked, this disables the button when you click on check."}, {"owner": {"reputation": 428, "user_id": 2625393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944a6366e18a703c5a1998fbbc8070b2?s=128&d=identicon&r=PG&f=1", "display_name": "Numichi", "link": "https://stackoverflow.com/users/2625393/numichi"}, "reply_to_user": {"reputation": 61, "user_id": 12471135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_KInMN0VtBI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfH1UahLdXFT6cpzxdAIZQMGjZHw/photo.jpg?sz=128", "display_name": "Paul Sartre", "link": "https://stackoverflow.com/users/12471135/paul-sartre"}, "edited": false, "score": 1, "creation_date": 1576736515, "post_id": 59399337, "comment_id": 104996876, "body": "You&#39;re right. I corrected. :) Bool logic was reverse."}], "tags": [], "owner": {"reputation": 428, "user_id": 2625393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944a6366e18a703c5a1998fbbc8070b2?s=128&d=identicon&r=PG&f=1", "display_name": "Numichi", "link": "https://stackoverflow.com/users/2625393/numichi"}, "is_accepted": true, "score": 3, "last_activity_date": 1576736738, "last_edit_date": 1576736738, "creation_date": 1576699723, "answer_id": 59399337, "question_id": 59399089, "link": "https://stackoverflow.com/questions/59399089/disable-button-unless-checkbox-is-checked-angular-7/59399337#59399337", "title": "Disable button unless checkbox is checked (Angular 7+)?", "body": "<p>For example: <a href=\"https://stackoverflow.com/questions/40214655/angular-2-checkbox-two-way-data-binding\">Angular 2 Checkbox Two Way Data Binding</a>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class FooComponenet {\n   checkbox1 = false; // bind first checkbox\n   checkbox2 = false; // another checkbox\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- or use (change)=\"methodName()\" --&gt;\n&lt;input type=\"checkbox\" [checked]=\"checkbox1\" (change)=\"checkbox1 = !checkbox1\"/&gt;\n&lt;input type=\"checkbox\" [checked]=\"checkbox2\" (change)=\"checkbox2 = !checkbox2\"/&gt;\n\n&lt;button [disabled]=\"!checkbox1 || !checkbox2\"&gt;Bar&lt;/button&gt;\n\n&lt;!-- or this --&gt;\n&lt;button [attr.disabled]=\"!checkbox1 || !checkbox2\"&gt;Bar&lt;/button&gt;\n</code></pre>\n\n<p>You can use too:</p>\n\n<ul>\n<li>Template-Driven (<a href=\"https://angular.io/guide/forms\" rel=\"nofollow noreferrer\">https://angular.io/guide/forms</a>) or Reactive forms (<a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">https://angular.io/guide/reactive-forms</a>)</li>\n<li>Form validator (<a href=\"https://angular.io/guide/form-validation\" rel=\"nofollow noreferrer\">https://angular.io/guide/form-validation</a>)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8395657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd68b71fdf236e07801296808b93d28f?s=128&d=identicon&r=PG", "display_name": "user8395657", "link": "https://stackoverflow.com/users/8395657/user8395657"}, "is_accepted": false, "score": 0, "last_activity_date": 1577158644, "creation_date": 1577158644, "answer_id": 59463555, "question_id": 59399089, "link": "https://stackoverflow.com/questions/59399089/disable-button-unless-checkbox-is-checked-angular-7/59463555#59463555", "title": "Disable button unless checkbox is checked (Angular 7+)?", "body": "<p>Disabling the form button until your checkbox is checked used required attribute to tell DOM that this field is required and use disabled property to disable the button.\nBelow is the example</p>\n\n<pre><code> &lt;form #myform=\"ngForm\"&gt;\n     &lt;div class=\"md-input-group md-checkbox md-input--nested-1\"&gt;\n        &lt;input type=\"checkbox\" class=\"md-input md-checkbox__input\" id=\"checkboxNested1\" name=\"checkboxNested1\" **required**&gt;\n          &lt;label style=\"margin-left: -30px;\" class=\"md-checkbox__label\" for=\"checkboxNested1\"&gt;\n            &lt;p&gt;Checkbox 1&lt;/p&gt;\n          &lt;/label&gt;\n        &lt;/div&gt;\n      &lt;div class=\"md-input-group md-checkbox md-input--nested-1\"&gt;\n      &lt;input type=\"checkbox\" class=\"md-input md-checkbox__input\" id=\"checkboxNested1\" name=\"checkboxNested1\" required&gt;\n      &lt;label style=\"margin-left: -30px;\" class=\"md-checkbox__label\" for=\"checkboxNested1\" &gt;\n        &lt;p&gt;Checkbox 2&lt;/p&gt;\n      &lt;/label&gt;\n    &lt;/div&gt;\n     &lt;button class=\"md-button\" md-button color=\"red\" aria-label=\"delete\" [disabled]=\"!myform.valid\"&gt;Delete organization&lt;/button&gt;\n\n    &lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 12471135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_KInMN0VtBI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfH1UahLdXFT6cpzxdAIZQMGjZHw/photo.jpg?sz=128", "display_name": "Paul Sartre", "link": "https://stackoverflow.com/users/12471135/paul-sartre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2683, "favorite_count": 0, "accepted_answer_id": 59399337, "answer_count": 2, "score": 2, "last_activity_date": 1577158644, "creation_date": 1576698322, "last_edit_date": 1576704115, "question_id": 59399089, "link": "https://stackoverflow.com/questions/59399089/disable-button-unless-checkbox-is-checked-angular-7", "title": "Disable button unless checkbox is checked (Angular 7+)?", "body": "<p>I want to button to be disabled unless all checkboxes have been checked? How do you implement this in Angular? </p>\n\n<p>This is different because it is not a form and this question has not been answered, since there is no for loop.</p>\n\n<pre><code>    &lt;div class=\"md-input-group md-checkbox md-input--nested-1\"&gt;\n      &lt;input type=\"checkbox\" class=\"md-input md-checkbox__input\" id=\"checkboxNested1\" name=\"checkboxNested1\"&gt;\n      &lt;label style=\"margin-left: -30px;\" class=\"md-checkbox__label\" for=\"checkboxNested1\"&gt;\n        &lt;p&gt;Checkbox 1&lt;/p&gt;\n      &lt;/label&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"md-input-group md-checkbox md-input--nested-1\"&gt;\n      &lt;input type=\"checkbox\" class=\"md-input md-checkbox__input\" id=\"checkboxNested1\" name=\"checkboxNested1\"&gt;\n      &lt;label style=\"margin-left: -30px;\" class=\"md-checkbox__label\" for=\"checkboxNested1\"&gt;\n        &lt;p&gt;Checkbox 2&lt;/p&gt;\n      &lt;/label&gt;\n    &lt;/div&gt;\n\n   &lt;button class=\"md-button\" md-button color=\"red\" aria-label=\"delete\"&gt;Delete organization&lt;/button&gt;\n\n\n</code></pre>\n"}, {"tags": ["arrays", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 5974780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db181de522cb3dcfcddaeb95fa2925a3?s=128&d=identicon&r=PG&f=1", "display_name": "Nesan Mano", "link": "https://stackoverflow.com/users/5974780/nesan-mano"}, "is_accepted": false, "score": 0, "last_activity_date": 1576696759, "creation_date": 1576696759, "answer_id": 59398767, "question_id": 59398662, "link": "https://stackoverflow.com/questions/59398662/i-have-a-problem-with-a-subtraction-of-a-quantity-using-an-object-x-from-array-1/59398767#59398767", "title": "I have a problem with a subtraction of a Quantity using an Object X from Array 1 and Object Y of Array 2", "body": "<p>Your problem is data structure. </p>\n\n<p><code>data2 = data1;</code> This piece of code does not create 2 arrays. </p>\n\n<p>Data2 is also pointing on that was initially pointed by Data1. In order to have 2 arrays, you must create an array and insert all the content from array1.</p>\n\n<p>You should instead do this:</p>\n\n<pre><code>const data2= Object.assign([], data1);\n</code></pre>\n\n<p>Now you will have a clone.</p>\n"}, {"comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576697397, "post_id": 59398787, "comment_id": 104986806, "body": "I would suggest <code>data2 = data1.map(r=&gt;{ return {...r}})</code>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576697426, "post_id": 59398787, "comment_id": 104986822, "body": "@Eldar that wouldn&#39;t work: you would have two arrays, but holding the same objects."}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576697637, "post_id": 59398787, "comment_id": 104986902, "body": "@Eldar As per my understanding this will work only for arrays. <code>JSON.parse(JSON.stringify(obj);</code> is more generic and can clone almost every object. (of course without methods)"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1576698106, "post_id": 59398787, "comment_id": 104987112, "body": "@JBNizet is right my first snippet was wrong. And for the <code>JSON.parse</code> @Plochie i think there are reasons behind that some libraries exposes methods named <code>deepClone</code>"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576698283, "post_id": 59398787, "comment_id": 104987187, "body": "@Eldar can u please elaborate. I know in this way you can only clone the state of object and not everything in it. But as far the data cloning goes, do u think this creates problem and in what scenarios?"}, {"owner": {"reputation": 25, "user_id": 11693284, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R7hAHsEoc_M/AAAAAAAAAAI/AAAAAAAAA-I/yzA4n5mo7RQ/photo.jpg?sz=128", "display_name": "Gerall Rosales B", "link": "https://stackoverflow.com/users/11693284/gerall-rosales-b"}, "edited": false, "score": 0, "creation_date": 1576698380, "post_id": 59398787, "comment_id": 104987231, "body": "Thanks so much, i need to learn more TypeScript :c, thanks for you&#39;re time."}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576699220, "post_id": 59398787, "comment_id": 104987566, "body": "@Plochie think that data had <code>Date</code> properties. What would have been then? Check this <a href=\"https://stackblitz.com/edit/typescript-v9psc7\" rel=\"nofollow noreferrer\">stackblitz</a>"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576699594, "post_id": 59398787, "comment_id": 104987710, "body": "@Eldar agreed. this is correct. As serialisation will only work for primitive types. But here I am considering the data which OP has provided. I think the conclusion should be if object has non primitive types with functions then one should use library like lodash (deepClone), but if its simple json then this should work just fine."}], "tags": [], "owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "is_accepted": true, "score": 4, "last_activity_date": 1576697192, "last_edit_date": 1576697192, "creation_date": 1576696842, "answer_id": 59398787, "question_id": 59398662, "link": "https://stackoverflow.com/questions/59398662/i-have-a-problem-with-a-subtraction-of-a-quantity-using-an-object-x-from-array-1/59398787#59398787", "title": "I have a problem with a subtraction of a Quantity using an Object X from Array 1 and Object Y of Array 2", "body": "<p><code>data2 = data1</code> is just creating another reference for object. You are not making copy of the object <code>data1</code> here. So if you making changes to reference <code>data2</code> it will affect the object refered by <code>data1</code> (here same object).</p>\n\n<p>to create copy of object use following</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>data2 = JSON.parse(JSON.stringify(data1));\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-5hpvqc\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 11993072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd43b748e1ae74ffd6f5f975ebe0b3b8?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Raza", "link": "https://stackoverflow.com/users/11993072/ahmad-raza"}, "is_accepted": false, "score": 0, "last_activity_date": 1576698097, "creation_date": 1576698097, "answer_id": 59399041, "question_id": 59398662, "link": "https://stackoverflow.com/questions/59398662/i-have-a-problem-with-a-subtraction-of-a-quantity-using-an-object-x-from-array-1/59399041#59399041", "title": "I have a problem with a subtraction of a Quantity using an Object X from Array 1 and Object Y of Array 2", "body": "<p>If you don't want <code>data1</code> to suffer from changes in <code>data2</code>, you have to create a copy of <code>data1</code> as <code>data2</code>. You can use following method to copy <code>data1</code> into <code>data2</code>.</p>\n\n<pre><code>let data2 = JSON.parse(JSON.stringify(data1))\n</code></pre>\n\n<p>This would first stringify(JSON it) <code>data1</code>, then parse its result into <code>data2</code> so it would be identical to <code>data1</code> but not the same.</p>\n"}], "owner": {"reputation": 25, "user_id": 11693284, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R7hAHsEoc_M/AAAAAAAAAAI/AAAAAAAAA-I/yzA4n5mo7RQ/photo.jpg?sz=128", "display_name": "Gerall Rosales B", "link": "https://stackoverflow.com/users/11693284/gerall-rosales-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 59398787, "answer_count": 3, "score": 0, "last_activity_date": 1576699204, "creation_date": 1576696261, "last_edit_date": 1576699204, "question_id": 59398662, "link": "https://stackoverflow.com/questions/59398662/i-have-a-problem-with-a-subtraction-of-a-quantity-using-an-object-x-from-array-1", "title": "I have a problem with a subtraction of a Quantity using an Object X from Array 1 and Object Y of Array 2", "body": "<p>The function I use its OK but, when I try to do the subtraction both arrays gets subtracted</p>\n\n<p>Variables:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let data1 = [\n  { ProductTotalId: 30, ProductId: 30, Quantity: 50 },\n  { ProductTotalId: 31, ProductId: 29, Quantity: 20 },\n  { ProductTotalId: 32, ProductId: 28, Quantity: 30 },\n  { ProductTotalId: 33, ProductId: 27, Quantity: 30 },\n];\n\nlet Remove = [\n  { ProductTotalId: 30, ProductId: 30, Quantity: 2 },\n  { ProductTotalId: 30, ProductId: 30, Quantity: 10 },\n  { ProductTotalId: 31, ProductId: 29, Quantity: 3 },\n  { ProductTotalId: 32, ProductId: 28, Quantity: 12 },\n  { ProductTotalId: 32, ProductId: 28, Quantity: 2 },\n  { ProductTotalId: 33, ProductId: 27, Quantity: 11 },\n  { ProductTotalId: 33, ProductId: 27, Quantity: 5 },\n]\nlet data2\n</code></pre>\n\n<p>function: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>data2 = data1;\nfor (let value of data2) {\n  for (let data of Remove) {\n    if (value.ProductId === data.ProductId) {\n      value.Quantity = value.Quantity - data.Quantity;\n    }\n  }\n\n}\nconsole.log(data1);\nconsole.log(data2);\n</code></pre>\n\n<p>The error is that data1 = data2, with Quantity Subtracted, what I need is that data2 gets subtracted and data 1 shouldn't suffer any changes.</p>\n\n<p>link in Stackblitz:\n<a href=\"https://stackblitz.com/edit/typescript-u8mzii\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-u8mzii</a></p>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "layer"], "answers": [{"tags": [], "owner": {"reputation": 24, "user_id": 10158277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AYIawD2e4MQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r7GpZsRmB6k_poZK3AEU9_QCUqWQ/mo/photo.jpg?sz=128", "display_name": "Gabriel Rocha", "link": "https://stackoverflow.com/users/10158277/gabriel-rocha"}, "is_accepted": false, "score": 0, "last_activity_date": 1576698605, "creation_date": 1576698605, "answer_id": 59399123, "question_id": 59398644, "link": "https://stackoverflow.com/questions/59398644/angular-how-to-overlap-input-in-a-card-game-depending-on-who-play-the-card-fir/59399123#59399123", "title": "Angular: How to overlap input in a card game, depending on who play the card first?", "body": "<p>You can use <code>CSS</code> <code>z-index</code> property by incrementing this value as the players play their cards.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/z-index\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/z-index</a></p>\n"}], "owner": {"reputation": 57, "user_id": 11884228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c70182a350ab41abe4dcf2c237c55c44?s=128&d=identicon&r=PG&f=1", "display_name": "Shantox1407", "link": "https://stackoverflow.com/users/11884228/shantox1407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576698605, "creation_date": 1576696179, "question_id": 59398644, "link": "https://stackoverflow.com/questions/59398644/angular-how-to-overlap-input-in-a-card-game-depending-on-who-play-the-card-fir", "title": "Angular: How to overlap input in a card game, depending on who play the card first?", "body": "<p>We are currently implementing a card game. </p>\n\n<p>Following the corresponding html code to the image: </p>\n\n<pre><code>&lt;!-- Middle area for played cards. --&gt;\n&lt;div *ngIf=\"this.index &lt; 25\" fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"-5%\" style=\"width: 50%\"&gt;\n  &lt;div&gt;\n    &lt;input class=\"buttonCards\" type=\"image\" src={{playedCardsWithImage[1].imgSrc}} width=\"50%\" height=\"88%\"\n           disabled/&gt;\n  &lt;/div&gt;\n  &lt;div fxLayout=\"column\" fxLayoutGap=\"-100%\"&gt;\n    &lt;input class=\"buttonCards\" type=\"image\" src={{playedCardsWithImage[2].imgSrc}} width=\"50%\" height=\"88%\"\n           disabled/&gt;\n    &lt;input class=\"buttonCards\" type=\"image\" src={{playedCardsWithImage[0].imgSrc}} width=\"50%\" height=\"88%\"\n           disabled/&gt;\n  &lt;/div&gt;\n  &lt;div fxLayout=\"row\" fxLayoutAlign=\"center end\"&gt;\n    &lt;input class=\"buttonCards\" type=\"image\" src={{playedCardsWithImage[3].imgSrc}} width=\"50%\" height=\"88%\"\n           disabled/&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/O16E5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O16E5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Depending, on which player plays his card first, the priority of the layers should be changed. \nThat means: If the bottom player plays his card first, his card should be displayed on the bottom layer, while the left players card should be displayed one layer above and so on.</p>\n\n<p>What is a good and clean way to implement that? </p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "edited": false, "score": 0, "creation_date": 1576697347, "post_id": 59398793, "comment_id": 104986786, "body": "It worked!  Can you provide any explanation about what that does and why it is necessary?"}, {"owner": {"reputation": 181, "user_id": 781090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1c0eb27f77c30d38b97873b6571d6b4?s=128&d=identicon&r=PG", "display_name": "Ana Vinatoru", "link": "https://stackoverflow.com/users/781090/ana-vinatoru"}, "reply_to_user": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "edited": false, "score": 0, "creation_date": 1576699733, "post_id": 59398793, "comment_id": 104987777, "body": "I think it has to do with the fact that you&#39;re doing declaration and initialization in one shot. I couldn&#39;t find any docs to support this, but this post explains it pretty well: <a href=\"https://stackoverflow.com/a/51201513/781090\">stackoverflow.com/a/51201513/781090</a>"}], "tags": [], "owner": {"reputation": 181, "user_id": 781090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1c0eb27f77c30d38b97873b6571d6b4?s=128&d=identicon&r=PG", "display_name": "Ana Vinatoru", "link": "https://stackoverflow.com/users/781090/ana-vinatoru"}, "is_accepted": false, "score": 1, "last_activity_date": 1576699681, "last_edit_date": 1576699681, "creation_date": 1576696873, "answer_id": 59398793, "question_id": 59398557, "link": "https://stackoverflow.com/questions/59398557/using-state-and-includes-in-react-gives-argument-of-type-number-is-not-assigna/59398793#59398793", "title": "Using state and includes in React gives Argument of type &#39;number&#39; is not assignable to parameter of type &#39;never&#39; error", "body": "<p>Try this:</p>\n\n<pre><code>state = {\n    expandedRows: [] as any,\n};\n</code></pre>\n\n<p>However, you might want to set the type of <code>expandedRows</code> to <code>number[]</code>, since you expect indexes in there:</p>\n\n<pre><code>export interface State {\n    expandedRows: number[],\n}\nstate = {\n    expandedRows: [] as number[],\n};\n</code></pre>\n\n<p>An sounder solution without type casting would be to initialize state in the constructor:</p>\n\n<pre><code>constructor(props){\n   super(props);\n   this.state = {\n      expandedRows: [],\n   };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "edited": false, "score": 0, "creation_date": 1576777460, "post_id": 59399771, "comment_id": 105016541, "body": "This is really the best solution, because it uses the interface that was defined above, preventing redundancy."}], "tags": [], "owner": {"reputation": 7852, "user_id": 151501, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/683a141d68d8eb1e83f4e6669d501c49?s=128&d=identicon&r=PG", "display_name": "sylvanaar", "link": "https://stackoverflow.com/users/151501/sylvanaar"}, "is_accepted": true, "score": 1, "last_activity_date": 1576702086, "creation_date": 1576702086, "answer_id": 59399771, "question_id": 59398557, "link": "https://stackoverflow.com/questions/59398557/using-state-and-includes-in-react-gives-argument-of-type-number-is-not-assigna/59399771#59399771", "title": "Using state and includes in React gives Argument of type &#39;number&#39; is not assignable to parameter of type &#39;never&#39; error", "body": "<p>In addition to the other good answer - you can specify the type of <code>state</code></p>\n\n<pre><code>state: State = {\n    expandedRows: [],\n};\n</code></pre>\n"}], "owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 59399771, "answer_count": 2, "score": 2, "last_activity_date": 1576702086, "creation_date": 1576695763, "question_id": 59398557, "link": "https://stackoverflow.com/questions/59398557/using-state-and-includes-in-react-gives-argument-of-type-number-is-not-assigna", "title": "Using state and includes in React gives Argument of type &#39;number&#39; is not assignable to parameter of type &#39;never&#39; error", "body": "<p>I have a React application in TypeScript with code that contains</p>\n\n<pre><code>export interface State {\n    expandedRows: any,\n}\n\nclass MyComponent extends React.Component&lt;Props, State&gt; {\n\n    state = {\n        expandedRows: [],\n    };\n\n    isExpanded = (rowId: number) =&gt; {\n        return this.state.expandedRows.includes(rowId);\n    }\n</code></pre>\n\n<p>and it emits the error <code>TypeScript error: Argument of type 'number' is not assignable to parameter of type 'never'.  TS2345</code> when I input the <code>rowId</code> variable into the <code>includes</code> method.</p>\n\n<p>I tried changing the type of expandedRows to Array, but I get the same error.  I tried removing expandedRows from the State interface, and I get the same error.  I feel like perhaps my State interface is somehow now getting assigned to <code>this.state</code>.  Or perhaps the <code>includes</code> method doesn't have a type specified for its input.  How can I resolve this issue?</p>\n"}, {"tags": ["reactjs", "typescript", "sorting", "rendering", "mui-datatable"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 12322015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90c78505502072746bd7ea4d38ebcea4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/12322015/cody"}, "edited": false, "score": 0, "creation_date": 1576854660, "post_id": 59426663, "comment_id": 105040923, "body": "Awesome, this worked! Thank you. Understand what went wrong now"}, {"owner": {"reputation": 3637, "user_id": 1766548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/290a3791bcf7b98fd924a9f1593dfef9?s=128&d=identicon&r=PG", "display_name": "John Demetriou", "link": "https://stackoverflow.com/users/1766548/john-demetriou"}, "edited": false, "score": 0, "creation_date": 1594041404, "post_id": 59426663, "comment_id": 110978939, "body": "is the returning value of render() string or JSX.Element?"}], "tags": [], "owner": {"reputation": 630, "user_id": 10069143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8SS1.png?s=128&g=1", "display_name": "Klaus", "link": "https://stackoverflow.com/users/10069143/klaus"}, "is_accepted": true, "score": 1, "last_activity_date": 1576851926, "last_edit_date": 1576851926, "creation_date": 1576851277, "answer_id": 59426663, "question_id": 59397858, "link": "https://stackoverflow.com/questions/59397858/how-can-i-sort-using-mui-datatable-using-value-instead-of-whats-in-my-custom-b/59426663#59426663", "title": "How can I sort using MUI Datatable using value, instead of what&#39;s in my custom body render?", "body": "<p>I found two little problems in your code. </p>\n\n<p>First one: The render function in <code>customFilterListOptions</code> should return a string or string[] (see documentation). \nSecond one: In the logic function of <code>filterOptions</code> it was necessary to convert <code>values</code> and <code>filters</code> to numbers before comparing them.</p>\n\n<p>If you have any questions, let me know.</p>\n\n<p>This shall work now:</p>\n\n<pre><code>import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MUIDataTable from \"mui-datatables\";\nimport { TextField, FormLabel, FormGroup } from \"@material-ui/core\";\nimport { toNumber } from \"lodash\";\n\nimport \"./styles.css\";\n\nconst TEMPERATURE_PREFIX = \"\u00b0 C\";\n\nfunction App() {\n  const columns = [\n    {\n      name: \"city\",\n      label: \"City\",\n      options: {\n        filter: true,\n        sort: false\n      }\n    },\n    {\n      name: \"temp\",\n      label: \"Temperature\",\n      options: {\n        sort: true,\n        customBodyRender: value =&gt; {\n          return value + TEMPERATURE_PREFIX;\n        },\n        filter: true,\n        filterType: \"custom\",\n        filterList: [],\n        customFilterListOptions: {\n          render: value =&gt; {\n            if (value[0] &amp;&amp; value[1]) {\n              return `Min Temp: ${value[0]}, Max Temp: ${value[1]}`;\n            } else if (value[0]) {\n              return `Min Temp: ${value[0]}`;\n            } else if (value[1]) {\n              return `Max Temp: ${value[1]}`;\n            }\n            return [];\n          },\n          update: (filterList, filterPos, index) =&gt; {\n            console.log(\n              \"customFilterListOnDelete: \",\n              filterList,\n              filterPos,\n              index\n            );\n\n            if (filterPos === 0) {\n              filterList[index].splice(filterPos, 1, \"\");\n            } else if (filterPos === 1) {\n              filterList[index].splice(filterPos, 1);\n            } else if (filterPos === -1) {\n              filterList[index] = [];\n            }\n\n            return filterList;\n          }\n        },\n        filterOptions: {\n          names: [],\n          logic(value, filters) {\n            const temperature = toNumber(\n              value.replace(TEMPERATURE_PREFIX, \"\")\n            );\n            const lower = toNumber(filters[0]);\n            const upper = toNumber(filters[1]);\n            if (lower &amp;&amp; upper) {\n              return temperature &lt; lower || temperature &gt; upper;\n            } else if (lower) {\n              return temperature &lt; lower;\n            } else if (upper) {\n              return temperature &gt; upper;\n            }\n            return false;\n          },\n          display: (filterList, onChange, index, column) =&gt; (\n            &lt;div&gt;\n              &lt;FormLabel&gt;Temperature&lt;/FormLabel&gt;\n              &lt;FormGroup row&gt;\n                &lt;TextField\n                  label=\"min\"\n                  value={filterList[index][0] || \"\"}\n                  onChange={event =&gt; {\n                    filterList[index][0] = event.target.value;\n                    onChange(filterList[index], index, column);\n                  }}\n                  style={{ width: \"45%\", marginRight: \"5%\" }}\n                /&gt;\n                &lt;TextField\n                  label=\"max\"\n                  value={filterList[index][1] || \"\"}\n                  onChange={event =&gt; {\n                    filterList[index][1] = event.target.value;\n                    onChange(filterList[index], index, column);\n                  }}\n                  style={{ width: \"45%\" }}\n                /&gt;\n              &lt;/FormGroup&gt;\n            &lt;/div&gt;\n          )\n        }\n      }\n    }\n  ];\n\n  const data = [\n    { city: \"Yonkers\", temp: 3 },\n    { city: \"Hartford\", temp: 11 },\n    { city: \"Tampa\", temp: 25 },\n    { city: \"Dallas\", temp: 30 }\n  ];\n\n  const options = {\n    filterType: \"checkbox\"\n  };\n\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;MUIDataTable\n        title={\"Employee List\"}\n        data={data}\n        columns={columns}\n        options={options}\n      /&gt;\n    &lt;/div&gt;\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<p>(<a href=\"https://codesandbox.io/s/competent-kirch-uc01b\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/competent-kirch-uc01b</a>)</p>\n"}], "owner": {"reputation": 35, "user_id": 12322015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90c78505502072746bd7ea4d38ebcea4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/12322015/cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3536, "favorite_count": 1, "accepted_answer_id": 59426663, "answer_count": 1, "score": 2, "last_activity_date": 1576851926, "creation_date": 1576692459, "question_id": 59397858, "link": "https://stackoverflow.com/questions/59397858/how-can-i-sort-using-mui-datatable-using-value-instead-of-whats-in-my-custom-b", "title": "How can I sort using MUI Datatable using value, instead of what&#39;s in my custom body render?", "body": "<p>Before implementing the custom filter options, the temperature (of type Number) was displayed as a string with the \"\u00b0 C\" appended to it, but still held the value, as it was able to be sorted accordingly (ascending and descending). After implementing the custom filter options, I am no longer able to filter based on the value but it filters based on the string that is returned from customBodyRender. For example, if I specify a minimum value as 3, values like 20 and 10 will not be returned, as it seems like it's now sorting alphanumerically. When I remove the customBodyRender, it works perfectly. </p>\n\n<p>How can I get the MUI Data table to render the way I'd like it to, while preserving the sorting of the actual value itself? I pasted the code below. Being that I'm new to react, I will continue to do more research and update the question over time.</p>\n\n<pre><code>const columns = [\n    {name: \"Temperature\", options:{\n      filter: true,\n      customBodyRender: (value) =&gt; {\n        return (value + \"\u00b0 C\")\n      },\n      filterType: 'custom',\n      filterList: [],\n      customFilterListOptions: {\n        render: value =&gt; {\n          if (value[0] &amp;&amp; value[1]) {\n            return `Min Temp: ${value[0]}, Max Temp: ${value[1]}`;\n          } else if (value[0]) {\n            return `Min Temp: ${value[0]}`;\n          } else if (value[1]) {\n            return `Max Temp: ${value[1]}`;\n          }\n          return false;\n        },\n        update: (filterList, filterPos, index) =&gt; {\n          console.log('customFilterListOnDelete: ', filterList, filterPos, index);\n\n          if (filterPos === 0) {\n            filterList[index].splice(filterPos, 1, '');\n          } else if (filterPos === 1) {\n            filterList[index].splice(filterPos, 1);\n          } else if (filterPos === -1) {\n            filterList[index] = [];\n          }\n\n          return filterList;\n        },\n      },\n      filterOptions: {\n        names: [],\n        logic(value, filters) {\n          if (filters[0] &amp;&amp; filters[1]) {\n            return (value &lt; filters[0]) || value &gt; filters[1];\n          } else if (filters[0]) {\n            return value &lt; filters[0];\n          } else if (filters[1]) {\n            return value &gt; filters[1];\n          }\n          return false;\n        },\n        display: (filterList, onChange, index, column) =&gt; (\n          &lt;div&gt;\n            &lt;FormLabel&gt;Temperature&lt;/FormLabel&gt;\n            &lt;FormGroup row&gt;\n              &lt;TextField\n                label=\"min\"\n                value={filterList[index][0] || ''}\n                onChange={event =&gt; {\n                  filterList[index][0] = event.target.value;\n                  onChange(filterList[index], index, column);\n                }}\n                style={{ width: '45%', marginRight: '5%' }}\n              /&gt;\n              &lt;TextField\n                label=\"max\"\n                value={filterList[index][1] || ''}\n                onChange={event =&gt; {\n                  filterList[index][1] = event.target.value;\n                  onChange(filterList[index], index, column);\n                }}\n                style={{ width: '45%' }}\n              /&gt;\n            &lt;/FormGroup&gt;\n          &lt;/div&gt;\n        ),\n      },\n    }}\n]\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "jasmine"], "comments": [{"owner": {"reputation": 1250, "user_id": 5706900, "user_type": "registered", "profile_image": "https://graph.facebook.com/987906877914619/picture?type=large", "display_name": "Siddharth Pal", "link": "https://stackoverflow.com/users/5706900/siddharth-pal"}, "edited": false, "score": 1, "creation_date": 1576693336, "post_id": 59397755, "comment_id": 104985146, "body": "You can always check whether you are properly subscribing to it or not by <code>tap</code> operator or by some console logging inside subscribe method."}], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576762683, "post_id": 59409031, "comment_id": 105008791, "body": "Yes I feel this might be the issue, but it still doesn&#39;t work. Is my spy correct?"}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576762954, "post_id": 59409031, "comment_id": 105008931, "body": "Update, I spied on the provider Service and it turns out for whatever reason, after the tick(), the updateProperties method isn&#39;t being called. Perhaps the spy is incorrect?"}, {"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "reply_to_user": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576762981, "post_id": 59409031, "comment_id": 105008946, "body": "On a first glance the spy for <code>ProviderService.updateProperties</code> looks fine. I personally would also mock <code>AlertService</code> methods, not knowing what&#39;s going on in there."}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576763113, "post_id": 59409031, "comment_id": 105009022, "body": "It&#39;s just a simple service that creates alerts. I&#39;m not sure if I&#39;m missing something when it comes to the observable. Should the service be mocked or is spying on it and then returning the observable good enough to execute the callback?"}, {"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "reply_to_user": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576763202, "post_id": 59409031, "comment_id": 105009065, "body": "Spying on the method and then returning the Observable is actually mocking the method."}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576763299, "post_id": 59409031, "comment_id": 105009128, "body": "Yea I thought it was. So no idea why it&#39;s not working."}, {"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "reply_to_user": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576763718, "post_id": 59409031, "comment_id": 105009351, "body": "Can you please try to replace <code>tick()</code> by <code>flush()</code>, this simulates the asynchronous passage of time for all timers in the <code>fakeAsync</code> zone, just in case <code>AlertService</code> methods also contain asynchronous code."}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576764571, "post_id": 59409031, "comment_id": 105009818, "body": "it(&#39;should enable provider&#39;, fakeAsync(() =&gt; {     spyOn(providerService, &#39;updateProperties&#39;).and.returnValue(of({       &#39;ap1.enabled&#39;: &#39;false&#39;,       &#39;api2.enabled&#39;: &#39;true&#39;,       &#39;api3.enabled&#39;: &#39;false&#39;,     }));      component.changeProviderProperty(&#39;api2&#39;, true);      flush();      fixture.detectChanges();     expect(component.providers).toEqual(&#39;hello&#39;);   }));  Theres my test, with flush, state still doesn&#39;t change."}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1576766689, "post_id": 59409031, "comment_id": 105011067, "body": "Just an update, I spied on the method providerDisplayNameToPropertyKey and found out that for whatever reason, it isn&#39;t being called."}], "tags": [], "owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "is_accepted": false, "score": 0, "last_activity_date": 1576755542, "creation_date": 1576755542, "answer_id": 59409031, "question_id": 59397755, "link": "https://stackoverflow.com/questions/59397755/testing-observable-callback-to-change-object-state/59409031#59409031", "title": "Testing Observable Callback to Change Object State", "body": "<p>The method <code>component.changeProviderProperty</code> contains asynchronous code. Because you're aware of that, you're running your test in the <code>fakeAsync</code> zone. What you're missing is a call to <code>tick</code> that simulates the asynchronous passage of time for the timers in the <code>fakeAsync</code> zone. </p>\n\n<pre><code>it('should enable provider', fakeAsync(() =&gt; {\n    ...    \n    component.changeProviderProperty('API1', true);\n    tick();\n    ...\n}));\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576766720, "creation_date": 1576692051, "last_edit_date": 1576766720, "question_id": 59397755, "link": "https://stackoverflow.com/questions/59397755/testing-observable-callback-to-change-object-state", "title": "Testing Observable Callback to Change Object State", "body": "<p>I have a service that does the following:</p>\n\n<pre><code>  updateProperties(properties: any) {\n    return this.http.put(environment.adminApiURLPrefix+'api/v1/properties', properties);\n  }\n</code></pre>\n\n<p>In my component I have two objects, providers and providerProperties. Providers contains a key value pair of API providers and their status, whilst providerProperties is the actual response that is returned back from the API (has to be stored as any subsequent requests need the entire object).</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ProviderService } from '../../services/provider.service';\nimport { Status } from 'src/app/models/status.enum';\nimport { AlertService } from 'src/app/services/alert.service';\n\n@Component({\n  selector: 'app-providers',\n  templateUrl: './providers.component.html',\n  styleUrls: ['./providers.component.scss']\n})\nexport class ProvidersComponent implements OnInit {\n\n  providers: any;\n  providerProperties: any;\n  status: Status;\n\n  constructor(private providerService: ProviderService, private alertService: AlertService) {\n    this.providers = {\n      'API1': false,\n      'API2': false,\n      'API3': false\n    }\n    this.status = Status.Loading;\n  }\n\n  ngOnInit() {\n    this.providerService.getProperties().subscribe((response: any) =&gt; {\n      this.setProviderValues(response);\n      this.status = Status.Ready;\n    },\n    error =&gt; {\n      this.alertService.error('Error');\n      this.status = Status.Error;\n    })\n  }\n\n  setProviderValues(response: any) {\n    this.providerProperties = response;\n    Object.keys(this.providers).forEach(key =&gt; {\n      let providerStatus: string = this.providerProperties[key.toLowerCase() + '.enabled'];\n      if(providerStatus == 'true' || providerStatus == 'false') {\n        this.providers[key] = providerStatus == 'true' ? true : false;\n      } else {\n        this.alertService.error('Error.');\n        this.status = Status.Error;\n        return;\n      }\n    });\n  }\n\n  changeProviderProperty(provider: string, isEnabled: boolean) {\n    let providerKey: string = this.providerDisplayNameToPropertyKey(provider);\n\n    let tempProviderProperties = Object.assign({}, this.providerProperties);\n    tempProviderProperties[providerKey] = isEnabled ? true : false;\n\n    this.providerService.updateProperties(tempProviderProperties).subscribe(\n      response =&gt; {\n        this.setProviderValues(response);\n        this.alertService.success('Successfully '+ (isEnabled ? 'Enabled ' : 'Disabled ') + provider);\n      },\n      err =&gt; {\n        if(err['status'] == 0) {\n          this.alertService.error('Error');\n        } else {\n          let errorArray = err['error']['Errors']['Error'];\n          for(let errorKey in errorArray) {\n            let errorValue = errorArray[errorKey];\n            this.alertService.error('Error Updating Properties: ' + errorValue['ReasonCode'] + ' ' + errorValue['Description']);\n          }\n        }\n      }\n    )\n  }\n\n  providerDisplayNameToPropertyKey(provider: string) {\n    return provider.toLowerCase() + '.enabled';\n  }\n}\n</code></pre>\n\n<p>I have the following test:</p>\n\n<pre><code>import { async, ComponentFixture, TestBed, fakeAsync, tick } from '@angular/core/testing';\nimport { HttpClientTestingModule } from '@angular/common/http/testing';\n\nimport { ProvidersComponent } from './providers.component';\nimport { ProviderService } from 'src/app/services/provider.service';\nimport { of, Observable, throwError } from 'rxjs';\nimport { AlertComponent } from '../shared/alert/alert.component';\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { HttpErrorResponse } from '@angular/common/http';\n\ndescribe('ProvidersComponent', () =&gt; {\n  let component: ProvidersComponent;\n  let providerService: ProviderService;\n  let alertService: AlertService;\n  let fixture: ComponentFixture&lt;ProvidersComponent&gt;;\n  let getPropertiesSpy: jasmine.Spy&lt;() =&gt; Observable&lt;String&gt;&gt;;\n  let changeProviderPropertySpy: jasmine.Spy&lt;(provider: string, isEnabled: boolean) =&gt; Promise&lt;void&gt;&gt;;\n\n  let providerProperties:any;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ \n        ProvidersComponent,\n        AlertComponent\n      ],\n      imports: [\n        HttpClientTestingModule,\n        RouterTestingModule\n      ],\n      providers: [\n        ProviderService,\n        AlertService\n      ]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    providerService = TestBed.get(ProviderService);\n    alertService = TestBed.get(AlertService);\n    fixture = TestBed.createComponent(ProvidersComponent);\n\n    providerProperties = {\n      'api1.enabled': 'true',\n      'api2.enabled': 'true',\n      'api3.enabled': 'false',\n    };\n\n    component = fixture.componentInstance;\n\n    component.providers = {\n      'API1': false,\n      'API2': false,\n      'API3': false\n    };\n\n    getPropertiesSpy = spyOn(providerService, 'getProperties').and.callFake(() =&gt; {\n      return of(providerProperties);\n    });\n\n    changeProviderPropertySpy = spyOn(component, 'changeProviderProperty');\n\n    fixture.detectChanges();\n  });\n\n  it('should enable provider', fakeAsync(() =&gt; {\n    spyOn(providerService, 'updateProperties').and.returnValue(of({\n      'api1.enabled': 'true',\n      'api2.enabled': 'false',\n      'api3.enabled': 'false'\n    }));\n\n    component.changeProviderProperty('API1', true);\n\n    fixture.detectChanges();\n\n    expect(component.providers['API1']).toEqual(true);\n  }));\n});\n</code></pre>\n\n<p>For some reason the state of the objects won't change. I'm fairly sure the observable isn't being subscribed to or I am not waiting for the response.</p>\n\n<p><strong>Update</strong>\nAfter spying on the provider service and checking to see if it had been called after I call changeProviderProperties, it turns out that it was never called.</p>\n\n<p><strong>Update 2</strong>\nSpied on the providerDisplayNameToPropertyKey method and found that it's not being called for whatever reason.</p>\n"}, {"tags": ["typescript", "nestjs", "dto", "data-transfer-objects"], "answers": [{"tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": true, "score": 10, "last_activity_date": 1576692193, "creation_date": 1576692193, "answer_id": 59397789, "question_id": 59397687, "link": "https://stackoverflow.com/questions/59397687/what-is-the-purpose-of-a-data-transfer-object-in-nestjs/59397789#59397789", "title": "What is the purpose of a Data Transfer Object in NestJS?", "body": "<p>The DTO on it's own is more of a guideline for the developer and those who consume the API to know what kind of shape the request body expects to be, it doesn't actually run any validations <strong>on its own</strong>. However, with Typescript you can add in decorators from the <a href=\"https://github.com/typestack/class-validator\" rel=\"noreferrer\">class-validator</a> library and and use the <a href=\"https://docs.nestjs.com/techniques/validation\" rel=\"noreferrer\">built-in ValidationPipe</a> and have validations run on your incoming requests so that only the expected request body can come in.</p>\n\n<p>In short, the DTO is the definition of what the request <em>should</em> look like, but because JavaScript is a dynamic language, you can send in anything. That's why libraries like <code>class-validator</code> and <code>runtypes</code> exist.</p>\n"}, {"tags": [], "owner": {"reputation": 629, "user_id": 3305311, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ff765b5d03604dda69280d848bd35870?s=128&d=identicon&r=PG", "display_name": "Fabio Formosa", "link": "https://stackoverflow.com/users/3305311/fabio-formosa"}, "is_accepted": false, "score": 0, "last_activity_date": 1587112661, "creation_date": 1587112661, "answer_id": 61267351, "question_id": 59397687, "link": "https://stackoverflow.com/questions/59397687/what-is-the-purpose-of-a-data-transfer-object-in-nestjs/61267351#61267351", "title": "What is the purpose of a Data Transfer Object in NestJS?", "body": "<p>At runtime all types are lost, so the controller accepts whatever JSON comes from request body. If you want a type check, you should enable a ValidationPipe that leverages <a href=\"https://github.com/typestack/class-transformer\" rel=\"nofollow noreferrer\">class-trasformer</a> and <a href=\"https://github.com/typestack/class-validator\" rel=\"nofollow noreferrer\">class-validator</a> libraries:</p>\n\n<pre><code>app.useGlobalPipes(\n    new ValidationPipe({\n      transform: true,\n      transformOptions: {\n        enableImplicitConversion: true,\n      },\n      validationError: { target: false, value: false },\n    })\n  ); \n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 12560457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0eb499565702ab233399f7dfc0ab2c?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan van de Groep", "link": "https://stackoverflow.com/users/12560457/jonathan-van-de-groep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2957, "favorite_count": 1, "accepted_answer_id": 59397789, "answer_count": 2, "score": 6, "last_activity_date": 1587112661, "creation_date": 1576691773, "question_id": 59397687, "link": "https://stackoverflow.com/questions/59397687/what-is-the-purpose-of-a-data-transfer-object-in-nestjs", "title": "What is the purpose of a Data Transfer Object in NestJS?", "body": "<p>Im struggling with a problem. Im following the documentation of NestJS. The back-end framework for NodeJS. The documentation mentions a DTO (Data Transfer Object). I created a DTO for creating a user:</p>\n\n<pre><code>export class CreateUserDto {\n    readonly email: string;\n    readonly password: string;\n}\n</code></pre>\n\n<p>In combination with this:</p>\n\n<pre><code>@Post('create')\ncreateUser(@Body() userData: CreateUserDto): User {\n    return this.usersService.createUser(userData);\n}\n</code></pre>\n\n<p>For some reason, I am able to make a post request to this route with any type of body. I can place any type of information in the body without getting an error. The whole point of such a DTO is to allow only certain information in the body, right? Instead of using export class CreateUserDTO i also tried export interface CreateUserDTO, but this isn't working either. I am new to typescript and NestJS as well. Is there anyone who might be able to explain why it's not working the way I expected or what the purpose is of such a Data Transfer Object?</p>\n"}, {"tags": ["javascript", "typescript", "union-types"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576695704, "post_id": 59397471, "comment_id": 104986155, "body": "spreading and destructuring of <code>arr</code> has the effect of turning <code>IArr</code> into something like <code>Array&lt;IArr[number]&gt;</code>, which is an array of a union instead of a union of arrays.  An array of unions has a single <code>filter()</code> method which is callable, while the union of arrays has a union of <code>filter()</code> methods (one from each array type), all of which are overloaded, so it can&#39;t be called, as mentioned in the answer to the question this duplicates.  Good luck!"}], "owner": {"reputation": 742, "user_id": 9718950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6caf09c57e8876d01f2401fd62fc90f1?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Bochkarev", "link": "https://stackoverflow.com/users/9718950/artem-bochkarev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1576695330, "answer_count": 0, "score": 3, "last_activity_date": 1576690838, "creation_date": 1576690838, "question_id": 59397471, "link": "https://stackoverflow.com/questions/59397471/typescript-union-types-dont-work-with-const-assertions-as-const", "closed_reason": "Duplicate", "title": "TypeScript union types don&#39;t work with const assertions (&#39;as const&#39;)", "body": "<p>Why this code doesn't work ?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const a = [{ name: 'a', label: 'b' }, { name: 'c', label: 'd' }] as const;\nconst b = [{ name: 'e', label: 'f' }, { name: 'g', label: 'h' }] as const;\ntype IArr = typeof a | typeof b;\n\nconst fn = (arr: IArr) =&gt; arr.filter(el =&gt; el.name === 'a');\n</code></pre>\n\n<p>Typescript warn when I try to filter or map this array: \n\"has signatures, but none of those signatures are compatible with each other\"</p>\n\n<pre><code>(arr: IArr) =&gt; arr.filter(el =&gt; {});\n</code></pre>\n\n<p>But it works fine when i spread this array</p>\n\n<pre><code>(arr: IArr) =&gt; [...arr].filter(el =&gt; {});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "npm"], "comments": [{"owner": {"reputation": 440, "user_id": 6356369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/087e914abeee59bc648428947fedf9fd?s=128&d=identicon&r=PG&f=1", "display_name": "vcode", "link": "https://stackoverflow.com/users/6356369/vcode"}, "edited": false, "score": 0, "creation_date": 1576688581, "post_id": 59396857, "comment_id": 104982936, "body": "Try npm install. This should install all dependencies of the library you are using as well."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1576688627, "post_id": 59396857, "comment_id": 104982957, "body": "Any error after <code>ng serve</code> in command line? it must have something that would help you to resolve the issue."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1576688708, "post_id": 59396857, "comment_id": 104982991, "body": "The github repository is named <code>node-cached</code>. With such a name, you can safely assume that this library is a NodeJS library, intended to be run in NodeJS, not in the browser, where Angular apps execute."}, {"owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1576688859, "post_id": 59396857, "comment_id": 104983055, "body": "@PankajParkar I am sorry I missed the <code>ng-serve</code> logs. I have updated my question."}, {"owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "reply_to_user": {"reputation": 440, "user_id": 6356369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/087e914abeee59bc648428947fedf9fd?s=128&d=identicon&r=PG&f=1", "display_name": "vcode", "link": "https://stackoverflow.com/users/6356369/vcode"}, "edited": false, "score": 0, "creation_date": 1576689006, "post_id": 59396857, "comment_id": 104983147, "body": "@vcode I did with no luck"}, {"owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1576689169, "post_id": 59396857, "comment_id": 104983223, "body": "@JBNizet It looks like you are correct. Their github page&#39;s title states that too. You can post this as an answer."}], "owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576688799, "creation_date": 1576688350, "last_edit_date": 1576688799, "question_id": 59396857, "link": "https://stackoverflow.com/questions/59396857/how-to-diagnose-this-client-side-script-module-resolution-issue", "title": "How to diagnose this client-side script module resolution issue", "body": "<p>I am having an issue while trying to use a library, this has happened many times before with other libraries so I decided to ask a question that will give me some techniques to troubleshoot issues like this.</p>\n\n<p>Case in point is a javascript caching library called <a href=\"https://www.npmjs.com/package/cached\" rel=\"nofollow noreferrer\">cached</a>. I added this to <code>package.json</code>, and started using it in my <code>angular</code> application created using <code>ng-cli</code>. In my app.component.ts I have.</p>\n\n<pre><code>import { cached } from \"cached\";\n</code></pre>\n\n<p>Once I added the line above, <code>ng-serve</code> recompiled and reloaded the browser and I started seeing the following errors in Chrome console.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nyx9b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nyx9b.png\" alt=\"Chrome console\"></a></p>\n\n<p><code>ng-serve</code> shows the following messages in the console</p>\n\n<blockquote>\n  <p>** Angular Live Development Server is listening on localhost:4200, open your browser on <a href=\"http://localhost:4200/\" rel=\"nofollow noreferrer\">http://localhost:4200/</a> **</p>\n  \n  <p>Date: 2019-12-18T17:05:27.385Z Hash: d0dc919769ccdbb75bf5 Time:\n  12785ms chunk {main} main.js, main.js.map (main) 12 kB [initial]\n  [rendered] chunk {polyfills} polyfills.js, polyfills.js.map\n  (polyfills) 241 kB [initial] [rendered] chunk {runtime} runtime.js,\n  runtime.js.map (runtime) 6.22 kB [entry] [rendered] chunk {styles}\n  styles.js, styles.js.map (styles) 15.6 kB [initial] [rendered] chunk\n  {vendor} vendor.js, vendor.js.map (vendor) 3.85 MB [initial]\n  [rendered]</p>\n  \n  <p>ERROR in ./node_modules/memcached/lib/connection.js Module not found:\n  Error: Can't resolve 'child_process' in\n  'C:\\dev\\temp\\angular\\cachetest\\node_modules\\memcached\\lib' ERROR in\n  ./node_modules/hashring/index.js Module not found: Error: Can't\n  resolve 'crypto' in\n  'C:\\dev\\temp\\angular\\cachetest\\node_modules\\hashring' ERROR in\n  ./node_modules/memcached/lib/utils.js Module not found: Error: Can't\n  resolve 'crypto' in\n  'C:\\dev\\temp\\angular\\cachetest\\node_modules\\memcached\\lib' ERROR in\n  ./node_modules/memcached/lib/memcached.js Module not found: Error:\n  Can't resolve 'net' in\n  'C:\\dev\\temp\\angular\\cachetest\\node_modules\\memcached\\lib' i \uff62wdm\uff63:\n  Failed to compile.</p>\n</blockquote>\n\n<p>What is wrong with this library? Am I not using it correctly? What process did you or should I have used to find what is wrong?</p>\n"}, {"tags": ["typescript", "amazon-web-services", "visual-studio-code", "aws-lambda", "vscode-debugger"], "answers": [{"tags": [], "owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "is_accepted": true, "score": 0, "last_activity_date": 1576765663, "creation_date": 1576765663, "answer_id": 59411728, "question_id": 59396359, "link": "https://stackoverflow.com/questions/59396359/why-does-debugging-break-access-to-an-awslambalayerversion-when-using-sam-i/59411728#59411728", "title": "Why does debugging break access to an AWS::Lamba::LayerVersion when using &quot;sam invoke local&quot;?", "body": "<p>I made one of my lambda functions dump out all environment variables from <code>process.env</code>, and found a few differences between when debugging was enabled (via <code>-d 5858</code>) and when it wasn't, most notably that <code>NODE_PATH</code> wasn't defined when debugging was enabled.</p>\n\n<p>I think I'd gone down the path of trying to fix <code>NODE_PATH</code> once before, based on a similar problem I'd read about elsewhere, but it didn't seem to help.</p>\n\n<p>Now that I was dumping environment variables, however, I could see that my attempt to define <code>NODE_PATH</code> in a <code>env.json</code> file wasn't having any effect. That's when I discovered that SAM was ignoring any environment variable that weren't explicitly defined in my template, either as globals or for each lambda.</p>\n\n<p>This fixed that problem:</p>\n\n<pre><code>Globals:\n  Function:\n    Timeout: 30\n    Environment:\n      Variables:\n        NODE_PATH: /opt/nodejs/node12/node_modules:/opt/nodejs/node_modules:/var/runtime/node_modules\n</code></pre>\n\n<p>Once I solved that problem, then it found I needed to tweak my <code>launch.json</code> to get debugger breakpoints working for TypeScript:</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [{\n      \"name\": \"Debug get-timezone\",\n      \"type\": \"node\",\n      \"request\": \"attach\",\n      \"address\": \"localhost\",\n      \"port\": 5858,\n      \"localRoot\": \"${workspaceRoot}/dist/get-timezone\", // &lt;- More specific path needed\n      \"remoteRoot\": \"/var/task\",\n      \"protocol\": \"inspector\",\n      \"stopOnEntry\": false,\n      \"preLaunchTask\": \"local-tz-debug\",\n      \"outFiles\": [ // &lt;- Added this\n        \"${workspaceRoot}/dist/get-timezone/**/*.js\"\n      ],\n      \"sourceMaps\": true // &lt;- Added this\n    },\n    ...\n  ]\n}\n</code></pre>\n\n<p>I only want the <code>NODE_PATH</code> variable defined for local testing, not for deployment, so I have a seperate <code>template.yaml</code> file without that definition for deployment. <code>template.yaml</code> also defines the <code>Content</code> for the <code>LayerVersion</code> as <code>nodejs.zip</code>, not as <code>dependencies</code>. I auto-generate <code>template.local.yaml</code> from <code>template.yaml</code> so that I don't have to maintain two separate almost-identical templates.</p>\n\n<p>I hope there's a better way to do this in the future, but for now it gets the job done.</p>\n"}], "owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 59411728, "answer_count": 1, "score": 0, "last_activity_date": 1576765663, "creation_date": 1576686672, "last_edit_date": 1576764426, "question_id": 59396359, "link": "https://stackoverflow.com/questions/59396359/why-does-debugging-break-access-to-an-awslambalayerversion-when-using-sam-i", "title": "Why does debugging break access to an AWS::Lamba::LayerVersion when using &quot;sam invoke local&quot;?", "body": "<p>This works:</p>\n\n<p><code>sam local invoke -t template.local.yaml -e events/event-timezone.json GetTimezoneFunction</code></p>\n\n<p>This does not work when trying to debug with Visual Studio Code:</p>\n\n<p><code>sam local invoke -t template.local.yaml -e events/event-timezone.json -d 5858 GetTimezoneFunction</code></p>\n\n<p>The difference is that, in the second, I get an error that the npm 'axios' module, which is defined in a separate layer used by my lambda function, is not found.</p>\n\n<pre><code>Error: Cannot find module 'axios'\nRequire stack:\n - /var/task/get-timezone.js\n - /var/runtime/UserFunction.js\n - /var/runtime/index.js\n</code></pre>\n\n<p>All I can figure is that maybe by trying to use the debugger either the resources of the layer aren't copied to the Docker runtime environment, or some file search path gets broken.</p>\n\n<p>I have another lambda function which doesn't need anything from the layer, and works fine with or without the debugger.</p>\n\n<p>The file with the <code>getTimeZone</code> function starts with:</p>\n\n<p><code>import axios from 'axios';</code></p>\n\n<p>This is the relevant part of <code>template.local.yaml</code>:</p>\n\n<pre><code>AWSTemplateFormatVersion: '2010-09-09'\nTransform: AWS::Serverless-2016-10-31\nDescription: AWS Sample\n\nGlobals:\n  Function:\n    Timeout: 30\n\nResources:\n  SampleCommonLayer:\n    Type: AWS::Lambda::LayerVersion\n    Properties:\n      CompatibleRuntimes:\n        - nodejs12.x\n      Content: dependencies\n      Description: Sample Common LayerVersion\n      LayerName: SampleCommonLayer\n\n  GetTimezoneFunction:\n    Type: AWS::Serverless::Function\n    Properties:\n      CodeUri: dist/get-timezone\n      Handler: get-timezone.getTimezone\n      Runtime: nodejs12.x\n      Layers:\n        - !Ref SampleCommonLayer\n      Events:\n        GetTimezone:\n          Type: Api\n          Properties:\n            Path: /get-timezone\n            Method: get\n\nOutputs:\n  GetTimezoneApi:\n    Description: \"API Gateway endpoint URL for Prod stage for getTimezone function\"\n    Value: !Sub \"https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/get-timezone/\"\n  GetTimezoneFunction:\n    Description: \"getTimezone Lambda Function ARN\"\n    Value: !GetAtt GetTimezoneFunction.Arn\n  GetTimezoneFunctionIamRole:\n    Description: \"Implicit IAM Role created for getTimezone function\"\n    Value: !GetAtt GetTimezoneFunctionRole.Arn\n</code></pre>\n\n<p>Here's my <code>launch.json</code>:</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [{\n      \"name\": \"Debug get-timezone\",\n      \"type\": \"node\",\n      \"request\": \"attach\",\n      \"address\": \"localhost\",\n      \"port\": 5858,\n      \"localRoot\": \"${workspaceRoot}/dist\",\n      \"remoteRoot\": \"/var/task\",\n      \"protocol\": \"inspector\",\n      \"stopOnEntry\": false,\n      \"preLaunchTask\": \"local-tz-debug\"\n    },\n    ...\n  ]\n}\n</code></pre>\n\n<p>So far I've only found a lot of unanswered questions and a few not-quite-the-same problems while searching for an answer to this problem.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576689782, "post_id": 59396270, "comment_id": 104983515, "body": "Please consider editing the code so as to constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as in <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Currently the code is <a href=\"https://www.typescriptlang.org/play/#code/AQ4BwJwSwNwQwC4FNgFcDOSLoFzALJxjAA8w6C0AdgOYA0pAKgHzPAC8wVSA7gUSQrV6TVgAoAlAG4AsACh5AYwD2VCuDjYkAEwAiiOB2AApAMoB5AHIA6MJsxjtB6fPMAjAFZJFCa0iqUUEjoYnZaes7WAGbKEACicIoAFmJiANoA1kgAnnhCULQM8AA2qEh4JCwAuhJ4MMpQ2hxsAN7yoMAqasrFSNbFyjRiAOQZwwxZ2QzDeOPAwzBzJWUuch0ISVDo1hhY25gIYpNFcKUocOjAcFTZ0sAA9Pf8xMqe3gjyAL6rHSDfUkA\" rel=\"nofollow noreferrer\">more than half errors</a>.  Presumably you want something like <code>const cb = ([s, n]: [string, number]) =&gt; s.length === n; </code> but it&#39;s hard to tell."}, {"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576689920, "post_id": 59396270, "comment_id": 104983588, "body": "that is the minimal reproducable code... it&#39;s a typing error not a run time error or a crashing error. it is a typescript error...."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576690101, "post_id": 59396270, "comment_id": 104983684, "body": "&quot;Reproducible&quot; implies that someone else can take that code and see the issue.  <a href=\"https://www.typescriptlang.org/play/#code/AQ4BwJwSwNwQwC4FNgFcDOSLoFzALJxjAA8w6C0AdgOYA0pAKgHzPAC8wVSA7gUSQrV6TVgAoAlAG4AsACh5AYwD2VCuDjYkAEwAiiOB2AApAMoB5AHIA6MJsxjtB6fPMAjAFZJFCa0iqUUEjoYnZaes7WAGbKEACicIoAFmJiANoA1kgAnnhCULQM8AA2qEh4JCwAuhJ4MMpQ2hxsAN7yoMAqasrFSNbFyjRiAOQZwwxZ2QzDeOPAwzBzJWUuch0ISVDo1hhY25gIYpNFcKUocOjAcFTZ0sAA9Pf8xMqe3gjyAL6rHSDfUkA\" rel=\"nofollow noreferrer\">Here&#39;s what you get</a> from the TypeScript compiler: all errors.  Is that in a class?  What is <code>&lt;T&gt;</code>?  What is <code>data</code>?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576690250, "post_id": 59396270, "comment_id": 104983748, "body": "The added effort you put into getting clean example code that can be dropped into an IDE and demonstrate your issue will be paid off by increasing the chance that you&#39;ll get an answer you find satisfactory.  Again, you can type a tuple in a callback like <code>([s,n]:[string,number])=&gt;{}</code> and not like <code>([s: string, n: number])=&gt;{}</code>.  If that helps, great.  Otherwise, please consider modifying the code.  Good luck!"}, {"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576691219, "post_id": 59396270, "comment_id": 104984212, "body": "Thank you for you help @jcalz. I would 100% agree with you about reproducible code and normally provide that. However, with a typing error such as this that <i>is</i> the minimal reproducible code... the code in question 100% works as intended. this is going to come off as rude, but, there is no possible way I could provide more relatable code aside for including my dotfiles. thanks gain for your help I do sincerely appreciate it."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576694394, "post_id": 59396270, "comment_id": 104985616, "body": "<a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgGrIN7JgexwLmQGcwpQBzZAXwFgAoAEwgQBs4oUEcQTkJwyEIoQDaJMiHIAaNAF0RsgNz16AelXIAFjgDuyBHBDIAknwAeABxbAEwMCwCeyQyBxg4kZAGtnIBsgA3ZFBkME0UXBYWXQp8en5SYCEAOlwoAFFETQAKbJEvGQDZAEpkAF4APkx9biIcFghk6PJsr2SwHAAZXWgAYTgiCGzSgGpkACJCceQxgNS8dq6eqH7B4dKqYuU6NQ1TRIh-MOAiZAAjAFcwYOvyYAChXz4oKBwoeIEkonmMrNz8wjiCiFQioEqEAI4YD+SrVdTPV5QACE9GQaOQ8K4AFssXBkIAAUkJ+KqAD90eS0SSySTUej4a4+A0sQlkAByABMrIJRJ5AD1kPy0bS0fScIyIMzwGyAMxcnny-GADFJhTUePVGs1Wotujo+gMhqMJlMZoF5jhtctVgbSvDoG8UXRyfDkAB5M4AK2Y1xOyAsOCIRGAZ0cyAufggMFAh25pPom22QA\" rel=\"nofollow noreferrer\">no possible way?</a>"}], "owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1576869879, "answer_count": 0, "score": 0, "last_activity_date": 1576686717, "creation_date": 1576686379, "last_edit_date": 1576686717, "question_id": 59396270, "link": "https://stackoverflow.com/questions/59396270/typescript-typing-a-tuple-in-a-callback-function", "closed_reason": "Duplicate", "title": "TypeScript: Typing a tuple in a callback function", "body": "<p>I have an object that looks like this:</p>\n\n<pre><code>{\n  \"user1\": {\n    \"key1\": \"val1\"\n  },\n  \"user2\":{\n    \"key1\": \"val\"\n  }\n}\n</code></pre>\n\n<p>I am attempting to put this json object in a Map object, which I can do just fine, however, what is bothering me a lot is not being able to set the type of the tuple.</p>\n\n<p>here is the code in question:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    private users: Map&lt;string, &lt;T&gt;&gt; = new Map&lt;string, &lt;T&gt;&gt;();\n\n        const parsedData = JSON.parse(data);\n        Object.entries(parsedData).forEach(([key: string, value: &lt;T&gt;]): void =&gt; {\n          console.log('k', key, ': ', 'v', value);\n          this.users.set(key, value as any); // Map object\n        });\n      });\n</code></pre>\n\n<p>the <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple\" rel=\"nofollow noreferrer\">docs</a> unfortunatly talk about assigning tuples rather than declaring a tuple as a callback argument.</p>\n\n<p>with the typing above I get the error:</p>\n\n<blockquote>\n  <p>493: Tuple type '[string, unknown]' of length '2' has no element at index '2\u2019.</p>\n</blockquote>\n\n<p>also if I do not set the <em>value</em> as type <code>any</code> then I get the error:</p>\n\n<blockquote>\n  <p>Argument of type 'unknown' is not a member of type <code>&lt;T&gt;</code></p>\n</blockquote>\n\n<p>even though I am trying to set it above in the <code>[key, value]</code> tuple</p>\n\n<p>thanks guys</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 10806985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NQzhqJmUgUc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gYowyoWeK8R3jQgY7zpTdy02YOBA/mo/photo.jpg?sz=128", "display_name": "Casey Woolfolk", "link": "https://stackoverflow.com/users/10806985/casey-woolfolk"}, "is_accepted": false, "score": 1, "last_activity_date": 1576687789, "creation_date": 1576687789, "answer_id": 59396721, "question_id": 59396254, "link": "https://stackoverflow.com/questions/59396254/typescript-stacked-interfaces/59396721#59396721", "title": "Typescript stacked interfaces", "body": "<blockquote>\n  <p>Both one and two shouldn't be able to add fields that aren't present in the parent interface.</p>\n</blockquote>\n\n<p>This is somewhat counter to TypeScript's structural typing philosophy, but see <code>NoExtraProperties</code> at <a href=\"https://gist.github.com/greglockwood/1610ef83d0726e0e6c021d46cb573e68\" rel=\"nofollow noreferrer\">https://gist.github.com/greglockwood/1610ef83d0726e0e6c021d46cb573e68</a> if you really need this functionality.</p>\n\n<p>The gist was sourced from <a href=\"https://stackoverflow.com/questions/49580725/is-it-possible-to-restrict-typescript-object-to-contain-only-properties-defined\">Is it possible to restrict typescript object to contain only properties defined by its class ?</a> which might also be helpful for additional context.</p>\n"}], "owner": {"reputation": 7483, "user_id": 2228688, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/uW7KK.jpg?s=128&g=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/2228688/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576687789, "creation_date": 1576686321, "question_id": 59396254, "link": "https://stackoverflow.com/questions/59396254/typescript-stacked-interfaces", "title": "Typescript stacked interfaces", "body": "<p>Does Typescript have the concept of subset interfaces.</p>\n\n<p>There is a parent interface <code>parent</code> which looks like:</p>\n\n<pre><code>interface parent {\n    a?: string;\n    b?: string;\n}\n</code></pre>\n\n<p>There are other interfaces <code>one</code> and <code>two</code>.</p>\n\n<pre><code>interface one {\n    a: string\n}\n</code></pre>\n\n<pre><code>interface two {\n    b: string\n}\n</code></pre>\n\n<p>Both <code>one</code> and <code>two</code> shouldn't be able to add fields that aren't present in the parent interface. is this possible?</p>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 2, "creation_date": 1576686135, "post_id": 59396184, "comment_id": 104981589, "body": "the below is invalid."}, {"owner": {"reputation": 17141, "user_id": 1813858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc08b1153d18790260766ac393180588?s=128&d=identicon&r=PG", "display_name": "iTech", "link": "https://stackoverflow.com/users/1813858/itech"}, "edited": false, "score": 2, "creation_date": 1576686205, "post_id": 59396184, "comment_id": 104981643, "body": "The target format is not a valid JSON."}, {"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1576686562, "post_id": 59396184, "comment_id": 104981855, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/4162749/convert-js-object-to-json-string\">Convert JS object to JSON string</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1382, "user_id": 11332797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2uLb.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/11332797/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1576686379, "creation_date": 1576686379, "answer_id": 59396272, "question_id": 59396184, "link": "https://stackoverflow.com/questions/59396184/how-to-convert-array-of-json/59396272#59396272", "title": "How to Convert array of Json", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  let x=[{\"name\":\"james\",\"age\":\"23\"},{\"name\":\"job\",\"age\":\"55\"}];\r\n  console.log(JSON.stringify(x));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The desired output isnt proper JSON. To convert any javascript object into a json string simply use the function <code>JSON.stringify(obj)</code>. <code>JSON.parse(string)</code> can be used to create an object out of a string.</p>\n"}], "owner": {"reputation": 7, "user_id": 9988440, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NSANCmNbtwM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1KzRRTSKpWL0HP7xsO-F2uK-62EQ/mo/photo.jpg?sz=128", "display_name": "lalli", "link": "https://stackoverflow.com/users/9988440/lalli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1576686379, "creation_date": 1576686058, "last_edit_date": 1576686215, "question_id": 59396184, "link": "https://stackoverflow.com/questions/59396184/how-to-convert-array-of-json", "title": "How to Convert array of Json", "body": "<pre><code>    var x=[{\"name\":\"james\",\"age\":\"23\"},{\"name\":\"job\",\"age\":\"55\"}];\n</code></pre>\n\n<p>How to convert array of json object to below response</p>\n\n<pre><code>   {{\"name\":\"james\",\"age\":\"23\"},{\"name\":\"job\",\"age\":\"55\"}};\n</code></pre>\n"}, {"tags": ["typescript", "testing", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 1226, "user_id": 8129670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0154e301979f85ac1d5ce168b84190a7?s=128&d=identicon&r=PG", "display_name": "Jelle", "link": "https://stackoverflow.com/users/8129670/jelle"}, "is_accepted": false, "score": 0, "last_activity_date": 1576696179, "creation_date": 1576696179, "answer_id": 59398643, "question_id": 59396122, "link": "https://stackoverflow.com/questions/59396122/writing-test-cases-for-service-file-in-typescript/59398643#59398643", "title": "Writing test cases for service file in typescript", "body": "<p>For cases like these you can use <code>spies</code>.</p>\n\n<p>With spies you can check whether a method of a class is being called (the amount of times, which arguments are given etc)</p>\n\n<pre><code>const spy = spyOn(messagePublishService, \"publish\");\n\nservice.searchProductCode(...arguments);\n\nexpect(spy).toHaveBeenCalledWith(\"expectedSource\", \"expectedMessage\")\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 11671255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7be5b53666511138aa97e3dca9b724?s=128&d=identicon&r=PG&f=1", "display_name": "OSAMA E", "link": "https://stackoverflow.com/users/11671255/osama-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578621561, "creation_date": 1576685854, "last_edit_date": 1578621561, "question_id": 59396122, "link": "https://stackoverflow.com/questions/59396122/writing-test-cases-for-service-file-in-typescript", "title": "Writing test cases for service file in typescript", "body": "<p><code>I am relatively new to writing test cases.</code>  I have a service in typescript for which I am planning to write test file. It contains <code>nested methods</code>. They do not contain return statements. Should I write test cases just for main method. As it does not contain <code>no return</code> statement how could I test my file? If someone could help me with testing of this file it would be much appreciated. </p>\n\n<pre><code>@Injectable()\nexport class MessageService {\n  constructor(\n    private readonly httpService: HttpService,\n    private readonly messagePublishService: MessagePublishService,\n    private readonly configService: ConfigService,\n  ) {}\n  message = new ProductMessage();\n  publishMessages(productEvent: ProductEvent): Observable&lt;any&gt; {\n    let json = '';\n\n    const url = this.configService.get('SITEMAP_ENDPOINT');\n    const urls = [url + '/sitemap/retrieve/ide', url + '/sitemap/retrieve/tpd'];\n    try {\n      for (let i = 0; i &lt; urls.length; i++) {\n        return https.get(urls[i], res =&gt; {\n          res.on('data', chunk =&gt; {\n            json += chunk;\n          });\n          res.on('end', () =&gt; {\n            const result = JSON.parse(json);\n            getProductCodes(productEvent, result, this.messagePublishService);\n          });\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }\n}\n\nfunction getProductCodes(\n  productEvent,\n  result,\n  messagePublishService: MessagePublishService,\n) {\n  const splitCodes = productEvent.productCodes.split(',');\n  const splitvehicleType = productEvent.vehicleType.split(',');\n  const source: string = 'PCS_DATACACHE_TOPIC_ARN';\n\n  for (let i = 0; i &lt; result.length; i++) {\n    for (let j = 0; j &lt; result[i].products.length; j++) {\n      if (\n        productEvent.productCodes.length !== 0 &amp;&amp;\n        productEvent.productCodes !== undefined\n      ) {\n        searchProductCode(\n          messagePublishService,\n          splitCodes,\n          result,\n          i,\n          j,\n          source,\n        );\n      }  else {\n        console.log('No data found');\n        return;\n      }\n    }\n  }\n}\n\nfunction searchProductCode(\n  messagePublishService,\n  splitCodes,\n  result,\n  i,\n  j,\n  source,\n) {\n  for (let k = 0; k &lt; splitCodes.length; k++) {\n    if (result[i].products[j].productCode === splitCodes[k]) {\n      console.log(\n        'Product Codes: ' +\n          result[i].products[j].productCode +\n          ' Country : ' +\n          result[i].country +\n          ' Language : ' +\n          result[i].language,\n      );\n      const message: string =\n        'Product Codes: ' +\n        result[i].products[j].productCode +\n        ' Country : ' +\n        result[i].country +\n        ' Language : ' +\n        result[i].language;\n      messagePublishService.publish(source, message);\n    }\n  }\n}\n\n</code></pre>\n"}, {"tags": ["typescript", "function", "types", "return", "type-inference"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576686361, "post_id": 59395984, "comment_id": 104981720, "body": "This might just be an opinion question... in my opinion, neither is a bad practice.  Explicit annotations are &quot;safer&quot; since they communicate more intent so you might catch a bug with them (<code>const add = (a: number, b: number) =&gt; a + &quot;&quot; + b; &#47;&#47; no error</code> vs <code>const add = (a: number, b: number): number =&gt; a + &quot;&quot; + b; &#47;&#47; error</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576686520, "post_id": 59395984, "comment_id": 104981819, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45911407/type-inference-vs-explicit-type-declaration-in-typescript\">Type inference vs. explicit type declaration in Typescript</a>"}, {"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1576691973, "post_id": 59395984, "comment_id": 104984533, "body": "eh. generally I prefer to let the inferred types do their thing. less work if I ever need to change something down the line"}], "answers": [{"tags": [], "owner": {"reputation": 1275, "user_id": 2040883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PWgit.png?s=128&g=1", "display_name": "Patrick Finnigan", "link": "https://stackoverflow.com/users/2040883/patrick-finnigan"}, "is_accepted": true, "score": 3, "last_activity_date": 1576691602, "creation_date": 1576691602, "answer_id": 59397648, "question_id": 59395984, "link": "https://stackoverflow.com/questions/59395984/typescript-is-it-bad-practice-to-explicitly-set-type-when-type-inference-detect/59397648#59397648", "title": "TypeScript: Is it bad practice to explicitly set type when type inference detects the type correctly?", "body": "<p>I agree the answer to your question of when to add explicit types if the type can already be inferred is to some degree a manner of opinion, since the explicit types are not required in these cases. However, there are some advantages and disadvantages to adding explicit types (when not required):</p>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>adding explicit types means more work, more code - so there is some additional cost to add and maintain them</li>\n</ul>\n\n<p>Advantages:</p>\n\n<ul>\n<li>explicit types serve as self-documenting code: you are declaring to the reader what type you intend the function to return. Also, they are an easy reference for what type the function maintains - no need to used an advanced IDE with TSC running and hover over the function to get type intellisense - the return type declaration is explicit in code as part of the function signature.</li>\n<li>explicit types guard against bugs in function implementation: instead of relying on yourself to write correct code and return the intended type, you declare what type you want the function to return and then you are leveraging TSC to make sure all paths through your function return that type. This is especially helpful in future-proofing the function - if anyone makes a code change inside the function that changes the return type, they must also acknowledge and change the explicit return type on the function signature.</li>\n</ul>\n\n<p>IMO explicit types are superfluous for simple functions (e.g. trivial lambda functions with a single return value) but are well worth the extra effort for complex functions (e.g. functions with multiple return statements). Since functions tend to become more complex over type, I err on the side of adding explicit return types to functions.</p>\n"}], "owner": {"reputation": 50, "user_id": 7258604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded10ebb7d9a04346ac26b2dd6da1ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Kiarash Z", "link": "https://stackoverflow.com/users/7258604/kiarash-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 1, "accepted_answer_id": 59397648, "answer_count": 1, "score": 0, "last_activity_date": 1576691602, "creation_date": 1576685354, "question_id": 59395984, "link": "https://stackoverflow.com/questions/59395984/typescript-is-it-bad-practice-to-explicitly-set-type-when-type-inference-detect", "title": "TypeScript: Is it bad practice to explicitly set type when type inference detects the type correctly?", "body": "<p>when TypeScript infers the variable type correctly, should I set the type explicitly? for exa:</p>\n\n<pre><code>const add = (a: number, b: number) =&gt; a + b;\n\nconst  result = add(2, 3);\n\n// or should I explicitly set return value type?\nconst add = (a: number, b: number): number =&gt; a + b;\n\nconst result = add(2, 3);\n</code></pre>\n\n<p>I know type inference has many cases. If this one is not a bad practice, I would like to know if there's any case in which explicit types are better.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "flutter", "dart"], "comments": [{"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1576690669, "post_id": 59395928, "comment_id": 104983947, "body": "Why don&#39;t you implement the one that Java uses? The pretty standard odd-prime (31) one. <a href=\"https://stackoverflow.com/questions/15518418/whats-behind-the-hashcode-method-for-string-in-java\" title=\"whats behind the hashcode method for string in java\">stackoverflow.com/questions/15518418/&hellip;</a>"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1576691922, "post_id": 59395928, "comment_id": 104984512, "body": "Maybe you should find an alternative that does not rely on hashCode"}], "owner": {"reputation": 87, "user_id": 9516620, "user_type": "registered", "profile_image": "https://graph.facebook.com/1651024601599433/picture?type=large", "display_name": "Ilthizam Imtiyas", "link": "https://stackoverflow.com/users/9516620/ilthizam-imtiyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576685122, "creation_date": 1576685122, "question_id": 59395928, "link": "https://stackoverflow.com/questions/59395928/is-there-any-string-hashing-function-which-gives-same-results-on-dart-and-typesc", "title": "Is there any string hashing function which gives same results on dart and typescript?", "body": "<p>I want to generate a unique id for my chat application. (Chat between flutter app and angular web)</p>\n\n<p>This is my dart code...</p>\n\n<pre><code>   String peerId = widget.peerid; //some string value as ID\n    String currentUserId = widget.currentId; //some string value as ID\n\n    if (currentUserId.hashCode &lt;= peerId.hashCode) {\n      ChatId = '$currentUserId-$peerId';\n    } else {\n      ChatId = '$peerId-$currentUserId';\n    }\n    print(ChatId);\n</code></pre>\n\n<p>From this I am generating a chatid. I want to do the same for my web app end chat room. How can I generate the similar chatId as I generated in dart?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 3, "creation_date": 1576684417, "post_id": 59395669, "comment_id": 104980566, "body": "You can&#39;t sort objects, they are like dictionaries"}], "owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1576684651, "answer_count": 0, "score": 1, "last_activity_date": 1576685178, "creation_date": 1576684258, "last_edit_date": 1576685178, "question_id": 59395669, "link": "https://stackoverflow.com/questions/59395669/sort-objects-by-property-value", "closed_reason": "Duplicate", "title": "Sort objects by property value", "body": "<p>I have the following object key structure:</p>\n\n<pre><code>var obj = {\n  \"1\": {name: \"test\", groups: [...]},\n  \"2\": {name: \"best\", groups: [...]},\n  \"4\": {name: \"pick\", groups: [...]}  \n}\n</code></pre>\n\n<p>I would like to sort 'obj' by property 'name' value.</p>\n\n<p>Desired outcome:</p>\n\n<pre><code>var obj = {\n  \"2\": {name: \"best\", groups: [...]},\n  \"4\": {name: \"pick\", groups: [...]},\n  \"1\": {name: \"test\", groups: [...]}  \n}\n</code></pre>\n\n<p>What I have tried so far using lodash libraries toPairs(), fromPairs() and sortBy() methods:</p>\n\n<pre><code>var toPairs = _.toPairs(obj);\n\nvar test = _.sortBy(toPairs, [function (o) {                \n                 return o[1].name;\n            }]);\n</code></pre>\n\n<p>'test' variable contains an array where the values are sorted as it is desired:</p>\n\n<p>'test' output:</p>\n\n<pre><code>[[\"2\", {name: \"best\", ...}], [\"4\", {name: \"pick\", ...}],[\"1\", {name: \"test\"}]]\n</code></pre>\n\n<p>But when I am using fromPairs() method to convert the array back to object the result object is not sorted:</p>\n\n<pre><code>var sortedObj = _.fromPairs(test); \n</code></pre>\n\n<p>'SortedObj' output:</p>\n\n<pre><code>{\n  \"1\": {name: \"test\", groups: [...]},\n  \"2\": {name: \"best\", groups: [...]},\n  \"4\": {name: \"pick\", groups: [...]}  \n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 812, "user_id": 9333224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575f5439ba86c14eb385efc744f5124f?s=128&d=identicon&r=PG", "display_name": "Arfeo", "link": "https://stackoverflow.com/users/9333224/arfeo"}, "edited": false, "score": 1, "creation_date": 1576744352, "post_id": 59395421, "comment_id": 104999663, "body": "additionally to the Bauke&#39;s answer: you need to change the returning type of your method to <code>U | void</code>, for example, since it doesn&#39;t return anything in case instance is not instanceof HostelType."}], "answers": [{"comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 1, "creation_date": 1576702256, "post_id": 59395555, "comment_id": 104988681, "body": "This is the correct answer, but because <code>U</code> doesn&#39;t have a lower bound and isn&#39;t provided as a type argument to <code>fromAtoB</code>, then it&#39;s still going to have a type error unless <code>fromAtoB</code>&#39;s return type is <code>any</code>, <code>never</code> or another not-lower-bounded type parameter. (Not that Typescript currently supports lower bounds for type variables.)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12251171"}, "is_accepted": true, "score": 1, "last_activity_date": 1576683902, "creation_date": 1576683902, "answer_id": 59395555, "question_id": 59395421, "link": "https://stackoverflow.com/questions/59395421/using-generics-in-typescript/59395555#59395555", "title": "using generics in TypeScript", "body": "<p>You need to define a \"type variable\" as described <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#working-with-generic-type-variables\" rel=\"nofollow noreferrer\">in the handbook</a>, like so:</p>\n\n<pre><code>static fromAtoB&lt;T, U&gt;(instance: T): U {\n    if (instance instanceof HostelType) {\n        return ModelTransformer.hostelTransformer.fromAtoB (instancet);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 493, "user_id": 11679569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vrsb3.jpg?s=128&g=1", "display_name": "Sandro Rey", "link": "https://stackoverflow.com/users/11679569/sandro-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 59395555, "answer_count": 1, "score": 0, "last_activity_date": 1576744011, "creation_date": 1576683466, "last_edit_date": 1576744011, "question_id": 59395421, "link": "https://stackoverflow.com/questions/59395421/using-generics-in-typescript", "title": "using generics in TypeScript", "body": "<p>I have created this class that works with generics in  TypeScript</p>\n\n<pre><code>export class ModelTransformer {\n\n    static hostelTransformer: HostelTransformer;\n\n    static fromAtoB(instance: T): U {\n        if (instance instanceof HostelType) {\n            return ModelTransformer.hostelTransformer.fromAtoB (instancet);\n        }\n    }\n\n}\n</code></pre>\n\n<p>But when I compile it I have those compilation errors:</p>\n\n<blockquote>\n  <p>src/model/transformer/model.transformer.ts:11:47 - error TS2304: Cannot find name 'T'.</p>\n</blockquote>\n\n<pre><code>11     static fromAtoB(instance: T): U {\n</code></pre>\n\n<blockquote>\n  <p>src/model/transformer/model.transformer.ts:11:51 - error TS2304: Cannot find name 'U'.</p>\n</blockquote>\n\n<pre><code>11     static fromAtoB(instance: T): U {\n</code></pre>\n\n<p>I have tried the solution proposed, but then I have this error:</p>\n\n<blockquote>\n  <p>error TS2366: Function lacks ending return statement and return type does not include 'undefined'.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "oauth-2.0", "nativescript", "angular-oauth2-oidc"], "comments": [{"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1576683148, "post_id": 59395169, "comment_id": 104979842, "body": "I don&#39;t think you could use angular-oauth2-oidc, it&#39;s designed for web apps running in browser, not for a native app. Did you check this plugin, <a href=\"https://github.com/EdSaleh/oauth2-oidc-client\" rel=\"nofollow noreferrer\">oauth2-oidc-client</a>?"}, {"owner": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1576683510, "post_id": 59395169, "comment_id": 104980062, "body": "I get this error in the webapp client, I didnt test it for the nativeapp build. But overall I need an OAuth client for both builds."}], "answers": [{"comments": [{"owner": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "edited": false, "score": 0, "creation_date": 1576689401, "post_id": 59396398, "comment_id": 104983333, "body": "Where does the GeneralInterceptor come from?"}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "reply_to_user": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "edited": false, "score": 0, "creation_date": 1576689536, "post_id": 59396398, "comment_id": 104983391, "body": "Edited try now."}, {"owner": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "edited": false, "score": 0, "creation_date": 1576690970, "post_id": 59396398, "comment_id": 104984089, "body": "Thanks, the error is gone, but how can I now inject the <code>AuthNgOauth2OidcService</code> into a component? I cannot use di like before <code>constructor(authService: AuthNgOauth2OidcService){}</code> because I removed the single AuthNgOauth2OidcService from the provider."}, {"owner": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "edited": false, "score": 0, "creation_date": 1576691247, "post_id": 59396398, "comment_id": 104984232, "body": "I don&#39;t know if it&#39;s working right if I don&#39;t have access to the service in another component."}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "reply_to_user": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "edited": false, "score": 0, "creation_date": 1576691525, "post_id": 59396398, "comment_id": 104984351, "body": "As per the error this fix will work... I dont think there would be a problem when injecting this to components. Since i have done it my self while implementing Okta SAML and Okta OAuth."}, {"owner": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "edited": false, "score": 0, "creation_date": 1576692858, "post_id": 59396398, "comment_id": 104984927, "body": "Do you have an open-source example project?"}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "reply_to_user": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "edited": false, "score": 0, "creation_date": 1576692986, "post_id": 59396398, "comment_id": 104984983, "body": "I&#39;m afraid I dont. Once i worked are highly confidential and I cannot share. But as per my experience Okta OAuth 2 is the easiest of them all. It has good documentation too."}], "tags": [], "owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "is_accepted": true, "score": 1, "last_activity_date": 1576689552, "last_edit_date": 1576689552, "creation_date": 1576686790, "answer_id": 59396398, "question_id": 59395169, "link": "https://stackoverflow.com/questions/59395169/cannot-run-oauth2-with-okta-using-angular-oauth2-oidc/59396398#59396398", "title": "Cannot run OAuth2 with Okta using angular-oauth2-oidc", "body": "<p><strong>Try adding this in your providers in auth.module.ts :</strong></p>\n\n<pre><code>providers: [\n    {\n        provide: HTTP_INTERCEPTORS,\n        useClass: AuthNgOauth2OidcService,\n        multi: true\n    },\n    ]\n</code></pre>\n"}], "owner": {"reputation": 802, "user_id": 9990920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46340c22c33f08e7f512ac6e76c2bc?s=128&d=identicon&r=PG&f=1", "display_name": "laprof", "link": "https://stackoverflow.com/users/9990920/laprof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "accepted_answer_id": 59396398, "answer_count": 1, "score": 1, "last_activity_date": 1576689552, "creation_date": 1576682651, "question_id": 59395169, "link": "https://stackoverflow.com/questions/59395169/cannot-run-oauth2-with-okta-using-angular-oauth2-oidc", "title": "Cannot run OAuth2 with Okta using angular-oauth2-oidc", "body": "<p>I would like to develop an auth module for an Angular app. I use Okta as an identity provider and <code>angular-oauth2-oidc</code> is my choice to implement the auth workflow. I am trying to follow this guide <a href=\"https://developer.okta.com/blog/2018/12/04/angular-7-oidc-oauth2-pkce\" rel=\"nofollow noreferrer\">https://developer.okta.com/blog/2018/12/04/angular-7-oidc-oauth2-pkce</a> but I am having trouble and get an error message if I run the web app. How can I make this example code to work?</p>\n\n<p><strong>auth.module.ts</strong></p>\n\n<pre><code>@NgModule({\n    declarations: [\n        RegisterFormComponent,\n        SignInFormComponent,\n        SignInPage,\n    ],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(AUTH_ROUTES),\n        HttpClientModule,\n        OAuthModule.forRoot(),\n    ],\n    providers: [\n        AuthNgOauth2OidcService,\n    ]\n})\nexport class AuthModule {\n}\n\n</code></pre>\n\n<p><strong>auth-ng-oauth2-oidc.service.ts</strong></p>\n\n<pre><code>export class AuthNgOauth2OidcService implements AuthService {\n\n    authConfig: AuthConfig = {\n\n        // Url of the Identity Provider\n        issuer: environment.authIssuer,\n\n        // URL to redirect the user to after login\n        redirectUri: environment.authRedirectUri,\n\n        // The application is registered with this id at the auth-server\n        clientId: environment.authClientId,\n\n        // Set the scope for the permissions the client should request\n        // The first four are defined by OIDC\n        // Request offline_access to get a refresh token\n        scope: 'openid profile email offline_access',\n    };\n\n    public constructor(\n        private authService: OAuthService,\n    ) {\n        this.authService.configure(this.authConfig);\n        this.authService.tokenValidationHandler = new JwksValidationHandler();\n        this.authService.loadDiscoveryDocumentAndTryLogin().then();\n    } \n}\n\n</code></pre>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>  \"dependencies\": {\n    \"@angular/animations\": \"~8.0.1\",\n    \"@angular/cdk\": \"^8.2.3\",\n    \"@angular/common\": \"~8.0.1\",\n    \"@angular/compiler\": \"~8.0.1\",\n    \"@angular/core\": \"~8.0.1\",\n    \"@angular/forms\": \"~8.0.1\",\n    \"@angular/http\": \"~8.0.0-beta.10\",\n    \"@angular/material\": \"^8.2.3\",\n    \"@angular/platform-browser\": \"~8.0.1\",\n    \"@angular/platform-browser-dynamic\": \"~8.0.1\",\n    \"@angular/router\": \"~8.0.1\",\n    \"@fortawesome/angular-fontawesome\": \"^0.5.0\",\n    \"@fortawesome/fontawesome-svg-core\": \"^1.2.25\",\n    \"@fortawesome/free-solid-svg-icons\": \"^5.11.2\",\n    \"@ngrx/effects\": \"^8.5.2\",\n    \"@ngrx/store\": \"^8.4.0\",\n    \"angular-auth-oidc-client\": \"^10.0.10\",\n    \"angular-oauth2-oidc\": \"^8.0.4\",\n    \"core-js\": \"^2.5.4\",\n    \"mathjs\": \"^6.2.3\",\n    \"nativescript-angular\": \"~8.0.1\",\n    \"ng-oidc-client\": \"^1.0.7\",\n    \"oidc-client\": \"^1.10.0\",\n    \"reflect-metadata\": \"~0.1.12\",\n    \"rxjs\": \"~6.5.0\",\n    \"tns-core-modules\": \"~6.0.0\",\n    \"zone.js\": \"~0.9.1\"\n  },\n</code></pre>\n\n<p><strong>error</strong></p>\n\n<pre><code>angular-oauth2-oidc.js:1346 error loading discovery document TypeError: this.interceptor.intercept is not a function\n    at HttpInterceptorHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptorHandler.handle (http.js:1228)\n    at DefaultOAuthInterceptor.push../node_modules/angular-oauth2-oidc/fesm5/angular-oauth2-oidc.js.DefaultOAuthInterceptor.intercept (angular-oauth2-oidc.js:3927)\n    at HttpInterceptorHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptorHandler.handle (http.js:1228)\n    at HttpXsrfInterceptor.push../node_modules/@angular/common/fesm5/http.js.HttpXsrfInterceptor.intercept (http.js:1821)\n    at HttpInterceptorHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptorHandler.handle (http.js:1228)\n    at HttpInterceptingHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptingHandler.handle (http.js:1865)\n    at MergeMapSubscriber.project (http.js:1048)\n    at MergeMapSubscriber.push../node_modules/rxjs/_esm5/internal/operators/mergeMap.js.MergeMapSubscriber._tryNext (mergeMap.js:61)\n    at MergeMapSubscriber.push../node_modules/rxjs/_esm5/internal/operators/mergeMap.js.MergeMapSubscriber._next (mergeMap.js:51)\n    at MergeMapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber.next (Subscriber.js:53)\n</code></pre>\n\n<pre><code>core.js:5847 ERROR Error: Uncaught (in promise): TypeError: this.interceptor.intercept is not a function\nTypeError: this.interceptor.intercept is not a function\n    at HttpInterceptorHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptorHandler.handle (http.js:1228)\n    at DefaultOAuthInterceptor.push../node_modules/angular-oauth2-oidc/fesm5/angular-oauth2-oidc.js.DefaultOAuthInterceptor.intercept (angular-oauth2-oidc.js:3927)\n    at HttpInterceptorHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptorHandler.handle (http.js:1228)\n    at HttpXsrfInterceptor.push../node_modules/@angular/common/fesm5/http.js.HttpXsrfInterceptor.intercept (http.js:1821)\n    at HttpInterceptorHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptorHandler.handle (http.js:1228)\n    at HttpInterceptingHandler.push../node_modules/@angular/common/fesm5/http.js.HttpInterceptingHandler.handle (http.js:1865)\n    at MergeMapSubscriber.project (http.js:1048)\n    at MergeMapSubscriber.push../node_modules/rxjs/_esm5/internal/operators/mergeMap.js.MergeMapSubscriber._tryNext (mergeMap.js:61)\n    at MergeMapSubscriber.push../node_modules/rxjs/_esm5/internal/operators/mergeMap.js.MergeMapSubscriber._next (mergeMap.js:51)\n    at MergeMapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber.next (Subscriber.js:53)\n    at resolvePromise (zone.js:852)\n    at resolvePromise (zone.js:809)\n    at zone.js:913\n    at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:423)\n    at Object.onInvokeTask (core.js:24340)\n    at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:422)\n    at Zone.push../node_modules/zone.js/dist/zone.js.Zone.runTask (zone.js:195)\n    at drainMicroTaskQueue (zone.js:601)\n</code></pre>\n"}, {"tags": ["php", "angular", "typescript", "directory", "tree"], "comments": [{"owner": {"reputation": 11761, "user_id": 4964822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTZqV.jpg?s=128&g=1", "display_name": "nice_dev", "link": "https://stackoverflow.com/users/4964822/nice-dev"}, "edited": false, "score": 0, "creation_date": 1576681669, "post_id": 59394816, "comment_id": 104978984, "body": "Do users&#39; access server files on the front end?"}, {"owner": {"reputation": 1757, "user_id": 1433107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/311ae28285121bb38f0ec1b6717d1aca?s=128&d=identicon&r=PG", "display_name": "ulmas", "link": "https://stackoverflow.com/users/1433107/ulmas"}, "edited": false, "score": 0, "creation_date": 1576684811, "post_id": 59394816, "comment_id": 104980798, "body": "Hello and welcome to SO! What have you tried on the Angular side to achieve what you are trying to do? Can you post some sample code. Thanks!"}, {"owner": {"reputation": 23, "user_id": 9862750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b5d8ecfc9e882ec3813b6aefb25626?s=128&d=identicon&r=PG&f=1", "display_name": "Stijn", "link": "https://stackoverflow.com/users/9862750/stijn"}, "reply_to_user": {"reputation": 11761, "user_id": 4964822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTZqV.jpg?s=128&g=1", "display_name": "nice_dev", "link": "https://stackoverflow.com/users/4964822/nice-dev"}, "edited": false, "score": 0, "creation_date": 1576748993, "post_id": 59394816, "comment_id": 105001992, "body": "@vivek_23 The user has to fill in the path manually by copying the folder path out of their finder/explorer."}, {"owner": {"reputation": 23, "user_id": 9862750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b5d8ecfc9e882ec3813b6aefb25626?s=128&d=identicon&r=PG&f=1", "display_name": "Stijn", "link": "https://stackoverflow.com/users/9862750/stijn"}, "reply_to_user": {"reputation": 1757, "user_id": 1433107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/311ae28285121bb38f0ec1b6717d1aca?s=128&d=identicon&r=PG", "display_name": "ulmas", "link": "https://stackoverflow.com/users/1433107/ulmas"}, "edited": false, "score": 0, "creation_date": 1576749003, "post_id": 59394816, "comment_id": 105001995, "body": "@ulmas I have not tried anything on the front end since im not sure on how to implement this method since I have no default value. if you know what I mean"}], "owner": {"reputation": 23, "user_id": 9862750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b5d8ecfc9e882ec3813b6aefb25626?s=128&d=identicon&r=PG&f=1", "display_name": "Stijn", "link": "https://stackoverflow.com/users/9862750/stijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576682810, "creation_date": 1576681527, "last_edit_date": 1576682810, "question_id": 59394816, "link": "https://stackoverflow.com/questions/59394816/angular-tree-from-folder-structure", "title": "Angular tree from folder structure", "body": "<p>I'm trying to create a tree that shows on the front end. <br/>\nThe user gives a location which the backend reads and creates a tree from and sends this back.\nThis tree can look many different ways. How can i get it so that the front end reads this and created the right tree for it? <br/>\nexample: <br/>\nFrontend sends the path: <code>/usr/test/dir1/</code><br/>\nBackend reads this with the following function:<br/></p>\n\n<pre class=\"lang-php prettyprint-override\"><code>function dirtree($dir)\n{\n    $dh = scandir($dir);\n    $return = array();\n\n    foreach ($dh as $folder) {\n        if ($folder != '.' &amp;&amp; $folder != '..') {\n            if (is_dir($dir . '/' . $folder)) {\n                $return[] = array($folder =&gt; $this-&gt;dirtree($dir . '/' . $folder));\n            } else {\n                $return[] = $folder;\n            }\n        }\n    }\n    return $return;\n}\n</code></pre>\n\n<p>Backend returns something like: <br/></p>\n\n<pre><code>{\n    \"maindir\": [\n        \".DS_Store\",\n        {\n            \"dir1\": []\n        },\n        {\n            \"subdir1\": [\n                \".DS_Store\",\n                {\n                    \"subdir2\": [\n                        {\n                            \"subdir3\": []\n                        },\n                        {\n                            \"subdir4\": []\n                        }\n                    ]\n                },\n}\n</code></pre>\n\n<p>How can I translate this to the front-end? \nOr how can I add a type children to this? </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 427, "user_id": 3693312, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/46eab730d24d4bb8c3b5b0982d7fd98b?s=128&d=identicon&r=PG&f=1", "display_name": "Rager", "link": "https://stackoverflow.com/users/3693312/rager"}, "edited": false, "score": 0, "creation_date": 1577817559, "post_id": 59394581, "comment_id": 105264081, "body": "Were any of these answers helpful? How&#39;s about giving someone credit for their effort in helping you?"}], "answers": [{"tags": [], "owner": {"reputation": 8228, "user_id": 6345871, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SaDYZ6x0Jtw/AAAAAAAAAAI/AAAAAAAAAJI/hulh_qP_EKQ/photo.jpg?sz=128", "display_name": "Alberto Trindade Tavares", "link": "https://stackoverflow.com/users/6345871/alberto-trindade-tavares"}, "is_accepted": true, "score": 0, "last_activity_date": 1576682439, "last_edit_date": 1576682439, "creation_date": 1576682097, "answer_id": 59395001, "question_id": 59394581, "link": "https://stackoverflow.com/questions/59394581/modifying-an-object-based-on-a-path/59395001#59395001", "title": "Modifying an object based on a path", "body": "<p>You can create a version of <code>getAttributeFromPath</code> to set an attribute from a path, and then use this to modify the first object.</p>\n\n<p>Below I created a version (<code>setAttributeFromPath</code>) using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\"><code>forEach</code></a> instead of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let dataObj = {\r\n  name: 'Old Name',\r\n  address: {\r\n    state: 'CA',\r\n    timezone: 'America/California'\r\n  }\r\n};\r\n\r\nlet modifiedValues = {\r\n  'name': 'New Name',\r\n  'address.state': 'FL',\r\n  'address.timezone': 'America/New_York'\r\n};\r\n\r\nconst setAttributeFromPath = (path, entity, value) =&gt; {\r\n  const pathParts = path.split('.');\r\n  let obj = entity;\r\n  \r\n  pathParts.forEach((part, index) =&gt; {\r\n    if (obj[part]) {\r\n      if (index &lt; pathParts.length - 1) {\r\n        obj = obj[part];\r\n      } else {\r\n        obj[part] = value;\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nObject.entries(modifiedValues).forEach(([key, value]) =&gt; {\r\n  setAttributeFromPath(key, dataObj, value);\r\n});\r\n\r\nconsole.log(dataObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can try to come up with a nice one-liner version of <code>setAttributeFromPath</code> which uses <code>reduce</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 1927, "user_id": 3125339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJoVN.png?s=128&g=1", "display_name": "MEDZ", "link": "https://stackoverflow.com/users/3125339/medz"}, "is_accepted": false, "score": 0, "last_activity_date": 1576684845, "last_edit_date": 1576684845, "creation_date": 1576682520, "answer_id": 59395138, "question_id": 59394581, "link": "https://stackoverflow.com/questions/59394581/modifying-an-object-based-on-a-path/59395138#59395138", "title": "Modifying an object based on a path", "body": "<p>You need to loop through your items and check each for a dotted value. Then build a new object with the new structure:</p>\n\n<pre><code>let modifiedValues = {\n    'name': 'New Name',\n    'address.state': 'FL',\n    'address.timezone': 'America/New_York'\n};\n\nlet newValues = {};\nfor(let item in modifiedValues){\n    if(item.includes('.')){\n        let splited = item.split('.');\n        if(splited[0] in newValues)\n            newValues[splited[0]][splited[1]] = modifiedValues[item];\n        else{\n            newValues[splited[0]] = {};\n            newValues[splited[0]][splited[1]] = modifiedValues[item];\n        }\n    }else{\n        newValues[item] = modifiedValues[item];\n    }\n}\nconsole.log(newValues);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 427, "user_id": 3693312, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/46eab730d24d4bb8c3b5b0982d7fd98b?s=128&d=identicon&r=PG&f=1", "display_name": "Rager", "link": "https://stackoverflow.com/users/3693312/rager"}, "is_accepted": false, "score": 0, "last_activity_date": 1576683529, "creation_date": 1576683529, "answer_id": 59395436, "question_id": 59394581, "link": "https://stackoverflow.com/questions/59394581/modifying-an-object-based-on-a-path/59395436#59395436", "title": "Modifying an object based on a path", "body": "<p>You can make use of the <code>eval</code> function here. The only thing you need to iterate over is your modified values, then simply set them.</p>\n\n<pre><code>let dataObj = {\n  name: 'Old Name',\n  address: {\n    state: 'CA',\n    timezone: 'America/California'\n  }\n}\n\nlet modifiedValues = {\n  'name': 'New Name',\n  'address.state': 'FL',\n  'address.timezone': 'America/New_York'\n}\n\nfunction updateObject(values, obj){\n    Object.keys(values).forEach( key=&gt; {\n        eval(`obj.${key} = values[key]`);\n    });\n}\n\nupdateObject(modifiedValues, dataObj);\nconsole.log(dataObj);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": false, "score": 0, "last_activity_date": 1576706608, "last_edit_date": 1576706608, "creation_date": 1576686674, "answer_id": 59396360, "question_id": 59394581, "link": "https://stackoverflow.com/questions/59394581/modifying-an-object-based-on-a-path/59396360#59396360", "title": "Modifying an object based on a path", "body": "<p>Here's a much more concise and efficient take on such a function based on popping off the last value and using that to assign the correct reference to the new value:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let dataObj = {\r\n  name: 'Old Name',\r\n  address: {\r\n    state: 'CA',\r\n    timezone: 'America/California'\r\n  }\r\n}\r\n\r\nlet modifiedValues = {\r\n  'name': 'New Name',\r\n  'address.state': 'FL',\r\n  'address.timezone': 'America/New_York'\r\n}\r\n\r\nfunction setAttributeFromPath(path, entity, value) {\r\n  const final = (path = path.split('.')).pop();\r\n  path.reduce((a, b) =&gt; a &amp;&amp; a[b], entity)[final] = value;\r\n}\r\n\r\nfor(const key in modifiedValues) setAttributeFromPath(key, dataObj, modifiedValues[key]);\r\n\r\nconsole.log(dataObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The loop can be combined into the function with something like this, using array destructuring:</p>\n\n<pre><code>function setAttributesFromPath(pathMap, entity) {\n  Object.entries(pathMap).forEach(([path,value]) =&gt; {\n    const final = (path = path.split('.')).pop();\n    path.reduce((a, b) =&gt; a &amp;&amp; a[b], entity)[final] = value;\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 2658, "user_id": 1760836, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4B9Bl.jpg?s=128&g=1", "display_name": "Zach Starnes", "link": "https://stackoverflow.com/users/1760836/zach-starnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 59395001, "answer_count": 4, "score": 3, "last_activity_date": 1576706608, "creation_date": 1576680723, "last_edit_date": 1576681669, "question_id": 59394581, "link": "https://stackoverflow.com/questions/59394581/modifying-an-object-based-on-a-path", "title": "Modifying an object based on a path", "body": "<p>I am trying to modify an object dynamically based on a path. But I am having some trouble. I have the below method that gets me the value at a path but now I need to modify a value at a path. The path length should not matter either so <code>prop.prop.prop.prop</code> should be okay. For example</p>\n\n<pre><code>let dataObj = {\n  name: 'Old Name',\n  address: {\n    state: 'CA',\n    timezone: 'America/California'\n  }\n}\n\nlet modifiedValues = {\n  'name': 'New Name'\n  'address.state': 'FL',\n  'address.timezone': 'America/New_York'\n}\n</code></pre>\n\n<p>I want to be able to loop over the second object and use the key and value to modify the first object or create a new object that follows that structure. That way I get an object that looks like below:</p>\n\n<pre><code>let dataObj = {\n  name: 'New Name',\n  address: {\n    state: 'FL',\n    timezone: 'America/New_York'\n  }\n}\n</code></pre>\n\n<p>Here is the method I have that will get me the value based on a path for reference:</p>\n\n<pre><code>getAttributeFromPath(path: string, entity: any): any {\n  return path.split('.').reduce((a, b) =&gt; a &amp;&amp; a[b], entity);\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 12416247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RsaQq.png?s=128&g=1", "display_name": "alex-jesper", "link": "https://stackoverflow.com/users/12416247/alex-jesper"}, "is_accepted": false, "score": 0, "last_activity_date": 1576683845, "creation_date": 1576683845, "answer_id": 59395538, "question_id": 59394580, "link": "https://stackoverflow.com/questions/59394580/how-do-i-write-a-ts-d-file-that-exports-a-javascript-object-instance/59395538#59395538", "title": "How do I write a ts.d file that exports a javascript object instance", "body": "<p>To others with the same problem. The d.ts file should contain:</p>\n\n<pre><code>declare const _greeter: Greeeter\nexport default _greeter\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 12416247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RsaQq.png?s=128&g=1", "display_name": "alex-jesper", "link": "https://stackoverflow.com/users/12416247/alex-jesper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576683845, "creation_date": 1576680719, "last_edit_date": 1576680859, "question_id": 59394580, "link": "https://stackoverflow.com/questions/59394580/how-do-i-write-a-ts-d-file-that-exports-a-javascript-object-instance", "title": "How do I write a ts.d file that exports a javascript object instance", "body": "<p>I have a js file that I would like to generate typings for. \nThe js exports an object:</p>\n\n<pre><code>function Greeter(greeting) {\n    this.greet = function() {\n        console.log(this.greeting)\n    }\n}\n\nmodule.exports = new Greeter(\"Hello\")\n</code></pre>\n\n<p>I would like to be able to import and use the greeter object in typescript as:</p>\n\n<pre><code>import Greeter from ('greeter')\nGreeter.greet()\n</code></pre>\n\n<p>Which should log \"Hello\".</p>\n\n<p>But I am unable to write a d.ts file that exports the object only the class. I try doing it like this:</p>\n\n<pre><code>export declare class Greeter {\n    greet(): void\n}\n</code></pre>\n\n<p>But when \"import g from {'greeter'}\" g does not have the greet method(), but has a g.Greeter class.</p>\n\n<p>So how do I write a d.ts file that exports an object instance?</p>\n"}, {"tags": ["regex", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 9629503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSmJl2BEhGI/AAAAAAAAAAI/AAAAAAAAATo/ZfHld8EierA/photo.jpg?sz=128", "display_name": "Jeppe Spanggaard", "link": "https://stackoverflow.com/users/9629503/jeppe-spanggaard"}, "edited": false, "score": 0, "creation_date": 1576680744, "post_id": 59394515, "comment_id": 104978410, "body": "Mark your answer as the solution to the question. :-)"}, {"owner": {"reputation": 4779, "user_id": 44680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa2c76127bab250610ded140300a219?s=128&d=identicon&r=PG", "display_name": "Pianosaurus", "link": "https://stackoverflow.com/users/44680/pianosaurus"}, "edited": false, "score": 0, "creation_date": 1576680966, "post_id": 59394515, "comment_id": 104978553, "body": "But remember that this will mess with negative numbers, if you need to support that."}, {"owner": {"reputation": 164, "user_id": 6661472, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154283144077605/picture?type=large", "display_name": "Lucas Crandle", "link": "https://stackoverflow.com/users/6661472/lucas-crandle"}, "reply_to_user": {"reputation": 83, "user_id": 9629503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSmJl2BEhGI/AAAAAAAAAAI/AAAAAAAAATo/ZfHld8EierA/photo.jpg?sz=128", "display_name": "Jeppe Spanggaard", "link": "https://stackoverflow.com/users/9629503/jeppe-spanggaard"}, "edited": false, "score": 0, "creation_date": 1576691479, "post_id": 59394515, "comment_id": 104984332, "body": "@JeppeSpanggaard It says I have to wait 2 days before I can mark my own solution ."}, {"owner": {"reputation": 164, "user_id": 6661472, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154283144077605/picture?type=large", "display_name": "Lucas Crandle", "link": "https://stackoverflow.com/users/6661472/lucas-crandle"}, "reply_to_user": {"reputation": 4779, "user_id": 44680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa2c76127bab250610ded140300a219?s=128&d=identicon&r=PG", "display_name": "Pianosaurus", "link": "https://stackoverflow.com/users/44680/pianosaurus"}, "edited": false, "score": 0, "creation_date": 1576691595, "post_id": 59394515, "comment_id": 104984384, "body": "@Pianosaurus Thanks for pointing this out. In this case I do not need to exclude negative numbers"}], "tags": [], "owner": {"reputation": 164, "user_id": 6661472, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154283144077605/picture?type=large", "display_name": "Lucas Crandle", "link": "https://stackoverflow.com/users/6661472/lucas-crandle"}, "is_accepted": true, "score": 1, "last_activity_date": 1576680529, "creation_date": 1576680529, "answer_id": 59394515, "question_id": 59394392, "link": "https://stackoverflow.com/questions/59394392/regex-break-string-into-words-preserve-digits-but-not-dashes/59394515#59394515", "title": "Regex break string into words, preserve digits but not dashes", "body": "<p>I just figured it out.</p>\n\n<p>By using an 'or' condition I was able to split on all dashes:</p>\n\n<pre><code>((\\W)(?!\\d+ )|-)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1576683555, "post_id": 59394643, "comment_id": 104980080, "body": "You could use <code>[^\\w.]</code>"}], "tags": [], "owner": {"reputation": 4779, "user_id": 44680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa2c76127bab250610ded140300a219?s=128&d=identicon&r=PG", "display_name": "Pianosaurus", "link": "https://stackoverflow.com/users/44680/pianosaurus"}, "is_accepted": false, "score": 2, "last_activity_date": 1576680913, "creation_date": 1576680913, "answer_id": 59394643, "question_id": 59394392, "link": "https://stackoverflow.com/questions/59394392/regex-break-string-into-words-preserve-digits-but-not-dashes/59394643#59394643", "title": "Regex break string into words, preserve digits but not dashes", "body": "<p><code>\\W</code> is an alias for non-word characters (word-characters being <code>a-z</code>, <code>A-Z</code>, <code>0-9</code> and <code>_</code>). Instead of using the alias, you can type it manually, and expand it as needed.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"SIZE 0.25 510-15 PSIG\".split(/[^a-zA-Z0-9_.]/g)\n</code></pre>\n\n<blockquote>\n  <p>Output: <code>Array(5) [ \"SIZE\", \"0.25\", \"510\", \"15\", \"PSIG\" ]</code></p>\n</blockquote>\n\n<p>Note that you might want to combine it with your lookaheads if you want to make sure the dot is in a number, and that the dash is not in front of a number (if you need to support negative numbers).</p>\n"}], "owner": {"reputation": 164, "user_id": 6661472, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154283144077605/picture?type=large", "display_name": "Lucas Crandle", "link": "https://stackoverflow.com/users/6661472/lucas-crandle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 59394515, "answer_count": 2, "score": 0, "last_activity_date": 1576680913, "creation_date": 1576680125, "last_edit_date": 1592644375, "question_id": 59394392, "link": "https://stackoverflow.com/questions/59394392/regex-break-string-into-words-preserve-digits-but-not-dashes", "title": "Regex break string into words, preserve digits but not dashes", "body": "<p>I'm looking for a regex string that I can pass into a typescript split function that will split up words and punctuation, but preserve numbers.</p>\n<p>Example String:</p>\n<pre><code>SIZE 0.25 510-15 PSIG\n</code></pre>\n<p>I've tried just /\\W/g, but then the period on &quot;0.25&quot; is captured</p>\n<p><a href=\"https://i.stack.imgur.com/TFsL8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TFsL8.png\" alt=\"enter image description here\" /></a></p>\n<p>so then I added a negative lookahead:</p>\n<pre><code>/(\\W)(?!\\d+ )/g\n</code></pre>\n<p>But then the dash on &quot;510-15&quot; is not captured and I need it to be.</p>\n<p><a href=\"https://i.stack.imgur.com/76H0R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76H0R.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm looking for a regex match that would not split on a decimal point between two numbers, but would split on a dash between two numbers. Any ideas would be appreciated!</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1576680183, "post_id": 59394266, "comment_id": 104978066, "body": "There&#39;s no <code>this</code> for a static method (no instance, that is, <code>this</code> refers to the class), that&#39;s pretty much the point of static methods and properties. Why do you declare <code>transform</code> as static?"}], "answers": [{"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": true, "score": 1, "last_activity_date": 1576680731, "last_edit_date": 1576680731, "creation_date": 1576679964, "answer_id": 59394356, "question_id": 59394266, "link": "https://stackoverflow.com/questions/59394266/error-creating-class-with-properties-in-the-constructor/59394356#59394356", "title": "Error creating class with properties in the constructor", "body": "<p>You can't access the <em>instance</em> properties inside static methods.</p>\n\n<p>When you use <code>private readonly hostelTransformer: HostelTransformer</code> in the constructor, it goes on the instance of the <code>ModelTransformer</code> class. Like this</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(hostelTransformer) {\n  this.hostelTransformer = hostelTransformer;\n}\n</code></pre>\n\n<p>You can't use <code>return this.hostelTransformer.transform(hostel)</code> because <code>transform</code> is a static method. When you call <code>ModelTransformer.transform()</code>, <code>this</code> will be <code>ModelTransformer</code> and not the instance of the class.</p>\n\n<p>If you want to use that property, you need to make the method non-static</p>\n"}], "owner": {"reputation": 493, "user_id": 11679569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vrsb3.jpg?s=128&g=1", "display_name": "Sandro Rey", "link": "https://stackoverflow.com/users/11679569/sandro-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 1, "accepted_answer_id": 59394356, "answer_count": 1, "score": 0, "last_activity_date": 1576680731, "creation_date": 1576679619, "last_edit_date": 1576679958, "question_id": 59394266, "link": "https://stackoverflow.com/questions/59394266/error-creating-class-with-properties-in-the-constructor", "title": "Error creating class with properties in the constructor", "body": "<p>I have created this class:</p>\n\n<pre><code>export class ModelTransformer {\n  constructor(private readonly hostelTransformer: HostelTransformer) {}\n\n  static transform(hostel: Hostel): Hotel {\n    return hostelTransformer.transform(hostel);\n  }\n}\n</code></pre>\n\n<p>But when I compile it I have this compilation error:</p>\n\n<blockquote>\n  <p>error TS2304: Cannot find name 'hostelTransformer'.</p>\n</blockquote>\n\n<p>I also tried </p>\n\n<pre><code> static transform(hostel: Hostel): Hotel {\n        return this.hostelTransformer.transform(hostel);\n      }\n</code></pre>\n\n<p>but then I have the error:</p>\n\n<pre><code>error TS2339: Property 'hostelTransformer' does not exist on type 'typeof ModelTransformer'.\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576678121, "post_id": 59393791, "comment_id": 104976914, "body": "<code>ReturnType&lt;typeof someFunction&gt;</code>"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 1, "creation_date": 1576678186, "post_id": 59393791, "comment_id": 104976945, "body": "what definition has someFunction in terms of types and body?"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1576678535, "creation_date": 1576678535, "answer_id": 59393948, "question_id": 59393791, "link": "https://stackoverflow.com/questions/59393791/infer-return-type-of-function-from-passed-array-of-strings/59393948#59393948", "title": "Infer return type of function from passed array of strings", "body": "<p>You will need a type parameter to capture the <code>keyowrds</code> literal types. You can then use <code>Record</code> to create a type with those properties and of a specific type:</p>\n\n<pre><code>\nlet result = someFunction({ keywords: ['a', 'b'] });\nvar o = { keywords: ['a', 'b'] } as const; //needed to preserve literal types if options are declared separately \nlet result2 = someFunction(o);\n\n\nfunction someFunction&lt;V extends PropertyKey&gt;(p: { readonly keywords: readonly V[] }) : Record&lt;V, string&gt;{\n  return null!;\n}\n\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=10&amp;ssc=1&amp;pln=1&amp;pc=1#code/FAGwpgLgBATmDOBXE0C8V4HsC2YBiiAdgMYQCWmhAFAN5QDWYAngO6YwAm8AXFANoByAIYCANFAEAjAQF0oAXwCUAbmAA3ITCiYo6Oo1bsuvQSPFTZCqEPhRileBFXhocJCgBMujDnxFSFNSYKsChAGb+5JQ+uAQkUYQAPABqUGAAHhBghFxQAAowmAAOYDAQTADSzAB8VEW8dHBCHJQgTAzMbJw8sGDNre3JfHJKULwASmD2nCnijjBkhADm1TTAUL0QiDCEUITIIACEqvLAQA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 2253, "user_id": 2182142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cnsfI.png?s=128&g=1", "display_name": "sqwk", "link": "https://stackoverflow.com/users/2182142/sqwk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 59393948, "answer_count": 1, "score": 0, "last_activity_date": 1576678562, "creation_date": 1576678033, "last_edit_date": 1576678562, "question_id": 59393791, "link": "https://stackoverflow.com/questions/59393791/infer-return-type-of-function-from-passed-array-of-strings", "title": "Infer return type of function from passed array of strings", "body": "<p>Is it possible to infer the return type of a function in typescript from a passed array of strings?</p>\n\n<pre><code>type Options = {\n    keywords?: string[];\n};\n\nfunction someFunction(options: Options): {[key: string]: string} {...}\n\nlet options: Options = { keywords: ['a', 'b']};\nlet result = someFunction(options);\n\n// result = {\n//    a: 'something',\n//    b: 'something else'\n// }\n\n// result.a exists\n// result.b exists\n// result.c does not exist = error\n</code></pre>\n\n<p>At the moment, I am typing the function's return type as a loose dictionary, but would like to infer what keys are actually available depending the options input.</p>\n\n<p>I had a play with <code>keyof</code>, <code>typeof</code> and <code>as const</code> but cannot seem to find the winning combination. Is it actually possible to type this?</p>\n"}, {"tags": ["angular", "typescript", "ag-grid", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 9344, "user_id": 1417185, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5rjLN.jpg?s=128&g=1", "display_name": "Paritosh", "link": "https://stackoverflow.com/users/1417185/paritosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1576734880, "last_edit_date": 1576734880, "creation_date": 1576734531, "answer_id": 59403909, "question_id": 59393786, "link": "https://stackoverflow.com/questions/59393786/how-to-do-a-server-side-filter-in-ag-grid-floating-filter/59403909#59403909", "title": "How to do a server side filter in ag-grid floating filter", "body": "<blockquote>\n  <p>this.loadData() throws an error 'this.loadData() is not a function'</p>\n</blockquote>\n\n<p>I think this issue is related to scoping inside <code>textCustomComparator</code> function. Change your function declaration to <code>Arrow function</code> syntax like below.</p>\n\n<pre><code>      textCustomComparator: (filter, value, filterText) =&gt; {\n        const filteredText = filterText.charAt(0).toUpperCase() + filterText.slice(1);\n        if (filteredText) {\n          store.dispatch(new ListStoreActions.ActionFilter(filteredText));\n          store.dispatch(new ListStoreActions.SetCurrentPage());\n          this.loadData(); //throwing error since it is called from constructor\n        } else {\n          console.log('else block got called');\n          store.dispatch(new ListStoreActions.RemoveActionFilter());\n        }\n      }\n</code></pre>\n\n<p>More reference on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\"><code>Arrow function</code></a></p>\n"}], "owner": {"reputation": 2098, "user_id": 10982622, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DCOtdbWTAK4/AAAAAAAAAAI/AAAAAAAAAO8/oWWtqpcowH8/photo.jpg?sz=128", "display_name": "Nidhin Kumar", "link": "https://stackoverflow.com/users/10982622/nidhin-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576734880, "creation_date": 1576678029, "question_id": 59393786, "link": "https://stackoverflow.com/questions/59393786/how-to-do-a-server-side-filter-in-ag-grid-floating-filter", "title": "How to do a server side filter in ag-grid floating filter", "body": "<p>I am using Ag-grid free edition in which i have loaded the datas from server.I have set the floatingFilter option as true which filters the datas available.But i would like to filter the data from server side (Global filter for each column).</p>\n\n<p>I have tried the below code for every input from the user storing it the store and making a server call and getting the response.</p>\n\n<p>But what happens is</p>\n\n<ul>\n<li><p>this.loadData() throws an error 'this.loadData() is not a function'</p></li>\n<li><p>If the input is cleared i am trying to clear the store but couldn't\nmake it.</p></li>\n</ul>\n\n<pre><code>this.columnDefs = [\n      { headerName: 'ID', width: 100, valueGetter: (args) =&gt; this.getIdValue(args) },\n      {\n        headerName: 'Action',\n        field: 'action',\n        filterParams: {\n          filterOptions: ['contains'],\n          textCustomComparator: function(filter, value, filterText) {\n            const filteredText = filterText.charAt(0).toUpperCase() + filterText.slice(1);\n            if (filteredText) {\n              store.dispatch(new ListStoreActions.ActionFilter(filteredText));\n              store.dispatch(new ListStoreActions.SetCurrentPage());\n              this.loadData(); //throwing error since it is called from constructor\n            } else {\n              console.log('else block got called');\n              store.dispatch(new ListStoreActions.RemoveActionFilter());\n            }\n          },\n        },\n        debounceMs: 2000,\n        suppressMenu: true,\n        floatingFilterComponentParams: { suppressFilterButton: true }\n      },\n      { headerName: 'Collection', field: 'collectionName'},\n      { headerName: 'Date', field: 'date'},\n      { headerName: 'End Point', field: 'endpoint'},\n      { headerName: 'IP', field: 'ipAddress' },\n      { headerName: 'Method', field: 'method' },\n      { headerName: 'Status Code', field: 'statusCode' },\n    ];\n</code></pre>\n\n<p>I am calling the above in the constructor</p>\n\n<p>I would like to know whether the approach i have done is correct or is there any better solution for it.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "components", "bit.dev"], "answers": [{"tags": [], "owner": {"reputation": 513, "user_id": 7066622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RGWU4.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/7066622/josh"}, "is_accepted": false, "score": 3, "last_activity_date": 1576679186, "creation_date": 1576679186, "answer_id": 59394141, "question_id": 59393661, "link": "https://stackoverflow.com/questions/59393661/how-do-i-create-typescript-components-in-a-javascript-project-using-bit/59394141#59394141", "title": "How do I create typescript components in a javascript project using bit?", "body": "<p>you can use the <a href=\"https://docs.bit.dev/docs/overrides#__docusaurus\" rel=\"nofollow noreferrer\">override feature</a> in <a href=\"https://github.com/teambit/bit\" rel=\"nofollow noreferrer\">bit</a>.<br>\nAdd all your new TypeScript components with a special flag(<code>typescript-components</code> in my example), so it will be easier to override the compiler for these components.<br>\nHere is an example of how the bit object in your <code>package.json</code> or <code>bit.json</code> file should look:</p>\n\n<pre><code>{\n    \"env\": {\n        \"compiler\": \"bit.envs/compilers/react@1.0.6\"\n    },\n    \"componentsDefaultDirectory\": \"components/{name}\",\n    \"packageManager\": \"npm\",\n    \"overrides\": {\n        \"typescript-components/*\": {\n            \"env\": {\n                \"compiler\": \"bit.envs/compilers/react-typescript@3.1.23\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see, all the components in the project will use the <code>react</code> compiler, and all components with <code>typescript-components</code> <a href=\"https://docs.bit.dev/docs/best-practices.html#use-namespaces\" rel=\"nofollow noreferrer\">namespace</a> will use the <code>react-typescript</code> compiler.</p>\n"}], "owner": {"reputation": 21, "user_id": 7463086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7cb4b7940f71154bea6d76ec960a87?s=128&d=identicon&r=PG&f=1", "display_name": "Oded Reuveny", "link": "https://stackoverflow.com/users/7463086/oded-reuveny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1576684892, "creation_date": 1576677607, "last_edit_date": 1576684892, "question_id": 59393661, "link": "https://stackoverflow.com/questions/59393661/how-do-i-create-typescript-components-in-a-javascript-project-using-bit", "title": "How do I create typescript components in a javascript project using bit?", "body": "<p>I want to create a few typescript components in an existing javascript project. My new components will all be placed in a single folder and will use the <code>react-typescript</code> compiler as opposed to the <code>react</code> compiler that the rest of the components use.\nHow can I define this complier to the entire folder (and all the components in it) but keep the existing compiler on all the existing bit components in the project?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "post", "request-headers"], "answers": [{"comments": [{"owner": {"reputation": 9988, "user_id": 2986537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff296a622eb6993b28017005d1f7e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Razib", "link": "https://stackoverflow.com/users/2986537/razib"}, "edited": false, "score": 0, "creation_date": 1576678717, "post_id": 59393709, "comment_id": 104977225, "body": "Thanks, it does remove the problem but the header doesn&#39;t contain any value yet.  Am I doing anything wrong?"}, {"owner": {"reputation": 822, "user_id": 2409641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3yf7.jpg?s=128&g=1", "display_name": "Flo", "link": "https://stackoverflow.com/users/2409641/flo"}, "reply_to_user": {"reputation": 9988, "user_id": 2986537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff296a622eb6993b28017005d1f7e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Razib", "link": "https://stackoverflow.com/users/2986537/razib"}, "edited": false, "score": 0, "creation_date": 1576682793, "post_id": 59393709, "comment_id": 104979629, "body": "What is your API ? Is it a NodeJS API ? Show us how you&#39;re reading the headers on server side"}, {"owner": {"reputation": 822, "user_id": 2409641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3yf7.jpg?s=128&g=1", "display_name": "Flo", "link": "https://stackoverflow.com/users/2409641/flo"}, "reply_to_user": {"reputation": 9988, "user_id": 2986537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff296a622eb6993b28017005d1f7e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Razib", "link": "https://stackoverflow.com/users/2986537/razib"}, "edited": false, "score": 1, "creation_date": 1576682843, "post_id": 59393709, "comment_id": 104979658, "body": "By the way, if you want to check if the headers are correctly sent, you can use dev tools. Before sending the request open Dev tools (f12) and go to Network tab. Send the request. Then you&#39;ll see the request in the list when it&#39;s launched. You then are able to inspect the headers that are sent in the request."}], "tags": [], "owner": {"reputation": 822, "user_id": 2409641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3yf7.jpg?s=128&g=1", "display_name": "Flo", "link": "https://stackoverflow.com/users/2409641/flo"}, "is_accepted": false, "score": 2, "last_activity_date": 1576677764, "creation_date": 1576677764, "answer_id": 59393709, "question_id": 59393627, "link": "https://stackoverflow.com/questions/59393627/setting-header-at-post-request-angular/59393709#59393709", "title": "Setting header at post request - angular", "body": "<p>Consider using <code>HttpHeaders</code>.</p>\n\n<p>For example: </p>\n\n<p>(I just put <code>application/json</code> content-type header for example purpose).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nimport { HttpHeaders } from '@angular/common/http';\n[...]\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json', 'username': username)\n};\n[...]\n\nreturn this.http.post&lt;any&gt;(`${environment.authBaseUrl}`, { username, password }, httpOptions) //4\n  .pipe(map(user =&gt; {\n    if (user &amp;&amp; user.token) {\n      localStorage.setItem('currentUser', JSON.stringify(user));\n      this.currentUserSubject.next(user);\n    }\n\n    return user;\n  }));\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3395, "user_id": 10409167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blZR5.jpg?s=128&g=1", "display_name": "Arcteezy", "link": "https://stackoverflow.com/users/10409167/arcteezy"}, "is_accepted": true, "score": 2, "last_activity_date": 1576677864, "creation_date": 1576677864, "answer_id": 59393740, "question_id": 59393627, "link": "https://stackoverflow.com/questions/59393627/setting-header-at-post-request-angular/59393740#59393740", "title": "Setting header at post request - angular", "body": "<p>Use <code>HttpHeaders</code> instead of <code>Headers</code>,</p>\n\n<pre><code>import { HttpHeaders } from '@angular/common/http';\n\nlet options = {\n  headers: new HttpHeaders({ 'username': username })\n}\n</code></pre>\n"}], "owner": {"reputation": 9988, "user_id": 2986537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff296a622eb6993b28017005d1f7e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Razib", "link": "https://stackoverflow.com/users/2986537/razib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 59393740, "answer_count": 2, "score": 1, "last_activity_date": 1576680590, "creation_date": 1576677517, "last_edit_date": 1576680590, "question_id": 59393627, "link": "https://stackoverflow.com/questions/59393627/setting-header-at-post-request-angular", "title": "Setting header at post request - angular", "body": "<p>I've post method at my angular service say <code>AuthService.ts</code> like this </p>\n\n<pre><code>@Injectable({\n    providedIn: 'root'\n})\nexport class AuthService {\n    ...\n    ...\n    login(username: string, password: string) {\n        let headers = new Headers(); //1 \n        headers.append('username', username); //2\n        let options = {\n            headers: headers\n        }; //3\n\n        return this.http.post &lt; any &gt; (`${environment.authBaseUrl}`, {\n                username,\n                password\n            }, options) //4\n            .pipe(map(user =&gt; {\n                if (user &amp;&amp; user.token) {\n                    localStorage.setItem('currentUser', JSON.stringify(user));\n                    this.currentUserSubject.next(user);\n                }\n\n                return user;\n            }));\n    }\n}\n</code></pre>\n\n<p>My purpose is to add the username at the POST request header. Cause there in the API it is expecting that a username will be found at the request header. With the help of <a href=\"https://stackoverflow.com/questions/47757655/how-to-add-headers-to-my-angular-post-request/47757775\">this post in StackOverflow</a>, I'm trying to add the header (from comment 1 to 4). I'm getting the below error message - </p>\n\n<blockquote>\n  <p>TS2345:\n  Argument\u00a0of\u00a0type\u00a0'{\u00a0headers:\u00a0Headers;\u00a0}'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0parameter\u00a0of\u00a0type\u00a0'{\u00a0headers?:\u00a0HttpHeaders\u00a0|\u00a0{\u00a0[header:\u00a0string]:\u00a0string\u00a0|\u00a0string[];\u00a0};\u00a0observe?:\u00a0\"body\";\u00a0params?:\u00a0Ht...'.\n  \u00a0\u00a0Types\u00a0of\u00a0property\u00a0'headers'\u00a0are\u00a0incompatible.\n  \u00a0\u00a0\u00a0\u00a0Type\u00a0'Headers'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0type\u00a0'HttpHeaders\u00a0|\u00a0{\u00a0[header:\u00a0string]:\u00a0string\u00a0|\u00a0string[];\u00a0}'.\n  \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Type\u00a0'Headers'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0type\u00a0'{\u00a0[header:\u00a0string]:\u00a0string\u00a0|\u00a0string[];\u00a0}'.\n  \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Index\u00a0signature\u00a0is\u00a0missing\u00a0in\u00a0type\u00a0'Headers'.</p>\n</blockquote>\n\n<p>If I remove the <code>option</code> from the post method then everything works fine.\nCan anyone help me with this?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript-generics"], "comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576677899, "post_id": 59393311, "comment_id": 104976795, "body": "TS playground says for the first example that everything is ok - <a href=\"https://www.typescriptlang.org/play/?ssl=11&amp;ssc=4&amp;pln=1&amp;pc=1#code/C4TwDgpgBAGgPAQQDRQEID4oF4oKhAD2AgDsATAZygFcSBrEgewHcSBtAXSgH4o3UuALj7I0HANwAoUJCgBNbLDi0GLdhxQBvAL7pxUAPQGoFABaNqAGzJQARtDY6ut6sCgBLCiQDkwIA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "reply_to_user": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576679135, "post_id": 59393311, "comment_id": 104977451, "body": "hi, you are right, but also for type Y = X&lt;[&#39;a&#39;], {}&gt;; // it is [{}] :)"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576679258, "post_id": 59393311, "comment_id": 104977529, "body": "yes because <code>unknown</code> is unsound type so almost every type extends it, as unknown can be anything"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 1, "creation_date": 1576679325, "post_id": 59393311, "comment_id": 104977570, "body": "The best choice here is <code>undefined</code> or <code>null</code> as these are sound types"}], "answers": [{"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 3, "last_activity_date": 1576748668, "last_edit_date": 1576748668, "creation_date": 1576680684, "answer_id": 59394567, "question_id": 59393311, "link": "https://stackoverflow.com/questions/59393311/typescript-drop-unknown-or-never/59394567#59394567", "title": "Typescript drop unknown[] or never?", "body": "<p>Take a look how <code>unknown</code> and <code>never</code> types behave in relation to other types:</p>\n\n<pre><code>type ExtendsUnknown&lt;X&gt; = X extends unknown ? true : false;\ntype YesUnknown = ExtendsUnknown&lt;number&gt;; // true\ntype YesUnknown2 = ExtendsUnknown&lt;object&gt;; // true\ntype YesUnknown3 = ExtendsUnknown&lt;[number]&gt;; // true\ntype YesUnknown4 = ExtendsUnknown&lt;unknown&gt;; // true\n\ntype ExtendsNever&lt;X&gt; = X extends never ? true : false;\ntype NoNever = ExtendsNever&lt;number&gt;; // false\ntype NoNever2 = ExtendsNever&lt;object&gt;; // false\ntype NoNever3 = ExtendsNever&lt;[number]&gt;; // false\ntype OhMyGodNever = ExtendsNever&lt;never&gt;; // we get never och man!\n</code></pre>\n\n<p>Types like <code>any</code> <code>never</code> <code>unknown</code> are <a href=\"https://en.wikipedia.org/wiki/Soundness\" rel=\"nofollow noreferrer\">unsound types</a>. It means that they do not behave in the same way as standard types, they behavior can be against the logic which derives other types. What I mean by this logic is for example:</p>\n\n<p><strong>if A extends B extends C implies that A extends C</strong></p>\n\n<p><strong>if A extends B and B extends A implies A equals B</strong></p>\n\n<p>above rules are only guaranteed for sound types</p>\n\n<p>That is why for your case, u should use sound types, and I would propose here <code>undefined</code> type.</p>\n\n<pre><code>// undefined behaves correctly\ntype ExtendsUndefined&lt;X&gt; = X extends undefined ? true : false;\ntype NoUndefined = ExtendsUndefined&lt;number&gt;; // false\ntype NoUndefined2 = ExtendsUndefined&lt;object&gt;; // false\ntype NoUndefined3 = ExtendsUndefined&lt;number&gt;; // false\ntype YesUndefined4 = ExtendsUndefined&lt;undefined&gt;; // true - yep that works\n\ntype X&lt;A, B&gt; = A extends undefined ? [B] : [A, B];\ntype Y = X&lt;undefined, {}&gt;;\n</code></pre>\n"}], "owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576748668, "creation_date": 1576676492, "question_id": 59393311, "link": "https://stackoverflow.com/questions/59393311/typescript-drop-unknown-or-never", "title": "Typescript drop unknown[] or never?", "body": "<p>I am trying to make tuple of A and B or only B if A is unknown[] (or alternativately never)</p>\n\n<pre><code>type X&lt;A, B&gt; = A extends unknown[] ? [B] : [A, B];\ntype Y = X&lt;unknown[], {}&gt;; // should be [{}] but isn't\n</code></pre>\n\n<p>variation:</p>\n\n<pre><code>type X&lt;A, B&gt; = A extends never ? [B] : [A, B];\ntype Y = X&lt;never, {}&gt;; // should be [{}] but isn't\n</code></pre>\n\n<p>this only works:</p>\n\n<pre><code>type X&lt;A, B&gt; = A extends null ? [B] : [A, B];\ntype Y = X&lt;null, {}&gt;; // it is [{}]\n</code></pre>\n"}, {"tags": ["typescript", "vuetify.js"], "answers": [{"comments": [{"owner": {"reputation": 1977, "user_id": 10548587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hkz9l.jpg?s=128&g=1", "display_name": "mistiru", "link": "https://stackoverflow.com/users/10548587/mistiru"}, "edited": false, "score": 0, "creation_date": 1576858402, "post_id": 59427913, "comment_id": 105042552, "body": "I&#39;ve already done these two steps, and using webstorm, but the problem is not related to the IDE as it shows those errors when I run <code>npm run serve</code> (that uses vue-cli-service serve)"}], "tags": [], "owner": {"reputation": 1002, "user_id": 12391399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xofBe.jpg?s=128&g=1", "display_name": "discolor", "link": "https://stackoverflow.com/users/12391399/discolor"}, "is_accepted": false, "score": 3, "last_activity_date": 1604931721, "last_edit_date": 1604931721, "creation_date": 1576856649, "answer_id": 59427913, "question_id": 59393063, "link": "https://stackoverflow.com/questions/59393063/including-vuetify-code-in-typescript-project-prints-lots-of-errors/59427913#59427913", "title": "Including Vuetify code in TypeScript project prints lots of errors", "body": "<p>In a TypeScript Vuetify project you need to add <code>&quot;vuetify&quot;</code> to the <code>types</code> in your <code>tsconfig.json</code> and adjust the <code>plugins/vuetify.ts</code>.</p>\n<p>tsconfig.json:</p>\n<pre><code>&quot;types&quot;: [\n  &quot;webpack-env&quot;,\n  &quot;vuetify&quot;\n]\n</code></pre>\n<p>plugins/vuetify.ts:</p>\n<pre><code>import Vue from &quot;vue&quot;;\nimport Vuetify from &quot;vuetify/lib&quot;;\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: &quot;mdi&quot;\n  }\n});\n</code></pre>\n<p>If you are using VS Code you might need to restart it to recognize the changes. You can then check isDark by using <code>this.$vuetify.theme.dark</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1977, "user_id": 10548587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hkz9l.jpg?s=128&g=1", "display_name": "mistiru", "link": "https://stackoverflow.com/users/10548587/mistiru"}, "is_accepted": true, "score": 0, "last_activity_date": 1578673999, "creation_date": 1578673999, "answer_id": 59685560, "question_id": 59393063, "link": "https://stackoverflow.com/questions/59393063/including-vuetify-code-in-typescript-project-prints-lots-of-errors/59685560#59685560", "title": "Including Vuetify code in TypeScript project prints lots of errors", "body": "<p>It seems that I did not import the right thing.</p>\n\n<p>By doing:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { DataTableHeader } from 'vuetify';\n</code></pre>\n\n<p>I don't know why, but the errors do not appear anymore.</p>\n\n<p>I don't understand why it's called DataTableHeader, whereas it's called TableHeader in the online documentation.</p>\n"}], "owner": {"reputation": 1977, "user_id": 10548587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hkz9l.jpg?s=128&g=1", "display_name": "mistiru", "link": "https://stackoverflow.com/users/10548587/mistiru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "accepted_answer_id": 59685560, "answer_count": 2, "score": 0, "last_activity_date": 1604931721, "creation_date": 1576675603, "last_edit_date": 1577107490, "question_id": 59393063, "link": "https://stackoverflow.com/questions/59393063/including-vuetify-code-in-typescript-project-prints-lots-of-errors", "title": "Including Vuetify code in TypeScript project prints lots of errors", "body": "<p>I'm building an app with the VueJS + TypeScript + WebPack + ESLint + VuetifyJS stack using @vue/cli.</p>\n\n<p>Everything ok, until I wrote this include :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { TableHeader } from 'vuetify/src/components/VDataTable/mixins/header';\n</code></pre>\n\n<p>I did that because I wanted to have type hints on a method that works on these headers object.</p>\n\n<p>With this import line, the project seems to works, but I'm getting a very long list of errors (several hundreds), from TypeScript I suppose, and related to files that belong to vuetify sources. Here is an example of error:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ERROR in /home/mistiru/dev/chrono-tracker/node_modules/vuetify/src/util/ThemeProvider.ts(15,31):\n15:31 Property 'rootIsDark' does not exist on type 'CombinedVueInstance&lt;Vue, unknown, unknown, { isDark: boolean; }, Readonly&lt;{ root: boolean; }&gt;&gt;'.\n    13 |   computed: {\n    14 |     isDark (): boolean {\n  &gt; 15 |       return this.root ? this.rootIsDark : Themeable.options.computed.isDark.call(this)\n       |                               ^\n    16 |     },\n    17 |   },\n    18 | \n</code></pre>\n\n<p>Did I include the wrong thing?</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: My configuration is already as highlighted in the comment from @Rie. The project works, I have access to my dev site and I can use all the implemented features, it's just that these errors appear in the terminal, and I don't know why (and they might hide errors related to my potential mistakes...)</p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "karma-runner"], "comments": [{"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1576675205, "post_id": 59392932, "comment_id": 104975364, "body": "<code>findServices</code> isn&#39;t a global function? Your exporting it, so it needs to be imported to run, that&#39;s not global"}, {"owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "reply_to_user": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1576677098, "post_id": 59392932, "comment_id": 104976353, "body": "@Liam-ReinstateMonica Then what is it?"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1576677301, "post_id": 59392932, "comment_id": 104976459, "body": "It&#39;s an exported function. The JS that this produces is inside a closure, a global variable would be on the global object (i.e. <code>window.funct()</code>)"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1576677361, "post_id": 59392932, "comment_id": 104976485, "body": "Why isn&#39;t this inside a service? That seems to be the right &quot;angular&quot; thing to do here. Then you mock it like you do any other service. By importing the function directly your bypassing the dependency injection rolled into angular. All dependencies should be injected into the constructor so that you don&#39;t get this issue when unit testing"}, {"owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "reply_to_user": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1576677445, "post_id": 59392932, "comment_id": 104976527, "body": "@Liam-ReinstateMonica I didn&#39;t write the code, I&#39;m merely unit testing it, but, as I indicated in my question, I believe this uses state that is part of the store. Stores are cool, but they use these globally exported functions a bit. Seems like kind of a design issue."}, {"owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "reply_to_user": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1576766389, "post_id": 59392932, "comment_id": 105010880, "body": "@Liam-ReinstateMonica is globally exported function better?"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1576766541, "post_id": 59392932, "comment_id": 105010974, "body": "Like I said, you can&#39;t inject a service that isn&#39;t getting injected. The developer of this code has essentially hard coded this. The solution is to fix that"}, {"owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "reply_to_user": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 1, "creation_date": 1577122751, "post_id": 59392932, "comment_id": 105099812, "body": "Because this returns store state, it occurred to me over the weekend that it should use the store interface, send a message, and return the results as state. This would prevent the issue I&#39;m having.  Another example of why you should write your tests first. If that had happened, untestable code would never have been written. :("}], "owner": {"reputation": 11068, "user_id": 967330, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=128&d=identicon&r=PG", "display_name": "Thom", "link": "https://stackoverflow.com/users/967330/thom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576677328, "creation_date": 1576675073, "last_edit_date": 1576677328, "question_id": 59392932, "link": "https://stackoverflow.com/questions/59392932/how-to-mock-a-globally-exported-function", "title": "How to mock a globally exported function", "body": "<p>I am writing a karma unit test against my Angular component. I ran into a situation and I don't know how to proceed. I googled and found...nothing.</p>\n\n<p>In another file, I have a globally exported function defined:</p>\n\n<pre><code>export function findServices(\n    serviceType: OptionValue | undefined,\n    procedureCode: ProcedureCode | undefined,\n    state: ServiceProcedureAuthorizationState\n): ServiceProcedureAuthorizationService[] {\n}\n</code></pre>\n\n<p>Suffice it to say that it uses state from the store to return answers to this query. I'd rather not set all of this up for my unit test. I want to mock it somehow.</p>\n\n<p>Here is the call in my angular component.</p>\n\n<pre><code>private setAuthState(group: SpServiceGroup, authorizationState: ServiceProcedureAuthorizationState) {\n    const services: ServiceProcedureAuthorizationService[] = findServices(\n        group.serviceType,\n        group.procedureCode,\n        authorizationState\n    );\n</code></pre>\n\n<p>How do I mock this?</p>\n\n<p>Someone pointed out trying: <a href=\"https://stackoverflow.com/questions/19263586/global-variables-in-karma-test-runner\">Global variables in Karma test runner</a> so I attempted to create a function in my test file:</p>\n\n<pre><code>export function findServices(\n    serviceType: OptionValue | undefined,\n    procedureCode: ProcedureCode | undefined,\n    state: ServiceProcedureAuthorizationState\n): ServiceProcedureAuthorizationService[] {\n    console.log('returning services');\n    return services;\n}\n</code></pre>\n\n<p>But it continues to run the one from the production file. So that is not the solution.</p>\n"}, {"tags": ["c#", "angular", "typescript", "asp.net-core", "asp.net-web-api"], "comments": [{"owner": {"reputation": 8226, "user_id": 2698119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/961bffefb771c7848bb7c9239eb75abc?s=128&d=identicon&r=PG", "display_name": "M&#233;toule", "link": "https://stackoverflow.com/users/2698119/m%c3%a9toule"}, "edited": false, "score": 1, "creation_date": 1576675756, "post_id": 59392690, "comment_id": 104975626, "body": "How about changing the content-type from &quot;application/octet-stream&quot; to &quot;application/vnd.openxmlformats-officedocument.spreadsheetml&zwnj;&#8203;.sheet&quot;?"}, {"owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "reply_to_user": {"reputation": 8226, "user_id": 2698119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/961bffefb771c7848bb7c9239eb75abc?s=128&d=identicon&r=PG", "display_name": "M&#233;toule", "link": "https://stackoverflow.com/users/2698119/m%c3%a9toule"}, "edited": false, "score": 0, "creation_date": 1576676468, "post_id": 59392690, "comment_id": 104976025, "body": "This was indeed the correct answer."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "edited": false, "score": 0, "creation_date": 1576676328, "post_id": 59393211, "comment_id": 104975933, "body": "My hero! How do I specify the filename?"}], "tags": [], "owner": {"reputation": 1238, "user_id": 2210256, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bMxaw.jpg?s=128&g=1", "display_name": "Shahid Manzoor Bhat", "link": "https://stackoverflow.com/users/2210256/shahid-manzoor-bhat"}, "is_accepted": true, "score": 1, "last_activity_date": 1576676168, "creation_date": 1576676168, "answer_id": 59393211, "question_id": 59392690, "link": "https://stackoverflow.com/questions/59392690/downloading-an-excel-file-from-asp-net-core-api/59393211#59393211", "title": "Downloading an excel file from ASP.net Core API", "body": "<p>The problem with the code is <code>{type: 'application/octet-stream'}</code>. You aren specifying <code>application/octet-stream</code> in which format you want to save the file. hence you get a stream.</p>\n\n<p>You have to specify the correct type to download the file as excel, pdf or anything </p>\n\n<pre><code>application/pdf // for pdf \napplication/vnd.openxmlformats-officedocument.wordprocessingml.document // for Word doc\napplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet // for excel\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 1, "accepted_answer_id": 59393211, "answer_count": 1, "score": 0, "last_activity_date": 1576676168, "creation_date": 1576674141, "last_edit_date": 1576674603, "question_id": 59392690, "link": "https://stackoverflow.com/questions/59392690/downloading-an-excel-file-from-asp-net-core-api", "title": "Downloading an excel file from ASP.net Core API", "body": "<p>So our custom API returns:</p>\n\n<pre><code>var result = File(\n                new MemoryStream(report, 0, report.Length),\n                \"application/octet-stream\",\n                $\"missionreport_{DateTime.Now}.xlsx\");\n\nreturn result;\n</code></pre>\n\n<p>When surfing to the correct API call, it instantly downloads the correct excel file with the corresponding name and styling.</p>\n\n<p>Now we want to do this with an Angular frontend. We created the following: </p>\n\n<p>rapport.service.ts:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { tap, catchError, map } from 'rxjs/operators';\n\n@Injectable()\nexport class RapportService {\n    private url = \"http://localhost:50000/api/report\";\n\n    constructor(private http: HttpClient){}\n\n    getMissionReport() {\n        return this.http.get(`${this.url}/mission`, {responseType: 'blob'})\n                        .pipe(\n                                tap(data =&gt; console.log('Get mission report: ' + data)),\n                                catchError(this.handleError)\n                        )\n    }\n\n    private handleError(err: HttpErrorResponse) {\n        let errorMessage = '';\n        if (err.error instanceof ErrorEvent) {\n            errorMessage = `An error occurred: ${err.error.message}`;\n        } else {\n            errorMessage = `Server returned code: ${err.status}, error message is: ${err.message}`;\n        }\n        console.error(errorMessage);\n        return throwError(errorMessage);\n    }\n}\n</code></pre>\n\n<p>rapport.component.ts:</p>\n\n<pre><code>getMissionRapport() {\n    this.rapportService.getMissionReport().subscribe(response =&gt; {\n      const blob = new Blob([response], {type: 'application/octet-stream'});\n      const url = window.URL.createObjectURL(blob);\n      window.open(url);\n    })\n  }\n</code></pre>\n\n<p>We linked the function to a button. When clicking on this button we received a 'file' that only showed byte values.</p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576675691, "post_id": 59393005, "comment_id": 104975595, "body": "works great thanks, only problem if it are function params that it loses the param name like x: string now it becomes param_0: string. best would be something like [...TupleParams1, ...TupleParams2] but that doesnt work"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576676346, "post_id": 59393005, "comment_id": 104975945, "body": "@luky can you be more clear hear, not fully follow. What you need to pass to the function extacly?"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576676451, "post_id": 59393005, "comment_id": 104976020, "body": "U can use the result type like - <code>function f(...args: Flatten&lt;T&gt;) {}</code>"}, {"owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576676601, "post_id": 59393005, "comment_id": 104976094, "body": "hm it is actually two Params of two functions but i will try it again because TS helper Parameters&lt;&gt; also capture the param names eg &quot;x: string&quot; etc"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576676845, "post_id": 59393005, "comment_id": 104976216, "body": "U can use it as two params like <code>function f(first: Flatten&lt;T&gt;[0], second: Flatten&lt;T&gt;[1]) {}</code>"}, {"owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576676920, "post_id": 59393005, "comment_id": 104976263, "body": "check the playground, place cursor over the c() and d() in the left window <a href=\"https://www.typescriptlang.org/play/?ssl=6&amp;ssc=1&amp;pln=7&amp;pc=1#code/C4TwDgpgBAYgNgQ2MCA7APAFShAHi1AEwGcoBRAbQF0AacnfNEqBVEaqAXhbeoD4uUAN4AoKFAoBpKAEtUUANYQQAewBmUTFQBcmqVQplcAYzgBXQhHRLVGzPro31PdlT5URAXxEjjK1MTALIIAFLi6gQBOcgDmAJRcAkJQ3r7+gVDGoQB0uQiRMcS6AAr5CAC2ECiRxOigkM4IfAnJ3n4BQYQ5eQVFsIjIaOgUpZEVVRA1deAQje4tKT7GIXEihCtAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576677106, "post_id": 59393005, "comment_id": 104976356, "body": "Yes see that, I mean it differently shows the name of the argument, I am not sure it can be fixed, sorry."}, {"owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576679580, "post_id": 59393005, "comment_id": 104977729, "body": "One more problem, the Flatten type drops partial keys, so all are required now."}, {"owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576680368, "post_id": 59393005, "comment_id": 104978185, "body": "<a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAYgNgQ2MCA7APAFShAHi1AEwGcoBRAbQF0AacnfNEqBVEaqAXhbeoD4uUAN4AoKFAoBpKAEtUUANYQQAewBmUTFQBcmqVQplcAYzgBXQhHRLVGzPro31PdlT5URAXxEjjK1MTALIIAFLgA-LqBAE5yAOYAlFwCQlDeIgD0GVB+AUHGoQB0xQjRccS68EgE6BQACqUIALYQKNHE6KCQzgjufAm+-oE5RSVlFbCIyGi1DdHNrRDtneAQPX1JnClpANw+xiEJQA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 2, "creation_date": 1576681783, "post_id": 59393005, "comment_id": 104979052, "body": "Not so simple to solve. I get you but I think we are far away from the original question. My suggestion is to create another one. Take a look that orginal question does not say anything about function arguments at all."}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 3, "last_activity_date": 1576677965, "last_edit_date": 1576677965, "creation_date": 1576675327, "answer_id": 59393005, "question_id": 59392640, "link": "https://stackoverflow.com/questions/59392640/typescript-convert-type-tuple-of-tuple-to-tuple-flatten-tuple/59393005#59393005", "title": "Typescript convert type Tuple of tuple to Tuple (flatten Tuple)", "body": "<p>We can do that by mapped types. Consider the code:</p>\n\n<pre><code>type T = Params&lt;[Tuple1, Tuple2]&gt;\n\n// utility type\ntype Flatten&lt;T extends any[]&gt; = {\n  [K in keyof T]: T[K] extends any[] ? T[K][0] : T[K]\n}\ntype Result = Flatten&lt;T&gt;\n// evaluates into [string, number]\n\nconst a: Result = ['a', 1] // correct value of the type\n</code></pre>\n\n<p>Pay attention how <code>Flatten</code> works:</p>\n\n<ul>\n<li><code>[K in keyof T]</code> - means we want to have all keys, so in tuple say elements</li>\n<li><code>T[K] extends any[] ? T[K][0] : T[K]</code> - we say if the value of the element on the given key is an array then give me a type of an first element of this array (index 0), if not leave it as is, as there is nothing to be flatten</li>\n</ul>\n\n<hr>\n\n<p>If your tuples consider more then one type of the element, then above solution will take the first only. So for tuple <code>[string, number]</code> it will produce the <code>string</code>. If we want to gather all possible types inside the tuple we can create more sophisticated type. Consider:</p>\n\n<pre><code>type Flatten&lt;T extends any[]&gt; = {\n  [K in keyof T]: T[K] extends any[] ? T[K][Exclude&lt;keyof T[K], keyof any[]&gt;] : T[K]\n}\n</code></pre>\n\n<ul>\n<li><code>T[K] extends any[] ? T[K][Exclude&lt;keyof T[K], keyof any[]&gt;] : T[K]</code> means that if our element is an array then get me types of all elements, but remove types of values in array prototype.</li>\n</ul>\n\n<p>In the result <code>Flatten&lt;Params&lt;[string, number]&gt;&gt;</code> will produce <code>[string | number]</code>. So it depends what is your goal.</p>\n\n<hr>\n\n<p>The last proposition is, if you don't consider other types and only nested array/tuples, we can avoid conditional types. Consider last solution:</p>\n\n<pre><code>type Flatten&lt;T extends E[], E extends any[] = any[]&gt; = {\n  [K in keyof T]: T[K][Exclude&lt;keyof T[K], keyof any[]&gt;]\n}\n</code></pre>\n\n<p>Above type is more restrict as it works with only <code>[[]]</code> but is more concise and specific.</p>\n"}], "owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1576677965, "creation_date": 1576673945, "question_id": 59392640, "link": "https://stackoverflow.com/questions/59392640/typescript-convert-type-tuple-of-tuple-to-tuple-flatten-tuple", "title": "Typescript convert type Tuple of tuple to Tuple (flatten Tuple)", "body": "<p>I have this</p>\n\n<pre><code>Type T = Params&lt;[Tuple1, Tuple2]&gt; // eg [[string], [number]]\n</code></pre>\n\n<p>How to make of it (flatten)</p>\n\n<pre><code>Type Flatten&lt;T&gt; = Params&lt;[string, number]&gt; \n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-hooks"], "comments": [{"owner": {"reputation": 644, "user_id": 2971756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6f5c95cc5f7a241d09cc5ff32c22e0d?s=128&d=identicon&r=PG&f=1", "display_name": "vtolentino", "link": "https://stackoverflow.com/users/2971756/vtolentino"}, "edited": false, "score": 0, "creation_date": 1576674109, "post_id": 59392543, "comment_id": 104974826, "body": "Does the new message comes as a new prop? if yes, you can use it to call again the scrollToRef."}, {"owner": {"reputation": 97, "user_id": 9106618, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/016702d6c2604cefddc9bd6a743516ee?s=128&d=identicon&r=PG&f=1", "display_name": "GoranR", "link": "https://stackoverflow.com/users/9106618/goranr"}, "reply_to_user": {"reputation": 644, "user_id": 2971756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6f5c95cc5f7a241d09cc5ff32c22e0d?s=128&d=identicon&r=PG&f=1", "display_name": "vtolentino", "link": "https://stackoverflow.com/users/2971756/vtolentino"}, "edited": false, "score": 0, "creation_date": 1576674346, "post_id": 59392543, "comment_id": 104974954, "body": "no, it&#39;s not coming"}], "answers": [{"tags": [], "owner": {"reputation": 644, "user_id": 2971756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6f5c95cc5f7a241d09cc5ff32c22e0d?s=128&d=identicon&r=PG&f=1", "display_name": "vtolentino", "link": "https://stackoverflow.com/users/2971756/vtolentino"}, "is_accepted": true, "score": 1, "last_activity_date": 1576674869, "creation_date": 1576674869, "answer_id": 59392873, "question_id": 59392543, "link": "https://stackoverflow.com/questions/59392543/how-can-i-make-auto-scroll-to-div-when-div-is-visible-in-react/59392873#59392873", "title": "How can I make auto-scroll to div, when div is visible in React?", "body": "<p>I created a small JSFiddle:</p>\n\n<p><a href=\"https://jsfiddle.net/z64yetpa/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/z64yetpa/5/</a></p>\n\n<pre><code>class TodoApp extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n        showMessage: false\n    }\n\n    this.handleSend = this.handleSend.bind(this);\n  }\n\n  scrollTo() {\n        window.scrollTo({ left: 0, top: this.myRef.current.offsetTop, behavior: 'smooth' })\n\n    }\n\n    componentDidMount(){\n    this.myRef = React.createRef()\n    }\n\n    handleSend(){\n     this.setState({showMessage:true}, () =&gt; this.scrollTo());\n    }\n\n  render() {\n  const {showMessage} = this.state;\n    return (\n      &lt;div className=\"parent\"&gt;\n      {showMessage &amp;&amp;  \n      &lt;div className=\"upper\" ref={this.myRef}&gt;\n        Hello, scroll to me automatically\n      &lt;/div&gt;\n      }\n      &lt;div&gt;Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\n&lt;/div&gt;\n      &lt;button onClick={this.handleSend}&gt;Send&lt;/button&gt;\n\n      &lt;/div&gt;\n    )\n  }\n}\n\nReactDOM.render(&lt;TodoApp /&gt;, document.querySelector(\"#app\"))\n\n</code></pre>\n\n<p>On Click, you are redirected to the top.</p>\n"}], "owner": {"reputation": 97, "user_id": 9106618, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/016702d6c2604cefddc9bd6a743516ee?s=128&d=identicon&r=PG&f=1", "display_name": "GoranR", "link": "https://stackoverflow.com/users/9106618/goranr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 59392873, "answer_count": 1, "score": 0, "last_activity_date": 1576674869, "creation_date": 1576673676, "question_id": 59392543, "link": "https://stackoverflow.com/questions/59392543/how-can-i-make-auto-scroll-to-div-when-div-is-visible-in-react", "title": "How can I make auto-scroll to div, when div is visible in React?", "body": "<p>So, I have one problem with auto-scroll in React, I need to add auto-scroll when my message is visible, a message comes to the top of the page after when the user has submitted his own data and if everything is good. Then he needs to be moved on top of the page, of course, using auto-scroll.</p>\n\n<pre><code>const valMessageRef = useRef&lt;HTMLDivElement | null&gt;(null);\nconst errorLabelRef = () =&gt; scrollToRef(validationMessageRef);\n\nconst scrollToRef = (ref: RefObject&lt;HTMLDivElement&gt;) =&gt; {\n    if (ref.current) {\n      window.scrollTo(0, ref.current.offsetTop);\n    }\n  };\n\n\n  useEffect(() =&gt; {\n    errorLabelRef();\n  }, [validationMessageRef.current]);\n\n\nreturn (\n    &lt;div className=\"w-100\"&gt;\n{screenType === \"success\" &amp;&amp; (\n        &lt;div className=\"ew-form-group_message\" ref={validationMessageRef}&gt;\n          &lt;p className=\"ew-form-group__val__messages\"&gt;\n            &lt;span className=\"ew-form-group__val__message\"&gt;{translation.messages.SUCCESS}&lt;/span&gt;\n          &lt;/p&gt;\n        &lt;/div&gt;\n      )}\n&lt;/div&gt;\n....\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "rxjs6"], "comments": [{"owner": {"reputation": 3956, "user_id": 3153799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000987517880/picture?type=large", "display_name": "demkovych", "link": "https://stackoverflow.com/users/3153799/demkovych"}, "edited": false, "score": 0, "creation_date": 1576673748, "post_id": 59392534, "comment_id": 104974649, "body": "you need to use debounce instead"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1576674204, "post_id": 59392534, "comment_id": 104974874, "body": "<a href=\"https://angular.io/guide/practical-observable-usage#type-ahead-suggestions\" rel=\"nofollow noreferrer\">angular.io/guide/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3956, "user_id": 3153799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000987517880/picture?type=large", "display_name": "demkovych", "link": "https://stackoverflow.com/users/3153799/demkovych"}, "is_accepted": false, "score": 1, "last_activity_date": 1576673894, "creation_date": 1576673894, "answer_id": 59392615, "question_id": 59392534, "link": "https://stackoverflow.com/questions/59392534/more-elegant-way-to-subscribe-with-rjxs-instead-of-settimeout-function/59392615#59392615", "title": "More elegant way to subscribe with rjxs instead of setTimeout function?", "body": "<p>I've leave some comments in the code: </p>\n\n<pre><code>const search = fromEvent(searchInput, 'input').pipe(\n  debounceTime(1000), // Time in milliseconds between key events\n  distinctUntilChanged(), // If previous query is different from current   \n  map(event =&gt; event.target.value) // get value,\n  filter(query =&gt; query) // if character length greater then 0,\n  tap(query =&gt; console.log(`About to make an API call with query: ${query}`)),\n  switchMap(getCars) // Your api call\n);\n\nsearch.subscribe(successCallback);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1576677679, "post_id": 59392618, "comment_id": 104976673, "body": "This would be perfect if you used the pipe syntax and added <code>switchMap</code> for the search request. As in <a href=\"https://stackblitz.com/edit/angular-bptdvd\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-bptdvd</a>"}], "tags": [], "owner": {"reputation": 1943, "user_id": 2447211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgIoL.jpg?s=128&g=1", "display_name": "Michael Desigaud", "link": "https://stackoverflow.com/users/2447211/michael-desigaud"}, "is_accepted": false, "score": 1, "last_activity_date": 1576680633, "last_edit_date": 1576680633, "creation_date": 1576673902, "answer_id": 59392618, "question_id": 59392534, "link": "https://stackoverflow.com/questions/59392534/more-elegant-way-to-subscribe-with-rjxs-instead-of-settimeout-function/59392618#59392618", "title": "More elegant way to subscribe with rjxs instead of setTimeout function?", "body": "<p>You can do the following:</p>\n\n<p>In HTML:</p>\n\n<pre><code>&lt;input type=\"text\" #myId=\"ngModel\" [(ngModel)]=\"data\" /&gt;\n</code></pre>\n\n<p>In your component:</p>\n\n<pre><code>import {\n  debounceTime,\n  distinctUntilChanged\n} from \"rxjs/operators\";\n\n@ViewChild('myId', {static: true}) myControl: NgModel;\n\nngOnInit() {\n this.myControl\n  .valueChanges // For each changes\n  .pipe(\n    debounceTime(400),\n    distinctUntilChanged()\n   )\n  .subscribe(() =&gt; ...)\n</code></pre>\n\n<p>} </p>\n"}, {"tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": false, "score": 1, "last_activity_date": 1576673926, "creation_date": 1576673926, "answer_id": 59392635, "question_id": 59392534, "link": "https://stackoverflow.com/questions/59392534/more-elegant-way-to-subscribe-with-rjxs-instead-of-settimeout-function/59392635#59392635", "title": "More elegant way to subscribe with rjxs instead of setTimeout function?", "body": "<p>Try to use <code>debounce()</code> and <code>distinctUntileChanged()</code>:</p>\n\n<pre><code>handleFilterEvent = new Subject&lt;any&gt;();\n\nngOnInit(){\n    this.handleFilterEvent\n        .debounceTime(500)\n        .distinctUntilChanged()\n        .subscribe(value =&gt; {\n            this.myService.search(searchInput)\n                .subscribe((res) =&gt; {\n                    this.myArray.content = res;\n            });\n        });\n}\n\nonSearchChange(value){\n    if(value) {\n        this.handleFilterEvent.next(value);\n    }\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" \n   (input)=\"onSearchChange($event.target.value)\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "is_accepted": false, "score": 1, "last_activity_date": 1576674083, "creation_date": 1576674083, "answer_id": 59392673, "question_id": 59392534, "link": "https://stackoverflow.com/questions/59392534/more-elegant-way-to-subscribe-with-rjxs-instead-of-settimeout-function/59392673#59392673", "title": "More elegant way to subscribe with rjxs instead of setTimeout function?", "body": "<p>You can achieve that using <code>fromEvent</code> and <code>Viewchild</code></p>\n\n<p>Just reference the ViewChild as follow: </p>\n\n<pre><code>@ViewChild('yourInput') inputName: any;\n</code></pre>\n\n<p>Then you can simply use:</p>\n\n<pre><code>fromEvent(this.inputName.nativeElement, 'keyup')\n            .pipe(\n                map((k: any) =&gt; k.target.value),\n                debounceTime(1000)\n            )\n            .subscribe(value =&gt; {\n              foo();\n            });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1576674149, "creation_date": 1576674149, "answer_id": 59392694, "question_id": 59392534, "link": "https://stackoverflow.com/questions/59392534/more-elegant-way-to-subscribe-with-rjxs-instead-of-settimeout-function/59392694#59392694", "title": "More elegant way to subscribe with rjxs instead of setTimeout function?", "body": "<p>This is true RXJS way, I have changed <code>myArray.content</code> to be <code>Observable</code>, as this way you can use piping and mapping. This will prevent multiple requests, more specifically, it will unsubscribe from the previous search before starting new one.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>searchedInput$ = new Subject&lt;string&gt;();\nmyArray: { content: Observable&lt;any&gt; } = {};\n\nconstructor(myService: any) {\n  this.myArray.content = this.searchedInput$.pipe(\n    distinctUntilChanged(),\n    debounceTime(400),\n    switchMap(input =&gt; myService.search(input)),\n  );\n}\n\nupdate(searchInput: string): void {\n  this.searchedInput$.next(searchInput);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1576680380, "post_id": 59392719, "comment_id": 104978190, "body": "Thanks for that approach. But this way I get the error: &quot;Property &#39;target&#39; does not exist on type &#39;unknown&#39;.ts(2339)&quot; produced by map((event) =&gt; event.target.value)."}, {"owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "reply_to_user": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1576681074, "post_id": 59392719, "comment_id": 104978613, "body": "<code>fromEvent</code> data type is currently Type {}. I&#39;ve updated my answer to use narrow the type of the event to keyboardEvent as the InputEvent type is actually missing from dom.typings"}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1576681632, "post_id": 59392719, "comment_id": 104978960, "body": "Now it says: ERROR Error: Uncaught (in promise): TypeError: Cannot read property &#39;nativeElement&#39; of undefined"}, {"owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "reply_to_user": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1576681762, "post_id": 59392719, "comment_id": 104979042, "body": "Ahh, rookie mistake. nativeElement is only available in the ngOnInit. Let me update my answer"}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1576681907, "post_id": 59392719, "comment_id": 104979109, "body": "I also thought it had something to do with life cycle. Thnx."}], "tags": [], "owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "is_accepted": true, "score": 2, "last_activity_date": 1576681813, "last_edit_date": 1576681813, "creation_date": 1576674220, "answer_id": 59392719, "question_id": 59392534, "link": "https://stackoverflow.com/questions/59392534/more-elegant-way-to-subscribe-with-rjxs-instead-of-settimeout-function/59392719#59392719", "title": "More elegant way to subscribe with rjxs instead of setTimeout function?", "body": "<p>What you are looking for is <a href=\"https://www.learnrxjs.io/operators/filtering/debouncetime.html\" rel=\"nofollow noreferrer\">debounceTime</a>.\nIt waits for x miliseconds before emitting anything.\nCombining it with other operators to not overload your API would be a good choice.</p>\n\n<p>Your observable would look like</p>\n\n<pre><code>const search$ = fromEvent(search, 'input').pipe(\n  debounceTime(400), // Wait 400 MS before outputting\n  distinctUntilChanged(), // Only output unique values\n  map(event =&gt; event.target.value), // Extract the value of the search\n  switchMap((search) =&gt; service.doApi(search)) // SwitchMap to cancel a previous search if it wouldn't have completed\n)\nsearch$.subscribe()  // These might leak. Keep them in an array and clean them up when the component unloads\n</code></pre>\n\n<p>Where the search element would be a viewChild of your component.</p>\n\n<pre><code>import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, map, switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-component',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  @ViewChild('yourInput', {static: true}) search: ElementRef;\n\n  searchSubscription: Subscription;\n\n  ngOnInit(): void {\n    const search$ = fromEvent(this.search.nativeElement, 'input').pipe(\n      debounceTime(400), // Wait 400 MS before outputting\n      distinctUntilChanged(), // Only output unique values\n      map((event: KeyboardEvent) =&gt; (event.target as HTMLInputElement).value), // Extract the value of the search\n      switchMap((search) =&gt; service.doApi(search)) // SwitchMap to cancel a previous search if it wouldn't have completed\n    )  // Lives forever\n    this.searchSubscription = search$.subscribe()\n  }\n\n  ngOnDestroy(): void {\n    this.searchSubscription.unsubscribe()\n  }\n}\n\n\n</code></pre>\n"}], "owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 2, "accepted_answer_id": 59392719, "answer_count": 6, "score": 0, "last_activity_date": 1576681813, "creation_date": 1576673637, "question_id": 59392534, "link": "https://stackoverflow.com/questions/59392534/more-elegant-way-to-subscribe-with-rjxs-instead-of-settimeout-function", "title": "More elegant way to subscribe with rjxs instead of setTimeout function?", "body": "<p>I have an <code>update()</code> method, with which I search for certain entries in a table and update/filter the entries for each keystroke inside an input field.</p>\n\n<p>My goal is to wait about 400ms after each keystroke before firing the request into the backend so that I avoid too many meaningless requests.</p>\n\n<p>Currently I have implemented it with the <code>setTimeout()</code> function, but I am sure that there is a more elegant way with RxJS.</p>\n\n<pre><code>  update(searchInput: string) {\n    setTimeout(() =&gt; {\n      this.myService.search(searchInput)\n      .subscribe((res) =&gt; {\n        this.myArray.content = res;\n      });\n    }, 400);\n  }\n</code></pre>\n\n<p>Does somebody has any idea?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 292, "user_id": 11999444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0ae49cd63a8e18c94f54f7cbc7d5f7?s=128&d=identicon&r=PG&f=1", "display_name": "volcanic", "link": "https://stackoverflow.com/users/11999444/volcanic"}, "is_accepted": false, "score": 0, "last_activity_date": 1576674988, "creation_date": 1576674988, "answer_id": 59392911, "question_id": 59392164, "link": "https://stackoverflow.com/questions/59392164/how-i-should-to-modify-at-my-typescript-code/59392911#59392911", "title": "How I should to modify at my typescript code?", "body": "<p>When you declared the <code>myTesla</code> variable, you implicitly gave it a type of ModelS. Then you go ahead to assign the value of <code>new RearFacingSeats(myTesla)</code> to it which is of type <code>RearFacingSeats</code>. That gives an error when you run <code>tsc</code>.</p>\n\n<p>What should happen is:</p>\n\n<pre><code>let myTesla = new RearFacingSeats(new ModelS());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 608, "user_id": 12405220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7uF8C.png?s=128&g=1", "display_name": "KingDarBoja", "link": "https://stackoverflow.com/users/12405220/kingdarboja"}, "is_accepted": false, "score": 0, "last_activity_date": 1576679576, "creation_date": 1576679576, "answer_id": 59394254, "question_id": 59392164, "link": "https://stackoverflow.com/questions/59392164/how-i-should-to-modify-at-my-typescript-code/59394254#59394254", "title": "How I should to modify at my typescript code?", "body": "<p>I just checked the code on <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">Typescript Playground</a> and everything seems fine as <code>myTesla</code> variable has a type of <code>ModelS</code> which in fact is inherited from <code>Car</code> one. Due to that, you can pass any Car-inherited object to the <code>RearFacingSeats</code> constructor without problem.</p>\n\n<p>Which compiler settings do you have? Typescript version?</p>\n"}], "owner": {"reputation": 1, "user_id": 9487115, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Vvnbk9H2aw/AAAAAAAAAAI/AAAAAAAAAOE/XKjVFradQew/photo.jpg?sz=128", "display_name": "Gabri EL", "link": "https://stackoverflow.com/users/9487115/gabri-el"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576685695, "creation_date": 1576672454, "last_edit_date": 1576685695, "question_id": 59392164, "link": "https://stackoverflow.com/questions/59392164/how-i-should-to-modify-at-my-typescript-code", "title": "How I should to modify at my typescript code?", "body": "<p>I write a code following a tutorial. In tutorial, this code is functional, but for me not and I don't understand why. I wrote something wrong here?  </p>\n\n<pre><code>abstract class Car {\n    public description: string;\n    public getDescription(): string {\n        return this.description;\n    }\n    public abstract cost(): number;\n}\nclass ModelS extends Car {\n    public description = \"Model S\";\n    public cost(): number {\n        return 73000;\n    }\n}\nclass ModelX extends Car {\n    public description = \"Model X\";\n    public cost(): number {\n        return 77000;\n    }\n}\nabstract class CarOptions extends Car {\n    decoratedCar: Car;\n    public abstract getDescription(): string;\n    public abstract cost(): number;\n}\nclass EnhancedAutoPilot extends CarOptions {\n    decoratedCar: Car;\n    constructor(car: Car) {\n        super();\n        this.decoratedCar = car;\n    }\n    public getDescription(): string {\n        return this.decoratedCar.getDescription() + ', Enhanced AutoPilot';\n    }\n    public cost(): number {\n        return this.decoratedCar.cost() + 5000;\n    }\n}\nclass RearFacingSeats extends CarOptions {\n    decoratedCar: Car;\n    constructor(car: Car) {\n        super();\n        this.decoratedCar = car;\n    }\n    public getDescription(): string {\n        return this.decoratedCar.getDescription() + ', Rear facing seats';\n    }\n    public cost(): number {\n        return this.decoratedCar.cost() + 4000;\n    }\n}\nlet myTesla = new ModelS();\nmyTesla = new RearFacingSeats(myTesla);\nconsole.log(myTesla.cost());\nconsole.log(myTesla.getDescription());\n</code></pre>\n\n<p>This is my code, and when I try to write in terminal <strong>tsc decorator.ts</strong>, I have errors there for this row:\n<strong>myTesla = new RearFacingSeats(myTesla);</strong></p>\n\n<p>I don't understand what I should to modify. And I don't understand what means that errors. Why I can't run this in terminal?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1576671803, "post_id": 59391868, "comment_id": 104973647, "body": "Where did you get this error?"}, {"owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1576671907, "post_id": 59391868, "comment_id": 104973682, "body": "In <code>moment.unix(arg)</code>. The arg should be <code>number</code> not a <code>number | string</code>"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1576674380, "post_id": 59391868, "comment_id": 104974964, "body": "<i>is not assignable to parameter of type &#39;<b>string</b>&#39;</i>."}], "answers": [{"tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 1, "last_activity_date": 1576672514, "last_edit_date": 1576672514, "creation_date": 1576671870, "answer_id": 59391989, "question_id": 59391868, "link": "https://stackoverflow.com/questions/59391868/argument-of-type-string-number-is-not-assignable-to-parameter-of-type-strin/59391989#59391989", "title": "Argument of type &#39;string | number&#39; is not assignable to parameter of type &#39;string&#39;. Type &#39;number&#39; is not assignable to type &#39;string&#39;", "body": "<p><code>moment.unix</code> only accepts a number as an argument:</p>\n\n<p><a href=\"https://github.com/moment/moment/blob/develop/moment.d.ts\" rel=\"nofollow noreferrer\">https://github.com/moment/moment/blob/develop/moment.d.ts</a></p>\n\n<blockquote>\n<pre><code>export function unix(timestamp: number): Moment;\n</code></pre>\n</blockquote>\n\n<p>So, make sure that the <code>timestamp</code> is a number before passing it to <code>moment.unix</code>:</p>\n\n<pre><code>myArray.forEach((el) =&gt; {\n  const { timestamp } = el;\n  if (typeof timestamp === 'number') {\n    el.timestamp = moment.unix(timestamp).format('HH:mm:ss DD/MM/YYYY')\n  } else {\n    // will this ever happen? Do whatever you want here - ignore it, or throw\n  }\n});\n</code></pre>\n\n<p>You could also use <em>two</em> object types - one for the numeric timestamp, one for the string format, and use <code>.map</code>:</p>\n\n<pre><code>export type MyObjectNumTimestamps = {\n  id: number;\n  name: string;\n  timestamp: number;\n};\nexport type MyObjectStringTimestamps = {\n  id: number;\n  name: string;\n  timestamp: number;\n};\n</code></pre>\n\n<p>and initially declare the array as type <code>MyObjectNumTimestamps</code>, then turn it into <code>MyObjectStringTimestamps</code>:</p>\n\n<pre><code>const transformedArray: MyObjectStringTimestamps[] = myArray.map(el =&gt; ({\n  ...el,\n  timestamp: moment.unix(el.timestamp).format('HH:mm:ss DD/MM/YYYY')\n}));\n</code></pre>\n"}], "owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 59391989, "answer_count": 1, "score": 1, "last_activity_date": 1576674111, "creation_date": 1576671460, "last_edit_date": 1576674111, "question_id": 59391868, "link": "https://stackoverflow.com/questions/59391868/argument-of-type-string-number-is-not-assignable-to-parameter-of-type-strin", "title": "Argument of type &#39;string | number&#39; is not assignable to parameter of type &#39;string&#39;. Type &#39;number&#39; is not assignable to type &#39;string&#39;", "body": "<p>I have:</p>\n\n<pre><code>export interface MyObject  {\n  id: number;\n  name: string;\n  timestamp: number | string;\n}\n</code></pre>\n\n<p>The timestamp is a number by default but I want to transform it to string in this format 'HH:mm:ss DD/MM/YYYY' using momentjs.</p>\n\n<pre><code>const myArray: MyObject[] = [{id: 1, name: 'foo', timestamp: 123},{id: 2, name: 'bar', timestamp: 456}];\n</code></pre>\n\n<p>I am using <code>.forEach</code> in order to convert all timestamps to string:</p>\n\n<pre><code>myArray.forEach(el =&gt; el.timestamp = moment.unix(el.timestamp).format('HH:mm:ss DD/MM/YYYY'));\n</code></pre>\n\n<p>But, I get this error at the <code>moment.unix</code> call:</p>\n\n<blockquote>\n  <p>Argument of type 'string | number' is not assignable to parameter of\n  type 'string'. Type 'number' is not assignable to type 'string'</p>\n</blockquote>\n\n<p>What am I doing wrong, and how do I fix it?</p>\n"}, {"tags": ["typescript", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 11004139, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlHlbuaym5g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNdifsH04HUiL5gpXH0nE7ynMSWSQ/mo/photo.jpg?sz=128", "display_name": "dipgirl", "link": "https://stackoverflow.com/users/11004139/dipgirl"}, "edited": false, "score": 0, "creation_date": 1576692405, "post_id": 59394440, "comment_id": 104984726, "body": "I already update my code at above. I already follow the step but get this error:  ERROR TypeError: Cannot read property &#39;Detection&#39; of undefined"}, {"owner": {"reputation": 608, "user_id": 12405220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7uF8C.png?s=128&g=1", "display_name": "KingDarBoja", "link": "https://stackoverflow.com/users/12405220/kingdarboja"}, "reply_to_user": {"reputation": 516, "user_id": 11004139, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlHlbuaym5g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNdifsH04HUiL5gpXH0nE7ynMSWSQ/mo/photo.jpg?sz=128", "display_name": "dipgirl", "link": "https://stackoverflow.com/users/11004139/dipgirl"}, "edited": false, "score": 0, "creation_date": 1576700067, "post_id": 59394440, "comment_id": 104987910, "body": "Oops! I made a mistake, <code>responses</code> is an array of <code>Response</code> types. So in order to access it, you must provide some index, like as <code>this.entities = this.theTodo.responses[0].Detection.Entities</code>."}, {"owner": {"reputation": 516, "user_id": 11004139, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlHlbuaym5g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNdifsH04HUiL5gpXH0nE7ynMSWSQ/mo/photo.jpg?sz=128", "display_name": "dipgirl", "link": "https://stackoverflow.com/users/11004139/dipgirl"}, "edited": false, "score": 0, "creation_date": 1576763639, "post_id": 59394440, "comment_id": 105009305, "body": "can already, If I don&#39;t want to show like this [{&quot;entityId&quot;:&quot;1&quot;,&quot;score&quot;:1.05855}] I want to get 1.05855 only?"}, {"owner": {"reputation": 608, "user_id": 12405220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7uF8C.png?s=128&g=1", "display_name": "KingDarBoja", "link": "https://stackoverflow.com/users/12405220/kingdarboja"}, "reply_to_user": {"reputation": 516, "user_id": 11004139, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlHlbuaym5g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNdifsH04HUiL5gpXH0nE7ynMSWSQ/mo/photo.jpg?sz=128", "display_name": "dipgirl", "link": "https://stackoverflow.com/users/11004139/dipgirl"}, "edited": false, "score": 0, "creation_date": 1576764941, "post_id": 59394440, "comment_id": 105010028, "body": "You need to loop over it in order to get each <code>score</code> property. Please checkout <a href=\"https://www.typescriptlang.org/docs/handbook/iterators-and-generators.html\" rel=\"nofollow noreferrer\">Typescript Handbook Iterators and Generators</a> section."}, {"owner": {"reputation": 516, "user_id": 11004139, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlHlbuaym5g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNdifsH04HUiL5gpXH0nE7ynMSWSQ/mo/photo.jpg?sz=128", "display_name": "dipgirl", "link": "https://stackoverflow.com/users/11004139/dipgirl"}, "edited": false, "score": 0, "creation_date": 1576768596, "post_id": 59394440, "comment_id": 105012103, "body": "use looping at html?"}, {"owner": {"reputation": 608, "user_id": 12405220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7uF8C.png?s=128&g=1", "display_name": "KingDarBoja", "link": "https://stackoverflow.com/users/12405220/kingdarboja"}, "reply_to_user": {"reputation": 516, "user_id": 11004139, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlHlbuaym5g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNdifsH04HUiL5gpXH0nE7ynMSWSQ/mo/photo.jpg?sz=128", "display_name": "dipgirl", "link": "https://stackoverflow.com/users/11004139/dipgirl"}, "edited": false, "score": 0, "creation_date": 1576771039, "post_id": 59394440, "comment_id": 105013512, "body": "Yes, in case you need to display that. See <a href=\"https://forum.ionicframework.com/t/angular-loop/108318\" rel=\"nofollow noreferrer\">this ionic 4 question</a>. Also, please mark it as solved as you already got what you asked for."}], "tags": [], "owner": {"reputation": 608, "user_id": 12405220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7uF8C.png?s=128&g=1", "display_name": "KingDarBoja", "link": "https://stackoverflow.com/users/12405220/kingdarboja"}, "is_accepted": true, "score": 2, "last_activity_date": 1576700138, "last_edit_date": 1576700138, "creation_date": 1576680289, "answer_id": 59394440, "question_id": 59391805, "link": "https://stackoverflow.com/questions/59391805/how-to-get-return-object-value-from-api-in-ionic-4/59394440#59394440", "title": "How to get return object value from API in ionic 4", "body": "<p>By using <a href=\"https://app.quicktype.io/#\" rel=\"nofollow noreferrer\">QuickType</a>, I copied your API response and generated some interfaces in order to get type information:</p>\n\n<p><strong>random_interface.ts</strong></p>\n\n<pre><code>export interface RandomAPI {\n    responses: Response[];\n}\n\nexport interface Response {\n    Detection: Detection;\n}\n\nexport interface Detection {\n    Entities: Entity[];\n    Images:   Image[];\n    Ages:     Age[];\n    Labels:   Label[];\n}\n\nexport interface Age {\n    age: string;\n}\n\nexport interface Entity {\n    entityId: string;\n    score:    number;\n}\n\nexport interface Image {\n    url: string;\n}\n\nexport interface Label {\n    label: string;\n}\n</code></pre>\n\n<p>Now you need to use the <code>HttpClient</code> module to load the <code>http</code> class (assuming you're using Angular) and use the <code>get</code> method from it.</p>\n\n<p><strong>main code</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { RandomAPI } from \"./random_interface.ts\";\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\n\nexport class HomePage implements OnInit {\n  public theTodo: RandomAPI;\n  private _apiURL = 'the_url_of_your_api';\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n\n  ngOnInit() {\n    this.http.get(this._apiURL).subscribe((data: RandomAPI) =&gt; {\n      this.theTodo = data ;\n    });\n  }\n}\n</code></pre>\n\n<p>Now the <code>theTodo</code> object has all your API data and you can access it as you wish.</p>\n\n<pre><code>// Array of entities data\nthis.entities = this.theTodo.responses.Detection.Entities \nconsole.log(this.entities) // Like as [{\"entityId\":\"1\",\"score\":1.05855}]\n</code></pre>\n\n<p>More info: <a href=\"https://forum.ionicframework.com/t/ionic-4-native-http-get-empty-data-in-html/155086\" rel=\"nofollow noreferrer\">ionic 4 get native data</a></p>\n\n<p><strong>Update:</strong> I made a mistake on this last step, should be:</p>\n\n<pre><code>// Array of entities data\nthis.entities = this.theTodo.responses[0].Detection.Entities \nconsole.log(this.entities) // Like as [{\"entityId\":\"1\",\"score\":1.05855}]\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 11004139, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlHlbuaym5g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNdifsH04HUiL5gpXH0nE7ynMSWSQ/mo/photo.jpg?sz=128", "display_name": "dipgirl", "link": "https://stackoverflow.com/users/11004139/dipgirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 59394440, "answer_count": 1, "score": 0, "last_activity_date": 1576738410, "creation_date": 1576671225, "last_edit_date": 1576738410, "question_id": 59391805, "link": "https://stackoverflow.com/questions/59391805/how-to-get-return-object-value-from-api-in-ionic-4", "title": "How to get return object value from API in ionic 4", "body": "<p>I am using ionic 4. I post the data to my API then I get the return result like this:</p>\n\n<pre><code>{\n    \"responses\": [\n        {\n            \"Detection\": {\n                \"Entities\": [\n                    {\"entityId\":\"1\",\"score\":1.05855},\n                    {\"entityId\":\"2\",\"score\":10.05}\n                ],\n                \"Images\": [\n                    {\"url\":\"https:URL\"}, \n                    {\"url\":\"https:URL\"}\n                ],\n                \"Ages\": [\n                    {\"age\":\"33\"}, \n                    {\"age\":\"17\"}\n                ],\n                \"Labels\":[\n                    {\"label\":\"game\"}\n                ]\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>My question is how can I get specific data from my API like I want to seperate it to get entities, image, age, and label. Like this\nthis.entities = entitiesID;</p>\n\n<p>this.score = score;</p>\n\n<p>Here is my code:</p>\n\n<p>By using QuickType, I copied your API response and generated some interfaces in order to get type information:</p>\n\n<p><strong>random_interface.ts</strong></p>\n\n<pre><code>export interface RandomAPI {\n    responses: Response;\n}\n\nexport interface Response {\n    Detection: Detection;\n}\n\nexport interface Detection {\n    Entities: Entity[];\n    Images:   Image[];\n    Ages:     Age[];\n    Labels:   Label[];\n}\n\nexport interface Age {\n    age: string;\n}\n\nexport interface Entity {\n    entityId: string;\n    score:    number;\n}\n\nexport interface Image {\n    url: string;\n}\n\nexport interface Label {\n    label: string;\n}\n</code></pre>\n\n<p>here is <strong>main code</strong>:</p>\n\n<pre><code>onSubmit() {\nthis.http.post(this._apiURL).subscribe((data: RandomAPI) =&gt; {\n  this.theTodo = data ;\n  this.entities = this.theTodo.responses.Detection.Entities \n  console.log(this.entities);\n});\n</code></pre>\n\n<p>}</p>\n\n<p>Anyone can help me? </p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "postcss"], "answers": [{"tags": [], "owner": {"reputation": 261, "user_id": 9334403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1993f99ab0a2ec8e4e8b8fc60a44e7?s=128&d=identicon&r=PG&f=1", "display_name": "Norma Mendonca", "link": "https://stackoverflow.com/users/9334403/norma-mendonca"}, "is_accepted": false, "score": 0, "last_activity_date": 1578313645, "creation_date": 1578313645, "answer_id": 59612132, "question_id": 59391713, "link": "https://stackoverflow.com/questions/59391713/three-dots-error-in-postcss-icss-parser-js/59612132#59612132", "title": "Three dots (...) error in postcss-icss-parser.js", "body": "<p>Can you upgrade your node version to 8 and check.</p>\n\n<p><a href=\"https://github.com/webpack-contrib/css-loader/issues/1019\" rel=\"nofollow noreferrer\">https://github.com/webpack-contrib/css-loader/issues/1019</a></p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 12680821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmRuJ.jpg?s=128&g=1", "display_name": "Vladislav Boldakov", "link": "https://stackoverflow.com/users/12680821/vladislav-boldakov"}, "is_accepted": true, "score": 6, "last_activity_date": 1578557717, "creation_date": 1578557717, "answer_id": 59659672, "question_id": 59391713, "link": "https://stackoverflow.com/questions/59391713/three-dots-error-in-postcss-icss-parser-js/59659672#59659672", "title": "Three dots (...) error in postcss-icss-parser.js", "body": "<p><strong>Solution</strong><br>\nIf you cant upgrade your node version to 8, you just need \nset the version strictly before <strong>3.3.1</strong> of <code>css-loader</code>.</p>\n\n<pre><code>{\n  \"css-loader\": \"3.3.0\",\n}\n</code></pre>\n\n<p><strong>Problem</strong><br>\nThree dots is a spread operator from es6 which is supported by Node from v8.3. (<a href=\"https://stackoverflow.com/questions/40066731/node-v6-failing-on-object-spread\">Node v6 failing on object spread</a>)</p>\n\n<p><strong>\u0421ause</strong><br>\n<code>ccs-loader</code> broke backward compatibility of node versions in patch release <strong>3.3.1</strong> on December 10<br>\nreleases - <a href=\"https://github.com/webpack-contrib/css-loader/releases\" rel=\"noreferrer\">https://github.com/webpack-contrib/css-loader/releases</a><br>\nproblem commit - <a href=\"https://github.com/webpack-contrib/css-loader/pull/1014/files\" rel=\"noreferrer\">https://github.com/webpack-contrib/css-loader/pull/1014/files</a> </p>\n"}], "owner": {"reputation": 77, "user_id": 10005904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51ea0f3df5e62d3962e2f1ce523be7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Tuck", "link": "https://stackoverflow.com/users/10005904/mark-tuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 59659672, "answer_count": 2, "score": 2, "last_activity_date": 1578557717, "creation_date": 1576670885, "question_id": 59391713, "link": "https://stackoverflow.com/questions/59391713/three-dots-error-in-postcss-icss-parser-js", "title": "Three dots (...) error in postcss-icss-parser.js", "body": "<p>I do <code>npm build</code> and after im get error:</p>\n\n<pre><code>ERROR in .../PublishingFilter.css (./node_modules/css-loader/dist/cjs.js!./src/shared/publishingFilter/PublishingFilter.css)\n    Module build failed (from ./node_modules/css-loader/dist/cjs.js):\n    .../node_modules/css-loader/dist/plugins/postcss-icss-parser.js:34\n          accumulator[normalizedUrl] = { ...accumulator[normalizedUrl],\n</code></pre>\n\n<p>node v6.17.1</p>\n\n<p>npm  v3.10.10</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3580, "user_id": 11065828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb2cc4242b5681467e0438b65696600?s=128&d=identicon&r=PG&f=1", "display_name": "kooskoos", "link": "https://stackoverflow.com/users/11065828/kooskoos"}, "edited": false, "score": 1, "creation_date": 1576673307, "post_id": 59391792, "comment_id": 104974398, "body": "Change localCompare to localeCompare"}], "tags": [], "owner": {"reputation": 1941, "user_id": 1014378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e72549d63f729b4b1da136688a933980?s=128&d=identicon&r=PG", "display_name": "Romi Halasz", "link": "https://stackoverflow.com/users/1014378/romi-halasz"}, "is_accepted": false, "score": 1, "last_activity_date": 1576674131, "last_edit_date": 1576674131, "creation_date": 1576671187, "answer_id": 59391792, "question_id": 59391662, "link": "https://stackoverflow.com/questions/59391662/find-index-of-last-matching-occurrence/59391792#59391792", "title": "Find index of last matching occurrence", "body": "<p>You can use a custom sort function and test the alphabetical order and length of each value.</p>\n\n<pre><code>function mySort(a, b) {\n  if(a.length == b.length) {\n    return a.localeCompare(b);\n  } else {\n    return a.length - b.length;\n  }\n}\n</code></pre>\n\n<p>The you can use this function to sort the array after a new value has been added:</p>\n\n<p><code>variables.sort(mySort);</code></p>\n"}, {"tags": [], "owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "is_accepted": true, "score": 1, "last_activity_date": 1576671978, "last_edit_date": 1576671978, "creation_date": 1576671454, "answer_id": 59391863, "question_id": 59391662, "link": "https://stackoverflow.com/questions/59391662/find-index-of-last-matching-occurrence/59391863#59391863", "title": "Find index of last matching occurrence", "body": "<p>You can just look for the first variable which is <em>longer</em> than the variable to insert, and if it doesn't exist (<code>findIndex</code> returns -1), add to the end of the array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let variables = ['A', 'B', 'C', 'D', 'AA', 'AB'];\r\nlet nextVariable = 'E';\r\nlet idx = variables.findIndex(x =&gt; x.length &gt; nextVariable.length);\r\nvariables.splice(idx &lt; 0 ? variables.length : idx, 0, nextVariable);\r\n// should be ['A', 'B', 'C', 'D', 'E', 'AA', 'AB']\r\nconsole.log(variables);\r\nnextVariable = 'AC';\r\nidx = variables.findIndex(x =&gt; x.length &gt; nextVariable.length);\r\nvariables.splice(idx &lt; 0 ? variables.length : idx, 0, nextVariable);\r\n// should be ['A', 'B', 'C', 'D', 'E', 'AA', 'AB', 'AC']\r\nconsole.log(variables);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "edited": false, "score": 0, "creation_date": 1576672402, "post_id": 59391996, "comment_id": 104973929, "body": "it gives: [   &quot;AE&quot;,   &quot;BE&quot;,   &quot;CE&quot;,   &quot;DE&quot;,   &quot;AA&quot;,   &quot;AB&quot; ]"}, {"owner": {"reputation": 3580, "user_id": 11065828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb2cc4242b5681467e0438b65696600?s=128&d=identicon&r=PG&f=1", "display_name": "kooskoos", "link": "https://stackoverflow.com/users/11065828/kooskoos"}, "reply_to_user": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "edited": false, "score": 0, "creation_date": 1576672610, "post_id": 59391996, "comment_id": 104974046, "body": "I totally misunderstood the question, thanks for pointing out. I will fix it"}], "tags": [], "owner": {"reputation": 3580, "user_id": 11065828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb2cc4242b5681467e0438b65696600?s=128&d=identicon&r=PG&f=1", "display_name": "kooskoos", "link": "https://stackoverflow.com/users/11065828/kooskoos"}, "is_accepted": false, "score": 1, "last_activity_date": 1576673176, "last_edit_date": 1576673176, "creation_date": 1576671894, "answer_id": 59391996, "question_id": 59391662, "link": "https://stackoverflow.com/questions/59391662/find-index-of-last-matching-occurrence/59391996#59391996", "title": "Find index of last matching occurrence", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let variables = ['A', 'B', 'C', 'D', 'AA', 'AB'];\r\nconst nextVariable = 'E';\r\nvariables[variables.length] = nextVariable\r\nvariables = variables.sort((x,y) =&gt; x.length&lt;y.length ? -1 : x.length==y.length ? x.localeCompare(y) : 1)\r\nconsole.log(variables);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59391863, "answer_count": 3, "score": 0, "last_activity_date": 1576674131, "creation_date": 1576670665, "question_id": 59391662, "link": "https://stackoverflow.com/questions/59391662/find-index-of-last-matching-occurrence", "title": "Find index of last matching occurrence", "body": "<p>I've got array of <code>variables</code> and next variable which I want to add alphabetically. It goes A-Z and after that AA, AB, AC etc.. \nso in when next variable is <code>E</code> I want to add it at the end of letters with length=1, if next variable would be <code>AC</code> I'd add it at the end on letters with length=2 etc. I tried to do it with findIndex, but it returns the first occurrence, not the last one and <code>lastIndexOf</code> accepts value while in my case it should be the last element with given length.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let variables = ['A', 'B', 'C', 'D', 'AA', 'AB'];\r\nconst nextVariable = 'E';\r\nconst idx = variables.findIndex(x =&gt; x.length === nextVariable.length);\r\nvariables.splice(idx, 0, nextVariable);\r\nconsole.log(variables);\r\n\r\n// should be ['A', 'B', 'C', 'D', 'E', 'AA', 'AB']</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1300, "user_id": 8528857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3IHqD.jpg?s=128&g=1", "display_name": "Akash Shrivastava", "link": "https://stackoverflow.com/users/8528857/akash-shrivastava"}, "edited": false, "score": 0, "creation_date": 1576670486, "post_id": 59391583, "comment_id": 104972969, "body": "<code>tr.cells</code> returns an array of <code>td</code>, use indexing on it (e.g. <code>tr.cells[1]</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 12485817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c587675006386c6c2d6ecbcfcbaddefc?s=128&d=identicon&r=PG&f=1", "display_name": "Nila Vaani", "link": "https://stackoverflow.com/users/12485817/nila-vaani"}, "edited": false, "score": 0, "creation_date": 1576672309, "post_id": 59391616, "comment_id": 104973882, "body": "Getting like This row ID value is undefined"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 173, "user_id": 12485817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c587675006386c6c2d6ecbcfcbaddefc?s=128&d=identicon&r=PG&f=1", "display_name": "Nila Vaani", "link": "https://stackoverflow.com/users/12485817/nila-vaani"}, "edited": false, "score": 0, "creation_date": 1576672432, "post_id": 59391616, "comment_id": 104973946, "body": "I&#39;m not sure what exactly you&#39;re trying to target / retrieve there. A <code>td</code> is a table cell, not an input-like element, so it doesn&#39;t have a <code>.value</code>. Did you mean to retrieve the <code>textContent</code> of the <code>td</code>, or retrieve a descendant <code>input</code> instead, or something like that?"}, {"owner": {"reputation": 173, "user_id": 12485817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c587675006386c6c2d6ecbcfcbaddefc?s=128&d=identicon&r=PG&f=1", "display_name": "Nila Vaani", "link": "https://stackoverflow.com/users/12485817/nila-vaani"}, "edited": false, "score": 0, "creation_date": 1576673807, "post_id": 59391616, "comment_id": 104974674, "body": "Yes..innerText is working fine..but some time i am getting  value is not undefined ..So how to avoid this error message.."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 173, "user_id": 12485817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c587675006386c6c2d6ecbcfcbaddefc?s=128&d=identicon&r=PG&f=1", "display_name": "Nila Vaani", "link": "https://stackoverflow.com/users/12485817/nila-vaani"}, "edited": false, "score": 0, "creation_date": 1576673881, "post_id": 59391616, "comment_id": 104974710, "body": "<i>but some time i am getting value is not undefined</i> But you just said the value <i>is</i> undefined? If it&#39;s a <code>&lt;td&gt;</code>, then it doesn&#39;t have a <code>.value</code>. Don&#39;t use <code>.innerText</code>, use <code>.textContent</code> if at all possible"}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 3, "last_activity_date": 1576670481, "creation_date": 1576670481, "answer_id": 59391616, "question_id": 59391583, "link": "https://stackoverflow.com/questions/59391583/how-to-get-second-td-value-of-tr-in-a-table-using-javascript-or-typescript/59391616#59391616", "title": "How to get second td value of tr in a table using javascript or typescript", "body": "<p><code>.find</code> to find a descendant matching a selector is a jQuery method, but you're not using jQuery (and you don't want to, which is fine). Use <code>querySelector</code> instead, which supports <em>most</em> selectors that jQuery does:</p>\n\n<pre><code>const target = e.originalEvent.toElement.closest('tr');\nif (target &amp;&amp; target.id) {\n  const td = target.querySelector('td:nth-child(2)');\n  const fieldValue = e.data[target.id];\n  if (td) {\n    console.log(\"This row ID is =\" + td.value)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 12485817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c587675006386c6c2d6ecbcfcbaddefc?s=128&d=identicon&r=PG&f=1", "display_name": "Nila Vaani", "link": "https://stackoverflow.com/users/12485817/nila-vaani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 59391616, "answer_count": 1, "score": 1, "last_activity_date": 1576673906, "creation_date": 1576670360, "last_edit_date": 1576673906, "question_id": 59391583, "link": "https://stackoverflow.com/questions/59391583/how-to-get-second-td-value-of-tr-in-a-table-using-javascript-or-typescript", "title": "How to get second td value of tr in a table using javascript or typescript", "body": "<p>I tried to get second td value of tr in a table but not wokring.I ma getting find is a not a function.So how to get second td value of tr in a table using javascript or typescript.Do not use jquery.</p>\n\n<pre><code>let target = e.originalEvent.toElement.closest('tr');\nif (target &amp;&amp; target.id) {\n  let td = target.find('td:nth-child(2)');\n  let fieldValue = e.data[target.id];\n  if (td) {\n    console.log(\"This row ID is =\"+ td.value )\n  } \n} \n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "api", "angular6"], "comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1576668582, "post_id": 59391045, "comment_id": 104972030, "body": "You are getting the input box or not??"}, {"owner": {"reputation": 194, "user_id": 4015150, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100003742340748/picture?type=large", "display_name": "Fabian Schmidt", "link": "https://stackoverflow.com/users/4015150/fabian-schmidt"}, "edited": false, "score": 0, "creation_date": 1576668586, "post_id": 59391045, "comment_id": 104972036, "body": "Are you sure that &quot;places&quot; holds any data? And if so could you please provide a stackblitz example?"}, {"owner": {"reputation": 38928, "user_id": 1817690, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/O5Ziv.jpg?s=128&g=1", "display_name": "Rohan Kumar", "link": "https://stackoverflow.com/users/1817690/rohan-kumar"}, "edited": false, "score": 0, "creation_date": 1576669552, "post_id": 59391045, "comment_id": 104972542, "body": "Try again after removing the <code>*ngIf=&quot;isShow&quot;</code> from your places parent div, and check whether it is working or not ?"}, {"owner": {"reputation": 1, "user_id": 11202514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZRtIeaupWiM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdIa6gvJM3-6Mc0osfrkjuh0FJpQg/mo/photo.jpg?sz=128", "display_name": "Ritika Agarwal", "link": "https://stackoverflow.com/users/11202514/ritika-agarwal"}, "edited": false, "score": 0, "creation_date": 1576756866, "post_id": 59391045, "comment_id": 105005838, "body": "Rohan Kumar - I tried removing *ngIf and *ngFor. It was working after that."}], "owner": {"reputation": 1, "user_id": 11202514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZRtIeaupWiM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdIa6gvJM3-6Mc0osfrkjuh0FJpQg/mo/photo.jpg?sz=128", "display_name": "Ritika Agarwal", "link": "https://stackoverflow.com/users/11202514/ritika-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577297261, "creation_date": 1576668404, "last_edit_date": 1577297261, "question_id": 59391045, "link": "https://stackoverflow.com/questions/59391045/how-do-i-get-auto-address-when-using-structural-directives", "title": "How do I get auto address when using structural directives?", "body": "<p><a href=\"https://i.stack.imgur.com/coegP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/coegP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hi I am not getting this auto address when I am using <code>*ngIf</code> or trying to append the <code>div</code>, otherwise its working completely fine.\nWhat am I supposed to do to get this auto address along with <code>*ngIf</code> and appending it.</p>\n\n<pre><code>&lt;div class=\"form-group label-floating\"&gt;\n    &lt;label class=\"control-label\"&gt;Address1&lt;/label&gt;\n    &lt;input type=\"text\" class=\"form-control search-address\" name=\"address1\" placeholder=\" \" [(ngModel)]=\"address1\" #address1&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In the above code auto address is working</p>\n\n<pre><code>&lt;div *ngIf=\"isShow\"&gt;\n    &lt;div class=\"form-group label-floating\" *ngFor=\"let place of places\"&gt;\n        &lt;label class=\"control-label\"&gt;Place&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control search-address\" name=\"address2\" placeholder=\" \" [(ngModel)]=\"place.address2\" #address2&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In the above code auto address is not working and the only difference is I am using structural directives.</p>\n\n<p>my ts code</p>\n\n<pre><code>const address1 = new google.maps.places.Autocomplete(this.address1.nativeElement, { componentRestrictions: { country: 'IN' }, types: [this.adressType]\n }); \ngoogle.maps.event.addListener(address1, 'place_changed', () =&gt; { this.place = address1.getPlace(); this.invokeEvent(this.place); \n});\n</code></pre>\n\n<p>Please suggest me a good solution where I can use all three of them.\nThank You.</p>\n"}, {"tags": ["typescript", "parceljs"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13300237, "user_type": "registered", "profile_image": "https://graph.facebook.com/3135222859844731/picture?type=large", "display_name": "Kitchan Dela Vega Betsayda", "link": "https://stackoverflow.com/users/13300237/kitchan-dela-vega-betsayda"}, "is_accepted": false, "score": 0, "last_activity_date": 1586801390, "last_edit_date": 1586801390, "creation_date": 1586770268, "answer_id": 61184947, "question_id": 59391041, "link": "https://stackoverflow.com/questions/59391041/parcel-alias-not-registering-with-tslint/61184947#61184947", "title": "Parcel alias not registering with tslint", "body": "<p>First, remove all your aliases in package.json to avoid confusion.</p>\n\n<p>Then install it as a dev dependency:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>npm install --save-dev babel-plugin-module-resolver\n</code></pre>\n\n<p>change tilde to hash:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"jsx\": \"react\",\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"#*\": [\"./src/*\"]\n    }\n  },\n  \"include\": [\"./declarations.d.ts\", \"global.d.ts\"]\n}\n</code></pre>\n\n<p>add the plugin to <code>.babelrc</code>:</p>\n\n<pre><code>{\n  \"plugins\": [\n    [\"module-resolver\", {\n      \"root\": [\".\"],\n      \"alias\": {\n        \"#shared\": \"./src/shared\"\n      }\n   }]\n ]\n}\n</code></pre>\n\n<p><strong>Note</strong>: alias in <code>babelrc</code> can't concatenate the directory. It must be a full path.</p>\n"}], "owner": {"reputation": 9, "user_id": 11791840, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUxlYJFiN-c/AAAAAAAAAAI/AAAAAAAAAPc/J2DDxK9kZrg/photo.jpg?sz=128", "display_name": "user966137", "link": "https://stackoverflow.com/users/11791840/user966137"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586801390, "creation_date": 1576668400, "question_id": 59391041, "link": "https://stackoverflow.com/questions/59391041/parcel-alias-not-registering-with-tslint", "title": "Parcel alias not registering with tslint", "body": "<p>I'm using parcel-bundler for react with TypeScript, and I've set up some aliases in package.json.</p>\n\n<p>This is my tsconfig.json</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"jsx\": \"react\",\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"~*\": [\"./src/*\"]\n    }\n  },\n  \"include\": [\"./declarations.d.ts\", \"global.d.ts\"]\n}\n\n</code></pre>\n\n<p>Here are my aliases</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"alias\": {\n  \"#types\": \"./src/types\",\n  \"#App\": \"./src/App\",\n  \"#helpers\": \"./src/helpers\",\n  \"#shared\": \"./src/shared\"\n}\n</code></pre>\n\n<p>And when I import anything using these aliases</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Button from \"#shared/Button\";\n</code></pre>\n\n<p>It underlines them, saying <code>Cannot find module #shared/Button</code> in Vscode</p>\n\n<p>However, the app runs fine. So how should I tell tslint, that there are aliased imports from parcel?</p>\n"}, {"tags": ["angular", "typescript", "maphilight"], "comments": [{"owner": {"reputation": 1288, "user_id": 8516155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jDpk.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/8516155/amit"}, "edited": false, "score": 0, "creation_date": 1576668292, "post_id": 59390945, "comment_id": 104971903, "body": "Can you create a stackblitz reproducing the issue"}, {"owner": {"reputation": 194, "user_id": 4015150, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100003742340748/picture?type=large", "display_name": "Fabian Schmidt", "link": "https://stackoverflow.com/users/4015150/fabian-schmidt"}, "edited": false, "score": 0, "creation_date": 1576668351, "post_id": 59390945, "comment_id": 104971932, "body": "Have you added this line to your module? <code>import { MaphilightModule } from &#39;ng-maphilight&#39;</code>?"}, {"owner": {"reputation": 195, "user_id": 3506326, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d3cd5bbff25ed8e3df21977f15e3e18?s=128&d=identicon&r=PG&f=1", "display_name": "Kamilia", "link": "https://stackoverflow.com/users/3506326/kamilia"}, "reply_to_user": {"reputation": 194, "user_id": 4015150, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100003742340748/picture?type=large", "display_name": "Fabian Schmidt", "link": "https://stackoverflow.com/users/4015150/fabian-schmidt"}, "edited": false, "score": 0, "creation_date": 1576669162, "post_id": 59390945, "comment_id": 104972329, "body": "@FabianSchmidt yes it&#39;s imported to my component . did i miss any configurations ?"}, {"owner": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "edited": false, "score": 0, "creation_date": 1614331573, "post_id": 59390945, "comment_id": 117358447, "body": "@Kamilia did you find the solution ? Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 3506326, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d3cd5bbff25ed8e3df21977f15e3e18?s=128&d=identicon&r=PG&f=1", "display_name": "Kamilia", "link": "https://stackoverflow.com/users/3506326/kamilia"}, "edited": false, "score": 0, "creation_date": 1576669480, "post_id": 59391098, "comment_id": 104972502, "body": "I installed it and still the issue is exist, I think the issue in the configuration angular.json ! shall I add any configuration in it ?"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "reply_to_user": {"reputation": 195, "user_id": 3506326, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d3cd5bbff25ed8e3df21977f15e3e18?s=128&d=identicon&r=PG&f=1", "display_name": "Kamilia", "link": "https://stackoverflow.com/users/3506326/kamilia"}, "edited": false, "score": 0, "creation_date": 1576669610, "post_id": 59391098, "comment_id": 104972575, "body": "@Kamilia please check this steps : <a href=\"https://github.com/TylerRick/ng-maphilight\" rel=\"nofollow noreferrer\">github.com/TylerRick/ng-maphilight</a>"}], "tags": [], "owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1576669763, "last_edit_date": 1576669763, "creation_date": 1576668602, "answer_id": 59391098, "question_id": 59390945, "link": "https://stackoverflow.com/questions/59390945/cant-bind-to-config-since-it-isnt-a-known-property-of-maphilight-error-in/59391098#59391098", "title": "Can&#39;t bind to &#39;config&#39; since it isn&#39;t a known property of &#39;maphilight&#39; error in angular 8", "body": "<p>You have installed the unsupported version of the npm library  please use <a href=\"https://www.npmjs.com/package/ng-maphilight\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng-maphilight</a></p>\n\n<p>You should have used <code>npm i ng-maphilight --save</code> instead of  <code>npm i maphilight --save</code></p>\n\n<p>Please follow the steps specified here : <a href=\"https://github.com/TylerRick/ng-maphilight\" rel=\"nofollow noreferrer\">https://github.com/TylerRick/ng-maphilight</a></p>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 3506326, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d3cd5bbff25ed8e3df21977f15e3e18?s=128&d=identicon&r=PG&f=1", "display_name": "Kamilia", "link": "https://stackoverflow.com/users/3506326/kamilia"}, "edited": false, "score": 0, "creation_date": 1576669615, "post_id": 59391106, "comment_id": 104972578, "body": "I installed it but still the issue is exist, could you please check if i have missed any configuration ?"}], "tags": [], "owner": {"reputation": 38928, "user_id": 1817690, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/O5Ziv.jpg?s=128&g=1", "display_name": "Rohan Kumar", "link": "https://stackoverflow.com/users/1817690/rohan-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1576668619, "creation_date": 1576668619, "answer_id": 59391106, "question_id": 59390945, "link": "https://stackoverflow.com/questions/59390945/cant-bind-to-config-since-it-isnt-a-known-property-of-maphilight-error-in/59391106#59391106", "title": "Can&#39;t bind to &#39;config&#39; since it isn&#39;t a known property of &#39;maphilight&#39; error in angular 8", "body": "<p>I think you should use <code>ng-maphilight</code> instead of just <code>maphilight</code> and the command to install is as follows</p>\n\n<pre><code>npm i ng-maphilight --save\n</code></pre>\n\n<p>Please check the <a href=\"https://github.com/TylerRick/ng-maphilight\" rel=\"nofollow noreferrer\">docs</a></p>\n"}], "owner": {"reputation": 195, "user_id": 3506326, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d3cd5bbff25ed8e3df21977f15e3e18?s=128&d=identicon&r=PG&f=1", "display_name": "Kamilia", "link": "https://stackoverflow.com/users/3506326/kamilia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576669763, "creation_date": 1576668118, "last_edit_date": 1576669110, "question_id": 59390945, "link": "https://stackoverflow.com/questions/59390945/cant-bind-to-config-since-it-isnt-a-known-property-of-maphilight-error-in", "title": "Can&#39;t bind to &#39;config&#39; since it isn&#39;t a known property of &#39;maphilight&#39; error in angular 8", "body": "<p>I'm using angular 8 and i want to use maphilight to pick a pre defined part in image map like (nose, eye, ... )  :  </p>\n\n<p><a href=\"https://i.stack.imgur.com/Bevyg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bevyg.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I have installed maphilight using this command  >>>  npm i ng-maphilight --save\nIn my app.module.ts, I have added MaphilightModule to imports array.\nIn my component (html) , the maphilight map was added as a container element</p>\n\n<pre><code> &lt;div class=\"body-img\"&gt;\n    &lt;maphilight\n            id=\"statesMap\"\n            [hidden]=\"hidden\"\n            [config]=\"config\"\n          &gt;\n            &lt;img src=\"../../assets/image1.png\" class=\"map\" alt=\"bodyChart\" usemap=\"#bodyChart\" &gt;\n\n            &lt;span *ngFor=\"let c of bodyAreas; let pickIndex=index; let count=index\"&gt;\n                &lt;span *ngIf=\"c.picked\" (click)=\"pick(pickIndex)\" class=\"pick-span\"\n                    [ngStyle]=\"c.style\"&gt;{{ c.title }} &lt;/span&gt;\n            &lt;/span&gt;\n        &lt;map name=\"bodyChart\" &gt;\n            &lt;area *ngFor=\"let c of bodyAreas; let areaIndex=index\" [title]=\"c.title\" [alt]=\"c.alt\" [shape]=\"c.shape\" [coords]=\"c.coords\" (click)=\"pick(areaIndex)\" /&gt;\n        &lt;/map&gt;\n    &lt;/maphilight&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>and in myComponent (ts) i have used the maphilightComponent as the following >> </p>\n\n<pre><code>@ViewChild(MaphilightComponent, {static: false}) maphilightComponent: MaphilightComponent;\nhidden = false\n  public config = {\n    fade: true,\n    alwaysOn: false,\n    neverOn: false,\n\n    // fill\n    fill: true,\n    fillColor: '#ffffff',\n    fillOpacity: 0.4,\n\n    // stroke\n    stroke: true,\n    strokeColor: '#4d0ec0',\n    strokeOpacity: 1,\n    strokeWidth: 1,\n\n    // shadow:\n    shadow: true,\n    shadowColor: '#000000',\n    shadowOpacity: 0.8,\n    shadowRadius: 10\n  }\n\n ngAfterViewInit() {\n    // Make sure image is initially visible while maphilight.js loads (and *then* hide it).\n    // Otherwise the $(img).height() in maphilight.js may return 0, which causes mouseover effect to break.\n    // See also:\n    // - https://stackoverflow.com/questions/1472303/jquery-get-width-of-element-when-not-visible-display-none\n    // - https://stackoverflow.com/questions/2345784/jquery-get-height-of-hidden-element-in-jquery\n    this.maphilightComponent.events.imgLoaded.subscribe(() =&gt; {\n      console.log(\"img.height=\", this.maphilightComponent.img.height,\n                  \"$(this.img).height()=\", window.jQuery(this.maphilightComponent.img).height())\n      //this.hidden = true\n    })\n    this.maphilightComponent.events.updateMaphilight.subscribe(() =&gt; {\n      console.log('updateMaphilight')\n    })\n  }\n</code></pre>\n\n<p>I have this error </p>\n\n<blockquote>\n  <p>Uncaught Error: Template parse errors: Can't bind to 'config' since it\n  isn't a known property of 'maphilight'. (\"\n          id=\"statesMap\"\n          [hidden]=\"hidden\"\n          [ERROR ->][config]=\"config\"\n        >\n          \n          [ERROR ->])\n      at JitCompiler._compileComponents (:4200/vendor.js:108430)\n      at :4200/vendor.js:108343\n      at Object.then (:4200/vendor.js:84703)\n      at JitCompiler._compileModuleAndComponents (:4200/vendor.js:108342)</p>\n</blockquote>\n\n<p>Any advise please.</p>\n"}, {"tags": ["node.js", "typescript", "deployment", "production"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 10577550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d6445758f72649cb85371fac7801f2d?s=128&d=identicon&r=PG&f=1", "display_name": "nflaig", "link": "https://stackoverflow.com/users/10577550/nflaig"}, "edited": false, "score": 1, "creation_date": 1577118399, "post_id": 59440477, "comment_id": 105098075, "body": "I agree with everything you said but what tool are you using to package the app (dist folder + package.json) and then deploy it on a server? The goal is to be able to automate the whole process. Of course with docker this is easy but I am trying to find a solution that works without docker"}, {"owner": {"reputation": 854, "user_id": 2895571, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0c465a6b2f1d8816476d205d4b7a235a?s=128&d=identicon&r=PG&f=1", "display_name": "pavle", "link": "https://stackoverflow.com/users/2895571/pavle"}, "reply_to_user": {"reputation": 382, "user_id": 10577550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d6445758f72649cb85371fac7801f2d?s=128&d=identicon&r=PG&f=1", "display_name": "nflaig", "link": "https://stackoverflow.com/users/10577550/nflaig"}, "edited": false, "score": 1, "creation_date": 1577136058, "post_id": 59440477, "comment_id": 105103782, "body": "I\u2019m using AzureDevops. It\u2019s really intuitive and easy to use. It is really easy to pick files and folders you want to package on production server"}], "tags": [], "owner": {"reputation": 854, "user_id": 2895571, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0c465a6b2f1d8816476d205d4b7a235a?s=128&d=identicon&r=PG&f=1", "display_name": "pavle", "link": "https://stackoverflow.com/users/2895571/pavle"}, "is_accepted": false, "score": 1, "last_activity_date": 1576969205, "creation_date": 1576969205, "answer_id": 59440477, "question_id": 59390837, "link": "https://stackoverflow.com/questions/59390837/deploy-typescript-node-js-application-in-production-without-docker/59440477#59440477", "title": "Deploy TypeScript Node.js application in production without docker", "body": "<p>Why would you add all types as dependencies? There is no need for that, your production app shouldn't contain all of your dev dependencies. Usually, when one runs the <code>npm run build</code> command, <code>tsc</code> (typescript compiler) is executed and it transpiles typescript code into javascript. You don't need all of your dev dependencies included in the transpiled code. Default location for transpiled code is usually <code>dist</code> folder. If your application entry point was <code>src/index.ts</code>, then after build command you should call <code>node dist/index.js</code> to run the server. Now, everything you need to package your app for production is your <code>package.json</code> and transpiled code in <code>dist</code> folder. Install prod dependencies and run <code>node dist/index.js</code> and your server should run successfully. Of course, you should consider configuring <a href=\"https://pm2.io\" rel=\"nofollow noreferrer\">PM2</a> or similar process manager for your production code.</p>\n"}], "owner": {"reputation": 382, "user_id": 10577550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d6445758f72649cb85371fac7801f2d?s=128&d=identicon&r=PG&f=1", "display_name": "nflaig", "link": "https://stackoverflow.com/users/10577550/nflaig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2058, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1576969205, "creation_date": 1576667679, "question_id": 59390837, "link": "https://stackoverflow.com/questions/59390837/deploy-typescript-node-js-application-in-production-without-docker", "title": "Deploy TypeScript Node.js application in production without docker", "body": "<p>What is the current best practice to deploy TypeScript Node.js applications in production without docker?</p>\n\n<p>In case of using git there is the problem that you need to install all dependencies in order to build the project since the types are required which are usually installed as devDependencies. This also means that you install modules for testing, linting, etc. which are not required at all in production.</p>\n\n<p>I am thinking about adding all types as dependencies which then would allow to run <code>npm install --production</code> in order to avoid installing all devDependencies and still be able to build the project by running <code>npm run build</code>.</p>\n\n<p>Another solution I was thinking about was deployment via npm, similiar to how TypeScript node modules are released and installed but that solution also seems suboptimal.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 310, "user_id": 4004986, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/562436665/picture?type=large", "display_name": "Antony", "link": "https://stackoverflow.com/users/4004986/antony"}, "edited": false, "score": 0, "creation_date": 1576666879, "post_id": 59390026, "comment_id": 104971229, "body": "TS <i>can</i> infer everything, you&#39;ve asked it not to by setting noImplicitAny in your compiler options, so when you declare the parameter <code>target</code> you need to give it a type."}], "answers": [{"tags": [], "owner": {"reputation": 4409, "user_id": 325322, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb3ed6f2e0700934f94a3e794ef2c788?s=128&d=identicon&r=PG", "display_name": "Karel Frajt&#225;k", "link": "https://stackoverflow.com/users/325322/karel-frajt%c3%a1k"}, "is_accepted": false, "score": 0, "last_activity_date": 1576666267, "creation_date": 1576666267, "answer_id": 59390428, "question_id": 59390026, "link": "https://stackoverflow.com/questions/59390026/how-to-use-es6-proxy-in-typescript/59390428#59390428", "title": "How to use ES6 Proxy in Typescript?", "body": "<p>What I discovered recently is that </p>\n\n<blockquote>\n  <p>when you declare a local variable using the const keyword and initialize it with a literal value, TypeScript will infer a literal type for that variable (from <a href=\"https://mariusschulz.com/blog/literal-type-widening-in-typescript\" rel=\"nofollow noreferrer\">https://mariusschulz.com/blog/literal-type-widening-in-typescript</a>)</p>\n</blockquote>\n\n<pre><code>const numericLiteral = 42;     // Type 42\n</code></pre>\n\n<p>See <a href=\"https://www.typescriptlang.org/docs/handbook/variable-declarations.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/variable-declarations.html</a>, <a href=\"https://mariusschulz.com/blog/literal-type-widening-in-typescript\" rel=\"nofollow noreferrer\">https://mariusschulz.com/blog/literal-type-widening-in-typescript</a>, <a href=\"https://blog.logrocket.com/const-assertions-are-the-killer-new-typescript-feature-b73451f35802/\" rel=\"nofollow noreferrer\">https://blog.logrocket.com/const-assertions-are-the-killer-new-typescript-feature-b73451f35802/</a>.</p>\n\n<p>Also this may help you - <a href=\"https://medium.com/@SylvainPV/type-safety-in-javascript-using-es6-proxies-eee8fbbbd600\" rel=\"nofollow noreferrer\">https://medium.com/@SylvainPV/type-safety-in-javascript-using-es6-proxies-eee8fbbbd600</a>.</p>\n\n<p>You are not declaring literal constant, but something similar may be happening too. And I suggest to declare an interface to \"support\" the indexing.</p>\n"}, {"comments": [{"owner": {"reputation": 1470, "user_id": 2722783, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74810c3f7526967c5a50e23a6bc22f8e?s=128&d=identicon&r=PG&f=1", "display_name": "VSDekar", "link": "https://stackoverflow.com/users/2722783/vsdekar"}, "edited": false, "score": 0, "creation_date": 1576672639, "post_id": 59390476, "comment_id": 104974061, "body": "You solutions works, but shouldn&#39;t be TS already sure with the <code>key in target</code> check that i only use a valid key?"}, {"owner": {"reputation": 161, "user_id": 4206308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFQDw.jpg?s=128&g=1", "display_name": "Rafal2228", "link": "https://stackoverflow.com/users/4206308/rafal2228"}, "reply_to_user": {"reputation": 1470, "user_id": 2722783, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74810c3f7526967c5a50e23a6bc22f8e?s=128&d=identicon&r=PG&f=1", "display_name": "VSDekar", "link": "https://stackoverflow.com/users/2722783/vsdekar"}, "edited": false, "score": 0, "creation_date": 1576680641, "post_id": 59390476, "comment_id": 104978344, "body": "This might be related to <a href=\"https://github.com/microsoft/TypeScript/issues/21732\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/21732</a> , but unfortunately TypeScript cannot do that at this moment."}], "tags": [], "owner": {"reputation": 161, "user_id": 4206308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFQDw.jpg?s=128&g=1", "display_name": "Rafal2228", "link": "https://stackoverflow.com/users/4206308/rafal2228"}, "is_accepted": true, "score": 0, "last_activity_date": 1576666436, "creation_date": 1576666436, "answer_id": 59390476, "question_id": 59390026, "link": "https://stackoverflow.com/questions/59390026/how-to-use-es6-proxy-in-typescript/59390476#59390476", "title": "How to use ES6 Proxy in Typescript?", "body": "<p>This is because the <code>key</code> is defined as <code>PropertyKey</code>. Meaning it could be <code>string | number | symbol</code> which is different index signature than your object which only has one key <code>x</code>. It's not really error in types - TS cannot be statically sure that your object won't be called with something other than <code>x</code> and assumes broader range on possible <code>key</code> values. One solution to this could be assuring TypeScript that it indeed will be a <code>keyof myObj</code>, since you are already doing a runtime check yourself:</p>\n\n<pre><code>return key in target ? target[key as keyof typeof target] + ' World!' : 'nope';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1470, "user_id": 2722783, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74810c3f7526967c5a50e23a6bc22f8e?s=128&d=identicon&r=PG&f=1", "display_name": "VSDekar", "link": "https://stackoverflow.com/users/2722783/vsdekar"}, "is_accepted": false, "score": 0, "last_activity_date": 1576683898, "creation_date": 1576683898, "answer_id": 59395554, "question_id": 59390026, "link": "https://stackoverflow.com/questions/59390026/how-to-use-es6-proxy-in-typescript/59395554#59395554", "title": "How to use ES6 Proxy in Typescript?", "body": "<p>Thx to @Rafal2228 for explaining the problem and suggesting a workaround. Just for completeness i want to post how i have fixed it now. (With a TypeGuard)</p>\n\n<pre><code>const hasKey = &lt;T extends object&gt;(obj: T, k: keyof any): k is keyof T =&gt;\n  k in obj;\n\nconst myObj = {\n  x: 'Hello',\n};\n\nconst p = new Proxy(myObj, {\n  get: (target, key) =&gt; {\n    return hasKey(target, key) ? target[key] + ' World!' : 'nope';\n  },\n});\n\nconsole.log(p.x);\n</code></pre>\n"}], "owner": {"reputation": 1470, "user_id": 2722783, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74810c3f7526967c5a50e23a6bc22f8e?s=128&d=identicon&r=PG&f=1", "display_name": "VSDekar", "link": "https://stackoverflow.com/users/2722783/vsdekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 0, "accepted_answer_id": 59390476, "answer_count": 3, "score": 0, "last_activity_date": 1576683898, "creation_date": 1576664964, "question_id": 59390026, "link": "https://stackoverflow.com/questions/59390026/how-to-use-es6-proxy-in-typescript", "title": "How to use ES6 Proxy in Typescript?", "body": "<p>I would like to try some things around Proxies, but i struggle to get the simplest form running. </p>\n\n<p>I have the following code</p>\n\n<pre><code>const myObj = {\n  x: 'Hello',\n};\n\nconst p = new Proxy(myObj, {\n  get: (target, key) =&gt; {\n    return key in target ? target[key] + ' World!' : 'nope';\n  },\n});\n\nconsole.log(p.x);\n</code></pre>\n\n<p>And i get the following error, but i have no clue why and how to solve it:</p>\n\n<pre><code>index.ts:7:28 - error TS7053: Element implicitly has an 'any' type because expression of type 'string | number | symbol' can't be used to index type '{ x: string; }'.\n  No index signature with a parameter of type 'string' was found on type '{ x: string; }'.\n\n7     return key in target ? target[key] + ' World!' : 'nope';\n                             ~~~~~~~~~~~\n\nFound 1 error.\n</code></pre>\n\n<p>I think TS should be able to infer everything. What do i miss here?</p>\n"}, {"tags": ["angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 194, "user_id": 4015150, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100003742340748/picture?type=large", "display_name": "Fabian Schmidt", "link": "https://stackoverflow.com/users/4015150/fabian-schmidt"}, "edited": false, "score": 0, "creation_date": 1576665225, "post_id": 59390004, "comment_id": 104970402, "body": "Your error says &quot;Type <code>{}</code> is missing the following properties from type <code>ITodo</code>: task, completed&quot;. It looks like the items returned by valueChanges() do not hold any data. Have you made sure that the data returned by valueChanges() has the fields &quot;task&quot; and &quot;completed&quot;?"}, {"owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "edited": false, "score": 0, "creation_date": 1576665679, "post_id": 59390004, "comment_id": 104970631, "body": "I assume that the list function is a generic. Perhaps try to do <code>this.db.list&lt;ITodo&gt;(&#39;Todos&#39;).valueChanges()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "is_accepted": true, "score": 1, "last_activity_date": 1576665599, "last_edit_date": 1592644375, "creation_date": 1576665599, "answer_id": 59390209, "question_id": 59390004, "link": "https://stackoverflow.com/questions/59390004/angular-observable-unkown-not-assignable-using-firebase/59390209#59390209", "title": "Angular Observable unkown not assignable. using firebase", "body": "<p>This is because you didn't specify a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> for the <code>list</code> method, which optionally accepts a type variable that you can type the result against.</p>\n<p>The full definition of <a href=\"https://github.com/angular/angularfire/blob/76f721254bcb4e9db693486332a4a72a7e897f15/src/database/database.ts#L28-L35\" rel=\"nofollow noreferrer\"><code>AngularFireDatabase#list</code></a> is as follows:</p>\n<pre class=\"lang-js prettyprint-override\"><code>list&lt;T&gt;(pathOrRef: PathReference, queryFn?: QueryFn): AngularFireList&lt;T&gt;;\n</code></pre>\n<p>And the definition for the <a href=\"https://github.com/angular/angularfire/blob/76f721254bcb4e9db693486332a4a72a7e897f15/src/database/interfaces.ts#L6-L16\" rel=\"nofollow noreferrer\"><code>AngularFireList</code></a> interface, which accepts a type variable:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export interface AngularFireList&lt;T&gt; {\n  query: DatabaseQuery;\n  valueChanges(events?: ChildEvent[]): Observable&lt;T[]&gt;;\n  snapshotChanges(events?: ChildEvent[]): Observable&lt;SnapshotAction&lt;T&gt;[]&gt;;\n  stateChanges(events?: ChildEvent[]): Observable&lt;SnapshotAction&lt;T&gt;&gt;;\n  auditTrail(events?: ChildEvent[]): Observable&lt;SnapshotAction&lt;T&gt;[]&gt;;\n  update(item: FirebaseOperation, data: Partial&lt;T&gt;): Promise&lt;void&gt;;\n  set(item: FirebaseOperation, data: T): Promise&lt;void&gt;;\n  push(data: T): database.ThenableReference;\n  remove(item?: FirebaseOperation): Promise&lt;void&gt;;\n}\n</code></pre>\n<p>As such, you should add a type variable as follows:</p>\n<pre class=\"lang-js prettyprint-override\"><code>getTodo(): Observable&lt;ITodo[]&gt;{\n  return this.db.list&lt;ITodo&gt;('Todos').valueChanges();\n}\n</code></pre>\n<p>It's also stated in the &quot;<a href=\"https://github.com/angular/angularfire/blob/master/docs/rtdb/lists.md#create-a-list-binding\" rel=\"nofollow noreferrer\">Retrieving data as lists</a>&quot; documentation:</p>\n<blockquote>\n<p>Data is retrieved through the <code>AngularFireDatabase</code> service. The service is also generic. Provide the singular type and not the array type.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const listRef = db.list('items');\nconst shirtsRef = db.list&lt;Shirt&gt;('shirts');\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 25, "user_id": 11557710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62282712b105e769766e1372bb6ecdb8?s=128&d=identicon&r=PG&f=1", "display_name": "mzingaye nkala", "link": "https://stackoverflow.com/users/11557710/mzingaye-nkala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59390209, "answer_count": 1, "score": 0, "last_activity_date": 1576665599, "creation_date": 1576664893, "last_edit_date": 1576665262, "question_id": 59390004, "link": "https://stackoverflow.com/questions/59390004/angular-observable-unkown-not-assignable-using-firebase", "title": "Angular Observable unkown not assignable. using firebase", "body": "<p>I am using Angular 8 to make a todo app with a firebase backend.</p>\n\n<p>This is my todo service file which contains the error stating:</p>\n\n<pre><code>Type `Observable unknown[]` is not assignable to type `Observable ITodo[]`.\n\nType `unknown[]` is not assignable to type `ITodo[]`.\n\nType `{}` is missing the following properties from type `ITodo`: task, completed\n</code></pre>\n\n<pre><code>import { AngularFireDatabase } from '@angular/fire/database';\nimport { Observable } from 'rxjs';\nimport { ITodo } from './models/todo';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TodosService {\n\n  constructor(private db: AngularFireDatabase) { }\n\n  createTodo() {\n    return this.db.list('Todos').push({\n      task: 'clean',\n      completed: 'false'\n    });\n  }\n\n  getTodo(): Observable&lt;ITodo[]&gt;{\n    return this.db.list('Todos').valueChanges();\n  }\n}\n</code></pre>\n\n<p>My interface looks like this:</p>\n\n<pre><code>export interface ITodo {\n    task:string,\n    completed: boolean\n}\n</code></pre>\n\n<p>Does any one have an idea why I am getting that error? Thanks\nnote: the error is on my getTodo method.</p>\n"}, {"tags": ["typescript", "angular8", "typescript2.0"], "owner": {"reputation": 121, "user_id": 5238317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0eab0a2dbd8071d5b37cf10d1d4970a?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/5238317/arun-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576725264, "creation_date": 1576664086, "last_edit_date": 1576725264, "question_id": 59389750, "link": "https://stackoverflow.com/questions/59389750/how-to-upload-multiple-files-in-angular8-using-jqxfileupload", "title": "How to upload multiple files in angular8 using &lt;jqxFileUpload&gt;?", "body": "<p>I am the beginner of Angular8 and I want to upload multiple files using  but I can't able to store file to my local folder path</p>\n\n<pre><code>&lt;jqxFileUpload #myFileUpload (onSelect)=\"onFileSelect($event)\"  (onRemove)=\"onFileRemove($event)\"\n          [width]=\"300\" [uploadUrl]=\"'upload.php'\" [fileInputName]=\"'fileToUpload'\"&gt;\n&lt;/jqxFileUpload&gt;\n</code></pre>\n\n<p>Given below  is my typescript file and I don't know how to read and store file to my local folder using typescript</p>\n\n<pre><code>onFileSelect(event: any):void {        \n\n}\n</code></pre>\n\n<p>So anyone helps me to solve this issue for motivating myself to learn angular8</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 1019, "user_id": 3855179, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c213e62c28b75aa15829a27e3ca95f59?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/3855179/sumit"}, "edited": false, "score": 0, "creation_date": 1576662283, "post_id": 59389151, "comment_id": 104968889, "body": "I am not sure. but did you try adding return type to the declared function like <code>declare function setBookTitle(bookId: string, bookTitle: string): void</code>"}, {"owner": {"reputation": 9, "user_id": 11994144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc7e49327f2be3fd96d89f06b2668b0?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay", "link": "https://stackoverflow.com/users/11994144/abhay"}, "reply_to_user": {"reputation": 1019, "user_id": 3855179, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c213e62c28b75aa15829a27e3ca95f59?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/3855179/sumit"}, "edited": false, "score": 0, "creation_date": 1576666009, "post_id": 59389151, "comment_id": 104970782, "body": "@Sumit Yes, I tried with return type <b>void</b> and as well as with <b>any</b>, but both didn&#39;t work for me."}, {"owner": {"reputation": 1019, "user_id": 3855179, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c213e62c28b75aa15829a27e3ca95f59?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/3855179/sumit"}, "edited": false, "score": 0, "creation_date": 1576666155, "post_id": 59389151, "comment_id": 104970843, "body": "it says <code>overload signature</code> did you check if there is any other function with the same name declared. This is usually caused because of it. The easy solution would be to wrap this export inside another namespace and then use it"}, {"owner": {"reputation": 9, "user_id": 11994144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc7e49327f2be3fd96d89f06b2668b0?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay", "link": "https://stackoverflow.com/users/11994144/abhay"}, "reply_to_user": {"reputation": 1019, "user_id": 3855179, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c213e62c28b75aa15829a27e3ca95f59?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/3855179/sumit"}, "edited": false, "score": 0, "creation_date": 1576667613, "post_id": 59389151, "comment_id": 104971587, "body": "@Sumit No, there are no other occurrences for the same. These are the only three occurrences for <b>setBookTitle</b> function name."}], "owner": {"reputation": 9, "user_id": 11994144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc7e49327f2be3fd96d89f06b2668b0?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay", "link": "https://stackoverflow.com/users/11994144/abhay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576661874, "creation_date": 1576661874, "question_id": 59389151, "link": "https://stackoverflow.com/questions/59389151/angular-version-updation-overload-signatures-must-all-be-ambient-or-non-ambient", "title": "Angular version updation: Overload signatures must all be ambient or non-ambient", "body": "<p>I want to update my current project\u2019s angular version to the latest angular version. But facing following error : <strong>Overload signatures must all be ambient or non-ambient</strong>.</p>\n\n<p>My current angular version is 4.4, as per latest angular version I would like to update to 8.2.\nAs per <a href=\"https://update.angular.io/\" rel=\"nofollow noreferrer\">https://update.angular.io/</a> its not recommended to update multiple angular versions at a time so currently I am updating from 4.4 to 5.2 and then would move ahead.</p>\n\n<p>I have followed the steps from <a href=\"https://update.angular.io/#4.4:5.2\" rel=\"nofollow noreferrer\">https://update.angular.io/#4.4:5.2</a>.</p>\n\n<p>After that I removed/uninstalled 2 Angular2 specific packages as they were not supported in Angular5.</p>\n\n<ol>\n<li>angular2-busy</li>\n<li>angular2-uuid</li>\n</ol>\n\n<p>Also I updated few peer dependencies and their respective dev dependencies</p>\n\n<ol>\n<li>@ng-bootstrap/ng-bootstrap</li>\n<li>@ngx-translate/core</li>\n<li>codelyzer (Updated its dev dependency - tslint)</li>\n</ol>\n\n<p>Now when I try to run \u201c<strong>ng serve</strong>\u201d command I am getting following errors:</p>\n\n<pre><code>ERROR in /Volumes/Work/Projects/src/app/readiumjs/readium_reader.d.ts (6,18): Overload signatures must all be ambient or non-ambient.\nERROR in /Volumes/Work/Projects/src/app/readiumjs/readium_reader.d.ts (7,18): Overload signatures must all be ambient or non-ambient.\nERROR in /Volumes/Work/Projects/src/lib/epub1.d.ts (14,18): Overload signatures must all be ambient or non-ambient.\n</code></pre>\n\n<p>Here are my files:</p>\n\n<p><strong>package.json -</strong></p>\n\n<pre><code>\"dependencies\": {\n    \"@angular/animations\": \"^5.2.11\",\n    \"@angular/common\": \"^5.2.11\",\n    \"@angular/compiler\": \"^5.2.11\",\n    \"@angular/core\": \"^5.2.11\",\n    \"@angular/forms\": \"^5.2.11\",\n    \"@angular/http\": \"^5.2.11\",\n    \"@angular/material\": \"2.0.0-beta.6\",\n    \"@angular/platform-browser\": \"^5.2.11\",\n    \"@angular/platform-browser-dynamic\": \"^5.2.11\",\n    \"@angular/platform-server\": \"^5.2.11\",\n    \"@angular/router\": \"^5.2.11\",\n    \"@ng-bootstrap/ng-bootstrap\": \"^1.1.1\",\n    \"@ngx-translate/core\": \"^8.0.0\",\n    \"@ngx-translate/http-loader\": \"^2.0.0\",\n    \"array-unique\": \"^0.3.2\",\n    \"classlist.js\": \"^1.1.20150312\",\n    \"core-js\": \"^2.4.1\",\n    \"elasticlunr\": \"^0.9.5\",\n    \"enhanced-resolve\": \"^3.3.0\",\n    \"font-awesome\": \"^4.7.0\",\n    \"hammerjs\": \"^2.0.8\",\n    \"intl\": \"^1.2.5\",\n    \"normalizr\": \"^3.3.0\",\n    \"readline\": \"^1.3.0\",\n    \"rxjs\": \"^5.5.12\",\n    \"sw-toolbox\": \"^3.6.0\",\n    \"tether\": \"^1.4.3\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"typescript\": \"^2.4.2\",\n    \"web-animations-js\": \"2.2.4\",\n    \"zone.js\": \"^0.8.14\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"1.2.4\",\n    \"@angular/compiler-cli\": \"^5.2.11\",\n    \"@compodoc/compodoc\": \"^1.0.9\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"bootstrap\": \"4.0.0-alpha.6\",\n    \"codelyzer\": \"^4.0.1\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-clean\": \"^0.3.2\",\n    \"gulp-concat\": \"^2.6.1\",\n    \"gulp-sync\": \"^0.1.4\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"jasmine-spec-reporter\": \"~3.2.0\",\n    \"jquery\": \"^3.2.1\",\n    \"jquery-ui-dist\": \"^1.12.1\",\n    \"karma\": \"~1.4.1\",\n    \"karma-chrome-launcher\": \"^2.2.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^0.2.0\",\n    \"karma-html-reporter\": \"^0.2.7\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"karma-phantomjs-launcher\": \"^1.0.4\",\n    \"phantomjs-prebuilt\": \"^2.1.16\",\n    \"protractor\": \"~5.1.2\",\n    \"protractor-html-screenshot-reporter\": \"0.0.21\",\n    \"protractor-jasmine2-screenshot-reporter\": \"^0.5.0\",\n    \"sw-precache\": \"^5.1.1\",\n    \"ts-node\": \"~3.3.0\",\n    \"tslint\": \"^5.0.0\",\n    \"typedoc\": \"^0.5.7\"\n  }\n</code></pre>\n\n<p>Below are some parts of the code which I think is failing:</p>\n\n<p><strong>readium_reader.d.ts (6,18) -</strong></p>\n\n<pre><code>declare function setBookTitle(bookId: string, bookTitle: string);\n</code></pre>\n\n<p><strong>main.js -</strong></p>\n\n<pre><code>function setBookTitle(_bookId, _bookTitle) {\n  bookId = _bookId;\n  bookTitle = _bookTitle;\n}\n</code></pre>\n\n<p><strong>epubReadiumReaderComponent.ts -</strong></p>\n\n<pre><code>setBookTitle(bookId, bookName);\n</code></pre>\n\n<p><strong><em>Note:</em></strong> I searched for the answer for above issues but couldn\u2019t get any proper solution for it.\nSome of them asked to change the function name as its been overloading, but it couldn\u2019t worked for me.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 6967, "user_id": 5735030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xypv.jpg?s=128&g=1", "display_name": "Alexandre Annic", "link": "https://stackoverflow.com/users/5735030/alexandre-annic"}, "is_accepted": true, "score": 1, "last_activity_date": 1576661872, "creation_date": 1576661872, "answer_id": 59389150, "question_id": 59389011, "link": "https://stackoverflow.com/questions/59389011/how-to-map-generic-objects-to-a-typescript-class/59389150#59389150", "title": "How to map generic objects to a typescript class", "body": "<p>There is nothing generic in your case. Simply write something like that:</p>\n\n<pre><code>export ChildDetails {\n  resource: string;\n  application: string;\n  permissions: string[];\n  attributeConstraints: AttributeConstraints;\n  attributeConstraintsCount: number;\n}\n\ninterface ParentValue {\n  childValue1: ChildDetails,\n  childValue2: ChildDetails,\n  childValue3: ChildDetails,\n}\n</code></pre>\n\n<p>If you have an unlimited number of <code>childValueX</code> there is nothing you can do better than:</p>\n\n<pre><code>interface ParentValue { \n  [key: string]: ChildDetails \n}\n</code></pre>\n\n<p>But you can't tell to the compiler that <code>key</code> looks like <code>childValue\\d+</code>.</p>\n"}], "owner": {"reputation": 153, "user_id": 6275088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fup9V.png?s=128&g=1", "display_name": "somedev", "link": "https://stackoverflow.com/users/6275088/somedev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 59389150, "answer_count": 1, "score": 1, "last_activity_date": 1576661872, "creation_date": 1576661429, "question_id": 59389011, "link": "https://stackoverflow.com/questions/59389011/how-to-map-generic-objects-to-a-typescript-class", "title": "How to map generic objects to a typescript class", "body": "<p>I'm new to typescript and I have a JSON object as below. I want to map below object to a generic \ninterface as below, but I'm sure that's incorrect. Help me constructing a generic interface/class which can handle below mapping.</p>\n\n<h2>JSON Object</h2>\n\n<pre><code>\"parentValue\": {\n            \"childValue1\": {\n                \"resource\": \"childValue1\",\n                \"application\": \"childValue1\",\n                \"permissions\": [\n                    \"READ\"\n                ],\n                \"attributeConstraints\": {},\n                \"attributeConstraintsCount\": 0\n            },\"childValue2\": {\n                \"resource\": \"childValue2\",\n                \"application\": \"childValue2\",\n                \"permissions\": [\n                    \"READ\"\n                ],\n                \"attributeConstraints\": {},\n                \"attributeConstraintsCount\": 0\n            },\n            \"childValue3\": {\n                \"resource\": \"childValue3\",\n                \"application\": \"childValue3\",\n                \"permissions\": [\n                    \"READ\"\n                ],\n                \"attributeConstraints\": {},\n                \"attributeConstraintsCount\": 0\n            }\n\n}\n</code></pre>\n\n<h2>Typescript Interface</h2>\n\n<pre><code>interface ParentValue{\n   childValue: ChildValue&lt;T&gt;\n}\n\nexport interface ChildValue&lt;T&gt;{\n  childDetails: ChildDetails\n}\n\nexport ChildDetails{\n resource: string;\n  application: string;\n  permissions: string[];\n  attributeConstraints: AttributeConstraints;\n  attributeConstraintsCount: number;\n}\n</code></pre>\n"}, {"tags": ["typescript", "generics", "types"], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 4482323, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c96d4cd1c60ba8891a8959b93d662e3?s=128&d=identicon&r=PG&f=1", "display_name": "pank", "link": "https://stackoverflow.com/users/4482323/pank"}, "edited": false, "score": 0, "creation_date": 1576703299, "post_id": 59389479, "comment_id": 104989066, "body": "Thanks! Tell me how to write it in jsdoc? Tried like this: <code>@param  {T extends { new(...arg: any): any }[]} Classes @returns {Partial&lt;T&gt;} @template T</code>. But return type is not displayed correctly."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 519, "user_id": 4482323, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c96d4cd1c60ba8891a8959b93d662e3?s=128&d=identicon&r=PG&f=1", "display_name": "pank", "link": "https://stackoverflow.com/users/4482323/pank"}, "edited": false, "score": 0, "creation_date": 1576705711, "post_id": 59389479, "comment_id": 104989922, "body": "@pank Hm, I actually never used JSDoc with TypeScript. According to <a href=\"https://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html#template\" rel=\"nofollow noreferrer\">here</a>, it seems to be possible to add a type constraint for <code>T</code> in the template. Something like: <code>@template {{ new(...arg: any): any }[]} T  @param {T} cls @returns {Partial&lt;T&gt;}</code>"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1576663116, "creation_date": 1576663116, "answer_id": 59389479, "question_id": 59388870, "link": "https://stackoverflow.com/questions/59388870/typescript-generic-for-function-with-a-variable-number-of-parameters/59389479#59389479", "title": "Typescript generic for function with a variable number of parameters", "body": "<p>You may want to have a look at <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#rest-parameters\" rel=\"nofollow noreferrer\">tuple rest parameters</a>, which are used to emulate functions with a <a href=\"https://github.com/microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">variable number of parameters</a>. A possible solution:</p>\n\n<pre><code>// We pass in a tuple of classes. This tuple is generically typed (type parameter T)\n// { new(...arg: any): any } is constructor function type for a class\nfunction findObjects&lt;T extends { new(...arg: any): any }[]&gt;(...cls: T): Partial&lt;T&gt; {\n  // search for objects that are instances of these classes; return filtered classes\n}\n\nclass Component { c = \"c\" }\nclass A extends Component { a = \"a\" }\nclass B extends Component { b = \"b\" }\n\nconst res = findObjects(A, B) // [(typeof A | undefined)?, (typeof B | undefined)?]\n</code></pre>\n\n<p>For the return type I used <code>Partial&lt;T&gt;</code>, which is a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#optional-elements-in-tuple-types\" rel=\"nofollow noreferrer\">mapped tuple with optional elements</a> of the passed in classes. It contains <code>undefined</code> at an index, if the corresponding class item is filtered out by your <code>findObjects</code> implementation (adjust the return type like you need it). </p>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=13&amp;ssc=30&amp;pln=13&amp;pc=1#code/GYVwdgxgLglg9mABMGYAmB5ARgKwKbQDOAPACqJ4AeUe6hiA3omHgO4AUAdNwIYBOAcwBciHmACeAShFjxiAL4BtALoA%20LtwgAbQiNLTEABX6weWsqsYBYAFCJ7iAPSPEhPPwgALZHD6I4uARQ9FCePFCifHiIqIRQYhB49HDAiKFJ0do8hG6EnLYOTi5RUCB8SChaNFFoiFk5Sbbytrb19ADCcAC2AA4ItBFMEIgAvIgARBDjCi02bYgAghTUtGgd3X0sYIOioxM80802rVrZ9ABCyzR0iJ29-duMiFh741iHs60IcYhR9GModDYfBEdgLAA0iHOklsQA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 2, "creation_date": 1576665817, "post_id": 59389736, "comment_id": 104970698, "body": "<code>[A]</code> means you get 1 element tuple not an array. Correct type is <code>A[]</code>"}, {"owner": {"reputation": 1019, "user_id": 1709981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GwWpj.jpg?s=128&g=1", "display_name": "tony", "link": "https://stackoverflow.com/users/1709981/tony"}, "reply_to_user": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576668374, "post_id": 59389736, "comment_id": 104971942, "body": "Thanks Maciej! Corrected"}], "tags": [], "owner": {"reputation": 1019, "user_id": 1709981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GwWpj.jpg?s=128&g=1", "display_name": "tony", "link": "https://stackoverflow.com/users/1709981/tony"}, "is_accepted": false, "score": 1, "last_activity_date": 1576668332, "last_edit_date": 1576668332, "creation_date": 1576664021, "answer_id": 59389736, "question_id": 59388870, "link": "https://stackoverflow.com/questions/59388870/typescript-generic-for-function-with-a-variable-number-of-parameters/59389736#59389736", "title": "Typescript generic for function with a variable number of parameters", "body": "<p>You can use rest parameters as described in the <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#rest-parameters\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<pre><code>interface A { }\n\nclass B implements A { }\n\n\nclass C implements A { }\n\n\nfunction findObjects(...objs: A[]): A[] {\n  // function body\n\n}\n\nconst obj1: B = {}\nconst obj2: C = {}\n\nconst result1 = findObjects(obj1);\nconst result2 = findObjects(obj1, obj2);\n</code></pre>\n\n<p>Hope that helps!</p>\n"}, {"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 1, "last_activity_date": 1576665527, "creation_date": 1576665527, "answer_id": 59390187, "question_id": 59388870, "link": "https://stackoverflow.com/questions/59388870/typescript-generic-for-function-with-a-variable-number-of-parameters/59390187#59390187", "title": "Typescript generic for function with a variable number of parameters", "body": "<p>My answer follows what you have written:</p>\n\n<blockquote>\n  <p>All classes inherit from one Component class. This function in a certain way searches for objects that are instances of these classes.</p>\n</blockquote>\n\n<p>So in the solution I am using some base class <code>Component</code> and to search for some subclass members <code>SubComponent</code>.</p>\n\n<pre><code>// some empty classes\nclass Component {}\nclass SubComponent extends Component {}\n\nfunction findObjects(...args: Component[]): SubComponent[] { \n  return args.filter(el =&gt; el instanceof SubComponent); // do some by instanceof for example\n}\n// using\nconst results = findObjects(new Component(), new Component(), new SubComponent());\n// results is an array only with SubComponent element\n\n</code></pre>\n\n<p>The definition of the function is following - <code>findObjects(...args: Component[]): SubComponent[]</code>.</p>\n\n<ul>\n<li><code>...args: Component[]</code> - we take as arguments unknown number of Component instances</li>\n<li><code>: SubComponent[]</code> - we return array of <code>SubComponents</code></li>\n</ul>\n\n<p>I would propose to change little bit definition of this, as we return array, then better would be to take also array:</p>\n\n<pre><code>function findObjects(arr: Component[]): SubComponent[] { \n  return arr.filter(el =&gt; el instanceof SubComponent); // do some instanceof for example\n}\n// using\nconst results = findObjects([new Component(), new Component(), new SubComponent()]);\n// results is an array only with SubComponent element\n</code></pre>\n\n<p>Pay attention that now the argument is one - <code>arr</code> but it is consistent with the output, we put array in, and take array out. Just a suggestion though.</p>\n"}], "owner": {"reputation": 519, "user_id": 4482323, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c96d4cd1c60ba8891a8959b93d662e3?s=128&d=identicon&r=PG&f=1", "display_name": "pank", "link": "https://stackoverflow.com/users/4482323/pank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "accepted_answer_id": 59389479, "answer_count": 3, "score": 1, "last_activity_date": 1576668332, "creation_date": 1576660884, "question_id": 59388870, "link": "https://stackoverflow.com/questions/59388870/typescript-generic-for-function-with-a-variable-number-of-parameters", "title": "Typescript generic for function with a variable number of parameters", "body": "<p>I have a function that takes an arbitrary number of classes.</p>\n\n<pre><code>function findObjects(...Classes) { ... }\n</code></pre>\n\n<p>All classes inherit from one <code>Component</code> class. This function in a certain way searches for objects that are instances of these classes.</p>\n\n<p>How to implement a template for functions with a variable number of parameters?</p>\n\n<p>It should be something like this:</p>\n\n<pre><code>function findObjects(...Classes): [...Classes] { ... }\n</code></pre>\n\n<p>This is necessary for the correct definition of types and for the correct operation of intellisense.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "is_accepted": true, "score": 4, "last_activity_date": 1576660630, "creation_date": 1576660630, "answer_id": 59388798, "question_id": 59388603, "link": "https://stackoverflow.com/questions/59388603/button-with-same-behavior-in-two-distinct-components/59388798#59388798", "title": "Button with same behavior in two distinct components", "body": "<p>Modified your code, maintain the state in the service so it can be shared.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-7mccwr?file=src/app/about/about.component.ts\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}], "owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 59388798, "answer_count": 1, "score": 1, "last_activity_date": 1576843444, "creation_date": 1576659844, "last_edit_date": 1576843444, "question_id": 59388603, "link": "https://stackoverflow.com/questions/59388603/button-with-same-behavior-in-two-distinct-components", "title": "Button with same behavior in two distinct components", "body": "<p>I created a button that changes image depending on its state, start / pause and starts a time count.</p>\n\n<p>I can run the button and run it on two different components, however, the button's image / status doesn't appear, it's just showing me the time :(</p>\n\n<p>How can I solve this?</p>\n\n<p>I successfully run the button on the services component as shown in the image</p>\n\n<p>When I go to the over component, I want to get the exact same state of the button in the services component ... but the button doesn't change state :( This is my problem</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"container\" style=\"margin-top: 10%\"&gt;\n    &lt;div class=\"btn-group\" dropdown&gt;\n\n        &lt;button id=\"button-basic\" dropdownToggle type=\"button\" class=\"btn \"&gt;\n   &lt;img style=\"width: 35px;\" *ngIf=\"currentState=='pause'\" src=\"https://img.icons8.com/carbon-copy/100/000000/play-button-circled.png\" &gt;\n                 &lt;img style=\"width: 35px;\" *ngIf=\"currentState=='start'\" src=\"https://img.icons8.com/cute-clipart/64/000000/stop-squared.png\" &gt;\n    &lt;/button&gt;\n        &lt;ul id=\"dropdown-basic\" *dropdownMenu class=\"dropdown-menu\" role=\"menu\" aria-labelledby=\"button-basic\"&gt;\n            &lt;li role=\"menuitem\"&gt;&lt;a class=\"dropdown-item\" *ngIf=\"currentState=='pause'\" routerLinkActive=\"active\"\n                    (click)=\"currentState='start'; startTimer()\"&gt;Start&lt;/a&gt;&lt;/li&gt;\n            &lt;li role=\"menuitem\"&gt;&lt;a class=\"dropdown-item\" *ngIf=\"currentState=='start'\" routerLinkActive=\"active\"\n                    (click)=\"currentState='pause'; pauseTimer()\"&gt;Stop&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;div&gt;\n            &lt;span&gt;{{servicesService.fetchDisplay()}}&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": true, "score": 1, "last_activity_date": 1576661995, "last_edit_date": 1576661995, "creation_date": 1576660520, "answer_id": 59388759, "question_id": 59388552, "link": "https://stackoverflow.com/questions/59388552/check-if-all-interfaces-contained-in-an-array-have-all-fields-angular-8/59388759#59388759", "title": "Check if all interfaces contained in an array have all fields - Angular 8", "body": "<p>Maybe just use variable <code>isAllProperties</code> and check:</p>\n\n<pre><code>let isAllProperties = false;\nif (citation.getElementsByTagName('author').length === 0 &amp;&amp;\n    citation.getElementsByTagName('title').length === 0 &amp;&amp;\n    citation.getElementsByTagName('date').length === 0) {\n    // ...\n    isAllProperties = true;\n} else {\n\n}\n\nif (isAllProperties ) {\n    // ...\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>let isAllProperties = [];\ncitations.forEach(citation =&gt; {\nif (citation.getElementsByTagName('author').length === 0 &amp;&amp;\n    citation.getElementsByTagName('title').length === 0 &amp;&amp;\n    citation.getElementsByTagName('date').length === 0) {\n\n    const interfacedCitation: BibliographicCitation = {\n       title: citation.textContent.replace(/\\s+/g, ' '),\n    };\n\n    if (!bibliographicCitations.includes(interfacedCitation)) { \n        bibliographicCitations.push(interfacedCitation); \n    }\n    isAllProperties.push({isAll: true, interfacedCitation});\n} \nelse {\n    const interfacedCitation: BibliographicCitation = {\n       authors: citation.getElementsByTagName('author'),\n       title: String(citation.getElementsByTagName('title')[0]).replace(/\\s+/g, ' '),\n       date: citation.getElementsByTagName('date')[0],\n    };\n\n    if (!bibliographicCitations.includes(interfacedCitation)) { \n       bibliographicCitations.push(interfacedCitation); \n    }\n\n    isAllProperties.push({isAll: false, interfacedCitation});\n}\n</code></pre>\n\n<p>});</p>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 11344399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec0578413c360928a54b298a93e46c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sarvesh Dubey", "link": "https://stackoverflow.com/users/11344399/sarvesh-dubey"}, "is_accepted": false, "score": 1, "last_activity_date": 1576662058, "creation_date": 1576662058, "answer_id": 59389202, "question_id": 59388552, "link": "https://stackoverflow.com/questions/59388552/check-if-all-interfaces-contained-in-an-array-have-all-fields-angular-8/59389202#59389202", "title": "Check if all interfaces contained in an array have all fields - Angular 8", "body": "<p>Try this one help you</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let getAuthor = citation.getElementsByTagName('author');\r\nlet getTitle = citation.getElementsByTagName('author');\r\nlet getDate = citation.getElementsByTagName('author');\r\nlet conditionTitle:any;\r\nconst interfacedCitation: BibliographicCitation = {\r\n authors: this.getAuthor ,\r\n title: this.conditionTitle ,\r\n date: this.getDate[0]\r\n};\r\nif (this.getAuthor &amp;&amp; this.getTitle &amp;&amp; this.getDate) {\r\nthis.conditionTitle = citation.textContent.replace(/\\s+/g, ' ')\r\n    if (!bibliographicCitations.includes(interfacedCitation)) { \r\n     bibliographicCitations.push(interfacedCitation); \r\n    }\r\n} else {\r\n    this.conditionTitle = this.getTitle;\r\n    if (!bibliographicCitations.includes(interfacedCitation)) { \r\n     bibliographicCitations.push(interfacedCitation); \r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 321, "user_id": 8275210, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yrQt_q24deA/AAAAAAAAAAI/AAAAAAAAJQc/IDTFHKmqRQQ/photo.jpg?sz=128", "display_name": "Memmo", "link": "https://stackoverflow.com/users/8275210/memmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 59388759, "answer_count": 2, "score": 1, "last_activity_date": 1576662058, "creation_date": 1576659645, "last_edit_date": 1576661761, "question_id": 59388552, "link": "https://stackoverflow.com/questions/59388552/check-if-all-interfaces-contained-in-an-array-have-all-fields-angular-8", "title": "Check if all interfaces contained in an array have all fields - Angular 8", "body": "<p>I've just created an array of typed interfaces.<br>\nGiven that some interface fields are optional, I'm curious if there is a <em>smart</em> way to check if <strong>all</strong> interfaces contained in the array have filled fields.<br>\nThis is my interface:</p>\n\n<pre><code>export interface BibliographicCitation {\n  authors?: HTMLCollectionOf&lt;Element&gt;;\n  title: string;\n  date?: Element;\n}\n</code></pre>\n\n<p>And this is the way how I fill the array:</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>citations.forEach(citation =&gt; {\n    if (citation.getElementsByTagName('author').length === 0 &amp;&amp;\n        citation.getElementsByTagName('title').length === 0 &amp;&amp;\n        citation.getElementsByTagName('date').length === 0) {\n\n        const interfacedCitation: BibliographicCitation = {\n           title: citation.textContent.replace(/\\s+/g, ' '),\n        };\n\n        if (!bibliographicCitations.includes(interfacedCitation)) { \n            bibliographicCitations.push(interfacedCitation); \n        }\n    } \n    else {\n        const interfacedCitation: BibliographicCitation = {\n           authors: citation.getElementsByTagName('author'),\n           title: String(citation.getElementsByTagName('title')[0]).replace(/\\s+/g, ' '),\n           date: citation.getElementsByTagName('date')[0],\n        };\n\n        if (!bibliographicCitations.includes(interfacedCitation)) { \n           bibliographicCitations.push(interfacedCitation); \n        }\n    }\n});\n</code></pre>\n\n<p>In the end, how do I check that all interfaces entered have filled fields?</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 1125, "user_id": 12130501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UKDZ5pOqWow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaXx5P-3Kgn-EBgT2_TibEvDndQA/photo.jpg?sz=128", "display_name": "Mridul", "link": "https://stackoverflow.com/users/12130501/mridul"}, "edited": false, "score": 0, "creation_date": 1576658977, "post_id": 59388373, "comment_id": 104967250, "body": "show your ts code and array ?"}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "reply_to_user": {"reputation": 1125, "user_id": 12130501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UKDZ5pOqWow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaXx5P-3Kgn-EBgT2_TibEvDndQA/photo.jpg?sz=128", "display_name": "Mridul", "link": "https://stackoverflow.com/users/12130501/mridul"}, "edited": false, "score": 0, "creation_date": 1576659235, "post_id": 59388373, "comment_id": 104967364, "body": "<a href=\"https://stackblitz.com/edit/angular-upkwcq\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-upkwcq</a>"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1576659304, "post_id": 59388373, "comment_id": 104967390, "body": "Show <code>vms</code> data"}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "reply_to_user": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1576659554, "post_id": 59388373, "comment_id": 104967517, "body": "@AdritaSharma I am getting data from db"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1576659669, "post_id": 59388373, "comment_id": 104967554, "body": "You can console it, copy and show us"}, {"owner": {"reputation": 3975, "user_id": 6183113, "user_type": "registered", "profile_image": "https://graph.facebook.com/1248564385154034/picture?type=large", "display_name": "Chanaka Weerasinghe", "link": "https://stackoverflow.com/users/6183113/chanaka-weerasinghe"}, "edited": false, "score": 0, "creation_date": 1576659707, "post_id": 59388373, "comment_id": 104967573, "body": "can you show sample data of ng for"}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "reply_to_user": {"reputation": 3975, "user_id": 6183113, "user_type": "registered", "profile_image": "https://graph.facebook.com/1248564385154034/picture?type=large", "display_name": "Chanaka Weerasinghe", "link": "https://stackoverflow.com/users/6183113/chanaka-weerasinghe"}, "edited": false, "score": 0, "creation_date": 1576660536, "post_id": 59388373, "comment_id": 104967982, "body": "@ChanakaWeerasinghe @AdritaSharma   <code>&quot;id&quot;:18,    &quot;name&quot;:&quot;batmanvm03&quot;,    &quot;ipAddress&quot;:&quot;185.22.98.15&quot;,    &quot;diskSize&quot;:7000,    &quot;cpu&quot;:8,    &quot;ram&quot;:2048,    &quot;imageUrl&quot;:&quot;qemu+ssh:&#47;&#47;ubuntu@10.19.2.101&#47;system &quot;,    &quot;role&quot;:&quot;Other&quot;,    &quot;status&quot;:&quot;Pending&quot;</code>"}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1576664080, "post_id": 59388373, "comment_id": 104969758, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 605, "user_id": 3843405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c502a68aa9c1a5d5b72553c1f017883?s=128&d=identicon&r=PG&f=1", "display_name": "tutorialfeed", "link": "https://stackoverflow.com/users/3843405/tutorialfeed"}, "edited": false, "score": 0, "creation_date": 1576666638, "post_id": 59388373, "comment_id": 104971090, "body": "@ArzuSuleymanov where is a project property in below object:      &quot;id&quot;:18, &quot;name&quot;:&quot;batmanvm03&quot;, &quot;ipAddress&quot;:&quot;185.22.98.15&quot;, &quot;diskSize&quot;:7000,      &quot;cpu&quot;:8, &quot;ram&quot;:2048, &quot;imageUrl&quot;:&quot;qemu+ssh://ubuntu@10.19.2.101/system &quot;,      &quot;role&quot;:&quot;Other&quot;, &quot;status&quot;:&quot;Pending&quot;  You&#39;re expecting which is not defined in the object."}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1576666737, "post_id": 59388373, "comment_id": 104971147, "body": "<code>[{&quot;id&quot;:11,&quot;name&quot;:&quot;kubernetesvm&quot;,&quot;ipAddress&quot;:&quot;192.168.1.1&quot;,&quot;d&zwnj;&#8203;iskSize&quot;:12,&quot;cpu&quot;:12&zwnj;&#8203;,&quot;ram&quot;:12,&quot;imageUrl&quot;&zwnj;&#8203;:&quot;https:&#47;&#47;google.com&zwnj;&#8203;&quot;,&quot;role&quot;:&quot;Kubemaster&zwnj;&#8203;&quot;,&quot;status&quot;:&quot;Pending&quot;&zwnj;&#8203;,&quot;project&quot;:&quot;thanos&quot;,&zwnj;&#8203;&quot;hypervisor&quot;:&quot;kubern&zwnj;&#8203;etes&quot;,&quot;gateway&quot;:&quot;vh1&zwnj;&#8203;0&quot;,&quot;netmask&quot;:24}]</code>"}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "reply_to_user": {"reputation": 605, "user_id": 3843405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c502a68aa9c1a5d5b72553c1f017883?s=128&d=identicon&r=PG&f=1", "display_name": "tutorialfeed", "link": "https://stackoverflow.com/users/3843405/tutorialfeed"}, "edited": false, "score": 0, "creation_date": 1576666767, "post_id": 59388373, "comment_id": 104971164, "body": "@tutorialfeed sorry didn&#39;t included full json data )"}, {"owner": {"reputation": 605, "user_id": 3843405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c502a68aa9c1a5d5b72553c1f017883?s=128&d=identicon&r=PG&f=1", "display_name": "tutorialfeed", "link": "https://stackoverflow.com/users/3843405/tutorialfeed"}, "edited": false, "score": 0, "creation_date": 1576672100, "post_id": 59388373, "comment_id": 104973774, "body": "@ArzuSuleymanov I have update your stackblitz url here:  <a href=\"https://stackblitz.com/edit/angular-upkwcq?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>  Please check it is working fine now."}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "reply_to_user": {"reputation": 605, "user_id": 3843405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c502a68aa9c1a5d5b72553c1f017883?s=128&d=identicon&r=PG&f=1", "display_name": "tutorialfeed", "link": "https://stackoverflow.com/users/3843405/tutorialfeed"}, "edited": false, "score": 0, "creation_date": 1576672452, "post_id": 59388373, "comment_id": 104973961, "body": "@tutorialfeed unfortunately not working and not showing errors as well"}, {"owner": {"reputation": 605, "user_id": 3843405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c502a68aa9c1a5d5b72553c1f017883?s=128&d=identicon&r=PG&f=1", "display_name": "tutorialfeed", "link": "https://stackoverflow.com/users/3843405/tutorialfeed"}, "edited": false, "score": 0, "creation_date": 1576672492, "post_id": 59388373, "comment_id": 104973984, "body": "@ArzuSuleymanov check this new url:  <a href=\"https://stackblitz.com/edit/angular-lyxfnd\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-lyxfnd</a>"}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "reply_to_user": {"reputation": 605, "user_id": 3843405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c502a68aa9c1a5d5b72553c1f017883?s=128&d=identicon&r=PG&f=1", "display_name": "tutorialfeed", "link": "https://stackoverflow.com/users/3843405/tutorialfeed"}, "edited": false, "score": 0, "creation_date": 1576672732, "post_id": 59388373, "comment_id": 104974123, "body": "@tutorialfeed I have no problem getting data with ngFor, and I can not see cpuTitle where you are showing this property in html?"}, {"owner": {"reputation": 605, "user_id": 3843405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c502a68aa9c1a5d5b72553c1f017883?s=128&d=identicon&r=PG&f=1", "display_name": "tutorialfeed", "link": "https://stackoverflow.com/users/3843405/tutorialfeed"}, "edited": false, "score": 0, "creation_date": 1576673694, "post_id": 59388373, "comment_id": 104974613, "body": "@ArzuSuleymanov check it now the same link. Is this what you want to achieve it."}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1576679286, "post_id": 59388373, "comment_id": 104977547, "body": "Inside *ngFor it shows, and yes expected result is this one, but I want to show outside *ngFor and it fails in this case"}], "answers": [{"comments": [{"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1576666605, "post_id": 59389921, "comment_id": 104971075, "body": "In this case <code>nativeElement</code> of undefined. Cannot read property"}], "tags": [], "owner": {"reputation": 362, "user_id": 9066960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a83db2e682ac7b41e8f99b7042ae58?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/9066960/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1576664648, "creation_date": 1576664648, "answer_id": 59389921, "question_id": 59388373, "link": "https://stackoverflow.com/questions/59388373/how-to-extract-values-from-ngfor-in-angular-8/59389921#59389921", "title": "How to extract values from *ngFor in Angular 8", "body": "<p>You may be able to create a view child element ref and set the value on ngAfterViewInit.  Please see code below:</p>\n\n<p>Template:</p>\n\n<p></p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"cpuTitleName\"  #cpuTitle value=\"vm.project\" /&gt;\n   &lt;button class=\"btn btn-sm btn-danger\" type=\"submit\" (click)=\"deleteVm(vm.id)\"&gt;\n      i class=\"fas fa-trash\"&gt;&lt;/i&gt;\n   &lt;/button&gt;\n</code></pre>\n\n<p></p>\n\n<p>TS:</p>\n\n<pre><code>   export class AppComponent implements OnInit, AfterViewInit  {...\n    @ViewChild('cpuTitle', {static: false}) projectEl: ElementRef;\n\n    ngAfterViewInit(): void {\n    this.cpuTitle = this.projectEl.nativeElement.value;\n}\n</code></pre>\n\n<p>Full stack blitz:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-mebigy?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-mebigy?file=src%2Fapp%2Fapp.component.html</a></p>\n"}], "owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576664648, "creation_date": 1576658859, "last_edit_date": 1576659246, "question_id": 59388373, "link": "https://stackoverflow.com/questions/59388373/how-to-extract-values-from-ngfor-in-angular-8", "title": "How to extract values from *ngFor in Angular 8", "body": "<p>I am showing some data using <code>*ngFor</code> I want to extract some value from <code>*ngFor</code> and show it for example in my heading. I tried to use <code>{{ project }}</code> but, it did not work. Every time it returned <code>undefined</code> but I am getting data inside <code>ngOnInit()</code></p>\n\n<p>My HTML looks like: </p>\n\n<pre><code>&lt;div *ngIf=\"show; else noproject\" class=\"container\"&gt;\n    &lt;h1 class=\"mb-3 text-primary\"&gt;Virtual machines for {{vms[project]}}&lt;/h1&gt; \n    &lt;button (click)=\"navigateToDetails(pid)\" class=\"btn btn-success btn-sm mr-2\"&gt;&lt;i\n        class=\"fas fa-plus-circle\"&gt;&lt;/i&gt;&amp;nbsp;Add VM&lt;/button&gt;\n        &lt;button (click)=\"navigateToDetails(pid)\" class=\"btn btn-primary btn-sm mr-2\"&gt;&lt;i\n          class=\"fas fa-plus-circle\"&gt;&lt;/i&gt;&amp;nbsp;Commit Changes&lt;/button&gt;\n    &lt;table class=\"table text-center table-hover table-striped\"&gt;\n      &lt;thead appBtnd class=\"bg-primary text-white\"&gt;\n        &lt;th appBtn [sortKey]=\"'name'\" [data]=\"vms\"&gt;VM Name&lt;/th&gt;\n        &lt;th appBtn [sortKey]=\"'ipAddress'\" [data]=\"vms\"&gt;IP Address&lt;/th&gt;\n        &lt;th appBtn [sortNumber]=\"'diskSize'\" [data]=\"vms\"&gt;Disk Size&lt;/th&gt;\n        &lt;th appBtn [sortNumber]=\"'cpu'\" [data]=\"vms\"&gt;CPU&lt;/th&gt;\n        &lt;th appBtn [sortNumber]=\"'ram'\" [data]=\"vms\"&gt;Ram&lt;/th&gt;          \n        &lt;th&gt;Gateway&lt;/th&gt;\n        &lt;th&gt;NetMask&lt;/th&gt;\n        &lt;th&gt;Actions&lt;/th&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        &lt;tr *ngFor=\"let vm of vms\"&gt;\n          &lt;td&gt;{{vm.name | titlecase }}&lt;/td&gt;\n          &lt;td&gt;{{vm.ipAddress}}&lt;/td&gt;\n          &lt;td&gt;{{vm.diskSize}}&lt;/td&gt;\n          &lt;td&gt;{{vm.cpu}}&lt;/td&gt;\n          &lt;td&gt;{{vm.ram}}&lt;/td&gt;            \n          &lt;td&gt;{{vm.gateway}}&lt;/td&gt;\n          &lt;td&gt;{{vm.netmask}}&lt;/td&gt;\n          &lt;td&gt;\n            &lt;button class=\"btn btn-sm btn-danger\" type=\"submit\" (click)=\"deleteVm(vm.id)\"&gt;\n              &lt;i class=\"fas fa-trash\"&gt;&lt;/i&gt;\n            &lt;/button&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  &lt;/div&gt;    \n</code></pre>\n\n<p>Angular code:</p>\n\n<pre><code>export class VmForProjectComponent implements OnInit {\n        vms: ProjectForUser show: boolean; pid: number; constructor(private alertify: AlertifyService, private route: ActivatedRoute, private vmService: VmService, private projectService: ProjectService, private router: Router) { } \n        ngOnInit() { \n            const projectId = +this.route.snapshot.paramMap.get('projectId'); \n            this.projectService.getVmByProjectId(projectId).subscribe(p =&gt; this.vms = p);\n             if (this.vms !== null || undefined) { this.show = true; } \n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GJlZz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJlZz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 730, "user_id": 10636628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2cc5a31034c216ec5c582293980414?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10636628/anonymous"}, "edited": false, "score": 0, "creation_date": 1576659485, "post_id": 59388294, "comment_id": 104967486, "body": "Use Reactive FormArray"}], "answers": [{"comments": [{"owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "edited": false, "score": 0, "creation_date": 1576663000, "post_id": 59388755, "comment_id": 104969224, "body": "It is a Angular snippet. The AngularJS binding for click is &#39;ng-onclick&#39;."}], "tags": [], "owner": {"reputation": 56, "user_id": 10501378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f032b427b8581cbe0bb8212288186e?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsan Sadik Akash", "link": "https://stackoverflow.com/users/10501378/ahsan-sadik-akash"}, "is_accepted": false, "score": -1, "last_activity_date": 1576662451, "last_edit_date": 1576662451, "creation_date": 1576660502, "answer_id": 59388755, "question_id": 59388294, "link": "https://stackoverflow.com/questions/59388294/how-to-disabled-the-button-or-enabled-based-on-radio-button-in-angular/59388755#59388755", "title": "How to disabled the button or enabled based on radio button in angular", "body": "<p>Edited:\nYou can try this</p>\n\n<pre><code>&lt;button [ngClass]=\"{disabled : !isValid}\" (click)=\"isValid &amp;&amp; onConfirm()\"&gt;Confirm&lt;/button&gt;\n</code></pre>\n\n<p>if isValid is true then onConfirm will be fired.</p>\n"}, {"comments": [{"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 0, "creation_date": 1576714808, "post_id": 59389421, "comment_id": 104992519, "body": "Yes, it required all fields. but it if you select the passed the textarea is optional which means its not required to fillup."}, {"owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "reply_to_user": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 0, "creation_date": 1576749203, "post_id": 59389421, "comment_id": 105002091, "body": "I&#39;ve updated my answer to control if &#39;remarks&#39; are required or not. Please check out the stackblitz included."}, {"owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "reply_to_user": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 1, "creation_date": 1576753331, "post_id": 59389421, "comment_id": 105004154, "body": "You can find there source <a href=\"https://stackblitz.com/edit/ng-zorro-antd-start-trtkm5\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 1284, "user_id": 3649977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde22dae0b134207981672daa28d3461?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Devloo", "link": "https://stackoverflow.com/users/3649977/jeffrey-devloo"}, "is_accepted": true, "score": 4, "last_activity_date": 1576752868, "last_edit_date": 1576752868, "creation_date": 1576662934, "answer_id": 59389421, "question_id": 59388294, "link": "https://stackoverflow.com/questions/59388294/how-to-disabled-the-button-or-enabled-based-on-radio-button-in-angular/59389421#59389421", "title": "How to disabled the button or enabled based on radio button in angular", "body": "<h2>Initial response</h2>\n\n<p>There is an <a href=\"https://github.com/angular/angular/blob/57496926cad0d840092c7623079883983ca07d53/modules/examples/src/model_driven_forms/index.ts\" rel=\"nofollow noreferrer\">Angular Example</a> demonstrating this.</p>\n\n<p>A button has the [disabled] input which can be linked to a variable related to the form.\nIn your case this would be</p>\n\n<pre><code>&lt;button class=\"mr-1\" nz-button nzType=\"primary\" type=\"button\" [disabled]=\"!taskFormGroup.valid\" [nzLoading]=\"formLoading\" (click)=\"saveFormData()\"&gt;\n      &lt;span translate&gt;Submit&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>Here we bind the <code>taskFormGroup.valid</code> property of the form to the input binding of the button, causing the button to be greyed out until the form is valid.</p>\n\n<p>Here is the <a href=\"https://ng-zorro-antd-start-asmcua.stackblitz.io\" rel=\"nofollow noreferrer\">updated StackBlitz</a></p>\n\n<h2>Update after comment</h2>\n\n<p>Here is an <a href=\"https://ng-zorro-antd-start-trtkm5.stackblitz.io\" rel=\"nofollow noreferrer\">updated StackBlitz</a> where a text area becomes required or optional, depending on the radio button.</p>\n\n<p>What I changed:</p>\n\n<ul>\n<li><p>Added some types because we are using typescript for a reason</p></li>\n<li><p>I removed the nested lists in favor of using the controls to determine the placeholder</p></li>\n<li><p>Every task now has its own formcontrols. This means that every task can validated on it's own, as opposed to one global validator. This will make it much more clear to the user where it is wrong (if you add css to the validation)</p></li>\n<li><p>The onvaluechanged function for the radio button now passed the task ID which allows us to look up the form controls for that particular task. Depending on the value, a new validator is set for the remarks and thus the form is validated as you'd like</p></li>\n<li><p>Added the [disabled] input binding to disable the button if the form is invalid</p></li>\n</ul>\n"}], "owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 59389421, "answer_count": 2, "score": 1, "last_activity_date": 1576752868, "creation_date": 1576658467, "last_edit_date": 1576715633, "question_id": 59388294, "link": "https://stackoverflow.com/questions/59388294/how-to-disabled-the-button-or-enabled-based-on-radio-button-in-angular", "title": "How to disabled the button or enabled based on radio button in angular", "body": "<p>how to make the button disabled when the remarks is failed.</p>\n\n<p>for example</p>\n\n<p>there's an array which it has two to four item.</p>\n\n<p>first example</p>\n\n<pre><code>ITEM 1 -&gt; FAILED -&gt; Remarks (required)\n\nITEM 2 -&gt; FAILED -&gt; Remarks (required)\n\nITEM 3 -&gt; FAILED -&gt; Remarks (required)\n\nITEM 4 -&gt; FAILED -&gt; Remarks (required)\n</code></pre>\n\n<p>the button is <code>disabled</code>, the user should fillup all textarea.</p>\n\n<p>second example</p>\n\n<pre><code>ITEM 1 -&gt; FAILED -&gt; Remarks (required)\n\nITEM 2 -&gt; PASSED -&gt; Remarks (optional)\n\nITEM 3 -&gt; FAILED -&gt; Remarks (required)\n\nITEM 4 -&gt; FAILED -&gt; Remarks (required)\n</code></pre>\n\n<p>the user should fillup the three textarea which it's the ```FAILED`` and then after fillup the textarea the button will enabled.</p>\n\n<pre><code>ITEM 1 -&gt; PASSED -&gt; Remarks (optional)\n\nITEM 2 -&gt; PASSED -&gt; Remarks (optional)\n\nITEM 3 -&gt; PASSED -&gt; Remarks (optional)\n\nITEM 4 -&gt; PASSED -&gt; Remarks (optional)\n</code></pre>\n\n<p>the button automatically enabled.</p>\n\n<p>here's the code:\n<a href=\"https://stackblitz.com/edit/ng-zorro-antd-start-xz4c93\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ng-zorro-antd-start-xz4c93</a></p>\n\n<p>thanks in advance</p>\n"}, {"tags": ["javascript", "angular", "typescript", "testing", "jasmine"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576658508, "post_id": 59388257, "comment_id": 104967032, "body": "I&#39;d strongly recommend reading <a href=\"https://angular.io/guide/testing\" rel=\"nofollow noreferrer\">angular.io/guide/testing</a>. ngOnInit is never called, but there are other problems with your testing approach."}, {"owner": {"reputation": 221, "user_id": 11863630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHZfw.jpg?s=128&g=1", "display_name": "vargaadam", "link": "https://stackoverflow.com/users/11863630/vargaadam"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576661046, "post_id": 59388257, "comment_id": 104968239, "body": "Please give me advice, or a code how can I test this correctly @jonrsharpe"}, {"owner": {"reputation": 351, "user_id": 6093399, "user_type": "registered", "profile_image": "https://graph.facebook.com/1073643952701034/picture?type=large", "display_name": "B&#225;lint Bakos", "link": "https://stackoverflow.com/users/6093399/b%c3%a1lint-bakos"}, "edited": false, "score": 0, "creation_date": 1576662376, "post_id": 59388257, "comment_id": 104968932, "body": "I suggest you read the documentation more carefully, but most importantly this TestBed section. <a href=\"https://angular.io/guide/testing#testing-services-with-the-testbed\" rel=\"nofollow noreferrer\">angular.io/guide/testing#testing-services-with-the-testbed</a>"}], "answers": [{"tags": [], "owner": {"reputation": 310, "user_id": 9674146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dda8420960adb555dc8ba9cd02c1602?s=128&d=identicon&r=PG&f=1", "display_name": "ic_paty", "link": "https://stackoverflow.com/users/9674146/ic-paty"}, "is_accepted": false, "score": 0, "last_activity_date": 1576677071, "creation_date": 1576677071, "answer_id": 59393473, "question_id": 59388257, "link": "https://stackoverflow.com/questions/59388257/angular-component-testing-with-jasmine-karma-spyon/59393473#59393473", "title": "Angular component testing with jasmine/karma, spyOn", "body": "<p>Seems like you need to explicitly call ngOnInit() in your test case in order to initialize your component: </p>\n\n<pre><code> it('should set address property with the items returned from server', () =&gt; {\n    spyOn(service, 'getAll').and.returnValue(of(paginateData));\n\n    component = new AddressListComponent(service, addressTypeService, countryService, settlementService, natureOfTheSiteService, null);\n    component.ngOnInit();\n    expect(component.addresses.length).toBe(datas.length);\n  });\n</code></pre>\n\n<p>And if you are using TestBed to create both your component and its dependencies as mentionned in the official documentation <a href=\"https://angular.io/guide/testing#component-class-testing\" rel=\"nofollow noreferrer\">https://angular.io/guide/testing#component-class-testing</a> you can call detectChanges method to initialize the component (it calls ngOnInit)</p>\n"}], "owner": {"reputation": 221, "user_id": 11863630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHZfw.jpg?s=128&g=1", "display_name": "vargaadam", "link": "https://stackoverflow.com/users/11863630/vargaadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576677071, "creation_date": 1576658343, "question_id": 59388257, "link": "https://stackoverflow.com/questions/59388257/angular-component-testing-with-jasmine-karma-spyon", "title": "Angular component testing with jasmine/karma, spyOn", "body": "<p>I try to test my component, I know the component works fine but my test gives error messages\nI wrote this jasmine/karma test that throws an error message that I can't get through.</p>\n\n<p>Here's the code what I want to test:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    export class AddressListComponent implements OnInit {\n\n      paginate: PaginateInterface = new Paginate(Address);\n      addresses: AddressInterface[] = [];\n\n      constructor(\n        private addressService: AddressService,\n        private addressTypeService: AddressTypeService,\n        private countryService: CountryService,\n        private settlementService: SettlementService,\n        private serviceNatureOfTheSite: NatureOfTheSitesService,\n        private router: Router,\n      ) {\n      }\n\n      ngOnInit() {\n        if (!this.isBind ) {\n          this.addressService.getAll().subscribe( (resolve: PaginateInterface) =&gt; {\n            this.paginate = resolve;\n            this.addresses = this.paginate.data;\n          },\n          error =&gt; {\n            throw(error);\n          });\n        }\n      }\n    }\n</code></pre>\n\n<p>And here is the test:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    describe('AddressListComponent', () =&gt; {\n      const httpClient = new HttpClient(null);\n      let injector: Injector;\n      let component: AddressListComponent;\n      let service: AddressService;\n      let settlementService: SettlementService;\n      let countryService: CountryService;\n      let addressTypeService: AddressTypeService;\n      let natureOfTheSiteService: NatureOfTheSitesService;\n      const datas = [\n        {name: 'test 1'},\n        {name: 'test 2'},\n        {name: 'test 3'},\n      ];\n      const paginateData = new Paginate(Address, {\n        data: datas,\n      });\n\n      beforeEach(() =&gt; {\n        settlementService = new SettlementService(httpClient, injector);\n        countryService = new CountryService(httpClient, injector);\n        addressTypeService = new AddressTypeService(httpClient, injector);\n        natureOfTheSiteService = new NatureOfTheSitesService(httpClient, injector);\n        service = new AddressService(httpClient, injector, settlementService, countryService, addressTypeService, natureOfTheSiteService);\n      });\n\n      it('should set address property with the items returned from server', () =&gt; {\n        spyOn(service, 'getAll').and.returnValue(of(paginateData));\n\n        component = new AddressListComponent(service, addressTypeService, countryService, settlementService, natureOfTheSiteService, null);\n\n        expect(component.addresses.length).toBe(datas.length);\n      });\n    });\n</code></pre>\n\n<p>And this error message is thrown back by the console:</p>\n\n<pre><code>    Chrome 79.0.3945 (Windows 10.0.0) AddressListComponent should set address property with the items returned from server FAILED\n            Expected 0 to be 3.\n                at UserContext.&lt;anonymous&gt; (http://localhost:9876/_karma_webpack_/src/app/components/address/address-list/address-list.component.spec.ts:49:40)\n    Chrome 79.0.3945 (Windows 10.0.0): Executed 1 of 2 (1 FAILED) (0 secs / 0.137 secs)\n    Chrome 79.0.3945 (Windows 10.0.0) AddressListComponent should set address property with the items returned from server FAILED\n            Expected 0 to be 3.\n                at UserContext.&lt;anonymous&gt; (http://localhost:9876/_karma_webpack_/src/app/components/address/address-list/adChrome 79.0.3945 (Windows 10.0.0): Executed 2 of 2 (1 FAILED) (0.146 secs / 0.138 secs)\n    TOTAL: 1 FAILED, 1 SUCCESS\n    TOTAL: 1 FAILED, 1 SUCCESS\n</code></pre>\n\n<p>Is there any idea what's wrong with my test? (I know the code is working fine but the test is failed)</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 562, "user_id": 3877832, "user_type": "registered", "profile_image": "https://graph.facebook.com/684873665/picture?type=large", "display_name": "polarysekt", "link": "https://stackoverflow.com/users/3877832/polarysekt"}, "edited": false, "score": 0, "creation_date": 1576657882, "post_id": 59388075, "comment_id": 104966794, "body": "ERR_MSG is not a member of class MutationValidator. it is declared at module level of &quot;mutation.validator&quot;."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1576657910, "post_id": 59388075, "comment_id": 104966808, "body": "ERR_MSG should be inside the class, otherwise it\u2019s just a loose variable"}], "answers": [{"tags": [], "owner": {"reputation": 548, "user_id": 12469950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc559d7416d86f010be37e0207aab3e1?s=128&d=identicon&r=PG&f=1", "display_name": "Showy", "link": "https://stackoverflow.com/users/12469950/showy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576658001, "creation_date": 1576658001, "answer_id": 59388182, "question_id": 59388075, "link": "https://stackoverflow.com/questions/59388075/using-class-property-in-other-classes/59388182#59388182", "title": "using class property in other classes", "body": "<pre><code>@Service()\nexport class MutationValidator {\n  ERR_MSG = 'Error1';\n}\n</code></pre>\n\n<p>it should work now</p>\n"}, {"tags": [], "owner": {"reputation": 1019, "user_id": 3855179, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c213e62c28b75aa15829a27e3ca95f59?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/3855179/sumit"}, "is_accepted": true, "score": 1, "last_activity_date": 1576661593, "last_edit_date": 1576661593, "creation_date": 1576658291, "answer_id": 59388246, "question_id": 59388075, "link": "https://stackoverflow.com/questions/59388075/using-class-property-in-other-classes/59388246#59388246", "title": "using class property in other classes", "body": "<p>You would need to export <code>const ERR_MSG = 'Error1';</code> Similarly how you have exported your Service class <code>MutationValidator</code>. </p>\n\n<p>More over as it is defined outside the scope of <code>MutationValidator</code> you cannot call it from <code>MutationValidator</code>.</p>\n\n<p>There are two possible solutions</p>\n\n<p>First export the const and then use it:</p>\n\n<pre><code>export const ERR_MSG = 'Error1';\n\n@Service()\nexport class MutationValidator {\n..\n}\n</code></pre>\n\n<p>and then use it in the another class as</p>\n\n<pre><code>import { MutationValidator, ERR_MSG }     from './mutation.validator';\n\nconst mutationValidator = new MutationValidator();\n\nconsole.log(ERR_MSG);\n</code></pre>\n\n<p>or else you can also define the value of <code>ERR_MSG</code> inside the <code>MutationValidator</code> class as a public variable and use it like below</p>\n\n<pre><code>@Service()\nexport class MutationValidator {\n  ERR_MSG = 'Error1';\n  ..\n}\n</code></pre>\n\n<p>and in another class you use it like</p>\n\n<pre><code>import { MutationValidator }     from './mutation.validator';\n\nconst mutationValidator = new MutationValidator();\n\nconsole.log(mutationValidator.ERR_MSG);\n</code></pre>\n"}], "owner": {"reputation": 493, "user_id": 11679569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vrsb3.jpg?s=128&g=1", "display_name": "Sandro Rey", "link": "https://stackoverflow.com/users/11679569/sandro-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 59388246, "answer_count": 2, "score": 1, "last_activity_date": 1576661593, "creation_date": 1576657604, "question_id": 59388075, "link": "https://stackoverflow.com/questions/59388075/using-class-property-in-other-classes", "title": "using class property in other classes", "body": "<p>I have defined this class</p>\n\n<pre><code>const ERR_MSG = 'Error1';\n\n\n@Service()\nexport class MutationValidator {\n..\n}\n</code></pre>\n\n<p>that I use in another class</p>\n\n<pre><code>import { MutationValidator }     from './mutation.validator';\n\nconst mutationValidator = new MutationValidator();\n\nmutationValidator.ERR_MSG\n</code></pre>\n\n<p>but I have this error when compiling</p>\n\n<pre><code>Property 'ERR_MSG' does not exist on type 'MutationValidator'.\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "material-ui", "textfield"], "answers": [{"tags": [], "owner": {"reputation": 5627, "user_id": 1866584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15837d4eab2c874e746a56673f5ec7e7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Ambruzs", "link": "https://stackoverflow.com/users/1866584/peter-ambruzs"}, "is_accepted": true, "score": 1, "last_activity_date": 1576654879, "creation_date": 1576654879, "answer_id": 59387473, "question_id": 59387176, "link": "https://stackoverflow.com/questions/59387176/how-to-fix-placeholder-text-within-the-input-in-material-ui-text-field/59387473#59387473", "title": "How to fix placeholder text within the input in material ui text field", "body": "<p>Try adding an empty label to the TextField. This way the placeholder will not move up when you start editing, because the place of the label is 'occupied'.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;TextField\n  id=\"standard-full-width\"\n  label=\"\"\n  placeholder=\"Placeholder\"\n/&gt;\n</code></pre>\n\n\n"}], "owner": {"reputation": 1669, "user_id": 5032858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/03bb8ef1a4faead9d5cec3e8a91d49dd?s=128&d=identicon&r=PG&f=1", "display_name": "sruthi", "link": "https://stackoverflow.com/users/5032858/sruthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2501, "favorite_count": 0, "accepted_answer_id": 59387473, "answer_count": 1, "score": 0, "last_activity_date": 1576654879, "creation_date": 1576653562, "question_id": 59387176, "link": "https://stackoverflow.com/questions/59387176/how-to-fix-placeholder-text-within-the-input-in-material-ui-text-field", "title": "How to fix placeholder text within the input in material ui text field", "body": "<p>I am using material ui text field.</p>\n\n<p>The current behavior of the text field is, on focus the placeholder goes on top of the text field.</p>\n\n<p><a href=\"https://i.stack.imgur.com/P5flf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5flf.png\" alt=\"Current behavior\"></a></p>\n\n<p>I don't want it to go on top of the text field I want it to be within text field and disappear once the user starts typing as below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7WNnl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7WNnl.png\" alt=\"Before typing\"></a> <a href=\"https://i.stack.imgur.com/VeKA0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeKA0.png\" alt=\"After typing\"></a></p>\n\n<p>I tried giving <code>disableAnimation: true</code> in <code>InputLabelProps</code>. But that isn't working. What can I do to achieve this behavior?</p>\n"}, {"tags": ["typescript", "types", "interface", "alias"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1576653336, "post_id": 59387108, "comment_id": 104964976, "body": "You mean something like expand out the type to see all members ?"}, {"owner": {"reputation": 426, "user_id": 3428826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001693839589/picture?type=large", "display_name": "Hyster", "link": "https://stackoverflow.com/users/3428826/hyster"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1576653867, "post_id": 59387108, "comment_id": 104965195, "body": "Exactly something like that"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1576653926, "post_id": 59387108, "comment_id": 104965226, "body": "Well, I have good news below \ud83d\ude0a"}], "answers": [{"comments": [{"owner": {"reputation": 426, "user_id": 3428826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001693839589/picture?type=large", "display_name": "Hyster", "link": "https://stackoverflow.com/users/3428826/hyster"}, "edited": false, "score": 0, "creation_date": 1576654645, "post_id": 59387232, "comment_id": 104965490, "body": "That&#39;s so cool :)  I have a problem though with Intellij I&#39;m using - when I want to see expanded version of it in the Intellij using it&#39;s feature &#39;Type info&#39; (ctrl + shift + p) it doesn&#39;t expand nested fields."}, {"owner": {"reputation": 426, "user_id": 3428826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001693839589/picture?type=large", "display_name": "Hyster", "link": "https://stackoverflow.com/users/3428826/hyster"}, "edited": false, "score": 0, "creation_date": 1576654669, "post_id": 59387232, "comment_id": 104965504, "body": "Also, is there a way to dump such an extension to a text file, ie. for documentation purposes?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 426, "user_id": 3428826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001693839589/picture?type=large", "display_name": "Hyster", "link": "https://stackoverflow.com/users/3428826/hyster"}, "edited": false, "score": 1, "creation_date": 1576655326, "post_id": 59387232, "comment_id": 104965732, "body": "@Hyster no way to dump it to file, I usually use VSCode or the playground and there you get the full expanded version in  the tool-tip and you can copy it from there ..if you are quick enough :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1576653844, "creation_date": 1576653844, "answer_id": 59387232, "question_id": 59387108, "link": "https://stackoverflow.com/questions/59387108/complex-type-resolution-in-typescript/59387232#59387232", "title": "Complex type resolution in Typescript", "body": "<p>You can use an <code>Id</code> type that maps over the intersection. There is no guarantee as to what will expand out a mapped type, but this type <strong>currently</strong> does the trick:</p>\n\n<pre><code>type Id&lt;T&gt; = {} &amp; {\n  [P in keyof T]: Id&lt;T[P]&gt;\n}\n</code></pre>\n\n<p>Using <code>Id</code> on an intersection will flatten it out:</p>\n\n<pre><code>type FilesExtension = {\n  ext: string\n}\n\n// Naive implementation, just filler\ntype DeepPartial&lt;T&gt; = {\n  [P in keyof T]?: DeepPartial&lt;T[P]&gt;\n}\n\ntype CampForm = {\n  foo: {\n    bar: string\n  }\n  baz: {\n    bars: string[]\n  }\n}\n\ntype Id&lt;T&gt; = {} &amp; {\n  [P in keyof T]: Id&lt;T[P]&gt;\n}\nexport type DraftCamp = Id&lt;DeepPartial&lt;CampForm&gt; &amp; {\n  isActive: false\n} &amp; FilesExtension&gt;\n// Hover over DraftCamp and you will see the expanded version of it:\n// type DraftCamp = {\n//     foo?: {\n//         bar?: string | undefined;\n//     } | undefined;\n//     baz?: {\n//         bars?: (string | undefined)[] | undefined;\n//     } | undefined;\n//     isActive: false;\n//     ext: string;\n// }\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=36&amp;ssc=5&amp;pln=26&amp;pc=1#code/C4TwDgpgBAYglgGwgZwKIA9gQHbLge2ygF4oBvAKCigkwC4plgAnObAcwoF8KKB6PlAByAQzgA3aHAC2YJNJzARwAtgA0UAFYBXJlABmiJMwqhIUACIQIYAAojmKkQgA8AFQB8JclSgBtWyg2KABrCBB8fSg3AF0AfgYrG3tHOGd3AJiPbl4zaABhEVkYfGZpb0pqfXx8BkrqKAAjBwYmVg5fHmpmgC86326HZFaWNnY-GM6c03BoAEkAE3cvUjIuKAAyH2oAoKIwiKjYhkWM2yyc2jBS4Cg8y2YRfWBC2W9TpLsHJ1dXsBKyl4tvU4MgAIIAYxUkgY+mcyAg3E2sEQKAwWFwqmy-EEAAl8JJmFACRAiRZHs8-lARNgFlAItooAB3IyMax3AAW0CuNIWEDphLwhGJUTgwDoOLusweTxeRTAFUlDQMNQSPgEys1zWYaraYygAB8oNpaRBDNh+QBuJUNdZGk1881Wm2DHpqygazUNbXINUACj1HENxtNToWAEoJsGHWa2M7Pbbo6G4wtrQnqKDIdCILD4RA04JlbRxYxRhwC1AeEA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n\n<p>Note: I have to warn you, there are some arcane assignability rules that differ between an intersection and a flattened out type with the same members, but it does mostly work the same. The idea is that <code>Id</code> is much like a <code>console.log</code> useful for debugging, but don't leave it lying around in production code</p>\n"}], "owner": {"reputation": 426, "user_id": 3428826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001693839589/picture?type=large", "display_name": "Hyster", "link": "https://stackoverflow.com/users/3428826/hyster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59387232, "answer_count": 1, "score": 1, "last_activity_date": 1576653844, "creation_date": 1576653259, "question_id": 59387108, "link": "https://stackoverflow.com/questions/59387108/complex-type-resolution-in-typescript", "title": "Complex type resolution in Typescript", "body": "<p>I have a very complex type defined in my Typescript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export type DraftCamp = DeepPartial&lt;CampForm&gt; &amp; {\n  isActive: false\n} &amp; FilesExtension\n</code></pre>\n\n<p>Which actually is just an interface with some nested values - no unions. Is there anyway to take a peek into this type and see how it actually looks like? Can I do this without manually following all the other types it references?</p>\n"}, {"tags": ["javascript", "typescript", "testing", "jestjs", "tdd"], "answers": [{"tags": [], "owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "is_accepted": true, "score": 1, "last_activity_date": 1576662087, "last_edit_date": 1576662087, "creation_date": 1576660752, "answer_id": 59388831, "question_id": 59386719, "link": "https://stackoverflow.com/questions/59386719/how-properly-test-settimeout-after-promise-resolve/59388831#59388831", "title": "How properly test setTimeout after Promise resolve", "body": "<p>Don't concentrate on assertions against <code>setTimeout</code>. Concentrate on what your function is expected to do.</p>\n\n<pre><code>describe('', () =&gt; {\n  jest.useFakeTimers();\n  const timeout = 300;\n  const callback = jest.fn();\n\n  beforeEach(() =&gt; {\n    jest.clearAllTimers();\n    callback\n      .mockClear()\n      .mockReturnValue(Promise.resolve()); \n  });\n\n  it('runs callback only after delay given', () =&gt; {\n    initScheduler(timeout, callback);\n    jest.advanceTimersByTime(timeout - 1);\n    expect(callback).not.toHaveBeenCalled();\n    jest.advanceTimersByTime(2);\n    expect(callback).toHaveBeenCalledTimes(1);\n  });\n\n  it('reruns scheduler if callback been resolved successfully', async () =&gt; {\n    initScheduler(timeout, callback);\n    expect(callback).not.toHaveBeenCalled();\n    jest.advanceTimersByTime(timeout);\n    await Promise.resolve();\n    jest.advanceTimersByTime(timeout);\n    await Promise.resolve();\n    jest.advanceTimersByTime(timeout);\n    await Promise.resolve();\n    expect(callback).toHaveBeenCalledTimes(3);\n  });\n\n  it('stops scheduler if callback rejected', async () =&gt; {\n    callback.mockReturnValue(Promise.reject());\n    initScheduler(timeout, callback);\n    jest.advanceTimersByTime(timeout);\n    await Promise.resolve();\n    jest.advanceTimersByTime(timeout);\n    await Promise.resolve();\n    expect(callback).toHaveBeenCalledTimes(1);\n  });\n});\n</code></pre>\n\n<p>Some details.</p>\n\n<ol>\n<li>I'm surprised but timers are not cleared between <code>it()</code> to me without <code>jest.clearAllTimers()</code>. Probably, it depends on <code>jsdom</code> implementation or <code>jest</code> version, I don't know.</li>\n<li>without <code>await Promise.resolve()</code> your mock for <code>callback</code> dos not run <code>.then</code> part. Actually it could be <code>await &lt;anything else&gt;</code>, I just see <code>await Promise.resolve();</code> looking less magic than <code>await 42;</code>. Anyway, its purpose to flush <a href=\"https://javascript.info/event-loop\" rel=\"nofollow noreferrer\">microtasks queue</a> while jest itself <a href=\"https://github.com/facebook/jest/issues/2157\" rel=\"nofollow noreferrer\">does not provide</a> straightforward API on that. </li>\n</ol>\n"}], "owner": {"reputation": 13, "user_id": 5219678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219d7ddc67988a2027bde3144c56faea?s=128&d=identicon&r=PG", "display_name": "Andre", "link": "https://stackoverflow.com/users/5219678/andre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 59388831, "answer_count": 1, "score": 1, "last_activity_date": 1576662087, "creation_date": 1576651302, "last_edit_date": 1576660388, "question_id": 59386719, "link": "https://stackoverflow.com/questions/59386719/how-properly-test-settimeout-after-promise-resolve", "title": "How properly test setTimeout after Promise resolve", "body": "<p>How to propertly test this function.</p>\n\n<ol>\n<li>Set timeout</li>\n<li>Callback after timeout</li>\n<li>And recursive call</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function initScheduler(timeout: number, callback: () =&gt; Promise&lt;void&gt;): void {\n  setTimeout(() =&gt; {\n    callback().then(() =&gt; {\n      initScheduler(timeout, callback);\n    });\n  }, timeout);\n}\n</code></pre>\n\n<p>I tried something like </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('initScheduler', () =&gt; {\n  it('should call on schedule', () =&gt; {\n    jest.useFakeTimers();\n\n    const timeout: number = 60000;\n    const callback: jest.Mock = jest.fn().mockResolvedValue(undefined);\n\n    initScheduler(timeout, callback);\n\n    expect(setTimeout).toHaveBeenCalledTimes(1);\n    expect(setTimeout).toHaveBeenLastCalledWith(expect.any(Function), timeout);\n    expect(callback).not.toBeCalled();\n\n    jest.advanceTimersByTime(timeout);\n\n    expect(callback).toBeCalled();\n    expect(setTimeout).toHaveBeenCalledTimes(2);\n  });\n});\n</code></pre>\n\n<p>But last expectation returns 1</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1696, "user_id": 5959638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626c6333120e3a590f013dca1d8eef54?s=128&d=identicon&r=PG&f=1", "display_name": "Gangadhar Gandi", "link": "https://stackoverflow.com/users/5959638/gangadhar-gandi"}, "edited": false, "score": 0, "creation_date": 1576651630, "post_id": 59386685, "comment_id": 104964341, "body": "Have you tried angular material progress bar?"}, {"owner": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "reply_to_user": {"reputation": 1696, "user_id": 5959638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626c6333120e3a590f013dca1d8eef54?s=128&d=identicon&r=PG&f=1", "display_name": "Gangadhar Gandi", "link": "https://stackoverflow.com/users/5959638/gangadhar-gandi"}, "edited": false, "score": 0, "creation_date": 1576651679, "post_id": 59386685, "comment_id": 104964361, "body": "Actually as I mentioned in Note this is already there all I need to do is to apply this style by appending it to class.  @GangadharGandi"}, {"owner": {"reputation": 1696, "user_id": 5959638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626c6333120e3a590f013dca1d8eef54?s=128&d=identicon&r=PG&f=1", "display_name": "Gangadhar Gandi", "link": "https://stackoverflow.com/users/5959638/gangadhar-gandi"}, "edited": false, "score": 1, "creation_date": 1576651794, "post_id": 59386685, "comment_id": 104964393, "body": "paste you html code please"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1576651900, "post_id": 59386685, "comment_id": 104964424, "body": "It will be much easier if you provide the code"}, {"owner": {"reputation": 3395, "user_id": 10409167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blZR5.jpg?s=128&g=1", "display_name": "Arcteezy", "link": "https://stackoverflow.com/users/10409167/arcteezy"}, "edited": false, "score": 0, "creation_date": 1576651946, "post_id": 59386685, "comment_id": 104964442, "body": "Are your colors dynamic or will it be same always(green and orange)?"}, {"owner": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "reply_to_user": {"reputation": 3395, "user_id": 10409167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blZR5.jpg?s=128&g=1", "display_name": "Arcteezy", "link": "https://stackoverflow.com/users/10409167/arcteezy"}, "edited": false, "score": 0, "creation_date": 1576652163, "post_id": 59386685, "comment_id": 104964519, "body": "@Arcteezy colors will be same only percentage will be dynamic."}, {"owner": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "reply_to_user": {"reputation": 1696, "user_id": 5959638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626c6333120e3a590f013dca1d8eef54?s=128&d=identicon&r=PG&f=1", "display_name": "Gangadhar Gandi", "link": "https://stackoverflow.com/users/5959638/gangadhar-gandi"}, "edited": false, "score": 0, "creation_date": 1576652244, "post_id": 59386685, "comment_id": 104964546, "body": "I know code is required but here just need to append the style to css so I dont know how can I achieve it. All I was doing is to apply the className to that container. But that is not the case here. @GangadharGandi"}, {"owner": {"reputation": 958, "user_id": 7404189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9181c457cf193f4dc089ff4b93ed4fa2?s=128&d=identicon&r=PG&f=1", "display_name": "hrdkisback", "link": "https://stackoverflow.com/users/7404189/hrdkisback"}, "edited": false, "score": 0, "creation_date": 1576652673, "post_id": 59386685, "comment_id": 104964722, "body": "you can use property binding by <code>[style.background-color]</code> or use angular&#39;s directive <code>[ngStyle]</code>. Refer this <a href=\"https://ultimatecourses.com/blog/using-ngstyle-in-angular-for-dynamic-styling\" rel=\"nofollow noreferrer\">ultimatecourses.com/blog/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 9520589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36c791b1285f41305005f7e763e7578a?s=128&d=identicon&r=PG&f=1", "display_name": "sachinsuthariya", "link": "https://stackoverflow.com/users/9520589/sachinsuthariya"}, "is_accepted": false, "score": 0, "last_activity_date": 1576652268, "creation_date": 1576652268, "answer_id": 59386894, "question_id": 59386685, "link": "https://stackoverflow.com/questions/59386685/how-can-i-get-progress-bar-dynamically-in-angular/59386894#59386894", "title": "How can I get progress bar dynamically in Angular", "body": "<p>Try ng-bootstrap widgets it's provide almost same progress bar you need.</p>\n\n<p>Example: <a href=\"https://ng-bootstrap.github.io/#/components/progressbar/examples\" rel=\"nofollow noreferrer\">ng-Bootstrap progress bar</a></p>\n"}, {"tags": [], "owner": {"reputation": 3395, "user_id": 10409167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blZR5.jpg?s=128&g=1", "display_name": "Arcteezy", "link": "https://stackoverflow.com/users/10409167/arcteezy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576660451, "last_edit_date": 1576660451, "creation_date": 1576652280, "answer_id": 59386898, "question_id": 59386685, "link": "https://stackoverflow.com/questions/59386685/how-can-i-get-progress-bar-dynamically-in-angular/59386898#59386898", "title": "How can I get progress bar dynamically in Angular", "body": "<p>Use <code>ngStyle</code>,</p>\n\n<pre><code>[ngStyle]=\"{'background':'linear-gradient(to right, '+progressColor+' '+progress+'%, '+remainingProgressColor+' '+progress+'%'}\"\n</code></pre>\n\n<blockquote>\n  <p>I made the colors also to be dynamic. You can change it as per requirement.</p>\n</blockquote>\n\n<p>Demo : <a href=\"https://stackblitz.com/edit/angular-ivscqa\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ivscqa</a></p>\n"}, {"tags": [], "owner": {"reputation": 1250, "user_id": 5706900, "user_type": "registered", "profile_image": "https://graph.facebook.com/987906877914619/picture?type=large", "display_name": "Siddharth Pal", "link": "https://stackoverflow.com/users/5706900/siddharth-pal"}, "is_accepted": false, "score": 0, "last_activity_date": 1576652629, "creation_date": 1576652629, "answer_id": 59386960, "question_id": 59386685, "link": "https://stackoverflow.com/questions/59386685/how-can-i-get-progress-bar-dynamically-in-angular/59386960#59386960", "title": "How can I get progress bar dynamically in Angular", "body": "<p>You can use <code>Renderer2</code> to add dynamic styles</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Directive, Renderer2, ElementRef, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n    constructor(private renderer: Renderer2, private el: ElementRef) {\n    const progress = 73;\n    this.renderer.setStyle(\n        this.el.nativeElement,\n        'background',\n        `linear-gradient(to right,  green ${progress}%, orange ${progress}% 100%)`\n      );\n  }\n}\n</code></pre>\n\n<p><a href=\"https://angular-w9jzvh.stackblitz.io\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 6677453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eefd8f4b2ca167991ea22a88328439e?s=128&d=identicon&r=PG&f=1", "display_name": "Ramana Reddy", "link": "https://stackoverflow.com/users/6677453/ramana-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576652637, "creation_date": 1576652637, "answer_id": 59386962, "question_id": 59386685, "link": "https://stackoverflow.com/questions/59386685/how-can-i-get-progress-bar-dynamically-in-angular/59386962#59386962", "title": "How can I get progress bar dynamically in Angular", "body": "<p>if your progress-bar is your custom made,\nyou can try </p>\n\n<pre><code>&lt;some-element [ngStyle]=\"{'background': styleExp}\"&gt;...&lt;/some-element&gt;\n</code></pre>\n\n<p>where you can give your \"styleExp\" expression from .ts file</p>\n\n<p>more at <a href=\"https://angular.io/api/common/NgStyle\" rel=\"nofollow noreferrer\">https://angular.io/api/common/NgStyle</a></p>\n"}, {"tags": [], "owner": {"reputation": 1280, "user_id": 5536695, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462842ef9c0d576967057065b4b962d6?s=128&d=identicon&r=PG&f=1", "display_name": "YogendraR", "link": "https://stackoverflow.com/users/5536695/yogendrar"}, "is_accepted": false, "score": 0, "last_activity_date": 1576654074, "last_edit_date": 1576654074, "creation_date": 1576652955, "answer_id": 59387038, "question_id": 59386685, "link": "https://stackoverflow.com/questions/59386685/how-can-i-get-progress-bar-dynamically-in-angular/59387038#59387038", "title": "How can I get progress bar dynamically in Angular", "body": "<p>Easy and Simple way:</p>\n\n<p>You can try using <code>[ngStyle]</code>\nYou can take two variables (or more depending on your colors).</p>\n\n<p>Let's say <code>x</code> and <code>y</code>, assign values to them</p>\n\n<p>Then you can do:</p>\n\n<pre><code>getStyle() {\nreturn {background: `linear-gradient(to right, green ${this.x}%, orange \n${this.y}% 100%)`};\n}     \n\n[ngStyle]=\"getStyle()\"\n</code></pre>\n\n<p>or you can do inline:</p>\n\n<pre><code>[ngStyle]=\"{'background': 'linear-gradient(to right, green '+ x + '%' + ', orange ' + y + '% ' + '100%)'}\"\n</code></pre>\n"}], "owner": {"reputation": 3227, "user_id": 2763709, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/myOhz.jpg?s=128&g=1", "display_name": "The Hungry Dictator", "link": "https://stackoverflow.com/users/2763709/the-hungry-dictator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2099, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1576660451, "creation_date": 1576651179, "question_id": 59386685, "link": "https://stackoverflow.com/questions/59386685/how-can-i-get-progress-bar-dynamically-in-angular", "title": "How can I get progress bar dynamically in Angular", "body": "<p>I am looking for the solution for progress barstyling. All I want is to append styling basded on the percentage I am getting through backend. </p>\n\n<p><a href=\"https://i.stack.imgur.com/A2Soj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A2Soj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Let say here I am getting 73% for the green. So All I want to apply class using </p>\n\n<pre><code>background: linear-gradient(to right, green 73%, orange 73% 100%); \n</code></pre>\n\n<p>Now I want it in ts file. Let say I have class name 'progress-bar' so how can I append this styling in the class from ts file ?</p>\n\n<p>Note: I am looking for ts file solution as the progrss bar is dynamically generated so I don't have any html available for that. </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1576651354, "post_id": 59386661, "comment_id": 104964246, "body": "Why aren&#39;t you using <code>CustomArray  extends Array</code>?"}, {"owner": {"reputation": 6727, "user_id": 2485624, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dNes0.jpg?s=128&g=1", "display_name": "Harkirat Saluja", "link": "https://stackoverflow.com/users/2485624/harkirat-saluja"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1576653828, "post_id": 59386661, "comment_id": 104965181, "body": "Can u please share the code? It will really help me a lot :) @adiga"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1576654313, "post_id": 59386661, "comment_id": 104965370, "body": "That&#39;s an unrelated suggestion. <code>CustomArray extends Array</code> will allow the instances <code>CustomArray</code> access all the functionalities of Array. That&#39;s not your issue here. Are you using react or something similar where the <code>value</code> parameter being passed is immutable? Like this: <a href=\"https://stackoverflow.com/questions/45798885\">Object is not extensible error when creating new attribute for array of objects</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1576672754, "creation_date": 1576672754, "answer_id": 59392262, "question_id": 59386661, "link": "https://stackoverflow.com/questions/59386661/typeerror-while-adding-property-to-custom-array-data-type/59392262#59392262", "title": "TypeError while adding property to custom array data type", "body": "<p>You are getting the error because you passed an array which is <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions\" rel=\"nofollow noreferrer\">not-extensible</a>. When you add a property <code>value.filterBy</code>, it will throw an error. </p>\n\n<p>Instead of directly adding a property to every array, you could make <code>CustomArray</code> inherit from <code>Array</code>. This way, it will have all the functionalities of Array and the additional methods will be on <code>CustomArray.prototype</code> instead of directly on each array instances</p>\n\n<p>Since you can get non-Array value as parameter, you could do <code>[].concat(value)</code> to always get an array. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const convert = v =&gt; [].concat(v)\r\n\r\nconsole.log( convert(1) )\r\nconsole.log( convert([1, 2]) )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Call the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Array\" rel=\"nofollow noreferrer\"><code>Array</code></a> constructor using <code>super</code> and spreading the contents of the array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class CustomArray extends Array {\r\n  constructor(value = []) {\r\n    super(...[].concat(value))\r\n  }\r\n\r\n  filterBy(property) {\r\n    return !property ? this : this.filter(item =&gt; item[property]);\r\n  }\r\n\r\n  sortAscBy(property) {\r\n    return !property ? this : this.sort((a, b) =&gt; a[property] - b[property]);\r\n  }\r\n\r\n  sortDescBy(property) {\r\n    return !property ? this : this.sort((a, b) =&gt; b[property] - a[property]);\r\n  }\r\n}\r\n\r\nconst a1 = new CustomArray([{ age: 10 }, { age: 5 }])\r\nconsole.log(a1.sortAscBy('age'))\r\n\r\nconst a2 = new CustomArray([\"a\", \"bbb\", \"\", \"cc\"])\r\nconsole.log(JSON.stringify( a2 ))\r\nconsole.log(JSON.stringify( a2.sortDescBy('length') ))\r\nconsole.log(JSON.stringify( a2.filterBy('length') )) \r\n// ^ empty string is removed because item[property] returns 0 and 0 is falsy\r\n\r\nconst a3 = new CustomArray({ key: \"value\" }) // non-array item\r\nconsole.log(a3)\r\n\r\nconst a4 = new CustomArray() // default empty array\r\nconsole.log(a4)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 6727, "user_id": 2485624, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dNes0.jpg?s=128&g=1", "display_name": "Harkirat Saluja", "link": "https://stackoverflow.com/users/2485624/harkirat-saluja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576672754, "creation_date": 1576651068, "question_id": 59386661, "link": "https://stackoverflow.com/questions/59386661/typeerror-while-adding-property-to-custom-array-data-type", "title": "TypeError while adding property to custom array data type", "body": "<p>I was introducing typescript to my current code. The size of the codebase is quite huge so started from the basic types. I have built custom data types to handle UI in a better way.</p>\n\n<p>Following is the code for <code>CustomArray</code> which I have.</p>\n\n<pre><code>/**\n Author - Harkirat Saluja\n Git - https://bitbucket.org/salujaharkirat/\n **/\n\ndeclare global {\n  interface Array&lt;T&gt;{\n    filterBy(o: T): Array&lt;T&gt;,\n    sortAscBy(o: T): Array&lt;T&gt;,\n    sortDescBy(o: T): Array&lt;T&gt;\n  }\n}\n\n\nclass CustomArray {\n  static init (value = []) {\n    if (!value) {\n      value = [];\n    }\n    if (!(value instanceof Array)) {\n      value = [value];\n    }\n\n    value.filterBy = function (property) {\n      return !property ? this : this.filter(item =&gt; item[property]);\n    };\n\n    value.sortAscBy = function (property) {\n      return !property ? this : this.sort((a, b) =&gt; a[property] - b[property]);\n    };\n\n    value.sortDescBy = function (property) {\n      return !property ? this : this.sort((a, b) =&gt; b[property] - a[property]);\n    };\n\n    return arrayValue;\n  }\n}\n\nexport default CustomArray;\n</code></pre>\n\n<p>In production I am getting error <code>TypeError: Cannot add property to a non extensible object</code>.</p>\n\n<p>As per the mozilla <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_define_property_object_not_extensible\" rel=\"nofollow noreferrer\">documentation</a>, if we add <code>Object.preventExtensions</code> it should show me this error but I am not using that anywhere.</p>\n\n<p>I was debugging it a bit and following code works fine:-</p>\n\n<pre><code>/**\n Author - Harkirat Saluja\n Git - https://bitbucket.org/salujaharkirat/\n **/\n\ndeclare global {\n  interface Array&lt;T&gt;{\n    filterBy(o: T): Array&lt;T&gt;,\n    sortAscBy(o: T): Array&lt;T&gt;,\n    sortDescBy(o: T): Array&lt;T&gt;\n  }\n}\n\n\nclass CustomArray {\n  static init (value = []) {\n    if (!value) {\n      value = [];\n    }\n    if (!(value instanceof Array)) {\n      value = [value];\n    }\n\n    const arrayValue = [...value]; //Making a new copy works\n    arrayValue.filterBy = function (property) {\n      return !property ? this : this.filter(item =&gt; item[property]);\n    };\n\n    arrayValue.sortAscBy = function (property) {\n      return !property ? this : this.sort((a, b) =&gt; a[property] - b[property]);\n    };\n\n    arrayValue.sortDescBy = function (property) {\n      return !property ? this : this.sort((a, b) =&gt; b[property] - a[property]);\n    };\n\n    return arrayValue;\n  }\n}\n\nexport default CustomArray;\n</code></pre>\n\n<p>Though the error is fixed, it will really me if someone is able to help me understand why I am facing this issue?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3777, "user_id": 472032, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ByzoW.jpg?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/472032/neo"}, "edited": false, "score": 0, "creation_date": 1576710689, "post_id": 59386646, "comment_id": 104991562, "body": "This is exactly like what I was doing since <code>icon</code> is string I need to put in map and export it but the issue is an issue as in js large number of imports and needs to copy-paste the same variables in a JSON object which I didn&#39;t have to do in JS world."}], "tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": false, "score": 0, "last_activity_date": 1576650994, "creation_date": 1576650994, "answer_id": 59386646, "question_id": 59386213, "link": "https://stackoverflow.com/questions/59386213/dynamic-return-of-a-variable-based-on-the-argument/59386646#59386646", "title": "Dynamic return of a variable based on the argument", "body": "<p>In TS you can do very similar to JS.</p>\n\n<ol>\n<li><p>In Icons file </p>\n\n<pre><code>import icon1 from \"./icon1\";\nimport icon2 from \"./icon2\";\n\nconst icons = [icon1, icon2];  // type is string[]\nexport = icons;\n</code></pre></li>\n<li><p>In second file</p>\n\n<pre><code>import icons from './icons';\n\nexport const getIcon = (icon: number) =&gt; icons[icon];   // type of getIcon is (icon: number): string\n</code></pre></li>\n</ol>\n\n<p>You can also look at <a href=\"https://stackoverflow.com/a/42990843/7141073\">this answer</a> with some addition details and ideas.</p>\n"}, {"comments": [{"owner": {"reputation": 3777, "user_id": 472032, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ByzoW.jpg?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/472032/neo"}, "edited": false, "score": 0, "creation_date": 1576726683, "post_id": 59387609, "comment_id": 104994696, "body": "Thanks i added a validation check and everything worked as I expected <code>const isValidIconName = (iconName: string): iconName is IconKeys =&gt; icons.hasOwnProperty(iconName);</code>"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1576655441, "creation_date": 1576655441, "answer_id": 59387609, "question_id": 59386213, "link": "https://stackoverflow.com/questions/59386213/dynamic-return-of-a-variable-based-on-the-argument/59387609#59387609", "title": "Dynamic return of a variable based on the argument", "body": "<p>Given ES namespace import, you can get the typed keys <code>\"icon1\" | \"icon1\"</code> of the <code>icons</code>namespace:</p>\n\n<pre><code>import * as icons from './icons';\n\ntype IconKeys = keyof typeof icons;\n</code></pre>\n\n<p>Just restrict the <code>iconName</code> argument type of function <code>getIcon</code> to be one of the icon keys. Now <code>iconName</code> can be used as a computed property name to get the wanted icon.</p>\n\n<pre><code>export const getIcon = (iconName: IconKeys) =&gt; icons[iconName];\n\n// or without explicit type\nexport const getIcon = (iconName: keyof typeof icons) =&gt; icons[iconName];\n</code></pre>\n"}], "owner": {"reputation": 3777, "user_id": 472032, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ByzoW.jpg?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/472032/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 59387609, "answer_count": 2, "score": 1, "last_activity_date": 1576655441, "creation_date": 1576648538, "question_id": 59386213, "link": "https://stackoverflow.com/questions/59386213/dynamic-return-of-a-variable-based-on-the-argument", "title": "Dynamic return of a variable based on the argument", "body": "<p>So I have n imports</p>\n\n<pre><code>import icon1 from './icons/icon1.svg';\nimport icon2 from './icons/icon2.svg';\n// 100+ more imports\n</code></pre>\n\n<p>I want to write a function that returns correpsonding icon based on the icon name</p>\n\n<pre><code>export const getIcon: GetIcon = (iconName) =&gt; {\n    switch (iconName) {\n        case 'icon1': return icon1;\n        case 'icon2': return icon2;\n        // more returns\n    }\n }\n</code></pre>\n\n<p>how do i do it without using switch case ? </p>\n\n<p>In javascript I used to </p>\n\n<pre><code>export icon1 from './icons/icon1.svg';\nexport icon2 from './icons/icon2.svg';\n// More icons\n</code></pre>\n\n<p>and in the second file</p>\n\n<pre><code>import * as icons from './icons';\nexport const getIcon = (iconName) =&gt; icons[iconName]\n\n</code></pre>\n\n<p>So I didn't have to write big switch statement to map the imports to the value. How can I simplify in typescript?</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular-ui-router", "angular8"], "comments": [{"owner": {"reputation": 1125, "user_id": 12130501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UKDZ5pOqWow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaXx5P-3Kgn-EBgT2_TibEvDndQA/photo.jpg?sz=128", "display_name": "Mridul", "link": "https://stackoverflow.com/users/12130501/mridul"}, "edited": false, "score": 0, "creation_date": 1576648016, "post_id": 59386066, "comment_id": 104963306, "body": "is your navigation working?"}, {"owner": {"reputation": 498, "user_id": 9752928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9GSy.jpg?s=128&g=1", "display_name": "Ahamed Safnaj", "link": "https://stackoverflow.com/users/9752928/ahamed-safnaj"}, "edited": false, "score": 0, "creation_date": 1576649123, "post_id": 59386066, "comment_id": 104963606, "body": "have u configured routing ??"}, {"owner": {"reputation": 9, "user_id": 12543639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483e3adb0855e35304b260d31d56bfe7?s=128&d=identicon&r=PG&f=1", "display_name": "sarranya", "link": "https://stackoverflow.com/users/12543639/sarranya"}, "edited": false, "score": 0, "creation_date": 1576650155, "post_id": 59386066, "comment_id": 104963884, "body": "navigation is working moving to the correct page,but it should move to particular tab,please help me"}, {"owner": {"reputation": 1280, "user_id": 5536695, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462842ef9c0d576967057065b4b962d6?s=128&d=identicon&r=PG&f=1", "display_name": "YogendraR", "link": "https://stackoverflow.com/users/5536695/yogendrar"}, "edited": false, "score": 0, "creation_date": 1576651300, "post_id": 59386066, "comment_id": 104964230, "body": "why are you adding &#39;href&#39; attribute ? Remove it. Angular adds href for routerLink at runtime.  What do you mean by particular tab ?"}, {"owner": {"reputation": 9, "user_id": 12543639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483e3adb0855e35304b260d31d56bfe7?s=128&d=identicon&r=PG&f=1", "display_name": "sarranya", "link": "https://stackoverflow.com/users/12543639/sarranya"}, "reply_to_user": {"reputation": 1280, "user_id": 5536695, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462842ef9c0d576967057065b4b962d6?s=128&d=identicon&r=PG&f=1", "display_name": "YogendraR", "link": "https://stackoverflow.com/users/5536695/yogendrar"}, "edited": false, "score": 0, "creation_date": 1576652036, "post_id": 59386066, "comment_id": 104964466, "body": "@Yogendra123  ok i removed href and added routerLink,it should go to profile page,in that profile page there is two tab,it should go to second tab."}, {"owner": {"reputation": 1280, "user_id": 5536695, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/462842ef9c0d576967057065b4b962d6?s=128&d=identicon&r=PG&f=1", "display_name": "YogendraR", "link": "https://stackoverflow.com/users/5536695/yogendrar"}, "edited": false, "score": 0, "creation_date": 1576653232, "post_id": 59386066, "comment_id": 104964933, "body": "Ok, How you implemented tab, what is it ? your own implementation or some third party, please share code or create stackblitz demo"}, {"owner": {"reputation": 1152, "user_id": 9511855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9gFK.jpg?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/9511855/tushar"}, "edited": false, "score": 0, "creation_date": 1576653780, "post_id": 59386066, "comment_id": 104965163, "body": "Create stackblitz of your code. Here : <code>https:&#47;&#47;stackblitz.com&#47;</code>"}, {"owner": {"reputation": 9, "user_id": 12543639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483e3adb0855e35304b260d31d56bfe7?s=128&d=identicon&r=PG&f=1", "display_name": "sarranya", "link": "https://stackoverflow.com/users/12543639/sarranya"}, "edited": false, "score": 0, "creation_date": 1576654461, "post_id": 59386066, "comment_id": 104965428, "body": "this is tab section,while clicking it should come here(while clicking div,page should redirect and should move on to password div which is in the redirected page)&lt;div class=&quot;kt-portlet__head-label&quot;&gt;                                  &lt;h3 class=&quot;kt-portlet__head-title&quot;&gt;   Change password &lt;/h3&gt;                               &lt;/div&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 1456, "user_id": 11258735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSYt3.png?s=128&g=1", "display_name": "JuNe", "link": "https://stackoverflow.com/users/11258735/june"}, "is_accepted": false, "score": 0, "last_activity_date": 1576653878, "creation_date": 1576653878, "answer_id": 59387243, "question_id": 59386066, "link": "https://stackoverflow.com/questions/59386066/click-on-link-should-go-to-particular-tab-in-angular/59387243#59387243", "title": "Click on link should go to particular tab in Angular", "body": "<p>You can solve it by adding a query param to your route:</p>\n\n<pre><code>@ViewChild(MatTabGroup, {static: true}) tabGroup: MatTabGroup;\n\nconstructor(\n  private router: Router,\n  private route: ActivatedRoute\n) {}\n\nngOnInit() {\n  this.route.queryParams.subscribe((data) =&gt; {\n    if(data.index &amp;&amp; (data.index === '0' || data.index=== '1')) {\n      this.tabGroup.selectedIndex = data.index;\n    } else {\n      this.router.navigate(\n        [], \n        {\n          relativeTo: this.route,\n          queryParams: { index: '0' },\n          queryParamsHandling: 'merge'\n      });\n    }\n  });\n}\n\ntabChanged(event: MatTabChangeEvent) {\n    this.router.navigate(\n      [], \n      {\n        relativeTo: this.route,\n        queryParams: { index: event.index },\n        queryParamsHandling: 'merge'\n    });\n}\n</code></pre>\n\n<p>In the HTML file implement that <code>tabChanged</code> method for updating the query param:</p>\n\n<pre><code>&lt;mat-tab-group (selectedTabChange)=\"tabChanged($event)\"&gt;\n  &lt;mat-tab label=\"Tab 1\"&gt;\n    // some content\n  &lt;/mat-tab&gt;\n  &lt;mat-tab label=\"Tab 2\"&gt;\n    // some content\n  &lt;/mat-tab&gt;\n&lt;/mat-tab-group&gt;\n</code></pre>\n\n<p>Now you can navigate to this tab with follwing router link:</p>\n\n<pre><code>&lt;a [routerLink]=\"['/myprofile']\" [queryParams]=\"{index: '1'}\"&gt;Somewhere&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 12543639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483e3adb0855e35304b260d31d56bfe7?s=128&d=identicon&r=PG&f=1", "display_name": "sarranya", "link": "https://stackoverflow.com/users/12543639/sarranya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1576653878, "creation_date": 1576647548, "last_edit_date": 1576648356, "question_id": 59386066, "link": "https://stackoverflow.com/questions/59386066/click-on-link-should-go-to-particular-tab-in-angular", "title": "Click on link should go to particular tab in Angular", "body": "<p>When i click below link, it should redirect to another page and open a particular tab.</p>\n\n<p>HTML - it should go to myprofile page password tab</p>\n\n<pre><code>&lt;a routerLink=\"/myprofile\" href=\"javascript:;\" class=\"kt-notification__item\"&gt;\n    &lt;div class=\"kt-notification__item-icon\"&gt;\n        &lt;span class=\"iconify\" data-icon=\"simple-line-icons:key\" data-inline=\"false\"&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"kt-notification__item-details\"&gt;\n        &lt;div class=\"kt-notification__item-title kt-font-bold\"&gt;\n            Password\n        &lt;/div&gt;\n        &lt;div class=\"kt-notification__item-time\"&gt;\n            Change your password\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/a&gt;    \n</code></pre>\n"}, {"tags": ["json", "angular", "typescript", "ngx-translate"], "comments": [{"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1576647168, "post_id": 59385995, "comment_id": 104963107, "body": "can you post code for TranslateService?"}, {"owner": {"reputation": 2404, "user_id": 1545082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba92b9155a7181f5cf4641feec537146?s=128&d=identicon&r=PG", "display_name": "Umesh", "link": "https://stackoverflow.com/users/1545082/umesh"}, "edited": false, "score": 0, "creation_date": 1576647659, "post_id": 59385995, "comment_id": 104963222, "body": "What do you want to push in modeOptions?"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576647679, "post_id": 59385995, "comment_id": 104963227, "body": "Can you do a <code>console.log(this.modeOptions)</code>?"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576647904, "post_id": 59385995, "comment_id": 104963275, "body": "@NicholasK. I added that part in the question with ouput. :-)"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 1, "creation_date": 1576647971, "post_id": 59385995, "comment_id": 104963293, "body": "can you post <code>console.log(this.sources)</code>?"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "reply_to_user": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1576648148, "post_id": 59385995, "comment_id": 104963328, "body": "@Plochie. Oh. Yes. This array has values. <code>Sources are: Months.CalendarYear,Months.YearToDate,Months.Rolling12Months&zwnj;&#8203;,,Months.CurrentQuar&zwnj;&#8203;ter</code>"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576648302, "post_id": 59385995, "comment_id": 104963374, "body": "Shouldn&#39;t <code>this.modeOptions</code> print out <code>[&#39;Calendar year&#39;, &#39;Year-to-date&#39;, &#39;Rolling 12 months&#39;, &#39;Current quarter&#39;]</code>? Also, you can remove <code>[value]=&quot;source&quot;</code> from the <code>&lt;option&gt;</code>"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576648367, "post_id": 59385995, "comment_id": 104963400, "body": "@NicholasK. I just checked. Unfortunately it is empty. Only ,,,, are there."}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 1, "creation_date": 1576648445, "post_id": 59385995, "comment_id": 104963427, "body": "And that&#39;s why your dropdown is empty. What are you trying to do here <code>this.modeOptions = Array.from({ length: Math.ceil(this.sources.length) }, (_, i) =&gt; i).map(i =&gt;                     this.modeOptions.map(x =&gt; ({                      }))</code>?"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 1, "creation_date": 1576648547, "post_id": 59385995, "comment_id": 104963450, "body": "Its better if you can provide stackblitz. I think there is lot going on here than you are explaining."}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1576648588, "post_id": 59385995, "comment_id": 104963464, "body": "I was trying to map every single value. But then I removed that also. Still Dropdown is empty. :-("}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 1, "creation_date": 1576648662, "post_id": 59385995, "comment_id": 104963484, "body": "If you remove that then you need to make a change in the template as well. Make this change <code>&lt;option *ngFor=&quot;let source of sources&quot; [value]=&quot;source&quot;&gt;</code>"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1576651380, "post_id": 59385995, "comment_id": 104964254, "body": "After making this change I&#39;m getting options on my Dropdown but they are <code>Months.CalendarYear  Months.YearToDate  Months.Rolling12Months  Months.CurrentQuarter</code>"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576653380, "post_id": 59385995, "comment_id": 104965006, "body": "Can you try doing this on the template <code>{{ source | translate}}</code>"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576657468, "post_id": 59385995, "comment_id": 104966622, "body": "@NicholasK. Here is stackblitz: <a href=\"https://stackblitz.com/edit/angular-qbcsnx\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-qbcsnx</a> It may need some changes here and there as i told you i dont know much about externalizing. Plz check the code. :-)"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "reply_to_user": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1576657643, "post_id": 59385995, "comment_id": 104966689, "body": "@Plochie. <a href=\"https://stackblitz.com/edit/angular-qbcsnx\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-qbcsnx</a> Please make changes accordingly. I&#39;m sorry i dont know how to do it."}], "answers": [{"comments": [{"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1576666453, "post_id": 59390270, "comment_id": 104971002, "body": "I think i can learn a lot from this. :-) From here i can take the control."}], "tags": [], "owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1576665827, "creation_date": 1576665827, "answer_id": 59390270, "question_id": 59385995, "link": "https://stackoverflow.com/questions/59385995/how-to-populate-the-array-for-a-dropdown-where-values-are-externalized-already/59390270#59390270", "title": "How to populate the array for a dropdown where values are externalized already [Angular]", "body": "<p>There were many issues wrong with your current attempt.  </p>\n\n<ol>\n<li><p>First, download all necessary dependencies:</p>\n\n<pre><code>\"@ngx-translate/http-loader\": \"4.0.0\" \n\"@ngx-translate/core\": \"11.0.1\",\n</code></pre></li>\n<li><p>Next, setup a loader in the app.module</p>\n\n<pre><code>@NgModule({\n  imports: [\n    ...\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient]\n      }\n    })\n  ]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>define the loader</p>\n\n<pre><code>export function HttpLoaderFactory(httpClient: HttpClient) {\n  return new TranslateHttpLoader(httpClient);\n}\n</code></pre></li>\n<li><p>In the app.component.ts decide which <code>[lang].json</code> file\nyou need to load</p>\n\n<pre><code>  constructor(private translate: TranslateService) {\n    translate.setDefaultLang(\"en\");\n    translate.use(\"en\");\n  }\n</code></pre></li>\n<li><p>Now in the component decide which <em>keys</em> from the i18n file\nare required.</p>\n\n<pre><code>  ngOnInit() {\n    this.sources = [\n      \"Modes.CalendarYear\",\n      \"Modes.YearToDate\",\n      \"Modes.Rolling12Months\",\n      \"Modes.CurrentQuarter\"\n    ];\n  }\n</code></pre>\n\n<p>and on the template make use of the <code>translate</code> pipe to\n<em>internationalize</em> the values.</p>\n\n<pre><code>&lt;select [(ngModel)]=\"mode\" name=\"source\"&gt;\n  &lt;option *ngFor=\"let source of sources\" [value]=\"source\"&gt;\n    {{ source | translate }} \n  &lt;/option&gt;\n&lt;/select&gt;\n</code></pre></li>\n</ol>\n\n<p><a href=\"https://stackblitz.com/edit/translate-nick-13\" rel=\"nofollow noreferrer\">Working stackblitz</a> of the above steps.</p>\n"}], "owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 59390270, "answer_count": 1, "score": 0, "last_activity_date": 1576665827, "creation_date": 1576646952, "last_edit_date": 1576648035, "question_id": 59385995, "link": "https://stackoverflow.com/questions/59385995/how-to-populate-the-array-for-a-dropdown-where-values-are-externalized-already", "title": "How to populate the array for a dropdown where values are externalized already [Angular]", "body": "<p>I think I haven't understood externalizing concepts very well. I have a simple Dropdown whose options are stored in the corresponding typescript file.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;select&gt;\n  &lt;option *ngFor=\"let source of modeOptions\" [value]=\"source\"&gt;\n    {{ source }}\n  &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>typescript</strong></p>\n\n<pre><code>modeOptions= ['Calendar year', 'Current quarter', 'Rolling year'];\n</code></pre>\n\n<p>But now I've decided to externalize all the values.</p>\n\n<p><strong>en-Us.json</strong></p>\n\n<pre><code>{\n  \"Modes\": {\n    \"CalendarYear\": \"Calendar year\",\n    \"YearToDate\": \"Year-to-date\",\n    \"Rolling12Months\": \"Rolling 12 months\",\n    \"CurrentQuarter\": \"Current quarter\"\n  }\n}\n</code></pre>\n\n<p><strong>typescript</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n    ...\n})\nexport class TimeselectorComponent implements OnInit {\n\n    mode = 'Calendar year';\n\n    public sources = [];\n    public modeOptions = [];\n\n    constructor(private translate: TranslateService) {}\n\n    translateCard(): void {\n      this.translate\n        .get([\n          'Months.CalendarYear',\n          'Months.YearToDate',\n          'Months.Rolling12Months',\n          'Months.CurrentQuarter'\n        ])\n        .subscribe(translations =&gt; {\n          this.sources.push(translations['Months.CalendarYear']);\n          this.sources.push(translations['Months.YearToDate']);\n          this.sources.push(translations['Months.Rolling12Months']);\n          this.sources.push(translations['Months.April']);\n          this.sources.push(translations['Months.CurrentQuarter']);\n\n          // PROBLEM IS HERE\n          this.modeOptions = Array.from({ length: Math.ceil(this.sources.length) }, (_, i) =&gt; i).map(i =&gt;\n                    this.modeOptions.map(x =&gt; ({\n\n                    }))\n                );\n          console.log(\"Modes are: \"+this.modeOptions); //OUTPUT: Modes are: ,,,,         \n            });\n    }\n\n    ngOnInit(): void {\n        this.translateCard();\n    }\n}\n</code></pre>\n\n<p>The problem is with populating my array of options. That's why my dropdown list is empty. It is not showing any option. I made a similar mistake earlier also but that was some other component not Dropdown. I think I've misunderstood the concept.</p>\n"}, {"tags": ["typescript", "generics", "typescript-generics"], "comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576665946, "post_id": 59385732, "comment_id": 104970751, "body": "<code>type AllPropertiesAsObservable&lt;T, Tobservable extends Observable&lt;T&gt;&gt;</code> ?"}, {"owner": {"reputation": 306, "user_id": 4656951, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-xoaD1mkpmuo/AAAAAAAAAAI/AAAAAAAAAYg/n9U4yhh9ZZ0/photo.jpg?sz=128", "display_name": "goyaltushar92", "link": "https://stackoverflow.com/users/4656951/goyaltushar92"}, "reply_to_user": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576670216, "post_id": 59385732, "comment_id": 104972841, "body": "i have tried that, but it will not let me use <code>Tobservable&lt;T[key]&gt;</code>"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576670854, "post_id": 59385732, "comment_id": 104973153, "body": "HKT is not supported in TS, so type constructors cannot be passed to another type constructors. probably you need some hack like <a href=\"https://github.com/pelotom/hkts\" rel=\"nofollow noreferrer\">github.com/pelotom/hkts</a>"}], "owner": {"reputation": 306, "user_id": 4656951, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-xoaD1mkpmuo/AAAAAAAAAAI/AAAAAAAAAYg/n9U4yhh9ZZ0/photo.jpg?sz=128", "display_name": "goyaltushar92", "link": "https://stackoverflow.com/users/4656951/goyaltushar92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1576645552, "creation_date": 1576645163, "last_edit_date": 1576645552, "question_id": 59385732, "link": "https://stackoverflow.com/questions/59385732/how-to-pass-a-nested-generic-parameter-to-typscript-type-declaration", "title": "How to pass a nested generic parameter to typscript type declaration?", "body": "<p>I have a type declaration</p>\n\n<pre><code>type IfExtendsThen&lt;Tin, Tx, To1, To2&gt; = Tin extends Tx ? To1 : To2;\n\ntype AllPropertiesAsObservable&lt;T&gt; = {\n  [key in keyof T]: IfExtendsThen&lt;T[key], string | number | boolean, Observable&lt;T[key]&gt;, AllPropertiesAsObservable&lt;T[key]&gt;&gt;;\n} &amp; Observable&lt;T&gt;;\n</code></pre>\n\n<p>it creates a mapped type in which every property of type string, number or boolean is converted to an observable recursively.</p>\n\n<p>it works fine, but now I want to pass Observable type as input too...\ni.e. something like this</p>\n\n<pre><code>type AllPropertiesAsObservable&lt;T, Tobservable extends Observable&gt; = {\n  [key in keyof T]: IfExtendsThen&lt;T[key], string | number | boolean, Tobservable &lt;T[key]&gt;, AllPropertiesAsObservable&lt;T[key], Tobservable &gt;&gt;;\n} &amp; Tobservable &lt;T&gt;;\n</code></pre>\n\n<p>So, that I can use it somewhat like this</p>\n\n<pre><code>let obj = AllPropertiesAsObservable&lt;Xyz, BehaviorSubject&gt;;\n</code></pre>\n\n<p>now, every porperty of type <code>Xyz</code> of string, number or boolean type is converted to BehaviorSubject.\nhowever, this gives an error,</p>\n\n<pre><code>Generic type 'Observable&lt;T&gt;' requires 1 type argument(s).\n</code></pre>\n\n<p>In <code>AllPropertiesAsObservable</code> declaration.</p>\n\n<p>note: <code>Observable</code> here is from <code>rxjs</code> library.</p>\n\n<p>Any suggestion how can I achieve this?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-reactive-forms"], "answers": [{"tags": [], "owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "is_accepted": true, "score": 1, "last_activity_date": 1576645425, "creation_date": 1576645425, "answer_id": 59385789, "question_id": 59385720, "link": "https://stackoverflow.com/questions/59385720/can-we-use-angular-formarray-with-angular2-multiselect-dropdown/59385789#59385789", "title": "Can we use Angular FormArray with angular2-multiselect dropdown?", "body": "<p>You had to remove the [(ngModel)] since you are using reactive forms</p>\n\n<pre><code>  &lt;angular2-multiselect [data] = \"tasksData\" \n    [settings] = \"tasksDropDownSettings\"\n    formControlName=\"task\"&gt;\n  &lt;/angular2-multiselect&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular2-multiselect-formarray-2vyx7j?file=src/app/components/reactive-form/reactive-form.component.html\" rel=\"nofollow noreferrer\">Working example</a></p>\n"}], "owner": {"reputation": 162, "user_id": 7289891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OW0Ik.png?s=128&g=1", "display_name": "itzzmeakhi", "link": "https://stackoverflow.com/users/7289891/itzzmeakhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 59385789, "answer_count": 1, "score": 0, "last_activity_date": 1576645425, "creation_date": 1576645097, "question_id": 59385720, "link": "https://stackoverflow.com/questions/59385720/can-we-use-angular-formarray-with-angular2-multiselect-dropdown", "title": "Can we use Angular FormArray with angular2-multiselect dropdown?", "body": "<p>For my usecase, i have to build a form in that we can dynamically add rows to the form columns. I built that using Angular FormArray. In that form, i have to add a dropdown, where user can select the task and can search for the specified task from the tasks list. So i tried with angular2-multiselect dropdown. \nWhen i am adding a new  row the previous row dropdown selected value is updating in the newly added row. Can anyone help me on these?</p>\n\n<p>Here i am including sample code with the error</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular2-multiselect-formarray?file=src%2Fapp%2Fcomponents%2Freactive-form%2Freactive-form.component.html\" rel=\"nofollow noreferrer\"><strong>StackBlitz link</strong></a></p>\n\n<p><strong><em>form.component.ts</em></strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, FormBuilder, FormArray } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-reactive-form',\n  templateUrl: './reactive-form.component.html',\n  styleUrls: ['./reactive-form.component.css']\n})\nexport class ReactiveFormComponent implements OnInit {\n\n  tasksDropDownSettings = {};\n  selectedTasks = [];\n\n  constructor(private fb: FormBuilder) { }\n\n  todoForm : FormGroup;\n  tasksData = [\n    {id: 1, taskName: \"Go for Jogging\"},\n    {id: 2, taskName: \"Complete the work\"},\n    {id: 3, taskName: \"Catch the bus\"},\n    {id: 4, taskName: \"Leave by 6\"}\n  ]\n\n  ngOnInit() {\n    this.todoForm = this.fb.group({\n      tasks: this.fb.array([this.fb.group({task:''})])\n    })\n\n    this.tasksDropDownSettings = {\n      singleSelection: true,\n      enableSearchFilter: true,\n      text: \"Select Primary Skill\",\n      showCheckbox: true,\n      labelKey: 'skillName',\n      selectAllText:'Select All',\n      unSelectAllText:'UnSelect All'\n    }\n\n\n  }\n\n  get tasks() {\n    return this.todoForm.get('tasks') as FormArray;\n  }\n\n  addTask() {\n    this.tasks.push(this.fb.group({task:''}));\n  }\n</code></pre>\n\n<p><strong>* form.component.html *</strong></p>\n\n<pre><code>&lt;form [formGroup] = \"todoForm\"&gt;\n\n  &lt;label&gt; Add tasks here &lt;/label&gt; &amp;nbsp;\n\n  &lt;div formArrayName = \"tasks\"&gt;\n[enter image description here][1]\n    &lt;div *ngFor=\"let item of tasks.controls; let taskIndex=index\" [formGroupName]=\"taskIndex\" (click) = \"onClick(tasks.controls)\"&gt;\n\n      &lt;angular2-multiselect [data] = \"tasksData\" \n        [(ngModel)] = \"selectedTasks\" \n        [settings] = \"tasksDropDownSettings\"\n        formControlName=\"task\"&gt;\n\n      &lt;/angular2-multiselect&gt;\n    &lt;/div&gt;\n\n  &lt;/div&gt;\n\n  &lt;button type = \"submit\" class = \"btn btn-submit\"&gt; Save &lt;/button&gt;\n\n\n  &lt;button (click) = \"addTask()\"&gt; Add Row &lt;/button&gt;\n\n&lt;/form&gt;\n\n\n&lt;pre&gt;{{ this.todoForm.value | json }}&lt;/pre&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular8", "fusioncharts"], "comments": [{"owner": {"reputation": 221, "user_id": 6426569, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/G7M4j.jpg?s=128&g=1", "display_name": "MukulSharma", "link": "https://stackoverflow.com/users/6426569/mukulsharma"}, "edited": false, "score": 0, "creation_date": 1576642417, "post_id": 59385293, "comment_id": 104962126, "body": "@praveen..in Module1.ts try same as Module2.ts ------import * as FusionCharts from &quot;fusioncharts&quot;;"}, {"owner": {"reputation": 21, "user_id": 5027179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PebWt.png?s=128&g=1", "display_name": "praveen marandi", "link": "https://stackoverflow.com/users/5027179/praveen-marandi"}, "reply_to_user": {"reputation": 221, "user_id": 6426569, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/G7M4j.jpg?s=128&g=1", "display_name": "MukulSharma", "link": "https://stackoverflow.com/users/6426569/mukulsharma"}, "edited": false, "score": 0, "creation_date": 1576643953, "post_id": 59385293, "comment_id": 104962401, "body": "@MukulSharma Sorry that was typing mistake. I have edited it."}, {"owner": {"reputation": 655, "user_id": 7404858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VUIjP.png?s=128&g=1", "display_name": "Zapdos13", "link": "https://stackoverflow.com/users/7404858/zapdos13"}, "edited": false, "score": 0, "creation_date": 1576835505, "post_id": 59385293, "comment_id": 105032593, "body": "Are you still facing the problem, here is a sandbox demo you can refer - <a href=\"https://codesandbox.io/s/ww2y9w1m0l\" rel=\"nofollow noreferrer\">codesandbox.io/s/ww2y9w1m0l</a>"}], "owner": {"reputation": 21, "user_id": 5027179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PebWt.png?s=128&g=1", "display_name": "praveen marandi", "link": "https://stackoverflow.com/users/5027179/praveen-marandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 760, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576643782, "creation_date": 1576641592, "last_edit_date": 1576643782, "question_id": 59385293, "link": "https://stackoverflow.com/questions/59385293/cannot-find-fusionchart-package-get-http-localhost4200-fusioncharts-charts-j", "title": "Cannot find fusionchart package. GET http://localhost:4200/fusioncharts.charts.js net::ERR_ABORTED 404 (Not Found)", "body": "<p><strong>Module1.module.ts</strong></p>\n\n<pre><code>//Adding fusion charts\nimport { FusionChartsModule } from 'angular-fusioncharts';\nimport * as FusionCharts from 'fusioncharts';\nimport * as Charts from 'fusioncharts/fusioncharts.charts';\nimport * as FusionTheme from 'fusioncharts/themes/fusioncharts.theme.fusion';\nimport * as Widgets from \"fusioncharts/fusioncharts.widgets\";\n//No error in this module\nFusionChartsModule.fcRoot(FusionCharts, Widgets, FusionTheme );\n</code></pre>\n\n<p><strong>Module2.module.ts</strong>   </p>\n\n<pre><code>    // Import angular-fusioncharts\n    import { FusionChartsModule } from \"angular-fusioncharts\";\n    // Import FusionCharts library and chart modules\n    import * as FusionCharts from \"fusioncharts\";\n    import * as Charts from \"fusioncharts/fusioncharts.charts\";\n    import * as FusionTheme from \"fusioncharts/themes/fusioncharts.theme.fusion\";\n    // Pass the fusioncharts library and chart modules\n    FusionChartsModule.fcRoot(FusionCharts, Charts, FusionTheme);\n\n   //Error in this module.\n    GET http://localhost:4200/fusioncharts.charts.js net::ERR_ABORTED 404 (Not Found)\n</code></pre>\n\n<p><strong>Inference</strong>.</p>\n\n<ol>\n<li>I have imported FusionChart at module level for each type of chart I wanted to use.</li>\n<li>Same level module imports interfere with each other.</li>\n<li>On changing <strong>Module1.module.ts to following.</strong></li>\n</ol>\n\n<p><strong>Module1.module.ts</strong>    </p>\n\n<pre><code>    //Adding fusion charts\n    import { FusionChartsModule } from 'angular-fusioncharts';\n    import * as FusionCharts from 'fusioncharts';\n    import * as Charts from 'fusioncharts/fusioncharts.charts';\n    import * as FusionTheme from 'fusioncharts/themes/fusioncharts.theme.fusion';\n    import * as Widgets from \"fusioncharts/fusioncharts.widgets\";\n    //Charts is added. Now 404 error in module2.module.ts is resolved\n    FusionChartsModule.fcRoot(FusionCharts, Widgets, Charts , FusionTheme );\n</code></pre>\n\n<p><strong>Can someone explain what should be the right approach to import FusionCharts in Angular?\nWhether to import all need charts in root module or import it as needed in respective modules?</strong></p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "single-page-application"], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576641831, "post_id": 59385280, "comment_id": 104962007, "body": "it only work with index.html file, what did I wanted it work for static file in assets section"}, {"owner": {"reputation": 686, "user_id": 12555595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a5a7ac6210821aeefa0bcdfda3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "laserany", "link": "https://stackoverflow.com/users/12555595/laserany"}, "reply_to_user": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576642225, "post_id": 59385280, "comment_id": 104962093, "body": "an easy workaround would be to copy the link from the bootstrap website however since it is inside your asset folder then perhaps your href is supposed to be &quot;../../../node_modules/bootstrap/dist/css/bootstrap.min.css&quot; instead? Edit: Also after you make these changes make sure you stop your server and close your command line/terminal then run again"}, {"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576642587, "post_id": 59385280, "comment_id": 104962149, "body": "I will consider use the CDN when I don&#39;t have any ways import from node_modules"}], "tags": [], "owner": {"reputation": 686, "user_id": 12555595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a5a7ac6210821aeefa0bcdfda3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "laserany", "link": "https://stackoverflow.com/users/12555595/laserany"}, "is_accepted": false, "score": 0, "last_activity_date": 1576641457, "creation_date": 1576641457, "answer_id": 59385280, "question_id": 59385235, "link": "https://stackoverflow.com/questions/59385235/angular-8-how-to-import-bootstrap-4-in-assets-static-files/59385280#59385280", "title": "Angular 8 - How to import bootstrap 4 in assets static files?", "body": "<p>add your bootstrap reference link to your styles property in your angular.json file</p>\n\n<p>example:</p>\n\n<pre><code>        \"styles\": [\n          \"src/styles.less\",\n          \"../node_modules/bootstrap/dist/css/bootstrap.min.css\"\n        ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576641920, "post_id": 59385305, "comment_id": 104962034, "body": "how I can use it direct in node_modules, I don&#39;t want to copy it on css folder. For include it in styles section, that way only work with index.html file(main), not work with static file"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576641965, "post_id": 59385305, "comment_id": 104962045, "body": "You can only do that by include in your angular.json like I just mention"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 0, "last_activity_date": 1576641698, "creation_date": 1576641698, "answer_id": 59385305, "question_id": 59385235, "link": "https://stackoverflow.com/questions/59385235/angular-8-how-to-import-bootstrap-4-in-assets-static-files/59385305#59385305", "title": "Angular 8 - How to import bootstrap 4 in assets static files?", "body": "<p>Put your css file inside your assets/css folder then change like this</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"./assets/css/bootstrap.min.css\"&gt;\n</code></pre>\n\n<p>Or include in your angular.json file</p>\n\n<pre><code> \"styles\": [\n          \"node_modules/bootstrap/dist/css/bootstrap.min.css\"\n        ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576642199, "post_id": 59385334, "comment_id": 104962087, "body": "oh, no no, it only work with index.html(main), not working with static file :D"}, {"owner": {"reputation": 295, "user_id": 10564312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cSXeZlCSnb8/AAAAAAAAAAI/AAAAAAAAAvc/t1lmuzVl_Zo/photo.jpg?sz=128", "display_name": "sanka sanjeewa", "link": "https://stackoverflow.com/users/10564312/sanka-sanjeewa"}, "reply_to_user": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576642529, "post_id": 59385334, "comment_id": 104962141, "body": "@Component({   selector: &#39;app-root&#39;,   templateUrl: &#39;./app.component.html&#39;,   styleUrls: [&#39;../../node_modules/bootstrap/dist/css/bootstrap.min.css&#39;] })                                                                                                                                 can you try this"}, {"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576642690, "post_id": 59385334, "comment_id": 104962167, "body": "It not a component, it is static page <code>browser-not-supported.html</code>"}, {"owner": {"reputation": 295, "user_id": 10564312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cSXeZlCSnb8/AAAAAAAAAAI/AAAAAAAAAvc/t1lmuzVl_Zo/photo.jpg?sz=128", "display_name": "sanka sanjeewa", "link": "https://stackoverflow.com/users/10564312/sanka-sanjeewa"}, "reply_to_user": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576646227, "post_id": 59385334, "comment_id": 104962895, "body": "create a new stylesheet file and import it into your html file and check whether it is working or not. if it is working, copy all codes from bootstrap.min.css to new stylesheet and try"}], "tags": [], "owner": {"reputation": 295, "user_id": 10564312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cSXeZlCSnb8/AAAAAAAAAAI/AAAAAAAAAvc/t1lmuzVl_Zo/photo.jpg?sz=128", "display_name": "sanka sanjeewa", "link": "https://stackoverflow.com/users/10564312/sanka-sanjeewa"}, "is_accepted": false, "score": 0, "last_activity_date": 1576642328, "last_edit_date": 1576642328, "creation_date": 1576642137, "answer_id": 59385334, "question_id": 59385235, "link": "https://stackoverflow.com/questions/59385235/angular-8-how-to-import-bootstrap-4-in-assets-static-files/59385334#59385334", "title": "Angular 8 - How to import bootstrap 4 in assets static files?", "body": "<p>1) install bootstrap</p>\n\n<pre><code>npm i bootstrap\n</code></pre>\n\n<p>2) edit \"style\" array which is in angular.json or .angular-cli.json</p>\n\n<pre><code>\"styles\": [\n          \"src/styles.less\",\n          \"node_modules/bootstrap/dist/css/bootstrap.min.css\"\n        ]\n</code></pre>\n\n<p>3) import again it into styles.less</p>\n\n<pre><code>@import \"~bootstrap/dist/css/bootstrap.css\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576642715, "post_id": 59385365, "comment_id": 104962171, "body": "Thanks, but that ways only work for index.html file"}, {"owner": {"reputation": 35, "user_id": 10655726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-erKRIcclaOY/AAAAAAAAAAI/AAAAAAAAAHU/xNOB6jMx5CQ/photo.jpg?sz=128", "display_name": "Arjun D Nair", "link": "https://stackoverflow.com/users/10655726/arjun-d-nair"}, "reply_to_user": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576659480, "post_id": 59385365, "comment_id": 104967483, "body": "@dangchithao, Angular is a single page application. All the other content gets rendered in index.html. So you don&#39;t need to import it to any other component, you can directly include bootstrap classes and it will be rendered perfectly."}, {"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576661319, "post_id": 59385365, "comment_id": 104968379, "body": "I need it work with static file which I declare in assets section browser-not-supported.html"}, {"owner": {"reputation": 35, "user_id": 10655726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-erKRIcclaOY/AAAAAAAAAAI/AAAAAAAAAHU/xNOB6jMx5CQ/photo.jpg?sz=128", "display_name": "Arjun D Nair", "link": "https://stackoverflow.com/users/10655726/arjun-d-nair"}, "reply_to_user": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576661810, "post_id": 59385365, "comment_id": 104968645, "body": "@dangchithao, try by adding it directly to the file as a CDN."}, {"owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576662860, "post_id": 59385365, "comment_id": 104969157, "body": "I said as comment above that I will consider use to CDN, but now I want to use it in node_module :D"}, {"owner": {"reputation": 35, "user_id": 10655726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-erKRIcclaOY/AAAAAAAAAAI/AAAAAAAAAHU/xNOB6jMx5CQ/photo.jpg?sz=128", "display_name": "Arjun D Nair", "link": "https://stackoverflow.com/users/10655726/arjun-d-nair"}, "reply_to_user": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "edited": false, "score": 0, "creation_date": 1576669095, "post_id": 59385365, "comment_id": 104972297, "body": "@dangchithao, if you want bootstrap in node_modules, you should install it using npm.For that you can use the command I&#39;ve given above."}], "tags": [], "owner": {"reputation": 35, "user_id": 10655726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-erKRIcclaOY/AAAAAAAAAAI/AAAAAAAAAHU/xNOB6jMx5CQ/photo.jpg?sz=128", "display_name": "Arjun D Nair", "link": "https://stackoverflow.com/users/10655726/arjun-d-nair"}, "is_accepted": false, "score": 0, "last_activity_date": 1576642381, "creation_date": 1576642381, "answer_id": 59385365, "question_id": 59385235, "link": "https://stackoverflow.com/questions/59385235/angular-8-how-to-import-bootstrap-4-in-assets-static-files/59385365#59385365", "title": "Angular 8 - How to import bootstrap 4 in assets static files?", "body": "<p>Try installing it using npm: </p>\n\n<p><code>npm install ngx-bootstrap bootstrap --save</code></p>\n\n<p>For more details visit: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/37649164/how-to-add-bootstrap-to-an-angular-cli-project\">How to add bootstrap to an angular-cli project</a></p>\n"}], "owner": {"reputation": 485, "user_id": 5141749, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/JB0IY.png?s=128&g=1", "display_name": "dangchithao", "link": "https://stackoverflow.com/users/5141749/dangchithao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1190, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1576642381, "creation_date": 1576641044, "last_edit_date": 1576641804, "question_id": 59385235, "link": "https://stackoverflow.com/questions/59385235/angular-8-how-to-import-bootstrap-4-in-assets-static-files", "title": "Angular 8 - How to import bootstrap 4 in assets static files?", "body": "<p>I am using the syntax for import bootstrap 4 library for static file</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../node_modules/bootstrap/dist/css/bootstrap.min.css\"&gt;\n</code></pre>\n\n<p>angular.json</p>\n\n<pre><code>{\n...\n\"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/angularapp\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"tsconfig.app.json\",\n            \"aot\": false,\n            \"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\",\n              \"src/browser-not-supported.html\"\n            ],\n            \"styles\": [\n              \"src/styles.less\"\n            ]\n            ...\n          }\n}\n...\n</code></pre>\n\n<p>browser-not-supported.html</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../node_modules/bootstrap/dist/css/bootstrap.min.css\"&gt;\n</code></pre>\n\n<p>Results:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fTUNF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTUNF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Dose anyone have same problem? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "html", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 19939, "user_id": 325727, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e098b1ade159310d7a4d6405eebd930a?s=128&d=identicon&r=PG&f=1", "display_name": "JK.", "link": "https://stackoverflow.com/users/325727/jk"}, "edited": false, "score": 0, "creation_date": 1576639728, "post_id": 59385055, "comment_id": 104961614, "body": "You can solve this by writing some code."}, {"owner": {"reputation": 149, "user_id": 12451924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a6db6cd13479923f7d30470305a250?s=128&d=identicon&r=PG&f=1", "display_name": "MenimE", "link": "https://stackoverflow.com/users/12451924/menime"}, "reply_to_user": {"reputation": 19939, "user_id": 325727, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e098b1ade159310d7a4d6405eebd930a?s=128&d=identicon&r=PG&f=1", "display_name": "JK.", "link": "https://stackoverflow.com/users/325727/jk"}, "edited": false, "score": 0, "creation_date": 1576639854, "post_id": 59385055, "comment_id": 104961642, "body": "My local machine has all the code but, alas, it dont work."}, {"owner": {"reputation": 908, "user_id": 4552354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31bc7bdc69e5faa1dddda0e484c716b?s=128&d=identicon&r=PG&f=1", "display_name": "Kari F.", "link": "https://stackoverflow.com/users/4552354/kari-f"}, "edited": false, "score": 0, "creation_date": 1576640067, "post_id": 59385055, "comment_id": 104961682, "body": "MenimE, I suggest you to look the examples in Angular documentation: <a href=\"https://angular.io/start/forms\" rel=\"nofollow noreferrer\">angular.io/start/forms</a>"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 12451924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a6db6cd13479923f7d30470305a250?s=128&d=identicon&r=PG&f=1", "display_name": "MenimE", "link": "https://stackoverflow.com/users/12451924/menime"}, "edited": false, "score": 0, "creation_date": 1576643893, "post_id": 59385238, "comment_id": 104962387, "body": "I have alerady done that, it shows the correct values. I cannot figure out how to operate on mergeObj to display data"}, {"owner": {"reputation": 908, "user_id": 4552354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31bc7bdc69e5faa1dddda0e484c716b?s=128&d=identicon&r=PG&f=1", "display_name": "Kari F.", "link": "https://stackoverflow.com/users/4552354/kari-f"}, "reply_to_user": {"reputation": 149, "user_id": 12451924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a6db6cd13479923f7d30470305a250?s=128&d=identicon&r=PG&f=1", "display_name": "MenimE", "link": "https://stackoverflow.com/users/12451924/menime"}, "edited": false, "score": 0, "creation_date": 1576644269, "post_id": 59385238, "comment_id": 104962468, "body": "Then I have to say I don&#39;t understand what&#39;s your real problem. That piece of code I posted displays the data contained in mergeObj."}, {"owner": {"reputation": 149, "user_id": 12451924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a6db6cd13479923f7d30470305a250?s=128&d=identicon&r=PG&f=1", "display_name": "MenimE", "link": "https://stackoverflow.com/users/12451924/menime"}, "edited": false, "score": 0, "creation_date": 1576644809, "post_id": 59385238, "comment_id": 104962579, "body": "Like I mentioned in the comments (line 83) in .ts file on stackblitz. Thats the requirement"}], "tags": [], "owner": {"reputation": 908, "user_id": 4552354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31bc7bdc69e5faa1dddda0e484c716b?s=128&d=identicon&r=PG&f=1", "display_name": "Kari F.", "link": "https://stackoverflow.com/users/4552354/kari-f"}, "is_accepted": true, "score": 1, "last_activity_date": 1576645990, "last_edit_date": 1576645990, "creation_date": 1576641053, "answer_id": 59385238, "question_id": 59385055, "link": "https://stackoverflow.com/questions/59385055/display-data-on-screen-based-on-the-values-selected-from-the-form/59385238#59385238", "title": "Display data on screen based on the values selected from the form", "body": "<p>I edited my answer based on your last comment. In the app.component.ts:</p>\n\n<pre><code>\n  showDummyData() {\n    this.selectedDummyData = this.dummyData.filter(a =&gt; a.processName === this.selected \n                                                  &amp;&amp; a.hiringTypeId === +this.selected1);\n  }\n\n</code></pre>\n\n<p>And in app.component.html:</p>\n\n<pre><code>   &lt;div *ngFor=\"let item of selectedDummyData\"&gt;\n     {{item.data[0].showName}}\n   &lt;/div&gt;\n</code></pre>\n\n<p>And here the Stackblitz based on your code: <a href=\"https://stackblitz.com/edit/angular-fpqbiv\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-fpqbiv</a></p>\n\n<p>Select the two radio buttons and click \"Show Selected Dummy Data\".</p>\n"}], "owner": {"reputation": 149, "user_id": 12451924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a6db6cd13479923f7d30470305a250?s=128&d=identicon&r=PG&f=1", "display_name": "MenimE", "link": "https://stackoverflow.com/users/12451924/menime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 59385238, "answer_count": 1, "score": 0, "last_activity_date": 1576645990, "creation_date": 1576639399, "question_id": 59385055, "link": "https://stackoverflow.com/questions/59385055/display-data-on-screen-based-on-the-values-selected-from-the-form", "title": "Display data on screen based on the values selected from the form", "body": "<p>I have to display the data on the screen based on the input received via radio buttons by applying certain conditions. I also need help with fetching the id of an object when the name attribute is selected from the radio button. Here is are the <strong>arrays of objects</strong></p>\n\n<pre><code>  arrayOfObjects = [\n    {hiringTypeName : \"lateral\", hiringTypeId :1,compCode : \"IB\", compId : 400},\n    {hiringTypeName : \"new\", hiringTypeId :2,compCode : \"IB\", compId : 401},\n    {hiringTypeName : \"lateral\", hiringTypeId :3,compCode : \"BITS\", compId : 402},\n    {hiringTypeName : \"new\", hiringTypeId :4,compCode : \"BITS\", compId : 403},\n  ]\n\n  moduleArray =[\n    {processName : \"offer\", processId : 1,data:[{\n      name : \"demo1\", \n      id : 1\n    }]},\n    {processName : \"hire\", processId : 2,data:[{\n      name : \"demo1\", \n      id : 1\n    }]}\n  ]\n</code></pre>\n\n<p>From a different API call i'll get the data from the server which will look like (*for refrence only)</p>\n\n<pre><code>  dummyData = [\n        {processName : \"offer\", \n         processId : 1,\n         hiringTypeId :1,\n         data:[{\n            showName : \"demo1\", showId : 1\n    }]},\n        {processName : \"hire\", \n        processId : 2,\n        hiringTypeId :1,\n        data:[{\n            showName : \"demo2\", showId : 1\n    }]},\n        {processName : \"offer\", \n        processId : 2,\n        hiringTypeId :3,\n        data:[{\n            showName : \"demo3\", showId : 1\n    }]},\n  ]\n</code></pre>\n\n<p>It will have processName, processId and companyHiringtypeId and each combination of these three will have a array of objects called 'data' associated with it. I want to display the showName in data on he screen based on the selection. </p>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/angular-hvatox\" rel=\"nofollow noreferrer\">stackblitz</a> that I have created with all the basic arrays and form made and <strong>described what I need in the comments in the .ts file.</strong> I have tried to keep the code as clean as I could and to the point. Please ask me for more clarification on the same. Thank You</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 928, "user_id": 10492635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212372067872099/picture?type=large", "display_name": "Gabor Szekely", "link": "https://stackoverflow.com/users/10492635/gabor-szekely"}, "edited": false, "score": 0, "creation_date": 1576637287, "post_id": 59384737, "comment_id": 104961188, "body": "Could you post your code and describe where the error is?"}, {"owner": {"reputation": 7276, "user_id": 5784924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LC3Oq.png?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5784924/nicolas"}, "edited": false, "score": 0, "creation_date": 1576637519, "post_id": 59384737, "comment_id": 104961240, "body": "Hi, could you add what you&#39;ve tried so far and what is not working ?"}, {"owner": {"reputation": 321, "user_id": 2278606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204b0d6be292a3d51049c38dcb633a6d?s=128&d=identicon&r=PG", "display_name": "hiad", "link": "https://stackoverflow.com/users/2278606/hiad"}, "edited": false, "score": 0, "creation_date": 1576637539, "post_id": 59384737, "comment_id": 104961243, "body": "Sorry I just have a component empty  like the NPM documentation"}, {"owner": {"reputation": 321, "user_id": 2278606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204b0d6be292a3d51049c38dcb633a6d?s=128&d=identicon&r=PG", "display_name": "hiad", "link": "https://stackoverflow.com/users/2278606/hiad"}, "edited": false, "score": 0, "creation_date": 1576637748, "post_id": 59384737, "comment_id": 104961283, "body": "I just need to handle the click"}, {"owner": {"reputation": 161, "user_id": 7300830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27962693c276801be5942f21e1a08e25?s=128&d=identicon&r=PG&f=1", "display_name": "Badri", "link": "https://stackoverflow.com/users/7300830/badri"}, "edited": false, "score": 0, "creation_date": 1583909515, "post_id": 59384737, "comment_id": 107266423, "body": "@hiad Is this work in angular 7?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11614152, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m9W0wkAq4J4/AAAAAAAAAAI/AAAAAAAAAAk/tAcKBL3FFCI/photo.jpg?sz=128", "display_name": "Avinash Kumar", "link": "https://stackoverflow.com/users/11614152/avinash-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1584127873, "creation_date": 1584127873, "answer_id": 60676276, "question_id": 59384737, "link": "https://stackoverflow.com/questions/59384737/angular-and-ng-image-slider/60676276#60676276", "title": "Angular and ng-image-slider", "body": "<p>Use this because imageClick is used as @output in ng-image-slide.\nIn html:</p>\n\n<pre><code>&lt;ng-image-slider [images]=\"canciones\" [imageSize]=\"{width: 400, height: 300, space: 4}\" (imageClick)=\"yourfunctionName($event)\"  #nav&gt;\n  &lt;/ng-image-slider&gt;\n\nIn ts:\nyourfunctionName(event){\nconsole.log(event)\n}\n</code></pre>\n\n<p>So, when you click on your image slide. It will return index of triggered slide.</p>\n"}], "owner": {"reputation": 321, "user_id": 2278606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204b0d6be292a3d51049c38dcb633a6d?s=128&d=identicon&r=PG", "display_name": "hiad", "link": "https://stackoverflow.com/users/2278606/hiad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2909, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1584127873, "creation_date": 1576636920, "last_edit_date": 1576639437, "question_id": 59384737, "link": "https://stackoverflow.com/questions/59384737/angular-and-ng-image-slider", "title": "Angular and ng-image-slider", "body": "<p>Does anywork work with ng-image-slider? I don't know how to handle property the imageClickFxn (@Output) inside my Component.ts file. </p>\n\n<p><a href=\"https://www.npmjs.com/package/ng-image-slider\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng-image-slider</a></p>\n\n<p>Could someone with me with that? I don't have any  code available, it's just an empty component. I need to handle the click behavior</p>\n\n<p>Thanks</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, Input, Output } from \"@angular/core\";\r\nimport { Cancion } from \"src/app/modelos/cancion\";\r\nimport { CompartidoService } from \"src/app/servicios/compartido.service\";\r\nimport { CancionService } from \"src/app/servicios/cancion.service\";\r\n\r\n@Component({\r\n  selector: 'app-peliculas-carousel',\r\n  templateUrl: './peliculas-carousel.component.html',\r\n  styleUrls: ['./peliculas-carousel.component.css']\r\n})\r\nexport class PeliculasCarouselComponent implements OnInit {\r\n  images;\r\n  title: string;\r\n  canciones: any;\r\n  cancionesAll: any;\r\n  existenCanciones;\r\n\r\n  \r\n  @Input('imageSize') public imageSize: object;\r\n  @Input('tipo') public tipo: string;\r\n  @Input('genero') public genero: string;\r\n  @Output() imageClick = this.imageClickFxn();\r\n\r\n  constructor(\r\n      private _servicioCompartido: CompartidoService,\r\n      private _cancionService: CancionService\r\n  ) {\r\n    this.imageSize = {width: 400, height: 300, space: 4}; \r\n    this.existenCanciones = false;\r\n    this._servicioCompartido.cancionesEmitida.subscribe(token =&gt; {\r\n      this.search(token);\r\n    });\r\n  }\r\n\r\n  imageClickFxn(){\r\n    console.log('event has been fired');\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.images = this.cargarCanciones(this.tipo, this.genero);\r\n  }\r\n\r\n  cargarCanciones(tipo:string , genero:string) {\r\n    this._cancionService.buscarCanciones(tipo, genero).subscribe(\r\n      (response: any) =&gt; {\r\n        if (response.canciones) {\r\n          const videos = response.canciones;\r\n          this.canciones =videos.map((video) =&gt; {\r\n            return {\r\n              title: video.titulo,\r\n              video: 'http://youtube.com/watch?v=' + video.archivo,\r\n            };\r\n          });\r\n          this.existenCanciones = true;\r\n        }\r\n        this.cancionesAll = this.canciones;\r\n      },\r\n      error =&gt; {\r\n        if (error != null) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  \r\n  search(token) {\r\n    const regex = new RegExp(token);\r\n    this.canciones = [];\r\n    this.cancionesAll.forEach(cancion =&gt; {\r\n      if ((cancion.title &amp;&amp; cancion.title.match(regex)!=null) || this.genero.match(regex) != null) {\r\n        this.canciones.push(cancion);\r\n      }\r\n    });\r\n  }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div *ngIf=\"canciones.length &gt; 0\"&gt;\r\n  &lt;h3&gt;{{genero}}&lt;/h3&gt;\r\n  &lt;ng-image-slider [images]=\"canciones\" [imageSize]=\"{width: 400, height: 300, space: 4}\" #nav&gt;\r\n  &lt;/ng-image-slider&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "nestjs", "typeorm"], "comments": [{"owner": {"reputation": 2284, "user_id": 2711978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hhScw.jpg?s=128&g=1", "display_name": "Preston", "link": "https://stackoverflow.com/users/2711978/preston"}, "edited": false, "score": 0, "creation_date": 1576638790, "post_id": 59384728, "comment_id": 104961428, "body": "I&#39;ve had to manually remove old tables when I change the names."}], "answers": [{"comments": [{"owner": {"reputation": 1310, "user_id": 8974088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921039aaecb78df1633b409fdde396d7?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8974088/james"}, "edited": false, "score": 0, "creation_date": 1615668957, "post_id": 59384801, "comment_id": 117764818, "body": "To add to this, TypeORM doesn&#39;t preserve a state so you&#39;ll have to manually remove tables."}], "tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": false, "score": 4, "last_activity_date": 1576637460, "creation_date": 1576637460, "answer_id": 59384801, "question_id": 59384728, "link": "https://stackoverflow.com/questions/59384728/why-does-typeorm-create-a-table-for-a-deleted-class-in-nestjs/59384801#59384801", "title": "Why does typeorm create a table for a deleted class in nestjs", "body": "<p>Remove your dist and restart your server. More than likely something was incorrectly cached.</p>\n"}], "owner": {"reputation": 11, "user_id": 6337586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96819b94e426e85e01e46f1f1c877db4?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Apte", "link": "https://stackoverflow.com/users/6337586/rohit-apte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576637460, "creation_date": 1576636808, "question_id": 59384728, "link": "https://stackoverflow.com/questions/59384728/why-does-typeorm-create-a-table-for-a-deleted-class-in-nestjs", "title": "Why does typeorm create a table for a deleted class in nestjs", "body": "<p>I am a beginner at nestjs building a small back end app. I had initially defined a user class which led to the creation of a table called user. I have subsequently deleted all those files and created a new class called people.\nNow, when I run my code nestjs creates 2 tables - user and people.\nThe code is working correctly in that the people table is populated correctly.\nHow do I get it to stop creating the other table?</p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "edited": false, "score": 1, "creation_date": 1576636103, "post_id": 59384628, "comment_id": 104960969, "body": "in the delete block you dont return anything so you end up with the current state, also <code>forEach</code> doesnt return anything"}, {"owner": {"reputation": 367, "user_id": 9924814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f8086d3113081b96987b046d99294b?s=128&d=identicon&r=PG&f=1", "display_name": "plat123456789", "link": "https://stackoverflow.com/users/9924814/plat123456789"}, "edited": false, "score": 0, "creation_date": 1576636140, "post_id": 59384628, "comment_id": 104960975, "body": "i don&#39;t see you return any new state inside the the delete case"}, {"owner": {"reputation": 309, "user_id": 3475758, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1546626145609478/picture?type=large", "display_name": "Ahmed Magdy", "link": "https://stackoverflow.com/users/3475758/ahmed-magdy"}, "reply_to_user": {"reputation": 367, "user_id": 9924814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f8086d3113081b96987b046d99294b?s=128&d=identicon&r=PG&f=1", "display_name": "plat123456789", "link": "https://stackoverflow.com/users/9924814/plat123456789"}, "edited": false, "score": 0, "creation_date": 1576636273, "post_id": 59384628, "comment_id": 104960997, "body": "@plat123456789 when I try to return the new state, it gives me a nasty error that no overload matches this call and that type Todo[][] cannot be assigned to type Category[]  how can I return the same array of categories but with the updates?"}, {"owner": {"reputation": 309, "user_id": 3475758, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1546626145609478/picture?type=large", "display_name": "Ahmed Magdy", "link": "https://stackoverflow.com/users/3475758/ahmed-magdy"}, "reply_to_user": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "edited": false, "score": 0, "creation_date": 1576636311, "post_id": 59384628, "comment_id": 104961000, "body": "@AsafAviv I used map and it doesn&#39;t work too. Check the below comment please."}, {"owner": {"reputation": 367, "user_id": 9924814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f8086d3113081b96987b046d99294b?s=128&d=identicon&r=PG&f=1", "display_name": "plat123456789", "link": "https://stackoverflow.com/users/9924814/plat123456789"}, "edited": false, "score": 0, "creation_date": 1576636671, "post_id": 59384628, "comment_id": 104961065, "body": "@Ahmed Magdy, ok, as you mention, the problem now is type of the state don&#39;t match between the original state and the new state you try to set, the question above doesn&#39;t include the state interface."}, {"owner": {"reputation": 309, "user_id": 3475758, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1546626145609478/picture?type=large", "display_name": "Ahmed Magdy", "link": "https://stackoverflow.com/users/3475758/ahmed-magdy"}, "reply_to_user": {"reputation": 367, "user_id": 9924814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f8086d3113081b96987b046d99294b?s=128&d=identicon&r=PG&f=1", "display_name": "plat123456789", "link": "https://stackoverflow.com/users/9924814/plat123456789"}, "edited": false, "score": 0, "creation_date": 1576636760, "post_id": 59384628, "comment_id": 104961082, "body": "@plat123456789  The state interface is simple. It is just a an array of categories. ` export interface ReduxStoreState {     categories: Category[]; } `  How do I make sure the type of the new state I return matches the old state type."}], "answers": [{"tags": [], "owner": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "is_accepted": false, "score": 1, "last_activity_date": 1576648691, "last_edit_date": 1576648691, "creation_date": 1576636792, "answer_id": 59384726, "question_id": 59384628, "link": "https://stackoverflow.com/questions/59384628/delete-an-item-from-an-array-that-is-inside-an-object-redux-typescript-react/59384726#59384726", "title": "Delete an item from an Array that is inside an object (redux/typescript/react)", "body": "<p>I would suggest to return the category name or better the category index with the id in the payload of <code>deleteTodo</code> action.</p>\n\n<p>in the current state of your code this is one of the solutions</p>\n\n<pre><code>const categoriesReducer = (state: Category[] = [], action: Action) =&gt; {\n  switch (action.type) {\n    case 'GET_ALL_CATEGORIES':\n      return action.payload\n    case 'DELETE_A_TODO': {\n      const { id } = action.payload\n      const categoryIndex = state\n        .findIndex(category =&gt; category.todos.some(todo =&gt; todo.id === id))\n\n      return state.map((category, i) =&gt; i === categoryIndex\n        ? {\n            ...category,\n            todos: category.todos.filter(todo =&gt; todo.id !== id),\n          }\n        : category\n      )\n    }\n    default:\n      return state\n  }\n}\n</code></pre>\n\n<p>Now if you return the category index together with the id, we don't need to iterate through every todos array to find the id</p>\n\n<pre><code>export const deleteTodo = (id: number, categoryIndex: number) =&gt; {\n  return {\n    type: 'DELETE_A_TODO',\n    payload: { id, categoryIndex }\n  }\n}\n\nconst categoriesReducer = (state: Category[] = [], action: Action) =&gt; {\n  switch (action.type) {\n    case 'GET_ALL_CATEGORIES':\n      return action.payload\n    case 'DELETE_A_TODO': {\n      const { id, categoryIndex } = action.payload\n\n      return state.map((category, i) =&gt; i === categoryIndex\n        ? {\n            ...category,\n            todos: category.todos.filter(todo =&gt; todo.id !== id),\n          }\n        : category\n      )\n    }\n    default:\n      return state\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "edited": false, "score": 0, "creation_date": 1576636989, "post_id": 59384742, "comment_id": 104961120, "body": "<code>forEach</code> returns <code>undefined</code>"}, {"owner": {"reputation": 631, "user_id": 4172742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XwWtc.jpg?s=128&g=1", "display_name": "Pengson", "link": "https://stackoverflow.com/users/4172742/pengson"}, "reply_to_user": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "edited": false, "score": 0, "creation_date": 1576637105, "post_id": 59384742, "comment_id": 104961150, "body": "@AsafAviv Thanks, never noticed the forEach usage in the old code."}, {"owner": {"reputation": 631, "user_id": 4172742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XwWtc.jpg?s=128&g=1", "display_name": "Pengson", "link": "https://stackoverflow.com/users/4172742/pengson"}, "reply_to_user": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "edited": false, "score": 0, "creation_date": 1576637955, "post_id": 59384742, "comment_id": 104961310, "body": "@AsafAviv It is required to traversing the category and todos then find the target. The only thing I think could be improved is using immutable data instead of constructing every detail of object each time.  Your code does it well since it achieves part of this work. But I still recommend you to use any immutable lib to make sure it&#39;s safe enough."}, {"owner": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "edited": false, "score": 0, "creation_date": 1576638402, "post_id": 59384742, "comment_id": 104961376, "body": "Right now you are traversing every todos array on every update even if it&#39;s the first item inside the first category object even though in this case it probably doesn&#39;t matter because it&#39;s small. your solution is more elegant then my solution in this case but a better solution will be to just pass the category index in the payload then we can just iterate over the todos array that contains the todo instead of searching the todo in every todos array to find it."}], "tags": [], "owner": {"reputation": 631, "user_id": 4172742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XwWtc.jpg?s=128&g=1", "display_name": "Pengson", "link": "https://stackoverflow.com/users/4172742/pengson"}, "is_accepted": true, "score": 2, "last_activity_date": 1576637015, "last_edit_date": 1576637015, "creation_date": 1576636953, "answer_id": 59384742, "question_id": 59384628, "link": "https://stackoverflow.com/questions/59384628/delete-an-item-from-an-array-that-is-inside-an-object-redux-typescript-react/59384742#59384742", "title": "Delete an item from an Array that is inside an object (redux/typescript/react)", "body": "<p>Replace </p>\n\n<pre><code>state.forEach(category =&gt; {\n    return category.todos.filter(\n        todo =&gt; todo.id !== action.payload.id\n    );\n});\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>\nreturn state.map(category =&gt; {\n  return {\n    ...category,\n    todos: category.todos.filter(todo =&gt; todo.id !== action.payload.id)\n  }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 10492635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212372067872099/picture?type=large", "display_name": "Gabor Szekely", "link": "https://stackoverflow.com/users/10492635/gabor-szekely"}, "is_accepted": false, "score": 1, "last_activity_date": 1576637151, "creation_date": 1576637151, "answer_id": 59384767, "question_id": 59384628, "link": "https://stackoverflow.com/questions/59384628/delete-an-item-from-an-array-that-is-inside-an-object-redux-typescript-react/59384767#59384767", "title": "Delete an item from an Array that is inside an object (redux/typescript/react)", "body": "<p>Calling the forEach method does not actually return a new array in your DELETE case, and you are also not returning a new state object, hence the issue. </p>\n\n<p>You need to map over your state and return new category objects with updated todo arrays. This can be achieved using the following code:</p>\n\n<pre><code>case 'DELETE_A_TODO':\n    return state.map(category =&gt; {\n        return {\n            ...category,\n            todos: category.todos.filter(\n                todo =&gt; todo.id !== action.payload.id\n            )\n        };\n    });\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 309, "user_id": 3475758, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1546626145609478/picture?type=large", "display_name": "Ahmed Magdy", "link": "https://stackoverflow.com/users/3475758/ahmed-magdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 59384742, "answer_count": 3, "score": 0, "last_activity_date": 1576648691, "creation_date": 1576635883, "question_id": 59384628, "link": "https://stackoverflow.com/questions/59384628/delete-an-item-from-an-array-that-is-inside-an-object-redux-typescript-react", "title": "Delete an item from an Array that is inside an object (redux/typescript/react)", "body": "<p>I am using a local json file to store some data as the follows:</p>\n\n<pre><code>[\n    {\n        \"name\": \"Sports\",\n        \"todos\": [\n            {\n                \"id\": 1,\n                \"title\": \"Play Football\"\n            },\n            {\n                \"id\": 2,\n                \"title\": \"Play Basketball\"\n            }\n        ]\n    },\n    {\n        \"name\": \"Work\",\n        \"todos\": [\n            {\n                \"id\": 3,\n                \"title\": \"Study TS\"\n            },\n            {\n                \"id\": 4,\n                \"title\": \"Work Hard\"\n            }\n        ]\n    }\n    ]\n</code></pre>\n\n<p>I made a reducer that takes the two categories above and actually display all these data on the component page. </p>\n\n<p>I am now trying to create another reducer that deletes a certain item from within the todos array that is within each category but I am failing. Here are the actions and the reducers I created so far</p>\n\n<pre><code>// actions\n\nexport const getCategories = () =&gt; {\n    return async (dispatch: Dispatch) =&gt; {\n        const response = await axios.get&lt;Category[]&gt;(url);\n\n        dispatch({\n            type: 'GET_ALL_CATEGORIES',\n            payload: response.data\n        });\n    };\n};\n\nexport const deleteTodo = (id: number) =&gt; {\n    return {\n        type: 'DELETE_A_TODO',\n        payload: { id }\n    };\n};\n\n// reducers\nconst categoriesReducer = (state: Category[] = [], action: Action) =&gt; {\n    switch (action.type) {\n        case 'GET_ALL_CATEGORIES':\n            return action.payload;\n        case 'DELETE_A_TODO':\n            state.forEach(category =&gt; {\n                return category.todos.filter(\n                    todo =&gt; todo.id !== action.payload.id\n                );\n            });\n        default:\n            return state;\n    }\n};\n\nexport const reducers = combineReducers&lt;ReduxStoreState&gt;({\n    categories: categoriesReducer\n});\n</code></pre>\n\n<p>Then inside the component I wired up the deleteTodo action successfully but nothing gets deleted, there is no difference in the state.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["typescript", "random"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1576634115, "post_id": 59384409, "comment_id": 104960617, "body": "<code>=</code> is an assignment operator, <code>===</code> is a comparison operator"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576634123, "post_id": 59384409, "comment_id": 104960620, "body": "Please consider editing this code to constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as described in <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  Ideally it would be something you could drop into a standalone IDE like <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">the Playground</a> and it would demonstrate your issue.  As it stands you have undeclared variables like <code>getRandom</code>, <code>storeRandom</code>, and <code>a</code>.  Good luck!"}, {"owner": {"reputation": 37, "user_id": 3633433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733934756/picture?type=large", "display_name": "Philip Chow", "link": "https://stackoverflow.com/users/3633433/philip-chow"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576639135, "post_id": 59384409, "comment_id": 104961488, "body": "@jcalz getRandom, storeRandom, and a. is just a example variable name that I declare, it won&#39;t affect the entire flow of the code"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576640684, "post_id": 59384409, "comment_id": 104961803, "body": "The example code <a href=\"https://www.typescriptlang.org/play/#code/OYUwLgSghgdgJgewLYAIC8KoDoBmBLeaeZACgAYAaARgEoBuAWACgBnMBAJxCMVQ1EixedFCmbMcAVxgBjMHgQwAgiRooA3s1Eo8OFCTaduQ5OgxkamptpszFLBABsQWRwmAkARGU-0togF9mIKYJaTkFGAAhVSsbXX1DLh5TNAxaOJttOxgHZ1d3LypfRmttEICgA\" rel=\"nofollow noreferrer\">is full of errors</a>.  If you want help, you should consider fixing it.  I&#39;m not even sure what your question is, unfortunately.  Is it &quot;can I call a function once, save its result in a variable, and use the result multiple times later?&quot;  If so, the answer is &quot;yes&quot;.  But without a clear question and useful example code I can&#39;t advise more."}], "answers": [{"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 0, "last_activity_date": 1576666607, "creation_date": 1576666607, "answer_id": 59390529, "question_id": 59384409, "link": "https://stackoverflow.com/questions/59384409/make-two-functions-use-the-same-number-generated-by-findrandom-in-typescript/59390529#59390529", "title": "Make two functions use the same number (generated by findRandom) in Typescript", "body": "<p>What i understand what you need is - private function constant/ internal function state. You need to somehow store in both function the same one value. In functional programming state can be easily implemented by <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\" rel=\"nofollow noreferrer\">closures</a>. </p>\n\n<blockquote>\n  <p>A closure is the combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment). In other words, a closure gives you access to an outer function\u2019s scope from an inner function. In JavaScript, closures are created every time a function is created, at function creation time.</p>\n</blockquote>\n\n<p>We can by using closures pass to both functions closures the same value. Consider:</p>\n\n<pre><code>// makeFunctionA creates a function with lexical scope containing v\nfunction makeFunctionA(v: number) {\n  // very important returning a function\n  return () =&gt; {\n    console.log(v);\n    return v;\n  }\n}\nfunction makeFunctionB(v: number) {\n  return () =&gt; {\n    console.log(v);\n    return v;\n  }\n}\n\nconst randomNumber = 1 // here call some random generator, 1 here only for as an example\nconst functionA = makeFunctionA(randomNumber); // make function with closure containing value\nconst functionB = makeFunctionB(randomNumber); // make function with closure containing value\n\nfunctionA() === functionB() // the equation is true both share the same value\n</code></pre>\n\n<p>After that both functions can be called in any place of the codebase, but the value visible for them will stay the same.</p>\n"}], "owner": {"reputation": 37, "user_id": 3633433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733934756/picture?type=large", "display_name": "Philip Chow", "link": "https://stackoverflow.com/users/3633433/philip-chow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576666607, "creation_date": 1576633657, "last_edit_date": 1576639200, "question_id": 59384409, "link": "https://stackoverflow.com/questions/59384409/make-two-functions-use-the-same-number-generated-by-findrandom-in-typescript", "title": "Make two functions use the same number (generated by findRandom) in Typescript", "body": "<p>The problem now I'm facing is functions call findRandom twice and get two different value at the end. How to make findRandom randomly pick a number and store it at storeRandom where the number will be unchanged. </p>\n\n<p>Expected result: all the functions share the same number or value.  </p>\n\n<pre><code>getRandom = a.findRandom(0,1);\nstoreRandom = getRandom; \n\nfunctionA() {\n   if (storeRandom == 0){\n       console.log(\"0\");\n   }\n}\n\nfunctionB(){\n    if (storeRandom == 1){\n        console.log(\"1\");\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "ecmascript-6", "interface"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1576635415, "post_id": 59384359, "comment_id": 104960825, "body": "Because that&#39;s object literal syntax, not <code>class</code> syntax."}], "answers": [{"tags": [], "owner": {"reputation": 686, "user_id": 12555595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a5a7ac6210821aeefa0bcdfda3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "laserany", "link": "https://stackoverflow.com/users/12555595/laserany"}, "is_accepted": false, "score": 0, "last_activity_date": 1576634958, "creation_date": 1576634958, "answer_id": 59384544, "question_id": 59384359, "link": "https://stackoverflow.com/questions/59384359/es6-typescript-implementing-method-with-nested-typed-return-object-not-working/59384544#59384544", "title": "ES6 typescript implementing method with nested typed return object not working. Property or signature expected", "body": "<p>there is actually another error which is that you were returning a {} and not a QueryResponse(see my solution below). Regarding the error you mentioned for the property or signature requested it can be fixed by adding a ! after query.</p>\n\n<p>Replace your Rest Class with the following</p>\n\n<pre><code>class Rest implements RestService\n{\n    query!: (criteria: RestCriteria) =&gt; {\n        metaData: {\n            page: 1,\n            pageSize: 1,\n            totalRecords: 1\n        },\n        records: []\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 0, "last_activity_date": 1576635364, "creation_date": 1576635364, "answer_id": 59384576, "question_id": 59384359, "link": "https://stackoverflow.com/questions/59384359/es6-typescript-implementing-method-with-nested-typed-return-object-not-working/59384576#59384576", "title": "ES6 typescript implementing method with nested typed return object not working. Property or signature expected", "body": "<p>In the syntax</p>\n\n<pre><code>class Foo {\n  prop: X;\n}\n</code></pre>\n\n<p><code>X</code> is the annotated <em>type</em> of the <code>prop</code> property; it is not a <em>value</em> of the <code>prop</code> property.  If you want to initialize a property, you should use the syntax</p>\n\n<pre><code>class Foo {\n  prop = Y;\n}\n</code></pre>\n\n<p>where <code>Y</code> is now the initial <em>value</em> of the property.  You can both annotate and initialize if you want, like</p>\n\n<pre><code>class Foo {\n  prop: X = Y;\n}\n</code></pre>\n\n<p>Anyway, in your code, you've got <code>query</code> as your property, and it looks like you are trying to initialize it... but you're using the annotation syntax.  Thus the compiler tries to interpret <code>(criteria: RestCriteria) =&gt; { return { ...</code> as a <em>type</em>, and gets very unhappy when it sees <code>return</code>.  One possible solution here is to change <code>:</code> to <code>=</code>, like this:</p>\n\n<pre><code>class Rest implements RestService {\n    query = (criteria: RestCriteria): QueryResponse =&gt; {\n        return {\n            metaData: {\n                page: 1,\n                pageSize: 1,\n                totalRecords: 1\n            },\n            records: []\n        }\n    };\n}\n</code></pre>\n\n<p>Note that if you <em>only</em> change <code>:</code> to <code>=</code> you'll get another error because of a <a href=\"https://github.com/microsoft/TypeScript/issues/3667\" rel=\"nofollow noreferrer\">longstanding design limitation in TypeScript, microsoft/TypeScript#3667,</a> in which the compiler does not look at what a class <code>implements</code> or <code>extends</code> to contextually type its properties.  The way around this is with more annotation, so that's why I have the arrow function annotate both the input and output type (that is, I changed it from <code>(param: InputType) =&gt; valueOfOutputType</code> to <code>(param: InputType): OutputType =&gt; valueOfOutputType</code>).</p>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBASwHY2FAZgQwMbDgJWAGcYBhKBVCzOAbwFgAoOFuMTAc2AC44kBXALYAjNABomrNp2ABlBAC8efIaKhMAvkyahIsRCjRZcBYpCRFgAWWAxMAEUx26k1uy68BI8a5bu5ispeahLMrDAQdgA2hNjQACZEnqpomtqMutDwyFTGeACK-GgAnoRE5pYuYSyCtg5OmLxlFdZ1jnahUlDAcVCJvADaALppjDrgWQa5OHhlMLJoAG4IJgzVcACORVDFvAAU2BRUCI2mJOSUaCcAlHAAvAB8cIUlzRAWwKFaY4zYUZhEIhnbKCMBRYC1FBAuYLKDLVa+TbbYr3OAHI5XU5zC7HTDXXgvHZvD73J5rKRdWz8KBIKoU+lwWp2dqnckM9n+XgARk67IZ-nkSm5vL5FIi0ViCSScC5iPZGhFfO6vX6cGGctY3ykGgA3KMgA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 9464, "user_id": 1380406, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sqyTS.jpg?s=128&g=1", "display_name": "cosbor11", "link": "https://stackoverflow.com/users/1380406/cosbor11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576635364, "creation_date": 1576633010, "question_id": 59384359, "link": "https://stackoverflow.com/questions/59384359/es6-typescript-implementing-method-with-nested-typed-return-object-not-working", "title": "ES6 typescript implementing method with nested typed return object not working. Property or signature expected", "body": "<p>What rule of inheritance or syntax oversight am I missing?</p>\n\n<p>This appears like it should work for me, however, I am getting error saying, \"Property or signature expected.\"</p>\n\n<pre><code>\nexport interface RestCriteria {\n    page: number,\n    pageSize: number\n}\n\nexport interface ResponseMetaData {\n    page: number,\n    pageSize: number,\n    totalRecords: number\n}\n\nexport interface QueryResponse {\n    metaData: ResponseMetaData,\n    records: []\n}\n\nexport interface RestService {\n\n    query: (criteria: RestCriteria) =&gt; QueryResponse,\n\n}\n\nclass Rest implements RestService\n{\n    query: (criteria: RestCriteria)  =&gt; { //why is this not valid??\n        return {\n            metaData: {\n                page: 1,\n                pageSize: 1,\n                totalRecords: 1\n            },\n            records: []\n        }\n    };\n}\n\nexport default Rest;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576635798, "post_id": 59384319, "comment_id": 104960898, "body": "Could you do <a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABBATgUwIZTQHgIKJoAe2YAJgM6IZgCeA2gLoA0iASgHwAUAsAFCJByKHBQAuRGDQB3RFwB0ijCgDmFCXgCUiALwd2zfkMSL5ytRv6aJbRAG8jQ9FBAokU2dFEKlqipv4AX35+CAAbDAoqADE4OBwAFX17R0EIBAooFBAvFC4AB2UMAFsJBO07RGC+av4AejrEAHkAa1CMqERgOIBGXWR0LDQuWLhWHs0AbnawTK64gCZ+1ExsHHowEGKAIzQUFkRRnE2dvY5uUdZKsDgoCQByDEkt3ZR7qqnEBsIUFFEgA\" rel=\"nofollow noreferrer\">this</a> instead? It uses <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#higher-order-type-inference-from-generic-functions\" rel=\"nofollow noreferrer\">higher order function inference in TS3.4+</a> but the type parameters differ."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576635809, "post_id": 59384319, "comment_id": 104960899, "body": "If it meets your needs I can write it up as an answer."}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576692360, "post_id": 59384319, "comment_id": 104984704, "body": "Thanks for taking a look. I&#39;m trying to avoid explicitly typing out the constructor&#39;s argument types. The argument list can get pretty long in real code and explicitly typing it out in multiple places would make refactoring difficult"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576692971, "post_id": 59384319, "comment_id": 104984976, "body": "I&#39;m not sure why you want to specify the generics in the function call at all.  If you expect the function to return a <code>Foo&lt;number&gt;</code> then you can annotate that and see an error if you don&#39;t pass the right thing, like <a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABBATgUwIZTQHgIKJoAe2YAJgM6IZgCeA2gLoA0iASgHwAUAsAFCJByKHBQAuRGDQB3RFwB0ijCgDmFCXgCUiALwd2zfkMSL5ytRv6aJbRAG8jQ9FBAokU2dFEKlqipv4AX35+CAAbDAoqADE4OBwAFX17R0EIBAooFBAvFC4ABxAAIzCYCER85QwAWwkE7TtEYL5m0IyoRGA4gDkQWsRY+LA+orQUfR1kdCw0LkHWRrA4KAkAcgxJEbHVps0AbkQAekPCFBRREL4gA\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576693300, "post_id": 59384319, "comment_id": 104985127, "body": "There&#39;s also <a href=\"https://www.typescriptlang.org/play/#code/MYGwhgzhAEBiD28A8AVAfNaBvAsAKE02HgDsIAXAJwFdhz5KAKAB2oCMQBLYaZsSsAFsAXNBQBKbNAC++WXnzEy5aMGqVKnAKYATAMKUtYclugBeaEgBKaRpLNp8hSwEFoWgB4mSOmGBIAngDaALq2dAyiJFoA7tCMAHRJ-ADmEKIu9hhWADTQSQmp6dCZ5hjRcRFMBUXiANz4iqQU0ABmiOaq6pq6BkYmSAjIJNSCbFqUaLbijEN5AIwATADM9dAA9OvQ8ADWYAFNym2Ii51qGtr6hsZag4hII2MTU3aziHlY0CTw5KIA5GAvqNxpQ-jI1pt3BoGI08EA\" rel=\"nofollow noreferrer\">generic currying</a> but that is probably less useful than just the annotation from my last comment."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1579227421, "creation_date": 1579227421, "answer_id": 59780342, "question_id": 59384319, "link": "https://stackoverflow.com/questions/59384319/typescript-get-typeof-generic-constructor/59780342#59780342", "title": "TypeScript: get typeof generic constructor", "body": "<p>The <code>create()</code> function should probably be generic in the argument list <code>A</code> to the constructor, as well as the constructed instance type <code>R</code>. This takes advantage of <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#higher-order-type-inference-from-generic-functions\" rel=\"noreferrer\">higher order type inference</a> that was introduced in TypeScript 3.4.</p>\n\n<pre><code>function create&lt;A extends any[], R&gt;(\n    ctor: new (...args: A) =&gt; R,\n    ...args: A\n): R {\n    return new ctor(...args)\n}\n</code></pre>\n\n<p>From there, the question is how to specify the types so that you will ask for a <code>Foo&lt;number&gt;</code> and get some sort of error if your parameter is not correct.  One way to do this is to manually specify the generic parameters:</p>\n\n<pre><code>// Specify generics\nconst fooSpecifiedGood = create&lt;[number], Foo&lt;number&gt;&gt;(Foo, 123); // okay\nconst fooSpecifiedBad = create&lt;[number], Foo&lt;number&gt;&gt;(Foo, { not: 'a number' }); // error\n</code></pre>\n\n<p>That works.  If, as you mentioned, your constructor parameter list is too long or complicated to write out, then I'd suggest just annotating the type of a variable to which you save the returned instance, like this:</p>\n\n<pre><code>// Just annotate the variable you're writing to\nconst fooAnnotatedGood: Foo&lt;number&gt; = create(Foo, 123); // okay\nconst fooAnnotatedBad: Foo&lt;number&gt; = create(Foo, { not: 'a number' }); // error\n</code></pre>\n\n<p>Now possibly you'd prefer being able to call <code>create&lt;Foo&lt;number&gt;&gt;(Foo, 123)</code> where you manually specify the <code>R</code> parameter as <code>Foo&lt;number&gt;</code>, but let the compiler <em>infer</em> the <code>A</code> parameter.  Unfortunately TypeScript doesn't currently support such <a href=\"https://github.com/microsoft/TypeScript/issues/26242\" rel=\"noreferrer\">partial type parameter inference</a>.  For any given generic function call, either you can manually specify all the type parameters, or you can let the compiler infer all the type parameters, and that's basically it (<a href=\"http://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html#generic-parameter-defaults\" rel=\"noreferrer\">type parameter defaults</a> complicate the story a bit but it still doesn't give you this ability).  One workaround for this is to use <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"noreferrer\">currying</a> to take a single function like <code>&lt;A, R&gt;()=&gt;...</code> and turn it into a higher order function like <code>&lt;A&gt;()=&gt;&lt;R&gt;()=&gt;...</code>.  Applying this technique to <code>create()</code> gives you this:</p>\n\n<pre><code>// Or get a curried creator function that lets you use specify the instance type\n// while allowing the compiler to infer the compiler args\nconst curriedCreate = &lt;R&gt;() =&gt;\n    &lt;A extends any[]&gt;(ctor: new (...args: A) =&gt; R, ...args: A) =&gt; new ctor(...args);\n\nconst fooCurriedGood = curriedCreate&lt;Foo&lt;number&gt;&gt;()(Foo, 123); // okay\nconst fooCurriedBad = curriedCreate&lt;Foo&lt;number&gt;&gt;()(Foo, { not: 'a number' }); // error\n</code></pre>\n\n<hr>\n\n<p>So those are the main options I see.  Personally I'd use the <code>fooAnnotated</code> approach, since it is analogous to <code>const oops: Foo&lt;number&gt; = new Foo({not: 'a number'})</code>.  The error isn't in calling the <code>Foo</code> constructor; it's in assuming that the result is a <code>Foo&lt;number&gt;</code>.  Anyway, hope one of those helps you.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABBATgUwIZTQHgIKJoAe2YAJgM6IZgCeA2gLoA0iASgHwAUAsAFCJByKHBQAuRGDQB3RFwB0ijCgDmFCXgCUiALwd2zfkMSL5ytRv6aJbRAG8jQ9FBAokU2dFEKlqipv4AX35+CAAbDAoqADE4OBwAFX17REdBCAQKKBQQLxQuAAcQACMwmAhEAuUMAFsJBO07RGC+Fv4AenbEAGUCtAgYYFpEFTQpFHKKUMyoRGA43v7BmDQyAHE4sl1kdCxcejAQGuK0FBZEWPjD49OObkvWAEYAJgBmTQBuRE7EOABrDC0aZgLJzBZ9AbAFZkABCGC2Oh2mGwOAORxOZ1Ylxw1wxdy4DxSYDgUAkAHIMJJ0acyc1Pt8uqcUKIQnwfgApECgmjEqB7RBQAAWaEQADdlDAMKURbQ4CAyehENIJrAwCoBXBgaD5nA8GBeXt1psJNjcbdtqhkWgCXEnm96T9-oCtbMdXqDdhYfCTXEcdSUPpEZa9ja4KwmrzyZSzShaYEHYyUMyUKyOl0APIoEZoWaUiCuCarJFYURzcDQeBIIVYRBhHNUWUgRBckUUCGDYZCkUwEF8yAiqC0PpppWCmB16hhMJwaQ99Vd5BwGoFcenDWIHvANcLjLL1dZ8xTPgZXvIAvQgDCu2w2xwnC42j0aUQ+EIJDGlGodCY3DyEg8cimIeGiPvobCsEBfggbo+gAXkPhmH4nysie2pxBe56rBscAImeSaXteuCmv6+KaKGdrvF8joAkCx4zGCcAYfhqxwrh+bMWQV5WjgxE3AG3BkYSEYklGVJ8XGCaEEmLJ8PwQA\" rel=\"noreferrer\">Playground link to code</a> </p>\n"}], "owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 59780342, "answer_count": 1, "score": 5, "last_activity_date": 1579227421, "creation_date": 1576632607, "question_id": 59384319, "link": "https://stackoverflow.com/questions/59384319/typescript-get-typeof-generic-constructor", "title": "TypeScript: get typeof generic constructor", "body": "<p>In TypeScript, I've defined a helper function called <code>create</code> that takes a constructor and the constructor's typed arguments to create a new instance of a class: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function create&lt;Ctor extends new (...args: any[]) =&gt; any, R extends InstanceType&lt;Ctor&gt;&gt;(\n  ctor: Ctor,\n  ...args: ConstructorParameters&lt;Ctor&gt;\n): R {\n  return new ctor(...args)\n}\n</code></pre>\n\n<p>This works for simple classes like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Bar  {\n  constructor(param: number) { }\n}\n\nconst bar1 = create&lt;typeof Bar, Bar&gt;(Bar, 1);\n\n// Compile error: Argument of type '\"string\"' is not assignable to parameter of type 'number'.ts(2345)\nconst bar2 = create&lt;typeof Bar, Bar&gt;(Bar, 'string');\n</code></pre>\n\n<p>However, if I have a generic class, I can't get TypeScript to perform the proper type checking on <code>create</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Foo&lt;T&gt;  {\n  constructor(param: T) { }\n}\n\n// Ok\nconst foo1 = create&lt;typeof Foo, Foo&lt;number&gt;&gt;(Foo, 1);\n\n// This should be an error but is not\nconst foo2 = create&lt;typeof Foo, Foo&lt;number&gt;&gt;(Foo, { not: 'a number' })\n</code></pre>\n\n<p>The root cause is that signature of <code>create</code> in the second case takes an <code>unknown</code> parameter:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3hysp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3hysp.png\" alt=\"enter image description here\"></a></p>\n\n<h2>Main question</h2>\n\n<p>Is it possible to explicitly write out the type of the generic class constructor in the call to <code>create</code> without inlining the type itself and while still preserving the signature of <code>create</code>?</p>\n\n<h2>Attempts</h2>\n\n<p>My first thought was:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>create&lt;typeof Foo&lt;number&gt;, Foo&lt;number&gt;&gt;(Foo, { not: 'a number' })\n</code></pre>\n\n<p>But that is invalid code. </p>\n\n<p>So far, the best workaround I've found is to use a temporary class to explicitly capture the constructor type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Temp extends Foo&lt;number&gt; { }\n\n// This correctly generates an error\ncreate&lt;typeof Temp, Foo&lt;number&gt;&gt;(Foo, { not: 'a number' });\n</code></pre>\n\n<p>Can this be done in a more elegant way?</p>\n"}, {"tags": ["json", "typescript", "nestjs"], "comments": [{"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 1, "creation_date": 1576630215, "post_id": 59383994, "comment_id": 104959904, "body": "What did you get?"}], "answers": [{"comments": [{"owner": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "edited": false, "score": 0, "creation_date": 1576684205, "post_id": 59384211, "comment_id": 104980453, "body": "I believe that in nest the name of controller function is just a for developer reference; I have a system error in the require node function and it breaks the flow :("}, {"owner": {"reputation": 207, "user_id": 12431932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303fb49149ff93240cc6c1d15f7d916d?s=128&d=identicon&r=PG&f=1", "display_name": "BRose", "link": "https://stackoverflow.com/users/12431932/brose"}, "reply_to_user": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "edited": false, "score": 1, "creation_date": 1576687089, "post_id": 59384211, "comment_id": 104982152, "body": "follow the second step of my comment. require outside of the function. it should be at the very top of the controller in the global state"}, {"owner": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "edited": false, "score": 0, "creation_date": 1576693202, "post_id": 59384211, "comment_id": 104985079, "body": "Setting the require at the top of the file makes the app crash and doesn&#39;t compile... interesting"}], "tags": [], "owner": {"reputation": 207, "user_id": 12431932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303fb49149ff93240cc6c1d15f7d916d?s=128&d=identicon&r=PG&f=1", "display_name": "BRose", "link": "https://stackoverflow.com/users/12431932/brose"}, "is_accepted": false, "score": 0, "last_activity_date": 1576631371, "creation_date": 1576631371, "answer_id": 59384211, "question_id": 59383994, "link": "https://stackoverflow.com/questions/59383994/how-to-use-require-to-import-a-json-in-nestjs-controller/59384211#59384211", "title": "How to use &#39;require&#39; to import a JSON in NestJS controller?", "body": "<p>first make sure you are calling it correctly.</p>\n\n<p>Are you getting any response at all? if not double check your method name since its spelled like this: <code>getPaymentMoethod</code> and it should be this: <code>getPaymentMethod</code>.</p>\n\n<p>Secondly I would recommend requiring outside the method and setting it to a constant.</p>\n\n<p>Lastly try wrapping it in <code>JSON.stringify()</code> to convert the response to a json stringified object</p>\n"}, {"comments": [{"owner": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "edited": false, "score": 0, "creation_date": 1576766128, "post_id": 59398537, "comment_id": 105010725, "body": "This helped with the VSCode autocomplete, and then I got a VSCode about change import instead of const in the require function line... Thanks"}, {"owner": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "edited": false, "score": 0, "creation_date": 1576766527, "post_id": 59398537, "comment_id": 105010963, "body": "I edited your answer, review it so I can pick it as solution"}], "tags": [], "owner": {"reputation": 1341, "user_id": 6383583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ed176e1913319cacc8250261995ae2?s=128&d=identicon&r=PG&f=1", "display_name": "A. Maitre", "link": "https://stackoverflow.com/users/6383583/a-maitre"}, "is_accepted": true, "score": 9, "last_activity_date": 1576767725, "last_edit_date": 1576767725, "creation_date": 1576695668, "answer_id": 59398537, "question_id": 59383994, "link": "https://stackoverflow.com/questions/59383994/how-to-use-require-to-import-a-json-in-nestjs-controller/59398537#59398537", "title": "How to use &#39;require&#39; to import a JSON in NestJS controller?", "body": "<ol>\n<li>I guess the problem lies in the way you import your <code>.json</code> file (change import instead of const) </li>\n<li>Another advice or solution would be to leverage the <code>.json()</code> method of the res object (which is actually the express adapter response object).  </li>\n</ol>\n\n<p>Let's try with this code:</p>\n\n<h2>Your <code>common.controller.ts</code> file:</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Controller, Get, Res, HttpStatus, Query } from '@nestjs/common';\nimport { Response } from 'express';\n\nimport * as MOCKED_RESPONSE_TS from './data/payment-method.data'; // this ts file should still be imported fine\nimport * as MOCKED_RESPONSE from './data/payment-method-mock.json'; // or use const inside the controller function\n\n@Controller('commons')\nexport class CommonController {\n\n@Get('/payment-method')\n  getPaymentMoethod(@Res() res: Response): any {\n    res.status(HttpStatus.OK).json(MOCKED_RESPONSE); // &lt;= this sends response data as json\n  }\n}\n</code></pre>\n\n<p>Also in your <code>tsconfig.json</code> file, don't forget to add this line:</p>\n\n<h2><code>tsconfig.json</code></h2>\n\n<pre><code>{\n  \"compilerOptions\": {\n    // ... other options \n\n    \"resolveJsonModule\": true, // here is the important line, this will help VSCode to autocomplete and suggest quick-fixes\n\n    // ... other options\n}\n</code></pre>\n\n<p>Last thoughts: you could use the <code>sendfile()</code> method of the <code>res</code> object depending on whether you want to send back a json <strong><em>file</em></strong> or the <strong><em>content</em></strong> of your json file.</p>\n\n<p>Let me know if it helps ;)</p>\n"}], "owner": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5981, "favorite_count": 0, "accepted_answer_id": 59398537, "answer_count": 2, "score": 5, "last_activity_date": 1576767725, "creation_date": 1576629181, "last_edit_date": 1576694050, "question_id": 59383994, "link": "https://stackoverflow.com/questions/59383994/how-to-use-require-to-import-a-json-in-nestjs-controller", "title": "How to use &#39;require&#39; to import a JSON in NestJS controller?", "body": "<p>I'm trying to return a json file as a controller response, but I can't get the content of the json.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Controller, Get, Res, HttpStatus, Query } from '@nestjs/common';\nimport { Response } from 'express';\n\nimport * as MOCKED_RESPONSE_TS from './data/payment-method.data'; // this ts file is imported fine\nconst MOCKED_RESPONSE = require('./data/payment-method-mock'); // this json file is not found\n\n@Controller('commons')\nexport class CommonController {\n\n@Get('/payment-method')\n  getPaymentMoethod(@Res() res: Response): any {\n    res.status(HttpStatus.OK).send(MOCKED_RESPONSE);\n  }\n\n}\n</code></pre>\n\n\n\n<blockquote>\n  <p>Actually the log returns: <code>Error: Cannot find module './data/payment-method'</code> and the app doesn't compile</p>\n</blockquote>\n\n<p>I have done this with express (even with typescript) and works fine.</p>\n\n<p><em>I don't know if i have to setup my project to read jsons (I'm newby on nest). By the moment I have created a typescript file exporting a const with the json content and I called it successfuly</em></p>\n"}, {"tags": ["javascript", "typescript", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 1789684, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/93cea9a6327b0942b455890626f8174f?s=128&d=identicon&r=PG", "display_name": "Robert Lemiesz", "link": "https://stackoverflow.com/users/1789684/robert-lemiesz"}, "edited": false, "score": 0, "creation_date": 1576721703, "post_id": 59385107, "comment_id": 104993785, "body": "trying to edit it tells me that transformFuncMap is a read only property.  Im using typescript if that makes a difference"}], "tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": true, "score": 1, "last_activity_date": 1576639897, "creation_date": 1576639897, "answer_id": 59385107, "question_id": 59383743, "link": "https://stackoverflow.com/questions/59383743/how-to-mock-a-module-variable-with-jest-and-typscript/59385107#59385107", "title": "How to mock a module variable with jest and typscript", "body": "<p>You can use <code>jest.fn()</code> to replace the original methods/functions for <code>transformFuncMap</code>.</p>\n\n<p><code>index.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const unzipArchiveAndUploadToS3 = async () =&gt; null;\n\ntype TransformFunctionArgs = any;\nexport enum TransformationType {\n  UNZIP = 'UNZIP',\n  NOOP = 'NOOP',\n}\n\nexport const transformFuncMap: { [key: string]: (args: TransformFunctionArgs) =&gt; Promise&lt;any&gt; } = {\n  [TransformationType.UNZIP]: unzipArchiveAndUploadToS3,\n  // tslint:disable-next-line: no-empty\n  [TransformationType.NOOP]: async () =&gt; {},\n};\n\nexport async function handle(funcKeys: TransformationType[]) {\n  for (const funcKey of funcKeys) {\n    const args = {};\n    await transformFuncMap[funcKey](args);\n  }\n}\n</code></pre>\n\n<p><code>index.spec.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { handle, transformFuncMap, TransformationType } from './';\n\ndescribe('59383743', () =&gt; {\n  it('should pass', async () =&gt; {\n    transformFuncMap[TransformationType.UNZIP] = jest.fn();\n    transformFuncMap[TransformationType.NOOP] = jest.fn();\n    const funcKeys: TransformationType[] = [TransformationType.NOOP, TransformationType.UNZIP];\n    await handle(funcKeys);\n    expect(transformFuncMap[TransformationType.UNZIP]).toBeCalledWith({});\n    expect(transformFuncMap[TransformationType.NOOP]).toBeCalledWith({});\n  });\n});\n</code></pre>\n\n<p>Unit test result with coverage report:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> PASS  src/stackoverflow/59383743/index.spec.ts\n  59383743\n    \u2713 should pass (7ms)\n\n----------|----------|----------|----------|----------|-------------------|\nFile      |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n----------|----------|----------|----------|----------|-------------------|\nAll files |    84.62 |      100 |       50 |       90 |                   |\n index.ts |    84.62 |      100 |       50 |       90 |                12 |\n----------|----------|----------|----------|----------|-------------------|\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        4.626s, estimated 10s\n</code></pre>\n\n<p>Source code: <a href=\"https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/59383743\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/59383743</a></p>\n"}], "owner": {"reputation": 614, "user_id": 1789684, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/93cea9a6327b0942b455890626f8174f?s=128&d=identicon&r=PG", "display_name": "Robert Lemiesz", "link": "https://stackoverflow.com/users/1789684/robert-lemiesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 59385107, "answer_count": 1, "score": 0, "last_activity_date": 1576639917, "creation_date": 1576626875, "last_edit_date": 1576639917, "question_id": 59383743, "link": "https://stackoverflow.com/questions/59383743/how-to-mock-a-module-variable-with-jest-and-typscript", "title": "How to mock a module variable with jest and typscript", "body": "<p>I have a map defining some transformation functions like this </p>\n\n<pre><code>export const transformFuncMap: { [key: string]: (args: TransformFunctionArgs) =&gt; Promise&lt;any&gt; } = {\n    [TransformationType.UNZIP]: unzipArchiveAndUploadToS3,\n    // tslint:disable-next-line: no-empty\n    [TransformationType.NOOP]: async () =&gt; {},\n};\n</code></pre>\n\n<p>Later my in the same module I  have a handle function that calls these based on some seq I provide. </p>\n\n<pre><code>function handle(funcKeys: TransformationType[]) {\n   for(const funcKey of funcKey) {\n       await transformFuncMap[funcKey](); \n   }\n}\n</code></pre>\n\n<p>When unit testing handle. All I care is that some function are called in an order I provide. I dont want to run the function implementations. </p>\n\n<p>Is there anyway with jest to just mock out the <code>transformFuncMap</code>, with something like this. </p>\n\n<pre><code>export const transformFuncMap: { [key: string]: (args: TransformFunctionArgs) =&gt; Promise&lt;any&gt; } = {\n    [TransformationType.UNZIP]:jest.fn(),\n    // tslint:disable-next-line: no-empty\n    [TransformationType.NOOP]: jest.fn(),\n};\n</code></pre>\n\n<p>I would like to be able to do this without resorting to some Java style dependency injection in the parameters. </p>\n"}, {"tags": ["typescript", "union"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 12222244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65c9205c75d42fcbb392a443dbda17e?s=128&d=identicon&r=PG&f=1", "display_name": "Take", "link": "https://stackoverflow.com/users/12222244/take"}, "edited": false, "score": 0, "creation_date": 1576626649, "post_id": 59383700, "comment_id": 104959191, "body": "Thx, this helped a lot. I actually tried another kind of type guard as well before I posted this question but it failed. I tried to use <code>if (typeof obj.foo===&quot;string&quot;)</code>. Although your reply already helped a lot, do you maybe know some keywords which are useful to google or to search for in the official doc? Ty"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 105, "user_id": 12222244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65c9205c75d42fcbb392a443dbda17e?s=128&d=identicon&r=PG&f=1", "display_name": "Take", "link": "https://stackoverflow.com/users/12222244/take"}, "edited": false, "score": 0, "creation_date": 1576626847, "post_id": 59383700, "comment_id": 104959238, "body": "@Take <code>typeof obj.foo===&quot;string&quot;</code> can&#39;t do the job unfortunately because t begin with <code>obj.foo</code> is not valid. Not really sure what other search term except union and type guard would be useful here. Maybe you will find this useful as well as to why even if <code>obj.foo</code> were valid it would still probably not narrow <code>obj</code>: <a href=\"https://github.com/microsoft/TypeScript/issues/30506#issuecomment-474802840\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/&hellip;</a>"}, {"owner": {"reputation": 105, "user_id": 12222244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65c9205c75d42fcbb392a443dbda17e?s=128&d=identicon&r=PG&f=1", "display_name": "Take", "link": "https://stackoverflow.com/users/12222244/take"}, "edited": false, "score": 0, "creation_date": 1576627398, "post_id": 59383700, "comment_id": 104959353, "body": "Thank you, I can&#39;t upvote you yet unfortunately (15 points needed)."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1576626395, "creation_date": 1576626395, "answer_id": 59383700, "question_id": 59383646, "link": "https://stackoverflow.com/questions/59383646/why-are-giving-a-union-type-to-a-variable-and-giving-the-same-type-to-a-paramete/59383700#59383700", "title": "Why are giving a union type to a variable and giving the same type to a parameter so different?", "body": "<p>When you assign to a union you can assign either one of the constituent types from the union. This is why the assignment succeeds</p>\n\n<p>When you try to access a parameter/variable of a union type, you don't actually <em>know</em> which of the union constituent types will actually be in it. It could be wither of them, so typescript considers as safe only access properties that are common to all members of the union. In your example accessing <code>xyz</code> is safe as it exists in both union constituents </p>\n\n<p>You need to use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\" rel=\"nofollow noreferrer\">type guard</a> in order to get the compiler to narrow the type of the parameter to either one or the other constituent types:</p>\n\n<pre><code>\nconst sayHello = (obj: T) =&gt; {\n  console.log(obj.xyz) // ok common \n  if ('bar' in obj) {\n    obj.bar // ok\n  } else {\n    obj.foo //ok\n  }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=22&amp;ssc=2&amp;pln=14&amp;pc=1#code/C4TwDgpgBAYg9nKBeKBvAsAKClAZggLigGdgAnASwDsBzLHADxAC8jTLasBfLLUSKACEAhmWRp6UAEai25anWxQmrEvM6YemPuGgAVcfEQAfIaN6YANhGBQ4UgFZEDKVHkJQARPjieANMosRJ4qnlBaWADGcFSkJMIgABIQlpaIKAAU9k5QegCUyAB8EkrRsXDWAHRpNFmOlSoFAPRNdgDWUNEAtl0xUJIUuFAZAOQyZCNQ1HaOBRhKONmV41At7ZJcUCnE0PM4i-U+q01wbRvcQA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 12222244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65c9205c75d42fcbb392a443dbda17e?s=128&d=identicon&r=PG&f=1", "display_name": "Take", "link": "https://stackoverflow.com/users/12222244/take"}, "edited": false, "score": 0, "creation_date": 1576627205, "post_id": 59383707, "comment_id": 104959309, "body": "Thank you! This reply helped me, as well, although I am not so sure about your last sentence. If I understood it correctly, it might be wrong, because I can run <code>console.log(obj.foo)</code> without error outside the function. But maybe I understood it incorrectly. Thanks!"}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "reply_to_user": {"reputation": 105, "user_id": 12222244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65c9205c75d42fcbb392a443dbda17e?s=128&d=identicon&r=PG&f=1", "display_name": "Take", "link": "https://stackoverflow.com/users/12222244/take"}, "edited": false, "score": 1, "creation_date": 1576627432, "post_id": 59383707, "comment_id": 104959358, "body": "Oh, I see the issue - even though you declared the variable as type <code>T</code>, Typescript has done control-flow narrowing so that <code>obj</code> has type <code>Foo</code> after the assignment. If you change the declaration to <code>let obj: T = { foo: &quot;foo&quot;, xyz: &quot;xyz&quot; } as T</code> so it doesn&#39;t narrow, then <code>obj.foo</code> will be an error because <code>obj</code> will have genuinely have type <code>T</code>."}], "tags": [], "owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": false, "score": 0, "last_activity_date": 1576627580, "last_edit_date": 1576627580, "creation_date": 1576626426, "answer_id": 59383707, "question_id": 59383646, "link": "https://stackoverflow.com/questions/59383646/why-are-giving-a-union-type-to-a-variable-and-giving-the-same-type-to-a-paramete/59383707#59383707", "title": "Why are giving a union type to a variable and giving the same type to a parameter so different?", "body": "<p>The type <code>Foo</code> is more specific than the type <code>Foo | Bar</code>. If you have a box which you can put <code>Foo | Bar</code>s, in, then you can put a <code>Foo</code> into that box, no problem. The variable <code>obj</code> and the parameter also named <code>obj</code> are the same in this regard; you can assign either a <code>Foo</code> or a <code>Bar</code> to the variable, and you can call the function with either a <code>Foo</code> or a <code>Bar</code> as the argument.</p>\n\n<p>The difference is when you try to get <code>obj.foo</code> from <code>obj</code> which has type <code>Foo | Bar</code>. The <code>.foo</code> property is only defined on things of type <code>Foo</code>; but the parameter <code>obj</code> isn't necessarily a <code>Foo</code>, it could be a <code>Bar</code> instead, so it doesn't necessarily have a <code>.foo</code> property. That's why you get an error.</p>\n\n<p>But you'll get the same error if you try to do <code>console.log(obj.foo);</code> with a variable of type <code>T</code> outside the function. It has nothing to do with being a parameter or not.</p>\n\n<p>In your specific code, you don't see this error because even though you declared <code>obj</code> to have type <code>T</code>, Typescript knows that you've assigned a <code>Foo</code> to it, so because of control-flow type narrowing the variable is actually of type <code>Foo</code> after the assignment, and will remain as such until the variable is reassigned. If you change the declaration to avoid narrowing with an <code>as T</code> type assertion, then the error will appear as expected:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let obj: T = { foo: \"foo\", xyz: \"xyz\" } as T\nconsole.log(obj.foo); // type error\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 12222244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65c9205c75d42fcbb392a443dbda17e?s=128&d=identicon&r=PG&f=1", "display_name": "Take", "link": "https://stackoverflow.com/users/12222244/take"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 59383700, "answer_count": 2, "score": 1, "last_activity_date": 1576628193, "creation_date": 1576625977, "last_edit_date": 1576628193, "question_id": 59383646, "link": "https://stackoverflow.com/questions/59383646/why-are-giving-a-union-type-to-a-variable-and-giving-the-same-type-to-a-paramete", "title": "Why are giving a union type to a variable and giving the same type to a parameter so different?", "body": "<p>Using the <code>tsc --strict</code> command I get the following error:  </p>\n\n<blockquote>\n  <p>error TS2339: Property 'foo' does not exist on type 'T'.   Property\n  'foo' does not exist on type 'Bar'. 16   console.log(obj.foo)</p>\n</blockquote>\n\n<p>What I don't understand is why I can assign the object literal to <code>obj</code> but get an error using the same property inside the function. Thanks!</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Foo = {\n  foo: string\n  xyz: string\n}\n\ntype Bar = {\n  bar: string\n  xyz: string\n}\n\ntype T = Foo | Bar\n\nlet obj: T = { foo: \"foo\", xyz: \"xyz\" }\n\nconst sayHello = (obj: T) =&gt; {\n  console.log(obj.foo)\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "forms", "formik"], "comments": [{"owner": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "edited": false, "score": 0, "creation_date": 1576628542, "post_id": 59383580, "comment_id": 104959601, "body": "Just at first glance, you&#39;re using <code>props</code> twice, once when destructuring the arguments passed to your wrapper, and then again to name the arguments for the child render function.  That seems a little weird to me; I think my IDE would be highlighting that as an error :)"}], "answers": [{"tags": [], "owner": {"reputation": 421, "user_id": 11860193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c7dabd47973adc260b8da2b82616a7?s=128&d=identicon&r=PG", "display_name": "jbergeron", "link": "https://stackoverflow.com/users/11860193/jbergeron"}, "is_accepted": false, "score": 8, "last_activity_date": 1576653280, "creation_date": 1576653280, "answer_id": 59387117, "question_id": 59383580, "link": "https://stackoverflow.com/questions/59383580/passing-props-to-children-in-react/59387117#59387117", "title": "Passing props to children in React", "body": "<p>Here's how to pass the prop \"propsToPass\" from the parent to all his direct children:</p>\n\n<pre><code>const Parent = props =&gt; {\n  const { children } = props;\n\n  const childrenWithExtraProp = React.Children.map(children, child =&gt;\n    React.cloneElement(child, { propsToPass: \"toChildren\" })\n  );\n\n  return &lt;div&gt;{childrenWithExtraProp}&lt;/div&gt;;\n};\n\nexport default Parent;\n</code></pre>\n\n<p>So in this case, both children will have the prop \"propsToPass\"</p>\n\n<pre><code>&lt;Parent&gt;\n  {/* this.props.propsToPass will be available in this component */}\n  &lt;Child&gt;&lt;/Child&gt;\n  {/* this.props.propsToPass will be available in this component */}\n  &lt;AnotherChild&gt;&lt;/AnotherChild&gt;\n&lt;/Parent&gt;\n</code></pre>\n\n<p>You could do the same for your form.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 12397551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a88fc3c26cf3cdf2ae541a981fcf13fa?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub W\u0105sowski", "link": "https://stackoverflow.com/users/12397551/jakub-w%c4%85sowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1576665390, "creation_date": 1576665390, "answer_id": 59390151, "question_id": 59383580, "link": "https://stackoverflow.com/questions/59383580/passing-props-to-children-in-react/59390151#59390151", "title": "Passing props to children in React", "body": "<p>I don't see like rendering Formik as children is good idea here, especially that you are supposed to render one form in such FormWrapper. I would use render props here, so here is basic example how you can do it.</p>\n\n<p>Anyway, I still can't get your concept of re-inventing FormWrapper if Formik provides its own wrapper:</p>\n\n<p><a href=\"https://jaredpalmer.com/formik/docs/api/formik\" rel=\"nofollow noreferrer\">https://jaredpalmer.com/formik/docs/api/formik</a></p>\n\n<pre><code>interface FormWrapperProps extends FormikConfig&lt;FormikValues&gt; {\n    renderForm(props: FormWrapperProps): React.ReactNode\n}\n\nexport const RegisterForm = (props: FormWrapperProps) =&gt; (\n    &lt;form&gt;\n        &lt;input type=\"text\"/&gt;\n        &lt;input type=\"text\"/&gt;\n    &lt;/form&gt;\n)\n\nconst FormWrapper: React.FC&lt;FormWrapperProps&gt; = (props) =&gt; {\n    return (\n        &lt;div className=\"layout\"&gt;\n            {/*here goes goes a Form from a different components*/}\n            {props.renderForm(props)}\n        &lt;/div&gt;\n    )\n}\n\nconst FormPage = () =&gt; {\n\n    const props = {} as FormWrapperProps\n\n    return (\n        &lt;FormWrapper\n            {...props}\n            renderForm={(props: FormWrapperProps) =&gt; &lt;RegisterForm {...props} /&gt;}\n        /&gt;\n    )\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 10430194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nrkE4.png?s=128&g=1", "display_name": "Bart", "link": "https://stackoverflow.com/users/10430194/bart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7292, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1576665390, "creation_date": 1576625577, "last_edit_date": 1576627341, "question_id": 59383580, "link": "https://stackoverflow.com/questions/59383580/passing-props-to-children-in-react", "title": "Passing props to children in React", "body": "<p>I'm trying to make a <strong>Formik wrapper</strong> which takes <code>children</code> as props and would <strong>render anything put inside</strong>. There are a couple forms to make which take different initial values and validation schema etc. The <strong>only thing in common thing is the grid layout</strong>. The goal is to have the access to <strong>Formik <a href=\"https://jaredpalmer.com/formik/docs/api/formik#formik-render-methods-and-props\" rel=\"nofollow noreferrer\">props</a></strong> like values, errors etc. in the child component and I have no idea how to pass it to its child. The form fields don't even show up.</p>\n\n<p>The wrapper:</p>\n\n<pre><code>import React from 'react';\nimport { Formik, FormikConfig, FormikValues } from \"formik\";\nimport { Col, Layout, Row } from \"antd\";\n\nconst FormContainer: React.FC&lt;FormikConfig&lt;FormikValues&gt;&gt; = ({ children, ...props }) =&gt; {\n    return &lt;Formik\n        {...props}\n    &gt;\n        {props =&gt; (\n            &lt;Layout&gt;\n                &lt;Row style={{ height: \"100vh\", display: \"flex\", alignItems: \"center\" }}&gt;\n                    &lt;Col span={12}&gt;\n                        &lt;Layout&gt;\n                            {/*this will be replaced with some background image*/}\n                            &lt;pre&gt;{JSON.stringify(props.values, null, 2)}&lt;/pre&gt;\n                            &lt;pre&gt;{JSON.stringify(props.errors, null, 2)}&lt;/pre&gt;\n                        &lt;/Layout&gt;\n                    &lt;/Col&gt;\n                    &lt;Col span={12}&gt;\n                        &lt;Layout&gt;\n                            {/*here goes goes a Form from a different components*/}\n                            {children}\n                        &lt;/Layout&gt;\n                    &lt;/Col&gt;\n                &lt;/Row&gt;\n            &lt;/Layout&gt;\n        )}\n    &lt;/Formik&gt;\n};\n\nexport default FormContainer;\n</code></pre>\n\n<p>I must be doing something wrong. I am unable to get any Formik props/values from anywhere else when I wrap <code>FormContainer</code> around anything.</p>\n\n<p>My form example (so far):</p>\n\n<pre><code>import React from \"react\";\nimport { Field, Form } from \"formik\";\nimport { Col, Form as AntForm, Icon, Input, Row } from \"antd\";\nimport { initialValues, validationSchema } from \"./fieldValidation\";\nimport FormContainer from \"../../../containers/FormContainer/FormContainer\";\n\nconst RegisterPage: React.FC = () =&gt; {\n    return (\n        &lt;FormContainer\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            onSubmit={(data, { setSubmitting }) =&gt; {\n                setSubmitting(true);\n\n                setTimeout(() =&gt; {\n                    alert(JSON.stringify(data, null, 2));\n                    setSubmitting(false);\n                }, 5000);\n            }}\n        &gt;\n            {({touched, errors}) =&gt; (\n                &lt;Form&gt;\n                    &lt;Row gutter={[8, 8]}&gt;\n                        &lt;Col span={12}&gt;\n                            &lt;AntForm.Item\n                                help={touched.firstName &amp;&amp; errors.firstName ? errors.firstName : \"\"}\n                                validateStatus={touched.firstName &amp;&amp; errors.firstName ? \"error\" : undefined}\n                            &gt;\n                                &lt;Field\n                                    name=\"firstName\"\n                                    prefix={&lt;Icon type=\"solution\" style={{ color: \"rgba(0,0,0,.25)\" }} /&gt;}\n                                    placeholder=\"First name\"\n                                    as={Input}\n                                /&gt;\n                            &lt;/AntForm.Item&gt;\n                        &lt;/Col&gt;\n                        &lt;Col span={12}&gt;\n                            &lt;AntForm.Item\n                                help={touched.lastName &amp;&amp; errors.lastName ? errors.lastName : \"\"}\n                                validateStatus={touched.lastName &amp;&amp; errors.lastName ? \"error\" : undefined}\n                            &gt;\n                                &lt;Field\n                                    name=\"lastName\"\n                                    prefix={&lt;Icon type=\"solution\" style={{ color: \"rgba(0,0,0,.25)\" }} /&gt;}\n                                    placeholder=\"Last name\"\n                                    as={Input}\n                                /&gt;\n                            &lt;/AntForm.Item&gt;\n                        &lt;/Col&gt;\n                    &lt;/Row&gt;\n                &lt;/Form&gt;\n            )}\n        &lt;/FormContainer&gt;\n    );\n};\n\nexport default RegisterPage;\n</code></pre>\n\n<p>I'm stuck. What am I doing wrong here?</p>\n"}, {"tags": ["javascript", "typescript", "promise"], "comments": [{"owner": {"reputation": 2358, "user_id": 5730279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GYwj.jpg?s=128&g=1", "display_name": "hc_dev", "link": "https://stackoverflow.com/users/5730279/hc-dev"}, "edited": false, "score": 2, "creation_date": 1576624412, "post_id": 59383284, "comment_id": 104958663, "body": "How is function <code>checkStatus</code> defined, can you <a href=\"https://stackoverflow.com/posts/59383284/edit\">edit</a> your question and post more code, please!"}, {"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 1, "creation_date": 1576699139, "post_id": 59383284, "comment_id": 104987544, "body": "<code>checkStatus()</code> does not return anything, so its result is <code>undefined</code>. And <code>undefined</code> has no methods, including <code>then()</code>, which it does not have either. <code>then()</code> is not some magical entity, but an actual method of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\"><code>Promise</code></a>s."}, {"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 0, "creation_date": 1576699412, "post_id": 59383284, "comment_id": 104987643, "body": "<code>this.isRunning</code> is not a <i>global variable</i> for sure, it is a field of an object. You should describe what goal you are trying to achieve, so far it is hard to figure out from these pieces."}], "answers": [{"tags": [], "owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "is_accepted": true, "score": 1, "last_activity_date": 1576699195, "creation_date": 1576699195, "answer_id": 59399224, "question_id": 59383284, "link": "https://stackoverflow.com/questions/59383284/typeerror-cannot-read-property-then-of-undefined-for-global-variables/59399224#59399224", "title": "TypeError: Cannot read property &#39;then&#39; of undefined for global variables", "body": "<p>Your <code>checkStatus</code> function does not return anything - thus the result is <code>undefined</code>. You then try to call <code>then</code> on the result of your <code>checkStatus</code> function, which leads to your error message. </p>\n\n<p>You need to make your <code>checkStatus</code> function return a promise if it is running asynchronously and you want to call <code>then</code> on the result. </p>\n\n<p>This could look something like this:</p>\n\n<pre><code>checkStatus: function (mediaUrl) {\n  return new Promise((resolve, reject) =&gt; {\n     console.log('bridge checkStatusOnDevice');\n\n     if (typeof (Device) != 'undefined' &amp;&amp; Device!= null) {\n       // call resolve/reject when the following call succeeded/failed respectively\n       Device.checkStatusOnDevice();\n\n       // This COULD be something like this, if the API is callback based:\n       // Device.checkStatusOnDevice(() =&gt; resolve(), () =&gt; reject())\n     } else {\n       // call resolve/reject when the following call succeeded/failed respectively\n       deviceStatusSuccess();\n     }\n  });\n},\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7730346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a3379db4dfde43dc8e8231f8fae0b0?s=128&d=identicon&r=PG&f=1", "display_name": "helloap", "link": "https://stackoverflow.com/users/7730346/helloap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 59399224, "answer_count": 1, "score": 1, "last_activity_date": 1576712821, "creation_date": 1576623510, "last_edit_date": 1576712821, "question_id": 59383284, "link": "https://stackoverflow.com/questions/59383284/typeerror-cannot-read-property-then-of-undefined-for-global-variables", "title": "TypeError: Cannot read property &#39;then&#39; of undefined for global variables", "body": "<p>I am trying to check if <code>bridgeObject.checkStatus</code> has been called already with the <code>isRunning</code> <em>global variable</em>. </p>\n\n<p>If it hasn't then I call it and set <code>isRunning</code> to <code>true</code>. \nThen when it's dont change is running back to false.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (!this.isRunning){\n  this.isRunning = true;\n  bridgeObject.checkStatus().then(() =&gt; {\n    this.isRunning = false;\n  });\n} else {\n  console.log('Not allowed to checkstatus, Value isRunning= ' + this.isRunning); \n}\n</code></pre>\n\n<p>But I am getting this error:  </p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'then' of undefined for global variables</p>\n</blockquote>\n\n<p>I'm super new to programming so I haven't been able to figure out why I'm getting this error and what to do based on other answers here.</p>\n\n<p>UPDATE:</p>\n\n<p>Here is what checkStatus does</p>\n\n<pre><code>    checkStatus: function (mediaUrl) {\n  console.log('bridge checkStatusOnDevice');\n  if (typeof (Device) != 'undefined' &amp;&amp; Device!= null) {\n    Device.checkStatusOnDevice();\n  }\n  else\n  {\n    deviceStatusSuccess();\n  }\n},\n</code></pre>\n"}]