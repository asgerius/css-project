[{"tags": ["angular", "typescript", "filereader"], "comments": [{"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "edited": false, "score": 0, "creation_date": 1493854888, "post_id": 43771663, "comment_id": 74584669, "body": "try with window.myGlobalVariable where myGlobalVariable could be whatever you decide."}], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493924372, "post_id": 43771799, "comment_id": 74622118, "body": "@mhoff fixed some confusing wording in this answer. Don&#39;t forget to vote for it if it works for you :p"}, {"owner": {"reputation": 581, "user_id": 7069234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VxkZD.jpg?s=128&g=1", "display_name": "mhoff", "link": "https://stackoverflow.com/users/7069234/mhoff"}, "edited": false, "score": 1, "creation_date": 1493925145, "post_id": 43771799, "comment_id": 74622593, "body": "Aluan thanks for the explanation - exactly what I need and it works. (seems I need to study some basic typescript) btw: I had to change <code>e.target.result</code> to <code>reader.result</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 581, "user_id": 7069234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VxkZD.jpg?s=128&g=1", "display_name": "mhoff", "link": "https://stackoverflow.com/users/7069234/mhoff"}, "edited": false, "score": 0, "creation_date": 1493925196, "post_id": 43771799, "comment_id": 74622615, "body": "@mhoff actually, it is just JavaScript you need to study. This is all JS stuff"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 3, "last_activity_date": 1544320682, "last_edit_date": 1544320682, "creation_date": 1493855598, "answer_id": 43771799, "question_id": 43771663, "link": "https://stackoverflow.com/questions/43771663/assign-filereader-result-to-a-global-variable-for-later-use/43771799#43771799", "title": "assign FileReader result to a (global) variable for later use", "body": "<p>First of all, you have the wrong <code>this</code>. Inside of a <code>function</code>, <code>this</code> is bound dynamically to the object on which the function is called, if it is called as method. If the function is not called as a method, <code>this</code> is <code>undefined</code> in strict mode (modules and class bodies are implicitly strict) and otherwise it defaults to the global object.</p>\n\n<p><code>this</code> can also be bound to a specific object using <code>Function.prototype.bind</code>. When called, function returned by <code>bind</code> will resolve this to the specified object.</p>\n\n<pre><code>function fullname() {\n  return this.first + '_' this.last;\n}\n\nconst philip = {first: 'Philip', last: 'Pullman'};\nconst philipsFullname = fullname.bind(philip);\nconsole.log(philipsFullname()); // Philip Pullman\n</code></pre>\n\n<p><code>this</code> can also be set on invocation, without an intermediate object, using <code>Function.prototype.call</code>.</p>\n\n<pre><code>console.log(fullname.call(philip)); // Philip Pullman\n</code></pre>\n\n<p>Use an arrow function <code>(params) =&gt; expression or block</code>. Arrow functions statically bind <code>this</code>. In all functions everything is statically bound except for this. In arrow functions, everything is statically bound.</p>\n\n<pre><code>export class AppComponent {\n  fileChangeEvent(fileInput: HTMLInputElement) {\n\n    reader.onload = e =&gt; {\n      const b64 = e.target.result   \n      this.imageBase64 = b64; \n\n      preview.src = b64;\n\n      console.log(file);\n      console.log(b64);\n      window.IMAGE_RESULT = b64;\n    };\n  }\n}\n\n\ndeclare global {\n  interface Window {\n    IMAGE_RESULT?: string;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 7069234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VxkZD.jpg?s=128&g=1", "display_name": "mhoff", "link": "https://stackoverflow.com/users/7069234/mhoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3247, "favorite_count": 1, "accepted_answer_id": 43771799, "answer_count": 1, "score": 1, "last_activity_date": 1544320682, "creation_date": 1493854728, "question_id": 43771663, "link": "https://stackoverflow.com/questions/43771663/assign-filereader-result-to-a-global-variable-for-later-use", "title": "assign FileReader result to a (global) variable for later use", "body": "<p>How can I assign  FileReader.readAsDataURL  result to a (global) variable for later  use? </p>\n\n<p>I know that FileReader.result works asyc and can used in reader.onload = function () {...}  But I was not able to assign it to a global var (from inside the anonymous callback) for later use.  </p>\n\n<p>I googled and found some hints also on stackoverflow, but nothing that really helps me. Any suggestions?  </p>\n\n<p>Here is my code:</p>\n\n<p>app.component.ts:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export class AppComponent {\n\n  postData: PostData;\n\n  image: File;\n  status: string;\n  imageBase64: string\n\n  constructor(private http: Http ) {\n    this.imageBase64 = '';\n  }\n\n  fileChangeEvent(fileInput: any) {\n    if (fileInput.target.files &amp;&amp; fileInput.target.files[0]) {\n      let file  = fileInput.target.files[0];\n      let preview = document.querySelector('img')\n\n      let reader = new FileReader();\n\n      this.image = file;\n\n      reader.onload = function (e: any) {\n        let b64 = e.target.result   \n\n        // this.imageBase64 = b64;  // undefinded here  \n\n        preview.src = b64;\n        console.log(file);\n        console.log(b64);\n      }\n\n      reader.readAsDataURL(this.image);\n    }\n}\n\n  uploadimage() {\n  // do something later with the bae64 reader.result - after upload button pressed\n  }\n</code></pre>\n\n<p>app.component.html:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;label&gt;Choose a file&lt;/label&gt; \n&lt;input type=\"file\" class=\"inputfile\" accept=\"image/*\"(change)=\"fileChangeEvent($event)\"&gt;\n&lt;img id=\"preview\" src=\"\" height=\"200\" alt=\"Image preview...\"&gt;\n&lt;button (click)=\"uploadimage()\"&gt;Upload Image&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["visual-studio", "typescript", "vue.js", "vuejs2", "visual-studio-2017"], "comments": [{"owner": {"reputation": 938, "user_id": 835677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ecafab42b0b9cb26ca9f1b8df4f18c?s=128&d=identicon&r=PG", "display_name": "tlbignerd", "link": "https://stackoverflow.com/users/835677/tlbignerd"}, "edited": false, "score": 0, "creation_date": 1498591703, "post_id": 43771474, "comment_id": 76557474, "body": "It looks like you&#39;re missing requirejs and an app setup file. When you run the application and look at the compiled code you&#39;ll see your imports are generating require(...) commands. I&#39;ve have to add the script reference for require and set the data-main to a single ts file which sets up the require code supporting the TS generated code. Did you need a specific example of this?"}, {"owner": {"reputation": 2289, "user_id": 373438, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ce296ddef19cc528610ca3b13006c1c4?s=128&d=identicon&r=PG", "display_name": "Grandizer", "link": "https://stackoverflow.com/users/373438/grandizer"}, "edited": false, "score": 0, "creation_date": 1526389054, "post_id": 43771474, "comment_id": 87717455, "body": "@Laston, did you ever get this working.  I too am trying to get Vue, VS 2017 and TS working together.  In my case, without using SPA."}], "owner": {"reputation": 51, "user_id": 7009533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b532a4a6fee5fc6245870bfffab1f2?s=128&d=identicon&r=PG&f=1", "display_name": "Laston", "link": "https://stackoverflow.com/users/7009533/laston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1493853605, "creation_date": 1493853605, "question_id": 43771474, "link": "https://stackoverflow.com/questions/43771474/how-do-i-get-up-and-running-in-visual-studio-2017-with-typescript-and-vue-js", "title": "How do I get up and running in Visual Studio 2017 with TypeScript and Vue.js?", "body": "<p>I'm trying to make <strong>vue.js</strong> and <strong>typescript</strong> working together. But when I compile the vue source code i've got \"<strong>Uncaught ReferenceError: require is not defined</strong>\" at my index.html.</p>\n\n<p>Here's what I did:</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n\"compilerOptions\": {\n\"noImplicitAny\": false,\n\"noEmitOnError\": true,\n\"removeComments\": false,\n\"sourceMap\": true,\n\"target\": \"es5\",\n\"experimentalDecorators\": true,\n\"allowSyntheticDefaultImports\": true,\n\"lib\": [\n  \"dom\",\n  \"es5\",\n  \"es2015.promise\"\n]\n},\n\"include\": [\n  \"scripts/**/*\"\n],\n\"exclude\": [\n  \"node_modules\",\n  \"wwwroot\"\n],\n\"compileOnSave\": true\n}\n</code></pre>\n\n<p><strong>scripts/test.ts</strong> (it's from vue.js <a href=\"https://vuejs.org/v2/guide/typescript.html#Class-Style-Vue-Components/\" rel=\"nofollow noreferrer\" title=\"docs\">docs</a>)</p>\n\n<pre><code>import Vue from 'vue'\nimport Component from 'vue-class-component'\n// The @Component decorator indicates the class is a Vue component\n@Component({\n  // All component options are allowed in here\n  template: '&lt;button @click=\"onClick\"&gt;Click!&lt;/button&gt;'\n})\nexport default class MyComponent extends Vue {\n  // Initial data can be declared as instance properties\n  message: string = 'Hello!'\n  // Component methods can be declared as instance methods\n  onClick(): void {\n    window.alert(this.message)\n  }\n}\n</code></pre>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>\"dependencies\": {\n  \"vue\": \"^2.2.6\",\n  \"vue-router\": \"^2.4.0\"\n},\n\"devDependencies\": {\n  \"vue-class-component\": \"^5.0.1\"\n}\n</code></pre>\n\n<p>I'm not using node.js (and I don't want to), only npm to download dependencies. I'm also working in Visual Studio 2017 and the application is running on .net core server.</p>\n"}, {"tags": ["node.js", "typescript", "eol"], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493880423, "post_id": 43775668, "comment_id": 74592197, "body": "It is worth noting that if your environment supports it, <code>import os from &#39;os&#39;;</code> is preferable to <code>import * as os from &#39;os&#39;;</code> as the latter is TypeScript specific, non-standard node-interop that will break in the future."}, {"owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493882474, "post_id": 43775668, "comment_id": 74593509, "body": "<code>import os from &#39;os&#39;;</code> is for importing es6 default exports... as of node 7.4 (or at least the latest node typings) that isn&#39;t valid."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493882649, "post_id": 43775668, "comment_id": 74593622, "body": "It depends on the context. If you are using Webpack, SystemJS, or piping through Babel, use the default interop require syntax. <code>import * as x from ...</code> has nothing to do with NodeJS. It is a problematic TS construct for mapping ES Module Syntax onto CommonJS. That is why I recommend <code>import os = require(&#39;os&#39;)</code> in my answer."}, {"owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493882822, "post_id": 43775668, "comment_id": 74593749, "body": "<code>import os from &#39;os&#39;;</code>- TSError: \u2a2f Unable to compile TypeScript example.ts (1,8): Module &#39;&quot;os&quot;&#39; has no default export. (1192)"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493882886, "post_id": 43775668, "comment_id": 74593792, "body": "If you are targeting Node and using <code>--module commonjs</code> then use <code>require</code> if you are using another transpiler or a loader that provides interop, use <code>import os from &#39;os&#39;;</code> as that is what NodeJS will one day support. <code>import * as os</code> is bad legacy. That error is expected since you are running directly against node via <code>tsc --module commonjs</code> because typescrfipt does not have proper interop behavior. Please see <a href=\"https://github.com/nodejs/node-eps/blob/master/002-es6-modules.md\" rel=\"nofollow noreferrer\">github.com/nodejs/node-eps/blob/master/002-es6-modules.md</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493883702, "post_id": 43775668, "comment_id": 74594302, "body": "To understand why <code>import * as ... from</code> is broken, consider that ES Modules prohibit a namespace from being callable or constructable. Many modules imported this way actually export a callable or constructable."}, {"owner": {"reputation": 1745, "user_id": 4584448, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/07c29b3322cd140cbbf7a891bdb10d99?s=128&d=identicon&r=PG", "display_name": "tBlabs", "link": "https://stackoverflow.com/users/4584448/tblabs"}, "edited": false, "score": 0, "creation_date": 1493886568, "post_id": 43775668, "comment_id": 74595964, "body": "<code>import * as os from &#39;os&#39;;</code> produces <code>error TS2307: Cannot find module &#39;os&#39;.</code> And I don&#39;t wanna require() next to my imports.. That&#39;s looks bad."}, {"owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "reply_to_user": {"reputation": 1745, "user_id": 4584448, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/07c29b3322cd140cbbf7a891bdb10d99?s=128&d=identicon&r=PG", "display_name": "tBlabs", "link": "https://stackoverflow.com/users/4584448/tblabs"}, "edited": false, "score": 0, "creation_date": 1493900806, "post_id": 43775668, "comment_id": 74605936, "body": "@tBlabs install <code>npm install @types&#47;node</code> and maybe add <code>types: [&quot;node&quot;]</code> in your <code>compileOptions</code> in tsconfig.json... that will tell typescript compiler to use node typings, which includes the <code>os</code> module."}], "tags": [], "owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "is_accepted": false, "score": 2, "last_activity_date": 1493900960, "last_edit_date": 1493900960, "creation_date": 1493880194, "answer_id": 43775668, "question_id": 43771470, "link": "https://stackoverflow.com/questions/43771470/os-eol-in-typescriptnode-js/43775668#43775668", "title": "os.EOL in Typescript+Node.js", "body": "<p>Its a commonjs module and not an es6 module. So you cannot use the </p>\n\n<pre><code>import {EOL} from 'os'\n</code></pre>\n\n<p>style because EOL isn't exported. </p>\n\n<p>You import these modules using either</p>\n\n<pre><code>import * as os from 'os';\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import os = require('os');\n</code></pre>\n\n<p>the former being more common as far as I've seen. </p>\n\n<pre><code>import * as os from 'os';\nconst { EOL } = os;\nconsole.log(\"hello\" + EOL + \"world\");\n</code></pre>\n\n<p>you may or may not need to <code>npm install @types/node</code> for typescript to know about <code>os</code>. with the types installed you can explicitly tell node to load the types up with</p>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"types\": [\n      \"node\"\n    ]\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1745, "user_id": 4584448, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/07c29b3322cd140cbbf7a891bdb10d99?s=128&d=identicon&r=PG", "display_name": "tBlabs", "link": "https://stackoverflow.com/users/4584448/tblabs"}, "edited": false, "score": 0, "creation_date": 1493886765, "post_id": 43775731, "comment_id": 74596074, "body": "That gives me <code>error TS2307: Cannot find module &#39;os&#39;. </code>. I use tsc 2.0.0, node 7.2.0, os 0.1.1"}, {"owner": {"reputation": 1085, "user_id": 2074057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kpxja.jpg?s=128&g=1", "display_name": "Leonardo Venoso", "link": "https://stackoverflow.com/users/2074057/leonardo-venoso"}, "reply_to_user": {"reputation": 1745, "user_id": 4584448, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/07c29b3322cd140cbbf7a891bdb10d99?s=128&d=identicon&r=PG", "display_name": "tBlabs", "link": "https://stackoverflow.com/users/4584448/tblabs"}, "edited": false, "score": 0, "creation_date": 1493887891, "post_id": 43775731, "comment_id": 74596847, "body": "Did you install the NodeJs types?"}], "tags": [], "owner": {"reputation": 1085, "user_id": 2074057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kpxja.jpg?s=128&g=1", "display_name": "Leonardo Venoso", "link": "https://stackoverflow.com/users/2074057/leonardo-venoso"}, "is_accepted": false, "score": 0, "last_activity_date": 1493880414, "creation_date": 1493880414, "answer_id": 43775731, "question_id": 43771470, "link": "https://stackoverflow.com/questions/43771470/os-eol-in-typescriptnode-js/43775731#43775731", "title": "os.EOL in Typescript+Node.js", "body": "<p>You can use os library in the following way:</p>\n\n<pre><code>import * as os from \"os\";\n\nos.EOL...\nos.CpuInfo....\n</code></pre>\n"}], "owner": {"reputation": 1745, "user_id": 4584448, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/07c29b3322cd140cbbf7a891bdb10d99?s=128&d=identicon&r=PG", "display_name": "tBlabs", "link": "https://stackoverflow.com/users/4584448/tblabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2979, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1493900960, "creation_date": 1493853588, "question_id": 43771470, "link": "https://stackoverflow.com/questions/43771470/os-eol-in-typescriptnode-js", "title": "os.EOL in Typescript+Node.js", "body": "<p>How to use <code>os.EOL</code> in Typescript Node.js program?</p>\n\n<pre><code>import { EOL } from 'os';\n\nconsole.log(\"text\"+EOL);       // ???\n</code></pre>\n\n<p>This is not working.</p>\n\n<p>I downloaded <code>os</code> with <code>npm i os -S</code> but in <code>node_modules/os/index.js</code> file is only one line: <code>module.exports = require('os')</code>. I don't get it..</p>\n"}, {"tags": ["angular", "typescript", "angular2-components"], "answers": [{"comments": [{"owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "edited": false, "score": 0, "creation_date": 1493853621, "post_id": 43771450, "comment_id": 74584352, "body": "I&#39;ve updated my question.  I had tried that method, but when I add that in I get the above error."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 2, "last_activity_date": 1493855068, "last_edit_date": 1493855068, "creation_date": 1493853465, "answer_id": 43771450, "question_id": 43771368, "link": "https://stackoverflow.com/questions/43771368/angular-2-call-method-in-nested-component/43771450#43771450", "title": "Angular 2 call method in nested component", "body": "<p>Use the <code>ViewChild</code> decorator factory</p>\n\n<pre><code>// Here is a component that uses the header.\n\nimport {ViewChild} from '@angular/core';\nimport {Component, OnInit} from '@angular/core';\nimport {HeaderComponent} from '../header/Header.Component';\nimport {Router, ActivatedRoute} from '@angular/router';\n\n@Component({\n  selector: 'app-census',\n  templateUrl: './census.component.html',\n  styleUrls: ['./census.component.css']\n})\nexport class CensusComponent implements OnInit {\n\n  // The argument `HeaderComponent` tells the framework to bind to the child \n  // component whose constructor function is `HeaderComponent`\n  @ViewChild(HeaderComponent) header: HeaderComponent;\n\n  constructor(readonly router: Router, readonly activatedRoute: ActivatedRoute) {}\n\n  ngOnInit() {\n    this.header.showMessage('an error occurred!', 'error');\n  }\n}\n</code></pre>\n\n<p>The error you receive:</p>\n\n<pre><code>WARNING in ./src/app/header/Header.Component.ts\nThere are multiple modules with names that only differ in casing.\nThis can lead to unexpected behavior when compiling on a filesystem with other case-semantic.\nUse equal casing. Compare these module identifiers:\n</code></pre>\n\n<p>is completely orthogonal.</p>\n\n<p>Specifically, it means that when you imported header/Header.component to register it in your <code>NgModule</code>, you imported the component using a module specifier with different casing. E.g. <code>header/header.component</code></p>\n\n<p>This is a problem that you can and should fix. Just make sure all imports use the same case.</p>\n\n<p>I recommend using lowercase file names and lowercase module specifiers everywhere. A simple search and replace should take care of it.</p>\n"}, {"comments": [{"owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "edited": false, "score": 0, "creation_date": 1493853839, "post_id": 43771459, "comment_id": 74584409, "body": "I&#39;ve updated my question.  I did try that, but I get an error when doing so."}], "tags": [], "owner": {"reputation": 31, "user_id": 4147015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ef40daec0a1ddfdac2ad4dd419a8bc?s=128&d=identicon&r=PG&f=1", "display_name": "madprogrammer2015", "link": "https://stackoverflow.com/users/4147015/madprogrammer2015"}, "is_accepted": false, "score": 1, "last_activity_date": 1493853535, "creation_date": 1493853535, "answer_id": 43771459, "question_id": 43771368, "link": "https://stackoverflow.com/questions/43771368/angular-2-call-method-in-nested-component/43771459#43771459", "title": "Angular 2 call method in nested component", "body": "<p>Have you thought about trying to use ViewChild? That should allow you to grab a reference to the header component and call the showMessage() method.</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#parent-to-view-child\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#parent-to-view-child</a></p>\n"}], "owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 0, "accepted_answer_id": 43771450, "answer_count": 2, "score": 3, "last_activity_date": 1493855068, "creation_date": 1493852754, "last_edit_date": 1493854009, "question_id": 43771368, "link": "https://stackoverflow.com/questions/43771368/angular-2-call-method-in-nested-component", "title": "Angular 2 call method in nested component", "body": "<p>I've found some older answers on this, but the methods they use are no longer valid.  I have a header component</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/Rx'; \n\nimport { AuthenticationService } from '../_services/Authentication.Service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n  loading = false;\n  error = '';\n  isLoggedIn = false;\n  showMessageWindow = false;\n  messageType: string = \"\";\n  messageText: string = \"\";\n  public currentUser: any = null;\n\n  constructor(private _auth: AuthenticationService, private router: Router) { }\n\n  ngOnInit() {\n    if(this._auth.isLoggedIn()) {\n      this.isLoggedIn = true;\n    }\n    else {\n      this._auth.logout();\n      this.isLoggedIn = false;\n      this.router.navigate(['/']);\n    }\n  }\n\n  showMessage(message: string, type: string) {\n    this.messageText = message;\n    this.messageType = type;\n    this.showMessageWindow = true;\n  }\n}\n</code></pre>\n\n<p>It's pretty basic, shows and manages what navigation can be seen depending on if and who is logged in.  I have a warning/alert built into the header component.  Not all pages use the header, so I am importing it into the components that do use it and putting it into the component template by putting <code>&lt;app-header&gt;&lt;/app-header&gt;</code> at the top.</p>\n\n<pre><code>Here is a component that uses the header.\nimport { Component, OnInit } from '@angular/core';\nimport { HeaderComponent } from '../header/Header.Component';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-census',\n  templateUrl: './census.component.html',\n  styleUrls: ['./census.component.css']\n})\nexport class CensusComponent implements OnInit {\n\n  constructor( private router: Router, private activatedRoute: ActivatedRoute) { }\n\n  ngOnInit() {\n\n  }\n\n}\n</code></pre>\n\n<p>I want to be able to put a method into this component that makes a call to <code>showMessage()</code> from the header component.  I've tried a few different ways with minimal success.  My biggest question is how do I reference the embedded component.  I looked through the documentation, but they always use a template right into the component and don't use a separate html file.</p>\n\n<p>If I try adding </p>\n\n<pre><code>  @ViewChild(HeaderComponent)\n  private header: HeaderComponent;\n</code></pre>\n\n<p>into my CensusComponent I get a warning:</p>\n\n<pre><code>WARNING in ./src/app/header/Header.Component.ts\nThere are multiple modules with names that only differ in casing.\nThis can lead to unexpected behavior when compiling on a filesystem with other case-semantic.\nUse equal casing. Compare these module identifiers:\n</code></pre>\n"}, {"tags": ["json", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 2, "last_activity_date": 1493875654, "last_edit_date": 1493875654, "creation_date": 1493847393, "answer_id": 43770391, "question_id": 43770322, "link": "https://stackoverflow.com/questions/43770322/cannot-fetch-object-from-json-response/43770391#43770391", "title": "Cannot fetch object from json response", "body": "<p>When your view first displays, the component has not yet retrieved the data. That is why the appUser is undefined. There are several ways to prevent this error:</p>\n\n<p>1) Initialize <code>appUser</code> to something so it is not undefined. This may not make sense for the business rules of your application.</p>\n\n<p>2) Add an <code>*ngIf = \"appUser\"</code> on one of the top-level HTML elements of your view, such as a <code>&lt;div&gt;</code>. This will prevent displaying the view until the data is retrieved.</p>\n\n<p>3) Add the safe navigation operator on <code>appUser</code> like this: <code>{{appUser?.firstName}}</code> The primary issue with this approach is that you need to add it to <em>every</em> usage of <code>appUser</code> on your page.</p>\n"}], "owner": {"reputation": 136, "user_id": 7184899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/edd341c4734d96d5f719446a092df4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/7184899/pawel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 43770391, "answer_count": 1, "score": 1, "last_activity_date": 1493875654, "creation_date": 1493846968, "question_id": 43770322, "link": "https://stackoverflow.com/questions/43770322/cannot-fetch-object-from-json-response", "title": "Cannot fetch object from json response", "body": "<p>I am new to Angular, but I have been fighting this 5 hours and cannot figure it out: I am not able to fetch object from json request in Angular4 app.\nI have following function in my service:      </p>\n\n<pre><code>   getById(id: number) {  \n        return this.http.get('/api/users/' + id, this.jwt()).map((response: Response) =&gt; response.json());\n    }\n</code></pre>\n\n<p>In my component I have:</p>\n\n<pre><code>export class EditUserComponent implements OnInit {\n  appUser: User;\n  id: number;\n  private sub: any;\n\n  ngOnInit(): void {\n    this.sub = this.route.params.subscribe(params =&gt; {\n      this.id = +params['id']; ;\n    });\n      this.userService.getById(this.id).subscribe((appUser: User) =&gt; {\n      this.appUser = appUser;\n    });\n  }\n   constructor(private auth: AuthenticationService, private userService: \nUserService, private route: ActivatedRoute,\n    private location: Location) {\n\n  }\n}\n</code></pre>\n\n<p>And I am displaying properties of User class on html view, like <code>{{appUser.firstName}}</code> and so on. Then i get <code>ZoneAwareError</code>:</p>\n\n<pre><code>   TypeError: Cannot read property 'firstName' of undefined\n    at Object.eval [as updateRenderer] (ng:///AppModule/EditUserComponent.ngfactory.js:37:34)\n    at Object.debugUpdateRenderer [as updateRenderer] (http://localhost:4200/vendor.bundle.js:12856:21)\n    at checkAndUpdateView (http://localhost:4200/vendor.bundle.js:12235:14)\n    at callViewAction (http://localhost:4200/vendor.bundle.js:12545:17)\n    at execComponentViewsAction (http://localhost:4200/vendor.bundle.js:12491:13)\n    at checkAndUpdateView (http://localhost:4200/vendor.bundle.js:12236:5)\n    at callWithDebugContext (http://localhost:4200/vendor.bundle.js:13218:42)\n    at Object.debugCheckAndUpdateView [as checkAndUpdateView] (http://localhost:4200/vendor.bundle.js:12758:12)\n    at ViewRef_.detectChanges (http://localhost:4200/vendor.bundle.js:10327:63)\n    at RouterOutlet.activateWith (http://localhost:4200/vendor.bundle.js:32148:42)\n    at ActivateRoutes.placeComponentIntoOutlet (http://localhost:4200/vendor.bundle.js:31329:16)\n    at ActivateRoutes.activateRoutes (http://localhost:4200/vendor.bundle.js:31310:26)\n    at http://localhost:4200/vendor.bundle.js:31246:58\n    at Array.forEach (native)\n    at ActivateRoutes.activateChildRoutes (http://localhost:4200/vendor.bundle.js:31246:29)\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "compiler-errors", "google-cloud-functions", "firebase-tools"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493847555, "post_id": 43770211, "comment_id": 74582298, "body": "If you&#39;re using nodejs and npm and webpack or browserify, you should not have a typings directory in general and just use node_modules/@types. Also make sure you don&#39;t have that @types/core-js"}, {"owner": {"reputation": 115, "user_id": 1038427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f31d8410c5810a74b246f9f588796ad?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/1038427/scott"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493866749, "post_id": 43770211, "comment_id": 74587315, "body": "Hi there, I&#39;m using VS Code and I don&#39;t think I&#39;m using browserify or webpack?  The directories came from when the dependencies were installed so I don&#39;t think I have any control over them."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493867432, "post_id": 43770211, "comment_id": 74587471, "body": "sure you do, just delete them and remove the typings install command from the package.json file"}, {"owner": {"reputation": 115, "user_id": 1038427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f31d8410c5810a74b246f9f588796ad?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/1038427/scott"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493870810, "post_id": 43770211, "comment_id": 74588346, "body": "I went through and removed the typings and update the respective project files and that broke some of the other TS files that depended on them.  The typings directories were only used for the base64url module.  It must be something else that is causing this issue.  The reason I said I don&#39;t think I have any control is if the package ever updated it would break my custom changes."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493870932, "post_id": 43770211, "comment_id": 74588384, "body": "You could always just selectively uninstall the ones you don&#39;t need"}, {"owner": {"reputation": 115, "user_id": 1038427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f31d8410c5810a74b246f9f588796ad?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/1038427/scott"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493871888, "post_id": 43770211, "comment_id": 74588651, "body": "I&#39;m not sure what to remove since the only two main packages that are installed are <code>firebase-admin</code> and <code>firebase-functions</code>.  The other node modules that are there are part of those packages."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493873988, "post_id": 43770211, "comment_id": 74589252, "body": "Looking over the errors more, it appears that there is a nested node_modules directory that is causing duplicates. What version of npm are you running?"}, {"owner": {"reputation": 115, "user_id": 1038427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f31d8410c5810a74b246f9f588796ad?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/1038427/scott"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493907589, "post_id": 43770211, "comment_id": 74611345, "body": "I&#39;m currently using version 2.15.9."}, {"owner": {"reputation": 115, "user_id": 1038427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f31d8410c5810a74b246f9f588796ad?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/1038427/scott"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493908083, "post_id": 43770211, "comment_id": 74611756, "body": "I just updated to node 7.10.0 and npm 4.2.0 and I still get the same build errors."}], "answers": [{"tags": [], "owner": {"reputation": 1048, "user_id": 2527604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fBwy.jpg?s=128&g=1", "display_name": "Francesco", "link": "https://stackoverflow.com/users/2527604/francesco"}, "is_accepted": false, "score": 0, "last_activity_date": 1500326807, "creation_date": 1500326807, "answer_id": 45153930, "question_id": 43770211, "link": "https://stackoverflow.com/questions/43770211/fresh-typescript-project-with-cloud-function-packages-installed-has-compiler-err/45153930#45153930", "title": "Fresh TypeScript Project with Cloud Function Packages Installed has Compiler Errors", "body": "<p>I've fixed the same issue (with a myApp fresh project) doing: </p>\n\n<pre><code>npm remove typescript --save-dev &amp;&amp; npm install typescript@2.1 --save-dev\n</code></pre>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 115, "user_id": 1038427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f31d8410c5810a74b246f9f588796ad?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/1038427/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 391, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500326807, "creation_date": 1493846428, "last_edit_date": 1493908776, "question_id": 43770211, "link": "https://stackoverflow.com/questions/43770211/fresh-typescript-project-with-cloud-function-packages-installed-has-compiler-err", "title": "Fresh TypeScript Project with Cloud Function Packages Installed has Compiler Errors", "body": "<p>I've started a new TypeScript project in <em>Visual Studio Code</em> that I want to use with Cloud Functions for Firebase service and I'm getting a ton of compiler errors.  I've looked far and wide to try and solve them as they appear to be breaking the Intelisense as well as adding errors to any of the TypeScript code I write myself.</p>\n\n<p>I can reproduce the issues on a new project after installing just the tools and I'm now really confused as to what the issue is.</p>\n\n<p>I have <code>firebase-tools</code> installed globally.</p>\n\n<p>I start with an empty folder, first I create a <code>tsconfig.json</code> file.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"sourceMap\": true\n    },\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>Next I add the <code>tasks.json</code> file.</p>\n\n<pre><code>{\n    // See https://go.microsoft.com/fwlink/?LinkId=733558\n    // for the documentation about the tasks.json format\n    \"version\": \"0.1.0\",\n    \"command\": \"tsc\",\n    \"isShellCommand\": true,\n    \"args\": [\"-p\", \".\"],\n    \"showOutput\": \"silent\",\n    \"problemMatcher\": \"$tsc\"\n}\n</code></pre>\n\n<p>Then I run <code>firebase init functions</code> to init the project for working with the functions APIs.</p>\n\n<p>The packaged installed from running this step are setup in a <code>packages.json</code> file.</p>\n\n<pre><code>{\n  \"name\": \"functions\",\n  \"description\": \"Cloud Functions for Firebase\",\n  \"dependencies\": {\n    \"firebase-admin\": \"~4.1.2\",\n    \"firebase-functions\": \"^0.5\"\n  },\n  \"private\": true\n}\n</code></pre>\n\n<p>At this point, when I try to build the project, and let it run <code>tsc</code> I end up with a pile of errors, like Duplicate Identifier, and Interface <code>Server</code> cannot simultaneously extend types 'Server' and 'EventEmitter'.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hB3A4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hB3A4.png\" alt=\"Sample of Compiler Errors\"></a></p>\n\n<p>After scowering Google for a while I can't figure out what the issue is.  I'm relatively new to TypeScript and I'm not 100% familiar with what everything is, and where everything goes but what it looks like is that there are conflicts because the types the <code>@types</code> and <code>typings</code> files are exporting are getting mixed up with either each other or something that is globally installed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AKb8D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AKb8D.png\" alt=\"List of Files with Compiler Errors\"></a></p>\n\n<p>I've tried using the exclude property in the <code>tsconfig.json</code> to exclude the <code>typings</code> directory, but that doesn't seem to work.</p>\n\n<p>The closest ticket I've found to my issue is <a href=\"https://github.com/Microsoft/TypeScript/issues/10504\" rel=\"nofollow noreferrer\">on GitHub</a> as part of the TypeScript project, but I'm not sure which module it is or where to point the path to.</p>\n\n<p>Any help would be greatly appreciated, I'm not sure if my lack of familiarity with TypeScript is the issue (i.e. a configuration problem) or it is a bug or something like that.</p>\n\n<p><strong>Edit:</strong>  I've updated nodejs and npm to versions 7.10.0 and 4.2.0 respectively.  I removed the packages and reinstalled them and now I have a slightly different set of errors.  The <code>node_modules</code> directory seems to have been flattened out.</p>\n\n<p>The file that had errors in the changed.\n<a href=\"https://i.stack.imgur.com/Xalny.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xalny.png\" alt=\"New set of files with errors\"></a></p>\n\n<p>But the same errors occurred.\n<a href=\"https://i.stack.imgur.com/o4Q1M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4Q1M.png\" alt=\"Same errors\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular2-forms"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 7063479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1317363048282815/picture?type=large", "display_name": "Piotr Kali\u0144ski", "link": "https://stackoverflow.com/users/7063479/piotr-kali%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1493850278, "post_id": 43770721, "comment_id": 74583338, "body": "Check my html, i might be missing sth."}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "reply_to_user": {"reputation": 207, "user_id": 7063479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1317363048282815/picture?type=large", "display_name": "Piotr Kali\u0144ski", "link": "https://stackoverflow.com/users/7063479/piotr-kali%c5%84ski"}, "edited": false, "score": 1, "creation_date": 1493850534, "post_id": 43770721, "comment_id": 74583426, "body": "@PiotrKali\u0144ski I can&#39;t where you&#39;re calling <i>add</i> <code>function</code>.. Anyway, in the second <code>*ngFor</code> do this: <code>let j = index</code> and <code>[formGroupName]=&quot;j&quot;</code>."}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "reply_to_user": {"reputation": 207, "user_id": 7063479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1317363048282815/picture?type=large", "display_name": "Piotr Kali\u0144ski", "link": "https://stackoverflow.com/users/7063479/piotr-kali%c5%84ski"}, "edited": false, "score": 1, "creation_date": 1493854391, "post_id": 43770721, "comment_id": 74584541, "body": "@PiotrKali\u0144ski As I said, you must pass the index.. <code>(click)=&quot;add(i)&quot;</code>"}], "tags": [], "owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "is_accepted": true, "score": 2, "last_activity_date": 1525194533, "last_edit_date": 1525194533, "creation_date": 1493848852, "answer_id": 43770721, "question_id": 43770187, "link": "https://stackoverflow.com/questions/43770187/angular2-3rd-level-formarray-nesting/43770721#43770721", "title": "Angular2 3rd level FormArray nesting,", "body": "<p>Since <code>lv2</code> is an <code>Array</code>, you must pass the <em>index</em> from template to component in order to get the <code>lv3</code> form group related to:</p>\n\n<p>Change your <code>function</code> to:</p>\n\n<pre><code>add(index: number): void {\n  const arr = this.myForm.get(`lvl2.${index}.lvl3`) as FormArray;\n  arr.push(this.initLvl3());\n}\n</code></pre>\n"}], "owner": {"reputation": 207, "user_id": 7063479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1317363048282815/picture?type=large", "display_name": "Piotr Kali\u0144ski", "link": "https://stackoverflow.com/users/7063479/piotr-kali%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "accepted_answer_id": 43770721, "answer_count": 1, "score": 1, "last_activity_date": 1525194533, "creation_date": 1493846358, "last_edit_date": 1493850856, "question_id": 43770187, "link": "https://stackoverflow.com/questions/43770187/angular2-3rd-level-formarray-nesting", "title": "Angular2 3rd level FormArray nesting,", "body": "<pre><code>createForm() {\n    this.myForm = this.fb.group({\n        name: '',\n        lvl2: this.fb.array([\n            this.initLvl2(),\n        ])\n    })\n}\n\n&lt;form [formGroup]=\"myForm\" novalidate&gt;\n&lt;div formArrayName=\"lvl2\"&gt;\n    &lt;div *ngFor=\"let lvl2s of myForm.controls.lvl2.controls; let i=index let last=last\"&gt;\n        &lt;div class=\"panel-body\" [formGroupName]=\"i\"&gt; \n                &lt;div *ngFor=\"let lvl3 of lvl2s.controls.lvl3.controls; let i=index let last=last\" formArrayName=\"lvl3\"&gt;\n                    &lt;div class=\"panel-body\" [formGroupName]=\"i\"&gt;\n                              &lt;div class=\"margin-20\"&gt;\n                                        &lt;button md-raised-button type=\"button\" *ngIf=\"last\" (click)=\"add()\" style=\"cursor: default\"&gt;Add Action&lt;/button&gt;\n                                    &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>initLvl2() {\n    return this.fb.group({\n        name: '',\n        lvl3: this.fb.array([\n            this.initLvl3()\n        ])\n    })\n}\n\ninitLvl3() {\n    return this.fb.group({\n        parameters: '',\n        wait_time: ''\n    })\n  }\n\n  add(){\n  const control = &lt;FormArray&gt;this.myForm.get('lvl2.lvl3')\n  control.push(this.initLvl3());\n}\n</code></pre>\n\n<p>And for some hours, trying everything I got some errors \nCannot read property 'push' of null, how to deal with that? I am tired with this, there were several questions but mostly without good reply</p>\n"}, {"tags": ["angular", "typescript", "autocomplete", "visual-studio-code"], "comments": [{"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1493845935, "post_id": 43769956, "comment_id": 74581628, "body": "Do you have <code>&quot;typescript.tsdk&quot;</code> set in your workspace? Also, what extensions do you have installed?"}, {"owner": {"reputation": 139, "user_id": 6796371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e60191501b8fb8c972ff381bfeb3fa9?s=128&d=identicon&r=PG&f=1", "display_name": "JsonMraz", "link": "https://stackoverflow.com/users/6796371/jsonmraz"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1493881457, "post_id": 43769956, "comment_id": 74592872, "body": "@MattBierner Yes I tried to set in my workspace settings <code>&quot;typescript.tsdk&quot;: &quot;node_modules\\\\typescript\\\\lib&quot;</code> or <code>&quot;typescript.tsdk&quot;: &quot;node_modules&#47;typescript&#47;lib&quot;</code> or <code>&quot;typescript.tsdk&quot;: &quot;C:&#47;[path to my Angular project]&#47;node_modules&#47;typescript&#47;lib&quot;</code> or &quot;typescript.tsdk&quot;: &quot;C:\\&#91;path to my Angular project]\\\\node_modules\\\\typescript\\\\lib&quot; and it&#39;s not working. I have <code>Angular 2+ Snippets</code> as extension. I tried to remove it it doesn&#39;t change anything. Without extension, format code works in another folder but not in my Angular project."}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1493915454, "post_id": 43769956, "comment_id": 74617168, "body": "Try setting <code>&quot;typescript.tsserver.trace&quot;: &quot;verbose&quot;</code> and restarting VSCode. Then reproduce the issue and open the TypeScript section of the output window. This may provide more information on what is going wrong"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 6796371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e60191501b8fb8c972ff381bfeb3fa9?s=128&d=identicon&r=PG&f=1", "display_name": "JsonMraz", "link": "https://stackoverflow.com/users/6796371/jsonmraz"}, "is_accepted": true, "score": 0, "last_activity_date": 1493969432, "creation_date": 1493969432, "answer_id": 43799036, "question_id": 43769956, "link": "https://stackoverflow.com/questions/43769956/vscode-format-code-doesnt-work-with-typescript/43799036#43799036", "title": "VSCode format code doesn&#39;t work with typescript", "body": "<p>My problem was solved.\nToday a new update of VSCode was released (1.12). I installed it and now I can finally use the 'format code' shortcut.</p>\n"}], "owner": {"reputation": 139, "user_id": 6796371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e60191501b8fb8c972ff381bfeb3fa9?s=128&d=identicon&r=PG&f=1", "display_name": "JsonMraz", "link": "https://stackoverflow.com/users/6796371/jsonmraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 43799036, "answer_count": 1, "score": 1, "last_activity_date": 1493969432, "creation_date": 1493845295, "question_id": 43769956, "link": "https://stackoverflow.com/questions/43769956/vscode-format-code-doesnt-work-with-typescript", "title": "VSCode format code doesn&#39;t work with typescript", "body": "<p>I'm using VSCode 1.11 with typescript 2.2.2.</p>\n\n<p>I am currently programming with Angular 2 and I noticed that I'm not able to have the 'format code' command work anymore with Typescript files. And it doesn't work in this Angular project only. By the way I have Windows.</p>\n\n<p>The 'format code' was perfectly working before.</p>\n\n<hr>\n\n<p>What I tried:</p>\n\n<ul>\n<li>I created a new typescript file in another empty folder and the 'format code' works fine but not in my Angular project.</li>\n<li>I noticed that when I remove the <code>node_modules</code> folder, the 'format code' works again.</li>\n<li>So maybe there is something wrong in the <code>node_modules</code> folder, so I remove this folder, I deleted the <code>npm-cache</code> folder in <code>AppData</code> and I launch <code>npm install</code>. But it still doesn't work.</li>\n</ul>\n"}, {"tags": ["typescript", "angular2-routing", "angular2-services"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493842575, "post_id": 43769064, "comment_id": 74579865, "body": "This is a pain. I wrote an interceptor enabled client for my apps. There are some out there on npm/GitHub. The problem is that it sucks for integrating with other libraries. I ended up replacing <code>Http</code> instead of wrapping it, but this is dangerous as well."}, {"owner": {"reputation": 1080, "user_id": 6524629, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/206d900ea7a82919c8941717b0ed7d5b?s=128&d=identicon&r=PG&f=1", "display_name": "antonyboom", "link": "https://stackoverflow.com/users/6524629/antonyboom"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493842836, "post_id": 43769064, "comment_id": 74580000, "body": "@AluanHaddad and how can I beat it? I know that absolutely every route has to have the same param such as every request, which user gets after he has been logged in to the system, I just need to pass it to the route..."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493842902, "post_id": 43769064, "comment_id": 74580037, "body": "Personally, I would leverage some abstraction, such as an Http client offering interceptors, or write my own. This sort of duplication is unacceptable. The angular team deliberately removed interceptors and refused to reintroduce them. Sure they are not perfect, but they offer no equivalent. Many other use cases as well: setting request/response transformers, loading indicators, etc."}, {"owner": {"reputation": 1080, "user_id": 6524629, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/206d900ea7a82919c8941717b0ed7d5b?s=128&d=identicon&r=PG&f=1", "display_name": "antonyboom", "link": "https://stackoverflow.com/users/6524629/antonyboom"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493843160, "post_id": 43769064, "comment_id": 74580165, "body": "@AluanHaddad damn, this is headache.."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493843205, "post_id": 43769064, "comment_id": 74580197, "body": "If you want a bigger headache, enjoy reading this <a href=\"https://github.com/angular/angular/issues/2684\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/2684</a> it also shows some ideas. If you want to ping me, I can send you some sample code."}, {"owner": {"reputation": 1080, "user_id": 6524629, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/206d900ea7a82919c8941717b0ed7d5b?s=128&d=identicon&r=PG&f=1", "display_name": "antonyboom", "link": "https://stackoverflow.com/users/6524629/antonyboom"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493843415, "post_id": 43769064, "comment_id": 74580312, "body": "@AluanHaddad thanks for that, I appreciate it"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1080, "user_id": 6524629, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/206d900ea7a82919c8941717b0ed7d5b?s=128&d=identicon&r=PG&f=1", "display_name": "antonyboom", "link": "https://stackoverflow.com/users/6524629/antonyboom"}, "edited": false, "score": 0, "creation_date": 1493843776, "post_id": 43769064, "comment_id": 74580495, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/143331/discussion-between-aluan-haddad-and-antonyboom\">continue this discussion in chat</a>."}], "owner": {"reputation": 1080, "user_id": 6524629, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/206d900ea7a82919c8941717b0ed7d5b?s=128&d=identicon&r=PG&f=1", "display_name": "antonyboom", "link": "https://stackoverflow.com/users/6524629/antonyboom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1242, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1493841980, "creation_date": 1493841980, "question_id": 43769064, "link": "https://stackoverflow.com/questions/43769064/angular-2-add-query-param-to-route-url", "title": "Angular 2, add query param to route url", "body": "<p>I'm trying to add param for every route url in angular 2. In angular 1 that was easy you just need to specify some http interceptor, where you can define config param and angular automatically will add it to request and route url</p>\n\n<pre><code>'request': function(config) {\n      config.params = config.params || {};\n      config.params.myParam: paramId;\n      return config;\n    },\n\nrequest api/endPoint?myParam=paramId\nurl domain/route?myParam=paramId\n</code></pre>\n\n<p>I was looking for something like in angular 2 but I've got only this: </p>\n\n<pre><code>createAuthRequest() {\n\n    ...\n\n    let params: URLSearchParams = new URLSearchParams();\n    params.set('myParam', paramId);\n\n    let requestOptions = new RequestOptions();\n    requestOptions.search = params;\n    requestOptions.headers = head;\n    return requestOptions\n  }\n</code></pre>\n\n<p>request: </p>\n\n<pre><code>getData(): Promise&lt;any&gt; {\n    return this.http\n      .get(this.appServices.api + \"/endPoint\", this.appServices.createAuthRequest())\n      .toPromise()\n      .then(response =&gt; this.appServices.extractToken(response))\n      .catch((err)=&gt;{this.appServices.handleError(err);})\n  }\n</code></pre>\n\n<p>in this case my request looks right:</p>\n\n<pre><code>api/endPoint?myParam=paramId\n</code></pre>\n\n<p>but my url doesn't:</p>\n\n<pre><code>domain/route\n</code></pre>\n\n<p>What am I missing and where is my mistake? How could I achieve this: </p>\n\n<pre><code>domain/route?myParam=paramId\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jsdoc"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1493841646, "post_id": 43768915, "comment_id": 74579353, "body": "Have you used React&#39;s builtin <code>PropTypes</code>?"}, {"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493842067, "post_id": 43768915, "comment_id": 74579576, "body": "@AluanHaddad Typescript has recently added type checking support through jsdoc annotations. Refer the link in the question."}, {"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1493842107, "post_id": 43768915, "comment_id": 74579595, "body": "@AndrewLi That is being deprecated. And I would prefer the checks to happen at compile time."}, {"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493842137, "post_id": 43768915, "comment_id": 74579611, "body": "@AluanHaddad I intend to write .js files, which will not have generics and instead have jsdoc comments."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1493843606, "post_id": 43768915, "comment_id": 74580417, "body": "It is, since when? Have you tried <a href=\"http://usejsdoc.org/tags-property.html\" rel=\"nofollow noreferrer\"><code>@property</code></a>?"}], "answers": [{"comments": [{"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 0, "creation_date": 1493873007, "post_id": 43773447, "comment_id": 74588963, "body": "Thanks for the answer. This works. Can you also suggest how to flag passing unspecified props as errors?  eg. in your example if I call something like: <code>&lt;Foo a=&#39;a&#39; b={0} c={20}&#47;&gt;</code>, I don&#39;t get any errors."}, {"owner": {"reputation": 6896, "user_id": 3039956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267b5cb132e543e4bbac780632fd4742?s=128&d=identicon&r=PG", "display_name": "kimamula", "link": "https://stackoverflow.com/users/3039956/kimamula"}, "reply_to_user": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 0, "creation_date": 1493874294, "post_id": 43773447, "comment_id": 74589347, "body": "Hmm, that&#39;s strange. I get an error <code>Property &#39;c&#39; does not exist on type &#39;IntrinsicAttributes ...</code> when I call <code>&lt;Foo a=&#39;a&#39; b={0} c={20}&#47;&gt;</code> with <code>&quot;compilerOptions&quot;: { &quot;target&quot;: &quot;es5&quot;, &quot;allowJs&quot;: true, &quot;checkJs&quot;: true, &quot;jsx&quot;: &quot;react&quot; }</code>. I am using TypeScript 2.3.2."}, {"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 0, "creation_date": 1493875212, "post_id": 43773447, "comment_id": 74589673, "body": "I am trying with all files as js files (including the one that imports it), along with <code>&#47;&#47; @ts-check</code>.    tsconfig: ` {     &quot;compilerOptions&quot;: { \t&quot;noEmit&quot;: true, \t&quot;allowJs&quot;: true,         &quot;jsx&quot;: &quot;React&quot;,         &quot;checkJs&quot;: true,         &quot;allowJs&quot;: true     },     &quot;include&quot;: [ \t&quot;./src/&quot;     ] } `"}, {"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 0, "creation_date": 1493877425, "post_id": 43773447, "comment_id": 74590598, "body": "Actually when both files are js the type validations are not happening at all."}, {"owner": {"reputation": 6896, "user_id": 3039956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267b5cb132e543e4bbac780632fd4742?s=128&d=identicon&r=PG", "display_name": "kimamula", "link": "https://stackoverflow.com/users/3039956/kimamula"}, "reply_to_user": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 0, "creation_date": 1493878730, "post_id": 43773447, "comment_id": 74591212, "body": "I created <a href=\"https://github.com/kimamula/ts-jsdoc-support-react\" rel=\"nofollow noreferrer\">a repo on github</a>, in which type checking is working as expected in (probably) the same condition as yours."}, {"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 0, "creation_date": 1493879675, "post_id": 43773447, "comment_id": 74591705, "body": "OK. I was not assigning to const Foo and exporting that. This is weird, but works. Thanks a lot for all the help."}], "tags": [], "owner": {"reputation": 6896, "user_id": 3039956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267b5cb132e543e4bbac780632fd4742?s=128&d=identicon&r=PG", "display_name": "kimamula", "link": "https://stackoverflow.com/users/3039956/kimamula"}, "is_accepted": false, "score": 4, "last_activity_date": 1494143128, "last_edit_date": 1494143128, "creation_date": 1493868889, "answer_id": 43773447, "question_id": 43768915, "link": "https://stackoverflow.com/questions/43768915/how-to-use-typescript-jsdoc-annotations-for-react-proptypes/43773447#43773447", "title": "How to use typescript jsdoc annotations for React PropTypes", "body": "<p>This works, though it may not be so good.</p>\n\n<pre><code>// Foo.jsx\nimport * as React from 'react';\n\n/**\n * @type {{ new(props: any): {\n     props: { a: string, b: number },\n     state: any,\n     context: any,\n     refs: any,\n     render: any,\n     setState: any,\n     forceUpdate: any\n   } }}\n */\nconst Foo = class Foo extends React.Component {\n  render() {\n    return &lt;div className={this.props.a}&gt;{this.props.b}&lt;/div&gt;;\n  }\n};\nexport default Foo;\n\n// import Foo and use it in .tsx or .jsx file\nimport Foo from './Foo';\n\n&lt;Foo/&gt;; // error: Type '{}' is not assignable to type '{ a: string; b: number; }'\n&lt;Foo a='a' b={0}/&gt;; // OK\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1365, "user_id": 1064570, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82cc1e4dd4fe0c392059fef53666d4bc?s=128&d=identicon&r=PG", "display_name": "artin", "link": "https://stackoverflow.com/users/1064570/artin"}, "edited": false, "score": 0, "creation_date": 1512059630, "post_id": 46421203, "comment_id": 82113492, "body": "Run-time <code>PropTypes</code> checks mixed up with static <code>typescript</code> checks. I would drop <code>PropTypes</code> since it does not make sense to use both."}], "tags": [], "owner": {"reputation": 4444, "user_id": 5000491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c3a580b8c4720e9f10f39806ce6e517c?s=128&d=identicon&r=PG&f=1", "display_name": "datoml", "link": "https://stackoverflow.com/users/5000491/datoml"}, "is_accepted": false, "score": 5, "last_activity_date": 1506413828, "creation_date": 1506413828, "answer_id": 46421203, "question_id": 43768915, "link": "https://stackoverflow.com/questions/43768915/how-to-use-typescript-jsdoc-annotations-for-react-proptypes/46421203#46421203", "title": "How to use typescript jsdoc annotations for React PropTypes", "body": "<p>In case someone is searching for an alternate solution.\nRegarding to this <a href=\"https://github.com/Microsoft/TypeScript/issues/15251\" rel=\"noreferrer\">Typescript issue</a> you can also achieve it like this.</p>\n\n<pre><code>import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * @augments {Component&lt;{onSubmit:function, text:string}&gt;}\n * @param {object} event - Input event\n * @return {React.ReactElement} - React component\n*/\nclass Test extends Component {\n  handleInput = (event) =&gt; {\n    event.preventDefault();\n    this.props.onSubmit(event.target.value);\n  };\n\n  render() {\n    const { text } = this.props;\n    return &lt;div&gt;Hello, property :O {text}&lt;/div&gt;;\n  }\n}\n\nTest.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n};\n\nexport default Test;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1365, "user_id": 1064570, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82cc1e4dd4fe0c392059fef53666d4bc?s=128&d=identicon&r=PG", "display_name": "artin", "link": "https://stackoverflow.com/users/1064570/artin"}, "is_accepted": true, "score": 26, "last_activity_date": 1512658010, "last_edit_date": 1512658010, "creation_date": 1512061626, "answer_id": 47578899, "question_id": 43768915, "link": "https://stackoverflow.com/questions/43768915/how-to-use-typescript-jsdoc-annotations-for-react-proptypes/47578899#47578899", "title": "How to use typescript jsdoc annotations for React PropTypes", "body": "<p>I prefer following form (es2015 + <a href=\"https://www.npmjs.com/package/@types/react\" rel=\"noreferrer\">@types/react</a>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * @typedef {object} Props\n * @prop {string} className\n * @prop {number} numberProp\n *\n * @extends {Component&lt;Props&gt;}\n */\nexport default class SomeComponent extends Component {\n    render() {\n        return (\n            &lt;div className={this.props.className}&gt;\n                {this.props.numberProp}\n            &lt;/div&gt;\n        );\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9680, "user_id": 2054671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/egwA7.jpg?s=128&g=1", "display_name": "gaurav5430", "link": "https://stackoverflow.com/users/2054671/gaurav5430"}, "is_accepted": false, "score": 1, "last_activity_date": 1615102360, "creation_date": 1615102360, "answer_id": 66514196, "question_id": 43768915, "link": "https://stackoverflow.com/questions/43768915/how-to-use-typescript-jsdoc-annotations-for-react-proptypes/66514196#66514196", "title": "How to use typescript jsdoc annotations for React PropTypes", "body": "<p>If you use PropTypes,</p>\n<p>something like this works for me:</p>\n<pre><code>import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Test component\n * @augments {Component&lt;Props, State&gt;}\n */\nclass Test extends React.Component {\n  // ...\n}\n\nTest.propTypes = {\n  title: PropTypes.string.isRequired,\n}\n\nexport default class Test1 extends React.Component {\n  render() {\n    return &lt;Test  /&gt;\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/V3qIJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V3qIJ.png\" alt=\"vscode proptypes intellisense\" /></a></p>\n"}], "owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9325, "favorite_count": 4, "accepted_answer_id": 47578899, "answer_count": 4, "score": 14, "last_activity_date": 1615102360, "creation_date": 1493841415, "question_id": 43768915, "link": "https://stackoverflow.com/questions/43768915/how-to-use-typescript-jsdoc-annotations-for-react-proptypes", "title": "How to use typescript jsdoc annotations for React PropTypes", "body": "<p>When defining react components using typescript we can write something like: </p>\n\n<pre><code>class SomeComponent extends React.Component&lt;PropInterface, StateInterface&gt; {\n  // ...\n}\n</code></pre>\n\n<p>Is there a way do the equivalent using <a href=\"https://github.com/Microsoft/TypeScript/wiki/JSDoc-support-in-JavaScript\" rel=\"noreferrer\">jsdoc annotations</a> and have props type-checked. </p>\n"}, {"tags": ["generics", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 770719, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z6Bzq.jpg?s=128&g=1", "display_name": "jjude", "link": "https://stackoverflow.com/users/770719/jjude"}, "edited": false, "score": 2, "creation_date": 1493871516, "post_id": 43772662, "comment_id": 74588549, "body": "Thanks for answering in SO. Please describe your answer to explain what you are doing. Think of sitting next to the person who asked the question and trying to explain how to solve the problem rather than handing out the answer."}], "tags": [], "owner": {"reputation": 43, "user_id": 7960600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/407876b95cfa4edecbc469b40a092746?s=128&d=identicon&r=PG&f=1", "display_name": "ismail codar", "link": "https://stackoverflow.com/users/7960600/ismail-codar"}, "is_accepted": false, "score": 0, "last_activity_date": 1493863423, "creation_date": 1493863423, "answer_id": 43772662, "question_id": 43768801, "link": "https://stackoverflow.com/questions/43768801/transforming-a-generic-interface-type-in-typescript/43772662#43772662", "title": "Transforming a generic interface type in TypeScript", "body": "<p>Could you try the following..</p>\n\n<pre><code>function wrap&lt;T&gt;(obj: T): T {\n    const result: any = {}\n    Object.keys(obj).forEach(key =&gt; {\n        if ((obj as any)[key] instanceof Wrap) {\n            result[key] = (obj as any)[key]\n        } else {\n            result[key] = new Wrap((obj as any)[key])\n        }\n    })\n    return result\n}\n\n\nconst data = { someData: 1 }\nvar test = wrap(data)\ntest.someData //  the autocomplete in my editor shows someData with intellisense\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6896, "user_id": 3039956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267b5cb132e543e4bbac780632fd4742?s=128&d=identicon&r=PG", "display_name": "kimamula", "link": "https://stackoverflow.com/users/3039956/kimamula"}, "is_accepted": true, "score": 2, "last_activity_date": 1493881710, "creation_date": 1493881710, "answer_id": 43776137, "question_id": 43768801, "link": "https://stackoverflow.com/questions/43768801/transforming-a-generic-interface-type-in-typescript/43776137#43776137", "title": "Transforming a generic interface type in TypeScript", "body": "<p>You can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> (<code>MaybeWrapped</code> and <code>Wrapped</code> in the following example).</p>\n\n<pre><code>class Wrap&lt;Value&gt; {\n  constructor(public value: Value) {}\n}\n\ntype MaybeWrapped&lt;T&gt; = {\n  [K in keyof T]: T[K] | Wrap&lt;T[K]&gt;;\n};\n\ntype Wrapped&lt;T&gt; = {\n  [K in keyof T]: Wrap&lt;T[K]&gt;;\n};\n\nfunction wrap&lt;T&gt;(arg: MaybeWrapped&lt;T&gt;): Wrapped&lt;T&gt; {\n  // your implementation here\n}\n\nfunction unwrap&lt;T&gt;(arg: MaybeWrapped&lt;T&gt;): T {\n  // your implementation here\n}\n\ndeclare const input: {\n  a: Wrap&lt;string&gt;\n  b: Date\n};\n\nconst wrapped = wrap(input);\nwrapped.a.value.length; // wrapped.a is infered as Wrap&lt;string&gt;\nwrapped.b.value.getTime(); // wrapped.b is infered as Wrap&lt;Date&gt;\n\nconst unwrapped = unwrap(input);\nunwrapped.a.length; // unwrapped.a is infered as string\nunwrapped.b.getTime(); // unwrapped.b is infered as Date\n</code></pre>\n"}], "owner": {"reputation": 14428, "user_id": 1191551, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/97ced8a229689b73b098a542636052e8?s=128&d=identicon&r=PG", "display_name": "Chet", "link": "https://stackoverflow.com/users/1191551/chet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 0, "accepted_answer_id": 43776137, "answer_count": 2, "score": 2, "last_activity_date": 1493881710, "creation_date": 1493841036, "question_id": 43768801, "link": "https://stackoverflow.com/questions/43768801/transforming-a-generic-interface-type-in-typescript", "title": "Transforming a generic interface type in TypeScript", "body": "<p>I'm trying to figure out how to create a function that accepts a generic type that is an object with keys and values and returns a type with the same interface but modifies the values of that object. It's a little hard to explain in plain English, so here's an example:</p>\n\n<p>Here's a contrived class that has a generic type and wraps a value</p>\n\n<pre><code>class Wrap&lt;A&gt; {\n    constructor(public value: A) {}\n}\n</code></pre>\n\n<p>I want to create two functions <code>wrap</code> and <code>unwrap</code> that take an object and make sure all the values are wrapped or unwrapped. Here are the functions in vanilla js:</p>\n\n<pre><code>function wrap(obj) {\n    const result = {}\n    Object.keys(obj).forEach(key =&gt; {\n        if (obj[key] instanceof Wrap) {\n            result[key] = obj[key]\n        } else {\n            result[key] = new Wrap(obj[key])\n        }\n    })\n    return result\n}\n\nfunction unwrap(obj) {\n    const result = {}\n    Object.keys(obj).forEach(key =&gt; {\n        if (obj[key] instanceof Wrap) {\n            result[key] = obj[key].value\n        } else {\n            result[key] = obj[key]\n        }\n    })\n    return result\n}\n</code></pre>\n\n<p>I'm trying to figure out how to create type signatures for these functions while maintaining as much type safety as possible. For example, if the input type is an interface, I want to output an interface as well:</p>\n\n<pre><code>interface Ex1Input {\n    a: number\n    b: string\n}\n\ninterface Ex1Output {\n    a: Wrap&lt;number&gt;\n    b: Wrap&lt;string&gt;\n}\n\ninterface Ex2Input {\n    a: number\n    b: Wrap&lt;string&gt;\n}\n\ninterface Ex2Output {\n    a: Wrap&lt;number&gt;\n    b: Wrap&lt;string&gt;\n}\n</code></pre>\n\n<p>I do not want to input and output an arbitrary <code>{[key: string]: Wrap&lt;any&gt;}</code> because I want to maintain the type safety of the interface.</p>\n\n<p>Same with the <code>unwrap</code> function:</p>\n\n<pre><code>interface Ex3Input {\n    a: Wrap&lt;number&gt;\n    b: Wrap&lt;string&gt;\n}\n\ninterface Ex3Output {\n    a: number\n    b: string\n}\n\ninterface Ex4Input {\n    a: number\n    b: Wrap&lt;string&gt;\n}\n\ninterface Ex4Output {\n    a: number\n    b: string\n}\n</code></pre>\n\n<p>I've tried a few different things... This is maybe the closest I've gotten, but I feel like its still pretty far from working as I would like.</p>\n\n<pre><code>interface WrapInput {\n    [key: string]: any\n}\n\ninterface WrapOutput extends WrapInput {\n    [key: string]: Wrap&lt;WrapInput[keyof WrapInput]&gt;\n}\n\nfunction wrap&lt;T extends WrapInput&gt;(obj: T): WrapOutput {\n    const result: WrapOutput = {}\n    Object.keys(obj).forEach(key =&gt; {\n        if (obj[key] instanceof Wrap) {\n            result[key] = obj[key]\n        } else {\n            result[key] = new Wrap(obj[key])\n        }\n    })\n    return result\n}\n</code></pre>\n\n<p>Any ideas? Is this possible? Just to reiterate -- I'm interested in a solution that is as typesafe as possible. So if I use <code>wrap</code> with <code>Ex1Input</code>, the autocomplete in my editor should show me that there are only two properties on the output and their specific types.</p>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 1224, "user_id": 5715546, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mQGes.jpg?s=128&g=1", "display_name": "eyoeldefare", "link": "https://stackoverflow.com/users/5715546/eyoeldefare"}, "edited": false, "score": 0, "creation_date": 1514848328, "post_id": 43768424, "comment_id": 83080330, "body": "Meta tags are not even important anymore (exept for the musts) as google started focusing on actual content within the page than meta tag title and descriptions. Just make sure to have a good links and content in the page and MAKE SURE your URL don&#39;t suck and is readable. Other than that Anguar universe should take care of the rest."}], "answers": [{"comments": [{"owner": {"reputation": 716, "user_id": 7959497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6x0LF.png?s=128&g=1", "display_name": "Rob Bailey", "link": "https://stackoverflow.com/users/7959497/rob-bailey"}, "edited": false, "score": 0, "creation_date": 1493893236, "post_id": 43769177, "comment_id": 74600601, "body": "Thanks for the above, How would I pass data from the component into the meta data? Would &quot;this.post.title&quot; work (or similar)?"}, {"owner": {"reputation": 4367, "user_id": 1142010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe2164bcb16141c997646f16939edaa?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/1142010/dylan"}, "reply_to_user": {"reputation": 716, "user_id": 7959497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6x0LF.png?s=128&g=1", "display_name": "Rob Bailey", "link": "https://stackoverflow.com/users/7959497/rob-bailey"}, "edited": false, "score": 0, "creation_date": 1493906573, "post_id": 43769177, "comment_id": 74610570, "body": "I just put the relevant bits, you would add the methods / events (like router/navigationEnd) or when some data returns.  You will need to search for the elements in console to verify."}], "tags": [], "owner": {"reputation": 4367, "user_id": 1142010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe2164bcb16141c997646f16939edaa?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/1142010/dylan"}, "is_accepted": false, "score": 1, "last_activity_date": 1493916701, "last_edit_date": 1493916701, "creation_date": 1493842439, "answer_id": 43769177, "question_id": 43768424, "link": "https://stackoverflow.com/questions/43768424/how-do-i-add-dynamic-metadata-in-angular4/43769177#43769177", "title": "How do I add dynamic metadata in Angular4", "body": "<p>This is assuming we realize that this means nothing for SEO without <a href=\"https://github.com/angular/universal\" rel=\"nofollow noreferrer\">universal</a> (Server-side rendering) etc. And also that we are using v4+.</p>\n\n<p>You can handle meta with platform-browser which has <code>Title</code> and <code>Meta</code> etc. </p>\n\n<pre><code>import { Title, Meta, MetaDefinition } from '@angular/platform-browser';\n...\n\nconstructor(\n  private _meta: Meta,\n  private _title: Title   \n\n...\n\nthis._title.setTitle('foo');\n\n...\n\nlet meta: MetaDefinition[] = [\n  { name: 'application-name', content: 'foo' },\n  { name: 'description', content: 'bar' }\n];\n\nthis._meta.addTags(meta);\n</code></pre>\n\n<p><strong>Update:</strong>\nSo yes in your case you could add based on the response.</p>\n\n<pre><code> .subscribe((post) =&gt; {\n     this.post = post; \n     this._title.setTitle( this.post.title ); \n });\n</code></pre>\n\n<p>For cleanliness I would create a separate 'service.method' like 'setPageMeta()', which can be used to handle route.data or http response.</p>\n"}], "owner": {"reputation": 716, "user_id": 7959497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6x0LF.png?s=128&g=1", "display_name": "Rob Bailey", "link": "https://stackoverflow.com/users/7959497/rob-bailey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493916701, "creation_date": 1493839588, "last_edit_date": 1493840388, "question_id": 43768424, "link": "https://stackoverflow.com/questions/43768424/how-do-i-add-dynamic-metadata-in-angular4", "title": "How do I add dynamic metadata in Angular4", "body": "<p>I have an angular4 blogging app which needs dynamic metadata for SEO. \nMy service (BlogService) delivers JSON data from a PHP server.\ne.g.</p>\n\n<pre><code>{\"ID\":\"168\",\"title\":\"HTML Src Test\",\"description\":\"testing the html thingy in angular\",\"content\":\"&lt;h1&gt;Hello, World ... This is a heading.&lt;\\/h1&gt;\\n&lt;p&gt;&lt;img title=\\\"test\\\" src=\\\"https:\\/\\/i.stack.imgur.com\\/ipOIT.png\\\" alt=\\\"test\\\" width=\\\"20%\\\" \\/&gt;&lt;\\/p&gt;\\n&lt;pre class=\\\"prettyprint\\\"&gt;code code &lt;br \\/&gt;function(){&lt;br \\/&gt;console.log(\\\"hello\\\");&lt;br \\/&gt;alert(\\\"hello\\\");&lt;br \\/&gt;}&lt;\\/pre&gt;\\n&lt;p&gt;&amp;nbsp;&lt;\\/p&gt;\",\"date\":\"26th Apr 2017\",\"slug\":\"html-src-test\",\"imagepath\":\"\",\"category\":\"Testy Test McTest\",\"ttr\":1,\"comcount\":0}\n</code></pre>\n\n<p>This is then interpreted and displayed in the usual Angular way (e.g.\n {{post.title}})</p>\n\n<p>BlogService:</p>\n\n<pre><code>getPost(slug: string): Promise&lt;Post&gt; {\n        const url = `${this.blogUrl}?id=${slug}`;\n        console.log(this.http.get(url).toPromise().then(response =&gt; response.json()));\n\n        return this.http.get(url)\n            .toPromise()\n            .then(response =&gt; response.json() as Post)\n            .catch(this.handleError);\n    }\n</code></pre>\n\n<p>BlogpostComponent:</p>\n\n<pre><code>ngOnInit(): void {\n    this.getData();\n}\ngetData() {\n    this.route.params\n        .switchMap((params: Params) =&gt; this.service.getPost(params['slug']))\n        .subscribe(post =&gt; this.post = post);\n}\n</code></pre>\n\n<p>How do I pass the data from this http Request and display it in the meta tags in the HTML ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["node.js", "angular", "typescript", "heroku"], "owner": {"reputation": 197, "user_id": 6085791, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/299e74c6780bd80d5a422e9dc7071748?s=128&d=identicon&r=PG&f=1", "display_name": "maadi", "link": "https://stackoverflow.com/users/6085791/maadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1493882050, "creation_date": 1493838821, "last_edit_date": 1493882050, "question_id": 43768226, "link": "https://stackoverflow.com/questions/43768226/master-pre-receive-hook-declined-error-failed-to-push-some-refs-to-https-g", "title": "master (pre-receive hook declined) error: failed to push some refs to &#39;https://git.heroku.com/somedoamin.git", "body": "<p>I am currently working on Angular 2 app and uploading it on heroku.\nWhen i simply upload without using any calling any class in div . it uploads on heroku when i use <code>git push heroku master</code> \nlike my appcomponent.html</p>\n\n<pre><code>&lt;h1&gt;\n{{title}} \n&lt;/h1&gt;\n &lt;div&gt;\n&lt;h2&gt;Gtting started.....&lt;/h2&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>till now it works fine. but as soon as i added these dives or any other div with styling</p>\n\n<pre><code>    `&lt;div class=\"footer-newsletter\"&gt;\n                    &lt;div class=\"container-fluid\"&gt;\n                        &lt;p style=\"color:#36b4d2\"&gt;Search and Save&lt;/p&gt;\n                        &lt;form&gt;\n                            &lt;input type=\"search\" name=query [(ngModel)]=\"query\" \n                      #quer=\"ngModel\"  class=\"form-control\"  placeholder=\"Search\" required&gt;\n                            &lt;button type=\"button\" (click)=\"Search()\" class=\"btn btn-custom\"&gt;Search&lt;/button&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;&lt;!-- End .container-fluid --&gt;\n                &lt;/div&gt;&lt;!-- End .footer-newsletter --&gt;\n`\n</code></pre>\n\n<p>it gives me this error on heroku push master command</p>\n\n<pre><code> ! [remote rejected] master -&gt; master (pre-receive hook declined)\n error: failed to push some refs to 'https://git.heroku.com/some.git'\n</code></pre>\n\n<p>i have added css files in assets and that works fine localy. can anyone please tell me what the reason behind this. i have wasted two days on it. any help will be highly appriciated.</p>\n\n<p><strong>Package.json</strong></p>\n\n<pre><code>    {\n  \"name\": \"erecommender\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"node server.js\",\n    \"test\": \"ng test\",\n    \"postinstall\": \"ng build --aot -prod\",\n    \"pree2e\": \"webdriver-manager update --standalone false --gecko false\",\n    \"e2e\": \"protractor\"\n  },\n  \"engines\": {\n    \"node\": \"6.10.2\",\n    \"npm\": \"4.5.0\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.3.1\",\n    \"@angular/compiler\": \"^2.3.1\",\n    \"@angular/core\": \"^2.3.1\",\n    \"@angular/forms\": \"^2.3.1\",\n    \"@angular/http\": \"^2.3.1\",\n    \"@angular/platform-browser\": \"^2.3.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.3.1\",\n    \"@angular/router\": \"^3.3.1\",\n    \"angular-cli\": \"1.0.0-beta.28.3\",\n    \"core-js\": \"^2.4.1\",\n    \"express\": \"^4.15.2\",\n    \"rxjs\": \"^5.0.1\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"^2.3.1\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"1.0.0-beta.28.3\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"~4.0.13\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"^4.3.0\",\n    \"typescript\": \"~2.0.3\"\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "reactjs", "typescript", "reactjs.net"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493838050, "post_id": 43768012, "comment_id": 74577511, "body": "Need more information. You are probably pointing at the wrong file in React"}, {"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493838421, "post_id": 43768012, "comment_id": 74577695, "body": "@AluanHaddad Added the files which I think are somehow related to the issue."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493838496, "post_id": 43768012, "comment_id": 74577736, "body": "Use es2015 instead of es6 FYI"}, {"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493838618, "post_id": 43768012, "comment_id": 74577790, "body": "Same error with <code>es2015</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493838635, "post_id": 43768012, "comment_id": 74577800, "body": "I know, just pointing it out because some tools don&#39;t support es6 flag anymore"}, {"owner": {"reputation": 3076, "user_id": 210370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/872578c4e56897b913fd03ed88daef51?s=128&d=identicon&r=PG", "display_name": "Daniel Lo Nigro", "link": "https://stackoverflow.com/users/210370/daniel-lo-nigro"}, "edited": false, "score": 1, "creation_date": 1494122859, "post_id": 43768012, "comment_id": 74691967, "body": "For ReactJS.NET, you can use the non-minified dev environment by calling .SetUseDebugReact(true) in your ReactConfig.cs.  What&#39;s the code for your server-side rendering look like?"}, {"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "reply_to_user": {"reputation": 3076, "user_id": 210370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/872578c4e56897b913fd03ed88daef51?s=128&d=identicon&r=PG", "display_name": "Daniel Lo Nigro", "link": "https://stackoverflow.com/users/210370/daniel-lo-nigro"}, "edited": false, "score": 0, "creation_date": 1494257218, "post_id": 43768012, "comment_id": 74738778, "body": "@DanielLoNigro: I&#39;ve updated my question with detailed error-message. Still don&#39;t get the point. What code do you mean? The one from my .<code>cshml</code> can be found in my question."}], "owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1494261820, "creation_date": 1493837910, "last_edit_date": 1495541433, "question_id": 43768012, "link": "https://stackoverflow.com/questions/43768012/server-side-rendering-fails-when-using-es6", "title": "Server-side rendering fails when using ES6", "body": "<p>I'm currently playing around with <code>ReactJS.NET</code> using <code>webpack</code> and <code>TypeScript</code>.\nI've found some code I wanted to try out. There was this one call to <code>Object.assign</code>.</p>\n\n<p>As the TS-compiler was complaining I switched to es6 inside the tsconfig.json file.</p>\n\n<p>But since then I always get the following error when trying to render the component on server-side:</p>\n\n<blockquote>\n  <p>Script threw an exception: Minified React error #130;</p>\n</blockquote>\n\n<p>and I have no idea what is causing the error. It also states to use the non-minified dev environment. But I also have no idea how to do this.</p>\n\n<p>When I use <code>ReactDOM.render(&lt;CommentBox /&gt;, document.getElementById('target'))</code> it's working normally.</p>\n\n<p>This is my (simplified) <code>CommenBox.tsx</code> file</p>\n\n<pre><code>import * as React from \"react\";\nimport { Button, Modal, Popover } from \"react-bootstrap\";\n\ninterface ICommentBoxProps {}\ninterface ICommentBoxState {}\n\nexport class CommentBox extends React.Component&lt;ICommentBoxProps, ICommentBoxState&gt; {\n    constructor() {\n        super();\n    }\n\n    render() {return (&lt;div&gt;Test&lt;/div&gt;);}\n}\n</code></pre>\n\n<p>Here is the <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"./Scripts/\",\n    \"sourceMap\": true,\n    \"noImplicitAny\": true,\n    \"module\": \"commonjs\",\n    \"target\": \"es6\",\n    \"jsx\": \"react\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>and finally my <code>webpack.config.js</code>:</p>\n\n<pre><code>var path = require(\"path\");\n\nmodule.exports = {\n    context: path.join(__dirname, 'Scripts/src'),\n    entry: {\n        server: \"./server\",\n        client: \"./client\"\n},\n    output: {\n        path: path.resolve(__dirname, \"./Scripts/dist\"),\n        filename: \"[name].bundle.js\"\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.tsx?$/,\n                loader: \"ts-loader\",\n                options: {\n                    transpileOnly: true\n                }\n            }\n        ]\n    },\n    resolve: {\n        extensions: [\".js\", \".ts\", \".tsx\"]\n    },\n    externals: {\n        'react': \"React\",\n        'react-dom': \"ReactDOM\"\n    }\n};\n</code></pre>\n\n<p>As of the comments I now get the following error-message:</p>\n\n<blockquote>\n  <p>Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.</p>\n</blockquote>\n\n<p>Googling leads me to <a href=\"https://stackoverflow.com/questions/34130539/uncaught-error-invariant-violation-element-type-is-invalid-expected-a-string\">this SO-article</a>. So it seems to be related to how exports are done but I don't get the point.</p>\n\n<p>When writing <code>export = CommentBox;</code> as the last statement it builds and renders on server-side but gives me the following ReSharper-error:</p>\n\n<blockquote>\n  <p>Export assignment cannot be used when targeting ECMAScript 6 or higher.  </p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "firebase", "promise", "ionic2"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493837408, "post_id": 43767771, "comment_id": 74577135, "body": "You are missing the outer return. That is <code>return this.db.ref(&#39;Data&#47;&#39;).once(&#39;value&#39;)</code>"}, {"owner": {"reputation": 2002, "user_id": 5660649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o3W3w.jpg?s=128&g=1", "display_name": "birwin", "link": "https://stackoverflow.com/users/5660649/birwin"}, "edited": false, "score": 0, "creation_date": 1493837553, "post_id": 43767771, "comment_id": 74577222, "body": "Shouldn&#39;t you handle the promise in the loadData() function?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 2002, "user_id": 5660649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o3W3w.jpg?s=128&g=1", "display_name": "birwin", "link": "https://stackoverflow.com/users/5660649/birwin"}, "edited": false, "score": 0, "creation_date": 1493837608, "post_id": 43767771, "comment_id": 74577258, "body": "@birwin what you mean by &quot;handle the promise&quot;?"}, {"owner": {"reputation": 2002, "user_id": 5660649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o3W3w.jpg?s=128&g=1", "display_name": "birwin", "link": "https://stackoverflow.com/users/5660649/birwin"}, "edited": false, "score": 0, "creation_date": 1493837783, "post_id": 43767771, "comment_id": 74577379, "body": "Not sure, but I was thinking your getData() function should return a promise and your loadData function should call .then on the promise returned from the getData() calll... <code>this.dataService.getData().then()</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493837958, "post_id": 43767771, "comment_id": 74577471, "body": "Right, the bug is not returning the outer promise."}, {"owner": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493838492, "post_id": 43767771, "comment_id": 74577735, "body": "@aluan @birwin I tried the outer return (<code>return this.db.ref</code>...). I am still getting an error: <b>&#39;Type &#39;Promise&lt;any&gt;&#39; is not assignable to type &#39;DataComponent[][]&#39;</b>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493838558, "post_id": 43767771, "comment_id": 74577760, "body": "what is <code>once</code>? what does it return?"}, {"owner": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493838907, "post_id": 43767771, "comment_id": 74577938, "body": "@aluan <a href=\"https://firebase.google.com/docs/database/web/read-and-write\" rel=\"nofollow noreferrer\">Firebase documentation</a> explains it like this: In some cases you may want a snapshot of your data without listening for changes, such as when initializing a UI element that you don&#39;t expect to change. You can use the <code>once()</code> method to simplify this scenario: it triggers once and then does not trigger again."}], "answers": [{"comments": [{"owner": {"reputation": 18389, "user_id": 1860591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AWtf9.jpg?s=128&g=1", "display_name": "Lodewijk Bogaards", "link": "https://stackoverflow.com/users/1860591/lodewijk-bogaards"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493837871, "post_id": 43767886, "comment_id": 74577432, "body": "@AluanHaddad As far as I can tell lambda functions and anonymous functions are synonymous? Am I missing something?"}, {"owner": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "edited": false, "score": 0, "creation_date": 1493839476, "post_id": 43767886, "comment_id": 74578219, "body": "Thanks, I tried your solution, and I am getting this error: <b>&#39;Type &#39;Promise&lt;any&gt;&#39; is not assignable to type &#39;Promise&lt;DataComponent[][]&gt;&#39;. Types of property &#39;then&#39; are incompatible.</b> Also, I tried to do some some reading on Promises and was having a lot of difficulty understanding them. I&#39;m not sure if there&#39;s any material you would recommend for someone who doesn&#39;t understand them at all (me)."}, {"owner": {"reputation": 18389, "user_id": 1860591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AWtf9.jpg?s=128&g=1", "display_name": "Lodewijk Bogaards", "link": "https://stackoverflow.com/users/1860591/lodewijk-bogaards"}, "reply_to_user": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "edited": false, "score": 1, "creation_date": 1493839909, "post_id": 43767886, "comment_id": 74578447, "body": "I&#39;ve added a cast to <code>DataComponent[][]</code>. The problem is that I can not actually check whether or not that is actually correct or not, because I don&#39;t know what <code>DataComponent</code> is nor whether the converted data corresponds to it. I don&#39;t really have a link to learn more about promises, but the internet should be full of it. If you can not find something you understand don&#39;t linger too long and simply go find something that you do understand."}, {"owner": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "edited": false, "score": 0, "creation_date": 1493839968, "post_id": 43767886, "comment_id": 74578484, "body": "The error goes away and your solution works when I remove <code>: Promise&lt;DataComponent[][]&gt;</code> from the method declaration. E.g., It reads: <code>getData() {</code> not <code>getData(): Promise&lt;DataComponent[][]&gt; {</code>... Thanks!"}, {"owner": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "edited": false, "score": 0, "creation_date": 1493840236, "post_id": 43767886, "comment_id": 74578606, "body": "I didn&#39;t try it with the last edit with the <code>DataComponent</code> cast. I will try just to see what happens."}, {"owner": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "edited": false, "score": 0, "creation_date": 1493840339, "post_id": 43767886, "comment_id": 74578658, "body": "It does not work with the cast. The problem seemed to be placing <code>: Promise&lt;DataComponent[][]&gt;</code> in the method declaration... not sure why."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493840479, "post_id": 43767886, "comment_id": 74578728, "body": "Lettering the compiler infer the type from the value, via <code>=</code> or <code>return</code> or <code>=&gt;</code>, is a good practice anyway."}, {"owner": {"reputation": 18389, "user_id": 1860591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AWtf9.jpg?s=128&g=1", "display_name": "Lodewijk Bogaards", "link": "https://stackoverflow.com/users/1860591/lodewijk-bogaards"}, "edited": false, "score": 0, "creation_date": 1493917384, "post_id": 43767886, "comment_id": 74618254, "body": "Actually I would discourage using type inference with return statements. It is good practice to fully type functions and in many languages with type inference even enforced by style checkers. Mistakes may easily arise due to not typing return types."}], "tags": [], "owner": {"reputation": 18389, "user_id": 1860591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AWtf9.jpg?s=128&g=1", "display_name": "Lodewijk Bogaards", "link": "https://stackoverflow.com/users/1860591/lodewijk-bogaards"}, "is_accepted": true, "score": 3, "last_activity_date": 1493839680, "last_edit_date": 1493839680, "creation_date": 1493837436, "answer_id": 43767886, "question_id": 43767771, "link": "https://stackoverflow.com/questions/43767771/type-void-is-not-assignable-to-type-custom-type/43767886#43767886", "title": "&#39;Type &#39;void&#39; is not assignable to type ... (Custom Type)", "body": "<p>Perhaps something like this?</p>\n\n<pre><code>getData(): Promise&lt;DataComponent[][]&gt; {\n    return this.db.ref('Data/').once('value').then(data =&gt; {\n            var obj = data.val();\n            return &lt;DataComponent[][]&gt; Object.keys(obj).map(function(e) { return obj[e] };\n        });\n}\n</code></pre>\n\n<p>The first return returns the result, but in a promise that holds the <code>DataComponent[][]</code>. The second return is part of an anonymous function (a.k.a lambda function) that converts the data coming from Firebase to your <code>DataComponent[][]</code>.</p>\n\n<p>You would use it like this:</p>\n\n<pre><code>loadData() {\n  this.dataService.getData().then(data =&gt; this.listData = data);\n}\n</code></pre>\n\n<p>I think it would be wise for you to read about promises.</p>\n"}], "owner": {"reputation": 207, "user_id": 7833101, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xNWFS.jpg?s=128&g=1", "display_name": "Aaron Viscichini", "link": "https://stackoverflow.com/users/7833101/aaron-viscichini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1517, "favorite_count": 0, "accepted_answer_id": 43767886, "answer_count": 1, "score": 0, "last_activity_date": 1493839680, "creation_date": 1493837035, "question_id": 43767771, "link": "https://stackoverflow.com/questions/43767771/type-void-is-not-assignable-to-type-custom-type", "title": "&#39;Type &#39;void&#39; is not assignable to type ... (Custom Type)", "body": "<p>I've been researching this error for a couple days, and I still don't understand it well enough to figure out what I need to do specifically in my code.</p>\n\n<p>I am retrieving data from the cloud via firebase, and loading it into the html of my Ionic 2 app.  Everything is great except for this one bit.</p>\n\n<p>I don't know how to get my method <code>getData()</code> to be recognized as returning the custom type/object array that I've built.  Instead, TypeScript only recognizes the method as returning \"void.\"</p>\n\n<p>If I take the <code>return</code> call out of the promise, the method will be recognized as returning the correct type. However, it will return empty because it needs more time to retrieve the data before <code>return</code> is called.</p>\n\n<p>Below are the two files and their code.  The <code>home.ts</code> file controls my app's homepage.  The <code>data.ts</code> file is the data service I am importing into my files to do the work.</p>\n\n<p>What do I need to do to correct this error and return the data in the promise?</p>\n\n<p>Thanks for taking a look!</p>\n\n<p>In <code>home.ts</code>:</p>\n\n<pre><code>// This is a custom object that I am importing &amp; using in arrays.\nlistData: DataComponent[][];\n\nloadData() {\n  this.listData = this.dataService.getData();\n}\n</code></pre>\n\n<p>In <code>data.ts</code>:</p>\n\n<pre><code>// Again, this is the custom object that I am importing &amp; using below.\nprivate dataArray: DataComponent[][];\n\ngetData() {\n    // This is my connection to firebase.\n    this.db.ref('Data/').once('value')\n        .then(data =&gt; {\n            var obj = data.val();\n            this.dataArray = Object.keys(obj).map(function(e) { return obj[e] });\n            return this.dataArray.slice();\n        });\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2060, "user_id": 1438462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/773d599322a9eba7afa6a6fa49209d8f?s=128&d=identicon&r=PG", "display_name": "akz92", "link": "https://stackoverflow.com/users/1438462/akz92"}, "edited": false, "score": 0, "creation_date": 1493836851, "post_id": 43767527, "comment_id": 74576817, "body": "I removed my node_modules and updated to 2.3.2 now and the error persists (the code you used to test throws the same error), could it be a problem with my framework? I&#39;m using Ionic 3 (Angular 4)."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 2060, "user_id": 1438462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/773d599322a9eba7afa6a6fa49209d8f?s=128&d=identicon&r=PG", "display_name": "akz92", "link": "https://stackoverflow.com/users/1438462/akz92"}, "edited": false, "score": 0, "creation_date": 1493836927, "post_id": 43767527, "comment_id": 74576860, "body": "are the types <code>File</code> and <code>Blob</code> the ones declared in lib.d.ts (go to definition)?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 2060, "user_id": 1438462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/773d599322a9eba7afa6a6fa49209d8f?s=128&d=identicon&r=PG", "display_name": "akz92", "link": "https://stackoverflow.com/users/1438462/akz92"}, "edited": false, "score": 0, "creation_date": 1493837118, "post_id": 43767527, "comment_id": 74576962, "body": "I added a playground link to the example. You can see that it works."}, {"owner": {"reputation": 2060, "user_id": 1438462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/773d599322a9eba7afa6a6fa49209d8f?s=128&d=identicon&r=PG", "display_name": "akz92", "link": "https://stackoverflow.com/users/1438462/akz92"}, "edited": false, "score": 2, "creation_date": 1493837457, "post_id": 43767527, "comment_id": 74577161, "body": "Thanks @Aluan! It turns out that Ionic overrides the typescript definitions and they managed to mess the File definition, I&#39;ll fix it locally for now and then file a bug report. Your suggestion to go to definition really saved me!"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 2060, "user_id": 1438462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/773d599322a9eba7afa6a6fa49209d8f?s=128&d=identicon&r=PG", "display_name": "akz92", "link": "https://stackoverflow.com/users/1438462/akz92"}, "edited": false, "score": 2, "creation_date": 1493837499, "post_id": 43767527, "comment_id": 74577188, "body": "Glad to help. Ionic does weird things. Definitely file a bug!"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 6, "last_activity_date": 1493921716, "last_edit_date": 1493921716, "creation_date": 1493836124, "answer_id": 43767527, "question_id": 43767401, "link": "https://stackoverflow.com/questions/43767401/cant-cast-file-as-blob/43767527#43767527", "title": "Can&#39;t cast File as Blob", "body": "<p>The following displays no errors at all.</p>\n\n<pre><code>declare const file: File;\n\nconst blob = file as Blob;\n</code></pre>\n\n<p>Make sure your TypeScript version is up to date (2.3.2 is the latest as of this writing)</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=declare%20const%20file%3A%20File%3B%0D%0A%0D%0Aconst%20blob%20%3D%20file%20as%20Blob%3B\" rel=\"nofollow noreferrer\">You can see this in action in the TypeScript Playground</a></p>\n"}], "owner": {"reputation": 2060, "user_id": 1438462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/773d599322a9eba7afa6a6fa49209d8f?s=128&d=identicon&r=PG", "display_name": "akz92", "link": "https://stackoverflow.com/users/1438462/akz92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5745, "favorite_count": 0, "accepted_answer_id": 43767527, "answer_count": 1, "score": 2, "last_activity_date": 1493921716, "creation_date": 1493835678, "question_id": 43767401, "link": "https://stackoverflow.com/questions/43767401/cant-cast-file-as-blob", "title": "Can&#39;t cast File as Blob", "body": "<p>I'm trying to cast a File as a Blob but apparently I can't even File being a subclass of Blob.</p>\n\n<p>I've tried it like this: <code>&lt;Blob&gt;file</code> and this: <code>file as Blob</code>.\nAnd the error is always the same:</p>\n\n<p><code>Type 'File' cannot be converted to type 'Blob'. Property 'size' is missing in type 'File'.</code></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 1312911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0c7GG.jpg?s=128&g=1", "display_name": "benjaminapetersen", "link": "https://stackoverflow.com/users/1312911/benjaminapetersen"}, "is_accepted": false, "score": 0, "last_activity_date": 1493833419, "creation_date": 1493833419, "answer_id": 43766764, "question_id": 43766624, "link": "https://stackoverflow.com/questions/43766624/init-routed-component-after-fetching-data-in-root-component/43766764#43766764", "title": "Init routed component after fetching data in root component", "body": "<p>You should probably use a cache instead of a root component.  When the active component requests data, populate the cache.  Then when the next component requests data, check first the cache, otherwise make the request.  You will need a way to bust the cache so your data doesn't become stale.  </p>\n\n<p>Angular has a <a href=\"https://docs.angularjs.org/api/ng/service/$cacheFactory\" rel=\"nofollow noreferrer\">$cacheFactory</a> (not sure what version of angular you are using) that can be fairly useful for a trivial cache system (including an LRU cache).</p>\n"}], "owner": {"reputation": 11, "user_id": 7958032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e24f796c03cb0ef65d1cb968829e0de?s=128&d=identicon&r=PG&f=1", "display_name": "dorisi", "link": "https://stackoverflow.com/users/7958032/dorisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1493833419, "creation_date": 1493832889, "question_id": 43766624, "link": "https://stackoverflow.com/questions/43766624/init-routed-component-after-fetching-data-in-root-component", "title": "Init routed component after fetching data in root component", "body": "<p>I create quite simple angular app where all routed components use data which are fetched from API right after load of application. So i thought that the best way to start fetching will be in root component which stores also router outlet. And after this, activated routed component should fetch data from another address specific for this component. But it cannot do it without data fetched in root component. It also doesn't wait of course for complete first fetching so eventually all process ends with error.</p>\n\n<p>And now my question is: How to force routed component to wait till start fetching in root component is complete? Maybe some way to pass information about it, by using some service or invoke it from root? Or any other idea?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493832917, "post_id": 43766615, "comment_id": 74574500, "body": "I would use a service. The deep chains of especially <code>@Output()</code>s all the way up the tree are unmaintainable. Angular sucks at this"}, {"owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 0, "creation_date": 1493833137, "post_id": 43766615, "comment_id": 74574612, "body": "use ngrx - <a href=\"https://github.com/ngrx\" rel=\"nofollow noreferrer\">github.com/ngrx</a>"}, {"owner": {"reputation": 2982, "user_id": 3780040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/g8J5b.png?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/3780040/milo"}, "edited": false, "score": 0, "creation_date": 1493833304, "post_id": 43766615, "comment_id": 74574709, "body": "^^ Use an NGRX store pattern -&gt; <a href=\"http://bodiddlie.github.io/ng-2-toh-with-ngrx-suite/\" rel=\"nofollow noreferrer\">bodiddlie.github.io/ng-2-toh-with-ngrx-suite</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1493833431, "creation_date": 1493833431, "answer_id": 43766767, "question_id": 43766615, "link": "https://stackoverflow.com/questions/43766615/passing-data-between-components-without-input-output/43766767#43766767", "title": "Passing data between components without @Input/@Output", "body": "<p>Make use of Angular Services they are one of passing data between components and also easy as Input and Output you will get stuck in a Spaghetti of event emitters , also you can look at the ngrx store for holding data in one place. but i would suggest you to use ngrx only in case of medium to large scale apps as it adds up a bit of code.</p>\n\n<p>My repo that has used both these concepts in details\n<a href=\"https://github.com/rahulrsingh09/AngularConcepts\" rel=\"nofollow noreferrer\">https://github.com/rahulrsingh09/AngularConcepts</a></p>\n"}], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1163, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1493835217, "creation_date": 1493832843, "last_edit_date": 1495540937, "question_id": 43766615, "link": "https://stackoverflow.com/questions/43766615/passing-data-between-components-without-input-output", "title": "Passing data between components without @Input/@Output", "body": "<p>In a nutshell, I need a \"shopping cart\" like relationship from one component to the rest of the site.  I say \"shopping cart like\" because it's basically a list of needs generated by the user as they browse.  It won't have any prices or tax logic, but each type of need will have its' own <code>sub-parameters</code> unique from the others which I'm in the midst of creating <code>interfaces</code> for.  I figured the <code>needs component</code> would use types of <code>any</code> to accept the incoming chunks of data.</p>\n\n<p>As of right now creating massive highways of <code>@Inputs</code> and <code>@Outputs</code> through the entire tree just to go over one branch and back down a tier seems excessively tedious.  I figured it would be good if I could create a function that pushes directly to the <code>needs component</code> or maybe create a class to push everything to and make a subscription to it in the <code>needs component</code>.</p>\n\n<p>I set a filter on my search to February 1st - now and found this\n<a href=\"https://stackoverflow.com/questions/42567674/share-data-between-components-using-a-service-in-angular2\">Share data between components using a service in Angular2</a></p>\n\n<p>It sheds a little more light on the fact that it's possible, but as I don't know how I should go about this I don't know how to derive an answer out of it.</p>\n\n<p>I haven't come up with any code for attempting it because I don't know what to attempt so all I have is my components. Seeing that I'm asking about a way to create a relationship that works no matter where things fall on the component tree I don't see any point in posting components that basically only say <code>&lt;h1&gt;hi&lt;/h1&gt;</code> so far to show they're working.  If you'd still like to see my code I'll post it, but it isn't much lol.  I'm still using Angular2 and can't update Node and NPM to use 4 at the moment.  Any info on how to achieve this would be greatly appreciated.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1493834879, "post_id": 43766543, "comment_id": 74575645, "body": "Are the parentheses around <code>obj$ | async</code> necessary? Are the question marks after <code>obj</code> necessary?"}, {"owner": {"reputation": 81, "user_id": 7942703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49edf54dd04acb61dd667afb37ff6033?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Medeiros", "link": "https://stackoverflow.com/users/7942703/rodrigo-medeiros"}, "edited": false, "score": 1, "creation_date": 1493836117, "post_id": 43766543, "comment_id": 74576393, "body": "The answer is no for both questions. But for the second question is good to use $ for Observables variables to differ."}], "tags": [], "owner": {"reputation": 81, "user_id": 7942703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49edf54dd04acb61dd667afb37ff6033?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Medeiros", "link": "https://stackoverflow.com/users/7942703/rodrigo-medeiros"}, "is_accepted": false, "score": 3, "last_activity_date": 1547546804, "last_edit_date": 1547546804, "creation_date": 1493832591, "answer_id": 43766543, "question_id": 43766352, "link": "https://stackoverflow.com/questions/43766352/use-async-pipe-and-observable-for-entire-block/43766543#43766543", "title": "Use async pipe and observable for entire block", "body": "<p>You could create a alias like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div *ngIf=\"(obj$ | async) as obj\"&gt;\n  &lt;h2&gt;{{ obj?.title }}&lt;/h2&gt;\n  &lt;p&gt;{{ obj?.prop.prop2 }}&lt;/p&gt;\n  &lt;p&gt;{{ obj?.another.prop }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 4, "creation_date": 1493871521, "post_id": 43766635, "comment_id": 74588553, "body": "Could you kindly point to where in the docs <code>as</code> is documented?"}, {"owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 1, "creation_date": 1493894706, "post_id": 43766635, "comment_id": 74601627, "body": "this is a new feature of angular 4. I just read source code. <a href=\"https://github.com/angular/angular/blob/master/packages/common/src/directives/ng_if.ts\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/master/packages/common/src/&hellip;</a>"}], "tags": [], "owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "is_accepted": false, "score": 4, "last_activity_date": 1547546821, "last_edit_date": 1547546821, "creation_date": 1493832932, "answer_id": 43766635, "question_id": 43766352, "link": "https://stackoverflow.com/questions/43766352/use-async-pipe-and-observable-for-entire-block/43766635#43766635", "title": "Use async pipe and observable for entire block", "body": "<p>Use 'as' syntax. </p>\n\n<p>Also be aware that each async pipe creates a new subscription and if you subscription uses http - it means multiple http calls. Use Rx share() if you want to use the same observable multiple times in template with async pipe.</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>     @Component({\n      selector: 'my-app',\n      template: `\n        &lt;div&gt;\n          &lt;div *ngIf=\"obj$ | async as obj; else empty\"&gt;\n         {{obj.x}}\n         {{obj.y}}\n         &lt;/div&gt;\n         &lt;ng-template #empty&gt;Empty. Wait 5 s...&lt;/ng-template&gt;\n        &lt;/div&gt;\n      `,\n    })\n    export class App {\n      s = new Subject();\n      obj$;\n      constructor() {\n        this.obj$ = this.s.asObservable();\n        setTimeout(() =&gt; {\n          this.s.next({x:12, y:100});\n        }, 5000)\n      }\n    }\n</code></pre>\n"}], "owner": {"reputation": 2373, "user_id": 2078412, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/03dBQ.jpg?s=128&g=1", "display_name": "Benedict Lewis", "link": "https://stackoverflow.com/users/2078412/benedict-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5075, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1547546821, "creation_date": 1493831943, "last_edit_date": 1547546788, "question_id": 43766352, "link": "https://stackoverflow.com/questions/43766352/use-async-pipe-and-observable-for-entire-block", "title": "Use async pipe and observable for entire block", "body": "<p>I have an Observable, which returns a large object from an API. I need to display these values in my template.</p>\n\n<p>For other data returned as an array, I can use:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div *ngFor=\"let value of values | async\"&gt;\n  &lt;p&gt;{{ value.prop }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I don't need to wait for the async to complete within the <code>*ngFor</code>, as it's already got an async pipe in the parent element.</p>\n\n<p>With my object, I'm looking for something similar. At the moment, I'm doing something like:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;h2&gt;{{ (obj | async)?.title }}&lt;/h2&gt;\n&lt;p&gt;{{ (obj | async)?.prop.prop2 }}&lt;/p&gt;\n&lt;p&gt;{{ (obj | async)?.another.prop }}&lt;/p&gt;\n</code></pre>\n\n<p>This obviously leaves a lot of duplicate code. Does something like this exist?</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div *using=\"obj | async\"&gt;\n  &lt;!-- obj has resolved, can access obj.prop --&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "jasmine", "karma-runner", "karma-coverage"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 1253225, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ebc51503ac06d3badaa23fa35064ccea?s=128&d=identicon&r=PG", "display_name": "NuttGuy", "link": "https://stackoverflow.com/users/1253225/nuttguy"}, "edited": false, "score": 0, "creation_date": 1494016928, "post_id": 43800393, "comment_id": 74666373, "body": "Well when I leave it as <code>mockBackend</code> it does execute the test correctly, so I do think that the <code>connection</code> variable does have a <code>mockBackend</code> property. But, when I do try with the <code>mockRespond</code> I&#39;m still seeing the same Code Coverage analytics that <code>res.json()</code> is not getting hit."}], "tags": [], "owner": {"reputation": 2054, "user_id": 6493921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZdjsN.jpg?s=128&g=1", "display_name": "Mezo Istvan", "link": "https://stackoverflow.com/users/6493921/mezo-istvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1493973865, "creation_date": 1493973865, "answer_id": 43800393, "question_id": 43766257, "link": "https://stackoverflow.com/questions/43766257/cant-figure-out-why-res-json-is-not-hit-in-unit-test-coverage-angular/43800393#43800393", "title": "Can&#39;t figure out why res.json() is not hit in Unit Test Coverage, Angular", "body": "<p>Your <code>connection</code> has the type <code>MockConnection</code> instead of <code>any</code>, and <code>MockConnection</code> does not have a <code>mockBackend</code> property. Instead, it has a <code>mockRespond</code>. <a href=\"https://angular.io/docs/ts/latest/api/http/testing/index/MockConnection-class.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/api/http/testing/index/MockConnection-class.html</a></p>\n\n<p>Try modifying the test like this:</p>\n\n<pre><code>// arrange\nmockBackend.connections.subscribe((connection: MockConnection) =&gt; {\n  connection.mockRespond(new Response(new ResponseOptions({\n    body: JSON.stringify(mockCampaigns),\n  })));\n});\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1253225, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ebc51503ac06d3badaa23fa35064ccea?s=128&d=identicon&r=PG", "display_name": "NuttGuy", "link": "https://stackoverflow.com/users/1253225/nuttguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493973865, "creation_date": 1493831577, "question_id": 43766257, "link": "https://stackoverflow.com/questions/43766257/cant-figure-out-why-res-json-is-not-hit-in-unit-test-coverage-angular", "title": "Can&#39;t figure out why res.json() is not hit in Unit Test Coverage, Angular", "body": "<p>So I have a Unit Test Coverage being tracked by the karma-coverage-instanbul-reporter, when I look at the coverage report though, the:</p>\n\n<pre><code>.map(res =&gt; res.json())\n</code></pre>\n\n<p>portion of all of my Providers is never hit in the test. But I do have tests for those Providers, and am verifying that I'm getting a response.</p>\n\n<p>Here is an example of on the functions I'm testing:</p>\n\n<pre><code>public getCampaigns(): Observable&lt;CampaignsResponse&gt; {\n  return this.http.get(this.campaignsUrl).map(res =&gt; res.json());\n}\n</code></pre>\n\n<p>Here is the test for this function:</p>\n\n<pre><code>describe(\"getCampaigns\", () =&gt; {\n  it(\"should return an Observable&lt;CampaignsResponse&gt;\",\n    inject([CampaignsService, MockBackend], (service: CampaignsService, mockBackend: MockBackend) =&gt; {\n      // arrange\n      mockBackend.connections.subscribe((connection: any) =&gt; {\n        connection.mockBackend(new Response(new ResponseOptions({\n          body: JSON.stringify(mockCampaigns),\n        })));\n      });\n\n      // act\n      service.getCampaigns().subscribe((campaigns) =&gt; {\n        // assert\n        expect(campaigns.campaigns.length).toEqual(1);\n   expect(campaigns.campaigns[0].id).toEqual(mockCampaigns.campaigns[0].id);\n      expect(campaigns.campaigns[0].channelID).toEqual(mockCampaigns.campaigns[0].channelID);\n      expect(campaigns.campaigns[0].name).toEqual(mockCampaigns.campaigns[0].name);\n      expect(campaigns.campaigns[0].active).toEqual(mockCampaigns.campaigns[0].active);\n      expect(campaigns.campaigns[0].createdAt).toEqual(mockCampaigns.campaigns[0].createdAt);\n      expect(campaigns.campaigns[0].updatedAt).toEqual(mockCampaigns.campaigns[0].updatedAt);\n    });\n}));\n</code></pre>\n\n<p>});</p>\n\n<p>But according to my test coverage res.json() is never hit inside the map function.</p>\n\n<p>Does anyone have any ideas on why that might be? Is it possible that the Coverage report is just wrong or is mapping the code incorrectly back to TypeScript?</p>\n"}, {"tags": ["angular", "typescript", "angular2-forms"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 5701814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1011918005532191/picture?type=large", "display_name": "Bhabani Das", "link": "https://stackoverflow.com/users/5701814/bhabani-das"}, "edited": false, "score": 0, "creation_date": 1493836159, "post_id": 43766100, "comment_id": 74576417, "body": "Is There are reason , this answer was down voted? Please share if have a valid reason . I will try to improve the answer in future."}], "tags": [], "owner": {"reputation": 371, "user_id": 5701814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1011918005532191/picture?type=large", "display_name": "Bhabani Das", "link": "https://stackoverflow.com/users/5701814/bhabani-das"}, "is_accepted": true, "score": 5, "last_activity_date": 1493831074, "creation_date": 1493831074, "answer_id": 43766100, "question_id": 43766011, "link": "https://stackoverflow.com/questions/43766011/programmatically-disable-a-reactive-form-component/43766100#43766100", "title": "Programmatically disable a reactive form component", "body": "<p>this should work</p>\n\n<pre><code>this.someControl.reset({value: '', disabled: true});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1493836446, "post_id": 43766988, "comment_id": 74576586, "body": "This should be the accepted answer :) But, instead of subscribing to the <code>valueChanges</code>, I&#39;d prefer to use <code>(change)</code> <i>event</i> on <code>select</code>."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1493836664, "post_id": 43766988, "comment_id": 74576725, "body": ":) Yeah, I figured first that I would do it with change event, but thought that since we are dealing with a model-driven form, leeeet&#39;s go with valueChanges, but yes, you are absolutely right, might even just be wiser to use change event ;)"}, {"owner": {"reputation": 2029, "user_id": 1230961, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f177a7c9152f26a8080c65cf5ad6110e?s=128&d=identicon&r=PG", "display_name": "adeelmahmood", "link": "https://stackoverflow.com/users/1230961/adeelmahmood"}, "edited": false, "score": 0, "creation_date": 1493920084, "post_id": 43766988, "comment_id": 74619774, "body": "Thank you for the answer. This answer definitely provides more details. I think both answers are helpful. I will upvote this one."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1493920159, "post_id": 43766988, "comment_id": 74619824, "body": "No problem, you decide what answer to accept :) Have a good one and happy coding! :)"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 11, "last_activity_date": 1493839313, "last_edit_date": 1493839313, "creation_date": 1493834257, "answer_id": 43766988, "question_id": 43766011, "link": "https://stackoverflow.com/questions/43766011/programmatically-disable-a-reactive-form-component/43766988#43766988", "title": "Programmatically disable a reactive form component", "body": "<p>You can watch for <code>valueChanges</code> with your select field, here's an example with a form with a dropdown and an input field that we will disable/enable based on value chosen from dropdown:</p>\n\n<pre><code>this.myForm = this.fb.group({\n  selects: [''],\n  inputField: ['']\n})\n\n  // subscribe to changes in select field, if the value chosen is \"two\", \n  // disable input field, else enable field\n  this.myForm.get('selects').valueChanges.subscribe(val =&gt; {\n    if(val === 'two') {\n      this.myForm.get('inputField').disable()\n    }\n    else {\n      this.myForm.get('inputField').enable()\n    }\n  })\n</code></pre>\n\n<p>Here's a </p>\n\n<h2><a href=\"http://plnkr.co/edit/gJAFxFf6GswTMF3M7yLv?p=preview\" rel=\"noreferrer\">DEMO</a></h2>\n\n<hr>\n\n<h2>EDIT:</h2>\n\n<p>As developer033 suggested, you can also use simple change event, where template...</p>\n\n<pre><code>&lt;select formControlName=\"selects\" (change)=\"checkValue()\"&gt;\n  &lt;option disabled&gt;&lt;/option&gt;\n  &lt;option *ngFor=\"let a of arr\"&gt;{{a}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>and component would be:</p>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>checkValue() {\n  if(this.myForm.get('selects').value === 'two') {\n    this.myForm.get('inputField').disable()\n  }\n  else {\n    this.myForm.get('inputField').enable()\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2029, "user_id": 1230961, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f177a7c9152f26a8080c65cf5ad6110e?s=128&d=identicon&r=PG", "display_name": "adeelmahmood", "link": "https://stackoverflow.com/users/1230961/adeelmahmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3443, "favorite_count": 0, "accepted_answer_id": 43766100, "answer_count": 2, "score": 2, "last_activity_date": 1493839313, "creation_date": 1493830764, "question_id": 43766011, "link": "https://stackoverflow.com/questions/43766011/programmatically-disable-a-reactive-form-component", "title": "Programmatically disable a reactive form component", "body": "<p>I understand how we can specify the initial state of a reactive form control to be disabled.</p>\n\n<p><code>someControl: [{value: '', disabled: true}]</code></p>\n\n<p>How can I change the disable state at a later time, programmatically, based on a selection of another value in the form. So, e.g. <code>someControl</code> should be disabled if <code>anotherControl</code> has a certain value selected in a dropdown and enabled otherwise.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1493830703, "post_id": 43765907, "comment_id": 74573224, "body": "What is the termination condition?"}], "answers": [{"comments": [{"owner": {"reputation": 1752, "user_id": 628357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aebf3a4385471b8d64e5d2deac9190c0?s=128&d=identicon&r=PG", "display_name": "Velter", "link": "https://stackoverflow.com/users/628357/velter"}, "edited": false, "score": 0, "creation_date": 1493831834, "post_id": 43766300, "comment_id": 74573894, "body": "I don&#39;t think this would concatenate the results. You don&#39;t return an Observable so the first request won&#39;t want for the second. So the result of the second request would go lost no?"}, {"owner": {"reputation": 336, "user_id": 5638079, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/931095926937755/picture?type=large", "display_name": "Lakshay Jain", "link": "https://stackoverflow.com/users/5638079/lakshay-jain"}, "reply_to_user": {"reputation": 1752, "user_id": 628357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aebf3a4385471b8d64e5d2deac9190c0?s=128&d=identicon&r=PG", "display_name": "Velter", "link": "https://stackoverflow.com/users/628357/velter"}, "edited": false, "score": 0, "creation_date": 1493832264, "post_id": 43766300, "comment_id": 74574121, "body": "Well if you want to create a function which gives dynamic result than you have to create a sync request and keep looping till body.next is null and than give result."}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1493839475, "post_id": 43766300, "comment_id": 74578217, "body": "Please study the <a href=\"https://stackoverflow.com/editing-help\">markdown help</a>"}], "tags": [], "owner": {"reputation": 336, "user_id": 5638079, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/931095926937755/picture?type=large", "display_name": "Lakshay Jain", "link": "https://stackoverflow.com/users/5638079/lakshay-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1493839439, "last_edit_date": 1493839439, "creation_date": 1493831749, "answer_id": 43766300, "question_id": 43765907, "link": "https://stackoverflow.com/questions/43765907/how-can-i-chain-http-calls-with-the-next-url-in-the-reponse-body-of-the-previous/43766300#43766300", "title": "How can I chain HTTP calls with the next URL in the reponse body of the previous HTTP call?", "body": "<p>I can give you a logic how to do it</p>\n\n<p>1st create a function where you do request </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function a(url) {\n  this.http.get(url)\n    .map((response: Response) =&gt; {\n      let body = response.json();\n\n      if (body.next != \"\") {\n        a(body.next);\n      }\n      // here use your an array containing 2000 objects\n    })\n}\n// Call Your function\na('${API}/measurements?id=${id}&amp;dateTo=${dateTo}&amp;pageSize=2000');\n</code></pre>\n\n\n"}, {"comments": [{"owner": {"reputation": 1752, "user_id": 628357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aebf3a4385471b8d64e5d2deac9190c0?s=128&d=identicon&r=PG", "display_name": "Velter", "link": "https://stackoverflow.com/users/628357/velter"}, "edited": false, "score": 1, "creation_date": 1493834709, "post_id": 43766413, "comment_id": 74575544, "body": "I think this goes in the right direction. However, I just tested this, and my subscribe function is only called twice; first time with the first 2000 objects, the second time I get an Observable back..."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1752, "user_id": 628357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aebf3a4385471b8d64e5d2deac9190c0?s=128&d=identicon&r=PG", "display_name": "Velter", "link": "https://stackoverflow.com/users/628357/velter"}, "edited": false, "score": 0, "creation_date": 1493834763, "post_id": 43766413, "comment_id": 74575574, "body": "interesting. I will need to play with it."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1493832151, "creation_date": 1493832151, "answer_id": 43766413, "question_id": 43765907, "link": "https://stackoverflow.com/questions/43765907/how-can-i-chain-http-calls-with-the-next-url-in-the-reponse-body-of-the-previous/43766413#43766413", "title": "How can I chain HTTP calls with the next URL in the reponse body of the previous HTTP call?", "body": "<p>Try something like</p>\n\n<pre><code>getMeasurements(id: string, dateTo: string) {\n  const get = (url: string) =&gt; this.http.get(url).map(response =&gt; {\n    const body = response.json();\n    const nextUrl = body.next;\n\n    return nextUrl\n      ? Observable.of(body.measurements).concat(get(nextUrl))\n      : Observable.of(body.measurements);\n  });\n\n  return get(`${API}/measurements?id=${id}&amp;dateTo=${dateTo}&amp;pageSize=2000`)\n    .mergeAll();\n}\n</code></pre>\n\n<p>Note I have not tested this.</p>\n"}, {"tags": [], "owner": {"reputation": 1752, "user_id": 628357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aebf3a4385471b8d64e5d2deac9190c0?s=128&d=identicon&r=PG", "display_name": "Velter", "link": "https://stackoverflow.com/users/628357/velter"}, "is_accepted": true, "score": 0, "last_activity_date": 1495025845, "creation_date": 1495025845, "answer_id": 44025558, "question_id": 43765907, "link": "https://stackoverflow.com/questions/43765907/how-can-i-chain-http-calls-with-the-next-url-in-the-reponse-body-of-the-previous/44025558#44025558", "title": "How can I chain HTTP calls with the next URL in the reponse body of the previous HTTP call?", "body": "<p>The solution was to use expand:</p>\n\n<pre><code>getMeasurements(id: string, dateFrom: Date, dateTo: Date) {\n    const get = (url: string, measurements?: any[]) =&gt; this.http.get(url).map((response: Response) =&gt; response.json());\n\n    return get(`${API}/measurements?source=${id}&amp;dateFrom=${dateFrom}&amp;dateTo=${dateTo}`, [])\n        .expand(body =&gt; {\n            return body.next ? get(body.next) : Observable.empty()\n        })\n        .map(body =&gt; body.measurements);\n}\n</code></pre>\n"}], "owner": {"reputation": 1752, "user_id": 628357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aebf3a4385471b8d64e5d2deac9190c0?s=128&d=identicon&r=PG", "display_name": "Velter", "link": "https://stackoverflow.com/users/628357/velter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 44025558, "answer_count": 3, "score": 0, "last_activity_date": 1495025845, "creation_date": 1493830428, "question_id": 43765907, "link": "https://stackoverflow.com/questions/43765907/how-can-i-chain-http-calls-with-the-next-url-in-the-reponse-body-of-the-previous", "title": "How can I chain HTTP calls with the next URL in the reponse body of the previous HTTP call?", "body": "<p>So my problem is that I need to request a big amount of measurements. And the API I'm using only returns a maximum of 2000 objects, with the url for the next objects in the body of the response.</p>\n\n<p>This might be a bit confusing, so here an example of my first request:</p>\n\n<pre><code>getMeasurements(id: string, dateTo: string) {\n  return this.http.get(`${API}/measurements?id=${id}&amp;dateTo=${dateTo}&amp;pageSize=2000`)\n        .map((response: Response) =&gt; {\n            let body = response.json();\n            // here I return an array containing 2000 objects\n            return body.measurements;\n        })\n}\n</code></pre>\n\n<p>However, the body object here also contains a property 'next', which has the url for the next 2000 objects. </p>\n\n<p>So how do I get the next request:</p>\n\n<pre><code>this.http.get(body.next)\n  .map((response: Response) =&gt; {\n    let body = response.json();\n    return body.measurements;\n  })\n</code></pre>\n\n<p>chained with the first request. And considering there could be another 'next' url in the next request body, how do I make this dynamic?</p>\n"}, {"tags": ["typescript", "antlr", "antlr4"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493833773, "post_id": 43765160, "comment_id": 74574998, "body": "Where is <code>ExpressionContext</code> defined. Make sure it is above the consuming code or import it from another module"}, {"owner": {"reputation": 1257, "user_id": 2256954, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1137959c4c2ddb50ebf986f61312bf7c?s=128&d=identicon&r=PG", "display_name": "user911", "link": "https://stackoverflow.com/users/2256954/user911"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493833852, "post_id": 43765160, "comment_id": 74575048, "body": "It&#39;s defined in the same file where the error is occurring."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493833891, "post_id": 43765160, "comment_id": 74575066, "body": "It should be defined first. Better to import it"}, {"owner": {"reputation": 1257, "user_id": 2256954, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1137959c4c2ddb50ebf986f61312bf7c?s=128&d=identicon&r=PG", "display_name": "user911", "link": "https://stackoverflow.com/users/2256954/user911"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493835040, "post_id": 43765160, "comment_id": 74575761, "body": "This is a generated code from a 3rd party library and it&#39;s working for many people. I doubt that is the issue."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493835123, "post_id": 43765160, "comment_id": 74575804, "body": "Do they use decorators?"}, {"owner": {"reputation": 1257, "user_id": 2256954, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1137959c4c2ddb50ebf986f61312bf7c?s=128&d=identicon&r=PG", "display_name": "user911", "link": "https://stackoverflow.com/users/2256954/user911"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493835242, "post_id": 43765160, "comment_id": 74575878, "body": "Yes and this 3rd party library is transpiled to Es6/ES2015."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493835286, "post_id": 43765160, "comment_id": 74575902, "body": "Can you show a full example using <b>text</b> instead of screenshots so that it can be tested?"}, {"owner": {"reputation": 1257, "user_id": 2256954, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1137959c4c2ddb50ebf986f61312bf7c?s=128&d=identicon&r=PG", "display_name": "user911", "link": "https://stackoverflow.com/users/2256954/user911"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493933441, "post_id": 43765160, "comment_id": 74626898, "body": "Sorry it&#39;s difficult for me to copy code here because it&#39;s a lot of code. But I have a link to a git repo (not mine) where same 3rd party library is used and it&#39;s generated code is sitting here <a href=\"https://github.com/mike-lischke/antlr-graps/blob/master/parser/ANTLRv4Parser.ts\" rel=\"nofollow noreferrer\">github.com/mike-lischke/antlr-graps/blob/master/parser/&hellip;</a> . If you go to line 5216 , there is a class ElementContext and it&#39;s used within same file. This class is also exported so it should be visible. This works for this guy but it&#39;s giving me error."}], "owner": {"reputation": 1257, "user_id": 2256954, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1137959c4c2ddb50ebf986f61312bf7c?s=128&d=identicon&r=PG", "display_name": "user911", "link": "https://stackoverflow.com/users/2256954/user911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493935129, "creation_date": 1493827842, "last_edit_date": 1493935129, "question_id": 43765160, "link": "https://stackoverflow.com/questions/43765160/uncaught-referenceerror-is-not-defined-typescript", "title": "Uncaught ReferenceError: ___ is not defined - typescript", "body": "<p>I am getting \"Uncaught ReferenceError: ___ is not defined\" in typescript at runtime even though the class is defined in the same file and exported. Please guide.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FlB0a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FlB0a.png\" alt=\"error in browser console\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/SdCyL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SdCyL.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/OmPhn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmPhn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Update : I was able to fix this issue by changing the order of exported class. That means I defined ExpressionContext class before it's used. It's a dirty way since it's a generated code and I don't want to touch it. I would like to understand why it's failing.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1493826477, "post_id": 43764559, "comment_id": 74570720, "body": "<i>And what happens instead of it working as you wanted?</i>"}, {"owner": {"reputation": 514, "user_id": 7956320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e13ebbb2050806b1f89414135b6d998?s=128&d=identicon&r=PG&f=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/7956320/juggernaut"}, "reply_to_user": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1493827068, "post_id": 43764559, "comment_id": 74571086, "body": "I don&#39;t get you @nitind"}, {"owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1493828625, "post_id": 43764559, "comment_id": 74572064, "body": "What error message are you getting, for starters."}], "answers": [{"comments": [{"owner": {"reputation": 514, "user_id": 7956320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e13ebbb2050806b1f89414135b6d998?s=128&d=identicon&r=PG&f=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/7956320/juggernaut"}, "edited": false, "score": 0, "creation_date": 1493826907, "post_id": 43764698, "comment_id": 74570995, "body": "This gives an error that abc.push isn&#39;t a function."}, {"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "reply_to_user": {"reputation": 514, "user_id": 7956320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e13ebbb2050806b1f89414135b6d998?s=128&d=identicon&r=PG&f=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/7956320/juggernaut"}, "edited": false, "score": 0, "creation_date": 1493830218, "post_id": 43764698, "comment_id": 74572939, "body": "Can you debug and tell us what type you get?"}], "tags": [], "owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "is_accepted": false, "score": 1, "last_activity_date": 1493826486, "creation_date": 1493826486, "answer_id": 43764698, "question_id": 43764559, "link": "https://stackoverflow.com/questions/43764559/how-do-i-make-it-into-array-of-objects-in-angular-2/43764698#43764698", "title": "How do I make it into Array of Objects in Angular 2?", "body": "<p>You keep nesting your values on each call to:</p>\n\n<pre><code>abc = [get];\n</code></pre>\n\n<p>Replace it with:</p>\n\n<pre><code>abc = get;\n</code></pre>\n\n<p>and it should work</p>\n"}, {"tags": [], "owner": {"reputation": 6896, "user_id": 3039956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267b5cb132e543e4bbac780632fd4742?s=128&d=identicon&r=PG", "display_name": "kimamula", "link": "https://stackoverflow.com/users/3039956/kimamula"}, "is_accepted": false, "score": 0, "last_activity_date": 1494003642, "creation_date": 1494003642, "answer_id": 43810286, "question_id": 43764559, "link": "https://stackoverflow.com/questions/43764559/how-do-i-make-it-into-array-of-objects-in-angular-2/43810286#43810286", "title": "How do I make it into Array of Objects in Angular 2?", "body": "<pre><code>var abc = [];\nvar get = JSON.parse(localStorage.getItem('user'));\nabc = [get];\n</code></pre>\n\n<p>should be replaced with</p>\n\n<pre><code>var abc = JSON.parse(localStorage.getItem('user')) || [];\n</code></pre>\n\n<p>Do not forget to execute <code>localStorage.deleteItem('user');</code> to clear the wrong data which has been stored by the wrong code before you run the corrected code.</p>\n"}], "owner": {"reputation": 514, "user_id": 7956320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e13ebbb2050806b1f89414135b6d998?s=128&d=identicon&r=PG&f=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/7956320/juggernaut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1494003642, "creation_date": 1493826082, "last_edit_date": 1493835553, "question_id": 43764559, "link": "https://stackoverflow.com/questions/43764559/how-do-i-make-it-into-array-of-objects-in-angular-2", "title": "How do I make it into Array of Objects in Angular 2?", "body": "<p>This is my code. I am trying since a couple of days to create an Array of Objects, which I will then store in Local Storage. Here is the problem, I need to first Get the existing value from Local Storage.</p>\n\n<p>I then need to add the new data object to the existing array. I then convert it into JSON so that I can store it back in the local storage.</p>\n\n<pre><code>onRegisterSubmit(){\n    const user = {\n        a: this.a,\n        b: this.b,\n        c: this.c,\n      id: Date.now()\n    }    \n\n   var abc = [];\n   var get =  JSON.parse(localStorage.getItem('user'));\n   abc = [get];\n   abc.push(user);\n\n   localStorage.setItem('user', JSON.stringify(abc));\n\n   console.log(JSON.stringify(abc));\n   console.log(get);\n  }\n</code></pre>\n\n<p>I want the JSON to be an array of objects like this,</p>\n\n<pre><code>[{\"hour\":1,\"minute\":21,\"ampm\":\"PM\",\"repeatDays\":[],\"message\":\"\",\"todayOrTomorrow\":\"Tomorrow\",\"isRepeatMode\":false,\"isEnabled\":false,\"id\":\"1493797882440\"},{\"hour\":1,\"minute\":24,\"ampm\":\"PM\",\"repeatDays\":[],\"message\":\"\",\"todayOrTomorrow\":\"Tomorrow\",\"isRepeatMode\":false,\"isEnabled\":false,\"id\":\"1493797896257\"},{\"hour\":6,\"minute\":14,\"ampm\":\"PM\",\"repeatDays\":[],\"message\":\"\",\"todayOrTomorrow\":\"Tomorrow\",\"isRepeatMode\":false,\"isEnabled\":false,\"id\":\"1493815470408\"}]\n</code></pre>\n\n<p>This is my JSON.</p>\n\n<pre><code>[[[[[[[{\"id\":1493820594019},{\"id\":1493820606448}],{\"id\":1493820609111}],{\"id\":1493820610150}],{\"id\":1493820610553}],{\"id\":1493820610827}],{\"id\":1493820611015}],{\"id\":1493820612018}]\n</code></pre>\n\n<p>Please help.Been trying for several days and any help will be greatly appreciated. Thankyou!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1493827120, "creation_date": 1493827120, "answer_id": 43764923, "question_id": 43764491, "link": "https://stackoverflow.com/questions/43764491/how-create-custom-interface-with-key-from-other-interface/43764923#43764923", "title": "How create custom interface with key from other interface?", "body": "<p>So basically this is how it should work:</p>\n\n<pre><code>enum List {\n    football = 0,\n    handball = 1,\n    basketball = 2,\n    chess = 3,\n    swimming = 4\n}\n\ntype MyType = {\n    [P in List]: boolean\n}\n</code></pre>\n\n<p>The problem is that it results in the following error:</p>\n\n<blockquote>\n  <p>error TS2322: Type 'List' is not assignable to type 'string'</p>\n</blockquote>\n\n<p>This is an open issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/13042\" rel=\"nofollow noreferrer\">Enums can no longer be used for index signature types</a> and should be resolved in version <code>2.4</code>.  </p>\n\n<p>The discussion for this started in this issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/2491\" rel=\"nofollow noreferrer\">Index signature parameter type should allow for enums</a></p>\n"}], "owner": {"reputation": 611, "user_id": 5320571, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e58a9d166bf840c54912023eb5f75656?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/5320571/jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493831393, "creation_date": 1493825871, "last_edit_date": 1493831393, "question_id": 43764491, "link": "https://stackoverflow.com/questions/43764491/how-create-custom-interface-with-key-from-other-interface", "title": "How create custom interface with key from other interface?", "body": "<p>I have a type:</p>\n\n<pre><code>enum mycustomlist {\n  football = 0,\n  handball = 1,\n  basketball = 2,\n  chess = 3,\n  swimming = 4\n}\n</code></pre>\n\n<p>and I need a new interface where i need to have  </p>\n\n<pre><code>optional key (from mycustomlist): boolean  \n</code></pre>\n\n<p>example:</p>\n\n<pre><code>{\n  0: true,\n  1: false,\n  2: true,\n  3: false\n}\n\n{\n  2: false\n}\n\n{\n  3: true,\n  2: false\n}\n</code></pre>\n\n<p>I try: </p>\n\n<pre><code>player: {\n  &lt;list&gt;: boolean\n}\n</code></pre>\n\n<p>but i have error ((</p>\n\n<p>How I can to create this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1493824469, "post_id": 43763877, "comment_id": 74569244, "body": "Because your array starts empty, you need to surround it with a <code>*ngIf=&quot;res.length &gt; 0&quot;</code>"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1493824512, "post_id": 43763877, "comment_id": 74569299, "body": "Try <code>res[0]?.title</code> This is async issue, so use safe navigation operator :)"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1493824664, "post_id": 43763877, "comment_id": 74569396, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/35073267/angular-2-template-tags-say-object-is-undefined\">Angular 2 template tags say object is undefined</a>"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1493824693, "post_id": 43763877, "comment_id": 74569422, "body": "Or do what AJT_82 said, or even use the <a href=\"https://angular.io/docs/ts/latest/api/common/index/AsyncPipe-pipe.html\" rel=\"nofollow noreferrer\">async pipe</a>"}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 7958313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4a558158639aa1f195057d9315e47f?s=128&d=identicon&r=PG&f=1", "display_name": "ircmgr", "link": "https://stackoverflow.com/users/7958313/ircmgr"}, "is_accepted": true, "score": 0, "last_activity_date": 1493824941, "creation_date": 1493824941, "answer_id": 43764161, "question_id": 43763877, "link": "https://stackoverflow.com/questions/43763877/angular-4-get-json-from-http-and-display-to-dom/43764161#43764161", "title": "Angular 4 Get json from Http and display to Dom", "body": "<p>The safe navigation operator was my issue as AJT_82 said. Thanks guys !</p>\n"}], "owner": {"reputation": 47, "user_id": 7958313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4a558158639aa1f195057d9315e47f?s=128&d=identicon&r=PG&f=1", "display_name": "ircmgr", "link": "https://stackoverflow.com/users/7958313/ircmgr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4507, "favorite_count": 0, "accepted_answer_id": 43764161, "answer_count": 1, "score": 1, "last_activity_date": 1493835447, "creation_date": 1493824174, "last_edit_date": 1493835447, "question_id": 43763877, "link": "https://stackoverflow.com/questions/43763877/angular-4-get-json-from-http-and-display-to-dom", "title": "Angular 4 Get json from Http and display to Dom", "body": "<p>I am missing something on interpolation i think. \ni use http.get for my service to get data </p>\n\n<p>post.service code :</p>\n\n<pre><code>getPosts() {return this._http.get(this._Url + 'events').map((_response: Response) =&gt; {\n  const data = _response.json()\n  return _response.json();\n});\n</code></pre>\n\n<p>on my component i run the following code to pass the response to the res array \ncomponent code : </p>\n\n<pre><code>getdata(){this._postService.getPosts()\n  .subscribe(\n  posts =&gt; {\n    posts.forEach(posts =&gt; {\n      this.res.push(\n        new event(\n          posts.field_event_title[0].value,\n          posts.field_event_price[0].value,\n          \"test loc\"\n        )\n      )\n\n    });\n\n\n  }\n  ,\n  (error) =&gt; console.log(error, \"error from observable\")\n  );\n  console.log(this.res, \"res after subs\")\n}\n</code></pre>\n\n<p>Html Code:</p>\n\n<pre><code>&lt;div  class=\"row\" *ngFor=\"let post of res\"&gt;\n  Title: {{post.title}} &lt;br&gt;\n  Price: {{post.price}} &lt;br&gt;\n  Location:{{post.location}}\n&lt;/div&gt;\n</code></pre>\n\n<p>My issue is that with *ngFor i get my data displayed. but i want to read only 1 post ex. res[0].title. When i am using in html {{ res[0].title }}  i get the error \"cannot read property \"title \" of undefined. Any help on that !? in the end what i want is to be able to use the array res to display data in the dom </p>\n"}, {"tags": ["javascript", "arrays", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 0, "creation_date": 1493825479, "post_id": 43763994, "comment_id": 74570007, "body": "You can always splice if you search backwards."}, {"owner": {"reputation": 6338, "user_id": 4693496, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/62018b2ce5020c5b1c2dd07d8158d3ec?s=128&d=identicon&r=PG", "display_name": "Erazihel", "link": "https://stackoverflow.com/users/4693496/erazihel"}, "reply_to_user": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 0, "creation_date": 1493826173, "post_id": 43763994, "comment_id": 74570494, "body": "Yes you can, but filter is a bit simpler IMO"}], "tags": [], "owner": {"reputation": 6338, "user_id": 4693496, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/62018b2ce5020c5b1c2dd07d8158d3ec?s=128&d=identicon&r=PG", "display_name": "Erazihel", "link": "https://stackoverflow.com/users/4693496/erazihel"}, "is_accepted": false, "score": 1, "last_activity_date": 1493824978, "last_edit_date": 1493824978, "creation_date": 1493824512, "answer_id": 43763994, "question_id": 43763755, "link": "https://stackoverflow.com/questions/43763755/array-splice-is-not-returning-the-correct-output/43763994#43763994", "title": "Array.splice is not returning the correct output", "body": "<p>Use the <code>filter</code> method instead of the <code>splice</code> one. You don't want to splice on an array you are iterating on.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let unsafeArray = [\"SUGAR\", \"HYDROGENATED VEGETABLE\u21b5OIL\", \"RAPESEED OIL\", \"PALM OIL\", \"SUNFLOWER OIL\", \"RAPESEED OIL\", \"PALM OIL\"];\r\n\r\nlet warningArray = [\"SUGAR\", \"SUNFLOWER OIL\"];\r\n\r\nlet filteredArray = unsafeArray;\r\n\r\nwarningArray.forEach(function (warningElement) {\r\n  filteredArray = filteredArray.filter(function (unsafeElement) {\r\n    return unsafeElement !== warningElement;\r\n  });\r\n});\r\n\r\nconsole.log(filteredArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 456, "user_id": 3348886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb475bbae98c26175c33743a36918fee?s=128&d=identicon&r=PG&f=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/3348886/ken"}, "is_accepted": false, "score": 0, "last_activity_date": 1493824693, "creation_date": 1493824693, "answer_id": 43764079, "question_id": 43763755, "link": "https://stackoverflow.com/questions/43763755/array-splice-is-not-returning-the-correct-output/43764079#43764079", "title": "Array.splice is not returning the correct output", "body": "<p>Seems to be working fine. Returns the array without the \"warning\" element.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function breakArray() {\r\n  //let warning = this.navParams.get(\"warningResult\");\r\n  //let unSafe = this.navParams.get(\"unSafeResult\");\r\n  var warning = [\"SUGAR\"];\r\n  var unSafe = [\"SUGAR\", \"HYDROGENATED VEGETABLE\u21b5OIL\", \"RAPESEED OIL\", \"PALM OIL\", \"SUNFLOWER OIL\", \"RAPESEED OIL\", \"PALM OIL\"];\r\n\r\n  //console.log(unSafe);\r\n  //console.log(warning);\r\n\r\n  for (var i = 0; i &lt; warning.length; i++) {\r\n    for (var j = 0; j &lt; unSafe.length; j++) {\r\n      if (warning[i] === unSafe[j]) {\r\n        //console.log('warning', i);\r\n        //console.log('unSafe', j);\r\n\r\n        unSafe.splice(j, 1);\r\n\r\n        console.log('new array', unSafe);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nbreakArray();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 5738494, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/edeff7fccc721d4097389e580c2c9b28?s=128&d=identicon&r=PG&f=1", "display_name": "GX-X", "link": "https://stackoverflow.com/users/5738494/gx-x"}, "edited": false, "score": 0, "creation_date": 1493826584, "post_id": 43764096, "comment_id": 74570784, "body": "Hi there, it is working now . As console.log shows  0 : &quot;HYDROGENATED VEGETABLE\u21b5OIL&quot; 1 : &quot;RAPESEED OIL&quot; 2 : &quot;PALM OIL&quot; 3 : &quot;SUNFLOWER OIL&quot; 4 : &quot;RAPESEED OIL&quot; 5 : &quot;PALM OIL&quot;  Thank you for the help"}], "tags": [], "owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "is_accepted": true, "score": 1, "last_activity_date": 1493826393, "last_edit_date": 1493826393, "creation_date": 1493824756, "answer_id": 43764096, "question_id": 43763755, "link": "https://stackoverflow.com/questions/43763755/array-splice-is-not-returning-the-correct-output/43764096#43764096", "title": "Array.splice is not returning the correct output", "body": "<p>You need to make sure <code>j</code> is 0.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Original array.\r\nvar unsafe = [\"SUGAR\", \"HYDROGENATED VEGETABLE\u21b5OIL\", \"RAPESEED OIL\", \"PALM OIL\", \"SUNFLOWER OIL\", \"RAPESEED OIL\", \"PALM OIL\"];\r\n\r\n// Find the index of the item.\r\nlet removeIndexStart = unsafe.indexOf('SUGAR');\r\n\r\n// Check if it exists.\r\nif (removeIndexStart &gt; -1) {\r\n  // Returns the removed items (from index 0, removing 1 item)\r\n  // and modifies the array in-place.\r\n  var removed = unsafe.splice(removeIndexStart, 1);\r\n\r\n  console.log('Removed:', JSON.stringify(removed, null, 2));\r\n}\r\n\r\nconsole.log('Modified:', JSON.stringify(unsafe, null, 2));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Try working in reverse:</p>\n\n<pre><code>for (var i = warning.length - 1; i &gt;= 0; i--) {\n</code></pre>\n\n<p>And operating on the larger array, which is what you want.</p>\n\n<pre><code>warning.splice(i, 1);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let warning = [\"SUGAR\", \"HYDROGENATED VEGETABLE\u21b5OIL\", \"RAPESEED OIL\", \"PALM OIL\", \"SUNFLOWER OIL\", \"RAPESEED OIL\", \"PALM OIL\"];\r\nlet unSafe =  [\"SUGAR\"];\r\n\r\nbreakArray(); // I would pass in arguments.\r\n\r\nconsole.log('New array:', warning);\r\n\r\nfunction breakArray() {\r\n  for (var i = warning.length - 1; i &gt;= 0; i--) {\r\n    for (var j = 0; j &lt; unSafe.length; j++) {\r\n      if (warning[i] === unSafe[j]) {\r\n        console.log('warning', i);\r\n        console.log('unSafe', j);\r\n\r\n        warning.splice(i, 1);\r\n      }\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 115, "user_id": 5738494, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/edeff7fccc721d4097389e580c2c9b28?s=128&d=identicon&r=PG&f=1", "display_name": "GX-X", "link": "https://stackoverflow.com/users/5738494/gx-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 43764096, "answer_count": 3, "score": -2, "last_activity_date": 1493826482, "creation_date": 1493823827, "last_edit_date": 1493826482, "question_id": 43763755, "link": "https://stackoverflow.com/questions/43763755/array-splice-is-not-returning-the-correct-output", "title": "Array.splice is not returning the correct output", "body": "<p>I am trying to match both arrays if they contain the same value, it will remove the element from one of the array. I tried using the <code>splice()</code> method. I tried read the however the output is:</p>\n\n<pre><code>new array [\"SUGAR\"]\n</code></pre>\n\n<p>However, I would like to achieve this output:</p>\n\n<pre><code>[\"HYDROGENATED VEGETABLE\u21b5OIL\", \"RAPESEED OIL\", \"PALM OIL\", \"SUNFLOWER OIL\", \"RAPESEED OIL\", \"PALM OIL\"]\n</code></pre>\n\n<p>Here's the original array (<code>unSafe</code>):</p>\n\n<pre><code>[\"SUGAR\", \"HYDROGENATED VEGETABLE\u21b5OIL\", \"RAPESEED OIL\", \"PALM OIL\", \"SUNFLOWER OIL\", \"RAPESEED OIL\", \"PALM OIL\"]\n</code></pre>\n\n<p>And here is my code:</p>\n\n<pre><code>function breakArray() {\n  let warning = this.navParams.get(\"warningResult\");\n  let unSafe = this.navParams.get(\"unSafeResult\");\n\n  console.log(unSafe);\n  console.log(warning);\n\n  for (var i = 0; i &lt; warning.length; i++) {\n    for (var j = 0; j &lt; unSafe.length; j++) {\n      if (warning[i] === unSafe[j]) {\n        console.log('warning', i);\n        console.log('unSafe', j);\n\n        unSafe.splice(j, 1);\n\n        console.log('new array', unSafe);\n      }\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "iframe", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 1643, "user_id": 5549301, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1080827148618335/picture?type=large", "display_name": "Udara Seneviratne", "link": "https://stackoverflow.com/users/5549301/udara-seneviratne"}, "edited": false, "score": 0, "creation_date": 1579444177, "post_id": 46737846, "comment_id": 105760667, "body": "I am trying this in Angular 8. When I am trying I cannot pass return of getIframeURL() to get() since getIframeURL() returns SafeResourceUrl type but get() expects string. Also, without bypassSecurityTrustResourceUrl Javascripts are not working. How I can overcome this scenario ?"}, {"owner": {"reputation": 176, "user_id": 7254206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b6d35b6a304d90790745c570368348?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav N.", "link": "https://stackoverflow.com/users/7254206/yaroslav-n"}, "reply_to_user": {"reputation": 1643, "user_id": 5549301, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1080827148618335/picture?type=large", "display_name": "Udara Seneviratne", "link": "https://stackoverflow.com/users/5549301/udara-seneviratne"}, "edited": false, "score": 0, "creation_date": 1579457045, "post_id": 46737846, "comment_id": 105764213, "body": "This answer is for Angular 4. Angular continuously evolving, and so for later versions need to find new solutions"}], "tags": [], "owner": {"reputation": 176, "user_id": 7254206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b6d35b6a304d90790745c570368348?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav N.", "link": "https://stackoverflow.com/users/7254206/yaroslav-n"}, "is_accepted": true, "score": 9, "last_activity_date": 1507927931, "creation_date": 1507927931, "answer_id": 46737846, "question_id": 43763076, "link": "https://stackoverflow.com/questions/43763076/angular-2-inject-custom-headers-on-iframe/46737846#46737846", "title": "Angular 2 - Inject custom headers on iframe", "body": "<p>You can do it like this:</p>\n\n<ol>\n<li>Create a service that will send http get request along with headers,\n   and expects blob response.</li>\n<li>Use that service in your component to set src of an iframe.</li>\n<li>Remove [src]=\"secureSrc\" from iframe and leave only #iframe</li>\n</ol>\n\n<p>.</p>\n\n<pre><code>// service\nimport { Injectable } from '@angular/core';\nimport { ResponseContentType, Http, RequestOptions, Headers } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscriber } from 'rxjs/Subscriber';\n\n@Injectable()\nexport class UrlHelperService {\n    constructor(private http: Http) {\n    }\n\n    get(url: string): Observable&lt;any&gt; {\n        let options = new RequestOptions();\n        options.headers = new Headers();\n        options.headers.append('AUTH-TOKEN', 'SomeToken123');\n        options.responseType = ResponseContentType.Blob;\n\n        return new Observable((observer: Subscriber&lt;any&gt;) =&gt; {\n            let objectUrl: string = null;\n\n            this.http\n                .get(url, options)\n                .subscribe(m =&gt; {\n                    objectUrl = URL.createObjectURL(m.blob());\n                    observer.next(objectUrl);\n                });\n\n            return () =&gt; {\n                if (objectUrl) {\n                    URL.revokeObjectURL(objectUrl);\n                    objectUrl = null;\n                }\n            };\n        });\n    }\n}\n\n// component\nimport { Component, ViewChild, OnInit, ElementRef } from '@angular/core';\nimport { UrlHelperService } from './url-helper.service';  \n\n@Component({\n  selector: '',\n  templateUrl: './my-app.component.html'\n})   \nexport class MyAppComponent implements OnInit {\n  @ViewChild('iframe') iframe: ElementRef;\n\n  constructor(private urlHelperService: UrlHelperService) { }\n\n  ngOnInit() {\n    this.urlHelperService.get('http://localhost/api/file/123')\n      .subscribe(blob =&gt; this.iframe.nativeElement.src = blob);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 2689402, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/orWTp.jpg?s=128&g=1", "display_name": "Massimo De Luisa", "link": "https://stackoverflow.com/users/2689402/massimo-de-luisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8888, "favorite_count": 1, "accepted_answer_id": 46737846, "answer_count": 1, "score": 6, "last_activity_date": 1532016032, "creation_date": 1493822097, "last_edit_date": 1493893132, "question_id": 43763076, "link": "https://stackoverflow.com/questions/43763076/angular-2-inject-custom-headers-on-iframe", "title": "Angular 2 - Inject custom headers on iframe", "body": "<p>I'm getting crazy trying to inject request custom header (something like <code>'AUTH-TOKEN':'SomeToken123'</code>) to an  on Angular 4.</p>\n\n<p>I need to pass to the iframe page some required custom header parameters.</p>\n\n<p>Anyone can please help me?</p>\n\n<p>foo.component.html\n</p>\n\n<pre><code>&lt;iframe [hidden]=\"isLoading\" class=\"full\" #iframe [src]=\"secureSrc\" (load)=\"onIframeLoad()\" frameborder=\"0\" &gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>component.ts\n</p>\n\n<pre><code>@Component({\n    selector: 'app-foo',\n    templateUrl: './foo.component.html'\n})\n\nexport class FooComponent implements OnInit {\n\n    @ViewChild('iframe') iframe: ElementRef;\n    public isLoading: Boolean;\n    public secureSrc: SafeResourceUrl;\n\n    constructor(\n        private sanitizer: DomSanitizer,\n        private renderer: Renderer2,\n        private router: Router\n    ) {  }\n\n    public ngOnInit() {\n        this.isLoading = true;\n\n        this.secureSrc = this.getIframeURL();\n    }\n\n    private getIframeURL(): SafeResourceUrl {\n        return this.sanitizer\n            .bypassSecurityTrustResourceUrl('https://iframe.address');\n    }\n\n    public onIframeLoad(): void {\n        if (typeof this.iframe !== 'undefined') {\n\n            // Once iFrame Loaded\n            if (typeof this.token !== 'undefined') {\n                this.iframe\n                    .nativeElement\n                    .contentWindow\n                    .postMessage({\n                        externalCommand: 'some-action',\n                        parameter : 'action parameter'\n                    }, '*');\n            }\n\n            this.isLoading = false;\n        }\n    }\n}\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["typescript", "kendo-ui", "typescript2.0", "kendo-window"], "answers": [{"comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1493825921, "post_id": 43764088, "comment_id": 74570325, "body": "So, if I&#39;m understanding you, I need to add the three overloads (without any implementation) to my class, then add an implementation method for <code>content()</code>?  Is that right?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1493834693, "post_id": 43764088, "comment_id": 74575533, "body": "Yes. I added example to the answer."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1493837117, "last_edit_date": 1493837117, "creation_date": 1493824732, "answer_id": 43764088, "question_id": 43762903, "link": "https://stackoverflow.com/questions/43762903/extending-kendo-ui-window-in-typescript/43764088#43764088", "title": "Extending Kendo UI Window in TypeScript", "body": "<p>The \"not assignable to\" type in the error message, when properly formatted, is</p>\n\n<pre><code>{ \n   (): string; \n   (content?: string): Window; \n   (content?: JQuery): Window; \n}\n</code></pre>\n\n<p>That's a type having 3 so called <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#function-types\" rel=\"nofollow noreferrer\">callable signatures</a>, it describes something that can be called in one of 3 ways:</p>\n\n<ul>\n<li>without arguments, returning a string</li>\n<li>with optional string argument, returning Window</li>\n<li>with optional JQuery argument, returning Window</li>\n</ul>\n\n<p>That's how typescript represents function overloading - it's the actual type of <code>content</code> as declared in kendo <code>Window</code>, because it has 3 overloaded variants:</p>\n\n<pre><code>content(): string;\ncontent(content?: string): kendo.ui.Window;\ncontent(content?: JQuery): kendo.ui.Window;\n</code></pre>\n\n<p>Javascript does not have function overloading, so typescript tries as best as it can to simulate it, and it kind of works when you are using overloaded method.</p>\n\n<p>However, when you are implementing (or overriding) overloaded method, typescript is of no help. You can have only one implementation, and it must handle all possible combinations of arguments at runtime. So your extended class must repeat all overloaded declarations for <code>content()</code> and provide one implementation, compatible with all declared variants and capable of handling all of them, as described in the example here: <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/functions.html#overloads</a></p>\n\n<p>I have no experience with Kendo UI, so I just made up minimal example based on the code in question that compiles with typescript 2.3 and runs in node.js:</p>\n\n<p><strong>base.ts</strong></p>\n\n<pre><code>export class Widget {}\nexport class Element {}\nexport class WindowOptions {}\nexport class JQuery {}\n\nexport namespace kendo {\n    export namespace ui {\n\n        export class Window extends Widget {\n            static extend(proto: Object): Window {return null}\n            constructor(element: Element, options?: WindowOptions) { super() }\n            content(): string;\n            content(content?: string): Window;\n            content(content?: JQuery): Window;\n            content(content?: string | JQuery): Window | string {\n                return null;\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>d.ts</strong></p>\n\n<pre><code>import { WindowOptions, JQuery, kendo } from './base';\n\nexport class AngularizedWindow extends kendo.ui.Window {\n    constructor(element: Element, options?: WindowOptions) {\n        super(element, options);\n    }\n\n    content(): string;\n    content(content?: string): kendo.ui.Window;\n    content(content?: JQuery): kendo.ui.Window;\n\n    content(content?: string | JQuery) : kendo.ui.Window | string {\n        if (typeof content === 'undefined') {\n            console.log('implementation 1');\n            return super.content();\n\n        } if (typeof content === 'string') {\n            console.log('implementation 2');\n            return super.content(content);\n\n\n        } else { // ought to be jQuery\n            console.log('implementation 3');\n            return super.content(content);\n        }\n    }\n}\n\nlet a = new AngularizedWindow(null);\n\na.content();\na.content('b');\na.content({});\n</code></pre>\n\n<p>compile and run</p>\n\n<pre><code>./node_modules/.bin/tsc base.ts d.ts\n node d.js\n</code></pre>\n\n<p>it prints</p>\n\n<pre><code>implementation 1\nimplementation 2\nimplementation 3\n</code></pre>\n\n<p>Now, when you look at the example code, it begs the question: does <code>content()</code> really need all these overloaded declarations? It looks like the implementation, the one that takes union type and returns union type, is sufficient to handle all use cases. </p>\n\n<p>However, without overloads, this code does not compile:</p>\n\n<pre><code>let s: string = a.content();\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>d.ts(32,5): error TS2322: Type 'string | Window' is not assignable to type 'string'.\n  Type 'Window' is not assignable to type 'string'.\n</code></pre>\n\n<p>So, overloading allows to describe the relationship between argument type and return type. However, that relationship is not enforced by compiler in the implementation. It's debatable whether  additional complexity introduced by overloading is worth it, as expressed in <a href=\"https://github.com/Microsoft/TypeScript/issues/12041#issuecomment-298060833\" rel=\"nofollow noreferrer\">this comment by one of typescript developers</a>:</p>\n\n<blockquote>\n  <p>Realistically, JavaScript does not have function overloading and in\n  general I advise people to just not use overloading at all. Go ahead\n  and use union types on parameters, but if you have multiple distinct\n  behavioral entry points, or return types that differ based on inputs,\n  use two different functions! It ends up being clearer for callers and\n  easier for you to write.</p>\n</blockquote>\n"}], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 43764088, "answer_count": 1, "score": 1, "last_activity_date": 1493837117, "creation_date": 1493821652, "last_edit_date": 1493822228, "question_id": 43762903, "link": "https://stackoverflow.com/questions/43762903/extending-kendo-ui-window-in-typescript", "title": "Extending Kendo UI Window in TypeScript", "body": "<p>I am attempting to extend one of Telerik's Kendo UI classes, the <code>Window</code> widget.  I am using TypeScript 2.2.2.</p>\n\n<p>For your reference, this is what the definition of <code>Window</code> looks like.  I  include only the parts relevant to this question.</p>\n\n<pre><code>class Window extends kendo.ui.Widget {\n    static extend(proto: Object): Window;\n    constructor(element: Element, options?: WindowOptions);\n    content(): string;\n    content(content?: string): kendo.ui.Window;\n    content(content?: JQuery): kendo.ui.Window;\n}\n</code></pre>\n\n<p>I want to override the <code>content(string)</code> method.  I am using <a href=\"http://docs.telerik.com/kendo-ui/third-party/typescript#create-widgets-via-typescript-inheritance\" rel=\"nofollow noreferrer\">this example</a> as the basis for my code.  So I have the following:</p>\n\n<pre><code>export class AngularizedWindow extends kendo.ui.Window {\n    constructor(element: Element, options?: kendo.ui.WindowOptions) {\n        super(element, options);\n    }\n\n    content(content?: string) : kendo.ui.Window {\n        console.log(\"Setting content\");\n        return super.content(content);\n    }\n}\n</code></pre>\n\n<p>However, it gives me this error:</p>\n\n<blockquote>\n  <p>ts\\widgets\\AngularizedWindow.ts(2,18): error TS2415: Class 'AngularizedWindow'  incorrectly extends base class 'Window'.<br>\n  Types of property 'content' are incompatible.<br>\n  Type '(content?: string) => Window' is not assignable to type '{ (): string;  (content?: string): Window; (content?: JQuery): Window; }'.<br>\n  Type 'Window' is not assignable to type 'string'.</p>\n</blockquote>\n\n<p>What am I doing incorrectly?  I don't understand how to interpret this error.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1493821343, "post_id": 43762712, "comment_id": 74566737, "body": "Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes the inputs to this."}, {"owner": {"reputation": 379, "user_id": 7154164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QkTU-OxkB6s/AAAAAAAAAAI/AAAAAAAAAOk/w1R7MtS-nuQ/photo.jpg?sz=128", "display_name": "Denis Ostrovsky", "link": "https://stackoverflow.com/users/7154164/denis-ostrovsky"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1493821581, "post_id": 43762712, "comment_id": 74566933, "body": "Updated the question"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1493822229, "post_id": 43762712, "comment_id": 74567469, "body": "But where are the <i>inputs</i>? What is <code>item</code>? <code>service</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 7154164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QkTU-OxkB6s/AAAAAAAAAAI/AAAAAAAAAOk/w1R7MtS-nuQ/photo.jpg?sz=128", "display_name": "Denis Ostrovsky", "link": "https://stackoverflow.com/users/7154164/denis-ostrovsky"}, "edited": false, "score": 0, "creation_date": 1493821688, "post_id": 43762759, "comment_id": 74567004, "body": "Thanks, it work!"}, {"owner": {"reputation": 10913, "user_id": 3676586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KbN7G.jpg?s=128&g=1", "display_name": "Tiep Phan", "link": "https://stackoverflow.com/users/3676586/tiep-phan"}, "reply_to_user": {"reputation": 379, "user_id": 7154164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QkTU-OxkB6s/AAAAAAAAAAI/AAAAAAAAAOk/w1R7MtS-nuQ/photo.jpg?sz=128", "display_name": "Denis Ostrovsky", "link": "https://stackoverflow.com/users/7154164/denis-ostrovsky"}, "edited": false, "score": 0, "creation_date": 1493821904, "post_id": 43762759, "comment_id": 74567174, "body": "please take a look my updated answer."}], "tags": [], "owner": {"reputation": 10913, "user_id": 3676586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KbN7G.jpg?s=128&g=1", "display_name": "Tiep Phan", "link": "https://stackoverflow.com/users/3676586/tiep-phan"}, "is_accepted": true, "score": 1, "last_activity_date": 1493821884, "last_edit_date": 1493821884, "creation_date": 1493821358, "answer_id": 43762759, "question_id": 43762712, "link": "https://stackoverflow.com/questions/43762712/cant-use-ngfor-with-ngif/43762759#43762759", "title": "Can&#39;t use *ngFor with *ngIf", "body": "<p>for syntactic sugar:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;ng-container*ngFor=\"let flag of service.flagsCount()\"&gt;\n        &lt;li  *ngIf=\"item.flagsExplain[flag]\"&gt;\n            {{ service.flagLabel(flag) }}\n            &lt;b *ngIf=\"item.flagsExplain[flag] != 1\"&gt;\n                : {{ item.flagsExplain[flag] }}\n            &lt;/b&gt;\n        &lt;/li&gt;\n    &lt;/ng-container&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>if you wanna using <code>template</code> tag, you need using this form:</p>\n\n<pre><code>&lt;template ngFor let-item [ngForOf]=\"items\" let-i=\"index\" [ngForTrackBy]=\"trackByFn\"&gt;\n  &lt;li&gt;...&lt;/li&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>and in Angular 4:</p>\n\n<pre><code>&lt;ng-template ngFor let-item [ngForOf]=\"items\" let-i=\"index\" [ngForTrackBy]=\"trackByFn\"&gt;\n  &lt;li&gt;...&lt;/li&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>so your code will look like this:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;template ngFor let-flag [ngForOf]=\"service.flagsCount()\"&gt;\n        &lt;li  *ngIf=\"item.flagsExplain[flag]\"&gt;\n            some data\n        &lt;/li&gt;\n    &lt;/template&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>p/s: replace <code>template</code> tag with <code>ng-template</code> in Angular 4.</p>\n\n<p>document here: <a href=\"https://angular.io/docs/ts/latest/api/common/index/NgForOf-directive.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/api/common/index/NgForOf-directive.html</a></p>\n"}], "owner": {"reputation": 379, "user_id": 7154164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QkTU-OxkB6s/AAAAAAAAAAI/AAAAAAAAAOk/w1R7MtS-nuQ/photo.jpg?sz=128", "display_name": "Denis Ostrovsky", "link": "https://stackoverflow.com/users/7154164/denis-ostrovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "closed_date": 1493822730, "accepted_answer_id": 43762759, "answer_count": 1, "score": 0, "last_activity_date": 1493822503, "creation_date": 1493821248, "last_edit_date": 1493822503, "question_id": 43762712, "link": "https://stackoverflow.com/questions/43762712/cant-use-ngfor-with-ngif", "closed_reason": "Duplicate", "title": "Can&#39;t use *ngFor with *ngIf", "body": "<p>Use Angular 2</p>\n\n<p>When i do it:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;template *ngFor=\"let flag of [1,2,3,4]\"&gt;\n        &lt;li  *ngIf=\"flag == 1\"&gt;\n            some data\n        &lt;/li&gt;\n    &lt;/template&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I get it</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;!--template bindings={\n      \"ng-reflect-ng-for-of\": \"1,2,3,4\"\n    }--&gt;\n    &lt;!--template bindings={}--&gt;\n    &lt;!--template bindings={}--&gt;\n    &lt;!--template bindings={}--&gt;\n    &lt;!--template bindings={}--&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>And it display nothing.\nI need to display <code>&lt;li&gt;</code> in *ngFor only when <code>item.flagsExplain[flag]</code> is set</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "edited": false, "score": 0, "creation_date": 1493821100, "post_id": 43762580, "comment_id": 74566532, "body": "Cant understand your logic, as in why u wrote return inside for loop. Any ways change <code>frequencyArray: number[] = [1000000]</code> to  <code>frequencyArray:any[] = [1000000]</code>"}, {"owner": {"reputation": 23, "user_id": 4635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206407546856194/picture?type=large", "display_name": "Beatrice Effy", "link": "https://stackoverflow.com/users/4635003/beatrice-effy"}, "reply_to_user": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "edited": false, "score": 0, "creation_date": 1493821596, "post_id": 43762580, "comment_id": 74566945, "body": "I can&#39;t because that array of numbers arrives from a server, now I wrote there to let understand you. Anyway I edited the question, the array is [1, 0, 0, 0, 0, 0, 0] @ParthGhiya"}, {"owner": {"reputation": 23, "user_id": 4635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206407546856194/picture?type=large", "display_name": "Beatrice Effy", "link": "https://stackoverflow.com/users/4635003/beatrice-effy"}, "reply_to_user": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "edited": false, "score": 0, "creation_date": 1493822036, "post_id": 43762580, "comment_id": 74567291, "body": "Anyway I wrote return inside for loop because it must return the name of the Day for each 1 he find."}, {"owner": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "edited": false, "score": 0, "creation_date": 1493822167, "post_id": 43762580, "comment_id": 74567418, "body": "then binary will always be 1, because in iteration of first loop it will return &amp; End"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206407546856194/picture?type=large", "display_name": "Beatrice Effy", "link": "https://stackoverflow.com/users/4635003/beatrice-effy"}, "edited": false, "score": 0, "creation_date": 1493821465, "post_id": 43762716, "comment_id": 74566836, "body": "Yes @woodsprite, you&#39;re right, I edited the code, but the problem remains.. I&#39;m sure that it&#39;s my fault because I don&#39;t understand how can I do"}], "tags": [], "owner": {"reputation": 2474, "user_id": 3365033, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ae821527ffe20cd1cd746a2358a7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Laurens", "link": "https://stackoverflow.com/users/3365033/laurens"}, "is_accepted": false, "score": 0, "last_activity_date": 1493821263, "creation_date": 1493821263, "answer_id": 43762716, "question_id": 43762580, "link": "https://stackoverflow.com/questions/43762580/array-of-numbers-not-assignable-to-array-of-strings-typescript-angular-2/43762716#43762716", "title": "Array of numbers not assignable to array of strings typescript angular 2", "body": "<p>Your frequency array is not an array, it's just 1 number.</p>\n\n<pre><code>@Component\n\nweekDays: string[] = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\nfrequencyArray: number[] = [1, 0, 0, 0, 0, 0];\n\nloadFrequencyLabel() {\n  var binary = this.prescription.frequencyArray;\n  var label: string;\n\n  for (var i = 0; i &lt; binary.length; i++) { \n     binary[i] = this.weekDays[i];\n     return label;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206407546856194/picture?type=large", "display_name": "Beatrice Effy", "link": "https://stackoverflow.com/users/4635003/beatrice-effy"}, "edited": false, "score": 0, "creation_date": 1493824501, "post_id": 43763339, "comment_id": 74569286, "body": "Thank you very much, this is perfect!"}], "tags": [], "owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1493822753, "creation_date": 1493822753, "answer_id": 43763339, "question_id": 43762580, "link": "https://stackoverflow.com/questions/43762580/array-of-numbers-not-assignable-to-array-of-strings-typescript-angular-2/43763339#43763339", "title": "Array of numbers not assignable to array of strings typescript angular 2", "body": "<p>You have <code>frequencyArray</code>, which you've set to a <code>number[]</code>, and <code>weekDays</code>, which you set to a <code>string[]</code>. That's fine. I think what you want to do is make a third <code>string[]</code> which contains the weekdays where the <code>frequencyArray</code> contains a 1:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let weekDays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\n\r\nlet frequencyArray = [1, 0, 0, 1, 0, 0];\r\n\r\nlet days = frequencyArray.reduce((acc, curr, index) =&gt; {\r\n  if (curr === 1) acc.push(weekDays[index]);\r\n  return acc;\r\n}, []);\r\nconsole.log(days.join(' and '));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I've simplified the code somewhat to make it more understandable. The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce?v=control\" rel=\"nofollow noreferrer\"><code>reduce</code></a> function essentially boils an array down to a single value, or in this case, to another array. The first argument is a function that is called for each element in the array (in the parameter I've named <code>curr</code>). It also keeps track of the result in an \"accumulator\" (in the parameter I've named <code>acc</code>). The initial value of the accumulator is passed as the second argument to <code>reduce</code>.</p>\n\n<p>So, at the end, <code>days</code> consists of the days of the week where the <code>frequencyArray</code> contains a 1. </p>\n\n<p>Then you just call the <code>join</code> method on the result, with \" and \" as the delimiter.</p>\n\n<p>Note that I've used ES2015 syntax, which should work fine with TypeScript you're likely using for Angular 2.</p>\n"}], "owner": {"reputation": 23, "user_id": 4635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206407546856194/picture?type=large", "display_name": "Beatrice Effy", "link": "https://stackoverflow.com/users/4635003/beatrice-effy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5617, "favorite_count": 0, "accepted_answer_id": 43763339, "answer_count": 2, "score": 0, "last_activity_date": 1493906470, "creation_date": 1493820903, "last_edit_date": 1493906470, "question_id": 43762580, "link": "https://stackoverflow.com/questions/43762580/array-of-numbers-not-assignable-to-array-of-strings-typescript-angular-2", "title": "Array of numbers not assignable to array of strings typescript angular 2", "body": "<p>I'm new with typescript and angular 2 and I didn't know how to solve it.</p>\n\n<p>I have an array of week days and an array of seven numbers, or 0 or 1. \nEach '1' correspond to a week day, so Monday would be 1000000, Tuesday would be 0100000, Wednesday 0010000 and so on.</p>\n\n<p>How can I say in a function that the first object of WeekDays array has to match the first object of the Frequency array and so on? I want to display the correct name, so if the number I give to it is 1000000 I have to display 'Monday', if the number is 0010100 I've to display 'Wednesday and Friday'. </p>\n\n<p>If I simply equate the two arrays it gives me \"Type 'string' is not assignable to type 'number'\", and I cannot change the Frequency array because it arrives from a server.</p>\n\n<p>@Component </p>\n\n<pre><code>weekDays: string[] = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\nfrequencyArray: number[] = [1, 0, 0, 0, 0, 0, 0]; //or whatever you want\n\nloadFrequencyLabel() {\n  var binary = this.prescription.frequencyArray;\n  var label: string;\n\n  for (var i = 0; i &lt; binary.length; i++) { \n     binary[i] = this.weekDays[i];\n     return label;\n  }\n}\n</code></pre>\n\n<p>Template</p>\n\n<pre><code>&lt;p class=\"frequency-label\"&gt;{{loadFrequencyLabel()}}&lt;/p&gt;\n</code></pre>\n\n<p>THANK YOU!</p>\n"}, {"tags": ["angular", "typescript", "npm", "karma-runner"], "comments": [{"owner": {"reputation": 141, "user_id": 7666121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-a8QbVN9AKbc/AAAAAAAAAAI/AAAAAAAACiI/iR0YnkdZuHs/photo.jpg?sz=128", "display_name": "Antoine Laborderie", "link": "https://stackoverflow.com/users/7666121/antoine-laborderie"}, "edited": false, "score": 0, "creation_date": 1493971636, "post_id": 43761609, "comment_id": 74639142, "body": "Some help please ?"}, {"owner": {"reputation": 3958, "user_id": 2841351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xoFYo.png?s=128&g=1", "display_name": "Norgul", "link": "https://stackoverflow.com/users/2841351/norgul"}, "edited": false, "score": 0, "creation_date": 1499428657, "post_id": 43761609, "comment_id": 76914968, "body": "Did you ever find a workaround to this issue?"}, {"owner": {"reputation": 141, "user_id": 7666121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-a8QbVN9AKbc/AAAAAAAAAAI/AAAAAAAACiI/iR0YnkdZuHs/photo.jpg?sz=128", "display_name": "Antoine Laborderie", "link": "https://stackoverflow.com/users/7666121/antoine-laborderie"}, "reply_to_user": {"reputation": 3958, "user_id": 2841351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xoFYo.png?s=128&g=1", "display_name": "Norgul", "link": "https://stackoverflow.com/users/2841351/norgul"}, "edited": false, "score": 0, "creation_date": 1499517948, "post_id": 43761609, "comment_id": 76946860, "body": "I imported every spec.ts file in a single test.spec.ts and run the tests from this file. At the beginning of the file i also import every shim i needed. In tsconfig be sure to output to es5. I don&#39;t test components anymore so can&#39;t help you much more"}], "owner": {"reputation": 141, "user_id": 7666121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-a8QbVN9AKbc/AAAAAAAAAAI/AAAAAAAACiI/iR0YnkdZuHs/photo.jpg?sz=128", "display_name": "Antoine Laborderie", "link": "https://stackoverflow.com/users/7666121/antoine-laborderie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1493818414, "creation_date": 1493818414, "question_id": 43761609, "link": "https://stackoverflow.com/questions/43761609/angular2-npm-test-throws-reflect-metadata-shim-is-required-when-using-class-deco", "title": "Angular2 npm test throws reflect-metadata shim is required when using class decorators", "body": "<p>I created a simple component to display DoubleClick ads with Angular 2.</p>\n\n<p>I'm trying to publish it to npm, and to do so I would like to test it with karma before. I can confirm it is working properly on 2 different projects, but when running <code>npm test</code> (<code>tsc &amp;&amp; karma</code>) it throws an error:\n<code>uncaught exception: reflect-metadata shim is required when using class decorators</code></p>\n\n<p>I found on stackoverflow that this could fix the error:</p>\n\n<pre><code>import 'reflect-metadata';\nimport 'zone.js';\n</code></pre>\n\n<p>But I tried importing them in most of my files without success...</p>\n\n<p>Here is <a href=\"https://github.com/alaborderie/ng2-ad-dfp\" rel=\"nofollow noreferrer\">a link to my repo</a> if someone could help me out that would be great ;) !</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "object", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 7153151, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12891e9adb1f3a4911da1bccc76554e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7153151/jamie"}, "edited": false, "score": 0, "creation_date": 1493819491, "post_id": 43761199, "comment_id": 74565234, "body": "In this case, won&#39;t the <i>changedObj</i> only have a single property and not the other properties of the default <i>data</i> object that I want to pass? Will this merge the <i>changedObj</i> into <i>data</i> object and pass <i>data</i> object to the function? thank you :)"}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "reply_to_user": {"reputation": 337, "user_id": 7153151, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12891e9adb1f3a4911da1bccc76554e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7153151/jamie"}, "edited": false, "score": 1, "creation_date": 1493824943, "post_id": 43761199, "comment_id": 74569611, "body": "@Jamie <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">Object.assign docs</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493833987, "post_id": 43761199, "comment_id": 74575117, "body": "consider using <code>changedObj = {...changedObj, name: &#39;new name&#39;};</code> which is much cleaner and does not require a dummy object to prevent mutation"}], "tags": [], "owner": {"reputation": 4507, "user_id": 5436486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/r7hmn.jpg?s=128&g=1", "display_name": "Tareq", "link": "https://stackoverflow.com/users/5436486/tareq"}, "is_accepted": false, "score": 1, "last_activity_date": 1493817350, "creation_date": 1493817350, "answer_id": 43761199, "question_id": 43761115, "link": "https://stackoverflow.com/questions/43761115/passing-a-new-object-as-parameter-to-a-function-changing-only-1-value/43761199#43761199", "title": "Passing a new object as parameter to a function changing only 1 value", "body": "<pre><code>changedObj = Object.assign({},changedObj, {name: 'new name'});\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>changedObj['name'] = 'New Name';\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 7153151, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12891e9adb1f3a4911da1bccc76554e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7153151/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493817350, "creation_date": 1493817127, "question_id": 43761115, "link": "https://stackoverflow.com/questions/43761115/passing-a-new-object-as-parameter-to-a-function-changing-only-1-value", "title": "Passing a new object as parameter to a function changing only 1 value", "body": "<p>I have a function that takes an object as parameter. The object has a default value containing many properties and methods which I don't know. I however know one of the properties and I want to pass the default object with the property changed. How do I do it? for eg..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class DataFactory() {\r\n  private static getData(data) {} // data is an object having default set properties\r\n}\r\n\r\n// Somewhere in my other module\r\n\r\nfunction blabla() {\r\n  let name = 'Hello'\r\n  let newData = DataFactory.getData(changedObj)\r\n  //.... other stuffs\r\n}\r\n\r\n// here the changedObj is the default object with only the property called 'name' modified.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 734, "user_id": 3224313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a03c7c0ec3ee69cad44205005e8cca?s=128&d=identicon&r=PG", "display_name": "mareks", "link": "https://stackoverflow.com/users/3224313/mareks"}, "edited": false, "score": 0, "creation_date": 1493813306, "post_id": 43759590, "comment_id": 74560308, "body": "I usually create a method like initForm, which i call on ngInit, and again after submitting the form"}], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 6076198, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/545e2ac39bca0ed9b8e4598ae0027d89?s=128&d=identicon&r=PG&f=1", "display_name": "sireesha j", "link": "https://stackoverflow.com/users/6076198/sireesha-j"}, "edited": false, "score": 0, "creation_date": 1541064656, "post_id": 43759730, "comment_id": 93092687, "body": "Is this removes validation part also?"}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "reply_to_user": {"reputation": 543, "user_id": 6076198, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/545e2ac39bca0ed9b8e4598ae0027d89?s=128&d=identicon&r=PG&f=1", "display_name": "sireesha j", "link": "https://stackoverflow.com/users/6076198/sireesha-j"}, "edited": false, "score": 0, "creation_date": 1546659183, "post_id": 43759730, "comment_id": 94932653, "body": "@sireeshaj depends exactly what you mean. See my answer if you&#39;re using angular material controls."}], "tags": [], "owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "is_accepted": false, "score": 23, "last_activity_date": 1493813593, "creation_date": 1493813593, "answer_id": 43759730, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit/43759730#43759730", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<p>That's pretty much easy:</p>\n\n<pre><code>this.form.markAsPristine();\nthis.form.markAsUntouched();\n</code></pre>\n\n<p>This resets the form metadata and the form is pristine again</p>\n"}, {"comments": [{"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 1, "creation_date": 1493814304, "post_id": 43759912, "comment_id": 74561051, "body": "This is so much a hack :D However, I must admit it should work ;)"}, {"owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "reply_to_user": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1493814419, "post_id": 43759912, "comment_id": 74561147, "body": "Yep! We can find amazing solutions by reading Angular doc. These guys are so... brilliant!"}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1493837229, "post_id": 43759912, "comment_id": 74577023, "body": "Well I&#39;m tired to read it after reading it four times since angular2 beta, so I will leave it to the ones who likes it :) I actually don&#39;t find this to be a good solution, because it unnecessarily rewrites all the form values and it might cause performance problems on huge forms."}, {"owner": {"reputation": 2384, "user_id": 1212682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136ef24f17c7bb9310a29d7df7c8ddbb?s=128&d=identicon&r=PG", "display_name": "Yiling", "link": "https://stackoverflow.com/users/1212682/yiling"}, "edited": false, "score": 8, "creation_date": 1527193772, "post_id": 43759912, "comment_id": 88047951, "body": "Tried and this solution does not work.    Because reactive form receives latest value from input fields right away, the &quot;this.myReactiveForm.value&quot; passed to the &quot;reset&quot; method does not reflect the prior state of the form, rather it is the latest value on the form. Thus this way of reset results in a no-op.     The form under this solution stays unchanged instead of being reverted/reset to a prior state as expected."}], "tags": [], "owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "is_accepted": true, "score": 75, "last_activity_date": 1493814391, "last_edit_date": 1493814391, "creation_date": 1493814135, "answer_id": 43759912, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit/43759912#43759912", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<p>The solution of @smnbbrv works pretty well.</p>\n\n<p>You can also provide your actual form value to reset() method.</p>\n\n<p>Given the fact <code>myReactiveForm</code> is a Reactive form in your component. After successful submit of your form (by calling a service for example), then your can do: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.myReactiveForm.reset(this.myReactiveForm.value);\n</code></pre>\n\n<p>It will reset the form and set the \"new\" form values to the same value you form had.</p>\n\n<p>This method can be see within Tour of Hero example <a href=\"https://angular.io/docs/ts/latest/guide/reactive-forms.html#!#_reset_-the-form-flags\" rel=\"noreferrer\">Official Angular.io doc</a></p>\n"}, {"comments": [{"owner": {"reputation": 116, "user_id": 8110747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-94feg6Kqk0c/AAAAAAAAAAI/AAAAAAAAAL0/4qgl4lGPdFE/photo.jpg?sz=128", "display_name": "yooloobooy", "link": "https://stackoverflow.com/users/8110747/yooloobooy"}, "edited": false, "score": 0, "creation_date": 1602865232, "post_id": 54048660, "comment_id": 113864763, "body": "tldr: get a template variable from the ngForm directive and pass it to your reset method. Then call <code>resetForm</code> on it."}, {"owner": {"reputation": 330, "user_id": 1056764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fIFMY.jpg?s=128&g=1", "display_name": "RcoderNY", "link": "https://stackoverflow.com/users/1056764/rcoderny"}, "edited": false, "score": 0, "creation_date": 1614596312, "post_id": 54048660, "comment_id": 117424034, "body": "As this answer points out, when in this situation (where validators will show errors on the form when restting the form with <code>FormGroup#reset()</code>, use a template variable <code>&lt;form #login=&quot;ngForm&quot; ... &gt;</code> and either pass login template variable to your <code>(ngSubmit)=&quot;submit(login)&quot;</code> function and call <code>resetForm() </code> on it. OR to not have to rely on the submit event, use <code>@ViewChild(&#39;login&#39;) private _loginNgForm: NgForm;</code> and then <code>this._loginNgForm.resetForm();</code>"}], "tags": [], "owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "is_accepted": false, "score": 20, "last_activity_date": 1546661351, "last_edit_date": 1592644375, "creation_date": 1546658138, "answer_id": 54048660, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit/54048660#54048660", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<h3>Caution for users of angular/material2</h3>\n<p>There's an added complication if you're using angular material controls, with <code>mat-error</code> to display your errors. Such errors are displayed based on the result of an <code>ErrorStateMatcher</code> (in addition to any <code>*ngIf</code> you may have applied).</p>\n<p>The <a href=\"https://github.com/angular/material2/blob/master/src/lib/core/error/error-options.ts\" rel=\"noreferrer\">default ErrorStateMatcher</a> displays errors if the following is true:</p>\n<pre><code>isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean \n{\n   return !!(control &amp;&amp; control.invalid &amp;&amp; (control.touched || (form &amp;&amp; form.submitted)));\n}\n</code></pre>\n<p>So what this says is if the form has <em>ever</em> been submitted and a control becomes invalid (per validation rules) then the error will be displayed. This is often not what you want (especially if you're reading this question!).</p>\n<p>Looking at the source code - there isn't a way to set <code>submitted = false</code> unless you call <a href=\"https://github.com/angular/angular/blob/master/packages/forms/src/directives/ng_form.ts\" rel=\"noreferrer\"><code>resetForm</code></a> on the ngForm directive (not the FormGroup object). Setting states as pristine or untouched don't reset submitted to false.</p>\n<p>If you're using <code>mat-error</code> you may find it easier to create your own ErrorStateMatcher (simple interface) for custom logic if this is an issue.</p>\n<p>Also note that ErrorStateMatcher is only in angular material - and not a part of standard angular forms.</p>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "is_accepted": false, "score": 4, "last_activity_date": 1556821728, "creation_date": 1556821728, "answer_id": 55958226, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit/55958226#55958226", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<p><strong>For reactive forms what worked for me when using angular 7</strong>: was to use template-driven form and pass it via the form submit handler like so</p>\n\n<pre><code>// component.html\n &lt;form #f=\"ngForm\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit(f)\" novalidate&gt;\n ....\n&lt;/form&gt;\n\n\n// component.ts\n\nonSubmit(form: NgForm) {\n\n// reset form here\n form.form.markAsPristine();\n form.resetForm();\n}\n\n</code></pre>\n\n<p>It will reset the form and the submitted state to default.</p>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 10108728, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730525617044528/picture?type=large", "display_name": "Lucas Sim&#245;es", "link": "https://stackoverflow.com/users/10108728/lucas-sim%c3%b5es"}, "is_accepted": false, "score": 1, "last_activity_date": 1589984127, "creation_date": 1589984127, "answer_id": 61915391, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit/61915391#61915391", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<p>Adding a another answers, if you have a disabled input in your form, use <strong>getRawValue()</strong> as a parameter of <strong>ngForm.resetForm()</strong>. See the sample:</p>\n\n<p>in HTML:</p>\n\n<pre><code>&lt;form\n  (ngSubmit)=\"formSubmit(myForm)\"\n  #myForm=\"ngForm\"\n&gt;\n    ...\n&lt;/form&gt;\n</code></pre>\n\n<p>in .TS:</p>\n\n<pre><code>formSubmit(myForm: NgForm) {\n   myForm.resetForm(myForm.form.getRawValue());\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1333, "user_id": 4348610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Tw7XMX54zpk/AAAAAAAAAAI/AAAAAAAABN8/lni6U-2G49A/photo.jpg?sz=128", "display_name": "Muhammad bin Yusrat", "link": "https://stackoverflow.com/users/4348610/muhammad-bin-yusrat"}, "edited": false, "score": 1, "creation_date": 1614659846, "post_id": 62195496, "comment_id": 117445945, "body": "This invokes all the error validators."}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 7, "last_activity_date": 1591304850, "last_edit_date": 1591304850, "creation_date": 1591276310, "answer_id": 62195496, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit/62195496#62195496", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<p><strong>04-06-2020:</strong> Ionic 5+ and Angular 9+</p>\n\n<p>Just a single line. i.e. <code>this.form.reset();</code></p>\n\n<blockquote>\n  <p>Resets the FormGroup, marks all descendants are marked pristine and untouched, and the value of all descendants to null.</p>\n</blockquote>\n\n<pre><code> form: FormGroup;\n\n constructor(private formBuilder: FormBuilder, ) { }\n\n  resetTheForm(): void {\n    this.form.reset();\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 295, "user_id": 10564312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cSXeZlCSnb8/AAAAAAAAAAI/AAAAAAAAAvc/t1lmuzVl_Zo/photo.jpg?sz=128", "display_name": "sanka sanjeewa", "link": "https://stackoverflow.com/users/10564312/sanka-sanjeewa"}, "is_accepted": false, "score": 0, "last_activity_date": 1594627291, "creation_date": 1594627291, "answer_id": 62871567, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit/62871567#62871567", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<p>Some time <code>this.myForm.reset(this.myForm.value);</code> may not reset to initial values\nSo it is better to create a separate function to initialize the form and call it in ngOnInit() and before call <code>this.myForm.reset(this.myForm.value);</code></p>\n<pre><code>ngOnInit(){\n  myFormValues();\n}\n\nmyFormValues() {\n  this.myForm= this.fb.group({\n      id: ['', Validators.required],\n      name: ['', Validators.required],\n    });\n}\n\nsubmitForm() {\n  // save data\n  myFormValues();\n  this.myForm.reset(this.myForm.value)\n}\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 7710380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc25b80f834e3d4a24f7a6dd2b88052b?s=128&d=identicon&r=PG&f=1", "display_name": "ExaPsa", "link": "https://stackoverflow.com/users/7710380/exapsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77277, "favorite_count": 6, "accepted_answer_id": 43759912, "answer_count": 7, "score": 46, "last_activity_date": 1594627291, "creation_date": 1493813172, "last_edit_date": 1591276333, "question_id": 43759590, "link": "https://stackoverflow.com/questions/43759590/angular-reactive-forms-how-to-reset-form-state-and-keep-values-after-submit", "title": "Angular Reactive forms : how to reset form state and keep values after submit", "body": "<p>In an Angular reactive form. How to reset only the <strong>state</strong> of form after successful submit?</p>\n\n<p>Here is the process:</p>\n\n<ul>\n<li>Create the form and <code>setValue</code> from service result</li>\n<li>Modify values and submit the form</li>\n<li>If form is properly submitted to service, then reset and keep values</li>\n</ul>\n\n<p><strong>How to keep values as modified and reset the form to its pristine state.</strong></p>\n\n<p>A form.reset() simply empty the form. But if I don't call it, the state is not reset and for example my validations depending on form state classes (pristine, dirty, valid etc.) are still there. </p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "comments": [{"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 1, "creation_date": 1493811525, "post_id": 43758937, "comment_id": 74559012, "body": "Looking at that top answer, instead of <code>obj[v] = 0;</code>, you&#39;d use <code>obj[v] = v;</code>"}, {"owner": {"reputation": 9373, "user_id": 1581803, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7d7013acefc965b236241196601a14e5?s=128&d=identicon&r=PG", "display_name": "Vingtoft", "link": "https://stackoverflow.com/users/1581803/vingtoft"}, "reply_to_user": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 0, "creation_date": 1493811565, "post_id": 43758937, "comment_id": 74559037, "body": "Yes, you are correct. This is a duplicate, thanks for helping out."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1493811618, "post_id": 43758937, "comment_id": 74559070, "body": "<code>[&quot;foo&quot;, &quot;bar&quot;].reduce((acc, cur) =&gt; (acc[cur] = cur, acc), {})</code>"}], "answers": [{"tags": [], "owner": {"reputation": 19565, "user_id": 6235047, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ilJRk.png?s=128&g=1", "display_name": "prasanth", "link": "https://stackoverflow.com/users/6235047/prasanth"}, "is_accepted": false, "score": 1, "last_activity_date": 1493811545, "creation_date": 1493811545, "answer_id": 43759000, "question_id": 43758937, "link": "https://stackoverflow.com/questions/43758937/convert-a-list-to-a-dict/43759000#43759000", "title": "Convert a list to a dict", "body": "<p>Try with <code>Array#reduce</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var list = [\"foo\", \"bar\"];\r\nconsole.log(list.reduce((a,b)=&gt; (a[b]=b , a), {}))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": false, "score": 0, "last_activity_date": 1493811699, "creation_date": 1493811699, "answer_id": 43759055, "question_id": 43758937, "link": "https://stackoverflow.com/questions/43758937/convert-a-list-to-a-dict/43759055#43759055", "title": "Convert a list to a dict", "body": "<pre><code>let list = [\"foo\", \"bar\"];\n\n        let dict = {};\n        for (let i=0; i&lt; list.length; i++ ) {\n                dict[list[i]] = list[i];\n        }\n        console.log(dict);\n</code></pre>\n"}], "owner": {"reputation": 9373, "user_id": 1581803, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7d7013acefc965b236241196601a14e5?s=128&d=identicon&r=PG", "display_name": "Vingtoft", "link": "https://stackoverflow.com/users/1581803/vingtoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "closed_date": 1493811488, "answer_count": 2, "score": 0, "last_activity_date": 1493811699, "creation_date": 1493811345, "question_id": 43758937, "link": "https://stackoverflow.com/questions/43758937/convert-a-list-to-a-dict", "closed_reason": "Duplicate", "title": "Convert a list to a dict", "body": "<p>Im writing a small application i Angular2, and need a simple way to convert a list to a dict. </p>\n\n<p>I have a list: </p>\n\n<pre><code>var list = [\"foo\", \"bar\"];\n</code></pre>\n\n<p>I want to convert the list to a dict like this: </p>\n\n<pre><code>var dict = {foo: \"foo\", bar: \"bar\"};\n</code></pre>\n\n<p>Whats the easiest way to do this using typescript, javascript, jQuery or Angular2? </p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 3, "creation_date": 1493808904, "post_id": 43758003, "comment_id": 74557235, "body": "Those headers should be set in server side not client app.. <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_COR&zwnj;&#8203;S</a>"}, {"owner": {"reputation": 175, "user_id": 7701372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b850c1ca0145cac704026817303a3cc?s=128&d=identicon&r=PG&f=1", "display_name": "sravanthi", "link": "https://stackoverflow.com/users/7701372/sravanthi"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1493809046, "post_id": 43758003, "comment_id": 74557321, "body": "is there any alternative to set them at the client side?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1493809099, "post_id": 43758003, "comment_id": 74557362, "body": "nope.. you should set your server side CORS"}, {"owner": {"reputation": 290, "user_id": 5418543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hecjI.jpg?s=128&g=1", "display_name": "Buddhabhushan Kamble", "link": "https://stackoverflow.com/users/5418543/buddhabhushan-kamble"}, "edited": false, "score": 0, "creation_date": 1493809297, "post_id": 43758003, "comment_id": 74557486, "body": "For development purpose you can disable CORS in crome browser. But please make sure this is for development purpose and permanent solution is to set CORS at server side. Please refer the below link  <a href=\"http://stackoverflow.com/questions/3102819/disable-same-origin-policy-in-chrome\" title=\"disable same origin policy in chrome\">stackoverflow.com/questions/3102819/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5445, "user_id": 5665484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IWZYB.gif?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/5665484/developer"}, "edited": false, "score": 0, "creation_date": 1493809252, "post_id": 43758100, "comment_id": 74557472, "body": "What do you mean by <i>You simply can&#39;t</i> and how is this related to OAuth? This is just CORS issue which could be solved by setting required headers in the response headers"}], "tags": [], "owner": {"reputation": 603, "user_id": 5455156, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--_h7qS940uw/AAAAAAAAAAI/AAAAAAAAABg/iU1ZvofHK10/photo.jpg?sz=128", "display_name": "Vandolph Reyes", "link": "https://stackoverflow.com/users/5455156/vandolph-reyes"}, "is_accepted": false, "score": 0, "last_activity_date": 1493809092, "creation_date": 1493809092, "answer_id": 43758100, "question_id": 43758003, "link": "https://stackoverflow.com/questions/43758003/access-control-allow-origin-error-while-trying-to-access-url-using-typescript-an/43758100#43758100", "title": "Access-Control-Allow-Origin error while trying to access url using typescript and angular2", "body": "<p>You simply can't. Try Oauth to get information/data from other websites.</p>\n"}, {"tags": [], "owner": {"reputation": 458, "user_id": 6699781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WasMTNIO0kU/AAAAAAAAAAI/AAAAAAAAB5g/zHqJBjgfzCM/photo.jpg?sz=128", "display_name": "thangavel .R", "link": "https://stackoverflow.com/users/6699781/thangavel-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1493827379, "creation_date": 1493827379, "answer_id": 43765018, "question_id": 43758003, "link": "https://stackoverflow.com/questions/43758003/access-control-allow-origin-error-while-trying-to-access-url-using-typescript-an/43765018#43765018", "title": "Access-Control-Allow-Origin error while trying to access url using typescript and angular2", "body": "<p>As per browser policy <em>CORS</em> is not allowed. Howerver if you are using chrome extension <strong>POSTMAN</strong> or app such as <strong>INSOMINA</strong>  <em>cors</em> error wont occur.</p>\n\n<p><strong>How to pass cors error?</strong></p>\n\n<blockquote>\n  <p>CORS error should only pass by server side.</p>\n</blockquote>\n\n<p>Consider if your are using <em>express</em> as your server side. Then add following middleware in you app route.</p>\n\n<pre><code>  app.use(function(req,res){\n res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Header' , 'authorization');\n  });\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 7701372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b850c1ca0145cac704026817303a3cc?s=128&d=identicon&r=PG&f=1", "display_name": "sravanthi", "link": "https://stackoverflow.com/users/7701372/sravanthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 43765018, "answer_count": 2, "score": 0, "last_activity_date": 1552125719, "creation_date": 1493808835, "question_id": 43758003, "link": "https://stackoverflow.com/questions/43758003/access-control-allow-origin-error-while-trying-to-access-url-using-typescript-an", "title": "Access-Control-Allow-Origin error while trying to access url using typescript and angular2", "body": "<p>I am trying to retrieve a service which is running on another port.I am getting an error as follows</p>\n\n<pre><code>Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:3000' is therefore not allowed access.\n</code></pre>\n\n<p>my service.ts file is as follows</p>\n\n<pre><code>getDeviceInfo(){\n   let headers = new Headers();\n    headers.append('Access-Control-Allow-Origin', 'http://localhost:3000',);\n    headers.append('Access-Control-Allow-Headers','Authorization')\n    let options = new RequestOptions({\n      method: RequestMethod.Get,\n      url: DEVICE_URL,\n      headers: headers\n    });\n    return  this.http.request(new Request(options))\n      .map((res: Response) =&gt; res.json());\n  }\n</code></pre>\n\n<p>thanks in advance</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "dom-events"], "answers": [{"tags": [], "owner": {"reputation": 571, "user_id": 5127938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GNrZo.jpg?s=128&g=1", "display_name": "Hayuki", "link": "https://stackoverflow.com/users/5127938/hayuki"}, "is_accepted": true, "score": 33, "last_activity_date": 1494850678, "last_edit_date": 1494850678, "creation_date": 1494849265, "answer_id": 43978868, "question_id": 43756290, "link": "https://stackoverflow.com/questions/43756290/how-to-detect-onfocus-and-blur-event-of-ion-searchbar-in-ionic2/43978868#43978868", "title": "How to detect onfocus and blur event of ion-searchbar in ionic2?", "body": "<p>To catch focus / blur events on searchbar you should use (ionFocus) and (ionBlur) instead of Angular's (focus) and (blur). Works like a charm for me!</p>\n\n<pre><code>&lt;ion-searchbar #searchbar placeholder=\"Type an address\" showCancelButton\n               (ionBlur)=\"checkBlur()\"\n               (ionFocus)=\"checkFocus()\"&gt;&lt;/ion-searchbar&gt;\n</code></pre>\n"}], "owner": {"reputation": 1138, "user_id": 6910571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n1gpt.jpg?s=128&g=1", "display_name": "awmleer", "link": "https://stackoverflow.com/users/6910571/awmleer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23201, "favorite_count": 1, "accepted_answer_id": 43978868, "answer_count": 1, "score": 10, "last_activity_date": 1503557225, "creation_date": 1493804083, "question_id": 43756290, "link": "https://stackoverflow.com/questions/43756290/how-to-detect-onfocus-and-blur-event-of-ion-searchbar-in-ionic2", "title": "How to detect onfocus and blur event of ion-searchbar in ionic2?", "body": "<p>I'm now using ionic2 to build an app. I want to detect when the searchbar input get focus and when it blur so that I can hide or show some components according to the current status. (For example, show some suggestions when the user clicks this searchbar.)</p>\n\n<p>This is my code:</p>\n\n<pre><code>&lt;ion-searchbar #searchbar [(ngModel)]=\"searchInput\"&gt;&lt;/ion-searchbar&gt;\n</code></pre>\n\n<p>However, I found that this component seems don't have these two events.I have tried to add an event listener like this, but it didn't work:</p>\n\n<pre><code>&lt;ion-searchbar #searchbar [(ngModel)]=\"searchInput\" (focus)=\"searchBarOnFocus()\"&gt;&lt;/ion-searchbar&gt;\n</code></pre>\n\n<p>So can I implement this feature in some other ways?</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p>There are two documents for ion-searchbar:\n<a href=\"http://ionicframework.com/docs/components/#searchbar\" rel=\"noreferrer\">component document</a> &amp;\n<a href=\"http://ionicframework.com/docs/api/components/searchbar/Searchbar/\" rel=\"noreferrer\">api document</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1493802107, "post_id": 43755343, "comment_id": 74552412, "body": "authenticate via angular means ? angular provides guards for you to check if the user is authorized to log in or not . so are you asking about angular guards?"}, {"owner": {"reputation": 213, "user_id": 5562664, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0fdca6613900868dfa5742ade0d390d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5562664/tony"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1493896922, "post_id": 43755343, "comment_id": 74603110, "body": "I need a http auth within Angular with Typescript. See my code above please. The basic auth is not working and the dialog is displaying. Even I setted the header auth"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1493897705, "post_id": 43755343, "comment_id": 74603660, "body": "you take at look at this repo i have used angular guards for the same , it might serve as a good starting point for auth <a href=\"https://github.com/rahulrsingh09/AngularConcepts/tree/master/src/app/guards\" rel=\"nofollow noreferrer\">github.com/rahulrsingh09/AngularConcepts/tree/master/src/app&zwnj;&#8203;/&hellip;</a>  take a look at it and give me a poke after that hope that will help"}], "owner": {"reputation": 213, "user_id": 5562664, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0fdca6613900868dfa5742ade0d390d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5562664/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493801384, "creation_date": 1493801384, "question_id": 43755343, "link": "https://stackoverflow.com/questions/43755343/angular2-http-authenticate", "title": "Angular2 http authenticate", "body": "<p>I want to authenticate via Angular2 Typescript and it is not working because it is asking me at the browser. Whats wrong with my code?</p>\n\n<pre><code>callrest(){\n  let url=\"/edison\";\n  return this.http.post(url, this.getPutHeaders()).map(res =&gt; res.json()).subscribe(\n               data =&gt; console.log(data),\n               err =&gt; console.log(err)\n            );;\n}\n\n\n\nprivate getPutHeaders(){\n    let headers = new Headers();\n    headers.append('Content-Type', 'text/plain');\n    headers.append('Authorization', 'Basic ' +\n      btoa('user:pw'));\n    return new RequestOptions({\n        headers: headers\n\n    });\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JJPDB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JJPDB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "edited": false, "score": 0, "creation_date": 1493800936, "post_id": 43755032, "comment_id": 74551665, "body": "config.ShortDate() in html !"}], "answers": [{"tags": [], "owner": {"reputation": 2441, "user_id": 5311796, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74c8798ccdb19f5b803bb47062ef1946?s=128&d=identicon&r=PG&f=1", "display_name": "sainu", "link": "https://stackoverflow.com/users/5311796/sainu"}, "is_accepted": false, "score": 1, "last_activity_date": 1493803834, "creation_date": 1493803834, "answer_id": 43756193, "question_id": 43755032, "link": "https://stackoverflow.com/questions/43755032/momentjs-date-format-in-single-file/43756193#43756193", "title": "momentjs date format in single file", "body": "<p>In component.ts</p>\n\n<pre><code>import { Config} from \"../../../config/config\"\n\n config:any = Config;\n</code></pre>\n\n<p>and in html</p>\n\n<pre><code>&lt;div&gt;\n      Person DOB : {{Person.DOB | date:?config.ShortDate}}\n&lt;/div&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;div&gt;\n      Person DOB : {{Person.DOB | date:'y-MM-dd HH:mm'}}\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 783, "user_id": 1920985, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/98660a10c209a7fca189d789bb832c50?s=128&d=identicon&r=PG", "display_name": "Maniac_1979", "link": "https://stackoverflow.com/users/1920985/maniac-1979"}, "is_accepted": true, "score": 0, "last_activity_date": 1493807659, "creation_date": 1493807659, "answer_id": 43757591, "question_id": 43755032, "link": "https://stackoverflow.com/questions/43755032/momentjs-date-format-in-single-file/43757591#43757591", "title": "momentjs date format in single file", "body": "<p>I found the answer myself.</p>\n\n<p>in html</p>\n\n<pre><code>&lt;div&gt;\n      Person DOB : {{Person.DOB | amDateFormat: config.ShortDate}}\n&lt;/div&gt;\n</code></pre>\n\n<p>in ts</p>\n\n<pre><code>export class Config{\n    public static get ShortDate():string {return \"YYYY-MM-DD HH:mm\"}\n}\n</code></pre>\n\n<p>Works perfectly.\nThanks for your help.</p>\n"}], "owner": {"reputation": 783, "user_id": 1920985, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/98660a10c209a7fca189d789bb832c50?s=128&d=identicon&r=PG", "display_name": "Maniac_1979", "link": "https://stackoverflow.com/users/1920985/maniac-1979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 43757591, "answer_count": 2, "score": -1, "last_activity_date": 1493807659, "creation_date": 1493800389, "last_edit_date": 1493807036, "question_id": 43755032, "link": "https://stackoverflow.com/questions/43755032/momentjs-date-format-in-single-file", "title": "momentjs date format in single file", "body": "<p>I have a config file where I store configuration parameters.</p>\n\n<pre><code>export class Config{\n    public static get ServerUrl():string {return \"http://localhost/request.php\"}\n    public static get ShortDate():string {return \"amDateFormat: 'YYYY-MM-DD HH:mm'\"}\n}\n</code></pre>\n\n<p>I use momentjs to do date/time formatting.\nNow in my component.html file I would like to do something like:</p>\n\n<pre><code>&lt;div&gt;\n      Person DOB : {{Person.DOB | ?config.ShortDate}}\n&lt;/div&gt;\n</code></pre>\n\n<p>My ts file:</p>\n\n<pre><code>import { Config} from \"../../../config/config\"\n\nconstructor(){\n     let config:any = Config\n}\n</code></pre>\n\n<p>I get an error\nWhat am I missing or are there any alternatives?</p>\n\n<p>Thanks</p>\n\n<p><strong>Edit:\nAfter updating according to answer provided by sainu</strong></p>\n\n<pre><code>&lt;div&gt;\n   Person DOB : {{Person.DOB | amDateFormat: 'YYYY-MM-DD HH:mm'}} \n&lt;/div&gt;\n&lt;div&gt;\n    Person DOB1 : {Person.DOB | date: config.ShortDate}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Gives me the folling output:</p>\n\n<p>Person DOB : 1970-01-01 01:00</p>\n\n<p>Person DOB1 : AM0DAMteFor0AMt: YYYY-MM-DD HH:mm</p>\n\n<p>Please note, I'm using momentjs.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "is_accepted": false, "score": 2, "last_activity_date": 1493801462, "creation_date": 1493801462, "answer_id": 43755375, "question_id": 43755019, "link": "https://stackoverflow.com/questions/43755019/iterate-nested-json-array-in-angular-2/43755375#43755375", "title": "Iterate nested JSON array in angular 2", "body": "<p>If you have only one item in <code>gdata</code>, you can do it with a single <code>ngFor</code> as below:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li *ngFor=\"let rew of gdata[0]?.rewards\"&gt;{{rew.rewardID}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Else if you have multiple items in <code>gdata</code>, you may need nested <code>ngFor</code> to generate multiple lists.</p>\n\n<pre><code>&lt;ul *ngFor=\"let data of gdata\"&gt;\n    &lt;li *ngFor=\"let rew of data?.rewards\"&gt;{{rew.rewardID}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>refer <a href=\"https://plnkr.co/edit/J2DwmYBcD2D0evSGcQMX?p=preview\" rel=\"nofollow noreferrer\">plunker</a>.</p>\n"}], "owner": {"reputation": 155, "user_id": 6549627, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/b25qO.jpg?s=128&g=1", "display_name": "I am Naresh", "link": "https://stackoverflow.com/users/6549627/i-am-naresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493808678, "creation_date": 1493800332, "last_edit_date": 1493808678, "question_id": 43755019, "link": "https://stackoverflow.com/questions/43755019/iterate-nested-json-array-in-angular-2", "title": "Iterate nested JSON array in angular 2", "body": "<p>Following is my json file. I want to iterate <code>rewards</code> array only. The following stuff iterate in <code>*ngFor</code>. \nI am iterating like this </p>\n\n<pre><code>&lt;ul *ngFor=\"let rew of gdata?.rewards\"&gt;\n     &lt;li&gt; {{rew.rewardID}} &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>if anyone please help me I have searched lot.</p>\n\n<pre><code>gdata = [\n {\n\"id\": 18,\n\"gname\": \"Learning Ramayanam\",\n\"goalCategory\": \"Education\",\n\"goalSubCategory\": \"Half-yearly\",\n\"goalDesc\": \"good\",\n\"rowStatusCode\": \"I\",\n\"createID\": \"1\",\n\"createTS\": null,\n\"updateID\": \"Ram\",\n\"updateTS\": null,\n\"rewards\": [\n  {\n    \"rewardID\": 25,\n    \"rewardName\": \"Amazon - pts\",\n    \"rowStatusCode\": \"I\",\n    \"createID\": \"1\",\n    \"createTS\": 1493785361000,\n    \"updateID\": null,\n    \"updateTS\": null\n  },\n  {\n    \"rewardID\": 6,\n    \"rewardName\": \"Trends - 100000pts\",\n    \"rowStatusCode\": \"U\",\n    \"createID\": \"1\",\n    \"createTS\": 1493131878000,\n    \"updateID\": null,\n    \"updateTS\": null\n  }\n],\n\"initiatives\": {\n  \"initID\": 17,\n  \"initAction\": \"Stop\",\n  \"startDate\": \"2017-04-27\",\n  \"targetDate\": \"2017-04-30\",\n  \"rowStatusCode\": \"U\",\n  \"createID\": \"1\",\n  \"createTS\": 1493294143000,\n  \"updateID\": null,\n  \"updateTS\": null,\n  \"status\": \"red\"\n  }\n },\n</code></pre>\n"}, {"tags": ["typescript", "declaration", "tsc", "monaco-editor"], "answers": [{"tags": [], "owner": {"reputation": 228, "user_id": 82252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432242b5280fd686a61557a10a1da6d2?s=128&d=identicon&r=PG", "display_name": "AndersMad", "link": "https://stackoverflow.com/users/82252/andersmad"}, "is_accepted": true, "score": 2, "last_activity_date": 1493883861, "creation_date": 1493883861, "answer_id": 43776832, "question_id": 43754797, "link": "https://stackoverflow.com/questions/43754797/monaco-editor-creating-typescript-declarations-automatically/43776832#43776832", "title": "Monaco Editor: Creating TypeScript-Declarations automatically", "body": "<p>Yes, apparently that is possible - try this (incomplete code):</p>\n\n<pre><code>let compilerOptions = (monaco.languages.typescript.typescriptDefaults as any)\n    .getCompilerOptions(); // getCompilerOptions is not \"public\"\ncompilerOptions.declaration = true;\nmonaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>getWorker.then((worker: any) =&gt; {\n    worker(model.uri)\n        .then((client: any) =&gt; {\n            client.getEmitOutput(model.uri.toString()).then((result: any) =&gt; {\n                console.log(result); // result.outputFiles[1].text\n            });\n        });\n});\n</code></pre>\n\n<p>The second file in the array is <code>1.d.ts</code></p>\n\n<p>It can also generate a <code>1.js.map</code> source map file by <code>compilerOptions.sourceMap = true;</code></p>\n"}], "owner": {"reputation": 3, "user_id": 4884338, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r7ETdpFe0hE/AAAAAAAAAAI/AAAAAAAACRw/lVF14rWcTuM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/4884338/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 43776832, "answer_count": 1, "score": 0, "last_activity_date": 1493883861, "creation_date": 1493799629, "question_id": 43754797, "link": "https://stackoverflow.com/questions/43754797/monaco-editor-creating-typescript-declarations-automatically", "title": "Monaco Editor: Creating TypeScript-Declarations automatically", "body": "<p>i am using the <a href=\"https://github.com/Microsoft/monaco-editor\" rel=\"nofollow noreferrer\">Monaco Editor</a> and i wonder, if it is possible, to create typescript declarations (*.d.ts) out of typescript-codes.</p>\n\n<p>Something like this pseudocode:</p>\n\n<pre><code>var myTsCode = \"function greeter(person: string): string { return 'Hello, ' + person; }\";\nvar myDTS = monaco.languages.typescript.createdts(myTsCode); // returns 'declare function greeter(person: string): string;'\n\nmonaco.languages.typescript.typescriptDefaults.addExtraLib(myDTS, \"filename/my.d.ts\");\n</code></pre>\n\n<p>(Basically the same way i can do via Commandline: \"tsc myTsCode.ts -d\")</p>\n\n<p>Thanks in advance &amp; Greetings ... Peter</p>\n"}, {"tags": ["typescript", "phantomjs"], "comments": [{"owner": {"reputation": 1257, "user_id": 37601, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b5c32c330836d1e4526ba54c236e4596?s=128&d=identicon&r=PG", "display_name": "Serguzest", "link": "https://stackoverflow.com/users/37601/serguzest"}, "edited": false, "score": 0, "creation_date": 1493826143, "post_id": 43754708, "comment_id": 74570472, "body": "It seems like your test code fails which uses phantomjs + karma runner. I think It is not about phantomjs itself"}, {"owner": {"reputation": 179, "user_id": 1914261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43cacdba81516141184af39101b5bbcd?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1914261/patrick"}, "reply_to_user": {"reputation": 1257, "user_id": 37601, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b5c32c330836d1e4526ba54c236e4596?s=128&d=identicon&r=PG", "display_name": "Serguzest", "link": "https://stackoverflow.com/users/37601/serguzest"}, "edited": false, "score": 0, "creation_date": 1493880459, "post_id": 43754708, "comment_id": 74592219, "body": "Thank you for your reply. I just checked the diff between the transpiled sources and there were no differences."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 1914261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43cacdba81516141184af39101b5bbcd?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1914261/patrick"}, "edited": false, "score": 0, "creation_date": 1493880036, "post_id": 43764336, "comment_id": 74591929, "body": "Thanks, had not checked that yet. Just ran a diff between the v2.3.0 transpiled sources and the v2.3.1 transpiled sources and the result was absolutely nothing."}], "tags": [], "owner": {"reputation": 1429, "user_id": 2194590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c6d38af3d9c3b2d10b7fcc0b6092d?s=128&d=identicon&r=PG", "display_name": "HolgerJeromin", "link": "https://stackoverflow.com/users/2194590/holgerjeromin"}, "is_accepted": false, "score": 1, "last_activity_date": 1493825422, "creation_date": 1493825422, "answer_id": 43764336, "question_id": 43754708, "link": "https://stackoverflow.com/questions/43754708/typescript-v2-3-1-breaks-unit-tests/43764336#43764336", "title": "TypeScript v2.3.1 breaks unit tests", "body": "<p>You could check the transpiled output for diff between the working and the non working.</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 1914261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43cacdba81516141184af39101b5bbcd?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1914261/patrick"}, "is_accepted": true, "score": 1, "last_activity_date": 1497874246, "creation_date": 1497874246, "answer_id": 44630244, "question_id": 43754708, "link": "https://stackoverflow.com/questions/43754708/typescript-v2-3-1-breaks-unit-tests/44630244#44630244", "title": "TypeScript v2.3.1 breaks unit tests", "body": "<p>In the end I switched from JSPM/SystemJS to Aurelia CLI to fix the issue. The switch was pretty easy and it now all seems to work with TypeScript 2.3.4.</p>\n"}, {"tags": [], "owner": {"reputation": 2140, "user_id": 1823988, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e26021aa74f9051f6626f9e2da46a891?s=128&d=identicon&r=PG", "display_name": "zakjan", "link": "https://stackoverflow.com/users/1823988/zakjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1498641721, "creation_date": 1498641721, "answer_id": 44798492, "question_id": 43754708, "link": "https://stackoverflow.com/questions/43754708/typescript-v2-3-1-breaks-unit-tests/44798492#44798492", "title": "TypeScript v2.3.1 breaks unit tests", "body": "<p>Same issue is happening also with TS 2.4.0.</p>\n\n<p>I fixed it by switching to <a href=\"https://github.com/frankwallis/plugin-typescript\" rel=\"nofollow noreferrer\">plugin-typescript</a>, which looks like the new offical way to transpile TS in SystemJS.</p>\n"}], "owner": {"reputation": 179, "user_id": 1914261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43cacdba81516141184af39101b5bbcd?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1914261/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 44630244, "answer_count": 3, "score": 2, "last_activity_date": 1498641721, "creation_date": 1493799370, "last_edit_date": 1497874097, "question_id": 43754708, "link": "https://stackoverflow.com/questions/43754708/typescript-v2-3-1-breaks-unit-tests", "title": "TypeScript v2.3.1 breaks unit tests", "body": "<p>I have been running my project using TS without issues for a couple of months now up to and including version 2.2.2. TypeScript 2.3 was recently released and I decided to update to the latest patch version (v2.3.2).</p>\n\n<p>Unfortunately this is where my PhantomJS (running my tests) starts breaking. I also have Wallaby running which has no issues with this latest version and building &amp; running my application seems to be working fine too.</p>\n\n<p>I tried downgrading patch versions until it started working again and it seems that it starts breaking by upgrading from v2.3.0 to v2.3.1.\nComparing those two versions on <a href=\"https://github.com/Microsoft/TypeScript/compare/v2.3.0...v2.3.1\" rel=\"nofollow noreferrer\">Github</a> gives me way to many changes to scroll through and I can't seem to find the change log for this patch version update (not for the entire v2.3 version update which is listed <a href=\"https://github.com/Microsoft/TypeScript/releases\" rel=\"nofollow noreferrer\">here</a> as v2.3.0 is running fine). So I would really like to know what has changed (and preferably what has changed that could have impact on PhantomJS).</p>\n\n<p>The PhantomJS error I get if anyone is interested:</p>\n\n<pre><code>START:\n03 05 2017 09:34:54.160:INFO [karma]: Karma v1.6.0 server started at http://0.0.0.0:9876/\n03 05 2017 09:34:54.162:INFO [launcher]: Launching browser PhantomJS with unlimited concurrency\n03 05 2017 09:34:54.167:INFO [launcher]: Starting browser PhantomJS\n03 05 2017 09:34:55.058:INFO [PhantomJS 2.1.1 (Mac OS X 0.0.0)]: Connected on socket lYV_7fbawdBMHcp0AAAA with id 4050484\n03 05 2017 09:35:05.061:WARN [PhantomJS 2.1.1 (Mac OS X 0.0.0)]: Disconnected (1 times), because no message in 10000 ms.\nPhantomJS 2.1.1 (Mac OS X 0.0.0) ERROR\n  Disconnected, because no message in 10000 ms.\n\nFinished in 10.005 secs / 0 secs @ 09:35:05 GMT+0200 (CEST)\n\n[09:35:05] 'test' errored after 12 s\n[09:35:05] Error: Failed 1 tests.\n    at karma.Server.failCount (.../build/tasks/test.js:15:26)\n    at removeAllListeners (.../node_modules/karma/lib/server.js:380:7)\n    at Server.&lt;anonymous&gt; (.../node_modules/karma/lib/server.js:391:9)\n    at Server.g (events.js:286:16)\n    at emitNone (events.js:91:20)\n    at Server.emit (events.js:185:7)\n    at emitCloseNT (net.js:1549:8)\n    at _combinedTickCallback (internal/process/next_tick.js:71:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\nnpm ERR! Test failed.  See above for more details.\n</code></pre>\n\n<p><em>EDIT</em><br>\nRan a diff between the v2.3.0 transpiled sources and the v2.3.1 transpiled sources and the result was absolutely nothing.</p>\n\n<p><em>EDIT 2</em><br>\nJust tried to run it using v2.3.3, but got the same result.</p>\n\n<p><em>EDIT 3</em><br>\nTried to use ChromeHeadless instead of PhantomJS and it fails the same way. Seems like PhantomJS was indeed not the issue here.</p>\n\n<p><em>EDIT 4</em><br>\nTried to use Karma 1.7.0. Still no change.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1493798579, "post_id": 43754290, "comment_id": 74550265, "body": "you can assign the  value returned by the first method call to a local var and then use it in the next method i guess"}, {"owner": {"reputation": 75, "user_id": 5886971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d50ca00cfe34f6916b602e145db7216e?s=128&d=identicon&r=PG&f=1", "display_name": "Ram&#39;s", "link": "https://stackoverflow.com/users/5886971/rams"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1493799470, "post_id": 43754290, "comment_id": 74550805, "body": "I tried but it does not work due to asynchronous."}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1493799535, "post_id": 43754290, "comment_id": 74550845, "body": "i dropped an example in the answer check that"}], "answers": [{"tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1493798677, "creation_date": 1493798677, "answer_id": 43754475, "question_id": 43754290, "link": "https://stackoverflow.com/questions/43754290/pass-first-method-return-value-to-another-method-in-typescript-for-angular2/43754475#43754475", "title": "Pass first method return value to another method in Typescript for Angular2", "body": "<p>you can assign the  value returned by the first method call to a local var and then use it in the next method i guess or you can do the same in the first observable method like this. </p>\n\n<p>i used this in my repo <a href=\"https://github.com/rahulrsingh09/AngularConcepts\" rel=\"nofollow noreferrer\">https://github.com/rahulrsingh09/AngularConcepts</a></p>\n\n<pre><code>getLukeSkywalkerObservable(){\n    return this.http.get('http://swapi.co/api/people/1/')\n      .map(res =&gt; {\n        return  res.json(); // using maps to filter data returned form the http call\n      }).map(data =&gt; {\n        return data; // using maps of maps to filter data returned form the map\n      }).flatMap((jedi) =&gt; this.http.get(jedi.homeworld))\n      .map(res =&gt; {\n        return res.json().name; // using flat maps to combine data returned from two observables into one\n      }).catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error'));\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "is_accepted": false, "score": 0, "last_activity_date": 1493798959, "creation_date": 1493798959, "answer_id": 43754558, "question_id": 43754290, "link": "https://stackoverflow.com/questions/43754290/pass-first-method-return-value-to-another-method-in-typescript-for-angular2/43754558#43754558", "title": "Pass first method return value to another method in Typescript for Angular2", "body": "<p>Here is a simple form:</p>\n\n<pre><code>var user;\n\nthis.someService.getLoggedinUser()\n    .subscribe(uid =&gt; this.someService.getUser(uid.toUpperCase())\n                      .subscribe(user =&gt; this.user = user));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4575, "user_id": 5463904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DKN09.jpg?s=128&g=1", "display_name": "Lo&#239;cR", "link": "https://stackoverflow.com/users/5463904/lo%c3%afcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1493798978, "creation_date": 1493798978, "answer_id": 43754571, "question_id": 43754290, "link": "https://stackoverflow.com/questions/43754290/pass-first-method-return-value-to-another-method-in-typescript-for-angular2/43754571#43754571", "title": "Pass first method return value to another method in Typescript for Angular2", "body": "<p>You could just call the second method in the Observable of your element request. </p>\n\n<pre><code>public test() {\n    this.someService\n        .getLoggedinUser()\n        .subscribe(uid =&gt; {\n            const uppercaseUid = uid.toUpperCase();\n            this.someService\n                .getUser(uppercaseUid)\n                .subscribe(user =&gt; this.user = user);\n        });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2441, "user_id": 5311796, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74c8798ccdb19f5b803bb47062ef1946?s=128&d=identicon&r=PG&f=1", "display_name": "sainu", "link": "https://stackoverflow.com/users/5311796/sainu"}, "is_accepted": false, "score": 2, "last_activity_date": 1493803127, "last_edit_date": 1493803127, "creation_date": 1493799180, "answer_id": 43754634, "question_id": 43754290, "link": "https://stackoverflow.com/questions/43754290/pass-first-method-return-value-to-another-method-in-typescript-for-angular2/43754634#43754634", "title": "Pass first method return value to another method in Typescript for Angular2", "body": "<p>The best method in angular2\nYou can do this using <code>flatMap</code></p>\n\n<p>Then here is how you chain two calls:</p>\n\n<pre><code>private someMethod{\n    this.someService.getLoggedinUser()\n       .subscribe(uid =&gt; {\n               console.log(uid);\n               this.uid = uid;\n            })\n            .flatMap((uid) =&gt; \n                this.someService.getUser(this.uid.toUpperCase())\n                   .subscribe(user =&gt; {\n                        this.user = user;\n            });\n     }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 781, "user_id": 1735979, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/54570073d34087f8f30b2115a7971d61?s=128&d=identicon&r=PG", "display_name": "shaunak1111", "link": "https://stackoverflow.com/users/1735979/shaunak1111"}, "is_accepted": true, "score": 0, "last_activity_date": 1493800638, "last_edit_date": 1493800638, "creation_date": 1493799386, "answer_id": 43754717, "question_id": 43754290, "link": "https://stackoverflow.com/questions/43754290/pass-first-method-return-value-to-another-method-in-typescript-for-angular2/43754717#43754717", "title": "Pass first method return value to another method in Typescript for Angular2", "body": "<p>You can use nested subscribe calls to achieve this.</p>\n\n<pre><code>// assigning self = this for debugging purpose when typing variable in console\n// example typing self.uid gives value inside subscribe but this.uid is \n//undefined.\n\nlet self = this; \nself.someService.getLoggedinUser()\n.subscribe(uid =&gt; {\n    console.log(uid);\n    self.uid = uid;\n    //Second method call\n    self.someService.getUser(uid.toUpperCase())\n     .subscribe(user =&gt; {\n         self.user = user;\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5886971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d50ca00cfe34f6916b602e145db7216e?s=128&d=identicon&r=PG&f=1", "display_name": "Ram&#39;s", "link": "https://stackoverflow.com/users/5886971/rams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "accepted_answer_id": 43754717, "answer_count": 5, "score": 1, "last_activity_date": 1493803127, "creation_date": 1493798079, "last_edit_date": 1493799031, "question_id": 43754290, "link": "https://stackoverflow.com/questions/43754290/pass-first-method-return-value-to-another-method-in-typescript-for-angular2", "title": "Pass first method return value to another method in Typescript for Angular2", "body": "<p>I am new to typescript and would like to pass one method return value to another method. Because second method is dependent on first method return value.\nBelow is my code:</p>\n\n<pre><code>// First method call\nthis.someService.getLoggedinUser()\n    .subscribe(uid =&gt; {\n        console.log(uid);\n        this.uid = uid;\n    });\n\n//Second method call\nthis.someService.getUser(this.uid.toUpperCase())\n    .subscribe(user =&gt; {\n        this.user = user;\n    });\n</code></pre>\n\n<p>I am trying to pass mehtod 1 return value to method 2 something like:</p>\n\n<pre><code>constructor(private someService:SomeService){\nthis.someService.getUser(uid: string  =&gt; {\n   this.someService.getLoggedinUser()\n      .map(uid =&gt; {\n          return uid.toUpperCase();\n      });\n  })\n  .subscribe(user =&gt; {\n        this.user = user;\n    }); }\n</code></pre>\n\n<p>Please help me to achieve this.</p>\n"}, {"tags": ["angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1493798715, "post_id": 43754259, "comment_id": 74550341, "body": "filter is probably not the right method to use here you should probably use map instead in order to map the returnedObjects to objects where that have fewer userIDs. :)"}, {"owner": {"reputation": 2474, "user_id": 3365033, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ae821527ffe20cd1cd746a2358a7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Laurens", "link": "https://stackoverflow.com/users/3365033/laurens"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1493801769, "post_id": 43754259, "comment_id": 74552177, "body": "I don&#39;t quite understand what you mean, I need to check every userId in every object. Any chance you could give me an example?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1493801885, "post_id": 43754259, "comment_id": 74552262, "body": "just to get this straight. What you want to do is filter out user ids from the returnedObject.userId property. If you have { userId: [1,2] } and id = 1, you should get back {userId: [1] } ?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1493803683, "post_id": 43754259, "comment_id": 74553570, "body": "it would be useful if you could give us an example data set and how you want it transformed."}], "answers": [{"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 2474, "user_id": 3365033, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ae821527ffe20cd1cd746a2358a7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Laurens", "link": "https://stackoverflow.com/users/3365033/laurens"}, "edited": false, "score": 1, "creation_date": 1493984521, "post_id": 43757784, "comment_id": 74647098, "body": "are you sure userId is not null instead? if it&#39;s an empty list it should be fine. Can you post the error you get?"}, {"owner": {"reputation": 2474, "user_id": 3365033, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ae821527ffe20cd1cd746a2358a7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Laurens", "link": "https://stackoverflow.com/users/3365033/laurens"}, "edited": false, "score": 0, "creation_date": 1494232875, "post_id": 43757784, "comment_id": 74722321, "body": "Going to delete my comment, your code works fine. Thanks for the help!"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 1, "last_activity_date": 1493808184, "creation_date": 1493808184, "answer_id": 43757784, "question_id": 43754259, "link": "https://stackoverflow.com/questions/43754259/filtering-the-array-of-an-observable-object-thats-being-filtered-typescript/43757784#43757784", "title": "Filtering the array of an observable object that&#39;s being filtered TypeScript", "body": "<p>Besides the fact that it sounds like you getting data from the server that you shouldn't be allowed to see (usually filtering out stuff the user shouldn't see it's the backends job). </p>\n\n<p>All you really need to do is return whether the <strong>id</strong> is in the objects list of <strong>userIds</strong>. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getCollectionThroughUserId(id: UUID): Observable&lt;T[]&gt; {\n    return this._table.watch().map(returnedObjects =&gt; \n        returnedObjects.filter(returnedObject =&gt; returnedObject.userId.indexOf(id) !== -1)\n    );\n}\n</code></pre>\n\n\n\n<p>This will remove from the list any returnedObject which does not have the <strong>id</strong> in the <strong>userId</strong> list.</p>\n"}], "owner": {"reputation": 2474, "user_id": 3365033, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/50ae821527ffe20cd1cd746a2358a7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Laurens", "link": "https://stackoverflow.com/users/3365033/laurens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 0, "accepted_answer_id": 43757784, "answer_count": 1, "score": 0, "last_activity_date": 1493808184, "creation_date": 1493797975, "last_edit_date": 1493804431, "question_id": 43754259, "link": "https://stackoverflow.com/questions/43754259/filtering-the-array-of-an-observable-object-thats-being-filtered-typescript", "title": "Filtering the array of an observable object that&#39;s being filtered TypeScript", "body": "<p>I feel like this is hard to explain but I'm passing observables from my generic db service to my components.</p>\n\n<p>The methods look like this:</p>\n\n<pre><code>getCollectionThroughDivisionId(id: UUID): Observable&lt;T[]&gt; {\n    return this._table.watch().map(returnedObjects =&gt; \n        returnedObjects.filter(returnedObject =&gt; returnedObject.divisionId == id)\n    );\n}\n</code></pre>\n\n<p>The above method returns an observable array of a generic object, filtered through its divisionId</p>\n\n<p>The things is I need a method that filters an array inside the returnedObject for an id</p>\n\n<pre><code>getCollectionThroughUserId(id: UUID): Observable&lt;T[]&gt; {\n    return this._table.watch().map(returnedObjects =&gt; \n        returnedObjects.filter(returnedObject =&gt; returnedObject.userId.filter(x =&gt; x == id))\n    );\n}\n</code></pre>\n\n<p>The parameter userId is an array of id's, but that defaults to returning the entire collection (without throwing an error). </p>\n\n<p>edit:</p>\n\n<p>The object model:</p>\n\n<pre><code>export class Task {\n    id: string;\n    name: string;\n\n    userId: string[];\n    projectId: string;\n\n    public constructor(init?: Partial&lt;ITask&gt;) {\n        Object.assign(this, init);\n    }\n}\n</code></pre>\n\n<p>Json example:</p>\n\n<pre><code>{\n\"id\":  \"TA18XVBJ3584ZM3\" ,\n\"name\":  \"User documentation &amp; technical documentation\" ,\n\"projectId\":  \"PRYH3C72C6CQKZS\" ,\n\"userId\": [\n    \"USGC6W4RCERY2ET\",\n    \"USKWQYHKB8E3X2U\"\n    ]\n}\n</code></pre>\n\n<p>The goal: iterate over every Task, check the userId array if it contains the passed userId</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 2, "last_activity_date": 1493812329, "creation_date": 1493812329, "answer_id": 43759286, "question_id": 43753809, "link": "https://stackoverflow.com/questions/43753809/typescript-function-interface-implementation/43759286#43759286", "title": "Typescript function interface implementation", "body": "<p>A bit more verbose:</p>\n\n<pre><code>interface IPredicate&lt;T&gt; {\n    (item: T): boolean\n    and(p: IPredicate&lt;T&gt;): IPredicate&lt;T&gt;;\n    or(p: IPredicate&lt;T&gt;): IPredicate&lt;T&gt;;\n}\n\nfunction createPredicate&lt;T&gt;(source: (item: T) =&gt; boolean) {\n    let predicate = source as IPredicate&lt;T&gt;;\n    predicate.and = (another:IPredicate&lt;T&gt;) =&gt; createPredicate((item: T) =&gt; source(item) &amp;&amp; another(item));\n    predicate.or = (another:IPredicate&lt;T&gt;) =&gt; createPredicate((item: T) =&gt; source(item) || another(item));\n\n    return predicate;\n}\n\ntype Something = {};\n\nlet a: IPredicate&lt;Something&gt; = createPredicate((s: Something) =&gt; true);\nlet b: IPredicate&lt;Something&gt; = createPredicate((s: Something) =&gt; false);\nlet c: IPredicate&lt;Something&gt; = a.or(b);\n</code></pre>\n"}], "owner": {"reputation": 4015, "user_id": 321061, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5cc6ced7c060ed59ed4a647f5c0fb654?s=128&d=identicon&r=PG", "display_name": "Justin", "link": "https://stackoverflow.com/users/321061/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 43759286, "answer_count": 1, "score": 1, "last_activity_date": 1493812329, "creation_date": 1493796579, "question_id": 43753809, "link": "https://stackoverflow.com/questions/43753809/typescript-function-interface-implementation", "title": "Typescript function interface implementation", "body": "<p>The following appears to be valid:</p>\n\n<pre><code>interface IPredicate {\n    (s: Product): boolean\n    and(IPredicate): IPredicate\n    or(IPredicate): IPredicate\n}\n</code></pre>\n\n<p>If it is valid how could I implement it so that roughly the following works:</p>\n\n<pre><code>let a: IPredicate = (s: Something) =&gt; true\nlet b: IPredicate = (s: Something) =&gt; false\nlet c: IPredicate = a.and(b)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "web", "socket.io"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 5541237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Lg4Zt.jpg?s=128&g=1", "display_name": "Bakhtier Gaibulloev", "link": "https://stackoverflow.com/users/5541237/bakhtier-gaibulloev"}, "edited": false, "score": 0, "creation_date": 1493796683, "post_id": 43753680, "comment_id": 74549132, "body": "Thank you very much. But can you answer, why function(){} and () =&gt; {} make sence???"}, {"owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "reply_to_user": {"reputation": 159, "user_id": 5541237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Lg4Zt.jpg?s=128&g=1", "display_name": "Bakhtier Gaibulloev", "link": "https://stackoverflow.com/users/5541237/bakhtier-gaibulloev"}, "edited": false, "score": 0, "creation_date": 1493796801, "post_id": 43753680, "comment_id": 74549198, "body": "@BakhtierGaibulloev this is new feature of ES6, without arrow function, we can also bind <code>this</code> manually."}, {"owner": {"reputation": 352, "user_id": 4446093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nI02f.png?s=128&g=1", "display_name": "Sky", "link": "https://stackoverflow.com/users/4446093/sky"}, "edited": false, "score": 0, "creation_date": 1494170111, "post_id": 43753680, "comment_id": 74702947, "body": "The <code>this</code> keyword is automatically bound by the anonymous <code>function () {}</code> to <code>this.socket</code>. By using an arrow function <code>() =&gt; {}</code> or manually binding <code>function () {}.bind(this)</code>, the function inherits the surrounding context which is what you are expecting."}], "tags": [], "owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "is_accepted": true, "score": 1, "last_activity_date": 1493796177, "creation_date": 1493796177, "answer_id": 43753680, "question_id": 43753467, "link": "https://stackoverflow.com/questions/43753467/socket-io-using-functions-in-event-listener/43753680#43753680", "title": "Socket IO using functions in event listener", "body": "<p>since you are using <code>this</code>, you should use arrow function to keep the context.</p>\n\n<pre><code>this.socket.on('response_navbar', (data) =&gt; {\n  console.log(data.entryTypeCollection);\n  this.test123();\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 6826089, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dkPA9tiellw/AAAAAAAAAAI/AAAAAAAAABQ/b3WH-YNPUWM/photo.jpg?sz=128", "display_name": "Javier Segarra Martinez", "link": "https://stackoverflow.com/users/6826089/javier-segarra-martinez"}, "is_accepted": false, "score": 1, "last_activity_date": 1493796764, "creation_date": 1493796764, "answer_id": 43753881, "question_id": 43753467, "link": "https://stackoverflow.com/questions/43753467/socket-io-using-functions-in-event-listener/43753881#43753881", "title": "Socket IO using functions in event listener", "body": "<p>I have this code to initialize my NodeJs server with SocketIO   </p>\n\n<pre><code> var io = require('socket.io').listen(server)\n    io.on('connection', function (socket) {\n    ....\n    }\n</code></pre>\n\n<p>It is not required that you put This, because <code>this.test123</code> makes reference to the context within <code>socket.on</code></p>\n"}], "owner": {"reputation": 159, "user_id": 5541237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Lg4Zt.jpg?s=128&g=1", "display_name": "Bakhtier Gaibulloev", "link": "https://stackoverflow.com/users/5541237/bakhtier-gaibulloev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 43753680, "answer_count": 2, "score": 1, "last_activity_date": 1493796764, "creation_date": 1493795555, "question_id": 43753467, "link": "https://stackoverflow.com/questions/43753467/socket-io-using-functions-in-event-listener", "title": "Socket IO using functions in event listener", "body": "<p>I'm using socket io in Angular 2 and I have a problem with:</p>\n\n<pre><code>this.socket.on('response_navbar', function (data) {\n  console.log(data.entryTypeCollection);\n  this.test123();\n});\n\ntest123() {\n   console.log('Test');\n}\n</code></pre>\n\n<p>after event <code>'response_navbar'</code> will come, console.log() is working, but when I try to call function <code>this.test123();</code> I recieve error </p>\n\n<p><a href=\"https://i.stack.imgur.com/YxLMc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YxLMc.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["angular", "typescript", "ag-grid"], "answers": [{"comments": [{"owner": {"reputation": 12226, "user_id": 536610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/31d7d1d416e7309ed24b3c8884ce4828?s=128&d=identicon&r=PG", "display_name": "Niklas", "link": "https://stackoverflow.com/users/536610/niklas"}, "edited": false, "score": 0, "creation_date": 1493880855, "post_id": 43763325, "comment_id": 74592470, "body": "Yes, we have enterprise so I&#39;ll be sure to check out the forums in the future. So, when do I call <code>myExcelExport</code>? I want to attach it to the context menu&#39;s &quot;Export to Excel&quot; button. Or do I have to create my own context menu export button, I can&#39;t use the default export button?"}, {"owner": {"reputation": 12226, "user_id": 536610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/31d7d1d416e7309ed24b3c8884ce4828?s=128&d=identicon&r=PG", "display_name": "Niklas", "link": "https://stackoverflow.com/users/536610/niklas"}, "edited": false, "score": 0, "creation_date": 1493882555, "post_id": 43763325, "comment_id": 74593557, "body": "Also, what is <code>this</code> on the last row? I think it throws undefined right now."}, {"owner": {"reputation": 5921, "user_id": 5187323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVDpEqW-Abc/AAAAAAAAAAI/AAAAAAAAABY/gNTyOFByGVo/photo.jpg?sz=128", "display_name": "Jarod Moser", "link": "https://stackoverflow.com/users/5187323/jarod-moser"}, "reply_to_user": {"reputation": 12226, "user_id": 536610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/31d7d1d416e7309ed24b3c8884ce4828?s=128&d=identicon&r=PG", "display_name": "Niklas", "link": "https://stackoverflow.com/users/536610/niklas"}, "edited": false, "score": 0, "creation_date": 1493926821, "post_id": 43763325, "comment_id": 74623548, "body": "@Niklas I did write this answer quickly so my scoping might be off... I was just copying what you had in your question. Also about the export button, yes you would need to <a href=\"https://www.ag-grid.com/javascript-grid-context-menu/?framework=angular#gsc.tab=0\" rel=\"nofollow noreferrer\">configure your own context menu</a>, but it is really simple, and I could add it to the answer for your reference"}], "tags": [], "owner": {"reputation": 5921, "user_id": 5187323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVDpEqW-Abc/AAAAAAAAAAI/AAAAAAAAABY/gNTyOFByGVo/photo.jpg?sz=128", "display_name": "Jarod Moser", "link": "https://stackoverflow.com/users/5187323/jarod-moser"}, "is_accepted": true, "score": 2, "last_activity_date": 1493822733, "creation_date": 1493822733, "answer_id": 43763325, "question_id": 43753438, "link": "https://stackoverflow.com/questions/43753438/format-cell-when-exporting-to-excel/43763325#43763325", "title": "Format cell when exporting to Excel", "body": "<p>The <code>processCellCallback</code> and other options for exporting found on the page that you linked to, should be part of a params object that gets passed to the <code>exportDataAsExcel</code> function. Your set up should look more like this:</p>\n\n<pre><code>function myExcelExport () {\n    function formattingFunction (params) {\n        console.log(params)\n        if (params.column.getColId() === 'Created' &amp;&amp; params.value) {\n            return this.toDateTime(params.value);\n        } else {\n            return params.value;\n         }\n    }\n    excelParams = {\n        ...\n        processCellCallback: formattingFunction,\n        fileName: 'export.xls',\n        skipHeaders: true,\n        ...\n    }\n    this.gridOptions.api.exportDataAsExcel(excelParams)\n}\n</code></pre>\n\n<hr>\n\n<p>Also, if you are using the enterprise features, there is a <a href=\"https://www.ag-grid.com/support.php\" rel=\"nofollow noreferrer\">dedicated members forum and other resources</a> available to you that let you have more dedicated support.</p>\n"}], "owner": {"reputation": 12226, "user_id": 536610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/31d7d1d416e7309ed24b3c8884ce4828?s=128&d=identicon&r=PG", "display_name": "Niklas", "link": "https://stackoverflow.com/users/536610/niklas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3754, "favorite_count": 0, "accepted_answer_id": 43763325, "answer_count": 1, "score": 1, "last_activity_date": 1493885202, "creation_date": 1493795453, "last_edit_date": 1493885202, "question_id": 43753438, "link": "https://stackoverflow.com/questions/43753438/format-cell-when-exporting-to-excel", "title": "Format cell when exporting to Excel", "body": "<p>I want to format certain cell values when right clicking the grid and choosing Export to Excel. I assume I'm going to use the <code>processCellCallback</code> function but how do I call it or override it?</p>\n\n<p>I found the export function here <code>this.gridOptions.api.exportDataAsExcel</code> but I'm not sure how to connect the two, and I can't find any good examples at the <a href=\"https://www.ag-grid.com/javascript-grid-export/\" rel=\"nofollow noreferrer\">ag-grid documentation</a>.</p>\n\n<p>This is what I've tried:</p>\n\n<pre><code>this.gridOptions = &lt;GridOptions&gt;{\n    columnDefs: [{\n        // Here are my column definitions\n    }],\n    processCellCallback: function (params) {\n        console.log(params)\n        if (params.column.getColId() === 'Created' &amp;&amp; params.value) {\n            return this.toDateTime(params.value);\n        } else {\n            return params.value;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4074041"}, "edited": false, "score": 0, "creation_date": 1493793161, "post_id": 43752542, "comment_id": 74547213, "body": "check your target platform in tsconfig.json or .csproject if it visual studio"}, {"owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 0, "creation_date": 1493794945, "post_id": 43752542, "comment_id": 74548109, "body": "Have you installed the <code>typescript</code> module globally?"}, {"owner": {"reputation": 6134, "user_id": 7428622, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d305c2f87bc59f9e564e92253a8a41f1?s=128&d=identicon&r=PG", "display_name": "Saeed Heidarizarei", "link": "https://stackoverflow.com/users/7428622/saeed-heidarizarei"}, "edited": false, "score": 0, "creation_date": 1493795809, "post_id": 43752542, "comment_id": 74548563, "body": "yes, but still I have error"}, {"owner": {"reputation": 1840, "user_id": 5015774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c3e0a507bab396470237f8de314891?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Quinto Zamora", "link": "https://stackoverflow.com/users/5015774/jos%c3%a9-quinto-zamora"}, "edited": false, "score": 0, "creation_date": 1493803977, "post_id": 43752542, "comment_id": 74553791, "body": "could you please share your TypeScript version or package.json"}], "answers": [{"comments": [{"owner": {"reputation": 1840, "user_id": 5015774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c3e0a507bab396470237f8de314891?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Quinto Zamora", "link": "https://stackoverflow.com/users/5015774/jos%c3%a9-quinto-zamora"}, "edited": false, "score": 0, "creation_date": 1493805670, "post_id": 43756836, "comment_id": 74555011, "body": "weird, because then you are not using native TypeScript async functions."}, {"owner": {"reputation": 1840, "user_id": 5015774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c3e0a507bab396470237f8de314891?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Quinto Zamora", "link": "https://stackoverflow.com/users/5015774/jos%c3%a9-quinto-zamora"}, "edited": false, "score": 0, "creation_date": 1493805698, "post_id": 43756836, "comment_id": 74555030, "body": "maybe worth it to try <a href=\"http://stackoverflow.com/questions/36423600/cannot-transpile-typescript-containing-async-await\" title=\"cannot transpile typescript containing async await\">stackoverflow.com/questions/36423600/&hellip;</a>"}, {"owner": {"reputation": 6134, "user_id": 7428622, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d305c2f87bc59f9e564e92253a8a41f1?s=128&d=identicon&r=PG", "display_name": "Saeed Heidarizarei", "link": "https://stackoverflow.com/users/7428622/saeed-heidarizarei"}, "reply_to_user": {"reputation": 1840, "user_id": 5015774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c3e0a507bab396470237f8de314891?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Quinto Zamora", "link": "https://stackoverflow.com/users/5015774/jos%c3%a9-quinto-zamora"}, "edited": false, "score": 0, "creation_date": 1493807773, "post_id": 43756836, "comment_id": 74556477, "body": "I used That but , not work, In my case Solved with above code, thank you"}], "tags": [], "owner": {"reputation": 6134, "user_id": 7428622, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d305c2f87bc59f9e564e92253a8a41f1?s=128&d=identicon&r=PG", "display_name": "Saeed Heidarizarei", "link": "https://stackoverflow.com/users/7428622/saeed-heidarizarei"}, "is_accepted": true, "score": 1, "last_activity_date": 1493805518, "creation_date": 1493805518, "answer_id": 43756836, "question_id": 43752542, "link": "https://stackoverflow.com/questions/43752542/ts-cannot-find-name-async-via-typescript/43756836#43756836", "title": "ts Cannot find name &#39;async&#39; via TypeScript", "body": "<p>Solved With This:</p>\n\n<pre><code>var test = async() =&gt; {\n    let asyncFn = () =&gt; {\n        return new Promise((resolve: Function) =&gt; { resolve(2); });\n    }\n    // should log `2`\n    console.log(await asyncFn());\n\n}\n</code></pre>\n\n<p>And I Called With:</p>\n\n<pre><code>test();\n</code></pre>\n\n<p>And I haven't any Error</p>\n"}], "owner": {"reputation": 6134, "user_id": 7428622, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d305c2f87bc59f9e564e92253a8a41f1?s=128&d=identicon&r=PG", "display_name": "Saeed Heidarizarei", "link": "https://stackoverflow.com/users/7428622/saeed-heidarizarei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4501, "favorite_count": 2, "accepted_answer_id": 43756836, "answer_count": 1, "score": 1, "last_activity_date": 1493805518, "creation_date": 1493792604, "last_edit_date": 1493804421, "question_id": 43752542, "link": "https://stackoverflow.com/questions/43752542/ts-cannot-find-name-async-via-typescript", "title": "ts Cannot find name &#39;async&#39; via TypeScript", "body": "<p>I'm using TypeScript But I have This Error:</p>\n\n<pre><code>[ts] Cannot find name 'async'\n</code></pre>\n\n<p>And This is my Code:</p>\n\n<pre><code>async someAsyncCode() {\n    let asyncFn = () =&gt; {\n        return new Promise((resolve: Function) =&gt; { resolve(2); });\n    }\n    // should log `2`\n    console.log(await asyncFn());\n}\n</code></pre>\n\n<p>This is my Packeges.json: </p>\n\n<pre><code>{\n  \"name\": \"simple-typescript-gulp\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/aliparhamnia/simple-typescript-gulp.git\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"bugs\": {\n    \"url\": \"https://github.com/aliparhamnia/simple-typescript-gulp/issues\"\n  },\n  \"homepage\": \"https://github.com/aliparhamnia/simple-typescript-gulp#readme\",\n  \"dependencies\": {\n    \"@types/core-js\": \"^0.9.41\",\n    \"@types/es6-promise\": \"0.0.32\",\n    \"@types/node\": \"^7.0.13\",\n    \"async\": \"^2.4.0\",\n    \"bluebird\": \"^3.5.0\",\n    \"dotenv\": \"^4.0.0\",\n    \"json-query\": \"^2.2.2\",\n    \"nano\": \"^6.2.0\",\n    \"node-telegram-bot-api\": \"^0.27.0\",\n    \"q\": \"^1.5.0\",\n    \"sessionstorage\": \"0.0.2\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^7.0.12\",\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-typescript\": \"^3.1.6\",\n    \"ts-node\": \"^2.1.0\",\n    \"typescript\": \"^2.2.1\",\n    \"typings\": \"^2.1.1\"\n  }\n}\n</code></pre>\n\n<p>But I Can use Asynce Like Blow and haven't any error and I Don't Know Why I have Error In above Example</p>\n\n<blockquote>\n  <p>const x = async () => await getmessage();</p>\n</blockquote>\n"}, {"tags": ["javascript", "jquery", "typescript", "webpack", "karma-jasmine"], "answers": [{"tags": [], "owner": {"reputation": 5065, "user_id": 784909, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kW3Eo.jpg?s=128&g=1", "display_name": "Fedor Skrynnikov", "link": "https://stackoverflow.com/users/784909/fedor-skrynnikov"}, "is_accepted": true, "score": 1, "last_activity_date": 1493954612, "creation_date": 1493954612, "answer_id": 43795981, "question_id": 43752211, "link": "https://stackoverflow.com/questions/43752211/karma-error-unable-to-resolve-module-expose-loaderjqueryjquery/43795981#43795981", "title": "[karma]: Error: Unable to resolve module [expose-loader?jQuery!jquery]", "body": "<p>the problem was in including actual code in \"files\" rather than importing the class I'm going to test. So I've made </p>\n\n<pre><code>{pattern: 'src/main/**/!(file with expose-loader).ts', include:'false'}\n</code></pre>\n\n<p>and excluding file that responsible for exposing global objects</p>\n"}], "owner": {"reputation": 5065, "user_id": 784909, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kW3Eo.jpg?s=128&g=1", "display_name": "Fedor Skrynnikov", "link": "https://stackoverflow.com/users/784909/fedor-skrynnikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "accepted_answer_id": 43795981, "answer_count": 1, "score": 1, "last_activity_date": 1493954612, "creation_date": 1493791442, "last_edit_date": 1493791949, "question_id": 43752211, "link": "https://stackoverflow.com/questions/43752211/karma-error-unable-to-resolve-module-expose-loaderjqueryjquery", "title": "[karma]: Error: Unable to resolve module [expose-loader?jQuery!jquery]", "body": "<p>I'm trying to setup karma tests for typescript.</p>\n\n<p><em>karma.conf.js</em></p>\n\n<pre><code>module.exports = function (config) {\n    config.set({\n        frameworks: ['jasmine', 'karma-typescript'],\n        files: [\n            {pattern: 'src/main/**/*.ts'}, // Actual code\n            {pattern: 'src/test/**/*.ts'}, // Unit tests\n        ],\n        preprocessors: {\n            'src/main/**/*.ts': ['karma-typescript', 'coverage'],\n            'src/test/**/*.ts': ['karma-typescript']\n        },\n        reporters: ['progress', 'junit', 'coverage'],\n\n        // the default configuration\n        junitReporter: {\n            ...\n        },\n\n        coverageReporter: {\n            type: 'lcov',\n            subdir: '.',\n            dir: 'target/'\n        },\n\n        browsers: ['PhantomJS'],\n\n        singleRun: true,\n        autoWatch: true,\n        logLevel: config.LOG_INFO,\n        colors: true,\n        port: 9876\n     });\n };\n</code></pre>\n\n<p>the code itself has nothing yet but:</p>\n\n<pre><code>import \"expose-loader?jQuery!jquery\";\nimport \"expose-loader?Tether!tether\";\n\nimport \"../scss/main.scss\";\nimport \"bootstrap\";\n</code></pre>\n\n<p>and the test :</p>\n\n<pre><code>it(\"should expose jquery to window\",  () =&gt; {\n    expect(window[\"jQuery\"]).toBeDefined();\n    expect(window[\"$\"]).toBeDefined();\n});\n</code></pre>\n\n<p>The problem I have is an error that karma is not able to understand expose-loader from webpack giving an error:</p>\n\n<p>ERROR [karma]: Error: Unable to resolve module [expose-loader?jQuery!jquery]</p>\n\n<p>could someone please shed some light on this.\nWithout expose-loader if I do put jquery manually everything work perfectly fine, but I want just to do it properly.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1493791182, "creation_date": 1493791182, "answer_id": 43752141, "question_id": 43751207, "link": "https://stackoverflow.com/questions/43751207/enforcing-type-signature-for-tostring/43752141#43752141", "title": "enforcing type signature for toString", "body": "<blockquote>\n  <p>how do I force the compiler to not overload toString</p>\n</blockquote>\n\n<p>There are native interfaces in the <code>lib.d.ts</code> type definitions that drive how the type checker works. One of these is the <code>Object</code> interface, and this interface has the <code>toString</code> method. </p>\n\n<p>If you want to disallow <code>toString</code> you can use <code>--noLib</code> and create a copy of <code>lib.d.ts</code> that doesn't have this method. </p>\n\n<h1>More</h1>\n\n<ul>\n<li><a href=\"https://basarat.gitbooks.io/typescript/docs/types/lib.d.ts.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/types/lib.d.ts.html</a></li>\n</ul>\n"}], "owner": {"reputation": 528, "user_id": 2905130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b925f9e9ed686eebcfdb8f83eb9d2e3?s=128&d=identicon&r=PG&f=1", "display_name": "James Wakefield", "link": "https://stackoverflow.com/users/2905130/james-wakefield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493791182, "creation_date": 1493786489, "question_id": 43751207, "link": "https://stackoverflow.com/questions/43751207/enforcing-type-signature-for-tostring", "title": "enforcing type signature for toString", "body": "<p>how do I force the compiler to not overload toString? The closest I have got is to use the never type, but never is still allowed to be implicitly assigned to a var the compiler only complains when something is done with the variable. Who is going to remember to explicitly declare toString calls as strings?</p>\n\n<pre><code>type ArrayToStringMethod = {\n  (this: { join(a: string): string, length: number }): string\n  (this: any): never // if this overload isn't here typescript uses \n                     // Object.toString automatically.\n}\n\ntype ArrayDontMutate&lt;t&gt; = {\n    toString: ArrayToStringMethod\n    readonly [index: number]: t\n    readonly length: number\n} &amp;\nPick&lt;\n  Array&lt;t&gt;, \n  'find'   |\n  'map'    |\n//'join'   | deliberately removed to make toString fail\n  'some'   |\n  'slice'  |\n  'concat' |\n  'reduce'&gt;\n\nlet a:ArrayDontMutate&lt;string&gt; =['a','b','c'] as any\nlet b = a.toString() //should fail no join method. b is the never type\n</code></pre>\n"}, {"tags": ["typescript", "interface", "extends", "nightmare", "definitelytyped"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493791284, "post_id": 43750682, "comment_id": 74546328, "body": "Just FYI, the module keyword is deprecated for declaring a namespace. Use the <code>namespace</code> keyword instead."}, {"owner": {"reputation": 3013, "user_id": 4516689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPRs0.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/4516689/markus"}, "edited": false, "score": 1, "creation_date": 1493813458, "post_id": 43750682, "comment_id": 74560419, "body": "can you post the code that use the extended defintions."}, {"owner": {"reputation": 724, "user_id": 6281480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/745ca8f2c6b4f628970f3937fecf42ba?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Roch&#233;", "link": "https://stackoverflow.com/users/6281480/louis-roch%c3%a9"}, "edited": false, "score": 0, "creation_date": 1493867359, "post_id": 43750682, "comment_id": 74587453, "body": "Sure. I added the code to the original post."}, {"owner": {"reputation": 6943, "user_id": 490326, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/acfd53f3f35f673a674a794bc01e4960?s=128&d=identicon&r=PG", "display_name": "joe_coolish", "link": "https://stackoverflow.com/users/490326/joe-coolish"}, "edited": false, "score": 1, "creation_date": 1575300864, "post_id": 43750682, "comment_id": 104510701, "body": "Did you ever figure this out?"}, {"owner": {"reputation": 724, "user_id": 6281480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/745ca8f2c6b4f628970f3937fecf42ba?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Roch&#233;", "link": "https://stackoverflow.com/users/6281480/louis-roch%c3%a9"}, "edited": false, "score": 0, "creation_date": 1575370148, "post_id": 43750682, "comment_id": 104535025, "body": "I moved to pupeteer instead of nightmare, never digged this problem too much."}], "owner": {"reputation": 724, "user_id": 6281480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/745ca8f2c6b4f628970f3937fecf42ba?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Roch&#233;", "link": "https://stackoverflow.com/users/6281480/louis-roch%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1493867332, "creation_date": 1493783048, "last_edit_date": 1495535489, "question_id": 43750682, "link": "https://stackoverflow.com/questions/43750682/extend-definitelytyped-d-ts-definitions", "title": "Extend DefinitelyTyped .d.ts definitions", "body": "<p>I try to use <a href=\"https://github.com/segmentio/nightmare\" rel=\"nofollow noreferrer\">nightmare</a> in typescript with the types from DefinitelyTyped. however, the types there are incomplete (the <code>then</code> method is missing) and I also want to add dynamically some methods (as it is done in <a href=\"https://www.npmjs.com/package/nightmare-har-plugin\" rel=\"nofollow noreferrer\">this plugin</a>).</p>\n\n<p>I don't understand how to extend the interface of Nightmare without forking DefinitelyTyped. I have read a few pages about these question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32948271/extend-interface-defined-in-d-ts-file\">Extend interface defined in .d.ts file</a></p>\n\n<p><a href=\"http://obaidurrehman.github.io/2015/10/30/extending-typeScript-definitions/\" rel=\"nofollow noreferrer\">http://obaidurrehman.github.io/2015/10/30/extending-typeScript-definitions/</a></p>\n\n<p>So I tried to create a <code>extendNightmare.d.ts</code> file that I put along all my other <code>.ts</code> files.</p>\n\n<pre><code>declare namespace Nightmare {\n  class Nightmare {\n    waitForDevTools(): void;\n    then(): Nightmare;\n  }\n}\n</code></pre>\n\n<p>At this point, I don't know what to do to tell the compiler to use my new definition that is supposed to extend the existing one.</p>\n\n<p>I tried to add this line at the top of the file using nightmare but it didn't work:</p>\n\n<pre><code>/// &lt;reference path=\"./extendNightmare.d.ts\"/&gt;\n</code></pre>\n\n<p>Also I would like to extend the interface <code>IConstructorOptions</code> from the <code>Nightmare</code> namespace, but I don't know how to do so. Is this correct?</p>\n\n<pre><code>declare namespace Nightmare {\n  class Nightmare {\n    waitForDevTools(): void;\n    then(): Nightmare;\n  }\n\n  export interface IConstructorOptions {\n    switches: any;\n  }\n}\n</code></pre>\n\n<p>The code I'm using to reproduce this issue:</p>\n\n<pre><code>/// &lt;reference path=\"./extendNightmare.d.ts\"/&gt;\n\nimport * as Nightmare from \"nightmare\";\n\nconst switches = {\n  \"ignore-certificate-errors\": true,\n  \"proxy-server\": \"localhost:10000\",\n};\n\nfunction render_page(url) {\n  const options = {\n    switches,\n  };\n\n  const nightmare = new Nightmare(options);\n\n  nightmare\n  .goto(url)\n  .then((infos) =&gt; {\n    console.info(infos);\n  })\n  .end()\n  .then(() =&gt; {\n    console.info(`${url}: done`);\n  });\n}\n\nrender_page(\"https://google.com\");\n</code></pre>\n\n<p>In my <code>package.json</code>, I have:</p>\n\n<pre><code>\"nightmare\": \"^2.9.1\",\n\"@types/nightmare\": \"^1.6.30\",\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "error-handling", "invariants"], "comments": [{"owner": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1493781198, "post_id": 43750421, "comment_id": 74543266, "body": "The second version isn&#39;t JS. Should this question have a &quot;typescript&quot; tag?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1493781347, "post_id": 43750421, "comment_id": 74543293, "body": "And a link to the source code."}, {"owner": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "edited": false, "score": 0, "creation_date": 1493785248, "post_id": 43750421, "comment_id": 74544262, "body": "The original author wrote in javascript, not typescript. Your question is a bit like asking why someone chooses to speak in English instead of French... I don&#39;t think there will be an answer unless I misunderstood your question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3053247"}, "edited": false, "score": 0, "creation_date": 1493792764, "post_id": 43750421, "comment_id": 74547021, "body": "See below the links, if you understand this library and have insights. The comments comparing English and French are really for the second grade, and not for software engineers."}, {"owner": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1493818132, "post_id": 43750421, "comment_id": 74564108, "body": "<i>&quot;The second function is written in ES6.&quot;</i> - No it isn&#39;t. Anyway, are you trying to ask why the first version is limited to only six arguments in the message format string while the second appears to accept any number of arguments? Because you really don&#39;t make that clear, and you don&#39;t explain where the second version comes from. It would help if you could edit your question to explain why you expected the second version."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3053247"}, "edited": false, "score": 0, "creation_date": 1493792727, "post_id": 43752181, "comment_id": 74547001, "body": "It looks that you guys are not familiars with invariant but still answer questions about it!   Take a look at : <a href=\"https://github.com/zertosh/invariant/blob/master/invariant.js.flow\" rel=\"nofollow noreferrer\">github.com/zertosh/invariant/blob/master/invariant.js.flow</a>      /* @flow */          declare module.exports: (       condition: any,       format?: string,       ...args: Array&lt;any&gt;     ) =&gt; void;   and   <a href=\"https://github.com/zertosh/invariant/blob/master/invariant.js\" rel=\"nofollow noreferrer\">github.com/zertosh/invariant/blob/master/invariant.js</a>      var invariant = function(condition, format, a, b, c, d, e, f) {"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1493791359, "creation_date": 1493791359, "answer_id": 43752181, "question_id": 43750421, "link": "https://stackoverflow.com/questions/43750421/invariant-js-parameters-are-not-clear/43752181#43752181", "title": "Invariant JS parameters are not clear", "body": "<blockquote>\n  <p>Can anyone clarify, because for me does not make any sense?</p>\n</blockquote>\n\n<p>This is the choice the library author made. They only support <code>6</code> placeholders and hence only take 6 named args.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3053247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493791359, "creation_date": 1493780959, "last_edit_date": 1493783522, "question_id": 43750421, "link": "https://stackoverflow.com/questions/43750421/invariant-js-parameters-are-not-clear", "title": "Invariant JS parameters are not clear", "body": "<p>Why invariant function has this params:</p>\n\n<pre><code>function(condition, format, a, b, c, d, e, f) {\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>function invariant(condition : any, format?: string, ...args : Array &lt; any &gt;) {\n</code></pre>\n\n<p>Can anyone clarify, because for me does not make any sense?</p>\n\n<p>Updated: </p>\n\n<p>This isthe link to the invariant library: <a href=\"https://github.com/zertosh/invariant/blob/master/invariant.js\" rel=\"nofollow noreferrer\">https://github.com/zertosh/invariant/blob/master/invariant.js</a></p>\n\n<p>The second function is written in ES6. </p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 5738494, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/edeff7fccc721d4097389e580c2c9b28?s=128&d=identicon&r=PG&f=1", "display_name": "GX-X", "link": "https://stackoverflow.com/users/5738494/gx-x"}, "edited": false, "score": 0, "creation_date": 1493785229, "post_id": 43750469, "comment_id": 74544255, "body": "Hello , thank you for the help and the answer. It is clear and concise , the code now works like a charm!"}, {"owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "reply_to_user": {"reputation": 115, "user_id": 5738494, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/edeff7fccc721d4097389e580c2c9b28?s=128&d=identicon&r=PG&f=1", "display_name": "GX-X", "link": "https://stackoverflow.com/users/5738494/gx-x"}, "edited": false, "score": 0, "creation_date": 1493785460, "post_id": 43750469, "comment_id": 74544331, "body": "@GX-X glad to help :)"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493791430, "post_id": 43750469, "comment_id": 74546393, "body": "When using a <code>for</code> loop, it is good practice to either use a block scoped form (<code>for (let i = 0;...</code>) or declare the loop variable at the top level. <code>var</code> is function scoped not block scoped."}], "tags": [], "owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "is_accepted": true, "score": 3, "last_activity_date": 1493781911, "last_edit_date": 1493781911, "creation_date": 1493781317, "answer_id": 43750469, "question_id": 43750239, "link": "https://stackoverflow.com/questions/43750239/storing-arrayi-from-forloop-to-a-new-array-returning-undefined/43750469#43750469", "title": "Storing array[i] from forloop to a new array returning undefined", "body": "<p><strong>Reason about <code>undefined</code>:</strong></p>\n\n<p>When you define an empty array, and set something to the <code>array</code> by index <strong>large than 0</strong>, it will be filled with <strong><code>undefined</code> automatically</strong> until the index you used.</p>\n\n<p>Example to confirm:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var testArr = [];\r\n\r\ntestArr[5] = 'test';\r\n\r\nconsole.log(testArr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>You should define <code>warningResult</code> out of <code>for-loop</code>, and push items to it according to your other conditions.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var ingredientList = [\"HYDROGENATED VEGETABLE\u21b5OIL\",\r\n  \"RAPESEED OIL\",\r\n  \"PALM OIL\",\r\n  \"SUNFLOWER OIL\",\r\n  \"RAPESEED OIL\",\r\n  \"PALM OIL\"\r\n];\r\n\r\nvar warningResult = [];\r\n\r\nfor (var j = 0; j &lt; ingredientList.length; j++) {\r\n  // only aviable in for loop\r\n  //var warningResult = [];\r\n  //warningResult[j] = ingredientList[j].valueOf();\r\n\r\n  warningResult.push(ingredientList[j].valueOf());\r\n\r\n}\r\n\r\nconsole.log('warning', warningResult);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 115, "user_id": 5738494, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/edeff7fccc721d4097389e580c2c9b28?s=128&d=identicon&r=PG&f=1", "display_name": "GX-X", "link": "https://stackoverflow.com/users/5738494/gx-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 43750469, "answer_count": 1, "score": 1, "last_activity_date": 1493781911, "creation_date": 1493779701, "last_edit_date": 1493781856, "question_id": 43750239, "link": "https://stackoverflow.com/questions/43750239/storing-arrayi-from-forloop-to-a-new-array-returning-undefined", "title": "Storing array[i] from forloop to a new array returning undefined", "body": "<p>I am currently working on a matching algorithm that would match an array of strings against another array of string.If it match completely (===) it will store the results into unSafeResult array.If it matches through Regex , it will store the results inside warningResult array.However when i console.log(warningResult).It shows </p>\n\n<pre><code>warning (2) [undefined \u00d7 1, \"SUGAR.\u21b5CHOCOLATE LIQUOR\"]\nmain.js:41867 warning (3) [undefined \u00d7 2, \"HYDROGENATED VEGETABLE\u21b5OIL\"]\nmain.js:41867 warning (6) [undefined \u00d7 5, \"RAPESEED OIL\"]\nmain.js:41867 warning (7) [undefined \u00d7 6, \"PALM OIL\"]\nmain.js:41867 warning (8) [undefined \u00d7 7, \"SUNFLOWER OIL\"]\nmain.js:41867 warning (11) [undefined \u00d7 10, \"RAPESEED OIL\"]\nmain.js:41867 warning (12) [undefined \u00d7 11, \"PALM OIL\"]\n</code></pre>\n\n<p>And then if try to pass the array to another page it only returns 1 element only which is </p>\n\n<pre><code>[undefined \u00d7 11, \"PALM OIL\"]\n</code></pre>\n\n<p>Is there any way that i can solve this bug? The expected output should be all of them should be under one array  </p>\n\n<pre><code>\"HYDROGENATED VEGETABLE\u21b5OIL\"\n\"RAPESEED OIL\"\n\"PALM OIL\"\n\"SUNFLOWER OIL\"\n\"RAPESEED OIL\"\n\"PALM OIL\"\n</code></pre>\n\n<p>below is the codes </p>\n\n<pre><code>matchText(array){        \n    for(var i = 0; i &lt; 1; i++) {\n\n        var label = this.labels[i];\n\n        var ingredients = label.description.toString().split(/[(,)]/igm).map(function (ingredients){return ingredients.trim()}, {});\n\n        let ingredientList:string[] = ingredients;\n        let ingredientUpdatedList:string[];\n\n        for(var k = 0; k&lt;ingredientList.length; k++){\n        if(ingredientList[k] === \"\"){\n            ingredientList = ingredientList.filter((ingredientList) =&gt;{\n                return ingredientList.trim() != '';\n            });\n        }\n    }\n\n\n    for(var j = 0; j&lt;ingredientList.length; j++){\n\n        let allergy:string[] = [\"OIL\",\"SUGAR\"];\n\n        var unSafeResult = [];\n\n        for(var e = 0; e&lt;allergy.length; e++) {\n            var regexp = new RegExp(allergy[e], \"igm\");\n\n            if(ingredientList[j] == allergy[e]){\n\n                unSafeResult[j] = ingredientList[j];   \n                console.log('unSafe',unSafeResult);\n            }\n\n            if(ingredientList[j].match(regexp)){\n                this.counter++;\n\n                var warningResult = [];\n\n                warningResult[j] = ingredientList[j].valueOf(); //here is the issue\n\n                console.log('warning', warningResult);\n\n                //console.log('Match');\n                //console.log('Ingredients that matched',unSafeResult);\n            }\n            else {\n                //console.log('No Match');\n\n            }\n        }\n\n    }\n\n    if(this.counter &gt;0){\n        this.navCtrl.push(UnSafePage,{unSafeResult,warningResult});\n    }\n    else{\n        this.navCtrl.push(SafePage);\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "npm-install"], "comments": [{"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1493779141, "post_id": 43749943, "comment_id": 74542836, "body": "Try removing all the components, just keep the main one for diagnostics."}, {"owner": {"reputation": 16225, "user_id": 415078, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ABa1l.png?s=128&g=1", "display_name": "angularrocks.com", "link": "https://stackoverflow.com/users/415078/angularrocks-com"}, "edited": false, "score": 0, "creation_date": 1493784483, "post_id": 43749943, "comment_id": 74544074, "body": "it could be one of you third party libraries, make sure that all of them are latest versions supporting angular 4"}, {"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1493785535, "post_id": 43749943, "comment_id": 74544351, "body": "Checked those. And now every dependency in my package.json is running its most current version. Still seeing same errors in the console."}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1493792548, "post_id": 43749943, "comment_id": 74546909, "body": "what are you using to build the project , i would suggest use angular cli as it is quick and also you will not find these error i believe , install angular cli and using the cli build the project"}, {"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1493826436, "post_id": 43749943, "comment_id": 74570690, "body": "Rahul, if you look at my code you&#39;ll realize this is an angular cli project."}, {"owner": {"reputation": 88, "user_id": 5706266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da78f815884d7d7541f4c0c5a82bddaf?s=128&d=identicon&r=PG&f=1", "display_name": "Rica", "link": "https://stackoverflow.com/users/5706266/rica"}, "edited": false, "score": 0, "creation_date": 1496931341, "post_id": 43749943, "comment_id": 75873857, "body": "I am not sure but try using &#39;@next&#39; instead of &#39;@latest&#39;"}], "owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 377, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493785478, "creation_date": 1493777389, "last_edit_date": 1592644375, "question_id": 43749943, "link": "https://stackoverflow.com/questions/43749943/console-errors-after-upgrading-to-angular-4", "title": "Console Errors After Upgrading to Angular 4", "body": "<p>After running the below recommended commands to upgrade from Angular 2 to 4:</p>\n<p><code>npm install @angular/{common,compiler,compiler-cli,core,forms,http,platform-browser,platform-browser-dynamic,platform-server,router,animations}@latest typescript@latest --save </code></p>\n<p>... my app boots up, in that I get all green and a &quot;webpack compiled successfully&quot; message (see below):</p>\n<pre><code>** NG Live Development Server is running on http://localhost:4200 **\nHash: 323543f20rf93c6190621\nTime: 47918ms\nchunk    {0} main.bundle.js, main.bundle.js.map (main) 1.55 MB {3} [initial] [rendered]\nchunk    {1} polyfills.bundle.js, polyfills.bundle.js.map (polyfills) 239 kB {4} [initial] [rendered]\nchunk    {2} styles.bundle.js, styles.bundle.js.map (styles) 87.4 kB {4} [initial] [rendered]\nchunk    {3} vendor.bundle.js, vendor.bundle.js.map (vendor) 5.29 MB [initial] [rendered]\nchunk    {4} inline.bundle.js, inline.bundle.js.map (inline) 0 bytes [entry] [rendered]\nwebpack: Compiled successfully.\n</code></pre>\n<p>However, all that loads to the browser is a blank screen. And in the console I now see these errors:</p>\n<blockquote>\n<p>ERROR TypeError: Cannot set property 'addEventListener' of undefined</p>\n<p>zone.js:522 Unhandled Promise rejection: Cannot set property 'addEventListener' of undefined ; Zone:  ; Task: Promise.then ; Value: TypeError: Cannot set property 'addEventListener' of undefined</p>\n</blockquote>\n<p>Note: I also completely removed my node-modules folder before running &quot;npm install&quot; again. After the update, my package.json looks like this:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;cli-abc&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;license&quot;: &quot;MIT&quot;,\n  &quot;angular-cli&quot;: {},\n  &quot;scripts&quot;: {\n    &quot;ng&quot;: &quot;ng&quot;,\n    &quot;build&quot;: &quot;ng build&quot;,\n    &quot;start&quot;: &quot;ng serve --proxy-config proxy.conf.json&quot;,\n    &quot;test&quot;: &quot;ng test&quot;,\n    &quot;pree2e&quot;: &quot;webdriver-manager update --standalone false --gecko false&quot;,\n    &quot;e2e&quot;: &quot;protractor&quot;\n  },\n  &quot;private&quot;: true,\n  &quot;dependencies&quot;: {\n    &quot;@angular/animations&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/common&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/compiler&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/core&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/forms&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/http&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/material&quot;: &quot;^2.0.0-beta.3&quot;,\n    &quot;@angular/platform-browser&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/platform-browser-dynamic&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/platform-server&quot;: &quot;^4.1.0&quot;,\n    &quot;@angular/router&quot;: &quot;^4.1.0&quot;,\n    &quot;@ng-idle/core&quot;: &quot;^2.0.0-beta.11&quot;,\n    &quot;@ng-idle/keepalive&quot;: &quot;^2.0.0-beta.11&quot;,\n    &quot;@ngtools/webpack&quot;: &quot;^1.3.1&quot;,\n    &quot;@types/socket.io&quot;: &quot;^1.4.29&quot;,\n    &quot;@types/socket.io-client&quot;: &quot;^1.4.29&quot;,\n    &quot;angular-in-memory-web-api&quot;: &quot;0.3.2&quot;,\n    &quot;angular2-chartjs&quot;: &quot;0.2.0&quot;,\n    &quot;angular2-markdown&quot;: &quot;^1.6.0&quot;,\n    &quot;angular2-moment&quot;: &quot;^1.3.3&quot;,\n    &quot;ngx-perfect-scrollbar&quot;: &quot;4.0.0&quot;,\n    &quot;chart.js&quot;: &quot;^2.5.0&quot;,\n    &quot;core-js&quot;: &quot;^2.4.1&quot;,\n    &quot;mydatepicker&quot;: &quot;^1.10.1&quot;,\n    &quot;ngx-pagination&quot;: &quot;3.0.0&quot;,\n    &quot;rxjs&quot;: &quot;^5.3.1&quot;,\n    &quot;ts-helpers&quot;: &quot;^1.1.2&quot;,\n    &quot;zone.js&quot;: &quot;0.8.9&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@angular/cli&quot;: &quot;1.0.1&quot;,\n    &quot;@angular/compiler-cli&quot;: &quot;^4.1.0&quot;,\n    &quot;@types/jasmine&quot;: &quot;2.5.47&quot;,\n    &quot;@types/node&quot;: &quot;^7.0.15&quot;,\n    &quot;codelyzer&quot;: &quot;~3.0.1&quot;,\n    &quot;jasmine-core&quot;: &quot;2.6.1&quot;,\n    &quot;jasmine-spec-reporter&quot;: &quot;4.1.0&quot;,\n    &quot;karma&quot;: &quot;1.6.0&quot;,\n    &quot;karma-chrome-launcher&quot;: &quot;^2.1.0&quot;,\n    &quot;karma-cli&quot;: &quot;^1.0.1&quot;,\n    &quot;karma-jasmine&quot;: &quot;^1.1.0&quot;,\n    &quot;karma-remap-istanbul&quot;: &quot;^0.6.0&quot;,\n    &quot;protractor&quot;: &quot;~5.1.1&quot;,\n    &quot;ts-node&quot;: &quot;3.0.2&quot;,\n    &quot;tslint&quot;: &quot;^5.1.0&quot;,\n    &quot;typescript&quot;: &quot;~2.3.2&quot;\n  }\n}\n</code></pre>\n<p>I've also gone through and methodically updated any package.json dependencies that showed warnings around compatibility. So I have no more of those warnings when running &quot;ng serve&quot;.</p>\n<p>The added challenge here is that the console error messages are completely vague. All it tells me is that the error is <em>somewhere</em> between my <code>&lt;app&gt;&lt;/app&gt;</code> tags, which is to say, it could be <em>anywhere</em> in the app.</p>\n<p>What's the likely issue here, and if it's not clear, how can I begin to narrow down the options?</p>\n"}, {"tags": ["express", "typescript", "gulp", "browser-sync", "nodemon"], "owner": {"reputation": 265, "user_id": 5831695, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFWw.jpg?s=128&g=1", "display_name": "OGZCoder", "link": "https://stackoverflow.com/users/5831695/ogzcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1493769369, "creation_date": 1493769369, "question_id": 43748977, "link": "https://stackoverflow.com/questions/43748977/how-can-i-signal-nodejs-gulp-specifically-with-a-callback-when-express-server", "title": "How can I signal NodeJS (Gulp Specifically) with a callback when Express server starts?", "body": "<p>I'm trying to create a gulp workflow that includes nodemon, typescript, and browsersync. When I try to reload the browser with browsersync the browser reloads before the express server has had a chance to finish creating routes, etc. So in the end I have to reload the browser manually anyway (f5). I have tried to use gulp-nodemon events, gulp.watch(), and gulp-nodemon tasks in the config. All to no avail. I'm thinking that if it's possible, I can notify nodemon that Express is ready and manually trigger the page load or maybe even notify browsersync in the browser from express to reload the page.</p>\n\n<p>for simplicity here is a small version of my gulpfile:</p>\n\n<pre><code>const browser = require('browser-sync');\n\ngulp.task('typescript', function(){\n  return gulp.src(config.src + '/**/*.ts')\n    .pipe(tsProject())\n    .pipe(gulp.dest(config.dist));\n});\n\ngulp.task('server', function (done) {\n\n    // Create nodemon instance\n    $.nodemon({\n        script: config.dist + '/app.js',\n        watch: config.src + '/**/*',\n        ext: '*.*',\n        env: {\n            'NODE_ENV': 'development'\n        },\n        tasks: ['typescript'] \n    }).on('start',function(done){\n        browser.reload();\n    });\n    done();\n});\n\ngulp.task('sync', function (done) {\n     // Init browser-sync\n    browser.init({\n        port: 3000,\n        proxy: 'localhost:8000'\n    });\n    done();\n};\n\ngulp.task('default', gulp.series(clean, 'typescript', 'server', 'sync'));\n</code></pre>\n\n<p>For the most part everything works. TypeScript transpiles, Nodemon starts serving the Express app, and BrowserSync launches successfully. On changes the Typescript transpiles, Nodemon restarts the Express app, and BrowserSync reloads. The problem is BrowserSync reloads before Express has a chance to start listening for connections. Any suggestions? </p>\n"}, {"tags": ["angular", "typescript", "behaviorsubject"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493768243, "post_id": 43748644, "comment_id": 74540677, "body": "you could try <code>[ngClass]=&quot;stateRouterOutlet$ | asnyc&quot;</code>"}, {"owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 0, "creation_date": 1493773118, "post_id": 43748644, "comment_id": 74541616, "body": "when toggleStateRouterOutlet is called?"}, {"owner": {"reputation": 1296, "user_id": 7733724, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YhY51.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7733724/sam"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493815044, "post_id": 43748644, "comment_id": 74561607, "body": "@AluanHaddad I tried binding with async pipe as you said and it didn&#39;t work but I want to give another try with time and I will come to say what happens. Thank you very much from now, it was usefull and I feel it should resolve by anyway."}, {"owner": {"reputation": 1296, "user_id": 7733724, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YhY51.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7733724/sam"}, "reply_to_user": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 0, "creation_date": 1493815169, "post_id": 43748644, "comment_id": 74561704, "body": "@JuliaPassynkova I am calling togleStateRouterOutlet directly from a button (click) on my root component template. It component loads the service."}], "owner": {"reputation": 1296, "user_id": 7733724, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YhY51.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7733724/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493767290, "creation_date": 1493766752, "last_edit_date": 1495541885, "question_id": 43748644, "link": "https://stackoverflow.com/questions/43748644/how-to-dynamically-change-a-class-from-a-router-outlet-inner-component-by-using", "title": "How to dynamically change a class from a router-outlet inner component by using an Observable?", "body": "<p>With learning purpose I have got an scenario and trying to use a service able to dynamically change the class of a component generated by router-outlet.</p>\n\n<p>Following <a href=\"https://stackoverflow.com/questions/41451375/passing-data-into-router-outlet-child-components-angular-2\">this</a> I have the service with a BehaviorSubject which value is toggled by a function.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\n@Injectable()\nexport class DynamicClassesService {\n    private stateRouterOutlet: Subject&lt;string&gt; = new BehaviorSubject&lt;string&gt;('am-topMenu');\n\n    stateRouterOutlet$ = this.stateRouterOutlet.asObservable();\n\n    toggleStateRouterOutlet() {\n        let current;\n        this.stateRouterOutlet.subscribe(res =&gt; { current = res });\n        current = (current === 'am-topMenu' ? 'am-leftMenu' : 'am-topMenu');\n        this.stateRouterOutlet.next(current);\n        console.log('Toggled to: ' + current);\n    }\n</code></pre>\n\n<p>I need help for the next step. I do subscribe from the child component and I get the value in constructor and store in a local (of the component) variable  as it follow. (Maybe it is wrong)</p>\n\n<p>Have any sense if I declare it (<em>localStateRouterOutlet</em>) as <code>@Input()</code>?</p>\n\n<pre><code>localStateRouterOutlet: string;\n\n constructor(private dynamicClasses: DynamicClassesService) {\n        dynamicClasses.stateRouterOutlet$.subscribe(res =&gt; {\n            this.localStateRouterOutlet = res;\n            console.log(this.localStateRouterOutlet);\n        })\n    }\n</code></pre>\n\n<p>Where is the clue to manage that toggle function from the service have effect in this variable?</p>\n\n<p>If I bind</p>\n\n<pre><code>[ngClass] = \"localStateRouterOutlet\"\n</code></pre>\n\n<p>Is it supposed to work for my initial purpose?\nThis is the totally wrong concept?</p>\n\n<p>I do apreciate you help in advance.</p>\n"}, {"tags": ["reactjs", "typescript", "d3.js"], "comments": [{"owner": {"reputation": 2221, "user_id": 2161568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AaTnu.png?s=128&g=1", "display_name": "Downhillski", "link": "https://stackoverflow.com/users/2161568/downhillski"}, "edited": false, "score": 0, "creation_date": 1493767995, "post_id": 43748525, "comment_id": 74540617, "body": "you could just get away by using the javascript instead of typescript, your script doesn&#39;t even reflect what typescript features."}, {"owner": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "reply_to_user": {"reputation": 2221, "user_id": 2161568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AaTnu.png?s=128&g=1", "display_name": "Downhillski", "link": "https://stackoverflow.com/users/2161568/downhillski"}, "edited": false, "score": 0, "creation_date": 1493769465, "post_id": 43748525, "comment_id": 74540938, "body": "It&#39;d be much easier/more comfortable for me to use something like recharts (React charts), but recharts doesn&#39;t have a TypeScript definition file. I just showed you a small snippet of my dashboard.tsx file, it actually is using TypeScript libraries/features, they&#39;re just not reflected in the snippet I showed you."}, {"owner": {"reputation": 2221, "user_id": 2161568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AaTnu.png?s=128&g=1", "display_name": "Downhillski", "link": "https://stackoverflow.com/users/2161568/downhillski"}, "edited": false, "score": 0, "creation_date": 1493770093, "post_id": 43748525, "comment_id": 74541083, "body": "it doesn&#39;t matter, just use what you feel comfortable with. typescript is a subset of javascript. you can use javascript in typescript."}, {"owner": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "reply_to_user": {"reputation": 2221, "user_id": 2161568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AaTnu.png?s=128&g=1", "display_name": "Downhillski", "link": "https://stackoverflow.com/users/2161568/downhillski"}, "edited": false, "score": 0, "creation_date": 1493772128, "post_id": 43748525, "comment_id": 74541421, "body": "I am using JavaScript in my TypeScript, I copied all that code from that jsFiddle&#39;s JavaScript. The issue is that all external JavaScript libraries require TypeScript definitions files"}], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "edited": false, "score": 0, "creation_date": 1493770347, "post_id": 43748662, "comment_id": 74541126, "body": "I changed that line to <code>var x = d3.scaleLinear()</code> but now it&#39;s giving me an error"}, {"owner": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "edited": false, "score": 0, "creation_date": 1493772884, "post_id": 43748662, "comment_id": 74541565, "body": "I get an error in my IDE that says <code>property &#39;scaleLinear&#39; does not exist on type &#39;typeof d3&#39;</code>"}, {"owner": {"reputation": 1566, "user_id": 5299417, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cDaMr.jpg?s=128&g=1", "display_name": "Michael Hall", "link": "https://stackoverflow.com/users/5299417/michael-hall"}, "reply_to_user": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "edited": false, "score": 0, "creation_date": 1493773758, "post_id": 43748662, "comment_id": 74541759, "body": "oh wait, you&#39;ve imported <code>d3</code> as <code>D3</code> - <code>import * as D3 from &quot;d3&quot;;</code>. The capital makes a difference. See if that works"}, {"owner": {"reputation": 1566, "user_id": 5299417, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cDaMr.jpg?s=128&g=1", "display_name": "Michael Hall", "link": "https://stackoverflow.com/users/5299417/michael-hall"}, "reply_to_user": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "edited": false, "score": 0, "creation_date": 1493773951, "post_id": 43748662, "comment_id": 74541790, "body": "you&#39;re importing d3 as <code>D3</code> but trying to call it using <code>d3</code>. Try changing your import statement to <code>import * as d3 from &quot;d3&quot;;</code> and leave the rest of your code the same."}, {"owner": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "edited": false, "score": 0, "creation_date": 1493774112, "post_id": 43748662, "comment_id": 74541818, "body": "I just changed it to that and I&#39;m still running into the same problem"}, {"owner": {"reputation": 1566, "user_id": 5299417, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cDaMr.jpg?s=128&g=1", "display_name": "Michael Hall", "link": "https://stackoverflow.com/users/5299417/michael-hall"}, "reply_to_user": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "edited": false, "score": 0, "creation_date": 1493774384, "post_id": 43748662, "comment_id": 74541889, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/143226/discussion-between-michael-hall-and-aliciaguerra\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1566, "user_id": 5299417, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cDaMr.jpg?s=128&g=1", "display_name": "Michael Hall", "link": "https://stackoverflow.com/users/5299417/michael-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1493766928, "creation_date": 1493766928, "answer_id": 43748662, "question_id": 43748525, "link": "https://stackoverflow.com/questions/43748525/trying-to-use-d3-with-react-to-create-a-bar-chart/43748662#43748662", "title": "Trying to use D3 with React to create a bar chart", "body": "<p>Not sure about your first error but the second one could be due to the d3 version. If you are importing the latest version of d3 then <code>var x = d3.scale.linear()</code> needs to be <code>var x = d3.scaleLinear()</code>. See the <a href=\"https://github.com/d3/d3/blob/master/CHANGES.md#scales-d3-scale\" rel=\"nofollow noreferrer\">docs</a> for more information.  </p>\n\n<p>Note: I would normally have just put this as a comment as it doesn't answer the whole question by I am 1 reputation point shy of being able to comment sorry.</p>\n"}], "owner": {"reputation": 677, "user_id": 4105019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OulCV.jpg?s=128&g=1", "display_name": "AliciaGuerra", "link": "https://stackoverflow.com/users/4105019/aliciaguerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1540, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1493766928, "creation_date": 1493765997, "question_id": 43748525, "link": "https://stackoverflow.com/questions/43748525/trying-to-use-d3-with-react-to-create-a-bar-chart", "title": "Trying to use D3 with React to create a bar chart", "body": "<p>I'm trying to render a simple bar chart using D3 on my web application, which uses React for its front end. </p>\n\n<p>I'm new to D3 and am under a major time crunch to get a bar chart showing up on my web page, so I figured the easiest thing for me to do would be to find a jsfiddle that renders a simple bar chart using D3 \n(<a href=\"http://jsfiddle.net/tommy351/P4Z75/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/tommy351/P4Z75/</a>)\nand copy and paste the code into my dashboard.tsx file. </p>\n\n<p>Note: The reason I chose D3 is because other, easier-to-use charting libraries that integrate more smoothly with React (i.e. recharts, react-d3) don't have TypeScript definition files.</p>\n\n<p>So, here's a snippet of my dashboard.tsx file:</p>\n\n<pre><code>         import * as React from \"react\";\n         import * as ReactDOM from \"react-dom\";\n         import * as D3 from \"d3\";\n\n         var data = [4, 5, 10, 16, 23, 35];\n         var width = 500;\n         var barHeight = 20;\n\n         var x = d3.scale.linear()\n             .domain([0, d3.max(data)])\n             .range([0, width]);\n\n        var chart = d3.select('#chart')\n             .attr('width', width)\n             .attr('height', barHeight * data.length);\n\n        var bar = chart.selectAll('g')\n            .data(data)\n            .enter()\n            .append('g')\n            .attr('transform', function (d, i) {\n              return 'translate(0,' + barHeight * i + ')';\n             });\n\n       bar.append('rect')\n             .attr('width', x)\n             .attr('height', barHeight - 1);\n\n       bar.append('text')\n              .attr('x', function (d) {\n                return x(d) - 3;\n               })\n              .attr('y', barHeight / 2)\n              .attr('dy', '.35em')\n              .text(function (d) {\n                return d;\n               });\n      render() {\n         return ( &lt;div&gt;\n            &lt;svg id=\"chart\"&gt;&lt;/svg&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>There errors I get in my console are:</p>\n\n<pre><code> Uncaught ReferenceError: Chartjs is not defined\n   at Object.map../af (vendorReact.js:26748)\n   at __webpack_require__ (vendorReact.js:53)\n   at Object.&lt;anonymous&gt; (vendorReact.js:107)\n   at __webpack_require__ (vendorReact.js:53)\n   at vendorReact.js:96\n   at vendorReact.js:99\n\n Dashboard.js:17482 Uncaught TypeError: Cannot read property 'linear' of \n    undefined\n   at Object.&lt;anonymous&gt; (Dashboard.js:17482)\n   at Object.&lt;anonymous&gt; (Dashboard.js:17721)\n   at Object.163 (Dashboard.js:17723)\n   at __webpack_require__ (vendorReact.js:53)\n   at Object.0 (Dashboard.js:17)\n   at __webpack_require__ (vendorReact.js:53)\n   at webpackJsonpCallback (vendorReact.js:24)\n   at Dashboard.js:1\n</code></pre>\n\n<p>I've tried the same thing with a number of jsfiddles and get similar errors in my console and can't get the charts to render. Any idea what the problem could be?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "edited": false, "score": 0, "creation_date": 1542771562, "post_id": 43747347, "comment_id": 93684857, "body": "is it possible to do this with enums?"}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 0, "creation_date": 1612599795, "post_id": 43747347, "comment_id": 116821463, "body": "You can get keys of enum with <code>keyof typeof Animals</code>"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 16, "last_activity_date": 1493759676, "creation_date": 1493759676, "answer_id": 43747347, "question_id": 43747234, "link": "https://stackoverflow.com/questions/43747234/typescript-is-it-possible-to-create-a-mapped-union-type/43747347#43747347", "title": "TypeScript: is it possible to create a mapped union type?", "body": "<p>It's a combination of keyof and <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"noreferrer\">lookup type</a></p>\n\n<pre><code>type AwaActionType = AwaActionTypes[keyof AwaActionTypes];\n</code></pre>\n"}], "owner": {"reputation": 25584, "user_id": 725866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cbede50c0d1034b1b4453b2d426542e7?s=128&d=identicon&r=PG", "display_name": "Jeremy Danyow", "link": "https://stackoverflow.com/users/725866/jeremy-danyow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1491, "favorite_count": 2, "accepted_answer_id": 43747347, "answer_count": 1, "score": 9, "last_activity_date": 1493759676, "creation_date": 1493759167, "question_id": 43747234, "link": "https://stackoverflow.com/questions/43747234/typescript-is-it-possible-to-create-a-mapped-union-type", "title": "TypeScript: is it possible to create a mapped union type?", "body": "<p>Is it possible to combine the \"mapped types\" and \"union types\" features to create an expression that takes the following interface as an input:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface AwaActionTypes {\n  CLICKLEFT: 'CL';\n  CLICKRIGHT: 'CR';\n  SCROLL: 'S';\n  ZOOM: 'Z';\n  RESIZE: 'R';\n  KEYBOARDENTER: 'KE';\n  KEYBOARDSPACE: 'KS';\n  OTHER: 'O';\n}\n</code></pre>\n\n<p>And produces a type that is the equivalent of the following union type alias:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>type AwaActionType: 'CL' | 'CR' | 'S' | 'Z' | 'R' | 'KE' | 'KS' | 'O';\n</code></pre>\n\n<p>I tried using combinations of <code>keyof</code>, <code>|</code>, etc. Didn't land on something that worked. Didn't see anything in the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"noreferrer\">handbook</a> either.</p>\n"}, {"tags": ["angular", "typescript", "angular2-services", "angular-http"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 2, "creation_date": 1493756066, "post_id": 43746353, "comment_id": 74535944, "body": "Remove <code>= {} </code> from <code>profile = {};</code>"}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "edited": false, "score": 0, "creation_date": 1493756914, "post_id": 43746353, "comment_id": 74536411, "body": "You may also need to protect the external &lt;div&gt; with <code>*ngIf=&quot;profile&quot;</code>"}, {"owner": {"reputation": 91, "user_id": 5907116, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/41d811ca16c47fe28ff0fb679227983b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Saad Abdul Rahim", "link": "https://stackoverflow.com/users/5907116/mohammad-saad-abdul-rahim"}, "edited": false, "score": 0, "creation_date": 1493790907, "post_id": 43746353, "comment_id": 74546187, "body": "Thanks friend it worked."}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 8000408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PiueWETJlNQ/AAAAAAAAAAI/AAAAAAAAAU8/Q_0zz2ZvT8c/photo.jpg?sz=128", "display_name": "Mark Valenzia", "link": "https://stackoverflow.com/users/8000408/mark-valenzia"}, "is_accepted": false, "score": 0, "last_activity_date": 1503977768, "creation_date": 1503977768, "answer_id": 45930294, "question_id": 43746353, "link": "https://stackoverflow.com/questions/43746353/error-cannot-find-a-differ-supporting-object-object-object-of-type-object/45930294#45930294", "title": "Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays", "body": "<p>It looks like you are missing the <code>async</code> pipe on your <code>*ngFor</code> statement. Because <code>getHeroes()</code> is returning an <code>Observable</code> you need to use the <code>async</code> pipe like this to let Angular know the data being provided to the <code>*ngFor</code> loop is asynchronous. </p>\n\n<pre><code>&lt;h1&gt;\n  &lt;div&gt;\n    &lt;ul *ngFor= \"let user of profile | async\"&gt;\n      &lt;li&gt;{{user.userId}}&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/h1&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68, "user_id": 3551272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUNdY.jpg?s=128&g=1", "display_name": "M.Mansoury", "link": "https://stackoverflow.com/users/3551272/m-mansoury"}, "is_accepted": false, "score": 1, "last_activity_date": 1503983748, "last_edit_date": 1503983748, "creation_date": 1503979713, "answer_id": 45930542, "question_id": 43746353, "link": "https://stackoverflow.com/questions/43746353/error-cannot-find-a-differ-supporting-object-object-object-of-type-object/45930542#45930542", "title": "Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays", "body": "<p>In <code>AppComponent</code> change <code>profile = {};</code> with <code>profile: any[];</code></p>\n"}], "owner": {"reputation": 91, "user_id": 5907116, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/41d811ca16c47fe28ff0fb679227983b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Saad Abdul Rahim", "link": "https://stackoverflow.com/users/5907116/mohammad-saad-abdul-rahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3255, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1503983748, "creation_date": 1493755595, "last_edit_date": 1493827308, "question_id": 43746353, "link": "https://stackoverflow.com/questions/43746353/error-cannot-find-a-differ-supporting-object-object-object-of-type-object", "title": "Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays", "body": "<p>I have successfully fetch data from jsonplaceholder fake api <a href=\"https://jsonplaceholder.typicode.com/posts\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/posts</a></p>\n\n<p>I am trying to bind it using angular 2 {{}} but i am getting following error. I have no clue what i am doing wrong if any body could help me that will be grate full. Below is my code and error.</p>\n\n<blockquote>\n  <p>Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.</p>\n</blockquote>\n\n<pre><code>import { Component } from '@angular/core';\nimport {BioService} from './bio.service'\nimport { Users } from './User';\n\n@Component({\nselector: 'app-root',\ntemplateUrl: './app.component.html',\nstyleUrls: ['./app.component.css']\n})\nexport class AppComponent {\ntitle = 'app works!';\nvalues : any;\nusers: Users[];\nerrorMessage: string;\nmode = 'Observable';\n\nprofile = {};\nconstructor(private bioservice:BioService)\n{\n\n}\n\nngOnInit(){\n     this.getHeroes();\n     debugger;\n}\n\n  getHeroes() {\n  this.bioservice.getHeroes().subscribe(data =&gt; this.profile = data);\n }\n\n}\n</code></pre>\n\n<p>HTML Template:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h1&gt;\n&lt;div&gt;\n&lt;ul *ngFor= \"let user of profile\"&gt;\n&lt;li&gt;{{user.userId}}&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;/h1&gt;\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>        import { Injectable } from '@angular/core';\n        import { Http, Response, Headers, RequestOptions } from '@angular/http';\n        import {Observable} from 'rxjs/Rx';\n        import 'rxjs/add/operator/map';\n        import 'rxjs/add/operator/catch';\n        import { Users } from './User';\n\n\n        @Injectable()\n        export class BioService {\n\n        private url = 'http://bioapideploy.azurewebsites.net/api/Users';\n        private placeholderurl = \"https://jsonplaceholder.typicode.com/posts\";\n\n          constructor(private http: Http) { }\n\n          getHeroes() {\n            debugger;\n            return this.http.get(this.placeholderurl)\n            .map((res:Response) =&gt; res.json());\n          }\n\n          private extractData(res: Response) {\n            debugger;\n            let body = res.json();\n            return body.data || { };\n          }\n\n\n          private handleError (error: Response | any) {\n            // In a real world app, you might use a remote logging infrastructure\n            debugger;\n            let errMsg: string;\n            if (error instanceof Response) {\n              const body = error.json() || '';\n              const err = body.error || JSON.stringify(body);\n              errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n            } else {\n              errMsg = error.message ? error.message : error.toString();\n            }\n            console.error(errMsg);\n            return Observable.throw(errMsg);\n          }\n        }\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1493775966, "post_id": 43746340, "comment_id": 74542217, "body": "What version of TypeScript is used by Visual Studio Code?"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1493776139, "post_id": 43746340, "comment_id": 74542253, "body": "Very likely that VS Code is using 2.2.x and your task is executed using 2.3.x ."}, {"owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1493779774, "post_id": 43746340, "comment_id": 74542953, "body": "Good thinking, but according to the VSCode footer, it&#39;s using 2.3.1 and that version is &quot;currently active.&quot; I feel like it&#39;s just not enforcing strict rules."}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1493782377, "post_id": 43746340, "comment_id": 74543555, "body": "How are you specifying the <code>--strict</code> flag? Did you set it in <code>tsconfig.json</code> or just passed it as an argument to the build task?"}, {"owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1493843077, "post_id": 43746340, "comment_id": 74580114, "body": "@Saravana see below. It is now in the tsconfig.json"}], "answers": [{"comments": [{"owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "edited": false, "score": 0, "creation_date": 1493820238, "post_id": 43750952, "comment_id": 74565848, "body": "Thanks, I tried, but I&#39;m not able to get that to work. It&#39;s possibly because my project was set up as ASP.NET and the TypeScript component is &quot;peripheral&quot; to the project. Maybe I just need to live with it."}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "reply_to_user": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "edited": false, "score": 0, "creation_date": 1493829461, "post_id": 43750952, "comment_id": 74572500, "body": "If you share your project setup, I may be able to provide a better example config. Also try looking into the <code>&quot;files&quot; and </code>&quot;include&quot;`` options for the tsconfig: <a href=\"http://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/tsconfig-json.html</a>"}, {"owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "edited": false, "score": 0, "creation_date": 1493834859, "post_id": 43750952, "comment_id": 74575635, "body": "Aha. I am new to TypeScript and I&#39;d forgotten I already had a tsconfig.json and I was already using the tsc -p tsconfig.json method. Adding strict to the json file is cleaner and I have done that and things are working generally well... except I am still not noticing any strict output in the Problems panel. Strict output does show up in the Output panel, however..."}], "tags": [], "owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "is_accepted": false, "score": 1, "last_activity_date": 1493784920, "creation_date": 1493784920, "answer_id": 43750952, "question_id": 43746340, "link": "https://stackoverflow.com/questions/43746340/typescript-strict-in-visual-studio-code-problems-panel/43750952#43750952", "title": "TypeScript Strict in Visual Studio Code Problems Panel", "body": "<p>You need to setup a <a href=\"http://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\"><code>tsconfig.json</code> file</a> to tell VScode what your project looks like and what compiler options to use for error reporting. Just create a <code>tsconfig.json</code> at the root of your workspace with the content:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"strict\": true\n    },\n    \"exclude\": [ \"node_modules\" ]\n}\n</code></pre>\n\n<p>You would then compile your project using <code>tsc -p tsconfig.json</code> instead of passing the the <code>--strict</code> flag</p>\n"}], "owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1370, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1493784920, "creation_date": 1493755528, "last_edit_date": 1592644375, "question_id": 43746340, "link": "https://stackoverflow.com/questions/43746340/typescript-strict-in-visual-studio-code-problems-panel", "title": "TypeScript Strict in Visual Studio Code Problems Panel", "body": "<p>I've figured out that I can compile my TypeScript using the <code>--strict</code> flag which enforces stronger type checking etc. I often compile my TypeScript from within Visual Studio Code by using a task that gives me the output of the compile in the Output panel so I can see compilation errors, etc (see screenshot below).</p>\n<p>However, even though Visual Studio Code seems to perform &quot;pre-compilation&quot; of the TypeScript and reports basic syntax errors (etc) in the Problems panel, the <strong>strict</strong> results never appear there. (Note that my main project is C# ASP.NET with a TypeScript component).</p>\n<p>Is there a way to configure Visual Studio Code to pre-compile TypeScript using the <code>--strict</code> option so the errors appear in the Problems panel?</p>\n<p><a href=\"https://i.stack.imgur.com/4XQRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4XQRS.png\" alt=\"Visual Studio Code showing TypeScript compilation errors\" /></a></p>\n"}, {"tags": ["angular", "typescript", "rxjs", "subscription", "behaviorsubject"], "comments": [{"owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 2, "creation_date": 1493752474, "post_id": 43745403, "comment_id": 74534056, "body": "this.cars is undefined?"}, {"owner": {"reputation": 726, "user_id": 5981646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0989aa647c96e3586af9f1d66fe0fa31?s=128&d=identicon&r=PG", "display_name": "faklyasgy", "link": "https://stackoverflow.com/users/5981646/faklyasgy"}, "reply_to_user": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 0, "creation_date": 1493755758, "post_id": 43745403, "comment_id": 74535764, "body": "no, it has values just I don&#39;t copy all of my code here"}, {"owner": {"reputation": 1885, "user_id": 4136104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/leewg.png?s=128&g=1", "display_name": "earloc", "link": "https://stackoverflow.com/users/4136104/earloc"}, "edited": false, "score": 0, "creation_date": 1493756474, "post_id": 43745403, "comment_id": 74536189, "body": "Check the dev-Tools in your browser, i think you are missing some &quot;;&quot; there, so depending of your tsconfig.json the typesctript doesn&#180;t gets compiled into proper JS or the emitted JS just stops intepreting after the syntax-error:  <code>console.log(&#39;DO SOMETHING&#39;); this.car = this.cars.find(car =&gt; car.carId == carId);</code>"}, {"owner": {"reputation": 726, "user_id": 5981646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0989aa647c96e3586af9f1d66fe0fa31?s=128&d=identicon&r=PG", "display_name": "faklyasgy", "link": "https://stackoverflow.com/users/5981646/faklyasgy"}, "edited": false, "score": 0, "creation_date": 1493758930, "post_id": 43745403, "comment_id": 74537422, "body": "I don&#39;t have the solution, but I find an other possibility of the reason of the fault, that my Car objects has a User object attribute, and maybe it can&#39;t transpiled to JS proper, as you said."}], "answers": [{"comments": [{"owner": {"reputation": 726, "user_id": 5981646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0989aa647c96e3586af9f1d66fe0fa31?s=128&d=identicon&r=PG", "display_name": "faklyasgy", "link": "https://stackoverflow.com/users/5981646/faklyasgy"}, "edited": false, "score": 0, "creation_date": 1493755919, "post_id": 43745860, "comment_id": 74535865, "body": "no, cars has value, just I didn&#39;t copy all of my code. I added values in an other function. I checked it with console.log(this.cars)"}, {"owner": {"reputation": 726, "user_id": 5981646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0989aa647c96e3586af9f1d66fe0fa31?s=128&d=identicon&r=PG", "display_name": "faklyasgy", "link": "https://stackoverflow.com/users/5981646/faklyasgy"}, "edited": false, "score": 0, "creation_date": 1493758725, "post_id": 43745860, "comment_id": 74537314, "body": "Anyway I checked your basic solution, and you are right, that subscription work fine. So I go forward, and i think, the reason of the problem can be that my Car objects has an other User object as its attribute."}], "tags": [], "owner": {"reputation": 1034, "user_id": 3013395, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d6871584a135be8e531de8b376f3f94?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/3013395/rick"}, "is_accepted": false, "score": -1, "last_activity_date": 1493753651, "creation_date": 1493753651, "answer_id": 43745860, "question_id": 43745403, "link": "https://stackoverflow.com/questions/43745403/subscribe-function-not-call-if-i-call-array-find-in-it-in-typescript/43745860#43745860", "title": "Subscribe function not call if I call Array.find() in it in typescript", "body": "<p>The subscription works fine but there are some problems in your code.</p>\n\n<p>First of all the list of cars is undefined so it won't find the car in your list. </p>\n\n<p>Second, you try to call the getCarId method on this.subscription but this.discription does not have that method, CarService does.</p>\n\n<p>If you initialize your cars array in MyService like this, it will work fine.</p>\n\n<pre><code>@Injectable()\nexport class MyService {\n\nsubscription: Subscription;\ncar: any;\ncars: Array&lt;any&gt; = [{carId: \"1\"}, {carId: \"2\"}];\n\n    constructor(private carService: CarService){\n        this.carService.getCarId().subscribe(carId=&gt; {\n            console.log('DO SOMETHING') //\n\n            //with this row NOT working, without this row working\n            this.car = this.cars.find(car =&gt; car.carId === carId) \n        });\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 726, "user_id": 5981646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0989aa647c96e3586af9f1d66fe0fa31?s=128&d=identicon&r=PG", "display_name": "faklyasgy", "link": "https://stackoverflow.com/users/5981646/faklyasgy"}, "is_accepted": true, "score": 0, "last_activity_date": 1493795804, "creation_date": 1493795804, "answer_id": 43753556, "question_id": 43745403, "link": "https://stackoverflow.com/questions/43745403/subscribe-function-not-call-if-i-call-array-find-in-it-in-typescript/43753556#43753556", "title": "Subscribe function not call if I call Array.find() in it in typescript", "body": "<p>I got the solution. I don't know the reason of why, but in subscribe method I couldn't use any methods of array, so for example console.log(this.cars.length) also didn't work, not just this.cars.find. However console.log(this.cars) write out correctly the array. Anyway the solution is that I initialized the cars array with an empty array like here.</p>\n\n<pre><code> cars:Array&lt;Car&gt;=[];\n</code></pre>\n\n<p>and after this everything worked correctly. If someone can explain me the reason of this, that would be great and thank you all of your helps. :)</p>\n"}], "owner": {"reputation": 726, "user_id": 5981646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0989aa647c96e3586af9f1d66fe0fa31?s=128&d=identicon&r=PG", "display_name": "faklyasgy", "link": "https://stackoverflow.com/users/5981646/faklyasgy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "accepted_answer_id": 43753556, "answer_count": 2, "score": 0, "last_activity_date": 1493795804, "creation_date": 1493751838, "last_edit_date": 1493756314, "question_id": 43745403, "link": "https://stackoverflow.com/questions/43745403/subscribe-function-not-call-if-i-call-array-find-in-it-in-typescript", "title": "Subscribe function not call if I call Array.find() in it in typescript", "body": "<p>I am really new to Typescript and web development. I'm finding a strange thing when I subscribe to an event and cannot find solution for it.\nI have a service with a <code>BehaviorSubject</code> which holds a <code>carId</code> in it. I have a page where there is a list of ids, and if I click on an id, then it calls <code>setCarId</code>. So far everything is working fine.</p>\n\n<p>This is the service:</p>\n\n<pre><code>@Injectable()\nexport class CarService {\n   private carId = new BehaviorSubject(\"\");\n   setCarId(carId: string) {\n      this.carId.next(carId);\n   } \n   getCarId(): Observable&lt;string&gt; {\n     return this.carId.asObservable();\n   }\n</code></pre>\n\n<p>And I have another service, where I subscribe to changes on <code>carId</code>. In this I have a car object and I want to get that car from my array of cars for which the id is in my <code>BehaviorSubject</code>. I get the car that I need, with an <code>array.find</code> method like in my code, and it's working properly, BUT NOT for subscribe. I don't know why, but with this line <code>this.car = this.cars.find(car =&gt; car.carId == carId)</code> the subscribe method doesn't get called, but without that line it works properly. </p>\n\n<pre><code>@Injectable()\nexport class MyService {\n\n  subscription: Subscription;\n  car: Car;\n  cars: Array&lt;Car&gt;;\n\n  constructor(private carService: CarService){\n    this.subscription.getCarId().subscribe(carId=&gt; {\n       console.log('DO SOMETHING') //\n\n\n       //with this row NOT working, without this row working\n       this.car = this.cars.find(car =&gt; car.carId == carId) \n    });\n\n... //MORE CODE\n</code></pre>\n\n<p>I don't know how why this is happening and how to solve it, so please help me.</p>\n"}, {"tags": ["html", "angular", "google-chrome", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493750936, "post_id": 43744056, "comment_id": 74533184, "body": "If you are using SystemJS and plugin-typescript, you should use <code>&quot;module&quot;: &quot;system&quot;</code>."}, {"owner": {"reputation": 61, "user_id": 4031199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPi7D.jpg?s=128&g=1", "display_name": "Emir K\u0131l\u0131n&#231;", "link": "https://stackoverflow.com/users/4031199/emir-k%c4%b1l%c4%b1n%c3%a7"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493790214, "post_id": 43744056, "comment_id": 74545866, "body": "@AluanHaddad here tsconfig.json: {   &quot;compilerOptions&quot;: {     &quot;target&quot;: &quot;es5&quot;,     &quot;module&quot;: &quot;commonjs&quot;,     &quot;moduleResolution&quot;: &quot;node&quot;,     &quot;sourceMap&quot;: true,     &quot;emitDecoratorMetadata&quot;: true,     &quot;experimentalDecorators&quot;: true,     &quot;lib&quot;: [ &quot;es2015&quot;, &quot;dom&quot; ],     &quot;noImplicitAny&quot;: true,     &quot;suppressImplicitAnyIndexErrors&quot;: true   } }  I tried you said. I wrote system instead of commonjs but it is not work."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493790313, "post_id": 43744056, "comment_id": 74545915, "body": "Can  you add that to your question?"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4031199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPi7D.jpg?s=128&g=1", "display_name": "Emir K\u0131l\u0131n&#231;", "link": "https://stackoverflow.com/users/4031199/emir-k%c4%b1l%c4%b1n%c3%a7"}, "is_accepted": true, "score": 0, "last_activity_date": 1494484195, "creation_date": 1494484195, "answer_id": 43908046, "question_id": 43744056, "link": "https://stackoverflow.com/questions/43744056/angular-quickstart-project-did-not-work-correctlysystemjs-unexpected-token/43908046#43908046", "title": "Angular QuickStart project did not work correctly((SystemJS) Unexpected token &lt;)", "body": "<p>I found solution another way. Follow this <a href=\"https://github.com/angular/angular-cli\" rel=\"nofollow noreferrer\">link</a> and create new angular cli project.</p>\n"}], "owner": {"reputation": 61, "user_id": 4031199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPi7D.jpg?s=128&g=1", "display_name": "Emir K\u0131l\u0131n&#231;", "link": "https://stackoverflow.com/users/4031199/emir-k%c4%b1l%c4%b1n%c3%a7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 43908046, "answer_count": 1, "score": 0, "last_activity_date": 1494484195, "creation_date": 1493746759, "last_edit_date": 1495542366, "question_id": 43744056, "link": "https://stackoverflow.com/questions/43744056/angular-quickstart-project-did-not-work-correctlysystemjs-unexpected-token", "title": "Angular QuickStart project did not work correctly((SystemJS) Unexpected token &lt;)", "body": "<p>I followed <a href=\"https://angular.io/docs/ts/latest/cookbook/visual-studio-2015.html\" rel=\"nofollow noreferrer\">this</a> guide for VS2015. When i ran \"quick start\" project or \"tour of heroes\" tutorial on google chrome, did not work correctly. (<a href=\"https://i.stack.imgur.com/0TrXq.png\" rel=\"nofollow noreferrer\">Angular_QuickStart_Error.png</a>). I researched stackoverflow posts but everyone has taken the error differently. </p>\n\n<p>For Examples: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34387174/angular-2-quickstart-unexpected-token\">Angular 2 Quickstart: unexpected token &lt;</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/39735502/angular-2-quick-start-vs-2015-with-es6\">Angular 2 Quick Start VS 2015 with ES6</a></li>\n<li><a href=\"https://stackoverflow.com/questions/43154832/unexpected-token-export-in-angular-app-with-systemjs-and-typescript\">&quot;Unexpected token export&quot; in Angular app with SystemJS and TypeScript</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39576887/kendo-ui-angular-systemjs-unexpected-token\">Kendo UI Angular : (SystemJS) Unexpected token &lt;</a></li>\n</ul>\n\n<p>They are not answer to me.</p>\n\n<p>What can i do?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 910, "user_id": 937532, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b84e01da85ea9eaaaf8308e8299de42b?s=128&d=identicon&r=PG", "display_name": "FirstDivision", "link": "https://stackoverflow.com/users/937532/firstdivision"}, "edited": false, "score": 0, "creation_date": 1493756734, "post_id": 43745467, "comment_id": 74536315, "body": "That explains why I&#39;ve been having trouble using it.  The way I have been using it is to delete the <code>declare module namespace {</code> wrapper, change each interface to a class, and then import them into components like I would any other export class.  There is no better way to auto-generate classes out of JSON?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 910, "user_id": 937532, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b84e01da85ea9eaaaf8308e8299de42b?s=128&d=identicon&r=PG", "display_name": "FirstDivision", "link": "https://stackoverflow.com/users/937532/firstdivision"}, "edited": false, "score": 0, "creation_date": 1493762989, "post_id": 43745467, "comment_id": 74539186, "body": "There&#39;s a vs code plug-in that lets you paste JSON as an interface. I think removing the wrapper is the right approach but I would caution you against replacing <code>interface</code> with <code>class</code>"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 0, "last_activity_date": 1493761814, "last_edit_date": 1493761814, "creation_date": 1493752058, "answer_id": 43745467, "question_id": 43744035, "link": "https://stackoverflow.com/questions/43744035/using-output-from-json2ts-com-in-angular-2-x/43745467#43745467", "title": "Using Output From json2ts.com in Angular 2.x", "body": "<p>The output produced by <a href=\"http://json2ts.com/\" rel=\"nofollow noreferrer\">http://json2ts.com/</a> does not produce an external module you can import. It also creates namespaces using an improper construct that has been deprecated for over a year. If you want to use it, you would not <code>import</code> at all but instead reference <code>namespace</code> as a global variable.</p>\n\n<p>Personally, I would avoid using this tool.</p>\n"}], "owner": {"reputation": 910, "user_id": 937532, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b84e01da85ea9eaaaf8308e8299de42b?s=128&d=identicon&r=PG", "display_name": "FirstDivision", "link": "https://stackoverflow.com/users/937532/firstdivision"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 43745467, "answer_count": 1, "score": 1, "last_activity_date": 1493761814, "creation_date": 1493746656, "last_edit_date": 1493746981, "question_id": 43744035, "link": "https://stackoverflow.com/questions/43744035/using-output-from-json2ts-com-in-angular-2-x", "title": "Using Output From json2ts.com in Angular 2.x", "body": "<p><a href=\"http://json2ts.com/\" rel=\"nofollow noreferrer\">http://json2ts.com/</a> generates output with a wrapper like <code>declare module namespace</code> and I'm not sure how to use/reference/import that within my Angular 2.x application.</p>\n\n<p>As an example, if I provide this JSON:</p>\n\n<pre><code>[{\n  \"id\": 1,\n  \"name\": \"Bob\",\n   \"Position\": [\n       {\"Title\" : \"Manager\"}\n],\n}]\n</code></pre>\n\n<p>It will generate this output:</p>\n\n<pre><code>declare module namespace {\n\n    export interface Position {\n        Title: string;\n    }\n\n    export interface RootObject {\n        id: number;\n        name: string;\n        Position: Position[];\n    }\n\n}\n</code></pre>\n\n<p>It appears it's typing to namespace these objects which is something I'd like to use. I'm already running into cases where objects within an object have the same name as other objects and there ends up being conflicts.  But so far I can't figure out how to import this into a component.</p>\n"}, {"tags": ["typescript", "typelite"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493769182, "post_id": 43743960, "comment_id": 74540876, "body": "You can do this using Typewriter. Not sure about TypeLite"}, {"owner": {"reputation": 2360, "user_id": 1141393, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/cqDvQ.jpg?s=128&g=1", "display_name": "Laurence Frost", "link": "https://stackoverflow.com/users/1141393/laurence-frost"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493804781, "post_id": 43743960, "comment_id": 74554410, "body": "Thanks - I already looked at TypeWriter before writing this question, but that brings some different issues to the party."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493825510, "post_id": 43743960, "comment_id": 74570027, "body": "indeed it does, it works within Visual Studio primarily. That said, I find it pretty easy to work with and the reflective model is deep"}], "owner": {"reputation": 2360, "user_id": 1141393, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/cqDvQ.jpg?s=128&g=1", "display_name": "Laurence Frost", "link": "https://stackoverflow.com/users/1141393/laurence-frost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493746353, "creation_date": 1493746353, "question_id": 43743960, "link": "https://stackoverflow.com/questions/43743960/typelite-add-knockoutobservable-to-certain-properties", "title": "TypeLite - add KnockoutObservable to certain properties", "body": "<p>Let's say I have a server-side POCO class as follows:</p>\n\n<pre><code>public class Book\n{\n    public string Isbn { get; set; }\n    public string Title { get; set; }\n    public int NumPages { get; set; }\n}\n</code></pre>\n\n<p>TypeLite will convert it as follows:</p>\n\n<pre><code>interface Book {\n    Isbn: string;\n    Title: string;\n    NumPages: string;\n}\n</code></pre>\n\n<p>What I'd like to do is be able to decorate the NumPages attribute server-side so that it's like this:</p>\n\n<pre><code>public class Book\n{\n    public string Isbn { get; set; }\n    public string Title { get; set; }\n    [TsObservable]  // doesn't need to be called this - an attribute seems like a nice way to do it though\n    public int NumPages { get; set; }\n}\n</code></pre>\n\n<p>...and the client side version would then automatically make alterations to the interface as follows.</p>\n\n<pre><code>interface Book {\n    Isbn: string;\n    Title: string;\n    NumPages: KnockoutObservable&lt;string&gt;;\n}\n</code></pre>\n\n<p>Is this something which can be achieved with TypeLite? Ideally I'd like to be able to selectively make each property within a class Observable, but at a push, I guess all properties in the class could be observable.</p>\n\n<p>I just can't seem to work out how to modify the .tt file to make it happen.</p>\n"}, {"tags": ["angular", "typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 802, "user_id": 910941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4870c79cffb8d7b3598426564ccabb3?s=128&d=identicon&r=PG", "display_name": "Eliseu Monar dos Santos", "link": "https://stackoverflow.com/users/910941/eliseu-monar-dos-santos"}, "edited": false, "score": 1, "creation_date": 1497314912, "post_id": 43745044, "comment_id": 76014404, "body": "Btw, RC was just released: <a href=\"https://blogs.msdn.microsoft.com/typescript/2017/06/12/announcing-typescript-2-4-rc/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/typescript/2017/06/12/&hellip;</a>"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 2, "last_activity_date": 1497349834, "last_edit_date": 1497349834, "creation_date": 1493750580, "answer_id": 43745044, "question_id": 43743823, "link": "https://stackoverflow.com/questions/43743823/how-to-use-webpacks-async-import-with-angular-cli/43745044#43745044", "title": "How to use webpack&#39;s async import with angular CLI?", "body": "<p>Support is included in TypeScript 2.4 which is currently in release candidate.</p>\n\n<p>So run</p>\n\n<pre><code>npm i --save-dev typescript@rc\n</code></pre>\n\n<p>or</p>\n\n<pre><code>jspm i typescript@rc\n</code></pre>\n\n<p>and go to town.</p>\n\n<p>You can track the progress of this item on GitHub in <a href=\"https://github.com/Microsoft/TypeScript/issues/14495\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/14495</a> and <a href=\"https://github.com/Microsoft/TypeScript/pull/14774\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/pull/14774</a></p>\n"}], "owner": {"reputation": 2647, "user_id": 1250917, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RPzCA.jpg?s=128&g=1", "display_name": "WillyC", "link": "https://stackoverflow.com/users/1250917/willyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 43745044, "answer_count": 1, "score": 1, "last_activity_date": 1497349834, "creation_date": 1493745823, "last_edit_date": 1493752157, "question_id": 43743823, "link": "https://stackoverflow.com/questions/43743823/how-to-use-webpacks-async-import-with-angular-cli", "title": "How to use webpack&#39;s async import with angular CLI?", "body": "<p>I'm trying to use webpack's (2.2.1) async module loading as described <a href=\"https://webpack.js.org/guides/code-splitting-async/\" rel=\"nofollow noreferrer\">here</a>.  I've taken a look at some of the <a href=\"https://github.com/webpack/webpack/tree/master/examples/harmony\" rel=\"nofollow noreferrer\">examples</a> as well. </p>\n\n<p>The problem is that no matter how I do it, I get the error <code>Declaration or statement expected</code>.</p>\n\n<p>It really doesn't matter where I put it, clearly <code>import</code> as a function just isn't known to my environment (Angular 4.0.3, Angular CLI 1.0.1, TypeScript 2.2.2).</p>\n\n<p>...but just for the sake of providing an example, here's one:</p>\n\n<pre><code>import('./myModule').then( (myModule) =&gt; {\n\n//doesn't matter what is in here\n//Nor does it matter what module I try to import or how I refer to it - same error no matter what.\n});\n</code></pre>\n\n<p>It doesn't matter where this code is.  I want it in my <code>ngOnInit</code> method, but I've tried it just up with the rest of my imports as it appears in the example linked to.</p>\n\n<p>How do I use this feature?  Do I have to import something (yes, I see the irony in asking how to import my ability to import)? None of the examples show having to do anything other than just use it.</p>\n"}, {"tags": ["typescript", "type-definition"], "comments": [{"owner": {"reputation": 3150, "user_id": 3012550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e2667dc04d27136e29ccb9c9e19cfd3?s=128&d=identicon&r=PG", "display_name": "alexanderbird", "link": "https://stackoverflow.com/users/3012550/alexanderbird"}, "edited": false, "score": 1, "creation_date": 1493747230, "post_id": 43743798, "comment_id": 74531102, "body": "Wait a sec - looks like there are a handful of duplicates to this (I noticed after answering). What&#39;s wrong with <a href=\"http://stackoverflow.com/q/41891795/3012550\">stackoverflow.com/q/41891795/3012550</a>, <a href=\"http://stackoverflow.com/q/24029462/3012550\">stackoverflow.com/q/24029462/3012550</a>, etc.?"}, {"owner": {"reputation": 4006, "user_id": 208271, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02fd82768b314de2d7b1098b0923d1bd?s=128&d=identicon&r=PG", "display_name": "Loupax", "link": "https://stackoverflow.com/users/208271/loupax"}, "reply_to_user": {"reputation": 3150, "user_id": 3012550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e2667dc04d27136e29ccb9c9e19cfd3?s=128&d=identicon&r=PG", "display_name": "alexanderbird", "link": "https://stackoverflow.com/users/3012550/alexanderbird"}, "edited": false, "score": 0, "creation_date": 1493748025, "post_id": 43743798, "comment_id": 74531573, "body": "This didn&#39;t work for me until a few minutes ago where I switched my <code>compilerOptions.module</code> to <code>commonjs</code>. I find it a bit intrusive to having to change the settings of my project because of a single package but if this is the only way it will have to do I guess..."}], "answers": [{"comments": [{"owner": {"reputation": 4006, "user_id": 208271, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02fd82768b314de2d7b1098b0923d1bd?s=128&d=identicon&r=PG", "display_name": "Loupax", "link": "https://stackoverflow.com/users/208271/loupax"}, "edited": false, "score": 1, "creation_date": 1493839294, "post_id": 43744069, "comment_id": 74578131, "body": "Apparently this also works with multiple function definitions (function overloading)"}], "tags": [], "owner": {"reputation": 3150, "user_id": 3012550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e2667dc04d27136e29ccb9c9e19cfd3?s=128&d=identicon&r=PG", "display_name": "alexanderbird", "link": "https://stackoverflow.com/users/3012550/alexanderbird"}, "is_accepted": true, "score": 2, "last_activity_date": 1493746819, "creation_date": 1493746819, "answer_id": 43744069, "question_id": 43743798, "link": "https://stackoverflow.com/questions/43743798/cannot-add-module-declarations-to-node-package-that-exports-function/43744069#43744069", "title": "Cannot add module declarations to node package that exports function", "body": "<p>I believe you're looking for <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-function-d-ts.html\" rel=\"nofollow noreferrer\">this documentation</a></p>\n\n<pre><code>declare module 'zero-fill' {\n    function zeroFill() /* etc. */\n    export = zeroFill;\n\n    /* for any additional types */\n    namespace zeroFill {\n        interface FooBar { /* ... */ }\n    }\n}\n</code></pre>\n\n<p>then import it as:</p>\n\n<pre><code>import zeroFill = require('zero-fill');\n</code></pre>\n"}], "owner": {"reputation": 4006, "user_id": 208271, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02fd82768b314de2d7b1098b0923d1bd?s=128&d=identicon&r=PG", "display_name": "Loupax", "link": "https://stackoverflow.com/users/208271/loupax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 43744069, "answer_count": 1, "score": 1, "last_activity_date": 1493746819, "creation_date": 1493745724, "last_edit_date": 1493746052, "question_id": 43743798, "link": "https://stackoverflow.com/questions/43743798/cannot-add-module-declarations-to-node-package-that-exports-function", "title": "Cannot add module declarations to node package that exports function", "body": "<p>I started using Typescript recently and I came across the need to require an npm module inside my application. Since said npm module has no type definitions of it's own, I also decided to fork it and add my own. How hard can it be?</p>\n\n<p><a href=\"https://github.com/feross/zero-fill/blob/master/index.js\" rel=\"nofollow noreferrer\">Here</a> is the npm module I installed on my project:</p>\n\n<pre><code>/**\n * Given a number, return a zero-filled string.\n * From http://stackoverflow.com/questions/1267283/\n * @param  {number} width\n * @param  {number} number\n * @return {string}\n */\nmodule.exports = function zeroFill (width, number, pad) {\n  if (number === undefined) {\n    return function (number, pad) {\n      return zeroFill(width, number, pad)\n    }\n  }\n  if (pad === undefined) pad = '0'\n  width -= number.toString().length\n  if (width &gt; 0) return new Array(width + (/\\./.test(number) ? 2 : 1)).join(pad) + number\n  return number + ''\n}\n</code></pre>\n\n<p>Simple enough, it just exports a single function. Now let's see how to get typescript work with it...</p>\n\n<h1>Attempt #1:</h1>\n\n<p><strong>Definition</strong></p>\n\n<pre><code>declare module \"zero-fill\"{\n     export function zeroFill(width:number, num:number, pad?:string|number):string\n     export function zeroFill(width:number):{(num:number, pad?:string|number):string}\n}\n</code></pre>\n\n<p><strong>Source code</strong></p>\n\n<pre><code>import * as zeroFill from \"zero-fill\";\nconsole.log(zeroFill(10, 10));\n</code></pre>\n\n<p><strong>Generated code</strong></p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar zeroFill = require(\"zero-fill\");\nconsole.log(zeroFill(10, 10));\n</code></pre>\n\n<p>This one generates code that works, but at the same time gives an error. Also no autocomplete from my IDE.</p>\n\n<pre><code>Cannot invoke an expression whose type lacks a call signature. Type 'typeof \"zero-fill\"' has no compatible call signatures.\n</code></pre>\n\n<h1>Atempt #2</h1>\n\n<p><strong>Definition</strong></p>\n\n<pre><code>declare module \"zero-fill\"{\n     // Notice the default keywords\n     export default function zeroFill(width:number, num:number, pad?:string|number):string\n     export default function zeroFill(width:number):{(num:number, pad?:string|number):string}\n}\n</code></pre>\n\n<p><strong>Source</strong></p>\n\n<pre><code>import zeroFill from \"zero-fill\";\nconsole.log(zeroFill(10, 10));\n</code></pre>\n\n<p><strong>Generated</strong></p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar zero_fill_1 = require(\"zero-fill\");\nconsole.log(zero_fill_1[\"default\"](10, 10));\n</code></pre>\n\n<p>Here I prefer the syntax I use inside my typescript and the compiler seems to like it as well. Zero compiler errors and also type hinting works on IDEA. Too bad the generated code gives me an <code>TypeError: zero_fill_1.default is not a function</code> error when run...</p>\n\n<h1>Attempt #3</h1>\n\n<p><strong>Definition</strong></p>\n\n<pre><code>declare module \"zero-fill\"{\n    function zeroFill(width:number, num:number, pad?:string|number):string\n    function zeroFill(width:number):{(num:number, pad?:string|number):string}\n    export {zeroFill};\n}\n</code></pre>\n\n<p><strong>Source</strong></p>\n\n<pre><code>import {zeroFill} from \"zero-fill\";\nconsole.log(zeroFill(10, 10));\n</code></pre>\n\n<p><strong>Generated</strong></p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar zero_fill_1 = require(\"zero-fill\");\nconsole.log(zero_fill_1.zeroFill(10, 10));\n</code></pre>\n\n<p>Exactly the same as before... The compiler and IDE like this but the runtime doesn't</p>\n\n<p>I could go on but I believe you get the idea. Is it possible to make this npm module usable inside typescript without making changes to it's actual code? What am I doing wrong and how can I import this function properly?</p>\n"}, {"tags": ["typescript", "namespaces"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493754692, "post_id": 43743745, "comment_id": 74535175, "body": "Add <code>tsconfig.json</code> or all flags passed to <code>tsc</code> on the command line."}], "answers": [{"comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1493747425, "post_id": 43744139, "comment_id": 74531225, "body": "sorry no, that makes no difference. I&#39;ve even put the file in the same directory."}, {"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1493749870, "post_id": 43744139, "comment_id": 74532565, "body": "You may need to compile them all into one file using <code>--outfile</code> flag to <code>tsc</code> <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Namespaces.md\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript-Handbook/blob/master/pages/&hellip;</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493762035, "post_id": 43744139, "comment_id": 74538804, "body": "@AmrElAdawy outFile is completely unrelated"}, {"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 0, "creation_date": 1493783769, "post_id": 43744139, "comment_id": 74543882, "body": "I had tried it to compile ts into one js and it worked."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1493804046, "post_id": 43744139, "comment_id": 74553832, "body": "Upon closer inspection I think it&#39;s a bug in my gulpfile or with browserify. When I compile with the default tsc action it works! But when using browserify it fails. I followed this tutorial : <a href=\"https://www.typescriptlang.org/docs/handbook/gulp.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/gulp.html</a>"}], "tags": [], "owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "is_accepted": false, "score": 1, "last_activity_date": 1493750436, "last_edit_date": 1493750436, "creation_date": 1493747136, "answer_id": 43744139, "question_id": 43743745, "link": "https://stackoverflow.com/questions/43743745/typescript-namespace-cant-be-found-when-using-gulpbrowserify/43744139#43744139", "title": "Typescript namespace can&#39;t be found when using Gulp+Browserify", "body": "<p>I assume from your question that your folder structure as following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8Bax0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Bax0.png\" alt=\"folder structure\"></a></p>\n\n<p>Based on that you may try t set the reference as following</p>\n\n<pre><code>/// &lt;reference path=\"./test/example.ts\"/&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I had tried to export the namespaces and imported them. It worked fine inside an ionic sample project</p>\n\n<p><strong>example.ts</strong></p>\n\n<pre><code>export namespace Test { \n    export class Example {        \n        constructor() {           \n            console.log(\"example\");\n        }\n    } \n}\n</code></pre>\n\n<p><strong>game.ts</strong></p>\n\n<pre><code>import {Test} from \"./test/example\"/&gt;\nexport namespace Game {\n    export class Snippet {    \n        constructor() {\n            // Test is not found\n            let s = new Test.Example();\n        }\n    } \n}\n</code></pre>\n"}], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1493804260, "creation_date": 1493745490, "last_edit_date": 1493804260, "question_id": 43743745, "link": "https://stackoverflow.com/questions/43743745/typescript-namespace-cant-be-found-when-using-gulpbrowserify", "title": "Typescript namespace can&#39;t be found when using Gulp+Browserify", "body": "<p>I have been working with namespaces in a project, which is going fine, until all of a sudden this 'Test' namespace just can't be found. Am I missing something? </p>\n\n<pre><code>Can't find variable: Test in Game.ts\n</code></pre>\n\n<p><strong>example.ts</strong></p>\n\n<pre><code>namespace Test { \n    export class Example {        \n        constructor() {           \n            console.log(\"example\");\n        }\n    } \n}\n</code></pre>\n\n<p><strong>game.ts</strong></p>\n\n<pre><code>/// &lt;reference path=\"test/example.ts\"/&gt;\nnamespace Game {\n    export class Snippet {    \n        constructor() {\n            // Test is not found\n            let s = new Test.Example();\n        }\n    } \n}\n\n// Game.Snippet IS found\nwindow.addEventListener(\"load\", () =&gt; new Game.Snippet());\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Upon closer inspection I think it's a bug in my gulpfile or with browserify. When I compile with the default tsc action it works! But when using browserify it fails. I followed <a href=\"http://typescriptlang.org/docs/handbook/gulp.html\" rel=\"nofollow noreferrer\">this tutorial</a></p>\n\n<p><strong>Gulpfile.js</strong></p>\n\n<pre><code>var gulp = require(\"gulp\");\nvar browserify = require(\"browserify\");\nvar source = require('vinyl-source-stream');\nvar tsify = require(\"tsify\");\nvar uglify = require('gulp-uglify');\nvar sourcemaps = require('gulp-sourcemaps');\nvar buffer = require('vinyl-buffer');\n\ngulp.task(\"build\", function () {\n    return browserify({\n        basedir: '.',\n        debug: true,\n        entries: ['dev/main.ts'],\n        cache: {},\n        packageCache: {}\n    })\n    .plugin(tsify)\n    .bundle()\n    .pipe(source('main.js'))\n    .pipe(buffer())\n    .pipe(sourcemaps.init({loadMaps: true}))\n    .pipe(uglify())\n    .pipe(sourcemaps.write('./'))\n    .pipe(gulp.dest(\"docs/js\"));\n});\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.2"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6884348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b6509ac01fe63c7892d10f107773e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Nate Pinsky", "link": "https://stackoverflow.com/users/6884348/nate-pinsky"}, "edited": false, "score": 0, "creation_date": 1494625187, "post_id": 43903127, "comment_id": 74926523, "body": "Thanks! While this doesn&#39;t help me solve my problem, it does help me understand the underlying issues. Since posting, I&#39;ve used a combination of switch/if case-narrowing and <code>as Foo</code> to balance the type system with code readability."}], "tags": [], "owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "is_accepted": true, "score": 2, "last_activity_date": 1494462871, "last_edit_date": 1494462871, "creation_date": 1494452223, "answer_id": 43903127, "question_id": 43743657, "link": "https://stackoverflow.com/questions/43743657/linking-data-fields-with-discriminated-unions-causing-errors/43903127#43903127", "title": "Linking data fields with discriminated unions causing errors", "body": "<p>This is a limitation of TypeScript's type system. I'll simplify the code in your question to make the problem easier to spot:</p>\n\n<pre><code>function f(x: 'a' | 'b' | 'c'): { x: 'a' } | { x: 'b' } | { x: 'c' } {\n    return { x: x };\n}\n\n// Type '{ x: \"a\" | \"b\" | \"c\"; }' is not assignable to type '{ x: \"a\"; } | { x: \"b\"; } | { x: \"c\"; }'.\n</code></pre>\n\n<p>This error message is a little easier to understand. The type checker sees you using a value of type <code>'a' | 'b' | 'c'</code> as the <code>x</code> entry in the object, and infers a type of <code>{ x: 'a' | 'b' | 'c' }</code> for the expression. This is not the same type as <code>{ x: 'a' } | { x: 'b' } | { x: 'c' }</code>! In particular, the type checker doesn't understand that every possible value of type <code>'a' | 'b' | 'c'</code> does in fact produce a valid object of type <code>{ x: 'a' } | { x: 'b' } | { x: 'c' }</code>.</p>\n\n<p>So the compiler needs some help. We can get our ducks in a row by performing a case analysis before constructing the object:</p>\n\n<pre><code>function f(x: 'a' | 'b' | 'c'): { x: 'a' } | { x: 'b' } | { x: 'c' } {\n    switch (x)\n    {\n        case 'a': return { x: x };\n        case 'b': return { x: x };\n        case 'c': return { x: x };\n    }\n}\n</code></pre>\n\n<p>In each branch of the <code>case</code>, <code>x</code>'s type gets narrowed (to <code>'a'</code>, <code>'b'</code>, or <code>'c'</code>, respectively), so the returned expressions are of type <code>{ x: 'a' }</code>, <code>{ x: 'b' }</code> and <code>{ x: 'c' }</code>, respectively. These clearly do type check at <code>{ x: 'a' } | { x: 'b' } | { x: 'c' }</code>.</p>\n\n<p>If you really can't afford the extra keystrokes required for the <code>switch</code> statement, I think the simplest and most practical workaround is just to turn the type system off temporarily.</p>\n\n<pre><code>function f(x: 'a' | 'b' | 'c'): { x: 'a' } | { x: 'b' } | { x: 'c' } {\n    return &lt;any&gt;{ x: x };\n}\n</code></pre>\n\n<hr>\n\n<p>You might reasonably object that TypeScript <em>should</em> be able to tell that <code>{ x: 'a' | 'b' | 'c' }</code> is assignable to <code>{ x: 'a' } | { x: 'b' } | { x: 'c' }</code>. Think about this like a compiler writer: what would an algorithm to check types like that look like?</p>\n\n<ol>\n<li>Break up the union type <code>'a' | 'b' | 'c'</code> into its constituent literal types.</li>\n<li>Break up the result type <code>{ x: 'a' } | { x: 'b' } | { x: 'c' }</code> into its constituent object types.</li>\n<li>For each pair of types (<code>{x: x}</code>, <code>resultType</code>), compare the types to see if they're assignable.</li>\n</ol>\n\n<p>In pseudocode:</p>\n\n<pre><code>foreach (t: Type in 'a' | 'b' | 'c')\n{\n    var checks = false;\n    foreach (u: Type in { x: 'a' } | { x: 'b' } | { x: 'c' })\n    {\n        if ({ x: t } :&lt;= u)\n        {\n            checks = true;\n        }\n    }\n    if (!checks)\n    {\n        return false;\n    }\n}\nreturn true;\n</code></pre>\n\n<p>We've written an O(n^2) type checking algorithm! An alternative approach might be to put the types into a sum-of-products normal form - this would allow you to compare, say, <code>{ x: { y: 'a' | 'b' } | { y: 'c' | 'd' } }</code> with <code>{ x: { y: 'a' } } | { x: { y: 'b' } } | { x: { y: 'c' } } | { x: { y: 'd' } }</code> - but <a href=\"https://en.wikipedia.org/wiki/Conjunctive_normal_form#Conversion_into_CNF\" rel=\"nofollow noreferrer\">the normalisation algorithm blows up exponentially</a>, and you still wouldn't be able to handle recursive type synonyms.</p>\n\n<p>The moral of the story is, in practice type systems aren't <em>just</em> set theory. Just because two types contain the same set of values doesn't mean you should expect them to be judged equal by a machine. In the most advanced type systems - <em>dependent</em> type systems - it's common for the type checker to require a computational <em>proof</em> of your program's soundness. (For example, you may know the length of your array to be <code>n + m</code>, but if the type checker was expecting an array of length <code>m + n</code>, you have to write extra code to convince the machine that you've fulfilled your obligations.)</p>\n"}], "owner": {"reputation": 63, "user_id": 6884348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b6509ac01fe63c7892d10f107773e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Nate Pinsky", "link": "https://stackoverflow.com/users/6884348/nate-pinsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 2, "accepted_answer_id": 43903127, "answer_count": 1, "score": 4, "last_activity_date": 1494462871, "creation_date": 1493745116, "last_edit_date": 1493839823, "question_id": 43743657, "link": "https://stackoverflow.com/questions/43743657/linking-data-fields-with-discriminated-unions-causing-errors", "title": "Linking data fields with discriminated unions causing errors", "body": "\n\n<p>I'm working on an Ionic (3.0.0) app, and frequently want to link the types of two fields in a data <code>interface</code>. For example, a <code>NotificationData</code> has <code>verb: 'mention' | 'share' | ...</code> and <code>reference: ProfileReference | DocumentReference | ...</code> fields, but really, a <code>NotificationData</code> is a union type:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>{ verb: 'mention', reference: ProfileReference } | { verb: 'share', reference: DocumentReference }\n</code></pre>\n\n<p>So far, so good. There are other fields that don't change with <code>verb</code>, so I usually create a base interface, extend it in different ways, and then take the union, like so:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>type X = 'a' | 'b' | 'c';\ntype Y = 'd' | 'e' | 'f';\n\ninterface I { x: X, other: Y };\ninterface A extends I { x: 'a', other: 'd' };\ninterface B extends I { x: 'b', other: 'e' };\ninterface C extends I { x: 'c', other: 'f' };\ntype J = A | B | C;\n</code></pre>\n\n<p>This is fine as long as I'm hard-coding the data</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const j: J = { x: 'a', other: 'd' } // OK\n</code></pre>\n\n<p>or generating an entire  from a <code>switch</code></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>function f(x: X): J {\n  switch (x) {\n    case 'a': return { x, other: 'd' };\n    case 'b': return { x, other: 'e' };\n    case 'c': return { x, other: 'f' };\n    default: ((y: never) =&gt; {})(x);\n  }\n}\n// OK\n</code></pre>\n\n<p>But if I try to generate it another way, Typescript is complains:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>function other(x: X): Y {\n  switch (x) {\n    case 'a': return 'd';\n    case 'b': return 'e';\n    case 'c': return 'f';\n    default: ((y: never) =&gt; {})(x);\n  }\n}\n\nfunction g(x: X): J {\n  return { x, other: other(x) }\n}\n// Error:\n// Type '{ x: X; other: number; }' is not assignable to type Z.\n//   Type '{ x: X; other: number; }' is not assignable to type 'C'.\n//     Types of property 'x' are incompatible.\n//       Type 'X' is not assignable to type '\"c\"'.\n//         Type '\"a\"' is not assignable to type '\"c\"'.\n</code></pre>\n\n<p>In fact, these errors come up even if there's no linking of data fields:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface I2 { x: X, other: any };\ninterface A2 extends I2 { x: 'a' };\ninterface B2 extends I2 { x: 'b' };\ninterface C2 extends I2 { x: 'c' };\ntype J2 = A2 | B2 | C2;\n\nfunction h(x: X): J2 { return { x, other: 0 }; }\n// Error:\n// Type '{ x: X; other: number; }' is not assignable to type J2.\n//   Type '{ x: X; other: number; }' is not assignable to type 'C2'.\n//     Types of property 'x' are incompatible.\n//       Type 'X' is not assignable to type '\"c\"'.\n//         Type '\"a\"' is not assignable to type '\"c\"'.\n</code></pre>\n\n<p>I could just use <code>I</code> in my type signatures</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const xs: X[] = ['a', 'b', 'c'];\nconst is: I2[] = xs.map(x =&gt; ({ x, other: 0 })) // OK\n</code></pre>\n\n<p>but this loses the linking of fields that I wanted in the first place. I could also just always use a <code>switch</code> as in <code>function f</code> above, e.g.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const js: J[] = xs.map(f); // OK\n</code></pre>\n\n<p>but I'd like to be able to do this without creating a separate function, like</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const j2s: J2[] = xs.map(x =&gt; ({ x, other: 0 }))\n// Error: ... Type '\"a\"' is not assignable to type '\"c\"'.\n</code></pre>\n\n<p>and anyway, this feels like something that Typescript should be able to express/handle.</p>\n\n<p>So my question is, <strong>is there a better way to express this linked-field type information in Typescript?</strong> Or another way to procedurally generate a <code>J[]</code> from an <code>X[]</code>?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1493745148, "post_id": 43743454, "comment_id": 74530071, "body": "If I remember right, <code>File</code> is a subclass of <code>Blob</code>, so you shouldn&#39;t even need to use <code>FileReader</code>, it just already is a <code>Blob</code>. You could always cast to an <code>any</code> though if Typescript has issues with it."}], "answers": [{"tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1493767613, "creation_date": 1493767613, "answer_id": 43748768, "question_id": 43743454, "link": "https://stackoverflow.com/questions/43743454/how-to-convert-a-file-to-a-blob-in-javascript-without-filereader/43748768#43748768", "title": "How to convert a File to a Blob in Javascript without FileReader?", "body": "<p>You can always augment the declaration in lib.d.ts with an overload accepting a <code>File</code>.</p>\n\n<p>For example, create a file named <code>globals.d.ts</code> with the following content</p>\n\n<pre><code>interface FileReader {\n    readAsArrayBuffer(file: File): void;\n}\n</code></pre>\n\n<p>That said, if the declaration was changed, I would be wary of this behavior as some environments likely do not support it.</p>\n"}], "owner": {"reputation": 2060, "user_id": 1438462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/773d599322a9eba7afa6a6fa49209d8f?s=128&d=identicon&r=PG", "display_name": "akz92", "link": "https://stackoverflow.com/users/1438462/akz92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493767613, "creation_date": 1493744385, "question_id": 43743454, "link": "https://stackoverflow.com/questions/43743454/how-to-convert-a-file-to-a-blob-in-javascript-without-filereader", "title": "How to convert a File to a Blob in Javascript without FileReader?", "body": "<p>I'm trying to convert a File into a Blob without using FileReader. I can't use FileReader because the latest version of Typescript (which I must use) doesn't accept a File as the parameter to <code>fileReader.readAsArrayBuffer()</code>.</p>\n\n<p>Using FileReader I can do it as follows:</p>\n\n<pre><code>var reader = new FileReader();\n\nreader.onloadend = function(e) {\n  new Blob([ this.result ], { type: \"image/jpeg\" } );\n};\n\nreader.readAsArrayBuffer(file);\n</code></pre>\n\n<p>How can I achieve the same result without FileReader?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2173, "user_id": 1804656, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/47ea159b5819a724a31a95f8dd1fc037?s=128&d=identicon&r=PG", "display_name": "kyle", "link": "https://stackoverflow.com/users/1804656/kyle"}, "edited": false, "score": 0, "creation_date": 1493743941, "post_id": 43743276, "comment_id": 74529438, "body": "What is this.authenticate?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1493743942, "post_id": 43743276, "comment_id": 74529440, "body": "can you use <code>async</code>/<code>await</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "is_accepted": true, "score": 3, "last_activity_date": 1493744851, "creation_date": 1493744851, "answer_id": 43743578, "question_id": 43743276, "link": "https://stackoverflow.com/questions/43743276/return-the-correct-observableresponse-and-not-the-promise-itself/43743578#43743578", "title": "Return the correct Observable&lt;Response&gt; and not the Promise itself", "body": "<p>get method should return Observable. It calls getWithAdal method and returns immediately the object returned by getWithAdal. So getWithAdal should also return Observable.</p>\n\n<p>Use Observable.fromPromise to convert promise to Observable, change signature of getWithAdal method to return Observable</p>\n\n<pre><code>    get(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt; {\n      return this.getWithAdal(url, options); // &lt;-- ERROR HERE\n    }\n\n    private getWithAdal(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt; {\n      return Observable.fromPromise(new Promise((resolve, reject) =&gt; {\n        // just make it simpler for the example.... keep your code here as is\n        let options = {headers: new Headers()};\n        options.headers.set('Authorization', 'Bearer ');\n        resolve(super.get(url, options));\n      }));\n    }\n</code></pre>\n"}], "owner": {"reputation": 1944, "user_id": 1115367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d62wl.png?s=128&g=1", "display_name": "Kid Diamond", "link": "https://stackoverflow.com/users/1115367/kid-diamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 43743578, "answer_count": 1, "score": 1, "last_activity_date": 1493744851, "creation_date": 1493743736, "question_id": 43743276, "link": "https://stackoverflow.com/questions/43743276/return-the-correct-observableresponse-and-not-the-promise-itself", "title": "Return the correct Observable&lt;Response&gt; and not the Promise itself", "body": "<p>I'm making an HTTP request interceptor and I'm overriding the <code>Http</code> module <code>get</code> method so I can automatically add a JWT token to the headers.</p>\n\n<p>I've tried it with the following code, but I get the following error when returning from the method:</p>\n\n<blockquote>\n  <p>Type <code>Promise&lt;Observable&lt;Response&gt;&gt;</code> is not assignable to type <code>Observable&lt;Response&gt;</code>.</p>\n</blockquote>\n\n<p>Even when I try to return it within a <code>then()</code> it gives me the same error.</p>\n\n<p>How can I get the correct <code>Observable&lt;Response&gt;</code> and return it?</p>\n\n<pre><code>// ...\n\n@Injectable()\nexport class AdalHttp extends Http {\n  constructor(backend: ConnectionBackend, defaultOptions: RequestOptions) {\n    super(backend, defaultOptions);\n  }\n\n  get(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt; {\n    return this.getWithAdal(url, options); // &lt;-- ERROR HERE\n  }\n\n  private getWithAdal(url: string, options?: RequestOptionsArgs): Promise&lt;Observable&lt;Response&gt;&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      this.authenticate((authResponse) =&gt; {\n        if (!options) {\n          options = { headers: new Headers() };\n        }\n\n        options.headers.set('Authorization', 'Bearer ' + authResponse.accessToken);\n\n        resolve(super.get(url, options));\n      }, err =&gt; reject(err));\n    });\n  }\n\n  // ...\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "error-handling", "jasmine", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "edited": false, "score": 0, "creation_date": 1493773891, "post_id": 43747969, "comment_id": 74541781, "body": "Hi there! Thanks about that. I tried, as stated in my question, this approach. I use Jasmine and I can&#39;t manage to test if my observable actually threw error."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "edited": false, "score": 0, "creation_date": 1493778294, "post_id": 43747969, "comment_id": 74542668, "body": "I think for Jasmine, you need call <code>done</code> in the error hander"}, {"owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "edited": false, "score": 0, "creation_date": 1493814712, "post_id": 43747969, "comment_id": 74561369, "body": "I still struggle making this to work. done method doesn&#39;t seems adapted. I will dive into documentation deeply."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1493762631, "creation_date": 1493762631, "answer_id": 43747969, "question_id": 43742885, "link": "https://stackoverflow.com/questions/43742885/how-to-test-jasmine-a-service-actually-handles-the-error-on-mocked-http-error/43747969#43747969", "title": "How to test (Jasmine) a service actually handles the error on mocked HTTP error", "body": "<p>That assertion helper isn't going to work because the error gets wrapped and propagated through the Observable's error notification channel.</p>\n\n<p>For this to work you need to subscribe to the observable and assert accordingly</p>\n\n<pre><code>service.getListActivities().subscribe(\n  () =&gt; test.failure('expected an error but observable terminated successfully.'),\n\n  () =&gt; test.success('observable threw an error as expected.')\n);\n</code></pre>\n\n<p>The example is generalized as the specific helpers that you call will depend on the test framework in use.</p>\n"}], "owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1814, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1493809025, "creation_date": 1493742330, "last_edit_date": 1493809025, "question_id": 43742885, "link": "https://stackoverflow.com/questions/43742885/how-to-test-jasmine-a-service-actually-handles-the-error-on-mocked-http-error", "title": "How to test (Jasmine) a service actually handles the error on mocked HTTP error", "body": "<p>I have an Angular service, generated through Swagger.</p>\n\n<p>The service just makes an HTTP call and return a list of Users. I managed to properly code tests case for \"success\" calls.</p>\n\n<p>However, I struggle making the test for \"fail\" cases. </p>\n\n<p>I tried to simply call the function and by Mocking a response, creating an \"errored\" response, but it doesn't seem to be able to detect an Exception was actually thrown.</p>\n\n<p>Below you will find both the Service and my test case:</p>\n\n<h2>service.ts</h2>\n\n<pre><code>getListUsers(): Observable&lt;UsersListModel | null&gt; {\n    let url_ = this.baseUrl + \"/api/users\";\n    url_ = url_.replace(/[?&amp;]$/, \"\");\n\n    const content_ = \"\";\n\n    let options_ = {\n        body: content_,\n        method: \"get\",\n        headers: new Headers({\n            \"Content-Type\": \"application/json; charset=UTF-8\", \n            \"Accept\": \"application/json; charset=UTF-8\"\n        })\n    };\n\n    return this.http.request(url_, options_).flatMap((response_) =&gt; {\n        return this.processGetListUsers(response_);\n    }).catch((response_: any) =&gt; {\n        if (response_ instanceof Response) {\n            try {\n                return this.processGetListActivities(response_);\n            } catch (e) {\n                return &lt;Observable&lt;UsersListModel&gt;&gt;&lt;any&gt;Observable.throw(e);\n            }\n        } else\n            return &lt;Observable&lt;UsersListModel&gt;&gt;&lt;any&gt;Observable.throw(response_);\n    });\n}\n\nprotected processGetListUsers(response: Response): Observable&lt;UsersListModel | null&gt; {\n    const status = response.status; \n\n    if (status === 200) {\n        const responseText = response.text();\n        let result200: UsersListModel | null = null;\n        let resultData200 = responseText === \"\" ? null : JSON.parse(responseText, this.jsonParseReviver);\n        result200 = resultData200 ? UsersListModel.fromJS(resultData200) : &lt;any&gt;null;\n        return Observable.of(result200);\n    } else if (status !== 200 &amp;&amp; status !== 204) {\n        const responseText = response.text();\n        return throwException(\"An unexpected server error occurred.\", status, responseText);\n    }\n    return Observable.of&lt;UsersListModel | null&gt;(&lt;any&gt;null);\n}\n</code></pre>\n\n<h2>spec file</h2>\n\n<pre><code>describe('ERROR on Get Users List', () =&gt; {\n    let backend: MockBackend;\n    let service: UserService;\n    let response: Response;\n\n    beforeEach(async(() =&gt; {    \n      TestBed.configureTestingModule({\n        imports: [HttpModule],\n        providers: [\n          MockBackend,\n          { provide: XHRBackend, useClass: MockBackend },\n\n          UserService\n        ]\n      });\n    }));\n\n    beforeEach(inject([Http, XHRBackend], (http: Http, be: MockBackend) =&gt; {\n      backend = be;\n      service = new UserService(http);\n      let options = new ResponseOptions({status: 500, body: 'API Error'});\n      response = new Response(options);\n    }));\n\n    it('should handle an API error on getListUsers()', async(inject([], () =&gt; {\n        backend.connections.subscribe((c: MockConnection) =&gt; {\n          c.mockRespond(response);\n        });\n\n        expect(() =&gt; service.getListUsers()).toThrowError();\n      }))\n    );\n\n  });\n</code></pre>\n\n<p>With this test case, the test fails without more information:</p>\n\n<blockquote>\n  <p>Expected function to throw an Error.</p>\n</blockquote>\n\n<p>I even tried to use the subscription to detect something:</p>\n\n<pre><code>it('should handle an API error on getListUsers()', async(inject([], () =&gt; {\n    backend.connections.subscribe((c: MockConnection) =&gt; {\n      c.mockRespond(response);\n    });\n\n    spyOn(console, 'error');\n\n    service.getListUsers()\n      .subscribe(\n      res =&gt; {},\n      err =&gt; { \n        console.error(err)\n      });\n\n    expect(console.error).toHaveBeenCalled();\n  }))\n);\n</code></pre>\n\n<p>Here I can see the error thrown in console, but the console.error is never triggered.</p>\n\n<p>So, maybe my test case is not appropriate.</p>\n"}, {"tags": ["typescript", "ecmascript-6", "typescript2.2", "class-validator"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 3825186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/leqz4.png?s=128&g=1", "display_name": "TheRennen", "link": "https://stackoverflow.com/users/3825186/therennen"}, "edited": false, "score": 0, "creation_date": 1593695205, "post_id": 43743036, "comment_id": 110874211, "body": "What about method decorators?"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 3, "last_activity_date": 1493742885, "creation_date": 1493742885, "answer_id": 43743036, "question_id": 43742615, "link": "https://stackoverflow.com/questions/43742615/is-it-possible-to-pass-typescript-decorator-object-values-in-at-runtime/43743036#43743036", "title": "Is it possible to pass Typescript decorator object values in at runtime?", "body": "<p>No, you can't do that.<br>\nDecorators are applied to the classes and not the instances, meaning that there's no <code>this</code> when the decorator function is invoked.</p>\n\n<p>Using a static value will work:</p>\n\n<pre><code>@MinDate(new Date(12/22/2017));\n</code></pre>\n\n<p>But you can't use an instance member for it.</p>\n\n<p>You can do that in the constructor without a decorator:</p>\n\n<pre><code>export default class Order {\n    ...\n    constructor() {\n        this.purchaseDate = ...\n        this.receiptDate = this.purchaseDate;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1194, "user_id": 9110955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pxFxr.jpg?s=128&g=1", "display_name": "Ilarion Halushka", "link": "https://stackoverflow.com/users/9110955/ilarion-halushka"}, "is_accepted": false, "score": 2, "last_activity_date": 1585324192, "creation_date": 1585324192, "answer_id": 60889472, "question_id": 43742615, "link": "https://stackoverflow.com/questions/43742615/is-it-possible-to-pass-typescript-decorator-object-values-in-at-runtime/60889472#60889472", "title": "Is it possible to pass Typescript decorator object values in at runtime?", "body": "<p>It's possible using a custom validator:</p>\n\n<pre><code>    import {registerDecorator, ValidationOptions, ValidationArguments} from \"class-validator\";\n\nexport function IsGreaterThan(property: string, validationOptions?: ValidationOptions) {\n   return function (object: Object, propertyName: string) {\n        registerDecorator({\n            name: \"IsGreaterThan\",\n            target: object.constructor,\n            propertyName: propertyName,\n            constraints: [property],\n            options: validationOptions,\n            validator: {\n                validate(value: any, args: ValidationArguments) {\n                    const [relatedPropertyName] = args.constraints;\n                    const relatedValue = args.object[relatedPropertyName];\n                    return value &gt; relatedValue;\n                }\n            }\n        });\n   };\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>import { IsGreaterThan } from \"./IsLongerThan\";\n\nexport class Post {\n    purchaseDate: string;\n\n    @IsGreaterThan(\"purchaseDate\", { message: \"receiptDate must be greater than purchaseDate\" })\n    text: string;\n}\n</code></pre>\n\n<p>More details can be found in documentation: <a href=\"https://github.com/typestack/class-validator#custom-validation-decorators\" rel=\"nofollow noreferrer\">https://github.com/typestack/class-validator#custom-validation-decorators</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1535, "favorite_count": 0, "accepted_answer_id": 43743036, "answer_count": 2, "score": 3, "last_activity_date": 1585324192, "creation_date": 1493741492, "last_edit_date": 1493742456, "question_id": 43742615, "link": "https://stackoverflow.com/questions/43742615/is-it-possible-to-pass-typescript-decorator-object-values-in-at-runtime", "title": "Is it possible to pass Typescript decorator object values in at runtime?", "body": "<p>I have a class that is decorated with a @MinDate constraint like this:</p>\n\n<pre><code>export default class Order {\n   purchaseDate: Date;\n   @MinDate(this.purchaseDate)\n   receiptDate: Date;\n}\n</code></pre>\n\n<p>When attempting to validate an instance of <code>Order</code> that is valid the validation errors out.  My question is is it even possible / valid to pass in <code>this.purchaseDate</code> as an argument to the <code>@MinDate()</code> decorator.</p>\n\n<p>In other words can typescript decorators receive runtime values from an object, or do these values have to be available at compile time?  So for example:</p>\n\n<pre><code>@MinDate(new Date(12/22/2017));  //This should work?\n@MinDate(this.someDate) // This will never work?\n</code></pre>\n"}, {"tags": ["visual-studio", "typescript", "jasmine", "resharper"], "comments": [{"owner": {"reputation": 1122, "user_id": 3051702, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/7r6B2.png?s=128&g=1", "display_name": "fractor", "link": "https://stackoverflow.com/users/3051702/fractor"}, "edited": false, "score": 0, "creation_date": 1497863029, "post_id": 43742563, "comment_id": 76238246, "body": "Did you find a resolution for this?"}], "owner": {"reputation": 31, "user_id": 7890251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5286a3e7ea89a8b05d4a857ed694f04?s=128&d=identicon&r=PG&f=1", "display_name": "jseigal300", "link": "https://stackoverflow.com/users/7890251/jseigal300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1497874873, "creation_date": 1493741312, "question_id": 43742563, "link": "https://stackoverflow.com/questions/43742563/running-jasmine-through-visual-studio-2017-with-resharper", "title": "Running Jasmine through Visual Studio 2017 (with ReSharper)", "body": "<p>I am attempting to run Jasmine automation against Angular2/Typescript in Visual Studio 2017.  The Test Runner fires off just fine but all tests are ignored saying the task skipped on a Timeout.  This is instantaneous, no way it hit a timeout.  I have a <code>&lt;reference path=\"......\"&gt;</code> pointing at the Typings index.d.ts without luck.  Does anyone have any experience here?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "input", "angular2-forms"], "comments": [{"owner": {"reputation": 3004, "user_id": 1222409, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/V9zJF.jpg?s=128&g=1", "display_name": "m.spyratos", "link": "https://stackoverflow.com/users/1222409/m-spyratos"}, "edited": false, "score": 0, "creation_date": 1493741764, "post_id": 43742531, "comment_id": 74528200, "body": "What is exactly the problem you are facing? Have you tried using <code>String</code> to store the time? If in doubt, visit the <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\">documentation</a>."}, {"owner": {"reputation": 1301, "user_id": 5796045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6bbd7afe477d7e17ada9cd6f36e1f150?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaDeveloper", "link": "https://stackoverflow.com/users/5796045/ninjadeveloper"}, "reply_to_user": {"reputation": 3004, "user_id": 1222409, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/V9zJF.jpg?s=128&g=1", "display_name": "m.spyratos", "link": "https://stackoverflow.com/users/1222409/m-spyratos"}, "edited": false, "score": 0, "creation_date": 1493742322, "post_id": 43742531, "comment_id": 74528527, "body": "@m.spyratos . HTML 5 have input type time. just I want to ask how to make  it work with typescript and angular 2"}, {"owner": {"reputation": 3004, "user_id": 1222409, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/V9zJF.jpg?s=128&g=1", "display_name": "m.spyratos", "link": "https://stackoverflow.com/users/1222409/m-spyratos"}, "edited": false, "score": 0, "creation_date": 1493743578, "post_id": 43742531, "comment_id": 74529224, "body": "Time is the input type. The result of the input though, is String. So you need to have <code>public startDateTime: String;</code>. You can see this by doing the following: <code>console.log(typeof this.startDateTime);</code>"}, {"owner": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493745454, "post_id": 43742531, "comment_id": 74530239, "body": "<code>type</code> is a native attribute of <code>&lt;input&gt;</code> that can have many values including the string <code>time</code> to denote an input of type &quot;time&quot;. Can you provide more detail on what you mean by : &quot;how to make it work with typescript and angular 2 &quot;"}, {"owner": {"reputation": 3037, "user_id": 3705131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0cf944c9672c405eced5e161d67643?s=128&d=identicon&r=PG", "display_name": "cajuuh", "link": "https://stackoverflow.com/users/3705131/cajuuh"}, "edited": false, "score": 0, "creation_date": 1526582550, "post_id": 43742531, "comment_id": 87812636, "body": "type=time in angular5 does not return a string or can&#39;t be binded to it, i&#39;m facing the same trouble."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11782323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t2XSX.jpg?s=128&g=1", "display_name": "edmakalla", "link": "https://stackoverflow.com/users/11782323/edmakalla"}, "is_accepted": true, "score": 2, "last_activity_date": 1568924243, "creation_date": 1568924243, "answer_id": 58018417, "question_id": 43742531, "link": "https://stackoverflow.com/questions/43742531/make-input-type-time-work-with-typescript-and-angular2/58018417#58018417", "title": "Make input type time work with TypeScript and Angular2?", "body": "<p>I know it's kind of late, but it can help someone anyways. Input type \"time\" outputs a string representation of of the time you entered. If you aim to get a typescript Date object from this \"time\" string (for some reasons), I would recommend you to take a look at the input type <a href=\"https://www.w3schools.com/tags/att_input_type_datetime-local.asp\" rel=\"nofollow noreferrer\">datetime-local</a> and then convert its value to typescript Date object as <code>new Date(your_input_value)</code>.\nHere is a sample code (I'm using reactive forms and angular material):</p>\n\n<pre><code>&lt;form [formGroup]=\"meetingForm\" novalidate autocomplete=\"off\"&gt;\n.............. other input fields .....................\n&lt;input matInput \ntype=\"datetime-local\" \nplaceholder=\"Start Time\" \nformControlName=\"meetingStartTime\"&gt;\n....................................\n&lt;/form&gt;\n</code></pre>\n\n<p>Then part of the component class will look something similar to this</p>\n\n<pre><code>.........other codes................\nconstructor(formBuilder:FormBuilder, ...){}\n...............................\nlet meetingStartTimeFormControl = this.meetingForm.get('meetingStartTime') as FormControl;\nthis.startDateTime = new Date(this.meetingStartTimeFormControl.value);\nconsole.log(this.startDateTime)\n</code></pre>\n"}], "owner": {"reputation": 1301, "user_id": 5796045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6bbd7afe477d7e17ada9cd6f36e1f150?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaDeveloper", "link": "https://stackoverflow.com/users/5796045/ninjadeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3233, "favorite_count": 1, "accepted_answer_id": 58018417, "answer_count": 1, "score": 2, "last_activity_date": 1568924243, "creation_date": 1493741229, "last_edit_date": 1493742679, "question_id": 43742531, "link": "https://stackoverflow.com/questions/43742531/make-input-type-time-work-with-typescript-and-angular2", "title": "Make input type time work with TypeScript and Angular2?", "body": "<p>On my EventCreate's TypeScript class, I have <code>startDateTime</code> and <code>endDateTime</code> properties with the datatype <code>Date</code>. HTML5 uses the input type <code>time</code> to get the time. I just want to ask: how do I make input type <code>time</code> work with TypeScript and Angular2?</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { EventCreate } from './eventCreate';\n\n\n@Component({\n    selector: 'add-Event',\n    templateUrl: './event-add.component.html',\n})\n\nexport class EventAddComponent {\n    title: string;\n    description: string;\n    locationId: number;\n    locationDetails: string;\n    categoryId: number;\n    isRegistrationRequired: boolean;\n    eventDate: Date;\n    startDateTime: Date;\n    endDateTime: Date;\n    maximumRegistrants: number;\n\n    newEvent: EventCreate;\n\n    constructor(private router: Router) { }\n\n    createNewEvent() {\n        console.log('new Event Created');\n        this.newEvent = new EventCreate(\n            this.title,\n            this.description,\n            this.locationId,\n            this.locationDetails,\n            this.categoryId,\n            this.isRegistrationRequired,\n            this.eventDate,\n            this.startDateTime,\n            this.endDateTime,\n            this.maximumRegistrants\n        );\n        console.log(this.newEvent);\n        //call service\n        //call route to go to Home page \n        this.router.navigate(['/home']);\n    }\n    cancel() {\n        this.router.navigate(['/home']);\n    }\n}\n    export class EventCreate {\n        constructor(\n            public title: string,\n            public description: string,\n            public locationId: number,\n            public locationDetails: string,\n            public categoryId: number,\n            public isRegistrationRequired: boolean,\n            public eventDate: Date,\n            public startDateTime: Date,\n            public endDateTime: Date,\n            public maximumRegistrants: number,\n        ) { }\n    }\n\n&lt;form&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;Start Time:&lt;/label&gt;\n        &lt;input type=\"time\" name=\"startDateTime\" [(ngModel)]=\"startDateTime\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;End Time:&lt;/label&gt;\n        &lt;input type=\"time\" name=\"endDateTime\" [(ngModel)]=\"endDateTime\"&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1201, "user_id": 7331574, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-leGQEuZfuC0/AAAAAAAAAAI/AAAAAAAAD1s/C902v8Wncr0/photo.jpg?sz=128", "display_name": "Sumit Ridhal", "link": "https://stackoverflow.com/users/7331574/sumit-ridhal"}, "edited": false, "score": 1, "creation_date": 1493739989, "post_id": 43742024, "comment_id": 74527206, "body": "Are you initializing the in NgxGalleryModule  in  <code>constructor</code>?"}, {"owner": {"reputation": 2193, "user_id": 7381252, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9Zj9s.jpg?s=128&g=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/7381252/moshe"}, "reply_to_user": {"reputation": 1201, "user_id": 7331574, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-leGQEuZfuC0/AAAAAAAAAAI/AAAAAAAAD1s/C902v8Wncr0/photo.jpg?sz=128", "display_name": "Sumit Ridhal", "link": "https://stackoverflow.com/users/7331574/sumit-ridhal"}, "edited": false, "score": 0, "creation_date": 1493740939, "post_id": 43742024, "comment_id": 74527768, "body": "@SumitRidhal, no I am not, when I do initialize it in the constructor, what is the next step? Thanks"}, {"owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 0, "creation_date": 1493742591, "post_id": 43742024, "comment_id": 74528706, "body": "Probably this lib just do setting in OnInit and does not process onChanges. Open an issue on github for this lib"}, {"owner": {"reputation": 2193, "user_id": 7381252, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9Zj9s.jpg?s=128&g=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/7381252/moshe"}, "reply_to_user": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "edited": false, "score": 0, "creation_date": 1493921979, "post_id": 43742024, "comment_id": 74620790, "body": "@JuliaPassynkova, thanks for the suggestion - he looked into it!"}], "answers": [{"comments": [{"owner": {"reputation": 2193, "user_id": 7381252, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9Zj9s.jpg?s=128&g=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/7381252/moshe"}, "edited": false, "score": 0, "creation_date": 1493929663, "post_id": 43790535, "comment_id": 74625176, "body": "Thanks, reached out to the dev and he implemented it right away. Kudos for real life experience"}], "tags": [], "owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "is_accepted": true, "score": 2, "last_activity_date": 1493923389, "creation_date": 1493923389, "answer_id": 43790535, "question_id": 43742024, "link": "https://stackoverflow.com/questions/43742024/dynamic-images-with-angular-and-ngx-gallery/43790535#43790535", "title": "Dynamic images with angular and ngx-gallery", "body": "<p>Probably this lib just do setting in OnInit and does not process onChanges. Open an issue on github for this lib.</p>\n"}], "owner": {"reputation": 2193, "user_id": 7381252, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9Zj9s.jpg?s=128&g=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/7381252/moshe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2111, "favorite_count": 0, "accepted_answer_id": 43790535, "answer_count": 1, "score": 0, "last_activity_date": 1493923389, "creation_date": 1493739630, "question_id": 43742024, "link": "https://stackoverflow.com/questions/43742024/dynamic-images-with-angular-and-ngx-gallery", "title": "Dynamic images with angular and ngx-gallery", "body": "<p>I have integrated <a href=\"https://github.com/lukasz-galka/ngx-gallery\" rel=\"nofollow noreferrer\">ngx-gallery</a> into my project.</p>\n\n<p>My component now looks like this:</p>\n\n<pre><code>&lt;div class=\"page-content\"&gt;\n &lt;ngx-gallery [options]=\"galleryOptions\" [images]=\"galleryImages\" fxFlex=\"70\"&gt;&lt;/ngx-gallery&gt;\n &lt;button (click)=\"updateGallery()\"&gt;CLICK!&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I am trying to use the following function in order to update my gallery: </p>\n\n<pre><code>  updateGallery(): void {\n      this.galleryImages = this.galleryImagesCache.slice(0, Math.floor(Math.random() * (15 - 1)) + 1);\n  }\n</code></pre>\n\n<p>However, it appears once the ngx-gallery component is initialized, it will not update it's contents. Any advice would be greatly appreciated.</p>\n"}, {"tags": ["angular", "typescript", "angular2-template", "ngonchanges"], "comments": [{"owner": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "edited": false, "score": 0, "creation_date": 1493738232, "post_id": 43741424, "comment_id": 74526046, "body": "Are none of the bindings to the <code>percentLoaded</code> field updating in the view or just some of them?"}, {"owner": {"reputation": 111, "user_id": 3300154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613898af58553cbf7e606b1f96ea8575?s=128&d=identicon&r=PG&f=1", "display_name": "slander", "link": "https://stackoverflow.com/users/3300154/slander"}, "reply_to_user": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "edited": false, "score": 0, "creation_date": 1493738665, "post_id": 43741424, "comment_id": 74526324, "body": "None of the bindings are showing up in the view before the observable is complete. I set this.percentLoaded = 0 in the callback for the completion of the observable. That one is shown in the view.  If I remove that line, the view is updated to show 100, the last value that was pushed from the observable."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 3300154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613898af58553cbf7e606b1f96ea8575?s=128&d=identicon&r=PG&f=1", "display_name": "slander", "link": "https://stackoverflow.com/users/3300154/slander"}, "edited": false, "score": 0, "creation_date": 1493738833, "post_id": 43741634, "comment_id": 74526437, "body": "When I do that, the view still doesn&#39;t update during the execution of the observable. It picks up 100 (the last value that is returned) and updates the view to show that, but only after the observable has completed."}, {"owner": {"reputation": 111, "user_id": 3300154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613898af58553cbf7e606b1f96ea8575?s=128&d=identicon&r=PG&f=1", "display_name": "slander", "link": "https://stackoverflow.com/users/3300154/slander"}, "edited": false, "score": 0, "creation_date": 1493741005, "post_id": 43741634, "comment_id": 74527815, "body": "So you&#39;re saying that change detection is still not triggered here?  In the code above, I log every time the OnChanges hook was reached. It showed every intermediate value between 0 and 100. If you&#39;re saying that change detection is still not being triggered then I am confused as to what the OnChanges hook means."}, {"owner": {"reputation": 3894, "user_id": 4662410, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tl4MV.png?s=128&g=1", "display_name": "Yevgen", "link": "https://stackoverflow.com/users/4662410/yevgen"}, "reply_to_user": {"reputation": 111, "user_id": 3300154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613898af58553cbf7e606b1f96ea8575?s=128&d=identicon&r=PG&f=1", "display_name": "slander", "link": "https://stackoverflow.com/users/3300154/slander"}, "edited": false, "score": 0, "creation_date": 1493741243, "post_id": 43741634, "comment_id": 74527926, "body": "<a href=\"https://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html#reducing-the-number-of-checks\" rel=\"nofollow noreferrer\">blog.thoughtram.io/angular/2016/02/22/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3894, "user_id": 4662410, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tl4MV.png?s=128&g=1", "display_name": "Yevgen", "link": "https://stackoverflow.com/users/4662410/yevgen"}, "is_accepted": false, "score": 0, "last_activity_date": 1493740092, "last_edit_date": 1493740092, "creation_date": 1493738418, "answer_id": 43741634, "question_id": 43741424, "link": "https://stackoverflow.com/questions/43741424/angular-ngonchanges-not-updating-view/43741634#43741634", "title": "Angular ngOnChanges not updating view", "body": "<p>After your async task is done you overwrite data that you received from subscription with following line <code>this.percentLoaded = 0;</code>. Delete it:</p>\n\n<pre><code>() =&gt;  {\n   this.isLoading = false;\n   //delete this line this.percentLoaded = 0;\n}\n</code></pre>\n\n<p>Also your change detection is not triggered, because change detection on inputs is triggered only when reference of object is changed. Number is a simple, not a reference variable, so in your case change detection is not triggered. My suggestion is to subscribe to service in both components and trigger change detection only from child component.</p>\n\n<pre><code>export class ProgressBarComponent {\n  percentLoaded: number = 0;\n\n  constructor(private ref: ChangeDetectorRef, private service: TheService) { }\n\n  this.service.doTheTask()\n   .subscribe(\n     data =&gt; {\n     this.percentLoaded = data;\n     this.ref.detectChanges();\n   },\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1483908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/034a2bd54e2383364525f57d4e973c17?s=128&d=identicon&r=PG", "display_name": "user1483908", "link": "https://stackoverflow.com/users/1483908/user1483908"}, "is_accepted": false, "score": -1, "last_activity_date": 1609145171, "last_edit_date": 1609145171, "creation_date": 1609137749, "answer_id": 65473857, "question_id": 43741424, "link": "https://stackoverflow.com/questions/43741424/angular-ngonchanges-not-updating-view/65473857#65473857", "title": "Angular ngOnChanges not updating view", "body": "<p>I had a similar issue and after spending about an hour trying to figure it out I remembered adding change detection strategy onPush to the parent component.</p>\n<p>As soon as I removed that the child component started working again. The ngOnChanges method was firing but my view was not updating in the subscribe closure.</p>\n"}], "owner": {"reputation": 111, "user_id": 3300154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613898af58553cbf7e606b1f96ea8575?s=128&d=identicon&r=PG&f=1", "display_name": "slander", "link": "https://stackoverflow.com/users/3300154/slander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3279, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1609145171, "creation_date": 1493737792, "question_id": 43741424, "link": "https://stackoverflow.com/questions/43741424/angular-ngonchanges-not-updating-view", "title": "Angular ngOnChanges not updating view", "body": "<p><strong>TL;DR: ngOnChanges shows that changes are being detected on an input property, but the view is not being updated</strong></p>\n\n<p>I'm working on an Angular (2+) app trying to make a progress bar for an asynchronous task being fulfilled by a service using an Observable. The Observable pushes numbers as data to indicate what percent of the task has been completed. There are three pieces involved: The Service, the ResultsComponent, and the ProgressBarComponent (child of ResultsComponent) The basic data flow is:</p>\n\n<ol>\n<li>Number pushed from the Observable to ResultsComponent</li>\n<li>ResultsComponent.percentLoaded is set to equal this number</li>\n<li>ProgressBarComponent uses percentLoaded as an Input and view is updated</li>\n</ol>\n\n<p>The problem is that the view isn't actually being updated.</p>\n\n<p><strong>In ResultsComponent I have this block:</strong></p>\n\n<pre><code>this.service.doTheTask()\n    .subscribe(\n      data =&gt; {\n        this.percentLoaded = data;\n        this.ref.detectChanges();\n      },\n      e =&gt; console.log('error:', e),\n      () =&gt;  {\n        this.isLoading = false;\n        this.percentLoaded = 0;\n      }\n    );\n</code></pre>\n\n<p>Adding ref.detectChanges() successfully makes the OnChanges hook fire in ProgressBarComponent. Component and template are shown below:</p>\n\n<p>Component</p>\n\n<pre><code>export class ProgressBarComponent implements OnChanges {\n  @Input() percentLoaded = 0;\n\n  constructor() { }\n\n  ngOnChanges(changes) {\n    console.log('changes: ', changes);\n  }\n}\n</code></pre>\n\n<p>Template</p>\n\n<pre><code>&lt;div class=\"meter\"&gt;\n  &lt;div class=\"percent\" [style.width.%]=\"percentLoaded\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;{{percentLoaded}}% Loaded&lt;/p&gt;\n</code></pre>\n\n<p>As you can see, I'm just logging changes to test. I've verified that ngOnChanges is firing, and that the values are correct. Everything I've read says \"Once changes are detected, the view automatically updates\" so I don't know what else to do.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["rest", "angular", "http", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1493738032, "post_id": 43741422, "comment_id": 74525894, "body": "Looks like a CORS issue."}, {"owner": {"reputation": 3909, "user_id": 4133827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6CCGM.jpg?s=128&g=1", "display_name": "digit", "link": "https://stackoverflow.com/users/4133827/digit"}, "edited": false, "score": 0, "creation_date": 1493738939, "post_id": 43741422, "comment_id": 74526514, "body": "401 error mean unauthorized. In order to get it working, you need to enable cors in jcms."}, {"owner": {"reputation": 1, "user_id": 7952141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504119b5614c881dbbd7ef5739a34891?s=128&d=identicon&r=PG&f=1", "display_name": "Jackdada", "link": "https://stackoverflow.com/users/7952141/jackdada"}, "edited": false, "score": 0, "creation_date": 1493978266, "post_id": 43741422, "comment_id": 74643201, "body": "Ok thank you. I disable the authentification in jcms currently. I corrected the error about cors. I activated the cors in tomcat because it&#39;s not possible directly in jcms. I will try now to correct the problem with basic authenification."}], "owner": {"reputation": 1, "user_id": 7952141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504119b5614c881dbbd7ef5739a34891?s=128&d=identicon&r=PG&f=1", "display_name": "Jackdada", "link": "https://stackoverflow.com/users/7952141/jackdada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493737789, "creation_date": 1493737789, "last_edit_date": 1592644375, "question_id": 43741422, "link": "https://stackoverflow.com/questions/43741422/angular-2-ionic-2-http-request-with-basic-authentification-error", "title": "Angular 2 &amp; ionic 2 http request with basic authentification error", "body": "<p>I have some problems with Angular 2 http get request in a ionic 2 application.</p>\n<p>In fact I have a website (made with the Jalios CMS) which is running currently with an Apache tomcat on localhost:8080 and I want to access data from my ionic app with RESTful Web services. To access to this website the users need to log in, and their passwords can contain special charactere like @,#.:?</p>\n<p>When I use the cURL command, I can access data without any problems. Data are returned in xml.</p>\n<pre><code>curl -u username:p@ssword http://localhost:8080/jcms/rest/data/Article\n</code></pre>\n<p>However in my ionic 2 application I have the following errors:</p>\n<blockquote>\n<ul>\n<li><p>OPTIONS http:/ /localhost:8080/jcms/rest/data/Article 401 (Non-Autoris%E9). polyfills.js:3</p>\n</li>\n<li><p>XMLHttpRequest cannot load http:/ /localhost:8080/jcms/rest/data/Article. Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http:/ /localhost:8100' is therefore not allowed access. The response had HTTP status code 401. (index):1</p>\n</li>\n<li><p>ERROR Response {_body: ProgressEvent, status: 0, ok: false, statusText: &quot;&quot;, headers: Headers\u2026}. core.es5.js:1084</p>\n</li>\n</ul>\n</blockquote>\n<p>my http provider: <strong>rest-service.ts</strong></p>\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class RestService {\n  constructor(public http: Http) {\n    console.log('Hello RestService Provider');\n  }\n  httpGet(username: string, password: string, resource: string){\n    let url = 'http://localhost:8080/jcms/rest/data/' + resource;\n    let headers: Headers = new Headers();\n    headers.append(&quot;Authorization&quot;, &quot;Basic &quot; + btoa(username + &quot;:&quot; + password));\n    return this.http.get(url, {headers: headers});\n  }\n}\n</code></pre>\n<p>my Ionic page (component): <strong>home.ts</strong></p>\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport {RestService} from &quot;../../providers/rest-service&quot;;\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  result: Array&lt;any&gt;;\n  constructor(public navCtrl: NavController, private  restService: RestService) {\n    this.restServiceGet();\n  }\n\n  restServiceGet(){\n    this.restService.httpGet('username', 'p@ssword', 'Article')\n        .map(res =&gt; res.json())\n        .subscribe(data =&gt; this.result = data);\n  }\n}\n</code></pre>\n<p>Normally all have been correctly imported in the app.module.ts file. I also try to change the special character by URL Encoding (%40 for @), and replace the btoa directly by the base 64 equivalence of username:p@assword.</p>\n<p>Can you help me to correct this errors? Especially the 401 unauthorized because I d'ont understand why it happen whereas I implemented the headers with the basic authentification. Where are my mistakes?</p>\n<p>Thank you</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "angular2-components", "angular2-guards"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1493738516, "post_id": 43741418, "comment_id": 74526222, "body": "Any way you could put together a plunker of the basic parts of this so we can give it a try?"}, {"owner": {"reputation": 958, "user_id": 4352790, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b351ceafd6c115c7e16d109040f70913?s=128&d=identicon&r=PG&f=1", "display_name": "yoonjesung", "link": "https://stackoverflow.com/users/4352790/yoonjesung"}, "edited": false, "score": 0, "creation_date": 1493750814, "post_id": 43741418, "comment_id": 74533105, "body": "What about adding canActivateChildren?"}, {"owner": {"reputation": 53, "user_id": 3082681, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000031396518/picture?type=large", "display_name": "krilllind", "link": "https://stackoverflow.com/users/3082681/krilllind"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1493790280, "post_id": 43741418, "comment_id": 74545898, "body": "@DeborahK There is no easy way for me to create a plunker example of this. It&#39;s just so many parts that needs to be put together in order for me to get it working the same way... I can try but it might take awhile."}, {"owner": {"reputation": 53, "user_id": 3082681, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000031396518/picture?type=large", "display_name": "krilllind", "link": "https://stackoverflow.com/users/3082681/krilllind"}, "reply_to_user": {"reputation": 958, "user_id": 4352790, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b351ceafd6c115c7e16d109040f70913?s=128&d=identicon&r=PG&f=1", "display_name": "yoonjesung", "link": "https://stackoverflow.com/users/4352790/yoonjesung"}, "edited": false, "score": 0, "creation_date": 1493790354, "post_id": 43741418, "comment_id": 74545932, "body": "@yoonjesung Do you think you could maybe give me an example of how to apply that for this solution?"}, {"owner": {"reputation": 958, "user_id": 4352790, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b351ceafd6c115c7e16d109040f70913?s=128&d=identicon&r=PG&f=1", "display_name": "yoonjesung", "link": "https://stackoverflow.com/users/4352790/yoonjesung"}, "edited": false, "score": 0, "creation_date": 1493828257, "post_id": 43741418, "comment_id": 74571854, "body": "@krilllind It&#39;s the same as canActivate: [LoginGuard] except you use canActivateChild: [LoginGuard] instead. canActivate works &quot;top-down&quot; whereas canActivateChild works &quot;bottom-up&quot;. Here is another post with some answers on the topic of canActivate vs. canActivateChild: <a href=\"http://stackoverflow.com/questions/40163348/canactivate-vs-canactivatechild-with-component-less-routes\" title=\"canactivate vs canactivatechild with component less routes\">stackoverflow.com/questions/40163348/&hellip;</a>"}], "owner": {"reputation": 53, "user_id": 3082681, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000031396518/picture?type=large", "display_name": "krilllind", "link": "https://stackoverflow.com/users/3082681/krilllind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1390, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1493737778, "creation_date": 1493737778, "question_id": 43741418, "link": "https://stackoverflow.com/questions/43741418/switching-layout-component-based-on-angular-2-guard", "title": "Switching layout component based on Angular 2 Guard", "body": "<p>so this might be a long post, but I hope someone can help me out :)</p>\n\n<p>I am building an Angular 2 web based application with a \"split\" layout, meaning I will use a separate layout component depending on whether or not I am authenticated via route guard.</p>\n\n<p>When I enter the application for the first time and I have no active session or cookie from the server, I will be redirected to a login page, but only if that page is protected via a routing guard. This login page will be put into a \"public\" view that contains no <code>&lt;header&gt;</code>, <code>&lt;footer&gt;</code> or <code>&lt;nav&gt;</code> tags in it.</p>\n\n<p>The purpose of this is to be able to have one HTML layout loaded \nwith a <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> for view-components that require a user to be logged in, and have another <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> in another view-component when the user is trying to access a \"private\" route.</p>\n\n<h2>Inside index.html</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;!-- Load application --&gt;\r\n    &lt;my-app&gt;\r\n        &lt;div class=\"vertical-wrapper center-block\"&gt;\r\n            &lt;div class=\"vertical-align\"&gt;\r\n                &lt;i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"&gt;&lt;/i&gt;\r\n                &lt;span class=\"sr-only\"&gt;Loading Application...&lt;/span&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/my-app&gt;\r\n\r\n    &lt;!-- Scripts --&gt;\r\n    &lt;script src=\"/dist/app.vendor.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"/dist/app.js\"&gt;&lt;/script&gt;\r\n\r\n    &lt;!-- Development Server Reloading --&gt;\r\n    &lt;script src=\"/webpack-dev-server.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Routes.ts file</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Required Imports.\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\n\r\n// Routes values\r\nimport { PUBLIC_ROUTES } from  'app/routes/public.routes';\r\nimport { PRIVATE_ROUTES } from 'app/routes/private.routes';\r\n\r\n// Layouts\r\nimport { PublicComponent, PrivateComponent } from 'app/layouts';\r\n\r\n// Import Pages\r\nimport { NotFoundPage } from 'app/pages';\r\n\r\n// Guards\r\nimport { LoginGuard } from 'app/services/login.guard';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        canActivate: [LoginGuard],\r\n        path: '',\r\n        component: PrivateComponent,\r\n        children: PRIVATE_ROUTES\r\n    },\r\n    {\r\n        path: '',\r\n        component: PublicComponent,\r\n        children: PUBLIC_ROUTES\r\n    },\r\n\r\n    // Greedy-route sending everything not caught to 404 page.\r\n    { path: '**', component: NotFoundPage }\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forRoot(routes)\r\n    ],\r\n    exports: [RouterModule]\r\n})\r\nexport class RoutingModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then, inside of my private and public components, I put my \"child\" routes, just to keep my application clean.</p>\n\n<h2>Private routes file</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { StartPage, ListComponent } from 'app/pages';\r\n\r\nexport const PRIVATE_ROUTES = [\r\n    {\r\n        path: '',\r\n        component: StartPage\r\n    },\r\n    {\r\n        path: 'start',\r\n        component: StartPage\r\n    },\r\n    {\r\n        path: 'lists',\r\n        component: ListComponent\r\n    }\r\n];</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Public routes file</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { LoginPage, LogoutPage } from 'app/pages';\r\n\r\nexport const PUBLIC_ROUTES = [\r\n    {\r\n        path: 'login',\r\n        component: LoginPage\r\n    },\r\n    {\r\n        path: 'logout',\r\n        component: LogoutPage\r\n    }\r\n];</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I am loading either the private or public component depending on if the user is trying to access a page that is under a guard or not.</p>\n\n<p>Now to the final part. Inside my \"layouts\" folder, I have both the <code>private.component.html</code> and the <code>public.component.html</code>, both containing a <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>.</p>\n\n<h2>Private component html</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"page-wrapper\" [ngClass]=\"{'toggled': ShowNavigation}\"&gt;\r\n    &lt;div id=\"navigation-wrapper\"&gt;\r\n        &lt;navigation&gt;&lt;/navigation&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div id=\"content-wrapper\"&gt;\r\n        &lt;header class=\"col-xs-12 fixed-height-60\" style=\"border-bottom: 2px solid #92A92A\"&gt;\r\n            &lt;div class=\"pull-right vertical-wrapper\"&gt;\r\n                &lt;div class=\"vertical-align padding-right-x1\"&gt;\r\n                    &lt;span class=\"col-sm-12 hidden-xs text-right\"&gt;{{CurrentUser.userDisplayName}}&lt;/span&gt;\r\n                    &lt;span class=\"col-sm-12 hidden-xs text-right\"&gt;{{CurrentUser.clientDescription}}&lt;/span&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=\"vertical-align image-wrapper\"&gt;\r\n                    &lt;div class=\"col-sm-12 col-xs-9 pull-xs-right\"&gt;\r\n                        &lt;div class=\"row\"&gt;\r\n                            &lt;img class=\"image\" [src]=\"BrandingLogo\" alt=\"Banding logo\" /&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/header&gt;\r\n\r\n        &lt;section class=\"col-xs-12\"&gt;\r\n            &lt;router-outlet&gt;&lt;/router-outlet&gt;\r\n        &lt;/section&gt;\r\n    &lt;/div&gt; \r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Public component html</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container-fluid\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My question is, how do I register route childes that should only be accessible if the route guard allows it? I need to be able to switch the layout, because only inside the application itself should you be able to view the <code>&lt;nav&gt;</code> for example.</p>\n\n<p>I know this is not the best way to do this, but this was how I manage to solve it. Feel free to contribute with anything that can help me improve this.</p>\n\n<ul>\n<li>Is there any good way to accomplish this?</li>\n<li>Am I on the right track, or have I completely lost it?</li>\n</ul>\n\n<p>I'll provide you with my guard if anyone of you need to see that as well.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Inject, Injectable } from '@angular/core';\r\nimport { LoginService } from 'app/services/login.service';\r\n\r\nimport {\r\n    CanActivate,\r\n    Router,\r\n    RouterStateSnapshot,\r\n    ActivatedRouteSnapshot\r\n} from '@angular/router';\r\n\r\n@Injectable()\r\nexport class LoginGuard implements CanActivate {\r\n    constructor(\r\n        @Inject(LoginService) private loginService: LoginService,\r\n        @Inject(Router) private router: Router\r\n    ) { }\r\n\r\n    canActivate( activatedRoute: ActivatedRouteSnapshot,\r\n                 routerState: RouterStateSnapshot       ): boolean {\r\n\r\n        if (this.loginService.User)\r\n            return true;\r\n\r\n        this.router.navigate(['/login', { redirect: routerState.url.substr(1) }]);\r\n        return false;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is a owerview of my \n<a href=\"https://i.stack.imgur.com/jIRZK.png\" rel=\"nofollow noreferrer\">Source tree</a></p>\n\n<p>Feel free to ask me anything if I was not clear enough.</p>\n"}, {"tags": ["string", "angular", "typescript", "sum"], "answers": [{"tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": false, "score": 0, "last_activity_date": 1493737166, "creation_date": 1493737166, "answer_id": 43741172, "question_id": 43740988, "link": "https://stackoverflow.com/questions/43740988/angular-4-ngstyle-sum-works-as-string-not-number/43741172#43741172", "title": "Angular 4 ngStyle sum works as string not number", "body": "<p>You could wrap them both in a <code>parseInt ( num )</code>. </p>\n\n<p>However, here is what I typically do:</p>\n\n<p>Declare a const obj that settles the properties, something like:</p>\n\n<pre><code>const myStyle = { width : '0px', height : '0px' };\n</code></pre>\n\n<p>'0px' can be any default. </p>\n\n<p>Then you set ngStyle to this object. That keeps all the conditional logic and messy stuff out of your markup. You can also properly doc/annotate the object (something you can't do simply if you set it all in the markup). </p>\n\n<p>When needed, you manipulate that object in your controller, resetting the width (or any style at all) when you need to update the view. </p>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 5698556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/inxZT.jpg?s=128&g=1", "display_name": "Bilal Ahmed", "link": "https://stackoverflow.com/users/5698556/bilal-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1493737234, "creation_date": 1493737234, "answer_id": 43741198, "question_id": 43740988, "link": "https://stackoverflow.com/questions/43740988/angular-4-ngstyle-sum-works-as-string-not-number/43741198#43741198", "title": "Angular 4 ngStyle sum works as string not number", "body": "<p>Why don't you just add them together first in the .ts file and bind that value to the width property?</p>\n"}], "owner": {"reputation": 535, "user_id": 5796307, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/210459609298963/picture?type=large", "display_name": "George Valentin", "link": "https://stackoverflow.com/users/5796307/george-valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 296, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1493737234, "creation_date": 1493736690, "last_edit_date": 1493736847, "question_id": 43740988, "link": "https://stackoverflow.com/questions/43740988/angular-4-ngstyle-sum-works-as-string-not-number", "title": "Angular 4 ngStyle sum works as string not number", "body": "<pre><code>&lt;div class=\"scroll-element-content\" [ngStyle]=\"{'width.px': (this.width + this.trackWidth)}\"&gt;\n</code></pre>\n\n<p>this.width is 400 and this.trackWidth is 8</p>\n\n<p>the width of .scroll-element-content will be 4008 (because sum is acting like a string)</p>\n\n<p>these variables ar defined as numbers</p>\n\n<pre><code>height: number;\nwidth: number;\ntrackWidth: number;\n</code></pre>\n\n<p>I found a solution to sum it is:</p>\n\n<pre><code>&lt;div class=\"scroll-element-content\" [ngStyle]=\"{'width.px': (this.width - (-this.trackWidth))}\"&gt;\n</code></pre>\n\n<p>but is ugly, somebody know how to fix?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1493736808, "post_id": 43740653, "comment_id": 74524960, "body": "When you say &quot;something like this&quot;, what you&#39;ve posted is not the actual code? Have you run what&#39;s posted?"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1493740733, "post_id": 43740653, "comment_id": 74527645, "body": "It seems to be working here:  <a href=\"http://plnkr.co/edit/054IzS2loIsHjL6CKcqy?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/054IzS2loIsHjL6CKcqy?p=preview</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493765230, "post_id": 43740653, "comment_id": 74539925, "body": "When you use <code>let</code> the variable is scoped to the loop."}], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493765109, "post_id": 43740828, "comment_id": 74539879, "body": "Which is similar to using <code>for (var...</code>"}], "tags": [], "owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "is_accepted": false, "score": 2, "last_activity_date": 1493736277, "creation_date": 1493736277, "answer_id": 43740828, "question_id": 43740653, "link": "https://stackoverflow.com/questions/43740653/loop-on-the-value-in-angular2/43740828#43740828", "title": "Loop on the value in Angular2", "body": "<p>Declare the <code>i</code> variable outside the <code>for</code> block scope.</p>\n\n<pre><code>let i: number;\nfor (i = 0; i &lt; 4; i++){\n  console.log(\"value : \" + i) ; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 7858740, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/liIcc.png?s=128&g=1", "display_name": "C.Petrescu", "link": "https://stackoverflow.com/users/7858740/c-petrescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1493774024, "creation_date": 1493774024, "answer_id": 43749531, "question_id": 43740653, "link": "https://stackoverflow.com/questions/43740653/loop-on-the-value-in-angular2/43749531#43749531", "title": "Loop on the value in Angular2", "body": "<p>when you use the typescript, the main is the type declaration. So, I think you must declare the type of i.\nthat is, </p>\n\n<pre><code>let i: number;\nfor (i = 0; i &lt; 4; i++) {\n  console.log(\"value: \" + i);\n}\n</code></pre>\n\n<p>That's all.</p>\n"}], "owner": {"reputation": 1, "user_id": 3100184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e19a256071ba831d7bb57e8a16de77f?s=128&d=identicon&r=PG&f=1", "display_name": "user3100184", "link": "https://stackoverflow.com/users/3100184/user3100184"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1493774024, "creation_date": 1493735815, "last_edit_date": 1493736022, "question_id": 43740653, "link": "https://stackoverflow.com/questions/43740653/loop-on-the-value-in-angular2", "title": "Loop on the value in Angular2", "body": "<p>I am trying to loop in Angular2 on some value, using code something like this: </p>\n\n<pre><code>if (true) {\n    for ( var i = 0; i &lt; 4; i++ ){\n        console.log(\"the value of i is : \" + i); \n    }\n} else {\n    console.log(\"in else part\") ; \n}\n</code></pre>\n\n<p>In the console, I can see the value for <code>i</code> is always <code>0</code>, so I'm pretty sure this is not the correct way to loop in Angular 2. </p>\n\n<p>I even tried using: </p>\n\n<pre><code>for ( let i = 0; i &lt; 4; i++ ){\n    console.log(\"value : \" + i) ; \n}\n</code></pre>\n\n<p>But the result is the same. </p>\n\n<p>Can anyone please show me how do we loop/iterate in Angular 2?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1493735500, "post_id": 43740513, "comment_id": 74524010, "body": "What exactly does &quot;doesn&#39;t work&quot; mean? Do you get an error? If so, what exactly does it say?"}, {"owner": {"reputation": 2470, "user_id": 2964415, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tP1gh.png?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/2964415/harry"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1493735544, "post_id": 43740513, "comment_id": 74524041, "body": "&quot;someproperty does not exist on type&quot;, but on the type it does exist"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1493735658, "post_id": 43740513, "comment_id": 74524120, "body": "it depends on the foo type definition."}, {"owner": {"reputation": 9261, "user_id": 115466, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qtTSe.png?s=128&g=1", "display_name": "\u0418\u0432\u0430\u043d \u0413\u0440\u043e\u0437\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/115466/%d0%98%d0%b2%d0%b0%d0%bd-%d0%93%d1%80%d0%be%d0%b7%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1493735664, "post_id": 43740513, "comment_id": 74524126, "body": "should work, check your spelling"}, {"owner": {"reputation": 2470, "user_id": 2964415, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tP1gh.png?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/2964415/harry"}, "edited": false, "score": 0, "creation_date": 1493735785, "post_id": 43740513, "comment_id": 74524209, "body": "Guys, in foo definition this property exists."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 4, "creation_date": 1493735792, "post_id": 43740513, "comment_id": 74524212, "body": "Add to your question  the code which defines the type of <code>someObj</code> and how you assign a value to it."}], "answers": [{"comments": [{"owner": {"reputation": 9055, "user_id": 996081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83817dc1e83cf8ac372b21cd5f010bc4?s=128&d=identicon&r=PG&f=1", "display_name": "cbr", "link": "https://stackoverflow.com/users/996081/cbr"}, "edited": false, "score": 7, "creation_date": 1493737514, "post_id": 43740761, "comment_id": 74525477, "body": "More about this in the TypeScript specification: <a href=\"https://github.com/Microsoft/TypeScript/blob/1db4f96fd14fc3de5ae3704e925afd6474cfb8f5/doc/spec.md#4.13\" rel=\"nofollow noreferrer\">4.13 Property Access</a>"}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": true, "score": 17, "last_activity_date": 1493736133, "creation_date": 1493736133, "answer_id": 43740761, "question_id": 43740513, "link": "https://stackoverflow.com/questions/43740513/typescript-access-dynamic-property-with-syntax/43740761#43740761", "title": "Typescript access dynamic property with [&#39; &#39;] syntax", "body": "<p>This is just a convention in TypeScript, available for convenience. If you want to access some arbitrary property that is not defined in the type signature of the object, you can use the <code>[\"foo\"]</code> notation, and the type checker will not try to enforce that the instance you're accessing has such a property in its type signature.</p>\n"}], "owner": {"reputation": 2470, "user_id": 2964415, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tP1gh.png?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/2964415/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29440, "favorite_count": 2, "accepted_answer_id": 43740761, "answer_count": 1, "score": 18, "last_activity_date": 1493736645, "creation_date": 1493735442, "last_edit_date": 1495535493, "question_id": 43740513, "link": "https://stackoverflow.com/questions/43740513/typescript-access-dynamic-property-with-syntax", "title": "Typescript access dynamic property with [&#39; &#39;] syntax", "body": "<pre><code>export class Foo{\n someproperty: string;\n}\n</code></pre>\n\n<p>I am trying to understand why, when trying to access dynamic object property I can do the following as I saw on one of the answers here:</p>\n\n<pre><code>let fooObj: foo = someObj['someproperty']; \n</code></pre>\n\n<p>but by doing this, I get an error.</p>\n\n<pre><code>let fooObj: foo = someObj.someproperty;\n</code></pre>\n\n<p>I am trying to understand, why the first method works for accessing/assigning to dynamic objects.</p>\n\n<p>Error:</p>\n\n<p><code>\"someproperty does not exist on type\"</code></p>\n\n<p>Question asked before here, answer by Angelo R is the one I am interested in.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12710905/how-do-i-dynamically-assign-properties-to-an-object-in-typescript\">question</a></p>\n"}, {"tags": ["php", "mysql", "api", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 295, "user_id": 6664745, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-joW68TDBpxo/AAAAAAAAAAI/AAAAAAAAAzk/WGS01152HvY/photo.jpg?sz=128", "display_name": "Geeksan", "link": "https://stackoverflow.com/users/6664745/geeksan"}, "edited": false, "score": 0, "creation_date": 1493734246, "post_id": 43739866, "comment_id": 74523037, "body": "Great! Glad to hear that! :)"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 2, "last_activity_date": 1493733646, "creation_date": 1493733646, "answer_id": 43739866, "question_id": 43739559, "link": "https://stackoverflow.com/questions/43739559/how-to-correctly-handle-get-correct-json-response-with-php-api-and-angularjs-2/43739866#43739866", "title": "How to correctly handle/ get correct JSON response with PHP API and AngularJS 2 services?", "body": "<p>Just extract the array from your response:</p>\n\n<pre><code>getCandidatInfo() : Observable&lt;IPaeComponent[]&gt;{\n    return this._http.get(this._candidatUrl)\n    .map((response : Response)=&gt;&lt;IPaeComponent[]&gt; response.json().candidat) // here\n    .do(data =&gt; console.log('All '+ JSON.stringify(data)))\n    .catch(this.handleError);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3516, "user_id": 4094161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCzRm.png?s=128&g=1", "display_name": "PHP Team", "link": "https://stackoverflow.com/users/4094161/php-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1493733854, "creation_date": 1493733854, "answer_id": 43739931, "question_id": 43739559, "link": "https://stackoverflow.com/questions/43739559/how-to-correctly-handle-get-correct-json-response-with-php-api-and-angularjs-2/43739931#43739931", "title": "How to correctly handle/ get correct JSON response with PHP API and AngularJS 2 services?", "body": "<p>Try this</p>\n\n<pre><code>this._candidatService.getCandidatInfo()\n        .subscribe(candidats =&gt; {\n          this.candInfo = candidats.candidat;\n          // if you want get value from particular index\n          cosnole.log(this.candInfo[0]);\n\n          // Or you can iterate loop to get each value\n        },\n        error =&gt; this.errorMessage = &lt;any&gt;error);\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 6664745, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-joW68TDBpxo/AAAAAAAAAAI/AAAAAAAAAzk/WGS01152HvY/photo.jpg?sz=128", "display_name": "Geeksan", "link": "https://stackoverflow.com/users/6664745/geeksan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 43739866, "answer_count": 2, "score": 2, "last_activity_date": 1493744497, "creation_date": 1493732759, "last_edit_date": 1493744497, "question_id": 43739559, "link": "https://stackoverflow.com/questions/43739559/how-to-correctly-handle-get-correct-json-response-with-php-api-and-angularjs-2", "title": "How to correctly handle/ get correct JSON response with PHP API and AngularJS 2 services?", "body": "<p>Here is my problem with my backend which is MySQL. One query is giving me this set of data </p>\n\n<p><code>{\"candidat\":[{\"ID\":1,\"nom\":\"Danny\",\"prenom\":\"Hariot\",\"parti\":\"Quamba\",\"departement\":\"Ukraine\",\"commune\":\"Chapayeve\"},{\"ID\":2,\"nom\":\"Shari\",\"prenom\":\"Adamkiewicz\",\"parti\":\"Babbleopia\",\"departement\":\"Sweden\",\"commune\":\"T\u00e4by\"}]</code></p>\n\n<p>A array of arrays , and I wanna access to the nested arrays for my Angular project. I mean this part</p>\n\n<pre><code>[{\"ID\":1,\"nom\":\"Danny\",\"prenom\":\"Hariot\",\"parti\":\"Quamba\",\"departement\":\"Ukraine\",\"commune\":\"Chapayeve\"},{\"ID\":2,\"nom\":\"Shari\",\"prenom\":\"Adamkiewicz\",\"parti\":\"Babbleopia\",\"departement\":\"Sweden\",\"commune\":\"T\u00e4by\"}]\n</code></pre>\n\n<p>Here is my component</p>\n\n<pre><code>import { IPaeComponent } from './paeI';\nimport { NgModel } from '@angular/forms/src/directives';\nimport { Component, OnInit } from '@angular/core';\nimport { CandidatService } from './paeServices';\n\n@Component({\n    selector : 'pae-app',\n    moduleId : module.id,  \n    templateUrl : 'pae1.html'\n})\n\nexport class PaeComponent implements IPaeComponent{\n    prog1 : string =\"Programme d'Appui aux Elections\";\n    progName1 : string =\"Enqu\u00eate sur les candidats\";\n    searchbar : string ='';\n    progEl1 : string =\"Listes des candidats cibl\u00e9s\";\n    candInfo : any [];\n    filter : string;\n\n    candidats : IPaeComponent;\n    errorMessage : string;\n\n    constructor (private _candidatService : CandidatService){\n\n    }\n\n    ngOnInit(): void {\n      this._candidatService.getCandidatInfo()\n            .subscribe(candidats =&gt; this.candInfo = candidats,\n            error =&gt; this.errorMessage = &lt;any&gt;error);\n    }\n\n}\n</code></pre>\n\n<p>My services:</p>\n\n<pre><code>import { IPaeComponent } from './paeI';\nimport { Injectable } from '@angular/core';\nimport { Http, Response , Headers, RequestOptions} from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map'\nimport 'rxjs/add/operator/do'\nimport 'rxjs/add/operator/catch'\n\n@Injectable()\nexport class CandidatService {\n    private _candidatUrl ='http://localhost/CRUD/api.php/candidat?transform=1';\n\n    constructor(private _http : Http){\n\n    }\n\n ///////////////////////////////////////////////////////\n //////////////////////////////////////////////////////\n //////////////////////CRUD///////////////////////////\n ////////////////////////////////////////////////////\n ///////////////////////////////////////////////////   \n\n\n\n\n\n    getCandidatInfo() : Observable&lt;IPaeComponent[]&gt;{\n        return this._http.get(this._candidatUrl)\n        .map((response : Response)=&gt;&lt;IPaeComponent[]&gt; response.json())\n        .do(data =&gt; console.log('All '+ JSON.stringify(data)))\n        .catch(this.handleError);\n    }\n\n    private handleError(error : Response){\n            console.error(error);\n            return Observable.throw(error.json().error || 'Server Error');\n    }\n\n      addCandidatInfo (body: Object): Observable&lt;IPaeComponent[]&gt; {\n        let bodyString = JSON.stringify(body); // Stringify payload\n        let headers      = new Headers({ 'Content-Type': 'application/json' }); // ... Set content type to JSON\n        let options       = new RequestOptions({ headers: headers }); // Create a request option\n\n        return this._http.post(this._candidatUrl, body, options) // ...using post request\n                         .map((res:Response) =&gt; res.json()) // ...and calling .json() on the response to return data\n                         .catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error')); //...errors if any\n    }   \n\n\n    updateCandidatInfo (body: Object): Observable&lt;IPaeComponent[]&gt; {\n        let bodyString = JSON.stringify(body); // Stringify payload\n        let headers      = new Headers({ 'Content-Type': 'application/json' }); // ... Set content type to JSON\n        let options       = new RequestOptions({ headers: headers }); // Create a request option\n\n        return this._http.put(`${this._candidatUrl}/${body['id']}`, body, options) // ...using put request\n                         .map((res:Response) =&gt; res.json()) // ...and calling .json() on the response to return data\n                         .catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error')); //...errors if any\n    }   \n\n\n    removeInfo (id:string): Observable&lt;IPaeComponent[]&gt; {\n        return this._http.delete(`${this._candidatUrl}/${id}`) // ...using put request\n                         .map((res:Response) =&gt; res.json()) // ...and calling .json() on the response to return data\n                         .catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error')); //...errors if any\n    }   \n}\n</code></pre>\n\n<p>And what it looks like when I debug in my browser:\n<a href=\"https://i.stack.imgur.com/e3jBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e3jBu.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks in advance for your help</p>\n"}, {"tags": ["javascript", "typescript", "callback"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1493732779, "post_id": 43739024, "comment_id": 74521915, "body": "See <a href=\"http://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1944, "user_id": 1115367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d62wl.png?s=128&g=1", "display_name": "Kid Diamond", "link": "https://stackoverflow.com/users/1115367/kid-diamond"}, "edited": false, "score": 0, "creation_date": 1493733943, "post_id": 43739654, "comment_id": 74522801, "body": "So instead of calling <code>http.get()</code>, I would now call <code>http.getWithAuthentication().then()</code>?"}, {"owner": {"reputation": 2312, "user_id": 5170952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeec0d3371a687252098688806b847aa?s=128&d=identicon&r=PG&f=1", "display_name": "libertyernie", "link": "https://stackoverflow.com/users/5170952/libertyernie"}, "reply_to_user": {"reputation": 1944, "user_id": 1115367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d62wl.png?s=128&g=1", "display_name": "Kid Diamond", "link": "https://stackoverflow.com/users/1115367/kid-diamond"}, "edited": false, "score": 0, "creation_date": 1493736445, "post_id": 43739654, "comment_id": 74524697, "body": "Yes, that&#39;s the idea. Or if you want to use async code, you could use await."}], "tags": [], "owner": {"reputation": 2312, "user_id": 5170952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeec0d3371a687252098688806b847aa?s=128&d=identicon&r=PG&f=1", "display_name": "libertyernie", "link": "https://stackoverflow.com/users/5170952/libertyernie"}, "is_accepted": true, "score": 1, "last_activity_date": 1493733020, "creation_date": 1493733020, "answer_id": 43739654, "question_id": 43739024, "link": "https://stackoverflow.com/questions/43739024/how-to-wait-for-async-callback-method-before-continuing/43739654#43739654", "title": "How to wait for async callback method before continuing?", "body": "<p>You might want to make the get function return a promise, since the actual Response object shouldn't exist until after you have authenticated. It looks like you're overriding a method, though, so maybe instead you'll want to make a different method.</p>\n\n<pre><code>getWithAuthentication(url: string, options?: RequestOptionsArgs): Promise&lt;Observable&lt;Response&gt;&gt; {\n return new Promise((resolve, reject) =&gt; {\n  this.authenticate((authResponse) =&gt; {\n    if (!options) {\n      options = { headers: new Headers() };\n    }\n\n    options.headers.set('Authorization', 'Bearer ' + authResponse.accessToken);\n    let response = super.get(url, options);\n    resolve(response);\n  }, (err) =&gt; {\n    alert(JSON.stringify(err));\n    reject(err);\n  });\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 1944, "user_id": 1115367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d62wl.png?s=128&g=1", "display_name": "Kid Diamond", "link": "https://stackoverflow.com/users/1115367/kid-diamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 43739654, "answer_count": 1, "score": -1, "last_activity_date": 1493733020, "creation_date": 1493731282, "question_id": 43739024, "link": "https://stackoverflow.com/questions/43739024/how-to-wait-for-async-callback-method-before-continuing", "title": "How to wait for async callback method before continuing?", "body": "<p>I have the following 2 methods.</p>\n\n<p>But in the <code>get</code> method that I'm overriding from the Http module, the authentication success callback is called after it has already executed the request and returned a response. This way it's adding \n the JWT token to the headers in the wrong order, and too late.</p>\n\n<p>I'm not super knowledgeable with promises and observables.. But what can I do so that it actually waits for the callback to be done before executing the request and returning the response?</p>\n\n<pre><code>authenticate(authCompletedCallback, errorCallback) {\n  let authContext = new Microsoft.ADAL.AuthenticationContext(AUTHORITY_URL);\n\n  authContext.tokenCache.readItems().then((items) =&gt; {\n    if (items.length &gt; 0) {\n        AUTHORITY_URL = items[0].authority;\n        authContext = new Microsoft.ADAL.AuthenticationContext(AUTHORITY_URL);\n    }\n\n    // Attempt to authorize user silently.\n    authContext\n      .acquireTokenSilentAsync(RESOURCE_URL, CLIENT_ID)\n      .then(authCompletedCallback, () =&gt; {\n          // We require user credentials so trigger authentication dialog.\n          authContext\n            .acquireTokenAsync(RESOURCE_URL, CLIENT_ID, REDIRECT_URL)\n            .then(authCompletedCallback, errorCallback);\n      });\n  });\n}\n\nget(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt; {\n  this.authenticate((authResponse) =&gt; {\n    // This is executed second.\n    if (!options) {\n      options = { headers: new Headers() };\n    }\n\n    options.headers.set('Authorization', 'Bearer ' + authResponse.accessToken);\n  }, (err) =&gt; {\n    alert(JSON.stringify(err));\n  });\n\n  // This is executed first.\n  return super.get(url, options);\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webpack", "angular2-routing", "angular-cli"], "comments": [{"owner": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493738458, "post_id": 43738965, "comment_id": 74526196, "body": "do <code>ng serve --verbose</code> and post the result so we can see what&#39;s the issue."}, {"owner": {"reputation": 707, "user_id": 6838395, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c76c8e610d6938215c2d59fca73dd2bf?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra Vyas", "link": "https://stackoverflow.com/users/6838395/narendra-vyas"}, "reply_to_user": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493787754, "post_id": 43738965, "comment_id": 74545003, "body": "I think the issue comes on loading asset. Can you please help me in this .."}, {"owner": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493787770, "post_id": 43738965, "comment_id": 74545009, "body": "Based on what im seeing, the cli is throwing a very unhelpful message. First, try deleting the node_module folder then run npm install. If that does not work, try removing all scripts then add them one by one running &#39;ng serve&#39; after each to check which one is throwing the error."}, {"owner": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493787832, "post_id": 43738965, "comment_id": 74545030, "body": "Also, please post your package.json and .angular-cli.json so i can try and replicate."}, {"owner": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493790770, "post_id": 43738965, "comment_id": 74546125, "body": ".angular-cli.json  file as well please."}, {"owner": {"reputation": 707, "user_id": 6838395, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c76c8e610d6938215c2d59fca73dd2bf?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra Vyas", "link": "https://stackoverflow.com/users/6838395/narendra-vyas"}, "reply_to_user": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493791382, "post_id": 43738965, "comment_id": 74546375, "body": "@Ahmed: Thanks a lot, but the issue was I was in need to hit bower install after npm install."}, {"owner": {"reputation": 8313, "user_id": 5633515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvSXb.jpg?s=128&g=1", "display_name": "Ahmed Musallam", "link": "https://stackoverflow.com/users/5633515/ahmed-musallam"}, "edited": false, "score": 0, "creation_date": 1493791509, "post_id": 43738965, "comment_id": 74546433, "body": "oh.. I dont see bower in your dependencies.. also your js files are under this path: /src/assets/vendors/by_bower ?? strange. anyway, problem solved :)"}], "answers": [{"tags": [], "owner": {"reputation": 707, "user_id": 6838395, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c76c8e610d6938215c2d59fca73dd2bf?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra Vyas", "link": "https://stackoverflow.com/users/6838395/narendra-vyas"}, "is_accepted": false, "score": 0, "last_activity_date": 1493792238, "creation_date": 1493792238, "answer_id": 43752437, "question_id": 43738965, "link": "https://stackoverflow.com/questions/43738965/getting-errors-on-ng-serve/43752437#43752437", "title": "Getting errors on ng-serve", "body": "<p>In my case I was in need of a \"bower install\" command.</p>\n\n<p>Hope if it helps some one.</p>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 707, "user_id": 6838395, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c76c8e610d6938215c2d59fca73dd2bf?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra Vyas", "link": "https://stackoverflow.com/users/6838395/narendra-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493792238, "creation_date": 1493731116, "last_edit_date": 1493792174, "question_id": 43738965, "link": "https://stackoverflow.com/questions/43738965/getting-errors-on-ng-serve", "title": "Getting errors on ng-serve", "body": "<p>I am trying to use angular cli and getting following error:</p>\n\n<blockquote>\n  <p>ERROR in multi\n  script-loader!./src/assets/vendors/by_bower/jquery/dist/jquery.js</p>\n</blockquote>\n\n<p>Actually what I did is :</p>\n\n<ol>\n<li>npm install -g @angular/cli;</li>\n<li>npm install</li>\n<li>ng serve</li>\n</ol>\n\n<p>In package.json I have \n \"@angular/cli\": \"latest\",</p>\n\n<p>on ng serve I am getting this error.</p>\n\n<p>After google I came to know that this <a href=\"https://github.com/angular/angular-cli/issues/5665\" rel=\"nofollow noreferrer\">can be issue of version of Angular cli</a>. Please help how to get rid of this.</p>\n\n<p>Edit:</p>\n\n<p>On ng serve verbose I am getting:</p>\n\n<p>Child html-webpack-plugin for \"index.html\":\n         Asset    Size  Chunks  Chunk Names\n    index.html  3.7 kB       0<br>\n    chunk    {0} index.html 1.04 kB [entry] [rendered]\nwebpack: Failed to compile.</p>\n\n<p>** Actually I am trying to run a purchased theme.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3068, "user_id": 1848109, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/942c7acc0e011e1973c0299211b66279?s=128&d=identicon&r=PG", "display_name": "Nirus", "link": "https://stackoverflow.com/users/1848109/nirus"}, "edited": false, "score": 0, "creation_date": 1493727513, "post_id": 43737631, "comment_id": 74518392, "body": "its treated as string interpolation. use template specific quotes."}], "answers": [{"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 2, "last_activity_date": 1493727433, "creation_date": 1493727433, "answer_id": 43737692, "question_id": 43737631, "link": "https://stackoverflow.com/questions/43737631/why-the-value-is-not-getting-assigned-in-typescript/43737692#43737692", "title": "Why the value is not getting assigned in typescript?", "body": "<p>You need to use ` instead of ' for template literals. Otherwise it's just a simple string.</p>\n\n<pre><code>this.filter = `{category:${this.selectedCategory}}`;\n</code></pre>\n\n<p>You can read more about them <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 9699, "user_id": 2138959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srHHP.jpg?s=128&g=1", "display_name": "Andrii Litvinov", "link": "https://stackoverflow.com/users/2138959/andrii-litvinov"}, "is_accepted": true, "score": 1, "last_activity_date": 1493727928, "last_edit_date": 1493727928, "creation_date": 1493727440, "answer_id": 43737696, "question_id": 43737631, "link": "https://stackoverflow.com/questions/43737631/why-the-value-is-not-getting-assigned-in-typescript/43737696#43737696", "title": "Why the value is not getting assigned in typescript?", "body": "<p>You are using single quotes ', but you should use ` instead for the string interpolation:</p>\n\n<pre><code>this.selectedCategory = selectedvalue.name;\nthis.filter = `{category:${this.selectedCategory}}`;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7426734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 43737696, "answer_count": 2, "score": 0, "last_activity_date": 1493727928, "creation_date": 1493727267, "last_edit_date": 1493727642, "question_id": 43737631, "link": "https://stackoverflow.com/questions/43737631/why-the-value-is-not-getting-assigned-in-typescript", "title": "Why the value is not getting assigned in typescript?", "body": "<p>I have the following code where i am trying to create a string from the selected value. </p>\n\n<pre><code>this.selectedCategory = selectedvalue.name;\nthis.filter = '{category:${this.selectedCategory}}';\n</code></pre>\n\n<p>The value of <code>this.filter</code> is <strong><code>{category:${this.selectedCategory}}</code></strong> while i am expecting the output as <strong><code>{category:Music}</code></strong>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1493725139, "post_id": 43736862, "comment_id": 74516700, "body": "What happens if you add <code>declare const Howl</code> above your <code>@Component</code> and below the <code>import</code>...?"}, {"owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "reply_to_user": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1493727328, "post_id": 43736862, "comment_id": 74518269, "body": "@Ivaro18 that (almost) worked, I had to add the type. So <code>declare const Howl:any</code> works. Feel free to add as answer &amp; I&#39;ll mark correct."}, {"owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "reply_to_user": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1493727390, "post_id": 43736862, "comment_id": 74518304, "body": "Or, as you say, the other SO question answers this too."}], "answers": [{"comments": [{"owner": {"reputation": 2809, "user_id": 2343242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a089d97652a0d0a517a16d7f364721a?s=128&d=identicon&r=PG", "display_name": "ryanrain", "link": "https://stackoverflow.com/users/2343242/ryanrain"}, "edited": false, "score": 0, "creation_date": 1502111049, "post_id": 43736980, "comment_id": 78054686, "body": "copied answer: <a href=\"https://stackoverflow.com/a/41195167/2343242\">stackoverflow.com/a/41195167/2343242</a>"}], "tags": [], "owner": {"reputation": 2215, "user_id": 4712391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U9oPV.png?s=128&g=1", "display_name": "Tinus Jackson", "link": "https://stackoverflow.com/users/4712391/tinus-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1493725325, "creation_date": 1493725325, "answer_id": 43736980, "question_id": 43736862, "link": "https://stackoverflow.com/questions/43736862/howler-angular-error-ts2304-cannot-find-name-howl/43736980#43736980", "title": "Howler: Angular error TS2304: Cannot find name &quot;Howl&quot;", "body": "<p>Try <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow noreferrer\">DefinitelyTyped</a> typings definition for howler.</p>\n\n<p>Here is the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/howler\" rel=\"nofollow noreferrer\">repo</a> on GitHub where you can find <code>howler.d.ts</code></p>\n\n<p>Here is the npm <a href=\"https://www.npmjs.com/package/@ryancavanaugh/howlerjs\" rel=\"nofollow noreferrer\">package info</a></p>\n\n<p>TypeScript v2 use following command to install</p>\n\n<pre><code>npm install --save @types/howler\n</code></pre>\n\n<p>If you have any question, post in their <a href=\"https://gitter.im/DefinitelyTyped/DefinitelyTyped?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge\" rel=\"nofollow noreferrer\">Gitter chat</a></p>\n"}], "owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 974, "favorite_count": 0, "closed_date": 1493727407, "answer_count": 1, "score": 0, "last_activity_date": 1493728178, "creation_date": 1493724896, "last_edit_date": 1493728178, "question_id": 43736862, "link": "https://stackoverflow.com/questions/43736862/howler-angular-error-ts2304-cannot-find-name-howl", "closed_reason": "Duplicate", "title": "Howler: Angular error TS2304: Cannot find name &quot;Howl&quot;", "body": "<p>I am referencing <a href=\"https://howlerjs.com/\" rel=\"nofollow noreferrer\">Howler</a> in my index.html file:</p>\n\n<pre><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.3/howler.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Then in my <code>app.component.ts</code> I have the line:</p>\n\n<pre><code>let sound = new Howl({src: [sample]});\n</code></pre>\n\n<p>This produces the error:</p>\n\n<blockquote>\n  <p>error TS2304: Cannot find name 'Howl'.</p>\n</blockquote>\n\n<p>I tried including it in the <code>lib</code> array in <code>tsconfig.json</code> but that is not permitted. </p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "edited": false, "score": 0, "creation_date": 1493724575, "post_id": 43736485, "comment_id": 74516307, "body": "have you followed exactly as mentioned here <a href=\"https://ionicframework.com/docs/native/transfer/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/transfer</a> i.e. downloading the plugin, checking for proper permissions in your manifest file in case you are using it on Marshmallow version and printing the file path i.e. <code>this.file.dataDirectory</code>"}, {"owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "reply_to_user": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "edited": false, "score": 0, "creation_date": 1493725446, "post_id": 43736485, "comment_id": 74516916, "body": "Yes I have followed all the steps. Where can i find this manifest file ? Yes I am using Marshmallow."}, {"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "edited": false, "score": 0, "creation_date": 1493725569, "post_id": 43736485, "comment_id": 74516995, "body": "in ionic app there will be <code>config.xml</code> file you might have to add it there or you can use plugin from here <a href=\"https://www.npmjs.com/package/cordova-plugin-android-permissions\" rel=\"nofollow noreferrer\">npmjs.com/package/cordova-plugin-android-permissions</a>"}, {"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "edited": false, "score": 0, "creation_date": 1493725896, "post_id": 43736485, "comment_id": 74517224, "body": "please check the alternate possible answer which is taken from the working ionic file transfer example"}], "answers": [{"comments": [{"owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493733980, "post_id": 43737153, "comment_id": 74522826, "body": "I tried out with this now, but no luck. The storage file is returning is <code>this.storageDirectory</code> path as <code>file:&#47;&#47;&#47;data&#47;user&#47;0&#47;com.ionicframework.myapp8211&#47;files&#47;</code>"}, {"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "reply_to_user": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493789783, "post_id": 43737153, "comment_id": 74545702, "body": "after using downloading it have you checked in the folder, since this seems to be the valid file storage location, just go to the folder of <code>com.ionicframework.myapp8211&#47;</code> you should see your file"}, {"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "reply_to_user": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493789943, "post_id": 43737153, "comment_id": 74545759, "body": "check <a href=\"https://github.com/apache/cordova-plugin-file#where-to-store-files\" rel=\"nofollow noreferrer\">here</a> for details of how you can store file in your system as specified by the plugin, according to this you should find your file in your application&#39;s folder, if you cant see your app&#39;s folder might wanna use different file manager like es file explorer or solid explorer"}, {"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "reply_to_user": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493876714, "post_id": 43737153, "comment_id": 74590291, "body": "@AkashM did you found your downloaded file ?"}, {"owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493912140, "post_id": 43737153, "comment_id": 74614886, "body": "No, I tested it on developer browser but no luck.  When I run it on chrome developer browser Below is the error message I am getting when I click on the Test File Download :  <code>XMLHttpRequest cannot load http:&#47;&#47;example.com&#47;download&#47;sample.csv. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http:&#47;&#47;localhost:8000&#39; is therefore not allowed access.</code>"}, {"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "reply_to_user": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493959237, "post_id": 43737153, "comment_id": 74633593, "body": "As I said it won&#39;t work on browser you will have to use the app on your mobile phone ."}, {"owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493970479, "post_id": 43737153, "comment_id": 74638536, "body": "Yes I tried it on the mobile but no file downloaded. To check whether any errors are present I tested it on the chrome developer browser and the error its giving is pasted in my previous comment."}, {"owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "reply_to_user": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1493981452, "post_id": 43737153, "comment_id": 74645200, "body": "Aah you must be hosting your app on same IP address, it&#39;s a simple case of <code>cors</code> you will have to add headers or modify your server settings accordingly"}, {"owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1494395610, "post_id": 43737153, "comment_id": 74803433, "body": "Okay let me check this out."}], "tags": [], "owner": {"reputation": 2764, "user_id": 3521116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0feed05aa5a4174d4210276c06fbadc6?s=128&d=identicon&r=PG&f=1", "display_name": "warl0ck", "link": "https://stackoverflow.com/users/3521116/warl0ck"}, "is_accepted": false, "score": 0, "last_activity_date": 1493725848, "creation_date": 1493725848, "answer_id": 43737153, "question_id": 43736485, "link": "https://stackoverflow.com/questions/43736485/download-csv-file-with-angular-2-ionic-2/43737153#43737153", "title": "Download .csv File with angular 2 - Ionic 2", "body": "<p>Instead of using <code>this.file.dataDirectory + file_name.csv</code> for your file path modify your code as:</p>\n\n<p>First add this in your constructor function:</p>\n\n<p>to make sure you are using you are using correct file path as per platform assuming you might use it on ios as well</p>\n\n<pre><code>  storageDirectory: string = '';\n  // make sure this is on a device, not an emulation (e.g. chrome tools device mode)\n  if(!this.platform.is('cordova')) {\n    return false;\n  }\n\n  if (this.platform.is('ios')) {\n    this.storageDirectory = cordova.file.documentsDirectory;\n  }\n  else if(this.platform.is('android')) {\n    this.storageDirectory = cordova.file.dataDirectory;\n  }\n  else {\n    // exit otherwise, but you could add further types here e.g. Windows\n    return false;\n  }\n</code></pre>\n\n<p>Now in you code: </p>\n\n<pre><code>importleads()\n{\n    const fileTransfer: TransferObject = this.transfer.create();\n    let url = 'http://example.com/download/sample.csv';\n    fileTransfer.download(url, this.storageDirectory  + 'Import_Leads_Sample.csv').then((entry) =&gt; {\n        if (entry) {\n            console.log('download complete: ' + entry.toURL());\n            let alert = this.alertCtrl.create({\n                title: 'Lead Downloaded Successfully',\n                buttons: [{\n                    text: 'Ok',\n                }]\n            });\n            alert.present();\n        }\n        else {\n            let alert = this.alertCtrl.create({\n                title: 'No File to download',\n                buttons: [{\n                    text: 'Ok',\n                }]\n            });\n            alert.present();\n        }\n    });\n}\n</code></pre>\n\n<p>Notice the difference in your file path where I have made a change. \nThis code snippet is taken from <a href=\"https://github.com/dsgriffin/ionic-3-file-transfer-example\" rel=\"nofollow noreferrer\">dsgriffin ionic file tranfer repo</a> from <a href=\"https://github.com/dsgriffin/ionic-3-file-transfer-example/blob/master/src/pages/home/home.ts\" rel=\"nofollow noreferrer\">file</a></p>\n"}], "owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1724, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493725848, "creation_date": 1493723682, "last_edit_date": 1493725651, "question_id": 43736485, "link": "https://stackoverflow.com/questions/43736485/download-csv-file-with-angular-2-ionic-2", "title": "Download .csv File with angular 2 - Ionic 2", "body": "<p>I have an Ionic 2 app, and I need to download sample.csv file from server. I already have the url that I need to do the request:</p>\n\n<pre><code> let url = 'http://example.com/download/sample.csv';\n</code></pre>\n\n<p>I want to know how to do this. I tried with ionic2 FileTransfer:</p>\n\n<pre><code> importleads(){\n     const fileTransfer: TransferObject = this.transfer.create();\n     let url = 'http://example.com/download/sample.csv';\n     fileTransfer.download(url, this.file.dataDirectory + 'Import_Leads_Sample.csv').then((entry) =&gt; {\n        if(entry) {\n           console.log('download complete: ' + entry.toURL());\n           let alert = this.alertCtrl.create({\n           title: 'Lead Downloaded Successfully',\n           buttons: [{\n                     text: 'Ok',\n                    }]\n           });\n           alert.present();\n        }\n        else{\n            let alert = this.alertCtrl.create({\n            title: 'No File to download',\n            buttons: [{\n                       text: 'Ok',\n                     }] \n            });\n            alert.present();\n        }\n     });\n}\n\n&lt;button ion-button (click)=\"importleads()\"&gt;Test File Download&lt;/button&gt;\n</code></pre>\n\n<p>I have generated the android-debug.apk file and installed it in Samsung phone. I am getting alert message as <code>Lead Downloaded Successfully</code> but no file gets downloaded in the device. I searched entire phone disk but no file found.</p>\n\n<p>If I put this url in browser, it starts to download, but not with FileTransfer.</p>\n"}, {"tags": ["angular", "typescript", "post", "http-post", "angular2-http"], "comments": [{"owner": {"reputation": 122, "user_id": 4475458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000173338100/picture?type=large", "display_name": "Oleg Utkin", "link": "https://stackoverflow.com/users/4475458/oleg-utkin"}, "edited": false, "score": 0, "creation_date": 1493731941, "post_id": 43735699, "comment_id": 74521313, "body": "Try this <a href=\"http://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular-2\">answer</a>"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 2, "creation_date": 1493737969, "post_id": 43735699, "comment_id": 74525844, "body": "You cannot make a post request to a local JSON file, it can only handle get requests..."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493791703, "post_id": 43735699, "comment_id": 74546525, "body": "Consider using npm:json-server for that."}, {"owner": {"reputation": 49, "user_id": 7936349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4bcf3503ea865bd71cd87f66bd2a37?s=128&d=identicon&r=PG&f=1", "display_name": "Takler21", "link": "https://stackoverflow.com/users/7936349/takler21"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493797755, "post_id": 43735699, "comment_id": 74549770, "body": "@AluanHaddad thanks, that works"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493825553, "post_id": 43735699, "comment_id": 74570061, "body": "@Takler21 yeah I love that package, it&#39;s so simple and clean"}, {"owner": {"reputation": 49, "user_id": 7936349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4bcf3503ea865bd71cd87f66bd2a37?s=128&d=identicon&r=PG&f=1", "display_name": "Takler21", "link": "https://stackoverflow.com/users/7936349/takler21"}, "edited": false, "score": 0, "creation_date": 1493965020, "post_id": 43735699, "comment_id": 74635627, "body": "A php controller would work too?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1494089179, "post_id": 43735699, "comment_id": 74684200, "body": "@Takler21, yes... you could use for example Uniform Server. Works nicely, might be a cors issue, but that is pretty easily fixed :)"}], "owner": {"reputation": 49, "user_id": 7936349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4bcf3503ea865bd71cd87f66bd2a37?s=128&d=identicon&r=PG&f=1", "display_name": "Takler21", "link": "https://stackoverflow.com/users/7936349/takler21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1794, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1494330384, "creation_date": 1493721102, "last_edit_date": 1494330384, "question_id": 43735699, "link": "https://stackoverflow.com/questions/43735699/angular-2-post-method-to-local-json-file", "title": "Angular 2, post method to local json file", "body": "<p>I am starting to learn angular 2 and I want to add a new object in a json file, but I always have the following errors.</p>\n\n<blockquote>\n  <p><code>Failed to load resource: the server responded with a status of 405 (Method Not Allowed)</code></p>\n</blockquote>\n\n<pre><code>  zone.js:2164 POST http://localhost:50149/src/data.json 405 (Method Not Allowed)\n   scheduleTask @   zone.js:2164\n   ZoneDelegate.scheduleTask    @   zone.js:384\n   onScheduleTask   @   zone.js:274\n   ZoneDelegate.scheduleTask    @   zone.js:378\n   Zone.scheduleTask    @   zone.js:209\n   Zone.scheduleMacroTask   @   zone.js:232\n   (anonymous)  @   zone.js:2188\n   send @   VM45:3\n   (anonymous)  @   http.umd.js:1229\n   Observable.subscribe @   Observable.ts:98\n   AppComponent.addb    @   app.component.ts:61\n   View_AppComponent0.handleEvent_44    @   /AppModule/AppComponent/component.ngfactory.js:366\n  (anonymous)   @   platform-browser.umd.js:3221\n   ZoneDelegate.invokeTask  @   zone.js:398\n   onInvokeTask @   core.umd.js:4426\n   ZoneDelegate.invokeTask  @   zone.js:397\n   Zone.runTask @   zone.js:165\n   ZoneTask.invoke  @   zone.js:460\n</code></pre>\n\n<p>The service class:</p>\n\n<pre><code> @Injectable()\nexport class AppServices {\n\n    constructor(public http: Http){}\n\n    headers = new Headers({\n\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'     \n    });\n\n    public getJSON(): Observable&lt;any&gt; {\n        return this.http.get(\"data.json\")\n            .map((res: any) =&gt; res.json())\n            .catch((error: any) =&gt; console.log(error));\n    }\n\n    public add(body: any): Observable&lt;any&gt; {\n        let options = new RequestOptions({\n            method: RequestMethod.Post,\n            headers: this.headers,\n            body: JSON.stringify(body),\n            url: \"data.json\"\n        });\n        return this.http.request(new Request(options))\n    }\n}\n</code></pre>\n\n<p>The method get doesn't give any error, the problem is with methods post and put, the ones that modify the file json.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1026, "user_id": 1730904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef7b0963b0f73a3259f402492ef203e?s=128&d=identicon&r=PG", "display_name": "yallam", "link": "https://stackoverflow.com/users/1730904/yallam"}, "edited": false, "score": 2, "creation_date": 1502514214, "post_id": 43735678, "comment_id": 78252282, "body": "I strongly believe this question is not duplicate to attached. The attached question/answer gives different between two dates in years/months/days, but this question is different between two dates in days only.  The below answer by @mohammad works."}, {"owner": {"reputation": 1295, "user_id": 8355496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FSrXs.png?s=128&g=1", "display_name": "Ollie", "link": "https://stackoverflow.com/users/8355496/ollie"}, "edited": false, "score": 0, "creation_date": 1598828110, "post_id": 43735678, "comment_id": 112576296, "body": "The date-fns library&#39;s differenceInDays function is good for this <a href=\"https://date-fns.org/docs/differenceInDays\" rel=\"nofollow noreferrer\">date-fns.org/docs/differenceInDays</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8330, "user_id": 526095, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/18a525633cb2568d442be73076314c75?s=128&d=identicon&r=PG", "display_name": "Mihir", "link": "https://stackoverflow.com/users/526095/mihir"}, "edited": false, "score": 1, "creation_date": 1585482718, "post_id": 43735902, "comment_id": 107768723, "body": "This will work with daylight savings as well?"}, {"owner": {"reputation": 1295, "user_id": 8355496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FSrXs.png?s=128&g=1", "display_name": "Ollie", "link": "https://stackoverflow.com/users/8355496/ollie"}, "edited": false, "score": 1, "creation_date": 1598827590, "post_id": 43735902, "comment_id": 112576219, "body": "no, it won&#39;t work with daylight savings"}], "tags": [], "owner": {"reputation": 1523, "user_id": 4520520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/VMdkh.jpg?s=128&g=1", "display_name": "mohammad", "link": "https://stackoverflow.com/users/4520520/mohammad"}, "is_accepted": false, "score": 51, "last_activity_date": 1493721708, "creation_date": 1493721708, "answer_id": 43735902, "question_id": 43735678, "link": "https://stackoverflow.com/questions/43735678/typescript-get-difference-between-two-dates-in-days/43735902#43735902", "title": "TypeScript: Get difference between two dates in days", "body": "<pre><code>var diff = Math.abs(date1.getTime() - date2.getTime());\nvar diffDays = Math.ceil(diff / (1000 * 3600 * 24)); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1587065028, "post_id": 43735986, "comment_id": 108370374, "body": "I am not sure that is entirely correct by itself, I think you still need to do the diffDays calculation from the other answer. But it is correct you can replace the first statement in the other answer with what you suggest."}], "tags": [], "owner": {"reputation": 30533, "user_id": 651188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f08ef5baf6cd8f807d0baf2323904f61?s=128&d=identicon&r=PG", "display_name": "Roy Dictus", "link": "https://stackoverflow.com/users/651188/roy-dictus"}, "is_accepted": false, "score": 8, "last_activity_date": 1493722000, "creation_date": 1493722000, "answer_id": 43735986, "question_id": 43735678, "link": "https://stackoverflow.com/questions/43735678/typescript-get-difference-between-two-dates-in-days/43735986#43735986", "title": "TypeScript: Get difference between two dates in days", "body": "<p>I believe the shortest route is:</p>\n\n<pre><code>var diff = date1.valueOf() - date2.valueOf();\n</code></pre>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48198, "favorite_count": 4, "closed_date": 1493734636, "answer_count": 2, "score": 22, "last_activity_date": 1493722000, "creation_date": 1493721055, "question_id": 43735678, "link": "https://stackoverflow.com/questions/43735678/typescript-get-difference-between-two-dates-in-days", "closed_reason": "Duplicate", "title": "TypeScript: Get difference between two dates in days", "body": "<p>I need to get the difference between two dates in days.</p>\n\n<p>Up to now, I've been able to get the difference between two dates, but not in days:</p>\n\n<pre><code>date1.getTime() - date2.getTime();\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1493721830, "post_id": 43735623, "comment_id": 74514593, "body": "interfaces are not available at runtime. They are meant to describe a contract not to allow you to set default values. You could use a class for that."}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 7153151, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12891e9adb1f3a4911da1bccc76554e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7153151/jamie"}, "edited": false, "score": 0, "creation_date": 1493722735, "post_id": 43736064, "comment_id": 74515211, "body": "Awesome!! I was thinking the same :) Is it a good practice to add even the type definition to the object properties (ie. valueList: Array&lt;{&#39;Name&#39;: string; &#39;Age&#39;: boolean}&gt; or just say valueList: NameAge. Thanks again :)"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 337, "user_id": 7153151, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12891e9adb1f3a4911da1bccc76554e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7153151/jamie"}, "edited": false, "score": 0, "creation_date": 1493722892, "post_id": 43736064, "comment_id": 74515304, "body": "well.. if you don&#39;t add the typing yourself the compiler will most likely assume it will be <b>any</b> like the type of the Name and Age properties are in your example. You should type those as well."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 1, "last_activity_date": 1493722330, "creation_date": 1493722330, "answer_id": 43736064, "question_id": 43735623, "link": "https://stackoverflow.com/questions/43735623/populate-an-interface-property-with-values/43736064#43736064", "title": "Populate an interface property with values", "body": "<p>Interfaces will not allow you to do that. </p>\n\n<p>However you can do it with classes. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class NameAge {\n    public valueList: Array&lt;{ 'Name', 'Age' }&gt; = [{\n        'Name': 'J',\n        'Age': 'ABC'\n    }];\n}\n\n\nclass NameAgeChild extends NameAge {\n    public child: boolean\n\n    public adults() {\n        return this.valueList.filter(v =&gt; v.Age &gt;= 18);\n    }\n}\n</code></pre>\n\n\n\n<p>This however makes sense only if you need a class for this value (code + behaviour together) in your app. </p>\n\n<p>If not, just make a constant with the your values and use it when you create new instances.</p>\n"}], "owner": {"reputation": 337, "user_id": 7153151, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12891e9adb1f3a4911da1bccc76554e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7153151/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 43736064, "answer_count": 1, "score": 0, "last_activity_date": 1493722330, "creation_date": 1493720880, "question_id": 43735623, "link": "https://stackoverflow.com/questions/43735623/populate-an-interface-property-with-values", "title": "Populate an interface property with values", "body": "<p>I have an interface which I want to be populated automatically with some default data when I assign variables to it. The interface is saved in a module and I want to use it on other modules. How do I assign data to interface properties ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface NameAge {\r\n  valueList : Array&lt;{ 'Name', 'Age' }&gt;;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So I create let's say some variables in multiple modules that implement this interface.<br>\nHow do I assign some default value to the <strong>NameAge</strong> property. I can do it with a class containing <strong>listUsers</strong> as <strong>public static</strong> property but can't replace interface with class. Also I want the interface and the <em>listUsers</em> array of objects to be in the same module so I when I import the module, I get both the interface and listUsers with the default data already populated. Thanks :))</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1493720094, "post_id": 43735285, "comment_id": 74513401, "body": "it&#39;s just a linting error, it&#39;s telling you to use const instead of let in that for because you are never reassining prop to another value."}, {"owner": {"reputation": 2642, "user_id": 7764014, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ZvdDd.jpg?s=128&g=1", "display_name": "Mohammed Yassine CHABLI", "link": "https://stackoverflow.com/users/7764014/mohammed-yassine-chabli"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1493735241, "post_id": 43735285, "comment_id": 74523813, "body": "still given problem , is that problem caused by the wrong version of typescript ?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1493749043, "post_id": 43735285, "comment_id": 74532125, "body": "no, it&#39;s a style indication tslint gives you.. <a href=\"https://palantir.github.io/tslint/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1493781597, "post_id": 43735285, "comment_id": 74543362, "body": "It is good to follow this rule. It makes code easier to read and maintain."}, {"owner": {"reputation": 2642, "user_id": 7764014, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ZvdDd.jpg?s=128&g=1", "display_name": "Mohammed Yassine CHABLI", "link": "https://stackoverflow.com/users/7764014/mohammed-yassine-chabli"}, "edited": false, "score": 0, "creation_date": 1493797378, "post_id": 43735285, "comment_id": 74549544, "body": "yes i do , i &#39;m still searching for solution"}], "answers": [{"tags": [], "owner": {"reputation": 4621, "user_id": 3794100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49abb9b00a2f999b63dcb2a393808b33?s=128&d=identicon&r=PG", "display_name": "kit", "link": "https://stackoverflow.com/users/3794100/kit"}, "is_accepted": false, "score": 0, "last_activity_date": 1493720092, "creation_date": 1493720092, "answer_id": 43735342, "question_id": 43735285, "link": "https://stackoverflow.com/questions/43735285/error-in-typescript-for-each-loop-syntax/43735342#43735342", "title": "error in typescript for each loop syntax", "body": "<p>variable prop is only used to read. you do not assign anything to it so it doesn't change. this means it should be const not let.</p>\n"}, {"comments": [{"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1493720511, "post_id": 43735343, "comment_id": 74513693, "body": "Note that IDE and compilers are rarely wrong... With the exception of XCode :D"}, {"owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1493720914, "post_id": 43735343, "comment_id": 74513963, "body": "@n00dl3 hahaha! Yeah! Also you can decide what to show as error or not. So depends also on how you configured your IDE. Anyhow, are always a great help to produce a better code. IDE&#39;s corrections helped me a lot tbh... :D"}], "tags": [], "owner": {"reputation": 18527, "user_id": 3385459, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/613a20bbce0cf8aaf6923a72ec2ec3c6?s=128&d=identicon&r=PG", "display_name": "SrAxi", "link": "https://stackoverflow.com/users/3385459/sraxi"}, "is_accepted": true, "score": 4, "last_activity_date": 1493720468, "last_edit_date": 1493720468, "creation_date": 1493720092, "answer_id": 43735343, "question_id": 43735285, "link": "https://stackoverflow.com/questions/43735285/error-in-typescript-for-each-loop-syntax/43735343#43735343", "title": "error in typescript for each loop syntax", "body": "<p>Your IDE is right. You are declaring <code>prop</code> with <code>let</code> and not with <code>const</code>.</p>\n\n<p><code>let</code> is for variables that are subject to change. For example:</p>\n\n<pre><code>let x = 5;\nx = 7;\n</code></pre>\n\n<p>We declared <code>x</code> and then we changed it's value.</p>\n\n<p><code>const</code> is for values that won't change. For example:</p>\n\n<pre><code>const x = 5;\nx = 7; // Throws an error.\n</code></pre>\n\n<p>So, in your case, as <code>prop</code> doesn't and won't change, has to be a constant (<code>const</code>):</p>\n\n<pre><code>for (const  prop: string in c) {\n...}\n</code></pre>\n\n<p>Check <a href=\"https://github.com/lukehoban/es6features#let--const\" rel=\"nofollow noreferrer\">this documentation</a> for a deeper understanding.</p>\n"}, {"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1493781573, "post_id": 43735456, "comment_id": 74543357, "body": "An even cleaner approach than <code>Object.assign</code> would be to use <code>{...}</code>."}], "tags": [], "owner": {"reputation": 1077, "user_id": 1842492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cdba030782ef418b4477823d4e7e580?s=128&d=identicon&r=PG", "display_name": "gaa", "link": "https://stackoverflow.com/users/1842492/gaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1493720363, "creation_date": 1493720363, "answer_id": 43735456, "question_id": 43735285, "link": "https://stackoverflow.com/questions/43735285/error-in-typescript-for-each-loop-syntax/43735456#43735456", "title": "error in typescript for each loop syntax", "body": "<p>1st of all it is just linting error telling you that it is better to use <code>const</code> instead of <code>let</code> if you are not reassigning variable.</p>\n\n<p>2nd is that I would go with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">Object.assign()</a> instead which does the same but is one-liner.</p>\n"}], "owner": {"reputation": 2642, "user_id": 7764014, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ZvdDd.jpg?s=128&g=1", "display_name": "Mohammed Yassine CHABLI", "link": "https://stackoverflow.com/users/7764014/mohammed-yassine-chabli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 0, "accepted_answer_id": 43735343, "answer_count": 3, "score": 5, "last_activity_date": 1493721843, "creation_date": 1493719926, "last_edit_date": 1493721843, "question_id": 43735285, "link": "https://stackoverflow.com/questions/43735285/error-in-typescript-for-each-loop-syntax", "title": "error in typescript for each loop syntax", "body": "<p>I'm trying to make a class with typescript 2.0.3 but I have some problems and I don't know why.</p>\n\n<p>this is my code</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core'; \nimport {Car} from '../interfaces/car';\n\nclass PrimeCar implements Car \n{\n  constructor(public vin, public year, public brand, public color) {}\n}\n@Component({\n  selector: 'rb-test',\n  templateUrl: './test.component.html',\n  styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n  displayDialog: boolean;\n  car: Car = new PrimeCar(null, null, null , null);\n  selectedCar: Car;\n  newCar: boolean;\n  cars: Car[];\n  constructor() { }\n  ngOnInit() {\nthis.cars = [ {vin: '111', year: '5554' , brand: '5646' , color: '6466' },\n              {vin: '111', year: '5554' , brand: '5646' , color: '6466' },\n              {vin: '111', year: '5554' , brand: '5646' , color: '6466' },\n              {vin: '111', year: '5554' , brand: '5646' , color: '6466' }\n             ];\n  }    \n  showDialogToAdd() {\n    this.newCar = true;\n    this.car = new PrimeCar(null, null, null, null);\n    this.displayDialog = true;\n  }\n  save() {\n    const cars = [...this.cars];\n    if (this.newCar) {\n      cars.push(this.car);\n    } else {\n      cars[this.findSelectedCarIndex()] = this.car;\n    }\n    this.cars = cars;\n    this.car = null;\n    this.displayDialog = false;\n  }\n  delete() {\n    const index = this.findSelectedCarIndex();\n    this.cars = this.cars.filter((val, i) =&gt; i !== index);\n    this.car = null;\n    this.displayDialog = false;\n  }\n  onRowSelect(event) {\n    this.newCar = false;\n    this.car = this.cloneCar(event.data);\n    this.displayDialog = true;\n  }    \n  cloneCar(c: Car): Car {\n    const car = new PrimeCar(null, null, null, null);\n    for (let  prop: string in c) {\n      car[prop] = c[prop];\n    }\n    return car;\n  }\n  findSelectedCarIndex(): number {\n    return this.cars.indexOf(this.selectedCar);\n  }\n}\n</code></pre>\n\n<p>In the cloneCar method, I have this error when trying to write:</p>\n\n<pre><code>for (let  prop: string in c) {\n...}\n</code></pre>\n\n<blockquote>\n  <p>Tslint: identifier 'prop' is never reassigned ,use const instead of\n  let</p>\n</blockquote>\n\n<p>this is an image capture from my IDE:\n<a href=\"https://i.stack.imgur.com/254AK.png\" rel=\"nofollow noreferrer\">see error here </a></p>\n\n<p>NB: I'm using this code in angular project version 2.3.0</p>\n\n<p>Some help, please!</p>\n"}, {"tags": ["angular", "typescript", "checkbox"], "answers": [{"comments": [{"owner": {"reputation": 1446, "user_id": 7738433, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TMPtM.jpg?s=128&g=1", "display_name": "Harleen Kaur Arora", "link": "https://stackoverflow.com/users/7738433/harleen-kaur-arora"}, "edited": false, "score": 0, "creation_date": 1493786715, "post_id": 43749540, "comment_id": 74544677, "body": "Thanks But I understand solution."}], "tags": [], "owner": {"reputation": 371, "user_id": 5701814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1011918005532191/picture?type=large", "display_name": "Bhabani Das", "link": "https://stackoverflow.com/users/5701814/bhabani-das"}, "is_accepted": true, "score": 0, "last_activity_date": 1493774073, "creation_date": 1493774073, "answer_id": 43749540, "question_id": 43734755, "link": "https://stackoverflow.com/questions/43734755/how-to-display-checkbox-values-on-screen-if-it-is-checekd-using-formgroup-angula/43749540#43749540", "title": "How to display checkbox values on screen if it is checekd using formGroup Angular2", "body": "<p>The question is not very clear and you have not posted the whole code especially for the component.ts </p>\n\n<p>But for the code it seems </p>\n\n<pre><code>for (let i = 0; i &lt; this.extras.length; i++) {\n  let fg = new FormGroup({});\n  fg.addControl(this.extras[i].value, new FormControl(false))\n  allextras.push(fg)\n}\n</code></pre>\n\n<p>this part is causing your problem. \nyou are never assigning the formArray to the formGroup.</p>\n\n<p>I think this should help.</p>\n\n<pre><code>  this.testForm = new FormGroup({});\n  this.testForm.addControl(this.extras[i].value, new FormControl(false));\n</code></pre>\n\n<p>But some of the things still not clear and can cause problem . if this doesn't help please post the whole code.</p>\n"}], "owner": {"reputation": 1446, "user_id": 7738433, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TMPtM.jpg?s=128&g=1", "display_name": "Harleen Kaur Arora", "link": "https://stackoverflow.com/users/7738433/harleen-kaur-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "accepted_answer_id": 43749540, "answer_count": 1, "score": 0, "last_activity_date": 1493774073, "creation_date": 1493718320, "question_id": 43734755, "link": "https://stackoverflow.com/questions/43734755/how-to-display-checkbox-values-on-screen-if-it-is-checekd-using-formgroup-angula", "title": "How to display checkbox values on screen if it is checekd using formGroup Angular2", "body": "<p>I am <strong>angular2</strong> beginner. I am try to display checkbox values on screen if checkbox is checked and checkbox is unchecked so remove the value. I am use <strong>formGroup</strong> and <strong>formArray</strong> in angular2. </p>\n\n<p><strong>Html</strong> code here :- </p>\n\n<pre><code>&lt;form [formGroup] = \"testForm\"&gt;\n\n  &lt;div formArrayName=\"extras\"&gt;\n    &lt;span  *ngFor=\"let extra of extras; let i = index\" formGroupName=\"{{i}}\"&gt;\n        &lt;label class=\"btn btn-primary\" formControlName=\"{{extra.value}}\" btnCheckbox  [(ngModel)] = \"extra.status\"&gt;{{extra.display}}&lt;/label&gt;\n    &lt;/span&gt; \n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;!-- Display values of extras --&gt;\n&lt;div *ngIf=\"getFormValues?.extras\"&gt;\n   &lt;span  *ngFor=\"let extra of getFormValues?.extras; let i = index&gt;\n     {{extra.value}}\n   &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Component.ts</strong> code here </p>\n\n<pre><code>extras:any = [\n  { value: 'good', display: 'good', status: 'false'},\n  { value: 'bed', display: 'bed', status: 'false'},\n  { value: 'nice', display: 'bed', status: 'false'},\n]\n\nlet allextras: FormArray = new FormArray([]);\nfor (let i = 0; i &lt; this.extras.length; i++) {\n  let fg = new FormGroup({});\n  fg.addControl(this.extras[i].value, new FormControl(false))\n  allextras.push(fg)\n}\n\nthis.testForm.valueChanges.subscribe( (form: any) =&gt; {\n  this.getFormValues = form;\n});\n</code></pre>\n\n<p>This code is work well but does not display value of checkbox if checked the checkbox and visa versa. \nThanks!</p>\n"}, {"tags": ["typescript", "npm", "swagger", "aurelia"], "comments": [{"owner": {"reputation": 1020, "user_id": 1085837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8e9c78bd89874317e1ab2cd451ef50a5?s=128&d=identicon&r=PG", "display_name": "Arne Deruwe", "link": "https://stackoverflow.com/users/1085837/arne-deruwe"}, "edited": false, "score": 0, "creation_date": 1493815491, "post_id": 43734585, "comment_id": 74561958, "body": "Have you tried using Nswag instead for client side codegen? I&#39;m mentioning it because it has a specific Aurelia fetch client implementation. You don&#39;t have to use a .NET backend in order for it to work, a swagger.json file should do the trick. see: <a href=\"https://github.com/NSwag/NSwag\" rel=\"nofollow noreferrer\">github.com/NSwag/NSwag</a>"}, {"owner": {"reputation": 11, "user_id": 7951063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9defdd34c0975cad8ea2a5990cc449c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola", "link": "https://stackoverflow.com/users/7951063/nikola"}, "reply_to_user": {"reputation": 1020, "user_id": 1085837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8e9c78bd89874317e1ab2cd451ef50a5?s=128&d=identicon&r=PG", "display_name": "Arne Deruwe", "link": "https://stackoverflow.com/users/1085837/arne-deruwe"}, "edited": false, "score": 0, "creation_date": 1493904411, "post_id": 43734585, "comment_id": 74608750, "body": "Yes, I have looked into nswag already (just forgot to mention it..). I didn&#39;t feel quite comfortable introducing it into our build process since we are not working on Windows and would need Mono or the .NET console library as a dev dependecy."}, {"owner": {"reputation": 10516, "user_id": 876814, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b4a49a957a8aa04c94233abab37ec6c4?s=128&d=identicon&r=PG", "display_name": "Rico Suter", "link": "https://stackoverflow.com/users/876814/rico-suter"}, "edited": false, "score": 0, "creation_date": 1527085867, "post_id": 43734585, "comment_id": 87994903, "body": "BTW: NSwag can also be run on .NET Core on MacOS or Linux..."}], "answers": [{"tags": [], "owner": {"reputation": 1271, "user_id": 129674, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Euhl8.jpg?s=128&g=1", "display_name": "Jereme", "link": "https://stackoverflow.com/users/129674/jereme"}, "is_accepted": false, "score": 1, "last_activity_date": 1504114036, "creation_date": 1504114036, "answer_id": 45966434, "question_id": 43734585, "link": "https://stackoverflow.com/questions/43734585/integrate-swagger-typescript-fetch-api-into-aurelia-cli-tyepscript-project/45966434#45966434", "title": "Integrate swagger typescript-fetch api into aurelia-cli tyepscript project", "body": "<p>I modified one of the other TypeScript generators to generate a TypeScript client for the Aurelia Fetch Client:</p>\n\n<p><a href=\"https://github.com/jeremeevans/typescript-aurelia-fetch-client-generator\" rel=\"nofollow noreferrer\">https://github.com/jeremeevans/typescript-aurelia-fetch-client-generator</a></p>\n\n<p>My documentation there is pretty awful right now, but the basic steps are:</p>\n\n<ol>\n<li>Clone Swagger Codegen: git clone <a href=\"https://github.com/swagger-api/swagger-codegen.git\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen.git</a></li>\n<li>Navigate to the swagger-codegen directory and build/install it:\n\n<ul>\n<li>mvn clean package</li>\n<li>mvn install</li>\n</ul></li>\n<li>Go back to your git directory and clone the typescript-aurelia-fetch-client-generator: Git clone <a href=\"https://github.com/jeremeevans/typescript-aurelia-fetch-client-generator.git\" rel=\"nofollow noreferrer\">https://github.com/jeremeevans/typescript-aurelia-fetch-client-generator.git</a> </li>\n<li>Navigate to the typescript-aurelia-fetch-client-generator directory and build it:\n\n<ul>\n<li>mvn package</li>\n</ul></li>\n</ol>\n\n<p>Then create a config file for your library:</p>\n\n<pre><code>{\n  \"packageName\": \"MyLibraryName\",\n  \"modelPropertyNaming\": \"original\" // if you want to keep your casing on the models.\n}\n</code></pre>\n\n<p>Then to build your TypeScript client, navigate to the Swagger Codegen directory and run:</p>\n\n<pre><code>java -cp '../typescript-aurelia-fetch-client-generator/target/typescript-aurelia-fetch-client-swagger-codegen-1.0.0.jar;./modules/swagger-codegen-cli/target/swagger-codegen-cli.jar' io.swagger.codegen.Codegen -i http://localhost:8080/swagger/docs/v4 -l typescript-aurelia-fetch-client -o c:\\temp\\OutputFolder -c C:\\temp\\yourconfig.json\n</code></pre>\n\n<p>Obviously, replace <a href=\"http://localhost:8080/swagger/docs/v4\" rel=\"nofollow noreferrer\">http://localhost:8080/swagger/docs/v4</a> with the path to your Swagger definition.</p>\n\n<p>If this helped you, please star the repository. Also, contributions are welcome.</p>\n"}], "owner": {"reputation": 11, "user_id": 7951063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9defdd34c0975cad8ea2a5990cc449c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola", "link": "https://stackoverflow.com/users/7951063/nikola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504114036, "creation_date": 1493717792, "question_id": 43734585, "link": "https://stackoverflow.com/questions/43734585/integrate-swagger-typescript-fetch-api-into-aurelia-cli-tyepscript-project", "title": "Integrate swagger typescript-fetch api into aurelia-cli tyepscript project", "body": "<p>For a web project I want to create a swagger (open api) api to use for both, the backend server (go) and the frontend (aurela-cli + typescript).</p>\n\n<p>The <code>swagger-codegen</code> tool supports the following client generators<br>\n- typescript-angular<br>\n- typescript-angular2<br>\n- typescript-node<br>\n- typescript-fetch  </p>\n\n<p>Now, the first three obviously do not apply to this problem so I am left with <code>typescript-fetch</code>. To generate the client from a <code>swagger.yml</code> I use the following:<br>\n<code>swagger-codegen generate -i swagger.yml -l typescript-fetch -o api</code></p>\n\n<p>This results in a project folder as seen in the <a href=\"https://github.com/swagger-api/swagger-codegen/tree/master/samples/client/petstore/typescript-fetch/builds/default\" rel=\"nofollow noreferrer\">swagger repository</a>.</p>\n\n<p>The questions is how to include this in an aurelia project.</p>\n\n<p>I already ran <code>npm install</code> which resulted in a transpiled api.js (and corresponding api.d.ts). I am however, unsure how to proceed next.</p>\n\n<p>1) Where should I put this folder?<br>\n- <code>src/api</code><br>\n- <code>node-modules/&lt;fake-module-name&gt;</code><br>\n-  somewhere else  </p>\n\n<p>2) How do I inform aurelia about the 'module' in the <code>aurelia.json</code> file?<br>\n- <code>\"&lt;fake-module-name&gt;\"</code><br>\n- <code>\"{\n        \"name\": \"&lt;fake-module-name&gt;\",\n        \"path\": \"../node_modules/&lt;fake-module-name&gt;dist\",\n        \"main\": \"api\"\n      }</code><br>\n- something else</p>\n\n<p>The main problem I am hitting is that, even though aurelia.json knows about the api in the  module, the dependencies within this module bring the build process (<code>au run --watch)</code> to a halt, as they are somehow looked for in the front-end's <code>src</code> directory.</p>\n\n<p>Any help on how to resolve this would be highly appreciated.</p>\n\n<p>P.S. I have a slight feeling that I would have to 'simply' import the api module's dependencies and their dependencies and so on into the aurelia.json...</p>\n"}, {"tags": ["angular", "typescript", "dropdown", "bootstrapping"], "comments": [{"owner": {"reputation": 1012, "user_id": 2448440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e087e22595668ec941533856e078bad?s=128&d=identicon&r=PG", "display_name": "Qw3ry", "link": "https://stackoverflow.com/users/2448440/qw3ry"}, "edited": false, "score": 0, "creation_date": 1513863121, "post_id": 43733967, "comment_id": 82819870, "body": "See <a href=\"https://stackoverflow.com/a/34736563/2448440\">here</a> to get an idea how you can separate the code into a separate angular component."}], "answers": [{"comments": [{"owner": {"reputation": 3619, "user_id": 5471259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PlkBs.jpg?s=128&g=1", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/5471259/pradeep"}, "edited": false, "score": 0, "creation_date": 1493717029, "post_id": 43734048, "comment_id": 74511473, "body": "I added the ngx-bootstrap dependency in package.json but still I faced same issue."}, {"owner": {"reputation": 1448, "user_id": 7313391, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/RS1U3.png?s=128&g=1", "display_name": "Liu Zhang", "link": "https://stackoverflow.com/users/7313391/liu-zhang"}, "reply_to_user": {"reputation": 3619, "user_id": 5471259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PlkBs.jpg?s=128&g=1", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/5471259/pradeep"}, "edited": false, "score": 0, "creation_date": 1493717130, "post_id": 43734048, "comment_id": 74511544, "body": "Did you followed instruction? or can you share any plunker? then it would be great."}, {"owner": {"reputation": 1448, "user_id": 7313391, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/RS1U3.png?s=128&g=1", "display_name": "Liu Zhang", "link": "https://stackoverflow.com/users/7313391/liu-zhang"}, "reply_to_user": {"reputation": 3619, "user_id": 5471259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PlkBs.jpg?s=128&g=1", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/5471259/pradeep"}, "edited": false, "score": 0, "creation_date": 1493717910, "post_id": 43734048, "comment_id": 74512002, "body": "Actually bootstrap and ngx-bootstrap is little different. I will edit answer."}], "tags": [], "owner": {"reputation": 1448, "user_id": 7313391, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/RS1U3.png?s=128&g=1", "display_name": "Liu Zhang", "link": "https://stackoverflow.com/users/7313391/liu-zhang"}, "is_accepted": true, "score": 10, "last_activity_date": 1493718133, "last_edit_date": 1493718133, "creation_date": 1493716013, "answer_id": 43734048, "question_id": 43733967, "link": "https://stackoverflow.com/questions/43733967/how-to-use-bootstrap-drop-down-in-angular2-application/43734048#43734048", "title": "How to use Bootstrap drop down in Angular2 application?", "body": "<p>ngx-bootstrap is available for Angular Project.(above version 2).</p>\n\n<p>Here is link : <a href=\"http://valor-software.com/ngx-bootstrap/#/dropdowns\" rel=\"noreferrer\">http://valor-software.com/ngx-bootstrap/#/dropdowns</a></p>\n\n<p>You can use it on your project.</p>\n\n<p>Instructions </p>\n\n<p><strong>do <code>npm install ngx-bootstrap --save</code></strong></p>\n\n<p><strong>Import Dropdown Module</strong></p>\n\n<pre><code>// RECOMMENDED (doesn't work with system.js)\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\n// or\nimport { BsDropdownModule } from 'ngx-bootstrap';\n\n@NgModule({\n  imports: [BsDropdownModule.forRoot(),...]\n})\nexport class AppModule(){}\n\n&lt;div class=\"btn-group\" dropdown&gt;\n  &lt;button dropdownToggle type=\"button\" class=\"btn btn-primary dropdown-toggle\"&gt;\n    Button dropdown &lt;span class=\"caret\"&gt;&lt;/span&gt;\n  &lt;/button&gt;\n  &lt;ul *dropdownMenu class=\"dropdown-menu\" role=\"menu\"&gt;\n    &lt;li role=\"menuitem\"&gt;&lt;a class=\"dropdown-item\" href=\"#\"&gt;Action&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"menuitem\"&gt;&lt;a class=\"dropdown-item\" href=\"#\"&gt;Another action&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"menuitem\"&gt;&lt;a class=\"dropdown-item\" href=\"#\"&gt;Something else here&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"divider dropdown-divider\"&gt;&lt;/li&gt;\n    &lt;li role=\"menuitem\"&gt;&lt;a class=\"dropdown-item\" href=\"#\"&gt;Separated link&lt;/a&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "edited": false, "score": 0, "creation_date": 1535470060, "post_id": 51955343, "comment_id": 91073156, "body": "Thank you this is much simpler than bringing in an extra dependency (nothing against ngx-bootstrap but this is pretty easy to implement yourself once I knew what class to add to what element).  Just a note you can also just use ngClass to apply the classes to the appropriate element also I think the .toggle function on classList will add/remove as needed."}, {"owner": {"reputation": 553, "user_id": 886432, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3d6cea6632e81e287c5e16fd4cda1a01?s=128&d=identicon&r=PG", "display_name": "FunkMonkey33", "link": "https://stackoverflow.com/users/886432/funkmonkey33"}, "edited": false, "score": 0, "creation_date": 1570091852, "post_id": 51955343, "comment_id": 102806855, "body": "IMO opinion, this should be the answer, as the accepted answer doesn&#39;t actually answer the question."}], "tags": [], "owner": {"reputation": 384, "user_id": 4033389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VlGst.jpg?s=128&g=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/4033389/vishal"}, "is_accepted": false, "score": 4, "last_activity_date": 1534879166, "creation_date": 1534879166, "answer_id": 51955343, "question_id": 43733967, "link": "https://stackoverflow.com/questions/43733967/how-to-use-bootstrap-drop-down-in-angular2-application/51955343#51955343", "title": "How to use Bootstrap drop down in Angular2 application?", "body": "<p>To use bootstrap dropdown in angular you need add two classes - \none <strong>show</strong> class at parent dropdown element i.e. dropdown and other <strong>show</strong> class at its child dropdown-menu.</p>\n\n<p>To do that you can either create a dropdown compenent and pass list of values as an array to it with their click handlers or create a custom directive.</p>\n\n<p>Custom Dropdown directive approach:</p>\n\n<pre><code>import { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[appDropdown]'\n})\nexport class DropdownDirective {\n\n  constructor(private el: ElementRef) { }\n\n  //Binding click to Add show class \n  @HostListener('click') onclick() {\n\n    var parent = this.el.nativeElement;//parent element\n    parent.classList.toggle('show');\n    var child = [].filter.call(this.el.nativeElement.children, function(ele) {\n      return ele.classList.contains('dropdown-menu');\n    }); //Identify the child element on dropdown clicked- dropdwon menu\n\n    if(child.length) {\n      child[0].classList.toggle('show');\n    }\n  }\n\n}\n</code></pre>\n\n<p>Now in the template attach this at bootstrap dropdown:</p>\n\n<pre><code>&lt;li class=\"nav-item dropdown\" appDropdown&gt;\n   &lt;a class=\"nav-link dropdown-toggle\"  id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n     Username\n   &lt;/a&gt;\n   &lt;div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"&gt;\n      &lt;a class=\"dropdown-item\" &gt;Profile 2&lt;/a&gt;\n      &lt;a class=\"dropdown-item\" &gt;Logout 2&lt;/a&gt;\n   &lt;/div&gt;\n &lt;/li&gt;\n</code></pre>\n\n<p><strong>NOTE</strong> - This solution is for Bootstrap 4 Dropdown only, for Boostrap 3 you need to identify the classes that need to be attached. It must be <strong>open</strong> class on parent level only.</p>\n"}], "owner": {"reputation": 3619, "user_id": 5471259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PlkBs.jpg?s=128&g=1", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/5471259/pradeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24033, "favorite_count": 2, "accepted_answer_id": 43734048, "answer_count": 2, "score": 6, "last_activity_date": 1534879166, "creation_date": 1493715768, "last_edit_date": 1522868231, "question_id": 43733967, "link": "https://stackoverflow.com/questions/43733967/how-to-use-bootstrap-drop-down-in-angular2-application", "title": "How to use Bootstrap drop down in Angular2 application?", "body": "<p>In my current project I want to add the dropdowns, for that I took the code from this <a href=\"http://bootswatch.com/default/#navbar\" rel=\"nofollow noreferrer\">link</a>. After added the below code, the dropdown appears as in the example but when I click it nothing happens.</p>\n\n<pre><code>   &lt;li class=\"dropdown\"&gt;\n                &lt;a [routerLink]=\"['/frontendai']\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;Application Insights &lt;span class=\"caret\"&gt;&lt;/span&gt;&lt;/a&gt;\n                &lt;ul class=\"dropdown-menu\" role=\"menu\"&gt;\n                    &lt;li&gt;&lt;a [routerLink]=\"['/frontendai']\"&gt;FrontEnd AI&lt;/a&gt;&lt;/li&gt;\n                    &lt;li class=\"divider\"&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a [routerLink]=\"['/apiai']\"&gt;API AI&lt;/a&gt;&lt;/li&gt;\n                    &lt;li class=\"divider\"&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a [routerLink]=\"['/apiai']\"&gt;SQL Exception&lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n</code></pre>\n\n<p>I used Bootstrap version 3.3.7, and added the below lines in my <strong>index.cshtml</strong></p>\n\n<pre><code>&lt;link href=\"node_modules/bootstrap/dist/css/bootstrap.css\" rel=\"stylesheet\" /&gt;\n&lt;link href=\"node_modules/bootstrap/dist/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\n&lt;script src=\"~/node_modules/bootstrap/dist/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>How can I use Bootstrap dropdown in Angular 2 project?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "edited": false, "score": 0, "creation_date": 1493793694, "post_id": 43741568, "comment_id": 74547458, "body": "Thanks for the help. What about enumerating all the decorated properties of a class?"}, {"owner": {"reputation": 17238, "user_id": 391150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ui9v.png?s=128&g=1", "display_name": "blorkfish", "link": "https://stackoverflow.com/users/391150/blorkfish"}, "reply_to_user": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "edited": false, "score": 0, "creation_date": 1493813472, "post_id": 43741568, "comment_id": 74560437, "body": "I believe that you would need to create your own decorator to store this information.  Remember that a property decorator is simply a function that is called once per decorated property.  If you stored this information, you would be able to retrieve it later..."}, {"owner": {"reputation": 983, "user_id": 1822346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8daecd159556acfc934ebdaa42d3e058?s=128&d=identicon&r=PG", "display_name": "j_walker_dev", "link": "https://stackoverflow.com/users/1822346/j-walker-dev"}, "edited": false, "score": 0, "creation_date": 1507411992, "post_id": 43741568, "comment_id": 80201206, "body": "Did you ever do @blorkfish&#39;s last comment? That happens to be exactly what i need."}], "tags": [], "owner": {"reputation": 17238, "user_id": 391150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ui9v.png?s=128&g=1", "display_name": "blorkfish", "link": "https://stackoverflow.com/users/391150/blorkfish"}, "is_accepted": true, "score": 1, "last_activity_date": 1493738234, "creation_date": 1493738234, "answer_id": 43741568, "question_id": 43733605, "link": "https://stackoverflow.com/questions/43733605/reflect-metadata-and-querying-the-object-for-decorators/43741568#43741568", "title": "reflect-metadata and querying the object for decorators", "body": "<p>Property decorators are called once per property definition within a class, when the class is defined.  </p>\n\n<p>This means that if you decorate the properties in SomeClass with @myDecorator:</p>\n\n<pre><code>export class SomeClass {\n    @myDecorator\n    someProperty: string;\n}\n</code></pre>\n\n<p>Then the myDecorator function will be called with:<br>\ntarget: ( the SomeClass definition )<br>\nkey : ( the name of the property )</p>\n\n<p>When you enable metadata through the \"emitDecoratorMetadata\" property, the TypeScript compiler will generate the following metadata properties:</p>\n\n<p><code>'design:type'</code>, <code>'design:paramtypes'</code> and <code>'design:returntype'</code>.  </p>\n\n<p>This then allows you to call Reflect.getMetadata with any of the above keys.  i.e:  </p>\n\n<pre><code>Reflect.getMetadata('design:type', ...)\nReflect.getMetadata('design:paramtypes',...)\nReflect.getMetadata('design:returntype', ...)\n</code></pre>\n\n<p>You cannot call Reflect.getMetadata with the name of the decorator.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10710907, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/cc723196f08304e844c873ea22f70387?s=128&d=identicon&r=PG", "display_name": "RotemGe", "link": "https://stackoverflow.com/users/10710907/rotemge"}, "is_accepted": false, "score": 1, "last_activity_date": 1543313316, "creation_date": 1543313316, "answer_id": 53497242, "question_id": 43733605, "link": "https://stackoverflow.com/questions/43733605/reflect-metadata-and-querying-the-object-for-decorators/53497242#53497242", "title": "reflect-metadata and querying the object for decorators", "body": "<p>What you need is to implement globalVariable in the following way:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function globalVariable(target: any, propertyKey: string | Symbol): void {\r\n    let variables = Reflect.getOwnMetadata(\"globalVariable\", target.constructor) || [];\r\n    variables.push(propertyKey);\r\n    Reflect.defineMetadata(\"globalVariable\", variables, target.constructor);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then, on run time, you'll be able to call</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Reflect.getMetadata('globalVariable', this);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>as you wanted.</p>\n"}], "owner": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4842, "favorite_count": 6, "accepted_answer_id": 43741568, "answer_count": 2, "score": 5, "last_activity_date": 1543313316, "creation_date": 1493714565, "question_id": 43733605, "link": "https://stackoverflow.com/questions/43733605/reflect-metadata-and-querying-the-object-for-decorators", "title": "reflect-metadata and querying the object for decorators", "body": "<p>I have a decorator that simply does nothing:</p>\n\n<pre><code>export function myDecorator(target: any, key: string) {\n   var t = Reflect.getMetadata(\"design:type\", target, key);\n}\n</code></pre>\n\n<p>I use this decorator with a property of a class:</p>\n\n<pre><code>export class SomeClass {\n\n    @globalVariable\n    someProperty: string;\n\n    @globalVariable\n    fakeProperty: number;\n}\n</code></pre>\n\n<p>Now, what I want to do is, get all the properties of the class decorated with the @globalVariable decorator.</p>\n\n<p>I tried using \"reflect-metadata\" with:</p>\n\n<pre><code>Reflect.getMetadata('globalVariable', this);\n</code></pre>\n\n<p>but all I get is \"undefined\". Is this possible with reflect-metadata or am I getting this totally wrong?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1269, "user_id": 5144974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BLgTy.jpg?s=128&g=1", "display_name": "Roljhon", "link": "https://stackoverflow.com/users/5144974/roljhon"}, "edited": false, "score": 1, "creation_date": 1493714655, "post_id": 43733589, "comment_id": 74510193, "body": "have you tried something? typescript is just like javascript, objects are the same for both I believed"}, {"owner": {"reputation": 59, "user_id": 7844220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e673724c43f139475e6d8b475506b341?s=128&d=identicon&r=PG&f=1", "display_name": "jjijji", "link": "https://stackoverflow.com/users/7844220/jjijji"}, "reply_to_user": {"reputation": 1269, "user_id": 5144974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BLgTy.jpg?s=128&g=1", "display_name": "Roljhon", "link": "https://stackoverflow.com/users/5144974/roljhon"}, "edited": false, "score": 0, "creation_date": 1493714749, "post_id": 43733589, "comment_id": 74510244, "body": "I tried to create class with name: string, and Array&lt;{&quot;nom-colonne&quot;:{&quot;type&quot;:&quot;value&quot;,&quot;filter&quot;:&quot;value&quot;}}&gt; but i didn&#39;t know how to declare it."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1493715573, "post_id": 43733589, "comment_id": 74510678, "body": "are you sure a class is what you want to create, and not an interface?"}, {"owner": {"reputation": 59, "user_id": 7844220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e673724c43f139475e6d8b475506b341?s=128&d=identicon&r=PG&f=1", "display_name": "jjijji", "link": "https://stackoverflow.com/users/7844220/jjijji"}, "edited": false, "score": 0, "creation_date": 1493716202, "post_id": 43733589, "comment_id": 74511001, "body": "yes because i want to have setters and getters not read only attributes"}, {"owner": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1493716535, "post_id": 43733589, "comment_id": 74511175, "body": "@toskv Why an interface over class?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "edited": false, "score": 2, "creation_date": 1493716848, "post_id": 43733589, "comment_id": 74511372, "body": "@M98 An interface can be used to describe a structure. A class also encapsulates some methods that do some logic with that data. So if all you need is to define the type of a structure it&#39;s better to just use an interface. If you need some logic attached to an instance you should make a class."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7844220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e673724c43f139475e6d8b475506b341?s=128&d=identicon&r=PG&f=1", "display_name": "jjijji", "link": "https://stackoverflow.com/users/7844220/jjijji"}, "edited": false, "score": 0, "creation_date": 1493715961, "post_id": 43733949, "comment_id": 74510877, "body": "private _name:string;    private _filterModel:Array&lt;{ [s: string]: {type:string,filter:string} }&gt;  i made this structure thank&#39;s for ur help also"}, {"owner": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "edited": false, "score": 0, "creation_date": 1493716487, "post_id": 43733949, "comment_id": 74511153, "body": "Is there any particular reason for using interface?"}, {"owner": {"reputation": 59, "user_id": 7844220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e673724c43f139475e6d8b475506b341?s=128&d=identicon&r=PG&f=1", "display_name": "jjijji", "link": "https://stackoverflow.com/users/7844220/jjijji"}, "edited": false, "score": 0, "creation_date": 1493717145, "post_id": 43733949, "comment_id": 74511554, "body": "no i used this structure but in a class cause i need setters and getters and other methods also ;)"}, {"owner": {"reputation": 440, "user_id": 6562327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yinbj.jpg?s=128&g=1", "display_name": "Wilco Bakker", "link": "https://stackoverflow.com/users/6562327/wilco-bakker"}, "reply_to_user": {"reputation": 59, "user_id": 7844220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e673724c43f139475e6d8b475506b341?s=128&d=identicon&r=PG&f=1", "display_name": "jjijji", "link": "https://stackoverflow.com/users/7844220/jjijji"}, "edited": false, "score": 1, "creation_date": 1493717507, "post_id": 43733949, "comment_id": 74511738, "body": "@jjijji well, you didn&#39;t specify you needed methods or properties so I thought you might have been better off using an interface because I couldn&#39;t know better that the description you gave."}], "tags": [], "owner": {"reputation": 440, "user_id": 6562327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yinbj.jpg?s=128&g=1", "display_name": "Wilco Bakker", "link": "https://stackoverflow.com/users/6562327/wilco-bakker"}, "is_accepted": true, "score": 7, "last_activity_date": 1493716130, "last_edit_date": 1493716130, "creation_date": 1493715713, "answer_id": 43733949, "question_id": 43733589, "link": "https://stackoverflow.com/questions/43733589/complex-object-in-typescript/43733949#43733949", "title": "Complex object in typescript", "body": "<p>What you might be looking for is an interface.</p>\n\n<pre><code>interface IExample {\n    name: string;\n    array: Array&lt;{\n        nomColonne: {\n            type: string,\n            typeWithSpecificValues: \"value\", | \"key\" // Alternative for type\n            filter: string,\n        }\n    }&gt;,\n}\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>let example: IExample = {\n    name: \"Arnold\",\n    array: [\n        nomColonne: {\n            type: \"value\",\n            typeWithSpecificValues: \"key\", // Alternative for type\n            filter: \"value\",\n        },\n    ],\n};\n</code></pre>\n\n<p>I hope this is what you were looking for.</p>\n"}], "owner": {"reputation": 59, "user_id": 7844220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e673724c43f139475e6d8b475506b341?s=128&d=identicon&r=PG&f=1", "display_name": "jjijji", "link": "https://stackoverflow.com/users/7844220/jjijji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4821, "favorite_count": 0, "accepted_answer_id": 43733949, "answer_count": 1, "score": 2, "last_activity_date": 1548151081, "creation_date": 1493714530, "last_edit_date": 1548151081, "question_id": 43733589, "link": "https://stackoverflow.com/questions/43733589/complex-object-in-typescript", "title": "Complex object in typescript", "body": "<p>I am new to typescript.I want to create a class that defines an object with this structure:</p>\n\n<pre><code>name(string),\nArray{\n       \"nom-colonne\":\n                     {\n                      \"type\":\"value\",\n                       \"filter\":\"value\"\n                     }\n     }\n</code></pre>\n"}, {"tags": ["excel", "typescript", "office-js"], "comments": [{"owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "edited": false, "score": 1, "creation_date": 1493828605, "post_id": 43733508, "comment_id": 74572049, "body": "Let me ask around, and we&#39;ll get back to you."}, {"owner": {"reputation": 1209, "user_id": 1982788, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/989a08a2ce8699901857e5dbbbc101d4?s=128&d=identicon&r=PG", "display_name": "jayars", "link": "https://stackoverflow.com/users/1982788/jayars"}, "reply_to_user": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "edited": false, "score": 0, "creation_date": 1495014553, "post_id": 43733508, "comment_id": 75069484, "body": "@MichaelZlatkovsky-Microsoft Thanks. I&#39;ve recently updated my question with code, if it&#39;ll help."}], "owner": {"reputation": 1209, "user_id": 1982788, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/989a08a2ce8699901857e5dbbbc101d4?s=128&d=identicon&r=PG", "display_name": "jayars", "link": "https://stackoverflow.com/users/1982788/jayars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1494565986, "creation_date": 1493714223, "last_edit_date": 1494565986, "question_id": 43733508, "link": "https://stackoverflow.com/questions/43733508/how-to-debug-office-js-excel-2016-crashes", "title": "How to debug Office.js + Excel 2016 crashes", "body": "<p>(Rewrote this entire post. Please check edit history for previous version)</p>\n\n<p>Help needed:</p>\n\n<ol>\n<li>I am experiencing frequent Excel (desktop) crashes with my Office.js project</li>\n<li>Crashes even with all Exception breakpoints enabled in VS</li>\n<li>Seems to crash at random </li>\n<li>Only an APPCRASH log in EventViewer</li>\n<li>Code runs fine in Excel Online</li>\n<li>Need advice on a better workflow (debugging crashes) for Office.js development.</li>\n</ol>\n\n<p>My environment:</p>\n\n<ol>\n<li>Typescript@2.3.2</li>\n<li>core-js@2.4.1 (Promise polyfill)</li>\n<li>Visual Studio 2015 (Update 3)</li>\n<li>Excel 2016 Pro Plus - 1703 (Build 7967.2139)    </li>\n</ol>\n\n<p>I have finally reduced my code to a bare-minimum example.</p>\n\n<ol>\n<li>Crashes at different iterations (ie, 1st, 6th, etc)</li>\n<li>If I comment out either line (at <code>//TEST1</code> or <code>//TEST2</code>), then code runs till completion (must restart Excel completely after code change).</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>// Office.js entry point\nOffice.initialize = async function (reason) {\n\n    console.log(\"Office.JS initialized!\");\n    console.log(\"Test Start\");\n    for(var i=0; i&lt;100; i++) {\n        console.log(`Iteration ${i}`);\n\n        await ConvertToListObjectTest(); // TEST1\n        await DeleteEntireRowTest();     // TEST2\n    }\n    console.log(\"Test End\");\n\n}\n\n// Setup: Generates and activates a random, test worksheet\nasync function Setup(ctx: Excel.RequestContext): Promise&lt;Excel.Worksheet&gt; {\n\n    // Create\n    const sheetName = `Sheet${+new Date}`;\n    const worksheet = ctx.workbook.worksheets.add(sheetName);\n    ctx.trackedObjects.add(worksheet);\n\n    // Activate\n    worksheet.activate();\n    await ctx.sync();\n\n    return worksheet;\n}\n\n// TearDown: Cleanup test worksheet\nasync function TearDown(ctx:Excel.RequestContext, worksheet: Excel.Worksheet): Promise&lt;void&gt; {\n    worksheet.delete();\n    await ctx.sync();\n}\n\n// Test deleting entire rows, given a range\nasync function DeleteEntireRowTest(): Promise&lt;void&gt; {\n\n    await Excel.run( async ctx=&gt; {\n        // == SETUP ============\n        const worksheet = await Setup(ctx);\n\n        // == RUN ============\n        // Range to delete\n        const range = await worksheet.getRange(\"B1:B2\");\n        ctx.trackedObjects.add(range);\n        await ctx.sync();\n\n        // Get entire rows from range\n        const entireRow = range.getEntireRow();\n        entireRow.load(\"address\");\n        await ctx.sync();\n        ctx.trackedObjects.add(entireRow);\n\n        // Delete entire rows\n        console.log(`Deleting: ${entireRow.address}`);\n        entireRow.delete(Excel.DeleteShiftDirection.up);\n        await ctx.sync();\n\n        // == CLEAN UP ============\n        await TearDown(ctx, worksheet);\n    });\n}\n\n// Test: Given a range, convert to table\nasync function ConvertToListObjectTest(): Promise&lt;void&gt; {\n\n    await Excel.run( async ctx =&gt; {\n        // == SETUP ============\n        const worksheet = await Setup(ctx);\n\n        // == RUN ============\n\n        // Ger range to convert\n        const range = worksheet.getRange(\"B3:E20\");\n        ctx.trackedObjects.add(range);\n\n        // Convert to table\n        const table = worksheet.tables.add(range, true);\n        ctx.trackedObjects.add(table);\n        await ctx.sync();\n\n        // Check table name\n        table.load(\"name\");\n        await ctx.sync();\n        console.log(\"Table added: \" + table.name);\n\n        // == CLEAN UP ============\n        await TearDown(ctx, worksheet);\n    });\n}\n</code></pre>\n\n<p>Because there is no crash info, nor does it break in Visual Studio, I have no idea when/where/what is causing the crash.</p>\n\n<p>In order to come up with this bare-minimum example, I literally had to comment my code line-by-line, recompile, rerun and crash, repeat.</p>\n\n<p>This was an extremely painful process of isolating the offending code.</p>\n\n<p>So my last question is:</p>\n\n<p><strong>is there a better way/workflow for developing office.js projects</strong>? Especially when dealing with bugs, whether it is my code, office.js, or Excel itself?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4575, "user_id": 5463904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DKN09.jpg?s=128&g=1", "display_name": "Lo&#239;cR", "link": "https://stackoverflow.com/users/5463904/lo%c3%afcr"}, "edited": false, "score": 0, "creation_date": 1493713526, "post_id": 43733275, "comment_id": 74509618, "body": "Guess the &quot;construcotr&quot; mistake is not present in your code?"}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "reply_to_user": {"reputation": 4575, "user_id": 5463904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DKN09.jpg?s=128&g=1", "display_name": "Lo&#239;cR", "link": "https://stackoverflow.com/users/5463904/lo%c3%afcr"}, "edited": false, "score": 0, "creation_date": 1493713575, "post_id": 43733275, "comment_id": 74509637, "body": "well thats not the case, i misstype here"}, {"owner": {"reputation": 1010, "user_id": 1460621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/339866c503529a7eef04888df0c89ad5?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1460621/max"}, "edited": false, "score": 0, "creation_date": 1493715431, "post_id": 43733275, "comment_id": 74510613, "body": "Does this.concept contain store value?"}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493715630, "post_id": 43733275, "comment_id": 74510707, "body": "yes it is, thats on diferent function and its working fine, my problem is when i get value in string and i want to pass it to the combo box so on the user interface it display it for the user"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1493716798, "post_id": 43733275, "comment_id": 74511331, "body": "Note that <code>store</code> is a string of the form <code>&quot;1,2,3&quot;</code> if <code>rData.length&gt;1</code>"}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493717035, "post_id": 43733275, "comment_id": 74511476, "body": "please have a look again of what console log of store"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1493718067, "post_id": 43733275, "comment_id": 74512084, "body": "please show where you put your <code>console.log</code>, that does not mean anything if you put it at the wrong place."}, {"owner": {"reputation": 3890, "user_id": 4335507, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b6736076623ffcb3cd5625dfb9719dd7?s=128&d=identicon&r=PG", "display_name": "Elmer Dantas", "link": "https://stackoverflow.com/users/4335507/elmer-dantas"}, "edited": false, "score": 0, "creation_date": 1493718662, "post_id": 43733275, "comment_id": 74512470, "body": "if you remove <code>[(ngModel)]=&quot;empfile.storeno&quot;</code> does it works?. this <code>map</code> generate a string of numbers separated by comma...and you&#39;re use this value as <code>selectedValue</code>...sounds weird for me."}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493719352, "post_id": 43733275, "comment_id": 74512890, "body": "it doesnot work if i remove it, cause i need it to send value."}, {"owner": {"reputation": 3890, "user_id": 4335507, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b6736076623ffcb3cd5625dfb9719dd7?s=128&d=identicon&r=PG", "display_name": "Elmer Dantas", "link": "https://stackoverflow.com/users/4335507/elmer-dantas"}, "edited": false, "score": 0, "creation_date": 1493722208, "post_id": 43733275, "comment_id": 74514854, "body": "I was asking about the <code>select</code>, not the solution. It would be interesting to find out what is the source of your problem...as you said that your <code>concept</code> works, it should show the select options filled...if the options were shown without <code>[(ngModel)]=&quot;empfile.storeno&quot;</code> you&#39;ll identify the source of your problem (that I&#39;m quite sure that is the <code>empfile.storeno</code>)"}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493775558, "post_id": 43733275, "comment_id": 74542118, "body": "im adding storeno to empfile array, or maybe should i discard it from empfile and create another array?"}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493721075, "post_id": 43735373, "comment_id": 74514068, "body": "well that doesnot work, in my rData there is another object also, such as full_name, bithday , etc"}, {"owner": {"reputation": 323, "user_id": 6274852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f89034c40f7d17feec13669e8ca11d0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok Jha", "link": "https://stackoverflow.com/users/6274852/alok-jha"}, "reply_to_user": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493721315, "post_id": 43735373, "comment_id": 74514232, "body": "so what object type is &quot;concept&quot; array made up of? Is the concept array filled?"}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493775454, "post_id": 43735373, "comment_id": 74542093, "body": "{MAP_Code:&quot;000&quot;} like that"}, {"owner": {"reputation": 323, "user_id": 6274852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f89034c40f7d17feec13669e8ca11d0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok Jha", "link": "https://stackoverflow.com/users/6274852/alok-jha"}, "reply_to_user": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493779442, "post_id": 43735373, "comment_id": 74542893, "body": "I am not sure how <code>rData.map(i=&gt;(i.Store_ID)).toString();</code> returns <code>000</code> as seen in your console. But if it returns <code>000</code>, <code>concept.filter(i =&gt; i.MAP_Code === store);</code> should return array of items from concept array with MAP_Code 000. Setting ngModel to first item from the returned array should work. I have edited the answer accordingly."}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493779986, "post_id": 43735373, "comment_id": 74542996, "body": "it still not change, can you create a simple plunker code, with combobox (selected option with *ngFor) and an input text box that will change the display of combobox when the text is change, maybe my code is wrong here"}, {"owner": {"reputation": 323, "user_id": 6274852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f89034c40f7d17feec13669e8ca11d0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok Jha", "link": "https://stackoverflow.com/users/6274852/alok-jha"}, "reply_to_user": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493782440, "post_id": 43735373, "comment_id": 74543568, "body": "maybe the problem is setting ngValue to <code>p.MAP_Code</code>. ngValue should be also set to complete object, instead of one of the properties of object. Please refer the working plunker at [link]<a href=\"http://plnkr.co/edit/8p4STI6vUMSk3FTkTHKu?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/8p4STI6vUMSk3FTkTHKu?p=preview</a>, in case if it still does not work."}, {"owner": {"reputation": 323, "user_id": 6274852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f89034c40f7d17feec13669e8ca11d0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok Jha", "link": "https://stackoverflow.com/users/6274852/alok-jha"}, "reply_to_user": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493783519, "post_id": 43735373, "comment_id": 74543825, "body": "Setting ngValue to <code>p</code> should work. I have edited the answer."}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493783557, "post_id": 43735373, "comment_id": 74543835, "body": "i guess there is something wrong with my var store = rData.map(i=&gt;(i.Store_ID)).toString(); which i got it from database, its become 000 but when im not put toString() in it, its become [&quot;000&quot;]"}, {"owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "edited": false, "score": 0, "creation_date": 1493784895, "post_id": 43735373, "comment_id": 74544172, "body": "im sorry man, im the one wrong here, its 000 with space in the back thats why its not showing up in the display, my data is not valid not my code thx for the help"}], "tags": [], "owner": {"reputation": 323, "user_id": 6274852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f89034c40f7d17feec13669e8ca11d0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok Jha", "link": "https://stackoverflow.com/users/6274852/alok-jha"}, "is_accepted": true, "score": 0, "last_activity_date": 1493783389, "last_edit_date": 1493783389, "creation_date": 1493720157, "answer_id": 43735373, "question_id": 43733275, "link": "https://stackoverflow.com/questions/43733275/angular-2-on-selected-option/43735373#43735373", "title": "angular 2 on selected option", "body": "<p>For changing the display on combobox, you have to set [(ngModel)] to an <strong>object</strong>, instead of just setting it to one of the properties of the object.\nA different object or literal, even with the same value does not work. It has to be an object from the same collection.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var store = rData.map(i=&gt;(i.Store_ID)).toString();\r\n\r\nvar filteredValues = concept.filter(i =&gt; i.MAP_Code === store);\r\n \r\nif(filteredValues.length &gt; 0) {\r\n   this.empfile = filteredValues[0];\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and in the html set ngModel to empfile</p>\n\n<pre><code>\n\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select [(ngModel)]=\"empfile\"  class=\"form-control\"&gt;\r\n    &lt;option *ngFor=\"let p of concept\" [ngValue]=\"p\"&gt;{{p.MAP_Code}}&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n\n\n</code></pre>\n\n<p>This is assuming, \"concept\" is an array of objects of type <em>any</em>, which can be set to empfile.</p>\n"}], "owner": {"reputation": 387, "user_id": 5996464, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1c7b3a16c076e0f3597e47ee60ccdb10?s=128&d=identicon&r=PG&f=1", "display_name": "Rommy", "link": "https://stackoverflow.com/users/5996464/rommy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 43735373, "answer_count": 1, "score": 0, "last_activity_date": 1493783389, "creation_date": 1493713304, "last_edit_date": 1493718692, "question_id": 43733275, "link": "https://stackoverflow.com/questions/43733275/angular-2-on-selected-option", "title": "angular 2 on selected option", "body": "<p>I have code for my <code>HTML</code></p>\n\n<pre><code>&lt;select [(ngModel)]=\"empfile.storeno\"  class=\"form-control\"&gt;\n    &lt;option *ngFor=\"let p of concept\" [ngValue]=\"p.MAP_Code\"&gt;{{p.MAP_Code}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>And my <code>component</code></p>\n\n<pre><code>public concept = [];\npublic datakartu: any = {cardno:\"\"};\npublic empfile : any = {fullname:\"\",nik:\"\",disclimit:\"\",birthday:\"\",email:\"\",storeno:\"\"};\n\nconstructor(\n    private _router: Router,\n    private _httpprovider: Httpprovider\n) {}\n\nngOnInit() {\n\n}\n\ncardnof(newValue) {\n    this.datakartu.cardno = newValue\n    this._httpprovider.httpReq('http://192.168.1.40:5000/getdataemp','POST',{cardno:newValue},null).subscribe((data)=&gt; { \n        var rData = [];\n        for (let i=0;i&lt;data.length;i++) {\n            rData.push(data[i]);\n        }\n\n        var store = rData.map(i=&gt;(i.Store_ID)).toString();\n\n        this.empfile.storeno = store; &lt;&lt; for changing the display on the combobox\n\nconsole.log(this.empfile.storeno); &lt;&lt; here i put the console log\n    });\n} \n</code></pre>\n\n<p>I add <code>this.empfile.storeno = store;</code> so that it will change the display of the combobox to be what is we get from database,\nbut it just show blank.</p>\n\n<p>But when I do <code>console.log()</code>, the value is there, just the string doesnot show up on the screen.<a href=\"https://i.stack.imgur.com/HOorj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOorj.png\" alt=\"enter image description here\"></a></p>\n\n<p>basicly what i do is fill the card no then all the other fields will be fill in with data from database but the combo box doesnot display anything, but when i do console log it show value</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jipd0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jipd0.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is what result if i do console log of </p>\n\n<pre><code>this.empfile.storeno = store;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 207, "user_id": 7950686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162f8ceec532949e9701238126f86a49?s=128&d=identicon&r=PG&f=1", "display_name": "Jan De Dev", "link": "https://stackoverflow.com/users/7950686/jan-de-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1493715273, "creation_date": 1493715273, "answer_id": 43733819, "question_id": 43732704, "link": "https://stackoverflow.com/questions/43732704/when-language-changes-do-a-new-service-call/43733819#43733819", "title": "When language changes do a new service call", "body": "<p>Changed my constructor in my disclaimer. I still need the original call to get the html file from my service, here's the constructor:</p>\n\n<pre><code>constructor(private location: Location,\n          private translateService: TranslateService,\n          private vastgeklikteRechtenService: VastgeklikteRechtenService) {\nthis.vastgeklikteRechtenService.getVastgeklikteRechten(this.getLanguage()).subscribe(text =&gt; {\n  this.text = text;\n  this.loadData(text);\n});\nthis.onLanguageChanged();\n}\n</code></pre>\n\n<p>and I added a method called onLanguageChanged() where I subscribe on the eventEmitter I found in the TranslationService. So now when the event 'onLangChange' occurs I do a new call.</p>\n\n<pre><code>onLanguageChanged() {\nthis.translateService.onLangChange.subscribe((event: LangChangeEvent) =&gt; {\n  this.vastgeklikteRechtenService.getVastgeklikteRechten(\n    event.lang).subscribe(text =&gt; {\n    this.text = text;\n    this.loadData(text);\n  });\n});\n}\n</code></pre>\n"}], "owner": {"reputation": 207, "user_id": 7950686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162f8ceec532949e9701238126f86a49?s=128&d=identicon&r=PG&f=1", "display_name": "Jan De Dev", "link": "https://stackoverflow.com/users/7950686/jan-de-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 43733819, "answer_count": 1, "score": 1, "last_activity_date": 1493715273, "creation_date": 1493711131, "last_edit_date": 1493714032, "question_id": 43732704, "link": "https://stackoverflow.com/questions/43732704/when-language-changes-do-a-new-service-call", "title": "When language changes do a new service call", "body": "<p>I have a component where I route to, so it has no parent/child. I change the language via the <code>TranslateService</code>, which get's called from my <code>app.component</code> which is the base of my application. I call a service to get a HTML file from the backend, but when I change the language I want to do a new call to get the document in another language.</p>\n\n<p>I can't use <code>ngOnchanges</code> since there is no <code>@Input()</code> and I can't change the backend since it's from a legacy application which gets used by another application.</p>\n\n<p>app.component.ts</p>\n\n<pre><code>@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['app.component.scss']\n})\nexport class AppComponent {\n    constructor(private translateService: TranslateService) {\n    }\n\n    public changeLanguage(language) {\n        this.translateService.use(language);\n        this.translateService.setDefaultLang(language);\n    }\n}\n</code></pre>\n\n<p>Disclaimer</p>\n\n<pre><code>@Component({\n    selector: 'app-disclaimer',\n    templateUrl: 'vastgeklikteRechten.component.html',\n    styleUrls: ['vastgeklikteRechten.component.scss']\n})\n\nexport class VastgeklikteRechtenComponent {\n    @ViewChild('dataContainer') dataContainer: ElementRef;\n\n    text = '';\n\n    constructor(\n        private translateService: TranslateService,\n        private vastgeklikteRechtenService: VastgeklikteRechtenService\n    ) {\n        this.vastgeklikteRechtenService.getVastgeklikteRechten(\n        this.getLanguage()).subscribe(text =&gt; {\n            this.text = text;\n            this.loadData(text);\n        });\n    }\n\n    loadData(data) {\n        this.dataContainer.nativeElement.innerHTML = data;\n    }\n\n    getLanguage() {\n        return this.translateService.getDefaultLang();\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "edited": false, "score": 0, "creation_date": 1493711117, "post_id": 43732585, "comment_id": 74508352, "body": "Hi, there are a lot of reason for this problem. Start by taking a look here <a href=\"https://github.com/angular/angular-cli/issues/4551\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/issues/4551</a> and then check your dependencies."}, {"owner": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "edited": false, "score": 0, "creation_date": 1493798651, "post_id": 43732585, "comment_id": 74550303, "body": "<code>@Inject(ProgramService) private programService: ProgramService,  @Inject(CacheService) private cacheService: CacheService,</code>  Does this work for you ?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7950658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9588fcc0a297d2e6f445a1651ed9763?s=128&d=identicon&r=PG&f=1", "display_name": "Jason.chen", "link": "https://stackoverflow.com/users/7950658/jason-chen"}, "edited": false, "score": 0, "creation_date": 1493865297, "post_id": 43762392, "comment_id": 74586986, "body": "Thank for your answer. For the ProgramService and CacheService can be resolved. but other array parameter cannot be resovled."}, {"owner": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "reply_to_user": {"reputation": 23, "user_id": 7950658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9588fcc0a297d2e6f445a1651ed9763?s=128&d=identicon&r=PG&f=1", "display_name": "Jason.chen", "link": "https://stackoverflow.com/users/7950658/jason-chen"}, "edited": false, "score": 0, "creation_date": 1493865693, "post_id": 43762392, "comment_id": 74587074, "body": "Remove @Inject(Array) for those."}, {"owner": {"reputation": 23, "user_id": 7950658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9588fcc0a297d2e6f445a1651ed9763?s=128&d=identicon&r=PG&f=1", "display_name": "Jason.chen", "link": "https://stackoverflow.com/users/7950658/jason-chen"}, "edited": false, "score": 0, "creation_date": 1493949824, "post_id": 43762392, "comment_id": 74631371, "body": "@ParhGhiya, Thanks for your support, I have resolved that. Since the generic type parameter is not supported in Angular.Link <a href=\"https://github.com/rangle/angular-2-aot-sandbox#service-with-generic-type-param-top\" rel=\"nofollow noreferrer\">github.com/rangle/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6391, "user_id": 2305149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJJx2.jpg?s=128&g=1", "display_name": "Parth Ghiya", "link": "https://stackoverflow.com/users/2305149/parth-ghiya"}, "is_accepted": true, "score": 0, "last_activity_date": 1493820426, "creation_date": 1493820426, "answer_id": 43762392, "question_id": 43732585, "link": "https://stackoverflow.com/questions/43732585/angular-cli-2-error-cant-resolve-all-parameters-for-xxxxx-by-aot-build/43762392#43762392", "title": "Angular cli 2 Error Can&#39;t resolve all parameters for XXXXX by AOT build", "body": "<p>You will have to add @Inject so that its dependency can be resolved. </p>\n\n<p>So for custom services inside your service Inject its dependency with @Inject</p>\n\n<p>In your code replace your custom services with </p>\n\n<pre><code>@Inject(ProgramService) private programService: ProgramService, @Inject(CacheService) private cacheService: CacheService,\n</code></pre>\n\n<p>You can understand it deeply from this blog. \n<a href=\"https://blog.thoughtram.io/angular/2015/09/17/resolve-service-dependencies-in-angular-2.html\" rel=\"nofollow noreferrer\">https://blog.thoughtram.io/angular/2015/09/17/resolve-service-dependencies-in-angular-2.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 7950658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9588fcc0a297d2e6f445a1651ed9763?s=128&d=identicon&r=PG&f=1", "display_name": "Jason.chen", "link": "https://stackoverflow.com/users/7950658/jason-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2020, "favorite_count": 0, "accepted_answer_id": 43762392, "answer_count": 1, "score": 2, "last_activity_date": 1493820426, "creation_date": 1493710696, "last_edit_date": 1493800566, "question_id": 43732585, "link": "https://stackoverflow.com/questions/43732585/angular-cli-2-error-cant-resolve-all-parameters-for-xxxxx-by-aot-build", "title": "Angular cli 2 Error Can&#39;t resolve all parameters for XXXXX by AOT build", "body": "<pre><code>            import { Injectable, Inject } from '@angular/core';\n            import { Subject } from \"rxjs/Subject\";\n            import { CompleterData, CompleterItem } from 'ng2-completer';\n            import { ProgramService } from '../program.service';\n            import { asEnumerable } from 'linq-es5';\n            import { CacheService } from '../../../core/services/cache.service';\n\n            @Injectable()\n            export class ProgramIntelligentSearch extends Subject&lt;CompleterItem[]&gt; implements CompleterData {\n                constructor(private programService: ProgramService,\n                    private cacheService: CacheService,\n                    @Inject(Array) private lessonTypes: Array&lt;any&gt;,\n                    @Inject(Array) private programTypes: Array&lt;any&gt;,\n                    @Inject(Array) private languages: Array&lt;any&gt;\n                    ) {\n                    super();\n                }\n      --------------------------------------------------------------------------  \n        import { Observable } from \"rxjs/Observable\";\n        import { CompleterItem } from \"../components/completer-item\";\n        export interface CompleterData extends Observable&lt;CompleterItem[]&gt; {\n            search(term: string): void;\n            cancel(): void;\n            convertToItem?(data: any): CompleterItem;\n        }\n------------------------------------------------------------------\n            Use ng build --prod --aot\n</code></pre>\n\n<p>ERROR in Can't resolve all parameters for <code>ProgramIntelligentSearch</code> in <code>D:/Git/xxxxxxx/Application/Htm\nl5/src/app/shared/service/search/program-intelligent-search.ts: ([object Object], [object Object], ?, ?, ?)</code></p>\n\n<blockquote>\n  <p>ERROR in ./src/main.ts\n  Module not found: Error: Can't resolve './$$_gendir/app/app.module.ngfactory' in 'D:\\Git\\cosmos-main-html5\\App\n  lication\\Html5\\src'\n   @ ./src/main.ts 4:0-74\n   @ multi ./src/main.ts</p>\n</blockquote>\n"}]