[{"tags": ["javascript", "angular", "typescript", "angular-services", "angular-http"], "comments": [{"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527118951, "post_id": 50498892, "comment_id": 88010687, "body": "I think you need to use .subscribe instead of .map, as detailed in the Angular documentation <a href=\"https://angular.io/guide/http#getting-json-data\" rel=\"nofollow noreferrer\">angular.io/guide/http#getting-json-data</a>. Let me know if that helps"}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 3, "last_activity_date": 1527128077, "last_edit_date": 1527128077, "creation_date": 1527126286, "answer_id": 50499730, "question_id": 50498892, "link": "https://stackoverflow.com/questions/50498892/res-json-does-not-exist/50499730#50499730", "title": "res.json() does not exist", "body": "<p>With HttpClient (Angular 4.3+), you do not have to use res.json() , the response object is JSON by default, Just use response directly.</p>\n\n<pre><code>return this.http.post(loginUrl, user, {\n      headers: headers\n    }).map((res: Response) =&gt; res);\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 7463546, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-R3RIEPVGq-A/AAAAAAAAAAI/AAAAAAAAAdc/OGs3WSxT96A/photo.jpg?sz=128", "display_name": "NashPL", "link": "https://stackoverflow.com/users/7463546/nashpl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "closed_date": 1527153061, "accepted_answer_id": 50499730, "answer_count": 1, "score": 1, "last_activity_date": 1527238354, "creation_date": 1527118591, "last_edit_date": 1527238354, "question_id": 50498892, "link": "https://stackoverflow.com/questions/50498892/res-json-does-not-exist", "closed_reason": "Duplicate", "title": "res.json() does not exist", "body": "<p>I am trying to create a simple post in a service class using Angular/Typescript\nMy IDE does not give me any error, but when I call the function, I am getting undefined. I am not sure where the problem is based. I did some research, and it seems like the problem might be with the HttpClient I am importing, but I can not find anything relevant. </p>\n\n<p>Front-end Function: </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders} from '@angular/common/http';\nimport { Response } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class ServiceClassAuth {\n  auth: any;\n  user: any;\n  constructor(private http: HttpClient) {}\n\n  signinUser(user) {}\n\n  login(user) {\n    let headers = new HttpHeaders();\n    headers.append('Content-Type', 'application/json');\n    const loginUrl = 'http://localhost:3000/login';\n    return this.http.post(loginUrl, user, {\n      headers: headers\n    }).map((res: Response) =&gt; res.json());\n  }\n}\n</code></pre>\n\n<p>A component which calls the Service: </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {\n  MatDialog,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material';\nimport { Inject } from '@angular/core';\n\nimport { ServiceClassAuth } from '../service/service-class-auth';\n\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.component.html',\n  styleUrls: ['./signin.component.css'],\n  providers: [ServiceClassAuth]\n})\nexport class SigninComponent implements OnInit {\n  username: String;\n  password: String;\n\n  ngOnInit() {}\n\n  constructor(\n    public dialogRef: MatDialogRef &lt; SigninComponent &gt; ,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private authService: ServiceClassAuth) {}\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n  loginSubmit(postValues): void {\n    const user = {\n      'usr': postValues.value.usrname,\n      'psw': postValues.value.psw\n    }\n\n    const res = this.authService.login(user).subscribe(res =&gt; {\n      if (res.success) {\n\n      } else {\n        //DO ALERT\n      }\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9837520"}, "edited": false, "score": 0, "creation_date": 1527130789, "post_id": 50499072, "comment_id": 88013188, "body": "Thank you so much!"}, {"owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "edited": false, "score": 0, "creation_date": 1527140425, "post_id": 50499072, "comment_id": 88015747, "body": "No problem. If you deem this to be a sufficient answer, please mark the answer as successful using the checkmark on the left of the answer."}], "tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 2, "last_activity_date": 1527120013, "creation_date": 1527120013, "answer_id": 50499072, "question_id": 50498842, "link": "https://stackoverflow.com/questions/50498842/firebase-database-is-not-a-function-despite-importing-all-from-firebase/50499072#50499072", "title": "firebase.database is not a function despite importing all from firebase", "body": "<p>This is because you are importing from <code>firebase/app</code> rather than just <code>firebase</code>.</p>\n\n<p>Try changing</p>\n\n<pre><code>import * as firebase from 'firebase/app';\n</code></pre>\n\n<p>to</p>\n\n<pre><code>import * as firebase from 'firebase';\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9837520"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 50499072, "answer_count": 1, "score": 0, "last_activity_date": 1527161527, "creation_date": 1527118212, "last_edit_date": 1527161527, "question_id": 50498842, "link": "https://stackoverflow.com/questions/50498842/firebase-database-is-not-a-function-despite-importing-all-from-firebase", "title": "firebase.database is not a function despite importing all from firebase", "body": "<p>I wrote a simple program with the angular framework to read values from a database, but when I ng serve the console gives the error \n'firebase_app__WEBPACK_IMPORTED_MODULE_1__.database is not a function'</p>\n\n<p>Here is the component in its entirety:</p>\n\n<pre><code>import {NgModule,Component} from '@angular/core'\nimport * as firebase from 'firebase/app'\nimport {firebaseConfig} from './firebaseConfig' // I put the credentials of my \n                                            // database in this file\n\n@NgModule ({})\n@Component({\n    selector: 'practiceFb',\n    template:``\n})\nexport class practiceFb {\n\nconstructor () {\n    firebase.initializeApp(firebaseConfig);\n\n    var TheItem= firebase.database().ref('TheItem');\n    TheItem.on(\"value\", (snapshot) =&gt; {\n        console.log(snapshot.val());\n    })\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "edited": false, "score": 0, "creation_date": 1527116873, "post_id": 50498599, "comment_id": 88010141, "body": "can you add this function <code>addBacklash</code> ?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9796664"}, "is_accepted": false, "score": 0, "last_activity_date": 1527116877, "creation_date": 1527116877, "answer_id": 50498691, "question_id": 50498599, "link": "https://stackoverflow.com/questions/50498599/how-to-add-backslash-in-angular/50498691#50498691", "title": "How to add backslash in angular?", "body": "<p>If it is an inline template, then you need to escape \\ as \\ like in any other string.</p>\n\n<pre><code>&lt;div&gt;{{'\\\\'}}{{content}}&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 9790792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hot Zellah", "link": "https://stackoverflow.com/users/9790792/hot-zellah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1527116877, "creation_date": 1527116214, "question_id": 50498599, "link": "https://stackoverflow.com/questions/50498599/how-to-add-backslash-in-angular", "title": "How to add backslash in angular?", "body": "<p>I have a div which return a status ,i want to add a backlash to a string returned eg Car1 \\sold.</p>\n\n<p>I am able to get status but I cant get a backlash here is what I have done.\nIn html:</p>\n\n<pre><code>&lt;span&gt;{{addBacklash(str)}}&lt;/span&gt;\n&lt;div&gt;{{store.status}}&lt;/div&gt;\n</code></pre>\n\n<p>in Ts i have this function.</p>\n\n<pre><code>public stripslashes(str) {\n    str = str.replace(/\\\\'/g, '\\'');\n    return str;\n}\n</code></pre>\n\n<p>this does not work , what am I doing wrong here? or is there any simple method to achieve what I want? am newbie though</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "reply_to_user": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1527114740, "post_id": 50498156, "comment_id": 88009620, "body": "Asking if theres other solution beside using Database to store it. For efficiency purpose."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527115244, "post_id": 50498156, "comment_id": 88009763, "body": "From the database possibility, I assume you have to login to use this service. Does the currentTime need to be retained between different logins or can it be discarded once you log out?"}, {"owner": {"reputation": 7497, "user_id": 2033044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fnK5m.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2033044/lucas"}, "edited": false, "score": 0, "creation_date": 1527116657, "post_id": 50498156, "comment_id": 88010093, "body": "@Emenpy Either keep it in a service, or learn how to use a redux like store <a href=\"https://github.com/ngrx/store\" rel=\"nofollow noreferrer\">github.com/ngrx/store</a> ... I dont see why a simple service wont do :p"}, {"owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "reply_to_user": {"reputation": 7497, "user_id": 2033044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fnK5m.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2033044/lucas"}, "edited": false, "score": 0, "creation_date": 1527119715, "post_id": 50498156, "comment_id": 88010858, "body": "@FRECIA Even if it&#39;s in service, a refresh will start the timer over."}, {"owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "reply_to_user": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527119776, "post_id": 50498156, "comment_id": 88010864, "body": "@NocNit I am using a timer to measure how long a user stay in a certain page. Once log out/log back in, the timer is reset. However, i do not want it to reset when a user refresh a page. By storing in localStorage, i can retrieve the time from localstorage if it was reset."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527409860, "post_id": 50498156, "comment_id": 88111624, "body": "@Emenpy Just a follow up, did our comments/answer help you solve your question?"}], "answers": [{"tags": [], "owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "is_accepted": false, "score": 0, "last_activity_date": 1527120576, "last_edit_date": 1527120576, "creation_date": 1527120255, "answer_id": 50499094, "question_id": 50498156, "link": "https://stackoverflow.com/questions/50498156/implementing-timer-handling-on-refresh/50499094#50499094", "title": "Implementing Timer, handling on Refresh?", "body": "<p>A possible alternative might be to save the time the user accessed the page in the <strong>session</strong> on the server side. A session is stored in server memory and tied to a login, and can hold information on the server which makes it secure. Once the user logs out, the information is discarded, so it's more efficient than a database.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5489365/how-to-use-store-and-use-session-variables-across-pages\">This SO question</a> has a PHP example of how to store something in the session. The neat thing there is that they show how a session is remembered between pages, so you will always have access to currentTime.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28403784/how-can-i-access-my-session-variable-in-a-different-page-with-php\">Another good SO link</a></p>\n"}], "owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527120576, "creation_date": 1527113179, "last_edit_date": 1527116810, "question_id": 50498156, "link": "https://stackoverflow.com/questions/50498156/implementing-timer-handling-on-refresh", "title": "Implementing Timer, handling on Refresh?", "body": "<p>I have written a component that will keep track of time. I am currently using <code>Localstorage</code> to save the <code>currentTime</code> just in case a user hits Refresh. However, I found that this solution is not a really good one becasue the user can edit <code>localstorage</code>. On the other hand, I can use the database to store this information, but it will slow down my page which I do not want.</p>\n\n<p>Is there any alternative solution beside using <code>LocalStorage</code> to store my time? I do not want user to edit the <code>localstorage</code>.</p>\n\n<pre><code>export class MainComponent implements OnInit {\n\n    private start: number = null;\n    private uiTimerId: number = null;\n\n    constructor() {\n    }\n\n    private updateUI(): void {\n\n        let delta = performance.now() - this.start;\n        this.someUIElement.textContent = delta.toFixed() + \"ms\";\n    }\n\n    ngOnInit() {\n\n        this.start = parseFloat( window.localStorage.getItem( \"timerStart\" ) );\n        if( !this.start ) {\n            this.start = performance.now();\n            window.localStorage.setItem( \"timerStart\", this.start );\n        }\n\n        this.uiTimerId = window.setInterval( this.updateUI.bind(this), 100 ); // 100ms UI updates, not 1000ms to reduce UI jitter\n    }\n\n    buttonClick = function() {\n        if( this.uiTimerId != null ) {\n            window.clearInterval( this.uiTimerId );\n            window.localStorage.removeItem( \"timerStart\" );\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 1, "last_activity_date": 1527109694, "creation_date": 1527109694, "answer_id": 50497482, "question_id": 50497381, "link": "https://stackoverflow.com/questions/50497381/is-it-possible-to-constrain-the-values-of-an-array-with-typescript-to-a-given-su/50497482#50497482", "title": "Is it possible to constrain the values of an array with Typescript to a given subset of string values?", "body": "<p>Yes! You need to declare a union type for the keys:</p>\n\n<pre><code>type allowedValues = 'x' | 'y';\n\nexport interface X {\n    evaluation: allowedValues[];\n}\n</code></pre>\n"}], "owner": {"reputation": 4807, "user_id": 1801403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLAec.jpg?s=128&g=1", "display_name": "Damian Green", "link": "https://stackoverflow.com/users/1801403/damian-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 50497482, "answer_count": 1, "score": 1, "last_activity_date": 1527109766, "creation_date": 1527109200, "question_id": 50497381, "link": "https://stackoverflow.com/questions/50497381/is-it-possible-to-constrain-the-values-of-an-array-with-typescript-to-a-given-su", "title": "Is it possible to constrain the values of an array with Typescript to a given subset of string values?", "body": "<p>Consider:</p>\n\n<pre><code>enum allowedValues {'x','y'}\n\nexport interface X {\n  evaluation: string[]; // TODO: how to constrain to contain only the values 'x' or 'y';\n}\n</code></pre>\n\n<p>I tried declaring <code>evaluation</code> as the enum: <code>evaluation: shownEvaluation[];</code>\nI also tried <code>evaluation: keyof allowedValues;</code></p>\n\n<p>Is it possible to constrain the values of an array with Typescript to a given subset of string values?</p>\n"}, {"tags": ["typescript", "should.js"], "comments": [{"owner": {"reputation": 1944, "user_id": 4120554, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-RKmmNTC8iUo/AAAAAAAAAAI/AAAAAAAAAGs/oQQp9tU-Zb4/photo.jpg?sz=128", "display_name": "Marco Talento", "link": "https://stackoverflow.com/users/4120554/marco-talento"}, "edited": false, "score": 0, "creation_date": 1530706930, "post_id": 50496982, "comment_id": 89329883, "body": "Let me know if my answer fixed your problem!"}], "answers": [{"comments": [{"owner": {"reputation": 1756, "user_id": 8492116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22358b8a44a83a98115de7b8c6092529?s=128&d=identicon&r=PG&f=1", "display_name": "Aankhen", "link": "https://stackoverflow.com/users/8492116/aankhen"}, "edited": false, "score": 0, "creation_date": 1530632621, "post_id": 51158476, "comment_id": 89300351, "body": "This doesn\u2019t compile for me (TypeScript 2.9.2)."}, {"owner": {"reputation": 1944, "user_id": 4120554, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-RKmmNTC8iUo/AAAAAAAAAAI/AAAAAAAAAGs/oQQp9tU-Zb4/photo.jpg?sz=128", "display_name": "Marco Talento", "link": "https://stackoverflow.com/users/4120554/marco-talento"}, "reply_to_user": {"reputation": 1756, "user_id": 8492116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22358b8a44a83a98115de7b8c6092529?s=128&d=identicon&r=PG&f=1", "display_name": "Aankhen", "link": "https://stackoverflow.com/users/8492116/aankhen"}, "edited": false, "score": 0, "creation_date": 1530632667, "post_id": 51158476, "comment_id": 89300373, "body": "Have you installed the definitions? <code>npm install @types&#47;should @types&#47;mocha --save-dev</code>"}, {"owner": {"reputation": 1756, "user_id": 8492116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22358b8a44a83a98115de7b8c6092529?s=128&d=identicon&r=PG&f=1", "display_name": "Aankhen", "link": "https://stackoverflow.com/users/8492116/aankhen"}, "edited": false, "score": 1, "creation_date": 1530632710, "post_id": 51158476, "comment_id": 89300399, "body": "Ah, I didn\u2019t realize this was running under Mocha. Now it works. Nice!"}], "tags": [], "owner": {"reputation": 1944, "user_id": 4120554, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-RKmmNTC8iUo/AAAAAAAAAAI/AAAAAAAAAGs/oQQp9tU-Zb4/photo.jpg?sz=128", "display_name": "Marco Talento", "link": "https://stackoverflow.com/users/4120554/marco-talento"}, "is_accepted": true, "score": 3, "last_activity_date": 1530632631, "last_edit_date": 1530632631, "creation_date": 1530632490, "answer_id": 51158476, "question_id": 50496982, "link": "https://stackoverflow.com/questions/50496982/issue-with-should-js-using-typescript/51158476#51158476", "title": "Issue with should.js using TypeScript", "body": "<p>You are missing the import of should library. Basically you need to import <code>import 'should'</code> to have access to should methods.</p>\n\n<p>I have tested this code and it works! If I comment the import I had the same issue that you have.</p>\n\n<pre><code>import 'should';\n\ndescribe('test', () =&gt; {\n\n    it('should must work', () =&gt; {\n        Object.keys({ a: 1, b: 2 }).should.containEql('b');\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 51158476, "answer_count": 1, "score": 4, "last_activity_date": 1530632631, "creation_date": 1527107353, "question_id": 50496982, "link": "https://stackoverflow.com/questions/50496982/issue-with-should-js-using-typescript", "title": "Issue with should.js using TypeScript", "body": "<p>My code is:</p>\n\n<pre><code>Object.keys(res.body.data).should.containEql('id')\n</code></pre>\n\n<p>The error that TypeScript gives me is</p>\n\n<pre><code>Property 'should' does not exist on type 'string[]'.\n</code></pre>\n\n<p>So how do I use <code>should</code> with TypeScript?</p>\n"}, {"tags": ["reactjs", "typescript", "nextjs"], "comments": [{"owner": {"reputation": 2531, "user_id": 1017722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ac70af04d1b1eaacf718526e4725d3f?s=128&d=identicon&r=PG", "display_name": "Evgeny Timoshenko", "link": "https://stackoverflow.com/users/1017722/evgeny-timoshenko"}, "edited": false, "score": 0, "creation_date": 1527112610, "post_id": 50496969, "comment_id": 88008969, "body": "I guess there is not enough information to help you, it would be great if you shared an example to reproduce the problem."}, {"owner": {"reputation": 1486, "user_id": 5171417, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-fPSv8TETmqU/AAAAAAAAAAI/AAAAAAAALmc/UyOO6totRsk/photo.jpg?sz=128", "display_name": "John Samuel", "link": "https://stackoverflow.com/users/5171417/john-samuel"}, "edited": false, "score": 0, "creation_date": 1527125587, "post_id": 50496969, "comment_id": 88012005, "body": "Please share your tsconfig.json so that we can take a look at it and see whats the config given there."}, {"owner": {"reputation": 307, "user_id": 4457193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eeb03fc8abf4d60af09d2f0d108cdda?s=128&d=identicon&r=PG", "display_name": "PsykoSoldi3r", "link": "https://stackoverflow.com/users/4457193/psykosoldi3r"}, "edited": false, "score": 0, "creation_date": 1527146720, "post_id": 50496969, "comment_id": 88019021, "body": "Uploaded <a href=\"https://gist.github.com/PsykoSoldi3r/60060a84d8cb6b18911771f0dbff87f0\" rel=\"nofollow noreferrer\">tsconfig.json</a> file to gist"}], "answers": [{"comments": [{"owner": {"reputation": 8946, "user_id": 5675325, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rM1RC.png?s=128&g=1", "display_name": "Tiago Martins Peres \u674e\u5927\u4ec1", "link": "https://stackoverflow.com/users/5675325/tiago-martins-peres-%e6%9d%8e%e5%a4%a7%e4%bb%81"}, "edited": false, "score": 1, "creation_date": 1579720775, "post_id": 59866431, "comment_id": 105864515, "body": "Hi regretwary. Please consider adding an explanation."}], "tags": [], "owner": {"reputation": 33, "user_id": 8864510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e325ee44d36ed93fb242e833735f82?s=128&d=identicon&r=PG&f=1", "display_name": "regretwary", "link": "https://stackoverflow.com/users/8864510/regretwary"}, "is_accepted": false, "score": 0, "last_activity_date": 1579719726, "last_edit_date": 1579719726, "creation_date": 1579719016, "answer_id": 59866431, "question_id": 50496969, "link": "https://stackoverflow.com/questions/50496969/the-default-export-is-not-a-react-component-in-page/59866431#59866431", "title": "The default export is not a React Component in page: &quot;/&quot;", "body": "<p>The following config can be used:</p>\n\n<pre><code>{\"compilerOptions\": {\n  \"module\": \"esnext\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 4457193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eeb03fc8abf4d60af09d2f0d108cdda?s=128&d=identicon&r=PG", "display_name": "PsykoSoldi3r", "link": "https://stackoverflow.com/users/4457193/psykosoldi3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1120, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1579719726, "creation_date": 1527107303, "last_edit_date": 1527107814, "question_id": 50496969, "link": "https://stackoverflow.com/questions/50496969/the-default-export-is-not-a-react-component-in-page", "title": "The default export is not a React Component in page: &quot;/&quot;", "body": "<p>I'm getting the following error when using a compiled code from Typescript to Javascript when using Next</p>\n\n<p><code>The default export is not a React Component in page: \"/\"</code></p>\n\n<p>Could someone help me?</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "vue.js"], "comments": [{"owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "edited": false, "score": 0, "creation_date": 1527121268, "post_id": 50496851, "comment_id": 88011161, "body": "You aren&#39;t defining <code>__VERSION2__</code> in development hence the error? Only <code>__VERSION3__</code> is defined."}, {"owner": {"reputation": 909, "user_id": 4169986, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de7b4fd703e1c1cc819daf4c0fdac1ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jef Patat", "link": "https://stackoverflow.com/users/4169986/jef-patat"}, "reply_to_user": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "edited": false, "score": 0, "creation_date": 1527144605, "post_id": 50496851, "comment_id": 88017772, "body": "Sorry for the confusion. I made an error in the question and corrected it. Basically I can&#39;t get anything to work that is only defined in the conditional part."}], "answers": [{"tags": [], "owner": {"reputation": 909, "user_id": 4169986, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de7b4fd703e1c1cc819daf4c0fdac1ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jef Patat", "link": "https://stackoverflow.com/users/4169986/jef-patat"}, "is_accepted": false, "score": 0, "last_activity_date": 1527149892, "creation_date": 1527149892, "answer_id": 50504326, "question_id": 50496851, "link": "https://stackoverflow.com/questions/50496851/dynamically-add-global-constant-in-webpack/50504326#50504326", "title": "Dynamically add global constant in webpack", "body": "<p>After a lot of searching and fiddling I found out the issue is not related to webpack at all. Thanks to <a href=\"http://jonnyreeves.co.uk/2016/simple-webpack-prod-and-dev-config/\" rel=\"nofollow noreferrer\">this article</a> I added a <code>console.log(process.env.NODE_ENV);</code> just in front the if/else if at the bottom and that put out <code>undefined</code>. The environment variable is not set and as such neither of the conditional statements get's executed. This is actually a problem with the vue.js typescript template.</p>\n\n<p>Changing the script in package.json like this fixed my issues:</p>\n\n<pre><code>  \"scripts\": {\n    \"build\": \"SET NODE_ENV=development&amp;&amp; webpack\",\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 4169986, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de7b4fd703e1c1cc819daf4c0fdac1ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jef Patat", "link": "https://stackoverflow.com/users/4169986/jef-patat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1111, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1527149892, "creation_date": 1527106885, "last_edit_date": 1527144523, "question_id": 50496851, "link": "https://stackoverflow.com/questions/50496851/dynamically-add-global-constant-in-webpack", "title": "Dynamically add global constant in webpack", "body": "<p>I'm trying to add a global constant to my project. For this I use <code>webpack.DefinePlugin</code>. This works if I add one in the module.exports. I fail to do this conditionally however. In the config below I'm able to use the <code>__VERSION__</code> constant in my module after declaring it like so: <code>declare var __VERSION__: string;</code>. If I try to use <code>__VERSION2__</code> or <code>__VERSION3__</code> I get an error in the console <code>ReferenceError: __VERSION3__ is not defined</code>. If my understanding is correct this should have been replaced. Does this mean that the conditional part is not executed or not executed correctly? How can I debug this? Or even better, how can I fix this?</p>\n\n<p>Note: the intention is to switch a url based on development or production build.</p>\n\n<p>The current project can be found <a href=\"https://github.com/JefPatat/SteemMakers/blob/master/website/webpack.config.js\" rel=\"nofollow noreferrer\">here on github</a></p>\n\n<p>webpack.config.js:</p>\n\n<pre><code>// Based on https://github.com/microsoft/typescript-vue-starter#adding-webpack\n\nvar path = require('path')\nvar webpack = require('webpack')\n\nmodule.exports = {\n    mode: 'development',\n  entry: './src/ts/main.ts',\n  output: {\n    path: path.resolve(__dirname, './dist'),\n    publicPath: '/dist/',\n    filename: 'build.js'\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader',\n        options: {\n          loaders: {\n            // Since sass-loader (weirdly) has SCSS as its default parse mode, we map\n            // the \"scss\" and \"sass\" values for the lang attribute to the right configs here.\n            // other preprocessors should work out of the box, no loader config like this necessary.\n            'scss': 'vue-style-loader!css-loader!sass-loader',\n            'sass': 'vue-style-loader!css-loader!sass-loader?indentedSyntax',\n          }\n          // other vue-loader options go here\n        }\n      },\n      {\n        test: /\\.tsx?$/,\n        loader: 'ts-loader',\n        exclude: /node_modules/,\n        options: {\n          appendTsSuffixTo: [/\\.vue$/],\n        }\n      },\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: 'file-loader',\n        options: {\n          name: '[name].[ext]?[hash]'\n        }\n      },\n      {\n        test: /\\.css$/,\n        use: ['style-loader', 'css-loader']\n        }\n    ]\n  },\n  resolve: {\n    extensions: ['.ts', '.js', '.vue', '.json'],\n    alias: {\n      'vue$': 'vue/dist/vue.esm.js'\n    }\n  },\n  plugins: [ \n    new webpack.DefinePlugin({\n        __VERSION__: JSON.stringify('1.0.0.' + Date.now())\n    })],\n  devServer: {\n    historyApiFallback: true,\n    noInfo: true\n  },\n  performance: {\n    hints: false\n  },\n  devtool: 'source-map'\n}\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports.devtool = 'source-map'\n  // http://vue-loader.vuejs.org/en/workflow/production.html\n  module.exports.plugins = (module.exports.plugins || []).concat([\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: '\"production\"'\n      }\n    }),\n    new webpack.DefinePlugin({\n        __IN_DEBUG__: JSON.stringify(false),\n        __VERSION2__: JSON.stringify('1.0.0.' + Date.now())\n    }),\n    new webpack.optimize.UglifyJsPlugin({\n      sourceMap: true,\n      compress: {\n        warnings: false\n      }\n    }),\n    new webpack.LoaderOptionsPlugin({\n      minimize: true\n    })\n  ])\n}\nelse if(process.env.NODE_ENV === 'development')\n{\n    module.exports.plugins.push(\n        new webpack.DefinePlugin({\n            __VERSION3__: JSON.stringify('1.0.0.' + Date.now())\n        }));\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1527108805, "post_id": 50496780, "comment_id": 88007425, "body": "Show us how you declare <code>tabTitle</code> and how you use it in the HTML markup."}], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 5465194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643db00b539badb615cb48c18a9f9b02?s=128&d=identicon&r=PG&f=1", "display_name": "Dong Hoon Kim", "link": "https://stackoverflow.com/users/5465194/dong-hoon-kim"}, "edited": false, "score": 0, "creation_date": 1527107335, "post_id": 50496860, "comment_id": 88006711, "body": "Sorry I forgot to add the ticks to the break tags, I have tried this prior and it was adding it in as a string."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 84, "user_id": 5465194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643db00b539badb615cb48c18a9f9b02?s=128&d=identicon&r=PG&f=1", "display_name": "Dong Hoon Kim", "link": "https://stackoverflow.com/users/5465194/dong-hoon-kim"}, "edited": false, "score": 0, "creation_date": 1527108723, "post_id": 50496860, "comment_id": 88007386, "body": "PS: If this answer helped you, it would be kind if you would mark it as solution."}, {"owner": {"reputation": 84, "user_id": 5465194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643db00b539badb615cb48c18a9f9b02?s=128&d=identicon&r=PG&f=1", "display_name": "Dong Hoon Kim", "link": "https://stackoverflow.com/users/5465194/dong-hoon-kim"}, "edited": false, "score": 0, "creation_date": 1527109410, "post_id": 50496860, "comment_id": 88007734, "body": "Thank you for your help, this helped add the break but wasn&#39;t showing the actual line break. Needed to add white-space: pre in order for the css to actually show the break!"}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 2, "last_activity_date": 1527110858, "last_edit_date": 1527110858, "creation_date": 1527106912, "answer_id": 50496860, "question_id": 50496780, "link": "https://stackoverflow.com/questions/50496780/adding-a-new-line-into-concat-string-angular-4/50496860#50496860", "title": "Adding a new line into concat() string - Angular 4", "body": "<p>It seems that .concat() follows its own rules. I tested it myself to find out that every line break operator gets ignored.</p>\n\n<p>If you are not bound to using concat(), simply use the '+' operator instead. It proceeds an implicit concatenation.</p>\n\n<p>Try it this way:</p>\n\n<pre><code>this.tabTitle += '\\n' + \" Quote ID: \" + this.quoteInformation.CurrentProjectCustomer.QuoteId;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 84, "user_id": 5465194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643db00b539badb615cb48c18a9f9b02?s=128&d=identicon&r=PG&f=1", "display_name": "Dong Hoon Kim", "link": "https://stackoverflow.com/users/5465194/dong-hoon-kim"}, "edited": false, "score": 1, "creation_date": 1527109438, "post_id": 50496864, "comment_id": 88007749, "body": "Thank you, this was the 2nd part of the answer. Greatly Appreciated."}], "tags": [], "owner": {"reputation": 171, "user_id": 8377519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e7315699b8315331a5ade7d2148f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/8377519/brent"}, "is_accepted": false, "score": 4, "last_activity_date": 1527107312, "last_edit_date": 1527107312, "creation_date": 1527106935, "answer_id": 50496864, "question_id": 50496780, "link": "https://stackoverflow.com/questions/50496780/adding-a-new-line-into-concat-string-angular-4/50496864#50496864", "title": "Adding a new line into concat() string - Angular 4", "body": "<p>You can attach a class to the element with the attribute <code>white-space: pre;</code>. This will break it into a new line for you if you're using <code>/n</code>.</p>\n"}], "owner": {"reputation": 84, "user_id": 5465194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643db00b539badb615cb48c18a9f9b02?s=128&d=identicon&r=PG&f=1", "display_name": "Dong Hoon Kim", "link": "https://stackoverflow.com/users/5465194/dong-hoon-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6309, "favorite_count": 0, "accepted_answer_id": 50496860, "answer_count": 2, "score": 2, "last_activity_date": 1527110858, "creation_date": 1527106559, "last_edit_date": 1527107531, "question_id": 50496780, "link": "https://stackoverflow.com/questions/50496780/adding-a-new-line-into-concat-string-angular-4", "title": "Adding a new line into concat() string - Angular 4", "body": "<p>Using Angular 4 - the following snippet of code resides in my typescript file.</p>\n\n<pre><code>this.tabTitle = \"Project Name: \" + this.currentProjectRevision.ProjectInformation[0].ProjectName;\n</code></pre>\n\n<p><strong>this grabs the value of the project name and concatenates it with Project name:</strong> </p>\n\n<pre><code>       this.tabTitle = this.tabTitle.concat('/n' + \" Quote ID: \" + this.quoteInformation.CurrentProjectCustomer.QuoteId);\n</code></pre>\n\n<p><strong>The above code grabs the first line of codes values and concatenates it with Quote ID: and adds the value of the Quote ID.</strong></p>\n\n<p>When running this, the output is as follows. Project Name: test /n Quote ID: 0000001</p>\n\n<p><strong>The actual value stated above gets appended into the following code.</strong>\n    Project Name: bvn xbn/n Quote ID: 1000016</p>\n\n<p>I would like to have quote ID start on a new line.\nI have tried putting in <code>&lt;br/&gt;</code>, <code>&lt;br&gt;</code> as well as /n will no success. They are all being added as a string.</p>\n\n<p>Code I have tried so far</p>\n\n<pre><code>this.tabTitle = this.tabTitle.concat('&lt;br/&gt;' + \" Quote ID: \" + this.quoteInformation.CurrentProjectCustomer.QuoteId);\n\nthis.tabTitle = this.tabTitle.concat('&lt;br&gt;' + \" Quote ID: \" + this.quoteInformation.CurrentProjectCustomer.QuoteId);\n\nthis.tabTitle = this.tabTitle.concat('/n' + \" Quote ID: \" + this.quoteInformation.CurrentProjectCustomer.QuoteId);\n</code></pre>\n\n<p>Any help will be greatly appreciated.</p>\n"}, {"tags": ["wordpress", "typescript", "woocommerce", "ionic3", "woocommerce-rest-api"], "comments": [{"owner": {"reputation": 156, "user_id": 4916686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a87691c97b78933ba898256b028b3663?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/4916686/omar"}, "edited": false, "score": 0, "creation_date": 1550951724, "post_id": 50496732, "comment_id": 96464129, "body": "did you still have this problem or you solved it?"}, {"owner": {"reputation": 874, "user_id": 3656629, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100003077022110/picture?type=large", "display_name": "Ahmed Samy", "link": "https://stackoverflow.com/users/3656629/ahmed-samy"}, "reply_to_user": {"reputation": 156, "user_id": 4916686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a87691c97b78933ba898256b028b3663?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/4916686/omar"}, "edited": false, "score": 0, "creation_date": 1551698013, "post_id": 50496732, "comment_id": 96722002, "body": "@Omar I didn&#39;t solve it ... I just used an actual phone for testing"}, {"owner": {"reputation": 156, "user_id": 4916686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a87691c97b78933ba898256b028b3663?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/4916686/omar"}, "edited": false, "score": 0, "creation_date": 1551725930, "post_id": 50496732, "comment_id": 96737236, "body": "So is it working well or you still have the same problems"}, {"owner": {"reputation": 119, "user_id": 3808936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f2e2df1010d9e691c7360ef4138f84?s=128&d=identicon&r=PG&f=1", "display_name": "Omid Matouri", "link": "https://stackoverflow.com/users/3808936/omid-matouri"}, "edited": false, "score": 0, "creation_date": 1588048877, "post_id": 50496732, "comment_id": 108742424, "body": "i have this problem too"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10228998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235746d52ef9ba223677985bec40ce19?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish Varma", "link": "https://stackoverflow.com/users/10228998/ashish-varma"}, "is_accepted": false, "score": -1, "last_activity_date": 1534332604, "creation_date": 1534332604, "answer_id": 51857853, "question_id": 50496732, "link": "https://stackoverflow.com/questions/50496732/woocommerce-api-cors-error/51857853#51857853", "title": "Woocommerce api CORS error", "body": "<p>Change \n url: \"<a href=\"https://mystore.net/index.php\" rel=\"nofollow noreferrer\">https://mystore.net/index.php</a>\" TO url: \"<a href=\"https://mystore.net\" rel=\"nofollow noreferrer\">https://mystore.net</a>\"</p>\n\n<p>AND</p>\n\n<p>\"proxyUrl\": \"<a href=\"https://mystore.net/index.php/wp-json/wc/v2\" rel=\"nofollow noreferrer\">https://mystore.net/index.php/wp-json/wc/v2</a>\" TO \"proxyUrl\": \"<a href=\"https://mystore.net/wc-api/v2\" rel=\"nofollow noreferrer\">https://mystore.net/wc-api/v2</a>\"</p>\n"}], "owner": {"reputation": 874, "user_id": 3656629, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100003077022110/picture?type=large", "display_name": "Ahmed Samy", "link": "https://stackoverflow.com/users/3656629/ahmed-samy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1037, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534332604, "creation_date": 1527106332, "question_id": 50496732, "link": "https://stackoverflow.com/questions/50496732/woocommerce-api-cors-error", "title": "Woocommerce api CORS error", "body": "<p>I get the CROS error when I send requests from my ionic mobile app to my woocommerce store using woocommerce api.</p>\n\n<p>I followed <a href=\"https://audacitus.com/site/code-snippets/setup-proxy-in-ionic-config-json/\" rel=\"nofollow noreferrer\">this</a> setup and as following:</p>\n\n<pre><code>{\n  \"name\": \"IonicApp\",\n  \"app_id\": \"09309832\",\n  \"type\": \"ionic-angular\",\n  \"integrations\": {\n    \"cordova\": {}\n  },\n  \"proxies\": [\n    {\n      \"path\": \"/api\",\n      \"proxyUrl\": \"https://mystore.net/index.php/wp-json/wc/v2\"\n    }\n  ]\n}\n</code></pre>\n\n<p>This is the data request:</p>\n\n<pre><code>this.WooCommerce = WC({\n  url: \"https://mystore.net/index.php\",\n  consumerKey: CONSUMER_KEY,\n  consumerSecret: CONSUMER_SECRET,\n  wpAPI: true,\n  version: 'wc/v2'\n});\n\nthis.WooCommerce.getAsync(`products/categories`).then((data) =&gt; {\n  console.log(JSON.parse(data));\n}, (err) =&gt; {\n  console.log(err)\n});\n</code></pre>\n\n<p>this is the error I get:</p>\n\n<pre><code>Failed to load https://mystore.net/index.php/wp-json/wc/v2/products/categories: Redirect from 'https://mystore.net/index.php/wp-json/wc/v2/products/categories' to 'https://mystore.net/NeLVZ/index.php/wp-json/wc/v2/products?categories' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:8100' is therefore not allowed access. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\n</code></pre>\n"}, {"tags": ["typescript", "angular-material", "angular6"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527101648, "post_id": 50495503, "comment_id": 88003858, "body": "The stepper isn&#39;t a modal dialog."}, {"owner": {"reputation": 452, "user_id": 7511732, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-ZDP8WyJUkJs/AAAAAAAAAAI/AAAAAAAACdM/-kuGIJfLyFE/photo.jpg?sz=128", "display_name": "Kevin Summersill", "link": "https://stackoverflow.com/users/7511732/kevin-summersill"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527101956, "post_id": 50495503, "comment_id": 88004009, "body": "Well dang! So i will just allow the user to click off when finished then lol."}, {"owner": {"reputation": 452, "user_id": 7511732, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-ZDP8WyJUkJs/AAAAAAAAAAI/AAAAAAAACdM/-kuGIJfLyFE/photo.jpg?sz=128", "display_name": "Kevin Summersill", "link": "https://stackoverflow.com/users/7511732/kevin-summersill"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527101991, "post_id": 50495503, "comment_id": 88004026, "body": "Is there a way to call the escape key in JavaScript when running a method."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527102541, "post_id": 50495503, "comment_id": 88004288, "body": "If you show the modal dialog using the MatDialog service. It always supports the escape key to close dialogs."}, {"owner": {"reputation": 452, "user_id": 7511732, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-ZDP8WyJUkJs/AAAAAAAAAAI/AAAAAAAACdM/-kuGIJfLyFE/photo.jpg?sz=128", "display_name": "Kevin Summersill", "link": "https://stackoverflow.com/users/7511732/kevin-summersill"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527102696, "post_id": 50495503, "comment_id": 88004363, "body": "Yea i have used a MatDialog and really like it, i just wanted to use the stepper to make it easier on the user to enter large amounts of data needed. I wonder if you can add the stepper inside a MatDialog?"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 1, "creation_date": 1527102825, "post_id": 50495503, "comment_id": 88004434, "body": "You absolutely can use the stepper inside a dialog. I think that was what it was designed for."}, {"owner": {"reputation": 452, "user_id": 7511732, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-ZDP8WyJUkJs/AAAAAAAAAAI/AAAAAAAACdM/-kuGIJfLyFE/photo.jpg?sz=128", "display_name": "Kevin Summersill", "link": "https://stackoverflow.com/users/7511732/kevin-summersill"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527102916, "post_id": 50495503, "comment_id": 88004477, "body": "Awesome! this is what i am going to do then. Thank you for the knowledge. Knowledge is power my friend."}], "owner": {"reputation": 452, "user_id": 7511732, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-ZDP8WyJUkJs/AAAAAAAAAAI/AAAAAAAACdM/-kuGIJfLyFE/photo.jpg?sz=128", "display_name": "Kevin Summersill", "link": "https://stackoverflow.com/users/7511732/kevin-summersill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 848, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1527101459, "creation_date": 1527101459, "question_id": 50495503, "link": "https://stackoverflow.com/questions/50495503/close-angular-material-stepper", "title": "Close Angular Material Stepper", "body": "<p>This may be a very simple question. How do you close the Angular Material Stepper? I want to close the box via a <code>mat-button,</code> but i did not see it in the documentation. Maybe i am blind. </p>\n\n<p><a href=\"https://material.angular.io/components/stepper/overview#completed-step\" rel=\"nofollow noreferrer\">https://material.angular.io/components/stepper/overview#completed-step</a></p>\n"}, {"tags": ["angular", "typescript", "datepicker", "ngx-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "edited": false, "score": 0, "creation_date": 1528957550, "post_id": 50763337, "comment_id": 88704441, "body": "Tried as you said, still its not working. can you explain a bit more what i need to do"}, {"owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "edited": false, "score": 0, "creation_date": 1528957776, "post_id": 50763337, "comment_id": 88704556, "body": "i was getting <code>label not defined</code>, <code>indexes not defined</code> error while using your solution.  and also  getting <code>Cannot read property &quot;daySelectHandler&quot; of undefined</code> as console error"}, {"owner": {"reputation": 21, "user_id": 7245088, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DwGB2PfxQFg/AAAAAAAAAAI/AAAAAAAAADw/JCIMGEP-J8A/photo.jpg?sz=128", "display_name": "Roman Ivanitskyi", "link": "https://stackoverflow.com/users/7245088/roman-ivanitskyi"}, "reply_to_user": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "edited": false, "score": 0, "creation_date": 1529052793, "post_id": 50763337, "comment_id": 88745812, "body": "@Krishna please look at the UPDATE information I hope it help you"}], "tags": [], "owner": {"reputation": 21, "user_id": 7245088, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DwGB2PfxQFg/AAAAAAAAAAI/AAAAAAAAADw/JCIMGEP-J8A/photo.jpg?sz=128", "display_name": "Roman Ivanitskyi", "link": "https://stackoverflow.com/users/7245088/roman-ivanitskyi"}, "is_accepted": false, "score": 0, "last_activity_date": 1529052643, "last_edit_date": 1529052643, "creation_date": 1528469736, "answer_id": 50763337, "question_id": 50495454, "link": "https://stackoverflow.com/questions/50495454/add-today-and-tomorrow-options-in-datepicker/50763337#50763337", "title": "Add TODAY and TOMORROW options in datepicker", "body": "<p>I do it in this way </p>\n\n<pre><code>const day:{date:Date, label:number, monthIndex:number, weekIndex:number , dayIndex:number} = {date:new Date(), label:label,monthIndex:0, weekIndex:indexes.weekIndex, dayIndex:indexes.dayIndex}\n\nthis.datepicker.daySelectHandler(day);\n</code></pre>\n\n<p><strong>UPDATE</strong>\nin your html you have to implement datepicker in this way </p>\n\n<pre><code>&lt;bs-datepicker-container #datepicker&gt;&lt;/bs-datepicker-container&gt;\n</code></pre>\n\n<p>and in your  ts class you should have access to it </p>\n\n<pre><code>@ViewChild('datepicker') public datepicker:any;\n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 847, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529052643, "creation_date": 1527101318, "last_edit_date": 1527101613, "question_id": 50495454, "link": "https://stackoverflow.com/questions/50495454/add-today-and-tomorrow-options-in-datepicker", "title": "Add TODAY and TOMORROW options in datepicker", "body": "<p>I need to add TODAY and TOMORROW options in ngx-bootstrap datepicker. For that I have changed the below code in <code>bs-current-date-view.component.js</code> present in <code>node_modules/ngx-bootstrap/datepicker/themes/bs/bs-current-date-view.component.js</code></p>\n\n<pre><code> BsCurrentDateViewComponent.decorators = [\n    { type: Component, args: [{\n        selector: 'bs-current-date',\n        template: \"&lt;div class=\\\"current-timedate\\\"&gt;&lt;button (click)=\\\"currentDate()\\\" class=\\\"active\\\"&gt;TODAY&lt;/button&gt;&lt;button class=\\\"tomorrow\\\"&gt;TOMORROW&lt;/button&gt;&lt;/div&gt;\"\n    },] },\n];\n</code></pre>\n\n<p>But I'm unable to add functionality to that , to take values from today-tomorrow buttons.</p>\n\n<p>Below is the code I have tried till now</p>\n\n<pre><code>BsCurrentDateViewComponent.prototype.currentDate = function (en) {\n    let today = new Date();\n    let dateObj = {};\n    dateObj.date = today;\n    dateObj.isOtherMonth = false;\n    dateObj.isDisabled = false;\n    BsDatepickerContainerComponent.prototype.daySelectHandler(dateObj);\n    alert();\n};\n\nBsDatepickerContainerComponent.prototype.daySelectHandler = function (day) \n{\n    console.log(day);\n    console.log(this._actions.select(day.date));\n    this._store.dispatch(day);\n};\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xPozW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPozW.png\" alt=\"DatePicker\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1527106287, "post_id": 50495417, "comment_id": 88006161, "body": "I don&#39;t know why this will not work, but I am unsure what problem you are trying to solve. In the extends version the subclasses can only specify a more restrictive compatible type (or any which may be an issue) which should be fine for the base class."}, {"owner": {"reputation": 103, "user_id": 1382214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47b15e18887384c2f5179c76fefc752?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/1382214/markus"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1527180649, "post_id": 50495417, "comment_id": 88041364, "body": "I want to define a base class <code>Controller</code> that has a reference to a generic model that &quot;extends&quot; a base model (here <code>{ Title: string }</code>). The <code>Controller</code> should provide the <code>updateModel(...)</code> method that merges a partial model into the current model (like React&#39;s <code>setState(...)</code>. The <code>Controller</code> also implements some methods itself (here <code>setFancyTitle()</code>) that should use <code>updateModel(...)</code>. The <code>extends</code> keyword won&#39;t work here since <code>Title</code> may be more restrictive (e.g. <code>{ Title: &quot;Restricted Title&quot; }</code>)."}], "owner": {"reputation": 103, "user_id": 1382214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47b15e18887384c2f5179c76fefc752?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/1382214/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527101274, "creation_date": 1527101153, "last_edit_date": 1527101274, "question_id": 50495417, "link": "https://stackoverflow.com/questions/50495417/typescript-conditional-mapped-types-and-generic-type-parameters", "title": "TypeScript: Conditional Mapped Types and Generic Type Parameters", "body": "<p>I opened an <a href=\"https://github.com/Microsoft/TypeScript/issues/23207\" rel=\"nofollow noreferrer\">issue on TypeScript</a> a few weeks ago about conditional mapped types and generic type parameters. I was trying to define a mapped type <code>SubAddsNewPropsToSuper&lt;Sub, Super&gt;</code> which is kind of like the <code>extends</code> constraint for generic types <em>except it only allows Sub to add new properties to Super while not changing the type of any existing property</em>.</p>\n\n<p>Perhaps the issue just got overlooked or is considered a question (it does not have any tag set and is not closed). So i thought, I put it here as a question (where the question is, if it is possible to define such a type). First goes my code example, second is the expected behaviour and third is the actual behaviour. I also added a playground link at the bottom.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// defines a type that contains all properties of Super exactly as they are defined in Super\n// and all properties of Sub that are not already defined in Super.\ntype SubAddsNewPropsToSuper&lt;Sub, Super&gt; = { [KeyOfNewPropsInSub in Exclude&lt;keyof Sub, keyof Super&gt;]: Sub[KeyOfNewPropsInSub] } &amp; Super;\n\nclass Controller&lt;TModel&gt; {\n\n    constructor(public model: SubAddsNewPropsToSuper&lt;TModel, { Title: string }&gt;) { }\n\n    setFancyTitle() { \n\n        this.model.Title = \"FANCY\"; // works\n        this.updateModel({ Title: \"FANCY\" }); // does not work - why?\n        const x: Partial&lt;SubAddsNewPropsToSuper&lt;{ Title: \"Foo\" }, { Title: string }&gt;&gt; = { Title: \"FANCY\" }; // works\n        const y: Partial&lt;SubAddsNewPropsToSuper&lt;TModel, { Title: string }&gt;&gt; = { Title: \"FANCY\" }; // does not work - why?\n    }\n\n    updateModel(changes: Partial&lt;SubAddsNewPropsToSuper&lt;TModel, { Title: string }&gt;&gt;) {\n        // merge \"changes\" into \"this.model\"\n    }\n}\n</code></pre>\n\n<p><strong>Expected behavior:</strong>\nThe type <code>SubAddsNewPropsToSuper&lt;A, B&gt;</code> should define a type that contains all properties of type <code>B</code> <strong>exactly</strong> as they are defined in <code>B</code> even if type <code>A</code> defines the same property with a different type (e.g. changes the type of a property from <code>string</code> to <code>\"OnlyThisString\"</code>).\nThe idea behind this is to circumvent the \"problem\" if <code>Controller</code> was defined as <code>class Controller&lt;TModel extends { Title: string }&gt;{ ... }</code> in which case <code>TModel</code> might actually change the type of property <code>Title</code>.</p>\n\n<p><strong>Actual behavior:</strong>\nIt works as expected if <code>A</code> and <code>B</code> are both non-generic types but it does not work if <code>A</code> is a generic type.</p>\n\n<p><strong>Playground Link:</strong> <a href=\"http://www.typescriptlang.org/play/#src=%0A%2F%2F%20defines%20a%20type%20that%20contains%20all%20properties%20of%20Super%20exactly%20as%20they%20are%20defined%20in%20Super%0A%2F%2F%20and%20all%20properties%20of%20Sub%20that%20are%20not%20already%20defined%20in%20Super.%0Atype%20SubAddsNewPropsToSuper%3CSub%2C%20Super%3E%20%3D%20%7B%20%5BKeyOfNewPropsInSub%20in%20Exclude%3Ckeyof%20Sub%2C%20keyof%20Super%3E%5D%3A%20Sub%5BKeyOfNewPropsInSub%5D%20%7D%20%26%20Super%3B%0A%0Aclass%20Controller%3CTModel%3E%20%7B%0A%0A%20%20%20%20constructor(public%20model%3A%20SubAddsNewPropsToSuper%3CTModel%2C%20%7B%20Title%3A%20string%20%7D%3E)%20%7B%20%7D%0A%0A%20%20%20%20setFancyTitle()%20%7B%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.model.Title%20%3D%20%22FANCY%22%3B%20%2F%2F%20works%0A%20%20%20%20%20%20%20%20this.updateModel(%7B%20Title%3A%20%22FANCY%22%20%7D)%3B%20%2F%2F%20does%20not%20work%20-%20why%3F%0A%20%20%20%20%20%20%20%20const%20x%3A%20Partial%3CSubAddsNewPropsToSuper%3C%7B%20Title%3A%20%22Foo%22%20%7D%2C%20%7B%20Title%3A%20string%20%7D%3E%3E%20%3D%20%7B%20Title%3A%20%22FANCY%22%20%7D%3B%20%2F%2F%20works%0A%20%20%20%20%20%20%20%20const%20y%3A%20Partial%3CSubAddsNewPropsToSuper%3CTModel%2C%20%7B%20Title%3A%20string%20%7D%3E%3E%20%3D%20%7B%20Title%3A%20%22FANCY%22%20%7D%3B%20%2F%2F%20does%20not%20work%20-%20why%3F%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateModel(changes%3A%20Partial%3CSubAddsNewPropsToSuper%3CTModel%2C%20%7B%20Title%3A%20string%20%7D%3E%3E)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20merge%20%22changes%22%20into%20%22this.model%22%0A%20%20%20%20%7D%0A%7D%0A\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1527100704, "post_id": 50495212, "comment_id": 88003344, "body": "If you&#39;re using a recent version of TypeScript, you could use a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-4.html#dynamic-import-expressions\" rel=\"nofollow noreferrer\">dynamic import expression</a>."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1527101179, "post_id": 50495212, "comment_id": 88003581, "body": "@MikeMcCaughan It&#39;s asynchronous, this makes control flow unnecessary complicated."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1527101346, "post_id": 50495212, "comment_id": 88003677, "body": "<code>await import(&#39;this-module&#39;)</code> is complicated?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1527101569, "post_id": 50495212, "comment_id": 88003807, "body": "@MikeMcCaughan <code>data</code> is. The thing you&#39;re suggesting is to convert intrinsically synchronous method to asynchronous for no good reason (and potentially all code that consumes <code>data</code>)."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1527101988, "post_id": 50495212, "comment_id": 88004023, "body": "@estus I have no idea what <code>data()</code> does or how it&#39;s consumed. Do you? How do you know that making the method asynchronous is a bad thing? Anyway, it&#39;s a comment, not an answer, precisely because I don&#39;t have all of the information."}, {"owner": {"reputation": 1759, "user_id": 5203271, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bmlMn.png?s=128&g=1", "display_name": "Emilio Platzer", "link": "https://stackoverflow.com/users/5203271/emilio-platzer"}, "edited": false, "score": 0, "creation_date": 1527102405, "post_id": 50495212, "comment_id": 88004226, "body": "data() is a generic name. I have a big class that has a collection of other class (inheriting of the same base). I want to have each class definition in one separate file and the collection as simple as possible"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1527103325, "post_id": 50495212, "comment_id": 88004695, "body": "@MikeMcCaughan I surely don&#39;t too because the rest of the code wasn&#39;t shown, but from my experience this is a bad thing in most cases. I have a WTF moment almost every time when initially sync routine is replaced with async one (storage, auth, whatever), because async tends to be viral. Any way, dynamic import (with an explanation of possible complications provided) would be the correct answer here, at least a part of it; another part would be &#39;there&#39;s no other way&#39;."}], "owner": {"reputation": 1759, "user_id": 5203271, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bmlMn.png?s=128&g=1", "display_name": "Emilio Platzer", "link": "https://stackoverflow.com/users/5203271/emilio-platzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2334, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1527100442, "creation_date": 1527100442, "question_id": 50495212, "link": "https://stackoverflow.com/questions/50495212/how-to-inline-import-another-source-in-typescript", "title": "How to inline import another source in TypeScript", "body": "<p>In node.js Javascript I can do this:</p>\n\n<pre><code>class MyClass{\n    data(){\n        return [\n            require('this-module'),\n            require('another-module),\n            require('that-module),\n        ];\n    }\n}\n</code></pre>\n\n<p>In Typescript I can write:</p>\n\n<pre><code>import * as ThisModule from 'this-module'\nimport * as AnotherModule from 'another-module'\nimport * as ThatModule from 'that-module'\n\nclass MyClass{\n    data():MyModuleTypeArray{\n        return [\n            ThisModule,\n            AnotherModule,\n            ThatModule\n        ];\n    }\n}\n</code></pre>\n\n<p>But in that solution I must write each name 3 times.</p>\n\n<p><strong>My question</strong>: Can I wrote the code in Typescript for inline include or in some other way in which I don't need to write 3 times the name (or to use an auxiliar variable)?</p>\n\n<p>Of course I can write <code>require</code> but <code>require</code> returns <code>any</code>. I want the type checking. </p>\n"}, {"tags": ["typescript", "bokeh"], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 7210417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4169cb5d177fe0a1083e52b744147e6?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7210417/jack"}, "is_accepted": false, "score": 0, "last_activity_date": 1527109235, "creation_date": 1527109235, "answer_id": 50497384, "question_id": 50495029, "link": "https://stackoverflow.com/questions/50495029/add-a-custom-bokeh-widget-using-typescript/50497384#50497384", "title": "Add a custom Bokeh widget using TypeScript", "body": "<p>All of the built in widgets are now in typescript (as of 0.12.16 at least) so no problems there at all. There haven't been any stated plans to completely remove coffeescript and a good 10% of the bokeh repo is still in it so you should be safe for a good while. If writing anew and given the choice then go for typescript, and if its an existing widget you could always use something like decaffeinate to convert to raw js if you don't want to leave it.</p>\n\n<p>If you're still worried though you can ask the core devs on either <a href=\"https://gitter.im/bokeh/bokeh?source=orgpage\" rel=\"nofollow noreferrer\">the gitter</a> or <a href=\"https://groups.google.com/a/continuum.io/forum/#!forum/bokeh\" rel=\"nofollow noreferrer\">the mailing list</a>.</p>\n"}], "owner": {"reputation": 633, "user_id": 8145356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039f65040f1b9aea9484d2df6d8ab2c9?s=128&d=identicon&r=PG&f=1", "display_name": "hamdog", "link": "https://stackoverflow.com/users/8145356/hamdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527109235, "creation_date": 1527099696, "question_id": 50495029, "link": "https://stackoverflow.com/questions/50495029/add-a-custom-bokeh-widget-using-typescript", "title": "Add a custom Bokeh widget using TypeScript", "body": "<p>In the <a href=\"https://bokeh.pydata.org/en/latest/docs/user_guide/extensions_gallery/widget.html\" rel=\"nofollow noreferrer\">Adding a Custom Widget</a> section of the Bokeh documentation, it states that custom widgets can be implemented using either JS or CoffeeScript. <a href=\"https://github.com/bokeh/bokeh/issues/6481\" rel=\"nofollow noreferrer\">This Bokeh issue</a> indicates Bokeh is switching over to TypeScript. </p>\n\n<p>Can we implement custom widgets in TypeScript now? Will CoffeeScript implementations continue to work going forward? </p>\n"}, {"tags": ["angular", "typescript", "parent-child"], "answers": [{"comments": [{"owner": {"reputation": 24, "user_id": 9797077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773e1440a458e8fed3814b69d9d6e68c?s=128&d=identicon&r=PG&f=1", "display_name": "ignacioSG", "link": "https://stackoverflow.com/users/9797077/ignaciosg"}, "edited": false, "score": 0, "creation_date": 1527099821, "post_id": 50495045, "comment_id": 88002873, "body": "when you assign a variable you dont have to set the type of data. TS automatically set it for you. and if you dont implement the Oninit delete it"}, {"owner": {"reputation": 1958, "user_id": 4766532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4IBPS.png?s=128&g=1", "display_name": "imnickvaughn", "link": "https://stackoverflow.com/users/4766532/imnickvaughn"}, "edited": false, "score": 0, "creation_date": 1527100657, "post_id": 50495045, "comment_id": 88003311, "body": "Thank you so much for the &#39;try this&#39; every little bit helps!!  Didn&#39;t fix it but I found the problem bc of you none the less.... knew something looked funky"}], "tags": [], "owner": {"reputation": 24, "user_id": 9797077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773e1440a458e8fed3814b69d9d6e68c?s=128&d=identicon&r=PG&f=1", "display_name": "ignacioSG", "link": "https://stackoverflow.com/users/9797077/ignaciosg"}, "is_accepted": false, "score": 1, "last_activity_date": 1527099769, "creation_date": 1527099769, "answer_id": 50495045, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1/50495045#50495045", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<pre><code>import { Component, Output } from '@angular/core';\nimport { slideToRight } from '../../../../router.animations';\nimport { Router, ActivatedRoute, UrlSegment } from '@angular/router';\nimport { EventEmitter } from 'protractor';\n\n@Component({\n  selector: 'app-new-user-input',\n  templateUrl: './new-user-input.component.html',\n  styleUrls: ['./new-user-input.component.css'],\n  animations: [slideToRight()]\n})\nexport class NewUserInputComponent {\n\n  newUserInfoComplete = false;\n  @Output() newUserInfoCompleteEvent = new EventEmitter &lt;boolean&gt; ();\n\n  constructor(private router: Router, r: ActivatedRoute) {\n    r.url.subscribe((s: UrlSegment[]) =&gt; {\n      console.log(\"url\", s);\n    });\n  }\n  sendNewUserInfoComplete(){\n    this.newUserInfoCompleteEvent.emit(!!this.newUserInfoComplete);\n  }\n\n\n  displaySibling() {\n    console.log(this.router);\n    this.router.navigate(['../', { outlets: { newuserorginfo: ['newuserorginfo'] } }])\n  }\n\n  closeBlade() {\n    this.router.navigate([{ outlets: { newuserinput: null } }]);\n  }\n\n}\n</code></pre>\n\n<p>try this</p>\n"}, {"comments": [{"owner": {"reputation": 800, "user_id": 3460150, "user_type": "registered", "profile_image": "https://graph.facebook.com/906225092/picture?type=large", "display_name": "tony2tones", "link": "https://stackoverflow.com/users/3460150/tony2tones"}, "edited": false, "score": 6, "creation_date": 1562409335, "post_id": 50495282, "comment_id": 100369692, "body": "By default it was importing the EventEmitter from &#39;Events&#39;. Just be sure to see where its being imported from."}, {"owner": {"reputation": 3153, "user_id": 121400, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e2baf1a2277886e275face2fe399fdf6?s=128&d=identicon&r=PG", "display_name": "CFNinja", "link": "https://stackoverflow.com/users/121400/cfninja"}, "edited": false, "score": 2, "creation_date": 1568821580, "post_id": 50495282, "comment_id": 102399542, "body": "My import was : import { EventEmitter } from &#39;events&#39;. Changing it to @angular/core fixed it."}, {"owner": {"reputation": 2380, "user_id": 4986641, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/xx006.jpg?s=128&g=1", "display_name": "Callat", "link": "https://stackoverflow.com/users/4986641/callat"}, "edited": false, "score": 2, "creation_date": 1569610149, "post_id": 50495282, "comment_id": 102666466, "body": "Yeah I&#39;m using vscode and I&#39;m not sure why it auto-imported from the wrong place. This was definitely my problem"}, {"owner": {"reputation": 174, "user_id": 8849764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8fca8933445d974ab513c40cdbf6f28?s=128&d=identicon&r=PG&f=1", "display_name": "static_null", "link": "https://stackoverflow.com/users/8849764/static-null"}, "edited": false, "score": 2, "creation_date": 1599692524, "post_id": 50495282, "comment_id": 112855621, "body": "VS Code still auto-imports from protractor, this answer solved the problem for me as well. Thanks."}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 225, "last_activity_date": 1527103077, "last_edit_date": 1527103077, "creation_date": 1527100711, "answer_id": 50495282, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1/50495282#50495282", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<p>Try importing <code>EventEmitter</code> from Angular instead of from <code>protractor</code>:</p>\n\n<pre><code>import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1958, "user_id": 4766532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4IBPS.png?s=128&g=1", "display_name": "imnickvaughn", "link": "https://stackoverflow.com/users/4766532/imnickvaughn"}, "is_accepted": false, "score": 7, "last_activity_date": 1527100810, "creation_date": 1527100810, "answer_id": 50495320, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1/50495320#50495320", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<p>I forgot to check my imports!  Darn.  I was using PROTRACTOR'S event emitter and not angular core Event Emitter</p>\n\n<pre><code>import { EventEmitter } from '@angular/core';\nimport { Component, OnInit, Output } from '@angular/core';\nimport { slideToRight } from '../../../../router.animations';\nimport { Router, ActivatedRoute, UrlSegment } from '@angular/router';\n\n@Component({\n  selector: 'app-new-user-input',\n  templateUrl: './new-user-input.component.html',\n  styleUrls: ['./new-user-input.component.css'],\n  animations: [slideToRight()]\n})\nexport class NewUserInputComponent implements OnInit {\n\n  newUserInfoComplete = false;\n\n  @Output() newUserInfoCompleteEvent = new EventEmitter&lt;boolean&gt;();\n\n  constructor(private router: Router, r: ActivatedRoute) {\n    r.url.subscribe((s: UrlSegment[]) =&gt; {\n      console.log(\"url\", s); //https://vsavkin.com/angular-router-understanding-router-state-7b5b95a12eab\n    });\n  }\n\n  ngOnInit() {\n  }\n\n\n\n  sendNewUserInfoComplete() {\n    this.newUserInfoCompleteEvent.emit(this.newUserInfoComplete);\n  }\n\n\n  displaySibling() {\n    console.log(this.router);\n    this.router.navigate(['../', { outlets: { newuserorginfo: ['newuserorginfo'] } }])\n  }\n\n  closeBlade() {\n    this.router.navigate([{ outlets: { newuserinput: null } }]);\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 11312399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YvvaJfCsmh0/AAAAAAAAAAI/AAAAAAAAAAc/wIFWOB1TNak/photo.jpg?sz=128", "display_name": "Kelvin Onkundi", "link": "https://stackoverflow.com/users/11312399/kelvin-onkundi"}, "is_accepted": false, "score": 5, "last_activity_date": 1591195966, "last_edit_date": 1591195966, "creation_date": 1562763301, "answer_id": 56971181, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1/56971181#56971181", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<p>You just got the imports wrong, you need to import <code>EventEmitter</code> from <code>@angular/core</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { EventEmitter } from @angular/core\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 10793332, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5Bbe8omY7iM/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iuuN4ssm51DFbe1JllTNElJSG9gQ/mo/photo.jpg?sz=128", "display_name": "Avinash Dewangan", "link": "https://stackoverflow.com/users/10793332/avinash-dewangan"}, "is_accepted": false, "score": 3, "last_activity_date": 1567362134, "last_edit_date": 1567362134, "creation_date": 1567340112, "answer_id": 57745926, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1/57745926#57745926", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<pre><code>import { EventEmitter, Component, OnInit, Output } from '@angular/core';\n</code></pre>\n\n<p>Please make sure <code>EventEmitter</code> imported on <code>@angular/core</code> otherwise error. </p>\n\n<p>I was mistaken. I was importing-</p>\n\n<pre><code> import { EventEmitter } from 'events';\n</code></pre>\n\n<p>so got error getting</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5801165, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3ZLa6iOjUsU/AAAAAAAAAAI/AAAAAAAAAPI/-61_1KSu9YQ/photo.jpg?sz=128", "display_name": "Mahadevan Annamalai", "link": "https://stackoverflow.com/users/5801165/mahadevan-annamalai"}, "is_accepted": false, "score": 1, "last_activity_date": 1572361014, "last_edit_date": 1572361014, "creation_date": 1572359640, "answer_id": 58609577, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1/58609577#58609577", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<p>Don't import with events like below:</p>\n\n<pre><code>import { EventEmitter } from 'events';\n</code></pre>\n\n<p>Try to import like below:</p>\n\n<pre><code>import { EventEmitter } from\n'@angular/core';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 13057269, "user_type": "registered", "profile_image": "https://graph.facebook.com/1811831125620767/picture?type=large", "display_name": "Husain Ali", "link": "https://stackoverflow.com/users/13057269/husain-ali"}, "is_accepted": false, "score": 4, "last_activity_date": 1584604549, "last_edit_date": 1584604549, "creation_date": 1584601930, "answer_id": 60752430, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1/60752430#60752430", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<p>Don't import <code>EventEmitter</code> from '<em>protractor</em>', import it from '<em>@angular/core</em>'.<br>\nWhy it has happened: because you used <code>EventEmmiter</code> <strong>before</strong> importing it, so in that case it automatically imports from '<em>protractor</em>' module. </p>\n"}], "owner": {"reputation": 1958, "user_id": 4766532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4IBPS.png?s=128&g=1", "display_name": "imnickvaughn", "link": "https://stackoverflow.com/users/4766532/imnickvaughn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33633, "favorite_count": 6, "accepted_answer_id": 50495282, "answer_count": 7, "score": 72, "last_activity_date": 1591195966, "creation_date": 1527099428, "last_edit_date": 1572363497, "question_id": 50494949, "link": "https://stackoverflow.com/questions/50494949/angular-eventemitter-error-expected-0-type-arguments-but-got-1", "title": "Angular EventEmitter Error: Expected 0 type arguments, but got 1", "body": "<p>I am getting the type error, \"Expected 0 type arguments, but got 1\" despite following this tutorial to a T.\n<a href=\"https://youtu.be/I317BhehZKM?t=57s\" rel=\"noreferrer\">https://youtu.be/I317BhehZKM?t=57s</a></p>\n\n<p>I have specified:</p>\n\n<pre><code>  newUserInfoComplete:boolean = false\n</code></pre>\n\n<p>yet I am getting the error specified above on <code>&lt;boolean&gt;</code> in this line:</p>\n\n<pre><code>  @Output() newUserInfoCompleteEvent = new EventEmitter &lt;boolean&gt; ();\n</code></pre>\n\n<p>Also, if I simply omit <code>&lt;boolean&gt;</code> I get this error:</p>\n\n<pre><code>Argument of type 'boolean' is not assignable to parameter of type 'string'.\n</code></pre>\n\n<p>and this.NewUserInfoComplete is underlined here:</p>\n\n<pre><code>this.newUserInfoCompleteEvent.emit(this.newUserInfoComplete);\n</code></pre>\n\n<p>Here is my component:</p>\n\n<pre><code>import { Component, OnInit, Output } from '@angular/core';\nimport { slideToRight } from '../../../../router.animations';\nimport { Router, ActivatedRoute, UrlSegment } from '@angular/router';\nimport { EventEmitter } from 'protractor';\n\n@Component({\n  selector: 'app-new-user-input',\n  templateUrl: './new-user-input.component.html',\n  styleUrls: ['./new-user-input.component.css'],\n  animations: [slideToRight()]\n})\nexport class NewUserInputComponent implements OnInit {\n\n  newUserInfoComplete:boolean = false\n\n  @Output() newUserInfoCompleteEvent = new EventEmitter &lt;boolean&gt; ();\n\n  constructor(private router: Router, r: ActivatedRoute) {\n    r.url.subscribe((s: UrlSegment[]) =&gt; {\n      console.log(\"url\", s); //https://vsavkin.com/angular-router-understanding-router-state-7b5b95a12eab\n    });\n  }\n\n  ngOnInit() {\n  }\n\n\n\n  sendNewUserInfoComplete(){\n    this.newUserInfoCompleteEvent.emit(this.newUserInfoComplete);\n  }\n\n\n  displaySibling() {\n    console.log(this.router);\n    this.router.navigate(['../', { outlets: { newuserorginfo: ['newuserorginfo'] } }])\n  }\n\n  closeBlade() {\n    this.router.navigate([{ outlets: { newuserinput: null } }]);\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 3876, "user_id": 1987977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iAja0.jpg?s=128&g=1", "display_name": "Cristian Gomez", "link": "https://stackoverflow.com/users/1987977/cristian-gomez"}, "edited": false, "score": 0, "creation_date": 1527098926, "post_id": 50494731, "comment_id": 88002439, "body": "maybe check <a href=\"https://stackoverflow.com/a/42951200/1987977\">stackoverflow.com/a/42951200/1987977</a>"}, {"owner": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "reply_to_user": {"reputation": 3876, "user_id": 1987977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iAja0.jpg?s=128&g=1", "display_name": "Cristian Gomez", "link": "https://stackoverflow.com/users/1987977/cristian-gomez"}, "edited": false, "score": 0, "creation_date": 1527100730, "post_id": 50494731, "comment_id": 88003365, "body": "I get the rough just of what their doing (I&#39;m new to angular2) but I don&#39;t fully grasp how to relate it to my <code>pipe</code>"}], "answers": [{"comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527101553, "post_id": 50495494, "comment_id": 88003795, "body": "Won&#39;t this break in production when the JavaScript is minimized and function names are shorten."}, {"owner": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1527101695, "post_id": 50495494, "comment_id": 88003888, "body": "i&#39;m going to go with &#175;_(\u30c4)_/&#175;"}], "tags": [], "owner": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "is_accepted": false, "score": 0, "last_activity_date": 1527101424, "creation_date": 1527101424, "answer_id": 50495494, "question_id": 50494731, "link": "https://stackoverflow.com/questions/50494731/typescript-and-angular-type-a-string-to-a-component-class/50495494#50495494", "title": "Typescript and Angular: Type a string to a component class", "body": "<p>I did this pretty simple way:</p>\n\n<p>I created a <code>views.ts</code> with all of my views exported at the root of my views directory. Then in directory that my pipe is being used I imported the <code>views</code> using:</p>\n\n<p><code>import * as views from '../../views/views'</code></p>\n\n<p>Then in my <code>transform</code> method I <code>return views[value];</code> where <code>value</code> is the string being pulled in from my template.</p>\n"}, {"comments": [{"owner": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "edited": false, "score": 0, "creation_date": 1527102118, "post_id": 50495619, "comment_id": 88004081, "body": "I&#39;m pulling in my list of possible components by placing them in a <code>ts</code> file using <code>export</code> for each then importing them into my <code>pipe</code> file with <code>import * as views from &#39;..&#47;..&#47;views&#47;views&#39;;</code> This returns an an array with key value pairs already. Couldn&#39;t I just keep using that?"}, {"owner": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "edited": false, "score": 0, "creation_date": 1527102192, "post_id": 50495619, "comment_id": 88004116, "body": "FYI, I&#39;m not saying you&#39;re wrong. Just asking if using <code>views</code> from the import above is acceptable since it&#39;s already an array and <code>views[value]</code> returns the same thing as what you did above."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "edited": false, "score": 0, "creation_date": 1527102458, "post_id": 50495619, "comment_id": 88004253, "body": "I think the keys in <code>views</code> will be the minimized version in production. Just run <code>console.log(views)</code> from a production build to see if I&#39;m right."}, {"owner": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "edited": false, "score": 0, "creation_date": 1527102887, "post_id": 50495619, "comment_id": 88004459, "body": "I see the concern. Listing out each component in the pipe file can be a bit heavy when others start working in this system. The <code>views.ts</code> file in the <code>views</code> directory is used to provide a single point of export. How would you suggest addressing that?"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "edited": false, "score": 0, "creation_date": 1527104517, "post_id": 50495619, "comment_id": 88005308, "body": "@dcp3450 how do you assign the string values to <code>item.viewType</code>? Do you have control over what those values can be?"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "edited": false, "score": 0, "creation_date": 1527105290, "post_id": 50495619, "comment_id": 88005694, "body": "@dcp3450 I updated my answer. I ran a quick test on my own angular project, and it seems to work for me."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "edited": false, "score": 0, "creation_date": 1527105392, "post_id": 50495619, "comment_id": 88005741, "body": "I referenced this answer for my answer: <a href=\"https://stackoverflow.com/questions/46937746/how-to-retrieve-a-components-metadata-in-angular\" title=\"how to retrieve a components metadata in angular\">stackoverflow.com/questions/46937746/&hellip;</a>"}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 1, "last_activity_date": 1527105131, "last_edit_date": 1527105131, "creation_date": 1527101872, "answer_id": 50495619, "question_id": 50494731, "link": "https://stackoverflow.com/questions/50494731/typescript-and-angular-type-a-string-to-a-component-class/50495619#50495619", "title": "Typescript and Angular: Type a string to a component class", "body": "<p>You'll need to manually create a mapping between string values and the components. Components are actually named functions which can be minimized to shorter variable names when compiling for production.</p>\n\n<pre><code>import ComponentA from '../views/ComponentA'; \nimport ComponentB from '../views/ComponentA';\n\nconst componentMap = {\n    'ComponentA': ComponentA,\n    'ComponentB': ComponentB\n};\n\n@Pipe({name: 'dynamicComponent'})\nexport class DynamicComponentPipe implements PipeTransform {\n   transform(value: string): any {\n       if(componentMap[value]) {\n          return componentMap[value];\n       }\n       throw new Error(`${componentMap} component was not found`);\n   }\n}\n</code></pre>\n\n<p><strong>UPDATED:</strong></p>\n\n<p>The problem with using the name of a component at runtime is that it can be minimized into a smaller variable name for production. Therefore, doing something like <code>views['MyComponent']</code> won't work later when <code>MyComponent</code> is renamed to something like <code>a12</code>.</p>\n\n<p>An alternative approach is to use the component's <em>selector</em> string value to select the component. Each component in Angular has to be a unique selector string. So this is a safe value to use as a key.</p>\n\n<p>You can access (at least in Angular 5) the component's metadata via the <code>__annotations__</code> property. This property is an array that contains a the metadata.</p>\n\n<p>So you could try something like:</p>\n\n<pre><code>import * as views from '../views';\n\n@Pipe({name: 'dynamicComponent'})\nexport class DynamicComponentPipe implements PipeTransform {\n   transform(value: string): any {\n       const view = views.filter((component)=&gt;component['__annotations__'][0]['selector'] === value));\n       if(view) {\n          return view;\n       }\n       throw new Error(`A component with selector \"${value}\" was not found`);\n   }\n}\n</code></pre>\n\n<p>Furthermore, you could drop the need for a <code>views</code> file by accessing the <code>ngModule</code> directly and iterating all components to find a matching selector. Modules will have the same <code>__annotations__</code> property.</p>\n"}], "owner": {"reputation": 10065, "user_id": 249316, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e4c572c0e63d9aa71948d1cbf7737c55?s=128&d=identicon&r=PG", "display_name": "dcp3450", "link": "https://stackoverflow.com/users/249316/dcp3450"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1527105131, "creation_date": 1527098499, "question_id": 50494731, "link": "https://stackoverflow.com/questions/50494731/typescript-and-angular-type-a-string-to-a-component-class", "title": "Typescript and Angular: Type a string to a component class", "body": "<p>a function is passing the name of my component via a string but I need it to be the actual component class:</p>\n\n<p>Current: \"MyComponent\"\nNeed: MyComponent</p>\n\n<p>I need to \"convert\" it so It's passing correctly. I have an <code>ngFor</code> that spits out values and I'm trying to use piping to convert it:</p>\n\n<pre><code>&lt;div id=\"grid\"&gt;\n    &lt;gridster [options]=\"options\"&gt;\n    &lt;gridster-item [item]=\"item\" *ngFor=\"let item of dashboard;let i = index;\"&gt;\n      &lt;div class=\"grid-header drag-handle\"&gt;\n        &lt;span class=\"handle-icon\"&gt;&lt;i class=\"material-icons\"&gt;open_with&lt;/i&gt;&lt;/span&gt;\n        &lt;span class=\"close-icon\" (click)=\"removePanel(item)\"&gt;&lt;i class=\"material-icons\"&gt;close&lt;/i&gt;&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"grid-content\"&gt;\n        &lt;ndc-dynamic [ndcDynamicComponent]=\"item.viewType | dynamicComponent\"&gt;&lt;/ndc-dynamic&gt;\n      &lt;/div&gt;\n    &lt;/gridster-item&gt;\n  &lt;/gridster&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Above it's <code>item.viewType</code> that's a strong coming from my item array. I'm passing the value to a <code>dynamicComponent</code> custom pipe. I have my components imported into my <code>dynamic-component.pipe.ts</code>. I just need to change the string to the specified <code>viewType</code> and return the <code>typed</code> value:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n//pulling in all the possible components\nimport * from '../../views';\n\n@Pipe({\n  name: 'dynamicComponent'\n})\nexport class DynamicComponentPipe implements PipeTransform {\n\n  transform(value: string): any {\n\n\n  }\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular5", "messages"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1527106551, "post_id": 50494659, "comment_id": 88006275, "body": "Sorry, but this won&#39;t work anyway. Even if I&#39;d show you how to set up this service properly, you still need some kind of a database and a server in the background to store and get the message written by the admin. Every Computer runs it&#39;s own copy of your program. A message emitted locally on the admin&#39;s PC will never reach an other person&#39;s PC without a Server and a Database in the background."}, {"owner": {"reputation": 17, "user_id": 6155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k2zeD.jpg?s=128&g=1", "display_name": "CarlaDX", "link": "https://stackoverflow.com/users/6155679/carladx"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1527107603, "post_id": 50494659, "comment_id": 88006850, "body": "okay so the first thing i have to do is to create an object to store the message and send it to the Home Page component of every user ?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1527108600, "post_id": 50494659, "comment_id": 88007327, "body": "Simply spoke, yes. But there&#39;s a lot more effort behind it, though. You need to set up and program a server to handle the data transfer. You have to have a database table where you can put those messages in. If you have achieved this an the message is successfully store in the database, then you can create a client side service that gets those messages from the server an provides them on the login page."}, {"owner": {"reputation": 17, "user_id": 6155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k2zeD.jpg?s=128&g=1", "display_name": "CarlaDX", "link": "https://stackoverflow.com/users/6155679/carladx"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1527108938, "post_id": 50494659, "comment_id": 88007495, "body": "aaaah i got it, it means that the message must be stored in the database ( i already have one ) and then the Home page will display the last update"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1527109288, "post_id": 50494659, "comment_id": 88007670, "body": "Not exactly. You have to build a service that sends the message to the Server when you click the Submit-button in the NewsLetterComponent. The Server stores this message. Now you have to create another Service for your HomePage that sends, after Login, a request to the Server in order to get the latest messages. Both services are independent and the EventEmitter() in your NewsletterComponent has nothing to do with it at all!"}, {"owner": {"reputation": 17, "user_id": 6155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k2zeD.jpg?s=128&g=1", "display_name": "CarlaDX", "link": "https://stackoverflow.com/users/6155679/carladx"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1527109468, "post_id": 50494659, "comment_id": 88007764, "body": "now it&#39;s clear :) i&#39;m going to work on this, it seems more logic than the EventEmitter thing x&#39;)) Thank you !"}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 6155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k2zeD.jpg?s=128&g=1", "display_name": "CarlaDX", "link": "https://stackoverflow.com/users/6155679/carladx"}, "is_accepted": true, "score": 0, "last_activity_date": 1558523610, "last_edit_date": 1558523610, "creation_date": 1558518065, "answer_id": 56253818, "question_id": 50494659, "link": "https://stackoverflow.com/questions/50494659/display-a-message-after-login-angular-5/56253818#56253818", "title": "Display a message after login - Angular 5", "body": "<p>Follow the streps:</p>\n\n<ol>\n<li><p>build a service that sends the message to the Server when you click the Submit-button in the NewsLetterComponent.</p></li>\n<li><p>The Server stores this message. </p></li>\n<li><p>create another Service for your HomePage that sends, after Login, a request to the Server in order to get the latest messages. </p></li>\n</ol>\n\n<p>Both services are independent and the <code>EventEmitter()</code> in your <code>NewsletterComponent</code> has nothing to do with it at all!</p>\n"}], "owner": {"reputation": 17, "user_id": 6155679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k2zeD.jpg?s=128&g=1", "display_name": "CarlaDX", "link": "https://stackoverflow.com/users/6155679/carladx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 56253818, "answer_count": 1, "score": 0, "last_activity_date": 1558523610, "creation_date": 1527098242, "last_edit_date": 1527107710, "question_id": 50494659, "link": "https://stackoverflow.com/questions/50494659/display-a-message-after-login-angular-5", "title": "Display a message after login - Angular 5", "body": "<p>Hello/good evening people\nI'm new to typescript and angular 5 and I want to create a service that displays a message for the users after every login. This is what I did: </p>\n\n<p>It's a text area that will submit the text that will be shown in the Home Page after the login action. \nI mean, the admin will write and submit the message via this form and then it will be displayed for the users.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class NewsLetterComponent implements OnInit {\r\n  @Output() onNewsText = new EventEmitter&lt;string&gt;();\r\n\r\n  newsText: string;\r\n  constructor(private _router: Router) { }\r\n\r\n  ngOnInit() { \r\n    this.newsText = null;\r\n  }\r\n\r\n  onclick(newsText: string) {\r\n    this.newsText;\r\n    this.onNewsText.emit(newsText);\r\n \r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container-fluid\" &gt;\r\n&lt;form&gt;\r\n     &lt;div class=\"form-group\"&gt;\r\n    &lt;textarea #newsText class=\"form-control\"  rows=\"3\"&gt;&lt;/textarea&gt;\r\n  &lt;/div&gt;\r\n   &lt;button type=\"submit\" (click)=\"onclick(newsText.value)\"class=\"btn btn-primary pull-right\"&gt;Publish&lt;/button&gt;\r\n&lt;/form&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and displaying it in the Home Page: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header [user]=\"user\"  (logout)=\"logout()\"&gt; Loading...&lt;/header&gt;\r\n &lt;p-messages #newsletter [(value)]=\"newsletterText\"&gt;&lt;/p-messages&gt; \r\n&lt;content class=\"admin-page\"&gt;\r\n&lt;sidenav&gt;&lt;/sidenav&gt; \r\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\r\n&lt;content&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class AdminPageComponent implements OnInit, OnChanges {\r\n@ViewChild('newsletterComponenet') newsletterComponenet: NewsLetterComponent;\r\n@Input('newsletterText') newsletterText: String;\r\n\r\n//the rest of the code *\r\n\r\n  ngOnChanges() {\r\n    if (this.newsletterText &amp;&amp; this.newsletterText.length) {\r\n       this.msgs.push({ severity: 'info', summary: this.newsletterText });\r\n    }\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This doesn't work for sure, and I don't know if what I am doing is leading to the right way or not.\nCan someone help me on this?</p>\n\n<p>P.S. I Googled but could not find satisfactory answer anywhere</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1527096949, "post_id": 50494336, "comment_id": 88001508, "body": "You need to include a <code>.d.ts</code> file for Kendo."}, {"owner": {"reputation": 60380, "user_id": 172861, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b64b4df7e1c9ca6fd953fd8a9a5c82b?s=128&d=identicon&r=PG", "display_name": "Ian Vink", "link": "https://stackoverflow.com/users/172861/ian-vink"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1527097018, "post_id": 50494336, "comment_id": 88001539, "body": "I have included it, but MY_PERSONAL_FUNCTION is my function. Typescript fails on MY_PERSONAL_FUNCTION as it is not defined."}, {"owner": {"reputation": 2421, "user_id": 1086188, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/1f09a52518d8ef058be069661b6c2617?s=128&d=identicon&r=PG", "display_name": "Vignesh.N", "link": "https://stackoverflow.com/users/1086188/vignesh-n"}, "edited": false, "score": 0, "creation_date": 1527097101, "post_id": 50494336, "comment_id": 88001574, "body": "if you have written this file else where, you can export the function from your js file and import it in your typescript class."}, {"owner": {"reputation": 60380, "user_id": 172861, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b64b4df7e1c9ca6fd953fd8a9a5c82b?s=128&d=identicon&r=PG", "display_name": "Ian Vink", "link": "https://stackoverflow.com/users/172861/ian-vink"}, "edited": false, "score": 0, "creation_date": 1527097228, "post_id": 50494336, "comment_id": 88001642, "body": "How do I just ignore the typescript error. This is a function that is on the page that is added by another project magically."}], "answers": [{"tags": [], "owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "is_accepted": true, "score": 1, "last_activity_date": 1527097995, "creation_date": 1527097995, "answer_id": 50494595, "question_id": 50494336, "link": "https://stackoverflow.com/questions/50494336/calling-a-function-from-typescript/50494595#50494595", "title": "Calling a function from typescript", "body": "<p>If you are going for quick and dirty, you can just add <code>declare function</code> to the top of your script.  This will tell TypeScript the function has been created somewhere else.</p>\n\n<pre><code>declare function MY_PERSONAL_FUNCTION(e: any);\n\nvar dataSource = new kendo.data.DataSource({\n    error: (e) =&gt; { MY_PERSONAL_FUNCTION (e); },\n</code></pre>\n"}], "owner": {"reputation": 60380, "user_id": 172861, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b64b4df7e1c9ca6fd953fd8a9a5c82b?s=128&d=identicon&r=PG", "display_name": "Ian Vink", "link": "https://stackoverflow.com/users/172861/ian-vink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 50494595, "answer_count": 1, "score": 0, "last_activity_date": 1527097995, "creation_date": 1527096906, "last_edit_date": 1527097037, "question_id": 50494336, "link": "https://stackoverflow.com/questions/50494336/calling-a-function-from-typescript", "title": "Calling a function from typescript", "body": "<p>In an object, I need to call out to a function on that page that is not part of the typescript file. As typescript doesn't know about it, it fails to compile.</p>\n\n<p>How do I tell typescript that the call is fine and to let it through? function name is MY_PERSONAL_FUNCTION in this example</p>\n\n<pre><code>    var dataSource = new kendo.data.DataSource({\n        error: (e) =&gt; { MY_PERSONAL_FUNCTION (e); },\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 0, "last_activity_date": 1527095194, "creation_date": 1527095194, "answer_id": 50493890, "question_id": 50493796, "link": "https://stackoverflow.com/questions/50493796/how-to-make-typescript-infer-a-more-specific-type-of-a-class-property/50493890#50493890", "title": "How to make typescript infer a more specific type of a class property?", "body": "<p>Use <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generics</a>:</p>\n\n<pre><code>interface Model {\n  id: number;\n}\n\ninterface UserModel extends Model {\n  name: string;\n}\n\ninterface Models&lt;T extends Model&gt; {\n  [service: string]: T;\n}\n\nclass Application&lt;T extends Model&gt; {\n  public models: Models&lt;T&gt; = {};\n}\n\nconst app = new Application&lt;UserModel&gt;();\n\napp.models = {\n  User: {\n    id: 1,\n    name: 'Kent',\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1527095693, "creation_date": 1527095693, "answer_id": 50493997, "question_id": 50493796, "link": "https://stackoverflow.com/questions/50493796/how-to-make-typescript-infer-a-more-specific-type-of-a-class-property/50493997#50493997", "title": "How to make typescript infer a more specific type of a class property?", "body": "<p>Typescript does type inference (of the kind that you want to happen) only when there is some generic type parameter that can be inferred. Also, to make it happen, you typically should have a function which takes generic parameter, then its type could be inferred from specific type of actual argument that you pass to a function.</p>\n\n<p>In your case, you could make <code>Application</code> class generic, and pass <code>models</code> as parameter to a constructor. In this case, it's even not necessary to have explicit interface for <code>Models</code> - the constraint is specified inline in the <code>Application</code> generic class declaration:</p>\n\n<pre><code>// External modules/types\ninterface Model {\n  id: number;\n}\ninterface UserModel extends Model {\n  name: string;\n}\n\nclass Application&lt;ServiceNames extends string, \n              Models extends { [service in ServiceNames]: Model }&gt; {\n  constructor(models: Models) {\n    this.models = models;\n  }\n  public models: Models;\n}\n\n// My app\nconst app = new Application( {\n  User: {\n    id: 1,\n      name: 'Kent',\n  } as UserModel,\n});\n\nlet n = app.models.User.name; // inferred as string\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9835838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e92390fcaf5020fe229041b7056e390?s=128&d=identicon&r=PG&f=1", "display_name": "tamyahs82", "link": "https://stackoverflow.com/users/9835838/tamyahs82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 50493997, "answer_count": 2, "score": 3, "last_activity_date": 1527095693, "creation_date": 1527094820, "question_id": 50493796, "link": "https://stackoverflow.com/questions/50493796/how-to-make-typescript-infer-a-more-specific-type-of-a-class-property", "title": "How to make typescript infer a more specific type of a class property?", "body": "<p>I have an class with a property that is meant to be extensible by a developer, but I am having trouble making typescript infer (or make the developer be able to specify) the more specific type. In this example I have a property \"models\" on my application class that should be compatible with the type \"Models\". In my case, it will be overriden with a more specific type (almost) 100% of the time by the developer and never modified once set - and will be set before consumed.</p>\n\n<p>How can I help typescript understand the more specific type - or allowing the developer to overriding the type? Keep in mind this applies to many more properties which makes it inconvenient to specify the type using \"const app = new App({ config, models, stats, state });\"</p>\n\n<pre><code>// External modules/types\ninterface Model {\n  id: number;\n}\ninterface UserModel extends Model {\n  name: string;\n}\ninterface Models {\n  [service: string]: Model;\n}\nclass Application {\n  public models: Models = {};\n}\n\n// My app\nconst app = new Application();\napp.models = {\n  User: {\n    id: 1,\n      name: 'Kent',\n  } as UserModel,\n};\n\n// app.models does not have .User\n</code></pre>\n"}, {"tags": ["angular", "typescript", "primeng", "primeng-datatable"], "comments": [{"owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "edited": false, "score": 0, "creation_date": 1527095690, "post_id": 50493693, "comment_id": 88000890, "body": "I fixed my first issue ..see my updated code section...just issue number two"}, {"owner": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 1, "creation_date": 1527097632, "post_id": 50493693, "comment_id": 88001826, "body": "Bad tagging. Please correct it"}, {"owner": {"reputation": 5255, "user_id": 4359365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbf1d1f083c191962d7a3274a1a1fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Antikhippe", "link": "https://stackoverflow.com/users/4359365/antikhippe"}, "edited": false, "score": 0, "creation_date": 1527098026, "post_id": 50493693, "comment_id": 88002020, "body": "For second issue, you want a button outside the table and if you click on it, it should add a row at the end of the table, that&#39;s it ?"}, {"owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "edited": false, "score": 0, "creation_date": 1527099154, "post_id": 50493693, "comment_id": 88002539, "body": "yes, a button outside of the table will work"}], "answers": [{"comments": [{"owner": {"reputation": 2008, "user_id": 4031891, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/2513ee43929b1d3e106426ecb342af79?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Sahir", "link": "https://stackoverflow.com/users/4031891/mohamed-sahir"}, "edited": false, "score": 0, "creation_date": 1597855045, "post_id": 50495349, "comment_id": 112271580, "body": "How to do a delete for this.. else formarray concept is more suitable for dynamic grid population"}], "tags": [], "owner": {"reputation": 5255, "user_id": 4359365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbf1d1f083c191962d7a3274a1a1fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Antikhippe", "link": "https://stackoverflow.com/users/4359365/antikhippe"}, "is_accepted": true, "score": 2, "last_activity_date": 1527100901, "creation_date": 1527100901, "answer_id": 50495349, "question_id": 50493693, "link": "https://stackoverflow.com/questions/50493693/primeng-datatable-inline-editing/50495349#50495349", "title": "PrimeNG datatable inline editing", "body": "<p>For second issue, add a button which will call a method <code>addRow()</code> from your component :</p>\n\n<pre><code>&lt;button (click)=\"addRow()\"&gt;Add row&lt;/button&gt;\n</code></pre>\n\n<p>This method will add an object of type <em>IToDoList</em> to your <em>iToDoList</em> array :</p>\n\n<pre><code>addRow() {\n    this.iToDoList = [...this.iToDoList];\n    this.iToDoList.push({Comment: \"\", isEditable: true});\n  }\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-umag3s\" rel=\"nofollow noreferrer\">StackBlitz</a> (forked from the one you joined)</p>\n"}], "owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6620, "favorite_count": 0, "accepted_answer_id": 50495349, "answer_count": 1, "score": 3, "last_activity_date": 1527100901, "creation_date": 1527094467, "last_edit_date": 1527100661, "question_id": 50493693, "link": "https://stackoverflow.com/questions/50493693/primeng-datatable-inline-editing", "title": "PrimeNG datatable inline editing", "body": "<p>I am using PrimeNG DataTable with Angular and trying to implement something similar to this <a href=\"https://stackblitz.com/edit/angular-evo5ly?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">StackBlitz</a> and I have two issues:</p>\n\n<ol>\n<li><p>I am loading the table successfully and once I click on the edit button on the grid function editRow(row) it fails due to (see bold font below)</p>\n\n<p>this.iToDoList.filter(row => <strong>row.isEditable</strong>).map(r => { <strong>r.isEditable</strong> = false; return r })</p></li>\n</ol>\n\n<blockquote>\n  <p>error:propert isEditable does not exists on type iToDoList</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>How to add (inline) record to the table, like add comment ?</li>\n</ol>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>   &lt;p-table #dt  [value]=\"iToDoList\" dataKey=\"ID\"  [paginator]=\"true\" [rowsPerPageOptions]=\"[10,50,100]\"\n                             [rows]=\"10\"&gt;\n\n                        &lt;ng-template pTemplate=\"header\"&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;ID&lt;/th&gt;\n                                &lt;th&gt;Comment&lt;/th&gt;\n                                &lt;th&gt;Action&lt;/th&gt;\n\n                            &lt;/tr&gt;\n                            &lt;/ng-template&gt;\n                            &lt;ng-template pTemplate=\"body\" let-row&gt;  \n                                &lt;tr&gt;\n                                    &lt;td&gt;{{row.ID}}&lt;/td&gt;\n                                    &lt;td&gt;\n                                        &lt;div  *ngIf=\"!row.isEditable\"&gt;{{row.Comment}}&lt;/div&gt;\n                                        &lt;div *ngIf=\"row.isEditable\"&gt;\n                                            &lt;input type=\"text\" [(ngModel)]=\"row.comment\"&gt;\n                                        &lt;/div&gt;\n                                    &lt;/td&gt;\n                                    &lt;td&gt;&lt;button (click)=\"editRow(row)\"&gt;Edit&lt;/button&gt;&lt;/td&gt;\n                                    &lt;td&gt;                                &lt;button (click)=\"save(row)\"&gt;Save&lt;/button&gt;&lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/ng-template&gt;\n            &lt;/p-table&gt;\n</code></pre>\n\n<p><strong>Interface</strong></p>\n\n<pre><code>export interface IToDoList {\n\n    ID: number,\n    Comment: string\n}\n</code></pre>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>iToDoList: IToDoList[] = null;\n\nngOnInit(): void {\n           //this is loading the table successfully \n           this.GetToDoList(this.userID);\n    }\n\n  GetToDoList(ID: string) {\n        this._dashboardService.getToDoList(ID)\n            .subscribe(\n            data =&gt; {\n                this.iToDoList = data.result;\n\n                data.map(row =&gt; {\n                    row.isEditable = false;\n                });    \n            },\n            error =&gt; console.log('GetControls Method: ' + &lt;any&gt;error, 'alert alert-danger'));\n    }\n//issue is here\n  editRow(row) {\n        console.log(\"row \" + row.ID)\n\n             this.iToDoList.filter(row =&gt; row.isEditable).map(r =&gt; { r.isEditable = false; return r })\n        row.isEditable = true;\n    }  \n</code></pre>\n\n<p>***************************************************UPDATE****************************************************\nI fixed my first issue by changing the interface to</p>\n\n<pre><code>export interface IToDoList {\n\n    ID: number,\n    Comment: string,\n    isEditable: boolean\n}\n</code></pre>\n\n<p>Now my second issue, how to add inline record ?</p>\n"}, {"tags": ["typescript", "object", "interface"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1527092420, "post_id": 50492930, "comment_id": 87999194, "body": "I&#39;m confused about what you&#39;re trying to accomplish.  What have you tried?  What doesn&#39;t work?  Is there a specific compiler error or runtime behavior you don&#39;t like?"}, {"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1527094237, "post_id": 50492930, "comment_id": 88000173, "body": "Could you put this in context?"}, {"owner": {"reputation": 9919, "user_id": 117507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qKG8k.jpg?s=128&g=1", "display_name": "StuperUser", "link": "https://stackoverflow.com/users/117507/stuperuser"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1527095424, "post_id": 50492930, "comment_id": 88000736, "body": "@jcalz updated."}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "edited": false, "score": 2, "creation_date": 1527096361, "post_id": 50492930, "comment_id": 88001209, "body": "You can&#39;t achieve this without writing code as far as I&#39;m aware.. Either write a decorator that will manipulate your object, or write an adapter function/class. This cannot be done automagically otherwise, as TypeScript itself knows no such use cases."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "edited": false, "score": 1, "creation_date": 1527097011, "post_id": 50492930, "comment_id": 88001535, "body": "@Lansana is correct.  TypeScript&#39;s type system is erased before being emitted to JavaScript, so nothing at runtime knows anything about <code>smallerInterface</code>... unless you tell it by, for example, making an array holding just the keys you care about."}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "edited": false, "score": 1, "creation_date": 1527097216, "post_id": 50492930, "comment_id": 88001639, "body": "That being said, I think your logic could be quite simple... change your <code>smallerInterface</code> from an <code>interface</code> to a <code>class</code>, and in your class constructor only copy the properties you want -- problem solved. Then just do <code>const smaller = new smallerInstance(largerInstance);</code>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1527098993, "post_id": 50492930, "comment_id": 88002468, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50378162/auto-skip-properties-not-belonging-to-the-type-in-typescript/\" title=\"auto skip properties not belonging to the type in typescript\">stackoverflow.com/questions/50378162/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 5, "last_activity_date": 1527098247, "creation_date": 1527098247, "answer_id": 50494661, "question_id": 50492930, "link": "https://stackoverflow.com/questions/50492930/how-to-use-typescript-to-map-a-large-object-to-a-smaller-interface/50494661#50494661", "title": "How to use TypeScript to map a large object to a smaller interface?", "body": "<p>Typescript types do not have a runtime impact and so casting an object to different types will have no tangible effect on that object at runtime.</p>\n\n<p>One of the <a href=\"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Design-Goals#goals\" rel=\"noreferrer\">goals</a> of TypesScript:</p>\n\n<blockquote>\n  <ol start=\"9\">\n  <li>Use a consistent, <strong>fully erasable</strong>, structural type system.</li>\n  </ol>\n</blockquote>\n\n<p><em>emphasis added by me</em></p>\n\n<p>If you want to modify an object you need code beyond types to perform the modification. Given the inability to convert between values and types like you are looking for (see <a href=\"https://github.com/Microsoft/TypeScript/issues/13267\" rel=\"noreferrer\">this issue</a> for further discussion), you will need to do something like:</p>\n\n<pre><code>export interface SmallerInterface {\n    ipsa: number[];\n    elit: any[];\n}\n\nexport const smallerKeys = ['ipsa', 'elit'];\n\n// Later once you have a result\nconst result = await makeRequest();\nconst reducedResult = smallerKeys.reduce((obj, key) =&gt;\n    ({ \n        ...obj, \n        [key]: result[key],\n    }),\n    {}\n) as SmallerInterface;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1557, "user_id": 6293412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-9ou_w_IUjzA/AAAAAAAAAAI/AAAAAAAAApU/Z9LtNeiuSxs/photo.jpg?sz=128", "display_name": "20B2", "link": "https://stackoverflow.com/users/6293412/20b2"}, "is_accepted": false, "score": -1, "last_activity_date": 1552576653, "creation_date": 1552576653, "answer_id": 55166118, "question_id": 50492930, "link": "https://stackoverflow.com/questions/50492930/how-to-use-typescript-to-map-a-large-object-to-a-smaller-interface/55166118#55166118", "title": "How to use TypeScript to map a large object to a smaller interface?", "body": "<p>I have to break down a bigger object from API to Smaller classes. First of all I created smaller class using the same property name as the object from API.</p>\n\n<pre><code>export class SmallerClass {\n    prop1: type,\n    prop2: type,\n    ...\n   constructor(){\n       // set default values to the props\n   }\n}\n</code></pre>\n\n<p>I use constructor to have an object with default values on creating an instance of the object.</p>\n\n<pre><code>let myObj = new SmallerClass();\n\nlet apiObj = `API Call`;\n</code></pre>\n\n<p>Then after receiving object from API, the instance of the <code>SmallerClass</code> can be instantiated using either of following methoods:<br />\n1. Using <code>key in Object</code> syntax</p>\n\n<pre><code>Object.keys(this.myObj).map((key) =&gt; {\n   if (key in this.apiObj) {\n      this.myObj [key] = this.apiObj[key];\n   }\n});\n</code></pre>\n\n<p>2. Using <code>hasOwnProperty</code></p>\n\n<pre><code>Object.keys(this.myObj).map((key) =&gt; {\n   if (this.apiObj.hasOwnProperty(key)) {\n      this.myObj[key] = this.apiObj[key];\n   }\n});\n</code></pre>\n"}], "owner": {"reputation": 9919, "user_id": 117507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qKG8k.jpg?s=128&g=1", "display_name": "StuperUser", "link": "https://stackoverflow.com/users/117507/stuperuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2662, "favorite_count": 1, "accepted_answer_id": 50494661, "answer_count": 2, "score": 7, "last_activity_date": 1552576653, "creation_date": 1527091547, "last_edit_date": 1527095415, "question_id": 50492930, "link": "https://stackoverflow.com/questions/50492930/how-to-use-typescript-to-map-a-large-object-to-a-smaller-interface", "title": "How to use TypeScript to map a large object to a smaller interface?", "body": "<p>I have an object returned from a server that contains e.g.</p>\n\n<pre><code>{\n    lorem: 1,\n    ipsa: [2,3],\n    dolor: { sit: 'amet', consectetur: 'adipiscing'},\n    elit: [{you: 'get'}, {the: 'picture'}]\n}\n</code></pre>\n\n<p>and a TypeScript interface of</p>\n\n<pre><code>export interface smallerInterface {\n    ipsa: number[];\n    elit: any[];\n}\n</code></pre>\n\n<p>I'm saving the returned object into IndexedDb, and don't want to save any fields that are not present on the interface.</p>\n\n<p>I have tried casting <code>fullObject as smallerInterface</code> and <code>&lt;smallerInterface&gt;fullObject</code>, but when saving this object into the IndexedDb, it is still including the fields lorem and dolor.</p>\n\n<p>How can I map the full object to this smaller interface (hopefully without writing an explicit map function) or otherwise force TypeScript to ignore these fields?</p>\n"}, {"tags": ["typescript", "npm"], "answers": [{"comments": [{"owner": {"reputation": 3921, "user_id": 93212, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b4466a237baa1c4accab612d746e3ba9?s=128&d=identicon&r=PG", "display_name": "kevzettler", "link": "https://stackoverflow.com/users/93212/kevzettler"}, "edited": false, "score": 0, "creation_date": 1612889314, "post_id": 50494095, "comment_id": 116904254, "body": "What if the dependency doesn&#39;t have a published <code>@types&#47;pino</code> package and you just want to use the locally defined declaration?"}, {"owner": {"reputation": 951, "user_id": 2990349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/715490323/picture?type=large", "display_name": "jdforsythe", "link": "https://stackoverflow.com/users/2990349/jdforsythe"}, "reply_to_user": {"reputation": 3921, "user_id": 93212, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b4466a237baa1c4accab612d746e3ba9?s=128&d=identicon&r=PG", "display_name": "kevzettler", "link": "https://stackoverflow.com/users/93212/kevzettler"}, "edited": false, "score": 0, "creation_date": 1613167535, "post_id": 50494095, "comment_id": 117002539, "body": "You can make your own .d.ts file and export that in your npm module"}], "tags": [], "owner": {"reputation": 951, "user_id": 2990349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/715490323/picture?type=large", "display_name": "jdforsythe", "link": "https://stackoverflow.com/users/2990349/jdforsythe"}, "is_accepted": false, "score": 1, "last_activity_date": 1527095984, "creation_date": 1527095984, "answer_id": 50494095, "question_id": 50492640, "link": "https://stackoverflow.com/questions/50492640/re-export-third-party-definitions-in-typescript-npm-module/50494095#50494095", "title": "Re-export third party definitions in typescript npm module", "body": "<p>I think the answer is to include <code>@types/pino</code> as a <code>dependency</code> in the package.json of the module, so it's installed alongside the logging module when used in the application. It <em>feels</em> weird to include types as a dependency, but it has to be installed automatically and peerDependency doesn't do that.</p>\n"}], "owner": {"reputation": 951, "user_id": 2990349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/715490323/picture?type=large", "display_name": "jdforsythe", "link": "https://stackoverflow.com/users/2990349/jdforsythe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1178, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1527095984, "creation_date": 1527090542, "question_id": 50492640, "link": "https://stackoverflow.com/questions/50492640/re-export-third-party-definitions-in-typescript-npm-module", "title": "Re-export third party definitions in typescript npm module", "body": "<p>We have a private npm logging module based on <code>pino</code> and using typescript. We are compiling and publishing to npm. When importing the module into an application, we get the errors:</p>\n\n<pre><code>node_modules/@scope/logging/lib/index.d.ts(1,23): error TS2688: Cannot find type definition file for 'pino'\nnode_modules/@scope/logging/lib/index.d.ts(2,23): error TS7016: Could not find a declaration file for module 'pino'. 'C:/app/node_modules/pino/pino.js' implicitly has an 'any' type. Try `npm install @types/pino` if it exists or add a new declaration (.d.ts) file containing `declare module 'pino';`\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"@scope/logging\",\n  \"version\": \"1.0.0\",\n  \"main\": \"lib/index.js\",\n  \"typings\": \"lib/index.d.ts\",\n  \"dependencies\": {\n    \"pino\": \"4.16.1\"\n  },\n  \"devDependencies\": {\n    \"@types/pino\": \"4.7.1\",\n    \"typescript\": \"2.8.3\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compileOnSave\": true,\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"inlineSources\": true,\n    \"inlineSourceMap\": true,\n    \"declaration\": true,\n    \"outDir\": \"lib\",\n    \"baseUrl\": \".\",\n    \"typeRoots\": [\"node_modules/@types\"],\n    \"paths\": {\n      \"*\": [\n        \"node_modules/*\",\n        \"src/types/*\"\n      ]\n    },\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"noImplicitAny\": true,\n    \"noImplicitReturns\": true,\n    \"noUnusedLocals\": true\n  },\n  \"typeAcquisition\": {\n    \"enable\": true\n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\n    \"**/*.spec.ts\",\n    \"node_modules\",\n    \"src/**/node_modules\"\n  ]\n}\n</code></pre>\n\n<p>lib/index.ts</p>\n\n<pre><code>import * as pino from 'pino';\n\nconst isProduction = process.env.NODE_ENV === 'production';\nconst logLevel = process.env.LOG_LEVEL ? process.env.LOG_LEVEL.toLowerCase() : (isProduction ? 'warn' : 'debug');\n\nconst logOpts: pino.LoggerOptions = {\n  safe: true,\n  level: logLevel,\n  prettyPrint: !!isProduction,\n};\n\nexport const logger = (category: string): pino.Logger =&gt; {\n  return pino({\n    name: category,\n    ...logOpts,\n  });\n};\n</code></pre>\n\n<p>After compiling with <code>tsc</code>, here are the output files:</p>\n\n<p>lib/index.js</p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst pino = require(\"pino\");\nconst isProduction = process.env.NODE_ENV === 'production';\nconst logLevel = process.env.LOG_LEVEL ? process.env.LOG_LEVEL.toLowerCase() : (isProduction ? 'warn' : 'debug');\nconst logOpts = {\n    safe: true,\n    level: logLevel,\n    prettyPrint: !!isProduction,\n};\nexports.logger = (category) =&gt; {\n    return pino(Object.assign({ name: category }, logOpts));\n};\n</code></pre>\n\n<p>lib/index.d.ts</p>\n\n<pre><code>/// &lt;reference types=\"pino\" /&gt;\nimport * as pino from 'pino';\nexport declare const logger: (category: string) =&gt; pino.Logger;\n</code></pre>\n\n<p>Now after publishing, I require this module as a dependency and import it:</p>\n\n<p>app/index.ts</p>\n\n<pre><code>import { logger } from '@scope/logging';\nconst log = logger('Application');\n\nlog.info('Working');\n</code></pre>\n\n<p>The error leads me to believe I need to include <code>@types/pino/index.d.ts</code> in my module when compiling, but I don't see how to do that. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 804, "user_id": 9121410, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/b64ui.jpg?s=128&g=1", "display_name": "Piotr Mirosz", "link": "https://stackoverflow.com/users/9121410/piotr-mirosz"}, "edited": false, "score": 0, "creation_date": 1527089880, "post_id": 50492320, "comment_id": 87997697, "body": "Use push. Function so every output will be save in array . But 1st create array with 1st value 0.  clientInputs.push(value to send);"}, {"owner": {"reputation": 2942, "user_id": 5312731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qiT59.jpg?s=128&g=1", "display_name": "Lewis", "link": "https://stackoverflow.com/users/5312731/lewis"}, "edited": false, "score": 0, "creation_date": 1527089905, "post_id": 50492320, "comment_id": 87997706, "body": "When you&#39;ve finished looping through your inputs, you could use <code>array.fill()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9833488"}, "edited": false, "score": 0, "creation_date": 1527090008, "post_id": 50492320, "comment_id": 87997760, "body": "I mean that the user sees a input html but with empty instead of 0. I want them to see the default value of 0"}, {"owner": {"reputation": 2942, "user_id": 5312731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qiT59.jpg?s=128&g=1", "display_name": "Lewis", "link": "https://stackoverflow.com/users/5312731/lewis"}, "edited": false, "score": 0, "creation_date": 1527090074, "post_id": 50492320, "comment_id": 87997816, "body": "That&#39;s not quite what you asked."}, {"owner": {"reputation": 804, "user_id": 9121410, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/b64ui.jpg?s=128&g=1", "display_name": "Piotr Mirosz", "link": "https://stackoverflow.com/users/9121410/piotr-mirosz"}, "edited": false, "score": 0, "creation_date": 1527090156, "post_id": 50492320, "comment_id": 87997863, "body": "User schould see default value when?  Before he puts something or after he send form?"}, {"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1527090225, "post_id": 50492320, "comment_id": 87997897, "body": "change it to <code>clientInputs = Array(1).fill(0);</code>  (An array with 1 element that has a value of 0)"}], "answers": [{"comments": [{"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1527090098, "post_id": 50492470, "comment_id": 87997824, "body": "I think they just want an array with 1 value of 0 in it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9833488"}, "edited": false, "score": 0, "creation_date": 1527090148, "post_id": 50492470, "comment_id": 87997859, "body": "i think this is what I want but where do I put this?"}, {"owner": {"reputation": 3876, "user_id": 1987977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iAja0.jpg?s=128&g=1", "display_name": "Cristian Gomez", "link": "https://stackoverflow.com/users/1987977/cristian-gomez"}, "edited": false, "score": 0, "creation_date": 1527090222, "post_id": 50492470, "comment_id": 87997895, "body": "Solution form @fabien is cleaner, you can put that in the ngOnInit method."}], "tags": [], "owner": {"reputation": 3876, "user_id": 1987977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iAja0.jpg?s=128&g=1", "display_name": "Cristian Gomez", "link": "https://stackoverflow.com/users/1987977/cristian-gomez"}, "is_accepted": false, "score": 0, "last_activity_date": 1527090062, "creation_date": 1527090062, "answer_id": 50492470, "question_id": 50492320, "link": "https://stackoverflow.com/questions/50492320/how-to-initialize-a-parameter-with-0/50492470#50492470", "title": "How to initialize a parameter with 0", "body": "<p>If I do understand what you have, you have one input per client type so you can do a loop for the client types and initialize each client type input in the array as 0 as following:</p>\n\n<pre><code>for (let index = 0; index &lt; clientTypes.length; index++) {\n   this.clientTypesInputs[index] = 0; \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3876, "user_id": 1987977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iAja0.jpg?s=128&g=1", "display_name": "Cristian Gomez", "link": "https://stackoverflow.com/users/1987977/cristian-gomez"}, "edited": false, "score": 0, "creation_date": 1527090117, "post_id": 50492481, "comment_id": 87997842, "body": "Nice solution, didn&#39;t know about that fill method."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9833488"}, "edited": false, "score": 0, "creation_date": 1527090413, "post_id": 50492481, "comment_id": 87998032, "body": "<code>this.clients.clientInputs = Array( this.clients.clientTypes.length).fill(0);</code> did the trick"}], "tags": [], "owner": {"reputation": 1668, "user_id": 6668441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BlhMWWB9x_s/AAAAAAAAAAI/AAAAAAAAAGk/syxF80dSXY0/photo.jpg?sz=128", "display_name": "Fabien Greard", "link": "https://stackoverflow.com/users/6668441/fabien-greard"}, "is_accepted": false, "score": 2, "last_activity_date": 1527090139, "last_edit_date": 1527090139, "creation_date": 1527090087, "answer_id": 50492481, "question_id": 50492320, "link": "https://stackoverflow.com/questions/50492320/how-to-initialize-a-parameter-with-0/50492481#50492481", "title": "How to initialize a parameter with 0", "body": "<p>You could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill\" rel=\"nofollow noreferrer\">Array.fill()</a>  which 'fills' all the elements of an array.</p>\n\n<p>example: </p>\n\n<p><code>Array(5).fill(0) // output: [0,0,0,0,0]</code> </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9833488"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527090139, "creation_date": 1527089591, "last_edit_date": 1527089765, "question_id": 50492320, "link": "https://stackoverflow.com/questions/50492320/how-to-initialize-a-parameter-with-0", "title": "How to initialize a parameter with 0", "body": "<p>I have this simple input</p>\n\n<pre><code> // I loop this input  many times so it generates a lot of inputs with different index\n &lt;input value='0' type='number' [(ngModel)]=\"clients.clientInputs[idx]\"/&gt;\n</code></pre>\n\n<p>And this simple class</p>\n\n<pre><code>export class Clients {\n  clientInputs = [];\n}\n</code></pre>\n\n<p>in my ts file</p>\n\n<pre><code>  clients:Clients = new Clients();\n</code></pre>\n\n<p><strong>The problem is that they override the default value of 0 with null. How do I initialize everything in that array with 0?</strong></p>\n\n<p>This question comes from the answer to my previous question: <a href=\"https://stackoverflow.com/questions/50490411/very-simple-usage-of-ngmodel\">Very Simple usage of ngModel</a></p>\n"}, {"tags": ["angular", "typescript", "sonarqube"], "answers": [{"tags": [], "owner": {"reputation": 975, "user_id": 4448440, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100004598171178/picture?type=large", "display_name": "Elena Vilchik", "link": "https://stackoverflow.com/users/4448440/elena-vilchik"}, "is_accepted": false, "score": 1, "last_activity_date": 1527145963, "creation_date": 1527145963, "answer_id": 50503181, "question_id": 50491940, "link": "https://stackoverflow.com/questions/50491940/sync-sonarts-quality-profile-with-tslint-json-angular-project/50503181#50503181", "title": "Sync SonarTS Quality profile with tslint.json Angular Project", "body": "<p>There is no automatic way to do that, and note that not all TSLint rules are available through SonarTS. \nSo I would recommend:</p>\n\n<ol>\n<li>Create profile with the rules you want manually</li>\n</ol>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li>Use a new feature allowing import of tslint reports (<a href=\"https://docs.sonarqube.org/display/PLUG/Importing+TSLint+and+ESLint+issues+for+TypeScript+files\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/display/PLUG/Importing+TSLint+and+ESLint+issues+for+TypeScript+files</a>), but until SQ 7.2 is released you can use it only on <a href=\"http://sonarcloud.io\" rel=\"nofollow noreferrer\">SonarCloud</a>.</li>\n</ol>\n\n<p>P.S. <a href=\"https://jira.sonarsource.com/issues/?jql=project%20%3D%20RSPEC%20AND%20%22Covered%20Languages%22%20%3D%20TypeScript%20AND%20TSLint%20is%20not%20EMPTY\" rel=\"nofollow noreferrer\">This page</a> can help you to find matching rules</p>\n"}], "owner": {"reputation": 31, "user_id": 9835451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d399de9bd201de57559cccb85b0ca6b3?s=128&d=identicon&r=PG&f=1", "display_name": "Pieter Le Roux", "link": "https://stackoverflow.com/users/9835451/pieter-le-roux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1527186269, "creation_date": 1527088420, "last_edit_date": 1527089085, "question_id": 50491940, "link": "https://stackoverflow.com/questions/50491940/sync-sonarts-quality-profile-with-tslint-json-angular-project", "title": "Sync SonarTS Quality profile with tslint.json Angular Project", "body": "<p>I am currently using SonarTS to analyse my Angular 5/6 App.\nI am running tslint locally using the tslint.json ruleset and have cleared all errors/warnings.\nAfter sonar analysis it is apparent that the TsLint quality profile in SonarTS and the tslint.json are not using the same ruleset.\nIs there anyway to get SonarQube to use my project tslint.json and create a quality profile based on that ruleset?</p>\n"}, {"tags": ["angular", "typescript", "http", "nativescript"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1527088621, "post_id": 50491936, "comment_id": 87996843, "body": "What if you initialize it first? private items: Array&lt;Item&gt;[] = []; what does it give then?"}], "answers": [{"tags": [], "owner": {"reputation": 1295, "user_id": 8847604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c7a3f1bf3e98e2ba57f39a0bfbec81a?s=128&d=identicon&r=PG&f=1", "display_name": "bhavin jalodara", "link": "https://stackoverflow.com/users/8847604/bhavin-jalodara"}, "is_accepted": true, "score": 0, "last_activity_date": 1527147276, "creation_date": 1527147276, "answer_id": 50503579, "question_id": 50491936, "link": "https://stackoverflow.com/questions/50491936/error-message-as-first-unwanted-element-of-array-in-angular-nativescript/50503579#50503579", "title": "error message as first (unwanted) element of array in angular-nativescript", "body": "<p>you are passing <code>Promise</code> in constructor while creating <code>new Array&lt;type&gt;()</code>. anything passed inside <code>Array()</code> as argument will be added to the new array which will be created. that is why you get the first element other than the <code>item</code>.</p>\n\n<p>try declaring <code>items</code> array first after that request the data from the server and then add it to the array.</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\n\nimport { Item } from \"./item\";\n\nconst httpModule = require(\"http\");\n\n@Injectable()\nexport class ItemService {\n    private items = new Array&lt;Item&gt;()\n\n    );\n    constructor(){\n        httpModule.request({\n            url: \"https://www.example.com/data.json\",\n            method: \"GET\"\n        }).then((response) =&gt; {\n            var obj = response.content.toJSON();\n            for (let i=0; i&lt;obj.length; i++) {\n                //console.log(obj[i]);\n                this.items.push(new Item(obj[i].id, obj[i].name, obj[i].role, obj[i].vereine, obj[i].testAufgaben));\n                //console.log(\"items object testaufgaben: \"+this.items[i].testAufgaben)\n                console.dir(this.items);\n            }\n            //console.log(obj);\n        }, (e) =&gt; {\n            console.log(e);\n        }\n    }\n    getItems(): Item[] {\n        return this.items;\n    }\n\n    getItem(id: number): Item {\n        return this.items.filter(item =&gt; item.id === id)[0];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4879657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXEKB.png?s=128&g=1", "display_name": "stefanvz", "link": "https://stackoverflow.com/users/4879657/stefanvz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 50503579, "answer_count": 1, "score": 0, "last_activity_date": 1527147276, "creation_date": 1527088414, "question_id": 50491936, "link": "https://stackoverflow.com/questions/50491936/error-message-as-first-unwanted-element-of-array-in-angular-nativescript", "title": "error message as first (unwanted) element of array in angular-nativescript", "body": "<p>having newly created a TNS Project with tns create myApp --ng and required the httpModule as described in the documentation -> i get my data from the JSON of my remote Server just fine.</p>\n\n<p><strong>BUT:</strong></p>\n\n<p>For some reason the first element of the returned array is the following object and thus producing errors later on:</p>\n\n<pre><code>JS: ==== object dump start ====\nJS: 0: {\nJS:   \"__zone_symbol__state\": null,\nJS:   \"__zone_symbol__value\": []\nJS: }\nJS: 1: {\nJS:   \"id\": 1,\n</code></pre>\n\n<p>and so on.</p>\n\n<p>My Service looks like as follows (item.service.ts):</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\n\nimport { Item } from \"./item\";\n\nconst httpModule = require(\"http\");\n\n@Injectable()\nexport class ItemService {\n    private items = new Array&lt;Item&gt;(\n        httpModule.request({\n            url: \"https://www.example.com/data.json\",\n            method: \"GET\"\n        }).then((response) =&gt; {\n            var obj = response.content.toJSON();\n            for (let i=0; i&lt;obj.length; i++) {\n                //console.log(obj[i]);\n                this.items.push(new Item(obj[i].id, obj[i].name, obj[i].role, obj[i].vereine, obj[i].testAufgaben));\n                //console.log(\"items object testaufgaben: \"+this.items[i].testAufgaben)\n                console.dir(this.items);\n            }\n            //console.log(obj);\n        }, (e) =&gt; {\n            console.log(e);\n        })\n\n    );\n\n    getItems(): Item[] {\n        return this.items;\n    }\n\n    getItem(id: number): Item {\n        return this.items.filter(item =&gt; item.id === id)[0];\n    }\n}\n</code></pre>\n\n<p>My imported Model looks like this (item.ts):</p>\n\n<pre><code>export class Slot {\n    constructor(\n        public slot: string,\n        public fillIn: boolean\n    ) {}\n}\n\nexport class Aufgabe {\n    constructor(\n        public aufgabe: string,\n        public aufgabeSlots: Array&lt;Slot&gt;\n    ) {}\n}\n\nexport class Item {\n    constructor(\n        public id: number, \n        public name: string, \n        public role: string, \n        public vereine: Array&lt;string&gt;, \n        public testAufgaben: Array&lt;Aufgabe&gt;\n    ) {}\n}\n</code></pre>\n\n<p>Anyone with a good idea what this error message is and what i can do to avoid it?</p>\n\n<p>Thanks a lot in advance.</p>\n"}, {"tags": ["typescript", "emit", "subject", "behaviorsubject"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4257204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b3d464c180a77ce300c7c9f0ee0c51?s=128&d=identicon&r=PG&f=1", "display_name": "ayadev", "link": "https://stackoverflow.com/users/4257204/ayadev"}, "edited": false, "score": 0, "creation_date": 1527096112, "post_id": 50493000, "comment_id": 88001107, "body": "thank you for your answer. I changed emit to next. That part looks ok now. But I can&#39;t get it compile because of the scan operator. I think it has to do something with the json files. But I can&#39;t solve it at the moment since I just started typing in Angular and TypeScript. Please, could you compile it yourself and see if you get the same error? if you compile successfully, can you then give me the steps you have taken? Thanks a lot."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 57, "user_id": 4257204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b3d464c180a77ce300c7c9f0ee0c51?s=128&d=identicon&r=PG&f=1", "display_name": "ayadev", "link": "https://stackoverflow.com/users/4257204/ayadev"}, "edited": false, "score": 0, "creation_date": 1527097158, "post_id": 50493000, "comment_id": 88001600, "body": "The folder you&#39;ve linked, redux/redux-chat/tutorial file isn&#39;t supposed to be compiled. It seems that it&#39;s supposed to run with ts-node. It has problems with ts-node version specified in package.json. I have it installed globally (<code>npm i -g ts-node@3</code> if you don&#39;t have it), <code>ts-node .&#47;06b-rx-store.ts</code> results in errors but there are no errors you&#39;re referring to."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 57, "user_id": 4257204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b3d464c180a77ce300c7c9f0ee0c51?s=128&d=identicon&r=PG&f=1", "display_name": "ayadev", "link": "https://stackoverflow.com/users/4257204/ayadev"}, "edited": false, "score": 0, "creation_date": 1527097688, "post_id": 50493000, "comment_id": 88001847, "body": "It also has packages missing in in <code>redux&#47;redux-chat</code> project, try to run <code>npm i -S rxjs-compat</code> there. I had to remove first line in redux/redux-chat/tutorial/06b-rx-store.ts, <code>&#47;&#47;&#47; &lt;reference...</code> and change <code>noEmitHelpers</code> option in redux/redux-chat/tutorial/tsconfig.json from <code>true</code> to <code>false</code>. Then it ran. The whole repo is a mess and it&#39;s not workable out of the box. I&#39;d suggest to report this in repo issues."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 57, "user_id": 4257204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b3d464c180a77ce300c7c9f0ee0c51?s=128&d=identicon&r=PG&f=1", "display_name": "ayadev", "link": "https://stackoverflow.com/users/4257204/ayadev"}, "edited": false, "score": 0, "creation_date": 1527100017, "post_id": 50493000, "comment_id": 88002968, "body": "Glad it worked. That&#39;s a tough experience, considering that these are examples for devs who read the book and aren&#39;t supposed to know the whole thing yet. I guess these are the examples from a dev who isn&#39;t affiliated with book authors."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 2, "last_activity_date": 1527091856, "creation_date": 1527091856, "answer_id": 50493000, "question_id": 50491616, "link": "https://stackoverflow.com/questions/50491616/typescript-property-scan-does-not-exist-on-type-subject/50493000#50493000", "title": "Typescript - property scan does not exist on type Subject...?", "body": "<p><code>emit</code> is a method that is specific to Angular <a href=\"https://angular.io/api/core/EventEmitter\" rel=\"nofollow noreferrer\"><code>EventEmitter</code></a> that <em>currently</em> relies on RxJS <code>Subject</code>.</p>\n\n<p>Since <code>EventEmitter</code> was specifically designed to handle change detection it's not recommended to use as general purpose subject in Angular applications.</p>\n\n<p><code>EventEmitter</code> <code>emit</code> is a wrapper over subject <code>Subject</code> <code>next</code> method, so <code>emit</code> should be replaced with <code>next</code>.</p>\n\n<p><code>scan</code> operator should be imported with:</p>\n\n<pre><code>import 'rxjs/add/operator/scan';\n</code></pre>\n\n<p>And this is already done in linked code.</p>\n"}], "owner": {"reputation": 57, "user_id": 4257204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b3d464c180a77ce300c7c9f0ee0c51?s=128&d=identicon&r=PG&f=1", "display_name": "ayadev", "link": "https://stackoverflow.com/users/4257204/ayadev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1288, "favorite_count": 0, "accepted_answer_id": 50493000, "answer_count": 1, "score": 1, "last_activity_date": 1527097229, "creation_date": 1527087480, "last_edit_date": 1527097229, "question_id": 50491616, "link": "https://stackoverflow.com/questions/50491616/typescript-property-scan-does-not-exist-on-type-subject", "title": "Typescript - property scan does not exist on type Subject...?", "body": "<p>I could not compile <a href=\"https://github.com/NiLinli/ng-book2-angular-6-r68-code-samples/blob/master/redux/redux-chat/tutorial/06b-rx-store.ts\" rel=\"nofollow noreferrer\">this</a> code on Visual Studio Code Editor. First, I was getting an error like <code>has no exported member 'X', X for BehaviorSubject, Subject</code>.\nSo, I changed the import statements as follows:</p>\n\n<pre><code>import { BehaviorSubject } from 'rxjs';\nimport { Subject } from 'rxjs';\n</code></pre>\n\n<p>which made the import error disappear.\nBut, now I get the following error, while trying to compile it using tsc command:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wva7c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wva7c.png\" alt=\"error: while trying to execute &lt;code&gt;tsc .\\06b-rx-store.ts&lt;/code&gt; on cmd.\"></a></p>\n\n<p>I changed the emit to next which solved <code>property 'emit' does no exist</code> error. But <code>property 'scan' does not exist</code> error is still there. Which I believe has to do with the settings in .json file. But I cannot figure out what setting should be changed.</p>\n\n<p>So, what do I miss here? Any help is much appreciated. If you get the code compile, could you describe how you did it.</p>\n"}, {"tags": ["html", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 3876, "user_id": 1987977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iAja0.jpg?s=128&g=1", "display_name": "Cristian Gomez", "link": "https://stackoverflow.com/users/1987977/cristian-gomez"}, "edited": false, "score": 1, "creation_date": 1527086058, "post_id": 50491075, "comment_id": 87995043, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35534959/access-key-and-value-of-object-using-ngfor\">access key and value of object using *ngFor</a>"}], "answers": [{"comments": [{"owner": {"reputation": 835, "user_id": 1650231, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f2da21433258099d3212568396296c20?s=128&d=identicon&r=PG&f=1", "display_name": "yams", "link": "https://stackoverflow.com/users/1650231/yams"}, "edited": false, "score": 0, "creation_date": 1527086690, "post_id": 50491201, "comment_id": 87995488, "body": "that&#39;s en-genius, cant believe I missed that.  Thank you."}], "tags": [], "owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "is_accepted": true, "score": 1, "last_activity_date": 1527086317, "creation_date": 1527086317, "answer_id": 50491201, "question_id": 50491075, "link": "https://stackoverflow.com/questions/50491075/best-way-to-display-a-json-object-in-a-json-object-in-angular-2-release-6/50491201#50491201", "title": "Best way to display a json object in a json object in Angular 2 release 6", "body": "<p>How about simply</p>\n\n<pre><code>&lt;pre&gt;\n  {{ yourObject | json }}\n&lt;/pre&gt;\n</code></pre>\n\n<p>Running example here:<br>\n<a href=\"https://stackblitz.com/edit/angular-ux1xst?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ux1xst?file=src%2Fapp%2Fapp.component.ts</a></p>\n"}], "owner": {"reputation": 835, "user_id": 1650231, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f2da21433258099d3212568396296c20?s=128&d=identicon&r=PG&f=1", "display_name": "yams", "link": "https://stackoverflow.com/users/1650231/yams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 50491201, "answer_count": 1, "score": -1, "last_activity_date": 1527086317, "creation_date": 1527085946, "question_id": 50491075, "link": "https://stackoverflow.com/questions/50491075/best-way-to-display-a-json-object-in-a-json-object-in-angular-2-release-6", "title": "Best way to display a json object in a json object in Angular 2 release 6", "body": "<p>I am working on converting an old Angular 1.X website to Angular 2 release 6.  I've been creating a component class with corresponding html but i'm stuck at the point of displaying a json object inside of another json object. The json object I'm trying to display is </p>\n\n<p>Details Obj :</p>\n\n<pre><code>    {\n        \"details\":\n        {\n            \"id\": \"36d610ed0c62bafd\",\n            \"Field Name\": \"FID,Shape,OID_,BankPositi\",\n            \"Geometry Type\": \"Point\",\n        },\n     }\n</code></pre>\n\n<p>And the old code that displayed this was:\nHTML : </p>\n\n<pre><code>    &lt;div ng-show=\"vm.item.showDetails\" ng-repeat=\"(key, val) in vm.item.details\"&gt;\n        &lt;p&gt;&lt;span&gt;{{key}}:&lt;/span&gt;{{val}}&lt;/p&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Javascript :</p>\n\n<pre><code>        vm.showDetails = function (entry) {\n            entry.showDetails = !entry.showDetails;\n            entry.numberOfWords = entry.showDetails ? config.search.showAll : config.search.numberOfWordsShown;\n        }\n</code></pre>\n\n<p>What I'm wondering is what is the best way to iterate through the json obj and display it.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 2, "creation_date": 1527086217, "post_id": 50491071, "comment_id": 87995161, "body": "If a.name === &quot;International&quot; return -1 and other if statements can follow this one. But your expected output doesn&#39;t make sense, Asia should come first (sorted alphabeticaly by name)"}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1527086300, "post_id": 50491071, "comment_id": 87995208, "body": "You said you want to sort alphabetically, shouldn&#39;t Asia Pacific be the first entry?"}, {"owner": {"reputation": 5331, "user_id": 830972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m6mWE.jpg?s=128&g=1", "display_name": "santosh kumar patro", "link": "https://stackoverflow.com/users/830972/santosh-kumar-patro"}, "edited": false, "score": 0, "creation_date": 1527087451, "post_id": 50491071, "comment_id": 87996067, "body": "Sorry I have corrected it now.  Thanks a lot for pointing it out :)"}, {"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1527090271, "post_id": 50491071, "comment_id": 87997933, "body": "It doesn&#39;t work because you didn&#39;t encode the condition about the item with <code>id: 7</code> into the comparison function."}, {"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1527091335, "post_id": 50491071, "comment_id": 87998623, "body": "There is no TypeScript involved in this question. It is pure JavaScript, the code you posted works in the browser."}], "answers": [{"comments": [{"owner": {"reputation": 5331, "user_id": 830972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m6mWE.jpg?s=128&g=1", "display_name": "santosh kumar patro", "link": "https://stackoverflow.com/users/830972/santosh-kumar-patro"}, "edited": false, "score": 0, "creation_date": 1527165756, "post_id": 50492020, "comment_id": 88031461, "body": "Thanks a lot for the solution. This helped me to fix the issue :)"}], "tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": true, "score": 1, "last_activity_date": 1527089598, "last_edit_date": 1527089598, "creation_date": 1527088666, "answer_id": 50492020, "question_id": 50491071, "link": "https://stackoverflow.com/questions/50491071/sort-an-array-except-one-item-using-typescript/50492020#50492020", "title": "Sort an array except one item using TypeScript", "body": "<p>If you don't mind adding a method to the Array prototype, these are two potential solutions (the first one modifies the original array, while the second one returns a new array).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let cgGroups = [\r\n    {\r\n        id: 2,\r\n        name: 'North America &amp; Caribbean'\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'Latin America'\r\n    },\r\n    {\r\n        id: 6,\r\n        name: 'Europe'\r\n    },\r\n    {\r\n        id: 4,\r\n        name: 'Asia Pacific'\r\n    },\r\n    {\r\n        id: 1,\r\n        name: 'Middle East &amp; Africa'\r\n    },\r\n    {\r\n        id: 7,\r\n        name: 'International'\r\n    }\r\n];\r\n\r\nconst sortAlph = (a, b) =&gt; {\r\n    if (a.name.toLowerCase() &gt; b.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    if (a.name.toLowerCase() &lt; b.name.toLowerCase()) {\r\n        return -1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nArray.prototype.move = function (fromIndex, toIndex) {\r\n  let element = this[fromIndex];\r\n  this.splice(fromIndex, 1);\r\n  this.splice(toIndex, 0, element);\r\n}\r\n\r\nArray.prototype.moveToTheEnd = function(index) {\r\n  let element = this[index];\r\n  return this.filter(x =&gt; x !== element).concat(element);\r\n}\r\n\r\ncgGroups\r\n    .sort(sortAlph)\r\n    .move(cgGroups.findIndex(x =&gt; x.name === 'International'), cgGroups.length)\r\n\r\nnewArr = cgGroups\r\n  .sort(sortAlph)\r\n  .moveToTheEnd(cgGroups.findIndex(x =&gt; x.name === 'International'))\r\n\r\nconsole.log(cgGroups);\r\nconsole.log(newArr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "is_accepted": false, "score": 2, "last_activity_date": 1527091180, "creation_date": 1527091180, "answer_id": 50492843, "question_id": 50491071, "link": "https://stackoverflow.com/questions/50491071/sort-an-array-except-one-item-using-typescript/50492843#50492843", "title": "Sort an array except one item using TypeScript", "body": "<p>It doesn't work because you didn't encode the condition about the item with <code>name: 'International'</code> into the comparison function.</p>\n\n<p>It could be like this:</p>\n\n<pre><code>cgGroups = cgGroups.map(({id, name}) =&gt; ({id, name})).sort((a, b) =&gt; {\n    if (a.name.toLowerCase() == 'international') {\n        return +1;      // \"a\" is the greatest element of the array\n    } else if (b.name.toLowerCase() == 'international') {\n        return -1;      // \"a\" stays before \"b\" because \"b\" is the last item\n    } else if (a.name.toLowerCase() &gt; b.name.toLowerCase()) {\n        return 1;       // regular items, compare their names\n    } else if (a.name.toLowerCase() &lt; b.name.toLowerCase()) {\n        return -1;\n    }\n\n    return 0;\n});\n</code></pre>\n"}], "owner": {"reputation": 5331, "user_id": 830972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m6mWE.jpg?s=128&g=1", "display_name": "santosh kumar patro", "link": "https://stackoverflow.com/users/830972/santosh-kumar-patro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 50492020, "answer_count": 2, "score": 0, "last_activity_date": 1532717839, "creation_date": 1527085937, "last_edit_date": 1532717839, "question_id": 50491071, "link": "https://stackoverflow.com/questions/50491071/sort-an-array-except-one-item-using-typescript", "title": "Sort an array except one item using TypeScript", "body": "<p>I have the following TypeScript code:</p>\n\n<pre><code>export const cgGroups = [\n  {\n    id: 2,\n    name: 'North America &amp; Caribbean'\n  },\n  {\n    id: 3,\n    name: 'Latin America'\n  },\n  {\n    id: 6,\n    name: 'Europe'\n  },\n  {\n    id: 4,\n    name: 'Asia Pacific'\n  },\n  {\n    id: 1,\n    name: 'Middle East &amp; Africa'\n  },\n  {\n    id: 7,\n    name: 'International'\n  }\n];\n</code></pre>\n\n<p>I want to sort the above alphabetical except one object</p>\n\n<pre><code>{\n   id: 7,\n   name: 'International'\n}\n</code></pre>\n\n<p>which I want to move it to the last of the sorted array.</p>\n\n<p>I tried the below code to sort:</p>\n\n<pre><code>cgGroups = cgGroups.map(({id, name}) =&gt; ({id, name})).sort((a, b) =&gt; {\n        if (a.name.toLowerCase() &gt; b.name.toLowerCase()) {\n          return 1;\n        }\n        if (a.name.toLowerCase() &lt; b.name.toLowerCase()) {\n          return -1;\n        }\n        return 0;\n      });\n</code></pre>\n\n<p>Here is the expected output:</p>\n\n<blockquote>\n  <p>Asia Pacific, Europe, Latin America, Middle East &amp; Africa, North America &amp; Caribbean, and International</p>\n</blockquote>\n\n<p>Can anyone guide me here to fix this issue?</p>\n"}, {"tags": ["typescript", "observable", "angular5"], "comments": [{"owner": {"reputation": 2406, "user_id": 109945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/facc5198d606f80ad18d5fd852b93a68?s=128&d=identicon&r=PG", "display_name": "bug-a-lot", "link": "https://stackoverflow.com/users/109945/bug-a-lot"}, "edited": false, "score": 0, "creation_date": 1527090693, "post_id": 50490813, "comment_id": 87998235, "body": "You&#39;re probably subscribing to the wrong data. Can&#39;t tell for sure because you&#39;re not specific in what you want populated."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1527092312, "post_id": 50490813, "comment_id": 87999137, "body": "Please, be more precise. What is the other method call you described? What data do you need for this second call? When do you expect to have it from which source?"}], "owner": {"reputation": 508, "user_id": 4139940, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/G5us7.jpg?s=128&g=1", "display_name": "jgabb", "link": "https://stackoverflow.com/users/4139940/jgabb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527087172, "creation_date": 1527085198, "last_edit_date": 1527087172, "question_id": 50490813, "link": "https://stackoverflow.com/questions/50490813/how-can-i-call-service-in-subscription-but-not-wait-for-service-to-finish-before", "title": "How can I call service in subscription but not wait for service to finish before it updates", "body": "<p>So I am subscribed to an observable within our store, when it is populated with data, I update rows on a grid.  There is data that I'm going to use to call another service, to update another part of the grid asynchronously.  I'm noticing that is is waiting for the service call within the subscription to finish before it updates the rows.  Is there something I am missing or is there another way I can leverage this subscription to do what I want? Why does it wait for the entire subscription to finish before pushing its results?</p>\n\n<pre><code>this.subscription = this.store.pipe(select(s =&gt; s.person.friends)).subscribe(\n  friends=&gt; {\n    if (friends.length !== 0) {\n      this.filteredResults = [...friends];\n\n      this.results = friends;\n      // logic to get data from friends to make another call\n      // the initial update waits until this is complete to update, but i\n      // want it to update instantly, then go fetch this extra data\n      this.getFriendData(example);\n\n    }\n  }\n);\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1527085479, "post_id": 50490773, "comment_id": 87994581, "body": "I know you are not looking for an alternative solution (you mentioned you solved it with inheritance), but you can solve it with conditional types as well : <code>type Foo&lt;T = undefined&gt; = {     title: string; } &amp; (T extends undefined ? {} : { bar: T});</code> And keep the same name for the version with type paramteres and the version without. The why question I am not sure on."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1527085839, "post_id": 50490773, "comment_id": 87994879, "body": "see also <a href=\"https://stackoverflow.com/questions/46397280/typescript-whats-the-difference-between-an-optional-field-and-a-union-with-und\" title=\"typescript whats the difference between an optional field and a union with und\">stackoverflow.com/questions/46397280/&hellip;</a>"}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 2, "creation_date": 1527085871, "post_id": 50490773, "comment_id": 87994906, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46397280/typescript-whats-the-difference-between-an-optional-field-and-a-union-with-und\">Typescript: What&#39;s the difference between an optional field and a union with undefined?</a>"}, {"owner": {"reputation": 14209, "user_id": 828584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/498f20465c08db69a48f10e852ba6263?s=128&d=identicon&r=PG", "display_name": "mowwwalker", "link": "https://stackoverflow.com/users/828584/mowwwalker"}, "edited": false, "score": 0, "creation_date": 1608319519, "post_id": 50490773, "comment_id": 115556757, "body": "Btw, it looks like this was changed sometime between when the question was asked and current versions of TS. The example included above compiles for me"}], "answers": [{"tags": [], "owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "is_accepted": false, "score": 20, "last_activity_date": 1527085839, "creation_date": 1527085839, "answer_id": 50491030, "question_id": 50490773, "link": "https://stackoverflow.com/questions/50490773/why-doesnt-typescript-undefined-type-behave-same-as-optional/50491030#50491030", "title": "Why doesn&#39;t typescript undefined type behave same as optional?", "body": "<p>The two type signatures aren't entirely equivalent (although they're close enough that the difference may not be apparent at first glance)!</p>\n\n<ul>\n<li><code>bar?: number</code> expresses that the object might not have a field called <code>bar</code>.</li>\n<li><code>bar: number | undefined</code> expresses that the object will always have a field called <code>bar</code>, but the value of that field might be <em>set</em> to <code>undefined</code>.</li>\n</ul>\n\n<p>This difference might matter in some cases, as some runtime behaviors are dependent on the difference between a field being present and a field being set to undefined - consider if you called <code>Object.keys</code> on the object:</p>\n\n<pre><code>Object.keys({ bar: undefined }) // returns [\"bar\"]\nObject.keys({})                 // returns []\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 6, "last_activity_date": 1527086054, "creation_date": 1527086054, "answer_id": 50491113, "question_id": 50490773, "link": "https://stackoverflow.com/questions/50490773/why-doesnt-typescript-undefined-type-behave-same-as-optional/50491113#50491113", "title": "Why doesn&#39;t typescript undefined type behave same as optional?", "body": "<p>The simple reason appears to be that nobody has implemented it yet. The way the current type checker is implemented it ended up requiring properties of type <code>undefined</code> to be required, but there is a <a href=\"https://github.com/Microsoft/TypeScript/issues/12400\" rel=\"noreferrer\">proposal</a> to change the behavior in a way that makes more sense, but nobody has gotten to it yet.</p>\n\n<p>A  workaround that keeps the same name for the type and makes the field optional could be achieved using conditional types:</p>\n\n<pre><code>type Foo&lt;T = undefined&gt; = {\n    title: string;\n} &amp; (T extends undefined ? {} : { bar: T});\n\nconst foo1: Foo = {\n    title: 'TITLE'\n};\n\nconst foo2: Foo&lt;number&gt; = {\n    title: 'title',\n    bar:10\n};\n</code></pre>\n"}], "owner": {"reputation": 1337, "user_id": 4782353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-ku5wS0Lc0rQ/AAAAAAAAAAI/AAAAAAAAAA4/tyZO3iV04eI/photo.jpg?sz=128", "display_name": "Blind Despair", "link": "https://stackoverflow.com/users/4782353/blind-despair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3846, "favorite_count": 1, "accepted_answer_id": 50491113, "answer_count": 2, "score": 9, "last_activity_date": 1527086054, "creation_date": 1527085088, "question_id": 50490773, "link": "https://stackoverflow.com/questions/50490773/why-doesnt-typescript-undefined-type-behave-same-as-optional", "title": "Why doesn&#39;t typescript undefined type behave same as optional?", "body": "<p>Imagine we have interface</p>\n\n<pre><code>interface Foo {\n  bar: number | undefined;\n}\n</code></pre>\n\n<p>If we try to create object of type Foo like</p>\n\n<pre><code>const foo: Foo = {};\n</code></pre>\n\n<p>It won't compile because property bar is missing. But we say that it can be undefined, which will work if we explicitly set it to undefined, but that's exactly same if we do not set it at all. Shouldn't it do exactly same as following?</p>\n\n<pre><code>interface Foo {\n   bar?: number;\n}\n</code></pre>\n\n<p>For me this is an issue, because if we consider more complex example, where we have interface with a field, which can be optional by generic type. So like, if generic type is not specified, then field should be undefined, if it is specified, then it should be only of that type. For example</p>\n\n<pre><code>interface Foo&lt;T = undefined&gt; {\n    bar: T;\n    title: string;\n}\n\nconst foo1: Foo = {\n    title: 'TITLE'\n};\n\nconst foo2: Foo&lt;number&gt; = {\n    title: 'title',\n    bar: 12\n};\n</code></pre>\n\n<p>foo1 will fail to compile because property is missing, but it anyway has to be undefined, and if we specify it explicitly it will work, but that's exactly same.\nI ended up solving this problem with inheritance, where base class doesn't have any generic parameters and the child has it strictly specified. But I am just curious if anyone knows a specific reason why undefined type is handled this way. Because I couldn't find any information about it myself.</p>\n"}, {"tags": ["javascript", "c#", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 8780, "user_id": 1450855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kp4T0.gif?s=128&g=1", "display_name": "Georg Patscheider", "link": "https://stackoverflow.com/users/1450855/georg-patscheider"}, "is_accepted": true, "score": 0, "last_activity_date": 1527089507, "last_edit_date": 1527089507, "creation_date": 1527089155, "answer_id": 50492159, "question_id": 50490704, "link": "https://stackoverflow.com/questions/50490704/group-data-by-property-and-time-interval/50492159#50492159", "title": "Group data by property and time interval", "body": "<p>If you never want to show the data that is filtered away by your grouping, it would be better to filter the data already on the server side. The reason is that otherwise you will transport unnecessary data to the client just do remove them anyways. This would slow your app down. Only transport the data that you need.</p>\n\n<p>In the Web API controller, you can use the power of LINQ. The trick is to introduce a custom <code>IEqualityComparer&lt;UserAction&gt;</code> that implements your requirements, then feed it to the <code>Distinct</code> method.</p>\n\n<pre><code>UserAction[] userActions = dbContext.UserActions.ToArray();\nvar distinctActions = userActions\n    .OrderByDescending(ua =&gt; ua.Date)             // sort as you like here\n    .Distinct(new UserNameActionAndHourComparer());   // apply filter\n\npublic class UserNameActionAndHourComparer : IEqualityComparer&lt;UserAction&gt; {\n\n    public bool Equals(UserAction left, UserAction right){\n        if (left == null &amp;&amp; right == null) {\n             return true;\n        }\n        if (left == null | right == null) {\n            return false;\n        }\n\n        // your equality criteria here ...\n        if (left.UserName == right.UserName &amp;&amp; left.Action == right.Action) {\n            // implement requirement that same hour is considered equal\n            return left.Date.Date == right.Date.Date &amp;&amp; left.Date.Hour == right.Date.Hour;\n        }\n        return false;\n   }\n\n    // if two UserActions are considered equal, they should yield the same hashcode\n    public int GetHashCode(UserAction ua) {\n        return ua.UserName.GetHashCode() \n            ^ ua.Action.GetHashCode() \n            ^ new DateTime(ua.Date.Year, ua.Date.Month, ua.Date.Day, ua.Date.Hour, 0, 0).GetHashCode();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/M9gMtA\" rel=\"nofollow noreferrer\">C# Fiddle</a></p>\n"}], "owner": {"reputation": 63, "user_id": 5295864, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a8b2313462e429faafef7b8ed459e2b?s=128&d=identicon&r=PG&f=1", "display_name": "MazW", "link": "https://stackoverflow.com/users/5295864/mazw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 50492159, "answer_count": 1, "score": -1, "last_activity_date": 1527089507, "creation_date": 1527084939, "question_id": 50490704, "link": "https://stackoverflow.com/questions/50490704/group-data-by-property-and-time-interval", "title": "Group data by property and time interval", "body": "<p>I have a class looking like this:</p>\n\n<pre><code>public class UserAction\n{\n        public int LogId { get; set; }\n        public string UserName { get; set; }\n        public CrudAction Action { get; set; }\n        public DateTime Date{ get; set; }\n}\n</code></pre>\n\n<p>The purpose of this class is to store information on who performed changes on a form in my web app. On the form you can open up a modal which displays these changes and when it happened.</p>\n\n<p>Now, the issue is that the form has auto save which saves the form after each change made, which can generate plenty of log posts within short time intervals and therefore look a bit messy. When I open the modal to look at the logs it often looks something like this:</p>\n\n<pre><code>User        User action  Date and time of action\nLisa        Edited       2018-05-20 09:46 AM GMT+2\nTom         Edited       2018-05-18 11:18 AM GMT+2\nTom         Edited       2018-05-18 11:18 AM GMT+2\nTom         Edited       2018-05-18 11:18 AM GMT+2\nTom         Edited       2018-05-18 11:16 AM GMT+2\nTom         Edited       2018-05-18 11:15 AM GMT+2\nTom         Edited       2018-05-18 11:15 AM GMT+2\nTom         Edited       2018-05-18 11:15 AM GMT+2\nTom         Edited       2018-05-18 10:12 AM GMT+2 \nLisa        Edited       2018-05-16 13.28 PM GMT+2\nLisa        Posted       2018-05-16 13.25 PM GMT+2\n</code></pre>\n\n<p>I'm looking for a clever way to somehow group all the posts generated within the same hour by the same person with the same action and only show the latest post. Something like this:</p>\n\n<pre><code>User        User action  Date and time of action\nLisa        Edited       2018-05-20 09:46 AM GMT+2\nTom         Edited       2018-05-18 11:18 AM GMT+2\nTom         Edited       2018-05-18 10:12 AM GMT+2 \nLisa        Edited       2018-05-16 13.28 PM GMT+2\nLisa        Posted       2018-05-16 13.25 PM GMT+2\n</code></pre>\n\n<p>My app is an angular 5 app and I'm using a .Net Core Web API to get the data from an SQL database. I guess the logic for this could be in both the angular app or web api but maybe it is more preferable to do this on the client?    </p>\n\n<p>I have tried to make this work both in javascript and LINQ but I'm not getting very far (something is not clicking in my brain) so any help would be much appreciated.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527091115, "post_id": 50490537, "comment_id": 87998477, "body": "Thank you, this did the trick. I have another similar issue in my code, could it be that this is the same issue? I&#39;ve edited my original post."}, {"owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "reply_to_user": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527102995, "post_id": 50490537, "comment_id": 88004515, "body": "@Audiosleef I don&#39;t unterstand your next issue ^^ What&#39;s the problem ? Your list of heroes is not updated after you add one ?"}, {"owner": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527108299, "post_id": 50490537, "comment_id": 88007172, "body": "Yes ! and the odd thing is, he creates the html list item but there is no data in it."}, {"owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "reply_to_user": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527147505, "post_id": 50490537, "comment_id": 88019466, "body": "Hmm it seems right to me. Could you provide a stackblitz please ?"}, {"owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "reply_to_user": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527148663, "post_id": 50490537, "comment_id": 88020142, "body": "I need to see your template and more of your component :)"}, {"owner": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527149254, "post_id": 50490537, "comment_id": 88020476, "body": "I was setting up my stackblitz, never used it before. But here you go: <a href=\"https://stackblitz.com/edit/angular-heroes-issue\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-heroes-issue</a>"}, {"owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "reply_to_user": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527150218, "post_id": 50490537, "comment_id": 88020969, "body": "I found it. The problem comes from the id of an hero. If I post an hero with id property, data will be correclty displayed. I don&#39;t know what&#39;s your back-end stack, but your DB don&#39;t add ID automatically : &gt;"}, {"owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "reply_to_user": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527150294, "post_id": 50490537, "comment_id": 88021005, "body": "I did this for testing and it works : <code>return this.http.post&lt;Hero&gt;(this.heroesUrl, { id: 56, ...hero}, httpOptions)</code>  You should check why your DB don&#39;t auto-increment primary ID"}, {"owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "reply_to_user": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527150371, "post_id": 50490537, "comment_id": 88021042, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/171674/discussion-between-adrien-saulnier-and-audiosleef\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "is_accepted": true, "score": 1, "last_activity_date": 1527087201, "last_edit_date": 1527087201, "creation_date": 1527084472, "answer_id": 50490537, "question_id": 50490420, "link": "https://stackoverflow.com/questions/50490420/set-embedded-array-value-oninit/50490537#50490537", "title": "Set embedded array value OnInit()", "body": "<p>Observables are async and you are trying to set values before your observable emits data (encounter) from your server.</p>\n\n<p>Try this : </p>\n\n<pre><code>getEncounter(): void {\n    const id = +this.route.snapshot.paramMap.get('id');\n    this.encounterService.getEncounter(id)\n       .subscribe(encounter =&gt; {\n           this.encounter = encounter;\n           this.heroes = this.encounter.heroes;\n           this.monsters = this.encounter.monsters;\n    });\n}\n\nngOnInit() {\n   this.getEncounter();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527090763, "post_id": 50490554, "comment_id": 87998275, "body": "I used the code above verbatim and got the following error: Property &#39;do&#39; does not exist on type &#39;Observable&lt;Encounter&gt;&#39;."}, {"owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "reply_to_user": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527091426, "post_id": 50490554, "comment_id": 87998681, "body": "Probably you are using rxjs &gt; 5.5, as explained here <a href=\"https://medium.com/@gugui3z24/i-am-getting-the-following-error-property-do-does-not-exist-on-type-observable-any-79b381cac4b0\" rel=\"nofollow noreferrer\">medium.com/@gugui3z24/&hellip;</a> so you have to do the proper import of do operator"}, {"owner": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "edited": false, "score": 0, "creation_date": 1527092055, "post_id": 50490554, "comment_id": 87999005, "body": "Indeed, i&#39;m using 6.0.0. I tried the answer  Adrien posted and this works also so i&#39;ll stick with that. I have edited my original question with an additional issue, do you happen to know if this is the same issue?"}], "tags": [], "owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "is_accepted": false, "score": 1, "last_activity_date": 1527084515, "creation_date": 1527084515, "answer_id": 50490554, "question_id": 50490420, "link": "https://stackoverflow.com/questions/50490420/set-embedded-array-value-oninit/50490554#50490554", "title": "Set embedded array value OnInit()", "body": "<p>getEncounter() is async. You should return an Observable and wait for it to have a value emitted</p>\n\n<pre><code>getEncounter(): Observable&lt;any&gt;{\n   const id = +this.route.snapshot.paramMap.get('id');\n   return this.encounterService.getEncounter(id)\n   .do(encounter =&gt; this.encounter = encounter);\n}\n\nngOnInit() {\n   this.getEncounter()\n   .subscribe( () =&gt; {\n      this.heroes = this.encounter.heroes;\n      this.monsters = this.encounter.monsters;\n   })\n}\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6687665, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d4adcb6bcfce79dcbc2a644d99356d3?s=128&d=identicon&r=PG&f=1", "display_name": "Audiosleef", "link": "https://stackoverflow.com/users/6687665/audiosleef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 50490537, "answer_count": 2, "score": 0, "last_activity_date": 1527092186, "creation_date": 1527084166, "last_edit_date": 1527092186, "question_id": 50490420, "link": "https://stackoverflow.com/questions/50490420/set-embedded-array-value-oninit", "title": "Set embedded array value OnInit()", "body": "<p>I have an encounter object which holds a Heroes[] and a Monsters[]. I'm using the in memory web api to get the data when this specific encounter is loaded:</p>\n\n<pre><code>getEncounter(): void{\nconst id = +this.route.snapshot.paramMap.get('id');\nthis.encounterService.getEncounter(id)\n  .subscribe(encounter =&gt; this.encounter = encounter);\n}\n</code></pre>\n\n<p>and this works fine. But I will have to make adjustments to the heroes and monsters properties and so I would like to load them into separate arrays when the encounter is loaded:</p>\n\n<pre><code>export class EncounterDetailComponent implements OnInit {\n@Input() encounter: Encounter;\nheroes: Hero[];\nmonsters: Monster[];  \n\nconstructor(private route: ActivatedRoute, private encounterService: \nEncountersService, private location: Location) { }\n\nngOnInit() {\nthis.getEncounter();\nthis.heroes = this.encounter.heroes;\nthis.monsters = this.encounter.monsters;\n}\n</code></pre>\n\n<p>But for some reason this is not working. Could someone explain to me why this is not working and how it can be resolved?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Similar issue:</p>\n\n<pre><code>add(name: string, player: string, HP: string, AR: string, IM: string, imageUrl: string): void{\nname = name.trim();\nvar hitPoints = +HP;\nvar armor = +AR;\nvar initModif = +IM;\nif(!name){return;}\nthis.heroService.addHero({name, player, hitPoints, armor, initModif, imageUrl} as Hero)\n .subscribe(hero =&gt;{ this.heroes.push(hero)});\n</code></pre>\n\n<p>}</p>\n\n<p>This gives me the following <a href=\"https://imgur.com/a/7uXi9Dz\" rel=\"nofollow noreferrer\">result</a> . But here I am using an observable.</p>\n\n<p>Additional info:</p>\n\n<pre><code>&lt;button (click)=\"add(heroName.value, heroPlayer.value, heroHitPoints.value, heroArmor.value,heroInitModif.value, heroImageUrl.value)\"&gt;\nAdd new hero\n&lt;/button&gt;\n\n\n addHero(hero: Hero): Observable&lt;Hero&gt;{\nthis.messageService.add(`Heroes Service: added hero w/ name=${hero.name}`);\nreturn this.http.post&lt;Hero&gt;(this.heroesUrl, hero, httpOptions).pipe(\n  tap((hero: Hero) =&gt; this.log(`added hero w/ name=${hero.name}`)),\n  catchError(this.handleError&lt;Hero&gt;('addHero'))\n);\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "edited": false, "score": 0, "creation_date": 1527081869, "post_id": 50489524, "comment_id": 87992006, "body": "Have you heard about formArray in reactive forms? Create n numbers of formControl inside the formArray depending upon your selected Quantity."}, {"owner": {"reputation": 96, "user_id": 1705502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c6a0e8dd310f1a12da6544340587a3?s=128&d=identicon&r=PG", "display_name": "Hari Haran", "link": "https://stackoverflow.com/users/1705502/hari-haran"}, "edited": false, "score": 0, "creation_date": 1537465778, "post_id": 50489524, "comment_id": 91804831, "body": "Did you find any answer to this ? if so please update."}], "owner": {"reputation": 111, "user_id": 921143, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UCHFt.jpg?s=128&g=1", "display_name": "Anele", "link": "https://stackoverflow.com/users/921143/anele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527081604, "creation_date": 1527081604, "question_id": 50489524, "link": "https://stackoverflow.com/questions/50489524/multi-dynamic-reactive-forms-angular-5-nested-input-fields", "title": "Multi Dynamic Reactive Forms Angular 5 Nested Input Fields", "body": "<p>I am having some trouble with creating a Multi Dynamic input fields on A Reactive Angular 5 Form.</p>\n\n<p>I was using this <a href=\"https://stackoverflow.com/a/43521492\">answer but I needed to expand on it for my scenario</a></p>\n\n<h2>Here is a working Example of the App</h2>\n\n<p><a href=\"https://angular-tmyj5r.stackblitz.io/\" rel=\"nofollow noreferrer\">Stackblitz New Window</a></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-tmyj5r?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Stackblitz CODE</a></p>\n\n<h3>Code Excerpt</h3>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n   &lt;label for=\"item_quantity\"&gt; Quantity &lt;/label&gt;\n   &lt;input type=\"number\" min=\"1\" (ngModelChange)=\"onChanges($event)\" formControlName=\"item_quantity\" class=\"form-control\" id=\"item_quantity\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\" style=\" border: 1px solid red; padding: 10px;\"&gt;\n    Repeat these input based on the item_quantity from above &lt;br&gt;\n    &lt;input type=\"text\" name=\"item_details\" formControlName=\"item_details.item_detail\" class=\"form-control\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h3>Question 1</h3>\n\n<p>I need to repeat the <code>item_details</code> input based on the <code>item_quantity</code> for every row that the user Creates</p>\n\n<h3>Question 2</h3>\n\n<p>Can I be able to allow file uploads like this</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n   &lt;label for=\"item_image\"&gt; Item Image &lt;/label&gt;\n   &lt;input type=\"file\" formControlName=\"item_image\" class=\"form-control\" id=\"item_image\"&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1527082803, "post_id": 50489491, "comment_id": 87992741, "body": "<code>functions.config().firebase</code> is obsolete since version 1.0 of firebase-functions.  You should just init with no arguments now.  Also you should import firebase-functions before firebase-admin.  Don&#39;t know if these will fix anything, but please try.  Also update all your npm dependencies and note the versions in your question."}, {"owner": {"reputation": 766, "user_id": 4015143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8173d3a1837552232947c748e66e4ed8?s=128&d=identicon&r=PG&f=1", "display_name": "fstr", "link": "https://stackoverflow.com/users/4015143/fstr"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1527083450, "post_id": 50489491, "comment_id": 87993194, "body": "@DougStevenson Thanks for the quick reply. I&#39;ve added my package.json to the question. Using &quot;firebase-admin&quot;: &quot;5.12.1&quot;, &quot;firebase-functions&quot;: &quot;1.0.3&quot;. I tried removing the arguments and swapping the imports but there was no difference."}, {"owner": {"reputation": 766, "user_id": 4015143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8173d3a1837552232947c748e66e4ed8?s=128&d=identicon&r=PG&f=1", "display_name": "fstr", "link": "https://stackoverflow.com/users/4015143/fstr"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1527139052, "post_id": 50489491, "comment_id": 88015227, "body": "@DougStevenson: So I&#39;m finding it I use &quot;admin.initializeApp&quot; while supplying the privateKey, databaseURL, clientEmail and projectId it works remotely. I&#39;m really stumped at why the recommended way isn&#39;t working. Have I missed some server setup step? I&#39;ve no idea what to try next."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1527139975, "post_id": 50489491, "comment_id": 88015572, "body": "Try reporting this to Firebase support.  <a href=\"https://firebase.google.com/support/contact/troubleshooting/\" rel=\"nofollow noreferrer\">firebase.google.com/support/contact/troubleshooting</a>"}], "answers": [{"tags": [], "owner": {"reputation": 766, "user_id": 4015143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8173d3a1837552232947c748e66e4ed8?s=128&d=identicon&r=PG&f=1", "display_name": "fstr", "link": "https://stackoverflow.com/users/4015143/fstr"}, "is_accepted": true, "score": 2, "last_activity_date": 1527640148, "creation_date": 1527640148, "answer_id": 50594775, "question_id": 50489491, "link": "https://stackoverflow.com/questions/50489491/firebase-error-writing-to-firestore-via-a-function-7-permission-denied-missin/50594775#50594775", "title": "Firebase error writing to Firestore via a Function: &quot;7 PERMISSION_DENIED: Missing or insufficient permissions&quot;", "body": "<p>I contacted Firebase support about this and they didn't know what was going on either. I created a new project, deployed and it worked. Perhaps it's just a weird glitch with new projects. </p>\n"}, {"comments": [{"owner": {"reputation": 1921, "user_id": 3165112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/593991735/picture?type=large", "display_name": "Mohammad Bashir Sidani", "link": "https://stackoverflow.com/users/3165112/mohammad-bashir-sidani"}, "edited": false, "score": 0, "creation_date": 1605538604, "post_id": 59801276, "comment_id": 114673404, "body": "In my case I had working functions and after enabling IAM they broke. These steps fixed it!"}], "tags": [], "owner": {"reputation": 13846, "user_id": 482594, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cbe8d96356319a5e24ed1063c77fc163?s=128&d=identicon&r=PG", "display_name": "user482594", "link": "https://stackoverflow.com/users/482594/user482594"}, "is_accepted": false, "score": 2, "last_activity_date": 1579355716, "creation_date": 1579355716, "answer_id": 59801276, "question_id": 50489491, "link": "https://stackoverflow.com/questions/50489491/firebase-error-writing-to-firestore-via-a-function-7-permission-denied-missin/59801276#59801276", "title": "Firebase error writing to Firestore via a Function: &quot;7 PERMISSION_DENIED: Missing or insufficient permissions&quot;", "body": "<p>I encountered this issue while updating my IAM/Service account value and I think I figured it out.</p>\n\n<p>If you use Firebase Admin SDK without providing any credentials in Firebase Functions like this <code>firebaseAdmin.initializeApp()</code> then your functions will use default application credentials. </p>\n\n<p>The default credentials uses the following service account <code>{project-id}@appspot.gserviceaccount.com</code> where <code>{project-id}</code> will be your firebase/google cloud project id. This account is often created automatically when you created Firebase project or used few of google cloud services.</p>\n\n<p>Anyhow, <code>{project-id}@appspot.gserviceaccount.com</code> by default has <code>Editor</code> level permission. You can check this out in [Google Cloud - IAM &amp; Admin - IAM] page. I thought it had too much permissions so I basically removed that permission from the service account, and decided to manually add more restrictive permissions. (At that time, I did not know that firebase/cloud functions use this service account.</p>\n\n<p>After making those changes, my functions which access Firestore soon started encountering <code>Error: 7 PERMISSION_DENIED: Missing or insufficient permissions.</code> errors. \nIn order to solve this issue, I had to do the following 2 things.</p>\n\n<ul>\n<li>Added back <code>Editor</code> level permission back to the default service account.</li>\n<li>Deleted Firestore functions completely using Firebase console, and re-deployed them using <code>firebase deploy --only functions</code> command.</li>\n</ul>\n\n<p>After completing above 2 steps, my cloud functions started working correctly as expected.</p>\n"}, {"tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": false, "score": 0, "last_activity_date": 1613067795, "creation_date": 1613067795, "answer_id": 66160559, "question_id": 50489491, "link": "https://stackoverflow.com/questions/50489491/firebase-error-writing-to-firestore-via-a-function-7-permission-denied-missin/66160559#66160559", "title": "Firebase error writing to Firestore via a Function: &quot;7 PERMISSION_DENIED: Missing or insufficient permissions&quot;", "body": "<p>My project was created at google cloud first, then connecting that project to firebase.</p>\n<p>In my case the issue was <code>{project-id}@appspot.gserviceaccount.com</code> didn't had <code>Editor</code> role, as soon as I added Editor roles for that service account, it started working</p>\n<p>p.s\nAlso for the first time, the user should be <code>Owner</code> to be able to create firestore database, otherwise you see this message in firestore page <code>To manage Cloud Firestore, ask a project owner for the necessary permissions</code></p>\n"}], "owner": {"reputation": 766, "user_id": 4015143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8173d3a1837552232947c748e66e4ed8?s=128&d=identicon&r=PG&f=1", "display_name": "fstr", "link": "https://stackoverflow.com/users/4015143/fstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 0, "accepted_answer_id": 50594775, "answer_count": 3, "score": 3, "last_activity_date": 1613067795, "creation_date": 1527081511, "last_edit_date": 1527085263, "question_id": 50489491, "link": "https://stackoverflow.com/questions/50489491/firebase-error-writing-to-firestore-via-a-function-7-permission-denied-missin", "title": "Firebase error writing to Firestore via a Function: &quot;7 PERMISSION_DENIED: Missing or insufficient permissions&quot;", "body": "<p>I'm trying to write a simple Firebase Function that adds a record to Firestore with TypeScript. The cut down version of the code is:</p>\n\n<pre><code>import * as admin from \"firebase-admin\";\nimport * as functions from \"firebase-functions\";\n\nconst config = functions.config();\n\nadmin.initializeApp(functions.config().firebase);\nadmin.database.enableLogging(true);\n\nexports.subscriptions = functions.https.onRequest(\n  async (req, res) =&gt; {\n    try {\n      const requestSubscription = req.body;\n      const subscription = {\n        subscription_id: requestSubscription.subscription_id,\n        email: requestSubscription.email || \"\"\n      };\n\n      const id = subscription.subscription_id;\n      const dbSubscriptions = admin.firestore().collection(\"subscriptions\");\n      await dbSubscriptions.doc(id).set(subscription);\n\n      return res.status(200).send(`Success`);\n    } catch (e) {\n      console.error(e.stack);\n      return res.status(500).send(`Error`);\n    }\n  }\n);\n</code></pre>\n\n<p>This works as expected locally. When I deploy, I get this error:</p>\n\n<pre><code>Error: 7 PERMISSION_DENIED: Missing or insufficient permissions.\n    at Object.exports.createStatusError (/user_code/node_modules/firebase-admin/node_modules/grpc/src/common.js:87:15)\n    at Object.onReceiveStatus (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:1214:28)\n    at InterceptingListener._callNext (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:590:42)\n    at InterceptingListener.onReceiveStatus (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:640:8)\n    at callback (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:867:24)\n</code></pre>\n\n<p>My functions/package.json file is:</p>\n\n<pre><code>{\n  \"name\": \"functions\",\n  \"scripts\": {\n    \"lint\": \"tslint --project tsconfig.json\",\n    \"build\": \"tsc\",\n    \"serve\": \"npm run build &amp;&amp; firebase serve --only functions\",\n    \"shell\": \"npm run build &amp;&amp; firebase functions:shell\",\n    \"start\": \"npm run shell\",\n    \"deploy\": \"firebase deploy --only functions\",\n    \"logs\": \"firebase functions:log\"\n  },\n  \"main\": \"lib/index.js\",\n  \"dependencies\": {\n    \"express\": \"4.16.3\",\n    \"firebase-admin\": \"5.12.1\",\n    \"firebase-functions\": \"1.0.3\"\n  },\n  \"devDependencies\": {\n    \"tslint\": \"^5.8.0\",\n    \"typescript\": \"^2.5.3\"\n  },\n  \"private\": true\n}\n</code></pre>\n\n<p>The only link I'm getting searching for this error is this unanswered question:\n<a href=\"https://stackoverflow.com/questions/49910274/permission-denied-firestore-cloudfunction-typescript\">PERMISSION_DENIED Firestore CloudFunction TypeScript</a></p>\n\n<p>I've set my Firestore rules to allow anyone to read and write as well even though the above is using admin and it still doesn't work. </p>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["typescript", "authentication", "jwt", "express-jwt", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 2606227, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d91da98a98d4c127959f49370cf596c?s=128&d=identicon&r=PG", "display_name": "Shamnad P S", "link": "https://stackoverflow.com/users/2606227/shamnad-p-s"}, "edited": false, "score": 0, "creation_date": 1527176086, "post_id": 50500267, "comment_id": 88038781, "body": "Yes, I created a token and then send it as Authorization header using post man. still didn&#39;t work."}], "tags": [], "owner": {"reputation": 143, "user_id": 6116888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48eb32573916e4e7e1b3c2f558b0934?s=128&d=identicon&r=PG&f=1", "display_name": "small white", "link": "https://stackoverflow.com/users/6116888/small-white"}, "is_accepted": false, "score": 0, "last_activity_date": 1527130792, "creation_date": 1527130792, "answer_id": 50500267, "question_id": 50488975, "link": "https://stackoverflow.com/questions/50488975/authentication-failure-while-using-nestjs-authentication/50500267#50500267", "title": "Authentication failure while using nestjs authentication", "body": "<p>how did you access the route?</p>\n\n<p>you must create the token first.</p>\n\n<p>don't know if this gives you a hint</p>\n\n<p><a href=\"https://i.stack.imgur.com/k8RYh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k8RYh.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 889, "user_id": 2606227, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d91da98a98d4c127959f49370cf596c?s=128&d=identicon&r=PG", "display_name": "Shamnad P S", "link": "https://stackoverflow.com/users/2606227/shamnad-p-s"}, "edited": false, "score": 0, "creation_date": 1527232954, "post_id": 50513800, "comment_id": 88059142, "body": "yes this was it!. Thank you for your time on looking into my code. I had already found it yesterday. But Thanks a lot for your time and effort."}], "tags": [], "owner": {"reputation": 1341, "user_id": 6383583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ed176e1913319cacc8250261995ae2?s=128&d=identicon&r=PG&f=1", "display_name": "A. Maitre", "link": "https://stackoverflow.com/users/6383583/a-maitre"}, "is_accepted": true, "score": 2, "last_activity_date": 1527191175, "last_edit_date": 1527191175, "creation_date": 1527178206, "answer_id": 50513800, "question_id": 50488975, "link": "https://stackoverflow.com/questions/50488975/authentication-failure-while-using-nestjs-authentication/50513800#50513800", "title": "Authentication failure while using nestjs authentication", "body": "<p>Your - slight but critical - error resides in the <code>secretOrKey</code> value you're using to sign your token. You have different values between <strong><code>src/auth/jwt.strategy.ts</code></strong> and <strong><code>src/auth/auth.service.ts</code></strong>.<br>\n<br>\nIn <code>src/auth/auth.service.ts</code>:<br>\nInstead of this:  </p>\n\n<pre><code>async createToken() {\n    const user: UserDto = { name: 'shamnad', phoneNumber: '12435' };\n    return jwt.sign(user, 'secretkey'); // &lt;== /!\\ focus on this one /!\\\n}\n</code></pre>\n\n<p>Use this:  </p>\n\n<pre><code>async createToken() {\n        const user: UserDto = { name: 'shamnad', phoneNumber: '12435' };\n        return jwt.sign(user, 'secretKey'); // &lt;== /!\\ focus on this one /!\\\n}\n</code></pre>\n\n<p>Because you use <strong><code>secretKey</code></strong> to sign your token, and not <em><code>secretkey</code></em> (notice the camel case):  </p>\n\n<pre><code>constructor(private readonly authService: AuthService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      secretOrKey: 'secretKey', // &lt;== /!\\ focus on this line /!\\\n    });\n}\n</code></pre>\n\n<p>To avoid such problems, I'd recommend you to use <em><code>process.env.&lt;your-variable&gt;</code></em> instead of directly setting config manually in strings.</p>\n\n<hr>\n\n<p>It would look something like this in <code>src/auth/jwt.strategy.ts</code>:  </p>\n\n<pre><code>constructor(private readonly authService: AuthService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      secretOrKey: process.env.SECRET\n    });\n}\n</code></pre>\n\n<p>and in <code>src/auth/auth.service.ts</code>, like this:  </p>\n\n<pre><code>async createToken() {\n    const user: UserDto = { name: 'shamnad', phoneNumber: '12435' };\n    return jwt.sign(user, process.env.SECRET); // &lt;== /!\\ focus on this one /!\\\n}\n</code></pre>\n\n<p>Finally, to set the environment variable, execute the following command based on your OS:<br>\n- Mac OS: <code>export SECRET=&lt;your-secret-key&gt;</code><br>\n- Windows: <code>set SECRET=&lt;your-secret-key&gt;</code>  </p>\n\n<p><br>\nI hope it helps ;)</p>\n"}], "owner": {"reputation": 889, "user_id": 2606227, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d91da98a98d4c127959f49370cf596c?s=128&d=identicon&r=PG", "display_name": "Shamnad P S", "link": "https://stackoverflow.com/users/2606227/shamnad-p-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 50513800, "answer_count": 2, "score": 0, "last_activity_date": 1527191175, "creation_date": 1527080059, "question_id": 50488975, "link": "https://stackoverflow.com/questions/50488975/authentication-failure-while-using-nestjs-authentication", "title": "Authentication failure while using nestjs authentication", "body": "<p>I am trying to implement authentication using nestjs documentation.\n<a href=\"https://docs.nestjs.com/techniques/authentication\" rel=\"nofollow noreferrer\">https://docs.nestjs.com/techniques/authentication</a></p>\n\n<p>And I am implementing JWT Authentication and when trying to access an API which is being authenticated, I am getting validation error, even before validating. Has anyone faced similar issue.</p>\n\n<pre><code>@Get()\n  @UseGuards(AuthGuard('jwt'))\n  async findAll(): Promise&lt;UserDto[]&gt; {\n    return this.userService.findAll();\n  }\n</code></pre>\n\n<p>This route is giving me UnAuthorized error. I am really new to Typescript and nestjs</p>\n\n<p>My code is available here in my GitHub repo. Please let me know what went wrong.\n<a href=\"https://github.com/shamnadps/TypeScript_Project/blob/master/src/user/user.controller.ts#L23\" rel=\"nofollow noreferrer\">https://github.com/shamnadps/TypeScript_Project/blob/master/src/user/user.controller.ts#L23</a></p>\n"}, {"tags": ["javascript", "typescript", "filter", "lodash"], "comments": [{"owner": {"reputation": 1196, "user_id": 4866533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04aeb67413fa61041666b07c3d27db79?s=128&d=identicon&r=PG", "display_name": "Matthew Brent", "link": "https://stackoverflow.com/users/4866533/matthew-brent"}, "edited": false, "score": 0, "creation_date": 1527078910, "post_id": 50488465, "comment_id": 87989914, "body": "Is es6 syntax ok? Will the structure always be the same with the same value types"}, {"owner": {"reputation": 1800, "user_id": 5654715, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYPra.jpg?s=128&g=1", "display_name": "Baptiste Arnaud", "link": "https://stackoverflow.com/users/5654715/baptiste-arnaud"}, "reply_to_user": {"reputation": 1196, "user_id": 4866533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04aeb67413fa61041666b07c3d27db79?s=128&d=identicon&r=PG", "display_name": "Matthew Brent", "link": "https://stackoverflow.com/users/4866533/matthew-brent"}, "edited": false, "score": 0, "creation_date": 1527078983, "post_id": 50488465, "comment_id": 87989976, "body": "@MatthewBrent I use TypeScript, so, yeah!"}, {"owner": {"reputation": 617, "user_id": 6565510, "user_type": "registered", "profile_image": "https://graph.facebook.com/1177793125605707/picture?type=large", "display_name": "Gabriel Carneiro", "link": "https://stackoverflow.com/users/6565510/gabriel-carneiro"}, "edited": false, "score": 0, "creation_date": 1527079023, "post_id": 50488465, "comment_id": 87990008, "body": "is label the only key that needs to be checked in order to merge the objects?"}, {"owner": {"reputation": 1800, "user_id": 5654715, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYPra.jpg?s=128&g=1", "display_name": "Baptiste Arnaud", "link": "https://stackoverflow.com/users/5654715/baptiste-arnaud"}, "reply_to_user": {"reputation": 617, "user_id": 6565510, "user_type": "registered", "profile_image": "https://graph.facebook.com/1177793125605707/picture?type=large", "display_name": "Gabriel Carneiro", "link": "https://stackoverflow.com/users/6565510/gabriel-carneiro"}, "edited": false, "score": 0, "creation_date": 1527079083, "post_id": 50488465, "comment_id": 87990051, "body": "@GabrielCarneiro for the moment, yes"}], "answers": [{"tags": [], "owner": {"reputation": 617, "user_id": 6565510, "user_type": "registered", "profile_image": "https://graph.facebook.com/1177793125605707/picture?type=large", "display_name": "Gabriel Carneiro", "link": "https://stackoverflow.com/users/6565510/gabriel-carneiro"}, "is_accepted": true, "score": 0, "last_activity_date": 1527364159, "last_edit_date": 1527364159, "creation_date": 1527079623, "answer_id": 50488828, "question_id": 50488465, "link": "https://stackoverflow.com/questions/50488465/merge-equal-objects-using-high-order-functions/50488828#50488828", "title": "Merge equal objects using high order functions", "body": "<p>Take a look on it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let relations_entities = [\r\n  {\r\n    relation: {\r\n      label: 'string',\r\n      inEntityId: 'string',\r\n      outEntityId: 'string',\r\n      proof: [\r\n        {\r\n          text: 'string',\r\n          confidence: 'number',\r\n        }\r\n      ],\r\n    },\r\n    entity: {\r\n      entityId: 'string',\r\n      label: 'string',\r\n      text: 'string',\r\n    },\r\n  },\r\n  {\r\n    relation: {\r\n      label: 'string',\r\n      inEntityId: 'string',\r\n      outEntityId: 'string',\r\n      proof: [\r\n        {\r\n          text: 'string',\r\n          confidence: 'number',\r\n        }\r\n      ],\r\n    },\r\n    entity: {\r\n      entityId: 'string',\r\n      label: 'string',\r\n      text: 'string',\r\n    },\r\n  },\r\n];\r\n\r\nlet merged = [];\r\n\r\nrelations_entities.forEach(el =&gt; {\r\n  let found = false;  \r\n  if (merged.length &gt; 0) {\r\n    merged.forEach(elM =&gt; {\r\n      if (el.relation.label === elM.relation.label &amp;&amp; !found) {\r\n        elM.relation.proof = elM.relation.proof.concat(el.relation.proof);\r\n        found = true;\r\n      }\r\n    });\r\n  } \r\n  if (!found || merged.length === 0) {\r\n    merged.push(el);\r\n  }\r\n});\r\n\r\nconsole.log(merged);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 4866533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04aeb67413fa61041666b07c3d27db79?s=128&d=identicon&r=PG", "display_name": "Matthew Brent", "link": "https://stackoverflow.com/users/4866533/matthew-brent"}, "is_accepted": false, "score": 0, "last_activity_date": 1527085425, "creation_date": 1527085425, "answer_id": 50490893, "question_id": 50488465, "link": "https://stackoverflow.com/questions/50488465/merge-equal-objects-using-high-order-functions/50490893#50490893", "title": "Merge equal objects using high order functions", "body": "<p>Here is a solution using es6 fat arrow functions, this could be improved by passing in the keys you wish to check by. If you require this functionality I don't mind adding this in to your answer for completeness.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var relations_entities = [\r\n  {\r\n    \"relation\": {\r\n      \"label\": 'a',\r\n      \"inEntityId\": '123',\r\n      \"outEntityId\": '123',\r\n      \"proof\": [\r\n        {\r\n          \"text\": '123',\r\n          \"confidence\": '123',\r\n        }\r\n      ],\r\n    },\r\n    \"entity\": {\r\n      \"entityId\": '123',\r\n      \"label\": '123',\r\n      \"text\": '123',\r\n    },\r\n  },\r\n  {\r\n    \"relation\": {\r\n      \"label\": 'b',\r\n      \"inEntityId\": '321',\r\n      \"outEntityId\": '321',\r\n      \"proof\": [\r\n        {\r\n          \"text\": '321',\r\n          \"confidence\": '321',\r\n        }\r\n      ],\r\n    },\r\n    \"entity\": {\r\n      \"entityId\": '321',\r\n      \"label\": '123',\r\n      \"text\": '321',\r\n    },\r\n  },\r\n  {\r\n    \"relation\": {\r\n      \"label\": 'c',\r\n      \"inEntityId\": '321',\r\n      \"outEntityId\": '321',\r\n      \"proof\": [\r\n        {\r\n          \"text\": '321',\r\n          \"confidence\": '321',\r\n        }\r\n      ],\r\n    },\r\n    \"entity\": {\r\n      \"entityId\": '321',\r\n      \"label\": '123',\r\n      \"text\": '321',\r\n    },\r\n  },\r\n  {\r\n    \"relation\": {\r\n      \"label\": 'b',\r\n      \"inEntityId\": '321',\r\n      \"outEntityId\": '321',\r\n      \"proof\": [\r\n        {\r\n          \"text\": '321',\r\n          \"confidence\": '321',\r\n        }\r\n      ],\r\n    },\r\n    \"entity\": {\r\n      \"entityId\": '321',\r\n      \"label\": '123',\r\n      \"text\": '321',\r\n    },\r\n  }\r\n]\r\n\r\nconst compareEntities = (oldEntities) =&gt; {\r\n  // early breakout if there is just one element\r\n  if (oldEntities.length === 0) {\r\n    return oldEntities\r\n  }\r\n  \r\n  // here we iterate through each of the passed in entities\r\n  var newEntities = oldEntities.filter((entity, index, entities) =&gt; {\r\n    // set the internal counter to 1 higher than the filtered counter\r\n    // (the next object along)\r\n    var i = index + 1\r\n    const relationlabel = entity.relation.label\r\n    const entityLabel = entity.entity.label\r\n\r\n    // iterate through each remaining entity and remove from array if there is a match\r\n    while (i &lt; entities.length) {\r\n      const relationLabelIsEqual = relationlabel === entities[i].relation.label\r\n      const entityLabelIsEqual = relationlabel === entities[i].relation.label\r\n      if (relationLabelIsEqual &amp;&amp; entityLabelIsEqual) {\r\n        i = index + 1\r\n        return false\r\n      }\r\n      // if there is no match we just want to move onto the next entity\r\n      ++i\r\n    }\r\n    // if we have iterated through all entities then there was no match\r\n    // - return it into the new array\r\n    return true\r\n  })\r\n  return newEntities\r\n}\r\n\r\nconsole.log(compareEntities(relations_entities))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can also play with a <a href=\"https://repl.it/@mattjbrent/filterOnValue\" rel=\"nofollow noreferrer\">repl i set up</a></p>\n"}], "owner": {"reputation": 1800, "user_id": 5654715, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYPra.jpg?s=128&g=1", "display_name": "Baptiste Arnaud", "link": "https://stackoverflow.com/users/5654715/baptiste-arnaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50488828, "answer_count": 2, "score": 4, "last_activity_date": 1527364159, "creation_date": 1527078603, "question_id": 50488465, "link": "https://stackoverflow.com/questions/50488465/merge-equal-objects-using-high-order-functions", "title": "Merge equal objects using high order functions", "body": "<p>I'd like to \"merge\" objects from an array if they have values equal to each other.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>\"relations_entities\": [\n  {\n    \"relation\": {\n      \"label\": string,\n      \"inEntityId\": string,\n      \"outEntityId\": string,\n      \"proof\": [\n        {\n          \"text\": string,\n          \"confidence\": number,\n        }\n      ],\n    },\n    \"entity\": {\n      \"entityId\": string,\n      \"label\": string,\n      \"text\": string,\n    },\n  },\n  {\n    \"relation\": {\n      \"label\": string,\n      \"inEntityId\": string,\n      \"outEntityId\": string,\n      \"proof\": [\n        {\n          \"text\": string,\n          \"confidence\": number,\n        }\n      ],\n    },\n    \"entity\": {\n      \"entityId\": string,\n      \"label\": string,\n      \"text\": string,\n    },\n  },\n]\n</code></pre>\n\n<p>and if <code>relations_entities[0].relation.label</code> and <code>relations_entities[0].entity.label</code> are equal to <code>relations_entities[0].relation.label</code> and <code>relations_entities[0].entity.label</code></p>\n\n<p>Then I need this object to be:</p>\n\n<pre><code>\"relations_entities\": [\n  {\n    \"relation\": {\n      \"label\": string,\n      \"inEntityId\": string,\n      \"outEntityId\": string,\n      \"proof\": [\n        {\n          \"text\": string,\n          \"confidence\": number,\n        },\n        {\n          \"text\": string,\n          \"confidence\": number,\n        }\n      ],\n    },\n    \"entity\": {\n      \"entityId\": string,\n      \"label\": string,\n      \"text\": string,\n    },\n  },\n]\n</code></pre>\n\n<p>The two proofs merged.</p>\n\n<p>I tried implementing this behavior using filters but I lost my mind.</p>\n\n<p>Maybe using lodash library?</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "edited": false, "score": 2, "creation_date": 1527078080, "post_id": 50488166, "comment_id": 87989294, "body": "You can use a shared service variable between component 1 and 3. And then you can toggle the shared variable by comp1 and comp3. And use that variable for *ngIf. No need to maintain 2 variables."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 9775639, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Giuliano", "link": "https://stackoverflow.com/users/9775639/giuliano"}, "is_accepted": false, "score": 0, "last_activity_date": 1527078731, "creation_date": 1527078731, "answer_id": 50488515, "question_id": 50488166, "link": "https://stackoverflow.com/questions/50488166/angularshow-1-component-on-click-of-2-different-components/50488515#50488515", "title": "Angular:Show 1 component on click of 2 different components", "body": "<p>It is not so clear for me how these components interact each other, but I think you can just use the same variable (or the same function) associate to the ng-click of comp1 and comp3.</p>\n\n<pre><code>function showOrHide (flag) {\n    flag =! flag\n}\n</code></pre>\n\n<p>In this way every time you click on comp1 or comp2 the value of the flag will change</p>\n"}, {"tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1527079498, "creation_date": 1527079498, "answer_id": 50488778, "question_id": 50488166, "link": "https://stackoverflow.com/questions/50488166/angularshow-1-component-on-click-of-2-different-components/50488778#50488778", "title": "Angular:Show 1 component on click of 2 different components", "body": "<p>you can make use of shared service between this components, </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject }    from 'rxjs';\n\n@Injectable()\nexport class ComponentService {\n\n  private isComponent1Clicked = false;\n  private showComponent2 = new Subject&lt;boolean&gt;();\n  showComponent2$ = this.showComponent2.asObservable();\n\n  showComponent2(component: string) {\n    if(component==='component1') \n    {\n     isComponent1Clicked= true;\n     this.showComponent2.next(true);\n    }\n    if(isComponent1Clicked &amp;&amp; component==='component1')\n       this.showComponent2.next(true);\n  }\n}\n</code></pre>\n\n<p>Now make use of this service in all three component. </p>\n\n<pre><code>export class ComponentOne {\n   constructor(private componentService : ComponentService ) {\n   }\n   onClick()\n   {\n     this.componentService.showComponent2('component1');\n   }\n}\n\n\nexport class ComponentThree {\n   constructor(private componentService : ComponentService ) {\n   }\n   onClick()\n   {\n     this.componentService.showComponent2('component2');\n   }\n}\n\n//this parent for all three component\nexport class ComponentParent implements OnInit  {\n   showMe:boolean = false; \n   constructor(private componentService : ComponentService ) {\n   }\n    ngOnInit() {\n      this.componentService.showComponent2$.subscribe(data=&gt; this.showMe = data); \n   }\n}\n</code></pre>\n\n<p>in html file </p>\n\n<pre><code>   &lt;component2 *ngIf= \"showMe\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527079498, "creation_date": 1527077713, "question_id": 50488166, "link": "https://stackoverflow.com/questions/50488166/angularshow-1-component-on-click-of-2-different-components", "title": "Angular:Show 1 component on click of 2 different components", "body": "<p>I have 3 independent components</p>\n\n<pre><code>Comp1\nComp2\nComp3\n</code></pre>\n\n<p>Onclick of <code>Comp1</code>, <code>Comp2</code> is shown and to achieve this show/hide functionality I have used <code>*ngIf</code> on <code>Comp2</code>.</p>\n\n<p>Now I want to show <code>Comp2</code> onclick of <code>Comp3</code> as well, I know I can achieve this with <code>*ngIf</code>. But <code>Comp2</code> already has <code>*ngIf</code> coming from <code>Comp1</code>, so until and unless <code>Comp1</code> does not send any flag <code>Comp2</code> will not be visible even if I try to show <code>Comp2</code> from <code>Comp3</code>. The solution to this problem is to use <code>*ngIf</code> with <code>||</code> operator. But the problem will be if Comp3 sets Comp2 flag as true then onlick of Comp1, flag on Comp2 will already be true only.</p>\n\n<p>I am not able to figure out how to show the same component on click of 2 different buttons on different components.</p>\n\n<p>Please help me with the logic, not the code just logic will help.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2688, "user_id": 1335035, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/84c91bb38e4a140364071d2c2e5a4f95?s=128&d=identicon&r=PG", "display_name": "Magn3s1um", "link": "https://stackoverflow.com/users/1335035/magn3s1um"}, "edited": false, "score": 0, "creation_date": 1527083688, "post_id": 50489261, "comment_id": 87993344, "body": "That&#39;s configuring CustomConfig, not ConfigModule."}], "tags": [], "owner": {"reputation": 831, "user_id": 4757394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2y4VX.jpg?s=128&g=1", "display_name": "mittal bhatt", "link": "https://stackoverflow.com/users/4757394/mittal-bhatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1527080836, "creation_date": 1527080836, "answer_id": 50489261, "question_id": 50488161, "link": "https://stackoverflow.com/questions/50488161/configure-module-in-shared-module-from-root/50489261#50489261", "title": "Configure Module in Shared Module from Root", "body": "<pre><code>export class SampleModule {\n  static forRoot(config: CustomConfig): ModuleWithProviders {\n    // User config get logged here\n    console.log(config);\n    return {\n      ngModule: SampleModule,\n      providers: [SampleService, {provide: 'config', useValue: config}]\n    };\n  }\n}\n@Injectable()\nexport class SampleService {\n\n  foo: any;\n\n  constructor(@Inject('config') private config:any) {\n</code></pre>\n"}], "owner": {"reputation": 2688, "user_id": 1335035, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/84c91bb38e4a140364071d2c2e5a4f95?s=128&d=identicon&r=PG", "display_name": "Magn3s1um", "link": "https://stackoverflow.com/users/1335035/magn3s1um"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527080836, "creation_date": 1527077691, "question_id": 50488161, "link": "https://stackoverflow.com/questions/50488161/configure-module-in-shared-module-from-root", "title": "Configure Module in Shared Module from Root", "body": "<p>I have a shared module that imports and configures another module.  </p>\n\n<p>What I would like to do is hide the dependency of the shared module from the root module, but allow the root module to configure it through configuring the shared module.  In example: </p>\n\n<p>SharedModule.ts:</p>\n\n<pre><code> @NgModule({\n  imports: [\n    //want to configure this from root module without importing into root module\n    ConfigModule.forRoot({\n      provide: ConfigLoader,\n      useFactory: (configFactory),\n      deps: [HttpClient]\n    })\n  ],\n  declarations: [MyComponent],\n  exports: [MyComponent],\n  providers: [HttpClient]\n})\nexport class SharedModule{ }\n</code></pre>\n\n<p>AppModule.ts:</p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    SharedModule, //Want to configure ConfigModule from here\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>It seems this isn't possible by implementing ModuleWithProviders (static forRoot), since it doesn't expose imports.  Any ideas?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 610, "user_id": 8601823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H2Dw1EHWiws/AAAAAAAAAAI/AAAAAAAAHE4/7cVdBnpUpyU/photo.jpg?sz=128", "display_name": "Sergi Dote Teixidor", "link": "https://stackoverflow.com/users/8601823/sergi-dote-teixidor"}, "edited": false, "score": 0, "creation_date": 1527077709, "post_id": 50488127, "comment_id": 87989044, "body": "Can you  create an stackblitz?"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4431533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kkFcwK4forc/AAAAAAAAAAI/AAAAAAAAAKE/rF3cGy1_xU0/photo.jpg?sz=128", "display_name": "beginer_programer", "link": "https://stackoverflow.com/users/4431533/beginer-programer"}, "edited": false, "score": 0, "creation_date": 1527077933, "post_id": 50488200, "comment_id": 87989183, "body": "i have a shared service..but value is geting only after refresh..need to get same time.. this link s not working"}, {"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "reply_to_user": {"reputation": 39, "user_id": 4431533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kkFcwK4forc/AAAAAAAAAAI/AAAAAAAAAKE/rF3cGy1_xU0/photo.jpg?sz=128", "display_name": "beginer_programer", "link": "https://stackoverflow.com/users/4431533/beginer-programer"}, "edited": false, "score": 2, "creation_date": 1527078040, "post_id": 50488200, "comment_id": 87989270, "body": "Here is the link <a href=\"https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service\" rel=\"nofollow noreferrer\">angular.io/guide/&hellip;</a>.  And you should use Subjects to get realtime data. read the doc"}], "tags": [], "owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "is_accepted": false, "score": 5, "last_activity_date": 1527077825, "creation_date": 1527077825, "answer_id": 50488200, "question_id": 50488127, "link": "https://stackoverflow.com/questions/50488127/how-to-refresh-one-component-from-another-component-real-time/50488200#50488200", "title": "how to refresh one component from another component real time?", "body": "<p>You can use a service for this.</p>\n\n<p>You can communicate between components using a service as described in the angular official documentation , <a href=\"https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service\" rel=\"noreferrer\">Component Interaction</a>.</p>\n\n<p>Hoe this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 257, "user_id": 9834396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b44ba84b40ded44340bac8cd8f4e4a82?s=128&d=identicon&r=PG&f=1", "display_name": "djain4", "link": "https://stackoverflow.com/users/9834396/djain4"}, "is_accepted": false, "score": 3, "last_activity_date": 1527082133, "creation_date": 1527082133, "answer_id": 50489729, "question_id": 50488127, "link": "https://stackoverflow.com/questions/50488127/how-to-refresh-one-component-from-another-component-real-time/50489729#50489729", "title": "how to refresh one component from another component real time?", "body": "<p>You can use Subjects for this.</p>\n\n<p>Lets consider an Interface dateRange</p>\n\n<pre><code>IDateRange {\n   availableYear: string\n}\n</code></pre>\n\n<p>Create a subject in a commonService.ts like below</p>\n\n<pre><code>private updateLists = new Subject&lt;IDateRange&gt;();\nupdateListsObs = &lt;Observable&lt;IDateRange&gt;&gt;this.updateLists;\n\nupdateListFn(_dateRange : IDateRange ) {\n this.updateLists.next(_dateRange);\n}\n</code></pre>\n\n<p>In your Component A inject CommonService and subscribe to observable updateListsObs like below</p>\n\n<pre><code>this.CommonService.updateListsObs\n.subscribe(\n(response) =&gt; {console.log(\"You will get date range in response which can be used to filter Car list in Component A \")}\n)\n</code></pre>\n\n<p>Then in your Component B inject CommonService and call UpdateListFn</p>\n\n<pre><code>let dateRange: IDateRange = {\n availableYear: \"2018\"\n}\nthis.CommonService.updateListFn(dateRange);\n</code></pre>\n\n<p>For detail description you can refer<a href=\"https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service\" rel=\"nofollow noreferrer\"> this link</a></p>\n"}], "owner": {"reputation": 39, "user_id": 4431533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kkFcwK4forc/AAAAAAAAAAI/AAAAAAAAAKE/rF3cGy1_xU0/photo.jpg?sz=128", "display_name": "beginer_programer", "link": "https://stackoverflow.com/users/4431533/beginer-programer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17963, "favorite_count": 0, "closed_date": 1527155158, "answer_count": 2, "score": 2, "last_activity_date": 1527082133, "creation_date": 1527077600, "question_id": 50488127, "link": "https://stackoverflow.com/questions/50488127/how-to-refresh-one-component-from-another-component-real-time", "closed_reason": "Duplicate", "title": "how to refresh one component from another component real time?", "body": "<p>Hi i have two components A&amp;B. In A i am having a drop down which contains car models.In B i am having one more drop down contain model year.If I am selecting a car from drop down A the available year associated with that selected car will display.All are working fine but Iam facing one issue that from B if i am changing any particular year A component not refreshing immediately .After page reload only am getting the new values.How i can solve this. Ngonint() call is not a good way because i am having enough methods inside that?please help</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2565, "user_id": 1449525, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ex7eJ.png?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1449525/patrick"}, "edited": false, "score": 0, "creation_date": 1568304189, "post_id": 50488178, "comment_id": 102240795, "body": "This is the perfect usecase for <code>npx</code> as in <code>npx typings install file:typings&#47;custom&#47;window.d.ts --save --global</code> so you don&#39;t have to install and maintain version of the typings library locally"}, {"owner": {"reputation": 589, "user_id": 5748383, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-4GG1t-TZN2Y/AAAAAAAAAAI/AAAAAAAAAKk/GD2_xyc0ywQ/photo.jpg?sz=128", "display_name": "1valdis", "link": "https://stackoverflow.com/users/5748383/1valdis"}, "edited": false, "score": 0, "creation_date": 1580210795, "post_id": 50488178, "comment_id": 106015316, "body": "Typescript Definition Manager has been deprecated. Any updates to the answer?"}], "tags": [], "owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "is_accepted": true, "score": 7, "last_activity_date": 1551863096, "last_edit_date": 1551863096, "creation_date": 1527077746, "answer_id": 50488178, "question_id": 50488121, "link": "https://stackoverflow.com/questions/50488121/typescript-add-functions-to-window-with-d-ts-file/50488178#50488178", "title": "Typescript: Add functions to &quot;window&quot; with &quot;.d.ts&quot; File", "body": "<p>I found it further down this question: <a href=\"https://stackoverflow.com/a/40698148\">https://stackoverflow.com/a/40698148</a></p>\n\n<pre><code>interface Window {\n  MyNamespace: any;\n}\n</code></pre>\n\n<blockquote>\n  <p>Full answer:</p>\n</blockquote>\n\n<p>Here's how to do it, if you're using <a href=\"https://github.com/typings/typings\" rel=\"noreferrer\">TypeScript Definition Manager</a><em>!</em></p>\n\n<pre><code>npm install typings --global\n</code></pre>\n\n<p>Create <code>typings/custom/window.d.ts</code>:</p>\n\n<pre><code>interface Window {\n  MyNamespace: any;\n}\n\ndeclare var window: Window;\n</code></pre>\n\n<p>Install your custom typing:  </p>\n\n<pre><code>typings install file:typings/custom/window.d.ts --save --global\n</code></pre>\n\n<p>Done, use it&zwnj;<em>!</em> Typescript won't complain anymore:</p>\n\n<pre><code>window.MyNamespace = window.MyNamespace || {};\n</code></pre>\n"}], "owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8810, "favorite_count": 0, "accepted_answer_id": 50488178, "answer_count": 1, "score": 6, "last_activity_date": 1551863096, "creation_date": 1527077588, "question_id": 50488121, "link": "https://stackoverflow.com/questions/50488121/typescript-add-functions-to-window-with-d-ts-file", "title": "Typescript: Add functions to &quot;window&quot; with &quot;.d.ts&quot; File", "body": "<p>I'm having a legacy *.js application and want to port parts of it to typescript.</p>\n\n<p>So far I found @types definitions for most of the used packages, but there is a global function added to the window object.</p>\n\n<p>I was able to fix the compilation error by addind this at the beginning of the *.ts File:</p>\n\n<pre><code>declare global {\n    interface Window {\n        openConformationModal?: any;\n    }\n}\n</code></pre>\n\n<p>Now obv I don't want to include this in all my *.ts so I wanted to added it to a *.d.ts file so it is recogniced in all packages.</p>\n\n<p>The problem is, that if I add the same file to a e.g. window.d.ts file, it isn't recogniced. I know that the types in the folder are found because I a added it with   </p>\n\n<pre><code> {\n  ...,\n  \"compilerOptions\": {\n    ....\n    \"typeRoots\": [\n      \"FFOLDERPATH_TO_D_TS_FILE\"\n    ]\n  }\n}\n</code></pre>\n\n<p>and there is another *.d.ts which is found. </p>\n\n<p>PS: Solution is based on <a href=\"https://stackoverflow.com/questions/12709074/how-do-you-explicitly-set-a-new-property-on-window-in-typescript?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">How do you explicitly set a new property on `window` in TypeScript?</a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 859, "user_id": 6306846, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c6e70920c02ac572596f869da7941921?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/6306846/santhosh"}, "edited": false, "score": 0, "creation_date": 1527077598, "post_id": 50488099, "comment_id": 87988977, "body": "Thanks @Tomas, will try and let you know"}, {"owner": {"reputation": 859, "user_id": 6306846, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c6e70920c02ac572596f869da7941921?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/6306846/santhosh"}, "edited": false, "score": 0, "creation_date": 1527077720, "post_id": 50488099, "comment_id": 87989049, "body": "it is throwing below error  core.js:1440 ERROR TypeError: this.validator is not a function     at FormControl.AbstractControl._runValidator (forms.js:3433)     at FormControl.AbstractControl.updateValueAndValidity (forms.js:3387)     at new FormControl (forms.js:3905)     at FormBuilder.control (forms.js:7905)     at FormBuilder._createControl (forms.js:7971)     at eval (forms.js:7947)     at Array.forEach (&lt;anonymous&gt;)     at FormBuilder._reduceControls (forms.js:7946)     at FormBuilder.group (forms.js:7867)     at AddStaffComponent.addStaffsGroup (add-staff.component.ts:129)"}, {"owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "edited": false, "score": 0, "creation_date": 1527078324, "post_id": 50488099, "comment_id": 87989474, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/3746725/create-a-javascript-array-containing-1-n?page=1&amp;tab=votes#tab-top\">Create a JavaScript array containing 1\u2026N</a>, where our friend Tomas found his answer : &gt;"}], "tags": [], "owner": {"reputation": 85, "user_id": 8471232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9db656ddfcae6a2d667e8b11759406?s=128&d=identicon&r=PG&f=1", "display_name": "Tom&#225;\u0161 \u0160ediv&#253;", "link": "https://stackoverflow.com/users/8471232/tom%c3%a1%c5%a1-%c5%a0ediv%c3%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1527077512, "creation_date": 1527077512, "answer_id": 50488099, "question_id": 50488032, "link": "https://stackoverflow.com/questions/50488032/angular-controls-generating-array-from-number/50488099#50488099", "title": "Angular Controls/ generating array from number", "body": "<pre><code>Array.apply(null, {length: N}).map(Number.call, Number)\n</code></pre>\n"}], "owner": {"reputation": 859, "user_id": 6306846, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c6e70920c02ac572596f869da7941921?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/6306846/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527078930, "creation_date": 1527077324, "last_edit_date": 1527078930, "question_id": 50488032, "link": "https://stackoverflow.com/questions/50488032/angular-controls-generating-array-from-number", "title": "Angular Controls/ generating array from number", "body": "<p>I have a number in my application value is 6, </p>\n\n<p>by using this value i have to create an array of [1, 2, 3, 4, 5, 6] using javascript/typescript</p>\n\n<p>i have tried this in my application</p>\n\n<pre><code> this.builder.group({\n          'staff': this.builder.group({\n          staff: [false],\n          id: [this.staffData[i].users[j].id],\n          labelName: [this.staffData[i].users[j].name],\n          controlname: ['staff'],\n          cssclass: ['error'],\n          checked: [false],\n          customcss: ['test1'],\n          dayid: this.selectedDay,\n          number: Array(this.appointmentsData.numberofSlots).fill().map((x,i) =&gt; i)})\n})\n</code></pre>\n\n<p>but i am  getting  number as 0 in browser console.\nin VSCode also it is showing excepted 1-3 arguments but got 0 (i think it is for fill() method as i am passing 0 values , but i am unable to understand what to pass for fill() arguments)  please help me</p>\n"}, {"tags": ["angular", "typescript", "docker"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 1, "creation_date": 1527075763, "post_id": 50487460, "comment_id": 87987676, "body": "Change the ^2.7.2 to ~2.7.2 then npm install."}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1527076219, "post_id": 50487460, "comment_id": 87987991, "body": "@rrd ty that worked"}, {"owner": {"reputation": 2129, "user_id": 562278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0758d0aac19dbcfe914e60ae1b8ade07?s=128&d=identicon&r=PG", "display_name": "jgosar", "link": "https://stackoverflow.com/users/562278/jgosar"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1530166209, "post_id": 50487460, "comment_id": 89140464, "body": "@rrd Thank you, this should be marked as the correct answer."}], "answers": [{"tags": [], "owner": {"reputation": 5988, "user_id": 5765795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Zy5lF.png?s=128&g=1", "display_name": "Sangwin Gawande", "link": "https://stackoverflow.com/users/5765795/sangwin-gawande"}, "is_accepted": true, "score": 2, "last_activity_date": 1527076398, "last_edit_date": 1527076398, "creation_date": 1527075975, "answer_id": 50487591, "question_id": 50487460, "link": "https://stackoverflow.com/questions/50487460/angular-6-docker-build-error-in-the-angular-compiler-requires-typescript-2-7/50487591#50487591", "title": "Angular 6 Docker Build - ERROR in The Angular Compiler requires TypeScript &gt;=2.7.2 and &lt;2.8.0 but 2.8.3 was found instead", "body": "<p>Angular 6 Needs TypeScript version between 2.7.2 and 2.8.0.</p>\n\n<p>That is why its throwing error.</p>\n\n<p>Run following command to fix :</p>\n\n<pre><code>npm install typescript@2.7.2\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<p>You can change it in <code>package.json</code> like following and run <code>npm install</code> again.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CxpRg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CxpRg.png\" alt=\"Typescript Version\"></a></p>\n"}], "owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1790, "favorite_count": 0, "accepted_answer_id": 50487591, "answer_count": 1, "score": 0, "last_activity_date": 1527076398, "creation_date": 1527075535, "question_id": 50487460, "link": "https://stackoverflow.com/questions/50487460/angular-6-docker-build-error-in-the-angular-compiler-requires-typescript-2-7", "title": "Angular 6 Docker Build - ERROR in The Angular Compiler requires TypeScript &gt;=2.7.2 and &lt;2.8.0 but 2.8.3 was found instead", "body": "<p>I am creating a docker image for my angular project.</p>\n\n<p>In the package.json it referrs to <code>\"typescript\": \"^2.7.2\"</code></p>\n\n<p>I run <code>docker build -t demo:production .</code> and get the following error:</p>\n\n<pre><code>ERROR in The Angular Compiler requires TypeScript &gt;=2.7.2 and &lt;2.8.0 but 2.8.3 was found instead.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! demo@0.0.0 build: `ng build \"--configuration\" \"production\"`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the demo@0.0.0 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-05-23T11_16_37_049Z-debug.log\n</code></pre>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"demo\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^6.0.0\",\n    \"@angular/cdk\": \"^6.0.0\",\n    \"@angular/common\": \"^6.0.0\",\n    \"@angular/compiler\": \"^6.0.0\",\n    \"@angular/core\": \"^6.0.0\",\n    \"@angular/flex-layout\": \"^6.0.0-beta.15\",\n    \"@angular/forms\": \"^6.0.0\",\n    \"@angular/http\": \"^6.0.0\",\n    \"@angular/material\": \"^6.0.0\",\n    \"@angular/platform-browser\": \"^6.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^6.0.0\",\n    \"@angular/router\": \"^6.0.0\",\n    \"@auth0/angular-jwt\": \"^2.0.0\",\n    \"@types/chartjs\": \"0.0.31\",\n    \"@types/googlemaps\": \"^3.30.8\",\n    \"@types/lodash\": \"^4.14.108\",\n    \"auth0-js\": \"^9.5.1\",\n    \"auth0-lock\": \"^11.6.1\",\n    \"chart.js\": \"^2.7.2\",\n    \"chartjs-plugin-annotation\": \"^0.5.7\",\n    \"chartjs-plugin-datalabels\": \"^0.3.0\",\n    \"core-js\": \"^2.5.5\",\n    \"d3\": \"^5.1.0\",\n    \"font-awesome\": \"^4.7.0\",\n    \"hammerjs\": \"^2.0.8\",\n    \"json-formatter-js\": \"^2.2.0\",\n    \"lodash\": \"^4.17.10\",\n    \"lodash-es\": \"^4.17.10\",\n    \"moment\": \"^2.22.1\",\n    \"npm\": \"^6.0.0\",\n    \"progressbar.js\": \"^1.0.1\",\n    \"rxjs\": \"^6.1.0\",\n    \"rxjs-compat\": \"^6.1.0\",\n    \"ua-parser-js\": \"^0.7.18\",\n    \"wordcloud\": \"^1.1.0\",\n    \"zone.js\": \"^0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.6.0\",\n    \"@angular/cli\": \"^6.0.0\",\n    \"@angular/compiler-cli\": \"^6.0.0\",\n    \"@angular/language-service\": \"^6.0.0\",\n    \"@types/d3\": \"^5.0.0\",\n    \"@types/jasmine\": \"~2.8.7\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/lodash-es\": \"^4.17.0\",\n    \"@types/node\": \"^10.0.4\",\n    \"codelyzer\": \"^4.3.0\",\n    \"eslint\": \"^4.19.1\",\n    \"jasmine-core\": \"~3.1.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.2\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"^1.4.2\",\n    \"karma-jasmine\": \"~1.1.2\",\n    \"karma-jasmine-html-reporter\": \"^1.0.0\",\n    \"protractor\": \"~5.3.1\",\n    \"source-map-explorer\": \"^1.5.0\",\n    \"ts-node\": \"~6.0.3\",\n    \"tslint\": \"~5.10.0\",\n    \"typescript\": \"^2.7.2\"\n  }\n}\n</code></pre>\n\n<p><strong>DockerFile</strong></p>\n\n<pre><code># Stage 0 - Pre-requisite: Based On Node.js to build and compile Demo Angular App.\n\nFROM node:8.11.2 as node\n\nWORKDIR /app\n\nCOPY package.json /app/\n\nRUN npm install\n\nCOPY ./ /app/\n\nARG env=production\n\nRUN npm run build -- --configuration $env\n\n# Stage 1 - Based On Nginx to have a compiled and production ready build.\n\nFROM nginx:1.14\n\nCOPY --from=node /app/dist/ /usr/share/nginx/html\n\nCOPY ./nginx-custom.conf /etc/nginx/conf.d/default.conf\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "edited": false, "score": 0, "creation_date": 1527081961, "post_id": 50487329, "comment_id": 87992065, "body": "That&#39;s the wrong way to go. Service should just return promise. And in component you just use .then"}, {"owner": {"reputation": 1160, "user_id": 4528053, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-Pm0atpEuc7c/AAAAAAAAAAI/AAAAAAAAAGo/fxFj45l6wdQ/photo.jpg?sz=128", "display_name": "onmyway", "link": "https://stackoverflow.com/users/4528053/onmyway"}, "reply_to_user": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "edited": false, "score": 0, "creation_date": 1527481626, "post_id": 50487329, "comment_id": 88128767, "body": "Hi Petr Averyanov I want to do a callback once the loader has reached 100%. It is not a data call. We also do not use $q or those services. This is something I can do with an eventEmmiter, but I prefer to keep the $rootScope clean. I hope this makes sense."}, {"owner": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "edited": false, "score": 0, "creation_date": 1527504200, "post_id": 50487329, "comment_id": 88139198, "body": "This is one of angular patterns -- transforming any async code into angular promise using $q service. Data call or whatever doesnt matter."}, {"owner": {"reputation": 1160, "user_id": 4528053, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-Pm0atpEuc7c/AAAAAAAAAAI/AAAAAAAAAGo/fxFj45l6wdQ/photo.jpg?sz=128", "display_name": "onmyway", "link": "https://stackoverflow.com/users/4528053/onmyway"}, "reply_to_user": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "edited": false, "score": 0, "creation_date": 1527569402, "post_id": 50487329, "comment_id": 88162112, "body": "Hi @Petr Averyanov I will post my solution now. It is quite simple."}], "answers": [{"tags": [], "owner": {"reputation": 1160, "user_id": 4528053, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-Pm0atpEuc7c/AAAAAAAAAAI/AAAAAAAAAGo/fxFj45l6wdQ/photo.jpg?sz=128", "display_name": "onmyway", "link": "https://stackoverflow.com/users/4528053/onmyway"}, "is_accepted": true, "score": 0, "last_activity_date": 1527571843, "creation_date": 1527571843, "answer_id": 50576897, "question_id": 50487329, "link": "https://stackoverflow.com/questions/50487329/register-a-callback-function-in-a-service-that-gets-called-when-the-service-trig/50576897#50576897", "title": "Register a callback function in a service that gets called when the service trigger the callback in AngularJs with TypeScript", "body": "<p>In my service I have the following code:</p>\n\n<p><strong>In the Service:</strong></p>\n\n<pre><code>// declare an array that will hold all my callback functions to be called after the loader has completed\nprivate _callbacks = [];\n\n// The method that will be called from the Controller to push the callback method into the _callbacks array\npublic listenLoadedComplete(callback: Function) {\n    this._callbacks.push(callback);\n}\n\n// In the actual loader method set the isLoaded variable to true and call the loadingComplete method\nthis.isLoaderLoaded = true;\nthis.loadingComplete();\n\n// The loadingCompleted method executes each registered method in the _callback array\npublic loadingComplete(): boolean {\n    if (this.isLoaderLoaded === true) {\n        for (let cb of this._callbacks) {\n            cb();\n        }\n        return true\n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p><strong>In the Controller:</strong></p>\n\n<pre><code>// Call the listenForLoadCompletion method\nthis.listenForLoadCompletion();\n\n// Register the callback function in the _callback array in the Service\n// After the service has completed and called the method loadingComplete, the callback will be called\npublic listenForLoadCompletion(): void {\n    this._progressBarService.listenLoadedComplete(() =&gt; {\n        this._scope.loaderHasLoaded = true;\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1160, "user_id": 4528053, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-Pm0atpEuc7c/AAAAAAAAAAI/AAAAAAAAAGo/fxFj45l6wdQ/photo.jpg?sz=128", "display_name": "onmyway", "link": "https://stackoverflow.com/users/4528053/onmyway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 50576897, "answer_count": 1, "score": 0, "last_activity_date": 1527571843, "creation_date": 1527075122, "question_id": 50487329, "link": "https://stackoverflow.com/questions/50487329/register-a-callback-function-in-a-service-that-gets-called-when-the-service-trig", "title": "Register a callback function in a service that gets called when the service trigger the callback in AngularJs with TypeScript", "body": "<p>How can I register/subscribe to a <code>callback method</code> from an <code>AngularJs</code> <code>controller</code> to an <code>AngularJs</code> <code>service</code>?</p>\n\n<p>I want to set a <code>$scope.property</code> value when my '<strong>loader</strong>' running in my service has reached 100%.</p>\n\n<p>I want to return a <code>Boolean</code>, of <code>true</code> to my <code>controller</code> from my <code>service</code>. </p>\n\n<p><strong>I had something like the following in mind:</strong>\nCreate a <code>method</code> in my <code>controller</code> that gets registered in my <code>service</code>, that gets called when my loader has reached 100% in my <code>service</code>. I am just not sure whether I am on the right track, and how to fill in the missing pieces.</p>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>this._scope.loaderHasLoaded = this._progressBarService.loaderHasCompleted.push(function done(): boolean{})\n</code></pre>\n\n<p><strong>Service:</strong></p>\n\n<pre><code>public loadingComplete():boolean{  \n   if (this.isLoaderLoaded === true)   {  \n      return true\n   }   else   {  \n      return false;\n   }\n}\n\n// some missing functionality\n\npublic loaderHasCompleted =[];\n</code></pre>\n\n<p>Your help will be greatly appreciated!</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "is_accepted": false, "score": 0, "last_activity_date": 1527073575, "creation_date": 1527073575, "answer_id": 50486813, "question_id": 50486754, "link": "https://stackoverflow.com/questions/50486754/add-values-of-n-number-of-arrays/50486813#50486813", "title": "Add values of n number of arrays", "body": "<p>You can use <code>array#reduce</code> with <code>array#forEach</code>. Iterate over your array, for each array inside the array, sum its value in a new array and add the other arrays to result based on the index.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var values = [[23,45,12,67],[26,35,65,23],[45,73,12,54],[32,45,65,86]],\r\n    result = values.reduce((r,a) =&gt; {\r\n      a.forEach((v,i) =&gt; r[i] = (r[i] || 0) + v);\r\n      return r;\r\n    }); \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 26836, "user_id": 1132354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BaAv.png?s=128&g=1", "display_name": "Nikhil Aggarwal", "link": "https://stackoverflow.com/users/1132354/nikhil-aggarwal"}, "edited": false, "score": 0, "creation_date": 1527074316, "post_id": 50486815, "comment_id": 87986764, "body": "Very nice logic"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 4, "last_activity_date": 1527073587, "creation_date": 1527073587, "answer_id": 50486815, "question_id": 50486754, "link": "https://stackoverflow.com/questions/50486754/add-values-of-n-number-of-arrays/50486815#50486815", "title": "Add values of n number of arrays", "body": "<p>Right, you could map the sum of single values, but you need to reduce the arrays as well.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var values = [[23, 45, 12, 67], [26, 35, 65, 23], [45, 73, 12, 54], [32, 45, 65, 86]],\r\n    result = values.reduce((a, b) =&gt; a.map((v, i) =&gt; v + b[i]));\r\n    \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "is_accepted": false, "score": 0, "last_activity_date": 1527074091, "creation_date": 1527074091, "answer_id": 50486986, "question_id": 50486754, "link": "https://stackoverflow.com/questions/50486754/add-values-of-n-number-of-arrays/50486986#50486986", "title": "Add values of n number of arrays", "body": "<p>My solution is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const values = [[23,45,12,67],[26,35,65,23],[45,73,12,54],[32,45,65,86]];\r\n\r\nconst res = values.reduce((curr, next) =&gt; {\r\n\r\n  let length = curr.length;\r\n  for(let i = 0; i &lt; length; i++) {\r\n    curr[i] += next[i]\r\n  }\r\n  return curr;\r\n});\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 170, "user_id": 6826215, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-abbU47r4tA0/AAAAAAAAAAI/AAAAAAAAABA/sWTOBanDlwY/photo.jpg?sz=128", "display_name": "Abhishek Pandey", "link": "https://stackoverflow.com/users/6826215/abhishek-pandey"}, "is_accepted": false, "score": 0, "last_activity_date": 1527074093, "creation_date": 1527074093, "answer_id": 50486989, "question_id": 50486754, "link": "https://stackoverflow.com/questions/50486754/add-values-of-n-number-of-arrays/50486989#50486989", "title": "Add values of n number of arrays", "body": "<p>Your code some what like this,</p>\n\n<pre><code>var sum;\nvar values = [[23,45,12,67],[26,35,65,23],[45,73,12,54],[32,45,65,86]];\nvalues.forEach(myFunction);\n\nfunction myFunction(item, index) {\n     item..forEach(ArraySum)\n}\n\nfunction ArraySum(item, index) {\n     sum=sum+item;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15129, "user_id": 1932552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4032e830e15235362af1988e2fccfdf3?s=128&d=identicon&r=PG", "display_name": "Yosvel Quintero Arguelles", "link": "https://stackoverflow.com/users/1932552/yosvel-quintero-arguelles"}, "is_accepted": false, "score": 0, "last_activity_date": 1527075830, "last_edit_date": 1527075830, "creation_date": 1527075514, "answer_id": 50487452, "question_id": 50486754, "link": "https://stackoverflow.com/questions/50486754/add-values-of-n-number-of-arrays/50487452#50487452", "title": "Add values of n number of arrays", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">Array.prototype.map()</a> combined with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">Array.prototype.reduce()</a></p>\n\n<p>Code example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const values = [[23, 45, 12, 67], [26, 35, 65, 23], [45, 73, 12, 54], [32, 45, 65, 86]];\r\nconst result = values.map((v, index, array) =&gt; v.reduce((a, c, i) =&gt; a + array[i][index], 0));\r\n    \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 680, "user_id": 8683750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SbuQwQCQOYU/AAAAAAAAAAI/AAAAAAAAA_M/A9PlCMWgm2Y/photo.jpg?sz=128", "display_name": "Yash Jain", "link": "https://stackoverflow.com/users/8683750/yash-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 50486815, "answer_count": 5, "score": 1, "last_activity_date": 1527075830, "creation_date": 1527073405, "question_id": 50486754, "link": "https://stackoverflow.com/questions/50486754/add-values-of-n-number-of-arrays", "title": "Add values of n number of arrays", "body": "<p>I have an array of arrays containing values, it looks something like this</p>\n\n<pre><code>var values = [[23,45,12,67],[26,35,65,23],[45,73,12,54],[32,45,65,86]];\n</code></pre>\n\n<p>I want to add all the arrays present inside <code>values</code> variable such like </p>\n\n<pre><code>sum = [126,198,154,230]\n</code></pre>\n\n<p>126 = 23+26+45+32</p>\n\n<p>198 = 45+35+73+45</p>\n\n<p>I tried this using <code>Array.prototype.map()</code> but maybe I am not getting the perfect logic to do that so needed help here. How to add the values of n arrays.</p>\n"}, {"tags": ["javascript", "typescript", "asp.net-core", "controller", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 11, "user_id": 5884048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b68dc3c7a7f01b2919a38887135d3b?s=128&d=identicon&r=PG&f=1", "display_name": "mcc20", "link": "https://stackoverflow.com/users/5884048/mcc20"}, "edited": false, "score": 0, "creation_date": 1527073181, "post_id": 50486627, "comment_id": 87986039, "body": "I forgot to mention that when I get the resultant JSON.stringify(j) string value and put that into Postman it works perfectly but not in my application, if that helps."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1527074548, "post_id": 50486627, "comment_id": 87986890, "body": "why are you using <code>&quot;&#39;&quot;</code> before <code>JSON.stringify(j)</code> ? when are u getting [&quot;The input was not valid&quot;]. error?"}, {"owner": {"reputation": 11, "user_id": 5884048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b68dc3c7a7f01b2919a38887135d3b?s=128&d=identicon&r=PG&f=1", "display_name": "mcc20", "link": "https://stackoverflow.com/users/5884048/mcc20"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1527074716, "post_id": 50486627, "comment_id": 87987000, "body": "@Niladri well that is how I have used it for other simple objects and it works. If you are using [FromBody] string in your API and not a model then that is the way to do it..apparently"}, {"owner": {"reputation": 11, "user_id": 5884048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b68dc3c7a7f01b2919a38887135d3b?s=128&d=identicon&r=PG&f=1", "display_name": "mcc20", "link": "https://stackoverflow.com/users/5884048/mcc20"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1527074907, "post_id": 50486627, "comment_id": 87987140, "body": "@Niladri I am certain the issue is to do with me trying to pass a string which looks like json to my API that is causing the problem but I don&#39;t know how to fix it. The fields being:  j.user_filter = JSON.stringify(object.user_filter); j.user_test_filter = JSON.stringify(object.user_test_filter);  If I replace with just say:  j.user_filter = &quot;TEST 1&quot;; j.user_test_filter = TEST 2&quot;;  It works??"}, {"owner": {"reputation": 11, "user_id": 5884048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b68dc3c7a7f01b2919a38887135d3b?s=128&d=identicon&r=PG&f=1", "display_name": "mcc20", "link": "https://stackoverflow.com/users/5884048/mcc20"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1527076127, "post_id": 50486627, "comment_id": 87987927, "body": "I didn&#39;t mention that the objects that I am trying to use JSON.stringify against are arrays?"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1527078458, "post_id": 50486627, "comment_id": 87989566, "body": "JSON.stringify(j) returns a string itself not sure why are you adding a single quote before"}, {"owner": {"reputation": 11, "user_id": 5884048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b68dc3c7a7f01b2919a38887135d3b?s=128&d=identicon&r=PG&f=1", "display_name": "mcc20", "link": "https://stackoverflow.com/users/5884048/mcc20"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1527078753, "post_id": 50486627, "comment_id": 87989804, "body": "@Niladri I require those or else I will get a 500 error. Don&#39;t forget I am passing raw json if I don&#39;t put those then null value will be passed to the controller."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5884048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b68dc3c7a7f01b2919a38887135d3b?s=128&d=identicon&r=PG&f=1", "display_name": "mcc20", "link": "https://stackoverflow.com/users/5884048/mcc20"}, "is_accepted": false, "score": 0, "last_activity_date": 1527090707, "creation_date": 1527090707, "answer_id": 50492711, "question_id": 50486627, "link": "https://stackoverflow.com/questions/50486627/net-core-web-api-not-accepting-a-json-string-field-value/50492711#50492711", "title": ".Net Core Web API not accepting a json string field value", "body": "<p>Ok after messing about with this for a long time, I came up with this 'solution'.</p>\n\n<p>So as @Niladri pointed out the \"'\" before JSON.stringify(j) was a factor but was not the only thing that needed to be changed. The main problem was actually in the controller itself.</p>\n\n<p>I had this previously in my controller:</p>\n\n<pre><code>        public async Task&lt;string&gt; UpdateProfileSettings(int id,[FromBody] string obj)\n    {\n\n        HttpClient clientRoute = new HttpClient();\n\n        var response = await clientRoute.PutAsync(\"https://something.com/api/UserSettings/put/\" + id, new StringContent(obj, Encoding.UTF8, \"application/json\"));\n        var contents = await response.Content.ReadAsStringAsync();\n\n        return contents;\n    }\n</code></pre>\n\n<p>But I had to change it to:</p>\n\n<pre><code>       public async Task&lt;string&gt; UpdateProfileSettings(int id,[FromBody] object obj)\n    {\n\n        HttpClient clientRoute = new HttpClient();\n\n        var response = await clientRoute.PutAsync(\"https://something.com/api/UserSettings/put/\" + id, new StringContent(obj.ToString(), Encoding.UTF8, \"application/json\"));\n        var contents = await response.Content.ReadAsStringAsync();\n\n        return contents;\n    }\n</code></pre>\n\n<p>Notice the change of <code>[FromBody] string obj</code> to <code>[FromBody] object obj</code> and also\nchanged <code>StringContent(obj, Encoding.UTF8, \"application/json\"))</code> to <code>StringContent(obj.ToString(), Encoding.UTF8, \"application/json\"))</code></p>\n\n<p>My previous method with \"'\" before JSON.stringify(j) works if your controller [FromBody] is of string type and you aren't looking to pump a string which looks like JSON into your controller.</p>\n\n<p>I apologise if this is a bad explanation but tried my best and it worked for me </p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 1426629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2eba976f01e988613720f6d56f64ba0?s=128&d=identicon&r=PG", "display_name": "Carl Cook", "link": "https://stackoverflow.com/users/1426629/carl-cook"}, "is_accepted": false, "score": 0, "last_activity_date": 1533668832, "last_edit_date": 1533668832, "creation_date": 1533659060, "answer_id": 51731413, "question_id": 50486627, "link": "https://stackoverflow.com/questions/50486627/net-core-web-api-not-accepting-a-json-string-field-value/51731413#51731413", "title": ".Net Core Web API not accepting a json string field value", "body": "<p>This is very similar to mcc20's own fix, but I didn't get that code to work. The 2.1 framework has Issues <a href=\"https://github.com/aspnet/Mvc/issues/7609\" rel=\"nofollow noreferrer\">https://github.com/aspnet/Mvc/issues/7609</a> and <a href=\"https://github.com/aspnet/Mvc/issues/7799\" rel=\"nofollow noreferrer\">https://github.com/aspnet/Mvc/issues/7799</a>. I got this JSON post to complex class working in 2.1: client javascript is unchanged:</p>\n\n<pre><code>var payload = JSON.stringify({ \"name\": document.getElementById('firstname').value, \"email\": document.getElementById('email').value, \"captcha\": grecaptcha.getResponse() });\nvar oReq = new XMLHttpRequest();\noReq.ContentType = \"application/json\";\n\noReq.onreadystatechange = function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n\n        document.getElementById(\"update\").innerHTML = this.responseText;\n    }\n    else document.getElementById(\"update\").innerHTML = \"not 4&amp;200! : \" + this.responseText;\n};\n\noReq.open('POST', 'api/u');\noReq.send(payload);\n</code></pre>\n\n<p>and the controller has:</p>\n\n<pre><code>[Route(\"api/[controller]\")]\n//  [ApiController] // works either way\npublic class UController : ControllerBase\n{\n    [HttpPost]\n    public async Task&lt;string&gt; signUp()\n    {\n        String body;\n        using (StreamReader reader = new StreamReader(Request.Body, Encoding.UTF8))\n        {\n            body = await reader.ReadToEndAsync();\n        }\n\n        UserSignup user = JsonConvert.DeserializeObject&lt;UserSignup&gt;(body);\n\n        return user.email;\n    }\n}\n</code></pre>\n\n<p>I was trying something like <code>([FromBody] UserSignup user)</code> getting Mvc.SerializableError and \"The input was not valid.\" Soon to be on <a href=\"https://github.com/Hover-Us/\" rel=\"nofollow noreferrer\">https://github.com/Hover-Us/</a> </p>\n"}], "owner": {"reputation": 11, "user_id": 5884048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b68dc3c7a7f01b2919a38887135d3b?s=128&d=identicon&r=PG&f=1", "display_name": "mcc20", "link": "https://stackoverflow.com/users/5884048/mcc20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1842, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1533668832, "creation_date": 1527073030, "last_edit_date": 1527079860, "question_id": 50486627, "link": "https://stackoverflow.com/questions/50486627/net-core-web-api-not-accepting-a-json-string-field-value", "title": ".Net Core Web API not accepting a json string field value", "body": "<p>I have a problem whereby I would like to pass a json string as a field value but I keep getting <code>\"The input was not valid\"</code>. So to be clear I have an object in my front end that I use the below to pass to my API:</p>\n\n<pre><code>let j: Settings = {} as Settings;\nj.user_settings_ID = object.user_settings_ID;\nj.user_ID = object.user_ID;\nj.user_filter = JSON.stringify(object.user_filter);\nj.user_test_filter = JSON.stringify(object.user_test_filter);\n\nfetch('api/Profile/UpdateProfileSettings/?id=' + object.user_settings_ID, {\n    method: 'put',\n    headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n        'Authorization': 'Bearer ' + sessionStorage.getItem('token')\n    },\n    body: \"'\" + JSON.stringify(j) + \"'\",\n}).then(data =&gt; {\n    if (!data.ok) {\n        alert(\"Failed\");\n    }           \n}).catch((ex) =&gt; {\n    alert(\"Failed\");\n});\n</code></pre>\n\n<p>In my API I have:</p>\n\n<pre><code>[HttpPut(\"[action]\")]\npublic async Task&lt;string&gt; UpdateProfileSettings(int id, [FromBody] string obj)\n{\n    HttpClient clientRoute = new HttpClient();\n\n    var response = await clientRoute.PutAsync(\"https://something.com/api/UserSettings/put/\" + id, new StringContent(obj, Encoding.UTF8, \"application/json\"));\n    var contents = await response.Content.ReadAsStringAsync();\n\n    return contents;\n}\n</code></pre>\n\n<p>I don't have a problem when I set the <code>j.user_filter</code> and <code>j.user_test_filter</code> with any normal string, but I would like to put the <code>'jsonified'</code> string as the value for the field, but the Web API doesn't like it for some reason (probably because it isn't seeing it as a string but a json object perhaps)</p>\n\n<p>If someone could help I would be most grateful.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 1, "creation_date": 1527071627, "post_id": 50485944, "comment_id": 87984998, "body": "You wrote <i>&quot;and then registers it with the ModuleRegistry&quot;</i> so I don&#39;t see the problem. What doesn&#39;t work?"}, {"owner": {"reputation": 574, "user_id": 2656421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8a27cef8664dd07145fb80c3191423?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2656421/doug"}, "reply_to_user": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1527071986, "post_id": 50485944, "comment_id": 87985244, "body": "well, it <i>Would</i> register it with the ModuleRegistry if the javascript every got loaded.  The problem is that the .js file is not referenced outside of itself (it references other .js files and injects references to its objects in to them), and so it doesn&#39;t get run.  I&#39;ll edit my Q to be more explicit on that point."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527289537, "post_id": 50485944, "comment_id": 88087637, "body": "Just to be sure, you don&#39;t have the module files (<code>ModuleOne.js</code>, etc.) defined as <code>script</code> tags in your HTML?"}, {"owner": {"reputation": 574, "user_id": 2656421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8a27cef8664dd07145fb80c3191423?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2656421/doug"}, "edited": false, "score": 0, "creation_date": 1527332044, "post_id": 50485944, "comment_id": 88095116, "body": "No - its just an internal module that adds some functionality to the app (if it is there)."}, {"owner": {"reputation": 422, "user_id": 1478876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8925b7513f1d4f96909fd6789b2b4ef2?s=128&d=identicon&r=PG", "display_name": "fluoresce", "link": "https://stackoverflow.com/users/1478876/fluoresce"}, "edited": false, "score": 1, "creation_date": 1527659847, "post_id": 50485944, "comment_id": 88203593, "body": "Maintaining an explicit list of modules used by a particular instance of your application is probably a good idea.    Relying on the presence or absence of a file in the filesystem is asking for hard to track down issues, (as well as weird hacks in most source control flows).  You are still essentially maintaining a list of modules, except that data is stored in the filesystem and your SCM.  The pythonic mantra of Explicit is better than Implicit works well in JS land as well, hence the beauty of typescript."}, {"owner": {"reputation": 3962, "user_id": 3588312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b791363c864e23e00bc9e74a20fea35?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir M", "link": "https://stackoverflow.com/users/3588312/vladimir-m"}, "edited": false, "score": 1, "creation_date": 1527661397, "post_id": 50485944, "comment_id": 88204365, "body": "you can load a js file by dynamically creating script tag element and appending it to the document DOM. With vanilla JS I&#39;ve been doing frameworks around this. But what side effects will it cause to angular magic - no idea. Another question is how to get the folder content. Something (your application server API or web server) should serve you the folder content so that you would be able to iterate over its data."}], "answers": [{"comments": [{"owner": {"reputation": 574, "user_id": 2656421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8a27cef8664dd07145fb80c3191423?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2656421/doug"}, "edited": false, "score": 0, "creation_date": 1527751091, "post_id": 50615372, "comment_id": 88247122, "body": "Would this work on the client?  This is an Angular app, not a Node.js app.  I&#39;m not as familiar with how files and other resources are packed up and shipped to the client with ng serve, so not sure whether there&#39;s a local filesystem-like thing that the client code can access this way..."}], "tags": [], "owner": {"reputation": 906, "user_id": 9871185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u96W4.jpg?s=128&g=1", "display_name": "lucchi", "link": "https://stackoverflow.com/users/9871185/lucchi"}, "is_accepted": false, "score": 4, "last_activity_date": 1527754965, "last_edit_date": 1527754965, "creation_date": 1527729855, "answer_id": 50615372, "question_id": 50485944, "link": "https://stackoverflow.com/questions/50485944/is-there-a-way-to-cause-the-js-engine-to-load-a-js-file-without-explicitly-impo/50615372#50615372", "title": "Is there a way to cause the JS engine to load a .js file without explicitly importing something from it?", "body": "<p>a clever way to cause xx<em>JavaScript</em>xx <a href=\"https://nodejs.org/en/\" rel=\"nofollow noreferrer\">Node.js</a> to execute all the .js files in a directory:</p>\n\n<pre><code>var fs = require('fs')  // node filesystem \nvar path = require('path') // node path \n\nfunction hasJsExtension(item) {\n  return item != 'index.js' &amp;&amp; path.extname(item) === '.js'\n}\n\nfunction pathHere(item) {\n  return path.join('.', item)\n}\n\nfs.readdir('./', function(err, list) {\n  if (err) return err\n  list.filter(hasJsExtension).map(pathHere).forEach(require) // require them all\n})\n</code></pre>\n\n<p>Angular is pretty different, all the more if it is ng serve who checks if your app needs a module, and if so serves the corresponding js file, at any time needed, not at first load time.</p>\n\n<p>In fact your situation reminds me of C++ with header files <strong>Declaration</strong> and cpp files with implementation, maybe you just need a defineAllModules function before initAllModules.</p>\n\n<p>Another way could be considering finding out how to exclude those modules from ng-serve, and include them as scripts in your HTML before the others, they would so be defined (if present and so, served), and called by angular if necesary, the only cavehat is the error in the console if one script tag is not fetched, but your app will work anyway, if it supposed to do so.</p>\n\n<p>But anyway, it would be <strong>declaring</strong>/defining those modules somewhere in ng-serve and also in the HTML.</p>\n\n<p>In <em>your own special case</em>, and not willing to under-evalute ng-serve, but is the total js for your app too heavy to be served at once? (minified and all the ...), since the <em>good-to-go</em> solution may be one of the many tools to build and rebuild your production all.js from your dev js folder at will, or like you said, with a <em>drag&amp;drop</em> in your folder.</p>\n\n<p>Such tool is, again, server-side, but even if you only can push/FTP your javascript, you could use it in your prefered dev environment and just push your new version. To see a list of such tools google '<em>YourDevEnvironment</em> <strong>bundle</strong> javascript'.</p>\n"}, {"tags": [], "owner": {"reputation": 4143, "user_id": 3135151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eGQq.jpg?s=128&g=1", "display_name": "Nour", "link": "https://stackoverflow.com/users/3135151/nour"}, "is_accepted": true, "score": 3, "last_activity_date": 1527806405, "creation_date": 1527806405, "answer_id": 50633768, "question_id": 50485944, "link": "https://stackoverflow.com/questions/50485944/is-there-a-way-to-cause-the-js-engine-to-load-a-js-file-without-explicitly-impo/50633768#50633768", "title": "Is there a way to cause the JS engine to load a .js file without explicitly importing something from it?", "body": "<p>To do more with angular serve and append static js files under specific conditions, you should use <code>webpack</code> so the first option i see here is eject your webpack configuration and after that you can specify what angular should load or not.</p>\n\n<p>With that said, i will give an example:</p>\n\n<p>With <code>angular cli</code> and <code>ng serve</code> any external javascript files you wanna include, you have to put them inside the <code>scripts</code> array in the <code>angular-cli.json</code> file.However you can not control which file should be included and which one not.</p>\n\n<p>By using <code>webpack</code> configuration you can specify all these thing by passing a flag from your terminal to the <code>webpack config</code> file and do all the process right there.</p>\n\n<p>Example:</p>\n\n<pre><code>var env.commandLineParamater, plugins;\nif(env.commandLineParamater == 'production'){\nplugins = [\n        new ScriptsWebpackPlugin({\n      \"name\": \"scripts\",\n      \"sourceMap\": true,\n      \"filename\": \"scripts.bundle.js\",\n      \"scripts\": [\n        \"D:\\\\Tutorial\\\\Angular\\\\demo-project\\\\node_moduels\\\\bootstrap\\\\dist\\\\bootstrap.min.js\",\n        \"D:\\\\Tutorial\\\\Angular\\\\demo-project\\\\node_moduels\\\\jquery\\\\dist\\\\jquery.min.js\"\n      ],\n      \"basePath\": \"D:\\\\Tutorial\\\\Angular\\\\demo-project\"\n    }),\n]}else{\nplugins = [\n        new ScriptsWebpackPlugin({\n      \"name\": \"scripts\",\n      \"sourceMap\": true,\n      \"filename\": \"scripts.bundle.js\",\n      \"scripts\": [\n        \"D:\\\\Tutorial\\\\Angular\\\\demo-project\\\\node_moduels\\\\bootstrap\\\\dist\\\\bootstrap.min.js\"\n      ],\n      \"basePath\": \"D:\\\\Tutorial\\\\Angular\\\\demo-project\"\n    }),\n]\n}\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>module.exports = (env) =&gt; {\n    \"plugins\": plugins,\n    // other webpack configuration\n}\n</code></pre>\n\n<p>The <code>script.js</code> bundle will be loaded before your main app bundle and so you can control what you load when you run <code>npm run start</code> instead of <code>ng-serve</code>.</p>\n\n<p>To Eject your webpack configuration, use <code>ng eject</code>.</p>\n\n<p>Generally speaking, when you need to control some of angular <code>ng-serve</code> working, you should extract your own webpack config and customize it as you want.</p>\n"}], "owner": {"reputation": 574, "user_id": 2656421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8a27cef8664dd07145fb80c3191423?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2656421/doug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 50633768, "answer_count": 2, "score": 7, "last_activity_date": 1527853229, "creation_date": 1527071171, "last_edit_date": 1527853229, "question_id": 50485944, "link": "https://stackoverflow.com/questions/50485944/is-there-a-way-to-cause-the-js-engine-to-load-a-js-file-without-explicitly-impo", "title": "Is there a way to cause the JS engine to load a .js file without explicitly importing something from it?", "body": "<p>Maybe I'm trying to do something silly, but I've got a web application (Angular2+), and I'm trying to build it in an extensible/modular way.  In particular, I've got various, well, modules for lack of a better term, that I'd like to be able to include or not, depending on what kind of deployment is desired.  These modules include various functionality that is implemented via extending base classes.</p>\n\n<p>To simplify things, imagine there is a <code>GenericModuleDefinition</code> class, and there are two modules - <code>ModuleOne.js</code> and <code>ModuleTwo.js</code>.  The first defines a <code>ModuleOneDefinitionClass</code> and instantiate an exported instance <code>ModuleOneDefinition</code>, and then registers it with the <code>ModuleRegistry</code>. The second module does an analogous thing.</p>\n\n<p>(To be clear - it registers the <code>ModuleXXXDefinition</code> object with the <code>ModuleRegistry</code> when the <code>ModuleXXX.js</code> file is run (e.g. because of some other .js file imports one of its exports).  If it is not run, then clearly nothing gets registered - and this is the problem I'm having, as I describe below.)</p>\n\n<p>The <code>ModuleRegistry</code> has some methods that will iterate over all the Modules and call their individual methods.  In this example, there might be a method called <code>ModuleRegistry.initAllModules()</code>, which then calls the <code>initModule()</code> method on each of the registered Modules.</p>\n\n<p>At startup, my application (say, in <code>index.js</code>) calls <code>ModuleRegistry.initAllModules()</code>.  Obviously, because index.js imports the exported <code>ModuleRegistry</code> symbol, this will cause the <code>ModuleRegistry.js</code> code to get pulled in, but since none of the exports from either of the two Module .js files is explicitly referenced, these files will not have been pulled in, and so the <code>ModuleOneDefinition</code> and <code>ModuleTwoDefinition</code> objects will not have been instantiated and registered with the <code>ModuleRegistry</code> - so the call to <code>initAllModules()</code> will be for naught.</p>\n\n<p>Obviously, I could just put meaningless references to each of these <code>ModuleDefinition</code> objects in my <code>index.js</code>, which would force them to be pulled in, so that they were registered by the time I call <code>initAllModules()</code>.  But this requires changes to the <code>index.js</code> file depending on whether I want to deploy it with ModuleTwo or without.  I was hoping to have the mere existence of the <code>ModuleTwo.js</code> be enough to cause the file to get pulled in and the resulting <code>ModuleTwoDefinition</code> to get registered with the <code>ModuleRegistry</code>.</p>\n\n<p>Is there a standard way to handle this kind of situation?  Am I stuck having to edit some global file (either <code>index.js</code> or some other file it references) so that it has information about all the included Modules so that it can then go and load them?  Or is there a clever way to cause JavaScript to execute all the .js files in a directory so that merely copying the files it would be enough to get them to load at startup?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-services", "angular-http"], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 5686420, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ea4517895c9e955ff5bbb410b15fb1c?s=128&d=identicon&r=PG&f=1", "display_name": "HasS", "link": "https://stackoverflow.com/users/5686420/hass"}, "edited": false, "score": 0, "creation_date": 1527074981, "post_id": 50486666, "comment_id": 87987198, "body": "Thank you for your answer, and I understand that the logic on this is clear and correct. But, seems like clearInterval() is not accepted on angular6. Am I correct?"}, {"owner": {"reputation": 201, "user_id": 5686420, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ea4517895c9e955ff5bbb410b15fb1c?s=128&d=identicon&r=PG&f=1", "display_name": "HasS", "link": "https://stackoverflow.com/users/5686420/hass"}, "edited": false, "score": 0, "creation_date": 1527191213, "post_id": 50486666, "comment_id": 88046662, "body": "<code>clearInterval()</code> is still not working and what is worse is that <code>if(this.isCrawlActive)</code> never checks correctly because <code>this.isCrawlactive</code> is undefined for a reason even though i declared <code>isCrawlActive = true;</code>.... Any tip?"}], "tags": [], "owner": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "is_accepted": true, "score": 1, "last_activity_date": 1527233771, "last_edit_date": 1527233771, "creation_date": 1527073122, "answer_id": 50486666, "question_id": 50485599, "link": "https://stackoverflow.com/questions/50485599/delaying-recursive-http-get-request-inside-a-do-while-loop-in-angular-6/50486666#50486666", "title": "Delaying recursive HTTP get request inside a do while loop in Angular 6", "body": "<p>First of all when you are subscribing to a function containing http event, the function must return the stream/http-call</p>\n\n<pre><code>fetchDataApiCall() {\n  return this.http\n    .get&lt;any[]&gt;(this.fetchResultsUrl, this.groupCrawlingResultRestResponse)\n    .pipe(map(data =&gt; data));\n  }\n</code></pre>\n\n<p>After that if you want to delay the response, you must put the delay operator in the pipe, like that.</p>\n\n<pre><code>fetchDataApiCall() {\n  return this.http\n    .get&lt;any[]&gt;(this.fetchResultsUrl, this.groupCrawlingResultRestResponse)\n    .pipe(map(data =&gt; data),\n          delay(3000));\n  }\n</code></pre>\n\n<h2>UPDATE</h2>\n\n<p>As the comments before the update says there is some trouble with the clear interval, so here is 100% tested solution for the case. The in the first block of code there is the polling logic, pretty much as long the <code>isActive</code> property is true, each 500 ms new request will be called.</p>\n\n<p>The second block of code is the service that simulates the requests.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class ChildOne {\r\n  longReqData;\r\n  shortReqData = [];\r\n\r\n  active = true;\r\n\r\n  constructor(private requester: RequesterService) {}\r\n\r\n  loadData() {\r\n    this.requester.startLongRequest().subscribe(res =&gt; {\r\n      this.longReqData = res;\r\n      console.log(res);\r\n      this.active = false;\r\n    });\r\n\r\n    let interval = Observable.interval(500);\r\n\r\n    let sub = interval.subscribe(() =&gt; {\r\n      this.requester.startShortRequest().subscribe(res =&gt; {\r\n        this.shortReqData.push(res);\r\n        console.log(res);\r\n      });\r\n      if (this.active === false) {\r\n        sub.unsubscribe();\r\n      }\r\n    });\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Injectable()\r\nexport class RequesterService {\r\n  private counter = 0;\r\n  stop() {\r\n    this.subject.next(false);\r\n  }\r\n  startShortRequest() {\r\n    this.counter += 1;\r\n    let data = {\r\n      delay: 0,\r\n      payload: {\r\n        json: this.counter\r\n      }\r\n    };\r\n    return this.mockRequest(data);\r\n  }\r\n\r\n  startLongRequest() {\r\n    let data = {\r\n      delay: 3000,\r\n      payload: {\r\n        json: \"someJSON\"\r\n      }\r\n    };\r\n    return this.mockRequest(data);\r\n  }\r\n  mockRequest(data) {\r\n    return Observable.of(data).pipe(delay(data.delay));\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 201, "user_id": 5686420, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ea4517895c9e955ff5bbb410b15fb1c?s=128&d=identicon&r=PG&f=1", "display_name": "HasS", "link": "https://stackoverflow.com/users/5686420/hass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 0, "accepted_answer_id": 50486666, "answer_count": 1, "score": 1, "last_activity_date": 1527238303, "creation_date": 1527070260, "last_edit_date": 1527238303, "question_id": 50485599, "link": "https://stackoverflow.com/questions/50485599/delaying-recursive-http-get-request-inside-a-do-while-loop-in-angular-6", "title": "Delaying recursive HTTP get request inside a do while loop in Angular 6", "body": "<p>I am consuming an external API recursively while waiting for the completion of another API call. \nThe http calls are made by using <code>import {HttpClient} from '@angular/common/http'</code></p>\n\n<p>I am new to the framework and maybe there is something done wrong in the code but the work-flow is as below: </p>\n\n<p>The first API call is made by this block </p>\n\n<pre><code>initializeCrawling(): void {         \nthis.callCrawlInitializingAPI()       // this method is calling the api\n  .subscribe(\n    restItems =&gt; {\n      this.groupCrawlingRestResponse = restItems;\n      console.log(this.groupCrawlingRestResponse);\n      this.isCrawlActive = false;\n    }\n  )\n\nthis.fetchResults();    // while callCrawlInitializingAPi call executes, this block here must executed on paralel.\n}\n</code></pre>\n\n<p>Now I am declaring a global </p>\n\n<blockquote>\n  <p>boolean</p>\n</blockquote>\n\n<p>variable that will became <code>false</code> when <code>this.callCrawlInitializingAPI()</code> execute finish.</p>\n\n<p>Here is the code for the second API call that must be called recursively.</p>\n\n<pre><code>fetchResults(): void {\nthis.fetchDataApiCall()\n  .subscribe(\n    restItems =&gt; {\n      this.groupCrawlingRestResponse = restItems;\n      console.log(this.groupCrawlingRestResponse);\n    }\n  )\n\n}\n\n\n\nfetchDataApiCall() {\n    do {\n      this.http\n        .get&lt;any[]&gt;(this.fetchResultsUrl, this.groupCrawlingResultRestResponse)\n        .pipe(map(data =&gt; data));\n      console.log(\"Delaying 3000\");\n    } while (this.isCrawlActive);\n  }\n</code></pre>\n\n<p>The Goal here is to delay the do - while loop by lets say 1 second.</p>\n\n<p>I Have try the following:\n1 - imported {delay} from \"rxjs/internal/operators\" and use as above;</p>\n\n<pre><code>do {\n  this.http\n    .get&lt;any[]&gt;(this.fetchResultsUrl, this.groupCrawlingResultRestResponse)\n    .pipe(map(data =&gt; data));\n  console.log(\"Delaying 3000\");\n  delay(3000);\n} while (this.isCrawlActive);\n</code></pre>\n\n<p>2- use setTimeout() function as above:</p>\n\n<pre><code>do {\n setTimeout(function(){\n this.http\n .get&lt;any[]&gt;(this.fetchResultsUrl, this.groupCrawlingResultRestResponse)\n .pipe(map(data =&gt; data));}, 1000)\n } while (this.isCrawlActive)\n</code></pre>\n\n<p>None of them are working and as far as I understand the do while loop is not delayed, and processes a lot of calls as do while continues.</p>\n\n<p>First of all I want to know how to make it work and second if there is a better way on doing this with Angular since I am new to the framework.</p>\n\n<p>Thank you </p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>My question has a correct answer if anyone will search for this in the future.</p>\n\n<p>The only thing that I had to change was this line of code \n<code>clearInterval(intervalHolder.id)</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6", "angular-router"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 9170029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87359f40e09d33805b0a0fb29f88277?s=128&d=identicon&r=PG&f=1", "display_name": "Roee", "link": "https://stackoverflow.com/users/9170029/roee"}, "is_accepted": false, "score": 4, "last_activity_date": 1532296862, "last_edit_date": 1532296862, "creation_date": 1527667760, "answer_id": 50599503, "question_id": 50485433, "link": "https://stackoverflow.com/questions/50485433/how-to-use-angular-6-route-auth-guards-for-all-routes-root-and-child-routes/50599503#50599503", "title": "How to use angular 6 Route Auth Guards for all routes Root and Child Routes?", "body": "<p><a href=\"https://angular.io/guide/router#canactivate-requiring-authentication\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#canactivate-requiring-authentication</a></p>\n\n<p><a href=\"https://angular.io/guide/router#canactivatechild-guarding-child-routes\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#canactivatechild-guarding-child-routes</a></p>\n\n<p>These are really good examples from the Angular.io tutorial \"Tour of Heroes\"\nthat explain really well authentication for root and child routes.</p>\n"}, {"comments": [{"owner": {"reputation": 753, "user_id": 1177842, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/58632a2e1e5f8010ba197d0c75c3bd05?s=128&d=identicon&r=PG", "display_name": "gihankumara", "link": "https://stackoverflow.com/users/1177842/gihankumara"}, "edited": false, "score": 0, "creation_date": 1551072307, "post_id": 52515252, "comment_id": 96490680, "body": "dear kishore , i need to add user role base access. how do it using above example."}], "tags": [], "owner": {"reputation": 1126, "user_id": 4702076, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B6tvU26A6LM/AAAAAAAAAAI/AAAAAAAAAAA/sOSodOAtNbQ/photo.jpg?sz=128", "display_name": "Kishore Kumar", "link": "https://stackoverflow.com/users/4702076/kishore-kumar"}, "is_accepted": true, "score": 66, "last_activity_date": 1553683309, "last_edit_date": 1553683309, "creation_date": 1537956647, "answer_id": 52515252, "question_id": 50485433, "link": "https://stackoverflow.com/questions/50485433/how-to-use-angular-6-route-auth-guards-for-all-routes-root-and-child-routes/52515252#52515252", "title": "How to use angular 6 Route Auth Guards for all routes Root and Child Routes?", "body": "<p>1)  [ Create guard, the file name would be like auth.guard.ts ]</p>\n\n<pre><code>ng generate guard auth  \n\nimport { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from \n'@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport { AuthService } from './auth.service';\nimport {Router} from '@angular/router';\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(private auth: AuthService,\n    private myRoute: Router){\n  }\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n    if(this.auth.isLoggedIn()){\n      return true;\n    }else{\n      this.myRoute.navigate([\"login\"]);\n      return false;\n    }\n  }\n}\n</code></pre>\n\n<p>2)  Create below pages</p>\n\n<pre><code>ng g c login  [Create login page ]\nng g c nav  [Create nav page ]\nng g c home  [Create home page ]\nng g c registration  [Create registration page ]\n</code></pre>\n\n<p>3) App.module.ts file add below contents</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { RouterModule,Router,Routes } from '@angular/router';\nimport { ReactiveFormsModule,FormsModule } from '@angular/forms';\nimport { AuthService } from './auth.service';\nimport { AuthGuard } from './auth.guard';\n\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login/login.component';\nimport { NavComponent } from './nav/nav.component';\nimport { HomeComponent } from './home/home.component';\nimport { RegistrationComponent } from './registration/registration.component';\n\nconst myRoots: Routes = [\n  { path: '', component: HomeComponent, pathMatch: 'full' , canActivate: \n  [AuthGuard]},\n  { path: 'register', component: RegistrationComponent },\n  { path: 'login', component: LoginComponent},\n  { path: 'home', component: HomeComponent, canActivate: [AuthGuard]}\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    NavComponent,\n    HomeComponent,\n    RegistrationComponent\n  ],\n  imports: [\n    BrowserModule,ReactiveFormsModule,FormsModule,\n    RouterModule.forRoot(\n      myRoots,\n      { enableTracing: true } // &lt;-- debugging purposes only\n    )\n  ],\n  providers: [AuthService,AuthGuard],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>4) Add link in nav.component.html</p>\n\n<pre><code>&lt;p color=\"primary\"&gt;\n  &lt;button  routerLink=\"/home\"&gt;Home&lt;/button&gt;\n  &lt;button  *ngIf=\"!auth.isLoggedIn()\" routerLink=\"/register\"&gt;Register&lt;/button&gt;\n  &lt;button  *ngIf=\"!auth.isLoggedIn()\" routerLink=\"/login\"&gt;Login&lt;/button&gt;\n  &lt;button  *ngIf=\"auth.isLoggedIn()\" (click)=\"auth.logout()\"&gt;Logout&lt;/button&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>4.1)  Add in nav.component.ts file</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\n@Component({\n  selector: 'app-nav',\n  templateUrl: './nav.component.html',\n  styleUrls: ['./nav.component.css']\n})\nexport class NavComponent implements OnInit {\n  constructor(public auth: AuthService) { }\n  ngOnInit() {\n  }\n}\n</code></pre>\n\n<p>5) Create service page Add below code in authservice.ts</p>\n\n<pre><code>ng g service auth \n\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n@Injectable()\nexport class AuthService {\n  constructor(private myRoute: Router) { }\n  sendToken(token: string) {\n    localStorage.setItem(\"LoggedInUser\", token)\n  }\n  getToken() {\n    return localStorage.getItem(\"LoggedInUser\")\n  }\n  isLoggedIn() {\n    return this.getToken() !== null;\n  }\n  logout() {\n    localStorage.removeItem(\"LoggedInUser\");\n    this.myRoute.navigate([\"Login\"]);\n  }\n}\n</code></pre>\n\n<p>6) add content in login.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  form;\n  constructor(private fb: FormBuilder,\n    private myRoute: Router,\n    private auth: AuthService) {\n    this.form = fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n  }\n  login() {\n    if (this.form.valid) {\n      this.auth.sendToken(this.form.value.email)\n      this.myRoute.navigate([\"home\"]);\n    }\n  }\n}\n</code></pre>\n\n<p>6.1)  add in login.component.html page</p>\n\n<pre><code>&lt;form [formGroup]=\"form\" (ngSubmit)=\"login()\"&gt;\n&lt;div&gt;\n&lt;input  type=\"email\" placeholder=\"Email\" formControlName=\"email\" /&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;input  type=\"password\" placeholder=\"Password\" formControlName=\"password\" /&gt;\n&lt;/div&gt;\n&lt;button type=\"submit\" color=\"primary\"&gt;Login&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>7) Add below code in app.component.html</p>\n\n<pre><code>&lt;app-nav&gt;&lt;/app-nav&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n"}], "owner": {"reputation": 3009, "user_id": 6299088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ppGTv.jpg?s=128&g=1", "display_name": "Dinesh Ghule", "link": "https://stackoverflow.com/users/6299088/dinesh-ghule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61188, "favorite_count": 16, "accepted_answer_id": 52515252, "answer_count": 2, "score": 14, "last_activity_date": 1553683309, "creation_date": 1527069879, "last_edit_date": 1540788328, "question_id": 50485433, "link": "https://stackoverflow.com/questions/50485433/how-to-use-angular-6-route-auth-guards-for-all-routes-root-and-child-routes", "title": "How to use angular 6 Route Auth Guards for all routes Root and Child Routes?", "body": "<p><strong>How to use angular 6 Route Auth Guards for all routes Root and Child Routes ?</strong></p>\n"}, {"tags": ["typescript", "angular5", "ngx-charts"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 1672169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b799f2ef340f60122e6f52c17ac9f3b?s=128&d=identicon&r=PG", "display_name": "Michiel", "link": "https://stackoverflow.com/users/1672169/michiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1527075301, "creation_date": 1527075301, "answer_id": 50487392, "question_id": 50485363, "link": "https://stackoverflow.com/questions/50485363/ngx-charts-pie-chart-angular5-library-data-format/50487392#50487392", "title": "ngx-charts-pie-chart angular5 library data format", "body": "<p>Javascript (and I think in effect TypeScript is too) is a prototype language. This means that you are in fact free to override the prototype of <code>onClick</code> with a function you define yourself without having to modify the source code.</p>\n\n<p>That means that it should (probably) work to put the following somewhere in your own sourcecode:</p>\n\n<pre><code>PieGridSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit({\n        name: this.data[0].data.name,\n        value: this.data[0].data.value,\n        id: this.data[0].data.id\n    });\n};\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9709484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc8cf7aaa1304e30cc07cf8557f0c67a?s=128&d=identicon&r=PG&f=1", "display_name": "kdiouri1994", "link": "https://stackoverflow.com/users/9709484/kdiouri1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 390, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527087083, "creation_date": 1527069670, "last_edit_date": 1527087083, "question_id": 50485363, "link": "https://stackoverflow.com/questions/50485363/ngx-charts-pie-chart-angular5-library-data-format", "title": "ngx-charts-pie-chart angular5 library data format", "body": "<p>I'm using the library <code>ngx-charts</code> in my project.</p>\n\n<p>The <code>onSelect</code> method returns an object with two attributes: <code>value</code> and <code>name</code>. Despite the fact that my list of type <code>any[]</code> is a list of objects with three attributes: <code>value</code>, <code>name</code> and <code>id</code>.</p>\n\n<p>In the source code I found that the method only emits the <code>value</code> and <code>name</code> attributes.</p>\n\n<pre><code>PieGridSeriesComponent.prototype.onClick = function (data) {\n        this.select.emit({\n            name: this.data[0].data.name,\n            value: this.data[0].data.value\n        });\n    };\n</code></pre>\n\n<p>Can I modify the source files or is there another way to alter what it returns in the onSelect method with the click event?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1527069096, "post_id": 50485118, "comment_id": 87983292, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/728360/how-do-i-correctly-clone-a-javascript-object\">How do I correctly clone a JavaScript object?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 9662832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf93cf2e6e60f7583a5d9b8bd29c724?s=128&d=identicon&r=PG&f=1", "display_name": "Arun K", "link": "https://stackoverflow.com/users/9662832/arun-k"}, "edited": false, "score": 0, "creation_date": 1527069967, "post_id": 50485346, "comment_id": 87983905, "body": "if i use += 1, rank is changing to 2 for both the records"}, {"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "reply_to_user": {"reputation": 73, "user_id": 9662832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf93cf2e6e60f7583a5d9b8bd29c724?s=128&d=identicon&r=PG&f=1", "display_name": "Arun K", "link": "https://stackoverflow.com/users/9662832/arun-k"}, "edited": false, "score": 0, "creation_date": 1527074270, "post_id": 50485346, "comment_id": 87986727, "body": "@ArunK: If you don&#39;t mind can you construct the result that you&#39;re expecting and include in your question?"}], "tags": [], "owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "is_accepted": false, "score": 0, "last_activity_date": 1527069638, "creation_date": 1527069638, "answer_id": 50485346, "question_id": 50485118, "link": "https://stackoverflow.com/questions/50485118/copy-array-element-modify-and-add-again/50485346#50485346", "title": "Copy array element modify and add again", "body": "<pre><code>setData.forEach(data =&gt; { \n  data.key2.rank += 1;\n});\n</code></pre>\n\n<p>Try to flip your operator from <code>=+</code> to <code>+=</code> instead</p>\n"}, {"tags": [], "owner": {"reputation": 26836, "user_id": 1132354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BaAv.png?s=128&g=1", "display_name": "Nikhil Aggarwal", "link": "https://stackoverflow.com/users/1132354/nikhil-aggarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1527070149, "last_edit_date": 1527070149, "creation_date": 1527069842, "answer_id": 50485417, "question_id": 50485118, "link": "https://stackoverflow.com/questions/50485118/copy-array-element-modify-and-add-again/50485417#50485417", "title": "Copy array element modify and add again", "body": "<p>You can try following</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let newData = [{\"key1\": {\"cc\":'IND' }, \"key2\": {\"rank\": null}}];\r\n\r\n    // Concatenate arrays use spread operator and can use map rather than slice\r\n    let setData = [...newData, ...newData.map(data =&gt; { \r\n        /* Objects are passed by reference, you need to break the reference\r\n         * to create the clone of the object. */\r\n        data = JSON.parse(JSON.stringify(data));\r\n        data.key2.rank =+ 1; \r\n        return data;\r\n    })];\r\n\r\nconsole.log(setData);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 73, "user_id": 9662832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf93cf2e6e60f7583a5d9b8bd29c724?s=128&d=identicon&r=PG&f=1", "display_name": "Arun K", "link": "https://stackoverflow.com/users/9662832/arun-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 50485417, "answer_count": 2, "score": 0, "last_activity_date": 1527070149, "creation_date": 1527068995, "last_edit_date": 1527069224, "question_id": 50485118, "link": "https://stackoverflow.com/questions/50485118/copy-array-element-modify-and-add-again", "title": "Copy array element modify and add again", "body": "<p>Original array is <code>newData</code>. I wanted add one more array element to newData and added array Element should have <code>Rank 1</code>.</p>\n\n<p>Issue is Rank is getting updated to 1 for both the records. Rank should be 1 for second record and 1st record should be <code>null</code></p>\n\n<p>Please tell me what i'm doing wrong here. </p>\n\n<pre><code>let newData = [{\n    \"key1\": {\n        \"cc\":'IND'   \n    },          \n    \"key2\": {\n        \"rank\": null\n    }\n}];\n\nlet setData = newData.concat(newData.slice());\n\nsetData.forEach(data =&gt; { \n    data.key2.rank =+ 1;\n});\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 1002229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1805443316fb2cdce568014427c22b65?s=128&d=identicon&r=PG", "display_name": "Zainu", "link": "https://stackoverflow.com/users/1002229/zainu"}, "edited": false, "score": 0, "creation_date": 1527153730, "post_id": 50484861, "comment_id": 88023252, "body": "It helps. Thanks!"}], "tags": [], "owner": {"reputation": 5804, "user_id": 777510, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/MUpFE.png?s=128&g=1", "display_name": "\u1d18\u1d00\u0274\u1d00\u028f\u026a\u1d0f\u1d1b\u026as", "link": "https://stackoverflow.com/users/777510/%e1%b4%98%e1%b4%80%c9%b4%e1%b4%80%ca%8f%c9%aa%e1%b4%8f%e1%b4%9b%c9%aas"}, "is_accepted": true, "score": 0, "last_activity_date": 1527068226, "creation_date": 1527068226, "answer_id": 50484861, "question_id": 50484530, "link": "https://stackoverflow.com/questions/50484530/indention-align-each-string-row-in-javascript-when-exporting-as-a-txt-file/50484861#50484861", "title": "Indention/align each String row in JavaScript when exporting as a .txt file", "body": "<p>If you can <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">bundle</a>, <a href=\"https://www.npmjs.com/\" rel=\"nofollow noreferrer\">install</a> or copy the <a href=\"https://github.com/substack/text-table/blob/master/index.js\" rel=\"nofollow noreferrer\">code</a> you can use the <code>text-table</code> npm package.</p>\n\n<pre><code>var table = require('text-table');\nvar t = table([\n    [ 'Name ABC', 'Color A', 'Brand XYZ' ],\n    [ 'Name ABCDEF', 'Color SDA', 'Brand ZXXYZ' ],\n    [ 'Name ABCEA', 'Color ADS', 'Brand CVDRXYZ' ]\n], { hsep :' | '});\n\nconsole.log(t);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Name ABC    | Color A   | Brand XYZ\nName ABCDEF | Color SDA | Brand ZXXYZ\nName ABCEA  | Color ADS | Brand CVDRXYZ\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 1002229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1805443316fb2cdce568014427c22b65?s=128&d=identicon&r=PG", "display_name": "Zainu", "link": "https://stackoverflow.com/users/1002229/zainu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 50484861, "answer_count": 1, "score": 1, "last_activity_date": 1527068226, "creation_date": 1527067275, "last_edit_date": 1527067771, "question_id": 50484530, "link": "https://stackoverflow.com/questions/50484530/indention-align-each-string-row-in-javascript-when-exporting-as-a-txt-file", "title": "Indention/align each String row in JavaScript when exporting as a .txt file", "body": "<p>I am using Angular, TypeScript/JavaScript to test this.</p>\n\n<p>I have formatted each row with a new line at the back of the code</p>\n\n<p><code>formattedStr += car.Name + ' | ' + car.Color + ' | ' + car.Brand + '\\r\\n'</code></p>\n\n<p>Then exported it with</p>\n\n<pre><code>const file = new Blob([formattedStr], { type: 'text/plain' });\nsaveAs(file, 'myfilename');\n</code></pre>\n\n<p>Looks like this in .txt file</p>\n\n<pre><code>Name ABC | Color A | Brand XYZ\nName ABCDEF | Color SDA | Brand ZXXYZ\nName ABCEA | Color ADS | Brand CVDRXYZ\n</code></pre>\n\n<p>Now, attempts to format each row to align, expecting something like</p>\n\n<pre><code>Name ABC    | Color A   | Brand XYZ\nName ABCDEF | Color SDA | Brand ZXXYZ\nName ABCEA  | Color ADS | Brand CVDRXYZ\n</code></pre>\n\n<p>Had some trouble in creating Dynamic Indentions based on the longest word in each column. Any suggestions?</p>\n\n<p>I have tested with <code>\\t</code> to create symbol for tab but it creates a fixed indent in every row which makes every row not aligned.</p>\n\n<pre><code>Name ABC  | Color A  | Brand XYZ\nName ABCDEF | Color SDA  | Brand ZXXYZ\nName ABCEA | Color ADS  | Brand CVDRXYZ\n</code></pre>\n"}, {"tags": ["angular", "typescript", "chart.js"], "comments": [{"owner": {"reputation": 1817, "user_id": 9428912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c80843c1952d2228dea4e310470c54?s=128&d=identicon&r=PG&f=1", "display_name": "J.Loscos", "link": "https://stackoverflow.com/users/9428912/j-loscos"}, "edited": false, "score": 0, "creation_date": 1527069118, "post_id": 50484333, "comment_id": 87983304, "body": "It seems that the problem comes from your labels array that is an array of numbers instead of an array of strings"}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 1817, "user_id": 9428912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c80843c1952d2228dea4e310470c54?s=128&d=identicon&r=PG&f=1", "display_name": "J.Loscos", "link": "https://stackoverflow.com/users/9428912/j-loscos"}, "edited": false, "score": 0, "creation_date": 1527070338, "post_id": 50484333, "comment_id": 87984168, "body": "After changing it to strings i still  <code>ERROR in src&#47;app&#47;reports&#47;components&#47;paydate&#47;paydate.component.ts(69,1&zwnj;&#8203;7): error TS2345: Argument of type &#39;{ type: string; data: { labels: string[]; datasets: { fill: true; lineTension: number; pointRadiu...&#39; is not assignable to parameter of type &#39;ChartConfiguration&#39;.</code>"}], "owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2483, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1527584713, "creation_date": 1527066777, "last_edit_date": 1527070609, "question_id": 50484333, "link": "https://stackoverflow.com/questions/50484333/switching-from-types-chartjs-to-types-chart-js", "title": "Switching from @types/chartjs to @types/chart.js", "body": "<p>I have been using the following package <code>https://www.npmjs.com/package/@types/chartjs</code> but it is now deprecated. After switching to <code>https://www.npmjs.com/package/@types/chart.js</code>. I get the following error.</p>\n\n<blockquote>\n  <p>paydate.component.ts(42,45): error TS2345: Argument of type '{ type:\n  string; data: { labels: number[]; datasets: { fill: true; lineTension:\n  number; pointRadiu...' is not assignable to parameter of type\n  'ChartConfiguration'.   Types of property 'data' are incompatible.\n      Type '{ labels: number[]; datasets: { fill: true; lineTension: number; pointRadius: number; borderWidth...' is not assignable to type\n  'ChartData'.\n        Types of property 'labels' are incompatible.\n          Type 'number[]' is not assignable to type '(string | string[])[]'.\n            Type 'number' is not assignable to type 'string | string[]'.</p>\n</blockquote>\n\n<pre><code>import * as Chart from 'chart.js';\n\nconst myChart = new Chart(this.ctx, {\n            type: 'line',\n            data: {\n                labels: labels,\n                datasets: [{\n                    fill: true,\n                    lineTension: 0.5,\n                    pointRadius: 0, // Removes indiviual points/tooltips\n                    borderWidth: 1,\n                    label: 'Monthly Spending',\n                    data: data,\n                    backgroundColor: 'rgb(124,190,235,0.6)',\n                    borderColor: 'rgb(63,81,181)'\n                }]\n            },\n            options: {\n                plugins: {\n                    datalabels: {\n                        display: false,\n                    }\n                },\n                legend: {\n                    display: false\n                },\n                annotation: {\n                    annotations: [\n                        {\n                            type: 'line',\n                            mode: 'vertical',\n                            scaleID: 'x-axis-0',\n                            value: payday,\n                            borderColor: 'red',\n                            borderWidth: 2,\n                            // label: {\n                            //     content: 'TODAY',\n                            //     enabled: true,\n                            //     position: 'top'\n                            // }\n                        }\n                    ]\n                }\n            }\n\n        });\n</code></pre>\n\n<p>What is the problem here?</p>\n\n<p>Update:</p>\n\n<p>After changing label to strings i get.</p>\n\n<pre><code>ERROR in src/app/reports/components/paydate/paydate.component.ts(69,17): error TS2345: Argument of type '{ type: string; data: { labels: string[]; datasets: { fill: true; lineTension: number; pointRadiu...' is not assignable to parameter of type 'ChartConfiguration'.\n  Types of property 'options' are incompatible.\n    Type '{ plugins: { datalabels: { display: boolean; }; }; legend: { display: false; }; annotation: { ann...' is not assignable to type 'ChartOptions'.\n      Object literal may only specify known properties, but 'annotation' does not exist in type 'ChartOptions'. Did you mean to write 'rotation'?\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4066, "user_id": 2270185, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3b15ea1ae8bec574d3506752e7fd4d9d?s=128&d=identicon&r=PG", "display_name": "Nuru Salihu", "link": "https://stackoverflow.com/users/2270185/nuru-salihu"}, "edited": false, "score": 0, "creation_date": 1527066772, "post_id": 50484285, "comment_id": 87981644, "body": "So whats the problem ?"}, {"owner": {"reputation": 28133, "user_id": 2065039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7wqQg.jpg?s=128&g=1", "display_name": "Guruprasad J Rao", "link": "https://stackoverflow.com/users/2065039/guruprasad-j-rao"}, "edited": false, "score": 0, "creation_date": 1527066815, "post_id": 50484285, "comment_id": 87981684, "body": "I suggest you to use your spinner service generally instead of using it in specific component. Try getting the spinner reference in service you want to call it instead of component."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 6071651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/feaae4a4a23620223cba9e7e88f9ff6f?s=128&d=identicon&r=PG&f=1", "display_name": "Khiem", "link": "https://stackoverflow.com/users/6071651/khiem"}, "edited": false, "score": 0, "creation_date": 1527066926, "post_id": 50484344, "comment_id": 87981762, "body": "I&#39;m getting: Property &#39;subscribe&#39; does not exist on type &#39;void&#39;"}, {"owner": {"reputation": 28133, "user_id": 2065039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7wqQg.jpg?s=128&g=1", "display_name": "Guruprasad J Rao", "link": "https://stackoverflow.com/users/2065039/guruprasad-j-rao"}, "edited": false, "score": 0, "creation_date": 1527066934, "post_id": 50484344, "comment_id": 87981773, "body": "You might also need to suggest/specify OP to update his <code>postToken</code> method in service to return the subscription."}, {"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1527067037, "post_id": 50484344, "comment_id": 87981850, "body": "You need to update the service as well.. I&#39;ll update the answer wait."}, {"owner": {"reputation": 135, "user_id": 6071651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/feaae4a4a23620223cba9e7e88f9ff6f?s=128&d=identicon&r=PG&f=1", "display_name": "Khiem", "link": "https://stackoverflow.com/users/6071651/khiem"}, "edited": false, "score": 0, "creation_date": 1527068029, "post_id": 50484344, "comment_id": 87982562, "body": "Kinda works, but i&#39;m getting : data.json is not a function. The service will post the token to the server and the server responds with an OK or 403. If OK gets returned, I want to do something, else if 403 gets returned, also do something.  Both cases should stop the spinner also. Could you help? Sorry i&#39;m very noobish."}, {"owner": {"reputation": 10633, "user_id": 20057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e16fcfaaab21f57be4d2a84f46320086?s=128&d=identicon&r=PG", "display_name": "David Walschots", "link": "https://stackoverflow.com/users/20057/david-walschots"}, "reply_to_user": {"reputation": 135, "user_id": 6071651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/feaae4a4a23620223cba9e7e88f9ff6f?s=128&d=identicon&r=PG&f=1", "display_name": "Khiem", "link": "https://stackoverflow.com/users/6071651/khiem"}, "edited": false, "score": 1, "creation_date": 1527068258, "post_id": 50484344, "comment_id": 87982708, "body": "@Khiem the important part was returning the <code>Observable</code> that comes out of the <code>httpClient.post</code> function. What logic you apply onto the returned data (if any) is up to you. This answer has given you the information you need to be able to separate the concerns of your UI and service logic. The service shouldn&#39;t know anything about the components that use it."}, {"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1527068692, "post_id": 50484344, "comment_id": 87983033, "body": "Write a <a href=\"https://angular.io/api/common/http/HttpInterceptor\" rel=\"nofollow noreferrer\">HttpInterceptor</a> for this. From that you can intercept all the http requests and responses. And you can handle errors according to status of the response."}], "tags": [], "owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "is_accepted": true, "score": 3, "last_activity_date": 1527067326, "last_edit_date": 1527067326, "creation_date": 1527066803, "answer_id": 50484344, "question_id": 50484285, "link": "https://stackoverflow.com/questions/50484285/how-to-call-components-function-from-service/50484344#50484344", "title": "How to call component&#39;s function from service?", "body": "<p>Have you tried this?</p>\n\n<pre><code>export class AuthenticatetokenComponent implements OnInit {\n\n  constructor(private authService: AuthService,private spinner: NgxSpinnerService) {}\n\n  public showSpinner() {\n    this.spinner.show();\n  }\n\n  public stopSpinner() {\n    this.spinner.hide();\n  }\n\n  private postToken() {\n    this.showSpinner();\n    this.authService.postToken(this.token).subscribe((response) =&gt; {\n         this.stopSpinner();\n    });\n  }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Injectable()\nexport class AuthService {\n\n  private BASE_URL: string = \"http://localhost:8080\";\n\n  constructor(private _router: Router, private _dataservice: DataService, private httpClient: HttpClient) { }\n\n  postToken(token: string): Observable&lt;any&gt; {\n\n    return this.httpClient.post&lt;any&gt;('/authentication', {\n      token: token\n    }\n    ).map(\n      (data: any) =&gt; {\n        return data.json();\n      }\n    );\n  }\n}\n</code></pre>\n\n<p>Move the code inside subscription to the component;</p>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 10633, "user_id": 20057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e16fcfaaab21f57be4d2a84f46320086?s=128&d=identicon&r=PG", "display_name": "David Walschots", "link": "https://stackoverflow.com/users/20057/david-walschots"}, "edited": false, "score": 0, "creation_date": 1527070762, "post_id": 50485274, "comment_id": 87984455, "body": "This is the right answer if you ask me :). I&#39;d like to note that the second suggestion is the defacto standard. The first suggestion still couples the service to components that use it, in that the service needs to know when components expect the callback to be called. The second suggestion doesn&#39;t have such problem."}, {"owner": {"reputation": 2791, "user_id": 36253, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b292bf510519266d50b43482c340d9fd?s=128&d=identicon&r=PG", "display_name": "balu", "link": "https://stackoverflow.com/users/36253/balu"}, "reply_to_user": {"reputation": 10633, "user_id": 20057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e16fcfaaab21f57be4d2a84f46320086?s=128&d=identicon&r=PG", "display_name": "David Walschots", "link": "https://stackoverflow.com/users/20057/david-walschots"}, "edited": false, "score": 0, "creation_date": 1527111078, "post_id": 50485274, "comment_id": 88008396, "body": "Regarding option 2 being the defacto standard, I mostly agree, though I&#39;d say whether or not it&#39;s the right solution here still depends on whether the service wants to expose the data from the HTTP response to other subscribers. As for option 1 and your statement &quot;that the service needs to know when components expect the callback to be called&quot;, I wouldn&#39;t say this couples the service to the components, though. It merely means that the service method&#39;s signature (in particular the callback&#39;s purpose) needs to be documented properly. But this is always the case when you introduce callbacks."}], "tags": [], "owner": {"reputation": 2791, "user_id": 36253, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b292bf510519266d50b43482c340d9fd?s=128&d=identicon&r=PG", "display_name": "balu", "link": "https://stackoverflow.com/users/36253/balu"}, "is_accepted": false, "score": 3, "last_activity_date": 1527069466, "creation_date": 1527069466, "answer_id": 50485274, "question_id": 50484285, "link": "https://stackoverflow.com/questions/50484285/how-to-call-components-function-from-service/50485274#50485274", "title": "How to call component&#39;s function from service?", "body": "<p>This might not be the answer you're expecting but I'm not sure I understand the purpose of your <code>AuthService</code> to begin with. Currently, its code almost exclusively uses properties and methods of your component which implies that it should rather be a part of your component. Put differently, you should be able to dispense with the service class.</p>\n\n<p>If you are 100% sure, however, that you <em>do</em> need a service, I would suggest you try to avoid injecting the component as a dependency into your service as you currently do because this otherwise means that you're dealing with a circular dependency \u2013 which, sooner or later and in one way or the other, will lead you to hell. (Besides, services are meant to be independent of the component using them. That's kind of the point of having a service.)</p>\n\n<p>Anyway, to avoid this circular dependency, i.e. to disentangle the component and the service and have the service not know about your component, I would suggest one the following:</p>\n\n<ul>\n<li><p>Have the component pass a callback to the service which contains all component-specific actions to be taken once the service is done, well, serving. The service can then invoke this callback when the time is right.</p></li>\n<li><p>Have the service's methods return the observable returned by the HTTPClient library, so that the component can subscribe to it, too, and execute custom code when the HTTP request terminates.</p></li>\n</ul>\n\n<p>In both cases, you will need to inject HTTPClient as a dependency into your service instead of your component.</p>\n"}], "owner": {"reputation": 135, "user_id": 6071651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/feaae4a4a23620223cba9e7e88f9ff6f?s=128&d=identicon&r=PG&f=1", "display_name": "Khiem", "link": "https://stackoverflow.com/users/6071651/khiem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3242, "favorite_count": 0, "accepted_answer_id": 50484344, "answer_count": 2, "score": 0, "last_activity_date": 1527069466, "creation_date": 1527066640, "last_edit_date": 1527068041, "question_id": 50484285, "link": "https://stackoverflow.com/questions/50484285/how-to-call-components-function-from-service", "title": "How to call component&#39;s function from service?", "body": "<p>In a component I have a spinner with two functions: <code>showSpinner()</code> and <code>stopSpinner()</code>. When I call <code>postToken()</code> in the components, this will call the <code>postToken()</code> function of the service. In the service's <code>postToken()</code> function, I want to call the function <code>showSpinner()</code> from the component to show the spinner in the view (and also stop the spinner).</p>\n\n<p>My code is currently a mess, because I have tried to apply different kind of solutions from Google/StackOverflow, so bear with me :P.</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>export class AuthenticatetokenComponent implements OnInit {\n\n  constructor(private authService: AuthService,private spinner: NgxSpinnerService) {}\n\n  public showSpinner() {\n    this.spinner.show();\n  }\n\n  public stopSpinner() {\n    this.spinner.hide();\n  }\n\n  private postToken() {\n    this.authService.postToken(this.token);\n  }\n}\n</code></pre>\n\n<p><strong>service.ts</strong></p>\n\n<pre><code>@Injectable()\nexport class AuthService {\n\n  private BASE_URL: string = \"http://localhost:8080\";\n\n  constructor(private authenticateToken: AuthenticatetokenComponent, private _router: Router, private _dataservice: DataService) { }\n\n  postToken(token: string) : void {\n    this.authenticateToken.showSpinner();\n\n    if(this.authenticateToken.token == '') {\n      this.authenticateToken.stopSpinner();\n      this.authenticateToken.openModal(\"Tokenveld is leeg! Voer aub een token in!\");\n    }\n\n    this.authenticateToken.httpClient.post('/authentication', {\n        token: token\n     }\n    ).subscribe(\n      (data: any) =&gt; {\n        if (token === '') {\n          this.authenticateToken.stopSpinner();\n          console.log('Khiem hier error in duwen');\n          throw new Error('This token is not valid');\n        } else {\n          this.authenticateToken.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = 'white';\n            this._dataservice.electionFromService = data;\n            this._dataservice.tokenFromService = token;\n            this.authenticateToken.stopSpinner();\n            this._router.navigateByUrl('/voting-page');\n        }\n      }\n    );\n  }\n  getRestCall() : void {\n    this.authenticateToken.httpClient.get('http://localhost:8080/test')\n      .subscribe(\n        (data: any[]) =&gt; {\n          this.authenticateToken.data = data;\n          console.log(data);\n        }\n      );\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript", "stripe-payments"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1527066509, "post_id": 50484167, "comment_id": 87981464, "body": "You&#39;re only visiting each combination of x and y once. From the error and the code, I&#39;d say the problem is you&#39;re not allowed to have more than one outstanding action with Stripe (whereas with the above, you&#39;re starting four actions nearly simultaneously, without waiting for the previous ones to finish)."}], "answers": [{"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1527067125, "post_id": 50484320, "comment_id": 87981912, "body": "The edit&#39;s way of handling the charges is a nice pattern. I&#39;ve seen it, and used it, and yet didn&#39;t use it in my answer for some reason..."}, {"owner": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "edited": false, "score": 0, "creation_date": 1527070301, "post_id": 50484320, "comment_id": 87984136, "body": "@Fenton Array3 still returns a duplicate therefore still giving the same error"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "edited": false, "score": 0, "creation_date": 1527070461, "post_id": 50484320, "comment_id": 87984253, "body": "@Hopez - There are no duplicates in <code>array3</code> above (or <code>charges</code> in my answers, which I build the same way). Each combination of <code>x</code> and <code>y</code> is unique."}, {"owner": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1527071644, "post_id": 50484320, "comment_id": 87985009, "body": "I meant your output array. It returns 4 objects too therefore still having same error @T.J.Crowder"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "edited": false, "score": 0, "creation_date": 1527071833, "post_id": 50484320, "comment_id": 87985121, "body": "@Hopez: You have <b>two charges</b>. You have <b>two clients</b>. Your code is producing a cartesian product of those; 2 x 2 = 4. Is it that you just want the first charge for the first client, and the second charge for the second client (total of two charges made, 10000 for kssgjag_98899 and 30000 for hkhdgd_93762)? If so, your question doesn&#39;t remotely make that clear."}, {"owner": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1527072061, "post_id": 50484320, "comment_id": 87985299, "body": "Yeah. That was what I wanted. @T.J.Crowder"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "edited": false, "score": 0, "creation_date": 1527072081, "post_id": 50484320, "comment_id": 87985320, "body": "@Hopez - I&#39;ve added to the end of my answer."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1527066987, "last_edit_date": 1527066987, "creation_date": 1527066751, "answer_id": 50484320, "question_id": 50484167, "link": "https://stackoverflow.com/questions/50484167/using-values-within-different-arrays/50484320#50484320", "title": "Using values within different arrays", "body": "<p>Here is a working example that results in a new array <code>array3</code> that has the zipped up result.</p>\n\n<pre><code>const array1 = [ \n  { totalCharge:  10000 },\n  { totalCharge:  30000 },\n]\n\n const array2 = [\n   { customer: 63667363,\n     source:  \"kssgjag_98899\"\n   },\n   { customer: 767897889,\n     source:  \"hkhdgd_93762\"\n   },\n ]\n\nconst array3 = [];\nfor (let x of array1) {\n  for (let y of array2) {\n    array3.push({\n      amount: x.totalCharge,\n      currency: \"usd\",\n      customer: y.customer,\n      source: y.source\n    });\n  }\n}\n\nconsole.log(JSON.stringify(array3));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\n    {\"amount\":10000,\"currency\":\"usd\",\"customer\":63667363,\"source\":\"kssgjag_98899\"},\n    {\"amount\":10000,\"currency\":\"usd\",\"customer\":767897889,\"source\":\"hkhdgd_93762\"},\n    {\"amount\":30000,\"currency\":\"usd\",\"customer\":63667363,\"source\":\"kssgjag_98899\"},\n    {\"amount\":30000,\"currency\":\"usd\",\"customer\":767897889,\"source\":\"hkhdgd_93762\"}\n]\n</code></pre>\n\n<p>You will need to make a charge request from your server for each of these, waiting for the previous request to complete before starting the next:</p>\n\n<pre><code>function processCharges(charges: any[], index = 0) {\n  stripe.charges.create(charges[index], (err, charge) =&gt; {\n    if (err) {\n      // handle error\n    }\n\n    index++;\n    if (index &lt; charges.length) {\n      processCharges(charges, index);\n    }\n  });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "edited": false, "score": 0, "creation_date": 1527075154, "post_id": 50484350, "comment_id": 87987291, "body": "Thank you so much @T.J. Crowder"}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1527083714, "last_edit_date": 1527083714, "creation_date": 1527066814, "answer_id": 50484350, "question_id": 50484167, "link": "https://stackoverflow.com/questions/50484167/using-values-within-different-arrays/50484350#50484350", "title": "Using values within different arrays", "body": "<p>You're only visiting each combination of x and y once (total of four combinations), but from subsequent comments it appears that you don't want to do that, you want to make <em>two</em> charges: 10000 for kssgjag_98899 and 30000 for hkhdgd_93762.</p>\n\n<p>The simplest thing to do is probably build yourself a single array of charges to make, then process it one charge at a time.</p>\n\n<p>Building the array:</p>\n\n<pre><code>if (array1.length !== array2.length) {\n    throw new Error(\"Arrays should be of the same length\");\n}\nconst charges = array1.map(({totalCharge}, index) {\n    const {id, source} = array2[index];\n    return {\n        amount: totalCharge,\n        currency: \"usd\",\n        customer: id,\n        source\n    };\n});\n</code></pre>\n\n<p>Processing them one at a time: <a href=\"https://stackoverflow.com/users/1401684/nicolas-takashi\">Nicolas Takashi</a> told me in a comment on a now-deleted answer that in addition to having a callback, <code>stripe.charges.create</code> <em>also</em> returns a promise. If so, you can use the classic promise <code>reduce</code> trick:</p>\n\n<pre><code>const promiseForResult = charges.reduce(\n    (p, charge) =&gt; p.then(() =&gt; stripe.charges.create(charge)),\n    Promise.resolve()\n);\n</code></pre>\n\n<p>That will ensure that you only have one call to <code>stripe.charges.create</code> happening at any given time.</p>\n\n<p>If it's okay for the calls to overlap (but from your error it sounds like it isn't), you'd use <code>Promise.all</code> instead:</p>\n\n<pre><code>const promiseForResult = Promise.all(\n    charges.map(charge =&gt; stripe.charges.create(charge))\n);\n</code></pre>\n\n<p>If it's <em>not</em> true that <code>stripe.charges.create</code> returns a promise, you can easily give yourself a wrapper that does:</p>\n\n<pre><code>const createCharge = charge =&gt; new Promise((resolve, reject) =&gt; {\n    strip.charges.create(charge, function(err, result) {\n        if (err) {\n            reject(err);\n        } else {\n            resolve(result);\n        }\n    });\n});\n</code></pre>\n\n<p>and then either one-at-a-time:</p>\n\n<pre><code>const promiseForResult = charges.reduce(\n    (p, charge) =&gt; p.then(() =&gt; createCharge(charge)),\n    Promise.resolve()\n);\n</code></pre>\n\n<p>or all at once:</p>\n\n<pre><code>const promiseForResult = Promise.all(charges.map(createCharge));\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 50484350, "answer_count": 2, "score": 1, "last_activity_date": 1527083714, "creation_date": 1527066295, "question_id": 50484167, "link": "https://stackoverflow.com/questions/50484167/using-values-within-different-arrays", "title": "Using values within different arrays", "body": "<p>I have 2 arrays retrieved from a db and stripe respectively. Both data were mapped using a common field. In attempting to process charges, I get this error <code>StripeInvalidRequestError ---- There is currently another in-progress request using this Stripe token</code>. Meaning the loop definitely runs twice. So my question is how do I efficiently achieve using data from both arrays without looping twice?</p>\n\n<p>Any thoughts, please?</p>\n\n<pre><code>array1 = [ \n  { totalCharge:  10000 },\n  { totalCharge:  30000 },\n]\n\n array2 = [\n   { customer: 63667363,\n     source:  \"kssgjag_98899\"\n   },\n   { customer: 767897889\n     source:  \"hkhdgd_93762\"\n   },\n ]\n\n for (let x of array1){\n    for (let y of array2){\n       stripe.charges.create({\n           amount: x.totalCharge,\n           currency: \"usd\",\n           customer: y.id,\n           source: y.source\n       }, function(err, charge) {}\n    }\n  }\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "express"], "comments": [{"owner": {"reputation": 1363, "user_id": 5184225, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/14brd.jpg?s=128&g=1", "display_name": "Vaibhav Magon", "link": "https://stackoverflow.com/users/5184225/vaibhav-magon"}, "edited": false, "score": 0, "creation_date": 1527067628, "post_id": 50484053, "comment_id": 87982289, "body": "What type of object is files: array of objects? What is the schema?"}], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "edited": false, "score": 0, "creation_date": 1527066585, "post_id": 50484189, "comment_id": 87981511, "body": "I already have the URL and I read the filename from the backend. Why do I need to create a service to send the filename as a string to the front end?"}, {"owner": {"reputation": 299, "user_id": 9624268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDK19.jpg?s=128&g=1", "display_name": "Abhishek Konnur", "link": "https://stackoverflow.com/users/9624268/abhishek-konnur"}, "reply_to_user": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "edited": false, "score": 0, "creation_date": 1527066837, "post_id": 50484189, "comment_id": 87981694, "body": "By Expressjs and nodejs you just created an API , now if you want to create angular project then it must include a service which has all its get, post,put,delete method and use these method objects into your components to create UI"}], "tags": [], "owner": {"reputation": 299, "user_id": 9624268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDK19.jpg?s=128&g=1", "display_name": "Abhishek Konnur", "link": "https://stackoverflow.com/users/9624268/abhishek-konnur"}, "is_accepted": false, "score": 0, "last_activity_date": 1527066357, "creation_date": 1527066357, "answer_id": 50484189, "question_id": 50484053, "link": "https://stackoverflow.com/questions/50484053/node-js-express-send-response-from-back-end-to-front-end/50484189#50484189", "title": "node.js &amp; express - Send Response From Back End To Front End", "body": "<p>You need to create service in Angular project and fetch the url's(example- <a href=\"http://localhost:3000/api/users\" rel=\"nofollow noreferrer\">http://localhost:3000/api/users</a>) after testing API by Postman </p>\n"}, {"comments": [{"owner": {"reputation": 44, "user_id": 7560949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249c71e82479cf13d3163f671a5a6fe1?s=128&d=identicon&r=PG&f=1", "display_name": "krishnashu", "link": "https://stackoverflow.com/users/7560949/krishnashu"}, "edited": false, "score": 0, "creation_date": 1527074040, "post_id": 50486445, "comment_id": 87986561, "body": "if you are using type script then you probably need to add  var filenames:string[];"}, {"owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "edited": false, "score": 0, "creation_date": 1527074781, "post_id": 50486445, "comment_id": 87987045, "body": "it says TypeError: Cannot read property &#39;push&#39; of undefined in the server log"}], "tags": [], "owner": {"reputation": 44, "user_id": 7560949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249c71e82479cf13d3163f671a5a6fe1?s=128&d=identicon&r=PG&f=1", "display_name": "krishnashu", "link": "https://stackoverflow.com/users/7560949/krishnashu"}, "is_accepted": false, "score": 0, "last_activity_date": 1527073522, "last_edit_date": 1527073522, "creation_date": 1527072524, "answer_id": 50486445, "question_id": 50484053, "link": "https://stackoverflow.com/questions/50484053/node-js-express-send-response-from-back-end-to-front-end/50486445#50486445", "title": "node.js &amp; express - Send Response From Back End To Front End", "body": "<pre><code>fs.readdir(fileUrl, (err, files) =&gt; {\n    files.forEach(file =&gt; {\n      console.log(file);\n      res.send(file);\n    });\n  })\n</code></pre>\n\n<p>you can't response multiple times for a request. This could be done only once.</p>\n\n<p>Better you try to push file names in a array and send it to front end and populate it there.</p>\n\n<p>Change it to </p>\n\n<pre><code>fs.readdir(fileUrl, (err, files) =&gt; {\n        var filenames = [];\n        files.forEach(file =&gt; {\n          filenames.push(file);\n        });\n        res.status(200).send(filenames);\n      })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "edited": false, "score": 0, "creation_date": 1527076031, "post_id": 50487577, "comment_id": 87987861, "body": "Thank you! And how exactly do I fetch them in the front end? Will it do that automatically?"}], "tags": [], "owner": {"reputation": 11, "user_id": 3416958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ceUEa.jpg?s=128&g=1", "display_name": "Bob West", "link": "https://stackoverflow.com/users/3416958/bob-west"}, "is_accepted": false, "score": 0, "last_activity_date": 1527075923, "creation_date": 1527075923, "answer_id": 50487577, "question_id": 50484053, "link": "https://stackoverflow.com/questions/50484053/node-js-express-send-response-from-back-end-to-front-end/50487577#50487577", "title": "node.js &amp; express - Send Response From Back End To Front End", "body": "<p>As krishnashu pointed out, it is not possible to send multiple responses with res.send (though it is possible to chain responses with res.write and res.end).</p>\n\n<p>I suggest that you send the whole array of files at once instead of traversing the array with foreach. There is no need to do this as long as you don't want to modify the files at this stage.</p>\n\n<p>You can simply turn the array into a JSON-style string and return it to the client application: \n<code>res.json(JSON.stringify(files))</code></p>\n"}], "owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2210, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1527075923, "creation_date": 1527065988, "question_id": 50484053, "link": "https://stackoverflow.com/questions/50484053/node-js-express-send-response-from-back-end-to-front-end", "title": "node.js &amp; express - Send Response From Back End To Front End", "body": "<p>I'm new to working with express/node.js and I was just wondering how I could send the response I get from node to the front end (I'm using Angular in the front end).</p>\n\n<p>Node.js basically reads a directory and logs all the files in it, here is the code:</p>\n\n<p><strong>Server</strong></p>\n\n<pre><code> router.get('/files/:id/', function(req, res)\n{\n   let fileUrl = path.join(SERVER, 'files', sanitizeFileName(req.params.id));\n\n   fs.readdir(fileUrl, (err, files) =&gt; {\n    files.forEach(file =&gt; {\n      console.log(file);\n      res.send(file);\n    });\n  })\n}); \n</code></pre>\n\n<p>Now I need to display the file names in the front end, kinda like this:</p>\n\n<p><strong>Front end</strong></p>\n\n<pre><code>&lt;div class=\"files\"&gt;\n        &lt;p&gt;Files in {{ id }} directory:&lt;/p&gt;\n        &lt;p&gt;&gt;{{ file }}&lt;/p&gt;   \n    &lt;/div&gt;\n</code></pre>\n\n<p>I tried it with this method in the front end but I'm getting an empty object for some reason</p>\n\n<pre><code>this.file = this.http.request(this.server).map( (file:any) =&gt; { JSON.parse(file) } );\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1527065411, "post_id": 50483724, "comment_id": 87980697, "body": "Why you are concatenating??"}, {"owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "reply_to_user": {"reputation": 2612, "user_id": 9775003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRiXK.jpg?s=128&g=1", "display_name": "Sanoj_V", "link": "https://stackoverflow.com/users/9775003/sanoj-v"}, "edited": false, "score": 0, "creation_date": 1527065597, "post_id": 50483724, "comment_id": 87980822, "body": "@Sanoj_V Because the <b>explanation</b> will be a static string across three <code>&lt;td&gt;</code> where as the <code>item.value</code> alone will be dynamic."}], "answers": [{"tags": [], "owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "is_accepted": false, "score": -1, "last_activity_date": 1527065170, "creation_date": 1527065170, "answer_id": 50483788, "question_id": 50483724, "link": "https://stackoverflow.com/questions/50483724/angular2-ngmodel-concatenating-model-with-loop-value/50483788#50483788", "title": "Angular2 - ngModel - Concatenating model with loop value", "body": "<p>Remove the single quotes and try</p>\n\n<pre><code>[(ngModel)]=\"projectViewService.projData.explanation+item.value\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 0, "creation_date": 1527065983, "post_id": 50483945, "comment_id": 87981106, "body": "Thanks for this workaround!. I saw your working example too. In my case my textarea is getting populated as empty.. :("}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "reply_to_user": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 0, "creation_date": 1527066114, "post_id": 50483945, "comment_id": 87981201, "body": "OK well, at least we are getting somewhere :) are you sure that <code>projectViewService.projData.explanation${item.value}</code> is properly defined? Maybe try with a simpler example to make sure it all works fine, and work your way up from there"}, {"owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 0, "creation_date": 1527066493, "post_id": 50483945, "comment_id": 87981454, "body": "Sure.. Trying! Thanks again"}, {"owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 1, "creation_date": 1527068038, "post_id": 50483945, "comment_id": 87982567, "body": "This has worked! =&gt; <code>projectViewService.projData[&#39;explanation&#39;+item.value]</code> Thanks for your help!"}], "tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": false, "score": 1, "last_activity_date": 1527065605, "creation_date": 1527065605, "answer_id": 50483945, "question_id": 50483724, "link": "https://stackoverflow.com/questions/50483724/angular2-ngmodel-concatenating-model-with-loop-value/50483945#50483945", "title": "Angular2 - ngModel - Concatenating model with loop value", "body": "<p>A workaround to achieve what you want is</p>\n\n<pre><code>[(ngModel)]=\"this['projectViewService.projData.explanation'+ item.value]\"\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackblitz.com/edit/angular-cjwzwr\" rel=\"nofollow noreferrer\">Working example</a></p>\n"}], "owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527065605, "creation_date": 1527065003, "question_id": 50483724, "link": "https://stackoverflow.com/questions/50483724/angular2-ngmodel-concatenating-model-with-loop-value", "title": "Angular2 - ngModel - Concatenating model with loop value", "body": "<p>I've a an <code>[(ngModel)]</code> binding in my template which goes like, </p>\n\n<pre><code>&lt;tbody *ngFor=\"let item of projParameters; let i = index\"&gt;\n....\n....\n&lt;textarea placeholder=\"\" [(ngModel)]=\"'projectViewService.projData.explanation'+item.value\" [editable]=\"isFormEditable\"&gt;&lt;/textarea&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p>While we execute the code, It is not getting binded with the textarea as it has been showing as a text like, (where it should show the value).</p>\n\n<pre><code>projectViewService.projData.explanation+item.value\n</code></pre>\n\n<p>Can someone help?</p>\n"}, {"tags": ["angular", "typescript", "recursion", "rxjs"], "comments": [{"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1527064231, "post_id": 50483324, "comment_id": 87979920, "body": "You can use <code>forkJoin</code> to know when all observables have emitted."}, {"owner": {"reputation": 31, "user_id": 7499646, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hzj6unGK3-g/AAAAAAAAAAI/AAAAAAAAASA/k8Bz8K4-vh0/photo.jpg?sz=128", "display_name": "Mathieu Mandret", "link": "https://stackoverflow.com/users/7499646/mathieu-mandret"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1527064363, "post_id": 50483324, "comment_id": 87980016, "body": "Yes but forkJoin takes a list of Observables as an argument, but I don&#39;t see how to build this list since i don&#39;t keep track of the Observables I subscribe to."}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1527064545, "post_id": 50483324, "comment_id": 87980120, "body": "you might want to utilize <code>expand</code> operator. So, for as long as your observable returns node with parent, you use <code>expand</code> operator to call the whole function again. ref: <a href=\"https://www.learnrxjs.io/operators/transformation/expand.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/transformation/expand.html</a>"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1527064901, "post_id": 50483324, "comment_id": 87980343, "body": "I don&#39;t think you want to subscribe for a start, cuz then your function will return a Subscription and not an Observable."}, {"owner": {"reputation": 31, "user_id": 7499646, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hzj6unGK3-g/AAAAAAAAAAI/AAAAAAAAASA/k8Bz8K4-vh0/photo.jpg?sz=128", "display_name": "Mathieu Mandret", "link": "https://stackoverflow.com/users/7499646/mathieu-mandret"}, "reply_to_user": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1527065520, "post_id": 50483324, "comment_id": 87980775, "body": "@deezg expand seems like a good solution, but as you said i&#39;ll need a function that return each node and its parent id, and this is where I&#39;m stuck, since I have several child on each node I can&#39;t find a way to make such a function work"}, {"owner": {"reputation": 31, "user_id": 7499646, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hzj6unGK3-g/AAAAAAAAAAI/AAAAAAAAASA/k8Bz8K4-vh0/photo.jpg?sz=128", "display_name": "Mathieu Mandret", "link": "https://stackoverflow.com/users/7499646/mathieu-mandret"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1527065719, "post_id": 50483324, "comment_id": 87980911, "body": "@Chrillewoodz You are right, that&#39;s exactly my problem, but if i don&#39;t subscribe I can&#39;t get the id form the parent since it&#39;s in an Observable"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1527065853, "post_id": 50483324, "comment_id": 87981012, "body": "You can use the <code>tap</code> operator for that, as long as you use some <code>.subscribe</code> call higher up along with <code>forkJoin</code> for example. Or else your Observables won&#39;t run at all."}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1527066042, "post_id": 50483324, "comment_id": 87981146, "body": "you need just one <code>subscribe</code>, that&#39;s the point of <code>expand</code>. take a look at this example...its not the same but it might give you an idea: <a href=\"https://stackoverflow.com/questions/40529232/angular-2-http-observables-and-recursive-requests\" title=\"angular 2 http observables and recursive requests\">stackoverflow.com/questions/40529232/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 7499646, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hzj6unGK3-g/AAAAAAAAAAI/AAAAAAAAASA/k8Bz8K4-vh0/photo.jpg?sz=128", "display_name": "Mathieu Mandret", "link": "https://stackoverflow.com/users/7499646/mathieu-mandret"}, "reply_to_user": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1527073062, "post_id": 50483324, "comment_id": 87985949, "body": "@deezg Pardon me if I&#39;m being retarded but expand seems appropriate when the recursion only operate on 1 item (feel free to let me know if I don&#39;t make sense), most example I find are about paging, where the stream emits a link to the next page, then the process is trivial: get the link and make the request with it in a function passed to expand and the result of this function will be merged into the initial stream. But my brains melts over the for loop in my function, I don&#39;t see any way of applying expand for each child."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7499646, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hzj6unGK3-g/AAAAAAAAAAI/AAAAAAAAASA/k8Bz8K4-vh0/photo.jpg?sz=128", "display_name": "Mathieu Mandret", "link": "https://stackoverflow.com/users/7499646/mathieu-mandret"}, "is_accepted": true, "score": 3, "last_activity_date": 1527082554, "creation_date": 1527082554, "answer_id": 50489865, "question_id": 50483324, "link": "https://stackoverflow.com/questions/50483324/recursion-with-observables/50489865#50489865", "title": "Recursion with Observables", "body": "<p>As pointed out, <code>expand</code> is right operator. The solution is to upload the 1st node and use <code>expand</code> to create a stream of requests from its children and \"append it\" to the source stream, once there are no more children, just send empty() to end the stream:</p>\n\n<pre><code>uploadTreeNode(node: TreeNode): Observabe&lt;NodeJson&gt; {\n    return this.node_service.addNode(node, rootId)\n        .map(uploaded_node =&gt; ({id: uploaded_node.id, current_node: node})\n        .expand({id, current_node} =&gt; {\n            if (current_node &amp;&amp; current_node.children) {\n                let reqs = current_node.children.map(n =&gt; this.nodeService.addNode(id, n))\n                return Observable.merge(...reqs)\n            } else {\n                return Observable.empty()\n            }\n        })   \n}\n</code></pre>\n\n<p>Now I can do :</p>\n\n<pre><code>this.uploadTreeNode(myNode, 1).subscribe(uploaded_node =&gt; {\n    console.log('Node has been uploaded: ' + uploaded_node),\n})\n</code></pre>\n\n<p>Thanks for your help everyone.</p>\n"}], "owner": {"reputation": 31, "user_id": 7499646, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hzj6unGK3-g/AAAAAAAAAAI/AAAAAAAAASA/k8Bz8K4-vh0/photo.jpg?sz=128", "display_name": "Mathieu Mandret", "link": "https://stackoverflow.com/users/7499646/mathieu-mandret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1310, "favorite_count": 1, "accepted_answer_id": 50489865, "answer_count": 1, "score": 0, "last_activity_date": 1527082554, "creation_date": 1527063758, "question_id": 50483324, "link": "https://stackoverflow.com/questions/50483324/recursion-with-observables", "title": "Recursion with Observables", "body": "<p>I need to upload a n-ary tree using a REST API in my angular 2 project.\nI have a service allowing me to add a node like so:</p>\n\n<pre><code>addNode(node: TreeNode, parentId: number): Observable&lt;NodeJson&gt;\n</code></pre>\n\n<p>Where TreeNode is an object:</p>\n\n<pre><code>{\n  data: any,\n  children: TreeNode[]\n}\n</code></pre>\n\n<p>I need the id of the parent node to be able to add children, and this id is in the NodeJson object.</p>\n\n<p>My current solution is:</p>\n\n<pre><code>uploadTreeNode(node: TreeNode, parentId: number) {\n    this.node_service.addNode(node, parentId)\n        .subscribe(uploaded_node =&gt; {\n            for (let child of node.children) {\n                this.uploadTreeNode(child, uploaded_node.id)\n            }\n        }\n\n}\n</code></pre>\n\n<p>Which works fine but here's my problem: I need to know when the whole tree\nhas been uploaded, which is not possible with this approach because I subscribe directly to the observable on each call and I have no way of knowing when it has completed.</p>\n\n<p>Effectively, what I'm trying to achieve is having this function:</p>\n\n<pre><code>uploadNodeTree(node: TreeNode, parentId: number): Observable&lt;NodeJson&gt;\n</code></pre>\n\n<p>Which return an Observable that emits once all the Observables from the children uploads have completed.</p>\n\n<p>Is there a way to do such thing with Rxjs operators ?</p>\n"}, {"tags": ["typescript", "object", "javascript-objects"], "comments": [{"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1527063357, "post_id": 50483062, "comment_id": 87979342, "body": "A bit more code would be helpful. For example the Enum declaration"}, {"owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "edited": false, "score": 0, "creation_date": 1527063614, "post_id": 50483062, "comment_id": 87979515, "body": "What is the code that gets the JSON from the API? You are probably not deserializing your JSON. Probably there is missing a call to <code>JSON.parse()</code>."}, {"owner": {"reputation": 395, "user_id": 8636906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17c868e496ca3b1d3e2070c8771d2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Silva", "link": "https://stackoverflow.com/users/8636906/silva"}, "edited": false, "score": 0, "creation_date": 1527065870, "post_id": 50483062, "comment_id": 87981027, "body": "hi, i&#39;ve edited the question see above."}], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 8636906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17c868e496ca3b1d3e2070c8771d2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Silva", "link": "https://stackoverflow.com/users/8636906/silva"}, "edited": false, "score": 0, "creation_date": 1527065953, "post_id": 50483224, "comment_id": 87981087, "body": "i am getting the following error  <code>Type &#39;Object&#39; is not assignable to type &#39;Weeks&#39;. The &#39;Object&#39; type is assignable to very few other types. Did you mean to use the &#39;any&#39; type instead?</code>"}, {"owner": {"reputation": 4725, "user_id": 8808496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSryZ.jpg?s=128&g=1", "display_name": "Felix Lemke", "link": "https://stackoverflow.com/users/8808496/felix-lemke"}, "reply_to_user": {"reputation": 395, "user_id": 8636906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17c868e496ca3b1d3e2070c8771d2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Silva", "link": "https://stackoverflow.com/users/8636906/silva"}, "edited": false, "score": 0, "creation_date": 1527066149, "post_id": 50483224, "comment_id": 87981227, "body": "Are you using angular httpclient or similar? Maybe try <code>const data: Weeks = {} as Weeks</code>. If you use something like httpClient from angular you can do <code>this.http.get&lt;Weeks&gt;(url);</code>."}, {"owner": {"reputation": 4725, "user_id": 8808496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSryZ.jpg?s=128&g=1", "display_name": "Felix Lemke", "link": "https://stackoverflow.com/users/8808496/felix-lemke"}, "reply_to_user": {"reputation": 395, "user_id": 8636906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17c868e496ca3b1d3e2070c8771d2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Silva", "link": "https://stackoverflow.com/users/8636906/silva"}, "edited": false, "score": 0, "creation_date": 1527066749, "post_id": 50483224, "comment_id": 87981633, "body": "if your data is type &#39;Object&#39; the <code>as Weeks</code> at the end should work. Tested it."}], "tags": [], "owner": {"reputation": 4725, "user_id": 8808496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSryZ.jpg?s=128&g=1", "display_name": "Felix Lemke", "link": "https://stackoverflow.com/users/8808496/felix-lemke"}, "is_accepted": true, "score": 1, "last_activity_date": 1527066865, "last_edit_date": 1527066865, "creation_date": 1527063401, "answer_id": 50483224, "question_id": 50483062, "link": "https://stackoverflow.com/questions/50483062/typescript-objects/50483224#50483224", "title": "Typescript Objects", "body": "<p>You have a 3 times nested object structure:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface RaceDay {\n  [key: string]: number\n}\ninterface Days {\n  [key: string]: RaceDay\n}\ninterface Weeeks {\n  [key: string]: Days\n}\n\nconst data: Weeks = { } as Weeks; // your object with type of 'Object' as above\n</code></pre>\n\n<p>assigning your object works for me. Hope that's helping.</p>\n"}], "owner": {"reputation": 395, "user_id": 8636906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17c868e496ca3b1d3e2070c8771d2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Silva", "link": "https://stackoverflow.com/users/8636906/silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 50483224, "answer_count": 1, "score": 0, "last_activity_date": 1527066865, "creation_date": 1527062870, "last_edit_date": 1527065819, "question_id": 50483062, "link": "https://stackoverflow.com/questions/50483062/typescript-objects", "title": "Typescript Objects", "body": "<p>Please assist, am trying to transform an object to an instance of something.\nI have the following data as object from an API:</p>\n\n<pre><code>{\n\"0\": {\n    \"0\": {\n        \"1\": 2\n    },\n    \"1\": {\n        \"1\": 5\n    },\n    \"2\": {\n        \"1\": 9\n    },\n    \"3\": {\n        \"1\": 3\n    },\n    \"4\": {\n        \"1\": 1\n    }\n},\n\"1\": {\n    \"0\": {\n        \"1\": 7\n    },\n    \"1\": {\n        \"1\": 6\n    },\n    \"2\": {\n        \"1\": 10\n    },\n    \"3\": {\n        \"1\": 8\n    },\n    \"4\": {\n        \"1\": 4\n    }\n  }\n}\n</code></pre>\n\n<p>my enums are as follows :</p>\n\n<pre><code>  export enum Enum3 {\n    week1 = 0,\n    ....\n    week4\n  }\n\n\n   export enum Enum2 {\n        day1 = 0,\n        .....\n        day10\n   }\n\n   export enum Enum1 {\n        monday = 0,\n        .....\n        friday\n   }\n</code></pre>\n\n<p>tried the following to declare but didn't work:</p>\n\n<pre><code>         // number is the number of racers entering the race\n        let RaceDay: {[key: Enum1 ]: number };\n        let Days: {[key: Enum2 ]: RaceDay[Key] };\n        let Weeks: {[key: Enum3 ]:  Days[Key] };\n\n        Weeks = ApiData; // data above.\n</code></pre>\n\n<p>How do i declare or instantiate such an object ? \nthank you.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-authentication", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 2150, "user_id": 4761178, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d6605ebd3ab5459696ab6021d233429d?s=128&d=identicon&r=PG", "display_name": "Ramtin Soltani", "link": "https://stackoverflow.com/users/4761178/ramtin-soltani"}, "edited": false, "score": 0, "creation_date": 1527069368, "post_id": 50483670, "comment_id": 87983476, "body": "I tried using the <code>handleCodeInApp</code> on the <code>ActionCodeSetting</code>, but the email still only shows a link that handles creating a new password by Firebase. It doesn&#39;t contain the code that I need for <code>verifyPasswordResetCode</code> method. I&#39;ve updated my question to include the current code I&#39;m using. Any ideas?"}, {"owner": {"reputation": 9491, "user_id": 5631145, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lgSfD.jpg?s=128&g=1", "display_name": "Francisco Durdin Garcia", "link": "https://stackoverflow.com/users/5631145/francisco-durdin-garcia"}, "reply_to_user": {"reputation": 2150, "user_id": 4761178, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d6605ebd3ab5459696ab6021d233429d?s=128&d=identicon&r=PG", "display_name": "Ramtin Soltani", "link": "https://stackoverflow.com/users/4761178/ramtin-soltani"}, "edited": false, "score": 0, "creation_date": 1527069836, "post_id": 50483670, "comment_id": 87983802, "body": "Did you added <code>https:&#47;&#47;yours.firebaseapp.com&#47;__&#47;auth&#47;action?mode=&lt;action&gt;&amp;o&zwnj;&#8203;obCode=&lt;code&gt;</code> to your email template to add the code? You can your template to just show whatever you need: <a href=\"https://support.google.com/firebase/answer/7000714?hl=en\" rel=\"nofollow noreferrer\">support.google.com/firebase/answer/7000714?hl=en</a>"}, {"owner": {"reputation": 2150, "user_id": 4761178, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d6605ebd3ab5459696ab6021d233429d?s=128&d=identicon&r=PG", "display_name": "Ramtin Soltani", "link": "https://stackoverflow.com/users/4761178/ramtin-soltani"}, "edited": false, "score": 0, "creation_date": 1527070028, "post_id": 50483670, "comment_id": 87983950, "body": "The template is unedited and includes <code>%LINK%</code> which will be replaced with the generated link. However, I still don&#39;t see any verification code that the user can enter in my app to be verified, and the link inside the email will redirect to the new password page provided by Firebase (I also have <code>iOS</code> and <code>android</code> set correctly in my <code>ActionCodeSetting</code>)."}], "tags": [], "owner": {"reputation": 9491, "user_id": 5631145, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lgSfD.jpg?s=128&g=1", "display_name": "Francisco Durdin Garcia", "link": "https://stackoverflow.com/users/5631145/francisco-durdin-garcia"}, "is_accepted": false, "score": 4, "last_activity_date": 1527064790, "creation_date": 1527064790, "answer_id": 50483670, "question_id": 50483010, "link": "https://stackoverflow.com/questions/50483010/firebase-auth-password-reset-how-to-properly-send-a-password-reset-email-includ/50483670#50483670", "title": "Firebase Auth Password Reset: How to properly send a password reset email including the confirmation code?", "body": "<p>As far as I know, Firebase Authentication doesn't allow you to specify the kind of password that the user can insert on the url that the reset-password email provides you. But, you should be able to achieve it using the verification code authentication service.</p>\n\n<p>To use the verification code, you need to add an object <code>ActionCodeSetting</code> to your <code>sendPasswordResetEmail</code> method. It should look like this:</p>\n\n<pre><code>var actionCodeSettings = {\n  // URL you want to redirect back to. The domain (www.example.com) for this\n  // URL must be whitelisted in the Firebase Console.\n  url: 'https://www.example.com/finishSignUp?cartId=1234',\n  // This must be true.\n  handleCodeInApp: true,\n  iOS: {\n    bundleId: 'com.example.ios'\n  },\n  android: {\n    packageName: 'com.example.android',\n    installApp: true,\n    minimumVersion: '12'\n  }\n};\n</code></pre>\n\n<p>On your case the only thing that interest your is <code>handleCodeInApp</code>. In that way the email will provide you with a code that you will need to put by hand on <code>verifyPasswordResetCode</code>. </p>\n\n<p>After this, you can put the new password by hand in your client, without use Firebase email provider. Just call <code>confirmPasswordReset(\"verificationCode\", \"newPassword\")</code> after check that the verification code is valid with <code>verifyPasswordResetCode</code>.</p>\n\n<p>Hope that this will help you!</p>\n"}], "owner": {"reputation": 2150, "user_id": 4761178, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d6605ebd3ab5459696ab6021d233429d?s=128&d=identicon&r=PG", "display_name": "Ramtin Soltani", "link": "https://stackoverflow.com/users/4761178/ramtin-soltani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2190, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1527083756, "creation_date": 1527062686, "last_edit_date": 1527083756, "question_id": 50483010, "link": "https://stackoverflow.com/questions/50483010/firebase-auth-password-reset-how-to-properly-send-a-password-reset-email-includ", "title": "Firebase Auth Password Reset: How to properly send a password reset email including the confirmation code?", "body": "<p>I'm stuck at getting Firebase to send a password reset email including the confirmation code that's needed for the method <code>firebase.auth().verifyPasswordResetCode(code)</code>.</p>\n\n<p>I'm using the <code>sendPasswordResetEmail(email)</code> method and the email includes a link which lets users create a new password.</p>\n\n<p>Since I have placed some restrictions on the passwords (they must include a number), this would break the restriction.</p>\n\n<p>I can't find anything in the docs on how to send the confirmation code to an email for password reset.</p>\n\n<p>This is how I'm using it:</p>\n\n<pre><code>public sendResetPasswordEmail(email: string): Promise&lt;any&gt; {\n\n  return this.fireAgent.firebase.auth().sendPasswordResetEmail(email, {\n    url: 'http://localhost:8100/',\n    handleCodeInApp: true\n  });\n\n}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1527062893, "post_id": 50482975, "comment_id": 87979049, "body": "why call that function in <code>ngClass</code>? what is it supposed to set there?"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1527063772, "post_id": 50482975, "comment_id": 87979633, "body": "why are you calling the function in <code>ngClass</code> is it necessary? it does not return any boolean value either"}, {"owner": {"reputation": 45, "user_id": 5280392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52bbbbaa9627c67ac4e67025d1088099?s=128&d=identicon&r=PG&f=1", "display_name": "ghco", "link": "https://stackoverflow.com/users/5280392/ghco"}, "edited": false, "score": 0, "creation_date": 1527064075, "post_id": 50482975, "comment_id": 87979808, "body": "i want to call getdetail() function inside html, to get the data  such as price in USD , high, low  on the html."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5280392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52bbbbaa9627c67ac4e67025d1088099?s=128&d=identicon&r=PG&f=1", "display_name": "ghco", "link": "https://stackoverflow.com/users/5280392/ghco"}, "edited": false, "score": 0, "creation_date": 1527074783, "post_id": 50483440, "comment_id": 87987049, "body": "It is working on test page, but when i  apply on real project it is looping. i will refactor the code and see why it is not working."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5283119"}, "edited": false, "score": 0, "creation_date": 1527235602, "post_id": 50483440, "comment_id": 88060682, "body": "Double check that the old file isn&#39;t cached, it looks like you&#39;re using chrome so open up chrome devtools (mac) <code>cmd+opt+i</code> / Network Tab / Along the top you&#39;ll find a disable cache checkbox."}], "tags": [], "owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "is_accepted": true, "score": 3, "last_activity_date": 1527064146, "creation_date": 1527064146, "answer_id": 50483440, "question_id": 50482975, "link": "https://stackoverflow.com/questions/50482975/subscribe-function-causes-loop/50483440#50483440", "title": "subscribe function causes loop", "body": "<p>Yes. </p>\n\n<p><code>&lt;span [ngClass]=\"getdetail('BTC')\" class=\"bold1\"&gt;{{ coins }}&lt;/span&gt;</code></p>\n\n<p>Is the problem. The <code>ngClass</code> tries to set a <code>string</code> value for the <code>class</code>. (So you can apply css). This is not what you're trying to do, you're trying to retrieve all the coins and then display them. </p>\n\n<p>The way to do this is like so: </p>\n\n<pre><code>datainfo: Observable&lt;any&gt;;  \ncoins:any;\n\nconstructor(public navCtrl: NavController, public navParams: NavParams, public http: HttpClient) \n{}\n// load the coins after the view is loaded, can also be done on ngOnInit\nionViewDidLoad(){   \n    this.getDetail('BTC'); \n}\n\ngetdetail(coin) {\n    this.datainfo = this.http.get(\"https://min-api.cryptocompare.com/data/pricemultifull?fsyms=\"+coin+\"&amp;tsyms=USD\");\n    this.datainfo\n      .map(res=&gt;res)\n      .subscribe(data =&gt; {\n        this.coins = data\n        console.log('my data: ', this.coins);\n    });\n}\n</code></pre>\n\n<p>And simply setting</p>\n\n<pre><code>&lt;ion-content padding&gt;\n\n  &lt;div style=\"text-align: center;\"&gt;\n    &lt;!-- the ngIf directive will only show this span if `coins` is defined --&gt;    \n    &lt;span *ngIf=\"coins\" class=\"bold1\"&gt;{{ coins }}&lt;/span&gt; \n\n&lt;/div&gt; \n&lt;/ion-content&gt;\n</code></pre>\n\n<hr>\n\n<p>If you want to create more coins, the best practice would probably as follows:</p>\n\n<pre><code>  let coinList = [\"BTC\", \"ETH\", \"LTE\"];\n\n  constructor(/* ... */) {}\n\n\n  getDetail(coin): Observable&lt;any&gt; {\n    // don't subscribe, return Observable\n    this.http.get(\"...\").map(res=&gt;res);\n  }\n</code></pre>\n\n<p>And in your html</p>\n\n<pre><code>&lt;ion-content padding&gt;\n\n  &lt;div style=\"text-align: center;\"&gt;\n\n    &lt;span *ngFor=\"let coin of coinList\" class=\"bold1\"&gt;\n       {{ getDetail(coin) | async }}\n    &lt;/span&gt; \n&lt;/div&gt; \n&lt;/ion-content&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 5280392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52bbbbaa9627c67ac4e67025d1088099?s=128&d=identicon&r=PG&f=1", "display_name": "ghco", "link": "https://stackoverflow.com/users/5280392/ghco"}, "is_accepted": false, "score": 0, "last_activity_date": 1527235404, "last_edit_date": 1527235404, "creation_date": 1527235056, "answer_id": 50524247, "question_id": 50482975, "link": "https://stackoverflow.com/questions/50482975/subscribe-function-causes-loop/50524247#50524247", "title": "subscribe function causes loop", "body": "<p>I removed ngClass  as shown above , but still getting loop.</p>\n\n<blockquote>\n  <p>// data from library page    coinsGroup = [];</p>\n  \n  <p>datainfo: Observable;</p>\n  \n  <p>coins:any;</p>\n  \n  <p>constructor(public navCtrl: NavController, public navParams:\n  NavParams, public http: HttpClient)  {   }</p>\n  \n  <p>ionViewDidLoad()  {</p>\n  \n  <p>console.log('ionViewDidLoad TestPage');\n      this.coinsGroup = this.navParams.data;   }</p>\n  \n  <p>getdetail(coin) {</p>\n\n<pre><code>this.datainfo = this.http.get(\"https://min-api.cryptocompare.com/data/pricemultifull?fsyms=\"+coin+\"&amp;tsyms=USD\");\nthis.datainfo.map(res =&gt; res)\n.subscribe(data =&gt; {\n  this.coins = data['DISPLAY'][coin]['USD']['PRICE']\n  console.log('my data: ', this.coins);\n});   }\n</code></pre>\n</blockquote>\n\n<p>on test.html</p>\n\n<p>*ngIf=\"coinsGroup.symbol\"  class=\"bold1\"></p>\n\n<p>{{getDetail(coinsGroup.symbol)}}</p>\n\n<p><a href=\"https://i.stack.imgur.com/KQDSE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KQDSE.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 5280392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52bbbbaa9627c67ac4e67025d1088099?s=128&d=identicon&r=PG&f=1", "display_name": "ghco", "link": "https://stackoverflow.com/users/5280392/ghco"}, "edited": false, "score": 0, "creation_date": 1527240620, "post_id": 50524763, "comment_id": 88063566, "body": "That way i&#39;m getting looping, Thanks."}], "tags": [], "owner": {"reputation": 674, "user_id": 1641812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/augVF.jpg?s=128&g=1", "display_name": "Pierre", "link": "https://stackoverflow.com/users/1641812/pierre"}, "is_accepted": false, "score": 1, "last_activity_date": 1527236820, "creation_date": 1527236820, "answer_id": 50524763, "question_id": 50482975, "link": "https://stackoverflow.com/questions/50482975/subscribe-function-causes-loop/50524763#50524763", "title": "subscribe function causes loop", "body": "<p>Your view should be passive, it should just display the results. here you're calling a function in the view display which changes the data, which potentialy changes the view, which changes the data...and so on...</p>\n"}], "owner": {"reputation": 45, "user_id": 5280392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52bbbbaa9627c67ac4e67025d1088099?s=128&d=identicon&r=PG&f=1", "display_name": "ghco", "link": "https://stackoverflow.com/users/5280392/ghco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 50483440, "answer_count": 3, "score": 3, "last_activity_date": 1527236820, "creation_date": 1527062555, "last_edit_date": 1527235147, "question_id": 50482975, "link": "https://stackoverflow.com/questions/50482975/subscribe-function-causes-loop", "title": "subscribe function causes loop", "body": "<p>I'm trying to use API from cryptocompar to get data.</p>\n\n<p>Updated with more details and removed ngClass from the code.\nIn test.ts</p>\n\n<pre><code>   // data from library page\n   coinsGroup = [];\n\n datainfo: Observable&lt;any&gt;;\n\n\n  coins:any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public http: HttpClient) \n{\n  }\n\n\n  ionViewDidLoad() \n{\n\nconsole.log('ionViewDidLoad TestPage');\n    this.coinsGroup = this.navParams.data;\n  }\n\n getdetail(coin) {\n\n    this.datainfo = this.http.get(\"https://min-api.cryptocompare.com/data/pricemultifull?fsyms=\"+coin+\"&amp;tsyms=USD\");\n    this.datainfo.map(res =&gt; res)\n    .subscribe(data =&gt; {\n      this.coins = data['DISPLAY'][coin]['USD']['PRICE']\n      console.log('my data: ', this.coins);\n    });\n  }\n</code></pre>\n\n<p>on test.html</p>\n\n<p><i></p>\n\n<p></p>\n\n<p></p>\n\n<pre><code> &lt;span *ngIf=\"coinsGroup.symbol\"  class=\"bold1\"&gt;\n\n {{getDetail(coinsGroup.symbol)}}&lt;/span&gt;  \n</code></pre>\n\n<p> \n</p>\n\n<p></i>\ncoinsGroup will take symbol from library page such as ['BTC','ETH',..etc]</p>\n\n<p>On the console on chrom it keeps looping as showing below, until browser crash.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZDVcz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDVcz.png\" alt=\"enter image description here\"></a></p>\n\n<p>When used subscribe() with map it causes endless loop as showing above, not sure why, and how to solve this problem?</p>\n"}, {"tags": ["angular", "typescript", "unicode"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9833005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b47e0077430342ae224a78d05815fa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrej", "link": "https://stackoverflow.com/users/9833005/andrej"}, "edited": false, "score": 0, "creation_date": 1527083250, "post_id": 50483270, "comment_id": 87993056, "body": "Thanks for your answer. Solved the problem by saving the file with coding ( VS2017 -&gt; File-&gt; Save as -&gt; Dropdown at &quot;Save&quot; -&gt; Save with Coding)"}], "tags": [], "owner": {"reputation": 366, "user_id": 7628901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/948e97846cbc22ccf831ba887a3db3c8?s=128&d=identicon&r=PG&f=1", "display_name": "Abylay", "link": "https://stackoverflow.com/users/7628901/abylay"}, "is_accepted": true, "score": 1, "last_activity_date": 1527063553, "creation_date": 1527063553, "answer_id": 50483270, "question_id": 50482830, "link": "https://stackoverflow.com/questions/50482830/how-to-display-unicode-from-typescript-into-html-with-angular/50483270#50483270", "title": "How to display unicode from Typescript into Html with Angular", "body": "<p>Your example worked in stackblitz. But you can try use [innerHTML] attribute. <a href=\"https://stackblitz.com/edit/angular-jrbupt?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">Here</a> example in stackblitz.</p>\n\n<p><strong>example.html</strong></p>\n\n<pre><code>&lt;div class=\"col\" *ngFor=\"let currentAdItem of adDummy\"&gt;\n  &lt;h4 [innerHTML]=\"concateItem(currentAdItem)\"&gt;&lt;/h4&gt;\n  &lt;div&gt;\n    Current printer connections\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>example.ts</strong></p>\n\n<pre><code>adDummy = [\n{\n  name: \"hanz\",\n  domain: \"test.de\",\n  adPath: \"CN=hanz,OU=Anwender,OU=Simmern,OU=test,DC=de\",\n  icon: \"user.ico\"\n},\n{\n  name: \"Hanz2\",\n  domain: \"ok.de\",\n  adPath: \"CN=Hanz2,OU=Anwender,OU=K\u00f6ln,OU=ok,DC=de\",\n  icon: \"user.ico\"\n}];\n\nconcateItem(currentAdItem: any) {\n  return `User ${currentAdItem.name} (Logon name: ${currentAdItem.adPath})`\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9833005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b47e0077430342ae224a78d05815fa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrej", "link": "https://stackoverflow.com/users/9833005/andrej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1061, "favorite_count": 1, "accepted_answer_id": 50483270, "answer_count": 1, "score": 0, "last_activity_date": 1527066396, "creation_date": 1527062076, "last_edit_date": 1527066396, "question_id": 50482830, "link": "https://stackoverflow.com/questions/50482830/how-to-display-unicode-from-typescript-into-html-with-angular", "title": "How to display unicode from Typescript into Html with Angular", "body": "<p>i\u00b4m using angular 5 and i want to display a string from a typescript file, which contains unicode into the html file.</p>\n\n<p>example.component.ts</p>\n\n<pre><code>adDummy: AdDataDummy[] = [\n    {\n        name: \"hanz\",\n        domain: \"test.de\",\n        adPath: \"CN=hanz,OU=Anwender,OU=Kunz,OU=test,DC=de\",\n        icon: \"user.ico\"\n    },\n    {\n        name: \"Hanz2\",\n        domain: \"ok.de\",\n        adPath: \"CN=Hanz2,OU=Anwender,OU=K\u00f6ln,OU=ok,DC=de\",\n        icon: \"user.ico\"\n    }];\n</code></pre>\n\n<p>example.component.html</p>\n\n<pre><code>&lt;div class=\"col\"&gt;\n    &lt;h4 &gt;User {{ currentAdItem.name }} (Logon name: {{ currentAdItem.adPath }})&lt;/h4&gt;\n    &lt;div&gt;\n        Current printer connections\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Outcome:</p>\n\n<pre><code>User Hanz (Logon name: CN=Hanz,OU=Anwender,OU=K\ufffdln,OU=K-is,DC=de)\n</code></pre>\n\n<p>K\ufffdln should be K\u00f6ln</p>\n"}, {"tags": ["angular", "typescript", "angular4-forms"], "comments": [{"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1527062097, "post_id": 50482775, "comment_id": 87978570, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component\">Detect click outside Angular component</a>"}, {"owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 1, "creation_date": 1527062165, "post_id": 50482775, "comment_id": 87978621, "body": "Maybe this helps you moving the focus automatically on the modal. <a href=\"https://www.w3.org/WAI/GL/wiki/Using_ARIA_role%3Ddialog_to_implement_a_modal_dialog_box\" rel=\"nofollow noreferrer\">w3.org/WAI/GL/wiki/&hellip;</a>"}, {"owner": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "edited": false, "score": 0, "creation_date": 1527062248, "post_id": 50482775, "comment_id": 87978673, "body": "I tried the described approach with <code>@HostListener(&#39;document:keydown&#39;)</code> (as mentioned) but it didn&#39;t work. I&#39;ll update the question."}, {"owner": {"reputation": 698, "user_id": 6599635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f2acfb2c6e0550a78d0940f815144c?s=128&d=identicon&r=PG&f=1", "display_name": "evayly", "link": "https://stackoverflow.com/users/6599635/evayly"}, "edited": false, "score": 1, "creation_date": 1527064992, "post_id": 50482775, "comment_id": 87980407, "body": "I have tested the code above and it&#39;s working for me (although i am on ng6). I think there is another problem with your code. Can you show how you are trying to close the modal? Maybe angular cannot detect your changes in the same tick? alternatively you could insert a console.log to check weather its called or not."}, {"owner": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "edited": false, "score": 0, "creation_date": 1527074154, "post_id": 50482775, "comment_id": 87986654, "body": "I did some deeper testing and it seems to be a timing problem (which was hard to discover). We develop our components with ngrx and, when return is pressed when the modal is open, not only the HostListener gets a key event, also the browser clicks the &quot;open modal&quot; button again. I will try to find a solution for this, but this question is resolved hereby... Is there a way to mark it as such?"}], "owner": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1527062322, "creation_date": 1527061923, "last_edit_date": 1527062322, "question_id": 50482775, "link": "https://stackoverflow.com/questions/50482775/listening-for-document-keyevents-in-angular-5", "title": "Listening for document keyevents in Angular 5", "body": "<p>We're developing a modal in Angular 5. For convenience, the user should be able to close it with the Escape key or select the default option by pressing return. I created a <code>@HostListener</code> in my <code>ModalComponent</code>:</p>\n\n<pre><code>@HostListener('window:keydown', ['$event'])\n  keyEvent(event: KeyboardEvent) {\n    if (event.keyCode === 13) { // Return key\n      const index = this.modal.buttons.findIndex(button =&gt; button.default);\n      if (index &gt;= 0) {\n        this.modal.buttons[index].fnc();\n      }\n    } else if (event.keyCode === 27) { // Escape key\n      this.closeModalAlt();\n    }\n  }\n</code></pre>\n\n<p>However, before the <code>HostListener</code> receives any key-event, <em>one has to click on the modal</em>. When the modal opens and a key is pressed, nothing happens. This is very unconvenient.</p>\n\n<p>I suppose the reason for this behaviour is the <code>ModalComponent</code> only listening for key-events when focused. I need <code>HostListener</code> to listen for document-wide key-events (<a href=\"https://stackoverflow.com/questions/40107008/detect-click-outside-angular-component\">I already tried</a> <code>@HostListener('document:keydown',..)</code>, it didn't work either). <strong>How can I make <code>@HostListener</code> listen to all key-events?</strong></p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9450294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da1328d1e6ce7bdecd4290e7d5e71d9?s=128&d=identicon&r=PG&f=1", "display_name": "TechoTek", "link": "https://stackoverflow.com/users/9450294/techotek"}, "edited": false, "score": 0, "creation_date": 1527060001, "post_id": 50482047, "comment_id": 87977196, "body": "I will try this and let you know"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 0, "last_activity_date": 1527059631, "creation_date": 1527059631, "answer_id": 50482047, "question_id": 50481991, "link": "https://stackoverflow.com/questions/50481991/disable-button-when-download-is-in-progress-angular-4/50482047#50482047", "title": "Disable button when download is in progress Angular 4", "body": "<p>Simply add a condition to your button : </p>\n\n<pre><code>&lt;button class=\"material-icons\" (click)=\"doTestReport()\" [disabled]=\"buttonDisabled\"&gt;&amp;#xE149;&lt;/button&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 9450294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da1328d1e6ce7bdecd4290e7d5e71d9?s=128&d=identicon&r=PG&f=1", "display_name": "TechoTek", "link": "https://stackoverflow.com/users/9450294/techotek"}, "edited": false, "score": 0, "creation_date": 1527060214, "post_id": 50482127, "comment_id": 87977325, "body": "how can I call downloadstart() and download stop method here. Sorry I am very new in angular"}, {"owner": {"reputation": 1009, "user_id": 8075097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-bukNJyy628w/AAAAAAAAAAI/AAAAAAAAADs/br1kyy0AkPo/photo.jpg?sz=128", "display_name": "faizan baig", "link": "https://stackoverflow.com/users/8075097/faizan-baig"}, "reply_to_user": {"reputation": 33, "user_id": 9450294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da1328d1e6ce7bdecd4290e7d5e71d9?s=128&d=identicon&r=PG&f=1", "display_name": "TechoTek", "link": "https://stackoverflow.com/users/9450294/techotek"}, "edited": false, "score": 0, "creation_date": 1527060322, "post_id": 50482127, "comment_id": 87977405, "body": "Those are just naming conventions i have used to give you an example. Just create the variable and set it to true when download starts and set it to false when download completes."}], "tags": [], "owner": {"reputation": 1009, "user_id": 8075097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-bukNJyy628w/AAAAAAAAAAI/AAAAAAAAADs/br1kyy0AkPo/photo.jpg?sz=128", "display_name": "faizan baig", "link": "https://stackoverflow.com/users/8075097/faizan-baig"}, "is_accepted": false, "score": 0, "last_activity_date": 1527059838, "creation_date": 1527059838, "answer_id": 50482127, "question_id": 50481991, "link": "https://stackoverflow.com/questions/50481991/disable-button-when-download-is-in-progress-angular-4/50482127#50482127", "title": "Disable button when download is in progress Angular 4", "body": "<p>Bind the disabled property to the button.</p>\n\n<p>Create the checkDownload boolean in your component.ts file and set it to true when you have started your download and set it to false when the download is completed or you've stopped it.</p>\n\n<pre><code>&lt;button class=\"material-icons\" [disabled]=\"checkDownload\" (click)=\"doTestReport()\" &gt;&amp;#xE149;&lt;/button&gt;\n</code></pre>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>checkDownload = false;\n\ndownloadStart() {\nthis.checkDownload = true;\n// your download code\n// download completed.\nthis.checkDownload = false;\n}\n\ndownloadStop() {\n// Stop code\nthis.checkDownload = false;\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9450294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da1328d1e6ce7bdecd4290e7d5e71d9?s=128&d=identicon&r=PG&f=1", "display_name": "TechoTek", "link": "https://stackoverflow.com/users/9450294/techotek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 50482047, "answer_count": 2, "score": 0, "last_activity_date": 1527062668, "creation_date": 1527059442, "last_edit_date": 1527062668, "question_id": 50481991, "link": "https://stackoverflow.com/questions/50481991/disable-button-when-download-is-in-progress-angular-4", "title": "Disable button when download is in progress Angular 4", "body": "<p>I am using angular 4 in my app. I implemented a download funtionality which will be processed after clicking one button. When download will finished user will see the download link below. Now the download data are coming from rest api. I am using ngx-progressbar to show progress while downloading. When user will click the download button each time he will get a notification \"OK\" or \"Not Ok\" (if error occurs in newtwork). I am very new in handling angular stuff now. I would like to disable the button while download is in progress.But in my case all the timeI can click the button, even it is in progress. I would like to kno whow can I make my button disabled. Here is my code. I am giving only related code for that</p>\n\n<p><strong>RESOLVED CODE</strong></p>\n\n<p>angular.ts</p>\n\n<pre><code>import { NgProgress } from 'ngx-progressbar';\n\nexport class downloadReportComponent implements OnInit {\n\nprivate buttonDisabled: boolean = false;\n\nconstructor( private websocketService: WebSocketService,\n             public progressService: NgProgress) {\n             }\n\nngOnInit() {\n    this.currentUser = this.authService.userSnapshot;\n    this.loadReportConfig();\n    this.downloadReport();\n}\n\ndownloadReport(){\n    //download report code\n}\nstartLoading() {\n    this.progressService.start();\n    this.buttonDisabled=true;\n}\n\nstopLoading() {\n    this.progressService.done();\n    this.buttonDisabled=false;\n}\n\ndoTestReport() {\n    this.buttonDisabled=true;\n    this.disco.getResourceTree().subscribe( api =&gt; {\n\n        this.http.get( api.metrics.test.uri )\n            .subscribe( r =&gt; {\n                if(r!=null) {\n                    this.notificationService.showOK(\"OK\");\n                    this.buttonDisabled=false;\n                }\n                }, e =&gt; {\n                this.notificationService.showError( \"not so OK\" );\n                console.log( \"error\", e );\n            } );\n    } );\n</code></pre>\n\n<p>HTML Code:</p>\n\n<pre><code>&lt;div fxLayout=\"row\" fxLayoutAlign=\"right\" class=\"overview-actions\"&gt;\n&lt;mat-card-actions &gt;\n&lt;button class=\"material-icons\" (click)=\"doTestReport()\" [disabled]=\"buttonDisabled\" &gt;&amp;#xE149;&lt;/button&gt;\n&lt;/mat-card-actions&gt;\n&lt;/div&gt;\n&lt;ng-progress\n        [minimum]=\"0.15\"\n        [maximum]=\"1\"\n        [positionUsing]=\"'marginLeft'\"\n        [direction]=\"'leftToRightIncreased'\"\n        [color]= \"'#f5f5f5'\"\n        [trickleSpeed]=\"500\"\n        [thick]=\"true\"\n        [ease]=\"'linear'\"&gt;\n&lt;/ng-progress&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "google-chrome", "setinterval"], "owner": {"reputation": 80, "user_id": 2002627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33854672858321e0aef9c9ad9c0ca67d?s=128&d=identicon&r=PG", "display_name": "kaustubh", "link": "https://stackoverflow.com/users/2002627/kaustubh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2767, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1542348960, "creation_date": 1527058684, "last_edit_date": 1527062527, "question_id": 50481752, "link": "https://stackoverflow.com/questions/50481752/i-am-getting-violation-setinterval-handler-took-n-ms-warning-in-chrome-dev-a", "title": "I am getting [Violation] &#39;setInterval&#39; handler took N ms warning in chrome dev and after that application get freezed", "body": "<p>On running a setInterval call I am getting this issue. \n[Violation] 'setInterval' handler took ms\nIn my understanding we get this issue when we write a code inside setInterval which takes more time to execute. My problem is how to solve this issue if there is no way I can alter the code running inside setInterval.</p>\n\n<pre><code>let cardInterval = setInterval(() =&gt; {\n    if (self.filterObject != undefined) {\n      self.getFilteredListOfTurbine(self.globalFilterService.getUpdatedTurbineListWithOperatingMode(self.listOfTurbine)).then((response) =&gt; {\n        self.cardData.turbines = response;\n        self.cardData.recalculate();\n        observable.next(self.cardData);\n      })\n    } else {\n      self.cardData.turbines = self.globalFilterService.getUpdatedTurbineListWithOperatingMode(self.listOfTurbine);\n      self.cardData.recalculate();\n      observable.next(self.cardData);\n    }\n  }, 1000);\n</code></pre>\n\n<p>The above code works fine when self.filterObject is undefined but when its not It need to do a extra filtering which is in self.getFilteredListOfTurbine.</p>\n\n<pre><code>  getFilteredListOfTurbine(listOfTurbine): Promise&lt;Turbine[]&gt; {\nreturn new Promise((resolve) =&gt; {\n  if (this.filterObject == undefined) {\n    return listOfTurbine;\n  }\n  let self = this;\n  let listOfFilteredTurbine = new Array&lt;Turbine&gt;();\n  listOfTurbine.forEach((turbine, i) =&gt; {\n    if (self.filterObject.wf.includes(turbine.wfoid) &amp;&amp; self.filterObject.tu.includes(turbine.turbineserialnumber) &amp;&amp; self.filterObject.tt.includes(turbine.hwtype) &amp;&amp; self.filterObject.om.includes(turbine.turbineoperatingmode)) {\n      if (self.filterObject.ro &amp;&amp; self.filterObject.ro.length &gt; 0) {\n        let addTurbine = this.applyRulesOnTurbine(turbine, self.getRuleObject());\n        if (addTurbine) {\n          listOfFilteredTurbine.push(turbine);\n        }\n      }\n      else {\n        listOfFilteredTurbine.push(turbine);\n      }\n    }\n    if (i == listOfTurbine.length - 1) {\n      return resolve(listOfFilteredTurbine);\n    }\n  })\n})\n</code></pre>\n\n<p>}</p>\n\n<p>I dont feel I could change the logic of filtering here. Please help me in fixing this violation issue.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 1, "creation_date": 1527052639, "post_id": 50480160, "comment_id": 87973847, "body": "simply: const initialGroceriesState: IGroceries = {   fruit: &#39;APPLE&#39;,   vegetables: [] }"}], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 3, "last_activity_date": 1527052650, "last_edit_date": 1527052650, "creation_date": 1527052178, "answer_id": 50480234, "question_id": 50480160, "link": "https://stackoverflow.com/questions/50480160/define-a-typescript-interface-where-a-property-is-an-existing-objects-propertie/50480234#50480234", "title": "Define A Typescript Interface Where A Property Is An Existing Object&#39;s Properties", "body": "<p>One of the options is switching to <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-4.html#string-enums\" rel=\"nofollow noreferrer\">string enum</a>:</p>\n\n<pre><code>enum Fruits {\n    APPLE = 'APPLE',\n    BANANA = 'BANANA',\n    ORANGE = 'ORANGE'\n}\n\ninterface IGroceries {\n    fruit: Fruits,\n    vegetables: string[]\n}\n\nconst initialGroceriesState: IGroceries = {\n    fruit: Fruits.APPLE,\n    vegetables: []\n}\n</code></pre>\n\n<p>Another option is correcting the typing of the existing object:</p>\n\n<pre><code>type Fruits = 'APPLE' | 'BANANA' | 'ORANGE';\n\nconst fruits: { [key: string]: Fruits } = {\n    APPLE: 'APPLE',\n    BANANA: 'BANANA',\n    ORANGE: 'ORANGE'\n}\n\ninterface IGroceries {\n    fruit: Fruits,\n    vegetables: string[]\n}\n\nconst initialGroceriesState: IGroceries = {\n    fruit: fruits.APPLE,\n    vegetables: []\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 0, "last_activity_date": 1527059992, "last_edit_date": 1527059992, "creation_date": 1527059677, "answer_id": 50482069, "question_id": 50480160, "link": "https://stackoverflow.com/questions/50480160/define-a-typescript-interface-where-a-property-is-an-existing-objects-propertie/50482069#50482069", "title": "Define A Typescript Interface Where A Property Is An Existing Object&#39;s Properties", "body": "<p><code>fruits</code> key values are inferred to strings. This results in error, because <code>Fruits</code> is assignable to string type but not vice versa.</p>\n\n<p>In order to avoid this, <code>fruits</code> type should be specified explicitly:</p>\n\n<pre><code>const fruits: { [K in Fruits]: K } = {\n    APPLE: 'APPLE',\n    BANANA: 'BANANA',\n    ORANGE: 'ORANGE'\n};\n</code></pre>\n\n<p>An another way is to use string enum, as another answer suggests. Depending on the case, this may or may not be desirable.</p>\n"}], "owner": {"reputation": 1041, "user_id": 949547, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1273620873/picture?type=large", "display_name": "Jon Lamb", "link": "https://stackoverflow.com/users/949547/jon-lamb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 50480234, "answer_count": 2, "score": 0, "last_activity_date": 1527059992, "creation_date": 1527051747, "question_id": 50480160, "link": "https://stackoverflow.com/questions/50480160/define-a-typescript-interface-where-a-property-is-an-existing-objects-propertie", "title": "Define A Typescript Interface Where A Property Is An Existing Object&#39;s Properties", "body": "<p>What is the best way to define an interface where one of the properties could be any of the properties on an existing object. In this case I have an object called fruits where I am simply storing a number of string constants and I want to define an interface (groceries) such that one of the properties (fruit) could be any of the string constants in the fruits object.</p>\n\n<pre><code>type Fruits = 'APPLE' | 'BANANA' | 'ORANGE';\n\nconst fruits = {\n    APPLE: 'APPLE',\n    BANANA: 'BANANA',\n    ORANGE: 'ORANGE'\n}\n\ninterface IGroceries {\n    fruit: Fruits,\n    vegetables: string[]\n}\n\nconst initialGroceriesState: IGroceries = {\n    fruit: fruits.APPLE,\n    vegetables: []\n}\n</code></pre>\n\n<p>This is my best attempt but this will throw an error saying:</p>\n\n<pre><code>Type '{ fruit: string; vegetables: never[]; }' is not assignable to type 'IGroceries'.\n  Types of property 'fruit' are incompatible.\n    Type 'string' is not assignable to type 'Fruits'.\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 20897, "user_id": 1169519, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/j4Iyy.png?s=128&g=1", "display_name": "Teemu", "link": "https://stackoverflow.com/users/1169519/teemu"}, "edited": false, "score": 2, "creation_date": 1527050232, "post_id": 50479866, "comment_id": 87973126, "body": "&quot;<i>I get 2 arrays instead</i>&quot; No you don&#39;t, you get a single array twice."}, {"owner": {"reputation": 112016, "user_id": 15031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dfc9c03509b7d2d1646b21cb8de8ec5a?s=128&d=identicon&r=PG", "display_name": "Jonathan Lonowski", "link": "https://stackoverflow.com/users/15031/jonathan-lonowski"}, "edited": false, "score": 1, "creation_date": 1527050295, "post_id": 50479866, "comment_id": 87973146, "body": "This may help: <a href=\"https://stackoverflow.com/questions/10865025/merge-flatten-an-array-of-arrays-in-javascript\">Merge/flatten an array of arrays in JavaScript?</a>"}, {"owner": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "reply_to_user": {"reputation": 112016, "user_id": 15031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dfc9c03509b7d2d1646b21cb8de8ec5a?s=128&d=identicon&r=PG", "display_name": "Jonathan Lonowski", "link": "https://stackoverflow.com/users/15031/jonathan-lonowski"}, "edited": false, "score": 0, "creation_date": 1527050485, "post_id": 50479866, "comment_id": 87973194, "body": "Thanks @JonathanLonowski"}], "answers": [{"tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 4, "last_activity_date": 1527050672, "last_edit_date": 1527050672, "creation_date": 1527050371, "answer_id": 50479907, "question_id": 50479866, "link": "https://stackoverflow.com/questions/50479866/array-map-not-returning-a-single-array/50479907#50479907", "title": "array.map() not returning a single array", "body": "<p>Right now, you're calling <code>map</code> for <em>each</em> element in <code>arrayVal</code>, so you get two arrays. Use <code>reduce</code> instead, to transform an array of objects into another array <em>that's not necessarily one-to-one</em> with the input elements:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arrayVal=[{sources:{data:[{id:1}]}},{sources:{data:[{id:2}]}}];\r\n\r\nconst result = arrayVal.reduce((a, { sources: { data } }) =&gt; (\r\n  [...a, ...data.map(({ id }) =&gt; id)]\r\n), []);\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1675, "user_id": 2772066, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/B96yH.jpg?s=128&g=1", "display_name": "Gaurav joshi", "link": "https://stackoverflow.com/users/2772066/gaurav-joshi"}, "is_accepted": false, "score": 3, "last_activity_date": 1527050374, "creation_date": 1527050374, "answer_id": 50479909, "question_id": 50479866, "link": "https://stackoverflow.com/questions/50479866/array-map-not-returning-a-single-array/50479909#50479909", "title": "array.map() not returning a single array", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>arrayVal = [{\r\n    sources: {\r\n      data: [{\r\n        id: 1\r\n      }]\r\n    }\r\n  },\r\n  {\r\n    sources: {\r\n      data: [{\r\n        id: 2\r\n      }]\r\n    }\r\n  }\r\n]\r\n\r\nlet result = [];\r\nfor (let sub of arrayVal) {\r\n  result = result.concat(sub.sources.data.map(x =&gt; (x.id)))\r\n\r\n}\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I think <code>concat</code> is what you were missing here, Hope this is what you trying to achieve</p>\n"}, {"tags": [], "owner": {"reputation": 26836, "user_id": 1132354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BaAv.png?s=128&g=1", "display_name": "Nikhil Aggarwal", "link": "https://stackoverflow.com/users/1132354/nikhil-aggarwal"}, "is_accepted": true, "score": 3, "last_activity_date": 1527050836, "last_edit_date": 1527050836, "creation_date": 1527050444, "answer_id": 50479921, "question_id": 50479866, "link": "https://stackoverflow.com/questions/50479866/array-map-not-returning-a-single-array/50479921#50479921", "title": "array.map() not returning a single array", "body": "<p>Try following</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arrayVal = [{sources: {data: [{id: 1}]}},{sources: {data: [{id: 2}]}}];\r\n\r\n// Create an array on sources.data and merge it into 1 collection (array)\r\nvar result = arrayVal.reduce((a, c) =&gt; [...a, ...c.sources.data.map(({id}) =&gt; id)], []);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For reference, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">Array.reduce</a></p>\n\n<p>Also, you can improve your code as follows</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arrayVal = [{sources: {data: [{id: 1}]}},{sources: {data: [{id: 2}]}}];\r\n\r\nlet result = [];\r\nfor (let sub of arrayVal) {\r\n  result.push(sub.sources.data.map(x =&gt; (x.id)));\r\n}\r\nconsole.log([].concat(...result))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1527050807, "post_id": 50479985, "comment_id": 87973279, "body": "This does not work if <code>data</code> has more than one element."}], "tags": [], "owner": {"reputation": 26, "user_id": 9259148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd75d08eadd614f8145eadccf8060421?s=128&d=identicon&r=PG&f=1", "display_name": "ekbgh", "link": "https://stackoverflow.com/users/9259148/ekbgh"}, "is_accepted": false, "score": 1, "last_activity_date": 1527050779, "creation_date": 1527050779, "answer_id": 50479985, "question_id": 50479866, "link": "https://stackoverflow.com/questions/50479866/array-map-not-returning-a-single-array/50479985#50479985", "title": "array.map() not returning a single array", "body": "<p>Try this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>arrayVal = [{\r\n    sources: {\r\n      data: [{\r\n        id: 1\r\n      }]\r\n    }\r\n  },\r\n  {\r\n    sources: {\r\n      data: [{\r\n        id: 2\r\n      }]\r\n    }\r\n  }\r\n]\r\n\r\nlet result = arrayVal.map((x) =&gt; x.sources.data[0].id)\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 515, "user_id": 6842291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yguLA.jpg?s=128&g=1", "display_name": "Neeraj Wadhwa", "link": "https://stackoverflow.com/users/6842291/neeraj-wadhwa"}, "is_accepted": false, "score": 1, "last_activity_date": 1527050926, "creation_date": 1527050926, "answer_id": 50480014, "question_id": 50479866, "link": "https://stackoverflow.com/questions/50479866/array-map-not-returning-a-single-array/50480014#50480014", "title": "array.map() not returning a single array", "body": "<p>You can do something like this:</p>\n\n<pre><code>arrayVal = [{\n    sources: {\n      data: [{\n        id: 1\n      }]\n    }\n  },\n  {\n    sources: {\n      data: [{\n        id: 2\n      }]\n    }\n  }\n]\n\nvar flat = arrayVal.reduce(function(prev,curr,cI){\n  prev.push(curr.sources.data.map(x =&gt; (x.id))[0]);\n  return prev; // *********  Important ******\n}, []);\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 8564748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3507d3d1fd8f555e4fc7d2995ffe2716?s=128&d=identicon&r=PG&f=1", "display_name": "Hopez", "link": "https://stackoverflow.com/users/8564748/hopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 50479921, "answer_count": 5, "score": 2, "last_activity_date": 1527050926, "creation_date": 1527050126, "last_edit_date": 1527050192, "question_id": 50479866, "link": "https://stackoverflow.com/questions/50479866/array-map-not-returning-a-single-array", "title": "array.map() not returning a single array", "body": "<p>I have the code below which I expect to map the result from the nested array and return a single array having both id's but I get 2 arrays instead. Can someone please guide me on what I'm doing wrongly?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>arrayVal = [{\r\n    sources: {\r\n      data: [{\r\n        id: 1\r\n      }]\r\n    }\r\n  },\r\n  {\r\n    sources: {\r\n      data: [{\r\n        id: 2\r\n      }]\r\n    }\r\n  }\r\n]\r\n\r\nfor (let sub of arrayVal) {\r\n  let result = sub.sources.data.map(x =&gt; (x.id))\r\n  console.log(result)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 376, "user_id": 3680084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6c8c1ae66c4495fcba38b6f6d29315?s=128&d=identicon&r=PG", "display_name": "marcelotokarnia", "link": "https://stackoverflow.com/users/3680084/marcelotokarnia"}, "edited": false, "score": 0, "creation_date": 1527049840, "post_id": 50479808, "comment_id": 87973026, "body": "I don&#39;t really want to add <code>&quot;noImplicitAny&quot;: false,</code> to my tsconfig.json :( I really wished to solve this &quot;the right way&quot;"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1527050426, "post_id": 50479808, "comment_id": 87973175, "body": "<code>export default class GMaps</code> - but you&#39;re not importing default, you&#39;re importing <code>*</code>."}, {"owner": {"reputation": 376, "user_id": 3680084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6c8c1ae66c4495fcba38b6f6d29315?s=128&d=identicon&r=PG", "display_name": "marcelotokarnia", "link": "https://stackoverflow.com/users/3680084/marcelotokarnia"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1527050732, "post_id": 50479808, "comment_id": 87973255, "body": "You are right @estus I changed to    <code>export function install(Vue: typeof _Vue, options?: any): void</code> and it works!  lol I knew I was missing something silly. Thank you very much. I was on it for hours!"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1527067021, "post_id": 50479808, "comment_id": 87981837, "body": "Glad it helped."}, {"owner": {"reputation": 325, "user_id": 781590, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/trAJj.jpg?s=128&g=1", "display_name": "Andrew Bernhagen", "link": "https://stackoverflow.com/users/781590/andrew-bernhagen"}, "edited": false, "score": 0, "creation_date": 1545425493, "post_id": 50479808, "comment_id": 94628376, "body": "@marcelotokarnia Can you share what your final files looked like?  Also, an example of how you used it?  Hoping to save myself the hours that you spent on this :)"}], "owner": {"reputation": 376, "user_id": 3680084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6c8c1ae66c4495fcba38b6f6d29315?s=128&d=identicon&r=PG", "display_name": "marcelotokarnia", "link": "https://stackoverflow.com/users/3680084/marcelotokarnia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527049758, "creation_date": 1527049758, "question_id": 50479808, "link": "https://stackoverflow.com/questions/50479808/cant-import-untyped-npm-module", "title": "Can&#39;t import untyped npm module", "body": "<p>I added <code>paths</code> and <code>baseUrl</code> to my <code>tsconfig.json</code></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./built/\",\n        \"sourceMap\": true,\n        \"baseUrl\": \".\",\n        \"paths\": {\n          \"*\": [ \"./typings/*\" ]\n        },\n        \"strict\": true,\n        \"noImplicitReturns\": true,\n        \"module\": \"es2015\",\n        \"moduleResolution\": \"node\",\n        \"target\": \"es5\"\n    },\n    \"include\": [\n        \"./src/**/*\"\n    ]\n}\n</code></pre>\n\n<p>I'm new to Typescript, I really looked it through but couldn't solve my issue.</p>\n\n<p>I'm trying to: </p>\n\n<pre><code>--index.ts\nimport * as VueGoogleMaps from \"vue2-google-maps\"\nVue.use(VueGoogleMaps, {\n load: {\n   key: GMAPS_KEY,\n   libraries: 'places',\n }\n}\n</code></pre>\n\n<p>I keep getting the error:\n<code>TS2345: Argument of type 'typeof 'vue2-google-maps'' is not assignable to parameter of type 'PluginObject&lt;any&gt; | PluginFunction&lt;any&gt;'.</code></p>\n\n<p>I tried a bunch of stuff with <code>./typings/index.d.ts</code></p>\n\n<p>But I'm missing the fundamentals, I know the <code>VueGoogleMaps</code> should have a type of PluginObject, but I don't know the syntax to declare it.</p>\n\n<p>I tried: </p>\n\n<pre><code>declare module 'vue2-google-maps' {\n  import _Vue from 'vue'\n  import { PluginObject, PluginFunction } from \"vue/types/plugin\"\n  export default class GMaps&lt;T&gt; implements PluginObject&lt;T&gt; {\n    install(Vue: typeof _Vue, options?: T): void\n  }\n}\n</code></pre>\n\n<p>Any help is appreciated</p>\n"}, {"tags": ["html", "typescript", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1527050278, "post_id": 50478804, "comment_id": 87973142, "body": "There is no <code>object</code> in the code you&#39;ve posted. Consider providing <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> that can replicate the issue. Currently you&#39;re the only person who can debug the error and track it to the line where it appears."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1527052877, "post_id": 50478804, "comment_id": 87973926, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50374194/error-typeerror-object-is-not-a-function-using-angularfirestore-and-fire\">&quot;ERROR TypeError: Object(...) is not a function&quot; using AngularFirestore and firebase</a>"}, {"owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1527076427, "post_id": 50478804, "comment_id": 87988133, "body": "Are you sure that <code>c.payload.val</code> is a function and not an Object (holding data or maybe even holding a function)"}], "owner": {"reputation": 1, "user_id": 8261858, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NLAd3POPQN4/AAAAAAAAAAI/AAAAAAAAAGQ/bpT-Bqqnq0o/photo.jpg?sz=128", "display_name": "Guilherme Gomes", "link": "https://stackoverflow.com/users/8261858/guilherme-gomes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527040977, "creation_date": 1527040977, "question_id": 50478804, "link": "https://stackoverflow.com/questions/50478804/runtime-error-object-is-not-a-function", "title": "Runtime Error = object is not a function", "body": "<p>I'm developing my first aplication with Ionic, and would like to display the firebase data at home.html, but when I start the serve show me this message in browser:</p>\n\n<pre><code>object(...) is not a function\n</code></pre>\n\n<p>I create this code at home.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, IonicPage } from 'ionic-angular'; \nimport { ShoppingListService } from '../../services/shopping-list/shopping-list.service';\nimport { AjaxObservable } from 'rxjs/observable/dom/AjaxObservable';\nimport { Observable } from 'rxjs/Observable';\nimport { Item } from '../../models/item/item.model';\n\n@IonicPage()\n@Component({\n   selector: 'page-home',\n   templateUrl: 'home.html'\n})\nexport class HomePage { \n\n  shoppingList$ : Observable &lt;Item[]&gt;;\n\n  constructor(public navCtrl: NavController, private shopping:ShoppingListService) {\nthis.shoppingList$ = this.shopping\n.getShoppingList() //pega a lista do banco de dados\n.snapshotChanges() //chave e valor das infos do bd\n.map(changes =&gt; {\n    return changes.map(c =&gt; ({\n      key: c.payload.key, \n      ...c.payload.val(),\n    }));\n  });\n}\n\n\n\n}\n</code></pre>\n\n<p>After this, I create the home.html:</p>\n\n<pre><code>&lt;ion-content padding&gt;\n  &lt;ion-list&gt;\n    &lt;ion-list-header&gt;\n  Items\n&lt;/ion-list-header&gt;\n&lt;ion-item *ngFor=\"let item of shoppingList$ | async\"&gt;\n  {{item.nomecontratante}}\n\n&lt;/ion-item&gt;\n&lt;/ion-list&gt;\n\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>Thanks for help me!</p>\n"}, {"tags": ["angular", "typescript", "ngrx", "ngrx-entity"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 2, "creation_date": 1527041252, "post_id": 50478554, "comment_id": 87971267, "body": "You&#39;ve shown the declaration for the <code>string[] | number[]</code>, but what&#39;s the code that effects the <code>(string | number)[]</code>? You should use one or the other, I guess."}], "answers": [{"tags": [], "owner": {"reputation": 5358, "user_id": 4125622, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/0JLza.png?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/4125622/phil"}, "is_accepted": true, "score": 1, "last_activity_date": 1527050114, "creation_date": 1527050114, "answer_id": 50479864, "question_id": 50478554, "link": "https://stackoverflow.com/questions/50478554/typescript-ngrx-type-mismatch-between-stringnumber-and-stringnumber/50479864#50479864", "title": "typescript ngrx type mismatch between (string|number)[] and string[]|number[]", "body": "<p><code>(string|number)[]</code> is an array that can contain string or number elements </p>\n\n<p><code>string[] | number[]</code> is EITHER an array of strings OR an array of numbers.</p>\n\n<p>First would allow arrays like <code>[1, \"2\", 3]</code>, second would not allow them. Thus the compiler complains, for your safety. Solution: use only one of the two.</p>\n"}], "owner": {"reputation": 241, "user_id": 3938359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/522c832bcb9eceef797212e83832faac?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish Patel", "link": "https://stackoverflow.com/users/3938359/ashish-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 50479864, "answer_count": 1, "score": 0, "last_activity_date": 1527050114, "creation_date": 1527038753, "question_id": 50478554, "link": "https://stackoverflow.com/questions/50478554/typescript-ngrx-type-mismatch-between-stringnumber-and-stringnumber", "title": "typescript ngrx type mismatch between (string|number)[] and string[]|number[]", "body": "<p>I am trying to upgrade my angular app to 5.2.10 with other following libraries:\nngrx 5.2.0\ntypescript: 2.6.2\ntslint 5.10.0</p>\n\n<p>and hitting following errors during angular compilation:</p>\n\n<p>`</p>\n\n<pre><code>ERROR in src/app/**/xxx-state.ts(301,5): error TS2322: Type '(string | number)[]' is not assignable to type 'string[] | number[]'.\n  Type '(string | number)[]' is not assignable to type 'number[]'.\n    Type 'string | number' is not assignable to type 'number'.\n      Type 'string' is not assignable to type 'number'.\nsrc/app/***/xxx-state.ts(305,5): error TS2322: Type '(string | number)[]' is not assignable to type 'string[] | number[]'.\n  Type '(string | number)[]' is not assignable to type 'number[]'.\n</code></pre>\n\n<p>`</p>\n\n<p>`</p>\n\n<pre><code>error TS2349: Cannot invoke an expression whose type lacks a call signature. Type '((searchElement: string, fromIndex?: number) =&gt; number) | ((searchElement: number, fromIndex?: nu...' has no compatible call signatures.\n</code></pre>\n\n<p>`</p>\n\n<p>I am using @ngrx/entity library to derive our data state interfaces from following EntityState interface defined in 'module.d.ts' file of ngrx.</p>\n\n<p>`</p>\n\n<pre><code>export interface EntityState&lt;T&gt; {\n    ids: string[] | number[];\n    entities: Dictionary&lt;T&gt;;\n}\n</code></pre>\n\n<p>`</p>\n\n<p>any pointers to resolve these errors?</p>\n"}, {"tags": ["angular", "typescript", "angular-routing"], "comments": [{"owner": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "edited": false, "score": 0, "creation_date": 1527048893, "post_id": 50478327, "comment_id": 87972807, "body": "could you provide the code for <b>app-shared.module.ts</b>"}, {"owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "reply_to_user": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "edited": false, "score": 0, "creation_date": 1527073063, "post_id": 50478327, "comment_id": 87985952, "body": "@JohnVelasquez added the code for app-shared.module.ts"}, {"owner": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "edited": false, "score": 0, "creation_date": 1527073646, "post_id": 50478327, "comment_id": 87986341, "body": "did you try doing hard reload in your browser?"}], "owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1071, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527073005, "creation_date": 1527036580, "last_edit_date": 1527073005, "question_id": 50478327, "link": "https://stackoverflow.com/questions/50478327/angular-6-routing-error-angular-router-webpack-imported-module-0-routermod", "title": "Angular 6 routing - Error _angular_router__WEBPACK_IMPORTED_MODULE_0__.RouterModule.forRootd is not a function", "body": "<p>The version 6 of Angular CLI generates routing module differently, my app-routing.ts is as follows:</p>\n\n<pre><code>import { Routes, RouterModule } from '@angular/router';\nimport { HomeComponent } from './components/home/home.component';\nimport { TodoComponent } from './components/todo/todo.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'home', pathMatch: 'full' },\n  { path: 'home', component: HomeComponent },\n  { path: '**', redirectTo: 'home' },\n  { path: 'todo', component: TodoComponent }\n];\n\nexport const AppRoutes = RouterModule.forRoot(routes);\n</code></pre>\n\n<p>But my browser console points to the last line and shows the following error:</p>\n\n<blockquote>\n  <p>Uncaught TypeError:\n  _angular_router__WEBPACK_IMPORTED_MODULE_0__.RouterModule.forRootd is not a function</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/zmAQj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmAQj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After browsed the net and failed to find an answer <a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">here too</a>, I would ask, is it normal that CLI 6 doesn't generate any more route module that implement @ngModule with its imports and exports like it did in previous versions, example:</p>\n\n<pre><code>@NgModule({\n  imports: [\n    RouterModule.forChild(crisisCenterRoutes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\n</code></pre>\n\n<p>If not, what is the solution to this error ?</p>\n\n<p><strong>Update:</strong> and here is the code for my app-shared.module:</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AppComponent } from './app.component';\nimport { AppRoutes } from './app.routing';\nimport { NavMenuComponent } from './components/navmenu/navmenu.component';\nimport { HomeComponent } from './components/home/home.component';\nimport { TodoModule } from './components/todo/todo.module';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { HeaderInterceptor } from './core/header.interceptor';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavMenuComponent,\n    HomeComponent\n  ],\n  imports: [\n    TodoModule,\n    CommonModule,\n    HttpClientModule,\n    FormsModule,\n    BrowserModule,\n    AppRoutes\n  ],\n  providers: [\n    {\n        provide: HTTP_INTERCEPTORS,\n        useClass: HeaderInterceptor,\n        multi: true\n    }\n    ],\n  bootstrap: [AppComponent]\n})\nexport class AppSharedModule { }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "edited": false, "score": 0, "creation_date": 1527036373, "post_id": 50478262, "comment_id": 87970173, "body": "Can you include the ExamService code?"}, {"owner": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "reply_to_user": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "edited": false, "score": 1, "creation_date": 1527036657, "post_id": 50478262, "comment_id": 87970226, "body": "Ofcourse, I have added it"}, {"owner": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "reply_to_user": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "edited": false, "score": 0, "creation_date": 1527036919, "post_id": 50478262, "comment_id": 87970277, "body": "It&#39;s being sent to the backend which is in Java Spring"}], "answers": [{"comments": [{"owner": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527043565, "post_id": 50478619, "comment_id": 87971749, "body": "I used HttpHeaders().delete(&#39;Content-Type&#39;) instead which works but now I get the error <code>the request was rejected because no multipart boundary was found</code> unfortunately"}, {"owner": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "reply_to_user": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527044041, "post_id": 50478619, "comment_id": 87971813, "body": "Yes you will need a content-type set - did you try &#39;multipart/form-data&#39;?"}, {"owner": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527044366, "post_id": 50478619, "comment_id": 87971869, "body": "Yes that gives me another error. From what I\u2019ve found I am supposed to delete the content type so that chrome can automatically set it. I believe this happens but somehow it doesn\u2019t see the name parameter of my formData"}, {"owner": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "reply_to_user": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527045072, "post_id": 50478619, "comment_id": 87972025, "body": "Interesting - just had a look and angular&#39;s <code>HttpClient</code> class actually detects content-type automatically based on the body being an instance of <code>FormData</code>. Perhaps try not passing any <code>HttpHeader</code> in the options?"}, {"owner": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "reply_to_user": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527045602, "post_id": 50478619, "comment_id": 87972136, "body": "I meant to say, based on the body being <code>FormData</code> httpclient removes the content-type for you for exactly the reason you described - chrome is to set them for you. Also (and this is a wild stab ) you could try appending &#39;name&#39; before &#39;file&#39; in the FormData?"}, {"owner": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527070067, "post_id": 50478619, "comment_id": 87983975, "body": "If I don&#39;t pass any header at all it still gives me the same error. Apparently I&#39;ve been trying to pass it for no reason then. But yea still the same &#39;file&#39; error. I also tried switching the orders like you suggested and also that changed nothing"}, {"owner": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "reply_to_user": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527084195, "post_id": 50478619, "comment_id": 87993703, "body": "Ok, I suspect the issue is with the use of FileReader - can you try just appending the file object to the FormData? I think the reason you are getting a no &#39;multipart boundary error&#39; is because you are passing plain text to the FormData instead of a file (which will be a blob, not plain text). See the example here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData/append\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/FormData/append</a>"}, {"owner": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "reply_to_user": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "edited": false, "score": 0, "creation_date": 1527085080, "post_id": 50478619, "comment_id": 87994291, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/171622/discussion-between-mounds-and-sinan-samet\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1193, "user_id": 1571893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429ff5ea4c2e8a3dd122fd76f570f60?s=128&d=identicon&r=PG", "display_name": "mounds", "link": "https://stackoverflow.com/users/1571893/mounds"}, "is_accepted": true, "score": 2, "last_activity_date": 1527085062, "last_edit_date": 1527085062, "creation_date": 1527039332, "answer_id": 50478619, "question_id": 50478262, "link": "https://stackoverflow.com/questions/50478262/getting-error-typeerror-cannot-read-property-length-error/50478619#50478619", "title": "Getting ERROR TypeError: Cannot read property &#39;length&#39; error", "body": "<p>Remove this parameter from the http.put call in the ExamService:</p>\n\n<pre><code>{headers: {'Content-Type': undefined}}\n</code></pre>\n\n<p>You won't need to set Content-Type since, per our discussion below, these will be set correctly for you by angular's HttpClient api.</p>\n\n<p>Also, don't use FileReader to convert the file's Blob content to plain text. Instead just store a reference to the File and on submit append the File and its Name to the FormData. E.g. </p>\n\n<pre><code>// Component\nprivate file: File = null;\n\nfileChanged(e) {\n    this.file = e.target.files[0]);\n}\n\nonSubmit(form) {\n  this.serv.updateExamById(this.id, this.file).subscribe();\n}\n\n// Service\nupdateExamById(id, file: File) {\n  const fd = new FormData();   \n  fd.append('file', file, file.name);\n  return this.http.put&lt;Examen&gt;(APIURL + '/update/' + id, fd);\n}\n</code></pre>\n"}], "owner": {"reputation": 4964, "user_id": 1421775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/80a3543f68a7f4ebb16d074535c98ccf?s=128&d=identicon&r=PG", "display_name": "Sinan Samet", "link": "https://stackoverflow.com/users/1421775/sinan-samet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "accepted_answer_id": 50478619, "answer_count": 1, "score": 1, "last_activity_date": 1559312936, "creation_date": 1527035768, "last_edit_date": 1527036647, "question_id": 50478262, "link": "https://stackoverflow.com/questions/50478262/getting-error-typeerror-cannot-read-property-length-error", "title": "Getting ERROR TypeError: Cannot read property &#39;length&#39; error", "body": "<p>I am getting the error:</p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 'length' of undefined\n      at eval (webpack-internal:///./node_modules/@angular/common/esm5/http.js:163)\n      at Array.forEach ()\n      at HttpHeaders.lazyInit (webpack-internal:///./node_modules/@angular/common/esm5/http.js:157)\n      at HttpHeaders.init (webpack-internal:///./node_modules/@angular/common/esm5/http.js:305)\n      at HttpHeaders.forEach (webpack-internal:///./node_modules/@angular/common/esm5/http.js:408)\n      at Observable.eval [as _subscribe] (webpack-internal:///./node_modules/@angular/common/esm5/http.js:2210)\n      at Observable._trySubscribe (webpack-internal:///./node_modules/rxjs/_esm5/Observable.js:177)\n      at Observable.subscribe (webpack-internal:///./node_modules/rxjs/_esm5/Observable.js:165)\n      at subscribeToResult (webpack-internal:///./node_modules/rxjs/_esm5/util/subscribeToResult.js:32)\n      at MergeMapSubscriber._innerSub (webpack-internal:///./node_modules/rxjs/_esm5/operators/mergeMap.js:143)</p>\n</blockquote>\n\n<p>It happens when I try to upload a file and I don't understand why since I'm not using the length() function anywhere.</p>\n\n<p>This is my html:</p>\n\n<pre><code>&lt;app-supervisor-header&gt;&lt;/app-supervisor-header&gt;\n&lt;main&gt;\n  &lt;div class=\"container\"&gt;\n      &lt;div class=\"col-sm\"&gt;\n        &lt;h3&gt;Wijzigen van examen: {{examen.naam}}&lt;/h3&gt;\n        &lt;form #examUpdateForm=\"ngForm\" (ngSubmit)=\"onSubmit(examUpdateForm)\"&gt;\n          &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-3\"&gt;\n              &lt;label for=\"vak\"&gt;Naam&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-5\"&gt;\n              &lt;div class=\"form-group\"&gt;\n                &lt;input class=\"form-control\" type=\"text\" id=\"vak\" placeholder=\"{{examen.naam}}\" /&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-3\"&gt;\n              &lt;label for=\"vak\"&gt;Bestand&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-5\"&gt;\n              &lt;div class=\"form-group\"&gt;\n                &lt;input type=\"file\" name=\"examen_bestand\" class=\"form-control-file\" id=\"exampleInputFile\" aria-describedby=\"fileHelp\" (change)=\"fileChanged($event)\"&gt;\n                &lt;small id=\"fileHelp\" class=\"form-text text-muted\"&gt;Hier kun je de huidige examenskelet vervangen.&lt;/small&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-8\"&gt;\n              &lt;input type=\"submit\" class=\"pxl-knop float-right\" id=\"zoek-knop\" value=\"Zoek\" /&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/main&gt;\n</code></pre>\n\n<p>And this the Component:</p>\n\n<pre><code>export class SupervisorExamenAanpassenComponent implements OnInit {\n  @Input() examen: Examen = new Examen(null, '', '', null);\n  id: number;\n\n  constructor(private serv: ExamService, private route: ActivatedRoute) { }\n\n  onSubmit(form) {\n    this.serv.updateExamById(this.id, this.examen).subscribe();\n  }\n\n  fileChanged(e) {\n    const reader = new FileReader();\n    reader.onload = () =&gt; {\n      this.examen.file = reader.result;\n    };\n    reader.readAsText(e.target.files[0]);\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(params =&gt; this.id = params.id);\n    this.serv.getExamById(this.id).subscribe((data) =&gt; this.examen = data);\n  }\n\n}\n</code></pre>\n\n<p>On the second time I try to submit it also tells me the error is from the HTML line 6 which is:</p>\n\n<pre><code>&lt;form #examUpdateForm=\"ngForm\" (ngSubmit)=\"onSubmit(examUpdateForm)\"&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>ExamService:</p>\n\n<pre><code>@Injectable()\nexport class ExamService {\n  examens: Examen[] = [];\n\n  constructor(private http: HttpClient) {}\n\n  getExams(): Observable&lt;Examen[]&gt; {\n    return this.http.get&lt;Examen[]&gt;(APIURL + '/all');\n  }\n\n  getExamById(id): Observable&lt;Examen&gt; {\n    return this.http.get&lt;Examen&gt;(APIURL + '/asobject/' + id);\n  }\n\n  updateExamById(id, exam: Examen) {\n    const fd = new FormData();\n    const options = {} as any;\n    fd.append('file', exam.file);\n    fd.append('name', exam.naam);\n    return this.http.put&lt;Examen&gt;(APIURL + '/update/' + id, fd, {headers: {'Content-Type': undefined}});\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1527112344, "post_id": 50478257, "comment_id": 88008877, "body": "The issue here is that the type parameter won&#39;t ever be used in the type. This is generated code from the server and the generic parameter is just indicating what the return type of a request should be. It sounds like that&#39;s just not a supported use case in TypeScript?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1527127077, "post_id": 50478257, "comment_id": 88012345, "body": "If the type parameter isn&#39;t in the type, then you don&#39;t have a generic type. Unconsumed type parameters don&#39;t make any sense in structural type systems. It&#39;s like saying an invisible car is green."}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1527209154, "post_id": 50478257, "comment_id": 88052501, "body": "Fair enough. But I&#39;d say more like &quot;If this car had a color, it would be green.&quot; The structural nature of TypeScript can be a little unintuitive for those of us coming from nominally-typed languages, especially when doing code generation and trying to represent server-side types on the client. In this case, we decided to add a <code>&quot;@responseTypeInferenceHelperPleaseDontPutAnythingHere&quot;?: T</code> variable. It&#39;s a hack, but it works, I suppose. Thanks for the insight."}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1527212872, "post_id": 50478257, "comment_id": 88053211, "body": "I&#39;m curious though, if you have any ideas of how to represent that type of thing better."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 3, "last_activity_date": 1527036313, "last_edit_date": 1527036313, "creation_date": 1527035689, "answer_id": 50478257, "question_id": 50478183, "link": "https://stackoverflow.com/questions/50478183/typescript-function-not-inferring-generic-parameter-from-super-interface/50478257#50478257", "title": "TypeScript function not inferring generic parameter from super interface", "body": "<p>Don't make more generic type parameters than you have to. If a type parameter only appears once in an input position (i.e. not in the return type and not in two different parameters), reduce it to the non-constrained version:</p>\n\n<pre><code>function sendRequest&lt;TResponse&gt;(request: ApiRequest&lt;TResponse&gt;): TResponse {\n    return null as TResponse;\n}\n</code></pre>\n\n<p>You also need <code>T</code> to be manifest somewhere in <code>ApiRequest</code>:</p>\n\n<pre><code>interface ApiRequest&lt;T&gt; {\n    structuralTypingMatters: T;\n}\n</code></pre>\n"}], "owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 50478257, "answer_count": 1, "score": 2, "last_activity_date": 1527036313, "creation_date": 1527034963, "question_id": 50478183, "link": "https://stackoverflow.com/questions/50478183/typescript-function-not-inferring-generic-parameter-from-super-interface", "title": "TypeScript function not inferring generic parameter from super interface", "body": "<p>This is easiest to explain with code:</p>\n\n<pre><code>interface ApiRequest&lt;T&gt; {}\ninterface SomeRequest extends ApiRequest&lt;string&gt; {\n    value: string;\n}\n\nfunction sendRequest&lt;\n    TRequest extends ApiRequest&lt;TResponse&gt;,\n    TResponse\n&gt;(\n    request: TRequest\n): TResponse {\n    return null as TResponse;\n}\n\nconst x = sendRequest({ value: \"a value\" } as SomeRequest);\n\n// Type of x is inferred as {} rather than string\nx.length;\n</code></pre>\n\n<p>The function sendRequest should infer TResponse from the fact that <code>SomeRequest</code> extends <code>ApiRequest&lt;T&gt;</code> with <code>string</code>, but it doesn't. Instead, it infers <code>{}</code> and gives no errors.</p>\n\n<p>How can I do this without explicitly declaring the type parameters?</p>\n"}, {"tags": ["typescript", "typescript-typings", "es6-modules", "rollupjs"], "answers": [{"tags": [], "owner": {"reputation": 1730, "user_id": 2383477, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yozFQ.jpg?s=128&g=1", "display_name": "Nathan Lafferty", "link": "https://stackoverflow.com/users/2383477/nathan-lafferty"}, "is_accepted": true, "score": 1, "last_activity_date": 1528233693, "creation_date": 1528233693, "answer_id": 50709120, "question_id": 50478132, "link": "https://stackoverflow.com/questions/50478132/how-to-convert-typescript-npm-module-import-syntax-to-ecma2015-module-import-syn/50709120#50709120", "title": "How to convert typescript npm module import syntax to ECMA2015 module import syntax", "body": "<p>This can be done using Rollup's <code>paths</code> configuration value.</p>\n\n<p>E.g. in my <code>app.ts</code> file I have a standard npm-style-import:</p>\n\n<p><code>import { somedependency } from my-dependency</code> (where <code>my-dependency</code> is a node module, such as <code>three</code>.)</p>\n\n<p>In the <code>rollup.config</code> file, you need to tell Rollup the path to this file:</p>\n\n<pre><code>output: { ... },\nplugins: [ ... ]\npaths: {'my-dependency': './your/web/path/to/the/dependency.js'}\n</code></pre>\n\n<p>Your compiled bundle will now have a good import to that code that can be understood by the browser.</p>\n"}], "owner": {"reputation": 1730, "user_id": 2383477, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yozFQ.jpg?s=128&g=1", "display_name": "Nathan Lafferty", "link": "https://stackoverflow.com/users/2383477/nathan-lafferty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 1, "accepted_answer_id": 50709120, "answer_count": 1, "score": 8, "last_activity_date": 1528233693, "creation_date": 1527034468, "last_edit_date": 1527604594, "question_id": 50478132, "link": "https://stackoverflow.com/questions/50478132/how-to-convert-typescript-npm-module-import-syntax-to-ecma2015-module-import-syn", "title": "How to convert typescript npm module import syntax to ECMA2015 module import syntax", "body": "<p>I'm trying to use a third party library in a Typescript project (specifically, three). As a proof-of-concept, I'm trying to resolve all of my client code as modules (without transpiling to ES5 or bundling).</p>\n\n<p>my project is setup like this:</p>\n\n<pre><code>cgi/app.js (compiled typescript file)\nnode_modules/@types\nnode_modules/three/build/three.module.js\nsrc/app.ts\nindex.html\ntsconfig.json\npackage.json\n</code></pre>\n\n<p>And in my <code>index.html</code></p>\n\n<pre><code>&lt;head&gt;\n    &lt;script type=\"module\" src=\"node_modules/three/build/three.module.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"module\" src=\"cgi/app.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>I'm trying to have typescript resolve the <code>three.module.js</code> file while also using the type declarations from <code>@types/three</code>. Normally, you would import the library with: <code>import { Scene } from 'three'</code> which gives me type support, but the compiled module doesn't have proper ES6 syntax. It needs to be <code>import { Scene } from './path/to/three.js</code>.</p>\n\n<p>Unfortunately, typescript <a href=\"https://github.com/Microsoft/TypeScript/issues/16577\" rel=\"noreferrer\">does not support doing this automatically yet</a>. I can instead import the ES6 module directly (without using @types) but then I lose type support.</p>\n\n<p>Post typescript compilation, is it possible to convert the module resolution from the node syntax to the ES6 syntax? (e.g. <code>import { Scene } from 'three'</code> is converted to <code>import { Scene } from './three.js'</code>?</p>\n\n<p>Specifically, is it possible to leverage rollup to accomplish this?</p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 7058748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0d47f872dddab82ebdbcd73c09c2d6?s=128&d=identicon&r=PG", "display_name": "hesxenon", "link": "https://stackoverflow.com/users/7058748/hesxenon"}, "edited": false, "score": 0, "creation_date": 1527066361, "post_id": 50478242, "comment_id": 87981372, "body": "that is a VERY nice explanation, thank you for your time and effort. Do you think it&#39;s a good idea to create a new issue on github/microsoft/typescript? Sadly I&#39;m not fit enough with the terminology of this to express my intent accurately, would you be willing to help me here?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 405, "user_id": 7058748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0d47f872dddab82ebdbcd73c09c2d6?s=128&d=identicon&r=PG", "display_name": "hesxenon", "link": "https://stackoverflow.com/users/7058748/hesxenon"}, "edited": false, "score": 0, "creation_date": 1527093655, "post_id": 50478242, "comment_id": 87999872, "body": "There&#39;s not a bug here, so no."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 3, "last_activity_date": 1527035569, "creation_date": 1527035569, "answer_id": 50478242, "question_id": 50478100, "link": "https://stackoverflow.com/questions/50478100/typescript-infer-type-for-parameter-of-passed-function/50478242#50478242", "title": "Typescript: Infer type for parameter of passed function", "body": "<p>The problem with <code>testInferred</code>'s return type is fairly obvious - it's non-generic and the return type is fixed at exactly <code>UnaryFunction</code></p>\n\n<p>The problem with <code>testExtends</code> is more complex. The root cause here is that you need the argument to <code>mapWithCaller</code> to be <em>contextually typed</em> by a function type that is capable of providing a contextual type to the argument.</p>\n\n<p>You actually have a somewhat indirect contextual type coming in here because <code>mapWithCaller</code> is itself generic, but because the other argument to <code>testInferred</code> is provided and TypeScript can route the expected return type of <code>mapWithCaller</code> back into its arguments, it's not a problem.</p>\n\n<p>Anyway, <code>testInferred</code> works here because <code>UnaryFunction&lt;In, Out&gt;</code> is a non-generic function type with a single call signature.</p>\n\n<p>Why doesn't <code>testExtends</code> work for this? Because it's not safe to apply a contextual type to a parameter based on the bound in the <code>extends</code> clause. Consider this call, which is legal (apart from the error in the lambda expression):</p>\n\n<pre><code>interface OtherFunction&lt;Out&gt; {\n    (arg: string | number): Out\n}\n\ntestExtends&lt;string, OtherFunction&lt;number&gt;&gt;('1', mapWithCaller(x =&gt; x.length));\n</code></pre>\n\n<p>Based on a <em>legal generic instantiation here</em>, <code>mapWithCaller</code> <em>is allowed</em> to pass a <code>number</code> to its callback. TypeScript can't really assume that given a string argument in one position, the correct inferred bound for the function expression is exactly that.</p>\n\n<p>I don't think there's a way to write the function declaration here in a way that preserves both behaviors you want, but I could be wrong.</p>\n"}], "owner": {"reputation": 405, "user_id": 7058748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0d47f872dddab82ebdbcd73c09c2d6?s=128&d=identicon&r=PG", "display_name": "hesxenon", "link": "https://stackoverflow.com/users/7058748/hesxenon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 1, "accepted_answer_id": 50478242, "answer_count": 1, "score": 3, "last_activity_date": 1527035569, "creation_date": 1527034186, "last_edit_date": 1527034899, "question_id": 50478100, "link": "https://stackoverflow.com/questions/50478100/typescript-infer-type-for-parameter-of-passed-function", "title": "Typescript: Infer type for parameter of passed function", "body": "<p>I need to be able to infer the argument type of a function that is passed as a parameter, based on another parameter where the type is known. It's kinda hard to explain so I wrote a <a href=\"https://agentcooper.github.io/typescript-play/?target=2#code/JYOwLgpgTgZghgYwgAgKojlAngMQK4gJjAD2IAPAJIgA0yA8nmAHzIDeAUMt8gBSYBzAFzJqAShGMwHAL4cOoSLEQoA6sDAALAHJ4AtgCNoVWgyasIAD0ggAJgGc0GbPkLEyJulNaceyEPoiAYbQsvIwBESkIMiQ9mAAotYQdvbkAIJQAnQ4MVY2Dk6YuJHuFJnZyHAgWMzM-FkiFXQwICK5YuxcPFAQYHhQMa1hHBFu0bEQ8dQw0L22GVn1gk1ZLW1FLqXRi5XVtZ2+PX0DQyAjY1FkyHpwAA7qWgDCcAA2r8Y4UCR6dAAqJHqehIUDummA9j0InQxVcVwoXx+-0BEmQjx0+iMUHIiN+yABPm63F6-UGDAMACsIEQAHRwez2YACEC8XiWdrfPSdAC8rGBoPBkLZYjobGCIgArDIxCM4olkqleAByACMSrotweGk0L3e0DZyF5yEsNI+IAEWjEYhpwQ4cpmcwgtmVao193Ruo+UANRpNZotmitNv0QA\" rel=\"nofollow noreferrer\">little demo</a>, reproduced here:</p>\n\n<pre><code>interface UnaryFunction&lt;In, Out&gt; {\n    (arg: In): Out\n}\n\ninterface WithNumber&lt;In, Out&gt; extends UnaryFunction&lt;In, Out&gt; {\n    num: number\n}\n\nfunction testExtends&lt;Arg, Fn extends UnaryFunction&lt;Arg, any&gt;&gt;(arg: Arg, fn: Fn): Fn {\n    return fn;\n}\n\nfunction testInferred&lt;Arg, Out&gt;(arg: Arg, fn: UnaryFunction&lt;Arg, Out&gt;): typeof fn {\n    return fn\n}\n\nfunction mapWithCaller&lt;From, To&gt;(morphism: UnaryFunction&lt;From, To&gt;): WithNumber&lt;From, To&gt; {\n    return Object.assign((x: From) =&gt; morphism(x), {num: 5})\n}\n\n// Error: property length does not exist\ntestExtends('1', mapWithCaller(x =&gt; x.length)).num\n// Error: property num does not exist\ntestInferred('1', mapWithCaller(x =&gt; x.length)).num\n</code></pre>\n\n<p>As you can see, with <code>testExtends</code> the return type of the function is preserved, while with <code>testInferred</code> the parameter type of the passed function is inferred.</p>\n\n<p>I need to be able to combine the best of both worlds, and it's driving me crazy, is this not possible at all? Is it a bug? By design?</p>\n"}, {"tags": ["typescript", "square"], "comments": [{"owner": {"reputation": 3836, "user_id": 4541769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YscXI.jpg?s=128&g=1", "display_name": "tristansokol", "link": "https://stackoverflow.com/users/4541769/tristansokol"}, "edited": false, "score": 0, "creation_date": 1527029036, "post_id": 50477365, "comment_id": 87968423, "body": "This seem like a timing thing, can you hold off on calling the payment form until it is initialized?"}, {"owner": {"reputation": 12957, "user_id": 1148107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c724f1d2dea09057869e1c3cb87a02bc?s=128&d=identicon&r=PG", "display_name": "mtpultz", "link": "https://stackoverflow.com/users/1148107/mtpultz"}, "reply_to_user": {"reputation": 3836, "user_id": 4541769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YscXI.jpg?s=128&g=1", "display_name": "tristansokol", "link": "https://stackoverflow.com/users/4541769/tristansokol"}, "edited": false, "score": 0, "creation_date": 1527029569, "post_id": 50477365, "comment_id": 87968569, "body": "It should be loaded.  The script loads in the &lt;head&gt; of index.html, but trying to now load the reference as a provider.  I was hoping I could use it as a provider and when the checkout component loads that I could invoke something similar to their example, but can&#39;t get it to build to test that theory due to <code>window.SqPaymentForm</code> not existing according to TypeScript"}], "answers": [{"comments": [{"owner": {"reputation": 3836, "user_id": 4541769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YscXI.jpg?s=128&g=1", "display_name": "tristansokol", "link": "https://stackoverflow.com/users/4541769/tristansokol"}, "edited": false, "score": 0, "creation_date": 1527101533, "post_id": 50477935, "comment_id": 88003778, "body": "Thanks for following up with your answer for the benefit of other developers!"}, {"owner": {"reputation": 12957, "user_id": 1148107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c724f1d2dea09057869e1c3cb87a02bc?s=128&d=identicon&r=PG", "display_name": "mtpultz", "link": "https://stackoverflow.com/users/1148107/mtpultz"}, "reply_to_user": {"reputation": 3836, "user_id": 4541769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YscXI.jpg?s=128&g=1", "display_name": "tristansokol", "link": "https://stackoverflow.com/users/4541769/tristansokol"}, "edited": false, "score": 1, "creation_date": 1527102401, "post_id": 50477935, "comment_id": 88004221, "body": "No problem @tristansokol, I really like Square and would like to use them for everything. Right now their POS works great for our client, but I&#39;m having some issues integrating this into an Angular SPA based on how the forms are loaded using iframes and how they are configured, which is really easy to do using Stripe (and even Paypal) by comparison."}, {"owner": {"reputation": 3836, "user_id": 4541769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YscXI.jpg?s=128&g=1", "display_name": "tristansokol", "link": "https://stackoverflow.com/users/4541769/tristansokol"}, "edited": false, "score": 0, "creation_date": 1527109683, "post_id": 50477935, "comment_id": 88007865, "body": "Are you using <code>autoBuild:false</code>? that can help control page timings quite a bit."}, {"owner": {"reputation": 2103, "user_id": 435743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7e0a33810f4741485bf54228c4bb5c?s=128&d=identicon&r=PG", "display_name": "Spock ", "link": "https://stackoverflow.com/users/435743/spock"}, "edited": false, "score": 0, "creation_date": 1585333442, "post_id": 50477935, "comment_id": 107732439, "body": "Isn&#39;t this a Typescript issue rather than Angular specific? It&#39;s just the case than in Typescript, there is no &quot;SqPaymentForm&quot; property on the Window type."}], "tags": [], "owner": {"reputation": 12957, "user_id": 1148107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c724f1d2dea09057869e1c3cb87a02bc?s=128&d=identicon&r=PG", "display_name": "mtpultz", "link": "https://stackoverflow.com/users/1148107/mtpultz"}, "is_accepted": true, "score": 0, "last_activity_date": 1527032756, "creation_date": 1527032756, "answer_id": 50477935, "question_id": 50477365, "link": "https://stackoverflow.com/questions/50477365/global-reference-of-square-payment-form-object-into-angular/50477935#50477935", "title": "Global Reference of Square payment form object into Angular", "body": "<p>Figured it out I had to create my own typings, but couldn't figure out how to load it via a <code>.d.ts</code> so, for now, it is declared in the Square module:</p>\n\n<pre><code>declare global {\n  interface Window {\n    SqPaymentForm: any;\n  }\n}\n</code></pre>\n\n<p>or replace <code>window.SqPaymentForm</code> with:</p>\n\n<pre><code>(&lt;any&gt;window).SqPaymentForm\n</code></pre>\n"}], "owner": {"reputation": 12957, "user_id": 1148107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c724f1d2dea09057869e1c3cb87a02bc?s=128&d=identicon&r=PG", "display_name": "mtpultz", "link": "https://stackoverflow.com/users/1148107/mtpultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 2, "accepted_answer_id": 50477935, "answer_count": 1, "score": 1, "last_activity_date": 1585345135, "creation_date": 1527028596, "last_edit_date": 1585345135, "question_id": 50477365, "link": "https://stackoverflow.com/questions/50477365/global-reference-of-square-payment-form-object-into-angular", "title": "Global Reference of Square payment form object into Angular", "body": "<p>There's no implementation of a <a href=\"https://squareup.com/ca/payments\" rel=\"nofollow noreferrer\">Square</a> checkout form for Angular 4/5/6 so I'm trying to figure out what this might entail by creating a test component, but I can't figure out how to get a reference to their global object <a href=\"https://docs.connect.squareup.com/payments/sqpaymentform/sqpaymentform-overview\" rel=\"nofollow noreferrer\">SqPaymentForm</a> into Angular and have TypeScript not throw an error saying it doesn't exist on the window object as <code>window.SqPaymentForm</code> since it does exist.</p>\n\n<p>Can anyone point me in the direction of how to have TypeScript recognize that <code>window.SqPaymentForm</code> exists?</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [],\n  providers: [\n    { provide: 'SQUARE', useFactory: getSquare }\n  ]\n})\nexport class SquareModule { }\n\nexport function getSquare() {\n  return (typeof window !== undefined) \n      // TypeScript indicates it doesn't exist on Window \n      ? window.SqPaymentForm \n      : null;\n}\n</code></pre>\n"}, {"tags": ["typescript", "rxjs", "rxjs5", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 1393, "user_id": 1280664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ee78a262d4fbfc35ed3f44a5ba03af?s=128&d=identicon&r=PG", "display_name": "fastr.de", "link": "https://stackoverflow.com/users/1280664/fastr-de"}, "edited": false, "score": 0, "creation_date": 1527028032, "post_id": 50477183, "comment_id": 87968143, "body": "I tried so many variants. Thank you for the quick response ;-) Sometimes it&#39;s hard to find for me on search engines when I don&#39;t know the name"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "reply_to_user": {"reputation": 1393, "user_id": 1280664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ee78a262d4fbfc35ed3f44a5ba03af?s=128&d=identicon&r=PG", "display_name": "fastr.de", "link": "https://stackoverflow.com/users/1280664/fastr-de"}, "edited": false, "score": 0, "creation_date": 1527028129, "post_id": 50477183, "comment_id": 87968171, "body": "No worries. Happy to help. :)"}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 3, "last_activity_date": 1527028100, "last_edit_date": 1527028100, "creation_date": 1527027352, "answer_id": 50477183, "question_id": 50477107, "link": "https://stackoverflow.com/questions/50477107/is-there-a-way-to-map-array-items-to-function-parameters-in-typescript-directly/50477183#50477183", "title": "Is there a way to map array items to function parameters in typescript directly?", "body": "<p>Javascript has <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">destructuring assignment</a> which you can use in your parameter list to unpack an array. Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function takeAnArray([firstItem, secondItem, thirdItem]) {\r\n  console.log(firstItem, secondItem, thirdItem);\r\n}\r\n\r\ntakeAnArray([1, \"a\", false]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So you were almost right in your second snippet. You just need to add a pair of parenthases around the argument list:</p>\n\n<pre><code>Observable.combineLatest(obs1$, obs2$, obs3$)\n  .subscribe(([fancyArg, epicArg, wonderfulArg]) =&gt; {\n    // Here, fancyArg is the first array element,\n    // epicArg is the second\n    // wonderfulArg is the third\n  })\n</code></pre>\n\n<p>The <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">documentation for <code>combineLatest</code></a> even shows this syntax in it's first example.</p>\n"}], "owner": {"reputation": 1393, "user_id": 1280664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ee78a262d4fbfc35ed3f44a5ba03af?s=128&d=identicon&r=PG", "display_name": "fastr.de", "link": "https://stackoverflow.com/users/1280664/fastr-de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 50477183, "answer_count": 1, "score": 1, "last_activity_date": 1527028100, "creation_date": 1527026764, "question_id": 50477107, "link": "https://stackoverflow.com/questions/50477107/is-there-a-way-to-map-array-items-to-function-parameters-in-typescript-directly", "title": "Is there a way to map array items to function parameters in typescript directly?", "body": "<p>I often end up with a situation where i got an array with arguments and have to manually break the array into parts. For example</p>\n\n<pre><code>Observable.combineLatest(obs1$, obs2$, obs3$).subscribe((data) =&gt; {\n  let fancyArg = data[0];\n  let epicArg = data[1];\n  let wonderfulArg = data[2];\n})\n</code></pre>\n\n<p>Is there a shortcut to do something like this</p>\n\n<pre><code>Observable.combineLatest(obs1$, obs2$, obs3$)\n  .subscribe([fancyArg, epicArg, wonderfulArg] =&gt; { //something like this\n    ...                                             //would be great\n  })\n</code></pre>\n\n<p>I know that there is the option with the last argument as function</p>\n\n<pre><code>Observable.combineLatest(obs1$, obs2$, obs3$, \n  (arg1, arg2, arg3) =&gt; {\n    return {\n      fancyArg:arg1, \n      epicArg:arg2, \n      wonderfulArg:arg3\n    }\n  })\n  .subscribe((args) =&gt; {\n    ...\n  })\n</code></pre>\n\n<p>but this is also very unhandy. I look for a more general approach (to use it by bindCallback and other functions as well)</p>\n"}, {"tags": ["typescript", "visual-studio-2017", "tsconfig"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 5508203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1870d7a6c791ad00625849d39eb294aa?s=128&d=identicon&r=PG&f=1", "display_name": "takvor", "link": "https://stackoverflow.com/users/5508203/takvor"}, "is_accepted": false, "score": 0, "last_activity_date": 1529336217, "creation_date": 1529336217, "answer_id": 50912984, "question_id": 50476651, "link": "https://stackoverflow.com/questions/50476651/tsconfig-reference-doesnt-seem-to-work-with-multiple-projects-in-vs2017-15-7-1/50912984#50912984", "title": "tsconfig reference doesn&#39;t seem to work with multiple projects in VS2017 15.7.1", "body": "<p>I finally figured this out.  VS 15.6 changed so that it only recognizes .tsconfig files if their Build Action is set to Content on their properties.</p>\n"}], "owner": {"reputation": 26, "user_id": 5508203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1870d7a6c791ad00625849d39eb294aa?s=128&d=identicon&r=PG&f=1", "display_name": "takvor", "link": "https://stackoverflow.com/users/5508203/takvor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529336217, "creation_date": 1527024245, "question_id": 50476651, "link": "https://stackoverflow.com/questions/50476651/tsconfig-reference-doesnt-seem-to-work-with-multiple-projects-in-vs2017-15-7-1", "title": "tsconfig reference doesn&#39;t seem to work with multiple projects in VS2017 15.7.1", "body": "<p>I've got a VS2017 15.7.1 solution with two projects in it.  Project A has an angular.js and an angular.d.ts file in it, which I want to reference in Project B, using the tsconfig.json file, which looks like this:</p>\n\n<pre><code>{\n  \"include\": [\n    \"../ProjectA/angular.d.ts\",\n    \"**/*.ts\"\n  ]\n}\n</code></pre>\n\n<p>In a file.ts in Project B I would now expect to be able to reference the angular namespace (I can reference it fine in the same project), but it says it cannot find the symbol 'angular' in the global module.</p>\n\n<p>However, if I open the same set of projects in VS Code, it behaves exactly how I would expect.  Is this a bug with Visual Studio or am I just mangling something?</p>\n"}, {"tags": ["javascript", "php", "typescript", "laravel-5", "vuejs2"], "answers": [{"comments": [{"owner": {"reputation": 294, "user_id": 7440822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZoLo3nxEc-w/AAAAAAAAAAI/AAAAAAAAA8o/3vMhMY-lU4Y/photo.jpg?sz=128", "display_name": "Shahbaz Ahmed", "link": "https://stackoverflow.com/users/7440822/shahbaz-ahmed"}, "edited": false, "score": 0, "creation_date": 1534191338, "post_id": 51817142, "comment_id": 90614203, "body": "Yes but what if want to use localStorage because it is also not defined"}, {"owner": {"reputation": 274, "user_id": 329395, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0a9025eaa657bde3aff154d56de0fee3?s=128&d=identicon&r=PG", "display_name": "jartaud", "link": "https://stackoverflow.com/users/329395/jartaud"}, "edited": false, "score": 1, "creation_date": 1537376243, "post_id": 51817142, "comment_id": 91765307, "body": "The server knows nothing about localStorage. You&#39;ll have to use cookies."}], "tags": [], "owner": {"reputation": 11, "user_id": 6260138, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mm6Mced2Zv4/AAAAAAAAAAI/AAAAAAAAADg/Czz4qW09GJ4/photo.jpg?sz=128", "display_name": "Ismail Ansari", "link": "https://stackoverflow.com/users/6260138/ismail-ansari"}, "is_accepted": false, "score": 1, "last_activity_date": 1534145033, "creation_date": 1534145033, "answer_id": 51817142, "question_id": 50476408, "link": "https://stackoverflow.com/questions/50476408/vuejs-ssr-laravel-and-php-v8js-issue-window-is-undefined/51817142#51817142", "title": "Vuejs SSR, Laravel and PHP V8Js issue &quot;window is undefined&quot;", "body": "<p>you have to get rid from <code>windows</code> and <code>document</code> using for the <code>JS</code> string that you are passing to <code>V8Js::executeString</code> because it looks for <code>document</code> and <code>window</code> but it doesn't exists that time and code is executing at the server-end.</p>\n\n<p>In your <code>app.js</code>\nDo something like this:</p>\n\n<pre><code>import axios from 'axios';\naxios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n</code></pre>\n\n<p>and at back-end do like:</p>\n\n<pre><code>$rendererSrc =\\file_get_contents()(\\base_path('node_modules/vue-server-renderer/basic.js'));\n$appSrc = file_get_contents()(\\public_path('js/entry-server.js'));\n$v8Js = new \\V8Js();\n$v8Js-&gt;executeString(\n                &lt;&lt;&lt;EOT\n    var process = { env: { VUE_ENV: \"server\", NODE_ENV: \"production\" } }; \n    this.global = { process: process };\n    var url = \"path_you_are_hitting\";\n    {$rendererSrc}\n    {$appSrc}\nEOT\n);\n</code></pre>\n\n<p>Hope it'll work</p>\n"}], "owner": {"reputation": 294, "user_id": 7440822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZoLo3nxEc-w/AAAAAAAAAAI/AAAAAAAAA8o/3vMhMY-lU4Y/photo.jpg?sz=128", "display_name": "Shahbaz Ahmed", "link": "https://stackoverflow.com/users/7440822/shahbaz-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534145033, "creation_date": 1527022962, "question_id": 50476408, "link": "https://stackoverflow.com/questions/50476408/vuejs-ssr-laravel-and-php-v8js-issue-window-is-undefined", "title": "Vuejs SSR, Laravel and PHP V8Js issue &quot;window is undefined&quot;", "body": "<p>I am trying to render server side code on page load by following <a href=\"https://medium.com/js-dojo/advanced-server-side-rendering-with-laravel-vue-multi-page-app-486b706e654\" rel=\"nofollow noreferrer\">https://medium.com/js-dojo/advanced-server-side-rendering-with-laravel-vue-multi-page-app-486b706e654</a> . Everything works fine but when I try to use global variable \"window\" or \"document\" </p>\n\n<p>my <code>app.js</code> code is</p>\n\n<pre><code>import App from './components/App.vue';\nimport Vue from 'vue';\nimport { createRouter } from './router'\nimport { createStore } from './store'\nimport { sync } from 'vuex-router-sync'\nrequire('./bootstrap');\n</code></pre>\n\n<p>The bootstrap.js is normal as </p>\n\n<pre><code>window.axios = require('axios');\n\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n</code></pre>\n\n<p>I need axios globally but php V8Js gives error\n<code>\nV8Js::compileString():612: TypeError: window is undefined\n</code></p>\n\n<p>I found that <code>V8Js</code> doesn't have browser variables and I tried using npm package <code>browser-env</code> but getting same error. see the screenshot <a href=\"http://nimb.ws/zGDmXO\" rel=\"nofollow noreferrer\">http://nimb.ws/zGDmXO</a></p>\n\n<p>Thank you</p>\n"}, {"tags": ["typescript", "types"], "answers": [{"comments": [{"owner": {"reputation": 5929, "user_id": 1220479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6e081b70981293c9bf312d7e42713cb?s=128&d=identicon&r=PG", "display_name": "bilalq", "link": "https://stackoverflow.com/users/1220479/bilalq"}, "edited": false, "score": 0, "creation_date": 1527023598, "post_id": 50476197, "comment_id": 87966585, "body": "Ah, interesting! Would this be solvable by adding an intersection of a non-never type? I expect that would strictly make any <code>T</code> that does not extend <code>Handler</code> a compilation error instead of propagating a <code>never</code> type along."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1527021930, "creation_date": 1527021930, "answer_id": 50476197, "question_id": 50475802, "link": "https://stackoverflow.com/questions/50475802/defining-a-type-alias-using-nested-generic-parameters/50476197#50476197", "title": "Defining a type alias using nested generic parameters", "body": "<p>You can get pretty close with c<a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html\" rel=\"nofollow noreferrer\">onditional types and type inference in conditional types</a></p>\n\n<pre><code>type AsyncHandler&lt;T&gt; = T extends Handler&lt;infer I, infer R&gt; ? \n                             (event: I) =&gt; Promise&lt;R&gt; \n                          :  never\n;\n\ntype AsyncStrToNumHandler = AsyncHandler&lt;StrToNumHandler&gt; \n// inferred as AsyncStrToNumHandler = (event: string) =&gt; Promise&lt;number&gt;\n</code></pre>\n\n<p>The downside is that your type alias should provide some type even if <code>T</code> is not actually <code>Handler</code>. The usual solution is to return <code>never</code> type. But the code that uses such alias can behave unexpectedly at compile time when it receives <code>never</code> type.</p>\n"}], "owner": {"reputation": 5929, "user_id": 1220479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6e081b70981293c9bf312d7e42713cb?s=128&d=identicon&r=PG", "display_name": "bilalq", "link": "https://stackoverflow.com/users/1220479/bilalq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 2, "accepted_answer_id": 50476197, "answer_count": 1, "score": 4, "last_activity_date": 1527021930, "creation_date": 1527020119, "question_id": 50475802, "link": "https://stackoverflow.com/questions/50475802/defining-a-type-alias-using-nested-generic-parameters", "title": "Defining a type alias using nested generic parameters", "body": "<p>I'd like to be able to define a type that takes in a generic parameter (that itself extends a type with 2 generic parameters) and define its constraints by using the nested generic parameters.</p>\n\n<pre><code>// Boiler plate for example setup:\ntype NodeCallback&lt;T&gt; = (err?: Error | void, result?: T) =&gt; void\ntype Handler&lt;I, R&gt; = (event: I, callback: NodeCallback&lt;R&gt;) =&gt; void\ntype StrToNumHandler = Handler&lt;string, number&gt;\n\n// I end up having to do this:\ntype WorkaroundAsyncHandler&lt;T extends Handler&lt;I, R&gt;, I, R&gt; = (event: I) =&gt; Promise&lt;R&gt;\ntype WorkaroundStrToNumHandler = WorkaroundAsyncHandler&lt;StrToNumHandler, string, number&gt;\n\n// I'd like to be able to just write this:\ntype AsyncHandler&lt;T extends Handler&lt;I, R&gt;&gt; = (event: I) =&gt; Promise&lt;R&gt; // This is a compiler error. Not sure how to write this in a valid way.\ntype AsyncStrToNumHandler = AsyncHandler&lt;StrToNumHandler&gt; // This is the line I'd ultimately like to write\n</code></pre>\n\n<p>The workaround I have compiles, but if I'm supplying the values for <code>I</code> and <code>R</code>, there isn't any value in supplying the <code>Handler</code>, which I'd like to be able to do.</p>\n"}, {"tags": ["angular", "algorithm", "typescript", "asp.net-web-api", "ionic-framework"], "comments": [{"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527021653, "post_id": 50475678, "comment_id": 87965780, "body": "can you elaborate a bit more what you call &quot;store&quot; - App Store / Google Play?"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527021815, "post_id": 50475678, "comment_id": 87965853, "body": "So I would create a special API endpoint (GET) that returns version identifier from your back end, which your client app can compare with locally stored (Ionic Storage) one if there is a mismatch - you can provide user with a modal asking them to update. Now separate question is when your app queries this API. Seems like you need to do it in the end of startup cycle for the app, then potentially tie it to certain user activities on the client."}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527021869, "post_id": 50475678, "comment_id": 87965873, "body": "if you can afford I would recommend using Ionic Pro option for dynamic updates for your app. <a href=\"https://ionicframework.com/docs/pro/deploy/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/pro/deploy</a>"}, {"owner": {"reputation": 323, "user_id": 9772189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gautam", "link": "https://stackoverflow.com/users/9772189/gautam"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527027824, "post_id": 50475678, "comment_id": 87968073, "body": "@Sergey: Its both apple store and play store."}, {"owner": {"reputation": 323, "user_id": 9772189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gautam", "link": "https://stackoverflow.com/users/9772189/gautam"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527027955, "post_id": 50475678, "comment_id": 87968112, "body": "@Sergey: With respect to affordability I spoke with project manager , he does not want to spend anymore lol !"}, {"owner": {"reputation": 323, "user_id": 9772189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gautam", "link": "https://stackoverflow.com/users/9772189/gautam"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527028251, "post_id": 50475678, "comment_id": 87968208, "body": "@Sergey : Tying up in app cycle bootup is fine but I feel overwhelmed when I want to tie it up at user activities, but that&#39;s the option I have for now."}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527028987, "post_id": 50475678, "comment_id": 87968400, "body": "I see;) but you could identify &quot;meaningful&quot; action (like another API call that could trigger version check for example)"}, {"owner": {"reputation": 323, "user_id": 9772189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gautam", "link": "https://stackoverflow.com/users/9772189/gautam"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1527100734, "post_id": 50475678, "comment_id": 88003367, "body": "yes I did exactly that, made the list of all the important api calls and will hook this up there."}, {"owner": {"reputation": 13444, "user_id": 775896, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/57a86060b65e0f05789f58d501a0aee1?s=128&d=identicon&r=PG", "display_name": "Mrunal", "link": "https://stackoverflow.com/users/775896/mrunal"}, "edited": false, "score": 0, "creation_date": 1548660729, "post_id": 50475678, "comment_id": 95605489, "body": "@Gautam How did you resolve this for iOS and Android both with ionic ?"}], "owner": {"reputation": 323, "user_id": 9772189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gautam", "link": "https://stackoverflow.com/users/9772189/gautam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527019822, "creation_date": 1527019488, "last_edit_date": 1527019822, "question_id": 50475678, "link": "https://stackoverflow.com/questions/50475678/ask-user-to-update-app-version", "title": "Ask user to update app version", "body": "<p>I am working on an app(Ionic App) feature which is about to ask user to update the app if new version is available in store. Now I have to make decision how to implement it. I have an api(ASP.NET Web api) which returns the details about current version of app is available in app store. This API reads it from a config.</p>\n\n<p>Now the question is how should I call the api to make decision i.e. to ask user to update the app.  A user should get message to update in following case provided that value in config changes for app version:</p>\n\n<ol>\n<li>App is closed : when user launches the app</li>\n<li>App in background: when app comes in foreground</li>\n<li>App in foreground: when user is running then immediately</li>\n</ol>\n\n<p>In short how should I go about implementing this?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack"], "owner": {"reputation": 2363, "user_id": 8675026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47dc9ddf0590f10430955b0d143693c3?s=128&d=identicon&r=PG", "display_name": "Alsein", "link": "https://stackoverflow.com/users/8675026/alsein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1527019561, "creation_date": 1527018882, "last_edit_date": 1527019561, "question_id": 50475540, "link": "https://stackoverflow.com/questions/50475540/how-to-webpack-a-multiple-page-tsx-website-with-separate-js-files", "title": "How to Webpack a multiple page (tsx) website with separate js files?", "body": "<p>I am using:</p>\n\n<p><code>react</code> for page rendering.</p>\n\n<p><code>typescript</code> <strong>directly</strong>(without babel) transpiling tsx to ES5 for browsers</p>\n\n<p><code>webpack</code> to generate codes separately</p>\n\n<p><code>babel-polyfill</code> to be packaged in the <code>vendor.js</code> but not referenced by typescript codes</p>\n\n<p>I want to package javascript libraries and my common codes into one <code>vendor.js</code> and generate <strong>separately</strong> <code>[name].js</code> files with <code>[name].html</code> (with template) referencing both <code>vendor.js</code> and <code>[name].js</code> for each <code>[name].tsx</code> (which conatins <strong>only</strong> a class definition <code>[name]</code> that extends <code>React.Component&lt;P,S&gt;</code>) with <code>HtmlWebpackPlugin</code>.</p>\n\n<p><code>[name].tsx</code> may import modules. Modules included in <code>vendor.js</code> <strong>cannot be included in <code>[name].js</code></strong>, and the others must be normally included in <code>[name].js</code></p>\n\n<p>I have read the document form <code>webpack</code> official site and still have no idea how to do it.</p>\n\n<p>I did find some guides that realize a multiple page website but  having all libraries included in the separate <code>[name].js</code> files, which means the javascript libraries are redundantly included in every single <code>[name].js</code> and it is surely not expected.</p>\n\n<p>And I found some guides about <code>externals</code>, but it can only be used on existing js files, not generated bundle files.</p>\n\n<p>Here is my current <code>webpack.config.js</code> which supports only single page:</p>\n\n<pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin');\nconst webpack = require('webpack');\n\nmodule.exports = {\n    entry: {\n        \"index.js\": ['babel-polyfill', './src/index.tsx']\n    },\n    output: { filename: '[name]' },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: \"./src/index.html\"\n        })\n    ],\n    module: {\n        rules: [{\n            test: /\\.(ts|tsx)$/,\n            loader: 'ts-loader',\n            exclude: '/node_modules/'\n        }, {\n            enforce: 'pre',\n            test: /\\.js$/,\n            loader: 'source-map-loader'\n        },]\n    },\n    resolve: {\n        extensions: ['.webpack.js', '.web.js', '.ts', '.js', '.tsx']\n    },\n    devtool: \"source-map\"\n} \n</code></pre>\n\n<p>Is there any way to have it support multiple pages as described?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "protractor", "automated-tests"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 1505045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e6de84268fa314e95691fa8043310f?s=128&d=identicon&r=PG", "display_name": "tux-rampage", "link": "https://stackoverflow.com/users/1505045/tux-rampage"}, "is_accepted": false, "score": 0, "last_activity_date": 1527019284, "creation_date": 1527019284, "answer_id": 50475628, "question_id": 50475461, "link": "https://stackoverflow.com/questions/50475461/why-is-this-structure-in-typescript-class-resulting-in-a-runtime-error-when-it-c/50475628#50475628", "title": "Why is this structure in typescript class resulting in a runtime error when it compiles just fine?", "body": "<p>Because <code>element.all(by.css('bread-crumbs span'));</code> seems to result in <code>undefined</code>.\nUndefined matches any type in Typescript unless you turn it off in your tsconfig. Also Typescript transtiples to JavaScript and it does not enforce type correctness at runtime. So especially if you are using 3rd party scripts, don't rely on the type declarations without checking them.</p>\n"}, {"comments": [{"owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "edited": false, "score": 0, "creation_date": 1527087322, "post_id": 50478681, "comment_id": 87995976, "body": "This was 100% it and your explanation made complete sense.  Thanks for being concise and to the point! If you reach out to my email I would love to see how you structure your work."}], "tags": [], "owner": {"reputation": 36, "user_id": 9730986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JohnL", "link": "https://stackoverflow.com/users/9730986/johnl"}, "is_accepted": true, "score": 2, "last_activity_date": 1527039847, "creation_date": 1527039847, "answer_id": 50478681, "question_id": 50475461, "link": "https://stackoverflow.com/questions/50475461/why-is-this-structure-in-typescript-class-resulting-in-a-runtime-error-when-it-c/50478681#50478681", "title": "Why is this structure in typescript class resulting in a runtime error when it compiles just fine?", "body": "<p>Since you returning <strong>element.all(by.css('bread-crumbs span'))</strong> from <strong>getBreadCrumbs()</strong> your other functions are actually receiving an array of  <em>WebElement</em> instead of an <em>ElementArrayFinder</em>. So you should be able to call </p>\n\n<blockquote>\n  <p>breadcrumbs[n].getText()</p>\n</blockquote>\n\n<p>In your functions</p>\n\n<p>My personal suggestion would be for you to move away from a function returning your selector and instead set them as properties of your page object class:</p>\n\n<blockquote>\n  <p>public breadcrumbs = element.all(by.css('bread-crumbs span'));</p>\n</blockquote>\n\n<p>Which simplifies <strong>getProjectNameBreadCrumbText()</strong> to:</p>\n\n<p><code>async getProjectNameBreadCrumbText(): Promise&lt;string&gt; {\n    return this.breadCrumbs.get(2).getText();\n}</code></p>\n\n<p>And your test to:</p>\n\n<p><code>it('test case', async function() {\n...\nexpect(await mapperPage.getProjectMapperBreadCrumbText())\n    .toEqual(mapperPage.MAPPER_BREADCRUMB);\n...\n});</code></p>\n\n<p>If you'd like I would be happy to give you my general format for page objects, spec, and config I've been using for async/await with the Promise Manager disabled.</p>\n"}], "owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 50478681, "answer_count": 2, "score": 1, "last_activity_date": 1527039847, "creation_date": 1527018570, "question_id": 50475461, "link": "https://stackoverflow.com/questions/50475461/why-is-this-structure-in-typescript-class-resulting-in-a-runtime-error-when-it-c", "title": "Why is this structure in typescript class resulting in a runtime error when it compiles just fine?", "body": "<p>I am writing for Protractor with Jasmine. I am well-versed in Java and browser-testing, but am new to JavaScript and Protractor. </p>\n\n<p>I am working on moving my code over to the \"new\" style of using async and awaits to move ahead of the control flow changes (if I'm mistaken in my understanding of that, I apologize) and I'm running into issues when it comes to converting my page object classes over.  At first I tried to type my function at \"Line A\" as Promise, but I got the error that \"type any[] is not convertible to type ElementArrayFinder\".  On suggestion I changed it to what is currently there \"Promise\" which compiles, but fails to run with the error below the given code. Before my conversion I was simply passing the ElementArrayFinder object around no problem and my code worked, so I have previously working code, I just need to figure out how to make it work in this new structure. </p>\n\n<pre><code>// my po class\n...\n// Breadcrumb methods\nasync getBreadCrumbs(): Promise&lt;any&gt; {  // Line A\n   return await element.all(by.css('bread-crumbs span'));\n}\n\nasync getProjectNameBreadCrumbText() {\n    const breadCrumbs: ElementArrayFinder = await this.getBreadCrumbs();\n    return await breadCrumbs.get(2).getText();\n}\n\nasync getProjectMapperBreadCrumbText() {\n    const breadCrumbs: ElementArrayFinder = await this.getBreadCrumbs();\n    return await breadCrumbs.get(3).getText();\n}\n</code></pre>\n\n<p>Appears to compile fine without IDE errors in Webstorm, but when I run it I get the error: </p>\n\n<pre><code>Failed: breadCrumbs.get is not a function\nTypeError: breadCrumbs.get is not a function\n</code></pre>\n\n<p>And in case it matters here's code using the above PO class that is causing the failure when it calls the code at run-time: </p>\n\n<pre><code>it('test case', async function() {\n...\nawait expect(mapperPage.getProjectMapperBreadCrumbText()).toEqual(mapperPage.MAPPER_BREADCRUMB);\n...\n});\n</code></pre>\n\n<p>I'm open to constructive criticism on how I should be writing this code, I'm mostly winging it from piecing together code bits.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular6", "rxjs6"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 1, "creation_date": 1527018246, "post_id": 50475213, "comment_id": 87964208, "body": "Does trying <code>return empty();</code> work? <code>empty</code> is now a constant (<code>EMPTY</code>), and function (<code>empty(scheduler?: SchedulerLike)</code>)."}, {"owner": {"reputation": 3043, "user_id": 5885018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSTgu.jpg?s=128&g=1", "display_name": "statosdotcom", "link": "https://stackoverflow.com/users/5885018/statosdotcom"}, "edited": false, "score": 1, "creation_date": 1527018268, "post_id": 50475213, "comment_id": 87964223, "body": "Congrats for your gentleman-inspired avatar&#39;s name. Long live Jenson Button \\o/"}, {"owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "edited": false, "score": 0, "creation_date": 1527018463, "post_id": 50475213, "comment_id": 87964315, "body": "and the Monkey King!!"}, {"owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "reply_to_user": {"reputation": 3043, "user_id": 5885018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSTgu.jpg?s=128&g=1", "display_name": "statosdotcom", "link": "https://stackoverflow.com/users/5885018/statosdotcom"}, "edited": false, "score": 0, "creation_date": 1527018524, "post_id": 50475213, "comment_id": 87964344, "body": "@statosdotcom tried that but <code>intercept</code> it type safe <code>Observable&lt;HttpEvent&lt;any&gt;&gt;</code>"}, {"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1527019008, "post_id": 50475213, "comment_id": 87964570, "body": "How about this: <code>return of&lt;HttpEvent&lt;any&gt;&gt;();</code>"}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1527019141, "post_id": 50475213, "comment_id": 87964647, "body": "maybe a dumb question, but why dont you throw error observable instead of returning typed empty one?"}, {"owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "edited": false, "score": 0, "creation_date": 1527019185, "post_id": 50475213, "comment_id": 87964670, "body": "interesting. the rxjs-lint command just finished. this is what it did! <code>return observableOf&lt;HttpEvent&lt;any&gt;&gt;();</code> which  is an alias for <code>of</code>. presumably that is implicitly empty?"}, {"owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "reply_to_user": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1527019226, "post_id": 50475213, "comment_id": 87964690, "body": "@deezg open to best suggestions thanks"}, {"owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "edited": false, "score": 0, "creation_date": 1527019289, "post_id": 50475213, "comment_id": 87964710, "body": "but i dont want to throw, just continue as the error has been handled with a toast. all the user needs to know. the actual code is a bit more verbose"}, {"owner": {"reputation": 1348, "user_id": 1129486, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/ac6d74e166d76222376b1c0a7b2128b7?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/1129486/arthur"}, "edited": false, "score": 0, "creation_date": 1527669236, "post_id": 50475213, "comment_id": 88209015, "body": "How did you make this work? <code>return of&lt;HttpEvent&lt;any&gt;&gt;();</code> does not compile for me: Type &#39;Observable&lt;Observable&lt;HttpEvent&lt;any&gt;&gt;&gt;&#39; is not assignable to type &#39;Observable&lt;HttpEvent&lt;any&gt;&gt;&#39;. The accepted answer also does not work because of type safety."}, {"owner": {"reputation": 1348, "user_id": 1129486, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/ac6d74e166d76222376b1c0a7b2128b7?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/1129486/arthur"}, "edited": false, "score": 0, "creation_date": 1527669572, "post_id": 50475213, "comment_id": 88209234, "body": "I also tried <code>throwError()</code>: Type &#39;Observable&lt;void&gt;&#39; is not assignable to type &#39;Observable&lt;HttpEvent&lt;any&gt;&gt;&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "is_accepted": true, "score": 26, "last_activity_date": 1527020357, "last_edit_date": 1527020357, "creation_date": 1527019947, "answer_id": 50475771, "question_id": 50475213, "link": "https://stackoverflow.com/questions/50475213/rxjs-6-new-version-of-httpinterceptor/50475771#50475771", "title": "RXJS 6: new version of HttpInterceptor", "body": "<ol>\n<li><p><code>import {EMPTY} from 'rxjs';</code></p></li>\n<li><p>Replace return <code>Observable.empty()</code> with </p>\n\n<p><code>return EMPTY;</code></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "edited": false, "score": 0, "creation_date": 1528222735, "post_id": 50602700, "comment_id": 88422237, "body": "presenting a detailed exception message to your end user is rarely a good choice"}, {"owner": {"reputation": 1502, "user_id": 3969602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3KUd.jpg?s=128&g=1", "display_name": "Corey Cole", "link": "https://stackoverflow.com/users/3969602/corey-cole"}, "edited": false, "score": 1, "creation_date": 1534296824, "post_id": 50602700, "comment_id": 90656417, "body": "@Arthur if err is not an instanceof <code>HttpErrorResponse</code> you don&#39;t return anything inside of your <code>catchError</code>"}, {"owner": {"reputation": 1348, "user_id": 1129486, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/ac6d74e166d76222376b1c0a7b2128b7?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/1129486/arthur"}, "reply_to_user": {"reputation": 1502, "user_id": 3969602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3KUd.jpg?s=128&g=1", "display_name": "Corey Cole", "link": "https://stackoverflow.com/users/3969602/corey-cole"}, "edited": false, "score": 0, "creation_date": 1534316984, "post_id": 50602700, "comment_id": 90661081, "body": "@CoreyCole true, at least logging the other error somewhere would be a good idea."}, {"owner": {"reputation": 1502, "user_id": 3969602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3KUd.jpg?s=128&g=1", "display_name": "Corey Cole", "link": "https://stackoverflow.com/users/3969602/corey-cole"}, "edited": false, "score": 0, "creation_date": 1535057158, "post_id": 50602700, "comment_id": 90937762, "body": "I think you have to return something so that the observable chain can continue. It says <a href=\"https://www.learnrxjs.io/operators/error_handling/catch.html\" rel=\"nofollow noreferrer\">here</a> to always return an observable from the <code>catchError</code> function"}], "tags": [], "owner": {"reputation": 1348, "user_id": 1129486, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/ac6d74e166d76222376b1c0a7b2128b7?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/1129486/arthur"}, "is_accepted": false, "score": 1, "last_activity_date": 1527677163, "creation_date": 1527677163, "answer_id": 50602700, "question_id": 50475213, "link": "https://stackoverflow.com/questions/50475213/rxjs-6-new-version-of-httpinterceptor/50602700#50602700", "title": "RXJS 6: new version of HttpInterceptor", "body": "<p>Couldn't figure out how to return something that the compiler accepts, but was at least able to throw an error. The code compiles and works, but as a beginner in Rxjs not sure if it is correct.</p>\n\n<pre><code>  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    const xhr = req.clone({\n      headers: req.headers.set('X-Requested-With', 'XMLHttpRequest')\n    });\n    return next.handle(xhr).pipe(\n      catchError((err) =&gt; {\n        if (err instanceof HttpErrorResponse) {\n          if (err.status === 401) {\n            this.router.navigate(['/login']);\n          } else {\n            this.snack.open('Communication error: ' + err.status + ' - ' + err.statusText, null,\n             {duration: 5000, panelClass: 'snack-error', verticalPosition: 'top'});\n          }\n          return throwError('backend comm error');\n        }\n      })\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8329, "favorite_count": 4, "accepted_answer_id": 50475771, "answer_count": 2, "score": 11, "last_activity_date": 1533937936, "creation_date": 1527017480, "last_edit_date": 1527019352, "question_id": 50475213, "link": "https://stackoverflow.com/questions/50475213/rxjs-6-new-version-of-httpinterceptor", "title": "RXJS 6: new version of HttpInterceptor", "body": "<p>I am in the process of adding <code>rxjs_compat</code> to my project in order to move to v6 of libraries.</p>\n\n<p>However the existing <code>HttpInterceptor</code> for global error handling no longer compiles. Not sure where to go with it. Tried all sorts. Getting type mismatches with everything tried.</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport {\n  HttpEvent,\n  HttpInterceptor,\n  HttpHandler,\n  HttpRequest,\n  HttpResponse,\n  HttpErrorResponse\n} from \"@angular/common/http\";\nimport { Observable, of, empty } from \"rxjs\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { environment } from \"../../environments/environment\";\nimport { catchError, map } from \"rxjs/operators\";\n\n@Injectable()\nexport class HttpErrorInterceptor implements HttpInterceptor {\n  constructor(private toastr: ToastrService) {}\n  intercept(\n    request: HttpRequest&lt;any&gt;,\n    next: HttpHandler\n  ): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    return next.handle(request).pipe(\n      catchError(err =&gt; of(HttpErrorResponse)),\n      map(err =&gt; {\n        let message: string;\n         this.toastr.error(`${message}`, \"Application Error\");\n        return Observable.empty&lt;HttpEvent&lt;any&gt;&gt;();\n      })\n    );\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>src/app/shared/http-error-interceptor.ts(26,27): error TS2339:\n  Property 'empty' does not exist on type 'typeof Observable'.</p>\n</blockquote>\n\n<p><code>empty</code> is now a constant, but doesn't accept a type, so that does not work either. Also could not find much in <a href=\"https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md#dep-methods\" rel=\"noreferrer\">the upgrade notes</a> </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>although interestingly this compiles:</p>\n\n<pre><code>return Observable.of&lt;HttpEvent&lt;any&gt;&gt;();\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1527017178, "post_id": 50475048, "comment_id": 87963717, "body": "I&#39;m unable to reproduce this. In a StackBlitz it works fine... <a href=\"https://stackblitz.com/edit/angular-ephmha?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 197, "user_id": 1010754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e98d7495fabad25628db01804c54320?s=128&d=identicon&r=PG", "display_name": "KQI", "link": "https://stackoverflow.com/users/1010754/kqi"}, "is_accepted": false, "score": 0, "last_activity_date": 1527017850, "creation_date": 1527017850, "answer_id": 50475296, "question_id": 50475048, "link": "https://stackoverflow.com/questions/50475048/typescript-javascript-calling-a-function-from-a-custom-contextmenu-item/50475296#50475296", "title": "TypeScript/JavaScript: Calling a function from a custom contextmenu item", "body": "<p>Register the listener before you wait for the user click e.g. Use OnInit() to subscribe the context menu clicks and try again. </p>\n\n<p>Note: better to use Angular data binding than using .add class native DOM method as its not supported in old IEs</p>\n"}], "owner": {"reputation": 49, "user_id": 4052333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61dd9e6c6cf7ff868f045bde489737c3?s=128&d=identicon&r=PG&f=1", "display_name": "CodyCS", "link": "https://stackoverflow.com/users/4052333/codycs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 962, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527017850, "creation_date": 1527016866, "last_edit_date": 1527017119, "question_id": 50475048, "link": "https://stackoverflow.com/questions/50475048/typescript-javascript-calling-a-function-from-a-custom-contextmenu-item", "title": "TypeScript/JavaScript: Calling a function from a custom contextmenu item", "body": "<p>I have a ContextMenuItem model defined as:</p>\n\n<pre><code>export class ContextMenuItem {\n    label: string;\n    action?: () =&gt; void;\n}\n</code></pre>\n\n<p>In my class I am defining a list of them as: </p>\n\n<pre><code>contextMenuItems: ContextMenuItem[] = [{\n    label: 'Open link in new tab',\n    action: () =&gt; this.openLinkInNewTab()\n},\n{\n    label: 'Test 2',\n    action: () =&gt; this.testFunc()\n}];\n</code></pre>\n\n<p>HTML for my custom context menu: </p>\n\n<pre><code>&lt;div class=\"parent\"&gt;\n    &lt;div id=\"test1\"&gt;\n        &lt;div (pointerdown)=\"mouseDown($event)\" class=\"test\"&gt;Test Text&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"hide\" id=\"menu\"&gt;\n        &lt;ul class=\"menu-items\"&gt;\n            &lt;li *ngFor=\"let menuItem of contextMenuItems\"&gt;\n                &lt;div (click)=\"menuItem.action()\"&gt;{{ menuItem.label }}&lt;/div&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Code being called when the Test Text is right clicked: </p>\n\n<pre><code>mouseDown(mouseClick: PointerEvent) {\n    let rightClick: number = 3;\n    if (mouseClick.which !== rightClick) return;\n\n    if (document.getElementById('test1').addEventListener) {\n        document.getElementById('test1').addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n            let element = document.getElementById('menu');\n            element.classList.toggle('hide');\n\n            element.style.position = 'absolute';\n            element.style.zIndex = '1';\n            element.style.top = event.layerY + 'px';\n            element.style.left = event.layerX + 'px';\n        }, false);\n    }\n\n    document.addEventListener('pointerdown', function (event) {\n        document.getElementById('menu').classList.add('hide');\n    });\n}\n</code></pre>\n\n<p>Now, whenever I try to click on any of my ContextMenuItems, the function doesn't get hit at all. I've tried doing a console.log at the beginning of the function and it never displays. I also tried setting a breakpoint. There's also nothing in the network tab on the debugger tools when an item is clicked. Any ideas?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1527015210, "post_id": 50474532, "comment_id": 87962805, "body": "You may be able to use React portals with <code>this.domElement</code>: <a href=\"https://reactjs.org/docs/portals.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/portals.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1527016028, "post_id": 50474759, "comment_id": 87963214, "body": "what is exactly react.fragment?"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1527017361, "post_id": 50474759, "comment_id": 87963798, "body": "Please see Update1: I have 2 errors that I am not sure how to fix: 1. Argument of type &#39;{ quotes: IQuote[]; }&#39; is not assignable to parameter of type &#39;Pick&lt;ISolidState, &quot;quotes&quot;&gt;&#39;.   Types of property &#39;quotes&#39; are incompatible.     Type &#39;IQuote[]&#39; is not assignable to type &#39;IQuotes&#39;.       Property &#39;Quotes&#39; is missing in type &#39;IQuote[]&#39;."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1527017370, "post_id": 50474759, "comment_id": 87963803, "body": "and 2. [ts] Property &#39;map&#39; does not exist on type &#39;IQuotes&#39;."}, {"owner": {"reputation": 608, "user_id": 2880899, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/534665620/picture?type=large", "display_name": "Michael Nakayama", "link": "https://stackoverflow.com/users/2880899/michael-nakayama"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1527019596, "post_id": 50474759, "comment_id": 87964853, "body": "<code>React.Fragment</code> is a new piece of react that allows you to render adjacent children without having to wrap them in a <code>div</code>. If you were to remove that, React would complain that you can only return one child element. You could change it to an array, but each item would need it&#39;s own key. Instead, react introduced the fragment component that allows this behavior without rendering extra dom nodes."}], "tags": [], "owner": {"reputation": 608, "user_id": 2880899, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/534665620/picture?type=large", "display_name": "Michael Nakayama", "link": "https://stackoverflow.com/users/2880899/michael-nakayama"}, "is_accepted": true, "score": 2, "last_activity_date": 1527015735, "creation_date": 1527015735, "answer_id": 50474759, "question_id": 50474532, "link": "https://stackoverflow.com/questions/50474532/how-to-rewrite-plain-javascript-into-a-react-component-foreach/50474759#50474759", "title": "how to rewrite plain javascript into a react component (foreach)", "body": "<p>Since the request to get the data will be asynchronous, you should make this into a member function on your React component like so:</p>\n\n<pre><code>fetchData = () =&gt; {\n  this._dataReader.getData().then((response) =&gt; {\n    this.setState({\n      quotes: response.Quotes,\n    });\n  });\n }\n</code></pre>\n\n<p>This will trigger a render when the method is called unless you prevent an update in <code>shouldComponentUpdate</code>. We can then implement a renderMethod for the quotes:</p>\n\n<pre><code>renderQuotes = () =&gt; this.state.quotes.map(quote =&gt; (\n  &lt;React.Fragment&gt;\n    &lt;div&gt;${escape(quote.Quote)}&lt;/div&gt;\n    &lt;div class=\"${styles.author}\"&gt;${escape(quote.Author)}&lt;/div&gt;  \n  &lt;/React.Fragment&gt;\n);\n</code></pre>\n\n<p>You don't have to use a <code>Fragment</code> as it's a part of React 16.3, it's just useful here.</p>\n\n<p>Your primary render method can then render</p>\n\n<pre><code>&lt;div&gt;\n  {this.renderQuotes()}\n&lt;/div&gt;\n</code></pre>\n\n<p>and in <code>componentDidMount</code> which is when you can make network requests etc. You can call <code>fetchData</code>.</p>\n\n<pre><code>componentDidMount() {\n  this.fetchData();\n}\n</code></pre>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 50474759, "answer_count": 1, "score": 0, "last_activity_date": 1527017338, "creation_date": 1527014750, "last_edit_date": 1527017338, "question_id": 50474532, "link": "https://stackoverflow.com/questions/50474532/how-to-rewrite-plain-javascript-into-a-react-component-foreach", "title": "how to rewrite plain javascript into a react component (foreach)", "body": "<p>I have the following  spfx component which is plain javascript and works perfectly fine.</p>\n\n<pre><code>import { Version } from '@microsoft/sp-core-library';\nimport {\n  BaseClientSideWebPart,\n  IPropertyPaneConfiguration,\n  PropertyPaneTextField\n} from '@microsoft/sp-webpart-base';\nimport { escape } from '@microsoft/sp-lodash-subset';\n\nimport styles from './MyQuotesWebPart.module.scss';\nimport * as strings from 'MyQuotesWebPartStrings';\n\nimport { IQuotes, IQuote } from './QuoteContracts';\nimport { IDataReader, DataReaderFactory } from './DataReader';\n\nexport interface IMyQuotesWebPartProps {\n  description: string;\n}\n\nexport default class MyQuotesWebPart extends BaseClientSideWebPart&lt;IMyQuotesWebPartProps&gt; {\n\n  constructor() {\n    super();\n    this._dataReader = DataReaderFactory.getReader(this.context);\n  }\n\n  private _dataReader : IDataReader;\n\n  public render(): void {\n    this.domElement.innerHTML = `\n      &lt;div class=\"${styles.myQuotes}\"&gt;\n        &lt;div class=\"${styles.container}\"&gt;\n          &lt;div class=\"ms-Grid-row ms-bgColor-themeDark ms-fontColor-white ${styles.row}\"&gt;\n            &lt;div class=\"ms-Grid-col ms-lg10 ms-xl8 ms-xlPush2 ms-lgPush1\"&gt;\n              &lt;span class=\"ms-font-xl ms-fontColor-white\"&gt;Famous Quotes&lt;/span&gt;\n              &lt;div class=\"ms-font-l ms-fontColor-white\" id=\"quotesContainer\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;`;\n\n      this.renderData();\n  }\n\n  protected get dataVersion(): Version {\n    return Version.parse('1.0');\n  }\n\n  protected getPropertyPaneConfiguration(): IPropertyPaneConfiguration {\n    return {\n      pages: [\n        {\n          header: {\n            description: strings.PropertyPaneDescription\n          },\n          groups: [\n            {\n              groupName: strings.BasicGroupName,\n              groupFields: [\n                PropertyPaneTextField('description', {\n                  label: strings.DescriptionFieldLabel\n                })\n              ]\n            }\n          ]\n        }\n      ]\n    };\n  }\n\n  private renderData(): void {\n    this._dataReader.getData().then((response) =&gt; {\n      this.renderQuotes(response.Quotes);\n    });\n  }\n\n  private renderQuotes(items: IQuote[]): void {\n    let html: string = '';\n    items.forEach((item: IQuote) =&gt; {\n      html += `\n        &lt;div&gt;${escape(item.Quote)}&lt;/div&gt;\n        &lt;div class=\"${styles.author}\"&gt;${escape(item.Author)}&lt;/div&gt;  \n      `;\n    });\n\n    const listContainer: Element = this.domElement.querySelector('#quotesContainer');\n    listContainer.innerHTML = html;\n  }\n}\n</code></pre>\n\n<p>And I am trying to create a react component, but I am not sure how to use the render data and how to use a foreach in the resultset received to render it, basically the question is how can Integrate it into the render method.</p>\n\n<pre><code>import * as React from 'react';\nimport styles from './Solid.module.scss';\nimport { ISolidProps } from './ISolidProps';\nimport { escape } from '@microsoft/sp-lodash-subset';\nimport { IQuotes, IQuote } from './QuoteContracts';\nimport { IDataReader, DataReaderFactory } from './DataReader';\n\n\nexport default class Solid extends React.Component&lt;ISolidProps, {}&gt; {\n\n  constructor() {\n    super();\n    this._dataReader = DataReaderFactory.getReader(this.context);\n  }\n\n  private _dataReader : IDataReader;\n\n  public render(): React.ReactElement&lt;ISolidProps&gt; {\n    return (\n      &lt;div className={ styles.solid }&gt;\n        &lt;div className={ styles.container }&gt;\n          &lt;div className={ styles.row }&gt;\n            &lt;div className={ styles.column }&gt;\n              &lt;span className={ styles.title }&gt;Welcome to SharePoint!&lt;/span&gt;\n              &lt;p className={ styles.subTitle }&gt;Customize SharePoint experiences using Web Parts.&lt;/p&gt;\n              &lt;p className={ styles.description }&gt;{escape(this.props.description)}&lt;/p&gt;\n              &lt;a href=\"https://aka.ms/spfx\" className={ styles.button }&gt;\n                &lt;span className={ styles.label }&gt;Learn more&lt;/span&gt;\n              &lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Update 1:</p>\n\n<p>I have my interfaces like this:</p>\n\n<pre><code>export interface IQuotes {\n    Quotes: IQuote[];\n}\n\nexport interface IQuote {\n    Author: string;\n    Quote: string;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1527013987, "post_id": 50474290, "comment_id": 87962195, "body": "So what is the specific problem? What are expected results?"}, {"owner": {"reputation": 2262, "user_id": 6655418, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-2CzgOKePhUQ/AAAAAAAAAAI/AAAAAAAAAMw/0zeIsPF00xo/photo.jpg?sz=128", "display_name": "BeeBee8", "link": "https://stackoverflow.com/users/6655418/beebee8"}, "edited": false, "score": 0, "creation_date": 1527014000, "post_id": 50474290, "comment_id": 87962201, "body": "You have done that already , whats the problem?"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "edited": false, "score": 0, "creation_date": 1527014044, "post_id": 50474290, "comment_id": 87962225, "body": "i was expecting to create newMember object inside response and sent it in promise but its not happening"}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1527014186, "post_id": 50474290, "comment_id": 87962287, "body": "There is clearly something missing in the explanation. No idea what specific problem is. Also we have no idea what <code>this.getInformation</code> returns"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "edited": false, "score": 0, "creation_date": 1527014268, "post_id": 50474290, "comment_id": 87962340, "body": "everything is working fine i have the data just trying to map data to new object"}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1527014516, "post_id": 50474290, "comment_id": 87962457, "body": "Something like this?? <code>const newObj= {newMember: null}; Object.assign(newObj.newMember, res);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 1, "last_activity_date": 1527014838, "creation_date": 1527014838, "answer_id": 50474548, "question_id": 50474290, "link": "https://stackoverflow.com/questions/50474290/how-to-assign-object-in-typescript-and-replace-object-name/50474548#50474548", "title": "How to assign object in typescript and replace object name?", "body": "<p>You can simply do an assignment:</p>\n\n<pre><code>const newObj = { newMember: data.response.details };\n</code></pre>\n\n<p>Now <code>newObj.newMember</code> has all of the properties of <code>data.response.details</code>. Note that this creates a shallow copy of the details.</p>\n\n<hr>\n\n<p>If for some reason you want to create a deep clone of the details since you're just using simple string values you can do:</p>\n\n<pre><code>const newObj = { newMember: JSON.parse(JSON.stringify(data.response.details)) };\n</code></pre>\n\n<p>This is probably unnecessary.</p>\n"}, {"tags": [], "owner": {"reputation": 624, "user_id": 756172, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/332b7450963cc9b6c461b5a6c7324b9c?s=128&d=identicon&r=PG", "display_name": "Antonio", "link": "https://stackoverflow.com/users/756172/antonio"}, "is_accepted": false, "score": -1, "last_activity_date": 1527273541, "last_edit_date": 1527273541, "creation_date": 1527017604, "answer_id": 50475238, "question_id": 50474290, "link": "https://stackoverflow.com/questions/50474290/how-to-assign-object-in-typescript-and-replace-object-name/50475238#50475238", "title": "How to assign object in typescript and replace object name?", "body": "<p>Create an object with newMember property having res as value</p>\n\n<pre><code> const newMember = Object.assign({},{\"newMember\": data.response.details});\n</code></pre>\n"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 50474548, "answer_count": 2, "score": 0, "last_activity_date": 1527273541, "creation_date": 1527013801, "last_edit_date": 1527014206, "question_id": 50474290, "link": "https://stackoverflow.com/questions/50474290/how-to-assign-object-in-typescript-and-replace-object-name", "title": "How to assign object in typescript and replace object name?", "body": "<p>I have a response coming in from the backend <code>data.response.details</code> and am trying to create a new object with the name <code>newMember</code> to replace <code>details</code> name. As well, I want to push all properties from <code>details</code> to <code>newMember</code>? How can I achieve these tasks using object assign?</p>\n\n<pre><code>main.ts\n\n    public after(args: IResult , data: any) {\n        const res: IResult = data.response.details;\n                const newMember= Object.assign({}, res);\n                return Promise.resolve(this.getInformation(args, newMember));\n    }\n\n\ndata.response.details\n\n    \"patientProfile\": {\n                \"firstName\": \"Rob\",\n                \"lastName\": \"ALLen\",\n                \"memberStatus\": \"Active\"\n                }\n</code></pre>\n\n<p>expected json should be </p>\n\n<pre><code>\"newMember\": {\n\"patientProfile\": {\n                    \"firstName\": \"Rob\",\n                    \"lastName\": \"ALLen\",\n                    \"memberStatus\": \"Active\"\n                    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 1, "creation_date": 1527011292, "post_id": 50473654, "comment_id": 87960952, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44836379/add-custom-typings-files-to-angular-cli\">Add custom typings files to Angular CLI</a>"}, {"owner": {"reputation": 659, "user_id": 5781727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e11d0626e8d2f98061132c8375c2ca6?s=128&d=identicon&r=PG&f=1", "display_name": "PrivateJoker", "link": "https://stackoverflow.com/users/5781727/privatejoker"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1527016396, "post_id": 50473654, "comment_id": 87963399, "body": "Not a duplicate see edit."}], "answers": [{"tags": [], "owner": {"reputation": 2783, "user_id": 1535850, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83a71912b1726b870f3847630bacf75c?s=128&d=identicon&r=PG", "display_name": "John Doe", "link": "https://stackoverflow.com/users/1535850/john-doe"}, "is_accepted": true, "score": 1, "last_activity_date": 1527103404, "creation_date": 1527103404, "answer_id": 50496031, "question_id": 50473654, "link": "https://stackoverflow.com/questions/50473654/angular-how-to-manually-add-typing-file-to-typescript/50496031#50496031", "title": "Angular: How to manually add typing file to typescript", "body": "<p>If you are trying to use the WKT then you just need to do the following:</p>\n\n<ol>\n<li><p>Install </p>\n\n<ul>\n<li>GeoJSON</li>\n<li>terraformer-wkt-parser</li>\n</ul></li>\n<li><p>All you need to do is to add the following to your TypeScript file:</p>\n\n<p>import GeoJSON  = require(\"geojson\");\nimport WKT = require(\"terraformer-wkt-parser\");</p>\n\n<p>x = WKT.parse(someVar);</p></li>\n</ol>\n"}], "owner": {"reputation": 659, "user_id": 5781727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e11d0626e8d2f98061132c8375c2ca6?s=128&d=identicon&r=PG&f=1", "display_name": "PrivateJoker", "link": "https://stackoverflow.com/users/5781727/privatejoker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "accepted_answer_id": 50496031, "answer_count": 1, "score": 1, "last_activity_date": 1527103404, "creation_date": 1527011143, "last_edit_date": 1527015796, "question_id": 50473654, "link": "https://stackoverflow.com/questions/50473654/angular-how-to-manually-add-typing-file-to-typescript", "title": "Angular: How to manually add typing file to typescript", "body": "<p>How can I manually add a typing file to typescript in my application?</p>\n\n<p>I am trying to add the following utility to my Angular 5 project. <a href=\"http://terraformer.io/wkt-parser/\" rel=\"nofollow noreferrer\">WKT Parser</a></p>\n\n<p>I am still new to Angular so I will list all the steps that I've taken to try to paint the picture of where I'm at.</p>\n\n<p>So if I am understanding correctly I need to do the following:<br>\n1. Add the js files to my project.<br>\n2. Add the types to typescript in my project.<br>\n3. Import the library inside of Typescript and write my code.</p>\n\n<p>After some research it appears that I can add the scripts in the angular-cli.json file.</p>\n\n<pre><code>  \"scripts\": [\n    \"../node_modules/terraformer/terraformer-1.0.8.min.js\",\n    \"../node_modules/terraformer-wkt-parser/terraformer-wkt-parser.min.js\"\n  ],   \n</code></pre>\n\n<p>So far so good.  The application doesn't show me any errors and I can see the scripts in the script.bundle when I debug in chrome.</p>\n\n<p>I seem to be hung up on adding the typing file to my typescript.</p>\n\n<p>I've tried installing the types by:</p>\n\n<pre><code>npm install @types/terraformer-wkt-parser\n</code></pre>\n\n<p>I get a 404.  So I'm assuming the type package doesn't exist for me to use this way.</p>\n\n<p>I've looked at <a href=\"https://stackoverflow.com/questions/37548066/typescript-typings-in-npm-types-org-packages?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">TypeScript typings in npm @types org packages</a>\nand <a href=\"http://www.typescriptlang.org/docs/handbook/declaration-files/consumption.html\" rel=\"nofollow noreferrer\">Typescript</a> and <a href=\"https://hackernoon.com/how-to-use-javascript-libraries-in-angular-2-apps-ff274ba601af\" rel=\"nofollow noreferrer\">JS Libraries in Angular</a>\nto see how I can manually add this, but I've had no success. </p>\n\n<pre><code>tsconfig.app.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/app\",\n    \"baseUrl\": \"./\",\n    \"module\": \"es2015\",\n    \"types\": [ \"../node_modules/terraformer-wkt-parser/terraformer-wkt-parser.d\" ]\n  },\n  \"exclude\": [\n    \"test.ts\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>I added the typing flie to the types section and the application will not load.</p>\n\n<p>I believe that it's not picking up the types for when I try any of the following in my tyescript file the app will not load.</p>\n\n<pre><code>import WKT = require(\"terraformer-wkt-parser\");\nimport WKT from 'terraformer-wkt-parser';\n</code></pre>\n\n<p>When I state it will not load:<br>\n* Page shows me \"Cannot GET /\"</p>\n\n<ul>\n<li>Console Error - Failed to load resource: the server responded with a status of 404 ()</li>\n</ul>\n\n<p>I used yarn to originally install both packages and I do see they exist in my package.json file.</p>\n\n<pre><code>\"terraformer\": \"^1.0.8\",\n\"terraformer-wkt-parser\": \"^1.2.0\",\n</code></pre>\n\n<p>ng version:</p>\n\n<pre><code>Angular CLI: 1.7.4\nNode: 9.11.1\nOS: win32 x64\nAngular: 5.2.11\n... animations, common, compiler, compiler-cli, core, forms\n... http, language-service, platform-browser\n... platform-browser-dynamic, platform-server, router\n\n@angular/cdk: 5.2.5\n@angular/cli: 1.7.4\n@angular/material: 5.2.5\n@angular-devkit/build-optimizer: 0.3.2\n@angular-devkit/core: 0.3.2\n@angular-devkit/schematics: 0.3.2\n@ngtools/json-schema: 1.2.0\n@schematics/angular: 0.3.2\n@schematics/package-update: 0.3.2\ntypescript: 2.4.2\nwebpack: 4.8.3\n</code></pre>\n\n<p>EDIT:\n- Changed tsconfig.json</p>\n\n<pre><code>\"typeRoots\": [\n  \"node_modules/@types\",\n  \"node_modules/terraformer\",\n  \"node_modules/terraformer-wkt-parser\"\n],\n</code></pre>\n\n<p>I still get the same error as above.</p>\n"}, {"tags": ["typescript", "rxjs", "electron"], "comments": [{"owner": {"reputation": 1013, "user_id": 4095194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88621bf6e4a4fc254274a41795867ca1?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis R", "link": "https://stackoverflow.com/users/4095194/dennis-r"}, "edited": false, "score": 0, "creation_date": 1527014005, "post_id": 50473560, "comment_id": 87962202, "body": "See the types definitions <a href=\"https://github.com/pubkey/rxdb/blob/master/src/typings/rx-schema.d.ts\" rel=\"nofollow noreferrer\">github.com/pubkey/rxdb/blob/master/src/typings/rx-schema.d.t&zwnj;&#8203;s</a>, scema may be of type RxJsonSchema or RxSchema, not sure what is missing or anything extra"}, {"owner": {"reputation": 1406, "user_id": 5425562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3bAnY.png?s=128&g=1", "display_name": "Justin Taddei", "link": "https://stackoverflow.com/users/5425562/justin-taddei"}, "reply_to_user": {"reputation": 1013, "user_id": 4095194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88621bf6e4a4fc254274a41795867ca1?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis R", "link": "https://stackoverflow.com/users/4095194/dennis-r"}, "edited": false, "score": 0, "creation_date": 1527016146, "post_id": 50473560, "comment_id": 87963269, "body": "@DennisR Interesting. If I set <code>heroSchema = RxSchema.create({...})</code> the error goes away. I wonder why the other way doesn&#39;t work because that&#39;s how it shows in the docs."}], "answers": [{"comments": [{"owner": {"reputation": 1406, "user_id": 5425562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3bAnY.png?s=128&g=1", "display_name": "Justin Taddei", "link": "https://stackoverflow.com/users/5425562/justin-taddei"}, "edited": false, "score": 0, "creation_date": 1527112799, "post_id": 50476432, "comment_id": 88009039, "body": "I understand what you&#39;re saying but I have no idea what is missing/extra and the Typescript error seems completely useless. The code I have posted is the exact code that is emitting the error (except the <code>await</code> calls are wrapped in an async function). Can you see what I have missed? I have looked over the type definitions many times now and I can&#39;t figure it out."}, {"owner": {"reputation": 1406, "user_id": 5425562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3bAnY.png?s=128&g=1", "display_name": "Justin Taddei", "link": "https://stackoverflow.com/users/5425562/justin-taddei"}, "edited": false, "score": 0, "creation_date": 1527172656, "post_id": 50476432, "comment_id": 88036496, "body": "I think I&#39;ll just stick with <code>RxSchema.create({...})</code> for now. I&#39;ve been in contact with the creator and he&#39;s stumped as well."}], "tags": [], "owner": {"reputation": 1013, "user_id": 4095194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88621bf6e4a4fc254274a41795867ca1?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis R", "link": "https://stackoverflow.com/users/4095194/dennis-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1527023038, "creation_date": 1527023038, "answer_id": 50476432, "question_id": 50473560, "link": "https://stackoverflow.com/questions/50473560/rxdb-rxcollectioncreator-typescript-error/50476432#50476432", "title": "RxDB RxCollectionCreator Typescript Error", "body": "<p>The RxDB source code can be found <a href=\"https://github.com/pubkey/rxdb/tree/master/src\" rel=\"nofollow noreferrer\">here</a>.\nWhen you use RxSchema.create({...}) function it actually  creates instance of the class RxSchema, so type will definitely match.\nOtherwise interface for collection creator is the following:</p>\n\n<pre><code>export interface RxCollectionCreator {\nname: string;\nschema: RxJsonSchema | RxSchema;\npouchSettings?: PouchSettings;\nmigrationStrategies?: {\n    [key: number]: Function\n};\nautoMigrate?: boolean;\nstatics?: {\n    [key: string]: Function\n};\nmethods?: {\n    [key: string]: Function\n};\nattachments?: {\n    [key: string]: Function\n};\noptions?: any;\n</code></pre>\n\n<p>}</p>\n\n<p>And the schema interface is either RxJsonSchema or RxSchema.\nSee also examples in the source code.\nYou object seems to mach RxJsonSchema type definition, however either some literal from the interface is missing or there is some extra that TypeScript complains about.</p>\n\n<pre><code>export declare class RxJsonSchema {\ntitle?: string;\ndescription?: string;\nversion: number;\ntype: 'object';\nproperties: { [key: string]: RxJsonSchemaTopLevel };\nrequired?: Array&lt;string&gt;;\ncompoundIndexes?: Array&lt;string | Array&lt;string&gt;&gt;;\ndisableKeyCompression?: boolean;\nadditionalProperties?: true;\nattachments?: {\n        encrypted?: boolean\n};\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 1406, "user_id": 5425562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3bAnY.png?s=128&g=1", "display_name": "Justin Taddei", "link": "https://stackoverflow.com/users/5425562/justin-taddei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 50476432, "answer_count": 1, "score": 0, "last_activity_date": 1527023038, "creation_date": 1527010649, "question_id": 50473560, "link": "https://stackoverflow.com/questions/50473560/rxdb-rxcollectioncreator-typescript-error", "title": "RxDB RxCollectionCreator Typescript Error", "body": "<p>This is my first time using RxDB and I've encountered a weird Typescript error.</p>\n\n<p>The relevant parts of my Electron project are as follows:</p>\n\n<pre><code>import RxDB, { RxCollection, RxDatabase } from \"rxdb\";\nRxDB.plugin(require(\"pouchdb-adapter-idb\"));\n\n// Took this from the Electron example on Github so I knew I had a valid JSONSchema\nconst heroSchema = {\n  title: 'hero schema',\n  description: 'describes a simple hero',\n  version: 0,\n  type: 'object',\n  properties: {\n    name: {\n      type: 'string',\n      primary: true\n    },\n    color: {\n      type: 'string'\n    }\n  },\n  required: ['color']\n};\n\n// These lines are actually in an async function so the await keyword is not an issue\nconst db = await RxDB.create({ name: \"heroedb\", adapter: \"idb\" });\n\nconst devices = await db.collection({\n     name: \"herocollection\",\n     schema: heroSchema\n});\n</code></pre>\n\n<p>But Typescript complains:</p>\n\n<pre><code>Argument of type '{ name: string; schema: { title: string; description: string; version: number; type: string; prop...' is not assignable to parameter of type 'RxCollectionCreator'.\nTypes of property 'schema' are incompatible.\nType '{ title: string; description: string; version: number; type: string; properties: { name: { type: ...' is not assignable to type 'RxJsonSchema | RxSchema&lt;any&gt;'.\nType '{ title: string; description: string; version: number; type: string; properties: { name: { type: ...' is not assignable to type 'RxSchema&lt;any&gt;'.\nProperty 'jsonID' is missing in type '{ title: string; description: string; version: number; type: string; properties: { name: { type: ...'\n</code></pre>\n\n<p>If I add <code>jsonID</code> to my schema it just complains about other missing property, and other, and other. Obviously, I have done something wrong. Any wisdom on the issue would be greatly appreciated.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1527010174, "post_id": 50473238, "comment_id": 87960373, "body": "It would be better to paste actual call context.... so template mb?"}, {"owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "edited": false, "score": 0, "creation_date": 1527011082, "post_id": 50473238, "comment_id": 87960851, "body": "Use an object instead set to null and check if set in the html {{ info?.name }} EDIT : I don&#39;t get what is _co but you can also try _co?.name"}], "answers": [{"tags": [], "owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "is_accepted": false, "score": 4, "last_activity_date": 1527009525, "creation_date": 1527009525, "answer_id": 50473279, "question_id": 50473238, "link": "https://stackoverflow.com/questions/50473238/angular-5-stop-errors-from-undefined-object-before-loading-data/50473279#50473279", "title": "Angular 5 - Stop errors from undefined object before loading data", "body": "<p>Just initialize your variable </p>\n\n<pre><code>name : string = \"\";\n</code></pre>\n\n<p>or you can do it inside of the constructor </p>\n\n<pre><code>this.name = \"\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 9483156, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kachus22", "link": "https://stackoverflow.com/users/9483156/kachus22"}, "edited": false, "score": 0, "creation_date": 1527268898, "post_id": 50473485, "comment_id": 88080185, "body": "Thank you, this is what I was looking for"}, {"owner": {"reputation": 2262, "user_id": 6655418, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-2CzgOKePhUQ/AAAAAAAAAAI/AAAAAAAAAMw/0zeIsPF00xo/photo.jpg?sz=128", "display_name": "BeeBee8", "link": "https://stackoverflow.com/users/6655418/beebee8"}, "reply_to_user": {"reputation": 329, "user_id": 9483156, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kachus22", "link": "https://stackoverflow.com/users/9483156/kachus22"}, "edited": false, "score": 0, "creation_date": 1527306215, "post_id": 50473485, "comment_id": 88090084, "body": "@kachus22 Great, can you accept the answer? You can click on the gray tick mark to make it green. So it becomes accepted answer."}, {"owner": {"reputation": 664, "user_id": 5036736, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Fw2iy.png?s=128&g=1", "display_name": "Mayur", "link": "https://stackoverflow.com/users/5036736/mayur"}, "edited": false, "score": 0, "creation_date": 1553714191, "post_id": 50473485, "comment_id": 97491687, "body": "how to do it with [(ngModel)] = &quot;a.b.c&quot; where we cant use ? operator"}], "tags": [], "owner": {"reputation": 2262, "user_id": 6655418, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-2CzgOKePhUQ/AAAAAAAAAAI/AAAAAAAAAMw/0zeIsPF00xo/photo.jpg?sz=128", "display_name": "BeeBee8", "link": "https://stackoverflow.com/users/6655418/beebee8"}, "is_accepted": true, "score": 19, "last_activity_date": 1533880264, "last_edit_date": 1592644375, "creation_date": 1527010347, "answer_id": 50473485, "question_id": 50473238, "link": "https://stackoverflow.com/questions/50473238/angular-5-stop-errors-from-undefined-object-before-loading-data/50473485#50473485", "title": "Angular 5 - Stop errors from undefined object before loading data", "body": "<p>Multiple ways: You can use any one suitable to you.</p>\n<p><strong>1. Adding ngIf</strong> : If <code>name</code> is <code>undefined</code> or <code>null</code> or <code>''</code> it will not render the element and prevent errors in console. When <code>name</code> gets defined value it will automatically update the view.</p>\n<p><code>*ngIf=&quot;name&quot;</code></p>\n<p><strong>2. Adding async pipe</strong> : View will update whenever <code>name</code> gets defined. It waits for <code>name</code> to get defined.</p>\n<p><code>{{ name | async }}</code></p>\n<p><strong>3. Adding fallback value</strong> : This is simply <code>or</code> condition. If <code>name</code> is <code>undefined</code> or <code>null</code> or <code>''</code> , you can decide which fallback value to assign .\n<code>{{ name || &quot;&quot; }}</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11253433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p4PGM.jpg?s=128&g=1", "display_name": "FaTaK", "link": "https://stackoverflow.com/users/11253433/fatak"}, "is_accepted": false, "score": 1, "last_activity_date": 1594389160, "last_edit_date": 1594389160, "creation_date": 1594387906, "answer_id": 62835414, "question_id": 50473238, "link": "https://stackoverflow.com/questions/50473238/angular-5-stop-errors-from-undefined-object-before-loading-data/62835414#62835414", "title": "Angular 5 - Stop errors from undefined object before loading data", "body": "<p>As mentioned in previous responses you can use <code>{{ name | async }}</code> but remember if you want to use <code>{{ name | async }}</code>, name must be a promise or an observable.<br />\nOtherwise you'll get an error like this :</p>\n<pre><code>ERROR Error: InvalidPipeArgument: 'xxx' for pipe 'AsyncPipe'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11827487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CvYj1X-h5E4/AAAAAAAAAAI/AAAAAAAAErY/zRDL3cKOkN4/photo.jpg?sz=128", "display_name": "Lucas Hiago", "link": "https://stackoverflow.com/users/11827487/lucas-hiago"}, "is_accepted": false, "score": 0, "last_activity_date": 1610235605, "creation_date": 1610235605, "answer_id": 65648727, "question_id": 50473238, "link": "https://stackoverflow.com/questions/50473238/angular-5-stop-errors-from-undefined-object-before-loading-data/65648727#65648727", "title": "Angular 5 - Stop errors from undefined object before loading data", "body": "<p>You can use <code>{{name?.value}}</code> or <code>{{name?}}</code> inside component.html.\nCan make treatment to like this in compoment.ts \u2193</p>\n<pre>\n   ````\n\n    this.route.paramMap.pipe(\n      map((param: ParamMap) => {\n        // @ts-ignore\n        return param.params.id;\n      })\n    ).subscribe(prodId => {\n      this.id = prodId;\n      this.productService.getSingleProduct(this.id).subscribe(prod => {\n        this.product = prod;\n        if (prod.images !== null) {\n          this.thumbimages = prod.images.split(';');\n        }`enter code here`\n      });\n    });\n\n\n  ````\n</pre>\n"}], "owner": {"reputation": 329, "user_id": 9483156, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kachus22", "link": "https://stackoverflow.com/users/9483156/kachus22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13929, "favorite_count": 3, "accepted_answer_id": 50473485, "answer_count": 4, "score": 8, "last_activity_date": 1610235605, "creation_date": 1527009367, "last_edit_date": 1527009498, "question_id": 50473238, "link": "https://stackoverflow.com/questions/50473238/angular-5-stop-errors-from-undefined-object-before-loading-data", "title": "Angular 5 - Stop errors from undefined object before loading data", "body": "<p>What's the best way to prevent errors in console from objects that are still undefined?</p>\n\n<p>Let's say I have this</p>\n\n<pre><code>name : string;\nconstructor(private data: DataService) {\nthis.data.name.subscribe(res =&gt; this.name = res);\n}\n</code></pre>\n\n<p>Inside my html I have this</p>\n\n<pre><code>&lt;p&gt; {{name}}&lt;/p&gt;\n</code></pre>\n\n<p>When I load the page I get <code>_co.name</code> is not defined, but the page still shows the value of <code>name</code>. The component is loading before getting the data I suppose.</p>\n\n<p>What's the best approach to prevent this?</p>\n\n<p>I saw <code>ngIf</code> is not <code>null</code> or something like that, is an option. But then I saw something about Resolve.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1527009270, "post_id": 50473196, "comment_id": 87959958, "body": "I tried <code>console.log(array[2].currency)</code> and it prints ok, seems like this <code>forEach()</code> is not working fine"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1527009499, "post_id": 50473196, "comment_id": 87960065, "body": "print <code>array</code> not <code>array[2]</code>, edit your question and include output. Foreach forks fine, your code/data is broken."}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1527009561, "post_id": 50473196, "comment_id": 87960089, "body": "array is returining to me 9 objects, by the way if I do something like money.currency.otherValue = price it will create this new otherValue?"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1527009586, "post_id": 50473196, "comment_id": 87960103, "body": "And at least one of them is broken. Did you include console output like I told you to?"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1527009956, "post_id": 50473196, "comment_id": 87960276, "body": "I know where the bug is.... I&#39;m using this. inside this function and it&#39;s saying that is undefined, how do I avoid this undefined? using fat arrow? Can you post an example to how to move this function to a fat arrow function to avoid this undefined when I use this.?"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1527010070, "post_id": 50473196, "comment_id": 87960334, "body": "Paste related code to the question. I see no <code>this</code> in whatever you have posted in."}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1527010161, "post_id": 50473196, "comment_id": 87960368, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/171565/discussion-between-stuartdto-and-antoniossss\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": true, "score": 3, "last_activity_date": 1527009216, "creation_date": 1527009216, "answer_id": 50473196, "question_id": 50473114, "link": "https://stackoverflow.com/questions/50473114/foreach-object-angular/50473196#50473196", "title": "forEach object Angular", "body": "<p>Well your array contains <code>MoneyDTO</code> that is undefined or has undefined <code>currencty</code> property. Its self explainatory. </p>\n\n<p>Check it with <code>console.log(array)</code></p>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 50473196, "answer_count": 1, "score": -3, "last_activity_date": 1527009216, "creation_date": 1527008971, "question_id": 50473114, "link": "https://stackoverflow.com/questions/50473114/foreach-object-angular", "title": "forEach object Angular", "body": "<p>I'm trying to do a <code>forEach</code> but it's saying that's is undefined somewhy,</p>\n\n<p>this is my code : </p>\n\n<pre><code>var array: MoneyDTO[] = prices\n\narray.forEach(function (money: MoneyDTO) {\n                if (money.currency == 'QTW') {\n                    //Do stuff\n                }\n});\n</code></pre>\n\n<p>But it says that .currency is undefined</p>\n"}, {"tags": ["angular", "typescript", "user-agent", "progressive-web-apps", "angular6"], "comments": [{"owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "edited": false, "score": 1, "creation_date": 1527010652, "post_id": 50473109, "comment_id": 87960626, "body": "Take a look at this (long) thread <a href=\"https://github.com/angular/angular/issues/15275\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/15275</a>"}, {"owner": {"reputation": 621, "user_id": 6835756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7baa2de7398f69fd2bfd3a8a37f3b7e?s=128&d=identicon&r=PG", "display_name": "Akshay Sharma", "link": "https://stackoverflow.com/users/6835756/akshay-sharma"}, "reply_to_user": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "edited": false, "score": 0, "creation_date": 1527012504, "post_id": 50473109, "comment_id": 87961504, "body": "One of the developer mentioned you can have two components <b>AdminComponent</b> and <b>NotadminComponent</b> then is it feasible to show two different components for a single link path:&#39;admin&#39; in this case!"}, {"owner": {"reputation": 10210, "user_id": 1251861, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/b7Asj.jpg?s=128&g=1", "display_name": "Deblaton Jean-Philippe", "link": "https://stackoverflow.com/users/1251861/deblaton-jean-philippe"}, "edited": false, "score": 0, "creation_date": 1527023640, "post_id": 50473109, "comment_id": 87966601, "body": "This is a more related thread <a href=\"https://github.com/angular/angular/issues/12088\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/12088</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8301, "user_id": 1057093, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/k4I0G.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/1057093/anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1527022398, "creation_date": 1527022398, "answer_id": 50476298, "question_id": 50473109, "link": "https://stackoverflow.com/questions/50473109/how-to-show-different-views-for-same-url-angular-6-for-progressive-web-apps/50476298#50476298", "title": "How to Show different views for same url Angular 6 (for Progressive Web Apps)", "body": "<p>Ideal PWA solution would be to make your page responsive, so it can show relevant content depending on the screen size. </p>\n\n<p>But if you want to show totally content depending on device, only thing you can do is to find the run-time device type(screen resolution, OS etc) and use that info in a common home Javascript code to route to appropriate component(like one of two you have mentioned). There is no explicit way to define component based on device type. </p>\n"}], "owner": {"reputation": 621, "user_id": 6835756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7baa2de7398f69fd2bfd3a8a37f3b7e?s=128&d=identicon&r=PG", "display_name": "Akshay Sharma", "link": "https://stackoverflow.com/users/6835756/akshay-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1527022398, "creation_date": 1527008965, "question_id": 50473109, "link": "https://stackoverflow.com/questions/50473109/how-to-show-different-views-for-same-url-angular-6-for-progressive-web-apps", "title": "How to Show different views for same url Angular 6 (for Progressive Web Apps)", "body": "<p>Here is the code of my app-router.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { DheaderComponent } from './dheader/dheader.component';\nimport { DdashboardComponent } from './ddashboard/ddashboard.component';\nimport { MdashboardComponent } from './mdashboard/mdashboard.component';\n\nconst routes: Routes = [\n    { path:'', component:DheaderComponent},\n    { path:'dashboard', if(1){component: DdashboardComponent } else { component :MdashboardComponent} },\n    { path:'mdashboard',component:MdashboardComponent},\n]\n@NgModule({\n    imports: [ RouterModule.forRoot(routes) ],\n    exports: [ RouterModule ]\n\n})\n\nexport class AppRoutingModule { }\n</code></pre>\n\n<p>Is it feasible to show <strong>DdashboardComponent</strong> for <strong>Desktop</strong> and <strong>MdashboardComponent</strong> for <strong>Mobile users</strong> for same path that is <strong>path:'dashboard'</strong>.<br /> If it is how I can achieve and what are the best practices to do it?</p>\n"}, {"tags": ["typescript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 226, "user_id": 2694620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd83a67c4e437d97489c1854e4af89e?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Haven", "link": "https://stackoverflow.com/users/2694620/grey-haven"}, "is_accepted": true, "score": 0, "last_activity_date": 1527285719, "creation_date": 1527285719, "answer_id": 50537373, "question_id": 50473103, "link": "https://stackoverflow.com/questions/50473103/onkeypress-not-producing-key-pressed-in-react-native-windows/50537373#50537373", "title": "onKeyPress not producing key pressed in React-Native Windows", "body": "<p>It turns out that Windows is cantankerous with this. With multiline set to true, the listener behind the scenes swallows the enter keypress event before it reaches the onKeyPress listener. Had to hack a fix in react-windows-native.</p>\n"}], "owner": {"reputation": 226, "user_id": 2694620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd83a67c4e437d97489c1854e4af89e?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Haven", "link": "https://stackoverflow.com/users/2694620/grey-haven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 50537373, "answer_count": 1, "score": 0, "last_activity_date": 1527285719, "creation_date": 1527008942, "question_id": 50473103, "link": "https://stackoverflow.com/questions/50473103/onkeypress-not-producing-key-pressed-in-react-native-windows", "title": "onKeyPress not producing key pressed in React-Native Windows", "body": "<p>I'm using react-native version 0.54.0 for a windows app. I have a <code>TextInput</code> element, and I'm wanting to implement <code>onKeyPress</code>. I have the following:</p>\n\n<pre><code>&lt;TextInput \nref = { this.setTextInputRef }\nonChange = { (e) =&gt; this.setState({ currentString: e.nativeEvent.text }) }\nonKeyPress = { (e) =&gt; { console.log(e) }}\nonSubmitEditing = { () =&gt; this.doAThing() }\nmultiline = { true }\n/&gt;\n</code></pre>\n\n<p>In my editor, hovering over the <code>e</code> event in <code>onKeyPress</code> shows that it's a string. However, doing <code>console.log(e)</code> reveals it to be a SyntheticEvent with all of its properties being null. I understand <code>onKeyPress</code> just got working with android, is it not compatible with windows? If it is compatible, what magic do I need to do to get it working?</p>\n\n<p>All of this is to listen for an enter event, so if there's an alternative, I'd be happy with that as well.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 514, "user_id": 183681, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5936192abf8c9b9581bde663b0b937af?s=128&d=identicon&r=PG", "display_name": "JustinM", "link": "https://stackoverflow.com/users/183681/justinm"}, "edited": false, "score": 0, "creation_date": 1527009562, "post_id": 50472955, "comment_id": 87960091, "body": "wow that was fast. maybe you can explain why NonNullable doesn&#39;t do what I expect?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1527009725, "post_id": 50472955, "comment_id": 87960161, "body": "You <i>could</i> use <code>NonNullable</code> if you wanted to, but I think the problem is that there was no inference site for <code>U</code>... maybe <code>function mapB&lt;T, U&gt;(source: T, selector: (v: NonNullable&lt;T&gt;) =&gt; U &amp; NonNullable&lt;U&gt;): U | undefined { ... }</code> would work?"}, {"owner": {"reputation": 514, "user_id": 183681, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5936192abf8c9b9581bde663b0b937af?s=128&d=identicon&r=PG", "display_name": "JustinM", "link": "https://stackoverflow.com/users/183681/justinm"}, "edited": false, "score": 0, "creation_date": 1527011754, "post_id": 50472955, "comment_id": 87961162, "body": "I tried the NonNullable like you said and couldn&#39;t get it to work. Ryan&#39;s answer is best, and is easy to understand."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1527012386, "post_id": 50472955, "comment_id": 87961446, "body": "The short version is that <code>NonNullable&lt;U&gt;</code> is not a good inference site for <code>U</code> because it&#39;s a conditional type alias and will be eagerly resolved to one of its output types. The only time it&#39;d be able to produce an inference is if it were instantiated with another type parameter."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1527008317, "creation_date": 1527008317, "answer_id": 50472955, "question_id": 50472809, "link": "https://stackoverflow.com/questions/50472809/narrowing-input-types-causes-widening-of-output-type/50472955#50472955", "title": "narrowing input types causes widening of output type", "body": "<blockquote>\n  <p>OK, so now I try to insist that the mapping function never return a null or undefined by changing the return type of the selector to NonNullable</p>\n</blockquote>\n\n<p>This isn't really what <code>NonNullable</code> does.</p>\n\n<p>What you want is this:</p>\n\n<pre><code>function mapB&lt;T, U extends object | string | number | boolean&gt;(source: T | null | undefined, selector: (v: T) =&gt; U) {\n    return (source == null || source === undefined) ? undefined : selector(source);\n}\nconst mapBResult = mapB(2, i =&gt; i * i); // Type is number\n</code></pre>\n"}], "owner": {"reputation": 514, "user_id": 183681, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5936192abf8c9b9581bde663b0b937af?s=128&d=identicon&r=PG", "display_name": "JustinM", "link": "https://stackoverflow.com/users/183681/justinm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 50472955, "answer_count": 1, "score": 0, "last_activity_date": 1527008317, "creation_date": 1527007782, "question_id": 50472809, "link": "https://stackoverflow.com/questions/50472809/narrowing-input-types-causes-widening-of-output-type", "title": "narrowing input types causes widening of output type", "body": "<p>Here is a piece of a functional Maybe Option in TypeScript. This function takes a value, applies a mapping function to it, and returns the result. If the value is null or undefined, the mapping function isn't called and Undefined is returned.</p>\n\n<pre><code>function mapA&lt;T, U&gt;(source: T, selector: (v: NonNullable&lt;T&gt;) =&gt; U) {\n    return (source == null || source === undefined) ? undefined : selector(source!);\n}\nconst mapAResult = mapA(2, i =&gt; i * i); // Type is number | undefined\n</code></pre>\n\n<p>OK, so now I try to insist that the mapping function never return a null or undefined by changing the return type of the selector to <code>NonNullable</code>. When I mouse over <code>mapBResult</code> it says the type is <code>{} | undefined</code>. That seems weird to me. I think I'm saying that the function can return fewer possible values than the function above, and yet the result type is wider. Shouldn't fewer possible inputs lead to fewer possible outputs?</p>\n\n<pre><code>function mapB&lt;T, U&gt;(source: T, selector: (v: NonNullable&lt;T&gt;) =&gt; NonNullable&lt;U&gt;) {\n    return (source == null || source === undefined) ? undefined : selector(source!);\n}\nconst mapBResult = mapB(2, i =&gt; i * i); // Type is { } | undefined\n</code></pre>\n\n<p>Secondly, why do I need to put an exclamation point at the end of <code>source!</code>. Shouldn't control flow analysis know it isn't null at this point?</p>\n"}, {"tags": ["javascript", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1527008169, "post_id": 50472797, "comment_id": 87959423, "body": "<code>on(name: &quot;eventName1&quot; | &quot;eventName2&quot;, listener:() =&gt;void)</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1527008453, "post_id": 50472797, "comment_id": 87959563, "body": "Not sure you can turn the overloads of <code>on</code> into a union type (can&#39;t think of a way maybe someone else has an idea). A workaround might be the approach presented here <a href=\"https://stackoverflow.com/questions/50369299/can-i-reuse-the-parameter-definition-of-a-function-in-typescript/50375712#50375712\" title=\"can i reuse the parameter definition of a function in typescript\">stackoverflow.com/questions/50369299/&hellip;</a>"}, {"owner": {"reputation": 629, "user_id": 1069565, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/0f5a2677d52601fba2eb6234c6138e9b?s=128&d=identicon&r=PG", "display_name": "Pat", "link": "https://stackoverflow.com/users/1069565/pat"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1527008455, "post_id": 50472797, "comment_id": 87959566, "body": "@JonasW. That&#39;s not what I am trying to accomplish. I can easily hard-code the event names in the interface, but I am trying to create a type that takes an external interface defined by a module and returns the unions of possible event names."}], "answers": [{"tags": [], "owner": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "is_accepted": false, "score": 0, "last_activity_date": 1527009286, "creation_date": 1527009286, "answer_id": 50473211, "question_id": 50472797, "link": "https://stackoverflow.com/questions/50472797/typescript-infer-function-parameter-unions/50473211#50473211", "title": "Typescript infer function parameter unions", "body": "<p>I don't think you can. Using type infer with this example:</p>\n\n<pre><code>interface SomeType {\n\n}\n\nexport interface IEvents {\n  method(): boolean;\n  on(name: \"eventName1\", listener: (obj: SomeType) =&gt; void): 13;\n  on(name: \"eventName2\", listener: (obj: SomeType) =&gt; void): void;\n  on(name: \"eventName3\", listener: (obj: SomeType) =&gt; void): undefined;\n  on(name: \"eventName4\", listener: (obj: SomeType) =&gt; void): 14;\n  on(name: \"eventName5\", listener: (obj: SomeType) =&gt; void): 10;\n  on(name: \"eventName6\", listener: () =&gt; void): \"hola\";\n  on(name: \"eventName8\", listener: (obj: SomeType) =&gt; void): 200;\n  on(name: \"eventName7\", listener: (obj: SomeType) =&gt; void): void;\n}\n\nconst x: ReturnType&lt;IEvents[\"on\"]&gt; = 200;\n</code></pre>\n\n<p>It blames about x is not void, but one of the possible ReturnType of on in IEvents is 200. Looks like it only tries with the latest one. </p>\n\n<p>So I guess that if you try to do something similar with the first argument of the function, it will only grab the latest one.</p>\n\n<p>You have here the definition of ReturnType:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/blob/release-2.8/lib/lib.d.ts#L1386\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/blob/release-2.8/lib/lib.d.ts#L1386</a></p>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1527010190, "creation_date": 1527010190, "answer_id": 50473447, "question_id": 50472797, "link": "https://stackoverflow.com/questions/50472797/typescript-infer-function-parameter-unions/50473447#50473447", "title": "Typescript infer function parameter unions", "body": "<p>This doesn't need to be a separate answer, but it's hard to get this in a comment: overloads specifically do not work the way you want with <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types\" rel=\"nofollow noreferrer\">type inference in conditional types</a>:</p>\n\n<blockquote>\n  <p>When inferring from a type with multiple call signatures (such as the type of an overloaded function), inferences are made from the last signature (which, presumably, is the most permissive catch-all case). It is not possible to perform overload resolution based on a list of argument types.</p>\n\n<pre><code>declare function foo(x: string): number;\ndeclare function foo(x: number): string;\ndeclare function foo(x: string | number): string | number;\ntype T30 = ReturnType&lt;typeof foo&gt;;  // string | number\n</code></pre>\n</blockquote>\n\n<p>If you can't turn the overloads into a single function with a union of parameters (using conditional types to get <code>listener</code> for <code>\"eventName6\"</code> correct), then I don't know of a way to do this programmatically.</p>\n"}], "owner": {"reputation": 629, "user_id": 1069565, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/0f5a2677d52601fba2eb6234c6138e9b?s=128&d=identicon&r=PG", "display_name": "Pat", "link": "https://stackoverflow.com/users/1069565/pat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1527010190, "creation_date": 1527007748, "last_edit_date": 1527008704, "question_id": 50472797, "link": "https://stackoverflow.com/questions/50472797/typescript-infer-function-parameter-unions", "title": "Typescript infer function parameter unions", "body": "<p>I currently have an interface with overloaded functions like so:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export interface IEvents {\n  method(): boolean;\n  on(name: 'eventName1', listener: (obj: SomeType) =&gt; void): void;\n  on(name: 'eventName2', listener: (obj: SomeType) =&gt; void): void;\n  on(name: 'eventName3', listener: (obj: SomeType) =&gt; void): void;\n  on(name: 'eventName4', listener: (obj: SomeType) =&gt; void): void;\n  on(name: 'eventName5', listener: (obj: SomeType) =&gt; void): void;\n  on(name: 'eventName6', listener: () =&gt; void): void;\n  on(name: 'eventName7', listener: (obj: SomeType) =&gt; void): void;\n  on(name: 'eventName8', listener: (obj: SomeType) =&gt; void): void;\n}\n</code></pre>\n\n<p>I am trying to get the union type of event names like so:</p>\n\n<blockquote>\n  <p>eventName1 | eventName2 | ...</p>\n</blockquote>\n\n<p>I have tried the following, but when I infer the type it seems to only pick one of the name values and not a union of all of them.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export type TEventExtension&lt;T extends IEvents&gt; {\n  [K in keyof T]: K extends 'on' ? TEventListenerName&lt;T[K]&gt; : never;\n}[keyof T];\nexport type TEventListenerName&lt;T&gt; = T extends (name: infer N, listener: (obj?: infer E) =&gt; void) =&gt; void ? N : never;\nconst ext: TEventExtension&lt;IEvents&gt; = void 0 as any; // Type: 'eventName8'\n</code></pre>\n\n<p>I have also tried using an accumulator type to keep track of the unions, but Typescript doesnt allow recursive generics.</p>\n\n<p>Any ideas on how I can accomplish this?</p>\n\n<p>Edit: The interface with the overloaded definitions exists in an external module. I am trying to avoid c+ping from the external definitions to my definitions, and instead have it build the type automatically.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 9755985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d3b73c5dba21822cf1c138752faf05?s=128&d=identicon&r=PG&f=1", "display_name": "amedeiros", "link": "https://stackoverflow.com/users/9755985/amedeiros"}, "edited": false, "score": 0, "creation_date": 1527008801, "post_id": 50472850, "comment_id": 87959753, "body": "This could work but I used the number of questions as an example the number of questions is never guaranteed"}, {"owner": {"reputation": 2341, "user_id": 8391703, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/JS46C.png?s=128&g=1", "display_name": "Zachscs", "link": "https://stackoverflow.com/users/8391703/zachscs"}, "reply_to_user": {"reputation": 167, "user_id": 9755985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d3b73c5dba21822cf1c138752faf05?s=128&d=identicon&r=PG&f=1", "display_name": "amedeiros", "link": "https://stackoverflow.com/users/9755985/amedeiros"}, "edited": false, "score": 0, "creation_date": 1527008844, "post_id": 50472850, "comment_id": 87959773, "body": "Yes see my edit, I&#39;ll keep going adding some more details for you."}, {"owner": {"reputation": 2341, "user_id": 8391703, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/JS46C.png?s=128&g=1", "display_name": "Zachscs", "link": "https://stackoverflow.com/users/8391703/zachscs"}, "reply_to_user": {"reputation": 167, "user_id": 9755985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d3b73c5dba21822cf1c138752faf05?s=128&d=identicon&r=PG&f=1", "display_name": "amedeiros", "link": "https://stackoverflow.com/users/9755985/amedeiros"}, "edited": false, "score": 0, "creation_date": 1527009935, "post_id": 50472850, "comment_id": 87960263, "body": "@amedeiros see my edit, I did this outside an ide so didn&#39;t really error check it but it should work with minimum modification and will work with any number of questions and rules just put questions into questions array and rules into the tuple i described."}, {"owner": {"reputation": 167, "user_id": 9755985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d3b73c5dba21822cf1c138752faf05?s=128&d=identicon&r=PG&f=1", "display_name": "amedeiros", "link": "https://stackoverflow.com/users/9755985/amedeiros"}, "edited": false, "score": 0, "creation_date": 1527012938, "post_id": 50472850, "comment_id": 87961709, "body": "It will need to be changed a little just little things but its a great example none the less even if it helps to get going in the right direction"}], "tags": [], "owner": {"reputation": 2341, "user_id": 8391703, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/JS46C.png?s=128&g=1", "display_name": "Zachscs", "link": "https://stackoverflow.com/users/8391703/zachscs"}, "is_accepted": true, "score": 0, "last_activity_date": 1527010614, "last_edit_date": 1527010614, "creation_date": 1527007950, "answer_id": 50472850, "question_id": 50472737, "link": "https://stackoverflow.com/questions/50472737/creating-a-constraint-check-in-angular/50472850#50472850", "title": "Creating a constraint check in Angular", "body": "<p>If you're lazy, which I am, since there are only a few questions, I would just randomly order the questions and check against the rules, if it violates them just run it again.</p>\n\n<p>If this is a homework assignment and you'll be marked down for being lazy, you can create a function which randomly assigns questions to slots in an array, starting with questions which must come after the others, then reduce the range of the random number generator for the ones which must be less to have a maximum of the randomly generated position the one which must be greater than appears in.</p>\n\n<p>For example:</p>\n\n<p>lets say you have an array of questions of length 5. and q1 has to appear before q3 and q4 has to appear before q2. First place q3 in a random position in an array of length 5, lets say that poition is 2. Then randomly assign q1 to a position less than 2. Do that for each set of rules, each time a number is assigned remove it from the RNG, once all the rules are completed run the other questions.</p>\n\n<p>You can represent a constraint as a tuple with the first string representing the question which must come first and the second as the question which must come second. <code>rules: number[][] = [['q1', 'q3], ['q4', 'q2']]</code> would be your rules and you would have all questions in a question array <code>questions: string[] = ['q1', 'q2', ...]</code> each time a question is assigned from the tuples remove it from the questions array using splice getting the index of the string. Heres some code which should work with those two data types, notice I use an array of available indices to exclude previously chosen indices:</p>\n\n<pre><code>questions: string[]; // put all questions here.\nrules: string[][]; // put all less than rules as tuples here, \n// i.e. q1 must come before q2 written as [['q1', 'q2'],...]\n\nrandomizer(): string[] {\n  const arr = new Array&lt;string&gt;(this.questions.length);\n  const availableIndices = [];\n  let rand: number;\n  for (let i = 0; i &lt; arr.length; i++) {\n    availableIndices.push(i)\n  }\n  for (const tuple of rules) {\n    rand = Math.floor(Math.random() * availableIndices.length)\n    arr[availableIndices[rand]] = tuple[1];\n    questions.splice(indexOf(tuple[1]), 1);\n    availableIndices.splice(indexOf(rand), 1);\n    rand = Math.floor(Math.random() * availableIndices.indexOf(tuple[1]))\n    arr[availableIndices[rand]] = tuple[0];\n    questions.splice(indexOf(tuple[2]), 1);\n    availableIndices.splice(indexOf(rand), 1);\n  }\n  for (const q of questions) {\n    rand = Math.floor(Math.random() * availableIndices.length);\n    arr[availableIndices[rand]] = q;\n    availableIndices.splice(indexOf(rand), 1);\n  }\n  return arr;\n}\n</code></pre>\n\n<p>This algorithm is O(n) so your teacher can't complain.</p>\n"}], "owner": {"reputation": 167, "user_id": 9755985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d3b73c5dba21822cf1c138752faf05?s=128&d=identicon&r=PG&f=1", "display_name": "amedeiros", "link": "https://stackoverflow.com/users/9755985/amedeiros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 50472850, "answer_count": 1, "score": 0, "last_activity_date": 1527010614, "creation_date": 1527007536, "question_id": 50472737, "link": "https://stackoverflow.com/questions/50472737/creating-a-constraint-check-in-angular", "title": "Creating a constraint check in Angular", "body": "<p>I have a list of questions that can be put into a random order by the system but at the same time there are checks for certain questions that need to come before a different question ex. </p>\n\n<p><code>q1 before q4, q3 before q2</code></p>\n\n<p>I have to also make sure that there isn't something like this in there though:</p>\n\n<p><code>q1 before q4, q3 before q2, q2 before q1, q4 before q2</code></p>\n\n<p>I'm not entirely sure how this is going to be done.</p>\n\n<p>A way of storing this I was given as an example would be a number array of arrays <code>let n: number[number, number][]</code></p>\n"}, {"tags": ["reactjs", "typescript", "react-final-form", "final-form", "react-final-form-arrays"], "comments": [{"owner": {"reputation": 6530, "user_id": 103690, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e86f7e41168df55b65e30cdda423e10?s=128&d=identicon&r=PG", "display_name": "Erik R.", "link": "https://stackoverflow.com/users/103690/erik-r"}, "edited": false, "score": 0, "creation_date": 1527082763, "post_id": 50472626, "comment_id": 87992707, "body": "I don&#39;t really understand where your monkey patch is. Is there any chance you can fork the FieldArrays sandbox and recreate your problem?"}], "answers": [{"tags": [], "owner": {"reputation": 281, "user_id": 1500107, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/25071e111d6f1c0b269d454a2556957b?s=128&d=identicon&r=PG", "display_name": "rockyroadster555", "link": "https://stackoverflow.com/users/1500107/rockyroadster555"}, "is_accepted": true, "score": 0, "last_activity_date": 1530197006, "creation_date": 1530197006, "answer_id": 51085758, "question_id": 50472626, "link": "https://stackoverflow.com/questions/50472626/validator-is-not-a-function-error-react-final-form-field-arrays/51085758#51085758", "title": "validator is not a function error - react final form field arrays", "body": "<p>So, turns out I was using an incredibly old version of Final-Form, along with Final-Form-Arrays. I updated, and the error went away </p>\n"}], "owner": {"reputation": 281, "user_id": 1500107, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/25071e111d6f1c0b269d454a2556957b?s=128&d=identicon&r=PG", "display_name": "rockyroadster555", "link": "https://stackoverflow.com/users/1500107/rockyroadster555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "accepted_answer_id": 51085758, "answer_count": 1, "score": 0, "last_activity_date": 1530197006, "creation_date": 1527006993, "question_id": 50472626, "link": "https://stackoverflow.com/questions/50472626/validator-is-not-a-function-error-react-final-form-field-arrays", "title": "validator is not a function error - react final form field arrays", "body": "<p>I am trying to use the final-form-field-arrays component in my React App.\nWhen I try to use it, I get a \"validator is not a function error \".</p>\n\n<p>I traced it down to the runFieldLevelValidation function in final-form.es.js</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var runFieldLevelValidation = function runFieldLevelValidation(field, setError) {\r\n    var validators = field.validators;\r\n    console.log(field);\r\n    console.log(field.validators);\r\n    var promises = [];\r\n    var validatorKeys = Object.keys(validators);\r\n    if (validatorKeys.length) {\r\n      var error = void 0;\r\n      Object.keys(validators).forEach(function (index) {\r\n        var validator = validators[Number(index)];\r\n        if (!validator.getValidator) {\r\n        var errorOrPromise = validator(getIn(state.formState.values, field.name), state.formState.values);\r\n        if (errorOrPromise &amp;&amp; isPromise(errorOrPromise)) {\r\n          promises.push(errorOrPromise.then(setError));\r\n        } else if (!error) {\r\n          // first registered validator wins\r\n          error = errorOrPromise;\r\n        }\r\n        }\r\n      });\r\n      setError(error);\r\n    }\r\n    return promises;\r\n  };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The line in question is </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var errorOrPromise = validator(getIn(state.formState.values, field.name), state.formState.values);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After logging the fields (as you can see above), I found that the FieldArray field does not have the validator function itself, but instead, has a getValidator function. I monkey-patched it, and it is working, but I assume this should not be needed</p>\n\n<p>My React Code in question is</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> &lt;Field name=\"name\" component={RenderField} type=\"text\" label=\"Name\" /&gt;\r\n                   &lt;Field name=\"date\" component={RenderField} type=\"date\" text={moment().format('LL')} \r\n                   label=\"Date of Service\" /&gt;\r\n                   &lt;Field name=\"time\" type=\"select\" component={RenderField} label=\"Time of Service\" \r\n                   selectedOption={moment().format('k mm')} options={this.generateAppointmentTimes()} /&gt;\r\n                          &lt;FieldArray name=\"customers\" &gt;\r\n         \r\n        &lt;/FieldArray&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any ideas on how to get this working without the monkey-patch?</p>\n"}, {"tags": ["json", "angular", "forms", "typescript"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1527006870, "post_id": 50472435, "comment_id": 87958719, "body": "I think that&#39;s the problem is that myForm has no value at first. You can enclosed your form in a &lt; div *ngIf=&quot;myForm&quot;&gt;....&lt; /div&gt;. So add to your &lt; div <b>*ngIf=&quot;myForm&quot;</b> class=&quot;col-md-9&quot; id=&quot;col-dados&quot;&gt;...&lt; /div&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 1446, "user_id": 4005147, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001011355894/picture?type=large", "display_name": "Padhu", "link": "https://stackoverflow.com/users/4005147/padhu"}, "is_accepted": false, "score": 2, "last_activity_date": 1527006698, "creation_date": 1527006698, "answer_id": 50472550, "question_id": 50472435, "link": "https://stackoverflow.com/questions/50472435/angular-4-populate-form-with-json-data-is-not-working/50472550#50472550", "title": "Angular 4 - Populate form with JSON data is not working", "body": "<p>Your <code>this.dadosFormulario</code> will be null on onNgOnit(), that's why you are not seeing any value in the form.. </p>\n\n<p>You need to use patchValue to update form once you get data from your <code>funcionService</code></p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 9364371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1038a49632143364b64c6675c50d08?s=128&d=identicon&r=PG&f=1", "display_name": "LuisMorais", "link": "https://stackoverflow.com/users/9364371/luismorais"}, "edited": false, "score": 0, "creation_date": 1527063979, "post_id": 50473717, "comment_id": 87979752, "body": "Worked like a charm! It was precisely what i needed! Many thanks :)"}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "reply_to_user": {"reputation": 162, "user_id": 9364371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1038a49632143364b64c6675c50d08?s=128&d=identicon&r=PG&f=1", "display_name": "LuisMorais", "link": "https://stackoverflow.com/users/9364371/luismorais"}, "edited": false, "score": 0, "creation_date": 1527065053, "post_id": 50473717, "comment_id": 87980450, "body": "Glad I could Help:)"}], "tags": [], "owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "is_accepted": true, "score": 3, "last_activity_date": 1527014479, "last_edit_date": 1527014479, "creation_date": 1527011366, "answer_id": 50473717, "question_id": 50472435, "link": "https://stackoverflow.com/questions/50472435/angular-4-populate-form-with-json-data-is-not-working/50473717#50473717", "title": "Angular 4 - Populate form with JSON data is not working", "body": "<p>To pre-populate data there are two methods of FormGroup instance. <code>setValue()</code> &amp; <code>patchValue()</code>. After you receive the response from the server just set/patch the values using one of these methods <code>setValue()</code> and <code>patchValue()</code> both sets the value in <code>form control</code> of <code>FormGroup</code>.  <code>setValue()</code> sets the value for each and every form control of FormGroup. you cannot omit any form control in <code>setValue()</code> but if you want to assign only few form controls of FormGroup then you can use <code>patchValue().</code></p>\n\n<p><strong>Modified Code</strong></p>\n\n<pre><code>ngOnInit() { \n    this.initializeForm();\n    this.sharedService.currentClientCD.subscribe(message =&gt; this.funcionCD = message); // Service to get the client ID\n\n    this.funcionService.GetDadosCliente(this.funcionCD).subscribe(\n      (res:FuncionForm) =&gt; {\n        this.dadosFormulario = res; // Interface to define a client\n\n    this.myForm.setValue(\n     {\n\n        nome :      this.dadosFormulario[0].nome,\n        dt_nasc :      this.dadosFormulario[0].dt_nasc,\n        sexo :         this.dadosFormulario[0].sexo,\n        cd_nacion :     this.dadosFormulario[0].cd_nacion,\n        cd_agrup_prof : this.dadosFormulario[0].cd_agrup_prof,\n        cd_profis :     this.dadosFormulario[0].cd_profis,\n        cd_categ :      this.dadosFormulario[0].cd_categ,\n        loc_trab :      this.dadosFormulario[0].loc_trab\n    })\n\n    });\n\n\ninitializeForm()\n        {\n            this.myForm = new FormGroup({ \n                nome :          new FormControl(),\n                dt_nasc :       new FormControl(),\n                sexo :          new FormControl(),\n                cd_nacion :     new FormControl(),\n                cd_agrup_prof : new FormControl(),\n                cd_profis :     new FormControl(),\n                cd_categ :      new FormControl(),\n                loc_trab :      new FormControl() \n        }\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 9364371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1038a49632143364b64c6675c50d08?s=128&d=identicon&r=PG&f=1", "display_name": "LuisMorais", "link": "https://stackoverflow.com/users/9364371/luismorais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4881, "favorite_count": 1, "accepted_answer_id": 50473717, "answer_count": 2, "score": 1, "last_activity_date": 1527014479, "creation_date": 1527006295, "question_id": 50472435, "link": "https://stackoverflow.com/questions/50472435/angular-4-populate-form-with-json-data-is-not-working", "title": "Angular 4 - Populate form with JSON data is not working", "body": "<p>I have to edit data from a client. I have a form, in which I click on a button and redirects to a Form, in I want it to display the data of that client that I've just clicked. \nThing is, the form builder does not work when I try to associate each key to its value.</p>\n\n<p>However, if I write down the name myself, like, hardcoded, the form builder works like a charm!.</p>\n\n<p><em>edit-component.ts</em></p>\n\n<pre><code>import { FuncionForm } from './../../interfaces/funcion_form';\nimport { FuncionService } from './../../services/funcion.service';\nimport { Combobox } from './../../interfaces/combobox';\nimport { ComboboxService } from './../../services/combobox.service';\nimport { Formulario } from './../../interfaces/formulario';\nimport { HttpClient } from '@angular/common/http';\nimport { SharedService } from './../../services/shared-service.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Funcion } from '../../interfaces/funcion';\nimport {\n  FormGroup,\n  Validators,\n  FormBuilder,\n  FormControl,\n  FormsModule,\n  ReactiveFormsModule\n} from '@angular/forms';\n\n@Component({\nselector: 'app-editar-funcion',\ntemplateUrl: './editar-funcion.component.html',\nstyleUrls: ['./editar-funcion.component.css']\n})\nexport class EditarFuncionComponent implements OnInit {\n\nfuncionCD:                number;\ndadosFormulario :         FuncionForm;\nfuncionFormGroup:         FormGroup;\ncomboboxProfisArray :     Combobox;\ncomboboxAgrupProfArray :  Combobox;\ncomboboxAgrupCategArray : Combobox;\ncomboboxNacionArray :     Combobox;\nmyForm :                  FormGroup;  \n\n constructor(private sharedService : SharedService,\n          private funcionService : FuncionService,\n          private funcionFormBuilder: FormBuilder,\n          private comboboxService: ComboboxService) \n {}\n\nngOnInit() { \n\nthis.sharedService.currentClientCD.subscribe(message =&gt; this.funcionCD = message); // Service to get the client ID\n\nthis.funcionService.GetDadosCliente(this.funcionCD).subscribe(\n  (res:FuncionForm) =&gt; {\n    this.dadosFormulario = res; // Interface to define a client\n\n\n// This works!\nthis.myForm = new FormGroup({ \n  nome :          new FormControl(\"A name\"),\n  dt_nasc :       new FormControl(\"1998-02-25\"),\n  sexo :          new FormControl(\"0\"),\n  cd_nacion :     new FormControl(\"PT\"),\n  cd_agrup_prof : new FormControl(\"M\"),\n  cd_profis :     new FormControl(\"M\"),\n  cd_categ :      new FormControl(\"M\"),\n  loc_trab :      new FormControl(\"A company\") \n  // This works!\n\n  /* This doesn't!\n this.myForm = new FormGroup({ \n  nome :          new FormControl(this.dadosFormulario[0].nome),\n  dt_nasc :       new FormControl(this.dadosFormulario[0].dt_nasc),\n  sexo :          new FormControl(this.dadosFormulario[0].sexo),\n  cd_nacion :     new FormControl(this.dadosFormulario[0].cd_nacion),\n  cd_agrup_prof : new FormControl(this.dadosFormulario[0].cd_agrup_prof),\n  cd_profis :     new FormControl(this.dadosFormulario[0].cd_profis),\n  cd_categ :      new FormControl(this.dadosFormulario[0].cd_categ),\n  loc_trab :      new FormControl(this.dadosFormulario[0].loc_trab) \n   */\n\n })      \n}\n</code></pre>\n\n<p><em>edit-component.html</em></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n &lt;h1&gt;Editar dados do funcion\u00e1rio&lt;/h1&gt;\n &lt;hr&gt;\n &lt;div class=\"card\"&gt;\n &lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-3\" id=\"col-img\"&gt;\n        &lt;img src=\"/img/1\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-md-9\" id=\"col-dados\"&gt;\n      &lt;form class=\"form-horizontal\" role=\"form\" [formGroup]=\"myForm\"&gt;\n\n      &lt;!-- \n        &lt;div class=\"form-group row\"&gt;\n          &lt;label class=\"col-md-12 col-form-label\"&gt;Local de trabalho&lt;/label&gt;\n            &lt;div class=\"col-md-12\"&gt;\n              &lt;input formControlName=\"loc_trab\" type=\"text\" class=\"form-control\"&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n      --&gt;\n        &lt;div class=\"form-group row\"&gt;\n        &lt;label class=\"col-md-12 col-form-label\"&gt;Nome&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;input formControlName=\"nome\" type=\"text\" class=\"form-control\"&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n        &lt;label class=\"col-md-12 col-form-label\"&gt;Data de nascimento&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;input formControlName=\"dt_nasc\" type=\"date\" class=\"form-control\"&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n          &lt;label class=\"col-md-12 col-form-label\"&gt;G\u00e9nero&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;select formControlName=\"sexo\" type=\"text\" class=\"form-control\"&gt;\n              &lt;option value=\"0\"&gt;Masculino&lt;/option&gt;\n              &lt;option value=\"1\"&gt;Feminino&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n          &lt;label class=\"col-md-12 col-form-label\"&gt;Nacionalidade&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;select formControlName=\"cd_nacion\" type=\"text\" class=\"form-control\"&gt;\n              &lt;option *ngFor=\"let row of comboboxNacionArray\" value=\"{{ row.cd }}\"&gt;{{ row.nome }}&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n          &lt;label class=\"col-md-12 col-form-label\"&gt;Agrupamento Profissional&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;select formControlName=\"cd_agrup_prof\" type=\"text\" class=\"form-control\"&gt;\n              &lt;option *ngFor=\"let row of comboboxAgrupProfArray\" value=\"{{ row.cd }}\"&gt;{{ row.nome }}&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n          &lt;label class=\"col-md-12 col-form-label\"&gt;Profiss\u00e3o&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;select formControlName=\"cd_profis\" type=\"text\" class=\"form-control\"&gt;\n              &lt;option *ngFor=\"let row of comboboxProfisArray\" value=\"{{ row.cd }}\"&gt;{{ row.nome }}&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;  \n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n          &lt;label class=\"col-md-12 col-form-label\"&gt;Categoria Profissional&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;select formControlName=\"cd_categ\" type=\"text\" class=\"form-control\"&gt;\n              &lt;option *ngFor=\"let row of comboboxAgrupCategArray\" value=\"{{ row.cd }}\"&gt;{{ row.nome }}&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n          &lt;label class=\"col-md-12 col-form-label\"&gt;Local de trabalho&lt;/label&gt;\n          &lt;div class=\"col-md-12\"&gt;\n            &lt;input formControlName=\"loc_trab\" type=\"text\" class=\"form-control\"&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group row\"&gt;\n          &lt;div class=\"col-md-12\" style=\"padding-top: 15px;\"&gt;\n              &lt;button style=\"border-radius: 50px; float:right;\" type=\"submit\" class=\"btn btn-primary\"&gt;Submeter&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p><em>Some screnshots</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/Zbjfv.png\" rel=\"nofollow noreferrer\">Working</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zKgce.png\" rel=\"nofollow noreferrer\">Not working</a></p>\n\n<p>I've searched everywhere and couldn't find a solution.\nAll help is apreciated!</p>\n\n<p>PS: the JSON data comes like this. Thats why the \"0\" in <strong>this.dadosFormulario[0]</strong></p>\n\n<pre><code>[\n  {\n    \"nome\": \"MY NAME\",\n    \"dt_nasc\": \"1978-05-26T00:00:00\",\n    \"sexo\": \"0\",\n    \"cd_nacion\": \"2\", \n    \"cd_agrup_prof\": null,\n    \"cd_profis\": \"1\",\n    \"cd_categ\": \"TS\",\n    \"loc_trab\": \"\"\n   }\n ] \n</code></pre>\n"}, {"tags": ["angular", "rest", "typescript", "jwt"], "owner": {"reputation": 562, "user_id": 5265527, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10207651669479868/picture?type=large", "display_name": "Pierangelo Calanna", "link": "https://stackoverflow.com/users/5265527/pierangelo-calanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527005525, "creation_date": 1527005525, "question_id": 50472204, "link": "https://stackoverflow.com/questions/50472204/how-to-download-a-file-through-a-rest-call-with-a-jwt-token-using-angular", "title": "How to download a file through a rest call with a jwt token using angular", "body": "<p>I'm using the following snippet, which works on POSTMAN using a Bearer token, to let a user download a certain file. </p>\n\n<p>It uses a REST call to a spring boot rest controller.</p>\n\n<pre><code>downloadCSV(id){\n    const download_link = this.baseUrl + \"csvfiles/\" + id;\n    console.log(localStorage.getItem(\"token\"));\n    this.http.get(download_link, token )\n      .pipe(\n        tap(data =&gt; this.baseUrl)\n        ,catchError(this.handleError('downloadCSV catchError: ', download_link))\n      );\n  }\n</code></pre>\n\n<p>When I call this function a new tab pops up on the browser saying \"denied access\", because the call happens in a new tab and I'm clearly not passing the token there. </p>\n\n<p>(This function was working before we implemented the JWT security login)</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 2871881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mpZoW.jpg?s=128&g=1", "display_name": "n3r0bi0m4n", "link": "https://stackoverflow.com/users/2871881/n3r0bi0m4n"}, "edited": false, "score": 0, "creation_date": 1527010499, "post_id": 50472708, "comment_id": 87960544, "body": "Thanks for answer! Yes, <code>getList()</code> returns a Subject asObservable, same as <code>getCurrent()</code>. I cannot subscribe because Angular&#39;s <code>canActivate</code> should return either boolean, Observable&lt;boolean&gt; or Promise&lt;boolean&gt;. Once i have no boolean, i thought i should map boolean from other observables depending on their values. Already tried to use <code>switchMap</code> and <code>mergeMap</code>. Also tried to subscribe to <code>ifNoPatientCondition$</code> before returning. Same result :("}, {"owner": {"reputation": 5358, "user_id": 4125622, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/0JLza.png?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/4125622/phil"}, "reply_to_user": {"reputation": 141, "user_id": 2871881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mpZoW.jpg?s=128&g=1", "display_name": "n3r0bi0m4n", "link": "https://stackoverflow.com/users/2871881/n3r0bi0m4n"}, "edited": false, "score": 0, "creation_date": 1527011369, "post_id": 50472708, "comment_id": 87960989, "body": "What is the implementation of <code>this.dataService.getList()</code>? Put a <code>console.log()</code> in <code>getList</code> and check if it gets called. My suspicion is that it is not. I see two solutions: make <code>getList</code> return a list and not an observable of a list or put mergeMap in the right place. I recommend the first one. You want to perform a synchronous operation and always need to wait for the List to be returned, so there is no need to get an Observable."}, {"owner": {"reputation": 141, "user_id": 2871881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mpZoW.jpg?s=128&g=1", "display_name": "n3r0bi0m4n", "link": "https://stackoverflow.com/users/2871881/n3r0bi0m4n"}, "edited": false, "score": 0, "creation_date": 1527012391, "post_id": 50472708, "comment_id": 87961447, "body": "Added log to <code>getList()</code>:  <code>getList() called! </code>... <code>gotpatient.guard.ts:124 you are the best</code> ...  <code>gotpatient.guard.ts:108 there is no patient!</code>  I&#39;ll try to switch from asynchronous List to List (or event to BehaviorSubject) tomorrow and report about result. Thanks!"}, {"owner": {"reputation": 141, "user_id": 2871881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mpZoW.jpg?s=128&g=1", "display_name": "n3r0bi0m4n", "link": "https://stackoverflow.com/users/2871881/n3r0bi0m4n"}, "edited": false, "score": 0, "creation_date": 1527723963, "post_id": 50472708, "comment_id": 88239343, "body": "Solved this problem in more elegant (in context of using Angular) way: created a separate guard :)"}], "tags": [], "owner": {"reputation": 5358, "user_id": 4125622, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/0JLza.png?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/4125622/phil"}, "is_accepted": true, "score": 1, "last_activity_date": 1527007408, "creation_date": 1527007408, "answer_id": 50472708, "question_id": 50471917, "link": "https://stackoverflow.com/questions/50471917/angular2-rxjs-nested-maps-with-conditions-in-guard/50472708#50472708", "title": "Angular2/Rxjs nested maps with conditions in guard", "body": "<p>Please use Types if you are working with Typescript. It is not clear what is an array and what is an Observable. Since <code>warnOkCondition$</code> returns <code>Observable.of(true/false)</code> on some conditions, I assume <code>this.dataService.getList()</code> returns an Observable as well, and not a list, even though <code>pl</code> has no <code>$</code>-suffix at the end. In this case you need to subscribe to <code>ifNoPatientCondition$</code> if you want it to be executed.</p>\n\n<p>You might want to use <code>switchMap</code> or <code>mergeMap</code> here. <a href=\"https://netbasal.com/understanding-mergemap-and-switchmap-in-rxjs-13cf9c57c885\" rel=\"nofollow noreferrer\">https://netbasal.com/understanding-mergemap-and-switchmap-in-rxjs-13cf9c57c885</a></p>\n"}], "owner": {"reputation": 141, "user_id": 2871881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mpZoW.jpg?s=128&g=1", "display_name": "n3r0bi0m4n", "link": "https://stackoverflow.com/users/2871881/n3r0bi0m4n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 50472708, "answer_count": 1, "score": 3, "last_activity_date": 1527007408, "creation_date": 1527004508, "question_id": 50471917, "link": "https://stackoverflow.com/questions/50471917/angular2-rxjs-nested-maps-with-conditions-in-guard", "title": "Angular2/Rxjs nested maps with conditions in guard", "body": "<p>I'd stuck with Rxjs operators.</p>\n\n<p>This is a part of Angular's guard <code>canActivate</code></p>\n\n<pre><code>const ifNoPatientCondition$ = this.dataService.getList().map(pl =&gt; {\n  console.log('im here'); // &lt;&lt;&lt; this message not showing\n  const found = findOnlyAvailablePatients(pl);\n  if (found[0] === 1) {\n    this.stateService.patient.setCurrent(found[1]);\n    this.dataService.getPatientData(pid);\n    // return Observable.of(true);\n    return true;\n  } else {\n    if (found[0] === 0) {\n      this.stateService.app.message.send('Wrong patient status');\n    } else if (found[0] === -1) {\n      this.stateService.app.message.send('Wrong patient ID');\n    }\n    this.subscribes.forEach(subscribe =&gt; subscribe.unsubscribe());\n    this.stateService.navigate('/patients');\n    // return Observable.of(false);\n    // return false;\n  }\n});\n\nconst warnOkCondition$ = this.stateService.patient.getCurrent().pipe(mergeMap(pat =&gt; {\n  if (!pat || pat.patient_id !== pid) { // &lt;&lt;&lt; i'm interested with this condition\n    console.log('there is no patient!', pat); // &lt;&lt;&lt; i see this message\n    return ifNoPatientCondition$; // &lt;&lt;&lt; but cannot reach this line\n  } else {\n    if (pat.status === 'TREATMENT_COMPLETE') {\n      return Observable.of(false);\n    }\n    return Observable.of(true);\n  }\n}));\n\nreturn warningDialog().pipe(concatMap(warningResult =&gt; {\n  if (!warningResult) { // &lt;&lt;&lt; if clicked No\n    this.stateService.navigate('/patients');\n    return Observable.of(false);\n  } else { // &lt;&lt;&lt; 'Yes'\n    console.log('you are the best');\n    return warnOkCondition$;\n  }\n}));\n</code></pre>\n\n<p><code>warningDialog()</code> shows a dialog and returns observable of result.\nIf i clicked <strong>No</strong>, code works right: guard returns false and router navigate to <code>/patients</code>.</p>\n\n<p>else if i clicked <strong>Yes</strong>, <code>warnOkCondition$</code> works partially right (i'm interesting with first condition (with <code>console.log</code>)): i see message in console, but cannot reach next line - <code>ifNoPatientCondition$</code> code.</p>\n\n<p>Thanks!</p>\n"}]