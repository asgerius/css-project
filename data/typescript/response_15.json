[{"tags": ["javascript", "visual-studio", "typescript"], "comments": [{"owner": {"reputation": 301, "user_id": 899072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9d5d9a17f7d7d804cbd363916b0fb5?s=128&d=identicon&r=PG", "display_name": "James Fiala", "link": "https://stackoverflow.com/users/899072/james-fiala"}, "edited": false, "score": 0, "creation_date": 1453398503, "post_id": 29810731, "comment_id": 57594497, "body": "Update: I don&#39;t think there is an easy way to do this. We ended up using a lot of Sohnee&#39;s suggestions and actually modified our build script to just use a debug configuration that would load in two separate files for debug mode and then combines them for a production build."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 899072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9d5d9a17f7d7d804cbd363916b0fb5?s=128&d=identicon&r=PG", "display_name": "James Fiala", "link": "https://stackoverflow.com/users/899072/james-fiala"}, "edited": false, "score": 0, "creation_date": 1429800442, "post_id": 29817400, "comment_id": 47780116, "body": "I don&#39;t think the : any solution will work for us because we are trying to dynamically update our 3rd parties via nuget. We are really hoping to get them all into one single file because we plan on minifying everything later, and if we minify two separate files there might be name collisions. Sounds like I might just have to stick to combining all of the .js files post-build and lose the source-mappings."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 301, "user_id": 899072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9d5d9a17f7d7d804cbd363916b0fb5?s=128&d=identicon&r=PG", "display_name": "James Fiala", "link": "https://stackoverflow.com/users/899072/james-fiala"}, "edited": false, "score": 0, "creation_date": 1429817750, "post_id": 29817400, "comment_id": 47792100, "body": "Yes - the <code>any</code> solution clashes with keeping updated (as per the third paragraph above) - that&#39;s why I don&#39;t recommend the approach. You can either lose the source mappings, or have a multi-stage process (two files in debug, combined into one file and then minified otherwise)."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1429776632, "creation_date": 1429776632, "answer_id": 29817400, "question_id": 29810731, "link": "https://stackoverflow.com/questions/29810731/in-vs-is-there-a-way-to-ignore-errors-on-some-typescript-files-but-still-compil/29817400#29817400", "title": "In VS, is there a way to ignore errors on some typescript files but still compile them in?", "body": "<p>TypeScript is able to forgive a whole host of errors and still provide compiled JavaScript, but in some cases the error will prevent it - i.e. the code will no longer make sense to the compiler because it cannot determine enough information.</p>\n\n<p>The solution would be to splatter lots of <code>: any</code> type annotations to suppress errors.</p>\n\n<p>The real danger with your approach will be trying to keep your edited versions of all of the libraries updated as they change.</p>\n\n<p>Here is an alternative...</p>\n\n<p>Combine all of your third party libraries into a single file, then combine all of your TypeScript files into a single file (so your source maps work).</p>\n\n<p>This will allow you to easily debug and you could always crush the two files together later if the extra HTTP request worries you.</p>\n"}], "owner": {"reputation": 301, "user_id": 899072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9d5d9a17f7d7d804cbd363916b0fb5?s=128&d=identicon&r=PG", "display_name": "James Fiala", "link": "https://stackoverflow.com/users/899072/james-fiala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3905, "favorite_count": 2, "accepted_answer_id": 29817400, "answer_count": 1, "score": 2, "last_activity_date": 1429776632, "creation_date": 1429745057, "question_id": 29810731, "link": "https://stackoverflow.com/questions/29810731/in-vs-is-there-a-way-to-ignore-errors-on-some-typescript-files-but-still-compil", "title": "In VS, is there a way to ignore errors on some typescript files but still compile them in?", "body": "<p>I'm writing a large application with several 3rd party libraries. Right now, I am using a post-build script to concatenate all of my .js files together, along with the output of all my combined typescript files. This works fine, but makes it so the source mappings are off for debugging.</p>\n\n<p>What I'd like to accomplish is converting all of my 3rd party .js libraries into typescript (and by converting, I mean just renaming them from .js to .ts since typescript is a superset). From here, I can just use the typescript compiler to output all of the combined typescript files with accurate source maps so debugging in typescript will still work. However, the issue I'm running into is that the 3rd party libraries have various errors, so I cannot get the build to work.</p>\n\n<p>Is there a way in Visual Studio to have my existing typescript files compiled as they are while having these third party libraries compiled but ignoring all errors and have the result all output into one single javascript file? </p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "typescript1.4"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4614918"}, "edited": false, "score": 0, "creation_date": 1429742299, "post_id": 29810130, "comment_id": 47748406, "body": "I&#39;m not sure if I understand you. ng is declared by angular.d.ts (definitelyTyped) and not in my code base?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4614918"}, "edited": false, "score": 0, "creation_date": 1429777186, "post_id": 29810130, "comment_id": 47762056, "body": "This only seems to work partially. angular-ui, ui-router etc. are now happy,  but for the others I receive e.g. &#39;Could not find symbol &#39;IDirective&#39; in module &#39;angular&#39;. I&#39;ve updated definitelyTyped to the latest version."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4614918"}, "edited": false, "score": 0, "creation_date": 1429783946, "post_id": 29810130, "comment_id": 47767039, "body": "Okay, I think I see it. In the typescript definitions of angularjs, there is a module called <code>angular</code> with all the interfaces I need. However, there is also a global variable declared as <code>angular</code>, which is of type IAngularStatic. So when I try to reference an interface in module <code>angular</code>, Intellisense assume that I mean the variable and thus fails to find the interface. When hovering over <code>angular</code>, it clearly shows that it&#39;s of type <code>IAngularStatic</code> and not the module. Is this on purpose? Looks like the renaming from <code>ng</code> to <code>angular</code> did indeed break stuff. :/"}, {"owner": {"reputation": 979, "user_id": 1141109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bf5e512639c799f631b134fb25e31a4?s=128&d=identicon&r=PG", "display_name": "Alexander Cosman", "link": "https://stackoverflow.com/users/1141109/alexander-cosman"}, "edited": false, "score": 0, "creation_date": 1435752056, "post_id": 29810130, "comment_id": 50329930, "body": "I had this issue, because I still had a angular translate type definition file in my solution which defined the module &#39;ng&#39;. Replacing this file with a new version solved the issue for me. <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/angular-translate/angular-translate.d.ts\" rel=\"nofollow noreferrer\">github.com/borisyankov/DefinitelyTyped/blob/master/&hellip;</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1429752909, "last_edit_date": 1429752909, "creation_date": 1429741928, "answer_id": 29810130, "question_id": 29809645, "link": "https://stackoverflow.com/questions/29809645/unable-to-find-ng-in-module-broken-intellisense/29810130#29810130", "title": "Unable to find &#39;ng&#39; in module... - broken Intellisense?", "body": "<p>You have \"declare module ng\" somewhere in your code base. Please change it to \"declare module angular\"</p>\n\n<p>Details : <a href=\"https://github.com/borisyankov/DefinitelyTyped/pull/3851#issue-60749247\" rel=\"nofollow\">https://github.com/borisyankov/DefinitelyTyped/pull/3851#issue-60749247</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>What I mean is search for <code>declare module ng</code>. There should be <em>zero</em> results (which I suspect is not the case for your codebase). </p>\n\n<p>Note: <code>angular.d.ts</code> now does <code>declare module angular</code> not <code>declare module ng</code>. </p>\n\n<p><a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/angularjs/angular.d.ts#L26\" rel=\"nofollow\">https://github.com/borisyankov/DefinitelyTyped/blob/master/angularjs/angular.d.ts#L26</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1737027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOumm.jpg?s=128&g=1", "display_name": "ilnur_safin", "link": "https://stackoverflow.com/users/1737027/ilnur-safin"}, "is_accepted": false, "score": 0, "last_activity_date": 1464797732, "creation_date": 1464797732, "answer_id": 37573899, "question_id": 29809645, "link": "https://stackoverflow.com/questions/29809645/unable-to-find-ng-in-module-broken-intellisense/37573899#37573899", "title": "Unable to find &#39;ng&#39; in module... - broken Intellisense?", "body": "<p>I had exactly the same problem. I replaced in typings \"declare namespace angular\" to \"declare module angular\" and all is great now!</p>\n\n<p>typings were from here: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow\">https://github.com/DefinitelyTyped/DefinitelyTyped</a></p>\n\n<p>I've included this one file angular.d.ts (/// )</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4614918"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1492, "favorite_count": 0, "accepted_answer_id": 29810130, "answer_count": 2, "score": 4, "last_activity_date": 1464797732, "creation_date": 1429739810, "question_id": 29809645, "link": "https://stackoverflow.com/questions/29809645/unable-to-find-ng-in-module-broken-intellisense", "title": "Unable to find &#39;ng&#39; in module... - broken Intellisense?", "body": "<p>When trying to reference external modules, Intellisense spits out an error along the lines of..</p>\n\n<pre><code>Could not find symbol 'ng' in global module\n</code></pre>\n\n<p>or..</p>\n\n<pre><code>Could not find symbol 'ng' in module 'App' // my main module\n</code></pre>\n\n<p>..even though I'm correctly referencing the typescript definitions (using definitelyTyped):</p>\n\n<h3>_references.ts</h3>\n\n<pre><code>/// &lt;reference path=\"../../typings/tsd.d.ts\" /&gt;\n\ndeclare var angular: ng.IAngularStatic; // unable to find in global module\n</code></pre>\n\n<h3>SomeDirective.ts</h3>\n\n<pre><code>/// &lt;reference path=\"_references.ts\" /&gt;\n\nmodule App {\n    export class SomeDirective implements ng.IDirective // unable to find in module 'App'\n}\n</code></pre>\n\n<p>Interestingly, compiling the *.ts files with grunt-typescript works fine and the application runs without any problems.</p>\n"}, {"tags": ["node.js", "typescript", "node-webkit"], "comments": [{"owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1429734284, "post_id": 29806669, "comment_id": 47744246, "body": "Are you trying to import A into B? If so you should do <code>import A = require(&quot;A&quot;);</code>"}, {"owner": {"reputation": 1809, "user_id": 2104229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/871c5a136006f29a03d3cc93ff3aa76d?s=128&d=identicon&r=PG", "display_name": "WebFreak001", "link": "https://stackoverflow.com/users/2104229/webfreak001"}, "reply_to_user": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1429734476, "post_id": 29806669, "comment_id": 47744364, "body": "@Martin if I do that typescript compiles but then the node.js code doesn&#39;t work because node.js expects internal modules to be paths relative to the root of the directory (&quot;./js/A&quot;), but typescripts expects it relative to the typescript file (&quot;./A&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 1809, "user_id": 2104229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/871c5a136006f29a03d3cc93ff3aa76d?s=128&d=identicon&r=PG", "display_name": "WebFreak001", "link": "https://stackoverflow.com/users/2104229/webfreak001"}, "edited": false, "score": 0, "creation_date": 1429791553, "post_id": 29808819, "comment_id": 47772606, "body": "Ok just tried, vanilla nodejs works fine but using node-webkit it doesn&#39;t work.  <a href=\"https://github.com/nwjs/nw.js/wiki/Differences-of-JavaScript-contexts\" rel=\"nofollow noreferrer\">github.com/nwjs/nw.js/wiki/Differences-of-JavaScript-context&zwnj;&#8203;s</a>"}, {"owner": {"reputation": 715, "user_id": 4817677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a09791349eb1721b4fd7027ef5b68f3?s=128&d=identicon&r=PG", "display_name": "thetoast", "link": "https://stackoverflow.com/users/4817677/thetoast"}, "reply_to_user": {"reputation": 1809, "user_id": 2104229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/871c5a136006f29a03d3cc93ff3aa76d?s=128&d=identicon&r=PG", "display_name": "WebFreak001", "link": "https://stackoverflow.com/users/2104229/webfreak001"}, "edited": false, "score": 0, "creation_date": 1429793291, "post_id": 29808819, "comment_id": 47774084, "body": "@WebFreak001 how are you loading the js files in node-webkit?  You still have to use <code>require()</code> for those.  If you put the path to the TypeScript compiled js into a <code>&lt;script src={path_to_js}&gt;</code> it will screw up the module loading."}, {"owner": {"reputation": 1809, "user_id": 2104229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/871c5a136006f29a03d3cc93ff3aa76d?s=128&d=identicon&r=PG", "display_name": "WebFreak001", "link": "https://stackoverflow.com/users/2104229/webfreak001"}, "edited": false, "score": 0, "creation_date": 1429794858, "post_id": 29808819, "comment_id": 47775415, "body": "yeah i did that, changed it to require now"}], "tags": [], "owner": {"reputation": 715, "user_id": 4817677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a09791349eb1721b4fd7027ef5b68f3?s=128&d=identicon&r=PG", "display_name": "thetoast", "link": "https://stackoverflow.com/users/4817677/thetoast"}, "is_accepted": true, "score": 0, "last_activity_date": 1429736723, "creation_date": 1429736723, "answer_id": 29808819, "question_id": 29806669, "link": "https://stackoverflow.com/questions/29806669/node-js-typescript-can-not-find-local-module/29808819#29808819", "title": "node.js/typescript can not find local module", "body": "<p>Without seeing how you are compiling the TypeScript, and without seeing how you are attempting to <code>require()</code> these files from node, it's hard to answer this question.</p>\n\n<p>Even so, I can tell you that <em>both</em> TypeScript and node.js are expecting <code>require()</code> to be given a path which is <strong>relative to the file doing the require</strong>.</p>\n\n<p>If I were to have a js/A.ts that looked like so:</p>\n\n<pre><code>import B = require(\"./B\");\nconsole.log(B.thing);\n</code></pre>\n\n<p>And a js/B.ts that looked like so:</p>\n\n<pre><code>var myStuff = {\n    thing: \"I'm a thing!\"\n}\nexport = myStuff;\n</code></pre>\n\n<p>I could then compile <em>both</em> files with a single <code>tsc -m commonjs ./js/A.ts</code></p>\n\n<p>And then I could run node with: <code>node ./js/A.js</code> and would see the output:</p>\n\n<pre><code>I'm a thing!\n</code></pre>\n"}], "owner": {"reputation": 1809, "user_id": 2104229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/871c5a136006f29a03d3cc93ff3aa76d?s=128&d=identicon&r=PG", "display_name": "WebFreak001", "link": "https://stackoverflow.com/users/2104229/webfreak001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2017, "favorite_count": 0, "accepted_answer_id": 29808819, "answer_count": 1, "score": 0, "last_activity_date": 1429736723, "creation_date": 1429729457, "question_id": 29806669, "link": "https://stackoverflow.com/questions/29806669/node-js-typescript-can-not-find-local-module", "title": "node.js/typescript can not find local module", "body": "<p>When I try to import a local file it either throws an error at runtime but compiling it using tsc works. When I make it work for node.js, typescript throws an error at compile time.</p>\n\n<p>When I do</p>\n\n<pre><code>import A = require(\"./A\");\n</code></pre>\n\n<p>node.js complains, that it can not find the A module and typescript compiles just fine.</p>\n\n<p>But when I change it to</p>\n\n<pre><code>import A = require(\"./js/A\");\n</code></pre>\n\n<p>node.js can find the module but Typescript tells me there is an error.</p>\n\n<p>The layout is like this:</p>\n\n<pre><code>js\n\\- A.ts\n\\- B.ts\n</code></pre>\n\n<p>I compile the files separately and I already tried searching for changing the root directory for the typescript compiler but I couldn't find anything.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 2, "last_activity_date": 1429720729, "creation_date": 1429720729, "answer_id": 29803848, "question_id": 29803244, "link": "https://stackoverflow.com/questions/29803244/typescript-object-of-t-but-value-is-predicate/29803848#29803848", "title": "Typescript: Object of T but value is Predicate", "body": "<p>There isn't a way to represent this in the TypeScript type system.</p>\n"}, {"tags": [], "owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "is_accepted": false, "score": 0, "last_activity_date": 1429891630, "creation_date": 1429891630, "answer_id": 29852355, "question_id": 29803244, "link": "https://stackoverflow.com/questions/29803244/typescript-object-of-t-but-value-is-predicate/29852355#29852355", "title": "Typescript: Object of T but value is Predicate", "body": "<p>This seems to get closer to a solution which is partially type safe:</p>\n\n<pre><code>interface Pred2&lt;T&gt; {\n    (x: any, y: T): boolean\n}\ninterface ObjPred2&lt;T&gt; {\n    [index: string]: Pred2&lt;T&gt;;\n}\nwhere&lt;T&gt;(spec: ObjPred2&lt;T&gt;, testObj: T): boolean;\n</code></pre>\n"}], "owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 29803848, "answer_count": 2, "score": 0, "last_activity_date": 1429891630, "creation_date": 1429719028, "question_id": 29803244, "link": "https://stackoverflow.com/questions/29803244/typescript-object-of-t-but-value-is-predicate", "title": "Typescript: Object of T but value is Predicate", "body": "<p>for the following function (see also <a href=\"http://ramdajs.com/docs/#where\" rel=\"nofollow\">http://ramdajs.com/docs/#where</a>)</p>\n\n<pre><code>var spec2 = {x: function(val, obj) { return  val + obj.y &gt; 10; }};\nR.where(spec2, {x: 2, y: 7}); //=&gt; false\nR.where(spec2, {x: 3, y: 8}); //=&gt; true\n</code></pre>\n\n<p>I would like to create the typing for the case where the <code>object</code> <code>T</code> has the value of a predicate.</p>\n\n<p>I was thinking I would do something like this:</p>\n\n<pre><code>    where&lt;T&gt;(spec: {item: (val: any, testObj: T) =&gt; boolean}, testObj: T): boolean;\n</code></pre>\n\n<p>but I'm not sure what to do for the key.</p>\n"}, {"tags": ["asp.net", "typescript", "nuget-package"], "answers": [{"comments": [{"owner": {"reputation": 1367, "user_id": 2022255, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9542653eab2b0831603422c184129727?s=128&d=identicon&r=PG", "display_name": "Daan van Hulst", "link": "https://stackoverflow.com/users/2022255/daan-van-hulst"}, "edited": false, "score": 0, "creation_date": 1429732574, "post_id": 29801733, "comment_id": 47743195, "body": "It doesn&#39;t add any TypeScript files to my /Scripts folder. This is the way it used to work, but my question is specifically about ASP.NET 5. Or should it also add the files and am I missing something?"}, {"owner": {"reputation": 1367, "user_id": 2022255, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9542653eab2b0831603422c184129727?s=128&d=identicon&r=PG", "display_name": "Daan van Hulst", "link": "https://stackoverflow.com/users/2022255/daan-van-hulst"}, "edited": false, "score": 1, "creation_date": 1429871563, "post_id": 29801733, "comment_id": 47816091, "body": "Happens :). Thank you for your update. I think I will go with tsd from NPM until this is supported."}, {"owner": {"reputation": 18687, "user_id": 410937, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2311a032d27f8278b61dac7574a00931?s=128&d=identicon&r=PG", "display_name": "atconway", "link": "https://stackoverflow.com/users/410937/atconway"}, "edited": false, "score": 1, "creation_date": 1455769696, "post_id": 29801733, "comment_id": 58640587, "body": "Could one use a task runner like gulp to copy the files to <code>wwwroot</code>?"}, {"owner": {"reputation": 1973, "user_id": 439094, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7CysB.png?s=128&g=1", "display_name": "Ren&#233; Sackers", "link": "https://stackoverflow.com/users/439094/ren%c3%a9-sackers"}, "edited": false, "score": 3, "creation_date": 1462118880, "post_id": 29801733, "comment_id": 61493235, "body": "For anyone wondering exactly where those packages are stored, type this into your explorer&#39;s address bar: <code>%USERPROFILE%\\.nuget\\packages</code>"}], "tags": [], "owner": {"reputation": 3712, "user_id": 4140199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xXK8i.png?s=128&g=1", "display_name": "Max Brodin", "link": "https://stackoverflow.com/users/4140199/max-brodin"}, "is_accepted": true, "score": 11, "last_activity_date": 1429863925, "last_edit_date": 1429863925, "creation_date": 1429715263, "answer_id": 29801733, "question_id": 29801548, "link": "https://stackoverflow.com/questions/29801548/how-do-i-access-typescript-definitions-in-asp-net-5-with-the-nuget-package-manag/29801733#29801733", "title": "How do I access TypeScript definitions in ASP.NET 5 with the NuGet package manager?", "body": "<p>Currently <code>angularjs.TypeScript.DefinitelyTyped</code> nuget package supports only ASP.NET 4 folders structure. It puts files in your <code>~\\Scripts\\typings\\angularjs\\</code>, (see <a href=\"https://github.com/DefinitelyTyped/NugetAutomation/blob/master/CreatePackages.ps1#L163\" rel=\"noreferrer\">nuget-automation source</a>) folder you can reference it from there like this:</p>\n\n<pre><code>/// &lt;reference path=\"../scripts/typings/angularjs/angular.d.ts\" /&gt;\n</code></pre>\n\n<p>In order to use typings in ASP.NET 5 you have to just copy <code>*.d.ts</code> files from  <code>\\packages\\angularjs.TypeScript.DefinitelyTyped\\[VERSION]</code> to any folder accessible from your project and change reference path accordingly.</p>\n\n<p>P.S. Feel free to create new issue in <a href=\"https://github.com/DefinitelyTyped/NugetAutomation/issues\" rel=\"noreferrer\">NugetAutomation</a> on GitHub.</p>\n"}], "owner": {"reputation": 1367, "user_id": 2022255, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9542653eab2b0831603422c184129727?s=128&d=identicon&r=PG", "display_name": "Daan van Hulst", "link": "https://stackoverflow.com/users/2022255/daan-van-hulst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4060, "favorite_count": 2, "accepted_answer_id": 29801733, "answer_count": 1, "score": 13, "last_activity_date": 1429863925, "creation_date": 1429714760, "question_id": 29801548, "link": "https://stackoverflow.com/questions/29801548/how-do-i-access-typescript-definitions-in-asp-net-5-with-the-nuget-package-manag", "title": "How do I access TypeScript definitions in ASP.NET 5 with the NuGet package manager?", "body": "<p>I am having trouble understanding how I can access the TypeScript definition files which I installed with the NuGet package manager. I installed the TypeScript definition files for Angular with the following command:</p>\n\n<blockquote>\n<pre><code>Install-Package angularjs.TypeScript.DefinitelyTyped\n</code></pre>\n</blockquote>\n\n<p>And it shows up in the project.json file:</p>\n\n<pre><code>\"dependencies\": {\n    \"Microsoft.AspNet.Server.IIS\": \"1.0.0-beta3\",\n    \"Microsoft.AspNet.Mvc\": \"6.0.0-beta3\",\n    \"Microsoft.AspNet.StaticFiles\": \"1.0.0-beta3\",\n    \"Microsoft.AspNet.Server.WebListener\": \"1.0.0-beta3\",\n    \"angularjs.TypeScript.DefinitelyTyped\": \"3.2.5\"\n},\n</code></pre>\n\n<p>And a reference has been placed under 'References', linking to:</p>\n\n<blockquote>\n  <p>C:\\Users\\.k\\packages\\angularjs.TypeScript.DefinitelyTyped\\3.2.5</p>\n</blockquote>\n\n<p>I am able to reference to this by using the absolute path, but this won't work:</p>\n\n<pre><code>/// &lt;reference path=\"C:\\Users\\&lt;user&gt;\\.k\\packages\\angularjs.TypeScript.DefinitelyTyped\\3.2.5\\Content\\Scripts\\typings\\angularjs\\angular.d.ts\" /&gt;\n</code></pre>\n\n<p>Angular depends on jQuery, which it will look for in:</p>\n\n<blockquote>\n  <p>'C:/Users//.k/packages/angularjs.TypeScript.DefinitelyTyped/3.2.5/Content/Scripts/typings/jquery/jquery.d.ts'</p>\n</blockquote>\n\n<p>So my question is: how can I reference to TypeScript definition files installed as a NuGet package?       </p>\n"}, {"tags": ["angularjs", "gruntjs", "typescript", "session-storage", "ng-storage"], "comments": [{"owner": {"reputation": 16646, "user_id": 1139099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AWxKH.png?s=128&g=1", "display_name": "harishr", "link": "https://stackoverflow.com/users/1139099/harishr"}, "edited": false, "score": 0, "creation_date": 1505727115, "post_id": 29799094, "comment_id": 79514564, "body": "were you able to get it to work.. if yes how does the import statement looks like"}], "answers": [{"tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": true, "score": 1, "last_activity_date": 1429712919, "creation_date": 1429712919, "answer_id": 29800746, "question_id": 29799094, "link": "https://stackoverflow.com/questions/29799094/how-to-run-ngstorage-with-typescript/29800746#29800746", "title": "how to run ngStorage with typeScript", "body": "<blockquote>\n  <h2>Short Answer</h2>\n  \n  <p>Yes!</p>\n</blockquote>\n\n<h2>Longer answer</h2>\n\n<p>Yes you can use <code>ngStorage</code> with TypeScript.</p>\n\n<p>Being that TypeScript is a superset of JavaScript, so anything you can do in JavaScript you can do in TypeScript (Note there are some differences, but not in regards to using other libraries). If you are unable to find a <code>.d.ts</code> file for this module then you have two choices to use it.</p>\n\n<ol>\n<li>Specify the type of any of the services/factories to have a type of <code>any</code></li>\n<li>Create your own <code>.d.ts</code> to represent this module, or at least the pieces of it that you are using</li>\n</ol>\n\n<p>If you decide to head down the route of #2, it would be nice for the community to submit a pull request to the definitely typed repo to include the definition you created.</p>\n"}, {"comments": [{"owner": {"reputation": 13092, "user_id": 730566, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/226c5bf87ec837a5dc27016b306535cc?s=128&d=identicon&r=PG", "display_name": "Adam Plocher", "link": "https://stackoverflow.com/users/730566/adam-plocher"}, "edited": false, "score": 0, "creation_date": 1490021066, "post_id": 36642014, "comment_id": 72912591, "body": "Current way: <code>typings install dt~ngstorage --save --global</code>"}, {"owner": {"reputation": 13092, "user_id": 730566, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/226c5bf87ec837a5dc27016b306535cc?s=128&d=identicon&r=PG", "display_name": "Adam Plocher", "link": "https://stackoverflow.com/users/730566/adam-plocher"}, "edited": false, "score": 2, "creation_date": 1490948647, "post_id": 36642014, "comment_id": 73349142, "body": "Or, <code>npm install @types&#47;ngstorage --save-dev</code>"}], "tags": [], "owner": {"reputation": 2072, "user_id": 641103, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2571a7455e058b49a4225059567fd536?s=128&d=identicon&r=PG", "display_name": "A J Qarshi", "link": "https://stackoverflow.com/users/641103/a-j-qarshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1460708911, "creation_date": 1460708911, "answer_id": 36642014, "question_id": 29799094, "link": "https://stackoverflow.com/questions/29799094/how-to-run-ngstorage-with-typescript/36642014#36642014", "title": "how to run ngStorage with typeScript", "body": "<p>A one year old question. But just to update, there is a .d.ts file available for ngStorage.</p>\n\n<p>Run the below command and off you go.</p>\n\n<pre><code>tsd install ngStorage --save --resolve\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 2645143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ca153c9628e6336e7490435db209ee92?s=128&d=identicon&r=PG&f=1", "display_name": "quicky", "link": "https://stackoverflow.com/users/2645143/quicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1513, "favorite_count": 1, "accepted_answer_id": 29800746, "answer_count": 2, "score": 1, "last_activity_date": 1460708911, "creation_date": 1429709307, "last_edit_date": 1429713930, "question_id": 29799094, "link": "https://stackoverflow.com/questions/29799094/how-to-run-ngstorage-with-typescript", "title": "how to run ngStorage with typeScript", "body": "<p>is it possible to include ngStorage within typeScript? I get <code>TS2304</code> error but I can't find <code>.d.ts</code> file  at definitelyTyped I could include. \nI wanna store tokens which I use in REST requests. Any other suggestions on this? I couldn't make it working with $sessionStorage either. Apparently I don't have enough knowledge about typeScript, I might not include something I should have.\nThanks in advance. </p>\n"}, {"tags": ["typescript", "typescript1.4"], "answers": [{"comments": [{"owner": {"reputation": 6623, "user_id": 487771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/435755dc1d81ef78b78c48a7d3b13729?s=128&d=identicon&r=PG", "display_name": "daniel.sedlacek", "link": "https://stackoverflow.com/users/487771/daniel-sedlacek"}, "edited": false, "score": 0, "creation_date": 1429699351, "post_id": 29794300, "comment_id": 47718171, "body": "the definition does not throw an error but you can not access neither properties of Apple nor Orange"}, {"owner": {"reputation": 3835, "user_id": 2476884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9e6937def916fce7ecfb45345ffc44?s=128&d=identicon&r=PG", "display_name": "danielnixon", "link": "https://stackoverflow.com/users/2476884/danielnixon"}, "reply_to_user": {"reputation": 6623, "user_id": 487771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/435755dc1d81ef78b78c48a7d3b13729?s=128&d=identicon&r=PG", "display_name": "daniel.sedlacek", "link": "https://stackoverflow.com/users/487771/daniel-sedlacek"}, "edited": false, "score": 1, "creation_date": 1429699735, "post_id": 29794300, "comment_id": 47718489, "body": "I&#39;ve updated the answer to include a type guard example."}, {"owner": {"reputation": 6623, "user_id": 487771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/435755dc1d81ef78b78c48a7d3b13729?s=128&d=identicon&r=PG", "display_name": "daniel.sedlacek", "link": "https://stackoverflow.com/users/487771/daniel-sedlacek"}, "edited": false, "score": 0, "creation_date": 1429702050, "post_id": 29794300, "comment_id": 47720241, "body": "That&#39;s interesting. I was doing the mistake that Apple and Orange were interfaces, not classes but then you can not type-guard for interface so you could not reach the properties. Thanks."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 6623, "user_id": 487771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/435755dc1d81ef78b78c48a7d3b13729?s=128&d=identicon&r=PG", "display_name": "daniel.sedlacek", "link": "https://stackoverflow.com/users/487771/daniel-sedlacek"}, "edited": false, "score": 1, "creation_date": 1429707680, "post_id": 29794300, "comment_id": 47724888, "body": "@daniel.sedlacek if they were interfaces rather than classes, it is still possible you&#39;d have to do a bit more work (<a href=\"http://bit.ly/1Gi14Uu\" rel=\"nofollow noreferrer\">bit.ly/1Gi14Uu</a>) - i.e. <code>if (arr[0].hasOwnProperty(&quot;name&quot;)) { \tvar a = &lt;Apple&gt;arr[0]; \tconsole.log(a.name); }</code>"}, {"owner": {"reputation": 6623, "user_id": 487771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/435755dc1d81ef78b78c48a7d3b13729?s=128&d=identicon&r=PG", "display_name": "daniel.sedlacek", "link": "https://stackoverflow.com/users/487771/daniel-sedlacek"}, "edited": false, "score": 1, "creation_date": 1429798242, "post_id": 29794300, "comment_id": 47778290, "body": "Awesome. I wish all this info was somewhere nicely in one place, but I understand TS is moving forward so fast ..."}, {"owner": {"reputation": 2322, "user_id": 571030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75ac9d94ffe7e3a7897155b3692ed76?s=128&d=identicon&r=PG", "display_name": "glukki", "link": "https://stackoverflow.com/users/571030/glukki"}, "edited": false, "score": 1, "creation_date": 1529007794, "post_id": 29794300, "comment_id": 88733187, "body": "different techniques to make type guards: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3835, "user_id": 2476884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9e6937def916fce7ecfb45345ffc44?s=128&d=identicon&r=PG", "display_name": "danielnixon", "link": "https://stackoverflow.com/users/2476884/danielnixon"}, "is_accepted": true, "score": 29, "last_activity_date": 1429699722, "last_edit_date": 1429699722, "creation_date": 1429697474, "answer_id": 29794300, "question_id": 29794014, "link": "https://stackoverflow.com/questions/29794014/typing-an-array-with-a-union-type-in-typescript/29794300#29794300", "title": "Typing an Array with a union type in TypeScript?", "body": "<pre><code>class Apple {\n  appleFoo: any;\n}\n\nclass Orange {\n  orangeFoo: any;\n}\n\nvar arr : Array&lt;Apple|Orange&gt; = [];\n\nvar apple = new Apple();\nvar orange = new Orange();\n\narr.push(apple); //ok\narr.push(orange); //ok\narr.push(1); //error\narr.push(\"abc\"); // error\n\nvar something = arr[0];\n\nif(something instanceof Apple) {\n  something.appleFoo; //ok\n  something.orangeFoo; //error\n} else if(something instanceof Orange) {\n  something.appleFoo; //error\n  something.orangeFoo; //ok\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "is_accepted": false, "score": 7, "last_activity_date": 1589817983, "last_edit_date": 1589817983, "creation_date": 1588623835, "answer_id": 61600967, "question_id": 29794014, "link": "https://stackoverflow.com/questions/29794014/typing-an-array-with-a-union-type-in-typescript/61600967#61600967", "title": "Typing an Array with a union type in TypeScript?", "body": "<p>As per TS 2.3.4 is as simple as</p>\n\n<pre><code>let someArray: (typeA|typeB)[] = [\n  new typeA(),\n  new typeB()\n]\n</code></pre>\n"}], "owner": {"reputation": 6623, "user_id": 487771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/435755dc1d81ef78b78c48a7d3b13729?s=128&d=identicon&r=PG", "display_name": "daniel.sedlacek", "link": "https://stackoverflow.com/users/487771/daniel-sedlacek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14409, "favorite_count": 1, "accepted_answer_id": 29794300, "answer_count": 2, "score": 22, "last_activity_date": 1589817983, "creation_date": 1429696702, "last_edit_date": 1556798889, "question_id": 29794014, "link": "https://stackoverflow.com/questions/29794014/typing-an-array-with-a-union-type-in-typescript", "title": "Typing an Array with a union type in TypeScript?", "body": "<p>I was just wondering if it is possible to type array with a union type, so that one array can contain both Apples and Oranges but nothing else.</p>\n\n<p>Something like</p>\n\n<pre><code>var arr : (Apple|Orange)[] = [];\n\narr.push(apple); //ok\narr.push(orange); //ok\narr.push(1); //error\narr.push(\"abc\"); // error\n</code></pre>\n\n<p>Needless to say, the example above does not work so this may not be possible, or am I missing something?</p>\n"}, {"tags": ["javascript", "typescript", "typescript1.4"], "comments": [{"owner": {"reputation": 112016, "user_id": 15031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dfc9c03509b7d2d1646b21cb8de8ec5a?s=128&d=identicon&r=PG", "display_name": "Jonathan Lonowski", "link": "https://stackoverflow.com/users/15031/jonathan-lonowski"}, "edited": false, "score": 0, "creation_date": 1429673924, "post_id": 29787224, "comment_id": 47704063, "body": "Related: <a href=\"http://stackoverflow.com/questions/12710905/how-do-i-dynamically-assign-properties-to-an-object-in-typescript\">How do I dynamically assign properties to an object in TypeScript?</a>"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 1, "creation_date": 1429690046, "post_id": 29787224, "comment_id": 47711511, "body": "To answer to &quot;why&quot;: this is because of the <a href=\"http://www.typescriptlang.org/Handbook#type-inference\" rel=\"nofollow noreferrer\">TS inference</a>. The type of the variable <code>obj</code> is implicitly inferred from the empty object."}, {"owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "edited": false, "score": 1, "creation_date": 1429718081, "post_id": 29787224, "comment_id": 47733562, "body": "To address your first sentence: valid JavaScript <i>is</i> valid TypeScript, but TypeScript is more strict with what it considers valid. For example, <code>var a = 1; a = &quot;name&quot;;</code> is also valid JavaScript, but TypeScript will throw an error, also because of type inference. Same thing with trying to get or set a property that doesn&#39;t exist, like your example. To make your intentions explicit to the compiler, either declare it as of type <code>any</code>, or use <code>obj[&quot;x&quot;] = 1;</code> instead."}, {"owner": {"reputation": 2347, "user_id": 915147, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/57c51ef8e1e55adb55ed9cdfc2612071?s=128&d=identicon&r=PG", "display_name": "imgen", "link": "https://stackoverflow.com/users/915147/imgen"}, "edited": false, "score": 0, "creation_date": 1429770178, "post_id": 29787224, "comment_id": 47757801, "body": "@Tarth, I now understand! After playing with TypeScript a bit more and with your explanations, now I fully understand this issue"}], "owner": {"reputation": 2347, "user_id": 915147, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/57c51ef8e1e55adb55ed9cdfc2612071?s=128&d=identicon&r=PG", "display_name": "imgen", "link": "https://stackoverflow.com/users/915147/imgen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 1, "closed_date": 1429674068, "answer_count": 0, "score": 0, "last_activity_date": 1523990586, "creation_date": 1429673576, "last_edit_date": 1523990586, "question_id": 29787224, "link": "https://stackoverflow.com/questions/29787224/why-typescript-throws-error-on-legal-js", "closed_reason": "Duplicate", "title": "Why Typescript throws error on legal js?", "body": "<p>Typescript claims full compatibility with JavaScript, but yet when I write:</p>\n\n<pre><code>var obj = {};\nobj.x = 1;\n</code></pre>\n\n<p>TypeScript throws an error saying that <code>obj</code> doesn't have definition of <code>x</code>. Why?</p>\n\n<p>I am using VS2013 along with TypeScript 1.4</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 3, "creation_date": 1429664585, "post_id": 29785881, "comment_id": 47701547, "body": "In plain JS you can do something like <code>Array(10).fill(0)</code>."}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1429664685, "post_id": 29785881, "comment_id": 47701579, "body": "Or one of the typed arrays, e. g. <code>Int32Array(10)</code> if it\u2019s about numbers only."}, {"owner": {"reputation": 13439, "user_id": 272287, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BaAfl.jpg?s=128&g=1", "display_name": "jdphenix", "link": "https://stackoverflow.com/users/272287/jdphenix"}, "reply_to_user": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1429665563, "post_id": 29785881, "comment_id": 47701835, "body": "@Xufox *With a polyfill, but definitely the best way to go."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 4, "last_activity_date": 1429674630, "creation_date": 1429674630, "answer_id": 29787406, "question_id": 29785881, "link": "https://stackoverflow.com/questions/29785881/how-to-create-an-array-of-zeros-in-typescript/29787406#29787406", "title": "How to create an array of zeros in typescript?", "body": "<p>Having reviewed the concept of array holes I would do: </p>\n\n<pre><code>Array.apply(null, new Array(10)).map(()=&gt; 0);\n</code></pre>\n\n<p>Not a big saving but is some.</p>\n"}, {"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 14, "last_activity_date": 1429691116, "creation_date": 1429691116, "answer_id": 29791716, "question_id": 29785881, "link": "https://stackoverflow.com/questions/29785881/how-to-create-an-array-of-zeros-in-typescript/29791716#29791716", "title": "How to create an array of zeros in typescript?", "body": "<p>You can add to the open <code>Array&lt;T&gt;</code> interface to make the <code>fill</code> method available. There is a <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/fill\" rel=\"noreferrer\">polyfill for Array.prototype.fill on MDN</a> if you want older browser support.</p>\n\n<pre><code>interface Array&lt;T&gt; {\n    fill(value: T): Array&lt;T&gt;;\n}\n\nvar arr = Array&lt;number&gt;(10).fill(0);\n</code></pre>\n\n<p><a href=\"http://bit.ly/1OdtOF1\" rel=\"noreferrer\">View on Playground</a></p>\n\n<p>Eventually the <code>fill</code> method will find its way into the <code>lib.d.ts</code> file and you can delete your one (the compiler will warn you when you need to do this).</p>\n"}, {"tags": [], "owner": {"reputation": 63670, "user_id": 379008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Labo5.png?s=128&g=1", "display_name": "GibboK", "link": "https://stackoverflow.com/users/379008/gibbok"}, "is_accepted": false, "score": 3, "last_activity_date": 1554378050, "creation_date": 1554378050, "answer_id": 55515117, "question_id": 29785881, "link": "https://stackoverflow.com/questions/29785881/how-to-create-an-array-of-zeros-in-typescript/55515117#55515117", "title": "How to create an array of zeros in typescript?", "body": "<p>You could pass and integer argument to the Array constructor, this will return a new JavaScript array with its length property set to that number, plus you can use <code>.fill</code> to fills all the elements of an array from index zero.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = ([...Array(10).fill(0)])\r\nconsole.log(data)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 668, "user_id": 998490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FiebZ.jpg?s=128&g=1", "display_name": "michael", "link": "https://stackoverflow.com/users/998490/michael"}, "edited": false, "score": 0, "creation_date": 1590011665, "post_id": 60338979, "comment_id": 109523961, "body": "This is driving me crazy.  It fails in the latest typescript compiler.<code>% tsc --version Version 3.9.2 % cat .&#47;fill.ts const a = new Array&lt;number&gt;(1000).fill(0); % tsc .&#47;fill.ts fill.ts:1:35 - error TS2339: Property &#39;fill&#39; does not exist on type &#39;number[]&#39;. 1 const a = new Array&lt;number&gt;(1000).fill(0);</code>"}, {"owner": {"reputation": 67096, "user_id": 265521, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/34a66330977044d70165288c56740d4b?s=128&d=identicon&r=PG", "display_name": "Timmmm", "link": "https://stackoverflow.com/users/265521/timmmm"}, "reply_to_user": {"reputation": 668, "user_id": 998490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FiebZ.jpg?s=128&g=1", "display_name": "michael", "link": "https://stackoverflow.com/users/998490/michael"}, "edited": false, "score": 0, "creation_date": 1590072284, "post_id": 60338979, "comment_id": 109546574, "body": "You probably need to change the <code>target</code> setting in <code>tsconfig.json</code>."}, {"owner": {"reputation": 668, "user_id": 998490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FiebZ.jpg?s=128&g=1", "display_name": "michael", "link": "https://stackoverflow.com/users/998490/michael"}, "edited": false, "score": 0, "creation_date": 1590439589, "post_id": 60338979, "comment_id": 109675276, "body": "That&#39;s right.  Array.fill is ES6, so target must specify ES6.  Thank you for the tip!"}], "tags": [], "owner": {"reputation": 67096, "user_id": 265521, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/34a66330977044d70165288c56740d4b?s=128&d=identicon&r=PG", "display_name": "Timmmm", "link": "https://stackoverflow.com/users/265521/timmmm"}, "is_accepted": false, "score": 3, "last_activity_date": 1582289233, "creation_date": 1582289233, "answer_id": 60338979, "question_id": 29785881, "link": "https://stackoverflow.com/questions/29785881/how-to-create-an-array-of-zeros-in-typescript/60338979#60338979", "title": "How to create an array of zeros in typescript?", "body": "<p>As of now you can just do</p>\n\n<pre><code>const a = new Array&lt;number&gt;(1000).fill(0);\n</code></pre>\n\n<p>Make sure you include <code>&lt;number&gt;</code> otherwise it will infer <code>a</code>'s type as <code>any[]</code>.</p>\n"}], "owner": {"reputation": 12184, "user_id": 554241, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7085efed913ec6d5186e7c57352acfbd?s=128&d=identicon&r=PG", "display_name": "David Liu", "link": "https://stackoverflow.com/users/554241/david-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9601, "favorite_count": 0, "answer_count": 4, "score": 13, "last_activity_date": 1582289233, "creation_date": 1429664345, "question_id": 29785881, "link": "https://stackoverflow.com/questions/29785881/how-to-create-an-array-of-zeros-in-typescript", "title": "How to create an array of zeros in typescript?", "body": "<p>Currently, I'm using <code>Array.apply(null, new Array(10)).map(Number.prototype.valueOf, 0);</code> to create an array of 0.</p>\n\n<p>I'm wondering is there a better (cleaner) way to do this in typescript?</p>\n"}, {"tags": ["typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 25584, "user_id": 501459, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/29b9e5f5d700524e3a6eaef99de7d069?s=128&d=identicon&r=PG", "display_name": "Mud", "link": "https://stackoverflow.com/users/501459/mud"}, "edited": false, "score": 0, "creation_date": 1429660017, "post_id": 29784946, "comment_id": 47700122, "body": "That&#39;s the conclusion I was reaching on my own. I guess the broader question is am I barking up the wrong tree? I assume other people are in a similar boat. Has someone built a polyfill package for ES6/Typescript that does this for me, with me having to maintain my own custom .d.ts file? There&#39;s a lot more than <code>Array.find</code>. For instance, the shim supports <code>Map&lt;K,V&gt;</code> including iterators, but the <code>lib.es6.d.ts</code> definition includes a definition of iterator that relies on computed properties."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 3, "last_activity_date": 1429658705, "creation_date": 1429658705, "answer_id": 29784946, "question_id": 29784879, "link": "https://stackoverflow.com/questions/29784879/lib-d-ts-arrray-prototype-find/29784946#29784946", "title": "lib.d.ts Arrray.prototype.find", "body": "<p>The trick is to <em>only</em> copy the stuff you need. In your case just the <code>find</code> method. </p>\n\n<pre><code>interface Array&lt;T&gt; {\n        /** \n      * Returns the value of the first element in the array where predicate is true, and undefined \n      * otherwise.\n      * @param predicate find calls predicate once for each element of the array, in ascending \n      * order, until it finds one where predicate returns true. If such an element is found, find \n      * immediately returns that element value. Otherwise, find returns undefined.\n      * @param thisArg If provided, it will be used as the this value for each invocation of \n      * predicate. If it is not provided, undefined is used instead.\n      */\n    find(predicate: (value: T, index: number, obj: Array&lt;T&gt;) =&gt; boolean, thisArg?: any): T;\n\n    /** \n      * Returns the index of the first element in the array where predicate is true, and undefined \n      * otherwise.\n      * @param predicate find calls predicate once for each element of the array, in ascending \n      * order, until it finds one where predicate returns true. If such an element is found, find \n      * immediately returns that element value. Otherwise, find returns undefined.\n      * @param thisArg If provided, it will be used as the this value for each invocation of \n      * predicate. If it is not provided, undefined is used instead.\n      */\n    findIndex(predicate: (value: T) =&gt; boolean, thisArg?: any): number;\n}\n\nvar foo = [];\nvar bar = foo.find((x)=&gt;true);\n</code></pre>\n"}], "owner": {"reputation": 25584, "user_id": 501459, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/29b9e5f5d700524e3a6eaef99de7d069?s=128&d=identicon&r=PG", "display_name": "Mud", "link": "https://stackoverflow.com/users/501459/mud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1811, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1429658705, "creation_date": 1429658301, "question_id": 29784879, "link": "https://stackoverflow.com/questions/29784879/lib-d-ts-arrray-prototype-find", "title": "lib.d.ts Arrray.prototype.find", "body": "<p>We're working on a web app that's not expect to see production for at least a year, so we're trying to be as forward thinking as possible.</p>\n\n<p>We're using this <a href=\"http://%20https://github.com/paulmillr/es6-shim\" rel=\"nofollow\">ES6 polyfill</a> to access to things like <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow\"><code>Map</code></a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow\"><code>Array.prototype.find</code></a>. The problem is getting our Typescript code to play along.</p>\n\n<p>For instance, lib.d.ts in TS 1.4 doesn't know about <code>Array.prototype.find</code>. I grabbed the Typescript source and there are a bunch of d.ts in the <code>bin</code> folder. <code>lib.core.es6.d.ts</code> and <code>lib.es6.d.ts</code> both have <code>find</code>. I tried using them in our build and the typescript compiler barfs on them (\"Computed property names are not allowed in interfaces\").</p>\n\n<p>What would be the best approach for getting support for ES6 types in Typescript?</p>\n"}, {"tags": ["typescript", "phantomjs", "mocha.js", "travis-ci"], "answers": [{"comments": [{"owner": {"reputation": 1651, "user_id": 1830407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72FXW.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/1830407/josh"}, "edited": false, "score": 0, "creation_date": 1433269141, "post_id": 30105399, "comment_id": 49275540, "body": "Very interesting! Thanks for the answer, though I ended up solving it differently. Not being able to keep up-to-date with Mocha versions would be a bit of a killer."}], "tags": [], "owner": {"reputation": 5059, "user_id": 3811916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xbwdN.png?s=128&g=1", "display_name": "eddies", "link": "https://stackoverflow.com/users/3811916/eddies"}, "is_accepted": false, "score": 1, "last_activity_date": 1431012888, "last_edit_date": 1431012888, "creation_date": 1431012242, "answer_id": 30105399, "question_id": 29781094, "link": "https://stackoverflow.com/questions/29781094/travis-ci-builds-failing-phantom-js-timing-out-with-mocha/30105399#30105399", "title": "Travis CI builds failing - Phantom JS timing out with Mocha", "body": "<p>I had the exact same error on Travis.\nThis is my new, working .travis.yml:</p>\n\n<pre><code>sudo: false\nlanguage: node_js\nnode_js:\n  - '0.12'\nbefore_script:\n  - npm install -g grunt-cli bower\n  - bower install\n</code></pre>\n\n<p>In my case, I have all the grunt packages (except <code>grunt-cli</code>) you have listed in your <code>.travis.yml</code> listed as <code>devDependencies</code> in my <code>package.json</code>. (I think that's preferable, so that those dependencies are only being tracked in one place.)</p>\n\n<p>I also don't have your <code>script: grunt</code> section, but that's just because I'm invoking <code>grunt test</code> from my <code>package.json</code>, i.e.:</p>\n\n<pre><code>\"scripts\": {\n  \"test\": \"grunt test\"\n},\n</code></pre>\n\n<p>Relevant excerpt from my bower.json:</p>\n\n<pre><code>\"devDependencies\": {\n  \"chai\": \"~2.3.0\",\n  \"mocha\": \"~2.1.0\"\n},\n</code></pre>\n\n<p>For reasons I have yet to determine, I found that I would get those PhantomJS timeout errors with Mocha >=2.2.0 (I specifically tested 2.2.0 and 2.2.4), so I kept Mocha to 2.1.x.</p>\n\n<p>In case it helps, <a href=\"https://github.com/eddies/home-dashi/commit/1cbe21e33ebc6d68523c1a43edde3d08154e2312\" rel=\"nofollow\">here's an actual commit</a> that implements all of the above.</p>\n"}, {"tags": [], "owner": {"reputation": 1651, "user_id": 1830407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72FXW.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/1830407/josh"}, "is_accepted": true, "score": 0, "last_activity_date": 1433269111, "creation_date": 1433269111, "answer_id": 30603633, "question_id": 29781094, "link": "https://stackoverflow.com/questions/29781094/travis-ci-builds-failing-phantom-js-timing-out-with-mocha/30603633#30603633", "title": "Travis CI builds failing - Phantom JS timing out with Mocha", "body": "<p>I ended up solving this by moving to <a href=\"https://www.npmjs.com/package/grunt-mocha%20grunt-mocha\" rel=\"nofollow\">grunt-mocha</a>. The problem remains unsolved, but since grunt-mocha is specifically made for running mocha in grunt, it seems reasonable to use it.</p>\n\n<p>Relevant commits:</p>\n\n<ul>\n<li><a href=\"https://github.com/FullScreenShenanigans/FullScreenMario/commit/1796bc4076f3268658a2077b32f997c361e60127\" rel=\"nofollow\">https://github.com/FullScreenShenanigans/FullScreenMario/commit/1796bc4076f3268658a2077b32f997c361e60127</a></li>\n<li><a href=\"https://github.com/FullScreenShenanigans/FullScreenMario/commit/0321da7fb2a6aa90ecd5354fbe5e9acfcd85f6dd\" rel=\"nofollow\">https://github.com/FullScreenShenanigans/FullScreenMario/commit/0321da7fb2a6aa90ecd5354fbe5e9acfcd85f6dd</a></li>\n</ul>\n"}], "owner": {"reputation": 1651, "user_id": 1830407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72FXW.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/1830407/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 30603633, "answer_count": 2, "score": 0, "last_activity_date": 1433269111, "creation_date": 1429643468, "question_id": 29781094, "link": "https://stackoverflow.com/questions/29781094/travis-ci-builds-failing-phantom-js-timing-out-with-mocha", "title": "Travis CI builds failing - Phantom JS timing out with Mocha", "body": "<p>I'm using Travis CI to automate unit testing for a Typescript project. Everything runs fine locally, but on Travis the following error message pops up at the end:</p>\n\n<pre><code>Running \"mocha:test\" (mocha) task\nTesting: Tests/tests.html\nWarning: PhantomJS timed out, possibly due to a missing Mocha run() call. Use --force to continue.\n</code></pre>\n\n<p><a href=\"https://travis-ci.org/FullScreenShenanigans/ChangeLinr/builds/58349376\" rel=\"nofollow\">https://travis-ci.org/FullScreenShenanigans/ChangeLinr/builds/58349376</a></p>\n\n<p>.travis.yml:</p>\n\n<pre><code>language: node_js\n\nnode_js:\n  - \"0.12\"\n\nbefore_script: \n  npm install grunt grunt-cli grunt-contrib-copy grunt-contrib-uglify grunt-contrib-clean grunt-zip\n\nscript:\n  grunt\n</code></pre>\n\n<p>Is there something I'm doing wrong here?</p>\n"}, {"tags": ["namespaces", "typescript", "naming-conventions", "packages"], "answers": [{"comments": [{"owner": {"reputation": 12444, "user_id": 2391795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MG7Lq.png?s=128&g=1", "display_name": "Vadorequest", "link": "https://stackoverflow.com/users/2391795/vadorequest"}, "edited": false, "score": 0, "creation_date": 1429689813, "post_id": 29784957, "comment_id": 47711388, "body": "Okay, so there aren&#39;t any official naming convention about it? Thanks."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 12444, "user_id": 2391795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MG7Lq.png?s=128&g=1", "display_name": "Vadorequest", "link": "https://stackoverflow.com/users/2391795/vadorequest"}, "edited": false, "score": 1, "creation_date": 1429691219, "post_id": 29784957, "comment_id": 47712280, "body": "Nope. None from the TS team."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1429658776, "creation_date": 1429658776, "answer_id": 29784957, "question_id": 29776842, "link": "https://stackoverflow.com/questions/29776842/typescript-naming-convention-for-packages-namespace-plural-or-singular/29784957#29784957", "title": "TypeScript naming convention for packages/namespace plural or singular?", "body": "<p>Its purely subjective. </p>\n\n<p>I would name it <code>Application.Models</code> if it has <code>Model</code>s.</p>\n"}], "owner": {"reputation": 12444, "user_id": 2391795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MG7Lq.png?s=128&g=1", "display_name": "Vadorequest", "link": "https://stackoverflow.com/users/2391795/vadorequest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 29784957, "answer_count": 1, "score": 1, "last_activity_date": 1429658776, "creation_date": 1429630667, "question_id": 29776842, "link": "https://stackoverflow.com/questions/29776842/typescript-naming-convention-for-packages-namespace-plural-or-singular", "title": "TypeScript naming convention for packages/namespace plural or singular?", "body": "<p>What is the naming convention for TypeScript <code>package/namespace</code> names, plural or singular? I couldn't find any reference so far.</p>\n\n<p>Example:</p>\n\n<pre><code>Application.Models\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Application.Model\n</code></pre>\n"}, {"tags": ["typescript", "decorator"], "comments": [{"owner": {"reputation": 4442, "user_id": 234110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2ZYqV.jpg?s=128&g=1", "display_name": "Anand Rockzz", "link": "https://stackoverflow.com/users/234110/anand-rockzz"}, "edited": false, "score": 0, "creation_date": 1545877475, "post_id": 29775830, "comment_id": 94717874, "body": "Note to myself :-) if you want to inject an <code>@Injectable</code> into a decorator, <a href=\"https://stackoverflow.com/a/53939076/234110\">refer</a>"}, {"owner": {"reputation": 7792, "user_id": 1691423, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YtJy0.jpg?s=128&g=1", "display_name": "vlio20", "link": "https://stackoverflow.com/users/1691423/vlio20"}, "edited": false, "score": 0, "creation_date": 1588362350, "post_id": 29775830, "comment_id": 108875648, "body": "I would suggest to take a look at the multiple examples that this project has. There are multiple decorators - some are very simple and some might be a little more tricky to understand: <a href=\"https://github.com/vlio20/utils-decorators\" rel=\"nofollow noreferrer\">github.com/vlio20/utils-decorators</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "edited": false, "score": 1, "creation_date": 1509934906, "post_id": 29825304, "comment_id": 81207700, "body": "It&#39;s a tough task getting this to compile with strict compiler settings"}, {"owner": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "edited": false, "score": 0, "creation_date": 1509938281, "post_id": 29825304, "comment_id": 81208477, "body": "In fact, this is wrong and can&#39;t compile, there needs to curly braces directly after return { value : ...}. This can even be seen from a potential source of your code - <a href=\"http://blog.wolksoftware.com/decorators-reflection-javascript-typescript\" rel=\"nofollow noreferrer\">blog.wolksoftware.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1231, "user_id": 59148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de60bb7f26eaa682b4a13528ee09005?s=128&d=identicon&r=PG", "display_name": "Erik Lieben", "link": "https://stackoverflow.com/users/59148/erik-lieben"}, "is_accepted": false, "score": 4, "last_activity_date": 1429796552, "creation_date": 1429796552, "answer_id": 29825304, "question_id": 29775830, "link": "https://stackoverflow.com/questions/29775830/how-to-implement-a-typescript-decorator/29825304#29825304", "title": "How to implement a typescript decorator?", "body": "<pre><code>class Foo {\n  @consoleLogger \n  Boo(name:string) { return \"Hello, \" + name }\n}\n</code></pre>\n\n<ul>\n<li>target: prototype of the class in the above case it's \"Foo\"</li>\n<li>propertyKey: name of the method called, in the above case \"Boo\"</li>\n<li>descriptor: description of object => contains value property, which in turn is the function itself: function(name) { return 'Hello' + name; }</li>\n</ul>\n\n<p>You could implement something that logs each call to the console:</p>\n\n<pre><code>function consoleLogger(target: Function, key:string, value:any) \n{\n  return value: (...args: any[]) =&gt; \n  {\n     var a = args.map(a =&gt; JSON.stringify(a)).join();\n     var result = value.value.apply(this, args);\n     var r = JSON.stringify(result);\n\n     console.log('called method' + key + ' with args ' + a + ' returned result ' + r);\n\n     return result;\n  }     \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "edited": false, "score": 0, "creation_date": 1432900277, "post_id": 29837695, "comment_id": 49131163, "body": "Do you know where to find a Parameter Decorator example? I&#39;ve been trying to implement one with no success <a href=\"https://github.com/Microsoft/TypeScript/issues/2249#issuecomment-106777553\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "edited": false, "score": 1, "creation_date": 1432907471, "post_id": 29837695, "comment_id": 49136226, "body": "@OweRReLoaDeD I added an example under parameter decorator that just logs out what&#39;s passed to the decorator. I&#39;m not sure if that&#39;s helpful though. I can&#39;t think of a good example at the moment."}, {"owner": {"reputation": 1404, "user_id": 40877, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/754210a55b454514d234d83c01cbb061?s=128&d=identicon&r=PG", "display_name": "arolson101", "link": "https://stackoverflow.com/users/40877/arolson101"}, "edited": false, "score": 0, "creation_date": 1439670795, "post_id": 29837695, "comment_id": 51959683, "body": "FYI I collected and tweaked this information on github: <a href=\"https://github.com/arolson101/typescript-decorators\" rel=\"nofollow noreferrer\">github.com/arolson101/typescript-decorators</a>"}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1445995853, "post_id": 29837695, "comment_id": 54556554, "body": "--experimentalDecorators flag has to be set in order for this example to work"}, {"owner": {"reputation": 1980, "user_id": 4759033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk2tt.jpg?s=128&g=1", "display_name": "Satej S", "link": "https://stackoverflow.com/users/4759033/satej-s"}, "edited": false, "score": 0, "creation_date": 1461216539, "post_id": 29837695, "comment_id": 61099672, "body": "I&#39;m slightly confused as to what <code>target</code> or the <code>prototype of the class</code> and <code>key</code> refers to, could someone please elaborate on that?"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 1980, "user_id": 4759033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk2tt.jpg?s=128&g=1", "display_name": "Satej S", "link": "https://stackoverflow.com/users/4759033/satej-s"}, "edited": false, "score": 0, "creation_date": 1461255881, "post_id": 29837695, "comment_id": 61127611, "body": "Hey @SatejS, I recommend looking up those concepts online--object keys and what prototype means. Playing around with decorators will also help a lot... doing that you can place breakpoints in the code and inspect the objects you don&#39;t understand. You can also ask a separate question on this site."}, {"owner": {"reputation": 9864, "user_id": 2693545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jxhDd.jpg?s=128&g=1", "display_name": "refactor", "link": "https://stackoverflow.com/users/2693545/refactor"}, "edited": false, "score": 0, "creation_date": 1470139926, "post_id": 29837695, "comment_id": 64816283, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">This</a> link might be usefull"}, {"owner": {"reputation": 2423, "user_id": 486516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a54285b7c6a99a39f988182056015e1?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/486516/pavel"}, "edited": false, "score": 0, "creation_date": 1475040768, "post_id": 29837695, "comment_id": 66775051, "body": "For the static method target is class constructor, not function itself."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 2423, "user_id": 486516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a54285b7c6a99a39f988182056015e1?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/486516/pavel"}, "edited": false, "score": 0, "creation_date": 1475108438, "post_id": 29837695, "comment_id": 66814949, "body": "@Pavel thanks! I clarified that statement. I can see how that was ambiguous."}, {"owner": {"reputation": 49163, "user_id": 57159, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/699a9b2caefb52530d1c872bb2932d21?s=128&d=identicon&r=PG", "display_name": "Ian Ringrose", "link": "https://stackoverflow.com/users/57159/ian-ringrose"}, "edited": false, "score": 0, "creation_date": 1483978820, "post_id": 29837695, "comment_id": 70309806, "body": "Consider adding your examples to <a href=\"https://stackoverflow.com/documentation/typescript/4592/class-decorator#t=201701091618571344254\">stackoverflow.com/documentation/typescript/4592/&hellip;</a>"}, {"owner": {"reputation": 2561, "user_id": 2243615, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9067b1f2a24f80cf4e66a17fe6889a7d?s=128&d=identicon&r=PG", "display_name": "Kiril Aleksandrov", "link": "https://stackoverflow.com/users/2243615/kiril-aleksandrov"}, "edited": false, "score": 0, "creation_date": 1560253892, "post_id": 29837695, "comment_id": 99667699, "body": "&quot;Do not use arrow syntax when setting the descriptor&#39;s value. The context of this will not be the instance&#39;s if you do.&quot; &lt;&lt;&lt;&lt; I was struggling with this issue for several hours and had no idea what is going wrong.... thanks for saving my day!!"}, {"owner": {"reputation": 1272, "user_id": 11680003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2075d3dcf4567b2c543da2b9c216ce8d?s=128&d=identicon&r=PG&f=1", "display_name": "secondimage", "link": "https://stackoverflow.com/users/11680003/secondimage"}, "edited": false, "score": 0, "creation_date": 1571218226, "post_id": 29837695, "comment_id": 103163737, "body": "@David Sherret  Thanks for the details. But one question, why decorator methods need to return descriptor in the last statement as <code>return descriptor;</code>? I&#39;m not sure what does &quot;assignable to the decorated value&quot; mean, could you give me an example?Thanks"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 1272, "user_id": 11680003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2075d3dcf4567b2c543da2b9c216ce8d?s=128&d=identicon&r=PG&f=1", "display_name": "secondimage", "link": "https://stackoverflow.com/users/11680003/secondimage"}, "edited": false, "score": 0, "creation_date": 1571236630, "post_id": 29837695, "comment_id": 103174578, "body": "@secondimage it will use the returned descriptor for the method. That allows someone to completely replace the descriptor with a new object. I believe &quot;assignable to the decorated value&quot; just means the developer should not create a new descriptor whose method is a different structure (ex. change the return type on a method descriptor to something not compatible with the original method&#39;s type)."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 416, "last_activity_date": 1582323049, "last_edit_date": 1582323049, "creation_date": 1429842390, "answer_id": 29837695, "question_id": 29775830, "link": "https://stackoverflow.com/questions/29775830/how-to-implement-a-typescript-decorator/29837695#29837695", "title": "How to implement a typescript decorator?", "body": "<p>I ended up playing around with decorators and decided to document what I figured out for anyone who wants to take advantage of this before any documentation comes out. Please feel free to edit this if you see any mistakes.</p>\n\n<h1>General Points</h1>\n\n<ul>\n<li>Decorators are called when the class is declared\u2014not when an object is instantiated.</li>\n<li>Multiple decorators can be defined on the same Class/Property/Method/Parameter.</li>\n<li>Decorators are not allowed on constructors.</li>\n</ul>\n\n<blockquote>\n  <p>A valid decorator should be:</p>\n  \n  <ol>\n  <li>Assignable to one of the Decorator types (<code>ClassDecorator | PropertyDecorator | MethodDecorator | ParameterDecorator</code>).</li>\n  <li>Return a value (in the case of class decorators and method decorator) that is assignable to the decorated value.</li>\n  </ol>\n  \n  <p><a href=\"https://github.com/Microsoft/TypeScript/issues/2249\" rel=\"noreferrer\">Reference</a></p>\n</blockquote>\n\n<hr>\n\n<h1>Method / Formal Accessor Decorator</h1>\n\n<p>Implementation parameters:</p>\n\n<ul>\n<li><code>target</code>: The prototype of the class (<code>Object</code>).</li>\n<li><code>propertyKey</code>: The name of the method (<code>string</code> | <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Symbol\" rel=\"noreferrer\"><code>symbol</code></a>).</li>\n<li><code>descriptor</code>: A <a href=\"https://github.com/Microsoft/TypeScript/blob/727b9a9ceb37c77ba5b69c452cc118a8913d9cf2/src/lib/core.d.ts#L1241\" rel=\"noreferrer\"><code>TypedPropertyDescriptor</code></a> \u2014 If you're unfamiliar with a descriptor's keys, I would recommend reading about it in <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"noreferrer\">this documentation</a> on <code>Object.defineProperty</code> (it's the third parameter).</li>\n</ul>\n\n<h2>Example - Without Arguments</h2>\n\n<p>Use:</p>\n\n<pre><code>class MyClass {\n    @log\n    myMethod(arg: string) { \n        return \"Message -- \" + arg;\n    }\n}\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>function log(target: Object, propertyKey: string, descriptor: TypedPropertyDescriptor&lt;any&gt;) {\n    const originalMethod = descriptor.value; // save a reference to the original method\n\n    // NOTE: Do not use arrow syntax here. Use a function expression in \n    // order to use the correct value of `this` in this method (see notes below)\n    descriptor.value = function(...args: any[]) {\n        // pre\n        console.log(\"The method args are: \" + JSON.stringify(args));\n        // run and store result\n        const result = originalMethod.apply(this, args);\n        // post\n        console.log(\"The return value is: \" + result);\n        // return the result of the original method (or modify it before returning)\n        return result;\n    };\n\n    return descriptor;\n}\n</code></pre>\n\n<p>Input:</p>\n\n<pre><code>new MyClass().myMethod(\"testing\");\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>The method args are: [\"testing\"]</p>\n  \n  <p>The return value is: Message -- testing</p>\n</blockquote>\n\n<p>Notes:</p>\n\n<ul>\n<li>Do not use arrow syntax when setting the descriptor's value. <a href=\"https://stackoverflow.com/q/30329832/188246\">The context of <code>this</code> will not be the instance's if you do.</a></li>\n<li>It's better to modify the original descriptor than overwriting the current one by returning a new descriptor. This allows you to use multiple decorators that edit the descriptor without overwriting what another decorator did. Doing this allows you to use something like <code>@enumerable(false)</code> and <code>@log</code> at the same time (Example: <a href=\"https://www.typescriptlang.org/Playground/#src=class%20FooBar%20%7B%0D%0A%20%20%20%20%40log%0D%0A%09%40enumerable(false)%0D%0A%20%20%20%20public%20foo(arg)%3A%20void%20%7B%0D%0A%09%09%2F%2F%20this%20code%20will%20incorrectly%20output%20%22foo%22%20because%20the%20log%20decorator%20OVERWRITES%20the%20descriptor%0D%0A%20%20%20%20%20%20%20%20for%20(var%20prop%20in%20this)%20%7B%0D%0A%09%09%09console.log(prop)%3B%0D%0A%09%09%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20log(target%3A%20Object%2C%20propertyKey%3A%20string%2C%20value%3A%20TypedPropertyDescriptor%3Cany%3E)%20%7B%0D%0A%09return%20%7B%0D%0A%20%20%20%20%20%20%20%20value%3A%20function%20(...args%3A%20any%5B%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20a%20%3D%20args.map(a%20%3D%3E%20JSON.stringify(a)).join()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20value.value.apply(this%2C%20args)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20r%20%3D%20JSON.stringify(result)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60Call%3A%20%24%7BpropertyKey%7D(%24%7Ba%7D)%20%3D%3E%20%24%7Br%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20enumerable(isEnumerable%3A%20boolean)%20%7B%0D%0A%20%20%20%20return%20(target%3A%20Object%2C%20propertyKey%3A%20string%2C%20descriptor%3A%20TypedPropertyDescriptor%3Cany%3E)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20descriptor.enumerable%20%3D%20isEnumerable%3B%0D%0A%20%20%20%20%20%20%20%20return%20descriptor%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Avar%20test%20%3D%20new%20FooBar()%3B%0D%0A%0D%0Atest.foo(%22asdf%22)%3B\" rel=\"noreferrer\">Bad</a> vs <a href=\"https://www.typescriptlang.org/Playground/#src=class%20FooBar%20%7B%0D%0A%20%20%20%20%40log%0D%0A%09%40enumerable(false)%0D%0A%20%20%20%20public%20foo(arg)%3A%20void%20%7B%0D%0A%09%09%2F%2F%20this%20code%20will%20correctly%20NOT%20output%20%22foo%22%20because%20the%20log%20decorator%20MODIFIES%20the%20descriptor%0D%0A%20%20%20%20%20%20%20%20for%20(var%20prop%20in%20this)%20%7B%0D%0A%09%09%09console.log(prop)%3B%0D%0A%09%09%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20log(target%3A%20Object%2C%20propertyKey%3A%20string%2C%20value%3A%20TypedPropertyDescriptor%3Cany%3E)%20%7B%0D%0A%09var%20originalMethod%20%3D%20value.value%3B%0D%0A%09%0D%0A%20%20%20%20value.value%20%3D%20function%20(...args%3A%20any%5B%5D)%20%7B%0D%0A%09%09var%20a%20%3D%20args.map(a%20%3D%3E%20JSON.stringify(a)).join()%3B%0D%0A%09%09var%20result%20%3D%20originalMethod.apply(this%2C%20args)%3B%0D%0A%09%09var%20r%20%3D%20JSON.stringify(result)%3B%0D%0A%09%09console.log(%60Call%3A%20%24%7BpropertyKey%7D(%24%7Ba%7D)%20%3D%3E%20%24%7Br%7D%60)%3B%0D%0A%09%09return%20result%3B%0D%0A%09%7D%3B%0D%0A%20%20%20%20%0D%0A%09return%20value%3B%0D%0A%7D%0D%0A%0D%0Afunction%20enumerable(isEnumerable%3A%20boolean)%20%7B%0D%0A%20%20%20%20return%20(target%3A%20Object%2C%20propertyKey%3A%20string%2C%20descriptor%3A%20TypedPropertyDescriptor%3Cany%3E)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20descriptor.enumerable%20%3D%20isEnumerable%3B%0D%0A%20%20%20%20%20%20%20%20return%20descriptor%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Avar%20test%20%3D%20new%20FooBar()%3B%0D%0A%0D%0Atest.foo(%22asdf%22)%3B\" rel=\"noreferrer\">Good</a>)</li>\n<li><strong>Useful</strong>: The type argument of <code>TypedPropertyDescriptor</code> can be used to restrict what method signatures (<a href=\"https://www.typescriptlang.org/Playground/#src=class%20MyClass%20%7B%0D%0A%20%20%20%20%40numberOnly%20%2F%2F%20error%0D%0A%20%20%20%20myMethod(arg%3A%20string)%20%7B%20%0D%0A%20%20%20%20%20%20%20%20return%20%22Message%20--%20%22%20%2B%20arg%3B%0D%0A%20%20%20%20%7D%0D%0A%09%0D%0A%09%40numberOnly%20%2F%2F%20ok%0D%0A%09myNumberMethod(num%3A%20number)%20%7B%0D%0A%09%09return%20num%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20numberOnly(target%3A%20Object%2C%20propertyKey%3A%20string%2C%20descriptor%3A%20TypedPropertyDescriptor%3C(num%3A%20number)%20%3D%3E%20number%3E)%20%7B%0D%0A%09console.log(&#39;This%20descriptor%20is%20only%20allowed%20on%20methods%20that%20have%20one%20parameter%20of%20type%20number%20and%20return%20a%20number.&#39;)%3B%0D%0A%20%20%20%20return%20descriptor%3B%0D%0A%7D\" rel=\"noreferrer\">Method Example</a>) or accessor signatures (<a href=\"https://www.typescriptlang.org/Playground/#src=class%20MyClass%20%7B%0D%0A%09%40numberOnly%20%2F%2F%20error%0D%0A%09get%20myString()%20%7B%0D%0A%09%09return%20%22str%22%0D%0A%09%7D%0D%0A%09%0D%0A%20%20%20%20%40numberOnly%20%2F%2F%20ok%0D%0A%20%20%20%20get%20myNumber()%20%7B%20%0D%0A%20%20%20%20%20%20%20%20return%205%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20numberOnly(target%3A%20Object%2C%20propertyKey%3A%20string%2C%20descriptor%3A%20TypedPropertyDescriptor%3Cnumber%3E)%20%7B%0D%0A%09console.log(&#39;This%20descriptor%20is%20only%20allowed%20on%20accessors%20that%20return%20a%20number.&#39;)%3B%0D%0A%20%20%20%20return%20descriptor%3B%0D%0A%7D\" rel=\"noreferrer\">Accessor Example</a>) the decorator can be put on.</li>\n</ul>\n\n<h2>Example - With Arguments (Decorator Factory)</h2>\n\n<p>When using arguments, you must declare a function with the decorator's parameters then return a function with the signature of the example without arguments.</p>\n\n<pre><code>class MyClass {\n    @enumerable(false)\n    get prop() {\n        return true;\n    }\n}\n\nfunction enumerable(isEnumerable: boolean) {\n    return (target: Object, propertyKey: string, descriptor: TypedPropertyDescriptor&lt;any&gt;) =&gt; {\n        descriptor.enumerable = isEnumerable;\n        return descriptor;\n    };\n}\n</code></pre>\n\n<hr>\n\n<h1>Static Method Decorator</h1>\n\n<p>Similar to a method decorator with some differences:</p>\n\n<ul>\n<li>Its <code>target</code> parameter is the constructor function itself and not the prototype.</li>\n<li>The descriptor is defined on the constructor function and not the prototype.</li>\n</ul>\n\n<hr>\n\n<h1>Class Decorator</h1>\n\n<pre><code>@isTestable\nclass MyClass {}\n</code></pre>\n\n<p>Implementation parameter:</p>\n\n<ul>\n<li><code>target</code>: The class the decorator is declared on (<code>TFunction extends Function</code>).</li>\n</ul>\n\n<p><a href=\"https://docs.microsoft.com/archive/blogs/typescript/announcing-typescript-1-5-beta\" rel=\"noreferrer\">Example use</a>: Using the metadata api to store information on a class.</p>\n\n<hr>\n\n<h1>Property Decorator</h1>\n\n<pre><code>class MyClass {\n    @serialize\n    name: string;\n}\n</code></pre>\n\n<p>Implementation parameters:</p>\n\n<ul>\n<li><code>target</code>: The prototype of the class (<code>Object</code>).</li>\n<li><code>propertyKey</code>: The name of the property (<code>string</code> | <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Symbol\" rel=\"noreferrer\"><code>symbol</code></a>).</li>\n</ul>\n\n<p><a href=\"https://stackoverflow.com/a/29706811/188246\">Example use</a>: Creating a <code>@serialize(\"serializedName\")</code> decorator and adding the property name to a list of properties to serialize.</p>\n\n<hr>\n\n<h1>Parameter Decorator</h1>\n\n<pre><code>class MyClass {\n    myMethod(@myDecorator myParameter: string) {}\n}\n</code></pre>\n\n<p>Implementation parameters:</p>\n\n<ul>\n<li><code>target</code>: The prototype of the class (<code>Function</code>\u2014it seems <code>Function</code> doesn't work anymore. You should use <code>any</code> or <code>Object</code> here now in order to use the decorator within any class. Or specify the class type(s) you want to restrict it to)</li>\n<li><code>propertyKey</code>: The name of the method (<code>string</code> | <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Symbol\" rel=\"noreferrer\"><code>symbol</code></a>).</li>\n<li><code>parameterIndex</code>: The index of parameter in the list of the function's parameters (<code>number</code>).</li>\n</ul>\n\n<p><a href=\"https://www.typescriptlang.org/Playground/#src=class%20MyClass%20%7B%0D%0A%20%20%20%20myMethod(%40logParam%20myParameter%3A%20string)%20%7B%7D%0D%0A%7D%0D%0A%0D%0Afunction%20logParam(target%3A%20any%2C%20propertyKey%3A%20string%20%7C%20symbol%2C%20parameterIndex%3A%20number)%20%7B%0D%0A%09console.log(target)%3B%20%20%20%20%20%20%20%20%20%2F%2F%20MyClass%20prototype%0D%0A%09console.log(propertyKey)%3B%20%20%20%20%2F%2F%20%22myMethod%22%0D%0A%09console.log(parameterIndex)%3B%20%2F%2F%200%0D%0A%7D\" rel=\"noreferrer\">Simple example</a></p>\n\n<h1>Detailed Example(s)</h1>\n\n<ul>\n<li><a href=\"https://gist.github.com/dsherret/cbe661faf7e3cfad8397\" rel=\"noreferrer\">Memoize decorator</a> - Method, Get/Set Accessor decorator example</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 36698, "user_id": 145989, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d0edf9d0f312ec47d27046845580ba4f?s=128&d=identicon&r=PG", "display_name": "Ondra \u017di\u017eka", "link": "https://stackoverflow.com/users/145989/ondra-%c5%bdi%c5%beka"}, "is_accepted": false, "score": 8, "last_activity_date": 1478057648, "last_edit_date": 1592644375, "creation_date": 1478057328, "answer_id": 40372020, "question_id": 29775830, "link": "https://stackoverflow.com/questions/29775830/how-to-implement-a-typescript-decorator/40372020#40372020", "title": "How to implement a typescript decorator?", "body": "<p>One important thing I don't see in the other answers:</p>\n<h3>Decorator factory</h3>\n<blockquote>\n<p>If we want to customize how a decorator is applied to a declaration, we can write a decorator factory. A Decorator Factory is simply a function that returns the expression that will be called by the decorator at runtime.</p>\n</blockquote>\n<pre><code>// This is a factory, returns one of ClassDecorator,\n// PropertyDecorator, MethodDecorator, ParameterDecorator\nfunction Entity(discriminator: string):  {\n    return function(target) {\n        // this is the decorator, in this case ClassDecorator.\n    }\n}\n\n@Entity(&quot;cust&quot;)\nexport class MyCustomer { ... }\n</code></pre>\n<p>Check the TypeScript handbook <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"noreferrer\">Decorators chapter</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "is_accepted": false, "score": 1, "last_activity_date": 1595431888, "last_edit_date": 1595431888, "creation_date": 1595420938, "answer_id": 63034220, "question_id": 29775830, "link": "https://stackoverflow.com/questions/29775830/how-to-implement-a-typescript-decorator/63034220#63034220", "title": "How to implement a typescript decorator?", "body": "<h2>TS decorators:</h2>\n<p>TS decorators allow extra functionality to be added on a class. The class is altered by decorators at <strong>declare time</strong>, before any instance of the class is created.</p>\n<h2>Syntax:</h2>\n<p>Decorators are declared with an <code>@</code> sign, for example <code>@metadata</code>. TS will now search for a corresponding metadata function and will automatically supply it with sevaral argument which vary on what is exactly decorated (e.g. class or class property get different arguments)</p>\n<p>These parameters are supplied in the decorator function:</p>\n<ul>\n<li>The prototype object of the class</li>\n<li>propertykey or method name</li>\n<li>PropertyDescriptor object, looks like this\n<code>{writable: true, enumerable: false, configurable: true, value: \u0192}</code></li>\n</ul>\n<p>Depending on the type of decorator 1-3 of these arguments are passed to the decorator function.</p>\n<h2>Types of decorators:</h2>\n<p>The following decorators can be applied to a class and TS will evaluate them in the following order (following summation comes from TS docs):</p>\n<ol>\n<li>Parameter Decorators, followed by Method, Accessor, or Property Decorators are applied for each instance member.</li>\n<li>Parameter Decorators, followed by Method, Accessor, or Property\nDecorators are applied for each static member.</li>\n<li>Parameter Decorators are applied for the constructor.</li>\n<li>Class Decorators are applied for the class</li>\n</ol>\n<p>The best way to understand them better is via examples. Note that these example do need significant understanding of the TS language and concepts like <code>PropertyDescriptor</code>.</p>\n<h2>Method decorators:</h2>\n<pre><code>function overwrite(\n    target: myClass,\n    propertyKey: string,\n    descriptor: PropertyDescriptor\n) {\n    console.log('I get logged when the class is declared!')\n\n    // desciptor.value refers to the actual function fo the class\n    // we are changing it to another function which straight up \n    // overrides the other function\n    descriptor.value = function () {\n        return 'newValue method overwritten'\n    }\n}\n\nfunction enhance(\n    target: myClass,\n    propertyKey: string,\n    descriptor: PropertyDescriptor\n) {\n    const oldFunc = descriptor.value;\n\n    // desciptor.value refers to the actual function fo the class\n    // we are changing it to another function which calls the old\n    // function and does some extra stuff\n    descriptor.value = function (...args: any[]) {\n        console.log('log before');\n        const returnValue = oldFunc.apply(this, args)\n        console.log('log after');\n\n        return returnValue;\n    }\n}\n\n\nclass myClass {\n\n    // here is the decorator applied\n    @overwrite\n    foo() {\n        return 'oldValue';\n    }\n\n    // here is the decorator applied\n    @enhance\n    bar() {\n        return 'oldValueBar';\n    }\n\n}\n\nconst instance =new myClass()\n\nconsole.log(instance.foo())\nconsole.log(instance.bar())\n\n// The following gets logged in this order:\n\n//I get logged when the class is declared!\n// newValue method overwritten\n// log before\n// log after\n// oldValueBar\n</code></pre>\n<h2>Property decorators:</h2>\n<pre><code>function metaData(\n    target: myClass,\n    propertyKey: string,\n    // A Property Descriptor is not provided as an argument to a property decorator due to \n    // how property decorators are initialized in TypeScript.\n) {\n\n    console.log('Execute your custom code here')\n    console.log(propertyKey)\n\n}\n\nclass myClass {\n\n    @metaData\n    foo = 5\n\n}\n\n\n// The following gets logged in this order:\n\n// Execute your custom code here\n// foo\n</code></pre>\n<h2>Class decorators (from TS docs):</h2>\n<pre><code>function seal(\n    constructor: Function,\n) {\n\n    // Object.seal() does the following:\n    // Prevents the modification of attributes of \n    // existing properties, and prevents the addition \n    // of new properties\n    Object.seal(constructor);\n    Object.seal(constructor.prototype);\n\n}\n\n@seal\nclass myClass {\n\n    bar?: any;\n    \n    foo = 5\n\n}\n \nmyClass.prototype.bar = 10;\n\n// The following error will be thrown:\n\n// Uncaught TypeError: Cannot add property bar,\n// object is not extensible\n \n</code></pre>\n<h2>Decorators and decorator factories:</h2>\n<p>decorators can be declared via decorators function or decorator factory functions. There is a difference in syntax which is best explained via an example:</p>\n<pre><code>// Returns a decorator function, we can return any function\n// based on argument if we want\nfunction decoratorFactory(arg: string) {\n    return function decorator(\n    target: myClass,\n    propertyKey: string,\n) {\n    console.log(`Log arg ${arg} in decorator factory`);\n}\n}\n\n// Define a decorator function directly\nfunction decorator(\n    target: myClass,\n    propertyKey: string,\n) {\n    console.log('Standard argument');\n}\n\nclass myClass {\n\n    // Note the parentheses and optional arguments \n    // in the decorator factory\n    @decoratorFactory('myArgument')\n    foo = 'foo';\n\n    // No parentheses or arguments\n    @decorator\n    bar = 'bar';\n\n}\n\n\n// The following gets logged in this order:\n\n// Log arg myArgument in decorator factory\n// Standard argument\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1061, "user_id": 10260399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c87b06d5c16f130459ff4e480135ecce?s=128&d=identicon&r=PG&f=1", "display_name": "MBB", "link": "https://stackoverflow.com/users/10260399/mbb"}, "is_accepted": false, "score": 0, "last_activity_date": 1598500667, "last_edit_date": 1598500667, "creation_date": 1598381012, "answer_id": 63585232, "question_id": 29775830, "link": "https://stackoverflow.com/questions/29775830/how-to-implement-a-typescript-decorator/63585232#63585232", "title": "How to implement a typescript decorator?", "body": "<p>You could also <code>decorate/enhance</code> new functionality to the original constructor in typescript(I used 3.9.7). The below snippet wraps the original constructor to add prefix for name property. This happens when the class is <code>instantiated</code> instead when the class is <code>declared</code>!</p>\n<pre><code> //Decorator function\n function Prefixer(prefix: string) { \n    return function&lt;T extends { new (...args: any[]): {name: string} }&gt;(\n      originalCtor: T\n    ) {\n      return class extends originalCtor {\n        constructor(..._: any[]) {\n          super();\n          this.name = `${prefix}.${this.name.toUpperCase()}`;        \n          console.log(this.name);       \n        }\n      };\n    };\n  }\n</code></pre>\n<p>when the class is <code>instantiated</code> the new constructor logic runs with original ctor logic -</p>\n<pre><code>  @Prefixer('Mr')\n  class Person {\n    name = 'MBB';\n  \n    constructor() {\n      console.log('original ctr logic here!');\n    }\n  }\n  \n  const pers = new Person();\n  \n  console.log(pers); //Mr.MBB\n</code></pre>\n"}], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76142, "favorite_count": 118, "accepted_answer_id": 29837695, "answer_count": 5, "score": 217, "last_activity_date": 1598500667, "creation_date": 1429628155, "last_edit_date": 1429628528, "question_id": 29775830, "link": "https://stackoverflow.com/questions/29775830/how-to-implement-a-typescript-decorator", "title": "How to implement a typescript decorator?", "body": "<p><a href=\"http://blogs.msdn.com/b/typescript/archive/2015/03/27/announcing-typescript-1-5-alpha.aspx\">TypeScript 1.5</a> now has <a href=\"https://github.com/wycats/javascript-decorators\">decorators</a>.</p>\n\n<p>Could someone provide a simple example demonstrating the proper way to implement a decorator and describe what the arguments in the possible valid decorator signatures mean?</p>\n\n<pre><code>declare type ClassDecorator = &lt;TFunction extends Function&gt;(target: TFunction) =&gt; TFunction | void;\ndeclare type PropertyDecorator = (target: Object, propertyKey: string | symbol) =&gt; void;\ndeclare type MethodDecorator = &lt;T&gt;(target: Object, propertyKey: string | symbol, descriptor: TypedPropertyDescriptor&lt;T&gt;) =&gt; TypedPropertyDescriptor&lt;T&gt; | void;\ndeclare type ParameterDecorator = (target: Function, propertyKey: string | symbol, parameterIndex: number) =&gt; void;\n</code></pre>\n\n<p>Additionally, are there any best practice considerations that should be kept in mind while implementing a decorator?</p>\n"}, {"tags": ["angularjs", "visual-studio-2012", "msbuild", "typescript", "typescript1.4"], "comments": [{"owner": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 0, "creation_date": 1429615569, "post_id": 29768797, "comment_id": 47672122, "body": "Have you verified you have installed the plugin for TypeScript support? In 2012 I think it&#39;s Web Essentials, though there could be a specific plugin for TS support."}, {"owner": {"reputation": 2924, "user_id": 3601386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6bd8da52b6332aa0eec58c767b5262fd?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/3601386/markus"}, "reply_to_user": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 0, "creation_date": 1429618310, "post_id": 29768797, "comment_id": 47674107, "body": "&quot;WebEssential 2012&quot; and the official &quot;TypeScript 1.0 Tools for Visual Studio 2012&quot; are installed..."}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1429623231, "creation_date": 1429623231, "answer_id": 29773742, "question_id": 29768797, "link": "https://stackoverflow.com/questions/29768797/how-to-use-angularjs-typescript-1-4-with-visual-studio-2012/29773742#29773742", "title": "How to use AngularJS / TypeScript 1.4 with Visual Studio 2012?", "body": "<p>TypeScript 1.4 isn't available for Visual Studio 2012.</p>\n\n<p>You need to use a different IDE to access the latest versions of TypeScript - i.e. Visual Studio 2013, Atom, WebStorm, Sublime Text, Eclipse...</p>\n"}, {"tags": [], "owner": {"reputation": 2924, "user_id": 3601386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6bd8da52b6332aa0eec58c767b5262fd?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/3601386/markus"}, "is_accepted": false, "score": 1, "last_activity_date": 1429734525, "creation_date": 1429734525, "answer_id": 29808152, "question_id": 29768797, "link": "https://stackoverflow.com/questions/29768797/how-to-use-angularjs-typescript-1-4-with-visual-studio-2012/29808152#29808152", "title": "How to use AngularJS / TypeScript 1.4 with Visual Studio 2012?", "body": "<p>If both, Visual Studio 2012 and 2013 is installed, Visual Studio 2012 can be forced to use TypeScript version 1.4 by setting <code>&lt;TypeScriptToolsVersion&gt;1.4&lt;/TypeScriptToolsVersion&gt;</code> in the csproj and by installing <em>TypeScript 1.4 for Visual Studio 2013</em> next to <em>TypeScript 1.0 for Visual Studio 2012</em>. However JSLint needs to be deactivated in WebEssentials (Tools > Options > Web Essentials > JSHint > Enable JSHint = False / required a VS restart), otherwise there are plenty errors.</p>\n\n<p>Worked for me but will not be a solution for most people, so Steve Fentons answer will remain the accepted one.</p>\n"}], "owner": {"reputation": 2924, "user_id": 3601386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6bd8da52b6332aa0eec58c767b5262fd?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/3601386/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "accepted_answer_id": 29773742, "answer_count": 2, "score": 0, "last_activity_date": 1429734525, "creation_date": 1429610105, "last_edit_date": 1495541164, "question_id": 29768797, "link": "https://stackoverflow.com/questions/29768797/how-to-use-angularjs-typescript-1-4-with-visual-studio-2012", "title": "How to use AngularJS / TypeScript 1.4 with Visual Studio 2012?", "body": "<p>I'm trying to use these <a href=\"https://www.nuget.org/packages/angularjs.TypeScript.DefinitelyTyped/\" rel=\"nofollow noreferrer\">AngularJS TS Definitions</a> in Visual Studio 2012, but unfortunately I get plenty errors (like: '=' expected.) and MSBuild is not able to compile TypeScript.</p>\n\n<p>I would love to use the TypeScript Options e.g. to compile my TS files in a single JS file (as described here: <a href=\"https://stackoverflow.com/questions/15651172/typescript-compile-to-single-file-on-save\">Typescript compile to single file on save</a>) as well as a compilation on our build server. So WebEssentials is no option for me.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The build log looks like this:</p>\n\n<pre><code>[...]\n1&gt;[...]\\jquery.d.ts(2768,34): error TS1005: Build: ',' expected.\n1&gt;[...]\\angularjs\\angular.d.ts(878,50): error TS1005: Build: ',' expected.\n1&gt;[...]\\angular.d.ts(878,57): error TS1005: Build: ',' expected.\n[...]\n</code></pre>\n\n<p>The WebEssential Compilation / Preview works fine...</p>\n"}, {"tags": ["angularjs", "typescript", "directive"], "comments": [{"owner": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 0, "creation_date": 1429614863, "post_id": 29766244, "comment_id": 47671634, "body": "Can you show us the HTML where you&#39;re using the directive?"}, {"owner": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "reply_to_user": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 1, "creation_date": 1429618906, "post_id": 29766244, "comment_id": 47674521, "body": "Updated my Q. Thank you for taking time to look at it."}], "answers": [{"tags": [], "owner": {"reputation": 1255, "user_id": 3419216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3f4Qf.jpg?s=128&g=1", "display_name": "Dibran", "link": "https://stackoverflow.com/users/3419216/dibran"}, "is_accepted": false, "score": 0, "last_activity_date": 1448018234, "creation_date": 1448018234, "answer_id": 33825395, "question_id": 29766244, "link": "https://stackoverflow.com/questions/29766244/angularjs-directive-using-typescript-to-format-input-field/33825395#33825395", "title": "AngularJS Directive using TypeScript to format input field", "body": "<p>I don't think you should use the blur and onload functionality. Angular got $formatters and $parsers for that. Look at the <a href=\"https://docs.angularjs.org/api/ng/type/ngModel.NgModelController\" rel=\"nofollow\">documentation</a>.</p>\n\n<p>With a formatter you can format the model value to a certain display text that will be used in the DOM. And with a parser you can parse the DOM's value so that your entered percentage will be a float in your model.</p>\n\n<p>Update your link method, to something like this:</p>\n\n<pre><code>ngModel.$formatters.push(toViewValue);\nngModel.$parsers.push(toModelValue);\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1889, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1448018234, "creation_date": 1429603221, "last_edit_date": 1429618707, "question_id": 29766244, "link": "https://stackoverflow.com/questions/29766244/angularjs-directive-using-typescript-to-format-input-field", "title": "AngularJS Directive using TypeScript to format input field", "body": "<p>I'm new to using angular and I'm having a hard time with writing directives. In particular I wish to write one that displays floats as percentage in the view. I would like the behaviour to be as follow: When the view loads and data is being read from the controller I want the directive to display the corresponding float-property as percentage (i.e. 0.25 -> 25%). When the user inputs an integer into the input-field I'd like it to be shown as percentage on the blur-event (i.e. 10 -> 10%). Here's my code so far:</p>\n\n<pre><code>restrict = \"A\";\nrequire = \"ngModel\";\nscope = {\n    ngModel: \"=\"\n}\n\nconstructor( /* list of dependencies */) {\n\n}\n\nlink = (scope: ng.IScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes, ngModel: ng.INgModelController /*ctrl: any*/): void =&gt; {\n    // handle linking requirements (?)   \n    element.on(\"onload\", (): void =&gt; {\n        var modelValue = ngModel.$modelValue;\n        var viewValue = this.toViewValue(modelValue);\n        ngModel.$setViewValue(viewValue);\n        ngModel.$render();\n    });\n    element.on(\"blur\", (): void =&gt; { // lambda to handle this-scope\n        var viewValue = ngModel.$viewValue;\n        viewValue = this.toViewValue(viewValue);\n        ngModel.$setViewValue(viewValue);\n        ngModel.$render();       \n    });\n}\n\nprivate toModelValue(val: string): number {\n    return 0;\n}\n\nprivate toViewValue(val: string): string {\n    var str = val.replace(\"%\",\"\").trim();\n\n    if (this.isInteger(str)) {\n        var i = parseInt(str);\n        if (i &gt;= 100) {\n            str = \"100\";\n        } \n    } else if (this.isFloat(str)) {\n        var f = parseFloat(str);\n        str = (f * 100).toString();\n    }\n    return str + \"%\";\n}\n\nprivate isInteger(val: any): boolean {\n    return val.match(/^[0-9]{1,3}$/);            \n}\n\nprivate isFloat(val: any): boolean {      \n    return val.match(/^\\d(\\.\\d{1,2})?$/);\n}\n</code></pre>\n\n<p>Here's the input-field I'm applying my directive to:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"payment-interest-rate\" class=\"col-sm-4 control-label\"&gt;&lt;/label&gt;\n    &lt;div class=\"col-sm-8\"&gt;\n        &lt;input type=\"text\" class=\"form-control\" data-percent id=\"payment-interest-rate\" name=\"paymentInterestRate\" data-ng-model=\"ctrl.economicInfo.paymentInterestRate\"\n               data-ng-model-options=\"{updateOn: 'blur'}\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And here's how I register it with my module:</p>\n\n<pre><code>.directive(\"percent\", MyApp.Core.Directives.DisplayPercentageDirective.create)\n</code></pre>\n\n<p>As you cansee I'm using TypeScript and I'm having a bit of difficulty in finding relevant examples because of this. I'm using what I believe is refered to as a Directive Factory pattern(?) The blur-event works without problem however I'm struggling to trigger the directive when the template first loads. What am I doing wrong?</p>\n\n<p>Regards Kristofer</p>\n"}, {"tags": ["javascript", "android", "angularjs", "cordova", "typescript"], "comments": [{"owner": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1429573700, "post_id": 29759767, "comment_id": 47652912, "body": "where are you defining <code>EC.Services.DataProxyService</code>"}, {"owner": {"reputation": 33, "user_id": 4812406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40c50fc90d75480538181966a0addec?s=128&d=identicon&r=PG&f=1", "display_name": "Serdj S.", "link": "https://stackoverflow.com/users/4812406/serdj-s"}, "reply_to_user": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1429581621, "post_id": 29759767, "comment_id": 47655128, "body": "In one file with other/ I added to start message example of code which I get after &quot;gulp&quot;"}, {"owner": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1429584866, "post_id": 29759767, "comment_id": 47655936, "body": "where are you defining the <code>ec.services</code> module. e.g. angular.module(&#39;ec.services&#39;, [])"}, {"owner": {"reputation": 33, "user_id": 4812406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40c50fc90d75480538181966a0addec?s=128&d=identicon&r=PG&f=1", "display_name": "Serdj S.", "link": "https://stackoverflow.com/users/4812406/serdj-s"}, "reply_to_user": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1429618178, "post_id": 29759767, "comment_id": 47674009, "body": "sorry, I made a lot of experiments with code and I lost important strings  I update post and I fixed up code"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 4815080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/260921f285d7060442e0d6b68447bd38?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4815080/pavel"}, "is_accepted": true, "score": 0, "last_activity_date": 1429623066, "creation_date": 1429623066, "answer_id": 29773667, "question_id": 29759767, "link": "https://stackoverflow.com/questions/29759767/cant-inject-service-to-controller-angularjs-cordovajs-typescript/29773667#29773667", "title": "Can&#39;t inject service to controller angularJs + CordovaJs (TypeScript)", "body": "<p>Try this</p>\n\n<pre><code>module EC {\n  export class Bootstrap {\nconstructor($scope) {\n  angular.module('EC', []);\n  angular.module('Services', []);\n\n  //Constructor for class EC.Services.DataProxyService called\n  angular.module('Services').service(\"DataProxyService\", [Services.DataProxyService]);\n\n  //Version 1\n  // It is not working. Alert doesn't call\n  angular.module('EC', ['Services']).controller(\"HomeController\", ['$scope', 'DataProxyService', Controllers.HomeController]);\n\n  //Version 2\n  //If I change previous on that\n  //it work's but I don't have access to DataProxyService\n  //angular.module('ec.controllers').controller(\"HomeController\", ['$scope', EC.Controllers.HomeController]);\n}  }}\n</code></pre>\n\n<p>Change module name to simple name like \"Service\" and \"Controller\" in *.ts files</p>\n"}], "owner": {"reputation": 33, "user_id": 4812406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40c50fc90d75480538181966a0addec?s=128&d=identicon&r=PG&f=1", "display_name": "Serdj S.", "link": "https://stackoverflow.com/users/4812406/serdj-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 1, "accepted_answer_id": 29773667, "answer_count": 1, "score": 3, "last_activity_date": 1429623066, "creation_date": 1429569971, "last_edit_date": 1429618039, "question_id": 29759767, "link": "https://stackoverflow.com/questions/29759767/cant-inject-service-to-controller-angularjs-cordovajs-typescript", "title": "Can&#39;t inject service to controller angularJs + CordovaJs (TypeScript)", "body": "<p>I have application angularJs + CordovaJs + TypeScript\nI try to inject service to controller</p>\n\n<pre><code>module EC {\nexport class Bootstrap {\nconstructor($scope) {\n  angular.module('ec', ['ec.services', 'ec.controllers']);\n  angular.module('ec.services', []);\n  angular.module('ec.controllers', []);\n\n  //Constructor for class EC.Services.DataProxyService called\n  angular.module('ec.services').factory(\"DataProxyService\", EC.Services.DataProxyService);\n\n  //Version 1\n  // It is not working. Alert doesn't call\n  angular.module('ec.controllers').controller(\"HomeController\", ['$scope', 'DataProxyService', EC.Controllers.HomeController]);\n\n  //Version 2\n  //If I change previous on that\n  //it work's but I don't have access to DataProxyService\n  //angular.module('ec.controllers').controller(\"HomeController\", ['$scope', EC.Controllers.HomeController]);\n    }\n  }\n}\n</code></pre>\n\n<p>Call this class in separate javascript file (index.js)</p>\n\n<pre><code>   var init = new EC.Bootstrap();\n</code></pre>\n\n<p>I very confused because it must work but it doesn't work on android device (mobile phone) and android emulator</p>\n\n<p>I tried to use a lot of variants but they didn't work too and anyway this case must work </p>\n\n<p>I have problem with debug this code I can't get error but simple angular piece doesn't work for version 1 and work for version 2</p>\n\n<p>UPD: 2\nI use gulp so I get next file as result:</p>\n\n<pre><code>    /// &lt;reference path=\"references.ts\" /&gt;\nvar EC;\n(function (EC) {\n    var Bootstrap = (function () {\n        function Bootstrap($scope) {\n            angular.module('ec', ['ec.services', 'ec.controllers']);\n            angular.module('ec.services', []);\n            angular.module('ec.controllers', []);\n            //Constructor for class EC.Services.DataProxyService called\n            angular.module('ec.services').factory(\"DataProxyService\", EC.Services.DataProxyService);\n            //Version 1\n            // It is not working. Alert doesn't call\n            angular.module('ec.controllers').controller(\"HomeController\", ['$scope', 'DataProxyService', EC.Controllers.HomeController]);\n            //Version 2\n            //If I change previous on that\n            //it work's but I don't have access to DataProxyService\n            //angular.module('ec.controllers').controller(\"HomeController\", ['$scope', EC.Controllers.HomeController]);\n        }\n        return Bootstrap;\n    })();\n    EC.Bootstrap = Bootstrap;\n})(EC || (EC = {}));\n//# sourceMappingURL=boot.js.map\n//// &lt;reference path=\"../scripts/typings/tsd.d.ts\" /&gt;\n//// &lt;reference path=\"../../typings/kendo.all.d.ts\" /&gt;\n//// &lt;reference path=\"../../typings/api.d.ts\" /&gt;\n//# sourceMappingURL=references.js.map\n/// &lt;reference path=\"../references.ts\" /&gt;\nvar EC;\n(function (EC) {\n    var Controllers;\n    (function (Controllers) {\n        var HomeController = (function () {\n            /*@ngInject*/\n            function HomeController($scope, dataProxyService) {\n                this.name = \"Smith\";\n                alert('HomeController');\n                alert($scope);\n                alert(dataProxyService);\n                $scope.vm = this;\n            }\n            return HomeController;\n        })();\n        Controllers.HomeController = HomeController;\n    })(Controllers = EC.Controllers || (EC.Controllers = {}));\n})(EC || (EC = {}));\n//# sourceMappingURL=home-controller.js.map\n/// &lt;reference path=\"../references.ts\" /&gt;\nvar EC;\n(function (EC) {\n    var Services;\n    (function (Services) {\n        var DataProxyService = (function () {\n            /*@ngInject*/\n            function DataProxyService() {\n                alert('DataProxyService');\n            }\n            return DataProxyService;\n        })();\n        Services.DataProxyService = DataProxyService;\n    })(Services = EC.Services || (EC.Services = {}));\n})(EC || (EC = {}));\n//# sourceMappingURL=dataProxyService.js.map\n</code></pre>\n"}, {"tags": ["json", "typescript", "deserialization"], "comments": [{"owner": {"reputation": 4378, "user_id": 646942, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/002a0cfefa98a83aec477f32fadf0aa6?s=128&d=identicon&r=PG", "display_name": "Matze", "link": "https://stackoverflow.com/users/646942/matze"}, "edited": false, "score": 0, "creation_date": 1429567936, "post_id": 29758765, "comment_id": 47650949, "body": "Since the <code>name</code> field is public, what&#180;s the <code>GetName</code> method for?"}, {"owner": {"reputation": 1071, "user_id": 4812237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0da50eeff435522a83255d57695e9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus", "link": "https://stackoverflow.com/users/4812237/klaus"}, "reply_to_user": {"reputation": 4378, "user_id": 646942, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/002a0cfefa98a83aec477f32fadf0aa6?s=128&d=identicon&r=PG", "display_name": "Matze", "link": "https://stackoverflow.com/users/646942/matze"}, "edited": false, "score": 11, "creation_date": 1429603068, "post_id": 29758765, "comment_id": 47663514, "body": "I guess you can consider it a doctored example ;) The point was to get an answer that yields a true instance of class that includes all methods as well, not just a deserialized class instance that contains only the data, and doesn&#39;t allow to invoke the declared methods."}], "answers": [{"comments": [{"owner": {"reputation": 1071, "user_id": 4812237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0da50eeff435522a83255d57695e9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus", "link": "https://stackoverflow.com/users/4812237/klaus"}, "edited": false, "score": 0, "creation_date": 1429603309, "post_id": 29759472, "comment_id": 47663651, "body": "Thank you. Both of these solutions seem a lot better than all the ones I&#39;ve found before. Gonna give them a try a little later."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 1071, "user_id": 4812237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0da50eeff435522a83255d57695e9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus", "link": "https://stackoverflow.com/users/4812237/klaus"}, "edited": false, "score": 6, "creation_date": 1429625201, "post_id": 29759472, "comment_id": 47679416, "body": "@Klaus an issue with this is if you have nested objects. For example, if <code>Foo</code> had a property that was of type <code>Bar</code>. That problem is a bit more complex..."}, {"owner": {"reputation": 1071, "user_id": 4812237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0da50eeff435522a83255d57695e9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus", "link": "https://stackoverflow.com/users/4812237/klaus"}, "edited": false, "score": 1, "creation_date": 1429625818, "post_id": 29759472, "comment_id": 47679941, "body": "Damn. Nested objects was actually another issue I was about to ask at a later point. I feel like I don&#39;t know enough about TypeScript yet to be able to properly ask that follow up question. I wouldn&#39;t mind if you&#39;d post a few key-words though that would allow me to look for solutions for the nested problem on my own though. Again, thanks already for your in depth answer above."}, {"owner": {"reputation": 2192, "user_id": 814752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/57074da821d9593faa4d77536eec1ead?s=128&d=identicon&r=PG", "display_name": "Danny Bullis", "link": "https://stackoverflow.com/users/814752/danny-bullis"}, "edited": false, "score": 0, "creation_date": 1447452518, "post_id": 29759472, "comment_id": 55177270, "body": "To support nesting, could it be as simple as making the <code>fillFromJson</code> method recursive? I.e., your null check could determine whether the current <code>json</code> argument is an Object - if so, the recursion continues: <code>this[propName] = typeof jsonObj[propName] == &#39;object&#39; ? fillFromJson(jsonObj[propName]) : jsonObj[propName]</code>. Have you tried this? I can try and see how it goes, I&#39;m just wondering if you knew of any gotchas that could save me time. Thanks!"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 2192, "user_id": 814752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/57074da821d9593faa4d77536eec1ead?s=128&d=identicon&r=PG", "display_name": "Danny Bullis", "link": "https://stackoverflow.com/users/814752/danny-bullis"}, "edited": false, "score": 0, "creation_date": 1447452913, "post_id": 29759472, "comment_id": 55177444, "body": "@DannyBullis I am wanting to come back and look at this problem in order to develop a better solution. Sometime in the future though. Until then, here&#39;s another way that does it with <a href=\"http://stackoverflow.com/a/32169241/188246\">recursion</a>. Basically, you&#39;ll need to know the type of the properties too."}, {"owner": {"reputation": 2192, "user_id": 814752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/57074da821d9593faa4d77536eec1ead?s=128&d=identicon&r=PG", "display_name": "Danny Bullis", "link": "https://stackoverflow.com/users/814752/danny-bullis"}, "edited": false, "score": 0, "creation_date": 1447453258, "post_id": 29759472, "comment_id": 55177585, "body": "@DavidSherret thanks for the quick reply - yeah, I just looked at that post - that&#39;s how I ended up here :]. I had a question about that one too, I will post it there. Thanks again"}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 85, "last_activity_date": 1429571711, "last_edit_date": 1429571711, "creation_date": 1429568520, "answer_id": 29759472, "question_id": 29758765, "link": "https://stackoverflow.com/questions/29758765/json-to-typescript-class-instance/29759472#29759472", "title": "JSON to TypeScript class instance?", "body": "<p>This question is quite broad, so I'm going to give a couple of solutions.</p>\n\n<h2>Solution 1: Helper Method</h2>\n\n<p>Here's an example of using a Helper Method that you could change to fit your needs:</p>\n\n<pre><code>class SerializationHelper {\n    static toInstance&lt;T&gt;(obj: T, json: string) : T {\n        var jsonObj = JSON.parse(json);\n\n        if (typeof obj[\"fromJSON\"] === \"function\") {\n            obj[\"fromJSON\"](jsonObj);\n        }\n        else {\n            for (var propName in jsonObj) {\n                obj[propName] = jsonObj[propName]\n            }\n        }\n\n        return obj;\n    }\n}\n</code></pre>\n\n<p>Then using it:</p>\n\n<pre><code>var json = '{\"name\": \"John Doe\"}',\n    foo = SerializationHelper.toInstance(new Foo(), json);\n\nfoo.GetName() === \"John Doe\";\n</code></pre>\n\n<p><strong>Advanced Deserialization</strong></p>\n\n<p>This could also allow for some custom deserialization by adding your own <code>fromJSON</code> method to the class (this works well with how <code>JSON.stringify</code> already uses the <code>toJSON</code> method, as will be shown):</p>\n\n<pre><code>interface IFooSerialized {\n    nameSomethingElse: string;\n}\n\nclass Foo {\n  name: string;\n  GetName(): string { return this.name }\n\n  toJSON(): IFooSerialized {\n      return {\n          nameSomethingElse: this.name\n      };\n  }\n\n  fromJSON(obj: IFooSerialized) {\n        this.name = obj.nameSomethingElse;\n  }\n}\n</code></pre>\n\n<p>Then using it:</p>\n\n<pre><code>var foo1 = new Foo();\nfoo1.name = \"John Doe\";\n\nvar json = JSON.stringify(foo1);\n\njson === '{\"nameSomethingElse\":\"John Doe\"}';\n\nvar foo2 = SerializationHelper.toInstance(new Foo(), json);\n\nfoo2.GetName() === \"John Doe\";\n</code></pre>\n\n<h2>Solution 2: Base Class</h2>\n\n<p>Another way you could do this is by creating your own base class:</p>\n\n<pre><code>class Serializable {\n    fillFromJSON(json: string) {\n        var jsonObj = JSON.parse(json);\n        for (var propName in jsonObj) {\n            this[propName] = jsonObj[propName]\n        }\n    }\n}\n\nclass Foo extends Serializable {\n    name: string;\n    GetName(): string { return this.name }\n}\n</code></pre>\n\n<p>Then using it:</p>\n\n<pre><code>var foo = new Foo();\nfoo.fillFromJSON(json);\n</code></pre>\n\n<p>There's too many different ways to implement a custom deserialization using a base class so I'll leave that up to how you want it.</p>\n"}, {"comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 4, "creation_date": 1462029897, "post_id": 35094486, "comment_id": 61470995, "body": "Unfortunately, this won&#39;t work with nested objects."}], "tags": [], "owner": {"reputation": 7746, "user_id": 1288340, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/0mBQf.jpg?s=128&g=1", "display_name": "amcdnl", "link": "https://stackoverflow.com/users/1288340/amcdnl"}, "is_accepted": false, "score": 4, "last_activity_date": 1455644672, "last_edit_date": 1455644672, "creation_date": 1454103465, "answer_id": 35094486, "question_id": 29758765, "link": "https://stackoverflow.com/questions/29758765/json-to-typescript-class-instance/35094486#35094486", "title": "JSON to TypeScript class instance?", "body": "<p>Why could you not just do something like this?</p>\n\n<pre><code>class Foo {\n  constructor(myObj){\n     Object.assign(this, myObj);\n  }\n  get name() { return this._name; }\n  set name(v) { this._name = v; }\n}\n\nlet foo = new Foo({ name: \"bat\" });\nfoo.toJSON() //=&gt; your json ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14233, "user_id": 656963, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/93d6f1f7316b66a1fcb0191b2f3553ba?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/656963/david"}, "edited": false, "score": 18, "creation_date": 1465158630, "post_id": 36986368, "comment_id": 62773032, "body": "If you want more people to use your library, I would recommend publishing on npm and fixing those typings.... with a package.json pointing to your index.d.ts file"}, {"owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "edited": false, "score": 0, "creation_date": 1594719396, "post_id": 36986368, "comment_id": 111216904, "body": "Does this library work with React?"}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "reply_to_user": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "edited": false, "score": 1, "creation_date": 1594732617, "post_id": 36986368, "comment_id": 111224213, "body": "@Keselme Yes, I myself use it in various projects where the view layer is implemented using React."}, {"owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "edited": false, "score": 0, "creation_date": 1594732797, "post_id": 36986368, "comment_id": 111224343, "body": "@JohnWeisz, I have a problem using it with React, I get an error that says <code>could not resolve detected property constructor at runtime.</code> I actually opened an issue could you take a look at it? <a href=\"https://github.com/JohnWeisz/TypedJSON/issues/130\" rel=\"nofollow noreferrer\">github.com/JohnWeisz/TypedJSON/issues/130</a>"}], "tags": [], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "is_accepted": false, "score": 19, "last_activity_date": 1465221889, "last_edit_date": 1465221889, "creation_date": 1462203700, "answer_id": 36986368, "question_id": 29758765, "link": "https://stackoverflow.com/questions/29758765/json-to-typescript-class-instance/36986368#36986368", "title": "JSON to TypeScript class instance?", "body": "<blockquote>\n  <p>What is actually the most robust and elegant automated solution for deserializing JSON to TypeScript runtime class instances?</p>\n</blockquote>\n\n<p>Using <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Decorators.md#property-decorators\">property decorators</a> with <a href=\"https://github.com/rbuckton/ReflectDecorators\">ReflectDecorators</a> to record runtime-accessible type information that can be used during a deserialization process provides a <em>surprisingly</em> clean and widely adaptable approach, that also fits into existing code beautifully. It is also fully automatable, and works for nested objects as well.</p>\n\n<p>An implementation of this idea is <a href=\"https://github.com/JohnWhiteTB/TypedJSON\">TypedJSON</a>, which I created precisely for this task:</p>\n\n<pre><code>@JsonObject\nclass Foo {\n    @JsonMember\n    name: string;\n\n    getName(): string { return this.name };\n}\n</code></pre>\n\n<pre class=\"lang-auto prettyprint-override\"><code>var foo = TypedJSON.parse('{\"name\": \"John Doe\"}', Foo);\n\nfoo instanceof Foo; // true\nfoo.getName(); // \"John Doe\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47894, "user_id": 3433751, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a81372741efcd00e2a45cbc134b78ab0?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Breneli&#232;re", "link": "https://stackoverflow.com/users/3433751/anthony-breneli%c3%a8re"}, "is_accepted": false, "score": -2, "last_activity_date": 1481300011, "last_edit_date": 1495541910, "creation_date": 1481222435, "answer_id": 41046591, "question_id": 29758765, "link": "https://stackoverflow.com/questions/29758765/json-to-typescript-class-instance/41046591#41046591", "title": "JSON to TypeScript class instance?", "body": "<p>The best solution I found when dealing with Typescript classes and json objects: add a constructor in your Typescript class that takes the json data as parameter. In that constructor you extend your json object with jQuery, like this: $.extend( this, jsonData). $.extend allows keeping the javascript prototypes while adding the json object's properties.</p>\n\n<pre><code>export class Foo\n{\n    Name: string;\n    getName(): string { return this.Name };\n\n    constructor( jsonFoo: any )\n    {\n        $.extend( this, jsonFoo);\n    }\n}\n</code></pre>\n\n<p>In your ajax callback, translate your jsons in a your typescript object like this:</p>\n\n<pre><code>onNewFoo( jsonFoos : any[] )\n{\n  let receviedFoos = $.map( jsonFoos, (json) =&gt; { return new Foo( json ); } );\n\n  // then call a method:\n  let firstFooName = receviedFoos[0].GetName();\n}\n</code></pre>\n\n<p>If you don't add the constructor, juste call in your ajax callback:</p>\n\n<pre><code>let newFoo = new Foo();\n$.extend( newFoo, jsonData);\nlet name = newFoo.GetName()\n</code></pre>\n\n<p>...but the constructor will be useful if you want to convert the children json object too. See my detailed answer <a href=\"https://stackoverflow.com/questions/22875636/how-do-i-cast-a-json-object-to-a-typescript-class/41046474#41046474\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 806, "user_id": 1045789, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7f43d10e05f3e393f9d39bc8cae15f1?s=128&d=identicon&r=PG", "display_name": "Marcello", "link": "https://stackoverflow.com/users/1045789/marcello"}, "edited": false, "score": 3, "creation_date": 1501070450, "post_id": 41153231, "comment_id": 77614263, "body": "In case the default constructor is missing on <code>Foo</code>, the target instance can be created through <code>Object.create(Foo.prototype)</code>, bypassing the constructor altogether."}, {"owner": {"reputation": 733, "user_id": 1069610, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6916df031e17a7b1318d944e633d8344?s=128&d=identicon&r=PG", "display_name": "jzqa", "link": "https://stackoverflow.com/users/1069610/jzqa"}, "edited": false, "score": 22, "creation_date": 1526796407, "post_id": 41153231, "comment_id": 87878556, "body": "Does not work for nested objects"}, {"owner": {"reputation": 1251, "user_id": 413306, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/82aca83b6436864034c2f513c9eaff6c?s=128&d=identicon&r=PG", "display_name": "Ayyappa", "link": "https://stackoverflow.com/users/413306/ayyappa"}, "reply_to_user": {"reputation": 733, "user_id": 1069610, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6916df031e17a7b1318d944e633d8344?s=128&d=identicon&r=PG", "display_name": "jzqa", "link": "https://stackoverflow.com/users/1069610/jzqa"}, "edited": false, "score": 0, "creation_date": 1592666540, "post_id": 41153231, "comment_id": 110509257, "body": "@jzqa Can you give an example where it fails? I see its copying fine."}], "tags": [], "owner": {"reputation": 761, "user_id": 3513162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6856f74f180147929042c35913eb093?s=128&d=identicon&r=PG&f=1", "display_name": "Hugo Leao", "link": "https://stackoverflow.com/users/3513162/hugo-leao"}, "is_accepted": false, "score": 55, "last_activity_date": 1481839060, "last_edit_date": 1481839060, "creation_date": 1481753972, "answer_id": 41153231, "question_id": 29758765, "link": "https://stackoverflow.com/questions/29758765/json-to-typescript-class-instance/41153231#41153231", "title": "JSON to TypeScript class instance?", "body": "<p>You can now use <code>Object.assign(target, ...sources)</code>. Following your example, you could use it like this:</p>\n\n<pre><code>class Foo {\n  name: string;\n  getName(): string { return this.name };\n}\n\nlet fooJson: string = '{\"name\": \"John Doe\"}';\nlet foo: Foo = Object.assign(new Foo(), JSON.parse(fooJson));\n\nconsole.log(foo.getName()); //returns John Doe\n</code></pre>\n\n<p><code>Object.assign</code> is part of <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-object.assign\" rel=\"noreferrer\">ECMAScript 2015</a> and is currently available in most modern browsers.</p>\n"}], "owner": {"reputation": 1071, "user_id": 4812237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0da50eeff435522a83255d57695e9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus", "link": "https://stackoverflow.com/users/4812237/klaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103794, "favorite_count": 46, "closed_date": 1482118300, "answer_count": 5, "score": 107, "last_activity_date": 1481839060, "creation_date": 1429565391, "last_edit_date": 1477657347, "question_id": 29758765, "link": "https://stackoverflow.com/questions/29758765/json-to-typescript-class-instance", "closed_reason": "Duplicate", "title": "JSON to TypeScript class instance?", "body": "<p>I've done quite some research, but I'm not totally satisfied with what I found. Just to be sure here's my question:\nWhat is actually the most robust and elegant automated solution for deserializing JSON to TypeScript runtime class instances?</p>\n\n<p>Say I got this class:</p>\n\n<pre><code>class Foo {\n  name: string;\n  GetName(): string { return this.name };\n}\n</code></pre>\n\n<p>And say I got this JSON string for deserialization:</p>\n\n<pre><code>{\"name\": \"John Doe\"}\n</code></pre>\n\n<p>What's the best and most maintainable solution for getting an instance of a Foo class with the name set to \"John Doe\" and the method GetName() to work? I'm asking very specifically because I know it's easy to deserialize to a pure data-object. I'm wondering if it's possible to get a class instance with working methods, without having to do any manual parsing or any manual data copying. If a fully automated solution isn't possible, what's the next best solution?</p>\n"}, {"tags": ["javascript", "typescript", "gulp", "mocha.js", "gulp-watch"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 3403238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6173c24e8574561509cd823620edfd?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hourlier", "link": "https://stackoverflow.com/users/3403238/thomas-hourlier"}, "is_accepted": true, "score": 0, "last_activity_date": 1429558930, "creation_date": 1429558930, "answer_id": 29756925, "question_id": 29755219, "link": "https://stackoverflow.com/questions/29755219/gulp-tasks-working-alone-but-not-in-watch-mode/29756925#29756925", "title": "Gulp tasks working alone but not in watch mode", "body": "<p>All right, I find the problem.</p>\n\n<p>I use mockery in my unit tests and I forget to disable it after some tests. I just add in my test files :</p>\n\n<pre><code> afterEach(function() {\n    mockery.disable();\n });\n</code></pre>\n\n<p>Have a good day.\nThomas</p>\n"}], "owner": {"reputation": 56, "user_id": 3403238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6173c24e8574561509cd823620edfd?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hourlier", "link": "https://stackoverflow.com/users/3403238/thomas-hourlier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "accepted_answer_id": 29756925, "answer_count": 1, "score": 0, "last_activity_date": 1498512251, "creation_date": 1429553207, "last_edit_date": 1498512251, "question_id": 29755219, "link": "https://stackoverflow.com/questions/29755219/gulp-tasks-working-alone-but-not-in-watch-mode", "title": "Gulp tasks working alone but not in watch mode", "body": "<p>I am developing a CLI tool running on node.js. I am trying to setup my environment for tdd but I have difficulties to do it with gulp.</p>\n\n<p>All my 'standalone' tasks from gulp work.\nHere they are:</p>\n\n<p><strong>Build task:</strong></p>\n\n<pre><code>var tsProject = ts.createProject({\n    declarationFiles: true,\n    noEmitOnError: true,\n    module: 'commonjs',\n    target: 'es5',\n    sortOutput: true,\n    typescript: require('typescript') //usefull during typescript 1.5 alpha\n});\n\ngulp.task('build', function() {\n    var tsResult = gulp.src([\n       PATHS.lib + '/**/*.ts'\n    ])\n    .pipe(sourcemaps.init())\n    .pipe(ts(tsProject));\n\n    return merge([ // Merge the two output streams, so this task is finished when the IO of both operations are done.\n        tsResult.dts.pipe(gulp.dest(PATHS.build + '/definitions')),\n        tsResult.js\n        .pipe(sourcemaps.write())\n        .pipe(gulp.dest(PATHS.build + '/js'))\n    ]);\n});\n</code></pre>\n\n<p><strong>Test task:</strong></p>\n\n<pre><code>gulp.task('test', ['build'], function () {\n    return gulp.src(PATHS.test + '/**/*.js', {read: false})\n    .pipe(mocha({\n        reporter: 'spec',\n        globals: {\n            should: require('should'),\n            sinon: require('sinon'),\n            mockery: require('mockery')\n        }\n    }))\n    .on('error', gutil.log);\n});\n</code></pre>\n\n<p>As you can see I have one task which build my typescript files into es5 compatible js. And another task that run my tests with the precedent build.</p>\n\n<p>If I run them alone. It works.</p>\n\n<p>I have tried to add a watch mode: </p>\n\n<p><strong>build:watch:</strong></p>\n\n<pre><code>gulp.task('build:watch', ['build'], function() {\n   gulp.watch([\n       PATHS.lib + '/**/*.ts'\n   ], ['build']);\n});\n</code></pre>\n\n<p><strong>test:watch:</strong></p>\n\n<pre><code>gulp.task('test:watch', ['test'], function () {\n    gulp.watch([\n       PATHS.lib + '/**/*.ts',\n       PATHS.test + '/**/*.js'\n    ], ['test']);\n});\n</code></pre>\n\n<p><strong>build:watch</strong> works. Every time I edit a typescript file, the build task is triggered and rebuild my project. (It's not really relevant here because the test task trigger build. It's just to say that this watch mode works)</p>\n\n<p><strong>test:watch</strong> <em>doesn't work</em>. The first iteration (triggered by the task dependencie) work, but when I edit a typescript file or a test file, I got this error:</p>\n\n<pre><code>{ [TypeError: Cannot read property 'defaultEncoding' of undefined]\n  domain:\n   { domain: null,\n     _events: { error: [Function: handleException] },\n     _maxListeners: undefined,\n     members: [] },\n  domainThrown: true,\n  name: 'TypeError',\n  message: 'Cannot read property \\'defaultEncoding\\' of undefined',\n  stack: 'TypeError: Cannot read property \\'defaultEncoding\\' of undefined\\n    at DestroyableTransform.Writable.write (/Users/thomashourlier/Documents/Work/jsProjects/hawker/node_modules/gulp/node_modules/vinyl-fs/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js:186:21)\\n    at Glob.&lt;anonymous&gt; (/Users/thomashourlier/Documents/Work/jsProjects/hawker/node_modules/gulp/node_modules/vinyl-fs/node_modules/glob-stream/index.js:44:14)\\n    at Glob.emit (events.js:107:17)\\n    at Glob._emitMatch (/Users/thomashourlier/Documents/Work/jsProjects/hawker/node_modules/gulp/node_modules/vinyl-fs/node_modules/glob-stream/node_modules/glob/glob.js:457:8)\\n    at Glob._processReaddir2 (/Users/thomashourlier/Documents/Work/jsProjects/hawker/node_modules/gulp/node_modules/vinyl-fs/node_modules/glob-stream/node_modules/glob/glob.js:405:12)\\n    at /Users/thomashourlier/Documents/Work/jsProjects/hawker/node_modules/gulp/node_modules/vinyl-fs/node_modules/glob-stream/node_modules/glob/glob.js:345:17\\n    at RES (/Users/thomashourlier/Documents/Work/jsProjects/hawker/node_modules/gulp/node_modules/vinyl-fs/node_modules/glob-stream/node_modules/glob/node_modules/inflight/inflight.js:23:14)\\n    at /Users/thomashourlier/Documents/Work/jsProjects/hawker/node_modules/gulp/node_modules/vinyl-fs/node_modules/glob-stream/node_modules/glob/node_modules/inflight/inflight.js:30:13\\n    at process._tickDomainCallback (node.js:381:11)',\n  showStack: true,\n  showProperties: true,\n  plugin: 'gulp-mocha' }\n</code></pre>\n\n<p>And if you want, here the gulp stack :</p>\n\n<pre><code>[10:58:24] Using gulpfile ~/Documents/Work/jsProjects/hawker/gulpfile.js\n[10:58:24] Starting 'build'...\n[10:58:25] Finished 'build' after 1.01 s\n[10:58:25] Starting 'test'...\n\n\n  Hawker\n    \u2713 should get the Logger\n    \u2713 should get the Parser\n    \u2713 should define a file loader\n    \u2713 should define a url loader\n    \u2713 should launch hawker\n\n  FileLoader\n    \u2713 should be defined\n    \u2713 should get a configuration file\n\n  Parser\n    \u2713 should be defined\n    \u2713 should parse configuration file\n\n\n  9 passing (24ms)\n\n[10:58:26] Finished 'test' after 98 ms\n[10:58:26] Starting 'test:watch'...\n[10:58:26] Finished 'test:watch' after 14 ms\n[10:58:28] Starting 'build'...\n[10:58:28] { [TypeError: Cannot read property 'defaultEncoding' of undefined] ...\n</code></pre>\n\n<p>Do you have any suggestion?</p>\n"}, {"tags": ["typescript", "proj"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 1, "creation_date": 1429543915, "post_id": 29748519, "comment_id": 47636400, "body": "I&#39;m looking through the documentation of <code>proj4</code> and I don&#39;t see anywhere that <code>new proj4(&quot;some string&quot;)</code> is called. I don&#39;t think it&#39;s necessary by looking at <a href=\"https://github.com/proj4js/proj4js/blob/master/lib/core.js\" rel=\"nofollow noreferrer\">the source</a> either. You can define <code>proj4</code> as a function and then create a <code>proj4</code> module with the other functions like <code>defs</code> and <code>transform</code>."}, {"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1429545418, "post_id": 29748519, "comment_id": 47637521, "body": "Removed constructor.  Can you demonstrate?  <a href=\"https://gist.github.com/ca0v/2e3da4ce0c7178f102f1\" rel=\"nofollow noreferrer\">gist.github.com/ca0v/2e3da4ce0c7178f102f1</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10969, "user_id": 1523814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263b6f605379925111266939ee054d4?s=128&d=identicon&r=PG", "display_name": "Dick van den Brink", "link": "https://stackoverflow.com/users/1523814/dick-van-den-brink"}, "is_accepted": true, "score": 1, "last_activity_date": 1429548382, "creation_date": 1429548382, "answer_id": 29753705, "question_id": 29748519, "link": "https://stackoverflow.com/questions/29748519/trying-to-create-a-typescript-definition-for-proj4-how-to-declare-anonymous-sta/29753705#29753705", "title": "Trying to create a typescript definition for proj4, how to declare anonymous static?", "body": "<p>Are you looking for something like below?\nWhen you declare a function and a Module with the same name (the function needs the be declared before the module or you will get an error) they merge.</p>\n\n<p>Below is the code you had with some small changes (and I removed some functions).</p>\n\n<pre><code>interface Item {\n    forward: (p: Point) =&gt; Point;\n    inverse: (p: Point) =&gt; Point;\n}\nfunction Proj(a, b): Item {\n    return null;\n}\nmodule Proj {\n    export function defs(name: string): any {\n        return null\n    }\n}\n\nProj.defs(\"\");\nProj(1 ,3).forward(null);\n</code></pre>\n"}], "owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 29753705, "answer_count": 1, "score": 0, "last_activity_date": 1429548382, "creation_date": 1429534575, "last_edit_date": 1429545257, "question_id": 29748519, "link": "https://stackoverflow.com/questions/29748519/trying-to-create-a-typescript-definition-for-proj4-how-to-declare-anonymous-sta", "title": "Trying to create a typescript definition for proj4, how to declare anonymous static?", "body": "<p>The transormer method below should actually be anonymous but that is not allowed in typescript:</p>\n\n<pre><code>class Proj {\n    static (a, b): {\n        forward: (p: Point) =&gt; Point;\n        inverse: (p: Point) =&gt; Point;\n    };\n    static defs(name: string): any;\n    static defs(name: string, def: string): void;\n    static transform(from: any, to: any, pt: Point);\n    static parse(sr: string): any;\n}\n</code></pre>\n\n<p>So how can this be defined such that the following is possible?</p>\n\n<pre><code>import proj = require(\"proj\");\nproj(\"EPSG:3857\", \"EPSG:4326\").forward([0,0]);\n</code></pre>\n"}, {"tags": ["typescript", "webpack"], "comments": [{"owner": {"reputation": 16259, "user_id": 2204722, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IQoJu.jpg?s=128&g=1", "display_name": "Omri Aharon", "link": "https://stackoverflow.com/users/2204722/omri-aharon"}, "edited": false, "score": 0, "creation_date": 1429534998, "post_id": 29748118, "comment_id": 47629558, "body": "Maybe because <code>testi.d.ts</code> is empty ? What happens if you put something inside just for testing, like <code>interface test { }</code> ?"}, {"owner": {"reputation": 1521, "user_id": 1233630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350c90a01abfdd92386beed7bf723e88?s=128&d=identicon&r=PG", "display_name": "Lior", "link": "https://stackoverflow.com/users/1233630/lior"}, "edited": false, "score": 0, "creation_date": 1429536196, "post_id": 29748118, "comment_id": 47630493, "body": "As the OP wrote, the contents of the <code>d.ts</code> file don&#39;t matter. We&#39;ve also tested a simple interface like you have suggested."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1429536374, "post_id": 29748118, "comment_id": 47630638, "body": "<a href=\"https://github.com/jbrantly/ts-loader/issues/4\" rel=\"nofollow noreferrer\">github.com/jbrantly/ts-loader/issues/4</a>? What version of ts-loader do you use?"}, {"owner": {"reputation": 1521, "user_id": 1233630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350c90a01abfdd92386beed7bf723e88?s=128&d=identicon&r=PG", "display_name": "Lior", "link": "https://stackoverflow.com/users/1233630/lior"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1429537926, "post_id": 29748118, "comment_id": 47631856, "body": "@CodeCaster We&#39;re using 0.2.3 (A similar error occurs in 0.3.3), but the issue in the link seems to have nothing to do with the issue presented in this question. The contents of the <code>d.ts</code> file do not matter. They don&#39;t. It&#39;s actually empty, you can see in the link to the OP&#39;s repo."}], "answers": [{"tags": [], "owner": {"reputation": 531, "user_id": 1440145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfab59f9b2d3e7f2cfbe6f0927cce2e0?s=128&d=identicon&r=PG", "display_name": "James Brantly", "link": "https://stackoverflow.com/users/1440145/james-brantly"}, "is_accepted": true, "score": 2, "last_activity_date": 1429583582, "creation_date": 1429583582, "answer_id": 29761856, "question_id": 29748118, "link": "https://stackoverflow.com/questions/29748118/typeerror-cannot-call-method-charcodeat-of-undefined/29761856#29761856", "title": "TypeError: Cannot call method &#39;charCodeAt&#39; of undefined", "body": "<p>This was an issue where ts-loader was pulling in TypeScript 1.5 which had breaking changes instead of sticking with TypeScript 1.4. I've pushed out a new version (0.3.4) that should take care of this. Sorry for the problem.</p>\n"}], "owner": {"reputation": 1232, "user_id": 1734937, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3b4bf84c93cdd78da93e4eff32035906?s=128&d=identicon&r=PG", "display_name": "Ravit", "link": "https://stackoverflow.com/users/1734937/ravit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2354, "favorite_count": 3, "accepted_answer_id": 29761856, "answer_count": 1, "score": 10, "last_activity_date": 1429583582, "creation_date": 1429533452, "last_edit_date": 1429535803, "question_id": 29748118, "link": "https://stackoverflow.com/questions/29748118/typeerror-cannot-call-method-charcodeat-of-undefined", "title": "TypeError: Cannot call method &#39;charCodeAt&#39; of undefined", "body": "<p>I created a bare project with webpack with only one loader, <a href=\"https://github.com/jbrantly/ts-loader\">ts-loader</a>. Webpack is failing due to the following error:</p>\n\n<pre><code>ERROR in ./app.ts\nModule build failed: TypeError: Cannot call method 'charCodeAt' of undefined\n    at getRootLength (/home/ravioli/IdeaProjects/dummyWebpack/node_modules/ts-loader/node_modules/typescript/bin/typescript.js:997:18)\n    at Object.isRootedDiskPath (/home/ravioli/IdeaProjects/dummyWebpack/node_modules/ts-loader/node_modules/typescript/bin/typescript.js:1051:16)\n    at rootReferencePath (/home/ravioli/IdeaProjects/dummyWebpack/node_modules/ts-loader/index.js:72:23)\n    at /home/ravioli/IdeaProjects/dummyWebpack/node_modules/ts-loader/index.js:87:93\n    at Array.map (native)\n    at ensureDependencies (/home/ravioli/IdeaProjects/dummyWebpack/node_modules/ts-loader/index.js:87:35)\n    at Object.loader (/home/ravioli/IdeaProjects/dummyWebpack/node_modules/ts-loader/index.js:103:5)\n</code></pre>\n\n<p>When tested on vanilla Javascript files Webpack runs as expected. \nThe error occurs when working with Typescript files and the ts-loader, where the origin of the error is (as you can see in the stack).</p>\n\n<p>Problem solves once removing the following line:\n<code>///&lt;reference path=\"testi.d.ts\" /&gt;</code>\n(The content of the file does not affect the error - I've checked).</p>\n\n<p>Here is a link to the example project, run <code>webpack</code> from the src_ts folder:\n<a href=\"https://github.com/ravitb/dummyWebpack\">https://github.com/ravitb/dummyWebpack</a></p>\n\n<p>What am I missing here?!                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1429484241, "post_id": 29736786, "comment_id": 47606913, "body": "Please define the &quot;right&quot; term."}, {"owner": {"reputation": 8672, "user_id": 1768008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/110a4869ccf97041d884164cc36c36b6?s=128&d=identicon&r=PG", "display_name": "wonderful world", "link": "https://stackoverflow.com/users/1768008/wonderful-world"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1429484551, "post_id": 29736786, "comment_id": 47606991, "body": "What I meant by &#39;right&#39; is to use language features rather than a framework feature so I can avoid the framework dependency. With that I don&#39;t have to worry about upgrading the framework when a new feature comes out."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1429484629, "post_id": 29736786, "comment_id": 47607012, "body": "If that works for <b>you</b> - use it. If it does not - do not."}, {"owner": {"reputation": 1574, "user_id": 4685664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ik57z.png?s=128&g=1", "display_name": "Norman Breau", "link": "https://stackoverflow.com/users/4685664/norman-breau"}, "edited": false, "score": 0, "creation_date": 1429484758, "post_id": 29736786, "comment_id": 47607039, "body": "<code>class</code> is a reserved keyword in JavaScript. But it&#39;s not used yet. ES6 has defined classes, but I suspect that browsers will take their time to implement them. Whether you should use native JavaScript, or use a dialect of JavaScript such as TypeScript is really personal preference."}], "answers": [{"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1429485134, "post_id": 29736973, "comment_id": 47607125, "body": "Worth to mention that the current stable version of TS does not support most of ES2015 features. Apart of that +1"}, {"owner": {"reputation": 8672, "user_id": 1768008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/110a4869ccf97041d884164cc36c36b6?s=128&d=identicon&r=PG", "display_name": "wonderful world", "link": "https://stackoverflow.com/users/1768008/wonderful-world"}, "edited": false, "score": 0, "creation_date": 1429485486, "post_id": 29736973, "comment_id": 47607195, "body": "I assume from your answer that the type safety is not going to be supported in JavaScript in the future, so the using JavaScript Vs TypeScript is purely based on type safety."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1429488346, "post_id": 29736973, "comment_id": 47607872, "body": "It might be supported in ES7+. But there is no concrete work on that."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 8, "last_activity_date": 1429485023, "creation_date": 1429485023, "answer_id": 29736973, "question_id": 29736786, "link": "https://stackoverflow.com/questions/29736786/class-in-javascript-vs-typescript/29736973#29736973", "title": "class in JavaScript Vs Typescript", "body": "<blockquote>\n  <p>My question is, the right approach to develop JavaScript applications FOR FUTURE is to take advantage of (a) the Object Oriented features in JavaScript and the features that will be availablein EMACScript 7.0 or (b) use libraries like TypeScript</p>\n</blockquote>\n\n<p>Either is fine. Depends upon if you want <em>type safety</em>. </p>\n\n<p>If not there is stuff like <code>babeljs</code>. <a href=\"https://babeljs.io/\">https://babeljs.io/</a></p>\n\n<p>If yes then use <code>typescript</code> <a href=\"http://www.typescriptlang.org/\">http://www.typescriptlang.org/</a></p>\n"}], "owner": {"reputation": 8672, "user_id": 1768008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/110a4869ccf97041d884164cc36c36b6?s=128&d=identicon&r=PG", "display_name": "wonderful world", "link": "https://stackoverflow.com/users/1768008/wonderful-world"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 0, "accepted_answer_id": 29736973, "answer_count": 1, "score": 4, "last_activity_date": 1429485023, "creation_date": 1429483697, "question_id": 29736786, "link": "https://stackoverflow.com/questions/29736786/class-in-javascript-vs-typescript", "title": "class in JavaScript Vs Typescript", "body": "<p>I read on this ECMAScript <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\" rel=\"nofollow\">page</a> that 'class' is part of JavaScript. On this page about <a href=\"http://www.typescriptlang.org/Handbook\" rel=\"nofollow\">TypeScript</a>, I see the 'class' is available in Typescript too.</p>\n\n<p>My question is, the right approach to develop JavaScript applications FOR FUTURE is to take advantage of (a) the Object Oriented features in JavaScript and the features that will be availablein EMACScript 7.0 or (b) use libraries like TypeScript</p>\n"}, {"tags": ["javascript", "html", "canvas", "typescript"], "comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 1, "creation_date": 1429465128, "post_id": 29732995, "comment_id": 47600011, "body": "The solution would be complex, but the basic response is that JavaScript is single-threaded and runs on the UI thread; so while any code is running, nothing new will display. Most JavaScript logic can run very quickly so this isn&#39;t an issue, but the Mandelbrot set would probably be a candidate for a setTimeout-based solution, or web workers (Web Workers are pretty complex)"}, {"owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "edited": false, "score": 1, "creation_date": 1429466937, "post_id": 29732995, "comment_id": 47600713, "body": "the row that calls the setTimeout also executes the handler, you could for example wrap the handler(this, i) in a function or make handler(this, i) return a function."}, {"owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "reply_to_user": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "edited": false, "score": 0, "creation_date": 1429467410, "post_id": 29732995, "comment_id": 47600896, "body": "@ekuusela Thank you. I&#39;ve applied your function wrapping idea, which now yields no output. Sounds like this feature might just have do go. JS, you&#39;ve done it again."}, {"owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "edited": false, "score": 1, "creation_date": 1429467669, "post_id": 29732995, "comment_id": 47600999, "body": "Try returning a function from the handler instead? I think i now always has the same value when the handler executes. (Don&#39;t make functions within loops)"}, {"owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "reply_to_user": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "edited": false, "score": 0, "creation_date": 1429467790, "post_id": 29732995, "comment_id": 47601042, "body": "@ekuusela Sorry, nut how do you return a function in JS?"}, {"owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "edited": false, "score": 1, "creation_date": 1429468199, "post_id": 29732995, "comment_id": 47601149, "body": "<code>var handler = function(...) { return function() {...}; };</code>"}, {"owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "reply_to_user": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "edited": false, "score": 0, "creation_date": 1429468270, "post_id": 29732995, "comment_id": 47601181, "body": "@ekuusela Whoa! You are genius! That totally worked! Thank you, thank you, thankyou thankyou thankyouthankyou..."}], "answers": [{"comments": [{"owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "edited": false, "score": 0, "creation_date": 1429463740, "post_id": 29733060, "comment_id": 47599464, "body": "I gave that a shot, and it didn&#39;t work, and crushed my CPU. I updated my question to reflect that attempt."}, {"owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "reply_to_user": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "edited": false, "score": 0, "creation_date": 1429464282, "post_id": 29733060, "comment_id": 47599686, "body": "I&#39;ve updated my answer, did you try something like that, i.e. the entire calculation and drawing of a single row in the same async function? You could also try requestAnimationFrame to lessen the impact on CPU"}, {"owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "edited": false, "score": 0, "creation_date": 1429464553, "post_id": 29733060, "comment_id": 47599810, "body": "I just gave that a shot, and I still end up with the same result. Actually, it is a bit slower than without the <code>setTimeout()</code>, as a result of the function call overhead. :("}, {"owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "reply_to_user": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "edited": false, "score": 0, "creation_date": 1429464690, "post_id": 29733060, "comment_id": 47599858, "body": "Hmm, the picture comes up all at once at the end? You could try specifying the dirty parameters as described here <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/&hellip;</a>"}, {"owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "reply_to_user": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "edited": false, "score": 0, "creation_date": 1429464891, "post_id": 29733060, "comment_id": 47599918, "body": "Did you use my code example or the one commented out in your post? My one has different part wrapped in the timeout callback"}, {"owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "edited": false, "score": 0, "creation_date": 1429465672, "post_id": 29733060, "comment_id": 47600225, "body": "It is more like the latest update you have, with the separated callback function."}, {"owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "edited": false, "score": 0, "creation_date": 1429466210, "post_id": 29733060, "comment_id": 47600452, "body": "Updated, as requested."}], "tags": [], "owner": {"reputation": 4670, "user_id": 1630906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959f4587c48fb5abeb67c81440cc2bd4?s=128&d=identicon&r=PG", "display_name": "ekuusela", "link": "https://stackoverflow.com/users/1630906/ekuusela"}, "is_accepted": true, "score": 3, "last_activity_date": 1430081333, "last_edit_date": 1430081333, "creation_date": 1429463270, "answer_id": 29733060, "question_id": 29732995, "link": "https://stackoverflow.com/questions/29732995/html5-canvas-drawing-in-real-time/29733060#29733060", "title": "HTML5 Canvas Drawing in Real Time", "body": "<p>Try wrapping <code>putImageData</code> and the calculation for a single row to a <code>setTimeout</code> call to execute it asynchronously (post accept edit: see the final code in the question, this won't work since <code>i</code> will be <code>undefined</code> in the <code>putImageData</code> row)</p>\n\n<pre><code>public draw() {\n    var that = this;\n    var drawRow = function() {\n            for(var j: number = 0; j &lt; that.Size.Width; ++j) { // Calc px. for one row\n                that.setPixelColor(j, color); // sets a color in this.Pixels (works)\n            }\n\n            // TODO specify the dirty region in this call\n            that.Context.putImageData(that.ImageData, 0, i); // Draw the row on the canvas?\n        };\n    for(var i: number = 0; i &lt; this.Size.Height; ++i) {    // Loop over each row\n        setTimeout(drawRow, 0);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2085, "favorite_count": 0, "accepted_answer_id": 29733060, "answer_count": 1, "score": 3, "last_activity_date": 1430081333, "creation_date": 1429462987, "last_edit_date": 1429468687, "question_id": 29732995, "link": "https://stackoverflow.com/questions/29732995/html5-canvas-drawing-in-real-time", "title": "HTML5 Canvas Drawing in Real Time", "body": "<p><strong>Question:</strong> How can I make <code>putImageData()</code> update the canvas in real time, as various parts of the image have been computed?</p>\n\n<hr>\n\n<p>I am working on a JavaScript/TypeScript application to draw the Mandelbrot set on an HTML5 <code>&lt;canvas&gt;</code> element. Math and details aside, my application draws the set just fine. However, if you are familiar with visualizing the set, you know that it can take a long time to draw.</p>\n\n<p>It will draw in a few seconds, but until then, the canvas is completely blank, then the image appears. I'm looking for a way to draw each row as it is computed using <code>putImageData()</code>. Here is what I am trying:</p>\n\n<pre><code>// part of the class definition\nprivate Context: CanvasRenderingContext2D;\nprivate ImageData: ImageData;\nprivate Pixels: number[];\n\nconstructor() {\n    var c: HTMLCanvasElement = &lt;HTMLCanvasElement&gt;document.getElementById(\"can\");\n\n    this.Context = c.getContext(\"2d\");\n    this.ImageData = this.Context.createImageData(this.Size.Width, 1);\n    this.Pixels = this.ImageData.data;\n}\n\npublic draw() {\n    // tried this... does not help\n    // var handler = function(m: Mandelbrot) {\n    //    m.Context.putImageData(m.ImageData, 0, i)\n    // };\n\n    for(var i: number = 0; i &lt; this.Size.Height; ++i) {    // Loop over each row\n        for(var j: number = 0; j &lt; this.Size.Width; ++j) { // Calc px. for one row\n            // all the math to compute the set... (works)\n\n            this.setPixelColor(j, color); // sets a color in this.Pixels (works)\n        }\n\n        // setTimeout(handler(this), 0); // does not help\n        this.Context.putImageData(this.ImageData, 0, i); // Draw the row on the canvas?\n    }\n}\n</code></pre>\n\n<p>Somehow, the <code>putImageData()</code> function, which is called after a row in the image has been computed, only shows the image after the entire image has been generated.</p>\n\n<p>How can I make <code>putImageData()</code> update the canvas in real time, as each row has been computed?</p>\n\n<hr>\n\n<p>Latest update of non-working code:</p>\n\n<pre><code>var handler = function(m: Mandelbrot, i: number) {\n    for (var j: number = 0; j &lt; m.Size.Width; ++j) {\n        // math\n\n        m.setPixelColor(j, color);\n    }\n\n    m.Context.putImageData(m.ImageData, 0, i);\n};\n\nvar that: Mandelbrot = this;\n\nfor(var i: number = 0; i &lt; this.Size.Height; ++i) {\n    setTimeout(function() {\n        handler(that, i)\n    }, 0);\n}\n</code></pre>\n\n<hr>\n\n<p>Working code, thanks to ekuusela:</p>\n\n<pre><code>var handler = function(m: Mandelbrot, i: number) {\n    return function() {\n        for (var j: number = 0; j &lt; m.Size.Width; ++j) {\n            // math\n\n            m.setPixelColor(j, color);\n        }\n\n        m.Context.putImageData(m.ImageData, 0, i);\n    }\n};\n\nfor(var i: number = 0; i &lt; this.Size.Height; ++i) {\n    setTimeout(handler(this, i), 0);\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "angularjs-controller"], "comments": [{"owner": {"reputation": 18405, "user_id": 185655, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/13f3025874375c725001713dfc8b26cf?s=128&d=identicon&r=PG", "display_name": "Abdel Raoof", "link": "https://stackoverflow.com/users/185655/abdel-raoof"}, "edited": false, "score": 0, "creation_date": 1429427415, "post_id": 29726820, "comment_id": 47587644, "body": "Have a look at this article.. <a href=\"http://kwilson.me.uk/blog/writing-cleaner-angularjs-with-typescript-and-controlleras/\" rel=\"nofollow noreferrer\">kwilson.me.uk/blog/&hellip;</a> It might help"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1429434199, "post_id": 29726820, "comment_id": 47589459, "body": "<a href=\"https://www.youtube.com/watch?v=WdtVn_8K17E\" rel=\"nofollow noreferrer\">youtube.com/watch?v=WdtVn_8K17E</a>"}], "answers": [{"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1429429253, "post_id": 29727010, "comment_id": 47588172, "body": "What about $scope injection?"}, {"owner": {"reputation": 17360, "user_id": 3680831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dad944759b2a52c3885cc41b2ec0a0a4?s=128&d=identicon&r=PG&f=1", "display_name": "A.B", "link": "https://stackoverflow.com/users/3680831/a-b"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1429430002, "post_id": 29727010, "comment_id": 47588360, "body": "@estus is it right now? plz improve it if i am missing something as i am also learning 2.0 and typescript"}, {"owner": {"reputation": 3475, "user_id": 395022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/578c33aea56e11fe220248a2d77875d1?s=128&d=identicon&r=PG", "display_name": "M.Azad", "link": "https://stackoverflow.com/users/395022/m-azad"}, "edited": false, "score": 0, "creation_date": 1429430220, "post_id": 29727010, "comment_id": 47588417, "body": "@A.B tnx...Can you explane about  static $inject = [&quot;$scope&quot;]; in your answer"}, {"owner": {"reputation": 3475, "user_id": 395022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/578c33aea56e11fe220248a2d77875d1?s=128&d=identicon&r=PG", "display_name": "M.Azad", "link": "https://stackoverflow.com/users/395022/m-azad"}, "edited": false, "score": 0, "creation_date": 1429430492, "post_id": 29727010, "comment_id": 47588491, "body": "@A.B I have an build error on  this line &quot;angular.module(&#39;myApp&#39;, []).controller(&#39;myCtrl&#39;,myApp.myCtrl);&quot;  that say &quot;Could not find symbol &#39;angular&#39;&quot;...I add this line in TypeScript File"}, {"owner": {"reputation": 17360, "user_id": 3680831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dad944759b2a52c3885cc41b2ec0a0a4?s=128&d=identicon&r=PG&f=1", "display_name": "A.B", "link": "https://stackoverflow.com/users/3680831/a-b"}, "edited": false, "score": 0, "creation_date": 1429430633, "post_id": 29727010, "comment_id": 47588527, "body": "add angular-mocks.d.ts and then try"}, {"owner": {"reputation": 3475, "user_id": 395022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/578c33aea56e11fe220248a2d77875d1?s=128&d=identicon&r=PG", "display_name": "M.Azad", "link": "https://stackoverflow.com/users/395022/m-azad"}, "edited": false, "score": 0, "creation_date": 1429431712, "post_id": 29727010, "comment_id": 47588775, "body": "No.angular-mocks.d.ts depend to angular.d.ts  and when I add this to my project I get many build error..I find out that my TypeScript version is 1.1 and  angular.d.ts file write by 1.4 ..I must update from  vs2012 to 2013 and install TypeScript 1.4"}], "tags": [], "owner": {"reputation": 17360, "user_id": 3680831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dad944759b2a52c3885cc41b2ec0a0a4?s=128&d=identicon&r=PG&f=1", "display_name": "A.B", "link": "https://stackoverflow.com/users/3680831/a-b"}, "is_accepted": true, "score": 2, "last_activity_date": 1429430316, "last_edit_date": 1429430316, "creation_date": 1429428270, "answer_id": 29727010, "question_id": 29726820, "link": "https://stackoverflow.com/questions/29726820/how-to-define-angular1-3-controller-in-typescript/29727010#29727010", "title": "How to define angular1.3+ controller in typescript?", "body": "<p>Controller will be something like:</p>\n\n<pre><code>class myCtrl\n{\n  constructor( $scope )\n  {\n    $scope.firstName = \"John\";\n    $scope.lastName = \"Doe\";\n  }\n}\n</code></pre>\n\n<p>And with module it will be something like</p>\n\n<pre><code>module myApp{\n\n    export class myCtrl{\n\n     static $inject = [\"$scope\"];\n\n        constructor( $scope: any)\n      {\n        $scope.firstName = \"John\";\n        $scope.lastName = \"Doe\";\n      }\n    }\n}\n</code></pre>\n\n<p>$inject method specify the parameters that angular will inject in the class constructor. like $scope in our example you can inject services etc also</p>\n\n<p>Now you can use it as</p>\n\n<pre><code>angular.module('myApp', []).controller('myCtrl',myApp.myCtrl);\n</code></pre>\n"}], "owner": {"reputation": 3475, "user_id": 395022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/578c33aea56e11fe220248a2d77875d1?s=128&d=identicon&r=PG", "display_name": "M.Azad", "link": "https://stackoverflow.com/users/395022/m-azad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 29727010, "answer_count": 1, "score": 0, "last_activity_date": 1429430316, "creation_date": 1429426920, "last_edit_date": 1429427005, "question_id": 29726820, "link": "https://stackoverflow.com/questions/29726820/how-to-define-angular1-3-controller-in-typescript", "title": "How to define angular1.3+ controller in typescript?", "body": "<p>In new version of angular you must define controller like this</p>\n\n<pre><code>var app = angular.module('myApp', []);\napp.controller('myCtrl', function($scope) {\n    $scope.firstName = \"John\";\n    $scope.lastName = \"Doe\";\n});\n</code></pre>\n\n<p>How can I define This code by TypeScript?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1429407940, "creation_date": 1429407940, "answer_id": 29724901, "question_id": 29724847, "link": "https://stackoverflow.com/questions/29724847/extending-spride-class-pixi-js-in-typescript/29724901#29724901", "title": "Extending Spride class (Pixi.js ) in Typescript", "body": "<blockquote>\n  <p>Uncaught TypeError: undefined is not a function.</p>\n</blockquote>\n\n<p>This a runtime error with a clear indication that the JS <em>you think</em> is loaded by the browser is actually not there. Check your script tags (note : order is significant) or use amd / or commonjs (<a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow\">https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md</a>)</p>\n"}], "owner": {"reputation": 21, "user_id": 4805883, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fhIJ3WRXzEw/AAAAAAAAAAI/AAAAAAAAASI/EHHYCg4_FJ8/photo.jpg?sz=128", "display_name": "Marwane Hcine", "link": "https://stackoverflow.com/users/4805883/marwane-hcine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429407940, "creation_date": 1429407268, "last_edit_date": 1429407799, "question_id": 29724847, "link": "https://stackoverflow.com/questions/29724847/extending-spride-class-pixi-js-in-typescript", "title": "Extending Spride class (Pixi.js ) in Typescript", "body": "<p>I'm trying to extend Pixi.Spride class in a typescript project. (i added some other properties ).\nBut when i instantiate my new object, i get this :</p>\n\n<p>Uncaught TypeError: undefined is not a function.</p>\n\n<p>here is my code : </p>\n\n<pre><code>///&lt;reference path=\"../lib/pixi.d.ts\" /&gt;\n\n    enter code here\n\n// Module\nmodule test {\n\n    // Class\n    export class Card extends PIXI.Sprite {\n        public name: string;\n        public value : number;\n\n        constructor(arg : any) {\n            super(arg);\n        }\n\n    }\n\n}\n\n\nand  \n for instantiation i did this : \n\n\n  var cardTexture = PIXI.Texture.fromImage(\"img/aa.png\");   \n  c= new Card (cardTexture );\n</code></pre>\n"}, {"tags": ["visual-studio-2013", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1429395225, "creation_date": 1429395225, "answer_id": 29723485, "question_id": 29722260, "link": "https://stackoverflow.com/questions/29722260/typescript-reference-class-file-not-working/29723485#29723485", "title": "TypeScript Reference Class File Not Working", "body": "<p>If you want files to get imported based on reference comments you need to compile with \"--out\"</p>\n\n<p>Having said that I feel out is a bad idea : <a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow\">https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md</a> you should look at requirejs or systemjs</p>\n"}], "owner": {"reputation": 15473, "user_id": 663604, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/USbQy.jpg?s=128&g=1", "display_name": "Oliver Spryn", "link": "https://stackoverflow.com/users/663604/oliver-spryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1429395225, "creation_date": 1429387820, "last_edit_date": 1495540623, "question_id": 29722260, "link": "https://stackoverflow.com/questions/29722260/typescript-reference-class-file-not-working", "title": "TypeScript Reference Class File Not Working", "body": "<p>I am trying to include one TypeScript class file, <code>Mandelbrot.ts</code>, inside of another file <code>app.ts</code>. After having tried <a href=\"https://stackoverflow.com/a/17243733/663604\">the solution in this question</a>, I cannot get it to work.</p>\n\n<h3>app.ts</h3>\n\n<pre><code>/// &lt;reference path=\"Mandelbrot.ts\" /&gt;\n\nwindow.onload = function() {\n    var mandelbrot = new Mandelbrot(\"canvas\");\n};\n</code></pre>\n\n<h3>Mandelbrot.ts (same folder as app.ts)</h3>\n\n<pre><code>class Mandelbrot {\n    ...\n}\n</code></pre>\n\n<h3>app.js (Compiled output)</h3>\n\n<pre><code>/// &lt;reference path=\"Mandelbrot.ts\" /&gt;\nwindow.onload = function () {\n    var mandelbrot = new Mandelbrot(\"canvas\");\n};\n//# sourceMappingURL=app.js.map\n</code></pre>\n\n<p>It appears as though the compiler ignored my reference request, as nothing works in the browser. There aren't any compiler errors or warnings. I am using the compiler which is part of Visual Studio 2013 Ultimate.</p>\n"}, {"tags": ["node.js", "visual-studio-2013", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 11431, "user_id": 504836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96f3a1c26dabec160ac29dc6160d5c8f?s=128&d=identicon&r=PG", "display_name": "joelnet", "link": "https://stackoverflow.com/users/504836/joelnet"}, "edited": false, "score": 0, "creation_date": 1429309538, "post_id": 29709795, "comment_id": 47556442, "body": "<code>var q: typeof Q = require(&#39;q&#39;);</code> seems to partially work. I have access to the methods, but not the interfaces (for example I can&#39;t use q.IPromise&lt;void&gt;, I must use the capital Q so I still have a mix of lower and upper Q&#39;s.   When I add <code>import q = require(&#39;q&#39;);</code> outside of the module, Visual Studio can no longer find external <code>ts</code> files with the same module name. example would be <code>module example { var service: myService; }</code> with error: <code>Cannot find name &#39;myService&#39;.</code>"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1429306619, "creation_date": 1429306619, "answer_id": 29709795, "question_id": 29709652, "link": "https://stackoverflow.com/questions/29709652/how-do-i-import-node-modules-into-typescript-with-intellisense/29709795#29709795", "title": "How do I import node modules into TypeScript with Intellisense?", "body": "<pre><code>var q: typeof Q = require('q');\n</code></pre>\n\n<p>Or, you can move the <code>require</code> call outside the <code>module</code> block and use `import instead:</p>\n\n<pre><code>import q = require('q');\n</code></pre>\n"}], "owner": {"reputation": 11431, "user_id": 504836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96f3a1c26dabec160ac29dc6160d5c8f?s=128&d=identicon&r=PG", "display_name": "joelnet", "link": "https://stackoverflow.com/users/504836/joelnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1442, "favorite_count": 1, "accepted_answer_id": 29709795, "answer_count": 1, "score": 1, "last_activity_date": 1429306619, "creation_date": 1429306088, "question_id": 29709652, "link": "https://stackoverflow.com/questions/29709652/how-do-i-import-node-modules-into-typescript-with-intellisense", "title": "How do I import node modules into TypeScript with Intellisense?", "body": "<p>I'm trying to import the node module, Q into my TypeScript project and would like to get Intellisense working 100%</p>\n\n<p>This works, but q is set to <code>any</code>, which means no intellisense. I also have to use a mix of Q and q, which can get confusing.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/// &lt;reference path=\"Scripts/typings/q/Q.d.ts\" /&gt;\n\nmodule example {\n\n    // no intellisense on q\n    var q = require('q');\n\n    // we do get intellisense on deferred though\n    var deferred: Q.Deferred&lt;void&gt; = q.defer();\n}\n</code></pre>\n\n<p>We can't do this because Q is a module, so the <code>:Q</code> part results in an error.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/// &lt;reference path=\"Scripts/typings/q/Q.d.ts\" /&gt;\n\nmodule example {\n\n    // BAD: this doesn't work\n    var q: Q = require('q');\n}\n</code></pre>\n\n<p>File structure:</p>\n\n<pre><code>Q is in /node_modules/q/\nQ.d.ts is in /Scripts/typings/q/Q.d.ts\n</code></pre>\n\n<p>I'm using Visual Studio 2013 SP4 and TypeScript 1.4</p>\n\n<p>note: I've seen similar questions on stack, but those solutions don't work for the newer versions of typescript.</p>\n"}, {"tags": ["types", "enums", "typescript"], "comments": [{"owner": {"reputation": 41, "user_id": 4802357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2bd408af1f0cb08f040e1f7ac66eefb?s=128&d=identicon&r=PG&f=1", "display_name": "Grathau", "link": "https://stackoverflow.com/users/4802357/grathau"}, "edited": false, "score": 0, "creation_date": 1429295241, "post_id": 29706609, "comment_id": 47549164, "body": "PS: An easy work around would be to replace the union type with type &#39;any&#39;, though that would contradict the idea of TypeScript."}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 6, "last_activity_date": 1429295113, "creation_date": 1429295113, "answer_id": 29706754, "question_id": 29706609, "link": "https://stackoverflow.com/questions/29706609/typescript-how-to-add-type-guards-for-enums-in-union-types/29706754#29706754", "title": "Typescript: How to add type guards for enums in union types?", "body": "<p>Two issues.</p>\n\n<p>There's a bug in the compiler that <code>instanceof</code> isn't allowed on union types when one of its constituents isn't an object type. This is being fixed (<a href=\"https://github.com/Microsoft/TypeScript/issues/2775\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/2775</a>)</p>\n\n<p>The other thing is that <code>instanceof</code> does not cause narrowing in the <code>else</code> block (<a href=\"https://github.com/Microsoft/TypeScript/issues/1719\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/1719</a>) because failing an <code>instanceof</code> check doesn't <em>necessarily</em> mean the object doesn't match the specified interface. This is currently \"by design\" but I'd encourage you to leave a comment that you find this behavior surprising or undesirable (I certainly do).</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 4802357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2bd408af1f0cb08f040e1f7ac66eefb?s=128&d=identicon&r=PG&f=1", "display_name": "Grathau", "link": "https://stackoverflow.com/users/4802357/grathau"}, "edited": false, "score": 0, "creation_date": 1429295588, "post_id": 29706830, "comment_id": 47549370, "body": "I&#39;ll go with this fix, because enum/number args are far more frequent, so the test for it should come 1st anyway."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 3, "last_activity_date": 1429295335, "creation_date": 1429295335, "answer_id": 29706830, "question_id": 29706609, "link": "https://stackoverflow.com/questions/29706609/typescript-how-to-add-type-guards-for-enums-in-union-types/29706830#29706830", "title": "Typescript: How to add type guards for enums in union types?", "body": "<p>Ryan is, of course, both eloquent and accurate, but I can offer you a <em>temporary</em> workaround that you may find useful. Despite its possible use, please don't accept this as the answer as long-term the resolution of the issues related to type guards will be better.</p>\n\n<pre><code>class C {\n    value: E;    \n\n    constructor(arg: C | number) {\n        if(typeof arg === 'number') {\n            this.value = arg;\n        } else {\n            this.value = arg.value;\n        }\n    }\n}\n</code></pre>\n\n<p>This rather unsavoury solution leans on the fact that enums and numbers happily play together. You also benefit from the side-effect of <code>typeof</code> checks narrowing the <code>else</code> statement.</p>\n"}], "owner": {"reputation": 41, "user_id": 4802357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2bd408af1f0cb08f040e1f7ac66eefb?s=128&d=identicon&r=PG&f=1", "display_name": "Grathau", "link": "https://stackoverflow.com/users/4802357/grathau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2860, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1429295335, "creation_date": 1429294512, "question_id": 29706609, "link": "https://stackoverflow.com/questions/29706609/typescript-how-to-add-type-guards-for-enums-in-union-types", "title": "Typescript: How to add type guards for enums in union types?", "body": "<p>The following code gives errors:</p>\n\n<ol>\n<li>The left-hand side of an 'instanceof' expression must be of type 'any', an object or a type parameter.</li>\n<li>Type 'E | C'  is not assignable to type 'E'. Type 'C'  is not assignable to type 'E'.</li>\n</ol>\n\n<pre><code>    enum E { FIRST = 1, SECOND = 2 }; \n\n    class C {\n        value: E;    \n\n        constructor(arg: C | E) {\n            if (arg instanceof C) { // 1.\n                this.value = arg.value;\n            } else {\n               this.value = arg; // 2.\n            }\n        }\n    }\n\n    var a: C = new C(E.SECOND);\n    console.log('a.value = ' + a.value);\n\n    var b: C = new C(a);\n    console.log('b.value = ' + b.value);\n</code></pre>\n\n<p>Despite the errors the code seems to compile fine on <a href=\"http://www.typescriptlang.org/Playground#src=enum%20E%20%7B%20FIRST%20%3D%201%2C%20SECOND%20%3D%202%20%7D%3B%0A%0Aclass%20C%20%7B%0A%09value%3A%20E%3B%0A%09%0A%09constructor(arg%3A%20C%20%7C%20E)%20%7B%0A%09%09if%20(arg%20instanceof%20C)%20%7B%0A%09%09%09this.value%20%3D%20arg.value%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09this.value%20%3D%20arg%3B%0A%09%09%7D%0A%09%7D%0A%7D%0A%0Avar%20a%3A%20C%20%3D%20new%20C(E.SECOND)%3B%0Aconsole.log(&#39;a.value%20%3D%20&#39;%20%2B%20a.value)%3B%0A%0Avar%20b%3A%20C%20%3D%20new%20C(a)%3B%0Aconsole.log(&#39;b.value%20%3D%20&#39;%20%2B%20b.value)%3B\" rel=\"noreferrer\">TypeScript Playground</a> and does the expected.</p>\n"}, {"tags": ["javascript", "json", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 823, "user_id": 229726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb537d488d5f7e2de318f6acf169ab65?s=128&d=identicon&r=PG", "display_name": "Christian Droulers", "link": "https://stackoverflow.com/users/229726/christian-droulers"}, "edited": false, "score": 1, "creation_date": 1429303264, "post_id": 29705391, "comment_id": 47553510, "body": "I&#39;m marking this as the answer because I ended up implementing toJSON myself. I already had a map of private members to public properties because I was using it to map some JSON from my API to my TypeScript classes. In the toJson methods, I simply use that map to create a new object with all properties with the inverted names. I&#39;ll blog about it soon."}], "tags": [], "owner": {"reputation": 156828, "user_id": 497418, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/248d820c4cc1b6eb7924c658c45443b5?s=128&d=identicon&r=PG", "display_name": "zzzzBov", "link": "https://stackoverflow.com/users/497418/zzzzbov"}, "is_accepted": true, "score": 22, "last_activity_date": 1429290291, "creation_date": 1429290291, "answer_id": 29705391, "question_id": 29705211, "link": "https://stackoverflow.com/questions/29705211/object-defineproperty-on-a-prototype-prevents-json-stringify-from-serializing-it/29705391#29705391", "title": "Object.defineProperty on a prototype prevents JSON.stringify from serializing it", "body": "<p>You can define a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#toJSON_behavior\"><code>toJSON()</code></a> method on your prototype to customize how instances are serialized.</p>\n\n<pre><code>Class1.prototype.toJSON = function () {\n    return {\n        Name: this.Name\n    };\n};\nJSON.stringify(new Class1()); // Will be '{\"Name\":\"test1\"}'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 823, "user_id": 229726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb537d488d5f7e2de318f6acf169ab65?s=128&d=identicon&r=PG", "display_name": "Christian Droulers", "link": "https://stackoverflow.com/users/229726/christian-droulers"}, "edited": false, "score": 0, "creation_date": 1429303292, "post_id": 29706426, "comment_id": 47553527, "body": "I had considered this, but I want a solution that uses TypeScript itself."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 823, "user_id": 229726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb537d488d5f7e2de318f6acf169ab65?s=128&d=identicon&r=PG", "display_name": "Christian Droulers", "link": "https://stackoverflow.com/users/229726/christian-droulers"}, "edited": false, "score": 2, "creation_date": 1429303598, "post_id": 29706426, "comment_id": 47553673, "body": "@ChristianDroulers yeah, I wouldn&#39;t use this solution either :)... adding a toJSON method is a better option."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 1, "last_activity_date": 1429294244, "last_edit_date": 1429294244, "creation_date": 1429293813, "answer_id": 29706426, "question_id": 29705211, "link": "https://stackoverflow.com/questions/29705211/object-defineproperty-on-a-prototype-prevents-json-stringify-from-serializing-it/29706426#29706426", "title": "Object.defineProperty on a prototype prevents JSON.stringify from serializing it", "body": "<p>As you've discovered, it won't serialize properties defined on prototype.</p>\n\n<p>I know it's not ideal, but another option is to do this:</p>\n\n<pre><code>class Class1 {\n    private _name = \"test1\";\n\n    Name: string; // do this to make the compiler happy\n\n    constructor() {\n        Object.defineProperty(this, \"Name\", {\n            get: function() { return this._name; },\n            set: function(value) { this._name = value; },\n            enumerable: true\n        });\n    }\n}\n</code></pre>\n\n<p>Defining the property on the instance will serialize the property.</p>\n"}, {"comments": [{"owner": {"reputation": 823, "user_id": 229726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb537d488d5f7e2de318f6acf169ab65?s=128&d=identicon&r=PG", "display_name": "Christian Droulers", "link": "https://stackoverflow.com/users/229726/christian-droulers"}, "edited": false, "score": 0, "creation_date": 1429303309, "post_id": 29706438, "comment_id": 47553539, "body": "I went with the toJSON approach. I&#39;ll blog about it soon."}], "tags": [], "owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "is_accepted": false, "score": 11, "last_activity_date": 1429293852, "creation_date": 1429293852, "answer_id": 29706438, "question_id": 29705211, "link": "https://stackoverflow.com/questions/29705211/object-defineproperty-on-a-prototype-prevents-json-stringify-from-serializing-it/29706438#29706438", "title": "Object.defineProperty on a prototype prevents JSON.stringify from serializing it", "body": "<p>Yes, it is by design.</p>\n\n<p>As defined in ECMA, only <em>own enumerable properties</em> are serialized (<code>stringify()</code> is defined in terms of <code>Object.keys()</code>, among others).</p>\n\n<p>Property accessors are defined on prototypes, both in TypeScript and ES6.</p>\n\n<p>And answering your last question, that is the most eficient way to perform this operation.</p>\n\n<p>Beside that, only a) defining an toJSON() to each object part of the serialization, or b) passing a replacer function/array as 2nd argument to JSON.stringify().</p>\n\n<p>Whitelist properties from prototype:</p>\n\n<pre><code>JSON.stringify(instance, Object.keys(instance.constructor.prototype))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 823, "user_id": 229726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb537d488d5f7e2de318f6acf169ab65?s=128&d=identicon&r=PG", "display_name": "Christian Droulers", "link": "https://stackoverflow.com/users/229726/christian-droulers"}, "edited": false, "score": 0, "creation_date": 1429303334, "post_id": 29706811, "comment_id": 47553547, "body": "Very interesting! But not a viable solution in the short term for this project. Thanks!"}, {"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "reply_to_user": {"reputation": 823, "user_id": 229726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb537d488d5f7e2de318f6acf169ab65?s=128&d=identicon&r=PG", "display_name": "Christian Droulers", "link": "https://stackoverflow.com/users/229726/christian-droulers"}, "edited": false, "score": 0, "creation_date": 1429303411, "post_id": 29706811, "comment_id": 47553580, "body": "yep, you&#39;re right, but I find it very promising and hope to use it in production very soon"}, {"owner": {"reputation": 495, "user_id": 3025442, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/L7x3c.jpg?s=128&g=1", "display_name": "Jacks", "link": "https://stackoverflow.com/users/3025442/jacks"}, "edited": false, "score": 0, "creation_date": 1481803574, "post_id": 29706811, "comment_id": 69527952, "body": "I know it&#39;s a bit late to ask since TypeScript has been updated, but in my case, the WeakMap is always empty even if <code>serialize</code> is called. Any idea ?"}, {"owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "reply_to_user": {"reputation": 495, "user_id": 3025442, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/L7x3c.jpg?s=128&g=1", "display_name": "Jacks", "link": "https://stackoverflow.com/users/3025442/jacks"}, "edited": false, "score": 2, "creation_date": 1482088064, "post_id": 29706811, "comment_id": 69622527, "body": "@Jacks perhaps you were retrieving using a class as key, instead of a class&#39; prototype? I updated my answer with a working implementation, so take a look."}, {"owner": {"reputation": 495, "user_id": 3025442, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/L7x3c.jpg?s=128&g=1", "display_name": "Jacks", "link": "https://stackoverflow.com/users/3025442/jacks"}, "edited": false, "score": 2, "creation_date": 1482134217, "post_id": 29706811, "comment_id": 69634516, "body": "@Andr&#233;Werlang Thank you very much for your update. Yes, I was indeed in the first trying to retrieve values by passing the class and not its prototype. But for the verification, I was trying to print the whole WeakMap which was not possible because keys where not enumerable (see <a href=\"http://stackoverflow.com/questions/41164054/typescript-using-decorators-for-custom-json-serialization\">this</a>). Thanks for clarifying this post years after :)"}, {"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "edited": false, "score": 0, "creation_date": 1519502157, "post_id": 29706811, "comment_id": 84939655, "body": "Hi, I love this solution, but my Typescript is giving me <a href=\"https://stackoverflow.com/questions/36446480/typescript-decorator-reports-unable-to-resolve-signature-of-class-decorator-whe\">an error</a> when I try to use <code>@serialize</code> property decorator, or <code>@serializable</code> class decorator: &quot;Unable to resolve signature of property decorator when used as an expression &quot;. I think I&#39;m using <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html#metadata\" rel=\"nofollow noreferrer\"><i>TypeScript</i> decorators</a> , which seem to be different than the <a href=\"https://github.com/wycats/javascript-decorators\" rel=\"nofollow noreferrer\">decorators</a> you linked"}, {"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "edited": false, "score": 0, "creation_date": 1519504008, "post_id": 29706811, "comment_id": 84940135, "body": "For me , if I 1) clarified my functions&#39; return types include <code>ClassDecorator</code> (for <code>serializable</code>) and <code>PropertyDecorator</code> (for <code>serialize</code>),  2) explicitly cast to <code>&lt;ClassDecorator&gt;</code> and <code>&lt;PropertyDecorator&gt;</code> to satisfy the return type; that error message goes away! So I can use the rest of your code as-is, I didn&#39;t mean to confuse the variations on the way a decorator function can be written; (i.e. TypeScript class decorators can accept the constructor function!) I prefer your syntax here... thanks again!"}, {"owner": {"reputation": 2061, "user_id": 1643749, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3587d6e1f69adc340c89c46d11a95038?s=128&d=identicon&r=PG", "display_name": "Apidcloud", "link": "https://stackoverflow.com/users/1643749/apidcloud"}, "reply_to_user": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "edited": false, "score": 0, "creation_date": 1552199064, "post_id": 29706811, "comment_id": 96915356, "body": "How exactly did you do that @TheRedPea? Care to share a gist?"}, {"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "reply_to_user": {"reputation": 2061, "user_id": 1643749, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3587d6e1f69adc340c89c46d11a95038?s=128&d=identicon&r=PG", "display_name": "Apidcloud", "link": "https://stackoverflow.com/users/1643749/apidcloud"}, "edited": false, "score": 1, "creation_date": 1552272676, "post_id": 29706811, "comment_id": 96933209, "body": "@Apidcloud , something like this (note I removed chunks, this code won&#39;t run, but I added arrows to show the use of <code>ClassDecorator</code> and <code>PropertyDecorator</code> <a href=\"https://gist.github.com/theredpea/c4e6c7923467db57b6afd867a0e1ecc1\" rel=\"nofollow noreferrer\">gist.github.com/theredpea/c4e6c7923467db57b6afd867a0e1ecc1</a>"}], "tags": [], "owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "is_accepted": false, "score": 17, "last_activity_date": 1482087939, "last_edit_date": 1482087939, "creation_date": 1429295284, "answer_id": 29706811, "question_id": 29705211, "link": "https://stackoverflow.com/questions/29705211/object-defineproperty-on-a-prototype-prevents-json-stringify-from-serializing-it/29706811#29706811", "title": "Object.defineProperty on a prototype prevents JSON.stringify from serializing it", "body": "<p>If you like to push it forward, give a try to decorators proposal for TypeScript:</p>\n\n<p>According to this proposal (<a href=\"https://github.com/wycats/javascript-decorators\" rel=\"noreferrer\">https://github.com/wycats/javascript-decorators</a>):</p>\n\n<p>A decorator is:</p>\n\n<ul>\n<li>an expression</li>\n<li>that evaluates to a function</li>\n<li>that takes the target, name, and property descriptor as arguments</li>\n<li>and optionally returns a property descriptor to install on the target object</li>\n</ul>\n\n<p>It goes like this (high level view):</p>\n\n<p>Client code:</p>\n\n<pre><code>@serializable()\nclass Person {\n\n    constructor(name: string) {\n      this._name = name;\n    }\n\n    private _name: string;\n\n    @serialize()\n    get name() {\n      return this._name;\n    }\n\n    @serialize('Language')\n    get lang() {\n      return 'JavaScript';\n    }\n}\n</code></pre>\n\n<p>Infrastructure:</p>\n\n<pre><code>const serialized = new WeakMap();\n\nexport function serializable(name?: string) {\n    return function (target, propertyKey, descriptor) {\n        target.prototype.toJSON = function () {\n            const map = serialized.get(target.prototype);\n            const props = Object.keys(map);\n            return props.reduce((previous, key) =&gt; {\n                previous[map[key]] = this[key];\n                return previous;\n            }, {});\n        }\n\n    }\n}\n\nexport function serialize(name?: string) {\n    return function (target, propertyKey, descriptor) {\n        let map = serialized.get(target);\n        if (!map) {\n            map = {};\n            serialized.set(target, map);\n        }\n\n        map[propertyKey] = name || propertyKey;\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>: I extracted this sample decorator into a repository at <a href=\"https://github.com/awerlang/es-decorators\" rel=\"noreferrer\">https://github.com/awerlang/es-decorators</a></p>\n"}, {"tags": [], "owner": {"reputation": 278, "user_id": 3872222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a6f6797168d7fd5e0d72bbdd3c751?s=128&d=identicon&r=PG&f=1", "display_name": "BeiBei ZHU", "link": "https://stackoverflow.com/users/3872222/beibei-zhu"}, "is_accepted": false, "score": 2, "last_activity_date": 1511778290, "last_edit_date": 1511778290, "creation_date": 1511777153, "answer_id": 47508291, "question_id": 29705211, "link": "https://stackoverflow.com/questions/29705211/object-defineproperty-on-a-prototype-prevents-json-stringify-from-serializing-it/47508291#47508291", "title": "Object.defineProperty on a prototype prevents JSON.stringify from serializing it", "body": "<p>Put something here hopefully can help others.\nWhat I have do for fix JSON.stringify not serialize properties defined on prototype</p>\n\n<pre><code>var newObject = $.extend(false, {}, orginalObj);\n</code></pre>\n\n<p>then I notice newObject have instance properties instead of prototype properties.\nI'm use typescript and get accessor.</p>\n"}], "owner": {"reputation": 823, "user_id": 229726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb537d488d5f7e2de318f6acf169ab65?s=128&d=identicon&r=PG", "display_name": "Christian Droulers", "link": "https://stackoverflow.com/users/229726/christian-droulers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11693, "favorite_count": 7, "accepted_answer_id": 29705391, "answer_count": 5, "score": 19, "last_activity_date": 1511778290, "creation_date": 1429289759, "question_id": 29705211, "link": "https://stackoverflow.com/questions/29705211/object-defineproperty-on-a-prototype-prevents-json-stringify-from-serializing-it", "title": "Object.defineProperty on a prototype prevents JSON.stringify from serializing it", "body": "<p>I'm using TypeScript to define some classes and when I create a property, it generates the equivalent to <code>Class1</code> in the following plunkr:</p>\n\n<p><a href=\"http://plnkr.co/edit/NXUo7zjJZaUuyv54TD9i?p=preview\">http://plnkr.co/edit/NXUo7zjJZaUuyv54TD9i?p=preview</a></p>\n\n<pre><code>var Class1 = function () {\n  this._name = \"test1\";\n}\n\nObject.defineProperty(Class1.prototype, \"Name\", {\n  get: function() { return this._name; },\n  set: function(value) { this._name = value; },\n  enumerable: true\n});\n\nJSON.stringify(new Class1()); // Will be \"{\"_name\":\"test1\"}\"\n</code></pre>\n\n<p>When serializing, it doesn't output the property I just defined.</p>\n\n<p><code>instance2</code> and <code>instance3</code> behave as I'd expect by serializing the defined property. (see the plunkr output).</p>\n\n<p>My actual question is: Is this normal?</p>\n\n<p>If so, how do I work around it in the most efficient way?</p>\n"}, {"tags": ["typescript", "typescript1.4"], "answers": [{"comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1429273380, "post_id": 29698331, "comment_id": 47533997, "body": "It should be <code>public emails: string[]</code> to avoid the member getting the <code>any</code> type."}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 7, "last_activity_date": 1429274905, "last_edit_date": 1429274905, "creation_date": 1429271337, "answer_id": 29698331, "question_id": 29697500, "link": "https://stackoverflow.com/questions/29697500/public-rest-parameters-in-constructor/29698331#29698331", "title": "Public rest parameters in constructor", "body": "<p><a href=\"https://github.com/Microsoft/TypeScript/issues/2733\" rel=\"noreferrer\">There is an oversight in the spec</a>, but the rest parameter can't be public or private. Here is how to fix the code:</p>\n\n<pre><code>class XYZ {\n    public emails: string[];\n    constructor(public firstName: string, public lastName: string, ...emails: string[]) {\n        this.emails = emails;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 993501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/h8UGZ.png?s=128&g=1", "display_name": "Mario Semper", "link": "https://stackoverflow.com/users/993501/mario-semper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1481, "favorite_count": 2, "accepted_answer_id": 29698331, "answer_count": 1, "score": 4, "last_activity_date": 1429274905, "creation_date": 1429268816, "last_edit_date": 1429269261, "question_id": 29697500, "link": "https://stackoverflow.com/questions/29697500/public-rest-parameters-in-constructor", "title": "Public rest parameters in constructor", "body": "<p>i watched a tutorial of typescript, that uses Version 1.0.0.\nThere was a sample of a class, using a public rest parameter in the constructor:</p>\n\n<pre><code>class XYZ {\n   constructor(public firstname: string, public lastname: string, ...public emails: Array&lt;string&gt;) {\n    }\n}\n</code></pre>\n\n<p>How to do this in Version 1.5.0?\nIf i define the class like this, i got several errors:</p>\n\n<pre><code>type.ts(14,75): error TS1005: '=' expected.\ntype.ts(14,81): error TS1005: ',' expected.\ntype.ts(14,88): error TS1005: '=' expected.\ntype.ts(14,96): error TS1109: Expression expected.\n</code></pre>\n\n<p>Thanks\nMario</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 4, "last_activity_date": 1429270931, "last_edit_date": 1429270931, "creation_date": 1429269044, "answer_id": 29697581, "question_id": 29697407, "link": "https://stackoverflow.com/questions/29697407/typescript-object-of-specified-type-is-not-assignable-to-generic-type/29697581#29697581", "title": "Typescript - object of specified type is not assignable to generic type", "body": "<pre><code>Do(item: T){\n    alert(item);\n}\n</code></pre>\n\n<p>The method <code>Do</code> expects a parameter of type <code>T</code>.</p>\n\n<pre><code>    var item=&lt;ITest&gt;{};\n</code></pre>\n\n<p>A variable <code>item</code> is created, of type <code>ITest</code>.</p>\n\n<pre><code>    this.Do(item);\n</code></pre>\n\n<p><code>T</code> extends <code>ITest</code>, but <code>ITest</code> doesn't extend <code>T</code>. The variable item has the type <code>ITest</code>, not the type <code>T</code>.</p>\n\n<p>This code compiles:</p>\n\n<pre><code>Start(){\n    var item=&lt;T&gt;{};\n    this.Do(item);\n}\n</code></pre>\n"}], "owner": {"reputation": 951, "user_id": 2587533, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3613b2c048a63d644c123fef7ca7ea3d?s=128&d=identicon&r=PG", "display_name": "Pavel Kutakov", "link": "https://stackoverflow.com/users/2587533/pavel-kutakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10476, "favorite_count": 0, "accepted_answer_id": 29697581, "answer_count": 1, "score": 5, "last_activity_date": 1429270931, "creation_date": 1429268578, "question_id": 29697407, "link": "https://stackoverflow.com/questions/29697407/typescript-object-of-specified-type-is-not-assignable-to-generic-type", "title": "Typescript - object of specified type is not assignable to generic type", "body": "<p>Conside the following simple interface and a class:</p>\n\n<pre><code>interface ITest{\n    id :string;\n}\n\nclass SuperClass&lt;T extends ITest&gt;{\n    Start(){\n        var item=&lt;ITest&gt;{};\n        this.Do(item);\n    }\n    Do(item: T){\n        alert(item);\n    }\n\n}\n</code></pre>\n\n<p>The line with <code>this.Do(item)</code> shows the error: <code>Argument of type ITest is not assignable to type T</code>. Why?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "asp.net-web-api2", "flow-js"], "comments": [{"owner": {"reputation": 4109, "user_id": 632116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f212eab3236d816ea152f326b9280ca2?s=128&d=identicon&r=PG", "display_name": "Naftis", "link": "https://stackoverflow.com/users/632116/naftis"}, "edited": false, "score": 0, "creation_date": 1429346072, "post_id": 29694470, "comment_id": 47564708, "body": "I must add that according to <a href=\"https://github.com/flowjs/ng-flow/issues/144\" rel=\"nofollow noreferrer\">github.com/flowjs/ng-flow/issues/144</a> and seemingly in contrast with the documentation, it seems 404 should be returned from GET when the chunk is not found. I tried this, yet nothing changes and no upload starts."}], "answers": [{"comments": [{"owner": {"reputation": 4109, "user_id": 632116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f212eab3236d816ea152f326b9280ca2?s=128&d=identicon&r=PG", "display_name": "Naftis", "link": "https://stackoverflow.com/users/632116/naftis"}, "edited": false, "score": 2, "creation_date": 1429435852, "post_id": 29727696, "comment_id": 47589905, "body": "Thanks, now my uploads start! So for anyone who might be interested, just change the return value in the GET method in the API controller to return ResponseMessage(new HttpResponseMessage(HttpStatusCode.NoContent));"}], "tags": [], "owner": {"reputation": 423, "user_id": 2219058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/367f1958401adf072de23c06b6d1df4a?s=128&d=identicon&r=PG", "display_name": "Aidas", "link": "https://stackoverflow.com/users/2219058/aidas"}, "is_accepted": true, "score": 5, "last_activity_date": 1429432931, "creation_date": 1429432931, "answer_id": 29727696, "question_id": 29694470, "link": "https://stackoverflow.com/questions/29694470/uploading-files-with-flow-js-ng-flow-to-webapi-2/29727696#29727696", "title": "Uploading files with flow.js + ng-flow to WebAPI 2", "body": "<p>200 status is not the only one considered a success. 201 and 202 are too.\nRead about the option of <code>successStatuses</code>:\n<a href=\"https://github.com/flowjs/flow.js/blob/master/dist/flow.js#L91\" rel=\"noreferrer\">https://github.com/flowjs/flow.js/blob/master/dist/flow.js#L91</a>\nSo only change you need is to return a 204 status, which means <code>No Content</code>.</p>\n"}], "owner": {"reputation": 4109, "user_id": 632116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f212eab3236d816ea152f326b9280ca2?s=128&d=identicon&r=PG", "display_name": "Naftis", "link": "https://stackoverflow.com/users/632116/naftis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8091, "favorite_count": 4, "protected_date": 1482269982, "accepted_answer_id": 29727696, "answer_count": 1, "score": 8, "last_activity_date": 1482264938, "creation_date": 1429260479, "last_edit_date": 1495542306, "question_id": 29694470, "link": "https://stackoverflow.com/questions/29694470/uploading-files-with-flow-js-ng-flow-to-webapi-2", "title": "Uploading files with flow.js + ng-flow to WebAPI 2", "body": "<p>I'm trying to use flow.js (<a href=\"https://github.com/flowjs/flow.js\" rel=\"nofollow noreferrer\">https://github.com/flowjs/flow.js</a>) via its Angular wrapper (<a href=\"https://github.com/flowjs/ng-flow/tree/master/samples/basic\" rel=\"nofollow noreferrer\">https://github.com/flowjs/ng-flow/tree/master/samples/basic</a>) to upload files to an ASP.NET WebAPI 2 server. Anyway when I select a file to upload my WebAPI just gets the first chunk GET request and then nothing happens: no POST is done, and it seems that flow.js did not start the upload.</p>\n\n<p>The initial GET fired when I select a file is:</p>\n\n<pre><code>GET http://localhost:49330/api/upload?flowChunkNumber=1&amp;flowChunkSize=1048576&amp;flowCurrentChunkSize=4751&amp;flowTotalSize=4751&amp;flowIdentifier=4751-ElmahMySqlsql&amp;flowFilename=Elmah.MySql.sql&amp;flowRelativePath=Elmah.MySql.sql&amp;flowTotalChunks=1 HTTP/1.1\nHost: localhost:49330\nConnection: keep-alive\nUser-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36\nAccept: */*\nReferer: http://localhost:49330/\nAccept-Encoding: gzip, deflate, sdch\nAccept-Language: en-US,en;q=0.8,it;q=0.6\n</code></pre>\n\n<p>And the response is:</p>\n\n<pre><code>HTTP/1.1 202 Accepted\nCache-Control: no-cache\nPragma: no-cache\nExpires: -1\nServer: Microsoft-IIS/8.0\nX-AspNet-Version: 4.0.30319\nX-SourceFiles: =?UTF-8?B?QzpcUHJvamVjdHNcNDViXFRlc3RcVXBUZXN0XFVwVGVzdFxhcGlcdXBsb2Fk?=\nX-Powered-By: ASP.NET\nDate: Fri, 17 Apr 2015 08:02:56 GMT\nContent-Length: 0\n</code></pre>\n\n<p>Then, no more requests are issued.</p>\n\n<p>As it seems there is no up-to-date WebAPI example, but only scattered posts, I created for newbies like me a dummy repro solution you can download from <a href=\"http://1drv.ms/1CSF5jq\" rel=\"nofollow noreferrer\">http://1drv.ms/1CSF5jq</a>: it's an ASP.NET WebAPI 2 solution where I placed the upload code in the home view, after adding the corresponding API controller. Just hit F5 and try uploading a file. You can find the API controller in <code>UploadController.cs</code>.</p>\n\n<p>The relevant code parts are:</p>\n\n<p>a) <strong>client side</strong>: a page similar to the quick-start example of the ng-flow page:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n        &lt;div flow-init=\"{target: '/api/upload'}\"\n             flow-files-submitted=\"$flow.upload()\"\n             flow-file-success=\"$file.msg = $message\"&gt;\n            &lt;input type=\"file\" flow-btn /&gt;\n            &lt;ol&gt;\n                &lt;li ng-repeat=\"file in $flow.files\"&gt;{{file.name}}: {{file.msg}}&lt;/li&gt;\n            &lt;/ol&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The corresponding code is essentially an empty TS skeleton with the module initialization:</p>\n\n<pre><code>module Up {\n    export interface IMainScope {\n    }\n\n    export class MainController {\n        public static $inject = [\"$scope\"];\n        constructor(private $scope: IMainScope) {\n        }\n    }\n\n    var app = angular.module(\"app\", [\"flow\"]);\n    app.controller(\"mainController\", MainController);\n}\n</code></pre>\n\n<p>b) <strong>server side</strong>: I added some bunding for the required scripts, and the following controller, modified from the sample code I found at <a href=\"https://stackoverflow.com/questions/24475890/how-to-upload-file-in-chunks-in-asp-net-using-ng-flow/25486943#25486943\">How to upload file in chunks in ASP.NET using ng-Flow</a>. Note that in the GET <code>Upload</code> method I changed the signature using a binding model (otherwise we would get a 404 as the route was not matched), and when the chunk is not found I return a <code>202 - Accepted</code> code rather than 404, as flow.js documentation says that 200 corresponds to \"The chunk was accepted and correct. No need to re-upload\", while a 404 cancels the entire upload, and any other code (like 202 here) tells the uploader to retry.</p>\n\n<pre><code>[RoutePrefix(\"api\")]\npublic class UploadController : ApiController\n{\n    private readonly string _sRoot;\n\n    public UploadController()\n    {\n        _sRoot = HostingEnvironment.MapPath(\"~/App_Data/Uploads\");\n    }\n\n    [Route(\"upload\"), AcceptVerbs(\"GET\")]\n    public IHttpActionResult Upload([FromUri] UploadBindingModel model)\n    {\n        if (IsChunkHere(model.FlowChunkNumber, model.FlowIdentifier)) return Ok();\n        return ResponseMessage(new HttpResponseMessage(HttpStatusCode.Accepted));\n    }\n\n    [Route(\"upload\"), AcceptVerbs(\"POST\")]\n    public async Task&lt;IHttpActionResult&gt; Upload()\n    {\n        // ensure that the request contains multipart/form-data\n        if (!Request.Content.IsMimeMultipartContent())\n            throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);\n\n        if (!Directory.Exists(_sRoot)) Directory.CreateDirectory(_sRoot);\n        MultipartFormDataStreamProvider provider = \n            new MultipartFormDataStreamProvider(_sRoot);\n        try\n        {\n            await Request.Content.ReadAsMultipartAsync(provider);\n            int nChunkNumber = Convert.ToInt32(provider.FormData[\"flowChunkNumber\"]);\n            int nTotalChunks = Convert.ToInt32(provider.FormData[\"flowTotalChunks\"]);\n            string sIdentifier = provider.FormData[\"flowIdentifier\"];\n            string sFileName = provider.FormData[\"flowFilename\"];\n\n            // rename the generated file\n            MultipartFileData chunk = provider.FileData[0]; // Only one file in multipart message\n            RenameChunk(chunk, nChunkNumber, sIdentifier);\n\n            // assemble chunks into single file if they're all here\n            TryAssembleFile(sIdentifier, nTotalChunks, sFileName);\n\n            return Ok();\n        }\n        catch (Exception ex)\n        {\n            return InternalServerError(ex);\n        }\n    }\n\n    private string GetChunkFileName(int chunkNumber, string identifier)\n    {\n        return Path.Combine(_sRoot,\n            String.Format(CultureInfo.InvariantCulture, \"{0}_{1}\",\n                identifier, chunkNumber));\n    }\n\n    private void RenameChunk(MultipartFileData chunk, int chunkNumber, string identifier)\n    {\n        string sGeneratedFileName = chunk.LocalFileName;\n        string sChunkFileName = GetChunkFileName(chunkNumber, identifier);\n        if (File.Exists(sChunkFileName)) File.Delete(sChunkFileName);\n        File.Move(sGeneratedFileName, sChunkFileName);\n    }\n\n    private string GetFileName(string identifier)\n    {\n        return Path.Combine(_sRoot, identifier);\n    }\n\n    private bool IsChunkHere(int chunkNumber, string identifier)\n    {\n        string sFileName = GetChunkFileName(chunkNumber, identifier);\n        return File.Exists(sFileName);\n    }\n\n    private bool AreAllChunksHere(string identifier, int totalChunks)\n    {\n        for (int nChunkNumber = 1; nChunkNumber &lt;= totalChunks; nChunkNumber++)\n            if (!IsChunkHere(nChunkNumber, identifier)) return false;\n        return true;\n    }\n\n    private void TryAssembleFile(string identifier, int totalChunks, string filename)\n    {\n        if (!AreAllChunksHere(identifier, totalChunks)) return;\n\n        // create a single file\n        string sConsolidatedFileName = GetFileName(identifier);\n        using (Stream destStream = File.Create(sConsolidatedFileName, 15000))\n        {\n            for (int nChunkNumber = 1; nChunkNumber &lt;= totalChunks; nChunkNumber++)\n            {\n                string sChunkFileName = GetChunkFileName(nChunkNumber, identifier);\n                using (Stream sourceStream = File.OpenRead(sChunkFileName))\n                {\n                    sourceStream.CopyTo(destStream);\n                }\n            } //efor\n            destStream.Close();\n        }\n\n        // rename consolidated with original name of upload\n        // strip to filename if directory is specified (avoid cross-directory attack)\n        filename = Path.GetFileName(filename);\n        Debug.Assert(filename != null);\n\n        string sRealFileName = Path.Combine(_sRoot, filename);\n        if (File.Exists(filename)) File.Delete(sRealFileName);\n        File.Move(sConsolidatedFileName, sRealFileName);\n\n        // delete chunk files\n        for (int nChunkNumber = 1; nChunkNumber &lt;= totalChunks; nChunkNumber++)\n        {\n            string sChunkFileName = GetChunkFileName(nChunkNumber, identifier);\n            File.Delete(sChunkFileName);\n        } //efor\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 0, "creation_date": 1601079677, "post_id": 29689966, "comment_id": 113302504, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/14638990/are-strongly-typed-functions-as-parameters-possible-in-typescript\">Are strongly-typed functions as parameters possible in TypeScript?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3576, "user_id": 1484017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iwf8A.jpg?s=128&g=1", "display_name": "Yogesh", "link": "https://stackoverflow.com/users/1484017/yogesh"}, "edited": false, "score": 34, "creation_date": 1474370138, "post_id": 29690008, "comment_id": 66493990, "body": "this thing is missing in <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\">basic types</a>"}, {"owner": {"reputation": 1343, "user_id": 3016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3U2N.jpg?s=128&g=1", "display_name": "kpup", "link": "https://stackoverflow.com/users/3016183/kpup"}, "edited": false, "score": 15, "creation_date": 1487890186, "post_id": 29690008, "comment_id": 72000834, "body": "It&#39;s not a basic type because you should define your arguments and return values. something like callback: (number: number) =&gt; void; is much more useful for type checking than callback: function; would be."}, {"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "reply_to_user": {"reputation": 1343, "user_id": 3016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3U2N.jpg?s=128&g=1", "display_name": "kpup", "link": "https://stackoverflow.com/users/3016183/kpup"}, "edited": false, "score": 0, "creation_date": 1527611322, "post_id": 29690008, "comment_id": 88187274, "body": "@kpup To be clear, are you saying <i>not</i> to use capital F <code>Function</code> as shown in the first line of this answer, and saying the second paragraph (using type of <code>() =&gt; void</code> or whatever matches the use case) is preferred?"}, {"owner": {"reputation": 14840, "user_id": 628699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4db7defe750f581c78a607c4fab5a26d?s=128&d=identicon&r=PG", "display_name": "imjared", "link": "https://stackoverflow.com/users/628699/imjared"}, "edited": false, "score": 2, "creation_date": 1532455655, "post_id": 29690008, "comment_id": 89978990, "body": "FWIW, docs on function types are available <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#function-types\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 9279, "user_id": 592760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/460ac4485bc537b5c13269fa12874476?s=128&d=identicon&r=PG", "display_name": "SgtPooki", "link": "https://stackoverflow.com/users/592760/sgtpooki"}, "edited": false, "score": 0, "creation_date": 1600890725, "post_id": 29690008, "comment_id": 113235329, "body": "I added some clarifying examples to the answer and some additional details."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 411, "last_activity_date": 1600891074, "last_edit_date": 1600891074, "creation_date": 1429243120, "answer_id": 29690008, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/29690008#29690008", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>The global type <code>Function</code> serves this purpose.</p>\n<p>Additionally, if you intend to invoke this callback with 0 arguments and will ignore its return value, the type <code>() =&gt; void</code> matches all functions taking no arguments.</p>\n<hr />\n<h2>Update with details and improvements.</h2>\n<p>The answer and question here has way too many updoots not to mention the only-slightly more complex yet best-practice method:</p>\n<p><strong>Solution to your question</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>interface Easy_Fix_Solution {\n    title: string;\n    callback: Function;\n}\n</code></pre>\n<p><em>NOTE:</em> Please do not use <code>Function</code> as you most likely do not want <code>any</code> callback function. It's okay to be a little specific.</p>\n<p><strong>Improvement to that solution</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>interface Safer_Easy_Fix {\n    title: string;\n    callback: () =&gt; void;\n}\ninterface Alternate_Syntax_4_Safer_Easy_Fix {\n    title: string;\n    callback(): void;\n}\n</code></pre>\n<p><em>NOTE:</em> The original author is correct, accepting no arguments and returning void is better.. it's much safer, it tells the consumer of your interface that you will not be doing anything with their return value, and that you will not be passing them any parameters.</p>\n<p><strong>And better yet</strong>\nUse generics. This interface would also work for the same <code>() =&gt; void</code> function types mentioned before.</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface Better_still_safe_but_way_more_flexible_fix {\n    title: string;\n    callback: &lt;T = unknown, R = unknown&gt;(args?: T) =&gt; R;\n}\ninterface Alternate_Syntax_4_Better_still_safe_but_way_more_flexible_fix {\n    title: string;\n    callback&lt;T = unknown, R = unknown&gt;(args?: T): R;\n}\n</code></pre>\n<p><em>NOTE:</em> If you aren't 100% sure about the callback signature right now, please choose the void option above, or this generic option if you think you may extend functionality going forward. Callbacks usually receive some arguments of some sort, and sometimes the callback orchestrator even does something with the return value.</p>\n<p><strong>And a slightly more advanced usecase you shouldn't use unless you need it</strong></p>\n<p>This allows any number of arguments, of any type in T.</p>\n<p>More details <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#rest-elements-in-tuple-types\" rel=\"noreferrer\">here</a>.</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface Alternate_Syntax_4_Advanced {\n    title: string;\n    callback&lt;T extends unknown[], R = unknown&gt;(...args?: T): R;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17238, "user_id": 391150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ui9v.png?s=128&g=1", "display_name": "blorkfish", "link": "https://stackoverflow.com/users/391150/blorkfish"}, "is_accepted": false, "score": 73, "last_activity_date": 1429286105, "creation_date": 1429286105, "answer_id": 29704013, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/29704013#29704013", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>Following from Ryan's answer, I think that the interface you are looking for is defined as follows:</p>\n\n<pre><code>interface Param {\n    title: string;\n    callback: () =&gt; void;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 631, "user_id": 2088345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aedf93d50cff7ccdcac37dec2950f4b?s=128&d=identicon&r=PG", "display_name": "ahong", "link": "https://stackoverflow.com/users/2088345/ahong"}, "edited": false, "score": 1, "creation_date": 1560330720, "post_id": 37195144, "comment_id": 99697112, "body": "Between <code>Function</code> and <code>(...args: any[]) =&gt; any</code> what is preferred?"}, {"owner": {"reputation": 115119, "user_id": 1053, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3f38c0e0cc4a1ca4656bfd8c78a581f2?s=128&d=identicon&r=PG", "display_name": "Ed S.", "link": "https://stackoverflow.com/users/1053/ed-s"}, "reply_to_user": {"reputation": 631, "user_id": 2088345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aedf93d50cff7ccdcac37dec2950f4b?s=128&d=identicon&r=PG", "display_name": "ahong", "link": "https://stackoverflow.com/users/2088345/ahong"}, "edited": false, "score": 0, "creation_date": 1565988912, "post_id": 37195144, "comment_id": 101528098, "body": "@ahong: Personally I would prefer the latter as it provides a signature... normally. <code>...args: any[]</code> isn&#39;t very useful."}, {"owner": {"reputation": 190, "user_id": 10730157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iXg5h.png?s=128&g=1", "display_name": "aqteifan", "link": "https://stackoverflow.com/users/10730157/aqteifan"}, "edited": false, "score": 0, "creation_date": 1570137254, "post_id": 37195144, "comment_id": 102828949, "body": "<code>type CallbackFunctionSomeVariadic =   (arg1: string, arg2: number, ...args: any[]) =&gt; void;</code> what i was looking for, ty."}, {"owner": {"reputation": 14902, "user_id": 129202, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f3abb4bbd888e218bace2f36b2c60d11?s=128&d=identicon&r=PG", "display_name": "Jonny", "link": "https://stackoverflow.com/users/129202/jonny"}, "edited": false, "score": 0, "creation_date": 1599698058, "post_id": 37195144, "comment_id": 112856715, "body": "Seems I was able to export and reuse a definition in other components like this <code>export type CallbackFunctionSomething = (page: number, sort: blablabla) =&gt; void</code>"}], "tags": [], "owner": {"reputation": 4108, "user_id": 1435420, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d13273e7c2c92c5d6e3bb6291854d3e7?s=128&d=identicon&r=PG", "display_name": "David G", "link": "https://stackoverflow.com/users/1435420/david-g"}, "is_accepted": false, "score": 231, "last_activity_date": 1463078888, "creation_date": 1463078888, "answer_id": 37195144, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/37195144#37195144", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>Typescript from v1.4 has the <code>type</code> keyword which declares a type alias (analogous to a <code>typedef</code> in C/C++). You can declare your callback type thus:</p>\n\n<pre><code>type CallbackFunction = () =&gt; void;\n</code></pre>\n\n<p>which declares a function that takes no arguments and returns nothing. A function that takes zero or more arguments of any type and returns nothing would be:</p>\n\n<pre><code>type CallbackFunctionVariadic = (...args: any[]) =&gt; void;\n</code></pre>\n\n<p>Then you can say, for example,</p>\n\n<pre><code>let callback: CallbackFunctionVariadic = function(...args: any[]) {\n  // do some stuff\n};\n</code></pre>\n\n<p>If you want a function that takes an arbitrary number of arguments and returns anything (including void):</p>\n\n<pre><code>type CallbackFunctionVariadicAnyReturn = (...args: any[]) =&gt; any;\n</code></pre>\n\n<p>You can specify some mandatory arguments and then a set of additional arguments (say a string, a number and then a set of extra args) thus:</p>\n\n<pre><code>type CallbackFunctionSomeVariadic =\n  (arg1: string, arg2: number, ...args: any[]) =&gt; void;\n</code></pre>\n\n<p>This can be useful for things like EventEmitter handlers.</p>\n\n<p>Functions can be typed as strongly as you like in this fashion, although you can get carried away and run into combinatoric problems if you try to nail everything down with a type alias.</p>\n"}, {"tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": false, "score": 37, "last_activity_date": 1487464321, "last_edit_date": 1487464321, "creation_date": 1487462220, "answer_id": 42322057, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/42322057#42322057", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>Here's an example of a function that accepts a callback</p>\n\n<pre><code>const sqk = (x: number, callback: ((_: number) =&gt; number)): number =&gt; {\n  // callback will receive a number and expected to return a number\n  return callback (x * x);\n}\n\n// here our callback will receive a number\nsqk(5, function(x) {\n  console.log(x); // 25\n  return x;       // we must return a number here\n});\n</code></pre>\n\n<p>If you don't care about the return values of callbacks (most people don't know how to utilize them in any effective way), you can use <code>void</code></p>\n\n<pre><code>const sqk = (x: number, callback: ((_: number) =&gt; void)): void =&gt; {\n  // callback will receive a number, we don't care what it returns\n  callback (x * x);\n}\n\n// here our callback will receive a number\nsqk(5, function(x) {\n  console.log(x); // 25\n  // void\n});\n</code></pre>\n\n<p>Note, the signature I used for the <code>callback</code> parameter ...</p>\n\n<pre><code>const sqk = (x: number, callback: <b>((_: number) => number</b>)): number</code></pre>\n\n<p>I would say this is a TypeScript deficiency because we are expected to provide a <em>name</em> for the callback parameters. In this case I used <code>_</code> because it's not usable inside the <code>sqk</code> function.</p>\n\n<p>However, if you do this</p>\n\n<pre><code>// danger!! don't do this\nconst sqk = (x: number, callback: (<b>(number)</b> => number)): number</code></pre>\n\n<p>It's <em>valid</em> TypeScript, but it will interpreted as ...</p>\n\n<pre><code>// watch out! typescript will think it means ...\nconst sqk = (x: number, callback: (<b>(number: any)</b> => number)): number</code></pre>\n\n<p>Ie, TypeScript will think the parameter <em>name</em> is <code>number</code> and the implied type is <code>any</code>. This is obviously not what we intended, but alas, that is how TypeScript works.</p>\n\n<p>So don't forget to provide the parameter names when typing your function parameters... stupid as it might seem.</p>\n"}, {"tags": [], "owner": {"reputation": 1118, "user_id": 1427614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ4cg.jpg?s=128&g=1", "display_name": "Humayoun_Kabir", "link": "https://stackoverflow.com/users/1427614/humayoun-kabir"}, "is_accepted": false, "score": 44, "last_activity_date": 1537255314, "last_edit_date": 1537255314, "creation_date": 1537170112, "answer_id": 52362947, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/52362947#52362947", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>You can define a function type in interface in various ways, </p>\n\n<ol>\n<li>general way:</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface IParam {\n  title: string;\n  callback(arg1: number, arg2: number): number;\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>If you would like to use property syntax then, </li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface IParam {\n  title: string;\n  callback: (arg1: number, arg2: number) =&gt; number;\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>If you declare the function type first then,</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>type MyFnType = (arg1: number, arg2: number) =&gt; number;\n\nexport interface IParam {\n  title: string;\n  callback: MyFnType;\n}\n</code></pre>\n\n<p>Using is very straight forward,</p>\n\n<pre><code>function callingFn(paramInfo: IParam):number {\n    let needToCall = true;\n    let result = 0;\n   if(needToCall){\n     result = paramInfo.callback(1,2);\n    }\n\n    return result;\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>You can  declare a function type literal also , which mean a function can accept another function as it's parameter. parameterize function can be called as callback also.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface IParam{\n  title: string;\n  callback(lateCallFn?:\n             (arg1:number,arg2:number)=&gt;number):number;\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 11228904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8e0bbee2c74212d129a923ce3679d6?s=128&d=identicon&r=PG&f=1", "display_name": "Artur T", "link": "https://stackoverflow.com/users/11228904/artur-t"}, "is_accepted": false, "score": 16, "last_activity_date": 1578146786, "creation_date": 1578146786, "answer_id": 59591433, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/59591433#59591433", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>There are four abstract function types, you can use them separately when you know your function will take an argument(s) or not, will return a data or not.</p>\n\n<pre><code>export declare type fEmptyVoid = () =&gt; void;\nexport declare type fEmptyReturn = () =&gt; any;\nexport declare type fArgVoid = (...args: any[]) =&gt; void;\nexport declare type fArgReturn = (...args: any[]) =&gt; any;\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>public isValid: fEmptyReturn = (): boolean =&gt; true;\npublic setStatus: fArgVoid = (status: boolean): void =&gt; this.status = status;\n</code></pre>\n\n<p>For use only one type as any function type we can combine all abstract types together, like this:</p>\n\n<pre><code>export declare type fFunction = fEmptyVoid | fEmptyReturn | fArgVoid | fArgReturn;\n</code></pre>\n\n<p>then use it like:</p>\n\n<pre><code>public isValid: fFunction = (): boolean =&gt; true;\npublic setStatus: fFunction = (status: boolean): void =&gt; this.status = status;\n</code></pre>\n\n<p>In the example above everything is correct. But the usage example in bellow is not correct from the point of view of most code editors.</p>\n\n<pre><code>// you can call this function with any type of function as argument\npublic callArgument(callback: fFunction) {\n\n    // but you will get editor error if call callback argument like this\n    callback();\n}\n</code></pre>\n\n<p>Correct call for editors is like this:</p>\n\n<pre><code>public callArgument(callback: fFunction) {\n\n    // pay attention in this part, for fix editor(s) error\n    (callback as fFunction)();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": false, "score": 5, "last_activity_date": 1586892976, "last_edit_date": 1592644375, "creation_date": 1586892590, "answer_id": 61215671, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/61215671#61215671", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<blockquote>\n<p>Typescript: How to define type for a function callback used in a <em>method</em> parameter?</p>\n</blockquote>\n<p>You can declare the callback as 1) <em>function property</em> or 2) <em>method</em>:</p>\n<pre><code>interface ParamFnProp {\n    callback: (a: Animal) =&gt; void; // function property\n}\n\ninterface ParamMethod {\n    callback(a: Animal): void; // method\n}\n</code></pre>\n<p>There is an important <em>typing</em> difference since <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#strict-function-types\" rel=\"nofollow noreferrer\">TS 2.6</a>:</p>\n<p>You get stronger (&quot;sound&quot;) types in <code>--strict</code> or <code>--strictFunctionTypes</code> mode, when a <em>function property</em> is declared. Let's take an example:</p>\n<pre><code>const animalCallback = (a: Animal): void =&gt; { } // Animal is the base type for Dog\nconst dogCallback = (d: Dog): void =&gt; { } \n</code></pre>\n<pre><code>// function property variant\nconst param11: ParamFnProp = { callback: dogCallback } // error: not assignable\nconst param12: ParamFnProp = { callback: animalCallback } // works\n\n// method variant\nconst param2: ParamMethod = { callback: dogCallback } // now it works again ...\n</code></pre>\n<p>Technically spoken, methods are <em>bivariant</em> and function properties <a href=\"https://www.stephanboyer.com/post/132/what-are-covariance-and-contravariance\" rel=\"nofollow noreferrer\"><em>contravariant</em></a> in their arguments under <code>strictFunctionTypes</code>. Methods are still <a href=\"https://github.com/microsoft/TypeScript/wiki/FAQ#why-are-function-parameters-bivariant\" rel=\"nofollow noreferrer\">checked more permissively</a> (even if not sound) to be a bit more practical in combination with built-in types like <code>Array</code>.</p>\n<h3>Summary</h3>\n<ul>\n<li>There is a type difference between function property and method declaration</li>\n<li>Choose a function property for stronger types, if possible</li>\n</ul>\n<p><a href=\"https://www.typescriptlang.org/play/?ts=3.8.3&amp;ssl=30&amp;ssc=80&amp;pln=25&amp;pc=1#code/JYOwLgpgTgZghgYwgAgIImAWzgG2QbwFgAoZM5EOTCALmQGcwpQBzEgXxJNElkRQAiAexbIIAD0ggAJvTQZseIqXIIAFnHoR6dAEZChOCHBAcuxHtHhJkAYThgxkiDLnosuAiXLIEUCBAADjrI+obGpsScxNzgVvzIAApwUFQAYiCJUEKBXipkCLg4uogA1nQAFHB07ooAlMgAvAB8yABuQsDSANzIAPR9yDAAriAIYMBCIMiB2YHQYACeZjEWcXw2yamYALIQYGpC0nk+hTjFZVU1Crh1dB1dvQPI1AdHKyQIU4zI0iL25xKCFKTWQFWkdGELDu7U6xxaBGQ0S+IB+hTAAIuwNBFQQdHsYBhD3hrXwSM+30cJg8OExQJBjTB1XkNKJcKapPJq2eIzGEymMzmC0W7RSwBMYApqMcgRSVAAjPK6Ft0pk5qCyWcseVfv8ivSkf1BtBslA6CAhFT6PRgCxKLojFKfrLtvKAEzKuWYDJZHIa3z6sp0amKOllQ3PADuQigpXo5mer0OxzaYolTplXo9SS9eze8MRWvpdD+LDD2PYRooQkjyGAjmjsbkcBYcFAyAAdF3zD3ViQgA\" rel=\"nofollow noreferrer\">Playground sample code</a></p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 13528639, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gj8xIXd7lXzOtX4VRZTph8xyaSjV_MSwrAjWJpz=k-s128", "display_name": "Saif Ali Khan", "link": "https://stackoverflow.com/users/13528639/saif-ali-khan"}, "is_accepted": false, "score": 2, "last_activity_date": 1596741273, "last_edit_date": 1596741273, "creation_date": 1596730438, "answer_id": 63287751, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/63287751#63287751", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>Hopefully, this will help...</p>\n<pre><code>interface Param {\n    title: string;\n    callback: (error: Error, data: string) =&gt; void;\n}\n\n</code></pre>\n<p>Or in a Function</p>\n<pre><code>\nlet myfunction = (title: string, callback: (error: Error, data: string) =&gt; void): string =&gt; {\n\n    callback(new Error(`Error Message Here.`), &quot;This is callback data.&quot;);\n    return title;\n\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 671, "user_id": 9591441, "user_type": "registered", "profile_image": "https://graph.facebook.com/214436282644042/picture?type=large", "display_name": "Edwin Pratt", "link": "https://stackoverflow.com/users/9591441/edwin-pratt"}, "is_accepted": false, "score": 0, "last_activity_date": 1611131902, "creation_date": 1611131902, "answer_id": 65805847, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no/65805847#65805847", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>I've just started using Typescript and I've been trying to solve a similar problem like this; how to tell the Typescript that I'm passing a callback without an <code>interface</code>.</p>\n<p>After browsing a few answers on Stack Overflow and GitHub issues, I finally found a solution that may help anyone with the same problem.</p>\n<p>A function's type can be defined with <code>(arg0: type0) =&gt; returnType</code> and we can use this type definition in another function's parameter list.</p>\n<pre class=\"lang-js prettyprint-override\"><code>function runCallback(callback: (sum: number) =&gt; void, a: number, b: number): void {\n    callback(a + b);\n}\n\n// Another way of writing the function would be:\n// let logSum: (sum: number) =&gt; void = function(sum: number): void {\n//     console.log(sum);\n// };\nfunction logSum(sum: number): void {\n    console.log(`The sum is ${sum}.`);\n}\n\nrunCallback(logSum, 2, 2);\n</code></pre>\n"}], "owner": {"reputation": 4601, "user_id": 2702809, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000478443105/picture?type=large", "display_name": "Smrutiranjan Sahu", "link": "https://stackoverflow.com/users/2702809/smrutiranjan-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335725, "favorite_count": 66, "answer_count": 9, "score": 432, "last_activity_date": 1611131902, "creation_date": 1429242799, "last_edit_date": 1464270023, "question_id": 29689966, "link": "https://stackoverflow.com/questions/29689966/typescript-how-to-define-type-for-a-function-callback-as-any-function-type-no", "title": "Typescript: How to define type for a function callback (as any function type, not universal any) used in a method parameter", "body": "<p>Currently I have type definition as:</p>\n\n<pre><code>interface Param {\n    title: string;\n    callback: any;\n}\n</code></pre>\n\n<p>I need something like:</p>\n\n<pre><code>interface Param {\n    title: string;\n    callback: function;\n}\n</code></pre>\n\n<p>but the 2nd one is not being accepted.</p>\n"}, {"tags": ["knockout.js", "typescript", "durandal", "rubymine"], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 2251303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6bbbc78a70fcb3621e68d4b2630d8900?s=128&d=identicon&r=PG", "display_name": "new2cpp", "link": "https://stackoverflow.com/users/2251303/new2cpp"}, "edited": false, "score": 0, "creation_date": 1429245175, "post_id": 29690298, "comment_id": 47517335, "body": "Thanks for your input. I can run the code without any issue. I think it is not an actual error. Also, I&#39;ve updated the code."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2111, "user_id": 2251303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6bbbc78a70fcb3621e68d4b2630d8900?s=128&d=identicon&r=PG", "display_name": "new2cpp", "link": "https://stackoverflow.com/users/2251303/new2cpp"}, "edited": false, "score": 0, "creation_date": 1429247251, "post_id": 29690298, "comment_id": 47518075, "body": "It looks like a rubymine <i>bug</i> i.e. not something I can recommend a solution for other than saying : report it to their issue tracker"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1429244788, "creation_date": 1429244788, "answer_id": 29690298, "question_id": 29689952, "link": "https://stackoverflow.com/questions/29689952/rubymine-fails-to-find-correct-object-type-and-report-unresolved-variable-erro/29690298#29690298", "title": "Rubymine fails to find correct object type and report &quot;unresolved variable&quot; error", "body": "<p>Since you have <code>public</code> in <code>public reorderedItems</code> I am assuming you are using a class. </p>\n\n<p>So you need a <code>this</code> here : <code>reorderedItems.filter</code> so <code>this.reorderedItems.filter</code></p>\n"}], "owner": {"reputation": 2111, "user_id": 2251303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6bbbc78a70fcb3621e68d4b2630d8900?s=128&d=identicon&r=PG", "display_name": "new2cpp", "link": "https://stackoverflow.com/users/2251303/new2cpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429245100, "creation_date": 1429242709, "last_edit_date": 1429245100, "question_id": 29689952, "link": "https://stackoverflow.com/questions/29689952/rubymine-fails-to-find-correct-object-type-and-report-unresolved-variable-erro", "title": "Rubymine fails to find correct object type and report &quot;unresolved variable&quot; error", "body": "<p>I just upgrade the rubymine to 7.1 and it starts to reports \"unresolved variable\" error to the object(type: any) array.\nFor example in the follow typescript program:</p>\n\n<pre><code>public reorderedItems = ko.observableArray&lt;any&gt;(null);\npublic internalItems:KnockoutComputed&lt;any[]&gt;;\npublic itemNameExtractor:(item:any)=&gt;string;\n\nprivate whenAttached = Q.defer&lt;any&gt;();\nprivate adapter:IDraggableItemListSettings;\n\npublic activate(settings:{\n    adapter:IDraggableItemListSettings\n}) {\n    super.activate(settings);\n\n    this.adapter = settings.adapter;\n\n    this.selectedItems = this.adapter.selectedItems || ko.observableArray([]);\n    this.internalItems = ko.computed(()=&gt; {\n        var originalSelectedItems = this.selectedItems();\n        var reorderedItems = this.reorderedItems();\n\n        originalSelectedItems.forEach(item=&gt; {\n            var itemNotInReordered = reorderedItems.filter(t=&gt;t.item === item).length === 0;\n            if (itemNotInReordered) {\n                var lstItem = {\n                    item: item,\n                    selected: ko.observable(true)\n                };\n\n                reorderedItems.push(lstItem);\n                lstItem.selected.subscribe(this.selectionChanging.bind(this));\n            }\n        });\n\n        return reorderedItems;\n    });\n...\nthis.reorderedItems(items);\n</code></pre>\n\n<p>Initially, I defined <code>reorderedItems</code> and then pass <code>items</code> from parent directly into <code>recorderedItems</code>, the <code>items</code> is an object array, each <code>item</code> is <code>{id:xxx, item:xxx}</code>. But it seems rubymine cannot find <code>reorderedItems()</code> type and report <code>unresolved variable item</code> for the <code>t.item</code></p>\n\n<p>How to disable such wrong error report in rubymine?</p>\n\n<p>Sorry, I forgot to mention that I can compile and run my code without any issue. Even though rubymine report the above error.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1335, "user_id": 14214, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1620a9f816c8e25c623ca0555a52198?s=128&d=identicon&r=PG", "display_name": "lzcd", "link": "https://stackoverflow.com/users/14214/lzcd"}, "edited": false, "score": 0, "creation_date": 1429223764, "post_id": 29687113, "comment_id": 47511328, "body": "To match the capabilities of Javascript upon which Typescript sits?"}, {"owner": {"reputation": 1903, "user_id": 595136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/27d2533dcc77c3c324162240b4d99cd8?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/595136/marius"}, "reply_to_user": {"reputation": 1335, "user_id": 14214, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1620a9f816c8e25c623ca0555a52198?s=128&d=identicon&r=PG", "display_name": "lzcd", "link": "https://stackoverflow.com/users/14214/lzcd"}, "edited": false, "score": 0, "creation_date": 1429224105, "post_id": 29687113, "comment_id": 47511429, "body": "Can you provide an example?"}, {"owner": {"reputation": 1335, "user_id": 14214, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1620a9f816c8e25c623ca0555a52198?s=128&d=identicon&r=PG", "display_name": "lzcd", "link": "https://stackoverflow.com/users/14214/lzcd"}, "edited": false, "score": 0, "creation_date": 1429235785, "post_id": 29687113, "comment_id": 47514852, "body": "I&#39;m not sure. Everything in JS is addressable via string and integer. e.g. var stuff = []. stuff[&quot;one&quot;] = &quot;two&quot;.  stuff[0] is just as valid as stuff[&quot;one&quot;] to access the value of &quot;two&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1429224474, "creation_date": 1429224474, "answer_id": 29687274, "question_id": 29687113, "link": "https://stackoverflow.com/questions/29687113/why-is-it-possible-to-have-both-numeric-and-string-index-signatures-for-an-inter/29687274#29687274", "title": "Why is it possible to have both numeric and string index signatures for an interface in TypeScript?", "body": "<p>Because the number indexer type has to be a subtype of the string indexer type, it's not terribly useful unless you had some crazy type where the string-named properties were of some base type and the number-named properties were a subtype of that type. I can't imagine a use for this.</p>\n\n<p>In short, it's allowed because it's not <em>disallowed</em>.</p>\n"}], "owner": {"reputation": 1903, "user_id": 595136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/27d2533dcc77c3c324162240b4d99cd8?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/595136/marius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 29687274, "answer_count": 1, "score": 0, "last_activity_date": 1429224474, "creation_date": 1429223496, "question_id": 29687113, "link": "https://stackoverflow.com/questions/29687113/why-is-it-possible-to-have-both-numeric-and-string-index-signatures-for-an-inter", "title": "Why is it possible to have both numeric and string index signatures for an interface in TypeScript?", "body": "<p>According to the language specification it is possible to have an interface with both numeric and string index signature, so the following interface seems to be valid:</p>\n\n<pre><code>interface WeirdArray {\n  [index: string]: string;\n  [index: number]: string;\n}\n</code></pre>\n\n<p>But I can't find a suitable example where such an interface can be used, can someone provide an example where such an interface makes sense?</p>\n"}, {"tags": ["typescript", "typescript1.4"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4797641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QeOr7.jpg?s=128&g=1", "display_name": "Hubuki Kai", "link": "https://stackoverflow.com/users/4797641/hubuki-kai"}, "edited": false, "score": 0, "creation_date": 1429226273, "post_id": 29685163, "comment_id": 47512177, "body": "Bummer. That makes union types considerably less useful, at least for our usage. I should have checked the compiled JS, for some reason I was thinking Typescript was adding some information to enable reflection. This puts a real limitation on what you can do with a native JS library, since even objects (such as a KnockoutObservable) are accessed as interfaces via the .d.ts file- or is this simply a known limitation?"}, {"owner": {"reputation": 3193, "user_id": 317692, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9a2727ef49894e4a013b1b96a92c5875?s=128&d=identicon&r=PG", "display_name": "BJ Safdie", "link": "https://stackoverflow.com/users/317692/bj-safdie"}, "edited": false, "score": 0, "creation_date": 1431988037, "post_id": 29685163, "comment_id": 48722898, "body": "i am struggling with similar issues. I am looking at declaring interfaces that have fields that are a union of a primitive type or a KO observable so that view models and server sent DTOs can share the same interface. I am looking at using ko.unwrap on method parameters so that they can expect to operate on the parameters consistently. That should alleviate the need for specific type checks. Might that help in this situation? Do you see a downside to this approach?"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 2, "last_activity_date": 1429215419, "creation_date": 1429215419, "answer_id": 29685163, "question_id": 29683613, "link": "https://stackoverflow.com/questions/29683613/typescript-interfaces-in-union-types-cause-errors-with-instanceof/29685163#29685163", "title": "Typescript: Interfaces in Union Types Cause Errors with Instanceof", "body": "<p>Note that assigning to a variable anywhere in a function body \"turns off\" type guards on that variable, so I've removed assignments from this example.</p>\n\n<p>Basically, there's the case that works as expected, a case that ought to work but doesn't, and a case that doesn't work because there's no runtime type information for interfaces. <code>instanceof</code> is a JavaScript operator that checks the prototype chain of an object, not a TypeScript construct for doing type operations.</p>\n\n<pre><code>    var var1: number|foo;\n    // OK\n    if (typeof var1 === \"number\") { }\n\n    // Bug #2775\n    // https://github.com/Microsoft/TypeScript/issues/2775\n    if (var1 instanceof foo) { }\n    if (var1 instanceof number) { }\n\n    // OK\n    var var2: foo|bar;\n    if (var2 instanceof foo) { }\n    if (var2 instanceof bar) { }\n\n    // TypeScript does not have reflection; there is no\n    // value 'baz' to 'instanceof' at runtime.\n    if (var3 instanceof baz) {\n        var3.baz();\n    }\n</code></pre>\n\n<p>The error about <code>x instanceof number</code> is also intentional; there is no runtime value <code>number</code>. You might be tempted to write <code>x instanceof Number</code>; this would be a mistake (<code>42 instanceof Number</code> is <code>false</code>, not <code>true</code>).</p>\n"}], "owner": {"reputation": 61, "user_id": 4797641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QeOr7.jpg?s=128&g=1", "display_name": "Hubuki Kai", "link": "https://stackoverflow.com/users/4797641/hubuki-kai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1824, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1429215433, "creation_date": 1429210499, "last_edit_date": 1429215433, "question_id": 29683613, "link": "https://stackoverflow.com/questions/29683613/typescript-interfaces-in-union-types-cause-errors-with-instanceof", "title": "Typescript: Interfaces in Union Types Cause Errors with Instanceof", "body": "<p>I've googled for the last hour and I haven't found a good answer or explanation for my problem.</p>\n\n<p>I have a member variable defined as a union type, of a primitive(number) or an interface (KnockoutObservable), and I can not use the instanceof or typeof typeguards without generating an error. I am using VS2013 update 4 with Typescript 1.4. I have set up a few examples to demonstrate the issue:</p>\n\n<pre><code>class foo {\n    foo() {}\n}\n\nclass bar {\n    bar() {}\n}\n\ninterface baz {\n    baz();\n}\n\n// This case breaks\n    var var1: number|foo;\n\n    if (typeof var1 === \"number\") {\n        var1 = 5;\n    }\n    // Generates error \"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.\"\n    else if (var1 instanceof foo) {\n        var1.foo();\n    }\n\n    // This also breaks, same error as above\n    if (var1 instanceof number) {\n        var1 = 5;\n    }\n    else if (var1 instanceof foo) {\n        var1.foo();\n    }\n\n    // This case works\n    var var2: foo|bar;\n\n    if (var2 instanceof foo) {\n        var2.foo();\n    }\n    else if (var2 instanceof bar) {\n        var2.bar();\n    }\n\n    // This case breaks as well\n    var var3: foo|baz;\n\n    if (var3 instanceof foo) {\n        var3.foo();\n    }\n    // Generates error: \"Cannot find name 'baz'.\"\n    else if (var3 instanceof baz) {\n        var3.baz();\n    }\n</code></pre>\n\n<p>My question is why do cases 1 and 3 break? We are creating KnockoutJS components, where the parameter could be an observable or a primitive. Since KnockoutObservable is an interface, this pretty much shuts down being able to use union types in our pattern; if we want the parameter to be either we have to revert to using 'any'.</p>\n\n<p>Some of the things I have found about this (such as <a href=\"https://github.com/Microsoft/TypeScript/issues/1587\" rel=\"nofollow\" title=\"this\">here</a>) seem to imply this is fixed in 1.5. Can anybody give me the lowdown on this?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1429216476, "post_id": 29683434, "comment_id": 47507789, "body": "I&#39;m curious... why would this be useful?"}, {"owner": {"reputation": 223, "user_id": 2687460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b91efe8db868878a125c11ff4d4266?s=128&d=identicon&r=PG&f=1", "display_name": "inferno", "link": "https://stackoverflow.com/users/2687460/inferno"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1429222585, "post_id": 29683434, "comment_id": 47510916, "body": "I am going to build TypeScript Models with an integrated RESTful Client. So you can import TestModel and call TestModel.objects.all() which needs to return a TestModel :D Somehow the objects class (actually it is the REST client) needs to know which Model to populate."}], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 2687460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b91efe8db868878a125c11ff4d4266?s=128&d=identicon&r=PG&f=1", "display_name": "inferno", "link": "https://stackoverflow.com/users/2687460/inferno"}, "edited": false, "score": 0, "creation_date": 1429222218, "post_id": 29685468, "comment_id": 47510773, "body": "Thanks for this.. I always tried my approach with a static property not with a method :D Similar to: &quot;static prop: Manager = new Manager(new this);&quot; - Which is not compiling :) I will go with a static method"}, {"owner": {"reputation": 1164, "user_id": 1572767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GGcqD.jpg?s=128&g=1", "display_name": "ForrestLyman", "link": "https://stackoverflow.com/users/1572767/forrestlyman"}, "edited": false, "score": 3, "creation_date": 1544139401, "post_id": 29685468, "comment_id": 94180895, "body": "When I try this I get the following error: <code>error TS2351: Cannot use &#39;new&#39; with an expression whose type lacks a call or construct signature.</code>"}, {"owner": {"reputation": 1454, "user_id": 786418, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8b52ad7b6375c1bcfbde2e24bd7833e4?s=128&d=identicon&r=PG", "display_name": "lucaswxp", "link": "https://stackoverflow.com/users/786418/lucaswxp"}, "edited": false, "score": 0, "creation_date": 1613765134, "post_id": 29685468, "comment_id": 117187013, "body": "How one calls super? Doesn&#39;t work because I get the wrong type."}], "tags": [], "owner": {"reputation": 816, "user_id": 4792392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c35cfaa023bad81980c6c7aba13af413?s=128&d=identicon&r=PG", "display_name": "vasa_c", "link": "https://stackoverflow.com/users/4792392/vasa-c"}, "is_accepted": true, "score": 14, "last_activity_date": 1429216585, "creation_date": 1429216585, "answer_id": 29685468, "question_id": 29683434, "link": "https://stackoverflow.com/questions/29683434/typescript-create-new-instance-from-class-in-a-static-context/29685468#29685468", "title": "TypeScript create new instance from class in a static context", "body": "<p>Hack :)</p>\n\n<pre><code>static getInstance() {\n     return new this;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3923, "user_id": 1268016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa3K1.jpg?s=128&g=1", "display_name": "mrm", "link": "https://stackoverflow.com/users/1268016/mrm"}, "edited": false, "score": 0, "creation_date": 1492451981, "post_id": 42197854, "comment_id": 73969209, "body": "This was answered correctly 2 years ago. Your answer does not return subclasses as per the question."}, {"owner": {"reputation": 13017, "user_id": 2103202, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6559847a5794fb0c52402841b76db522?s=128&d=identicon&r=PG", "display_name": "Anmol Saraf", "link": "https://stackoverflow.com/users/2103202/anmol-saraf"}, "reply_to_user": {"reputation": 3923, "user_id": 1268016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa3K1.jpg?s=128&g=1", "display_name": "mrm", "link": "https://stackoverflow.com/users/1268016/mrm"}, "edited": false, "score": 0, "creation_date": 1492496117, "post_id": 42197854, "comment_id": 73985152, "body": "Thanks for the update @mrm . Didn&#39;t notice about the sub classes requirement above. I was just trying out different codes and found an example with the Base class instead of &#39;this&#39;, just wanted to elaborate about using classname instead of this which also works if sub classing requirement isn&#39;t there, though haven&#39;t tested it out but I&#39;ll believe what you are saying as you already have tested it out. Thanks for pointing it out, helps the other users."}], "tags": [], "owner": {"reputation": 13017, "user_id": 2103202, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6559847a5794fb0c52402841b76db522?s=128&d=identicon&r=PG", "display_name": "Anmol Saraf", "link": "https://stackoverflow.com/users/2103202/anmol-saraf"}, "is_accepted": false, "score": -3, "last_activity_date": 1486967244, "creation_date": 1486967244, "answer_id": 42197854, "question_id": 29683434, "link": "https://stackoverflow.com/questions/29683434/typescript-create-new-instance-from-class-in-a-static-context/42197854#42197854", "title": "TypeScript create new instance from class in a static context", "body": "<p>You can also use class name itself which in your example is <strong>Base</strong>,</p>\n\n<pre><code>static getInstance() {\n   return new Base()\n}\n</code></pre>\n\n<p>Another example is below which uses <strong><em>Greeter</strong> class name inside static function called <strong>createInstance</em></strong>, you can test following example at <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjii47wtYzSAhXDNiYKHTdwDy4QFggcMAA&amp;url=https%3A%2F%2Fwww.typescriptlang.org%2FPlayground%2F&amp;usg=AFQjCNGARK0TSZKU0vSHv2QTz_lLfKH5Pw&amp;sig2=IzwgenrDcmIvpuhkVXYKwQ\" rel=\"nofollow noreferrer\">TypeScript Playground</a></p>\n\n<pre><code>class Greeter {\n    greeting: string;\n    constructor(message: string) {\n        this.greeting = message;\n    }\n    greet() {\n        return \"Hello, \" + this.greeting;\n    }\n\n    static createInstance(message: any) {\n        return new Greeter(message);\n    }\n}\n\nlet greeter = Greeter.createInstance(\"world\");\n\nlet button = document.createElement('button');\nbutton.textContent = \"Say Hello\";\nbutton.onclick = function() {\n    alert(greeter.greet());\n}\n\ndocument.body.appendChild(button);\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 223, "user_id": 2687460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b91efe8db868878a125c11ff4d4266?s=128&d=identicon&r=PG&f=1", "display_name": "inferno", "link": "https://stackoverflow.com/users/2687460/inferno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4927, "favorite_count": 1, "accepted_answer_id": 29685468, "answer_count": 2, "score": 6, "last_activity_date": 1486967244, "creation_date": 1429209978, "question_id": 29683434, "link": "https://stackoverflow.com/questions/29683434/typescript-create-new-instance-from-class-in-a-static-context", "title": "TypeScript create new instance from class in a static context", "body": "<p>Is there a way in TypeScript to create new instances from a static method in a generic way?</p>\n\n<p>I want to do something like:</p>\n\n<pre><code>class Base {\n    static getInstance() {\n         return new self(); // i need this line :)\n    }\n}\n\nclass Test extends Base {\n}\n\nclass NextTest extends Base {\n}\n\nvar test = Test.getInstance();\nassert(test instanceof Test).toBe(true);\n\nvar nextTest = NextTest.getInstance();\nassert(nextTest instanceof NextTest).toBe(true);\n</code></pre>\n\n<p>It would be really helpful if someone did something like this before and could help me. Maybe there is a JavaScript way? </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3096, "user_id": 3292234, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1g62z.jpg?s=128&g=1", "display_name": "antoinestv", "link": "https://stackoverflow.com/users/3292234/antoinestv"}, "edited": false, "score": 0, "creation_date": 1429200228, "post_id": 29680174, "comment_id": 47497519, "body": "Thanks, I saw that but i forgot that my Filter already contained Filter at the end. Do you know why Angular filters works like that with filters and not services etc ?"}], "tags": [], "owner": {"reputation": 38273, "user_id": 1014979, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/21d8a114a74f670de3cd3c80e423faf5?s=128&d=identicon&r=PG", "display_name": "dnc253", "link": "https://stackoverflow.com/users/1014979/dnc253"}, "is_accepted": true, "score": 1, "last_activity_date": 1429200258, "last_edit_date": 1429200258, "creation_date": 1429200150, "answer_id": 29680174, "question_id": 29680016, "link": "https://stackoverflow.com/questions/29680016/angular-filter-injection-in-service/29680174#29680174", "title": "Angular Filter injection in service", "body": "<p>To inject a filter you have to add the word <code>Filter</code> to the name of the filter. So if your filter is named <code>etatTransfertEnumToStringFilter</code>, you would inject it using <code>etatTransfertEnumToStringFilterFilter</code>.</p>\n"}], "owner": {"reputation": 3096, "user_id": 3292234, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1g62z.jpg?s=128&g=1", "display_name": "antoinestv", "link": "https://stackoverflow.com/users/3292234/antoinestv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 29680174, "answer_count": 1, "score": 0, "last_activity_date": 1429200258, "creation_date": 1429199772, "question_id": 29680016, "link": "https://stackoverflow.com/questions/29680016/angular-filter-injection-in-service", "title": "Angular Filter injection in service", "body": "<p>I have a filter and a service in the same module :</p>\n\n<pre><code>app.filter( \"etatTransfertEnumToStringFilter\", [Filters.EtatTransfertEnumToStringFilter] );\n\n\napp.service( \"notificationService\",\n        [\"$rootScope\",\n            // others dependencies\n            \"etatTransfertEnumToStringFilter\",\n            Services.NotificationService] );\n</code></pre>\n\n<p>The filter works well and i can call him from views but when I inject it into my service (like I did above), i get a <code>Error: $injector:unpr Unknown Provider: etatTransfertEnumToStringFilterProvider &lt;- etatTransfertEnumToStringFilter &lt;- notificationService</code>.</p>\n\n<p>I asked myself if the filter was well loaded in the injector so I listed all controllers, services and filters loaded with :</p>\n\n<pre><code>app._invokeQueue.forEach(function (x) {console.log(x[2][0]);});\n</code></pre>\n\n<p>I can see <code>etatTransfertEnumToStringFilter</code> in the list, so i don't get what is going on.</p>\n\n<p>An idea ?</p>\n\n<p><strong>Edit :</strong> My filter is simple :</p>\n\n<pre><code>module Filters {\n    \"use strict\";\n\n    export function EtatTransfertEnumToStringFilter() {\n        return ( input: Metier.Model.EtatTransfertEnum ) =&gt; {\n            return Metier.Model.EtatTransfertEnum[input];\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 8937, "user_id": 1074382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jerJb.jpg?s=128&g=1", "display_name": "Marcelo De Zen", "link": "https://stackoverflow.com/users/1074382/marcelo-de-zen"}, "is_accepted": true, "score": 4, "last_activity_date": 1429204437, "last_edit_date": 1429204437, "creation_date": 1429195639, "answer_id": 29678286, "question_id": 29677567, "link": "https://stackoverflow.com/questions/29677567/angular-filter-typescript/29678286#29678286", "title": "Angular Filter + Typescript", "body": "<p>That's because you're using the function as Type Declaration. You either:</p>\n\n<p>1) Change the service's constructor declaration:</p>\n\n<p><code>constructor(private xEnumToStringFilter: ( enum: XEnum ) =&gt; string )</code></p>\n\n<p>or</p>\n\n<p>2) Create an Interface and use it interface where you want to use the filter:</p>\n\n<pre><code>module Filters {\n    \"use strict\";\n\n    export interface IXEnumToStringFunction {\n          ( input: XEnum ) =&gt; string\n    }\n\n    export function XEnumToStringFilter() {\n        return ( input: XEnum ) =&gt; {\n            return XEnum[input];\n        }\n    }\n}\n</code></pre>\n\n<p>...</p>\n\n<p>then in the constructor</p>\n\n<p><code>constructor(private xEnumToStringFilter: Filters.IXEnumToStringFunction )</code></p>\n"}, {"tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": false, "score": 2, "last_activity_date": 1429196251, "creation_date": 1429196251, "answer_id": 29678557, "question_id": 29677567, "link": "https://stackoverflow.com/questions/29677567/angular-filter-typescript/29678557#29678557", "title": "Angular Filter + Typescript", "body": "<p>There are two things going on here that I will try to address separately.</p>\n\n<h2>1 - A filter is a function not a type</h2>\n\n<p>The closest you can get to typing this would be:</p>\n\n<pre><code>private xEnumToStringFilter: () =&gt; string\n</code></pre>\n\n<h2>2 - Improper usage of a filter inside service/controller</h2>\n\n<p>In order to use a filter in a service/controller you must inject in the <code>$filter</code> service which you can use to get a reference to your filter via the name it is registered, see the example <a href=\"https://docs.angularjs.org/api/ng/service/$filter\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 3096, "user_id": 3292234, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1g62z.jpg?s=128&g=1", "display_name": "antoinestv", "link": "https://stackoverflow.com/users/3292234/antoinestv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5955, "favorite_count": 0, "accepted_answer_id": 29678286, "answer_count": 2, "score": 6, "last_activity_date": 1429204437, "creation_date": 1429194062, "last_edit_date": 1429199291, "question_id": 29677567, "link": "https://stackoverflow.com/questions/29677567/angular-filter-typescript", "title": "Angular Filter + Typescript", "body": "<p>I have a very simple angular filter. </p>\n\n<p>This filter takes in input a member of an enum (called here XEnum) and returns the string which represent the member in the enum :</p>\n\n<pre><code>module Filters {\n    \"use strict\";\n\n    export function XEnumToStringFilter() {\n        return ( input: XEnum ) =&gt; {\n            return XEnum[input];\n        }\n    }\n}\n\n[...]\n\nmodule Model {\n    export enum XEnum{\n        Started = 0,\n        Stopped = 1\n    }\n}\n\n[...]\n\napp.filter( \"xEnumToStringFilter\", [Filters.XEnumToStringFilter] );\n</code></pre>\n\n<p>This works very well when I use xEnumToStringFilter in my views : </p>\n\n<p><code>{{0 | etatTransfertEnumToStringFilter}}</code> print <code>Started</code> </p>\n\n<p><code>{{1 | etatTransfertEnumToStringFilter}}</code> print <code>Stopped</code></p>\n\n<p>But i want to use this filter in my service :</p>\n\n<pre><code>app.service( \"serviceUsingXEnum\",\n        [\"xEnumToStringFilter\",\n            Services.ServiceUsingXEnum] );\n</code></pre>\n\n<p>But in my service constructor i only get a strange error :</p>\n\n<pre><code>module Services {\n    \"use strict\";\n\n    export class ServiceUsingXEnum {\n\n        constructor(\n            private xEnumToStringFilter: Filters.XEnumToStringFilter // error here\n            ) {\n            // some beautiful code ...\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Module <code>Filters</code> has no exported member <code>XEnumToStringFilter</code></p>\n</blockquote>\n\n<p>Even when my autocompletion say it exist ! </p>\n\n<p>I want to use dependency injection, i could just do <code>Filters.XEnumToStringFilter()(somethingXEnum)</code> but that's bad !</p>\n\n<p>Why can't I use XEnumToStringFilter as a type ?</p>\n\n<p>What is a better way to solve it ? </p>\n"}, {"tags": ["knockout.js", "kendo-ui", "typescript"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1429178425, "post_id": 29671223, "comment_id": 47480478, "body": "You can use the old school solution: <code>var that = this;</code> in the parent function."}, {"owner": {"reputation": 6013, "user_id": 392591, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/zxPUm.png?s=128&g=1", "display_name": "Jacques", "link": "https://stackoverflow.com/users/392591/jacques"}, "reply_to_user": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1429179979, "post_id": 29671223, "comment_id": 47481577, "body": "@Tarh not in A scenario where your Knockout ViewModel is handling the event because you need the &#39;this&#39; context to be the ViewModel itself. TypeScript isn&#39;t helping the scenario much either"}, {"owner": {"reputation": 7454, "user_id": 93812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T5fjc.jpg?s=128&g=1", "display_name": "Will Jenkins", "link": "https://stackoverflow.com/users/93812/will-jenkins"}, "edited": false, "score": 0, "creation_date": 1429182018, "post_id": 29671223, "comment_id": 47482981, "body": "The convention in knockout is to capture the containing object&#39;s scope using var self=this; See &#39;a popular convention that simplifies things&#39; here: <a href=\"http://knockoutjs.com/documentation/computedObservables.html\" rel=\"nofollow noreferrer\">knockoutjs.com/documentation/computedObservables.html</a>"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1429183341, "post_id": 29671223, "comment_id": 47483924, "body": "@Jacques please add an example of code with the parent function of <code>authorisedDateChanged</code>."}, {"owner": {"reputation": 6013, "user_id": 392591, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/zxPUm.png?s=128&g=1", "display_name": "Jacques", "link": "https://stackoverflow.com/users/392591/jacques"}, "reply_to_user": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1429187442, "post_id": 29671223, "comment_id": 47487123, "body": "@Tarh I&#39;ve added a lot more code which should make it clearer."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1429188061, "post_id": 29671223, "comment_id": 47487625, "body": "OK. Actually, the problem comes from Kendo."}], "answers": [{"comments": [{"owner": {"reputation": 6013, "user_id": 392591, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/zxPUm.png?s=128&g=1", "display_name": "Jacques", "link": "https://stackoverflow.com/users/392591/jacques"}, "edited": false, "score": 1, "creation_date": 1429187566, "post_id": 29672283, "comment_id": 47487213, "body": "I actually think it is Kendo that is responsible for setting the context of this, because as you can see in the code e.sender is equal to this, which is the kendo widget in question whereas if what you&#39;re suggesting is correct it should have been the event object or not so?"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 2, "last_activity_date": 1429181162, "last_edit_date": 1429181162, "creation_date": 1429180828, "answer_id": 29672283, "question_id": 29671223, "link": "https://stackoverflow.com/questions/29671223/stop-kendo-from-changing-the-context-of-this-in-event-handlers/29672283#29672283", "title": "Stop Kendo from changing the context of &#39;this&#39; in event handlers", "body": "<blockquote>\n  <p>Is there a way to stop Kendo from changing the context of 'this'?</p>\n</blockquote>\n\n<p>The scope is dictated by JavaScript (not Kendo or TypeScript). When you call a method on a class, the scope of <code>this</code> will be the class. When you call a method as part of an event, the scope of <code>this</code> will be the event.</p>\n\n<p>When you register the event handler, you can <a href=\"https://www.stevefenton.co.uk/Content/Blog/Date/201504/Blog/TypeScript-Scope-Responsibility/\" rel=\"nofollow\">preserve the context of <code>this</code> using an arrow function</a>.</p>\n\n<p>For example, if you had the following event:</p>\n\n<pre><code>window.setTimeout(example.showText, 50);\n</code></pre>\n\n<p>You could preserve the scope of the <code>showText</code> method (i.e. make it so it was the class, not the event) using:</p>\n\n<pre><code>window.setTimeout(() =&gt; example.showText(), 50);\n</code></pre>\n\n<p>In cases where you want the event <em>and</em> the preservation of scope, you can use the following (I have used an onclick event to illustrate it):</p>\n\n<pre><code>document.body.onclick = (e) =&gt; example.showText(&lt;HTMLElement&gt;e.target);\n</code></pre>\n\n<p>You can even use an anonymous function to access both of the different contexts of <code>this</code>:</p>\n\n<pre><code>document.body.onclick = function() {\n    // this on the line below is the event.\n    // this inside the showText method is the class.\n    example.showText(this);\n};\n</code></pre>\n"}], "owner": {"reputation": 6013, "user_id": 392591, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/zxPUm.png?s=128&g=1", "display_name": "Jacques", "link": "https://stackoverflow.com/users/392591/jacques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429187408, "creation_date": 1429178062, "last_edit_date": 1429187408, "question_id": 29671223, "link": "https://stackoverflow.com/questions/29671223/stop-kendo-from-changing-the-context-of-this-in-event-handlers", "title": "Stop Kendo from changing the context of &#39;this&#39; in event handlers", "body": "<p>In the following event handler handling a Kendo DatePicker's changed event: </p>\n\n<p><strong>EDIT</strong><br>\nHere is the HTML:</p>\n\n<pre><code>&lt;div class=\"toolbar-group\"&gt;\n    &lt;div class=\"toolbar-item\"&gt;\n        &lt;div class=\"toolbar-label\"&gt;Approval Status: &lt;/div&gt;\n        &lt;div class=\"toolbar-value\"&gt;\n            &lt;input type=\"text\" data-bind=\"value:approvalStatus\" readonly /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"toolbar-group\"&gt;\n    &lt;div class=\"toolbar-item\"&gt;\n        &lt;div class=\"toolbar-label\"&gt;Authorised Date: &lt;/div&gt;\n        &lt;div class=\"toolbar-value\"&gt;\n            &lt;input data-bind=\"kendoDatePicker: { value: authorisedDate, change: authorisedDateChanged }\" placeholder=\"select authorised date\" id=\"authorisedDate\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div id=\"tradeGrid\" data-bind=\"kendoGrid: { data: tradeRecords, filterable: true, pageable: { pageSize: 10 }}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>EDIT</strong><br>\nHere is the TypeScript/Javascript:</p>\n\n<pre><code>export class TradeAdminViewModel {\n\n    public approvalStatus: KnockoutObservable&lt;string&gt; = ko.observable(\"\");\n\n    public authorisedDate = ko.observable(new Date());\n\n    public tradeRecords: any;\n\n    constructor() {\n\n        //make sure no records have been loaded yet - which shouldn't be possible\n        if (this.tradeRecords == null) {\n\n            //get the default records\n            this.getTradeRecordsDefault();\n\n        }    \n    }\n\n    authorisedDateChanged(e): void {\n        console.log(\"date changed to: \" + this.value());\n        console.log(\"is equal: \" + (e.sender === this));\n    }\n\n    getTradeRecordsDefault(): void {\n        //get the root path for ajax calls\n        var url: string = \"/GetTradeRecordsDefault\";\n\n        //load the trade records\n        $.getJSON(url)\n\n            .done((result) =&gt; {\n\n                //extract the records\n                this.tradeRecords = ko.observableArray(result.TradeRecords);\n\n                //add the approval status\n                this.approvalStatus(result.TradeStatus);\n\n                //apply all knockout bindings\n                ko.applyBindings(this);\n            })\n            .fail((result) =&gt; {\n\n                console.log(\"fail: \" + result);\n\n            });\n    }\n}\n</code></pre>\n\n<p>For the <em>getTradeRecordsDefault</em> event, the first line will write out <strong>true</strong> and the second will write out the new date selected. </p>\n\n<p>This is fine, but there's no need to have both '<strong>this</strong>' and e.sender we could just use e.sender. Changing the context of 'this' is causing problems in a TypeScript/Knockout/Kendo environment where I need to update members of the ViewModel from the handler above which is in the same view model. </p>\n\n<p>Is there a way to stop Kendo from changing the context of '<strong>this</strong>'?</p>\n"}, {"tags": ["angularjs", "controller", "typescript", "directive"], "comments": [{"owner": {"reputation": 573, "user_id": 399390, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/27671f4c3f659d7dac3df72eea7f1ac5?s=128&d=identicon&r=PG", "display_name": "accordionfolder", "link": "https://stackoverflow.com/users/399390/accordionfolder"}, "edited": false, "score": 0, "creation_date": 1434264423, "post_id": 29667173, "comment_id": 49699008, "body": "I think you can do this.reset =&gt; { this.test = 0}; in Testscript."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4795067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f25da5f85443b0182d8aefe92676a13c?s=128&d=identicon&r=PG&f=1", "display_name": "siemprepe", "link": "https://stackoverflow.com/users/4795067/siemprepe"}, "edited": false, "score": 0, "creation_date": 1429176009, "post_id": 29667319, "comment_id": 47478707, "body": "Thanks, that seems to do the trick. Any idea why the other code doesn&#39;t work?"}, {"owner": {"reputation": 611, "user_id": 1013629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d86afff90df9ae53d53a62aebd1b5da?s=128&d=identicon&r=PG", "display_name": "geekdenz", "link": "https://stackoverflow.com/users/1013629/geekdenz"}, "edited": false, "score": 1, "creation_date": 1445405845, "post_id": 29667319, "comment_id": 54304880, "body": "<a href=\"https://github.com/angular/angular.js/blob/v1.4.7/src/ng/compile.js#L2566\" rel=\"nofollow noreferrer\">github.com/angular/angular.js/blob/v1.4.7/src/ng/&hellip;</a> This line is the reason. The function is called with <code>javascript fn.apply(null, arguments) </code> So, this becomes null in this context."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 18, "last_activity_date": 1429167006, "creation_date": 1429167006, "answer_id": 29667319, "question_id": 29667173, "link": "https://stackoverflow.com/questions/29667173/typescript-angular-directive-controller-function/29667319#29667319", "title": "Typescript angular directive controller function", "body": "<p>This is the directive design that we've been using : </p>\n\n<pre><code>export class FooDirectiveController {\n\n    static $inject = ['$element', '$scope'];\n    constructor(public $element: JQuery, public $scope: FooDirectiveScope) {\n        $scope.vm = this;\n\n        // Any Jquery access goes here. Use $element\n\n        // Setup any $watch on $scope that you need\n    }\n}\n\nexport interface FooDirectiveScope extends ng.IScope {\n    bar: string;\n\n    // Local design only\n    vm: FooDirectiveController;\n}\n\ndustApp.directives.directive('foo', function (): ng.IDirective {\n    return {\n        restrict: 'E',\n        scope: {\n            // NOTE : see documentation in type information\n            bar: '='\n        },\n        templateUrl: 'fooDirective.html',\n        controller: FooDirectiveController\n    };\n});\n</code></pre>\n\n<p>This way you controller is <em>strongly typed</em> and the directive definition object is dumb (and possibly angular 2 compatible). </p>\n"}], "owner": {"reputation": 75, "user_id": 4795067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f25da5f85443b0182d8aefe92676a13c?s=128&d=identicon&r=PG&f=1", "display_name": "siemprepe", "link": "https://stackoverflow.com/users/4795067/siemprepe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10344, "favorite_count": 3, "accepted_answer_id": 29667319, "answer_count": 1, "score": 5, "last_activity_date": 1429167006, "creation_date": 1429166545, "question_id": 29667173, "link": "https://stackoverflow.com/questions/29667173/typescript-angular-directive-controller-function", "title": "Typescript angular directive controller function", "body": "<p>I have an issue writing angular directives in typescript.\nI want to write my directives using typescript classes. Everything works fine except the controller function.</p>\n\n<pre><code>class myDirective implements ng.IDirective{\n\npublic priority :number = 999;\npublic require :String[] = [\"ngModel\",\"myDirective\"];\n\npublic controller(){\n    var test = 1;\n    return {\n      reset : function(){\n         test = 0;\n  }\n    }\n}\n\npublic link($scope: ng.IScope, elm: JQuery, attr: ng.IAttributes, ctrlArray: any){\n    var controller;\n    controller = ctrlArray[1];\n    controller.reset();\n}\n\nstatic factory(): ng.IDirectiveFactory{\n    var directive = () =&gt; new myDirective();\n    return directive;\n}\n}\nexport = myDirective;\n</code></pre>\n\n<p>But when running this in angular I get a \"undefined is not a function\" when controller.reset() is called inside the link function. When I inspect controller i just get prototype Object, there is no reset function defined.</p>\n\n<p>When I write my directive like this, it works.</p>\n\n<pre><code>function myDirective(): ng.IDirective{\nreturn {\n    priority: 999,\n    require: [\"ngModel\",\"myDirective\"],\n    controller: function(){\n        var test = 1;\n        this.reset = function(){\n            test = 0;\n        }\n    },\n    link: function($scope: ng.IScope, elm: JQuery, attr: ng.IAttributes, ctrlArray: any){\n        var controller;\n        controller = ctrlArray[1];\n        controller.reset();\n    }\n}\n}\nexport = myDirective;\n</code></pre>\n\n<p>The difference is in the way the controller function is written. In the typescript class I use.</p>\n\n<pre><code>return {\n      reset : function(){\n         test = 0;\n  }\n    }\n</code></pre>\n\n<p>in the function way I use</p>\n\n<pre><code>this.reset = function(){\n            test = 0;\n        }\n</code></pre>\n\n<p>Unfortunately, typescript doesn't let me use the second way inside a typescript class. IS there anything I am missing, or am I approaching this entirely from the wrong angle?</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 37346, "user_id": 699632, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/EU5sp.jpg?s=128&g=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/699632/marty"}, "edited": false, "score": 3, "creation_date": 1429165649, "post_id": 29666855, "comment_id": 47472482, "body": "Valid JavaScript is valid TypeScript - congratulations, you did it."}, {"owner": {"reputation": 11775, "user_id": 1270504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1130643655/picture?type=large", "display_name": "Matthew Haugen", "link": "https://stackoverflow.com/users/1270504/matthew-haugen"}, "reply_to_user": {"reputation": 37346, "user_id": 699632, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/EU5sp.jpg?s=128&g=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/699632/marty"}, "edited": false, "score": 0, "creation_date": 1429166595, "post_id": 29666855, "comment_id": 47473011, "body": "@Marty True, and a good point. But there are some other advantages to making it use the native TypeScript class capabilities (and such) to clean it up and make it a little more maintainable at scale. I say that just in case that&#39;s your &quot;unclear&quot; VTC--it&#39;s good to know how to benefit from TypeScript, when you&#39;ll be using it anyway. Even if you don&#39;t <i>have</i> to."}, {"owner": {"reputation": 37346, "user_id": 699632, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/EU5sp.jpg?s=128&g=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/699632/marty"}, "reply_to_user": {"reputation": 11775, "user_id": 1270504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1130643655/picture?type=large", "display_name": "Matthew Haugen", "link": "https://stackoverflow.com/users/1270504/matthew-haugen"}, "edited": false, "score": 0, "creation_date": 1429166678, "post_id": 29666855, "comment_id": 47473054, "body": "@MatthewHaugen Of course - I was being a little cheeky."}, {"owner": {"reputation": 11775, "user_id": 1270504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1130643655/picture?type=large", "display_name": "Matthew Haugen", "link": "https://stackoverflow.com/users/1270504/matthew-haugen"}, "reply_to_user": {"reputation": 37346, "user_id": 699632, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/EU5sp.jpg?s=128&g=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/699632/marty"}, "edited": false, "score": 0, "creation_date": 1429166786, "post_id": 29666855, "comment_id": 47473132, "body": "@Marty Alright, just making sure. :)"}], "answers": [{"tags": [], "owner": {"reputation": 11775, "user_id": 1270504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1130643655/picture?type=large", "display_name": "Matthew Haugen", "link": "https://stackoverflow.com/users/1270504/matthew-haugen"}, "is_accepted": true, "score": 9, "last_activity_date": 1429167091, "last_edit_date": 1429167091, "creation_date": 1429165694, "answer_id": 29666906, "question_id": 29666855, "link": "https://stackoverflow.com/questions/29666855/how-can-i-convert-an-angularjs-javascript-controller-to-typescript/29666906#29666906", "title": "How can I convert an AngularJS Javascript controller to Typescript?", "body": "<p>Controllers and services can become classes.</p>\n\n<p>I like to use <code>$inject</code> so it's safe to minify, but that line is optional.</p>\n\n<pre><code>class ModalInstanceController {\n    static $inject = [\"$scope\", \"$modalInstance\", \"$userService\"];\n    constructor($scope, $modalInstance, $userService) {\n\n        $scope.ok = () =&gt; {\n            $modalInstance.close();\n        };\n\n        $scope.cancel = () =&gt; {\n            $modalInstance.dismiss('cancel');\n        };\n    }\n}\n</code></pre>\n\n\n\n<pre><code>.controller('ModalInstanceCtrl', ModalInstanceController);\n</code></pre>\n\n<p>Including <code>$inject</code> is equivalent to using the array syntax in vanilla JavaScript:</p>\n\n<pre><code>.controller('ModalInstanceCtrl', [\"$scope\", \"$modalInstance\", \"$userService\", function ($scope, $modalInstance, $userService) { ... }]);\n</code></pre>\n\n<hr />\n\n<p>In a real-world application, I like to avoid the use of <code>$scope</code> except for things that actually need it (like <code>$watch</code>), in which case I'd pull the methods out as well. This will require a change to your HTML, though.</p>\n\n<pre><code>class ModalInstanceController {\n    private $modalInstance : any;\n\n    static $inject = [\"$modalInstance\", \"$userService\"];\n    constructor($modalInstance, $userService) {\n        this.$modalInstance = $modalInstance;\n    }\n\n    ok() {\n        this.$modalInstance.close();\n    }\n    cancel() {\n        this.$modalInstance.dismiss('cancel');\n    };\n}\n</code></pre>\n\n<p>Then in your HTML,</p>\n\n<pre><code>&lt;button type=\"button\" ng-click=\"ModalInstanceCtrl.ok()\"&gt;OK&lt;/button&gt;\n</code></pre>\n\n<p>Note the use of the fully-qualified <code>ModalInstanceCtrl.ok()</code>, since it's no longer just floating around in the scope.</p>\n\n<hr />\n\n<p>Just since you caught me when I was bored, here's a nice advantage of using TypeScript, since I see you have <code>$userService</code>.</p>\n\n<pre><code>class UserService {\n    // A parameterized constructor is, of course, allowed here too.\n    // Optionally supply $inject, per above\n\n    parse(arg : string) {\n        return parseInt(arg);\n    }\n}\n\nclass ModalInstanceController {\n    private $modalInstance : any;\n    private $userService : UserService; // Note the typing here\n\n    static $inject = [\"$modalInstance\", \"$userService\"];\n    // Explicit typing here is optional, since \"any\" will cast automatically\n    // but I like to be clear anyway.\n    constructor($modalInstance, $userService : UserService) {\n        this.$modalInstance = $modalInstance;\n        this.$userService = $userService;\n    }\n\n    ok() {\n        // you'll get Intellisense here, whilst still benefiting from DI from Angular\n        var arg = this.$userService.parse(\"12\");\n\n        this.$modalInstance.close();\n    }\n    cancel() {\n        this.$modalInstance.dismiss('cancel');\n    };\n}\n</code></pre>\n\n\n\n<pre><code>app.service(\"$userService\", UserService);\napp.controller(\"ModalInstanceCtrl\", ModalInstanceController);\n</code></pre>\n"}], "owner": {"reputation": 26600, "user_id": 975566, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75f945ecacb75c315681710b709fb207?s=128&d=identicon&r=PG", "display_name": "Samantha J T Star", "link": "https://stackoverflow.com/users/975566/samantha-j-t-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3671, "favorite_count": 0, "accepted_answer_id": 29666906, "answer_count": 1, "score": 3, "last_activity_date": 1429167433, "creation_date": 1429165520, "last_edit_date": 1429167433, "question_id": 29666855, "link": "https://stackoverflow.com/questions/29666855/how-can-i-convert-an-angularjs-javascript-controller-to-typescript", "title": "How can I convert an AngularJS Javascript controller to Typescript?", "body": "<p>I have a very simple controller:</p>\n\n<pre><code>.controller('ModalInstanceCtrl', function ($scope, $modalInstance, $userService) {\n\n        $scope.ok = function () {\n            $modalInstance.close();\n        };\n\n        $scope.cancel = function () {\n            $modalInstance.dismiss('cancel');\n        };\n    })\n</code></pre>\n\n<p>How can I change this so that it uses typescript and so it will work even after I minify my javascript?</p>\n"}]