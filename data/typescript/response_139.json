[{"tags": ["html", "reactjs", "typescript", "react-bootstrap-table"], "comments": [{"owner": {"reputation": 628, "user_id": 4668963, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/546017ec07fcde1bff1e0b145dcc5439?s=128&d=identicon&r=PG&f=1", "display_name": "azulBonnet", "link": "https://stackoverflow.com/users/4668963/azulbonnet"}, "edited": false, "score": 0, "creation_date": 1511372521, "post_id": 46085626, "comment_id": 81836726, "body": "Contacted the developer on the project. For updates check here: <a href=\"https://github.com/AllenFang/react-bootstrap-table/issues/1609#issuecomment-329158195\" rel=\"nofollow noreferrer\">github.com/AllenFang/react-bootstrap-table/issues/&hellip;</a>"}], "owner": {"reputation": 628, "user_id": 4668963, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/546017ec07fcde1bff1e0b145dcc5439?s=128&d=identicon&r=PG&f=1", "display_name": "azulBonnet", "link": "https://stackoverflow.com/users/4668963/azulbonnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 757, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507239298, "creation_date": 1504739854, "last_edit_date": 1504794536, "question_id": 46085626, "link": "https://stackoverflow.com/questions/46085626/how-to-remove-focus-on-a-cell-in-a-react-bootstrap-table", "title": "How to remove focus on a cell in a React-Bootstrap-Table?", "body": "<p>The problem I'm having is that if a user clicks to edit a cell but then does something on another view that re-renders the BootstrapTable, the cell is still focused and retaining the old value until the user clicks somewhere else on the table. </p>\n\n<p>I tried the following:</p>\n\n<pre><code>onBootstrapTableRef(instance) {\n    this.bootstrapTableRef = instance;\n}\n\ncomponentDidUpdate() {\n    this.bootstrapTableRef.reset(); //feel like either of these lines should do the job\n    this.bootstrapTableRef.cleanSelected();\n}\n\n\npublic render() {\n    const cellEdit = {\n        mode: \"click\",\n        blurToSave: true\n    }\n\n    return (\n                &lt;BootstrapTable data={this.props.settings} keyField=\"settingStage\"\n                    bordered={false} striped cellEdit={cellEdit} ref={this.onBootstrapTableRef}&gt;\n                    ...\n                &lt;/BootstrapTable&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "material-design"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 3514547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298e35e9e640c77b5ba3d413f3ebc543?s=128&d=identicon&r=PG&f=1", "display_name": "jackjoy", "link": "https://stackoverflow.com/users/3514547/jackjoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1504740398, "creation_date": 1504740398, "answer_id": 46085702, "question_id": 46085373, "link": "https://stackoverflow.com/questions/46085373/angular-4-output-data-from-dynamic-modal-to-component/46085702#46085702", "title": "Angular 4: Output data from dynamic modal to component", "body": "<p>You can define an output event for hide/close event and pass result as event argument.Other components can subscribe such event to handle result.</p>\n"}, {"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 1, "last_activity_date": 1504741042, "creation_date": 1504741042, "answer_id": 46085756, "question_id": 46085373, "link": "https://stackoverflow.com/questions/46085373/angular-4-output-data-from-dynamic-modal-to-component/46085756#46085756", "title": "Angular 4: Output data from dynamic modal to component", "body": "<p>You have several options:</p>\n\n<p>1) You could use optional or query routing parameters. Then as part of the <code>router.navigate</code>, you'd also pass along the parameters. This is a great option if you need to pass data from this component directly to another component.</p>\n\n<p>2) Another option is to build a service. The service holds onto the search filter values. The search component sets the values into the service and the component then reads the values from the service.</p>\n\n<p>Do one of these options sound like they could work for you?</p>\n"}], "owner": {"reputation": 327, "user_id": 2837065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1012803551/picture?type=large", "display_name": "Lukas Sorensen", "link": "https://stackoverflow.com/users/2837065/lukas-sorensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 1, "accepted_answer_id": 46085756, "answer_count": 2, "score": 1, "last_activity_date": 1504741042, "creation_date": 1504737981, "question_id": 46085373, "link": "https://stackoverflow.com/questions/46085373/angular-4-output-data-from-dynamic-modal-to-component", "title": "Angular 4: Output data from dynamic modal to component", "body": "<p>I am using material design and have a dialogService set up for dynamically loading MdDialog. I'm trying to make a search dialog with search filters that when submitted it brings you to a search-results component route. And I can't figure out how to output the search data to the search-results component.</p>\n\n<p>./dialog-service.ts</p>\n\n<pre><code>@Injectable()\n    export class DialogService {\n    private dynamicModalComponent: DialogComponent;\n\n    public init(dynModal: DialogComponent) {\n        this.dynamicModalComponent = dynModal;\n    }\n\n    public show(component: Type&lt;any&gt;, configuration?: MdDialogConfig) {\n        this.dynamicModalComponent.showModal(component, configuration);\n    }\n\n    public hide() {\n        this.dynamicModalComponent.hideModal();\n    }\n}\n</code></pre>\n\n<p>./modules/search.component.html</p>\n\n<pre><code>&lt;div class=\"search-component\"&gt;\n&lt;h2&gt;Search&lt;/h2&gt;\n&lt;md-input-container class=\"full-width search\"&gt;\n    &lt;input mdInput placeholder=\"search\" color=\"primary\" /&gt;\n&lt;/md-input-container&gt;\n&lt;div class=\"radio-groups\"&gt;\n    &lt;md-radio-group class=\"radio-buttons\" [(ngModel)]=\"searchFilterValue\"&gt;\n        &lt;md-radio-button class=\"r-button\" [value]=\"sf.value\" *ngFor=\"let sf \nof searchFilter\"&gt;\n            {{sf.name}}\n        &lt;/md-radio-button&gt;\n    &lt;/md-radio-group&gt;\n&lt;/div&gt;\n&lt;md-dialog-actions class=\"actions\"&gt;\n    &lt;button md-button (click)=\"hide()\"&gt;Cancel&lt;/button&gt;\n    &lt;button md-raised-button (click)=\"search()\" \n          color=\"primary\"&gt;Search&lt;/button&gt;\n&lt;/md-dialog-actions&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>./modules/search.component.ts</p>\n\n<pre><code>import {Component, OnInit} from \"@angular/core\";\nimport {DialogService} from \"../dialog/dialog.service\";\nimport {Router} from \"@angular/router\";\n@Component({\n    selector: 'search',\n    templateUrl: './search.component.html',\n    styleUrls:['./search.component.scss']\n})\nexport class SearchComponent implements OnInit {\nsearchFilterValue;\nsearchFilter = [\n    {\n        name: 'Groups',\n        value: 'groups',\n    },\n    {\n        name: 'People',\n        value: 'users',\n    },\n    {\n        name: 'Events',\n        value: 'events',\n    },\n    {\n        name: 'Posts',\n        value: 'posts',\n    }\n];\nconstructor(private _dialogService: DialogService,\n            private router: Router){\n    this.searchFilterValue = 'groups';\n}\n\nngOnInit(){}\n\nhide() {\n    this._dialogService.hide();\n}\n\nsearch() {\n    this.hide();\n    this.router.navigate(['/search']);\n}\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 811, "user_id": 745931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCRjM.jpg?s=128&g=1", "display_name": "Guntram", "link": "https://stackoverflow.com/users/745931/guntram"}, "edited": false, "score": 0, "creation_date": 1504736790, "post_id": 46084785, "comment_id": 79132468, "body": "Hard to tell, can you post a plunkr? Do you have a class called &quot;Class&quot;? Did you forget to <code>export</code> a class? Do you extend a class which is not exported or has a private constructor or something?"}], "answers": [{"comments": [{"owner": {"reputation": 372, "user_id": 2527684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/rgfGV.jpg?s=128&g=1", "display_name": "ptDave", "link": "https://stackoverflow.com/users/2527684/ptdave"}, "edited": false, "score": 1, "creation_date": 1504739257, "post_id": 46085293, "comment_id": 79133156, "body": "Do you know of a way to get angular/typescript to identify? That error message is the only thing I am getting."}], "tags": [], "owner": {"reputation": 31, "user_id": 8571538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213902426304865/picture?type=large", "display_name": "Jonathan Mor", "link": "https://stackoverflow.com/users/8571538/jonathan-mor"}, "is_accepted": false, "score": 3, "last_activity_date": 1504737863, "last_edit_date": 1504737863, "creation_date": 1504737483, "answer_id": 46085293, "question_id": 46084785, "link": "https://stackoverflow.com/questions/46084785/odd-ng-build-error/46085293#46085293", "title": "Odd ng build error", "body": "<p>This happends where you have a class that extends another class that is yet to be initiated. \nUsually because of circular dependencies between the classes </p>\n\n<p>a.js</p>\n\n<pre><code>import {c} from c.js\nexport class a {}\n</code></pre>\n\n<p>b.js </p>\n\n<pre><code>import {a} from a.js\nexport class b { }\n</code></pre>\n\n<p>c.js</p>\n\n<pre><code>import {b} from b.js\nexport class c extends b{} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 372, "user_id": 2527684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/rgfGV.jpg?s=128&g=1", "display_name": "ptDave", "link": "https://stackoverflow.com/users/2527684/ptdave"}, "is_accepted": false, "score": 0, "last_activity_date": 1504743774, "creation_date": 1504743774, "answer_id": 46086097, "question_id": 46084785, "link": "https://stackoverflow.com/questions/46084785/odd-ng-build-error/46086097#46086097", "title": "Odd ng build error", "body": "<p>I ended up finding the issue. For whatever reason, my package.json did not contain webpack from angular-cli. Starting a fresh node_modules then messes with the entire thing. Thanks for the guesses anyhow.</p>\n"}], "owner": {"reputation": 372, "user_id": 2527684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/rgfGV.jpg?s=128&g=1", "display_name": "ptDave", "link": "https://stackoverflow.com/users/2527684/ptdave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1504743774, "creation_date": 1504734185, "question_id": 46084785, "link": "https://stackoverflow.com/questions/46084785/odd-ng-build-error", "title": "Odd ng build error", "body": "<p>Getting an odd error when trying to build an angular 4 app. See below:</p>\n\n<pre><code> Class extends value undefined is not a constructor or null\nTypeError: Class extends value undefined is not a constructor or null\n    at Object.&lt;anonymous&gt; (/home/ptdave/projects/sidr-ts/node_modules/@angular/cli/plugins/named-lazy-chunks-webpack-plugin.js:9:51)\n    at Module._compile (module.js:571:32)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n    at Object.&lt;anonymous&gt; (/home/ptdave/projects/sidr-ts/node_modules/@angular/cli/models/webpack-configs/common.js:6:44)\n    at Module._compile (module.js:571:32)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n</code></pre>\n\n<p>I'm really at a loss of where to start on troubleshooting this.\nI've wiped my node-modules trying to fix this but still have had no luck.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 825, "user_id": 6334709, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ACXqM.jpg?s=128&g=1", "display_name": "Walter White", "link": "https://stackoverflow.com/users/6334709/walter-white"}, "edited": false, "score": 0, "creation_date": 1504727651, "post_id": 46083281, "comment_id": 79128551, "body": "try use subscribe() method"}, {"owner": {"reputation": 825, "user_id": 6334709, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ACXqM.jpg?s=128&g=1", "display_name": "Walter White", "link": "https://stackoverflow.com/users/6334709/walter-white"}, "edited": false, "score": 0, "creation_date": 1504728069, "post_id": 46083281, "comment_id": 79128776, "body": "also write this <a href=\"https://stackoverflow.com/questions/34671715/angular2-http-get-map-subscribe-and-observable-pattern-basic-understan/34672550\" title=\"angular2 http get map subscribe and observable pattern basic understan\">stackoverflow.com/questions/34671715/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 272, "user_id": 5705324, "user_type": "registered", "profile_image": "https://graph.facebook.com/1101354429877706/picture?type=large", "display_name": "Artur Czopek", "link": "https://stackoverflow.com/users/5705324/artur-czopek"}, "is_accepted": true, "score": 1, "last_activity_date": 1504727684, "creation_date": 1504727684, "answer_id": 46083355, "question_id": 46083281, "link": "https://stackoverflow.com/questions/46083281/passing-json-data-from-http-service-to-component-angular-2/46083355#46083355", "title": "Passing json data from http service to component Angular 2", "body": "<p>It is observable, no plain data. You need to subscribe it and handle it. For example:</p>\n\n<pre><code>let data;\nthis.loginService.requestMethod()\n     .subscribe(okData =&gt; data = okData); // or this.data = okData if it's a class' field.\n</code></pre>\n\n<p>You can also handle what should be done if request has failed. <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/subscribe.md\" rel=\"nofollow noreferrer\">You can refer to this documentation to learn more about subscription</a></p>\n"}], "owner": {"reputation": 25, "user_id": 6419597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce01aa433225039ece36f946527bbfc?s=128&d=identicon&r=PG&f=1", "display_name": "cdoll", "link": "https://stackoverflow.com/users/6419597/cdoll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 1, "accepted_answer_id": 46083355, "answer_count": 1, "score": 0, "last_activity_date": 1504727684, "creation_date": 1504727378, "question_id": 46083281, "link": "https://stackoverflow.com/questions/46083281/passing-json-data-from-http-service-to-component-angular-2", "title": "Passing json data from http service to component Angular 2", "body": "<p>I have separate <strong>requests.service.ts</strong> and <strong>schedule.ts</strong>.\nI am unable to pass the json returned from method from <strong>requests.service.ts</strong>, even though I mapped it when I returned it.</p>\n\n<p>My code for <strong>request.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, RequestOptions, Headers } from \"@angular/http\";\n@Injectable()\nexport class LoginService {\n    constructor(public http: Http) { }    \n        requestMethod() {     \n           return this.http.get(url).map(res =&gt; res.json())\n        }\n}\n</code></pre>\n\n<p>My code for <strong>schedule.ts</strong></p>\n\n<pre><code>let data = this.loginService.requestMethod();\n</code></pre>\n\n<p>Where <code>data</code> returns <code>Observable {_isScalar: false, source: Observable, operator: MapOperator}...</code></p>\n"}, {"tags": ["google-maps", "typescript", "ionic2", "geocode"], "comments": [{"owner": {"reputation": 928, "user_id": 8566739, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lAFTvJ90Yn4/AAAAAAAAAAI/AAAAAAAAAAg/LGaBQ3BPsQE/photo.jpg?sz=128", "display_name": "henrisycip", "link": "https://stackoverflow.com/users/8566739/henrisycip"}, "edited": false, "score": 0, "creation_date": 1505451161, "post_id": 46083271, "comment_id": 79427233, "body": "Try it again and see if inspecting <code>status</code> will get you get an error code like <code>OVER_QUERY_LIMIT </code> then post it here. Usually there&#39;s a Quota Per Second for the Geocode API and the other APIs. That might explain the intermittent behavior. I also suggest to always add a simple checker like <code>if (status === &#39;OK&#39; &amp;&amp; results)</code> before proceeding with using <code>results</code>."}], "owner": {"reputation": 111, "user_id": 8247085, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-WXrLH0W2gA0/AAAAAAAAAAI/AAAAAAAAGj0/6LN419MP25w/photo.jpg?sz=128", "display_name": "sidharth ramanan", "link": "https://stackoverflow.com/users/8247085/sidharth-ramanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1505141210, "creation_date": 1504727343, "last_edit_date": 1505141210, "question_id": 46083271, "link": "https://stackoverflow.com/questions/46083271/error-with-geocode-api-in-ionic-2", "title": "Error with Geocode API in Ionic 2", "body": "<p>I\u2019m using the Google Maps Geocode API to read an address and place a marker on the map. This is how I\u2019m using it :</p>\n\n<pre><code>for(let marker of markers){\nthis.geocoder = new google.maps.Geocoder();\nthis.geocoder.geocode({\n 'address': marker[\"address\"]\n}, (results,status) =&gt; {  \n          var position = new google.maps.LatLng(results[0].geometry.location.lat(),results[0].geometry.location.lng()); // error pointing to this line\n          this.personMarker = new google.maps.Marker({position: position, title: marker.name, markerInfo: marker, map : this.map , icon : marker.imageurl});\n          google.maps.event.addListener(this.personMarker, 'click',  () =&gt; {\n          this.showCard = true;\n          this.org = marker.organization;\n          this.gig = marker.gig;\n          this.location = marker[\"address\"];\n          this.image = marker.imageurl;\n          this.ngoData = marker;\n          this.ownerusername = marker.ownerusername;\n            });\n     });\n }\n</code></pre>\n\n<p>I get this <code>error: \u2018Cannot read property \u20180\u2019 of null\u2019</code> pointing to the line I\u2019ve shown with a comment in the code snippet.Just don\u2019t know what\u2019s causing that error because I\u2019m accessing the \u2018results\u2019 parameter only inside the <code>callback</code>. <code>console.log(results)</code> sometimes returns 'null' for the first iteration of the loop, followed by proper results for the rest of the iterations, or proper results for all iterations. I don't understand this inconsistent behavior, but I do know that I get this error usually when the intervals between me clicking and loading the map again is short.</p>\n\n<p>I know that all the addresses are valid because sometimes all my markers appear on the map and the error doesn't turn up</p>\n"}, {"tags": ["android", "angular", "typescript", "ionic2", "leaflet"], "comments": [{"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1504727193, "post_id": 46083089, "comment_id": 79128333, "body": "Have you checked your white list? You can easily check if you can load external static assets from the Tile Servers by adding an image with source to a given tile, e.g. <code>&lt;img src=&quot;https:&#47;&#47;tile.openstreetmap.org&#47;0&#47;0&#47;0.png&quot; &#47;&gt;</code>. You can also use the Chrome remote debugging tool to inspect for potential network errors."}, {"owner": {"reputation": 21, "user_id": 2669096, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001250310616/picture?type=large", "display_name": "Ben Ayoub", "link": "https://stackoverflow.com/users/2669096/ben-ayoub"}, "reply_to_user": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1504728182, "post_id": 46083089, "comment_id": 79128822, "body": "Thanks man it was the whitelist plugin who is missing. i just installed that plugin and it worked like a sharm. thanks again  :)"}], "owner": {"reputation": 21, "user_id": 2669096, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001250310616/picture?type=large", "display_name": "Ben Ayoub", "link": "https://stackoverflow.com/users/2669096/ben-ayoub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504728391, "creation_date": 1504726633, "last_edit_date": 1504728391, "question_id": 46083089, "link": "https://stackoverflow.com/questions/46083089/ionic-2-leaflet-blank-map-on-android-device", "title": "Ionic 2 / Leaflet blank map on Android device", "body": "<p>I'm trying to load a leaflet map on Ionic 2 page and everything seems to work perfectly in the browser when running \"ionic serve\". The problem is that when I try to run the project on a real Android device with \"ionic run android\", the map component load with blank background so that the OSM and Google tilelayers aren't loading.</p>\n\n<p>I followed this answer: <a href=\"https://stackoverflow.com/a/40020230/2669096\">Usage of Leaflet with Ionic2 typescript\n</a> and the error still remains.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["json", "angular", "class", "typescript", "object"], "comments": [{"owner": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1504725522, "post_id": 46082791, "comment_id": 79127465, "body": "How do you create an ExampleObject object in your service?"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1504725623, "post_id": 46082791, "comment_id": 79127521, "body": "any reason you want something like this it will always have static content?"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1504725723, "post_id": 46082791, "comment_id": 79127574, "body": "To do that, you need to construct the Typescript object that has the method prototype and merge in the data from JSON (you don&#39;t actually have an instance of your class)."}, {"owner": {"reputation": 707, "user_id": 8343916, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/54d382e5c2f991df05e0f0138af7e5a9?s=128&d=identicon&r=PG&f=1", "display_name": "claudioz", "link": "https://stackoverflow.com/users/8343916/claudioz"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1504727899, "post_id": 46082791, "comment_id": 79128680, "body": "@crashmstr I tried, but the effect is not the effect that I wanted. The browser displays the page differently if I use interpolation with data obtained from JSON file and normal data (use methods) of the class..."}], "answers": [{"comments": [{"owner": {"reputation": 707, "user_id": 8343916, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/54d382e5c2f991df05e0f0138af7e5a9?s=128&d=identicon&r=PG&f=1", "display_name": "claudioz", "link": "https://stackoverflow.com/users/8343916/claudioz"}, "edited": false, "score": 0, "creation_date": 1504787571, "post_id": 46083655, "comment_id": 79154550, "body": "thank you so much!!"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 707, "user_id": 8343916, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/54d382e5c2f991df05e0f0138af7e5a9?s=128&d=identicon&r=PG&f=1", "display_name": "claudioz", "link": "https://stackoverflow.com/users/8343916/claudioz"}, "edited": false, "score": 0, "creation_date": 1504797093, "post_id": 46083655, "comment_id": 79161917, "body": "If that worked for you could you mark this as your answer so we can close this question? Thanks!"}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 0, "last_activity_date": 1504728920, "creation_date": 1504728920, "answer_id": 46083655, "question_id": 46082791, "link": "https://stackoverflow.com/questions/46082791/i-cant-use-angular-object-data-in-json-format/46083655#46083655", "title": "I can&#39;t use Angular object (data in JSON format)", "body": "<p>As stated in the comments section, you don't have an instance of your ExampleObject and therefore cannot call methods on it.</p>\n\n<p>Your getCurrentObject method is assigning the retrieved data to a layout that looks like your ExampleObject, but is not actually an instance of it. That is why you can't call any methods or new properties.</p>\n\n<p>You'd need to do something like what was suggested in the comments.</p>\n\n<pre><code>getCurrentObject() {\n  this.objectService.getObjcet().subscribe(\n  data =&gt; this.exampleObject = Object.assign(new ExampleObject(), data),\n  error =&gt; {\n    console.log('some error found: ' + error);\n});\n</code></pre>\n\n<p>NOTE: I did not verify this syntax. If you'd want to build a plunker, I could confirm.</p>\n\n<p>This line: </p>\n\n<pre><code>this.exampleObject = Object.assign(new ExampleObject(), data)\n</code></pre>\n\n<p>Creates a new ExampleObject and then assigns its matching properties to the values defined in <code>data</code>.</p>\n\n<p>Is that what you had tried?</p>\n"}], "owner": {"reputation": 707, "user_id": 8343916, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/54d382e5c2f991df05e0f0138af7e5a9?s=128&d=identicon&r=PG&f=1", "display_name": "claudioz", "link": "https://stackoverflow.com/users/8343916/claudioz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "closed_date": 1504777220, "answer_count": 1, "score": 0, "last_activity_date": 1504728920, "creation_date": 1504725441, "question_id": 46082791, "link": "https://stackoverflow.com/questions/46082791/i-cant-use-angular-object-data-in-json-format", "closed_reason": "Duplicate", "title": "I can&#39;t use Angular object (data in JSON format)", "body": "<p>I have a problem (sorry about my english).\nIn my Angular 4 application with TypeScript, i use a get() method and a subscribe() method to receive a remote object in JSON format and deserialize it to get an instance of a class that matches perfectly with my JSON data (all class data fields are mirrored in the json file).</p>\n\n<p>It seems that everything works, because I can normally use these object data fields in my HTML template (the object is actually created and instantiated).</p>\n\n<p>the problem (that I don't explain) occurs when I insert in this class new methods or new data fields. The HTML template doesn't display these new data fields or the result of new methods, and I do not explain why this happens.</p>\n\n<p>How can I solve this problem? Example:</p>\n\n<pre><code>// In ExampleObject.ts\nexport class ExampleObject {\nproperty1: string;\nproperty2: string;\n}\n\n// In another file\nexampleObject: ExampleObject;\n\ngetCurrentObject() {\n  this.objectService.getObjcet().subscribe(\n  data =&gt; this.exampleObject = data,\n  error =&gt; {\n    console.log('some error found: ' + error);\n});\n</code></pre>\n\n<p>At this point if I tried to create a method in ExampleObject:</p>\n\n<pre><code>export class ExampleObject {\nproperty1: string;\nproperty2: string;\n\ngetHello() {\n return 'Hello'; \n}\n}\n</code></pre>\n\n<p>In the HTML template the following instructions works</p>\n\n<pre><code>{{exampleObject.property1}}\n{{exampleObject.property2}}\n</code></pre>\n\n<p>But this instruction doesn't work:</p>\n\n<pre><code>{{exampleObject.getHello()}}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "onchange"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504726542, "post_id": 46082310, "comment_id": 79127990, "body": "Does <code>postService.getNextPost(...)</code> call out to non-Angular code? Try injecting <code>ChangeDetectorRef</code> and call <code>cdRef.detectChanges()</code> after modifying <code>this.post</code>"}, {"owner": {"reputation": 777, "user_id": 8413584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d14d2d81b5ea665d3a148bfb5803853?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Gilbert", "link": "https://stackoverflow.com/users/8413584/cameron-gilbert"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504727788, "post_id": 46082310, "comment_id": 79128641, "body": "It calls out to an angular service, get an error -&gt; Cannot read property &#39;detectChanges&#39; of undefined"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504754085, "post_id": 46082310, "comment_id": 79136452, "body": "An angular service is still angular code. With injecting I meant <code>constructor(private cdRef:ChangeDetectorRef){}</code>. If you don&#39;t call out to non-Angular code, this shouln&#39;t be necessary though."}, {"owner": {"reputation": 777, "user_id": 8413584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d14d2d81b5ea665d3a148bfb5803853?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Gilbert", "link": "https://stackoverflow.com/users/8413584/cameron-gilbert"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504793025, "post_id": 46082310, "comment_id": 79158778, "body": "Was able to solve this problem by using a different package: <a href=\"https://www.npmjs.com/package/ng2-markdown-to-html\" rel=\"nofollow noreferrer\">npmjs.com/package/ng2-markdown-to-html</a>"}], "owner": {"reputation": 777, "user_id": 8413584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d14d2d81b5ea665d3a148bfb5803853?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Gilbert", "link": "https://stackoverflow.com/users/8413584/cameron-gilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504726001, "creation_date": 1504723531, "question_id": 46082310, "link": "https://stackoverflow.com/questions/46082310/interpolated-data-not-updating", "title": "Interpolated data not updating", "body": "<p>I have data that is suppose to get updated when I flip a toggle.\nThe returned data is then interpolated into the component.</p>\n\n<p>I am currently using Markdown <a href=\"https://github.com/dimpu/angular2-markdown\" rel=\"nofollow noreferrer\">https://github.com/dimpu/angular2-markdown</a>\nThe code looks like this in the html file:</p>\n\n<pre><code>&lt;markdown&gt;{{post?.text}}&lt;/markdown&gt;\n</code></pre>\n\n<p>The toggle:</p>\n\n<pre><code>    onChange(value: any) {\n        if (value.checked === true) {\n          this.areaService.isAreaChecked = true;\n          this.areaService.currentAreaName = 'information';\n        } else {\n          this.areaService.isAreaChecked = false;\n          this.areaService.currentAreaName = 'fun';\n        }\n\n        this.postService.getNextPost(this.areaService.currentAreaName)\n          .subscribe((post: Post) =&gt; {\n            this.post = post;\n            if (post) {\n              this.text = 'https://client.wildfyre.net/areas/' + this.areaService.currentAreaName + '/' + post.id;\n            } else {\n              this.text = 'https://client.wildfyre.net';\n            }\n          });\n\n          this.areaService.getAreaRep(this.areaService.currentAreaName)\n            .subscribe(reputation =&gt; {\n              this.rep = reputation;\n            });\n      }\n</code></pre>\n\n<p>The problem is that when the post.text is suppose to update it does not.\nIt keeps the same data as it had before\nIs there anyway I can force it to redo the methods in <code>&lt;markdown&gt;</code>? Similar to a ngOnit</p>\n\n<p>When I remove the markdown tags it works perfectly</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2587, "user_id": 7491209, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3kQTU5565Rc/AAAAAAAAAAI/AAAAAAAAABY/n3TABbq1NfI/photo.jpg?sz=128", "display_name": "Rajez", "link": "https://stackoverflow.com/users/7491209/rajez"}, "reply_to_user": {"reputation": 4958, "user_id": 2442714, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/55b12c04062943aa0642157c28531d69?s=128&d=identicon&r=PG", "display_name": "ux.engineer", "link": "https://stackoverflow.com/users/2442714/ux-engineer"}, "edited": false, "score": 0, "creation_date": 1504720046, "post_id": 46081373, "comment_id": 79124558, "body": "@envision sorry it&#39;s a mistake. updated answer , hope it may help"}, {"owner": {"reputation": 4958, "user_id": 2442714, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/55b12c04062943aa0642157c28531d69?s=128&d=identicon&r=PG", "display_name": "ux.engineer", "link": "https://stackoverflow.com/users/2442714/ux-engineer"}, "edited": false, "score": 0, "creation_date": 1504720157, "post_id": 46081373, "comment_id": 79124612, "body": "That was it, I needed to bind <i>a string</i> ...thank you very much @Rajez"}], "tags": [], "owner": {"reputation": 2587, "user_id": 7491209, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3kQTU5565Rc/AAAAAAAAAAI/AAAAAAAAABY/n3TABbq1NfI/photo.jpg?sz=128", "display_name": "Rajez", "link": "https://stackoverflow.com/users/7491209/rajez"}, "is_accepted": true, "score": 3, "last_activity_date": 1504720000, "last_edit_date": 1504720000, "creation_date": 1504719816, "answer_id": 46081373, "question_id": 46081339, "link": "https://stackoverflow.com/questions/46081339/angular4-typescript-how-to-bind-component-input-property-to-view/46081373#46081373", "title": "(Angular4 / TypeScript) How to Bind Component @Input Property to View?", "body": "<p>strings can be binded into <code>@Input</code> property like below</p>\n\n<pre><code>&lt;card [title]=\"'My Awesome Card'\"&gt;&lt;/card&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1504720286, "post_id": 46081464, "comment_id": 79124673, "body": "Those are getters/setters, not &quot;functions&quot; and yes you can use the @Input decorator on them. See the link provided by the OP."}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1504720350, "post_id": 46081464, "comment_id": 79124714, "body": "Nice to know that. I never used @Input() on setter or getter. :)"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 1, "creation_date": 1504720640, "post_id": 46081464, "comment_id": 79124891, "body": "That&#39;s one of the really great things about hanging out here ... its a great opportunity to see how other devs do things differently so we can learn so much more! :-)"}], "tags": [], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "is_accepted": false, "score": 1, "last_activity_date": 1504720193, "creation_date": 1504720193, "answer_id": 46081464, "question_id": 46081339, "link": "https://stackoverflow.com/questions/46081339/angular4-typescript-how-to-bind-component-input-property-to-view/46081464#46081464", "title": "(Angular4 / TypeScript) How to Bind Component @Input Property to View?", "body": "<p>I see there are 2 errors</p>\n\n<p><strong><em>passing string literal</em></strong>\n<code>&lt;card [title]=\"'My Awesome Card'\"&gt;&lt;/card&gt;</code> - As you are passing string not a variable pass in between quotes.</p>\n\n<p><strong><em>@Input</em></strong> - when data passed to child it need to be a @Input variable not function. you need to declare variable as @Input</p>\n\n<pre><code>@Component({\n  selector: 'card',\n  templateUrl: './card.component.html'\n})\n\nexport class CardComponent implements OnInit {\n\n  @Input() _title: string;\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(title: string) {\n    console.log('prev value: ', this._title);\n    console.log('got title: ', title);\n    this._title = title;\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 866938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21aa2c2b72002690bead027d486691b?s=128&d=identicon&r=PG", "display_name": "EagleX", "link": "https://stackoverflow.com/users/866938/eaglex"}, "is_accepted": false, "score": 1, "last_activity_date": 1515269789, "creation_date": 1515269789, "answer_id": 48131486, "question_id": 46081339, "link": "https://stackoverflow.com/questions/46081339/angular4-typescript-how-to-bind-component-input-property-to-view/48131486#48131486", "title": "(Angular4 / TypeScript) How to Bind Component @Input Property to View?", "body": "<p>In component declaration part, we can just pass input variable as below-</p>\n\n<blockquote>\n  <p>@Input() title: string = \"My Awesome Card\";</p>\n</blockquote>\n\n<p>or </p>\n\n<blockquote>\n  <p>@Input() title: string</p>\n</blockquote>\n"}], "owner": {"reputation": 4958, "user_id": 2442714, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/55b12c04062943aa0642157c28531d69?s=128&d=identicon&r=PG", "display_name": "ux.engineer", "link": "https://stackoverflow.com/users/2442714/ux-engineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1149, "favorite_count": 1, "accepted_answer_id": 46081373, "answer_count": 3, "score": 0, "last_activity_date": 1515269789, "creation_date": 1504719703, "last_edit_date": 1504720552, "question_id": 46081339, "link": "https://stackoverflow.com/questions/46081339/angular4-typescript-how-to-bind-component-input-property-to-view", "title": "(Angular4 / TypeScript) How to Bind Component @Input Property to View?", "body": "<p>How to display a component input property in view?</p>\n\n<p>I've tried several ways, including this, but none has been working: <a href=\"https://ngdev.space/angular-2-input-property-changes-detection-3ccbf7e366d2\" rel=\"nofollow noreferrer\">https://ngdev.space/angular-2-input-property-changes-detection-3ccbf7e366d2</a></p>\n\n<p><em>Component usage:</em></p>\n\n<pre><code>&lt;card [title]='My Awesome Card'&gt;&lt;/card&gt;\n</code></pre>\n\n<p><em>Template:</em></p>\n\n<pre><code>&lt;div class=\"ui card\"&gt;\n  &lt;div class=\"content\"&gt;\n    &lt;div class=\"header\"&gt;{{ title }}&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Part of component declaration:</p>\n\n<pre><code>@Component({\n  selector: 'card',\n  templateUrl: './card.component.html'\n})\n\nexport class CardComponent implements OnInit {\n\n  private _title: string;\n\n  get title(): string {\n    return this._title;\n  }\n\n  @Input()\n  set title(title: string) {\n    console.log('prev value: ', this._title);\n    console.log('got title: ', title);\n    this._title = title;\n  }\n\n  ...\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "ionic2"], "owner": {"reputation": 111, "user_id": 8247085, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-WXrLH0W2gA0/AAAAAAAAAAI/AAAAAAAAGj0/6LN419MP25w/photo.jpg?sz=128", "display_name": "sidharth ramanan", "link": "https://stackoverflow.com/users/8247085/sidharth-ramanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504719047, "creation_date": 1504719047, "question_id": 46081181, "link": "https://stackoverflow.com/questions/46081181/ionic-2-menu-doesnt-work-when-navigating-pages", "title": "Ionic 2 Menu doesn&#39;t work when navigating pages", "body": "<p>I\u2019ve set up a menu in my app.html :</p>\n\n<pre><code> &lt;ion-menu persistent=\"true\"  id='menu' side=\"left\" type='reveal' \n    [content]=\"mycontent\"&gt;\n   &lt;ion-content&gt;\n     some menu content\n   &lt;/ion-content&gt;\n &lt;/ion-menu&gt;\n &lt;ion-nav #mycontent [root]=\"rootPage\"&gt;&lt;/ion-nav&gt;\n</code></pre>\n\n<p>and in each page, I have a button in the navbar that opens the menu :</p>\n\n<p>.html</p>\n\n<pre><code>&lt;ion-navbar hideBackButton&gt;\n  &lt;button ion-button small (click)=\"openMenu()\"&gt;\n    &lt;ion-icon name=\"menu\"&gt;&lt;/ion-icon&gt;\n  &lt;/button&gt;\n&lt;/ion-navbar&gt;\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>openMenu(){\n    this.menuCtrl.enable(true, 'menu');\n    this.menuCtrl.open('menu');\n}\n</code></pre>\n\n<p>The first page that has the menu button is my home.html. The menu works perfectly fine the first time this page is visited. When I navigate to the next page, the menu works fine there as well with the menu button. But when I navigate one more page ( 2 navigations from the home page ), the menu button stops working and the menu doesn\u2019t open. And when I navigate from this page to the home page, the menu stops working there as well, and basically stops working in all pages.</p>\n\n<p>It seems like making 2 navigations from the home page causes the menu to somehow disable itself for good. What could be the reason for this and how can I fix it?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 4272, "user_id": 1019193, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fDPjT.jpg?s=128&g=1", "display_name": "Alejandro B.", "link": "https://stackoverflow.com/users/1019193/alejandro-b"}, "is_accepted": true, "score": 6, "last_activity_date": 1504717317, "creation_date": 1504717317, "answer_id": 46080761, "question_id": 46080760, "link": "https://stackoverflow.com/questions/46080760/error-ts2604-jsx-element-type-does-not-have-any-construct-or-call-signatu/46080761#46080761", "title": "Error TS2604: JSX element type &#39;...&#39; does not have any construct or call signatures", "body": "<p>So it turns out that the error was that when moving to the separate package, I added the component to an index file that reexported the component. But by doing so, I made it cease to be a <em>default</em> export. Kind of obvios in hindsight. So the fix was to wrap the name of the component name in curly braces so to import the actual named component, like this:</p>\n\n<p><code>import { Loader }from \"my-common-components\";</code></p>\n\n<p>and that's it. I hope I saved someone from making the same mistake, as when searching I found lots of places describing the same error but caused by different roots, like the Typescript version and wrong <code>required</code> instructions.</p>\n"}], "owner": {"reputation": 4272, "user_id": 1019193, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fDPjT.jpg?s=128&g=1", "display_name": "Alejandro B.", "link": "https://stackoverflow.com/users/1019193/alejandro-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5930, "favorite_count": 0, "accepted_answer_id": 46080761, "answer_count": 1, "score": 3, "last_activity_date": 1571664465, "creation_date": 1504717317, "last_edit_date": 1571664465, "question_id": 46080760, "link": "https://stackoverflow.com/questions/46080760/error-ts2604-jsx-element-type-does-not-have-any-construct-or-call-signatu", "title": "Error TS2604: JSX element type &#39;...&#39; does not have any construct or call signatures", "body": "<p>I am creating a package that contains common components that we created on the company I work for, and we want available for all projects. We use TypeScript, and I moved the code to a new project and I am able to publish to npm and add the package in the dependencies section of one of my projects. However, when I try to use it I get a compile error saying</p>\n\n<p><code>error TS2604: JSX element type 'Loader' does not have any construct or call signatures.</code></p>\n\n<p>my code (simplified) looks like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Loader from \"my-common-components\";\nexport class Contact extends React.Component&lt;any, any&gt; {\n.\n.\n.\n    public render() {\n        this.state.loading) &amp;&amp; &lt;Loader /&gt;\n        &lt;div&gt;Hello World&lt;/div&gt;\n    }\n}\n</code></pre>\n\n<p>The linter indicates that the error is on the <code>&lt;Loader /&gt;</code> part, however the code of this component (<code>Contact</code>) didn't change, I just moved <code>Loader</code> away from the project and into a separate package (<code>my-common-components</code>).</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 1, "creation_date": 1504716330, "post_id": 46080409, "comment_id": 79122468, "body": "It is saying you are trying to assign an reference of type <code>{}</code> which is a plain object to a reference that requires a type <code>IColumnViewParams</code> which is illegal, it has nothing to do with <code>&lt;&gt;</code> or <code>as</code> which is used for &quot;type casting&quot;"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1504716570, "post_id": 46080409, "comment_id": 79122617, "body": "Related: <a href=\"https://stackoverflow.com/questions/44202311/what-is-the-as-syntax-pointed-out-by-tslint\" title=\"what is the as syntax pointed out by tslint\">stackoverflow.com/questions/44202311/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 9, "last_activity_date": 1504716351, "creation_date": 1504716351, "answer_id": 46080500, "question_id": 46080409, "link": "https://stackoverflow.com/questions/46080409/what-is-the-difference-between-angle-brackets-and-as-in-typescript-2/46080500#46080500", "title": "What is the difference between angle brackets and &quot;as&#39;&#39; in Typescript 2?", "body": "<p>Your interface probably has members that are required, so initializing to <code>{}</code> is not valid. You can cast <code>{}</code> to the interface type if you are initializing it then, and will add the fields shortly.  </p>\n\n<pre><code>const params = {} as IColumnViewParams\n</code></pre>\n\n<p>Initially Typescript used <code>&lt;&gt;</code> for casting, but with the addition of jsx support this became a problem so the <code>as</code> casting operator was added. There is not difference in the casting, just the context where you can use them. <code>as</code> can be used anywhere, <code>&lt;&gt;</code> cannot be used in tsx</p>\n"}], "owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1662, "favorite_count": 1, "closed_date": 1504723750, "accepted_answer_id": 46080500, "answer_count": 1, "score": 5, "last_activity_date": 1504716351, "creation_date": 1504716002, "question_id": 46080409, "link": "https://stackoverflow.com/questions/46080409/what-is-the-difference-between-angle-brackets-and-as-in-typescript-2", "closed_reason": "Duplicate", "title": "What is the difference between angle brackets and &quot;as&#39;&#39; in Typescript 2?", "body": "<p><strong>What is the difference between using <code>as</code> or <code>&lt;&gt;</code> in the code below?</strong></p>\n\n<p>Option A - use 'as' for the return value</p>\n\n<pre><code>convertResultToParams(columnView:IColumnViewResult):IColumnViewParams {\n    const params = {};\n\n    Object.keys(this.getDefaultParams())\n        .map(key =&gt; params[key] = columnView[key]);\n\n    return params as IColumnViewParams;\n}\n</code></pre>\n\n<p>Option B - use 'brackets' for the return value</p>\n\n<pre><code>convertResultToParams(columnView:IColumnViewResult):IColumnViewParams {\n    const params = {};\n\n    Object.keys(this.getDefaultParams())\n        .map(key =&gt; params[key] = columnView[key]);\n\n    return &lt;IColumnViewParams&gt;params;\n}\n</code></pre>\n\n<p><strong>And why can't I just declare the type in the variable declaration?</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/0bsh2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0bsh2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["oop", "typescript", "visual-studio-code", "inversion-of-control", "inversifyjs"], "answers": [{"comments": [{"owner": {"reputation": 11022, "user_id": 604156, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e3155658f692981ca8d75904a8c0918?s=128&d=identicon&r=PG", "display_name": "Ali Ben Messaoud", "link": "https://stackoverflow.com/users/604156/ali-ben-messaoud"}, "edited": false, "score": 0, "creation_date": 1504776062, "post_id": 46080264, "comment_id": 79146680, "body": "I applied what you provided, the problem is about the use of diamond operator with interface name &lt;Warrior&gt;. I don&#39;t know how to resolve this."}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 11022, "user_id": 604156, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e3155658f692981ca8d75904a8c0918?s=128&d=identicon&r=PG", "display_name": "Ali Ben Messaoud", "link": "https://stackoverflow.com/users/604156/ali-ben-messaoud"}, "edited": false, "score": 0, "creation_date": 1504776475, "post_id": 46080264, "comment_id": 79146991, "body": "Are you sure TypeScript is able to find the typings for the library? Are you getting intellisense in VS Code when you type <code>const myContainer = new Container(); myContainer.</code>?"}, {"owner": {"reputation": 11022, "user_id": 604156, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e3155658f692981ca8d75904a8c0918?s=128&d=identicon&r=PG", "display_name": "Ali Ben Messaoud", "link": "https://stackoverflow.com/users/604156/ali-ben-messaoud"}, "edited": false, "score": 0, "creation_date": 1504780276, "post_id": 46080264, "comment_id": 79149685, "body": "<code>tsc</code> command shows the same error. It&#39;s not related to VScode."}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": false, "score": 0, "last_activity_date": 1504716392, "last_edit_date": 1504716392, "creation_date": 1504715458, "answer_id": 46080264, "question_id": 46080130, "link": "https://stackoverflow.com/questions/46080130/inversifyjs-can-not-bind-using-interface/46080264#46080264", "title": "InversifyJS : can not bind using interface", "body": "<ol>\n<li><p>You have to export the interface for it to be imported:</p>\n\n<pre><code>// file interfaces.ts\nexport interface Warrior {\n    fight(): string;\n}\n</code></pre></li>\n<li><p>Your import in <code>inversify.config.ts</code> should be:</p>\n\n<pre><code>import { TYPES } from \"./types\";\n</code></pre></li>\n<li><p>Make sure you have actually installed the library (<code>npm install inversify</code>). The error <code>Untyped function calls may not accept type arguments</code> is sue to missing type information.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1322, "user_id": 1735141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/129fd7ae5fa999d5c2a651f9ad0d5c7f?s=128&d=identicon&r=PG", "display_name": "Oussama BEN MAHMOUD", "link": "https://stackoverflow.com/users/1735141/oussama-ben-mahmoud"}, "is_accepted": true, "score": 1, "last_activity_date": 1589993455, "creation_date": 1589993455, "answer_id": 61918544, "question_id": 46080130, "link": "https://stackoverflow.com/questions/46080130/inversifyjs-can-not-bind-using-interface/61918544#61918544", "title": "InversifyJS : can not bind using interface", "body": "<p>Your example is clean and correct all you have to do is to upgrade your typescript version in your <code>package.json</code></p>\n\n<pre><code>\"devDependencies\": {\n   \"typescript\": \"3.9.3\"\n}\n</code></pre>\n"}], "owner": {"reputation": 11022, "user_id": 604156, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e3155658f692981ca8d75904a8c0918?s=128&d=identicon&r=PG", "display_name": "Ali Ben Messaoud", "link": "https://stackoverflow.com/users/604156/ali-ben-messaoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 0, "accepted_answer_id": 61918544, "answer_count": 2, "score": 1, "last_activity_date": 1589993455, "creation_date": 1504714965, "question_id": 46080130, "link": "https://stackoverflow.com/questions/46080130/inversifyjs-can-not-bind-using-interface", "title": "InversifyJS : can not bind using interface", "body": "<p>I am trying to use inversify JS to inject dependencies on TypeScript App. I started by using the example of <a href=\"https://github.com/inversify/InversifyJS\" rel=\"nofollow noreferrer\">https://github.com/inversify/InversifyJS</a> page : </p>\n\n<pre><code>// file interfaces.ts\ninterface Warrior {\n    fight(): string;\n}\n\n// file types.ts\nconst TYPES = {\n    Warrior: Symbol(\"Warrior\")\n};\nexport { TYPES };\n\n// file entities.ts\nimport { injectable, inject } from \"inversify\";\nimport \"reflect-metadata\";\nimport { Warrior } from \"./interfaces\"\nimport { TYPES } from \"./types\";\n\n@injectable()\nclass WarriorImpl implements Warrior {\n    public constructor(){\n    }\n    public fight() { return \"I fight\"; }\n}\nexport { WarriorImpl };\n\n// file inversify.config.ts\nimport { Container } from \"inversify\";\nimport TYPES from \"./types\";\nimport { Warrior } from \"./interfaces\";\nimport { WarriorImpl } from \"./entities\";\nconst myContainer = new Container();\nmyContainer.bind&lt;Warrior&gt;(TYPES.Warrior).to(WarriorImpl);\nexport { myContainer };\n</code></pre>\n\n<p>I applied what is provided in the example but Vscode and <code>tsc</code> failed at the binding line by showing this error <code>[ts] Untyped function calls may not accept type arguments. [ts] Cannot find name 'Warrior'.</code> </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1504713856, "post_id": 46079719, "comment_id": 79120949, "body": "it would help if you could post a code example that fails."}], "answers": [{"comments": [{"owner": {"reputation": 17471, "user_id": 125440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/39fa4254c0f6a51304072805361d6991?s=128&d=identicon&r=PG", "display_name": "n179911", "link": "https://stackoverflow.com/users/125440/n179911"}, "edited": false, "score": 0, "creation_date": 1504854521, "post_id": 46080396, "comment_id": 79183592, "body": "Thanks. How can I configure tsc to find &#39;es6.promise&#39; as library?  My typescript project is not management by npm.  I tried above suggestion, I get an error saying Promise is not a defined type."}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 17471, "user_id": 125440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/39fa4254c0f6a51304072805361d6991?s=128&d=identicon&r=PG", "display_name": "n179911", "link": "https://stackoverflow.com/users/125440/n179911"}, "edited": false, "score": 1, "creation_date": 1504857810, "post_id": 46080396, "comment_id": 79185449, "body": "How are you compiling your TypeScript code? If you are using <code>tsconfig.json</code> the above option should work. If you are running <code>tsc</code> from the command line, the option should be <code>--lib</code>. See <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">compiler options</a>."}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 4, "last_activity_date": 1504715945, "creation_date": 1504715945, "answer_id": 46080396, "question_id": 46079719, "link": "https://stackoverflow.com/questions/46079719/how-to-resolve-buildpromise-only-refers-to-a-type-but-is-being-used-as-a-va/46080396#46080396", "title": "How to resolve &#39;Build:&#39;Promise&#39; only refers to a type, but is being used as a value here.&#39;", "body": "<p>If you are sure that the environment you are going to run it supports promise, you can target ES5, but add the <code>lib</code> compiler option:</p>\n\n<pre><code>\"compilerOptions\": {\n    // ...\n    \"target\": \"es5\",\n    \"lib\": [\n        \"es2015.promise\" // Or \"es2015\" or \"es6\" should work as well\n    ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "is_accepted": false, "score": 8, "last_activity_date": 1563843024, "creation_date": 1563843024, "answer_id": 57155319, "question_id": 46079719, "link": "https://stackoverflow.com/questions/46079719/how-to-resolve-buildpromise-only-refers-to-a-type-but-is-being-used-as-a-va/57155319#57155319", "title": "How to resolve &#39;Build:&#39;Promise&#39; only refers to a type, but is being used as a value here.&#39;", "body": "<p>To solve this without changing <code>lib</code> you have to add <code>@types/node</code> to dependencies or devDependencies this will <strong>resolve</strong> not only <code>Promise</code> but <strong>all node types</strong>.</p>\n\n<p><code>npm i @types/node</code></p>\n\n<p>Here is my lib:</p>\n\n<pre><code>\"target\": \"es5\",\n\"lib\": [\n  \"dom\",\n  \"es5\",\n  \"dom.iterable\",\n  \"scripthost\"\n]\n</code></pre>\n"}], "owner": {"reputation": 17471, "user_id": 125440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/39fa4254c0f6a51304072805361d6991?s=128&d=identicon&r=PG", "display_name": "n179911", "link": "https://stackoverflow.com/users/125440/n179911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8412, "favorite_count": 1, "accepted_answer_id": 46080396, "answer_count": 2, "score": 2, "last_activity_date": 1563843024, "creation_date": 1504713555, "question_id": 46079719, "link": "https://stackoverflow.com/questions/46079719/how-to-resolve-buildpromise-only-refers-to-a-type-but-is-being-used-as-a-va", "title": "How to resolve &#39;Build:&#39;Promise&#39; only refers to a type, but is being used as a value here.&#39;", "body": "<p>In typescript, I get build error saying 'Build:'Promise' only refers to a type, but is being used as a value here.'.</p>\n\n<p>My project target is 'ES5'. From this thread, I can resolve the issue by changing it to ES6. Is there a way to resolve the issue without changing my target?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/43119163/typescript-error-ts2693-promise-only-refers-to-a-type-but-is-being-used-as\">typescript: error TS2693: &#39;Promise&#39; only refers to a type, but is being used as a value here</a></p>\n\n<p>Thank you.</p>\n"}, {"tags": ["angular", "typescript", "constructor", "constructor-injection"], "answers": [{"tags": [], "owner": {"reputation": 6758, "user_id": 88002, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/369d64fac3492b8a3376521c054190d1?s=128&d=identicon&r=PG", "display_name": "Nic Gibson", "link": "https://stackoverflow.com/users/88002/nic-gibson"}, "is_accepted": true, "score": 1, "last_activity_date": 1505304650, "creation_date": 1505304650, "answer_id": 46197220, "question_id": 46079081, "link": "https://stackoverflow.com/questions/46079081/angular-error-with-multiple-injected-objects-causes-no-provider-for-object-obj/46197220#46197220", "title": "Angular error with multiple injected objects causes &quot;no provider for [object Object]", "body": "<p>For the record, it was a typo in a totally different module. Angular sometimes gives unexpected errors.</p>\n"}], "owner": {"reputation": 6758, "user_id": 88002, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/369d64fac3492b8a3376521c054190d1?s=128&d=identicon&r=PG", "display_name": "Nic Gibson", "link": "https://stackoverflow.com/users/88002/nic-gibson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "accepted_answer_id": 46197220, "answer_count": 1, "score": 2, "last_activity_date": 1505304650, "creation_date": 1504711615, "question_id": 46079081, "link": "https://stackoverflow.com/questions/46079081/angular-error-with-multiple-injected-objects-causes-no-provider-for-object-obj", "title": "Angular error with multiple injected objects causes &quot;no provider for [object Object]", "body": "<p>I've been trying to set up an Angular 4 application. I'm many years out of practice with web front end work so I may be doing something obviously stupid. Help would be appreciated.</p>\n\n<p>I have a configuration object that uses an injection token. I have two services using it. One takes a single parameter:</p>\n\n<pre><code>constructor(@Inject(APP_CONFIG) private config: AppConfig) {\n  this.requestUrl = this.config.restRoot + listPresentationsUrl;\n}\n</code></pre>\n\n<p>The other service is further developed and is using the HttpClient to pull data from the server. However the constructor:</p>\n\n<pre><code>constructor (@Inject(APP_CONFIG) private config: AppConfig, private web: HttpClient) {\nthis.requestUrl = config.restRoot + listDecksUrl;\n}\n</code></pre>\n\n<p>causes an error I don't expect. This service is used by a component to get data. As soon as I use both arguments in the constructor above I get a <code>no provider for [object Object]!</code> error. The component triggering it is the one using the service. If I use one of the two arguments the application doesn't trigger the error.</p>\n\n<p>Any suggestions? The full classes are below - I have removed some code from onInit but it makes no difference to the error (this is my minimal code to trigger the error).</p>\n\n<p>The component (decklist.component.ts)</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DecksService } from './decks.service';\nimport { Deck } from './deck.model';\n\n@Component({\n  selector: 'slides-decks',\n  templateUrl: './decklist.component.html',\n  styleUrls: ['./decklist.component.css']\n})\nexport class DeckListComponent implements OnInit {\n\n  presentations: Deck[];\n  constructor(private deckService: DecksService) {}\n\n\n  ngOnInit(): void {\n  }\n\n}\n</code></pre>\n\n<p>The service (decks.service.ts)</p>\n\n<pre><code>import { Injectable, Inject } from '@angular/core';\nimport { Deck } from './deck.model';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/do';\n\nimport { AppConfig, APP_CONFIG, SLIDESHOW_CONFIG } from './../shared/app.config';\n\nconst listDecksUrl: string = 'list-decks';\n\n@Injectable()\nexport class DecksService {\n\n    private requestUrl: string;\n\n    constructor (@Inject(APP_CONFIG) private config: AppConfig, private http: HttpClient) {\n        this.requestUrl = this.config.restRoot + listDecksUrl;\n    }\n\n    listDecks(): Observable&lt;Deck[]&gt; {\n        return this.http.get&lt;Deck[]&gt;(this.requestUrl);\n    }\n\n}\n</code></pre>\n\n<p>The shared app configuration (app.config.ts)</p>\n\n<pre><code>import { InjectionToken } from '@angular/core';\n\nexport let APP_CONFIG = new InjectionToken&lt;AppConfig&gt;('app.config');\n\nexport interface AppConfig {\n  username: string;\n  password: string;\n  restRoot: string;\n}\n\nexport const SLIDESHOW_CONFIG: AppConfig = {\n    username: '**********',\n    password: '**********',\n    restRoot: 'http://localhost:8070/api'\n};\n</code></pre>\n\n<p>The error is:</p>\n\n<p>Error: No provider for [object Object]!\n    at injectionError (core.es5.js:1169)\n    at noProviderError (core.es5.js:1207)\n    at ReflectiveInjector_.webpackJsonp.../../../core/@angular/core.es5.js.ReflectiveInjector_.<em>throwOrNull (core.es5.js:2649)\n    at ReflectiveInjector</em>.webpackJsonp.../../../core/@angular/core.es5.js.ReflectiveInjector_.<em>getByKeyDefault (core.es5.js:2688)\n    at ReflectiveInjector</em>.webpackJsonp.../../../core/@angular/core.es5.js.ReflectiveInjector_.<em>getByKey (core.es5.js:2620)\n    at ReflectiveInjector</em>.webpackJsonp.../../../core/@angular/core.es5.js.ReflectiveInjector_.get (core.es5.js:2489)\n    at resolveNgModuleDep (core.es5.js:9481)\n    at _callFactory (core.es5.js:9556)\n    at _createProviderInstance$1 (core.es5.js:9495)\n    at resolveNgModuleDep (core.es5.js:9477)</p>\n"}, {"tags": ["angular", "typescript", "animation", "ionic3", "angular-animations"], "answers": [{"comments": [{"owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "edited": false, "score": 2, "creation_date": 1504712209, "post_id": 46079224, "comment_id": 79119919, "body": "Even if Ionic would already use version <code>4.3+</code> of Angular this will not be possible because Ionic is using its own router called NavController which is optimized for mobile apps."}, {"owner": {"reputation": 1013, "user_id": 6307259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8e263d81a0d6e658cefb89e4e5aa4a?s=128&d=identicon&r=PG", "display_name": "zoha131", "link": "https://stackoverflow.com/users/6307259/zoha131"}, "edited": false, "score": 0, "creation_date": 1504713822, "post_id": 46079224, "comment_id": 79120929, "body": "thanks for the answer and comment. But I need to implement custom page transition. Is there any way to do that in ionic?"}, {"owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "edited": false, "score": 0, "creation_date": 1504719965, "post_id": 46079224, "comment_id": 79124510, "body": "You can have a look at this plugin: <a href=\"https://ionicframework.com/docs/native/native-page-transitions/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/native-page-transitions</a>"}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 0, "last_activity_date": 1504712023, "creation_date": 1504712023, "answer_id": 46079224, "question_id": 46078758, "link": "https://stackoverflow.com/questions/46078758/how-to-implement-angular-router-animation-in-ionic-3/46079224#46079224", "title": "How to implement Angular Router animation in Ionic 3?", "body": "<p>Unfortunately, you cannot use Angular Router transitions using new animation features on <code>v4.3+</code> since <code>Ionic 3</code> uses Angular <code>4.1.3</code></p>\n\n<p>But you can use <code>Angular Web Animations API</code> to do the animation. But keep in mind you must get the right version since Ionic is behind the Angular.</p>\n\n<pre><code>npm install @angular/animations@4.1.3 --save --save-exact\n</code></pre>\n\n<p>Here is an <a href=\"https://www.joshmorony.com/add-to-cart-with-the-web-animations-api-in-ionic/\" rel=\"nofollow noreferrer\"><strong>article about it</strong></a>.</p>\n"}], "owner": {"reputation": 1013, "user_id": 6307259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8e263d81a0d6e658cefb89e4e5aa4a?s=128&d=identicon&r=PG", "display_name": "zoha131", "link": "https://stackoverflow.com/users/6307259/zoha131"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504712039, "creation_date": 1504710553, "last_edit_date": 1504712039, "question_id": 46078758, "link": "https://stackoverflow.com/questions/46078758/how-to-implement-angular-router-animation-in-ionic-3", "title": "How to implement Angular Router animation in Ionic 3?", "body": "<p>Recently Angulater added a feature by which we can easily implement animation when entering a view.\nMy qs is how can I implement this feature in ionic?</p>\n\n<p>You can find more about router transition <a href=\"https://medium.com/google-developer-experts/angular-supercharge-your-router-transitions-using-new-animation-features-v4-3-3eb341ede6c8\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>My goal is to set custom transition when I push a new page. More precisely, I want to implement the rightmost design in ionic which you can find <a href=\"https://www.uplabs.com/posts/landing-experiments-sources-sorted-by-complexity-template\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["angular", "typescript", "angular-material2"], "comments": [{"owner": {"reputation": 10785, "user_id": 5556177, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d9Zo80hDfWY/AAAAAAAAAAI/AAAAAAAAACQ/Q-IpHqjPcx8/photo.jpg?sz=128", "display_name": "Nehal", "link": "https://stackoverflow.com/users/5556177/nehal"}, "edited": false, "score": 0, "creation_date": 1504739360, "post_id": 46078521, "comment_id": 79133184, "body": "You can check out this <a href=\"https://stackoverflow.com/a/45525364/5556177\">answer</a> for a working example."}], "answers": [{"comments": [{"owner": {"reputation": 160, "user_id": 9158986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-q94VqH2TOOs/AAAAAAAAAAI/AAAAAAAAAvE/41s4TYM04AU/photo.jpg?sz=128", "display_name": "Hila Grossbard", "link": "https://stackoverflow.com/users/9158986/hila-grossbard"}, "edited": false, "score": 0, "creation_date": 1608538547, "post_id": 46084582, "comment_id": 115604688, "body": "where exactly in the code you change the local? (<code>moment.locale(&#39;fr&#39;);</code>)"}], "tags": [], "owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "is_accepted": false, "score": 0, "last_activity_date": 1504733228, "creation_date": 1504733228, "answer_id": 46084582, "question_id": 46078521, "link": "https://stackoverflow.com/questions/46078521/angular-2-material-datepicker-change-format-and-language/46084582#46084582", "title": "Angular 2 Material datepicker - change format and language", "body": "<p>You have to implement parse. I use moment.js library and here is my impl:</p>\n\n<pre><code>    @Injectable()\n    export class MyDateAdapterService extends NativeDateAdapter {\n\n      parse(value: any): Date | null {\n        if (typeof value === 'number') {\n          return new Date(value);\n        }\n\n        if (value) {\n          const localeData = moment.localeData();\n          const format = localeData.longDateFormat('L');\n          return moment(value, format).toDate();\n        } else {\n          return null;\n        }\n      }\n    }\n</code></pre>\n\n<p>You also have to change locale for moment like:</p>\n\n<pre><code>   moment.locale('fr');\n</code></pre>\n\n<p>and add your provider:</p>\n\n<pre><code>providers: [\n  [{provide: DateAdapter, useClass: MyDateAdapterService}]\n]\n</code></pre>\n"}], "owner": {"reputation": 486, "user_id": 2469323, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e038587487fbefb1f1a08179cdaabf4b?s=128&d=identicon&r=PG", "display_name": "Ilan Finkel", "link": "https://stackoverflow.com/users/2469323/ilan-finkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2350, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1504747719, "creation_date": 1504709861, "last_edit_date": 1504747719, "question_id": 46078521, "link": "https://stackoverflow.com/questions/46078521/angular-2-material-datepicker-change-format-and-language", "title": "Angular 2 Material datepicker - change format and language", "body": "<p>I tried to follow the official documentation in the Angular Material website:\n<a href=\"https://material.angular.io/components/datepicker/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/components/datepicker/overview</a></p>\n\n<p>I want to change the language of the datepicker to Hebrew and change the format to dd/mm/yyyy.</p>\n\n<p>this is my component.html:</p>\n\n<pre><code>&lt;md-form-field class=\"full-width\"&gt;\n    &lt;input\n        (click)=\"picker.open()\"\n        [min]=\"minDate\"\n        [max]=\"maxDate\"\n        mdInput\n        readonly\n        [mdDatepicker]=\"picker\"\n        formControlName=\"date\"\n        placeholder=\"Choose Date\"&gt;\n    &lt;md-datepicker-toggle mdSuffix [for]=\"picker\"&gt;&lt;/md-datepicker-toggle&gt;\n    &lt;md-datepicker touchUi=\"true\" #picker&gt;&lt;/md-datepicker&gt;\n&lt;/md-form-field&gt;\n</code></pre>\n\n<p>I tried was able to change the language to Hebrew by set the following settings in the component.ts file:</p>\n\n<pre><code>constructor(\n    dateAdapter: DateAdapter&lt;NativeDateAdapter&gt;,\n    ...\n ) {\n    dateAdapter.setLocale('he-HE');\n }\n</code></pre>\n\n<p>now the language changed ( the name of the months and etc.) and the format changed to d/m/yyyy</p>\n\n<p>the problem is that when the user choose for example 1.7.17 it means that he choose 1, September 2017 and if the user click on the datepicker again it shows him the calendar of January.</p>\n\n<p>thank you for your help</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux", "redux-form"], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 2442747, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Yiu2G.jpg?s=128&g=1", "display_name": "Rahul Mangal", "link": "https://stackoverflow.com/users/2442747/rahul-mangal"}, "edited": false, "score": 0, "creation_date": 1508234973, "post_id": 46380336, "comment_id": 80521413, "body": "where to put this type file either on project root level or in node_modules folder"}, {"owner": {"reputation": 1925, "user_id": 5131575, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-lCuzOQ0Q5AA/AAAAAAAAAAI/AAAAAAAAACU/aXATmoKbkrQ/photo.jpg?sz=128", "display_name": "Kyle Truong", "link": "https://stackoverflow.com/users/5131575/kyle-truong"}, "reply_to_user": {"reputation": 485, "user_id": 2442747, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Yiu2G.jpg?s=128&g=1", "display_name": "Rahul Mangal", "link": "https://stackoverflow.com/users/2442747/rahul-mangal"}, "edited": false, "score": 0, "creation_date": 1508246517, "post_id": 46380336, "comment_id": 80528822, "body": "We just put it in src/typings/redux-forms.d.ts.  We used create-react-app with Microsoft&#39;s Typescript scripts.  Didn&#39;t modify the package.json to do anything so I believe TypeScript is just picking things within the src/ folder and reading the &#39;declare&#39; keyword."}, {"owner": {"reputation": 485, "user_id": 2442747, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Yiu2G.jpg?s=128&g=1", "display_name": "Rahul Mangal", "link": "https://stackoverflow.com/users/2442747/rahul-mangal"}, "edited": false, "score": 0, "creation_date": 1508249238, "post_id": 46380336, "comment_id": 80530785, "body": "when i do as you say. i faced this below error.   D:\\repositories\\tsproj\\reactjs-ts-form-demo\\node_modules\\@ty&zwnj;&#8203;pes\\redux-form\\lib\\s&zwnj;&#8203;electors.d.ts (1,10): error TS2305: Module &#39;&#39;redux-form&#39;&#39; has no exported member &#39;FormErrors&#39;.   my dependencies are: <a href=\"https://jsfiddle.net/mglrahul/9qrn6gbn/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/mglrahul/9qrn6gbn/1</a>"}, {"owner": {"reputation": 1925, "user_id": 5131575, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-lCuzOQ0Q5AA/AAAAAAAAAAI/AAAAAAAAACU/aXATmoKbkrQ/photo.jpg?sz=128", "display_name": "Kyle Truong", "link": "https://stackoverflow.com/users/5131575/kyle-truong"}, "reply_to_user": {"reputation": 485, "user_id": 2442747, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Yiu2G.jpg?s=128&g=1", "display_name": "Rahul Mangal", "link": "https://stackoverflow.com/users/2442747/rahul-mangal"}, "edited": false, "score": 0, "creation_date": 1508254470, "post_id": 46380336, "comment_id": 80534463, "body": "it sounds like the TypeScript declare is working then, and you need to define the type for &#39;FormErrors&#39; in the declaration"}], "tags": [], "owner": {"reputation": 1925, "user_id": 5131575, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-lCuzOQ0Q5AA/AAAAAAAAAAI/AAAAAAAAACU/aXATmoKbkrQ/photo.jpg?sz=128", "display_name": "Kyle Truong", "link": "https://stackoverflow.com/users/5131575/kyle-truong"}, "is_accepted": false, "score": 0, "last_activity_date": 1506174965, "creation_date": 1506174965, "answer_id": 46380336, "question_id": 46078452, "link": "https://stackoverflow.com/questions/46078452/typing-redux-forms-v7-with-typescript-and-react/46380336#46380336", "title": "Typing redux forms v7 with TypeScript and React", "body": "<p>What we ended up doing was to close our eyes and override the default types with a type declaration file:</p>\n\n<p>redux-forms.d.ts:</p>\n\n<pre><code>declare module 'redux-form' {\n  type anyProps = { [key: string]: {} }\n  function Field(): React.Component&lt;anyProps&gt;;\n  function reduxForm({}): &lt;T&gt;(c: T) =&gt; T\n  function reducer(): object\n  interface SubmissionError {\n    new(error?: {}) : Error;\n  }\n  function getFormValues(formName: string): (formName: {}) =&gt; {}\n  function stopSubmit(formName: string, errorObject?: {}): any\n  function isSubmitting(formName: string): any\n  function setSubmitFailed(formName: string): any\n  function setSubmitSucceeded(formName: string): any\n  function touch(formName: string): any\n  function clearSubmitErrors(formName: string): any\n  function getFormMeta(formName: string, ...fields: string[]): (state: {}) =&gt; {}\n  function getFormSyncErrors(formName: string): (state: {}) =&gt; {}\n  function getFormSubmitErrors(formName: string): (state: {}) =&gt; {}\n  function getFormNames(): any\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2496, "user_id": 1245564, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eab80ccaf981c12f7385c521df9763b9?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/1245564/amir"}, "edited": false, "score": 0, "creation_date": 1527887554, "post_id": 46459201, "comment_id": 88312955, "body": "do you have an updated version of this? Is there a better way to do this now?"}], "tags": [], "owner": {"reputation": 36, "user_id": 8529523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9cf888f03b2b906f59a7ed99caf707?s=128&d=identicon&r=PG&f=1", "display_name": "bel", "link": "https://stackoverflow.com/users/8529523/bel"}, "is_accepted": true, "score": 2, "last_activity_date": 1506559245, "creation_date": 1506559245, "answer_id": 46459201, "question_id": 46078452, "link": "https://stackoverflow.com/questions/46078452/typing-redux-forms-v7-with-typescript-and-react/46459201#46459201", "title": "Typing redux forms v7 with TypeScript and React", "body": "<p>I also ran into this issue trying to initialise my form from redux state, as per the example in <a href=\"https://redux-form.com/7.0.4/examples/initializefromstate/\" rel=\"nofollow noreferrer\">https://redux-form.com/7.0.4/examples/initializefromstate/</a></p>\n\n<p>I ended up getting around it by connecting the component at a higher level, eg:</p>\n\n<p>component.tsx:</p>\n\n<pre><code>interface DummyFormComponentProps {} extends InjectedFormProps\n\nconst DummyFormComponent: React.SFC&lt;DummyFormComponentProps&gt; = props =&gt; {\n  return (\n    &lt;form onSubmit={props.handleSubmit}&gt;\n      // Fields go here\n    &lt;/form&gt;\n  )\n}\n\nexport const DummyForm = reduxForm({\n  form: \"dummy-form\"\n})(DummyFormComponent)\n\n// Trying to connect here also gave errors with DecoratedComponentClass\n</code></pre>\n\n<p>container.tsx:</p>\n\n<pre><code>interface DummyFormContainerProps {} extends Pick&lt;InjectedFormProps,\n  \"initialValues\"\n&gt;\n\nconst submitForm = (formValues: object) =&gt; {\n  alert(formValues);\n};\n\nconst DummyFormContainer: React.SFC&lt;DummyFormContainerProps&gt; = props =&gt; {  \n  return (\n    &lt;DummyForm \n      initialValues={props.initialValues}\n      onSubmit={submitForm}\n    /&gt;\n  )\n}\n\nconst mapStateToProps = (state: State) =&gt; ({\n  initialValues: {}\n});\nconst mapDispatchToProps = (dispatch: object) =&gt; {\n  return {};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(DummyFormContainer)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 243, "user_id": 6849357, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2E8XZkc1GYk/AAAAAAAAAAI/AAAAAAAAAFs/zgg2qJ6fP3w/photo.jpg?sz=128", "display_name": "Tom McKinney", "link": "https://stackoverflow.com/users/6849357/tom-mckinney"}, "is_accepted": false, "score": 3, "last_activity_date": 1506688019, "creation_date": 1506688019, "answer_id": 46488823, "question_id": 46078452, "link": "https://stackoverflow.com/questions/46078452/typing-redux-forms-v7-with-typescript-and-react/46488823#46488823", "title": "Typing redux forms v7 with TypeScript and React", "body": "<p>I found that I was able to dismiss the error by providing the connect statement with empty <code>TStateProps</code> and <code>TDispatchProps</code> objects.</p>\n\n<p></p>\n\n<pre><code>interface SampleFormData {\n  username: string;\n}\n\ninterface SampleFormProps {\n  saveData: (data: SampleFormData) =&gt; void;\n}\n\ntype AllSampleFormProps = SampleFormProps &amp; InjectedFormProps&lt;SampleFormData&gt;;\n\nconst SampleForm: React.SFC&lt;AllSampleFormProps&gt; = (props) =&gt; (\n  &lt;form onSubmit={props.handleSubmit(props.saveData)}&gt;\n    &lt;Field name=\"username\" component=\"input\" /&gt;\n  &lt;/form&gt;\n);\n\nconst DecoratedSampleForm = reduxForm&lt;SampleFormData&gt;({ form: \"sampleForm\" })(SampleForm);\n\nexport default connect&lt;{},{}&gt;(\n  () =&gt; ({}),\n  (dispatch) =&gt; ({\n    saveData: (data: SampleFormData) =&gt; dispatch({ type: \"SAVE_DATA\", data })\n  })\n)(DecoratedSampleForm);\n</code></pre>\n\n<p>The one downside to this is that it forces us to blindly supply connect props but I felt that this was a more elegant solution than writing an override @types declaration.</p>\n\n<p>To address this shortcoming, I was able to validate the types by providing connect with the correct interfaces versus empty objects; however, this method can only be done temporarily to check the bindings as it doesn't resolve the <code>DecoratedComponentClass</code> error.</p>\n\n<pre><code>export default connect&lt;{}, SampleFormProps, InjectedFormProps&lt;SampleFormData&gt;&gt;(\n  () =&gt; ({}),\n  (dispatch) =&gt; ({\n    saveData: (data: SampleFormData) =&gt; dispatch({ type: \"SAVE_DATA\", data })\n  })\n)(DecoratedSampleForm);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3283968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a095ef7ea001a71ecacda13fbf0018?s=128&d=identicon&r=PG", "display_name": "TimArsen", "link": "https://stackoverflow.com/users/3283968/timarsen"}, "is_accepted": false, "score": -4, "last_activity_date": 1513970209, "creation_date": 1513970209, "answer_id": 47946336, "question_id": 46078452, "link": "https://stackoverflow.com/questions/46078452/typing-redux-forms-v7-with-typescript-and-react/47946336#47946336", "title": "Typing redux forms v7 with TypeScript and React", "body": "<p>I had the same problem and found it was caused by \"@types/react-redux\", remove this types definition file and everything works the way you would expect it to without any other side effects/type errors caused by not having that type-def-file.</p>\n"}, {"comments": [{"owner": {"reputation": 2335, "user_id": 391465, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c284c32cec87526b4559fc46c41f1cb3?s=128&d=identicon&r=PG", "display_name": "darewreck", "link": "https://stackoverflow.com/users/391465/darewreck"}, "edited": false, "score": 0, "creation_date": 1555975561, "post_id": 49995464, "comment_id": 98273207, "body": "How do you handle the case where you want to add more props then form/initialValues.  Let&#39;s say i want the caller to add the initial values of a drop down.  How would you do that?"}, {"owner": {"reputation": 2335, "user_id": 391465, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c284c32cec87526b4559fc46c41f1cb3?s=128&d=identicon&r=PG", "display_name": "darewreck", "link": "https://stackoverflow.com/users/391465/darewreck"}, "edited": false, "score": 0, "creation_date": 1555978354, "post_id": 49995464, "comment_id": 98273762, "body": "Ex. say that your form&#39;s drop down gets populated with [a,b,c,d].  This wouldn&#39;t go into initialValues since it&#39;s not part of the form&#39;s selected values vs the actual selected value of the form.  If it&#39;s not part of initial value, how is that configured in the mapStateToProps"}], "tags": [], "owner": {"reputation": 101, "user_id": 9689461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b513f8ab0c2a370bbd192a1ebd7d06b?s=128&d=identicon&r=PG", "display_name": "Timofey Sergeyev", "link": "https://stackoverflow.com/users/9689461/timofey-sergeyev"}, "is_accepted": false, "score": 10, "last_activity_date": 1524555200, "last_edit_date": 1524555200, "creation_date": 1524553925, "answer_id": 49995464, "question_id": 46078452, "link": "https://stackoverflow.com/questions/46078452/typing-redux-forms-v7-with-typescript-and-react/49995464#49995464", "title": "Typing redux forms v7 with TypeScript and React", "body": "<p>Here's a fully typed example that allows initializing a form using <code>initialValues</code> and passing additional props (as <code>IOwnProps</code>):</p>\n\n<p><strong>sampleForm.tsx:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface IFormData {\n  userId: string;\n}\n\nexport interface IOwnProps {\n  foo: string;\n}\n\nexport interface IDispatchProps {\n  onSubmit: (data: IFormData, dispatch: Dispatch&lt;any&gt;, props: IOwnProps) =&gt; void;\n}\n\ntype AllSampleFormProps = IOwnProps &amp; IDispatchProps &amp; InjectedFormProps&lt;IFormData, IOwnProps&gt;;\n\nconst SampleForm: React.SFC&lt;AllSampleFormProps&gt; = (props) =&gt; (\n  &lt;form onSubmit={props.handleSubmit(props.onSubmit)}&gt;\n    &lt;div&gt;foo={props.foo}&lt;/div&gt;\n    &lt;Field name=\"userId\" component=\"input\" /&gt;\n    &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n);\n\nexport const DecoratedSampleForm = reduxForm&lt;IFormData, IOwnProps&gt;({})(SampleForm);\n</code></pre>\n\n<p><strong>sampleForm.ts:</strong></p>\n\n<p>The trick here is to specify proper return type for <code>mapStateToProps</code>, otherwise compiler will be complaining like other authors pointed out.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function mapStateToProps(state: AppState, props: IOwnProps): ConfigProps&lt;IFormData, IOwnProps&gt; {\n  return {\n    form: \"sampleForm\", // Form will be handled by Redux Form using this key\n    initialValues: {\n      userId: state.somethere.userId // Can also be calculated using props\n    }\n  }\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch&lt;any&gt;): IDispatchProps {\n  return {\n    onSubmit: (formData: IFormData, dispatch: Dispatch&lt;any&gt;, props: IOwnProps) =&gt; {\n      console.log(formData);\n      console.log(props);\n    }\n  }\n}\n\nexport default connect&lt;ConfigProps&lt;IFormData, IOwnProps&gt;&gt;(\n  mapStateToProps,\n  mapDispatchToProps\n)(DecoratedSampleForm);\n</code></pre>\n\n<p>Now this form can be mounted like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;FormContainer foo=\"bar\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 1925, "user_id": 5131575, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-lCuzOQ0Q5AA/AAAAAAAAAAI/AAAAAAAAACU/aXATmoKbkrQ/photo.jpg?sz=128", "display_name": "Kyle Truong", "link": "https://stackoverflow.com/users/5131575/kyle-truong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16950, "favorite_count": 6, "accepted_answer_id": 46459201, "answer_count": 5, "score": 8, "last_activity_date": 1524555200, "creation_date": 1504709694, "question_id": 46078452, "link": "https://stackoverflow.com/questions/46078452/typing-redux-forms-v7-with-typescript-and-react", "title": "Typing redux forms v7 with TypeScript and React", "body": "<p>I've got a plain react-redux-powered form. I wish for there to be a form.container.tsx and a form.component.tsx, where form.container.tsx holds all the connections to redux state minus the Field's. I'm trying to wrap my container in react-redux's connect and then wrapping reduxForm within it to look something like <a href=\"https://stackoverflow.com/questions/40722592/typescript-redux-form-and-connect?rq=1\">TypeScript, redux-form and connect</a>:</p>\n\n<p>(ideal) form.container.tsx:</p>\n\n<pre><code>interface DummyFormContainerProps {}\n\nexport const DummyFormContainer: React.SFC&lt;DummyFormContainerProps&gt; = props =&gt; {\n  const submitForm = (formValues: object) =&gt; {\n    alert(formValues);\n  };\n  return (\n    &lt;DummyForm\n      onSubmit={submitForm}\n    /&gt;\n  );\n};\n\nconst mapStateToProps = (state: State) =&gt; ({});\nconst mapDispatchToProps = (dispatch: object) =&gt; {\n  return {};\n};\nconst mergeProps = (stateProps: State, dispatchProps: object | null, ownProps: object | void) =&gt; \n  Object.assign({}, stateProps, dispatchProps, ownProps);\n\nconst formConfiguration = {\n  form: 'dummy-form',\n  forceUnregisterOnUnmount: true\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  reduxForm(formConfiguration)(DummyFormContainer)\n);\n</code></pre>\n\n<p>The above does not work, but if I take out the reduxForm() part, I'm left with a working container with no reduxForm Integration:</p>\n\n<p>(working without reduxForm) form.container.tsx:</p>\n\n<pre><code>export default connect(mapStateToProps, mapDispatchToProps, mergeProps)(\n  DummyFormContainer\n);\n</code></pre>\n\n<p>And I've tried different variations with reduxForms and connect, all not currently working:</p>\n\n<p>(with classes) form.container.tsx:</p>\n\n<pre><code>export class DummyFormContainer extends React.Component&lt;DummyFormContainerProps, void&gt; {\n  submitForm = (formValues: object) =&gt; {\n    alert(formValues);\n  }\n\n  render() {\n    return (\n      &lt;DummyForm\n        onSubmit={this.submitForm}\n      /&gt;\n    );\n  }\n}\n\nconst mapStateToProps = (state: State) =&gt; ({});\nconst mapDispatchToProps = (dispatch: object) =&gt; {\n  return {};\n};\nconst mergeProps = (stateProps: State, dispatchProps: object | null, ownProps: object | void) =&gt; \n  Object.assign({}, stateProps, dispatchProps, ownProps);\n\nconst formConfiguration = {\n  form: 'business-registration',\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(\n  reduxForm(formConfiguration)(DummyFormContainer) // ERROR\n);\n</code></pre>\n\n<p>error: </p>\n\n<pre><code>./src/modules/dummy-form/dummy-form.container.tsx\n(100,32): error TS2345: Argument of type 'typeof DummyFormContainer' is not assignable to parameter of type 'ComponentType&lt;InjectedFormProps&lt;{}, {}&gt;&gt;'.\n  Type 'typeof DummyFormContainer' is not assignable to type 'StatelessComponent&lt;InjectedFormProps&lt;{}, {}&gt;&gt;'.\n    Type 'typeof DummyFormContainer' provides no match for the signature '(props: InjectedFormProps&lt;{}, {}&gt; &amp; { children?: ReactNode; }, context?: any): ReactElement&lt;any&gt; | null'.\n</code></pre>\n\n<p>(with stateless functional components) form.container.tsx:</p>\n\n<pre><code>export const DummyFormContainer: React.SFC&lt;DummyFormContainerProps&gt; = props =&gt; {\n  const submitForm = (formValues: object) =&gt; {\n    alert(formValues);\n  };\n  return (\n    &lt;DummyForm\n      onSubmit={submitForm}\n    /&gt;\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(\n  reduxForm(formConfiguration)(DummyFormContainer) // ERROR\n);\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>./src/modules/dummy-form/dummy-form.container.tsx\n(100,3): error TS2345: Argument of type 'DecoratedComponentClass&lt;{}, Partial&lt;ConfigProps&lt;{}, {}&gt;&gt;&gt;' is not assignable to parameter of type 'ComponentType&lt;(State &amp; null &amp; void) | (State &amp; null &amp; object) | (State &amp; object &amp; void) | (State ...'.\n  Type 'DecoratedComponentClass&lt;{}, Partial&lt;ConfigProps&lt;{}, {}&gt;&gt;&gt;' is not assignable to type 'StatelessComponent&lt;(State &amp; null &amp; void) | (State &amp; null &amp; object) | (State &amp; object &amp; void) | (S...'.\n    Type 'DecoratedComponentClass&lt;{}, Partial&lt;ConfigProps&lt;{}, {}&gt;&gt;&gt;' provides no match for the signature '(props: (State &amp; null &amp; void &amp; { children?: ReactNode; }) | (State &amp; null &amp; object &amp; { children?: ReactNode; }) | (State &amp; object &amp; void &amp; { children?: ReactNode; }) | (State &amp; object &amp; { children?: ReactNode; }), context?: any): ReactElement&lt;any&gt; | null'.\n</code></pre>\n\n<p>The form.component.tsx looks like this:</p>\n\n<pre><code>import * as React from 'react';\nimport Input from '../../components/input';\n\ninterface DummyFormProps {\n  onSubmit: (formValues: object) =&gt; void\n}\n\nexport const DummyForm: React.SFC&lt;DummyFormProps&gt; = () =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;DummyForm (no state)&lt;/h1&gt;\n      &lt;form&gt;\n        &lt;Input inputType=\"primary\" /&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default DummyForm;\n</code></pre>\n\n<p>And the &lt; Input > component is a regular React component.</p>\n\n<p>Does anyone know how to properly connect reduxForm and react-redux's connect()?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-pipe"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1504708508, "post_id": 46077521, "comment_id": 79117254, "body": "Did you try something like <code>{{&#39;&#39; | currency:&#39;USD&#39;:true}}</code> ?"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1504708521, "post_id": 46077521, "comment_id": 79117262, "body": "You have a number with the currency symbol inside and what to get the symbol only?"}, {"owner": {"reputation": 3535, "user_id": 3884264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDJFA.jpg?s=128&g=1", "display_name": "CornelC", "link": "https://stackoverflow.com/users/3884264/cornelc"}, "edited": false, "score": 0, "creation_date": 1504708680, "post_id": 46077521, "comment_id": 79117387, "body": "In the dev branch there is a  <a href=\"https://github.com/angular/angular/blob/master/packages/common/src/i18n/locale_data_api.ts#L377\" rel=\"nofollow noreferrer\">getLocaleCurrencySymbol</a>"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1504710193, "post_id": 46077521, "comment_id": 79118547, "body": "{{&#39;&#39; | currency:&#39;USD&#39;:true}} will not work as &#39;&#39; is a string. you can try a number and it should work {{90 | currency:&#39;USD&#39;:true}}"}, {"owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "edited": false, "score": 0, "creation_date": 1504710382, "post_id": 46077521, "comment_id": 79118704, "body": "@trichetriche that doesn&#39;t work as the pipe is expecting a number"}, {"owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "reply_to_user": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1504710411, "post_id": 46077521, "comment_id": 79118720, "body": "@Vega only the symbol"}, {"owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "reply_to_user": {"reputation": 3535, "user_id": 3884264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDJFA.jpg?s=128&g=1", "display_name": "CornelC", "link": "https://stackoverflow.com/users/3884264/cornelc"}, "edited": false, "score": 0, "creation_date": 1504710549, "post_id": 46077521, "comment_id": 79118831, "body": "@CornelC i&#39;ll have a look on that"}, {"owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "reply_to_user": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1504769822, "post_id": 46077521, "comment_id": 79142668, "body": "@AniruddhaDas yeap, but I only want the symbol as I&#39;m not able to use a number"}], "answers": [{"comments": [{"owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "edited": false, "score": 1, "creation_date": 1504719705, "post_id": 46078135, "comment_id": 79124341, "body": "The issue is that I don&#39;t have a number to use this pipe with the normal implementation. I would like something like currency.getCurrencySymbol(&#39;EUR&#39;)"}, {"owner": {"reputation": 467, "user_id": 918534, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d21221e7d3af4dcc55b1e615a77192d0?s=128&d=identicon&r=PG", "display_name": "dohpaz42", "link": "https://stackoverflow.com/users/918534/dohpaz42"}, "edited": false, "score": 0, "creation_date": 1507164040, "post_id": 46078135, "comment_id": 80105728, "body": "This is a very bad idea: not all currency symbols are displayed to the left of the number, AND not all currency symbols are a symbol. Try the Currency Formatter at <a href=\"https://marcoscaceres.github.io/jsi18n/#localize_currency\" rel=\"nofollow noreferrer\">marcoscaceres.github.io/jsi18n/#localize_currency</a> to see what I mean."}], "tags": [], "owner": {"reputation": 511, "user_id": 4738685, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1d5a83731230861a5cf498d1cbbf3472?s=128&d=identicon&r=PG&f=1", "display_name": "GomuGomuNoRocket", "link": "https://stackoverflow.com/users/4738685/gomugomunorocket"}, "is_accepted": false, "score": 0, "last_activity_date": 1504708832, "creation_date": 1504708832, "answer_id": 46078135, "question_id": 46077521, "link": "https://stackoverflow.com/questions/46077521/get-currency-symbol-angular-2/46078135#46078135", "title": "Get currency symbol angular 2", "body": "<p>for example</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'removeAFromString'})\nexport class RemoveAFromString implements PipeTransform {\n  transform(value: number){\n    return value.substring(1);\n\n  }\n}\n</code></pre>\n\n<p>Now concat the pipes:</p>\n\n<pre><code>{{ portfolio.currentValue | currency : 'AUD' : true : '4.0' | removeAFromString}}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1151, "user_id": 1730846, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/11585d7f67714354b5777495401bbd9b?s=128&d=identicon&r=PG", "display_name": "Mojtaba", "link": "https://stackoverflow.com/users/1730846/mojtaba"}, "edited": false, "score": 1, "creation_date": 1546423185, "post_id": 46093388, "comment_id": 94845325, "body": "Your pipe&#39;s name is &#39;currencySymbol&#39;, so you should have used it like {{&#39;EUR&#39; | currencySymbol}} ?"}], "tags": [], "owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "is_accepted": false, "score": 8, "last_activity_date": 1581423277, "last_edit_date": 1581423277, "creation_date": 1504778179, "answer_id": 46093388, "question_id": 46077521, "link": "https://stackoverflow.com/questions/46077521/get-currency-symbol-angular-2/46093388#46093388", "title": "Get currency symbol angular 2", "body": "<p><strong>Answered in 2017</strong>:\nAs I ONLY wanted the symbol for the currency, I ended up extending currency pipe with a constant number and return only the symbol. It feels sort of a \"hack\" to have a constant number, but as i don't want to create new currency maps and I'm not able to provide a number, i think is the easiest way.</p>\n\n<p>Here is what I did:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport {CurrencyPipe} from \"@angular/common\";\n\n@Pipe({name: 'currencySymbol'})\nexport class CurrencySymbolPipe extends CurrencyPipe implements \nPipeTransform {\n    transform(value: string): any {\n    let currencyValue = super.transform(0, value,true, \"1.0-2\");\n    return currencyValue.replace(/[0-9]/g, '');\n    }\n}\n</code></pre>\n\n<p>Now I can use it as:</p>\n\n<pre><code>{{ 'EUR' | currencySymbol }} and get '\u20ac'\n</code></pre>\n\n<p>Thanks for your help and ideas!</p>\n\n<p><strong>Update</strong>: \nChanged accepted answer to Varun's one as in 2020 I would use getCurrencySymbol() to accomplish that task</p>\n"}, {"comments": [{"owner": {"reputation": 318, "user_id": 5163898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EQ4qc.jpg?s=128&g=1", "display_name": "chriszichrisz", "link": "https://stackoverflow.com/users/5163898/chriszichrisz"}, "edited": false, "score": 2, "creation_date": 1569681478, "post_id": 53093868, "comment_id": 102679089, "body": "That was exactly my thought, just not sure how to write this correctly.. this should be the top answer!"}], "tags": [], "owner": {"reputation": 505, "user_id": 1195789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e9fbc82f7148ee41af3a425cecf1898?s=128&d=identicon&r=PG", "display_name": "salbahra", "link": "https://stackoverflow.com/users/1195789/salbahra"}, "is_accepted": false, "score": 2, "last_activity_date": 1541033924, "creation_date": 1541033924, "answer_id": 53093868, "question_id": 46077521, "link": "https://stackoverflow.com/questions/46077521/get-currency-symbol-angular-2/53093868#53093868", "title": "Get currency symbol angular 2", "body": "<p>You can use the following code in the template which avoids having to define a new pipe:</p>\n\n<p><code>{{ ( 0 | currency : currencyCode : 'symbol-narrow' ) | slice:0:1 }}</code></p>\n\n<p>Where <code>this.currencyCode</code> is set to the three digit currency symbol expected to be shown.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 10707086, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ebzvkylmglU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXPEVzYb_HtErTj4TcRiQ35fN2vkg/mo/photo.jpg?sz=128", "display_name": "Daan Keun", "link": "https://stackoverflow.com/users/10707086/daan-keun"}, "is_accepted": false, "score": 6, "last_activity_date": 1543246022, "creation_date": 1543246022, "answer_id": 53484330, "question_id": 46077521, "link": "https://stackoverflow.com/questions/46077521/get-currency-symbol-angular-2/53484330#53484330", "title": "Get currency symbol angular 2", "body": "<p>I know this question is quite old but just if someone happens upon it as I have, Angular has a method to do this without having to do weird and wonderful Regex and string manipulation.</p>\n\n<p>I made the following pipe using the <code>getCurrencySymbol</code> method in <code>@angular/common</code></p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { getCurrencySymbol } from '@angular/common';\n\n@Pipe({\n  name: 'currencySymbol'\n})\nexport class CurrencySymbolPipe implements PipeTransform {\n  transform(currencyCode: string, format: 'wide' | 'narrow' = 'narrow', locale?: string): any {\n    return getCurrencySymbol(currencyCode, format, locale);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "edited": false, "score": 1, "creation_date": 1581423119, "post_id": 60168359, "comment_id": 106420603, "body": "I think that today (2020), to use getCurrencySymbol() is what I would do, so I&#39;m going to change your answer as accepted. Thanks!"}], "tags": [], "owner": {"reputation": 4193, "user_id": 6715606, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f23ee5ba6e7181aca8dc64ddbbc79a02?s=128&d=identicon&r=PG", "display_name": "Varun Sukheja", "link": "https://stackoverflow.com/users/6715606/varun-sukheja"}, "is_accepted": true, "score": 8, "last_activity_date": 1581422515, "creation_date": 1581422515, "answer_id": 60168359, "question_id": 46077521, "link": "https://stackoverflow.com/questions/46077521/get-currency-symbol-angular-2/60168359#60168359", "title": "Get currency symbol angular 2", "body": "<p>Angular provides an inbuilt method <code>getCurrencySymbol</code> which gives you currency symbol. You can write a pipe as a wrapper over that method as</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { getCurrencySymbol } from '@angular/common';\n\n@Pipe({\n  name: 'currencySymbol'\n})\nexport class CurrencySymbolPipe implements PipeTransform {\n\n  transform(\n    code: string,\n    format: 'wide' | 'narrow' = 'narrow',\n    locale?: string\n  ): any {\n    return getCurrencySymbol(code, format, locale);\n  }\n}\n</code></pre>\n\n<p>and then use as:</p>\n\n<pre><code>{{'USD'| currencySymbol}} ===&gt; $\n{{'INR'| currencySymbol}} ===&gt; \u20b9\n</code></pre>\n\n<p>Live Stackblitz Demo:</p>\n\n<p>App Url: <a href=\"https://angular-currency-symbol-pipe.stackblitz.io\" rel=\"noreferrer\">https://angular-currency-symbol-pipe.stackblitz.io</a></p>\n\n<p>Editor Url: <a href=\"https://stackblitz.com/edit/angular-currency-symbol-pipe\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-currency-symbol-pipe</a> </p>\n"}], "owner": {"reputation": 511, "user_id": 2093490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f9de1e0411318baaf69554360b2f03?s=128&d=identicon&r=PG", "display_name": "soni", "link": "https://stackoverflow.com/users/2093490/soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6968, "favorite_count": 3, "accepted_answer_id": 60168359, "answer_count": 5, "score": 10, "last_activity_date": 1581423277, "creation_date": 1504707148, "last_edit_date": 1504784698, "question_id": 46077521, "link": "https://stackoverflow.com/questions/46077521/get-currency-symbol-angular-2", "title": "Get currency symbol angular 2", "body": "<p>I'm building an application using angular 2 and currency pipe, but I can't find a way to get the currency symbol according to the ISO value without any number. What I mean is that I just want the symbol without setting a number to be formatted.</p>\n\n<p>Normal situation <code>$3.00</code>\nI want only the <code>$symbol</code>, not the number</p>\n"}, {"tags": ["html", "angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1504707311, "post_id": 46077507, "comment_id": 79116345, "body": "Do the reverse logic : <a href=\"https://stackoverflow.com/questions/44909707/disabling-input-field-based-on-radio-button-in-angular-2\" title=\"disabling input field based on radio button in angular 2\">stackoverflow.com/questions/44909707/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4379797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc49cb7eeb8aef1cbba1cf3a06856475?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4379797/john"}, "edited": false, "score": 0, "creation_date": 1504718246, "post_id": 46079203, "comment_id": 79123541, "body": "Runtime Error co.radio_select is not a function     I get this error"}, {"owner": {"reputation": 15, "user_id": 4379797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc49cb7eeb8aef1cbba1cf3a06856475?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4379797/john"}, "edited": false, "score": 0, "creation_date": 1504718605, "post_id": 46079203, "comment_id": 79123751, "body": "I rebuild the whole code and it works now.Thanks alot."}], "tags": [], "owner": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "is_accepted": true, "score": 1, "last_activity_date": 1504711975, "creation_date": 1504711975, "answer_id": 46079203, "question_id": 46077507, "link": "https://stackoverflow.com/questions/46077507/enabling-input-fields-with-radio-button-in-ionic2/46079203#46079203", "title": "Enabling input fields with radio button in ionic2", "body": "<p>I think you need this:</p>\n\n<p>1- in html:</p>\n\n<pre><code>&lt;div radio-group&gt;\n    &lt;label&gt;Church&lt;/label&gt;\n    &lt;div&gt;\n        &lt;label&gt;CGT&lt;/label&gt;\n        &lt;ion-radio value=\"cgt\" (ionSelect)=\"radio_select('cgt')\"&gt;&lt;/ion-radio&gt;\n        &lt;label&gt;Other church&lt;/label&gt;\n        &lt;ion-radio value=\"noncgt\" (ionSelect)=\"radio_select('noncgt')\"&gt;&lt;/ion-radio&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;label&gt;CGT member ID &lt;/label&gt;\n    &lt;input type=\"text\" [disabled]=\"cgt\"&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;label&gt;Church Name &lt;/label&gt;\n    &lt;input type=\"text\" [disabled]=\"cn\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>2- and in .ts file:</p>\n\n<pre><code>cgt: boolean = true;\ncn: boolean = true;\nradio_select(value) {\n  if (value == 'cgt') {\n    this.cgt = false;\n    this.cn = true;\n  } else if (value == 'noncgt') {\n    this.cgt = true;\n    this.cn = false;\n  }\n}\n</code></pre>\n\n<p>you also can add your form logic.</p>\n"}], "owner": {"reputation": 15, "user_id": 4379797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc49cb7eeb8aef1cbba1cf3a06856475?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4379797/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "accepted_answer_id": 46079203, "answer_count": 1, "score": 1, "last_activity_date": 1504711975, "creation_date": 1504707103, "question_id": 46077507, "link": "https://stackoverflow.com/questions/46077507/enabling-input-fields-with-radio-button-in-ionic2", "title": "Enabling input fields with radio button in ionic2", "body": "<p>I am new to ionic 2 and I could not find a proper solution for this.I have two radio buttons in my signup form. I need to enable two in put fields based on the radio button that is clicked. If radio button one is clicked input field one should be enabled.</p>\n\n<p>Radio buttons</p>\n\n<pre><code>&lt;div radio-group formGroupName=\"church\"&gt;\n&lt;label&gt;Church&lt;/label&gt;\n&lt;div&gt;\n  &lt;label&gt;CGT&lt;/label&gt;\n  &lt;ion-radio value=\"cgt\" &gt;&lt;/ion-radio&gt;\n  &lt;label&gt;Other church&lt;/label&gt;\n  &lt;ion-radio value=\"noncgt\"&gt;&lt;/ion-radio&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div&gt;\n</code></pre>\n\n<p>Input fields</p>\n\n<pre><code>&lt;div&gt;\n      &lt;label&gt;CGT member ID &lt;/label&gt;\n      &lt;input formControlName=\"cgtMemberID\" type=\"text\" disabled=\"true\"&gt;\n      &lt;small [hidden]=\"myForm.controls.cgtMemberID.valid || (myForm.controls.cgtMemberID.pristine &amp;&amp; !submitted)\"&gt;\n    member ID required .\n    &lt;/small&gt;\n    &lt;/div&gt;\n\n    &lt;div&gt;\n      &lt;label&gt;Church Name &lt;/label&gt;\n      &lt;input formControlName=\"churchName\" type=\"text\" disabled=\"true\"&gt;\n      &lt;small [hidden]=\"myForm.controls.churchName.valid || (myForm.controls.churchName.pristine &amp;&amp; !submitted)\"&gt;\n      Church name required .\n      &lt;/small&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3", "ngx-translate"], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 1, "last_activity_date": 1504707211, "creation_date": 1504707211, "answer_id": 46077537, "question_id": 46077427, "link": "https://stackoverflow.com/questions/46077427/cannot-find-module-angular-common-http-ionic-3-app/46077537#46077537", "title": "Cannot find module @angular/common/http Ionic 3 app", "body": "<p>The issue was <code>@angular/common/http</code> is only available in <code>angular 4.3+</code>.But on <code>Ionic 3</code> we're using <code>Angular 4.1.3</code>.</p>\n\n<p>So this is the solution:</p>\n\n<p>I have <strong>removed</strong> <code>@ngx-translate/http-loader</code></p>\n\n<blockquote>\n  <p>npm uninstall @ngx-translate/http-loader --save</p>\n</blockquote>\n\n<p>And <strong>add</strong> an older version of it:</p>\n\n<blockquote>\n  <p>npm i @ngx-translate/http-loader@0.1.0 --save</p>\n</blockquote>\n\n<p>You can read more about it <a href=\"https://github.com/ngx-translate/http-loader/issues/21\" rel=\"nofollow noreferrer\"><strong>on Git</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1504707220, "creation_date": 1504707220, "answer_id": 46077541, "question_id": 46077427, "link": "https://stackoverflow.com/questions/46077427/cannot-find-module-angular-common-http-ionic-3-app/46077541#46077541", "title": "Cannot find module @angular/common/http Ionic 3 app", "body": "<p><code>HttpClient</code> was introduced in <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#430-2017-07-14\" rel=\"nofollow noreferrer\">Angular 4.3.0</a>, you are using 4.1.3.</p>\n\n<p>In the Angular version you are using you can inject <code>Http</code> (requires <code>HttpModule</code> in <code>imports: [...]</code> of <code>AppModule</code>), but it has different features and a different API. </p>\n"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2371, "favorite_count": 0, "accepted_answer_id": 46077537, "answer_count": 2, "score": 1, "last_activity_date": 1511877698, "creation_date": 1504706916, "last_edit_date": 1511877698, "question_id": 46077427, "link": "https://stackoverflow.com/questions/46077427/cannot-find-module-angular-common-http-ionic-3-app", "title": "Cannot find module @angular/common/http Ionic 3 app", "body": "<p>I have done the <code>Ionic 3</code> app's internationalization using <code>ngx-translate</code>.It gave me below error.</p>\n\n<p>I have done that using <a href=\"https://ionicframework.com/docs/developer-resources/ng2-translate/\" rel=\"nofollow noreferrer\"><strong>official doc here</strong></a>.</p>\n\n<blockquote>\n  <p>Cannot find module '@angular/common/http'</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/POIvR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POIvR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 2918, "user_id": 1952499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13763c57551eecc2128900953c3702d9?s=128&d=identicon&r=PG", "display_name": "Radio-", "link": "https://stackoverflow.com/users/1952499/radio"}, "is_accepted": true, "score": 2, "last_activity_date": 1504710485, "creation_date": 1504710485, "answer_id": 46078744, "question_id": 46077142, "link": "https://stackoverflow.com/questions/46077142/typechecking-state-in-mapstatetoprops-with-typescript-and-redux/46078744#46078744", "title": "Typechecking state in mapStateToProps with typescript and redux", "body": "<p>It's common in redux applications to decouple components from state by using selectors, functions that return a slice of state or computed value from state. </p>\n\n<p>In your case, if you had a selector like</p>\n\n<pre><code>const getSubState = (state): subStateType =&gt; state.subState;\n</code></pre>\n\n<p>Then you could use it with mapStateToProps, and the slice of state would be typed accordingly. You can keep these selectors in the same module as your reducers and import them into your components.</p>\n\n<pre><code>const mapStateToProps = state =&gt; getSubState(state);\n</code></pre>\n"}], "owner": {"reputation": 1012, "user_id": 3063424, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fbacd673aea1526e22f378a44cac233c?s=128&d=identicon&r=PG&f=1", "display_name": "Willy G", "link": "https://stackoverflow.com/users/3063424/willy-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 46078744, "answer_count": 1, "score": 0, "last_activity_date": 1504710485, "creation_date": 1504706143, "question_id": 46077142, "link": "https://stackoverflow.com/questions/46077142/typechecking-state-in-mapstatetoprops-with-typescript-and-redux", "title": "Typechecking state in mapStateToProps with typescript and redux", "body": "<p>Is there a way to typecheck only the substate for the container?</p>\n\n<p>This is how I'm doing it right now:</p>\n\n<pre><code>const mapStateToProps = (state: rootStateType) =&gt; (state.subState);\n</code></pre>\n\n<p>I'd like to avoid creating a dependency between my rootReducer and all containers just for typechecking purposes. I think it makes sense that each container is only concerned with its own subState and typechecks that.</p>\n\n<p>I had an idea of doing the following instead, but to my understanding it will not typecheck the destructured object, but typecheck before destructuring happens.</p>\n\n<pre><code>const mapStateToProps = ({subState}: subStateType) =&gt; (subState);\n</code></pre>\n\n<p>Any ideas? Not really sure what the convention is, maybe it's just simply better to typecheck the whole state in each container.</p>\n"}, {"tags": ["reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 0, "creation_date": 1504705424, "post_id": 46076837, "comment_id": 79114915, "body": "Have you tried keeping index.ts and putting <code>export * from &quot;.&#47;container1&quot;;</code> inside it?"}], "answers": [{"tags": [], "owner": {"reputation": 499, "user_id": 4126257, "user_type": "registered", "profile_image": "https://graph.facebook.com/1206355992/picture?type=large", "display_name": "Dale Francis", "link": "https://stackoverflow.com/users/4126257/dale-francis"}, "is_accepted": false, "score": 1, "last_activity_date": 1504705594, "creation_date": 1504705594, "answer_id": 46076967, "question_id": 46076837, "link": "https://stackoverflow.com/questions/46076837/using-specific-filename-for-react-components-and-containers-with-webpack/46076967#46076967", "title": "Using specific filename for React components and containers with Webpack", "body": "<p>So we had a very similiar situation what we've moved to is like this</p>\n\n<pre><code>app/\n    containers/\n        container1/\n            container1.jsx\n            index.jsx\n            style.css\n</code></pre>\n\n<p>the index.jsx then looks something like this</p>\n\n<pre><code>import Container1 from './Container1 '\nexport default Container1 \n</code></pre>\n\n<p>Then when we need to import its just</p>\n\n<pre><code>import Container1 from 'containers/Container1'\n</code></pre>\n\n<p>We use redux-cli with blueprints to do a lot of our boilerplate code, so this pattern is build into our components and containers. It also makes it easier for navigation to</p>\n"}, {"comments": [{"owner": {"reputation": 499, "user_id": 4126257, "user_type": "registered", "profile_image": "https://graph.facebook.com/1206355992/picture?type=large", "display_name": "Dale Francis", "link": "https://stackoverflow.com/users/4126257/dale-francis"}, "edited": false, "score": 0, "creation_date": 1504738161, "post_id": 46077023, "comment_id": 79132851, "body": "you copied my answer :/"}], "tags": [], "owner": {"reputation": 2341, "user_id": 1961030, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e9defb5b76d4ccd35a1871d85df70644?s=128&d=identicon&r=PG", "display_name": "niba", "link": "https://stackoverflow.com/users/1961030/niba"}, "is_accepted": true, "score": 0, "last_activity_date": 1504705763, "creation_date": 1504705763, "answer_id": 46077023, "question_id": 46076837, "link": "https://stackoverflow.com/questions/46076837/using-specific-filename-for-react-components-and-containers-with-webpack/46077023#46077023", "title": "Using specific filename for React components and containers with Webpack", "body": "<p>Do it in the following way</p>\n\n<pre><code>app/\n    containers/\n        container1/\n            index.ts\n            container1.tsx\n            style.css\n        container2/\n            index.ts\n            container2.tsx\n            style.css\n</code></pre>\n\n<p>and in every index.ts declare all of the exports. Think about it as about an interface to your component API. The simplest version can contain only export for the component itself.</p>\n\n<pre><code>export { default } from \"./Container1\";\n</code></pre>\n"}], "owner": {"reputation": 661, "user_id": 1619822, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a15ecacae2487b2654db9f0ac28af12?s=128&d=identicon&r=PG", "display_name": "arlogb", "link": "https://stackoverflow.com/users/1619822/arlogb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 46077023, "answer_count": 2, "score": 0, "last_activity_date": 1504705763, "creation_date": 1504705266, "question_id": 46076837, "link": "https://stackoverflow.com/questions/46076837/using-specific-filename-for-react-components-and-containers-with-webpack", "title": "Using specific filename for React components and containers with Webpack", "body": "<p>I'd like to know how to rename my component and container typescript files from the generic <code>index.tsx</code> to something more specific like <code>mycomponent.tsx</code> to improve project navigation.</p>\n\n<p>Currently the directory structure is as follows:</p>\n\n<p><code>\napp/\n    containers/\n        container1/\n            index.tsx\n            style.css\n        container2/\n            index.tsx\n            style.css\n</code></p>\n\n<p>which I'd like to change to:</p>\n\n<p><code>\napp/\n    containers/\n        container1/\n            container1.tsx\n            style.css\n        container2/\n            container2.tsx\n            style.css\n</code></p>\n\n<p>I've already tried a few things like naively renaming and renaming/importing into a <code>index.tsx</code>, but this always seems to break all my imports.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 3, "last_activity_date": 1504705447, "creation_date": 1504705447, "answer_id": 46076909, "question_id": 46076782, "link": "https://stackoverflow.com/questions/46076782/typecast-string-to-component-name-class-name-in-angular2/46076909#46076909", "title": "Typecast string to component name (class name) in Angular2", "body": "<p>What you could do is create an object like this </p>\n\n<pre><code>let classes = {\n    BoxOneComponent: BoxOneComponent\n};\n</code></pre>\n\n<p>And call it like this </p>\n\n<pre><code>let myVar = new this.classes[this.myString]();\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 8517846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkmuj.jpg?s=128&g=1", "display_name": "Sampath1504", "link": "https://stackoverflow.com/users/8517846/sampath1504"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 2, "accepted_answer_id": 46076909, "answer_count": 1, "score": 0, "last_activity_date": 1504705447, "creation_date": 1504705123, "question_id": 46076782, "link": "https://stackoverflow.com/questions/46076782/typecast-string-to-component-name-class-name-in-angular2", "title": "Typecast string to component name (class name) in Angular2", "body": "<p>I want to convert this string \"BoxOneComponent\" to BoxOneComponent (class name). How to typecast in angular 2? Is there something like .toString() to typecast to class name?</p>\n"}, {"tags": ["arrays", "angular", "typescript", "gulp"], "owner": {"reputation": 387, "user_id": 1743936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/giAPc.jpg?s=128&g=1", "display_name": "dockleryxk", "link": "https://stackoverflow.com/users/1743936/dockleryxk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504712436, "creation_date": 1504704691, "last_edit_date": 1504712436, "question_id": 46076648, "link": "https://stackoverflow.com/questions/46076648/typescript-and-gulp-loop-through-array-of-angular-routes", "title": "Typescript and Gulp: loop through array of Angular routes", "body": "<p>I am using Gulp to generate a sitemap for an Angular project by importing the routes arrays from my routing modules. Here's an example of a Route object:</p>\n\n<pre><code>{\n path: 'about', \n component: AboutUsComponent,\n pathMatch: 'full',\n resolve: [DataResolverService]\n}\n</code></pre>\n\n<p>The only member I need is <strong>path</strong>, which is <em>always</em> a string. The problem is that I am getting errors such as\n<code>ReferenceError: Event is not defined</code> or\n<code>reflect-metadata shim is required when using class decorators</code> because my gulpfile is trying to instantiate the component classes and my route guard service classes. Is there any way to prevent this?</p>\n\n<p>Bonus if I can check the canActivate array for an instance of <code>LoginPageGuardService</code>, in the following route for example:</p>\n\n<pre><code>{\n  path: 'customer-portal/login',\n  loadChildren: './login/login.module#LoginModule',\n  canActivate: [LocationGuardService, LoginPageGuardService],\n  resolve: [DataResolverService]\n}\n</code></pre>\n\n<p>What I have tried so far:</p>\n\n<pre><code>for(let route of websiteRoutes) {\n    urls.push({url: `/${route.path}/`});\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>for(let i=0; i&lt;websiteRoutes.length; i++) {\n    urls.push({url: `/${websiteRoutes[i].path}/`});\n}\n</code></pre>\n\n<p>Importing the arrays of routes is not causing an issue, but as soon as I have a for loop indexing the arrays, Gulp errors out.</p>\n\n<p><strong>Update:</strong>\nI am currently exporting/importing the routes like so:</p>\n\n<p><code>export const websiteRoutes: Routes = [...];</code></p>\n\n<p><code>import { websiteRoutes } from './path/to/other/file';</code></p>\n"}, {"tags": ["javascript", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1504704695, "post_id": 46076601, "comment_id": 79114358, "body": "The answer almost certainly depends on what <code>this.getrulecondition2()</code> does, but you did not post that."}, {"owner": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 2, "creation_date": 1504704722, "post_id": 46076601, "comment_id": 79114383, "body": "The output from <code>console.log(tmp4);</code> - are you sure that&#39;s the exact output? it looks very wrong."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1504704860, "post_id": 46076601, "comment_id": 79114473, "body": "I suspect this is a asynchronous issue.  The object is empty, but the <code>console.log</code> doesn&#39;t execute until later, when the object has been populated.  Please add the code for <code>getrulecondition2</code> to the question."}, {"owner": {"reputation": 997, "user_id": 3485837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/975cb2fd363a676f79ad91660c0cd229?s=128&d=identicon&r=PG&f=1", "display_name": "JayDeeEss", "link": "https://stackoverflow.com/users/3485837/jaydeeess"}, "edited": false, "score": 0, "creation_date": 1504707556, "post_id": 46076601, "comment_id": 79116516, "body": "the output from <code>console.log(tmp4);</code> doesn&#39;t look like valid json"}], "owner": {"reputation": 11, "user_id": 8565289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b8f318dcb370bd4084870fdfdaba3a3?s=128&d=identicon&r=PG&f=1", "display_name": "Asd", "link": "https://stackoverflow.com/users/8565289/asd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504705996, "creation_date": 1504704570, "last_edit_date": 1504705896, "question_id": 46076601, "link": "https://stackoverflow.com/questions/46076601/json-stringify-is-ignoring-data-returns", "title": "JSON.stringify is ignoring data, returns {}", "body": "<p>I am new to javascript and facing an issue when convert objects using <code>JSON.stringify()</code>.</p>\n\n<p>Below is the code:</p>\n\n<pre><code>const tmp4 = this.getrulecondition2(rule._id, key); //this returns the object that I need to convert to json string..\n\nconsole.log(tmp4); //shows the output as below in the chrome console.\n//{}Command: \"ps\"Match: \"test\"Name: \"test\"Regex: \"test\"Terminal: \"test\"__proto__: Object\n\nvar str = JSON.stringify(tmp4);\nconsole.log(str); //shows {} in the console log.\n</code></pre>\n\n<p>I am wondering it is proceeding to convert the stringify statement before it gets the object from function return. How can I make sure it proceeds to the next line only after getting the function results?</p>\n"}, {"tags": ["angular", "typescript", "angular-di"], "comments": [{"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504709220, "post_id": 46076051, "comment_id": 79117812, "body": "show where you use <code>ApiConfig </code>"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504764346, "post_id": 46076051, "comment_id": 79139443, "body": "show code in your question"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504764636, "post_id": 46076051, "comment_id": 79139569, "body": "you don&#39;t need permissions to edit your own question"}, {"owner": {"reputation": 473, "user_id": 1126364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69337230899fad10cb28714237becfc6?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1126364/rakesh"}, "reply_to_user": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504765892, "post_id": 46076051, "comment_id": 79140250, "body": "I&#39;ve edited my question. Thanks @AngularInDepth.com"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504766471, "post_id": 46076051, "comment_id": 79140548, "body": "what is the line that throws an error?"}, {"owner": {"reputation": 473, "user_id": 1126364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69337230899fad10cb28714237becfc6?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1126364/rakesh"}, "reply_to_user": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504768443, "post_id": 46076051, "comment_id": 79141764, "body": "retPromise.then(resp =&gt; this.urlList=resp.urlList);"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504768918, "post_id": 46076051, "comment_id": 79142066, "body": "what is you if you add <code>console.log(this === undefined)</code>, what do you see in console?"}], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 1126364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69337230899fad10cb28714237becfc6?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1126364/rakesh"}, "edited": false, "score": 0, "creation_date": 1504705750, "post_id": 46076493, "comment_id": 79115152, "body": "Thanks for your suggestion. It fixed my original error. However now I get another error. It says &quot;TypeError: Cannot set property &#39;urlList&#39; of undefined&quot;. As I understand there is no instance of ApiConfig created. But all the examples I see in loading the config file in Angular give same example. I wonder how to force the creation of ApiConfig class. And how I can make it a singleton. I&#39;m adding ApiConfig to Providers list in AppModule."}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 473, "user_id": 1126364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69337230899fad10cb28714237becfc6?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1126364/rakesh"}, "edited": false, "score": 2, "creation_date": 1504765929, "post_id": 46076493, "comment_id": 79140267, "body": "@Rakesh if this answer solved your problem, mark it as accepted then ask another question. You shouldn&#39;t ask multiple questions in 1 question. <a href=\"https://meta.stackexchange.com/questions/156900/whats-the-policy-on-follow-up-questions\" title=\"whats the policy on follow up questions\">meta.stackexchange.com/questions/156900/&hellip;</a>"}, {"owner": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "edited": false, "score": 2, "creation_date": 1516180501, "post_id": 46076493, "comment_id": 83579278, "body": "This blog post has a full APP_INITIALIZER example: <a href=\"https://www.intertech.com/Blog/angular-4-tutorial-run-code-during-app-initialization/\" rel=\"nofollow noreferrer\">intertech.com/Blog/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1886, "user_id": 4522608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wM5ca.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4522608/adam"}, "is_accepted": true, "score": 75, "last_activity_date": 1504704257, "creation_date": 1504704257, "answer_id": 46076493, "question_id": 46076051, "link": "https://stackoverflow.com/questions/46076051/this-appinitsi-is-not-a-function/46076493#46076493", "title": "&quot;this.appInits[i]&quot; is not a function", "body": "<p>I think this is because you need to return the function in your export function statement:</p>\n\n<pre><code>export function apiConfigProvider(config: ApiConfig) {\n   return () =&gt; config.loadConfig();\n}\n</code></pre>\n"}], "owner": {"reputation": 473, "user_id": 1126364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69337230899fad10cb28714237becfc6?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1126364/rakesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14629, "favorite_count": 2, "accepted_answer_id": 46076493, "answer_count": 1, "score": 38, "last_activity_date": 1504875981, "creation_date": 1504703086, "last_edit_date": 1504875981, "question_id": 46076051, "link": "https://stackoverflow.com/questions/46076051/this-appinitsi-is-not-a-function", "title": "&quot;this.appInits[i]&quot; is not a function", "body": "<p>I am trying to use APP_INITIALIZER TO load data from config file. I'm getting following error:</p>\n\n<blockquote>\n  <p>\"Unhandled Promise rejection: this.appInits[i] is not a function ;\n  Zone:  ; Task: Promise.then ; Value: TypeError: this.appInits[i]\n  is not a function\"</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\n\n@Injectable()\nexport class ApiConfig {\n\n  private urlList: any = null;\n\n  constructor(private http: Http) {\n\n  }\n\n  public getUrl(key: any) {\n    return this.urlList[key];\n  }\n\n  public loadConfig(){\n\n    let retPromise: Promise&lt;any&gt; =  this.http.get('./assets/config/api-config.json')\n      .map(res =&gt; res.json()).toPromise();\n\n    retPromise.then(resp =&gt; this.urlList=resp.urlList);\n    //this.urlList = retPromise.urlList;\n\n    return retPromise;\n  }\n\n}\n\n\nexport  function apiConfigProvider(config: ApiConfig) {\n   config.loadConfig();\n}\n</code></pre>\n\n<p>Any help on what I'm doing wrong?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Adam's solution fixed the original error. But now I see a new error:</p>\n\n<blockquote>\n  <p>TypeError: Cannot set property 'urlList' of undefined</p>\n</blockquote>\n\n<p>As I understand there is no instance of ApiConfig created. But all the examples I see in loading the config file in Angular give same example. I wonder how to force the creation of ApiConfig class. And how I can make it a singleton?\nBelow is the usage of ApiConfig.</p>\n\n<pre><code>export BaseService { \nconstructor (private config:ApiConfig){} \n\npublic GetUrl (key: string) { \n   return config.urlList[key]; \n} \n\n}\n</code></pre>\n\n<p><strong>Answer:</strong>\nIt looks like there is an issue with the way promise is created in above code. I modified my loadconfig() method as given in the link: <a href=\"https://gist.github.com/fernandohu/122e88c3bcd210bbe41c608c36306db9\" rel=\"noreferrer\">https://gist.github.com/fernandohu/122e88c3bcd210bbe41c608c36306db9</a> this resolved my problem. </p>\n"}, {"tags": ["css", "typescript", "bundle"], "answers": [{"comments": [{"owner": {"reputation": 4272, "user_id": 1019193, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fDPjT.jpg?s=128&g=1", "display_name": "Alejandro B.", "link": "https://stackoverflow.com/users/1019193/alejandro-b"}, "edited": false, "score": 0, "creation_date": 1504703493, "post_id": 46076188, "comment_id": 79113381, "body": "no, I have no config for bundling, as there is actually no bundling done. All files are transpiled to js but not bundled together"}], "tags": [], "owner": {"reputation": 806, "user_id": 8479567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keZqp.png?s=128&g=1", "display_name": "Presto", "link": "https://stackoverflow.com/users/8479567/presto"}, "is_accepted": false, "score": 0, "last_activity_date": 1504703398, "creation_date": 1504703398, "answer_id": 46076188, "question_id": 46075993, "link": "https://stackoverflow.com/questions/46075993/how-to-include-a-css-file-in-react-and-typescript-npm-package/46076188#46076188", "title": "How to Include a css file in react and typescript npm package", "body": "<p>I think that you don't have problem with path of this file. I think that you have problem with register of that .css file. Have you got a BundleConfig.cs ? It is there with their path?</p>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 7161634, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213083608766409/picture?type=large", "display_name": "Sanjay Prajapati", "link": "https://stackoverflow.com/users/7161634/sanjay-prajapati"}, "is_accepted": false, "score": -2, "last_activity_date": 1504703867, "creation_date": 1504703867, "answer_id": 46076360, "question_id": 46075993, "link": "https://stackoverflow.com/questions/46075993/how-to-include-a-css-file-in-react-and-typescript-npm-package/46076360#46076360", "title": "How to Include a css file in react and typescript npm package", "body": "<p>it try   </p>\n\n<pre><code> import React from 'react';\n    import s from './Button.css';\n\n    function Button() {\n      return (\n        &lt;button className={s.btn}&gt;&lt;i className={s.icon} /&gt;Click Me&lt;/button&gt;\n      );\n    }\n\n    export default Button;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": -1, "last_activity_date": 1504776275, "last_edit_date": 1504776275, "creation_date": 1504775836, "answer_id": 46092511, "question_id": 46075993, "link": "https://stackoverflow.com/questions/46075993/how-to-include-a-css-file-in-react-and-typescript-npm-package/46092511#46092511", "title": "How to Include a css file in react and typescript npm package", "body": "<p>I usually use tools like <a href=\"https://gulpjs.com/\" rel=\"nofollow noreferrer\">gulp</a> or <a href=\"https://gruntjs.com/\" rel=\"nofollow noreferrer\">grunt</a> to prepare version for the publishing to npm. Among other steps this includes traspiling typescript to javascript and copying other resources like images, stylesheets, configs to the target directory.</p>\n\n<p>Below is an rough example of gulp tasks to give you an idea of the aforementioned two steps:</p>\n\n<pre><code>gulp.task('copy.assets', () =&gt; \n{\n    return gulp.src([\"./**/*\", '!./**/*.ts', '!./**/*.tsx', '!./**/*.scss'])\n            .pipe(gulp.dest(TARGET_FOLDER));\n});  \n\ngulp.task('build.js', () =&gt; \n{\n    var tsProject = ts.createProject('tsconfig.json', {\n        typescript: require('typescript')\n    });\n\n    var tsResult = tsProject.src()\n        .pipe(tsProject()); \n\n    return tsResult.js\n            .pipe(gulp.dest(TARGET_FOLDER));\n});\n</code></pre>\n\n<p>Note that <a href=\"https://www.keithcirkel.co.uk/why-we-should-stop-using-grunt/\" rel=\"nofollow noreferrer\">it is not mandatory</a> to use any of those tools. But the idea is still the same - you will have to create your build&amp;deploy scripts in order to do something beyond simple transpilation.</p>\n"}, {"tags": [], "owner": {"reputation": 498, "user_id": 6643002, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5C91pqgNmUg/AAAAAAAAAAI/AAAAAAAAAIc/7stW4vEylf8/photo.jpg?sz=128", "display_name": "Brian Li", "link": "https://stackoverflow.com/users/6643002/brian-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1608330327, "creation_date": 1608330327, "answer_id": 65364696, "question_id": 46075993, "link": "https://stackoverflow.com/questions/46075993/how-to-include-a-css-file-in-react-and-typescript-npm-package/65364696#65364696", "title": "How to Include a css file in react and typescript npm package", "body": "<p>Basically, <code>tsc</code> is designed to compile <code>.ts</code> / <code>.tsx</code> files and does not currently handle other file types such as <code>.css</code>. This is a known issue and is tracked <a href=\"https://github.com/microsoft/TypeScript/issues/30835\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>To get around the problem, you need to have <code>tsc</code> compile all of your TypeScript files and then copy over any non-TypeScript files. V\u00edctor Colombo has a great guide to copying over <code>.css</code> files <a href=\"https://vccolombo.github.io/blog/tsc-how-to-copy-non-typescript-files-when-building/\" rel=\"nofollow noreferrer\">here</a>. The two steps are listed below:</p>\n<p>First, install two dev dependencies that will help with copying overfil</p>\n<pre><code>npm install --save-dev rimraf copyfiles\n</code></pre>\n<p>Then, update your &quot;scripts&quot; in <code>package.json</code> to implement the copying process for non-TypeScript files when the package is built:</p>\n<pre><code>&quot;scripts&quot;: {\n    &quot;clean&quot;: &quot;rimraf dist/&quot;,\n    &quot;copy-files&quot;: &quot;copyfiles -u 1 src/**/*.html src/**/*.css dist/&quot;,\n    &quot;build&quot;: &quot;yarn clean &amp;&amp; tsc &amp;&amp; yarn copy-files&quot;\n}, \n</code></pre>\n<p>Note: This solution assumes you are using <code>npm</code> although you can just as easily swap in <code>yarn</code> as your package manager. It also assumes that distribution files are stored in a <code>dist</code> folder. You can check if the solution is working by running <code>npm run build</code> and checking for the <code>.css</code> files under <code>dist</code>.</p>\n"}], "owner": {"reputation": 4272, "user_id": 1019193, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fDPjT.jpg?s=128&g=1", "display_name": "Alejandro B.", "link": "https://stackoverflow.com/users/1019193/alejandro-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 1, "accepted_answer_id": 65364696, "answer_count": 4, "score": 7, "last_activity_date": 1608330327, "creation_date": 1504702942, "question_id": 46075993, "link": "https://stackoverflow.com/questions/46075993/how-to-include-a-css-file-in-react-and-typescript-npm-package", "title": "How to Include a css file in react and typescript npm package", "body": "<p>I am creating a series of components to be reused in the company I work for. We use typescript and so far I can create the components properly, transpile to javascript, and publish to npm. I only use the command line <code>tsc</code>, I am not using webpack. My problem relies in a specific component that uses a css file. When I run the actual app that installs my npm package, it throws an error:</p>\n\n<p><code>\n./~/my-common-components/dist/DataTable.js\nModule not found: Can't resolve './DataTable.css' in '.\\AdminPortal\\admin-portal\\node_modules\\common-components\\dist'\n</code></p>\n\n<p>When I look at the dist folder of my transpiled code, the css file is not there.\nI tried adding 'files' to the <code>tsconfig.json</code> file and it does add it, but with the exact same path (<code>src\\DataTable.css</code> in stead of <code>dist\\DataTable.css</code>)</p>\n\n<p>Is there a way to include that file in the final package without using webpack?</p>\n"}, {"tags": ["angular", "typescript", "interceptor"], "answers": [{"comments": [{"owner": {"reputation": 51621, "user_id": 248827, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2d8677a9359a0c11541f17de318d69c1?s=128&d=identicon&r=PG", "display_name": "Amitabh", "link": "https://stackoverflow.com/users/248827/amitabh"}, "edited": false, "score": 0, "creation_date": 1504878206, "post_id": 46078299, "comment_id": 79198126, "body": "This would pass any param all the way to the server which is not desirable."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 51621, "user_id": 248827, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2d8677a9359a0c11541f17de318d69c1?s=128&d=identicon&r=PG", "display_name": "Amitabh", "link": "https://stackoverflow.com/users/248827/amitabh"}, "edited": false, "score": 0, "creation_date": 1504932991, "post_id": 46078299, "comment_id": 79216906, "body": "@Amitabh, <code>param1</code> will be <b>not</b> passed to the server"}, {"owner": {"reputation": 51621, "user_id": 248827, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2d8677a9359a0c11541f17de318d69c1?s=128&d=identicon&r=PG", "display_name": "Amitabh", "link": "https://stackoverflow.com/users/248827/amitabh"}, "edited": false, "score": 1, "creation_date": 1505131860, "post_id": 46078299, "comment_id": 79272422, "body": "Its not passing the param1 to the server. But this would only work if I don&#39;t have to pass any other param to the server."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 51621, "user_id": 248827, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2d8677a9359a0c11541f17de318d69c1?s=128&d=identicon&r=PG", "display_name": "Amitabh", "link": "https://stackoverflow.com/users/248827/amitabh"}, "edited": false, "score": 0, "creation_date": 1505193122, "post_id": 46078299, "comment_id": 79298652, "body": "@Amitabh, why? you can work with <code>CustomHttpParams</code> as with regular <code>HttpParams</code>. Have you tried this?"}, {"owner": {"reputation": 51621, "user_id": 248827, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2d8677a9359a0c11541f17de318d69c1?s=128&d=identicon&r=PG", "display_name": "Amitabh", "link": "https://stackoverflow.com/users/248827/amitabh"}, "edited": false, "score": 0, "creation_date": 1505394579, "post_id": 46078299, "comment_id": 79402637, "body": "This does not work because if i have to set another http param we use the chained method and that returns HttpParam instead of CustomHttpParams"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 51621, "user_id": 248827, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2d8677a9359a0c11541f17de318d69c1?s=128&d=identicon&r=PG", "display_name": "Amitabh", "link": "https://stackoverflow.com/users/248827/amitabh"}, "edited": false, "score": 0, "creation_date": 1505537831, "post_id": 46078299, "comment_id": 79464429, "body": "oh, I see. In order this to work <code>clone</code> method should be overridden, but it is defined as <code>private</code>"}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 17, "last_activity_date": 1504709284, "creation_date": 1504709284, "answer_id": 46078299, "question_id": 46075602, "link": "https://stackoverflow.com/questions/46075602/how-to-pass-a-param-to-httpinterceptor/46078299#46078299", "title": "How to pass a param to HttpInterceptor?", "body": "<p>Maybe there's a better way to handle this problem, but as a workaround you can create and pass custom <code>HttpParams</code> to request and then check them in the interceptor. For example:</p>\n\n<pre><code>export class CustomHttpParams extends HttpParams {\n  constructor(public param1: boolean) {\n   super();\n  }\n}\n</code></pre>\n\n<p>Using this class in http call:</p>\n\n<pre><code>this.http.get('https://example.com', {\n  params: new CustomHttpParams(true)\n})\n</code></pre>\n\n<p>And now in interceptor:</p>\n\n<pre><code>intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n  if (request.params instanceof CustomHttpParams &amp;&amp; request.params.param1) \n    request = request.clone({\n      setHeaders: {\n        'header1': 'xxxxxx'\n      }\n    });\n  else\n    request = request.clone({\n      setHeaders: {\n        'header2': 'yyyyyy'\n      }\n    });\n\n  return next.handle(request);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 462, "user_id": 6280780, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e3abd23b46a0b8d920f4fc662088e47c?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh V S", "link": "https://stackoverflow.com/users/6280780/mahesh-v-s"}, "edited": false, "score": 1, "creation_date": 1533725520, "post_id": 49903921, "comment_id": 90449354, "body": "This answer is more useful than the currently marked one as it keep the doors open to support other real parameters along with the parameter for interceptor."}, {"owner": {"reputation": 1561, "user_id": 862795, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15917a5578c5dd2f97b105a3f97a44c?s=128&d=identicon&r=PG", "display_name": "Rzassar", "link": "https://stackoverflow.com/users/862795/rzassar"}, "edited": false, "score": 0, "creation_date": 1534317824, "post_id": 49903921, "comment_id": 90661370, "body": "On the other hand marked answer has purely aimed core problem and it&#39;s up to reader to modify his/her use-case."}, {"owner": {"reputation": 5859, "user_id": 776686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ccf60b805c4c84f8377908435b14b05?s=128&d=identicon&r=PG", "display_name": "user776686", "link": "https://stackoverflow.com/users/776686/user776686"}, "reply_to_user": {"reputation": 462, "user_id": 6280780, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e3abd23b46a0b8d920f4fc662088e47c?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh V S", "link": "https://stackoverflow.com/users/6280780/mahesh-v-s"}, "edited": false, "score": 1, "creation_date": 1545058924, "post_id": 49903921, "comment_id": 94483914, "body": "@MaheshVS How can this answer be useful, or even an answer? The OP asked to conditionally set headers to <b>outgoing requests</b> while this is instructing how to conditionally ignore error codes on <b>incoming responses</b>"}, {"owner": {"reputation": 101, "user_id": 1026392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/889588e49253e7c45031915e56cee46d?s=128&d=identicon&r=PG", "display_name": "Adri&#225;n Poplavsky", "link": "https://stackoverflow.com/users/1026392/adri%c3%a1n-poplavsky"}, "edited": false, "score": 0, "creation_date": 1547227545, "post_id": 49903921, "comment_id": 95133757, "body": "While this answer triggers the idea of inheritance of httpparams to add a property and do whatever is needed with it, it seems the party ends in angular 6 with the change to HTTP :( ."}], "tags": [], "owner": {"reputation": 497, "user_id": 1011648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e882f730d0052438f3270b0d53eabed1?s=128&d=identicon&r=PG", "display_name": "JWess", "link": "https://stackoverflow.com/users/1011648/jwess"}, "is_accepted": false, "score": 18, "last_activity_date": 1524066919, "last_edit_date": 1524066919, "creation_date": 1524066430, "answer_id": 49903921, "question_id": 46075602, "link": "https://stackoverflow.com/questions/46075602/how-to-pass-a-param-to-httpinterceptor/49903921#49903921", "title": "How to pass a param to HttpInterceptor?", "body": "<p>I wrote an interceptor for handling Http error responses. I wanted to allow specific Http calls to instruct the interceptor to ignore certain response status codes, while also retaining the ability to pass params to the Http call. Here is the solution I ended up with. (Thanks, Aleksey for the initial idea in your answer).</p>\n\n<p>Extend HttpParams:</p>\n\n<pre><code>import { HttpParams } from '@angular/common/http';\nimport { HttpParamsOptions } from '@angular/common/http/src/params';\n\n// Cause the HttpErrorInterceptor to ignore certain error response status codes like this:\n//\n//  this.http.get&lt;TypeHere&gt;(`URL_HERE`, {\n//    params: new InterceptorHttpParams({ statusCodesToIgnore: [400, 401] }, {\n//      complete: 'false',\n//      offset: '0',\n//      limit: '50'\n//    })\n//  })\n\nexport class InterceptorHttpParams extends HttpParams {\n  constructor(\n    public interceptorConfig: { statusCodesToIgnore: number[] },\n    params?: { [param: string]: string | string[] }\n  ) {\n    super({ fromObject: params } as HttpParamsOptions);\n  }\n}\n</code></pre>\n\n<p>Interceptor:</p>\n\n<pre><code>intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n  return next.handle(req).pipe(\n    tap(\n      () =&gt; {},\n      (error: any) =&gt; {\n        if (error instanceof HttpErrorResponse) {\n          const regEx = /^[4-5][0-9][0-9]$/; // 4XX and 5XX status codes\n\n          if (regEx.test(error.status.toString())) {\n              const errorMessage = this.getErrorMessageFromStatus(error.status);\n\n              if (!this._shouldIgnoreError(req, error)) {\n                console.log(`ERROR INTERCEPTOR: ${error.status}`);\n                this.toastService.alert(errorMessage);\n              }\n          }\n        }\n      })\n  );\n}\n\n// Based on `request.params.interceptorConfig.statusCodesToIgnore`, we can see if we should ignore this error.\n_shouldIgnoreError(request: HttpRequest&lt;any&gt;, errorResponse: HttpErrorResponse) {\n  if (request.params instanceof InterceptorHttpParams\n    &amp;&amp; Array.isArray(request.params.interceptorConfig.statusCodesToIgnore)\n    &amp;&amp; request.params.interceptorConfig.statusCodesToIgnore.includes(errorResponse.status)) {\n\n    return true;\n  }\n\n  return false;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3269486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a9f2813ca9678ebfaea48461c531f3?s=128&d=identicon&r=PG&f=1", "display_name": "Rajnikant Baflipara", "link": "https://stackoverflow.com/users/3269486/rajnikant-baflipara"}, "is_accepted": false, "score": 0, "last_activity_date": 1582215210, "creation_date": 1582215210, "answer_id": 60324234, "question_id": 46075602, "link": "https://stackoverflow.com/questions/46075602/how-to-pass-a-param-to-httpinterceptor/60324234#60324234", "title": "How to pass a param to HttpInterceptor?", "body": "<p>You can use setParam option of request.</p>\n\n<pre><code>export class WebReqInterceptor implements HttpInterceptor {\nstringifiedData: any;  \nintercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;any&gt; {\n    if (window.sessionStorage.getItem('token')) {\n        this.stringifiedData=JSON.parse(window.sessionStorage.getItem('token'));\n        request = request.clone({\n            setParams:{\n                access_token:this.stringifiedData.access_token\n            }                          \n        });\n        return next.handle(request);\n    }\n    else{\n        return next.handle(request);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 14555287, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vqC4YS6_GKA/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnPQ-4Tgv8X4qZqqhqGEP3MP2tdAw/s96-c/photo.jpg?sz=128", "display_name": "Eden Ilan", "link": "https://stackoverflow.com/users/14555287/eden-ilan"}, "is_accepted": false, "score": 2, "last_activity_date": 1604225147, "creation_date": 1604225147, "answer_id": 64630660, "question_id": 46075602, "link": "https://stackoverflow.com/questions/46075602/how-to-pass-a-param-to-httpinterceptor/64630660#64630660", "title": "How to pass a param to HttpInterceptor?", "body": "<p>Currently, Angular does not support passing &quot;interceptor config/metadata&quot; via the HttpRequest object (it has been an <a href=\"https://github.com/angular/angular/issues/18155\" rel=\"nofollow noreferrer\">open issue</a> for quite some time).</p>\n<p>As a possible workaround, we can define a new <code>MyHttpParams</code> class which extends Angular's <code>HttpParams</code>, adding a new <code>interceptorMetadata</code> property.</p>\n<p>Note that <code>MyHttpParams</code> must override the <code>append</code>, <code>set</code> and <code>delete</code> methods so that they return <code>MyHttpParams</code> instead of Angular's <code>HttpParams</code>. If we don't do this, our <code>interceptorMetadata</code> will be &quot;dropped&quot; when those methods are invoked (e.g. if an interceptor adds some HTTP param, the next interceptors will not get the <code>interceptorMetadata</code>).</p>\n<pre><code>import {HttpParams} from '@angular/common/http';\n\nexport interface InterceptorMetadata {\n    readonly customParam1: string;\n    readonly customParam2: number;\n    // etc.\n}\n\nexport interface MyHttpParamsConfig {\n    interceptorMetadata: Partial&lt;InterceptorMetadata&gt;;\n    params: string | Record&lt;string, string | string[]&gt;; // the actual params which will be included in the real request\n}\n\nexport class MyHttpParams extends HttpParams {\n    public readonly interceptorMetadata: Partial&lt;InterceptorMetadata&gt;;\n\n    constructor({params, interceptorMetadata}: Partial&lt;MyHttpParamsConfig&gt; = {}) {\n        if(typeof params === 'string') {\n            super({fromString: params});\n        }\n        else if(typeof params === 'object') {\n            super({fromObject: params});\n        }\n        else {\n            super();\n        }\n\n        this.interceptorMetadata = interceptorMetadata;\n    }\n\n    // orverrides HttpParams.append\n    append(param: string, value: string): MyHttpParams {\n        const updatedHttpParams = super.append(param, value);\n        return new MyHttpParams({\n            interceptorMetadata: this.interceptorMetadata,\n            params: updatedHttpParams.toString()\n        });\n    }\n\n    // orverrides HttpParams.set\n    set(param: string, value: string): MyHttpParams {\n        const updatedHttpParams = super.set(param, value);\n        return new MyHttpParams({\n            interceptorMetadata: this.interceptorMetadata,\n            params: updatedHttpParams.toString()\n        });\n    }\n\n    // orverrides HttpParams.delete\n    delete(param: string, value?: string): MyHttpParams {\n        const updatedHttpParams = super.delete(param, value);\n        return new MyHttpParams({\n            interceptorMetadata: this.interceptorMetadata,\n            params: updatedHttpParams.toString()\n        });\n    }\n}\n</code></pre>\n<p>Then for example when calling HttpClient.get() we can pass an instance of our extended MyHttpParams:</p>\n<pre><code>const myHttpParams = new MyHttpParams({\n    interceptorMetadata: {\n        customParam1: 'test', // this will NOT be part of the final request\n    },\n    params: 'someActualUrlQueryString=someValue' // this will be part of the final request\n});\n\nhttpClient.get(myUrl, {params: myHttpParams})\n</code></pre>\n<p>Finally, in our interceptor we can use <code>interceptorMetadata</code>:</p>\n<pre><code>intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    const {params} = req;\n    if(params instanceof MyHttpParams) {\n        if (params.interceptorMetadata &amp;&amp; params.interceptorMetadata.customParam1 === 'test') { \n            // do something\n        }\n    }\n    // ...\n}\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/1011648/jwess\">JWess</a> for the original answer which this is based on (it was just missing the <code>append</code>, <code>set</code> and <code>delete</code> overrides)</p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 12390593, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w7HDW1IGV_Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSyv-bJMeS9OCBNbH3QTe68ajq0Q/photo.jpg?sz=128", "display_name": "gangadhar yerpula", "link": "https://stackoverflow.com/users/12390593/gangadhar-yerpula"}, "is_accepted": false, "score": 0, "last_activity_date": 1609741935, "creation_date": 1609741935, "answer_id": 65558545, "question_id": 46075602, "link": "https://stackoverflow.com/questions/46075602/how-to-pass-a-param-to-httpinterceptor/65558545#65558545", "title": "How to pass a param to HttpInterceptor?", "body": "<p>For anyone who is stumbled upon the same issue, we can pass custom params in HttpParams in new versions of angular. But we have to remember that HttpParams is an immutable object. With an immutable object, every call to params.append() returns a new object. so, we will have to re-assign the returned new object back to params as shown below,</p>\n<pre><code> var params = new HttpParams();\n // Notice that I am re-assigning the params object\n params = params.append('showErrorMessage', 'false'); \n return this.http.get(url, { params: params });\n</code></pre>\n<p>And in the interceptor, we can access the value as such</p>\n<pre><code>req.params.get('showErrorMessage')\n</code></pre>\n"}], "owner": {"reputation": 51621, "user_id": 248827, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2d8677a9359a0c11541f17de318d69c1?s=128&d=identicon&r=PG", "display_name": "Amitabh", "link": "https://stackoverflow.com/users/248827/amitabh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16251, "favorite_count": 5, "answer_count": 5, "score": 31, "last_activity_date": 1609741935, "creation_date": 1504701856, "last_edit_date": 1504704843, "question_id": 46075602, "link": "https://stackoverflow.com/questions/46075602/how-to-pass-a-param-to-httpinterceptor", "title": "How to pass a param to HttpInterceptor?", "body": "<p>I am using Angular 4.3.1 and HttpClient. There is an HttpInterceptor to set some headers. </p>\n\n<p>In some http get requests I need to set a different header. Is there anyway I can pass some param to this HttpInterceptor for that particular HttpRequest?</p>\n\n<pre><code>@Injectable()\nexport class MyHttpInterceptor implements HttpInterceptor {\n\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    if(request.custom.param1) // how can i do this \n      request = request.clone({\n        setHeaders: {\n          'header1': 'xxxxxx'\n          }\n      });\n\n    else\n      request = request.clone({\n        setHeaders: {\n          'header2': 'yyyyyy'\n          }\n      });\n\n\n    return next.handle(request);\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "casting", "type-assertion"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1504701718, "creation_date": 1504701718, "answer_id": 46075560, "question_id": 46075504, "link": "https://stackoverflow.com/questions/46075504/typescript-casting-assertion-with-a-for-loop/46075560#46075560", "title": "typescript casting / assertion with a for loop", "body": "<p>You could try: </p>\n\n<pre><code>for (const person of people as PersonLabel[]) {\n  person.label = `${person.namespace}:${person.name}`;\n  this.peopleList.push(person);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3556, "user_id": 5300473, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/88eaa2b57410990d33dfa1b9330b77ae?s=128&d=identicon&r=PG", "display_name": "Spitzbueb", "link": "https://stackoverflow.com/users/5300473/spitzbueb"}, "is_accepted": false, "score": 1, "last_activity_date": 1504702250, "last_edit_date": 1504702250, "creation_date": 1504701931, "answer_id": 46075638, "question_id": 46075504, "link": "https://stackoverflow.com/questions/46075504/typescript-casting-assertion-with-a-for-loop/46075638#46075638", "title": "typescript casting / assertion with a for loop", "body": "<p>You can use <code>&lt;Type&gt;</code> or <code>as Type</code>.</p>\n\n<p>In your case this means:</p>\n\n<pre><code>person = &lt;PersonLabel&gt; person;\n</code></pre>\n\n<p>or the prefered way with <code>as</code>:</p>\n\n<pre><code>person = person as PersonLabel;\n</code></pre>\n\n<p>Remember to change <code>const person</code> to <code>let person</code> as you cannot reassign a <code>const</code>.</p>\n\n<p>Or you can cast it already in the for loop like this: </p>\n\n<pre><code>for (const person of people as PersonLabel[]) { //&lt;PersonLabel[] people should work as well...\n  person.label = `${person.namespace}:${person.name}`;\n  this.peopleList.push(person);\n}\n</code></pre>\n\n<p>This assumes <code>PersonLabel</code> derives from the class <code>Person</code>. Otherwise you cannot cast the types (like you can't cast a <code>number</code> to <code>string</code>).</p>\n"}], "owner": {"reputation": 175, "user_id": 6492029, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh4.googleusercontent.com/-PgXDs02ES6M/AAAAAAAAAAI/AAAAAAAAAEI/3bOc63hHU88/photo.jpg?sz=128", "display_name": "SD Dev", "link": "https://stackoverflow.com/users/6492029/sd-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3147, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1504702250, "creation_date": 1504701549, "question_id": 46075504, "link": "https://stackoverflow.com/questions/46075504/typescript-casting-assertion-with-a-for-loop", "title": "typescript casting / assertion with a for loop", "body": "<p>I'm looping over data in an array and want to cast my looped item to an extended interface (it has an extra label field). What can I recast it? to a \"PersonLabel\"? </p>\n\n<pre><code>for (const person of people) {\n    person.label = `${person.namespace}:${person.name}`;\n    this.peopleList.push(person);\n}\n</code></pre>\n\n<p>I tried approaches such as this (does not compile):</p>\n\n<pre><code>for (const person:PersonLabel of people) {\n    person.label = `${person.namespace}:${person.name}`;\n    this.peopleList.push(person);\n}\n</code></pre>\n\n<p>and this (does not compile)</p>\n\n<pre><code>for (const person of people) {\n    person = typeof PersonLabel;\n    person.label = `${person.namespace}:${person.name}`;\n    this.peopleList.push(person);\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1504701097, "post_id": 46075308, "comment_id": 79111528, "body": "What is the benefit of doing so?"}], "answers": [{"comments": [{"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504701995, "post_id": 46075416, "comment_id": 79112201, "body": "The link in the top of this question explains why this approach is not suitable."}, {"owner": {"reputation": 11596, "user_id": 621366, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d49c0343ea2c06aff6349ecf2ea6665?s=128&d=identicon&r=PG", "display_name": "peter", "link": "https://stackoverflow.com/users/621366/peter"}, "reply_to_user": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 1, "creation_date": 1504706205, "post_id": 46075416, "comment_id": 79115509, "body": "@zeroin I&#39;ve updated my example, if you want to be able to set the value within each class, without passing a constructor inside, you need to be aware that when you&#39;ll read the data it might be <code>T</code> <b>or</b> the default generic used by the base class. Specifying that on the array / in the genrics you&#39;re passing down, is the only way to allow it in typescript"}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1505133232, "post_id": 46075416, "comment_id": 79273381, "body": "Thanks, that&#39;s an interesting suggestion - if you&#39;d post it to the original question, It would be the best answer."}], "tags": [], "owner": {"reputation": 11596, "user_id": 621366, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d49c0343ea2c06aff6349ecf2ea6665?s=128&d=identicon&r=PG", "display_name": "peter", "link": "https://stackoverflow.com/users/621366/peter"}, "is_accepted": false, "score": 1, "last_activity_date": 1504706083, "last_edit_date": 1504706083, "creation_date": 1504701301, "answer_id": 46075416, "question_id": 46075308, "link": "https://stackoverflow.com/questions/46075308/tell-typescript-compiler-not-to-compile-some-of-the-code/46075416#46075416", "title": "Tell typescript compiler not to compile some of the code", "body": "<p>I think you can solve it in typescript using </p>\n\n<pre><code>class ClassA&lt;T = BlueItem&gt; {\n\n   protected _list:Array&lt;T | BlueItem&gt;;\n\n   get list(): Array&lt;T | BlueItem&gt; {\n    return this._list;\n   }\n}\n\nclass ClassB&lt;T = GreenItem&gt; extends ClassA&lt;T | GreenItem&gt; {\n}\n\nclass ClassC extends ClassB&lt;RedItem&gt; {\n}\n</code></pre>\n\n<p>This is not 100% equivalent, you could change it further by restricting the generic type to need to extend BlueItem or GreenItem, ...</p>\n"}], "owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504706083, "creation_date": 1504701006, "question_id": 46075308, "link": "https://stackoverflow.com/questions/46075308/tell-typescript-compiler-not-to-compile-some-of-the-code", "title": "Tell typescript compiler not to compile some of the code", "body": "<p>Following this question about Generics: <a href=\"https://stackoverflow.com/questions/46068834/typescript-generics-argument-of-type-x-is-not-assignable-to-parameter-of-type/\">Typescript generics: Argument of type &#39;X&#39; is not assignable to parameter of type &#39;T&#39;</a> :</p>\n\n<p><code>get list()</code> and <code>protected _list</code> in the following code are added to each class just to have a proper type. However, when compiled to JavaScript these methods and class property are identical in all three classes. Is there a way to tell Typescript compiler to skip duplicates and leave one getter/class property in ClassA only?</p>\n\n<pre><code>class ClassA {\n\n       protected _list:Array&lt;BlueItem&gt;;\n\n       get list(): Array&lt;BlueItem&gt; {\n        return this._list;\n    }\n}\n\nclass ClassB extends ClassA {\n\n       protected _list:Array&lt;GreenItem&gt;;\n\n       get list(): Array&lt;GreenItem&gt; {\n        return this._list;\n    }\n}\n\nclass ClassC extends ClassB {\n\n       protected _list:Array&lt;RedItem&gt;;\n\n       get list(): Array&lt;RedItem&gt; {\n        return this._list;\n    }\n}\n\nclass BlueItem {\n\n}\n\nclass GreenItem extends BlueItem {\n\n}\n\nclass RedItem extends BlueItem {\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "json", "typescript", "object"], "comments": [{"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 3, "creation_date": 1504700837, "post_id": 46075216, "comment_id": 79111310, "body": "We discourage posts that simply state a problem out of context, and expect the community to solve it. Assuming you tried to solve it yourself and got stuck, it may be helpful if you wrote your thoughts and what you could not figure out. It will definitely draw more answers to your post. Until then, the question will be voted to be closed / downvoted."}], "answers": [{"comments": [{"owner": {"reputation": 5032, "user_id": 1496453, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/zHJ5F.jpg?s=128&g=1", "display_name": "Sandy Gifford", "link": "https://stackoverflow.com/users/1496453/sandy-gifford"}, "edited": false, "score": 0, "creation_date": 1504795008, "post_id": 46075302, "comment_id": 79160361, "body": "This answer could use more explanation"}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "reply_to_user": {"reputation": 5032, "user_id": 1496453, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/zHJ5F.jpg?s=128&g=1", "display_name": "Sandy Gifford", "link": "https://stackoverflow.com/users/1496453/sandy-gifford"}, "edited": false, "score": 0, "creation_date": 1505133800, "post_id": 46075302, "comment_id": 79273777, "body": "my answer came before the accepted answer, and is a more efficient version of the same solution. I can understand that it might have deserved a write up instead of just being a quick solution. I can&#39;t understand all the downvotes for what remains to this moment the best solution posted to the question."}, {"owner": {"reputation": 5032, "user_id": 1496453, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/zHJ5F.jpg?s=128&g=1", "display_name": "Sandy Gifford", "link": "https://stackoverflow.com/users/1496453/sandy-gifford"}, "edited": false, "score": 0, "creation_date": 1505138200, "post_id": 46075302, "comment_id": 79276815, "body": "I did not downvote it - just making suggestions to try to get it in the positives"}], "tags": [], "owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "is_accepted": false, "score": -5, "last_activity_date": 1504803380, "last_edit_date": 1504803380, "creation_date": 1504700993, "answer_id": 46075302, "question_id": 46075216, "link": "https://stackoverflow.com/questions/46075216/getting-a-particular-key-from-an-object-array/46075302#46075302", "title": "Getting a particular key from an object array", "body": "<p>use hasOwnProperty to identify objects with properties .. like this code which will return your object 'c'</p>\n\n<pre><code>myObjArr.filter(o =&gt; ! o.hasOwnProperty( myPropAsString)) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11863, "user_id": 1762211, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc8759842af428f995e2ce7a03adb609?s=128&d=identicon&r=PG", "display_name": "Mohamed Ali JAMAOUI", "link": "https://stackoverflow.com/users/1762211/mohamed-ali-jamaoui"}, "is_accepted": false, "score": 0, "last_activity_date": 1504701776, "creation_date": 1504701776, "answer_id": 46075580, "question_id": 46075216, "link": "https://stackoverflow.com/questions/46075216/getting-a-particular-key-from-an-object-array/46075580#46075580", "title": "Getting a particular key from an object array", "body": "<p>This can do it: </p>\n\n<pre><code>d = [\n      {\n        \"a\": {\n          \"property1\": \"false\"\n        }\n      },\n      {\n        \"b\": {\n          \"property1\": \"false\",\n          \"property2\": \"truthy\"\n        }\n      },\n      {\n        \"c\": {\n          \"propertycheck\": \"required\"\n        }\n      }\n]\n\nd.filter(function(x){\n   if(!x[Object.keys(x)[0]].hasOwnProperty(\"property1\"))\n    {return x}\n})\n</code></pre>\n\n<hr>\n\n<h3>Explanation:</h3>\n\n<ol>\n<li><code>d.filter</code> will iterate through the array of object while applying the filtering function</li>\n<li><code>x[Object.keys(x)[0]]</code> this is used to get the key a, b or c dynamically. </li>\n<li><code>.hasOwnProperty(\"property1\")</code> will check if the key <code>property1</code> is in the the object. </li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1504959102, "post_id": 46075754, "comment_id": 79223192, "body": "using <code>hasOwnProperty</code> to check once if the key exists in the filter loop would spare you the complexity of the inner forEach loop."}], "tags": [], "owner": {"reputation": 483, "user_id": 5946322, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad257b84a2f05cb203ed8b705a191e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Nolyurn", "link": "https://stackoverflow.com/users/5946322/nolyurn"}, "is_accepted": true, "score": 2, "last_activity_date": 1504702568, "last_edit_date": 1504702568, "creation_date": 1504702267, "answer_id": 46075754, "question_id": 46075216, "link": "https://stackoverflow.com/questions/46075216/getting-a-particular-key-from-an-object-array/46075754#46075754", "title": "Getting a particular key from an object array", "body": "<p>Here is a version where you could have many sub key for each of your 3 object.</p>\n\n<pre><code>var arr = [\n  {\n    \"a\": {\n      \"property1\": \"false\"\n    }\n  },\n  {\n    \"b\": {\n      \"property1\": \"false\",\n      \"property2\": \"truthy\"\n    }\n  },\n  {\n    \"c\": {\n      \"propertycheck\": \"required\"\n    }\n  }\n]\n\nvar arr = arr.filter(function(elem){   //Filter on each object in the array\n  var checkKey = true;                 //checkKey will be the return value of filter\n  Object.keys(elem).forEach(function(key){  //For each key of elem\n    if(\"property1\" in elem[key]){           //If value of key (object) own \"property1\"\n      checkKey = false                      //You want to remove the object from table so return false to filter\n    }\n  })\n  return checkKey\n})\n</code></pre>\n\n<p>-\n Reference to Array.filter <a href=\"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array/filter\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array/filter</a></p>\n"}], "owner": {"reputation": 237, "user_id": 6643261, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/91988ada14da1fa55082e0dbb45cabfd?s=128&d=identicon&r=PG&f=1", "display_name": "dockerrrr", "link": "https://stackoverflow.com/users/6643261/dockerrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "closed_date": 1504730487, "accepted_answer_id": 46075754, "answer_count": 3, "score": 0, "last_activity_date": 1504803380, "creation_date": 1504700786, "last_edit_date": 1504705358, "question_id": 46075216, "link": "https://stackoverflow.com/questions/46075216/getting-a-particular-key-from-an-object-array", "closed_reason": "Needs more focus", "title": "Getting a particular key from an object array", "body": "<p>I have a array of objects with keys a ,b,c. a has property property1, b has properties property1 and property2 ,c has a property propertycheck. My requirement is I want to get only the key which doesn't have the property1 in it. In this scenario I want the output to be c. Any help is appreciated. Stuck at this point  </p>\n\n<pre><code>  [\n      {\n        \"a\": {\n          \"property1\": \"false\"\n        }\n      },\n      {\n        \"b\": {\n          \"property1\": \"false\",\n          \"property2\": \"truthy\"\n        }\n      },\n      {\n        \"c\": {\n          \"propertycheck\": \"required\"\n        }\n      }\n ]\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 3284, "user_id": 1841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7626f7fd5a7d9ecc5f84d42c7eea4405?s=128&d=identicon&r=PG", "display_name": "Kewin Dousse", "link": "https://stackoverflow.com/users/1841827/kewin-dousse"}, "is_accepted": false, "score": 55, "last_activity_date": 1504700886, "creation_date": 1504700886, "answer_id": 46075261, "question_id": 46075181, "link": "https://stackoverflow.com/questions/46075181/how-do-i-implement-multiple-interfaces-in-a-class/46075261#46075261", "title": "How do I implement multiple interfaces in a class?", "body": "<p>Use a <code>,</code> to separate the interfaces you want to implement. That gives the following class declaration :</p>\n\n<pre><code>class generics &lt;T&gt; implements first, second\n</code></pre>\n\n<p>Here is the complete code :</p>\n\n<pre><code>interface first {\n    name: string,\n    age: number\n}\n\ninterface second {\n    product: string,\n    available: boolean,\n    amount: number\n}\n\nclass generics &lt;T&gt; implements first, second {\n    name: string;\n    age: number;\n    product: string;\n    available: boolean;\n    amount: number;\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20first%20%7B%0D%0A%20%20%20%20name%3A%20string%2C%0D%0A%20%20%20%20age%3A%20number%0D%0A%7D%0D%0A%0D%0Ainterface%20second%20%7B%0D%0A%20%20%20%20product%3A%20string%2C%0D%0A%20%20%20%20available%3A%20boolean%2C%0D%0A%20%20%20%20amount%3A%20number%0D%0A%7D%0D%0A%0D%0Aclass%20generics%20%3CT%3E%20implements%20first%2C%20second%7B%0D%0A%20%20%20%20name%3A%20string%3B%0D%0A%20%20%20%20age%3A%20number%3B%0D%0A%20%20%20%20product%3A%20string%3B%0D%0A%20%20%20%20available%3A%20boolean%3B%0D%0A%20%20%20%20amount%3A%20number%3B%0D%0A%7D\" rel=\"noreferrer\">Playground link</a></p>\n"}, {"comments": [{"owner": {"reputation": 929, "user_id": 2134482, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32b3729d02ecb52422fc85faf60832b3?s=128&d=identicon&r=PG", "display_name": "Benoit", "link": "https://stackoverflow.com/users/2134482/benoit"}, "edited": false, "score": 1, "creation_date": 1580524989, "post_id": 58831842, "comment_id": 106136947, "body": "This is not related to the question. You have only one interface"}], "tags": [], "owner": {"reputation": 1, "user_id": 12365137, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/6ef97b5e09dfaf379291a73d9bb3ed14?s=128&d=identicon&r=PG", "display_name": "Joshua Samuel", "link": "https://stackoverflow.com/users/12365137/joshua-samuel"}, "is_accepted": false, "score": -5, "last_activity_date": 1573629767, "last_edit_date": 1573629767, "creation_date": 1573628454, "answer_id": 58831842, "question_id": 46075181, "link": "https://stackoverflow.com/questions/46075181/how-do-i-implement-multiple-interfaces-in-a-class/58831842#58831842", "title": "How do I implement multiple interfaces in a class?", "body": "<p>create a specific type in multiple classes with interface.</p>\n\n<pre><code>    interface Calculated{\n        calculate(input1: number,input2: number): void;\n     }\n\n     class Add implements Calculated{ //addition class\n         calculate(input1: number, input2: number){\n             console.log(\"The Addition of\" + \" \" + input1 + \"+\" + input2 + \"=\" + (input1 + input2));\n\n         }\n     }\n\n     class Subtract implements Calculated{ //subtraction class\n         calculate(input1: number, input2: number){\n             console.log(\"The subtraction of\" + \" \" + input1 + \"-\" + input2 + \"=\" + (input1 - input2));\n         }\n     }\n\n     class Mulitiple implements Calculated{ //multiplication class\n         calculate(input1: number, input2: number){\n             console.log(\"The multiplication of\" + \" \" + input1 + \"*\" + input2 + \"=\" + (input1 * input2));\n         }\n     }\n\n     class Divide implements Calculated{ //division class\n         calculate(input1: number, input2: number){\n             console.log(\"The division of\" + \" \" + input1 + \"/\" + input2 + \"=\" + (input1 / input2));\n         }\n     }  \n\n     class Calculator{ //calculator \n         input1: number;\n         input2: number;\n         condition: Calculated; //interface type specification\n\n         constructor (input1: number, input2: number, condition: Calculated) {\n            this.input1 = input1;\n            this.input2 = input2;\n            this.condition = condition;  \n\n            const operateObj = this.condition;\n            operateObj.calculate(this.input1,this.input2);       \n         }\n     }\n\n     //calculator calling....\n\n     const calculatorObj = new Calculator(100, 75.0,new Add); //(it should be input1 &amp; input2 &amp; like to you perform)\n\n     // if you need addition use Add\n     // if you need subtraction use Subtract\n     // if you need multiplication use Mulitiple\n     // if you need division use Divide\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8394173"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24681, "favorite_count": 9, "answer_count": 2, "score": 37, "last_activity_date": 1573629767, "creation_date": 1504700695, "last_edit_date": 1572949000, "question_id": 46075181, "link": "https://stackoverflow.com/questions/46075181/how-do-i-implement-multiple-interfaces-in-a-class", "title": "How do I implement multiple interfaces in a class?", "body": "<p>I want to implement both the interfaces in the generic class. How do I do that?</p>\n\n<pre><code>interface first {\n    name: string,\n    age: number\n}\n\ninterface second {\n    product: string,\n    available: boolean,\n    amount: number\n}\n\nclass generics &lt;T&gt;{\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1504700692, "creation_date": 1504700692, "answer_id": 46075180, "question_id": 46074978, "link": "https://stackoverflow.com/questions/46074978/ionic-3-app-size-for-android-is-more-then-compared-to-ionic-2/46075180#46075180", "title": "Ionic 3 App Size for android is more then compared to ionic 2", "body": "<p>Check if you are using <code>cordova-plugin-crosswalk-webview</code> in your new project. This plugin usually adds ~20-30MB to your final .apk size.</p>\n\n<p>You will need an angular-module for every page that has an <code>@IonicPage</code> decorator. The main advantage of this is that you can utilize lazy-loading (load pages when they are needed, not all of them when the app starts) when you just push a string onto the nav-stack like this: <code>this.nav.push('IonicPageName')</code>. And of course you have a modularized application which is always good from architecture point of view.</p>\n\n<p>Have a look at the following blog entries by the ionic-team on lazy-loading</p>\n\n<ul>\n<li><a href=\"http://blog.ionic.io/ionic-and-lazy-loading-pt-1/\" rel=\"nofollow noreferrer\">Part 1</a></li>\n<li><a href=\"http://blog.ionic.io/ionic-and-lazy-loading-pt-2/\" rel=\"nofollow noreferrer\">Part 2</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 1, "last_activity_date": 1504702134, "last_edit_date": 1504702134, "creation_date": 1504700789, "answer_id": 46075217, "question_id": 46074978, "link": "https://stackoverflow.com/questions/46074978/ionic-3-app-size-for-android-is-more-then-compared-to-ionic-2/46075217#46075217", "title": "Ionic 3 App Size for android is more then compared to ionic 2", "body": "<p>You just need to build your project using below <code>CLI</code>: It builds the application for production with very small package size. You can see all the <a href=\"http://ionicframework.com/docs/cli/cordova/build/\" rel=\"nofollow noreferrer\"><strong>build CLI options here</strong></a>.</p>\n\n<pre><code>ionic cordova build android --prod\n</code></pre>\n\n<p><strong>Q:</strong> is it required to keep <code>.module.ts</code> in all the pages which is new feature in Ionic 3?</p>\n\n<p><strong>A:</strong> This is not a must thing. But it is a really awesome feature. It will significantly boost your app's performance.You can read more about <a href=\"http://blog.ionic.io/ionic-and-lazy-loading-pt-1/\" rel=\"nofollow noreferrer\"><strong>lazy loading here</strong></a>. </p>\n"}], "owner": {"reputation": 93, "user_id": 5561316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca148254e5280716ee698037671f1e1?s=128&d=identicon&r=PG&f=1", "display_name": "Jayanthkumar S", "link": "https://stackoverflow.com/users/5561316/jayanthkumar-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566895946, "creation_date": 1504700107, "last_edit_date": 1504700810, "question_id": 46074978, "link": "https://stackoverflow.com/questions/46074978/ionic-3-app-size-for-android-is-more-then-compared-to-ionic-2", "title": "Ionic 3 App Size for android is more then compared to ionic 2", "body": "<p>I am working in Ionic for couple of months. I developed ionic 2 App with more 10pages and App size was 6Mb after Apk Generated, but in ionic 3 I have not even used more than 8pages and less lines of code then compared to Ionic 2 App. Still my Ionic 3 App Size is 35Mb. Any solution for this?</p>\n\n<p>Note: No images are used for both App,</p>\n\n<p>and is it required to keep <code>.module.ts</code> in all the pages which is new feature in Ionic 3.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 6909, "user_id": 1631551, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xA4Rg.jpg?s=128&g=1", "display_name": "Legionar", "link": "https://stackoverflow.com/users/1631551/legionar"}, "edited": false, "score": 0, "creation_date": 1504699734, "post_id": 46074814, "comment_id": 79110391, "body": "Yes, it is possible."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1504699836, "post_id": 46074814, "comment_id": 79110474, "body": "Based on the answer in the duplicated question, replace the accented letters and then do a simple regular expression search while ignoring the case"}], "owner": {"reputation": 285, "user_id": 8435097, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/633175a234be8881d2561e2514004007?s=128&d=identicon&r=PG&f=1", "display_name": "Floriane", "link": "https://stackoverflow.com/users/8435097/floriane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1504699756, "answer_count": 0, "score": 0, "last_activity_date": 1504700441, "creation_date": 1504699627, "last_edit_date": 1504700441, "question_id": 46074814, "link": "https://stackoverflow.com/questions/46074814/do-not-differentiate-between-uppercase-and-lowercase-and-accented-letters", "closed_reason": "Duplicate", "title": "Do not differentiate between uppercase and lowercase and accented letters", "body": "<p>I create a search bar. When the user presses the letter 'A' I want to display the users whose first name starts with the letter 'A'. It works.</p>\n\n<p>I want to disregard uppercase or lowercase and accented letters. In other words, I want that if the user types an 'A' or 'a', my program displays all users starting with 'A'. And if he types a 'e' instead a '\u00e9', it works too.</p>\n\n<p>Here is my program to obtain the value entered by the user :</p>\n\n<pre><code>searchUser(): void {\n  let str;\n  let element = document.getElementById('chat-window-input');\n\n  if(element !== null) {\n    str = (element as HTMLInputElement).value;\n  }\n  else {\n    str = null;\n  }\n  if(!str) {\n    this.searchArrayThreads = [];\n  }\n}\n</code></pre>\n\n<p>Here is my condition for test the value entered by the user : </p>\n\n<pre><code>if(thread.participants[0].name.startsWith(str)) {\n      return thread;\n}\n</code></pre>\n\n<p>So I think I need to create an other variable like str and modify this variable..</p>\n\n<p>Is it possible to do this simply?</p>\n"}, {"tags": ["angular", "typescript", "angular-http", "bad-gateway", "angular-httpclient"], "comments": [{"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1504699460, "post_id": 46074715, "comment_id": 79110183, "body": "<code>502 (Bad Gateway)</code> often refers that the data received by the server is invalid, so cross-check the data what you are sending."}, {"owner": {"reputation": 1247, "user_id": 252344, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ecc0bf03f523555ea05520012b36886a?s=128&d=identicon&r=PG", "display_name": "Faron", "link": "https://stackoverflow.com/users/252344/faron"}, "edited": false, "score": 0, "creation_date": 1504699680, "post_id": 46074715, "comment_id": 79110358, "body": "Actually,  502 means that the server you are using is trying to talk to another server and it failed."}, {"owner": {"reputation": 1393, "user_id": 1731770, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0340e4c0ce99a2616bf81133782c87e4?s=128&d=identicon&r=PG", "display_name": "user2301", "link": "https://stackoverflow.com/users/1731770/user2301"}, "reply_to_user": {"reputation": 1247, "user_id": 252344, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ecc0bf03f523555ea05520012b36886a?s=128&d=identicon&r=PG", "display_name": "Faron", "link": "https://stackoverflow.com/users/252344/faron"}, "edited": false, "score": 0, "creation_date": 1504699876, "post_id": 46074715, "comment_id": 79110504, "body": "@Faron So it is the problem with the server, where I am requesting for the data? How can I fix it from client side?"}, {"owner": {"reputation": 1247, "user_id": 252344, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ecc0bf03f523555ea05520012b36886a?s=128&d=identicon&r=PG", "display_name": "Faron", "link": "https://stackoverflow.com/users/252344/faron"}, "edited": false, "score": 2, "creation_date": 1504700397, "post_id": 46074715, "comment_id": 79110955, "body": "You can retry the operation but be aware that you can get into a looping issue. As a good net-citizen, you would write your code to retry a few times and then give up. You should also add a wait time between retry requests in case the upstream server is failing due to requests coming in too fast. For example, wait 1 sec between the 1st request and the 2nd. Wait 2 sec between the 2nd and 3rd requests, Wait 5 sec between the 3rd and 4th requests, etc."}, {"owner": {"reputation": 1393, "user_id": 1731770, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0340e4c0ce99a2616bf81133782c87e4?s=128&d=identicon&r=PG", "display_name": "user2301", "link": "https://stackoverflow.com/users/1731770/user2301"}, "reply_to_user": {"reputation": 1247, "user_id": 252344, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ecc0bf03f523555ea05520012b36886a?s=128&d=identicon&r=PG", "display_name": "Faron", "link": "https://stackoverflow.com/users/252344/faron"}, "edited": false, "score": 0, "creation_date": 1504710333, "post_id": 46074715, "comment_id": 79118655, "body": "@Faron ok. Thanks. I tried this way <code>.retryWhen((error) =&gt; error.delay(5000).take(3))</code> But no much difference, still sometimes network breaks."}, {"owner": {"reputation": 1247, "user_id": 252344, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ecc0bf03f523555ea05520012b36886a?s=128&d=identicon&r=PG", "display_name": "Faron", "link": "https://stackoverflow.com/users/252344/faron"}, "edited": false, "score": 1, "creation_date": 1504710533, "post_id": 46074715, "comment_id": 79118819, "body": "If you know the developers that built the server, you could let them know the server is having issues. However, this is a good exercise for building an app that has good error handling."}], "owner": {"reputation": 1393, "user_id": 1731770, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0340e4c0ce99a2616bf81133782c87e4?s=128&d=identicon&r=PG", "display_name": "user2301", "link": "https://stackoverflow.com/users/1731770/user2301"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504699618, "creation_date": 1504699318, "last_edit_date": 1504699618, "question_id": 46074715, "link": "https://stackoverflow.com/questions/46074715/angular-2-http-get-response-error-502-bad-gateway", "title": "Angular 2 http.get response error 502 bad gateway", "body": "<p>I am having angular 2 typescript application. I have 3 tabs. When I click on each tab,the data will be displayed in the card.The data is accessed via rest api  using angular HTTP service <a href=\"https://angular.io/docs/ts/latest/guide/server-communication.html#!#fetch-data\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/guide/server-communication.html#!#fetch-data</a>. It returns observable.\nMost of the time, I get this below error when seen in the chrome browser console : <code>502 Bad Gateway.</code> \nAfter refreshing the page for couple of times it works. How to fix this issue? Is it the problem with navigation between the tabs breaking the network? By adding retryWhen method of observable in my service would fix the problem?</p>\n\n<blockquote>\n  <p>GET <a href=\"http://restapi/api/data\" rel=\"nofollow noreferrer\">http://restapi/api/data</a> 502 (Bad Gateway) Failed to load resource:\n  the server responded with a status of 502 (Bad Gateway)</p>\n</blockquote>\n"}, {"tags": ["typescript", "refactoring", "dry", "single-responsibility-principle"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1504698929, "post_id": 46074457, "comment_id": 79109831, "body": "But anyone new to the project would otherwise need to know to call those 2 lines, so I don&#39;t know if remembering is a valid reason not to stick it in a function."}, {"owner": {"reputation": 7488, "user_id": 4074045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ea67fd9895934c41fbd75cce9356f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arg0n", "link": "https://stackoverflow.com/users/4074045/arg0n"}, "edited": false, "score": 0, "creation_date": 1504699755, "post_id": 46074457, "comment_id": 79110405, "body": "What is different in each? Only the <code>url</code>?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504703055, "post_id": 46074457, "comment_id": 79113000, "body": "From angular 4.3 use can use <a href=\"https://angular.io/guide/http#setting-new-headers\" rel=\"nofollow noreferrer\">interceptors</a> with new HttpClient. This  is a proper single place for such a task"}], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1504699504, "creation_date": 1504699504, "answer_id": 46074774, "question_id": 46074457, "link": "https://stackoverflow.com/questions/46074457/handling-code-duplication-in-typescript-code/46074774#46074774", "title": "Handling code duplication in typescript code", "body": "<p>Better is to create one <code>Gloabl service</code> which shared all methods which are common, let's asume your problem</p>\n\n<p>you can create Global methods for whole app to do same task like this</p>\n\n<pre><code> getHeaders(){\n    let headers = new Headers();\n    this.loginService.writeAuthToHeaders(headers);\n    return headers;\n }\n\n fooServiceName(body): Observable&lt;any&gt; {\n    return this.http.put(this.loginService.url() + '/url', body, { headers: this.getHeaders() })\n    .map(response =&gt; response.json());\n  }\n\n  barResource(body): Observable&lt;any&gt; {\n    return this.http.post(this.loginService.url() + '/url', body, { headers: this.getHeaders() })\n    .map(response =&gt; response.json());\n  }\n</code></pre>\n\n<p>Also try to create some global methods for CRUD operations so that in future use try to use those instead of creating new everytime\njust need to pass variables as parameters like <code>url</code>, <code>data</code> etc.</p>\n"}, {"comments": [{"owner": {"reputation": 1192, "user_id": 4260745, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eGr4R.png?s=128&g=1", "display_name": "CodeYogi", "link": "https://stackoverflow.com/users/4260745/codeyogi"}, "edited": false, "score": 0, "creation_date": 1504703404, "post_id": 46076026, "comment_id": 79113282, "body": "What is the use case for custom injector?"}, {"owner": {"reputation": 1192, "user_id": 4260745, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eGr4R.png?s=128&g=1", "display_name": "CodeYogi", "link": "https://stackoverflow.com/users/4260745/codeyogi"}, "edited": false, "score": 0, "creation_date": 1504703572, "post_id": 46076026, "comment_id": 79113454, "body": "But it would make testing difficult as we are not injecting it in <code>SomeComponent</code>"}, {"owner": {"reputation": 1192, "user_id": 4260745, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eGr4R.png?s=128&g=1", "display_name": "CodeYogi", "link": "https://stackoverflow.com/users/4260745/codeyogi"}, "edited": false, "score": 0, "creation_date": 1504704334, "post_id": 46076026, "comment_id": 79114066, "body": "How would you mock <code>GenericService</code>?"}, {"owner": {"reputation": 1192, "user_id": 4260745, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eGr4R.png?s=128&g=1", "display_name": "CodeYogi", "link": "https://stackoverflow.com/users/4260745/codeyogi"}, "edited": false, "score": 0, "creation_date": 1504704971, "post_id": 46076026, "comment_id": 79114562, "body": "In that case it not a good coding practice, you should learn testing first."}], "tags": [], "owner": {"reputation": 7488, "user_id": 4074045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ea67fd9895934c41fbd75cce9356f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arg0n", "link": "https://stackoverflow.com/users/4074045/arg0n"}, "is_accepted": true, "score": 1, "last_activity_date": 1504706916, "last_edit_date": 1504706916, "creation_date": 1504703020, "answer_id": 46076026, "question_id": 46074457, "link": "https://stackoverflow.com/questions/46074457/handling-code-duplication-in-typescript-code/46076026#46076026", "title": "Handling code duplication in typescript code", "body": "<p>You could write a complex type if the classes are almost identical, and pass differences to the <code>constructor</code>. I wrote the following as an example:</p>\n\n<p><strong>Generic.Service.ts</strong></p>\n\n<pre><code>import { Http } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\n\nexport class GenericService&lt;T&gt; {\n    protected http: Http;\n\n    constructor(private TCreator: { new (properties: any): T }, private url: string) {}\n\n    public get(id: number): Observable&lt;T&gt; {\n        return this.requestSingle(`${id}`);\n    }\n\n    public getAll(): Observable&lt;T[]&gt; {\n        return this.requestMultiple('/all.json');\n    }\n\n    private requestSingle(addedUrl?: string): Observable&lt;T&gt; {\n        return this.request(addedUrl)\n        .map((response: Response) =&gt; new this.TCreator(response.json()));\n    }\n\n    private requestMultiple(addedUrl?: string): Observable&lt;T[]&gt; {\n        return this.request(addedUrl)\n        .map((response: Response) =&gt; {\n            const results: any = response.json();\n            for (let i = 0; i &lt; results.length; i++) {\n                results[i] = new this.TCreator(results[i]);\n            }\n            return results;\n        });\n    }\n\n    private request(addedUrl?: string): Observable&lt;any&gt; {\n        return this.http.get(this.url + (addedUrl ? addedUrl : ''));\n    }\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<p><strong>Vegetable.Service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport { GenericService } from './generic.service';\nimport { Vegetable } from '../app.component';\n\n@Injectable()\nexport class VegetableService extends GenericService&lt;Vegetable&gt; {\n    constructor(protected http: Http) {\n        super(Vegetable, '/vegetables');\n    }\n}\n</code></pre>\n\n<p><strong>Vegetable.ts</strong></p>\n\n<pre><code>interface IVegetable {\n  id: number;\n  name: string;\n  type: string;\n}\n\nexport class Vegetable implements IVegetable {\n  public id: number;\n  public name: string;\n  public type: string;\n\n  constructor(properties: IVegetable) {\n    this.id = properties.id;\n    this.name = properties.name;\n    this.type = properties.type;\n  }\n}\n</code></pre>\n\n<p><strong>Some.Component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\nimport { VegetableService } from './services/vegetable.service';\nimport { IVegetable } from '.components/vegetable.component';\n\n@Component({\n  selector: 'some-component',\n  templateUrl: './some.component.html'\n})\nexport class SomeComponent implements OnInit {\n  public vegetables: IVegetable[] = [];\n\n  constructor(private vegetableService: VegetableService) { ... }\n\n  public ngOnInit(): void {\n    ...\n    this.vegetableService.getAll().subscribe((result) =&gt; this.vegetables = result);\n    ...\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1192, "user_id": 4260745, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eGr4R.png?s=128&g=1", "display_name": "CodeYogi", "link": "https://stackoverflow.com/users/4260745/codeyogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 46076026, "answer_count": 2, "score": 0, "last_activity_date": 1504706916, "creation_date": 1504698578, "last_edit_date": 1504699110, "question_id": 46074457, "link": "https://stackoverflow.com/questions/46074457/handling-code-duplication-in-typescript-code", "title": "Handling code duplication in typescript code", "body": "<p>I am refactoring a poorly written Angular2 code which has service methods like:</p>\n\n<pre><code>  fooServiceName(body): Observable&lt;any&gt; {\n    let headers = new Headers();\n    this.loginService.writeAuthToHeaders(headers);\n    return this.http.put(this.loginService.url() + '/url', body, { headers: headers })\n    .map(response =&gt; response.json());\n  }\n\n  barResource(body): Observable&lt;any&gt; {\n    let headers = new Headers();\n    this.loginService.writeAuthToHeaders(headers);\n    return this.http.post(this.loginService.url() + '/url', body, { headers: headers })\n    .map(response =&gt; response.json());\n  }\n</code></pre>\n\n<p>I see that following lines are used repetitively at many places:</p>\n\n<pre><code>let headers = new Headers();\nthis.loginService.writeAuthToHeaders(headers);\n</code></pre>\n\n<p>I thought to write a separate method which would call these lines but the issue is that someone new to the project has to remember to call that method, is there any better approach?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Adding missing method definition:</p>\n\n<pre><code>  /** function to write username and password to local storage of browser*/\n  public writeAuthToHeaders(headers: Headers): void {\n    headers.append('Accept', 'application/json');\n    headers.append('Content-Type', 'application/json');\n    headers.append('Authorization', 'Basic ' + btoa(getUsername() + ':' + this.getPassword()));\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "primeng", "primeng-datatable"], "comments": [{"owner": {"reputation": 8376, "user_id": 5346095, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45ae60b0c535116b89c74f42242c3e81?s=128&d=identicon&r=PG&f=1", "display_name": "JS dev", "link": "https://stackoverflow.com/users/5346095/js-dev"}, "edited": false, "score": 0, "creation_date": 1504698675, "post_id": 46074455, "comment_id": 79109650, "body": "Check this out: <a href=\"https://stackoverflow.com/a/44455401/5346095\">stackoverflow.com/a/44455401/5346095</a>"}, {"owner": {"reputation": 364, "user_id": 2949292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60b5caff9db7e03e3f83cf9f21082e87?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/2949292/amit"}, "reply_to_user": {"reputation": 8376, "user_id": 5346095, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45ae60b0c535116b89c74f42242c3e81?s=128&d=identicon&r=PG&f=1", "display_name": "JS dev", "link": "https://stackoverflow.com/users/5346095/js-dev"}, "edited": false, "score": 0, "creation_date": 1504698902, "post_id": 46074455, "comment_id": 79109812, "body": "@Manu: Data is already passed from Parent to child but not the other way round as there is no means of communication like an event on the Child component."}, {"owner": {"reputation": 8376, "user_id": 5346095, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45ae60b0c535116b89c74f42242c3e81?s=128&d=identicon&r=PG&f=1", "display_name": "JS dev", "link": "https://stackoverflow.com/users/5346095/js-dev"}, "edited": false, "score": 0, "creation_date": 1504698995, "post_id": 46074455, "comment_id": 79109893, "body": "you should try Using Behavior Subjects from RxJS library"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1504699460, "post_id": 46074455, "comment_id": 79110182, "body": "try to use redux <code>ngrx-store</code> for state management and sharing data across."}], "answers": [{"tags": [], "owner": {"reputation": 1377, "user_id": 3342447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ekHO.jpg?s=128&g=1", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/3342447/abhishek-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1506542780, "creation_date": 1506542780, "answer_id": 46456366, "question_id": 46074455, "link": "https://stackoverflow.com/questions/46074455/angular-data-communication-to-and-from-components/46456366#46456366", "title": "Angular data communication to and from components", "body": "<p>You can use event emitter for this purpose AND this is most useful when communicating from child component to parent component.</p>\n\n<p>Example:-</p>\n\n<p><strong>P1 component:-</strong> </p>\n\n<pre><code>&lt;c1 (notifyParent)=\"notify(data)\"&gt;&lt;/c1&gt;\n&lt;c2 (notifyParent)=\"notify(data)\"&gt;&lt;/c1&gt;\n\nnotify(data) {\n    console.log(data); //notify parent\n}\n</code></pre>\n\n<p><strong>C1 component:-</strong> </p>\n\n<pre><code>@Output() notifyParent= new EventEmitter();\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>this.notifyParent.emit(data) //or notify with true value\n</code></pre>\n\n<p><strong>C2 component:-</strong> </p>\n\n<pre><code>@Output() notifyParent= new EventEmitter();\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>this.notifParent.emit(data) //or notify with true value\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 364, "user_id": 2949292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60b5caff9db7e03e3f83cf9f21082e87?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/2949292/amit"}, "is_accepted": true, "score": 1, "last_activity_date": 1510665638, "creation_date": 1510665638, "answer_id": 47286925, "question_id": 46074455, "link": "https://stackoverflow.com/questions/46074455/angular-data-communication-to-and-from-components/47286925#47286925", "title": "Angular data communication to and from components", "body": "<p>I was able to solve it using the <code>ViewChild</code> from <code>'@angular/core'</code> as there was no event trigger on the child components.\nThe parent can read the child attributes using the <code>@ViewChild(ChildComponent) child;</code>\nReference: <a href=\"https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/#Child-to-Parent-Sharing-Data-via-ViewChild\" rel=\"nofollow noreferrer\">Here</a></p>\n"}], "owner": {"reputation": 364, "user_id": 2949292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60b5caff9db7e03e3f83cf9f21082e87?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/2949292/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 1, "accepted_answer_id": 47286925, "answer_count": 2, "score": 1, "last_activity_date": 1510665638, "creation_date": 1504698573, "last_edit_date": 1504767881, "question_id": 46074455, "link": "https://stackoverflow.com/questions/46074455/angular-data-communication-to-and-from-components", "title": "Angular data communication to and from components", "body": "<p>I have a parent component (P1) and two child components(C1 and C2).\nBoth the child components have a primeng data-table which are editable.\nI have two buttons on P1 : <strong>fetch() and save()</strong>.\n<strong>fetch()</strong> calls the database to get the data.\nI'm using a shared service to fetch data and pass it down to the components using BehaviorSubject.\nMy data object looks like:</p>\n\n<pre><code>export interface ParentObj { name: string; child1 : Child1[]; child2: Child2[]}\nexport interface Child1 { weight: number;}\nexport interface Child2 { code: string;}\n</code></pre>\n\n<p>Child components subscribe to the data from the shared service.\nNow the issue is that the Child components also modify the data which they have.\nSo on click of <strong>save()</strong> on the P1, I am unable to get the latest modified values from the child components as I do not have any way of notifying P1 that C1 and/or C2 has changed the data.</p>\n\n<p>Is there a way to accomplish the same so that I could notify the child components when the <strong>save()</strong> is called and it reflects in the <strong>ParentObj</strong>?.</p>\n"}, {"tags": ["typescript", "internet-explorer", "webpack", "webpack-dev-server", "babeljs"], "comments": [{"owner": {"reputation": 12138, "user_id": 243103, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6c8ef2ca3f81839e3ef4f2c061313502?s=128&d=identicon&r=PG", "display_name": "Stefan Dragnev", "link": "https://stackoverflow.com/users/243103/stefan-dragnev"}, "edited": false, "score": 0, "creation_date": 1504709213, "post_id": 46074259, "comment_id": 79117807, "body": "The .html file could help pinpoint the issue."}, {"owner": {"reputation": 581, "user_id": 1409676, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9b354d4073a6c2e0988f6a6d8dfd7664?s=128&d=identicon&r=PG", "display_name": "Abhishek Shukla", "link": "https://stackoverflow.com/users/1409676/abhishek-shukla"}, "reply_to_user": {"reputation": 12138, "user_id": 243103, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6c8ef2ca3f81839e3ef4f2c061313502?s=128&d=identicon&r=PG", "display_name": "Stefan Dragnev", "link": "https://stackoverflow.com/users/243103/stefan-dragnev"}, "edited": false, "score": 0, "creation_date": 1504782085, "post_id": 46074259, "comment_id": 79150859, "body": "my index.html looks like this - &lt;script src=&quot;vendor.bundle.js&quot;&gt;&lt;/script&gt;     &lt;script src=&quot;main.bundle.js&quot;&gt;&lt;/script&gt;"}, {"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "edited": false, "score": 0, "creation_date": 1507812651, "post_id": 46074259, "comment_id": 80366540, "body": "@AbhishekShukla did you manage to solve this issue?"}], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 1226669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c5922998349b508d9097f10068b2a0?s=128&d=identicon&r=PG", "display_name": "Martin Vich", "link": "https://stackoverflow.com/users/1226669/martin-vich"}, "is_accepted": false, "score": 0, "last_activity_date": 1516806250, "creation_date": 1516806250, "answer_id": 48425603, "question_id": 46074259, "link": "https://stackoverflow.com/questions/46074259/ie-11-throwing-webpackjsonp-is-undefined/48425603#48425603", "title": "IE 11 - throwing &#39;webpackJsonp&#39; is undefined", "body": "<p>I was receiving same error after upgrading <code>uglifyjs-webpack-plugin</code> node module to version 1.1.2.\nGoing back to 0.4.6 solved this for me</p>\n\n<p>I don't see this module in your config but I hope this might help someone else googling this question</p>\n"}], "owner": {"reputation": 581, "user_id": 1409676, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9b354d4073a6c2e0988f6a6d8dfd7664?s=128&d=identicon&r=PG", "display_name": "Abhishek Shukla", "link": "https://stackoverflow.com/users/1409676/abhishek-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1927, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1516806250, "creation_date": 1504698051, "question_id": 46074259, "link": "https://stackoverflow.com/questions/46074259/ie-11-throwing-webpackjsonp-is-undefined", "title": "IE 11 - throwing &#39;webpackJsonp&#39; is undefined", "body": "<p>So, I am using webpack 2 + typescript + babel, everything is working fine in google chrome and firefox.</p>\n\n<p>But, when I am trying to open my app in IE11, it is throwing webpackJsonp is undefined.</p>\n\n<p>It looks like that I missing some configuration or any webpack plugin/presets is missing. </p>\n\n<p>My typescript and webpack configs are below:</p>\n\n<blockquote>\n  <p>tsconfig</p>\n</blockquote>\n\n<pre><code>{\n\"compilerOptions\": {\n    \"outDir\": \"./dist/\",\n    \"sourceMap\": true,\n    \"noImplicitAny\": false,\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"jsx\": \"react\",\n    \"allowSyntheticDefaultImports\": true,\n    \"baseUrl\": \".\",\n    \"paths\": {\n        \"*\": [\n            \"src/*\",\n            \"node_modules/*\"\n        ]\n    }\n},\n\"include\": [\n    \"./src/**/*\"\n]\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p>webpack.config</p>\n</blockquote>\n\n<pre><code>    require(\"babel-polyfill\");\n\nconst webpack = require(\"webpack\");\nconst { resolve } = require(\"path\");\nconst translationMerger  = require(\"./translation-merger\");\nconst { CheckerPlugin, TsConfigPathsPlugin } = require(\"awesome-typescript-loader\");\nconst WebpackPreBuildPlugin = require('pre-build-webpack');\nconst StyleLintPlugin = require('stylelint-webpack-plugin');\nconst WatchIgnorePlugin = require('watch-ignore-webpack-plugin');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\n\nmodule.exports = {\n\n    resolve: {\n        extensions: [\".webpack.js\", \".web.js\", \".ts\", \".tsx\", \".js\", \".jsx\", \".less\", \".css\", \".scss\"],\n        modules: [resolve(__dirname, 'src'), 'node_modules']\n    },\n    entry: {\n        main: [\"babel-polyfill\",\n        \"react-hot-loader/patch\", // activate HMR for React\n        \"webpack-dev-server/client?http://localhost:8080\",// bundle the client for webpack-dev-server and connect to the provided endpoint\n        \"webpack/hot/only-dev-server\", // bundle the client for hot reloading, only- means to only hot reload for successful updates\n        \"./index.tsx\"], // the entry point of our app\n        silentRenew: ['./silentRenew.ts']\n    },\n    output: {\n        filename:   '[name].bundle.js', // the output bundle\n        chunkFilename: '[name]-chunk.js',\n        path: resolve(__dirname, \"dist\"),\n        publicPath: \"/\" // necessary for HMR to know where to load the hot update chunks\n    },\n\n    context: resolve(__dirname, \"src\"),\n    devtool: \"source-map\",\n\n    devServer: {\n        hot: true, // enable HMR on the server\n        contentBase: resolve(__dirname, \"dist\"), // match the output path\n        historyApiFallback: true, // allow a web page to be served in place of any 404 responses\n        publicPath:  \"/\" // match the output `publicPath`\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.ts$/,\n                enforce: 'pre',\n                loader: 'tslint-loader',\n                options: { /* Loader options go here */ }\n            },\n            {\n                test: /\\.js$/,\n                use: [\"babel-loader\", \"source-map-loader\"],\n                exclude: /node_modules/\n            },\n            {\n                test: /\\.tsx?$/,\n                use: \"awesome-typescript-loader\",\n                exclude: [\n                    /node_modules/,\n                    /\\.spec|test.tsx?$/\n                ]\n            },\n            {\n                test: /\\.css$/,\n                loaders: [\"style-loader\", \"css-loader\"]\n            },\n            {\n                test: /\\.less$/,\n                use: ExtractTextPlugin.extract({\n                    fallback: 'style-loader',\n                    use: ['css-loader', 'less-loader']\n                })\n            },\n            {\n                test: /\\.(ttf|otf|eot|svg|woff(2)?)(\\?[a-z0-9]+)?$/,\n                loader: 'file-loader?name=fonts/[name].[ext]'\n            },\n\n            {\n                test: /\\.(jpe?g|png|gif|svg)$/i,\n                loader: \"file-loader?name=images/[name].[ext]\"\n            },\n            {\n                test: /\\.scss$/,\n                loaders: ['style-loader', 'css-loader', 'sass-loader']\n            }\n            // {\n            //     test:    /\\.(jpe?g|png|gif|svg)$/i,\n            //     loaders: [\n            //         'file-loader?limit=100000000&amp;hash=sha512&amp;digest=hex&amp;name=[hash].[ext]',\n            //         'image-webpack-loader?bypassOnDebug&amp;optipng.optimizationLevel=7&amp;gifsicle.interlaced=false'\n            //     ]\n            // }\n        ],\n    },\n\n    plugins: [\n        new webpack.LoaderOptionsPlugin({\n            debug: true\n        }),\n        new webpack.optimize.CommonsChunkPlugin({\n            name: 'vendor',\n            minChunks: function (module) {\n                // this assumes your vendor imports exist in the node_modules directory\n                return module.context &amp;&amp; (module.context.indexOf('node_modules') !== -1)\n            }\n        }),\n        new CheckerPlugin(),\n        // new StyleLintPlugin({\n        //     files: ['themes/dh-theme-2017/**/*.less'],\n        //     syntax: 'less'\n        // }),\n        new webpack.HotModuleReplacementPlugin(), // enable HMR globally\n        new webpack.NamedModulesPlugin(), // prints more readable module names in the browser console on HMR updates\n        new TsConfigPathsPlugin({ tsconfig: './tsconfig.json', compiler: 'typescript' }),\n\n        new ExtractTextPlugin('themes/dh/styles.css'),\n        new WebpackPreBuildPlugin((stats) =&gt; translationMerger(resolve(__dirname, 'src/services/localisation/'))),  // Merge translation files\n        new WatchIgnorePlugin([\n            resolve(__dirname, 'src/services/localisation/translations.json'), // Ignore translation json generated by the translation merge to avoid endless build loop\n        ]),\n        new CopyWebpackPlugin([\n            { from: resolve(__dirname, 'app.json') }, \n            { from: resolve(__dirname, 'app.deploy.json') }, \n            { from: resolve(__dirname, 'public/index.html') },])\n    ],\n    performance: {\n        hints: false\n    }\n};\n</code></pre>\n\n<p>Your help/tips is greatly appreciated!</p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 111, "user_id": 3219201, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WhRjm.png?s=128&g=1", "display_name": "zdimon77", "link": "https://stackoverflow.com/users/3219201/zdimon77"}, "edited": false, "score": 0, "creation_date": 1504769470, "post_id": 46074005, "comment_id": 79142447, "body": "@zdimon77 Glad to help, don&#39;t forget to mark as answered :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 4, "last_activity_date": 1504697216, "creation_date": 1504697216, "answer_id": 46074005, "question_id": 46073905, "link": "https://stackoverflow.com/questions/46073905/typescript-does-not-detect-generic-class/46074005#46074005", "title": "TypeScript does not detect generic class", "body": "<p>Typescript uses structural compatibility to determine type compatibility. So given your code, if <code>Dog</code> and <code>Cat</code> have these definitions </p>\n\n<pre><code>class Dog{ name: string }\nclass Cat{ name: string; lives: number }\n</code></pre>\n\n<p>Your code will work because <code>Cat</code> has all the fields of <code>Dog</code> and is thus compatible.</p>\n\n<p>If you defined the classes like this:</p>\n\n<pre><code>class Dog{ name: string; isAsGoodBoy: boolean }\nclass Cat{ name: string; lives: number }\n</code></pre>\n\n<p>Your code will no longer work, because <code>Dog</code> has fields <code>Cat</code> does not.</p>\n\n<p>A useful way to think about it if you are familiar with Javascript is that structural typing is the compile time version of duck typing.</p>\n"}], "owner": {"reputation": 111, "user_id": 3219201, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WhRjm.png?s=128&g=1", "display_name": "zdimon77", "link": "https://stackoverflow.com/users/3219201/zdimon77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504697216, "creation_date": 1504696867, "question_id": 46073905, "link": "https://stackoverflow.com/questions/46073905/typescript-does-not-detect-generic-class", "title": "TypeScript does not detect generic class", "body": "<p>I have such simple class where I am trying to constrain the type of the object inside my class using generic type (Dog in this case). I expect to see the compilation error here box.put(cat) because I pass the wrong type but unfortunately, I don`t see any.   </p>\n\n<pre><code>class Box&lt;T&gt;{\n    content: Array&lt;T&gt; = [];\n\n    put(animal: T){\n        this.content.push(animal);\n    }\n}\n\nvar dog = new Dog();\nvar cat = new Cat();\n\nvar box = new Box&lt;Dog&gt;();\nbox.put(cat);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "pug", "material-design-lite", "angular2-mdl"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1504697059, "post_id": 46073543, "comment_id": 79108536, "body": "I guess above code is in a different module than where you added <code>MdlModule</code> to <code>imports: [...]</code>. You need to add the module to imports in any module where you are using MDL directives."}, {"owner": {"reputation": 3419, "user_id": 4684539, "user_type": "registered", "accept_rate": 98, "profile_image": "https://graph.facebook.com/802633546458340/picture?type=large", "display_name": "AndreaM16", "link": "https://stackoverflow.com/users/4684539/andream16"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504699186, "post_id": 46073543, "comment_id": 79110022, "body": "I&#39;m importing <code>MdlModule</code> on <code>app.module.ts</code>, thus is available to that component. Honestly I have no idea of where and what I should import such directives."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1504700495, "post_id": 46073543, "comment_id": 79111038, "body": "Do you have other <code>@NgModule()</code>s?"}, {"owner": {"reputation": 3419, "user_id": 4684539, "user_type": "registered", "accept_rate": 98, "profile_image": "https://graph.facebook.com/802633546458340/picture?type=large", "display_name": "AndreaM16", "link": "https://stackoverflow.com/users/4684539/andream16"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1504701008, "post_id": 46073543, "comment_id": 79111438, "body": "Yes, I have a <code>pages.module.ts</code> where I import all the components I need. I tried to import <code>MdlModule</code> there and now everything works. Thanks for the hint, I also got it from <a href=\"https://stackoverflow.com/questions/39159792/angular2-app-module-with-root-level-imports/39186107#39186107\">this answer</a>. I edited my question to highlight that. If you want to post the answer you are welcome."}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1504701973, "last_edit_date": 1504701973, "creation_date": 1504696875, "answer_id": 46073908, "question_id": 46073543, "link": "https://stackoverflow.com/questions/46073543/template-parse-errors-there-is-no-directive-with-exportas-set-to-mdlbutton/46073908#46073908", "title": "Template parse errors: There is no directive with &quot;exportAs&quot; set to &quot;mdlButton&quot;", "body": "<p>Directives, components, and pipes from one module, used in another module must be added to imports (<code>@NgModule({ imports: [MdlModule], ...})</code>) of every module where they are used.<br>\nAdding it to imports of <code>AppModule</code> doesn't make them globally available.</p>\n\n<p>So, you'll have to remove <code>MdlModule</code> import from <code>app.module.ts</code> and import it into <code>pages.module.ts</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/39186107/4684539\">Here</a>'s a related answer as you mentioned and <a href=\"https://github.com/angular/material2/issues/1473\" rel=\"nofollow noreferrer\">here</a>'s a related issue on <a href=\"https://github.com/angular/material2\" rel=\"nofollow noreferrer\">angular/material2</a>.</p>\n"}], "owner": {"reputation": 3419, "user_id": 4684539, "user_type": "registered", "accept_rate": 98, "profile_image": "https://graph.facebook.com/802633546458340/picture?type=large", "display_name": "AndreaM16", "link": "https://stackoverflow.com/users/4684539/andream16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 46073908, "answer_count": 1, "score": 1, "last_activity_date": 1504702196, "creation_date": 1504695789, "last_edit_date": 1504702196, "question_id": 46073543, "link": "https://stackoverflow.com/questions/46073543/template-parse-errors-there-is-no-directive-with-exportas-set-to-mdlbutton", "title": "Template parse errors: There is no directive with &quot;exportAs&quot; set to &quot;mdlButton&quot;", "body": "<p>I'm building an application using <a href=\"https://github.com/mseemann/angular2-mdl\" rel=\"nofollow noreferrer\">angular2-mdl</a>. Everything works just fine except that all animations won't work. </p>\n\n<p>After looking the documentation available at the following <a href=\"http://mseemann.io/angular2-mdl/\" rel=\"nofollow noreferrer\">link</a>, I noticed that, for instance, if I want to toggle a specific menu after a click on a button I have to use a syntax like the following:</p>\n\n<pre><code>&lt;button mdl-button #btn1=\"mdlButton\" (click)=\"m1.toggle($event, btn1)\" mdl-button-type=\"icon\" mdl-ripple&gt;&lt;mdl-icon&gt;more_vert&lt;/mdl-icon&gt;&lt;/button&gt;\n&lt;mdl-menu #m1=\"mdlMenu\" mdl-menu-position=\"bottom-left\"&gt;\n   &lt;mdl-menu-item mdl-ripple (click)=\"action()\"&gt;Some Action&lt;/mdl-menu-item&gt;\n   &lt;mdl-menu-item mdl-ripple mdl-menu-item-full-bleed-divider&gt;Another Action&lt;/mdl-menu-item&gt;\n   &lt;mdl-menu-item mdl-ripple disabled&gt;Disabled Action&lt;/mdl-menu-item&gt;\n   &lt;mdl-menu-item&gt;Yet Another Action&lt;/mdl-menu-item&gt;\n&lt;/mdl-menu&gt;\n</code></pre>\n\n<p>Menu's documentation is available <a href=\"http://mseemann.io/angular2-mdl/menu\" rel=\"nofollow noreferrer\">here</a>.   </p>\n\n<p>Unfortunately, when I try to replicate the same behavior with the following code:</p>\n\n<pre><code>button(mdl-button, mdl-button-type='icon', '#morebtn'=\"mdlButton\" '(click)'=\"moremenu.toggle($event, morebtn)\")\n    mdl-icon more_vert\nmdl-menu(mdl-menu-position='bottom-right', '#moremenu'=\"mdlMenu\")\n    mdl-menu-item About\n    mdl-menu-item Contact\n    mdl-menu-item Legal Information\n</code></pre>\n\n<p>That gets compiled to:</p>\n\n<pre><code>&lt;button mdl-button=\"mdl-button\" mdl-button-type=\"icon\" #morebtn=\"mdlButton\" (click)=\"moremenu.toggle($event, morebtn)\"&gt;\n    &lt;mdl-icon&gt;more_vert&lt;/mdl-icon&gt;\n&lt;/button&gt;\n&lt;mdl-menu mdl-menu-position=\"bottom-right\" #moremenu=\"mdlMenu\"&gt;\n    &lt;mdl-menu-item&gt;About&lt;/mdl-menu-item&gt;\n    &lt;mdl-menu-item&gt;Contact&lt;/mdl-menu-item&gt;\n    &lt;mdl-menu-item&gt;Legal Information&lt;/mdl-menu-item&gt;\n&lt;/mdl-menu&gt;\n</code></pre>\n\n<p>I get the error I mentioned in the title. A full error trace is available at the following <a href=\"http://pasted.co/4ce535a7\" rel=\"nofollow noreferrer\">pasted.co log</a>.</p>\n\n<p>I experienced a similar issue in past with <code>ngForm</code> using <code>#f=\"ngForm\"</code> and I solved by importing <code>import { NgForm } from '@angular/forms';</code> on the component that threw that error.</p>\n\n<p>So I've been scratching my head for a while trying to import <code>mdlButton</code> and <code>mdlMenu</code> like</p>\n\n<pre><code>import { MdlButtonComponent } from '@angular-mdl/core/components/button/mdl-button.component';\nimport { MdlMenuComponent } from '@angular-mdl/core/components/menu/mdl-menu.component';\n</code></pre>\n\n<p>But the error persists.</p>\n\n<p>I have two modules:</p>\n\n<ul>\n<li><code>app.module.ts</code> : where I import <code>MdlModule</code> to make it available to the whole application</li>\n<li><code>pages.module.ts</code> : where I import all the components needed in pages</li>\n</ul>\n\n<p><strong>Why am I getting this even though I'm following the documentation? How can I fix this?</strong></p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-2017"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1504697808, "post_id": 46073476, "comment_id": 79109039, "body": "are you sure you have run <code>tns run android&#47;ios</code>? if the cli isnt using livesync, it wont recompile"}, {"owner": {"reputation": 11059, "user_id": 185123, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Fsyqo.jpg?s=128&g=1", "display_name": "spottedmahn", "link": "https://stackoverflow.com/users/185123/spottedmahn"}, "edited": false, "score": 0, "creation_date": 1504901656, "post_id": 46073476, "comment_id": 79210561, "body": "are you using the <a href=\"https://github.com/aspnet/JavaScriptServices\" rel=\"nofollow noreferrer\">spa templates</a>?  <a href=\"https://blogs.msdn.microsoft.com/webdev/2017/02/14/building-single-page-applications-on-asp-net-core-with-javascriptservices/#invoking-webpack-manually\" rel=\"nofollow noreferrer\">if so try</a> <code>webpack --config webpack.config.vendor.js</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4059, "user_id": 1289864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sg1kP.jpg?s=128&g=1", "display_name": "Ken Tucker", "link": "https://stackoverflow.com/users/1289864/ken-tucker"}, "is_accepted": false, "score": 0, "last_activity_date": 1504697649, "creation_date": 1504697649, "answer_id": 46074142, "question_id": 46073476, "link": "https://stackoverflow.com/questions/46073476/visual-studio-2017-suddenly-stopped-compiling-typescript/46074142#46074142", "title": "Visual Studio 2017 suddenly stopped compiling typescript?", "body": "<p>Make sure the typescript file is included in your tsconfig.json so it gets compiled</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8558486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1636959684a138571befa58fbdfdec05?s=128&d=identicon&r=PG&f=1", "display_name": "John Jacob", "link": "https://stackoverflow.com/users/8558486/john-jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1504697649, "creation_date": 1504695626, "question_id": 46073476, "link": "https://stackoverflow.com/questions/46073476/visual-studio-2017-suddenly-stopped-compiling-typescript", "title": "Visual Studio 2017 suddenly stopped compiling typescript?", "body": "<p>This was working until about two hours ago and nothing I've tried (from clean build to restarting my computer) has worked.</p>\n\n<p>Basically I am changing typescript but visual studio is still running the old typescript I had written ages ago. </p>\n\n<p>main-server.js is NOT changing which it used to and looking ta the javascript it looks like it's running some of the old code I had (looking up an old webapi service url).</p>\n\n<p>Any ideas how to fix this?</p>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "vuetify.js"], "answers": [{"comments": [{"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 0, "creation_date": 1504703419, "post_id": 46075055, "comment_id": 79113302, "body": "data doesn&#39;t have to be a function for the main vue instance. It only needs to be a function for things like mixins and components."}, {"owner": {"reputation": 3089, "user_id": 6429774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hUDKy.jpg?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/6429774/phil"}, "reply_to_user": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 0, "creation_date": 1504704485, "post_id": 46075055, "comment_id": 79114196, "body": "In this case your right. You can do that on a single instance, but it&#39;s not recommended. See this error: <code>[Vue warn]: The &quot;data&quot; option should be a function that returns a per-instance  value in component definitions.</code>. or this short post: <a href=\"https://vuejs.org/2016/02/06/common-gotchas/#Why-does-data-need-to-be-a-function\" rel=\"nofollow noreferrer\">vuejs.org/2016/02/06/common-gotchas/&hellip;</a> ... I will update my post."}, {"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 2, "creation_date": 1504704721, "post_id": 46075055, "comment_id": 79114381, "body": "Sure it&#39;s recommended for the vue instance to use an object for the data property rather than a function, in fact, none of the example sin the docs for creating a vue instance use a function for data.  reference: <a href=\"https://vuejs.org/v2/guide/instance.html\" rel=\"nofollow noreferrer\">vuejs.org/v2/guide/instance.html</a>  The [Vue warn] error message you cited is with regards to a component.  And in components it&#39;s very important to use a function for returning the data, but this does not apply to the main vue instance."}, {"owner": {"reputation": 131, "user_id": 3767794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81080c7ca20f1ed6527d05eee3b628?s=128&d=identicon&r=PG&f=1", "display_name": "DreamEvil", "link": "https://stackoverflow.com/users/3767794/dreamevil"}, "edited": false, "score": 0, "creation_date": 1504705301, "post_id": 46075055, "comment_id": 79114804, "body": "I&#39;m not sure that we discuss about one thing. I know that components have to use data like function, I wrote about scope. My IDE VS2017, when I try to use variables in &#39;methods&#39; like this  this.totalItem I get error (&#39;TS&#39;) Property &#39;totalItem&#39; does not exist in type Vue&#39; with method getData the same in &#39;mounted&#39;"}, {"owner": {"reputation": 3089, "user_id": 6429774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hUDKy.jpg?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/6429774/phil"}, "reply_to_user": {"reputation": 131, "user_id": 3767794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81080c7ca20f1ed6527d05eee3b628?s=128&d=identicon&r=PG&f=1", "display_name": "DreamEvil", "link": "https://stackoverflow.com/users/3767794/dreamevil"}, "edited": false, "score": 0, "creation_date": 1504708315, "post_id": 46075055, "comment_id": 79117104, "body": "@DreamEvil I&#39;ve updated my answer. Tested with VSCode and your tsconfig.json."}], "tags": [], "owner": {"reputation": 3089, "user_id": 6429774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hUDKy.jpg?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/6429774/phil"}, "is_accepted": false, "score": 0, "last_activity_date": 1504708247, "last_edit_date": 1504708247, "creation_date": 1504700328, "answer_id": 46075055, "question_id": 46073394, "link": "https://stackoverflow.com/questions/46073394/vue-with-typescript-without-components/46075055#46075055", "title": "Vue with TypeScript without components", "body": "<p>I've added an Interface to describe all data attributes and methods.\nAdd <code>this.getData();</code>/<code>this.$options.methods[\"getData\"].call(this);</code> and created an new vue instance.</p>\n\n<pre><code>import * as Vue from 'Vue';\nimport axios from 'axios';\n\ninterface AppInterface extends Vue {\n    drawer: boolean,\n    mini: boolean,\n    totalItems: number,\n    items: any,\n    headers: any,\n    getData (): void\n}\n\nvar App = {\n    el: \"#app\",\n    data: {\n        drawer: true,\n        mini: false,\n        totalItems: 0,\n        items: [],\n        headers: [{\n                text: 'Dessert (100g serving)',\n                align: 'left',\n                sortable: false,\n                value: 'name'\n            }, {\n                text: 'Calories',\n                value: 'calories'\n            }, {\n                text: 'Fat (g)',\n                value: 'fat'\n            }\n        ]\n    },\n    methods: {\n        getData() {\n            axios\n                .get(\"http://exmaple1234.com/api/list\")\n                .then((response) =&gt; {\n                    this.$data[\"totalItems\"] = 1;\n                    this.$data[\"items\"] = [\n                        {\n                            value: false,\n                            name: 'Frozen Yogurt',\n                            calories: 159,\u00a0\n                            fat: 6.0\n                        }\n                    ];  \n                })\n        }\n    },\n    mounted() {\n        // or this.$options.methods[\"getData\"].call(this);\n        this.getData();\n    }\n} as Vue.ComponentOptions&lt;AppInterface&gt;\n\n// new vue instance\nnew Vue(App);\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 3767794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81080c7ca20f1ed6527d05eee3b628?s=128&d=identicon&r=PG&f=1", "display_name": "DreamEvil", "link": "https://stackoverflow.com/users/3767794/dreamevil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1425, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504708247, "creation_date": 1504695348, "question_id": 46073394, "link": "https://stackoverflow.com/questions/46073394/vue-with-typescript-without-components", "title": "Vue with TypeScript without components", "body": "<p>I encountered with problem when develop application. I use Vue + Vuetify with typescript, but I don't want to create SPA application or use webpack for work with .vue components, I need to create several page, where I create each times new Vue instance. But when I create for example </p>\n\n<pre><code>import * as Vue from 'Vue';\nimport axios from 'axios';\n\n&lt;any&gt;window.vue = new Vue({\n    el: \"#app\",\n    data: {\n        drawer: true,\n        mini: false,\n        totalItems: 0,\n        items: [],\n        headers: [,\n            {\n                text: 'Dessert (100g serving)',\n                align: 'left',\n                sortable: false,\n                value: 'name'\n            },\n            { text: 'Calories', value: 'calories' },\n            { text: 'Fat (g)', value: 'fat' },\n        ],\n\n    },\nmethods: {\n\n    getData() {\n        axios.get(\"http://exmaple1234.com/api/list\")\n            .then((response) =&gt; {\n                this.$data[\"totalItems\"] = 1;\n                this.$data[\"items\"] = [\n                    {\n                        value: false,\n                        name: 'Frozen Yogurt',\n                        calories: 159,\n                        fat: 6.0,\n                    }\n                ];\n            })\n    }\n},\nmounted() {\n    this.$options.methods[\"getData\"].call(\"getData\");\n\n},\n});\n</code></pre>\n\n<p>My tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"alwaysStrict\": true,\n    \"noImplicitAny\": false,\n    \"noEmitOnError\": true,\n    \"removeComments\": true,\n    \"sourceMap\": false,\n    \"target\": \"es5\",\n    \"moduleResolution\": \"node\",\n    \"allowSyntheticDefaultImports\": true,\n    \"lib\": [ \"es2017\", \"dom\", \"dom.iterable\" ]\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"compileOnSave\": true\n}\n</code></pre>\n\n<p>With typescript I can't use this.totalItems, this.items and I can't call this.getData() in mounted(), but when I debug in browser my code, I see that object \"this\" has all these properties and methods. </p>\n\n<p>I use property $data[\"property\"] name and $options.methods[\"methodName\"] in order to work with it, but I understand that isn't correct approach. \nI read in Vue documentation about ComponentOptions which help to create interface or vue-class-component, but all these tools use components, which I want to avoid. </p>\n\n<p>Can I use vue + typescript in this case? I'd appreciate tips to my question</p>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1504694537, "post_id": 46072875, "comment_id": 79106814, "body": "Just curios what is the use-case for this. I cannot think of a situation where I would need to type something as <code>&quot;a&quot;|&quot;b&quot;</code> instead of the string <code>enum</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1504790890, "post_id": 46072875, "comment_id": 79157124, "body": "Yes, a use case would be helpful.  The type <code>MyEnum</code> is a subtype of the union you&#39;re looking for (<code>MyEnum</code> = <code>MyEnum.A | MyEnum.B</code> \u2282 <code>&quot;a&quot;|&quot;b&quot;</code>) but I can&#39;t find a way to coax the supertype out of the type system.  If you can post your use case we can maybe give you a solution that doesn&#39;t involve fighting with TypeScript."}, {"owner": {"reputation": 376, "user_id": 5241720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f86259ad296dfa70de00a54997c1aba8?s=128&d=identicon&r=PG&f=1", "display_name": "Troy Weber", "link": "https://stackoverflow.com/users/5241720/troy-weber"}, "edited": false, "score": 0, "creation_date": 1595877272, "post_id": 46072875, "comment_id": 111620949, "body": "Use case: <code>const value:MyEnum = &#39;a&#39;</code> fails and probably should not..."}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1606174443, "post_id": 46072875, "comment_id": 114877531, "body": "@TitianCernicova-Dragomir So, do you have any ideas on this?"}], "owner": {"user_type": "does_not_exist", "display_name": "user712850"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 755, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1523292631, "creation_date": 1504693668, "question_id": 46072875, "link": "https://stackoverflow.com/questions/46072875/convert-string-enum-type-to-union-type-of-enum-values", "title": "Convert string enum type to union type of enum values", "body": "<p>How can I get a union type of a typescript string enum?</p>\n\n<pre><code>enum MyEnum {\n  A = 'a', // Values are different from keys, so keyof will not help here.\n  B = 'b',\n}\n</code></pre>\n\n<p>Given an enum type like the one above, how can I get the union type \"a\" | \"b\" ?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 968, "user_id": 7394240, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-xgW2sNkZVWI/AAAAAAAAAAI/AAAAAAAAABI/e4PRS-Ub2-4/photo.jpg?sz=128", "display_name": "Dragomir Kolev", "link": "https://stackoverflow.com/users/7394240/dragomir-kolev"}, "edited": false, "score": 0, "creation_date": 1504692424, "post_id": 46072333, "comment_id": 79105359, "body": "You can use union types as described here: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>"}, {"owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "reply_to_user": {"reputation": 968, "user_id": 7394240, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-xgW2sNkZVWI/AAAAAAAAAAI/AAAAAAAAABI/e4PRS-Ub2-4/photo.jpg?sz=128", "display_name": "Dragomir Kolev", "link": "https://stackoverflow.com/users/7394240/dragomir-kolev"}, "edited": false, "score": 0, "creation_date": 1504692488, "post_id": 46072333, "comment_id": 79105405, "body": "union type with string clearly doesn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 0, "creation_date": 1504701977, "post_id": 46073470, "comment_id": 79112189, "body": "<code>React.ReactElement</code> is what returned from render function. What I need to pass to props is not <code>ReactElement</code> but <code>ReactComponent</code>."}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 0, "creation_date": 1504702159, "post_id": 46073470, "comment_id": 79112302, "body": "Show example of what you want to pass as value to <code>comp</code> property"}, {"owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 0, "creation_date": 1504702340, "post_id": 46073470, "comment_id": 79112438, "body": "Edited with how I pass a <code>Component</code> to <code>MyComponent</code>"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 0, "creation_date": 1504702784, "post_id": 46073470, "comment_id": 79112809, "body": "Then leave its declaration as it was: <code>comp: React.ComponentType&lt;T&gt; | string;</code> in the example I gave - it compiles just fine."}, {"owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 0, "creation_date": 1504702909, "post_id": 46073470, "comment_id": 79112899, "body": "It works, thanks. And sorry, my real code has <code>?</code> in the field with <code>strict</code> option in <code>compilerOptions</code>. But, your answer is a bit misleading. Could you update it before I accept?"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 1, "last_activity_date": 1504704129, "last_edit_date": 1504704129, "creation_date": 1504695621, "answer_id": 46073470, "question_id": 46072333, "link": "https://stackoverflow.com/questions/46072333/how-to-correctly-annotate-component-props-that-can-accept-component-or-string-as/46073470#46073470", "title": "How to correctly annotate component props that can accept Component or string as html tag?", "body": "<p>As mentioned by Dragomir - union types are the way to go. The code below compiles just fine.</p>\n\n<pre><code>interface MyComponentProps&lt;T&gt;\n{\n    comp: React.ComponentType&lt;T&gt; | string;\n}\n\nfunction MyComponent&lt;T&gt;({ comp: Component }: MyComponentProps&lt;T&gt;)\n{\n    return &lt;Component /&gt;;\n}\n\nfunction render()\n{\n    return &lt;MyComponent comp={Wrapper}/&gt;;\n}\n\nfunction render2()\n{\n    return &lt;MyComponent comp=\"div\"/&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 46073470, "answer_count": 1, "score": 0, "last_activity_date": 1504704129, "creation_date": 1504692188, "last_edit_date": 1504702298, "question_id": 46072333, "link": "https://stackoverflow.com/questions/46072333/how-to-correctly-annotate-component-props-that-can-accept-component-or-string-as", "title": "How to correctly annotate component props that can accept Component or string as html tag?", "body": "<p>How to correctly annotate component props that accept <code>Component</code> or string as html tag?</p>\n\n<p>For example, I have a component that can take custom Component (includes html tag like <code>div</code>, <code>p</code> etc.). It's written like this:</p>\n\n<pre><code>interface MyComponentProps&lt;T&gt; {\n    comp: React.ComponentType&lt;T&gt;\n}\n\nfunction MyComponent&lt;T&gt;({ comp: Component }: MyComponentProps&lt;T&gt;) {\n  return &lt;Component /&gt;\n}\n</code></pre>\n\n<p>Typescript doesn't complaint if I pass another component as <code>comp</code> props to <code>MyComponent</code> like this:</p>\n\n<pre><code>function Wrapper() {\n    return &lt;div /&gt;\n}\n\nfunction render() {\n    return &lt;MyComponent comp={Wrapper} /&gt;\n}\n</code></pre>\n\n<p>But, when I pass standard html tag like this:</p>\n\n<pre><code>function render() {\n  return &lt;MyComponent comp=\"div\"/&gt;\n}\n</code></pre>\n\n<p>typescript compiler complaints:</p>\n\n<pre><code>Type '{ comp: \"div\"; }' is not assignable to type 'IntrinsicAttributes &amp; MyComponentProps&lt;{}&gt;'.\n  Type '{ comp: \"div\"; }' is not assignable to type 'MyComponentProps&lt;{}&gt;'.\n    Types of property 'comp' are incompatible.\n      Type '\"div\"' is not assignable to type 'ComponentType&lt;{}&gt;'.\n</code></pre>\n\n<p>So, how can I annotate a component like <code>MyComponent</code> without using <code>any</code> type?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2456, "user_id": 1749165, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MVxNw.jpg?s=128&g=1", "display_name": "mumair", "link": "https://stackoverflow.com/users/1749165/mumair"}, "edited": false, "score": 0, "creation_date": 1526404387, "post_id": 46071685, "comment_id": 87727967, "body": "There is no need to have multiple signatures; That&#39;s what options parameter means. You have set the default type &#39;json&#39; you can change it to i.e. &#39;text&#39; while function invocation."}, {"owner": {"reputation": 157, "user_id": 6339211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/41840666d7847cc7c5b0728efe4565c1?s=128&d=identicon&r=PG&f=1", "display_name": "mac", "link": "https://stackoverflow.com/users/6339211/mac"}, "edited": false, "score": 0, "creation_date": 1597162518, "post_id": 46071685, "comment_id": 112041573, "body": "Were you able to write this service? If yes, can you please share your work? It will be helpful"}], "owner": {"reputation": 3872, "user_id": 2036211, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dPSbn.jpg?s=128&g=1", "display_name": "Lughino", "link": "https://stackoverflow.com/users/2036211/lughino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 922, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1504690490, "creation_date": 1504690490, "question_id": 46071685, "link": "https://stackoverflow.com/questions/46071685/wrap-httpclient-service-maintaining-the-typings", "title": "Wrap HttpClient service maintaining the typings", "body": "<p>I'm trying to create a wrapper for the HttpClient service for making some personalizations. <strong>I don't want to wrap some logic in interceptors</strong>, what I'm looking for is wrapping that service without loosing all the typings.</p>\n\n<p>this is the wrapper:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\n@Injectable()\n  export class RestApiService {\n  constructor(private http: HttpClient) {}\n\n  get&lt;T&gt;(url: string, options?) {\n    return this.http.get&lt;T&gt;(url, options);\n  }\n}\n</code></pre>\n\n<p>this is the implementation:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { EndpointService } from '../endpoint.service';\nimport { HttpParams } from '@angular/common/http';\nimport { RestApiService } from '../rest-api.service';\n\ntype Product = {\n  id: string;\n  name: string;\n};\n\n@Injectable()\nexport class ProductService {\n\n  constructor(private restApi: RestApiService, private endPoint: EndpointService) {}\n\n  getThings(sku) {\n    const params = new HttpParams()\n      .set('ref', sku);\n\n    return this.restApi.get&lt;Product&gt;(this.endPoint.ratings, {params: params});\n  }\n}\n</code></pre>\n\n<p>Then in my component:</p>\n\n<pre><code>ngOnInit() {\n  this.productService.getThings(this.sku).subscribe(data =&gt; {\n    data\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>In this way <code>data</code> is an <code>ArrayBuffer</code> because typescript seems to point to this signature of HttpClient:</p>\n\n<pre><code>get(url: string, options: {\n    headers?: HttpHeaders;\n    observe?: 'body';\n    params?: HttpParams;\n    reportProgress?: boolean;\n    responseType: 'arraybuffer';\n    withCredentials?: boolean;\n}): Observable&lt;ArrayBuffer&gt;;\n</code></pre>\n\n<p>But should point to this signature:</p>\n\n<pre><code>get&lt;T&gt;(url: string, options: {\n    headers?: HttpHeaders;\n    observe?: 'body';\n    params?: HttpParams;\n    reportProgress?: boolean;\n    responseType?: 'json';\n    withCredentials?: boolean;\n}): Observable&lt;T&gt;;\n</code></pre>\n\n<p>How can I point to the correct signature?\nAlso if I pass different options should I point to the correct signature, so if I pass as option <code>responseType: 'text'</code> I should point to the correct signature:</p>\n\n<pre><code>get(url: string, options: {\n    headers?: HttpHeaders;\n    observe?: 'body';\n    params?: HttpParams;\n    reportProgress?: boolean;\n    responseType: 'text';\n    withCredentials?: boolean;\n}): Observable&lt;string&gt;;\n</code></pre>\n\n<p>How can I solve this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1504711640, "post_id": 46071499, "comment_id": 79119592, "body": "Just to be clear - this is a Angular vs. jQuery difference, not a TypeScript vs.  JavaScript difference,"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6891273, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/dde116bc1e07a259c321d09cbd8b1ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Domy", "link": "https://stackoverflow.com/users/6891273/domy"}, "edited": false, "score": 0, "creation_date": 1504767883, "post_id": 46077817, "comment_id": 79141426, "body": "Tried it and it says: Type &#39;Headers&#39; is not assignable to type &#39;Headers&#39;/ Two different types with this name exist, but they are unrelated. Property &#39;keys&#39; is missing in type &#39;Headers&#39;."}, {"owner": {"reputation": 960, "user_id": 7199563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e6b136e9fe378761c06ed1e91cfc0d6?s=128&d=identicon&r=PG&f=1", "display_name": "hagner", "link": "https://stackoverflow.com/users/7199563/hagner"}, "reply_to_user": {"reputation": 71, "user_id": 6891273, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/dde116bc1e07a259c321d09cbd8b1ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Domy", "link": "https://stackoverflow.com/users/6891273/domy"}, "edited": false, "score": 0, "creation_date": 1504769310, "post_id": 46077817, "comment_id": 79142341, "body": "Then you have a type mismatch, check your imports. The headers class should be imported from &#39;@angular/http&#39;. If you cant figure it out then add the code to the question and I can take a look"}], "tags": [], "owner": {"reputation": 960, "user_id": 7199563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e6b136e9fe378761c06ed1e91cfc0d6?s=128&d=identicon&r=PG&f=1", "display_name": "hagner", "link": "https://stackoverflow.com/users/7199563/hagner"}, "is_accepted": false, "score": 0, "last_activity_date": 1504707990, "creation_date": 1504707990, "answer_id": 46077817, "question_id": 46071499, "link": "https://stackoverflow.com/questions/46071499/typescript-equivalent-of-beforesend-in-javascript/46077817#46077817", "title": "Typescript equivalent of beforesend in Javascript", "body": "<p>The setRequestHeader method set headers that are sent along with your request. The way this done in Ionic/Angular is to add a header object to the requestoptions parameters: </p>\n\n<pre><code>let opts: RequestOptionsArgs = {};\nlet headers = new Headers();\n\nheaders.append('X-WP-Nonce', nonce);\nopts.headers = headers;\n\nreturn this.http.post(fullPath, requestBody, opts)\n    .map(this.extractData)\n    .catch(this.handleError);\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6891273, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/dde116bc1e07a259c321d09cbd8b1ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Domy", "link": "https://stackoverflow.com/users/6891273/domy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1504707990, "creation_date": 1504689946, "question_id": 46071499, "link": "https://stackoverflow.com/questions/46071499/typescript-equivalent-of-beforesend-in-javascript", "title": "Typescript equivalent of beforesend in Javascript", "body": "<p>I'm trying to post a comment in my ionic app via wordpress api but it says error 401 (unauthorized) meaning Wordpress api thinks I am not logged in..</p>\n\n<p>My code: </p>\n\n<pre><code>postComment(params?: any) {\nlet nonce = localStorage.getItem('nonce');\nlet seq = this.api.post('wp', 'comments', \"post=\"+ params.post+ \"&amp;author_name=\"+params.author_name+\"&amp;author=\"+params.author+\"&amp;author_email=myemail@gmail.com&amp;content=something\").share();\n  seq\n    .map(res =&gt; res.json())\n    .subscribe(res =&gt; {\n    }, err =&gt; {\n      console.error('ERROR', err);\n    });\n  return seq;\n</code></pre>\n\n<p>}</p>\n\n<p>In my research it said that I have to send the nonce and I can do it like this: </p>\n\n<pre><code>.ajax( {\n   url: wpApiSettings.root + 'wp/v2/posts/1',\n   method: 'POST',\n   beforeSend: function ( xhr ) {\n   xhr.setRequestHeader( 'X-WP-Nonce', wpApiSettings.nonce );\n  },\n    data:{\n      'title' : 'Hello Moon'\n  }\n   }).done( function ( response ) {\n});\n</code></pre>\n\n<p>How can I do this in typescript? How does one put a beforeSend function xhr.setRequestHeader in typescript form?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 580, "user_id": 4599620, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OsmBS.jpg?s=128&g=1", "display_name": "Wing Choy", "link": "https://stackoverflow.com/users/4599620/wing-choy"}, "edited": false, "score": 0, "creation_date": 1504770148, "post_id": 46073638, "comment_id": 79142869, "body": "Thanks a lot! it works perfectly. May I know what&#39;s the problem of my code?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 580, "user_id": 4599620, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OsmBS.jpg?s=128&g=1", "display_name": "Wing Choy", "link": "https://stackoverflow.com/users/4599620/wing-choy"}, "edited": false, "score": 0, "creation_date": 1504772337, "post_id": 46073638, "comment_id": 79144248, "body": "Well, you have some strange thing going on there, using a <code>features</code> array. You are deleting items from the <code>features</code> array as, not actually the formarray, so that is &#39;messing up it. You don&#39;t need the <code>features</code> array at all, so I don&#39;t know why you are using it :)"}, {"owner": {"reputation": 580, "user_id": 4599620, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OsmBS.jpg?s=128&g=1", "display_name": "Wing Choy", "link": "https://stackoverflow.com/users/4599620/wing-choy"}, "edited": false, "score": 0, "creation_date": 1504777524, "post_id": 46073638, "comment_id": 79147746, "body": "I got it now :P Thank you for the explanation :) After reading your answer, I just find out that the <code>features</code> is useless, haha"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 1, "last_activity_date": 1504696038, "creation_date": 1504696038, "answer_id": 46073638, "question_id": 46071034, "link": "https://stackoverflow.com/questions/46071034/select-box-not-updating-the-ui-after-remove-control-of-reactive-form/46073638#46073638", "title": "Select box not updating the UI after remove control of reactive form", "body": "<p>I would make some changes to your code. I would send the whole formarray to the child component and iterate it there. As objects are mutable in JS, you don't need an <code>EventEmitter</code>, but you can perform the deletion in child without emitting anything to parent.</p>\n\n<p>So in this case, since you don't have a nested form group, pass the whole form to child:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;feature-input [featureTypes]=\"featureTypes\" [formGroup]=\"formDOM\"&gt;&lt;/feature-input&gt;\n</code></pre>\n\n<p>Make the appropriate changes to the input fields, and then your child template would look like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div [formGroup]=\"formGroup\"&gt;\n  &lt;div class=\"feature-input\" formArrayName=\"feature\"&gt;\n    &lt;div *ngFor=\"let ctrl of formGroup.controls.feature.controls; let i = index\" [formGroupName]=\"i\"&gt;\n      &lt;select formControlName=\"type\"&gt;\n      &lt;option value=\"\" disabled&gt;-- Select Feature Type --&lt;/option&gt;\n      &lt;option *ngFor=\"let type of featureTypes\" [value]=\"type.id\"&gt;{{ type.name }}&lt;/option&gt;\n      &lt;/select&gt;\n      &lt;button (click)=\"removeFeature(i)\"&gt;Remove&lt;/button&gt;    \n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In <code>removeFeature</code> we just pass the index of the form group and use the function <code>removeAt</code>, which is available for form arrays:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>removeFeature(index) {\n  this.formGroup.controls.feature.removeAt(index)\n}\n</code></pre>\n\n<p>That's it! Here's a DEMO: <a href=\"https://plnkr.co/edit/kZComoNNfsbCjmVnGt1F?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/kZComoNNfsbCjmVnGt1F?p=preview</a></p>\n"}], "owner": {"reputation": 580, "user_id": 4599620, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OsmBS.jpg?s=128&g=1", "display_name": "Wing Choy", "link": "https://stackoverflow.com/users/4599620/wing-choy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1413, "favorite_count": 0, "accepted_answer_id": 46073638, "answer_count": 1, "score": 1, "last_activity_date": 1517934511, "creation_date": 1504688725, "last_edit_date": 1517934511, "question_id": 46071034, "link": "https://stackoverflow.com/questions/46071034/select-box-not-updating-the-ui-after-remove-control-of-reactive-form", "title": "Select box not updating the UI after remove control of reactive form", "body": "<p>Here I am using <code>\"@angular/cli\": \"1.2.6\"</code>, <code>\"@angular/core\": \"^4.0.0\"</code>  </p>\n\n<p><strong>What I want to do</strong><br>\nI am trying to make a reactive form of a product with feature input. Inside the form, if user click the \"add feature\" button, a new feature column including a select box of \"type\" will appear. And once the user click the \"remove\" button inside the feature column, that feature column will be removed.</p>\n\n<p><strong>What problem I met</strong><br>\nThe problem is when I try to remove a feature column in between the first and the last feature column, the formControl is successfully updated with the correct value. However, the UI of the select box of that removed feature column will pass to the next feature column upcoming.</p>\n\n<p><strong>What I expect to have</strong><br>\nOnce the target feature column removed, the UI of the upcoming feature column will go up with the correct value.</p>\n\n<p><strong>Sample</strong><br>\n1. I try to remove the second feature column.\n<a href=\"https://i.stack.imgur.com/fN3i1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fN3i1.png\" alt=\"enter image description here\"></a>\n2. formControl successfully removed the second feature. The second feature column in UI is successfully removed. However, the third feature column goes up and replaces the space with the select box's value of the removed feature. \n<a href=\"https://i.stack.imgur.com/MYMKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYMKM.png\" alt=\"enter image description here\"></a></p>\n\n<p>my code is as follow:</p>\n\n<p><strong>product-form.component.ts</strong></p>\n\n<pre><code>formDOM;\nfeatures = [];\nfeatureTypes = [\n  { id: \"pros\", name: \"pros\" },\n  { id: \"cons\", name: \"cons\" }];\n\nngOnInit() {\n  this.formDOM = this.formBuilder.group({\n    // Have other field....\n    feature: this.formBuilder.array([])\n  });\n}\n\npatchSingleFeature(feature: object): FormGroup {\n  let returnObject = this.formBuilder.group({\n    type: (feature &amp;&amp; feature['type'])\n    // some other field also....\n  });\n\n  this.features.push(\"feature\");\n  return returnObject;\n}\n\naddFeature(): void {\n  let featureControl = &lt;FormArray&gt;this.formDOM.controls['feature'];\n  featureControl.push(this.patchSingleFeature(new Feature()));\n}\n\nremoveFeature(x: number): void {\n  let numberOfFeature = this.features.length;\n  let featureControl = &lt;FormArray&gt;this.formDOM.controls['feature'];\n  featureControl.controls.splice(x, 1);\n  this.features.splice(x, 1);\n}\n</code></pre>\n\n<p><strong>product-form.component.html</strong></p>\n\n<pre><code>&lt;div class=\"form\" [formGroup]=\"formDOM\"&gt;\n  &lt;div class=\"col-xs-12\"&gt;Features&lt;/div&gt;\n  &lt;div *ngFor=\"let feature of features; let x = index; \"&gt;\n    &lt;feature-input [x]=\"x\" [featureTypes]=\"featureTypes\" [form]=\"formDOM\" (clickEvent)=\"removeFeature($event)\"&gt;&lt;/feature-input&gt;\n  &lt;/div&gt;\n  &lt;button (click)=\"addFeature()\"&gt;Add Feature&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>feature-input.component.html</strong>  </p>\n\n<pre><code>&lt;div class=\"feature-input\" [formGroup]=\"form\"&gt;\n  &lt;div formArrayName=\"feature\"&gt;\n    &lt;div [formGroupName]=\"x\"&gt;\n      &lt;select formControlName=\"type\"&gt;\n        &lt;option value=\"\" disabled&gt;-- Select Feature Type --&lt;/option&gt;\n        &lt;option *ngFor=\"let type of featureTypes\" [value]=\"type.id\"&gt;{{ type.name }}&lt;/option&gt;\n      &lt;/select&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>feature-input.component.ts</strong></p>\n\n<pre><code>@Input() form: FormGroup;\n@Input() featureTypes: Array&lt;object&gt;;\n@Input() x: number;\n@Output() clickEvent new EventEmitter&lt;number&gt;();\n\nremoveFeature(x) { this.clickEvent.emit(x); }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 1, "creation_date": 1504688694, "post_id": 46070957, "comment_id": 79102569, "body": "<code>this wont load and gives errors</code> .....what errors?"}, {"owner": {"reputation": 3777, "user_id": 6944107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j9MKk.jpg?s=128&g=1", "display_name": "Orlandster", "link": "https://stackoverflow.com/users/6944107/orlandster"}, "edited": false, "score": 0, "creation_date": 1504689188, "post_id": 46070957, "comment_id": 79102967, "body": "Can you also provide the <code>getUserProfile()</code> function?"}], "answers": [{"comments": [{"owner": {"reputation": 1584, "user_id": 1215485, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/26b375a94cd47413fd871ed1be38f4c7?s=128&d=identicon&r=PG", "display_name": "Shruti Nair", "link": "https://stackoverflow.com/users/1215485/shruti-nair"}, "edited": false, "score": 0, "creation_date": 1504689079, "post_id": 46071121, "comment_id": 79102889, "body": "Thank You ! That helped."}], "tags": [], "owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "is_accepted": true, "score": 2, "last_activity_date": 1504688933, "creation_date": 1504688933, "answer_id": 46071121, "question_id": 46070957, "link": "https://stackoverflow.com/questions/46070957/how-to-refresh-a-component-when-it-becomes-visible-in-angular/46071121#46071121", "title": "How to refresh a component when it becomes visible in angular", "body": "<p>I wouldn't call <code>ngOnInit</code> a method. Its a life-cycle hook and in it you call methods. </p>\n\n<p>But from what I see, you probably need to initialize data in <code>ngAfterViewInit</code> hook. So:</p>\n\n<pre><code>ngAfterViewInit(){\n this.userProfile = this.userServ.getUserProfile();\n}\n</code></pre>\n"}], "owner": {"reputation": 1584, "user_id": 1215485, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/26b375a94cd47413fd871ed1be38f4c7?s=128&d=identicon&r=PG", "display_name": "Shruti Nair", "link": "https://stackoverflow.com/users/1215485/shruti-nair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1574, "favorite_count": 1, "accepted_answer_id": 46071121, "answer_count": 1, "score": 3, "last_activity_date": 1505733597, "creation_date": 1504688548, "last_edit_date": 1505733597, "question_id": 46070957, "link": "https://stackoverflow.com/questions/46070957/how-to-refresh-a-component-when-it-becomes-visible-in-angular", "title": "How to refresh a component when it becomes visible in angular", "body": "<p>In my Angular 4.3.0 application the header,left and right panel are hidden in the login page.\nThey become visible only when the login is successful.\nThe problem is that when the components become visible the data is not pre loaded.\nThe ngOnInit method is called when they are first loaded and this results in lots of errors as the data has not properly loaded before login</p>\n\n<p>How can i resolve this as i want to load the components or refresh them once login is successful.</p>\n\n<p>Below is the App-Component.html</p>\n\n<pre><code>&lt;loading-bar color=\"#FF0000\" [height]=\"3\" [animationTime]=\"0.3\" [runInterval]=\"100\" [progress]=\"0\"&gt;&lt;/loading-bar&gt;\n&lt;div class=\"app app-header-fixed\" value=\"test\"&gt;\n    &lt;app-header *ngIf=\"header\"&gt;&lt;/app-header&gt;\n\n    &lt;app-left-menu *ngIf=\"leftmenu\"&gt;&lt;/app-left-menu&gt;\n    &lt;div id=\"content\" class=\"app-content plain_wraper\" role=\"main\"&gt;\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\n    &lt;/div&gt;\n\n    &lt;app-right-menu *ngIf=\"rightmenu\"&gt;&lt;/app-right-menu&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>For example in the app-header component inside the ngOnInit method we get the profile of the user</p>\n\n<pre><code>this.userProfile = this.userServ.getUserProfile();\n</code></pre>\n\n<p>But this wont load and gives errors.\nSo how can i get this profile data to load once the component is visible?</p>\n\n<p>Should i subscribe to the visiblity params and load profile once the component is visible?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 2, "creation_date": 1504687660, "post_id": 46070621, "comment_id": 79101856, "body": "And what is a definition of <code>getdefaultscore()</code> ?"}, {"owner": {"reputation": 6476, "user_id": 4152052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf629486885a0dae16fa0cc72d315984?s=128&d=identicon&r=PG", "display_name": "Fetrarij", "link": "https://stackoverflow.com/users/4152052/fetrarij"}, "edited": false, "score": 0, "creation_date": 1504687748, "post_id": 46070621, "comment_id": 79101903, "body": "How do you declare this.points? <code>points: number</code> ?"}, {"owner": {"reputation": 916, "user_id": 3615004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFzce.png?s=128&g=1", "display_name": "amyogiji", "link": "https://stackoverflow.com/users/3615004/amyogiji"}, "edited": false, "score": 0, "creation_date": 1504687749, "post_id": 46070621, "comment_id": 79101906, "body": "are you using points: number; or points = number"}, {"owner": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "reply_to_user": {"reputation": 6476, "user_id": 4152052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf629486885a0dae16fa0cc72d315984?s=128&d=identicon&r=PG", "display_name": "Fetrarij", "link": "https://stackoverflow.com/users/4152052/fetrarij"}, "edited": false, "score": 0, "creation_date": 1504688757, "post_id": 46070621, "comment_id": 79102631, "body": "@Fetra R yes bro"}, {"owner": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "reply_to_user": {"reputation": 916, "user_id": 3615004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFzce.png?s=128&g=1", "display_name": "amyogiji", "link": "https://stackoverflow.com/users/3615004/amyogiji"}, "edited": false, "score": 0, "creation_date": 1504688789, "post_id": 46070621, "comment_id": 79102656, "body": "@amyogiji I am using points:number"}, {"owner": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504688838, "post_id": 46070621, "comment_id": 79102693, "body": "@Aleksey L. bro but it returns number and typeof it also number"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1504689011, "post_id": 46070621, "comment_id": 79102817, "body": "@vSugumar I see the results at runtime. But what is a definition of return type of <code>this.authService.getdefaultscore()</code>? It must be <code>Promise&lt;OfSomething&gt;</code> I believe"}, {"owner": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504689218, "post_id": 46070621, "comment_id": 79102992, "body": "@Aleksey I updated my question, you can now see the definition of getdefaultscore"}, {"owner": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504690222, "post_id": 46070621, "comment_id": 79103774, "body": "thank you bro  @Aleksey L"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504691780, "post_id": 46070621, "comment_id": 79104901, "body": "@vSugumar You&#39;re welcome"}], "answers": [{"comments": [{"owner": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "edited": false, "score": 0, "creation_date": 1504689453, "post_id": 46071247, "comment_id": 79103172, "body": "I tried parseFloat(resolve) but it throwed a different error"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "edited": false, "score": 0, "creation_date": 1504689629, "post_id": 46071247, "comment_id": 79103310, "body": "Edited the answer, you just need to type the promise to number"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "edited": false, "score": 0, "creation_date": 1504689719, "post_id": 46071247, "comment_id": 79103395, "body": "That is assuming the returned json is just a single number, but that is a different problem, if data is a more complex object <code>pareseFloat</code> will fail in other ways"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1504727517, "last_edit_date": 1504727517, "creation_date": 1504689253, "answer_id": 46071247, "question_id": 46070621, "link": "https://stackoverflow.com/questions/46070621/typescript-error-type-is-not-assignable-to-type-number/46071247#46071247", "title": "Typescript Error: Type &#39;{}&#39; is not assignable to type &#39;number&#39;", "body": "<p>Th problem is in <code>getdefaultscore</code> which returns a <code>Promise&lt;{}&gt;</code> ideally you should change it to return a <code>Promise&lt;number&gt;</code>. Since you do not provide the code for <code>getdefaultscore</code> it is difficult to say what change you should make there. To solve the problem on the caller side you can manually type the result :</p>\n\n<pre><code>declare function getdefaultscore(): Promise&lt;{}&gt;; // Dummy declaration \nvar points : number;\nfunction x() {\n  getdefaultscore().then((result: number)=&gt;{\n    points = result;\n  },\n  (err)=&gt;{\n  })\n}\n</code></pre>\n\n<p>Another version you can consider in Typescript is using async/await to simplify your <code>Promise</code> code: </p>\n\n<pre><code>async function x2() {\n  try {\n    points = &lt;number&gt;await getdefaultscore()\n  } catch (ex) {\n\n  }\n}\n</code></pre>\n\n<p>Edit: You added the <code>getdefaultscore</code> after the original answer. Since you create the promis manually, you just need to type it to <code>Promise&lt;number&gt;</code>.</p>\n"}], "owner": {"reputation": 3486, "user_id": 4219542, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10208170496366442/picture?type=large", "display_name": "Sugumar Venkatesan", "link": "https://stackoverflow.com/users/4219542/sugumar-venkatesan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1939, "favorite_count": 1, "accepted_answer_id": 46071247, "answer_count": 1, "score": 1, "last_activity_date": 1504727517, "creation_date": 1504687523, "last_edit_date": 1504689165, "question_id": 46070621, "link": "https://stackoverflow.com/questions/46070621/typescript-error-type-is-not-assignable-to-type-number", "title": "Typescript Error: Type &#39;{}&#39; is not assignable to type &#39;number&#39;", "body": "<p>I have referred other answers but could not solve my problem </p>\n\n<pre><code>console.log(`home.ts : ${result} : ${typeof result},${typeof this.points}`);\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>home.ts : 50 : number,number\n</code></pre>\n\n<p>but this line </p>\n\n<pre><code> this.points = result;\n</code></pre>\n\n<p>throws the following error:</p>\n\n<blockquote>\n  <p>Typescript Error: Type '{}' is not assignable to type 'number'.</p>\n</blockquote>\n\n<p>full function </p>\n\n<pre><code>getdefaultscore(){\n  this.authService.getdefaultscore().then(\n    (result)=&gt;{\n      console.log(`home.ts : ${result} : ${typeof result},${typeof this.points}`);\n      this.points = result;\n    },\n    (err)=&gt;{\n      this.authService.alertnointernetconnection();\n    }\n  )\n}\n</code></pre>\n\n<p><code>this.points</code> is defined as number.</p>\n\n<p>definition of getdefaultscore()</p>\n\n<pre><code>  getdefaultscore(){\n    return new Promise((resolve, reject)=&gt;{\n        let headers = new Headers();\n        headers.append('Content-Type','application/json');\n        this.http.post('mysite.com/ionuserpoint.php',JSON.stringify({defaultpoints:true}),headers)\n        .subscribe(\n            (res) =&gt;{\n                let data = res.json();\n                data = parseFloat(data);\n                alert(`defaults points : ${data}`);\n                resolve(data);\n            },\n            (err) =&gt;{\n              reject(err);\n            }\n        );\n    });\n  }\n</code></pre>\n\n<p>I remove <a href=\"http://www\" rel=\"nofollow noreferrer\">http://www</a> before mysite.com because stackoverflow throws some error.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1504687543, "post_id": 46070609, "comment_id": 79101774, "body": "please add <code>FormControlInput</code> as well."}, {"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1504687699, "post_id": 46070609, "comment_id": 79101875, "body": "What does <code>FormControlInput</code> return?"}, {"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 0, "creation_date": 1504687759, "post_id": 46070609, "comment_id": 79101910, "body": "Obviously, <code>FormControlInput</code> just return an object."}, {"owner": {"reputation": 4341, "user_id": 2621579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/60f948926e993b4fc5fdaee980d88c47?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Shahzad", "link": "https://stackoverflow.com/users/2621579/ali-shahzad"}, "edited": false, "score": 0, "creation_date": 1504687808, "post_id": 46070609, "comment_id": 79101943, "body": "Yes simple TypeScript class."}, {"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "reply_to_user": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 0, "creation_date": 1504687815, "post_id": 46070609, "comment_id": 79101946, "body": "@Cerbrus I commented when it wasn&#39;t clear."}, {"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "reply_to_user": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1504687885, "post_id": 46070609, "comment_id": 79101981, "body": "@evolutionxbox: Look at his output examples. They&#39;re just objects."}], "answers": [{"comments": [{"owner": {"reputation": 4341, "user_id": 2621579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/60f948926e993b4fc5fdaee980d88c47?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Shahzad", "link": "https://stackoverflow.com/users/2621579/ali-shahzad"}, "edited": false, "score": 0, "creation_date": 1504687892, "post_id": 46070664, "comment_id": 79101985, "body": "But why this is happening?"}, {"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "reply_to_user": {"reputation": 4341, "user_id": 2621579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/60f948926e993b4fc5fdaee980d88c47?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Shahzad", "link": "https://stackoverflow.com/users/2621579/ali-shahzad"}, "edited": false, "score": 0, "creation_date": 1504688234, "post_id": 46070664, "comment_id": 79102210, "body": "<code>controls</code> is an array of objects. I&#39;ve added a simplified example. I hope this makes it a little easier to visualize what&#39;s happening."}, {"owner": {"reputation": 3635, "user_id": 4763083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RtWMZ.png?s=128&g=1", "display_name": "jonahe", "link": "https://stackoverflow.com/users/4763083/jonahe"}, "edited": false, "score": 0, "creation_date": 1504691085, "post_id": 46070664, "comment_id": 79104427, "body": "I think what&#39;s missing is an explanation  of  <code>Array.prototype.apply</code>, and how it takes arguments as an array.  So in the end, the call becomes something similar to spreading the mapped array, like so: <code>var flattened = Array.prototype.concat([], ...mapped)</code>."}, {"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "reply_to_user": {"reputation": 3635, "user_id": 4763083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RtWMZ.png?s=128&g=1", "display_name": "jonahe", "link": "https://stackoverflow.com/users/4763083/jonahe"}, "edited": false, "score": 0, "creation_date": 1504691631, "post_id": 46070664, "comment_id": 79104804, "body": "@jonahe: I&#39;m pretty sure the <i>&quot;Why is this happening&quot;</i> is referring the the nested arrays."}, {"owner": {"reputation": 3635, "user_id": 4763083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RtWMZ.png?s=128&g=1", "display_name": "jonahe", "link": "https://stackoverflow.com/users/4763083/jonahe"}, "edited": false, "score": 0, "creation_date": 1504691871, "post_id": 46070664, "comment_id": 79104966, "body": "Ah, maybe..  But then wouldn&#39;t this question have been.. in the question, instead of in this comment? (And in no other comments to any other answers). Either way, ff <code>.map</code> is unclear to OP, then I guess <code>[].concat.apply([], mapped)</code> wouldn&#39;t be obvious either."}], "tags": [], "owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "is_accepted": false, "score": 2, "last_activity_date": 1504688095, "last_edit_date": 1504688095, "creation_date": 1504687694, "answer_id": 46070664, "question_id": 46070609, "link": "https://stackoverflow.com/questions/46070609/get-single-property-array-from-an-array-of-objects/46070664#46070664", "title": "Get single property array from an array of objects", "body": "<p>You just need to flatten your array after mapping:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {\r\n  sections: [{\r\n      title: 'Section 01',\r\n      controls: [\r\n        { key: 'name 01', label: 'Name 01' },\r\n        { key: 'abc', label: 'Abc' }\r\n      ]\r\n    }, {\r\n      title: 'Section 02',\r\n      controls: [\r\n        { key: 'name 02', label: 'Name 02' }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n\r\nvar mapped = obj.sections.map(function (x) { return x.controls; });\r\nvar flattened = [].concat.apply([], mapped);\r\nconsole.log(flattened);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To simplify your example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// This is your structure:\r\nvar sections= [{\r\n      controls: [{}, {}] // C1\r\n    }, {\r\n      controls: [{}]     // C2\r\n    }\r\n];\r\n\r\n// With the map, grabbing each `controls` property, and using that as an entry in your array:\r\nvar mapped = sections.map(function (x) { return x.controls; });\r\nconsole.log(mapped);\r\n// [[{},{}],[{}]]\r\n//  ^ C1    ^ C2\r\n\r\n// We need to remove that extra layer of arrays:\r\nvar flattened = [].concat.apply([], mapped);\r\nconsole.log(flattened);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1504687748, "creation_date": 1504687748, "answer_id": 46070688, "question_id": 46070609, "link": "https://stackoverflow.com/questions/46070609/get-single-property-array-from-an-array-of-objects/46070688#46070688", "title": "Get single property array from an array of objects", "body": "<p>You can use <code>reduce</code> to flatten the hierarchy </p>\n\n<pre><code>formModel.sections\n  .map(x =&gt;  x.controls)\n  .reduce((prev, current) =&gt; prev.concat(current), [])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1404, "user_id": 8445395, "user_type": "registered", "profile_image": "https://graph.facebook.com/103111293744381/picture?type=large", "display_name": "Ivan Minakov", "link": "https://stackoverflow.com/users/8445395/ivan-minakov"}, "is_accepted": false, "score": 1, "last_activity_date": 1504687897, "creation_date": 1504687897, "answer_id": 46070730, "question_id": 46070609, "link": "https://stackoverflow.com/questions/46070609/get-single-property-array-from-an-array-of-objects/46070730#46070730", "title": "Get single property array from an array of objects", "body": "<p>Use <code>reduce</code> instead of <code>map</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let formModel = {\r\n    sections: [\r\n        {\r\n            title: 'Section 01',\r\n            controls: [\r\n                {\r\n                    key: 'name 01',\r\n                    label: 'Name 01'\r\n                },\r\n                {\r\n                    key: 'abc',\r\n                    label: 'Abc'\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            title: 'Section 02',\r\n            controls: [\r\n                {\r\n                    key: 'name 02',\r\n                    label: 'Name 02'\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n};\r\n\r\nlet result = formModel.sections.reduce((res, section) =&gt; {\r\n\treturn res = res.concat(section.controls); \r\n}, []);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4341, "user_id": 2621579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/60f948926e993b4fc5fdaee980d88c47?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Shahzad", "link": "https://stackoverflow.com/users/2621579/ali-shahzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 46070688, "answer_count": 3, "score": 0, "last_activity_date": 1504688659, "creation_date": 1504687473, "question_id": 46070609, "link": "https://stackoverflow.com/questions/46070609/get-single-property-array-from-an-array-of-objects", "title": "Get single property array from an array of objects", "body": "<p>I have this array of objects and I want to get all the <code>controls</code> from this to another array:</p>\n\n<pre><code>this.formModel = {\n    sections: [\n        {\n            title: 'Section 01',\n            controls: [\n                new FormControlInput({\n                    key: 'name 01',\n                    label: 'Name 01'\n                }),\n                new FormControlSelect({\n                    key: 'abc',\n                    label: 'Abc'\n                })\n            ]\n        },\n        {\n            title: 'Section 02',\n            controls: [\n                new FormControlInput({\n                    key: 'name 02',\n                    label: 'Name 02'\n                })\n            ]\n        }\n    ]\n};\n</code></pre>\n\n<p>I am using <code>map</code> for this but I am not getting single array, I am getting array of arrays:</p>\n\n<pre><code>this.formModel.sections.map(function (x) { return x.controls; })\n</code></pre>\n\n<p>Getting this:</p>\n\n<pre><code>[\n     {\n        [{\n            key: 'name 01',\n            label: 'Name 01'\n        },\n        {\n            key: 'abc',\n            label: 'Abc'\n        }]\n     },\n     {\n        [{\n            key: 'name 02',\n            label: 'Name 02'\n        }]\n     }\n]\n</code></pre>\n\n<p>What I want is this:</p>\n\n<pre><code>[\n    {\n        key: 'name 01',\n        label: 'Name 01'\n    },\n    {\n        key: 'abc',\n        label: 'Abc'\n    },\n    {\n        key: 'name 02',\n        label: 'Name 02'\n    }       \n]\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "video", "properties"], "comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 1, "creation_date": 1504686629, "post_id": 46070241, "comment_id": 79101204, "body": "you have to tell angular that it can use an &quot;unsafe url&quot; (external url) without destroying it when it renders the html."}], "answers": [{"tags": [], "owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "is_accepted": true, "score": 3, "last_activity_date": 1504687392, "last_edit_date": 1504687392, "creation_date": 1504686737, "answer_id": 46070396, "question_id": 46070241, "link": "https://stackoverflow.com/questions/46070241/show-video-with-angular-2/46070396#46070396", "title": "Show &lt;video&gt; with Angular 2", "body": "<p>Usually, in Angular, when you want to use some external URLs you have to explicitly bypass the security filters. This forces you to be conscious of the security risks.</p>\n\n<p>The general documentation on that is there : </p>\n\n<p><a href=\"https://angular.io/guide/security#bypass-security-apis\" rel=\"nofollow noreferrer\">https://angular.io/guide/security#bypass-security-apis</a></p>\n\n<p>See also this thread : <a href=\"https://stackoverflow.com/questions/38037760/how-to-set-iframe-src-in-angular-2-without-causing-unsafe-value-exception\">How to set iframe src in Angular 2 without causing `unsafe value` exception?</a></p>\n"}], "owner": {"reputation": 95, "user_id": 6752605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-_HIhzYVIj1U/AAAAAAAAAAI/AAAAAAAAADQ/3pGANw-JCbM/photo.jpg?sz=128", "display_name": "Fabian Tschullik", "link": "https://stackoverflow.com/users/6752605/fabian-tschullik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4764, "favorite_count": 0, "accepted_answer_id": 46070396, "answer_count": 1, "score": 1, "last_activity_date": 1504690747, "creation_date": 1504686237, "last_edit_date": 1504690747, "question_id": 46070241, "link": "https://stackoverflow.com/questions/46070241/show-video-with-angular-2", "title": "Show &lt;video&gt; with Angular 2", "body": "<p>To display videos, I get a video from an API (link to video). I use this link as a source for  in my template. Important: The video is on an external server. Unfortunately, now only the player is shown to me, but no video. The navigation of the player is also not clickable. If I wrote the video URL directly to the template, the video will work without problems.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BzAAo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BzAAo.png\" alt=\"Player\"></a></p>\n\n<p>Template:</p>\n\n<pre><code>&lt;div *ngIf=\"templates\"&gt;\n   &lt;video width=\"400\" controls&gt;\n        &lt;source src={{templates.media[0].remoteUrl}} type=\"video/mp4\"&gt;Your browser does not support HTML5 video.\n   &lt;/video&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>component:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport { Template } from '../models/index';\nimport { TemplateService } from '../services/index';\n\n@Component({\n  selector: 'app-template-details',\n  templateUrl: './template-details.component.html',\n  styleUrls: ['./template-details.component.css']\n})\n\nexport class TemplateDetailsComponent implements OnInit {\n\n  //patient: Patient;\n  templates: Template[] = [];\n  constructor(private activatedRoute: ActivatedRoute, private templateService: TemplateService) { }\n\n ngOnInit() {\n\n    this.activatedRoute.params.subscribe((params: Params) =&gt; {\n       let id= params['id'];\n       this.showTemplateDetailsForId(id);\n    });\n }\n\n private showTemplateDetailsForId(id: number) {\n     this.templateService.getTemplateById(id).subscribe(templates =&gt; { this.templates = templates; });\n }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "typescript", "sass"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1504685195, "post_id": 46069798, "comment_id": 79100327, "body": "change <code>if(str == null)</code> to <code>if(!str)</code>"}, {"owner": {"reputation": 285, "user_id": 8435097, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/633175a234be8881d2561e2514004007?s=128&d=identicon&r=PG&f=1", "display_name": "Floriane", "link": "https://stackoverflow.com/users/8435097/floriane"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504685409, "post_id": 46069798, "comment_id": 79100454, "body": "@AlekseyL. Thanks a lot. This is the simplest answer but it works perfectly !!"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6463957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593a9b1e28c754ba1553743990ee4677?s=128&d=identicon&r=PG&f=1", "display_name": "Aniket Bhange", "link": "https://stackoverflow.com/users/6463957/aniket-bhange"}, "is_accepted": false, "score": 0, "last_activity_date": 1504685319, "creation_date": 1504685319, "answer_id": 46069946, "question_id": 46069798, "link": "https://stackoverflow.com/questions/46069798/detecting-an-empty-field-of-an-input/46069946#46069946", "title": "Detecting an empty field of an input", "body": "<p>In your question it seems you have one array of data.\nso keep a <strong>tempDataSet</strong></p>\n\n<p><code>this.tempDataSet = [];\n</code>\nthen while filtering you can directly assign values.</p>\n\n<pre><code>this.str = '';\nsearchUser(): void {\n  let element = document.querySelector('#chat-window-input');\n  if(element &amp;&amp; element.value) {\n    return this.str = element.value;\n  }\n}\n</code></pre>\n\n<p>I think this will help you</p>\n"}, {"tags": [], "owner": {"reputation": 567, "user_id": 3977467, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/MxCys.png?s=128&g=1", "display_name": "KMS", "link": "https://stackoverflow.com/users/3977467/kms"}, "is_accepted": true, "score": 2, "last_activity_date": 1504685358, "creation_date": 1504685358, "answer_id": 46069955, "question_id": 46069798, "link": "https://stackoverflow.com/questions/46069798/detecting-an-empty-field-of-an-input/46069955#46069955", "title": "Detecting an empty field of an input", "body": "<p>Hi you can try like this,</p>\n\n<pre><code> if(str == null || (!str) || str=='') {\n  this.searchArrayThreads = [];\n}\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 8435097, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/633175a234be8881d2561e2514004007?s=128&d=identicon&r=PG&f=1", "display_name": "Floriane", "link": "https://stackoverflow.com/users/8435097/floriane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 46069955, "answer_count": 2, "score": 0, "last_activity_date": 1504685358, "creation_date": 1504684850, "question_id": 46069798, "link": "https://stackoverflow.com/questions/46069798/detecting-an-empty-field-of-an-input", "title": "Detecting an empty field of an input", "body": "<p>I create a search bar. When the user presses the letter 'A' I want to display the users whose first name starts with the letter 'A'.\nThis works, but my problem is when the search bar is empty.\nWhen it is empty, my program displays all the users, and I want it to show none.</p>\n\n<p>Here is my program to obtain the value entered by the user : </p>\n\n<pre><code>searchUser(): void {\n  let str;\n  let element = document.getElementById('chat-window-input');\n\n  if(element !== null) {\n    str = (element as HTMLInputElement).value;\n  }\n  else {\n    str = null;\n  }\n}\n</code></pre>\n\n<p>Do you know how to detect an empty field ?\nI tested this but it does not change anything : </p>\n\n<pre><code>if(str == null) {\n    this.searchArrayThreads = [];\n  }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 2341, "user_id": 1961030, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e9defb5b76d4ccd35a1871d85df70644?s=128&d=identicon&r=PG", "display_name": "niba", "link": "https://stackoverflow.com/users/1961030/niba"}, "edited": false, "score": 0, "creation_date": 1504683297, "post_id": 46068974, "comment_id": 79099235, "body": "Check this topic: <a href=\"https://stackoverflow.com/questions/46055018/shorter-way-to-mapdispatchtoprops-using-react-redux-and-typescript\" title=\"shorter way to mapdispatchtoprops using react redux and typescript\">stackoverflow.com/questions/46055018/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7566790, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NY8W70ZuqH4/AAAAAAAAAAI/AAAAAAAAAfA/zNGkYMz0W80/photo.jpg?sz=128", "display_name": "\u5305\u65ed\u5f6c", "link": "https://stackoverflow.com/users/7566790/%e5%8c%85%e6%97%ad%e5%bd%ac"}, "is_accepted": false, "score": 0, "last_activity_date": 1512188365, "creation_date": 1512188365, "answer_id": 47604542, "question_id": 46068974, "link": "https://stackoverflow.com/questions/46068974/typescript-react-redux/47604542#47604542", "title": "typeScript react -redux", "body": "<p>like this</p>\n\n<pre><code>import { Dispatch } from 'redux';\n/*other code*/\nconst mapDispatchToProps = (dispatch: Dispatch&lt;object&gt;) =&gt; ({\n  asyncRequest: (name: string) =&gt; dispatch(someAction(name)),\n  otherAction: () =&gt; dispatch(someAction())\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8499941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8548246549053f4e93d912af047a6885?s=128&d=identicon&r=PG&f=1", "display_name": "user8499941", "link": "https://stackoverflow.com/users/8499941/user8499941"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512188365, "creation_date": 1504681915, "question_id": 46068974, "link": "https://stackoverflow.com/questions/46068974/typescript-react-redux", "title": "typeScript react -redux", "body": "<p>I want to use React-Redux with typeScript to dipatch an action,But when I use <code>mapDisPatchToProps()</code>,I don't know how to define the type of <code>dispatch</code>,There is My code:</p>\n\n<p>This is the component file:</p>\n\n<pre><code>    import * as React from 'react';\n\n    import Content from '../component/content';\n\n    interface Props {\n      allCityInformation: {'cityName': string, 'img': string}[];\n      onGetAllCityInformation: Function;\n    }\n\n    class HomePage extends React.Component&lt;Props&gt; {\n\n      componentDidMount() {\n        this.props.onGetAllCityInformation();\n      }\n\n      render() {\n        return (\n          &lt;div&gt;\n            &lt;Content/&gt;\n          &lt;/div&gt;\n        );\n      }\n    }\n\nexport default HomePage;\n</code></pre>\n\n<p>And this is my container file:</p>\n\n<pre><code>import { connect } from 'react-redux';\nimport HomePage from '../pages/homePage';\n\nexport type DispatchGetCityInformation = () =&gt; void;\n\nconst mapDispatchToProps = (dispatch: DispatchGetCityInformation) =&gt; {\n  return{\n    onGetAllCityInformation: dispatch(getCityInformation())\n  };\n};\nexport default connect(() =&gt; {return {};\n}, mapDispatchToProps)(HomePage);\n</code></pre>\n\n<p>Now, the error information is :\n<a href=\"https://i.stack.imgur.com/hZjXf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>So,How to solve this problem?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular-http-interceptors"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1504681762, "post_id": 46068908, "comment_id": 79098240, "body": "make use of interceptors and use timeout"}, {"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1504681813, "post_id": 46068908, "comment_id": 79098277, "body": "yeah. Interceptors. I forgot that I&#39;ll look into it"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1505058038, "post_id": 46068908, "comment_id": 79246712, "body": "did interceptors not help @SibiRaj"}, {"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1505119381, "post_id": 46068908, "comment_id": 79264562, "body": "nope. I tried. but nothing seems to help. I can have time out but unable to use them with routes. did you get anything?"}, {"owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "edited": false, "score": 0, "creation_date": 1505133098, "post_id": 46068908, "comment_id": 79273283, "body": "Have a look at this post: <a href=\"https://stackoverflow.com/a/41177163/6184203\">stackoverflow.com/a/41177163/6184203</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1505421876, "post_id": 46068908, "comment_id": 79419691, "body": "Do you mean all outstanding requests across the application or across some service?"}, {"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1505457051, "post_id": 46068908, "comment_id": 79429476, "body": "yes, @AluanHaddad. Across the application."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1505458420, "post_id": 46068908, "comment_id": 79430206, "body": "@SibiRaj that is only possible if you aggregate all subscriptions in an application scoped data structure. Interceptors have been suggested and they could accomplish this by writing to such a structure. You can also wrap <code>Http</code> in a service which delegates to it, derive from it, or monkey patch it."}, {"owner": {"reputation": 953, "user_id": 4582350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d51de9922a80765fd14fe61af1136a87?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/4582350/ram"}, "edited": false, "score": 0, "creation_date": 1606442801, "post_id": 46068908, "comment_id": 114969920, "body": "Instead of using <code>onDestroy</code>, would suggest to use <code>CanDeactivateGuard</code> specific for route change."}], "answers": [{"comments": [{"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1504682238, "post_id": 46069029, "comment_id": 79098552, "body": "I wanted to cancel request on route change"}, {"owner": {"reputation": 1953, "user_id": 7706936, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mihAz.jpg?s=128&g=1", "display_name": "Vala Khosravi", "link": "https://stackoverflow.com/users/7706936/vala-khosravi"}, "reply_to_user": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1504683400, "post_id": 46069029, "comment_id": 79099298, "body": "you should call ngOnDestroy() on components that may be router-outlet"}, {"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1504686858, "post_id": 46069029, "comment_id": 79101336, "body": "so I should do on all components individually?"}, {"owner": {"reputation": 1953, "user_id": 7706936, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mihAz.jpg?s=128&g=1", "display_name": "Vala Khosravi", "link": "https://stackoverflow.com/users/7706936/vala-khosravi"}, "reply_to_user": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 2, "creation_date": 1504689026, "post_id": 46069029, "comment_id": 79102831, "body": "only component that may place on router-outlet. because when router-outlet changes &quot;ngOnDestroy()&quot; got called."}], "tags": [], "owner": {"reputation": 1953, "user_id": 7706936, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mihAz.jpg?s=128&g=1", "display_name": "Vala Khosravi", "link": "https://stackoverflow.com/users/7706936/vala-khosravi"}, "is_accepted": false, "score": 3, "last_activity_date": 1504682122, "creation_date": 1504682122, "answer_id": 46069029, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/46069029#46069029", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p><code>ngOnDestroy</code> callback is typically used for any custom cleanup that needs to occur when the instance is destroyed.</p>\n\n<p>where do you want to cancel your request?</p>\n\n<p>maybe if you want cancel your requests on browser close there is creative idea <a href=\"https://stackoverflow.com/questions/34129319/how-can-i-handle-browser-tab-close-event-in-angular-only-close-not-refresh\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1505758230, "post_id": 46069187, "comment_id": 79534373, "body": "I like this idea. Might I suggest you make it more robust by handling components which have arrays of subscriptions (not uncommon)?. E.g. <code>(Array.isArray(property) ? property : [property]).filter(property =&gt; isFunction(property.unsubscribe)).forEach(property =&gt; property.unsubscribe()));</code>."}, {"owner": {"reputation": 664, "user_id": 8268337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1329327687180242/picture?type=large", "display_name": "Anton Lee", "link": "https://stackoverflow.com/users/8268337/anton-lee"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1505789024, "post_id": 46069187, "comment_id": 79544742, "body": "This is good idea, but need to optimize it, because if you have arrays of big data, then filter will search each element, and it may be a little bit slow. May be we can check only first element of array and if its subsctiption then we can assume that all array is subscriptions elements."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1505789805, "post_id": 46069187, "comment_id": 79544903, "body": "you could do that but I doubt it&#39;s going to be a significant performance impact."}], "tags": [], "owner": {"reputation": 664, "user_id": 8268337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1329327687180242/picture?type=large", "display_name": "Anton Lee", "link": "https://stackoverflow.com/users/8268337/anton-lee"}, "is_accepted": false, "score": 11, "last_activity_date": 1507909497, "last_edit_date": 1507909497, "creation_date": 1504682644, "answer_id": 46069187, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/46069187#46069187", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>If you don't want to manually unsubscribe all subscriptions, then you can do this:</p>\n\n<pre><code>export function AutoUnsubscribe(constructor) {\n\n  const original = constructor.prototype.ngOnDestroy;\n\n  constructor.prototype.ngOnDestroy = function() {\n    for (const prop in this) {\n      if (prop) {\n        const property = this[prop];\n        if (property &amp;&amp; (typeof property.unsubscribe === 'function')) {\n          property.unsubscribe();\n        }\n      }\n    }\n\n    if (original &amp;&amp; typeof original === 'function') {\n      original.apply(this, arguments)\n    };\n  };\n\n}\n</code></pre>\n\n<p>Then you can use it as decorator in your component</p>\n\n<pre><code>@AutoUnsubscribe\nexport class YourComponent  {\n}\n</code></pre>\n\n<p>but you still need to store subscriptions as component properties.\nAnd when you navigating out of component, AutoUnsubscribe function will occurs.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 2, "creation_date": 1504683603, "post_id": 46069385, "comment_id": 79099414, "body": "No, this will not cancel pending requests."}, {"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1504684967, "post_id": 46069385, "comment_id": 79100215, "body": "yes, I want to cancel all at once. i.e, while route change"}], "tags": [], "owner": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "is_accepted": false, "score": 2, "last_activity_date": 1504693108, "last_edit_date": 1504693108, "creation_date": 1504683360, "answer_id": 46069385, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/46069385#46069385", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>Try This :</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs/Rx';\n\nexport class Component implements OnInit, OnDestroy {\n    private subscription: Subscription;\n    ngOnInit() {\n        this.subscription = this.route.params.subscribe();\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1471, "user_id": 7152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9906a6518ec618da986b2f299327571?s=128&d=identicon&r=PG&f=1", "display_name": "Alexis Facques", "link": "https://stackoverflow.com/users/7152435/alexis-facques"}, "reply_to_user": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1505804294, "post_id": 46158317, "comment_id": 79550057, "body": "Check seangwright&#39;s very complete answer on the subject ;)  <a href=\"https://stackoverflow.com/a/41177163/7152435\">stackoverflow.com/a/41177163/7152435</a>  Hope that it helps !"}, {"owner": {"reputation": 322, "user_id": 7005734, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/82c6f5746b64e2fe026c45899633bcea?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi0405", "link": "https://stackoverflow.com/users/7005734/rishi0405"}, "edited": false, "score": 0, "creation_date": 1529492160, "post_id": 46158317, "comment_id": 88890344, "body": "Don&#39;t forget to import takeUntil from RxJs, import &#39;rxjs/add/operator/takeUntil&#39;;"}], "tags": [], "owner": {"reputation": 1471, "user_id": 7152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9906a6518ec618da986b2f299327571?s=128&d=identicon&r=PG&f=1", "display_name": "Alexis Facques", "link": "https://stackoverflow.com/users/7152435/alexis-facques"}, "is_accepted": false, "score": 75, "last_activity_date": 1547483029, "last_edit_date": 1547483029, "creation_date": 1505140660, "answer_id": 46158317, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/46158317#46158317", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>Checkout the <a href=\"https://www.learnrxjs.io/operators/filtering/takeuntil.html\" rel=\"noreferrer\"><code>takeUntil()</code></a> operator from RxJS to globally drop your subscriptions : </p>\n\n<p><strong>- RxJS 6+ (using the <code>pipe</code> syntax)</strong></p>\n\n<pre><code>import { takeUntil } from 'rxjs/operators';\n\nexport class YourComponent {\n   protected ngUnsubscribe: Subject&lt;void&gt; = new Subject&lt;void&gt;();\n\n   [...]\n\n   public httpGet(): void {\n      this.http.get()\n          .pipe( takeUntil(this.ngUnsubscribe) )\n          .subscribe( (data) =&gt; { ... });\n   }\n\n   public ngOnDestroy(): void {\n       // This aborts all HTTP requests.\n       this.ngUnsubscribe.next();\n       // This completes the subject properlly.\n       this.ngUnsubscribe.complete();\n   }\n}\n</code></pre>\n\n<p><strong>- RxJS &lt; 6</strong></p>\n\n<pre><code>import 'rxjs/add/operator/takeUntil'\n\nexport class YourComponent {\n   protected ngUnsubscribe: Subject&lt;void&gt; = new Subject&lt;void&gt;();\n\n   [...]\n\n   public httpGet(): void {\n      this.http.get()\n         .takeUntil(this.ngUnsubscribe)\n         .subscribe( (data) =&gt; { ... })\n   }\n\n   public ngOnDestroy(): void {\n       this.ngUnsubscribe.next();\n       this.ngUnsubscribe.complete();\n   }\n}\n</code></pre>\n\n<p>You can basically emit an event on your unsubscribe <code>Subject</code> using <code>next()</code> everytime you want to complete a bunch of streams. It is also good practice to  unsubscribe to active Observables as the component is destroyed, to avoid memory leaks.</p>\n\n<p>Worth reading :</p>\n\n<ul>\n<li><p><a href=\"https://blog.angularindepth.com/rxjs-avoiding-takeuntil-leaks-fb5182d047ef\" rel=\"noreferrer\">Avoiding take until leaks</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/38008334/angular-rxjs-when-should-i-unsubscribe-from-subscription/41177163#41177163\">A great answer from seangwright</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3351, "user_id": 6633434, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Z3AKA.png?s=128&g=1", "display_name": "Sumit Agarwal", "link": "https://stackoverflow.com/users/6633434/sumit-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1505454202, "creation_date": 1505454202, "answer_id": 46232427, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/46232427#46232427", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>You can make a custom Http Service (using HttpClient) which maintains a list of pending requests. Whenever you fire a http us this custom service instead of Http/HttpClient,now push the subscriptions to a list and on return of the response pop that subscription out. Using this you will have all the incomplete subscriptions in a list. </p>\n\n<p>Now in the same custom service Inject router in the constructor and subscribe on it to get the route change events. Now whenever this observable emits, all you need to do is to unsubscribe all the subscriptions present in the list and pop all the elements from it.</p>\n\n<p>If you need code snippet, do mention in comment.</p>\n"}, {"comments": [{"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1505463269, "post_id": 46234399, "comment_id": 79432943, "body": "I wanted to achieve that because even when I navigate through pages. the HTTP requests that are pending does not get canceled.  I have to use destroy subscription on every page. I thought why not do it globally i.e., during a route change cancel all pending HTTP requests."}, {"owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1505463482, "post_id": 46234399, "comment_id": 79433070, "body": "correct me If what I was thinking to achieve is wrong :)"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1505463942, "post_id": 46234399, "comment_id": 79433324, "body": "@SibiRaj I don&#39;t think it&#39;s wrong :) just be careful when you introduce global state. The nice thing about this approach is that you can experiment with it without changing any of the services or components that use <code>Http</code>."}, {"owner": {"reputation": 300, "user_id": 5224768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vmDY0.jpg?s=128&g=1", "display_name": "Adham Sabry", "link": "https://stackoverflow.com/users/5224768/adham-sabry"}, "edited": false, "score": 0, "creation_date": 1543147221, "post_id": 46234399, "comment_id": 93805068, "body": "Hi @AluanHaddad, where did you get <code>wrappedHttp</code> from? Your comment doesn&#39;t clarify this. Can you please share with us more details about? Thx"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "edited": false, "score": 0, "creation_date": 1543149552, "post_id": 46234399, "comment_id": 93805668, "body": "@Sibiraj I instantiated it directly. It is in the example but the code may need minor adjustments to work in angular 6/7"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 6, "last_activity_date": 1505464684, "last_edit_date": 1505464684, "creation_date": 1505461724, "answer_id": 46234399, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/46234399#46234399", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>I'm not convinced of the need for the functionality requested, but you can accomplish this, cancelling all outstanding requests whenever and wherever you wish by wrapping the framework's http service and delegating to it.</p>\n\n<p>However, when we go about implementing this service, a problem quickly becomes apparent. On the one hand, we would like to avoid changing existing code, including third party code, which leverages the stock Angular http client. On the other hand, we would like to avoid implementation inheritance.</p>\n\n<p>To get the best of both worlds we can <em>implement</em> the Angular <code>Http</code> service with our wrapper. Existing code will continue to work without changes (provided said code does not do anything stupid like use <code>http instanceof Http</code>).</p>\n\n<pre><code>import {Http, Request, RequestOptions, RequestOptionsArgs, Response} from '@angular/http';\nimport {Observable} from 'rxjs/Observable';\nimport {Subscription} from 'rxjs/Subscription';\n\n\n\nexport default interface CancellationAwareHttpClient extends Http { }\n\nexport default class CancellationAwareHttpClient {\n  constructor(private wrapped: Http) {\n    const delegatedMethods: Array&lt;keyof Http&gt; = [\n      'get', 'post', 'put', 'delete',\n      'patch', 'head', 'options'\n    ];\n    for (const key of delegatedMethods) {\n      this[key] = wrapped[key].bind(wrapped);\n    }\n  }\n\n  cancelOutstandingRequests() {\n    this.subscriptions.forEach(subscription =&gt; {\n      subscription.unsubscribe();\n    });\n    this.subscriptions = [];\n  }\n\n  request(url: string | Request, options?: RequestOptionsArgs) {\n    const subscription = this.wrapped.request(url, options);\n    this.subscriptions.push(subscription);\n    return subscription;\n  }\n\n  subscriptions: Subscription[] = [];\n}\n</code></pre>\n\n<p>Note that the <code>interface</code> and <code>class</code> declarations for <code>CancellationAwareHttpClient</code> are merged. In this way, our class <em>implements</em> <code>Http</code> by virtue of the <code>interface</code> declaration's <code>extends</code> clause.</p>\n\n<p>Now we will provide our service</p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {ConnectionBackend, RequestOptions} from '@angular/http';\n\nimport CancellationAwareHttpClient from 'app/services/cancellation-aware-http-client';\n\nlet cancellationAwareClient: CancellationAwareHttpClient;\n\nconst httpProvider = {\n  provide: Http,\n  deps: [ConnectionBackend, RequestOptions],\n  useFactory: function (backend: ConnectionBackend, defaultOptions: RequestOptions) {\n    if (!cancellationAwareClient) {\n      const wrapped = new Http(backend, defaultOptions);\n      cancellationAwareClient = new CancellationAwareHttpClient(wrappedHttp);\n    }\n    return cancellationAwareClient;\n  }\n};\n\n@NgModule({\n  providers: [\n    // provide our service as `Http`, replacing the stock provider\n    httpProvider,\n    // provide the same instance of our service as `CancellationAwareHttpClient`\n    // for those wanting access to `cancelOutstandingRequests`\n    {...httpProvider, provide: CancellationAwareHttpClient}\n  ]\n}) export class SomeModule {}\n</code></pre>\n\n<p>Note how we override the existing framework provided service. We use a factory to create our instance and do not add any decorators for DI to the wrapper itself in order to avoid a cycle in the injector.</p>\n"}, {"comments": [{"owner": {"reputation": 574, "user_id": 7065610, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/qVwJw.png?s=128&g=1", "display_name": "walidtlili", "link": "https://stackoverflow.com/users/7065610/walidtlili"}, "edited": false, "score": 8, "creation_date": 1525959973, "post_id": 49797920, "comment_id": 87565508, "body": "I think this is the best way"}, {"owner": {"reputation": 1464, "user_id": 3986937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V3vPN.png?s=128&g=1", "display_name": "Logus", "link": "https://stackoverflow.com/users/3986937/logus"}, "edited": false, "score": 2, "creation_date": 1536957899, "post_id": 49797920, "comment_id": 91625258, "body": "this seems great but it&#39;s forgetting to complete the subject to close it"}, {"owner": {"reputation": 469, "user_id": 1393949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466e6a9a35accad184daddf660a9af1c?s=128&d=identicon&r=PG", "display_name": "hbthanki", "link": "https://stackoverflow.com/users/1393949/hbthanki"}, "edited": false, "score": 0, "creation_date": 1545525049, "post_id": 49797920, "comment_id": 94646185, "body": "This approach is very useful to cancel every pending http request when route changes. I guess, to cancel other subscription(s), we still need to cancel those request separately."}, {"owner": {"reputation": 871, "user_id": 5515852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285c2ab02677e942dc3109ffa5d6fb9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bladito", "link": "https://stackoverflow.com/users/5515852/bladito"}, "reply_to_user": {"reputation": 469, "user_id": 1393949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466e6a9a35accad184daddf660a9af1c?s=128&d=identicon&r=PG", "display_name": "hbthanki", "link": "https://stackoverflow.com/users/1393949/hbthanki"}, "edited": false, "score": 1, "creation_date": 1547480048, "post_id": 49797920, "comment_id": 95197379, "body": "@hbthanki Yes you need to cancel other requests manually. As unsubscribing everything can be annoying, I usually have a class that implements onDestroy and my components extend this class (I call it Destroyable). It has a public Subject which emits and completes on destroy. My components then have a takeUntil(this.destroyed$) on every observable. So this approach cancels all pending observables when you destroy the component."}, {"owner": {"reputation": 871, "user_id": 5515852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285c2ab02677e942dc3109ffa5d6fb9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bladito", "link": "https://stackoverflow.com/users/5515852/bladito"}, "reply_to_user": {"reputation": 1464, "user_id": 3986937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V3vPN.png?s=128&g=1", "display_name": "Logus", "link": "https://stackoverflow.com/users/3986937/logus"}, "edited": false, "score": 2, "creation_date": 1547480663, "post_id": 49797920, "comment_id": 95197753, "body": "@Logus I didn&#39;t close it deliberately because the service lives through the entire time of the app existence and closing the stream would not free any resources anyway. If the subject completed then you would need to create the new one over and over. And when would it create? Who would have this responsibility? It would just make the code more complicated and I&#39;m afraid it would add no value. Feel free to correct me if I&#39;m wrong."}, {"owner": {"reputation": 537, "user_id": 4887891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/729130223863171/picture?type=large", "display_name": "Adnan Sheikh", "link": "https://stackoverflow.com/users/4887891/adnan-sheikh"}, "edited": false, "score": 1, "creation_date": 1570003864, "post_id": 49797920, "comment_id": 102773390, "body": "Thank you for the useful answer. I just wanted to add &#39;next.handle(req).takeUntil()&#39; won&#39;t work.(It didn&#39;t worked for me using angular 7 and rxjs version 6.3.3). I used next.handle(req).pipe(takeUntil()) instead."}, {"owner": {"reputation": 871, "user_id": 5515852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285c2ab02677e942dc3109ffa5d6fb9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bladito", "link": "https://stackoverflow.com/users/5515852/bladito"}, "reply_to_user": {"reputation": 537, "user_id": 4887891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/729130223863171/picture?type=large", "display_name": "Adnan Sheikh", "link": "https://stackoverflow.com/users/4887891/adnan-sheikh"}, "edited": false, "score": 0, "creation_date": 1570018664, "post_id": 49797920, "comment_id": 102780578, "body": "@AdnanSheikh yes you&#39;re right. When I was writing the answer, the current rxjs did not have pipes yet. Operators were just chainable after each other. In the newest version it is written with pipe (just as you mentioned). Maybe I should update the answer to reflect new rxjs api. Thanks for your comment."}, {"owner": {"reputation": 6188, "user_id": 3719167, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iL5FE.jpg?s=128&g=1", "display_name": "Anuj TBE", "link": "https://stackoverflow.com/users/3719167/anuj-tbe"}, "edited": false, "score": 0, "creation_date": 1576233868, "post_id": 49797920, "comment_id": 104841807, "body": "How to handle the case with duplicate HTTP request? I have an endpoint to upload large file. I want to cancel the pending upload request if new request is created before earlier one is completed."}, {"owner": {"reputation": 871, "user_id": 5515852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285c2ab02677e942dc3109ffa5d6fb9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bladito", "link": "https://stackoverflow.com/users/5515852/bladito"}, "reply_to_user": {"reputation": 6188, "user_id": 3719167, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iL5FE.jpg?s=128&g=1", "display_name": "Anuj TBE", "link": "https://stackoverflow.com/users/3719167/anuj-tbe"}, "edited": false, "score": 0, "creation_date": 1576237863, "post_id": 49797920, "comment_id": 104843812, "body": "@AnujTBE well if you wanted to use the solution above, then you would just call cancelPendingRequests() right before you call the upload (so you kill any existing requests) - but that could also kill other requests you may want to keep. Or you could modify the code and add parameter (e.g. url string) to the cancelPendingRequests method and then filter the observable inside onCancelPendingRequests method, so only the request with that url would get interrupted. But I suggest you look into switchMap operator and how to cancel requests with it stackoverflow.com/questions/56958362/"}, {"owner": {"reputation": 2626, "user_id": 863651, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad46e1336e43614ea24e0f42b9a383af?s=128&d=identicon&r=PG", "display_name": "XDS", "link": "https://stackoverflow.com/users/863651/xds"}, "edited": false, "score": 0, "creation_date": 1584399032, "post_id": 49797920, "comment_id": 107420577, "body": "Instead of &#39;event instanceof ActivationEnd&#39; would it make sense to use &#39;event instanceof NavigationStart&#39; instead so as to abort the http calls a bit sooner?"}, {"owner": {"reputation": 319, "user_id": 7615518, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2HJVp9Epjew/AAAAAAAAAAI/AAAAAAAAJ3g/Xwma4ptWYYo/photo.jpg?sz=128", "display_name": "Victor", "link": "https://stackoverflow.com/users/7615518/victor"}, "edited": false, "score": 0, "creation_date": 1588257703, "post_id": 49797920, "comment_id": 108834713, "body": "What a neat way! Thanks mate"}, {"owner": {"reputation": 1127, "user_id": 2376892, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81cc7f4550ed84d09e1aeb34fb05c7ac?s=128&d=identicon&r=PG", "display_name": "Deunz", "link": "https://stackoverflow.com/users/2376892/deunz"}, "edited": false, "score": 1, "creation_date": 1594998450, "post_id": 49797920, "comment_id": 111332098, "body": "BEST COPY/PASTE CODE EVER :) n1"}, {"owner": {"reputation": 88, "user_id": 5869065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9d3e9015cb48b5fce52d1c8aebab87?s=128&d=identicon&r=PG&f=1", "display_name": "M27", "link": "https://stackoverflow.com/users/5869065/m27"}, "edited": false, "score": 0, "creation_date": 1610043755, "post_id": 49797920, "comment_id": 116014858, "body": "I like this but how do you avoid cancelling requests that are being made on the main app.component?"}], "tags": [], "owner": {"reputation": 871, "user_id": 5515852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285c2ab02677e942dc3109ffa5d6fb9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bladito", "link": "https://stackoverflow.com/users/5515852/bladito"}, "is_accepted": false, "score": 63, "last_activity_date": 1584399754, "last_edit_date": 1584399754, "creation_date": 1523539901, "answer_id": 49797920, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/49797920#49797920", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>You can create an interceptor to apply <code>takeUntil</code> operator to every request. Then on route change you will emit event that will cancel all pending requests.</p>\n\n<pre><code>@Injectable()\nexport class HttpCancelInterceptor implements HttpInterceptor {\n  constructor(private httpCancelService: HttpCancelService) { }\n\n  intercept&lt;T&gt;(req: HttpRequest&lt;T&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;T&gt;&gt; {\n    return next.handle(req).pipe(takeUntil(this.httpCancelService.onCancelPendingRequests()))\n  }\n}\n</code></pre>\n\n<p>Helper service.</p>\n\n<pre><code>@Injectable()\nexport class HttpCancelService {\n  private cancelPendingRequests$ = new Subject&lt;void&gt;()\n\n  constructor() { }\n\n  /** Cancels all pending Http requests. */\n  public cancelPendingRequests() {\n    this.cancelPendingRequests$.next()\n  }\n\n  public onCancelPendingRequests() {\n    return this.cancelPendingRequests$.asObservable()\n  }\n\n}\n</code></pre>\n\n<p>Hook on route changes somewhere in your app (e.g. onInit in appComponent).</p>\n\n<pre><code>this.router.events.subscribe(event =&gt; {\n  if (event instanceof ActivationEnd) {\n    this.httpCancelService.cancelPendingRequests()\n  }\n})\n</code></pre>\n\n<p>And last but not least, register the interceptor to your app.module.ts:</p>\n\n<pre><code>  import { HttpCancelInterceptor } from 'path/to/http-cancel.interceptor';\n  import { HTTP_INTERCEPTORS } from '@angular/common/http';\n\n  @NgModule({\n    [...]\n    providers: [\n      {\n        multi: true,\n        provide: HTTP_INTERCEPTORS,\n        useClass: HttpCancelInterceptor\n      }\n    ],\n    [...]\n  })\n  export class AppModule { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11894059, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C3wqsjs9xgo/AAAAAAAAAAI/AAAAAAAAAAo/Eduo3M1Ti6Y/photo.jpg?sz=128", "display_name": "sanjil shakya", "link": "https://stackoverflow.com/users/11894059/sanjil-shakya"}, "is_accepted": false, "score": 1, "last_activity_date": 1565162205, "creation_date": 1565162205, "answer_id": 57388891, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/57388891#57388891", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<pre><code>    //This is the example of cancelling the get request once you leave the TestComponent.\n\n    import { Component, OnInit} from '@angular/core';\n\n    @Component({\n      selector: 'app-test',\n      templateUrl: './test.component.html'\n    })\n    export class TestComponent implements OnInit {\n\n      request: any;\nsomeList: any;\n\n      constructor( private _someService: SomeService) {\n\n      }\n\n    ngOnInit() {\n        this.getList();\n      }\n\n      ngOnDestroy(){\n        this.request.unsubscribe(); // To cancel the get request.\n      }\n\n      getList() {\n        this.request= this._someService.getAll()\n          .subscribe((response: any) =&gt; {\n            this.someList= response;\n          }, (error) =&gt; {\n            console.log(\"Error fetching List\", error);\n          })\n      }\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1127, "user_id": 2376892, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81cc7f4550ed84d09e1aeb34fb05c7ac?s=128&d=identicon&r=PG", "display_name": "Deunz", "link": "https://stackoverflow.com/users/2376892/deunz"}, "is_accepted": false, "score": 0, "last_activity_date": 1595231299, "last_edit_date": 1595231299, "creation_date": 1595230965, "answer_id": 62990736, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/62990736#62990736", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>Adding something to @Bladito answer which is almost perfect.</p>\n<p>Actually, the HttpCancelService stack is perfect, but the probleme is where it's called. Calling this on navigation end may cause problems if you have child routes.</p>\n<p>So I made an abstract container component which call the HttpCancelService when it's destroyed. That way I can manage when I want to cut any Http Cancelling request with more fine grain.</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { HttpCancelService } from '../../services/http-cancel-service.service';\n\n@Component({\n  selector: 'some-abstract-container',\n  template: `\n    ABSTRACT COMPONENT\n  `,\n  styleUrls: ['./abstract-container.component.scss']\n})\nexport class AbstractContainerComponent implements OnInit, OnDestroy {\n  constructor(protected readonly httpCancelService: HttpCancelService) {}\n\n  ngOnInit() {}\n\n  ngOnDestroy(): void {\n    this.httpCancelService.cancelPendingRequests();\n  }\n}\n\n\n</code></pre>\n<p>And there it's a concrete component extending the abstract component:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { AbstractContainerComponent } from '../../../shared/components/abstract-container/abstract-container.component';\nimport { HttpCancelService } from '../../../shared/services/http-cancel-service.service';\n\n@Component({\n  selector: 'some-concrete-container',\n  templateUrl: '.some-concrete-container.component.html',\n  styleUrls: ['./some-concrete-container.component.scss']\n})\nexport class SomeConcreteContainerComponent extends AbstractContainerComponent implements OnInit {\n  constructor(protected readonly httpCancelService: HttpCancelService) {\n    super(httpCancelService);\n  }\n\n  ngOnInit() {}\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1099, "user_id": 3862698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b838d69e754a8de9f73936f4db67800?s=128&d=identicon&r=PG&f=1", "display_name": "hanan", "link": "https://stackoverflow.com/users/3862698/hanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1617905890, "last_edit_date": 1617905890, "creation_date": 1617788741, "answer_id": 66983518, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4/66983518#66983518", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>To cancel requests I don't think its good idea to do it on route change level, bcs one will loose granularity.(maybe for one component u want to cancel a request and on other u don't, bcs its not going to destory and most importent what about background requests ? It will be very trickey to debug)</p>\n<p>But its generally a good idea to cancel <strong>Get</strong> requests whos component is going to destroy, <strong>regardless of route change</strong>.</p>\n<p><strong>For that</strong></p>\n<p>If you want to make your life easy then use <a href=\"https://github.com/ngneat/until-destroy\" rel=\"nofollow noreferrer\">until-destroy</a> it will automatically unsubscribe all observables when component is going to destroy.\nso its granule and general (not just HttpRequests but all observables)</p>\n<blockquote>\n<pre><code>import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({})\nexport class InboxComponent {\n  ngOnInit() {\n    interval(1000)\n      .pipe(untilDestroyed(this))\n      .subscribe();\n  }\n}\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54584, "favorite_count": 28, "answer_count": 10, "score": 52, "last_activity_date": 1617905890, "creation_date": 1504681708, "last_edit_date": 1504686726, "question_id": 46068908, "link": "https://stackoverflow.com/questions/46068908/how-to-cancel-unsubscribe-all-pending-http-requests-angular-4", "title": "How to cancel/unsubscribe all pending HTTP requests angular 4+", "body": "<p>How to cancel/abort all pending HTTP requests angular 4+.</p>\n\n<p>There is an <code>unsubscribe</code> method to cancel HTTP Requests but how to cancel all pending requests all at once. </p>\n\n<p>Especially while route change.</p>\n\n<p>There is one thing I did </p>\n\n<pre><code>ngOnDestroy() {\n  this.subscription.unsubscribe();\n}\n</code></pre>\n\n<p>but how to achieve this globally</p>\n\n<p>Any Ideas?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504681790, "post_id": 46068834, "comment_id": 79098260, "body": "There&#39;s some hole in design - you&#39;re trying to push <code>GreenItem</code> to list that potentially of type <code>RedItem[]</code> where  <code>RedItem</code> derives from <code>GreenItem</code>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1504681853, "post_id": 46068834, "comment_id": 79098301, "body": "ClassB is generic. It contains an array of T, which can be any type, as long as this type extends GreenItem. So T could be, for example, LighGreenItem. And the array should thus only contain elements of type LighGreenItem. But you&#39;re trying to push a GreenItem inside. A GreenItem is not  LighGreenItem."}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504682089, "post_id": 46068834, "comment_id": 79098459, "body": "Thanks, I understand the problem, but is there a way of solving this without overriding _list and get list() in ClassB and all other classes which extends ClassA with type set to GreenItem/SomeOtherItem?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504682200, "post_id": 46068834, "comment_id": 79098526, "body": "Why <code>ClassB</code> is generic? Just define it as <code>class ClassB extends ClassA&lt;GreenItem&gt;</code>"}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504682437, "post_id": 46068834, "comment_id": 79098690, "body": "What if I want ClassC which extends ClassB and _list should be of RedItem type?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1504682712, "post_id": 46068834, "comment_id": 79098873, "body": "You&#39;ll need to provide constructor function for derived item (generic type info is not available at runtime)"}], "answers": [{"comments": [{"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504683091, "post_id": 46069144, "comment_id": 79099104, "body": "I want end-user not to worry about the types, so that he could simply do new ClassB(). When default generics were introduced, I expected that this will be possible. Let&#39;s say I have 10 different lists, with this approach user will break his neck passing all the parameters."}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504683857, "post_id": 46069144, "comment_id": 79099557, "body": "Then the option that is left - is to drop generics from the base class. See my update."}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504686188, "post_id": 46069144, "comment_id": 79100922, "body": "Thanks, but this doesn&#39;t solve it - within ClassA I want list to be of BlueItem[] type. And, if I have ClassC which extends ClassB, I will face this problem again."}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504686822, "post_id": 46069144, "comment_id": 79101315, "body": "I think you are a bit abusing the generics. If you have such nested class hierarchy you should be looking into creating corresponding classes using mostly inheritance instead, as generics will not be of much help here."}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504687298, "post_id": 46069144, "comment_id": 79101624, "body": "Most likely you are right, the thing I don&#39;t like is that I will have to repeat a lot of getters/setters in each class just to have a correct type. This adds a lot of unnecessary code to compiled JavaScript."}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504701050, "post_id": 46069144, "comment_id": 79111478, "body": "I posted additional question about telling TS compiler to skip some of the code here: <a href=\"https://stackoverflow.com/questions/46075308/tell-typescript-compiler-not-to-compile-some-of-the-code\" title=\"tell typescript compiler not to compile some of the code\">stackoverflow.com/questions/46075308/&hellip;</a>"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 2, "last_activity_date": 1504683821, "last_edit_date": 1504683821, "creation_date": 1504682452, "answer_id": 46069144, "question_id": 46068834, "link": "https://stackoverflow.com/questions/46068834/typescript-generics-argument-of-type-x-is-not-assignable-to-parameter-of-type/46069144#46069144", "title": "Typescript generics: Argument of type &#39;X&#39; is not assignable to parameter of type &#39;T&#39;", "body": "<p>A simple way to solve the problem would be to make constructor of the list items also \"generic\":</p>\n\n<pre><code>class ClassB&lt;T extends GreenItem = GreenItem&gt; extends ClassA&lt;T&gt;\n{\n  constructor(listItemCtor: {new(): T})\n  {\n    super();\n\n    const t = new listItemCtor();\n\n    this._list.push(t);\n  }\n}\n</code></pre>\n\n<p>Its not universal solution - but if applicable - it will help.</p>\n\n<p>As an option you can also drop generics altogether in the base class:</p>\n\n<pre><code>class ClassA\n{\n    protected _list: Array&lt;any&gt;;\n}\n\nclass ClassB&lt;T extends GreenItem = GreenItem&gt; extends ClassA\n{\n  constructor()\n  {\n    super();\n\n    this._list.push(new GreenItem());\n  }\n\n  get list(): Array&lt;T&gt;\n  {\n    return this._list;\n  }\n}\n</code></pre>\n\n<p>You will not loose much as you still have type checking on public properties of ClassB. And <code>_list</code> is internal.</p>\n"}, {"comments": [{"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504702280, "post_id": 46075325, "comment_id": 79112391, "body": "This won&#39;t result error, but I would say it&#39;s a very wrong approach."}, {"owner": {"reputation": 2071, "user_id": 6100785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Q9qz.jpg?s=128&g=1", "display_name": "Rodris", "link": "https://stackoverflow.com/users/6100785/rodris"}, "reply_to_user": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504703507, "post_id": 46075325, "comment_id": 79113393, "body": "Why wrong? You can&#39;t cast to <code>T</code> if the class is not a <code>T</code>."}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504704617, "post_id": 46075325, "comment_id": 79114294, "body": "Well, you could do &lt;T&gt;new BlueItem() and it won&#39;t show error."}, {"owner": {"reputation": 2071, "user_id": 6100785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Q9qz.jpg?s=128&g=1", "display_name": "Rodris", "link": "https://stackoverflow.com/users/6100785/rodris"}, "reply_to_user": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1504705357, "post_id": 46075325, "comment_id": 79114862, "body": "Yes. It is a <code>BlueItem</code> list. It seems all right to me."}], "tags": [], "owner": {"reputation": 2071, "user_id": 6100785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Q9qz.jpg?s=128&g=1", "display_name": "Rodris", "link": "https://stackoverflow.com/users/6100785/rodris"}, "is_accepted": false, "score": 1, "last_activity_date": 1504701041, "creation_date": 1504701041, "answer_id": 46075325, "question_id": 46068834, "link": "https://stackoverflow.com/questions/46068834/typescript-generics-argument-of-type-x-is-not-assignable-to-parameter-of-type/46075325#46075325", "title": "Typescript generics: Argument of type &#39;X&#39; is not assignable to parameter of type &#39;T&#39;", "body": "<p>Cast the <code>GreenItem</code> to <code>T</code>.</p>\n\n<pre><code>class ClassB&lt;T extends GreenItem = GreenItem&gt; extends ClassA&lt;T&gt; {\n    constructor() {\n        super();\n        this._list.push(&lt;T&gt;new GreenItem());\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11596, "user_id": 621366, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d49c0343ea2c06aff6349ecf2ea6665?s=128&d=identicon&r=PG", "display_name": "peter", "link": "https://stackoverflow.com/users/621366/peter"}, "is_accepted": true, "score": 1, "last_activity_date": 1505144132, "creation_date": 1505144132, "answer_id": 46159375, "question_id": 46068834, "link": "https://stackoverflow.com/questions/46068834/typescript-generics-argument-of-type-x-is-not-assignable-to-parameter-of-type/46159375#46159375", "title": "Typescript generics: Argument of type &#39;X&#39; is not assignable to parameter of type &#39;T&#39;", "body": "<p>The issue is that you can't generate the correct types (T) inside your class, because you don't know what T is. Since you don't want to pass a factory function into your class, the next best solution would be to use union types and allow both types, like this:</p>\n\n<pre><code>class ClassA&lt;T = BlueItem&gt; {\n\n   protected _list:Array&lt;T | BlueItem&gt;;\n\n   get list(): Array&lt;T | BlueItem&gt; {\n    return this._list;\n   }\n}\n\nclass ClassB&lt;T = GreenItem&gt; extends ClassA&lt;T | GreenItem&gt; {\n}\n\nclass ClassC extends ClassB&lt;RedItem&gt; {\n}\n</code></pre>\n\n<p>However, here you'd need to check the items from the list to be the right type.</p>\n"}], "owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1650, "favorite_count": 0, "accepted_answer_id": 46159375, "answer_count": 3, "score": 1, "last_activity_date": 1505144132, "creation_date": 1504681436, "question_id": 46068834, "link": "https://stackoverflow.com/questions/46068834/typescript-generics-argument-of-type-x-is-not-assignable-to-parameter-of-type", "title": "Typescript generics: Argument of type &#39;X&#39; is not assignable to parameter of type &#39;T&#39;", "body": "<p>Here is some typescript code:</p>\n\n<pre><code>class ClassA&lt;T extends BlueItem = BlueItem&gt; {\n\n    protected _list: Array&lt;T&gt;;\n\n    get list(): Array&lt;T&gt; {\n        return this._list;\n    }\n}\n\nclass ClassB&lt;T extends GreenItem = GreenItem&gt; extends ClassA&lt;T&gt; {\n    constructor() {\n        super();\n        this._list.push(new GreenItem());\n    }\n}\n\nclass BlueItem {\n    protected blueItemProperty: number;\n}\n\n\nclass GreenItem extends BlueItem {\n    protected greenItemProperty: number;\n}\n</code></pre>\n\n<p>Compiler says \"Argument of type 'GreenItem' is not assignable to parameter of type 'T'. What would be a correct approach to solve this?</p>\n"}, {"tags": ["angular", "typescript", "webpack", "google-chrome-devtools"], "comments": [{"owner": {"reputation": 923, "user_id": 7454011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p571B.jpg?s=128&g=1", "display_name": "Karan Garg", "link": "https://stackoverflow.com/users/7454011/karan-garg"}, "edited": false, "score": 1, "creation_date": 1504681715, "post_id": 46068829, "comment_id": 79098206, "body": "can you try hitting command(ctrl)+P and then searching fir your file in the sources tab?"}, {"owner": {"reputation": 11500, "user_id": 177018, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/353d5ea02ff68805601aed1e1e84a60f?s=128&d=identicon&r=PG", "display_name": "Ergwun", "link": "https://stackoverflow.com/users/177018/ergwun"}, "reply_to_user": {"reputation": 923, "user_id": 7454011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p571B.jpg?s=128&g=1", "display_name": "Karan Garg", "link": "https://stackoverflow.com/users/7454011/karan-garg"}, "edited": false, "score": 0, "creation_date": 1504684406, "post_id": 46068829, "comment_id": 79099864, "body": "Ctrl-P and searching does not find it, but thanks anyway that is a handy feature I did not know about!"}, {"owner": {"reputation": 923, "user_id": 7454011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p571B.jpg?s=128&g=1", "display_name": "Karan Garg", "link": "https://stackoverflow.com/users/7454011/karan-garg"}, "edited": false, "score": 0, "creation_date": 1504686221, "post_id": 46068829, "comment_id": 79100944, "body": "okay i made a sample project and had one observation if you create a new object from  that model class in some other component/service(or any file) it wont be visible. Even simply importing the file wont work you have tho use the new keyword"}, {"owner": {"reputation": 17029, "user_id": 1669860, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/i3rVM.png?s=128&g=1", "display_name": "Kayce Basques", "link": "https://stackoverflow.com/users/1669860/kayce-basques"}, "edited": false, "score": 0, "creation_date": 1504717389, "post_id": 46068829, "comment_id": 79123050, "body": "Sounds buggy. Can you file a ticket at <a href=\"https://crbug.com\" rel=\"nofollow noreferrer\">crbug.com</a>?"}, {"owner": {"reputation": 11500, "user_id": 177018, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/353d5ea02ff68805601aed1e1e84a60f?s=128&d=identicon&r=PG", "display_name": "Ergwun", "link": "https://stackoverflow.com/users/177018/ergwun"}, "reply_to_user": {"reputation": 17029, "user_id": 1669860, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/i3rVM.png?s=128&g=1", "display_name": "Kayce Basques", "link": "https://stackoverflow.com/users/1669860/kayce-basques"}, "edited": false, "score": 0, "creation_date": 1504745340, "post_id": 46068829, "comment_id": 79134473, "body": "@KayceBasques Done, thanks: <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=762753\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromium/issues/detail?id=762753</a>"}], "owner": {"reputation": 11500, "user_id": 177018, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/353d5ea02ff68805601aed1e1e84a60f?s=128&d=identicon&r=PG", "display_name": "Ergwun", "link": "https://stackoverflow.com/users/177018/ergwun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504681409, "creation_date": 1504681409, "question_id": 46068829, "link": "https://stackoverflow.com/questions/46068829/how-to-see-typescript-source-for-simple-classes-in-chrome-dev-tools-when-using-w", "title": "How to see typescript source for simple classes in chrome dev tools when using webpack", "body": "<p>I have an angular application using typescript and webpack.\nI have turned source maps on in my <code>tsconfig.json</code>.</p>\n\n<p>If I go into the Sources tab in Chrome Dev Tools, I can see expand the node labelled <code>webpack://</code> and find the typescript source files for components and services etc., but not for simple model classes.</p>\n\n<p>I can repro the same behaviour using the Angular Tour Of Heroes webpack sample:\n<a href=\"https://github.com/michaelbazos/tour-of-heroes-webpack\" rel=\"nofollow noreferrer\">https://github.com/michaelbazos/tour-of-heroes-webpack</a></p>\n\n<p>For example, the <code>HeroService</code> source can be found here:\nwebpack://./src/app/hero/hero.service.ts?555d</p>\n\n<p>I would expect to find the source for the <code>Hero</code> class in the same location, but it is not there?</p>\n\n<p>Why is it not showing, and how can I view the source for the <code>Hero</code> class and set breakpoints etc.?</p>\n"}, {"tags": ["visual-studio", "typescript", "visual-studio-2017", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "is_accepted": true, "score": 1, "last_activity_date": 1504680869, "creation_date": 1504680869, "answer_id": 46068670, "question_id": 46068559, "link": "https://stackoverflow.com/questions/46068559/typescript-2-4-1-using-array-map-ts1109-expression-expected-ts2554-expected/46068670#46068670", "title": "TypeScript 2.4.1 using Array.map -&gt; TS1109 Expression expected. TS2554 Expected 1-2 arguments, but got 3", "body": "<p>It seems this error occurs because <code>case</code> is a reserved word. Fixed it like this:</p>\n\n<pre><code>this.props.cases.map((useCase, index) =&gt; { \n    rows.push(&lt;TableRow case={useCase} key={index} /&gt;) \n})\n</code></pre>\n\n<p>List of reserved words in TypeScript for future reference:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/2536#issuecomment-87194347\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/2536#issuecomment-87194347</a></p>\n"}], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 1, "accepted_answer_id": 46068670, "answer_count": 1, "score": 1, "last_activity_date": 1504680869, "creation_date": 1504680512, "question_id": 46068559, "link": "https://stackoverflow.com/questions/46068559/typescript-2-4-1-using-array-map-ts1109-expression-expected-ts2554-expected", "title": "TypeScript 2.4.1 using Array.map -&gt; TS1109 Expression expected. TS2554 Expected 1-2 arguments, but got 3", "body": "<p>I got the following error which I assumed was due to a typo from me. However I can't find out what I did wrong - I have only supplied two parameters and not three as you can see below.</p>\n\n<pre><code>this.props.cases.map((case, index) =&gt; { rows.push(&lt;TableRow case={case} key={index} /&gt;) })\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>TS1109 Expression expected. TS2554 Expected 1-2 arguments, but got 3</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/u674W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u674W.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["reactjs", "typescript", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 6569, "user_id": 371530, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UJz1r.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/371530/robin"}, "edited": false, "score": 0, "creation_date": 1504696114, "post_id": 46068694, "comment_id": 79107869, "body": "Thank you for your answer. Maybe this is another solution: <a href=\"https://palantir.github.io/tslint/rules/variable-name/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/variable-name</a>"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 6569, "user_id": 371530, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UJz1r.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/371530/robin"}, "edited": false, "score": 0, "creation_date": 1504696605, "post_id": 46068694, "comment_id": 79108230, "body": "If you will allow both pascal case and camel case - this will effectively kill the purpose of the check. As the most common problem is the mix of the mentioned styles - and tslint is a good tool to prevent this."}, {"owner": {"reputation": 785, "user_id": 2987410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69940f8d4d9637e559323f55a2d736a5?s=128&d=identicon&r=PG", "display_name": "Sourav Chandra", "link": "https://stackoverflow.com/users/2987410/sourav-chandra"}, "edited": false, "score": 1, "creation_date": 1521744056, "post_id": 46068694, "comment_id": 85874236, "body": "Can&#39;t we just allow <code>PascalCase</code> for <code>StatelessComponent&lt;S&gt;</code> type?"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 4, "last_activity_date": 1504680933, "creation_date": 1504680933, "answer_id": 46068694, "question_id": 46068546, "link": "https://stackoverflow.com/questions/46068546/tslint-and-react-stateless-component-naming-pascalcase-vs-camelcase/46068694#46068694", "title": "TSLint and React stateless component naming (PascalCase vs. camelCase)", "body": "<p>I think you have two options here:</p>\n\n<ol>\n<li><p>Use where appopriate comment like this</p>\n\n<p><code>/* tslint:disable-next-line:variable-name */</code></p>\n\n<p>to disable tslint warning at that particular line</p></li>\n<li><p>Use class components instead of functional ones.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3695, "user_id": 6213048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fcf68f42b160a352e7fa157dba36392?s=128&d=identicon&r=PG", "display_name": "soywod", "link": "https://stackoverflow.com/users/6213048/soywod"}, "is_accepted": false, "score": 0, "last_activity_date": 1540623888, "creation_date": 1540623888, "answer_id": 53019532, "question_id": 46068546, "link": "https://stackoverflow.com/questions/46068546/tslint-and-react-stateless-component-naming-pascalcase-vs-camelcase/53019532#53019532", "title": "TSLint and React stateless component naming (PascalCase vs. camelCase)", "body": "<p>I found a compromise, using a function declaration instead of a variable declaration for my component:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nhMbL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nhMbL.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 908, "user_id": 7556738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-xCpsdVhR28c/AAAAAAAAAAI/AAAAAAAAAwM/bK-rwYaw3XY/photo.jpg?sz=128", "display_name": "FabienChn", "link": "https://stackoverflow.com/users/7556738/fabienchn"}, "is_accepted": false, "score": 2, "last_activity_date": 1543933117, "creation_date": 1543933117, "answer_id": 53614946, "question_id": 46068546, "link": "https://stackoverflow.com/questions/46068546/tslint-and-react-stateless-component-naming-pascalcase-vs-camelcase/53614946#53614946", "title": "TSLint and React stateless component naming (PascalCase vs. camelCase)", "body": "<p>You can add the following rule in you tslint.json:</p>\n\n<pre><code>\"variable-name\": [true, \"ban-keywords\", \"check-format\", \"allow-pascal-case\"]\n</code></pre>\n"}], "owner": {"reputation": 6569, "user_id": 371530, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UJz1r.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/371530/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2619, "favorite_count": 1, "accepted_answer_id": 46068694, "answer_count": 3, "score": 4, "last_activity_date": 1543933117, "creation_date": 1504680432, "question_id": 46068546, "link": "https://stackoverflow.com/questions/46068546/tslint-and-react-stateless-component-naming-pascalcase-vs-camelcase", "title": "TSLint and React stateless component naming (PascalCase vs. camelCase)", "body": "<p>Stateless React components should be named in <a href=\"https://en.wikipedia.org/wiki/PascalCase\" rel=\"nofollow noreferrer\">PascalCase</a>, so React can distinguish between native elements and components. <a href=\"https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines\" rel=\"nofollow noreferrer\">Typescripts naming convention</a> dictates that we should use lowerCamelCase or UPPER_CASE for the name of const variables.</p>\n\n<p>How can I satisfy both (React and tslint)?</p>\n\n<p><a href=\"https://i.stack.imgur.com/rHsw3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHsw3.png\" alt=\"Explanation\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "docker"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7304253"}, "edited": false, "score": 0, "creation_date": 1504681176, "post_id": 46068710, "comment_id": 79097880, "body": "I have changed <code>&quot;start&quot;: &quot;ng serve&quot;</code> to <code>&quot;start&quot;: &quot;ng serve --port 4200 --host 0.0.0.0 --disable-host-check&quot;</code> but there is still the same problem. Have I change my docker-compose.yml or Dockerfile, too?"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1504681621, "post_id": 46068710, "comment_id": 79098152, "body": "Use <code>docker-compose up --build -d</code> to rebuild the image"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7304253"}, "edited": false, "score": 0, "creation_date": 1504682071, "post_id": 46068710, "comment_id": 79098447, "body": "It works perfectly. Thank you very much. Can you explain what was the problem? During docker-compose I get <code>The option &#39;--disable-host-check&#39; is not registered with the serve command. Run ng serve --help for a list of supported options. </code>"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1504682271, "post_id": 46068710, "comment_id": 79098574, "body": "The problem was that ng server by defaults listen on <code>127.0.0.1</code> and that means only traffic inside the container can reach it. From outside when traffic comes it doesn&#39;t listen"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7304253"}, "edited": false, "score": 0, "creation_date": 1504682563, "post_id": 46068710, "comment_id": 79098767, "body": "Traffic means that if I don&#39;t use external APIs in my project then it will work with <code>ng serve</code>?"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1504682866, "post_id": 46068710, "comment_id": 79098958, "body": "You can remove the <code>--disable-host-check</code> it is not needed anymore"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1504682898, "post_id": 46068710, "comment_id": 79098976, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/153744/discussion-between-tarun-lalwani-and-wahtdbogh\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "is_accepted": true, "score": 0, "last_activity_date": 1504680993, "creation_date": 1504680993, "answer_id": 46068710, "question_id": 46068514, "link": "https://stackoverflow.com/questions/46068514/although-the-frontend-compiles-correctly-both-using-docker-compose-up-and-ng-ser/46068710#46068710", "title": "Although the frontend compiles correctly both using docker-compose up and ng serve works properly only with ng serve", "body": "<p>Change your command </p>\n\n<pre><code>ng serve\n</code></pre>\n\n<p>to</p>\n\n<pre><code>ng serve --port 4200 --host 0.0.0.0 --disable-host-check\n</code></pre>\n\n<p>in package.json</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7304253"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 46068710, "answer_count": 1, "score": 0, "last_activity_date": 1504682580, "creation_date": 1504680290, "last_edit_date": 1504682580, "question_id": 46068514, "link": "https://stackoverflow.com/questions/46068514/although-the-frontend-compiles-correctly-both-using-docker-compose-up-and-ng-ser", "title": "Although the frontend compiles correctly both using docker-compose up and ng serve works properly only with ng serve", "body": "<p>Although the frontend compiles correctly both using <code>docker-compose up</code> and <code>ng serve</code> works properly only with <code>ng serve</code>. When I open <code>localhost:4200</code> my website is not loading. After <code>ng serve</code> works correctly. I would like to run it with Docker. In both cases I get:</p>\n\n<pre><code>angular_1  | ** NG Live Development Server is running on http://localhost:4200 **\nangular_1  | Hash: 23dc61d32587641214e0                                                                \nangular_1  | Time: 25229ms\nangular_1  | chunk    {0} polyfills.bundle.js, polyfills.bundle.js.map (polyfills) 222 kB {4} [initial] [rendered]\nangular_1  | chunk    {1} main.bundle.js, main.bundle.js.map (main) 113 kB {3} [initial] [rendered]\nangular_1  | chunk    {2} styles.bundle.js, styles.bundle.js.map (styles) 38 kB {4} [initial] [rendered]\nangular_1  | chunk    {3} vendor.bundle.js, vendor.bundle.js.map (vendor) 6.34 MB [initial] [rendered]\nangular_1  | chunk    {4} inline.bundle.js, inline.bundle.js.map (inline) 0 bytes [entry] [rendered]\nangular_1  | webpack: Compiled successfully.\n</code></pre>\n\n<p>Dockerfile in frontend directory:</p>\n\n<pre><code># Create image based on the official Node 6 image from dockerhub\nFROM node:6\n\n# Create a directory where our app will be placed\nRUN mkdir -p /usr/src/app\n\n# Change directory so that our commands run inside this new directory\nWORKDIR /usr/src/app\n\n# Copy dependency definitions\nCOPY package.json /usr/src/app\n\n# Install dependecies\nRUN npm install\n\n# Get all the code needed to run the app\nCOPY . /usr/src/app\n\n# Expose the port the app runs in\nEXPOSE 4200\n\n# Serve the app\nCMD [\"npm\", \"start\"]\n</code></pre>\n\n<p>My docker-compose.yml in main directory:</p>\n\n<pre><code>version: '3'\n\nservices:\n  db:\n    image: postgres\n  django:\n    build: .\n    command: python3 manage.py runserver 0.0.0.0:8000\n    volumes:\n      - .:/code\n    ports:\n      - \"8000:8000\"\n    depends_on:\n      - db\n  angular:\n    build: frontend\n    ports:\n      - \"4200:4200\"\n    depends_on:\n      - django\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ms-word", "add-in"], "comments": [{"owner": {"reputation": 3867, "user_id": 7506820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JcASm.jpg?s=128&g=1", "display_name": "Nico Van Belle", "link": "https://stackoverflow.com/users/7506820/nico-van-belle"}, "edited": false, "score": 0, "creation_date": 1504681637, "post_id": 46068414, "comment_id": 79098160, "body": "I suggest you try it yourself before asking for a solution."}, {"owner": {"reputation": 35, "user_id": 7858983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24be500ab878f70f4c199f04323d15ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/7858983/vivek-singh"}, "reply_to_user": {"reputation": 3867, "user_id": 7506820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JcASm.jpg?s=128&g=1", "display_name": "Nico Van Belle", "link": "https://stackoverflow.com/users/7506820/nico-van-belle"}, "edited": false, "score": 0, "creation_date": 1504682402, "post_id": 46068414, "comment_id": 79098667, "body": "I tried it. HTML part is    &lt;div&gt;     &lt;select&gt;             &lt;option value=&quot;choose&quot; &gt;choose option&lt;/option&gt;         &lt;option value=&quot;Yes&quot; (click)=&quot;yesClicked()&quot;&gt;Yes&lt;/option&gt;         &lt;option value=&quot;No&quot; &gt;No&lt;/option&gt;         &lt;/select&gt; &lt;/div&gt;      and then calling                                                                        function   yesClicked(){         this.wordDocument.yesclicked();     }                                     and then  in fuction i had witten code of inserting a paragraph in word document"}, {"owner": {"reputation": 3867, "user_id": 7506820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JcASm.jpg?s=128&g=1", "display_name": "Nico Van Belle", "link": "https://stackoverflow.com/users/7506820/nico-van-belle"}, "edited": false, "score": 2, "creation_date": 1504682640, "post_id": 46068414, "comment_id": 79098819, "body": "Edit the question so it includes the code instead"}, {"owner": {"reputation": 35, "user_id": 7858983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24be500ab878f70f4c199f04323d15ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/7858983/vivek-singh"}, "reply_to_user": {"reputation": 3867, "user_id": 7506820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JcASm.jpg?s=128&g=1", "display_name": "Nico Van Belle", "link": "https://stackoverflow.com/users/7506820/nico-van-belle"}, "edited": false, "score": 0, "creation_date": 1504689548, "post_id": 46068414, "comment_id": 79103241, "body": "thanks for suggesting. I got the answer"}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 7858983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24be500ab878f70f4c199f04323d15ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/7858983/vivek-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1504690044, "creation_date": 1504690044, "answer_id": 46071532, "question_id": 46068414, "link": "https://stackoverflow.com/questions/46068414/to-create-dropdown-in-word-add-in-using-typescript/46071532#46071532", "title": "to create dropdown in word add-in using typescript", "body": "<p>first, create a dropdown in HTML    </p>\n\n<pre><code>&lt;div&gt;\n&lt;select class=\"form-control\" (change)=\"yesClicked($event.target.value)\"&gt;\n    &lt;option value=\"choose\" &gt;choose option&lt;/option&gt;\n    &lt;option value=\"Yes\"&gt;Yes&lt;/option&gt;\n    &lt;option value=\"No\" &gt;No&lt;/option&gt;\n    &lt;/select&gt;\n</code></pre>\n\n<p> </p>\n\n<p>then add type scripting code</p>\n\n<pre><code>   yesClicked(eventName:any){\n    if(eventName=='Yes')\n        {\n            this.wordDocument.yesclicked();\n        }\n        else if(eventName =='No')\n            {\n\n                this.wordDocument.Noclicked();\n            }\n}\n</code></pre>\n\n<p>then define the function   </p>\n\n<pre><code>    yesclicked()\n    {   \n     Word.run(function (context) {\n     var body = context.document.body;\n     body.insertParagraph('Content of a new paragraph', \n     Word.InsertLocation.end);\n      return context.sync().then(function () {\n    console.log('Paragraph added at the end of the document body.');\n      });  \n     })   \n     .catch(function (error) {\n   console.log('Error: ' + JSON.stringify(error));\n  if (error instanceof OfficeExtension.Error) {\n    console.log('Debug info: ' + JSON.stringify(error.debugInfo));\n   }\n });\n\n }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7858983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24be500ab878f70f4c199f04323d15ec?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/7858983/vivek-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 46071532, "answer_count": 1, "score": 0, "last_activity_date": 1504727074, "creation_date": 1504679901, "last_edit_date": 1504727074, "question_id": 46068414, "link": "https://stackoverflow.com/questions/46068414/to-create-dropdown-in-word-add-in-using-typescript", "title": "to create dropdown in word add-in using typescript", "body": "<p>I want to create a drop-down in word add-in using angular typescript having options yes and no and on the selection of particular option. I want to add a paragraph in a word document. Can any one suggest a good way.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 4, "last_activity_date": 1504687229, "creation_date": 1504687229, "answer_id": 46070540, "question_id": 46068274, "link": "https://stackoverflow.com/questions/46068274/typescript-definition-for-pluck/46070540#46070540", "title": "TypeScript definition for pluck", "body": "<p>You can achieve this by moving <code>T</code> type definition into inner function and defining constraint for it:</p>\n\n<pre><code>function pluck&lt;KeyType extends string&gt;(p: KeyType) {\n  return function &lt;T extends Record&lt;KeyType, any&gt;&gt;(o: T): T[KeyType] {\n    return o[p];\n  };\n}\n\nconst getA = pluck('a');\n\nconst a = { a: 1 };\nconsole.log(getA(a));\n\nconst b = { b: 1 };\nconsole.log(getA(b)); //error\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2166, "favorite_count": 1, "accepted_answer_id": 46070540, "answer_count": 1, "score": 5, "last_activity_date": 1504687229, "creation_date": 1504679384, "question_id": 46068274, "link": "https://stackoverflow.com/questions/46068274/typescript-definition-for-pluck", "title": "TypeScript definition for pluck", "body": "<p>The <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"noreferrer\">TypeScript documentation</a> gives the following example for defining a <code>pluck</code> function, using \"index types\" (slightly modified):</p>\n\n<pre><code>function pluck&lt;T, K extends keyof T&gt;(o: T, name: K): T[K] {\n  return o[name];\n}\n</code></pre>\n\n<p>which is obviously called as</p>\n\n<pre><code>pluck({a: 1}, 'a')\n</code></pre>\n\n<p>However, I want to define a <code>pluck</code> which takes just a property name, and yields a function I can apply to an object to obtain that property, as in</p>\n\n<pre><code>const getA = pluck('a');\ngetA({a: 1})\n</code></pre>\n\n<p>I tried the following:</p>\n\n<pre><code>function pluck&lt;T, K extends keyof T&gt;(p: K) {\n  return function(o: T): T[K] {\n    return o[p];\n  };\n}\n</code></pre>\n\n<p>This compiles fine, but when I try to use it:</p>\n\n<pre><code>const a = {a: 1};\nconst getA = pluck('a');\nconsole.log(getA(a));\n</code></pre>\n\n<p>I get the error</p>\n\n<blockquote>\n  <p>Argument of type '\"a\"' is not assignable to parameter of type 'never'. [2345]</p>\n</blockquote>\n\n<p>on the line where I call <code>pluck('a')</code>. Is there any way to do what I want?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1504779027, "post_id": 46068364, "comment_id": 79148863, "body": "I will watch your interventions the next days :) Oh... Relativise : Your Mac Pro Book  will have a little delay but enjoy, as Mac, you are today a legend :)"}, {"owner": {"reputation": 1532, "user_id": 5996109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ea8a30cf336f9bdd23ecafdae26e2b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Alfa Bravo", "link": "https://stackoverflow.com/users/5996109/alfa-bravo"}, "edited": false, "score": 0, "creation_date": 1505202057, "post_id": 46068364, "comment_id": 79303289, "body": "I have decided to (just for now) remove this as the right answer, due to the fact the post you have referred to uses the following line: var weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7); Here &quot;d&quot; is also a date, yet it is used in an arithmetic operation, which no surprise if I use that code: gives me the exact same error... any further help would be appreciated."}, {"owner": {"reputation": 1532, "user_id": 5996109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ea8a30cf336f9bdd23ecafdae26e2b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Alfa Bravo", "link": "https://stackoverflow.com/users/5996109/alfa-bravo"}, "edited": false, "score": 0, "creation_date": 1505202607, "post_id": 46068364, "comment_id": 79303605, "body": "Ok, I marked it correct again because I see that you did give the right answer, without actually specifically pointing it out. Maybe you can just change your answer for future reference to say that all I need to do was to use &quot;tdt.valueOf()&quot; in the &quot;return&quot; line, instead of just tdt. Thanks again."}], "tags": [], "owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1504679765, "creation_date": 1504679765, "answer_id": 46068364, "question_id": 46068084, "link": "https://stackoverflow.com/questions/46068084/calculating-week-number-with-typescript-right-hand-side-of-an-arithmetic-opera/46068364#46068364", "title": "Calculating week number with typescript - right-hand side of an arithmetic operation must be of type &#39;any&#39;", "body": "<p><code>tdt</code> is a <code>Date</code> and <code>firstThursday</code> is infered as a <code>number</code> because <code>tdt.valueOf()</code> returns a number representing the stored time value in milliseconds since midnight, January 1, 1970 UTC.<br></p>\n\n<p>You cannot use an arithmetic operations between these two variables :</p>\n\n<pre><code>firstThursday - tdt.\n</code></pre>\n\n<p>Anyway, your actual code is not designed to return a representation of an <em>ISO_8601 week date</em> as you specified <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow noreferrer\">here</a>.\nYou return a <code>Date</code> while you should return a <code>String</code>.<br>\nFor example, this input <code>Date</code> <code>Monday 29 December 2008</code> should return this <code>String</code> : <code>\"2009-W01-1\"</code>.<br></p>\n\n<p>Getting the year and the day number of the week is straight as Date provides methods for :</p>\n\n<pre><code>var dayNumber = date.getDay() + 1;\nvar year = date.getFullYear();\n</code></pre>\n\n<p>About the week number of the year, you have to implement this.<br>\nI invite you to rely on the code in the accepted answer of this <a href=\"https://stackoverflow.com/questions/6117814/get-week-of-year-in-javascript-like-in-php\">post</a>.</p>\n\n<p>Then, just concatenate the three values :</p>\n\n<pre><code>String isoWeek = year + \"-W-\" + weekNumber + \"-\" + dayNumber;\n</code></pre>\n"}], "owner": {"reputation": 1532, "user_id": 5996109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ea8a30cf336f9bdd23ecafdae26e2b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Alfa Bravo", "link": "https://stackoverflow.com/users/5996109/alfa-bravo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1752, "favorite_count": 0, "accepted_answer_id": 46068364, "answer_count": 1, "score": 1, "last_activity_date": 1505202121, "creation_date": 1504678649, "last_edit_date": 1505202121, "question_id": 46068084, "link": "https://stackoverflow.com/questions/46068084/calculating-week-number-with-typescript-right-hand-side-of-an-arithmetic-opera", "title": "Calculating week number with typescript - right-hand side of an arithmetic operation must be of type &#39;any&#39;", "body": "<p>I have been looking around allot for code to use in my program that will calculate the week number (according to <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow noreferrer\">ISO</a> standards) in my Angular app using typescript. It is very hard to find a piece of code just in JavaScript, but I think I may have found something- problem is I get an error: <em>The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.</em> </p>\n\n<p>I have NO idea what this means. \nHere is a service that I have tried to write to use the code:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class WeekNumberService {\n\n  constructor() { }\n\n ISO8601_week_no(dt)  {\n  var tdt = new Date(dt.valueOf());\n  var dayn = (dt.getDay() + 6) % 7;\n  tdt.setDate(tdt.getDate() - dayn + 3);\n  var firstThursday = tdt.valueOf();\n  tdt.setMonth(0, 1);\n  if (tdt.getDay() !== 4) \n    {\n   tdt.setMonth(0, 1 + ((4 - tdt.getDay()) + 7) % 7);\n     }\n  return 1 + Math.ceil((firstThursday - tdt) / 604800000);\n  }\n\n}\n</code></pre>\n\n<p>PS: I am in the end only looking for the week number.</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1504677809, "post_id": 46067688, "comment_id": 79096021, "body": "It this: <code>return this.getUserRolesAndMenus().subscribe</code>. The <a href=\"https://github.com/ReactiveX/rxjs/blob/5.4.3/src/Observable.ts#L74-L76\" rel=\"nofollow noreferrer\"><code>subscribe</code></a> method does not return an <code>Observable</code>; it returns a <a href=\"http://reactivex.io/rxjs/class/es6/Subscription.js~Subscription.html\" rel=\"nofollow noreferrer\"><code>Subscription</code></a>."}, {"owner": {"reputation": 943, "user_id": 630209, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/06b538f9096e8c37d1246fee3b724b2b?s=128&d=identicon&r=PG", "display_name": "user630209", "link": "https://stackoverflow.com/users/630209/user630209"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1504678093, "post_id": 46067688, "comment_id": 79096177, "body": "this.getUserRolesAndMenus(), it returns an observable. updated the question added getUserRolesAndMenus() code."}, {"owner": {"reputation": 943, "user_id": 630209, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/06b538f9096e8c37d1246fee3b724b2b?s=128&d=identicon&r=PG", "display_name": "user630209", "link": "https://stackoverflow.com/users/630209/user630209"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1504678323, "post_id": 46067688, "comment_id": 79096283, "body": "@cartant : How can I fix this, need to return observable boolean."}], "answers": [{"tags": [], "owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "is_accepted": true, "score": 2, "last_activity_date": 1504683225, "creation_date": 1504683225, "answer_id": 46069348, "question_id": 46067688, "link": "https://stackoverflow.com/questions/46067688/type-subscription-is-not-assignable-to-type-observable-error-while-return-fr/46069348#46069348", "title": "Type &#39;Subscription&#39; is not assignable to type &#39;Observable&#39; error while return from subscribe", "body": "<p>You are returning a subscription instead of a Observable. Change <code>subscribe</code> to <code>switchMap</code>. This will return an Observable and replaces the result of <code>getUserRolesAndMenus</code> by the Observable you create with <code>Observable.of(...)</code></p>\n"}], "owner": {"reputation": 943, "user_id": 630209, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/06b538f9096e8c37d1246fee3b724b2b?s=128&d=identicon&r=PG", "display_name": "user630209", "link": "https://stackoverflow.com/users/630209/user630209"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1532, "favorite_count": 0, "accepted_answer_id": 46069348, "answer_count": 1, "score": 1, "last_activity_date": 1504683225, "creation_date": 1504677008, "last_edit_date": 1504679144, "question_id": 46067688, "link": "https://stackoverflow.com/questions/46067688/type-subscription-is-not-assignable-to-type-observable-error-while-return-fr", "title": "Type &#39;Subscription&#39; is not assignable to type &#39;Observable&#39; error while return from subscribe", "body": "<pre><code>    setPrivileges(privilege: string): Observable&lt;boolean&gt; {\n        if (this.loginService.privilegeList != null &amp;&amp; this.loginService.privilegeList != undefined &amp;&amp; this.loginService.privilegeList.getValue() != null) {\n            this.privileges = this.loginService.privilegeList.getValue().filter(item =&gt; item.name === privilege);\n            console.log(\"if this.privileges : \"+this.privileges);\n                return Observable.of(true);\n        } else {\n              return this.getUserRolesAndMenus().subscribe((result: any) =&gt; {  // line 7\n               console.log(\"result  :\"+JSON.stringify(result));\n               this.privileges = result.roles.filter((element: any) =&gt; {\n                    element.privileges.filter((item: any) =&gt; {\n                        item.name === privilege;\n                    })\n                })\n                console.log(\"esle this.privileges : \"+this.privileges);\n                if(this.privileges == null)\n                    return Observable.of(true);\n                else\n                       return Observable.of(true);\n            });\n        }\n    }\n</code></pre>\n\n<p>On line 7 it throws exception as </p>\n\n<p>[ts]</p>\n\n<p>Type 'Subscription' is not assignable to type 'Observable'.\n  Property '_isScalar' is missing in type 'Subscription'.\n(method) UserService.getUserRolesAndMenus(): Observable\nTo get the user details.\n'</p>\n\n<p>What is doing wrong here ?</p>\n\n<pre><code>/**\n     * To get the user details.\n     */\n    getUserRolesAndMenus(): Observable&lt;any&gt; {\n        let headers = new Headers();\n        headers.append(AppUtils.HEADER_AUTHENTICATION, localStorage.getItem(AppUtils.STORAGE_ACCOUNT_TOKEN));\n        return this.http.get(AppUtils.GET_USER_ROLES_AND_MENUS + AppUtils.SYSTEM_ID_IRS, { headers: headers })\n            .map(response =&gt; response.json())\n            .catch(this.handleError)\n           /* .publishReplay(1)\n            .refCount();*/\n    }\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 1, "last_activity_date": 1504675495, "creation_date": 1504675495, "answer_id": 46067380, "question_id": 46067321, "link": "https://stackoverflow.com/questions/46067321/how-to-fetch-the-name-from-consoled-output-to-html-page-using-angular2/46067380#46067380", "title": "How to fetch the name from consoled output to HTML page using Angular2", "body": "<p>Try this</p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"exampleSelect1\" name=\"selected\" [(ngModel)]=\"selectedCampaign\" &gt;\n  &lt;option *ngFor=\"let item of companiesPDF\" [ngValue]=\"item\"&gt;{{item?.name}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<ul>\n<li>Right now you are accessing varibale named <code>CampaignData</code></li>\n<li>also use <code>?</code> safe navigation while rendring name , it may help to avoid error while asynch data.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 6582, "user_id": 3274830, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/R9y6g.jpg?s=128&g=1", "display_name": "mok", "link": "https://stackoverflow.com/users/3274830/mok"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1504676194, "post_id": 46067389, "comment_id": 79095336, "body": "@Tulsi I&#39;m happy it helped."}], "tags": [], "owner": {"reputation": 6582, "user_id": 3274830, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/R9y6g.jpg?s=128&g=1", "display_name": "mok", "link": "https://stackoverflow.com/users/3274830/mok"}, "is_accepted": true, "score": 2, "last_activity_date": 1504675526, "creation_date": 1504675526, "answer_id": 46067389, "question_id": 46067321, "link": "https://stackoverflow.com/questions/46067321/how-to-fetch-the-name-from-consoled-output-to-html-page-using-angular2/46067389#46067389", "title": "How to fetch the name from consoled output to HTML page using Angular2", "body": "<p>First of all your model should be accessible to your template, so based on your code, as you have used <code>this.data</code>, you can use <code>data</code> to render the data.</p>\n\n<p>Second, you can render it like this:</p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"exampleSelect1\" name=\"selected\" [(ngModel)]=\"selectedCampaign\" &gt;\n          &lt;option *ngFor=\"let item of data\" [ngValue]=\"item\"&gt;{{item.name}}&lt;/option&gt;\n        &lt;/select&gt;\n</code></pre>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 46067389, "answer_count": 2, "score": 0, "last_activity_date": 1504675896, "creation_date": 1504675208, "last_edit_date": 1504675896, "question_id": 46067321, "link": "https://stackoverflow.com/questions/46067321/how-to-fetch-the-name-from-consoled-output-to-html-page-using-angular2", "title": "How to fetch the name from consoled output to HTML page using Angular2", "body": "<p>I have a select option, in which the names of companies must be displayed in drop-down. Can anyone help me to fetch the names to HTML from consoled output.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"exampleSelect1\" name=\"selected\" [(ngModel)]=\"selectedCampaign\" &gt;\n          &lt;option *ngFor=\"let item of CampaignData\" [ngValue]=\"item\"&gt;{{item.campaign_name}}&lt;/option&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p>Typescript:</p>\n\n<pre><code>this.usersTableService.getCompanyData(this.token).subscribe(companies =&gt; {\n    this.data = companies;\n    this.companiesPDF = companies;\n    var CampaignData = this.companiesPDF;\n    console.log(JSON.stringify(companies));\n  });\n  }\n</code></pre>\n\n<p>Consoled Output:</p>\n\n<blockquote>\n  <p>[\n      {\"CVR\":3456789,\"name\":\"Benz\",\"address\":\"34 rue du bourbier\",\"phoneNo\":633406546,\"email\":\"claire.malinet@iae-aix.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":18,\"postalCodeId\":null,\"preSurvey\":false},</p>\n  \n  <p>{\"CVR\":1234567,\"name\":\"Stefania's\n  local\",\"address\":\"Norre Alle\n  8\",\"phoneNo\":485698659,\"email\":\"stefania.b.wiredelta@gmail.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":20,\"postalCodeId\":null,\"preSurvey\":false},</p>\n  \n  <p>{\"CVR\":2365986,\"name\":\"Churchdesk\",\"address\":\"Kobenvan\n  32\",\"phoneNo\":25362536,\"email\":\"stefaniabarabas@gmail.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":23,\"postalCodeId\":null,\"preSurvey\":false},</p>\n  \n  <p>{\"CVR\":78945665,\"name\":\"Peergrade\",\"address\":\"Titangae\n  11, 2200\n  Kobenhavn\",\"phoneNo\":8659865,\"email\":\"david@peergrade.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":25,\"postalCodeId\":null,\"preSurvey\":false},</p>\n  \n  <p>{\"CVR\":85968596,\"name\":\"Bosch\",\"address\":\"Norre\n  Alle 7, 2500\n  Kobenhavn\",\"phoneNo\":78451296,\"email\":\"hermagold@gmail.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":27,\"postalCodeId\":null,\"preSurvey\":false},</p>\n  \n  <p>{\"CVR\":784586,\"name\":\"Lala\",\"address\":\"Kobenhavn\n  25S\",\"phoneNo\":78458526,\"email\":\"lala@lala.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":30,\"postalCodeId\":null,\"preSurvey\":false},</p>\n  \n  <p>{\"CVR\":12345678,\"name\":\"testWD\",\"address\":\"Titangade\n  11, 2200\n  K\u00f8benhavn\",\"phoneNo\":34567890,\"email\":\"claire.m.wiredelta@gmail.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":37,\"postalCodeId\":null,\"preSurvey\":true},\n  {\"CVR\":12312322,\"name\":\"Wirelocal\",\"address\":null,\"phoneNo\":123123123,\"email\":\"maks.k.wiredelta@gmail.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":38,\"postalCodeId\":null,\"preSurvey\":false},\n  {\"CVR\":111,\"name\":\"AnuShree\",\"address\":null,\"phoneNo\":23456,\"email\":\"anushree.s.wiredelta@gmail.com\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":39,\"postalCodeId\":null,\"preSurvey\":false},</p>\n  \n  <p>{\"CVR\":38185470,\"name\":\"Orbiz\",\"address\":\"Lysk\u00e6r\n  7, 1. 2730\n  Herlev\",\"phoneNo\":20638651,\"email\":\"tandrup@orbizinsight.dk\",\"active\":true,\"accessId\":null,\"agreementNo\":null,\"id\":40,\"postalCodeId\":null,\"preSurvey\":true}]</p>\n</blockquote>\n\n<p>Please help.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "edited": false, "score": 1, "creation_date": 1504674544, "post_id": 46067151, "comment_id": 79094782, "body": "what you mean (withou ??"}, {"owner": {"reputation": 9497, "user_id": 248703, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/OAvW6.png?s=128&g=1", "display_name": "alessandro", "link": "https://stackoverflow.com/users/248703/alessandro"}, "edited": false, "score": 0, "creation_date": 1504674638, "post_id": 46067151, "comment_id": 79094812, "body": "you are talking about <a href=\"https://docs.angularjs.org/api/ng/function/angular.copy\" rel=\"nofollow noreferrer\">docs.angularjs.org/api/ng/function/angular.copy</a>"}, {"owner": {"reputation": 9497, "user_id": 248703, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/OAvW6.png?s=128&g=1", "display_name": "alessandro", "link": "https://stackoverflow.com/users/248703/alessandro"}, "edited": false, "score": 0, "creation_date": 1504674741, "post_id": 46067151, "comment_id": 79094845, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29749433/difference-between-angular-copy-and-assignment\">Difference between angular.copy() and assignment (=)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 5488855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/313a4b3364310d7f0a0aa3290d29d4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreemat", "link": "https://stackoverflow.com/users/5488855/sreemat"}, "is_accepted": true, "score": 1, "last_activity_date": 1504674832, "creation_date": 1504674832, "answer_id": 46067240, "question_id": 46067151, "link": "https://stackoverflow.com/questions/46067151/add-object-value-instead-of-reference-to-the-new-variable-in-type-script/46067240#46067240", "title": "Add object value instead of reference to the new variable in Type Script", "body": "<p>You can create a constructor in <code>Frequencies</code> like below</p>\n\n<pre><code>Frequencies(frequencies:Frequencies){\nthis.occurance = frequencies.occurance;\n}\n</code></pre>\n\n<p>Change the code like this</p>\n\n<pre><code>saveOccuraces(currentFrequency:Frequencies){\n        var freq= new Frequencies(currentFrequency);\n        this.selectedFrequencies.push(freq);\n    }\n</code></pre>\n\n<p>Alternative Way using Object.Assign()</p>\n\n<pre><code>saveOccuraces(currentFrequency:Frequencies){\n            var freq= Object.assign(new Frequencies(),currentFrequency);\n            this.selectedFrequencies.push(freq);\n        }\n</code></pre>\n"}], "owner": {"reputation": 560, "user_id": 7434324, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-cqHPABYeCXw/AAAAAAAAAAI/AAAAAAAAAJI/lhW6nY2HJfc/photo.jpg?sz=128", "display_name": "Rama Krishna", "link": "https://stackoverflow.com/users/7434324/rama-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 1, "accepted_answer_id": 46067240, "answer_count": 1, "score": 1, "last_activity_date": 1504674832, "creation_date": 1504674342, "last_edit_date": 1504674743, "question_id": 46067151, "link": "https://stackoverflow.com/questions/46067151/add-object-value-instead-of-reference-to-the-new-variable-in-type-script", "title": "Add object value instead of reference to the new variable in Type Script", "body": "<pre class=\"lang-js prettyprint-override\"><code>saveOccuraces(currentFrequency: Frequencies) {\n  var freq = new Frequencies();\n  freq = currentFrequency;\n  // freq.occurance = currentFrequency.occurance; // &lt;--Problem is here\n  this.selectedFrequencies.push(freq);\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;md-input-container&gt;\n  &lt;input type=\"number\" [(ngModel)]=\"currentFrequency.occurance\" mdInput placeholder=\"Every\" name=\"occurance\"&gt;\n&lt;/md-input-container&gt;\n\n&lt;button md-icon-button (click)=\"saveOccuraces(currentFrequency)\"&gt;\n  &lt;md-icon&gt;add&lt;/md-icon&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>In the above code if I execute as it is, all occurrence values are updating with new one, if i comment <code>freq=currentFrequency;</code> line and un comment <code>freq.occurance = currentFrequency.occurance;</code> then it is working fine.</p>\n\n<p>Is there any alternative to push objects with value only (withou</p>\n"}, {"tags": ["javascript", "typescript", "svg"], "comments": [{"owner": {"reputation": 5375, "user_id": 1254208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc39122a90bc586faa0804b7ddf823d?s=128&d=identicon&r=PG", "display_name": "GregHNZ", "link": "https://stackoverflow.com/users/1254208/greghnz"}, "edited": false, "score": 0, "creation_date": 1504672291, "post_id": 46066556, "comment_id": 79094154, "body": "Kind of not answering the question, but shouldn&#39;t you be specifying the namespace to be <code>http:&#47;&#47;www.w3.org&#47;2000&#47;svg</code> ?"}, {"owner": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "reply_to_user": {"reputation": 5375, "user_id": 1254208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc39122a90bc586faa0804b7ddf823d?s=128&d=identicon&r=PG", "display_name": "GregHNZ", "link": "https://stackoverflow.com/users/1254208/greghnz"}, "edited": false, "score": 0, "creation_date": 1504676163, "post_id": 46066556, "comment_id": 79095319, "body": "@GregHNZ - Actually, no. In the text of the answer I linked there is a discussion of this."}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1504678096, "post_id": 46066556, "comment_id": 79096179, "body": "Just use setAttribute. Less typing overall."}, {"owner": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "edited": false, "score": 0, "creation_date": 1504705416, "post_id": 46066556, "comment_id": 79114909, "body": "There is a good reason the DOM object for <code>&lt;svg&gt;</code> is named <code>SVGSVGElement</code>. It&#39;s the same reason that the <code>&lt;html&gt;</code> element class is named <code>HTMLHtmlElemnt</code>."}, {"owner": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "reply_to_user": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "edited": false, "score": 0, "creation_date": 1504761105, "post_id": 46066556, "comment_id": 79138185, "body": "@PaulLeBeau - and what is that reason? Namespacing?"}, {"owner": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "edited": false, "score": 0, "creation_date": 1504763635, "post_id": 46066556, "comment_id": 79139131, "body": "Basically yes. The first &quot;SVG&quot; is the specification. The second is the element. <code>SVGSVGElement</code> corresponds to the <code>&lt;svg&gt;</code> element. <code>SVGPathElement</code> corresponds to the <code>&lt;path&gt;</code> element."}], "answers": [{"comments": [{"owner": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "edited": false, "score": 0, "creation_date": 1504676347, "post_id": 46066969, "comment_id": 79095400, "body": "Great answer which I have used, except because I&#39;m pedantic it&#39;s <code>namespaceURI: string | null</code> also I had to do it to SVGSVGElement and explicitly type <code>svg: SVGSVGElement</code>"}, {"owner": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "edited": false, "score": 0, "creation_date": 1504676958, "post_id": 46066969, "comment_id": 79095638, "body": "And merging failed hiding other methods so I ended up declaring an interface NSfix and casting for the call <code>(svg as NSfix).setAttributeNS(null, ...)</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "edited": false, "score": 0, "creation_date": 1504679649, "post_id": 46066969, "comment_id": 79096954, "body": "@PeterWone What methods is it hiding ? The interface should be declared at top level and not in any namespace. From my experiments, all methods are still there."}, {"owner": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "edited": false, "score": 0, "creation_date": 1504761555, "post_id": 46066969, "comment_id": 79138351, "body": "Well the way I wrote it wasn&#39;t explicitly in a namespace or module but it&#39;s an Aurelia view-model so that may well be the issue.. Either way, casting with an interface is the answer so thank you."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1504673325, "creation_date": 1504673325, "answer_id": 46066969, "question_id": 46066556, "link": "https://stackoverflow.com/questions/46066556/setattributens-wont-allow-null/46066969#46066969", "title": "setAttributeNS won&#39;t allow null", "body": "<p>If the documentation says null is allowed then this seems like an oversight in the definition unfortunately.</p>\n\n<p>Fortunately you can easily work around it. Typescript supports interface declaration merging so you can redeclare the <code>Element</code> interface in your file and add the missing method:</p>\n\n<pre><code>var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\ninterface Element {\n    setAttributeNS(namespaceURI: null, qualifiedName: string, value: string): void;\n}\ndeclare var canvas : HTMLCanvasElement;\n\nsvg.setAttributeNS(null, 'width', canvas.width.toString());\nsvg.setAttributeNS(null, 'height', canvas.height.toString());\n</code></pre>\n"}], "owner": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 46066969, "answer_count": 1, "score": 3, "last_activity_date": 1504673325, "creation_date": 1504670157, "question_id": 46066556, "link": "https://stackoverflow.com/questions/46066556/setattributens-wont-allow-null", "title": "setAttributeNS won&#39;t allow null", "body": "<p>I'm converting some JavaScript to Typescript.</p>\n\n<p>In the following code, null is rejected on the basis that it cannot be assigned to a string parameter.</p>\n\n<pre><code>var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\nsvg.setAttributeNS(null, 'width', canvas.width.toString());\nsvg.setAttributeNS(null, 'height', canvas.height.toString());\n</code></pre>\n\n<p>Inspecting the type of <code>svg</code>, we find that it is <code>SVGSVGElement</code> (yes, SVG occurs twice in the name). I tried explicitly specifying a type <code>svg: SVGElement</code> and was able to assign the created element to it, but there was no effect on the null problem.</p>\n\n<p>The accepted answer to <a href=\"https://stackoverflow.com/questions/35057909/difference-between-setattribute-and-setattributensnull\">Difference between setAttribute and setAttributeNS(null,</a> says I <em>must</em> pass null when the attribute has no defined namespace. It then advises me to use <code>setAttributeNS</code> \"for consistency\".</p>\n\n<p>But I <em>can't</em> pass null. Should I pass an empty string? Would that work? or should I use the DOM level 1 <code>setAttribute</code> method?</p>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 6047, "user_id": 845704, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/EtypH.jpg?s=128&g=1", "display_name": "James Hay", "link": "https://stackoverflow.com/users/845704/james-hay"}, "edited": false, "score": 0, "creation_date": 1504670326, "post_id": 46066343, "comment_id": 79093688, "body": "<code>ro[ke]</code> should be <code>ro[key]</code> not sure if that&#39;s a typo."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1504674000, "post_id": 46066343, "comment_id": 79094622, "body": "Where is the <code>Map</code> type coming from ? What library ?"}, {"owner": {"reputation": 1030, "user_id": 6330937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5407d011df1bfc192e62cfee40fa04a5?s=128&d=identicon&r=PG&f=1", "display_name": "Lostfields", "link": "https://stackoverflow.com/users/6330937/lostfields"}, "edited": false, "score": 0, "creation_date": 1504675944, "post_id": 46066343, "comment_id": 79095251, "body": "es6 &quot;Map&quot; ? Try new Map()"}, {"owner": {"reputation": 78, "user_id": 8070638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhioC.jpg?s=128&g=1", "display_name": "Pankaj Chimbalkar", "link": "https://stackoverflow.com/users/8070638/pankaj-chimbalkar"}, "edited": false, "score": 0, "creation_date": 1582118922, "post_id": 46066343, "comment_id": 106666436, "body": "Object.fromEntries(mapObject); is available in node 12 onwards  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 78, "user_id": 8070638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhioC.jpg?s=128&g=1", "display_name": "Pankaj Chimbalkar", "link": "https://stackoverflow.com/users/8070638/pankaj-chimbalkar"}, "edited": false, "score": 0, "creation_date": 1582119055, "post_id": 46066343, "comment_id": 106666511, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/37437805/convert-map-to-json-object-in-javascript\">Convert Map to JSON object in Javascript</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 2, "creation_date": 1504686158, "post_id": 46067566, "comment_id": 79100896, "body": "With <code>[key, val]</code> instead of the parameter <code>e</code> it would be more readable IMO. :-)"}, {"owner": {"reputation": 1030, "user_id": 6330937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5407d011df1bfc192e62cfee40fa04a5?s=128&d=identicon&r=PG&f=1", "display_name": "Lostfields", "link": "https://stackoverflow.com/users/6330937/lostfields"}, "reply_to_user": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1504773341, "post_id": 46067566, "comment_id": 79144876, "body": "yeah, I usually forget that nice new destructuring assignment :-) Thanks."}, {"owner": {"reputation": 14865, "user_id": 1005481, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cNh9q.jpg?s=128&g=1", "display_name": "barfuin", "link": "https://stackoverflow.com/users/1005481/barfuin"}, "edited": false, "score": 0, "creation_date": 1563997704, "post_id": 46067566, "comment_id": 100890331, "body": "Doesn&#39;t do <i>deep</i> toString, tho."}], "tags": [], "owner": {"reputation": 1030, "user_id": 6330937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5407d011df1bfc192e62cfee40fa04a5?s=128&d=identicon&r=PG&f=1", "display_name": "Lostfields", "link": "https://stackoverflow.com/users/6330937/lostfields"}, "is_accepted": false, "score": 10, "last_activity_date": 1504773378, "last_edit_date": 1504773378, "creation_date": 1504676418, "answer_id": 46067566, "question_id": 46066343, "link": "https://stackoverflow.com/questions/46066343/convert-typescript-mapstring-string-to-json-string-representation/46067566#46067566", "title": "convert Typescript Map&lt;string, string&gt; to json string representation", "body": "<p>Readable? No, but it works</p>\n\n<pre><code>JSON.stringify(\n  Array.from(\n    new Map().set('tag', 'v1').set('foo', 'bar').entries()\n  )\n  .reduce((o, [key, value]) =&gt; { \n    o[key] = value; \n\n    return o; \n  }, {})\n)\n</code></pre>\n\n<p>Like @james-hay pointed out, you have a typo that probably makes the object empty</p>\n"}, {"tags": [], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "is_accepted": true, "score": 10, "last_activity_date": 1504711162, "creation_date": 1504711162, "answer_id": 46078961, "question_id": 46066343, "link": "https://stackoverflow.com/questions/46066343/convert-typescript-mapstring-string-to-json-string-representation/46078961#46078961", "title": "convert Typescript Map&lt;string, string&gt; to json string representation", "body": "<p>I eventually gave up on using es6 Map and switched to <a href=\"https://www.npmjs.com/package/typescript-map\" rel=\"noreferrer\">TSMap</a>, on which <code>tags.toJSON()</code> works.</p>\n"}, {"tags": [], "owner": {"reputation": 7207, "user_id": 676427, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/5026f5975606c389bbb6831d20826cb0?s=128&d=identicon&r=PG", "display_name": "Robert Jack Will", "link": "https://stackoverflow.com/users/676427/robert-jack-will"}, "is_accepted": false, "score": 7, "last_activity_date": 1564414665, "last_edit_date": 1564414665, "creation_date": 1543069551, "answer_id": 53459141, "question_id": 46066343, "link": "https://stackoverflow.com/questions/46066343/convert-typescript-mapstring-string-to-json-string-representation/53459141#53459141", "title": "convert Typescript Map&lt;string, string&gt; to json string representation", "body": "<p>Although it does not directly answer your question: when I had the same problem, I reconsidered my use of Map and went for plain JavaScript objects. Since JSON always needs strings as keys, one of Map's main advantages (keys of any type) are lost anyway.</p>\n\n<p>Another advantage of Map is that they allow a nice type signature, like <code>Map&lt;String, Array&lt;String&gt;&gt;</code>. But here TypeScript's \"index signatures\" provide exactly this for plain JavaScript objects and even allow a name for keys:</p>\n\n<pre><code>interface CityLists {\n    [postcode: string]: Array&lt;string&gt;\n};\n</code></pre>\n\n<p>This can be used almost like a Map (with different syntax, of course) and it directly converts to JSON <em>even when nested</em>. I think the latter is quite important when you convert an object tree to JSON where maps can be nested somewhere deep down in other arbitrary objects and arrays.</p>\n\n<p>Alternatively, TypeScript also has the type <code>Record&lt;K, T&gt;</code> for this use-case: a plain object used as a typed map. In the above example, I could write:</p>\n\n<pre><code>let cityLists: Record&lt;string, Array&lt;string&gt;&gt;;\ncityLists[\"capitals\"] = [\"Rome\", \"Paris\", \"Berlin\"];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 605, "user_id": 1351639, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc8f02bc2722d825eb8d107049c3dd3e?s=128&d=identicon&r=PG", "display_name": "moralejaSinCuentoNiProverbio", "link": "https://stackoverflow.com/users/1351639/moralejasincuentoniproverbio"}, "is_accepted": false, "score": 0, "last_activity_date": 1597152001, "creation_date": 1597152001, "answer_id": 63359016, "question_id": 46066343, "link": "https://stackoverflow.com/questions/46066343/convert-typescript-mapstring-string-to-json-string-representation/63359016#63359016", "title": "convert Typescript Map&lt;string, string&gt; to json string representation", "body": "<p>In Nativescript with lib es2015 I can do:</p>\n<p>From Object to string:</p>\n<pre><code>// no need to import JSON\nlet fooInString = JSON.stringify(this.mapObject.subMap);\n</code></pre>\n<p>From string to Object:</p>\n<pre><code>// no need to import JSON\nlet fooInObject = JSON.parse(fooInString);\n</code></pre>\n<p>Happy Coding!</p>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 5449870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a62fa0f8614ed26fd62727482307f9ff?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Rana", "link": "https://stackoverflow.com/users/5449870/shubham-rana"}, "is_accepted": false, "score": 0, "last_activity_date": 1605689335, "creation_date": 1605689335, "answer_id": 64889766, "question_id": 46066343, "link": "https://stackoverflow.com/questions/46066343/convert-typescript-mapstring-string-to-json-string-representation/64889766#64889766", "title": "convert Typescript Map&lt;string, string&gt; to json string representation", "body": "<p>While this seems to be a typo as indicated in other answers, this problem can occur when ES6 and vanilla JS are used together in the same project. JS won't recognise the ES6 map and convert it to an empty object &quot;{}&quot;.</p>\n<p>A quick workaround is to use a serialiser/deserialiser whenever persisting ES6 maps in a JS object</p>\n<p>ES6 to JS</p>\n<pre><code>convertTSMapToJSObj(tsMap) {\n    const jsObj = {};\n    tsMap.forEach(function (value, key) {\n        jsObj[key] = value;\n    });\n    return jsObj;\n}\n</code></pre>\n<p>JS to ES6</p>\n<pre><code>convertJSObjToTSMap(jsObj) {\n    const tsMap = new Map();\n    const arrayOfMapEntries = new Map&lt;any, any&gt;(Object.entries(jsObj);\n    for (const [key, value] of arrayOfMapEntries.entries()) {\n        tsMap.set(key, value);\n    }\n    return tsMap;\n}\n</code></pre>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18514, "favorite_count": 2, "accepted_answer_id": 46078961, "answer_count": 5, "score": 10, "last_activity_date": 1605689335, "creation_date": 1504668671, "last_edit_date": 1504711186, "question_id": 46066343, "link": "https://stackoverflow.com/questions/46066343/convert-typescript-mapstring-string-to-json-string-representation", "title": "convert Typescript Map&lt;string, string&gt; to json string representation", "body": "<p>I've got a <code>Map&lt;string, string&gt;</code> variable in typescript:</p>\n\n<pre><code>let m = Map&lt;string, string&gt;().set('tag', 'v1');\n</code></pre>\n\n<p>I want to convert to json string representation:</p>\n\n<pre><code>'{\"tag\": \"v1\"}'\n</code></pre>\n\n<p>I've tried 3 different ways. First is to use <code>m.toString()</code>. Second is using <code>JSON.stringify(m)</code>. Both returned <code>{}</code>. I've even tried to convert the <code>Map</code> to a javascript <code>object</code> first and then convert to string:</p>\n\n<pre><code>function MapToString(map): string {\n  let ro = {};\n  Object.keys(map).forEach( key =&gt; {\n    ro[key] = map[key];\n  });\n  return JSON.stringify(ro);\n}\n\ns = MapToString(m);\n</code></pre>\n\n<p>This returned <code>{}</code> as well when I tried to print it in the console. </p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4045117, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-9lhiWwUA25M/AAAAAAAAAAI/AAAAAAAAACc/XDiVBoflYeU/photo.jpg?sz=128", "display_name": "Sergey A", "link": "https://stackoverflow.com/users/4045117/sergey-a"}, "edited": false, "score": 0, "creation_date": 1504669152, "post_id": 46066154, "comment_id": 79093386, "body": "This is a solution but not exact that I asked. Simply because at this case I need to duplicate types into array."}], "tags": [], "owner": {"reputation": 3804, "user_id": 1997626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1BGyo.jpg?s=128&g=1", "display_name": "Howard", "link": "https://stackoverflow.com/users/1997626/howard"}, "is_accepted": false, "score": -1, "last_activity_date": 1504667147, "creation_date": 1504667147, "answer_id": 46066154, "question_id": 46066031, "link": "https://stackoverflow.com/questions/46066031/typescript-function-to-check-if-type-is-not-assignable-to-custom-type/46066154#46066154", "title": "TypeScript function to check if type is not assignable to custom type", "body": "<p>Have you tried <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\" rel=\"nofollow noreferrer\">type-guards</a>?</p>\n\n<p>Something like below:</p>\n\n<pre><code>type Fruits = 'apple' | 'lemon' | 'orange';  \n\nfunction isFruits(value: Fruits | any): value is Fruits {\n    return ['apple', 'lemon', 'orange'].indexOf(value) &gt; -1;\n}\n\nconsole.log(isFruits('dd'));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1504674328, "creation_date": 1504674328, "answer_id": 46067145, "question_id": 46066031, "link": "https://stackoverflow.com/questions/46066031/typescript-function-to-check-if-type-is-not-assignable-to-custom-type/46067145#46067145", "title": "TypeScript function to check if type is not assignable to custom type", "body": "<p>If you use string enums instead you can achieve this more easily:</p>\n\n<pre><code>enum Fruits { apple = 'apple',  lemon = 'lemon',  orange = 'orange' }; \nconst validateFruit = (value): value is Fruits =&gt; Fruits[value] !== undefined;\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4045117, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-9lhiWwUA25M/AAAAAAAAAAI/AAAAAAAAACc/XDiVBoflYeU/photo.jpg?sz=128", "display_name": "Sergey A", "link": "https://stackoverflow.com/users/4045117/sergey-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 46067145, "answer_count": 2, "score": 0, "last_activity_date": 1504674813, "creation_date": 1504666299, "last_edit_date": 1504674813, "question_id": 46066031, "link": "https://stackoverflow.com/questions/46066031/typescript-function-to-check-if-type-is-not-assignable-to-custom-type", "title": "TypeScript function to check if type is not assignable to custom type", "body": "<p>For example I have type:  </p>\n\n<pre><code>type Fruits = 'apple' | 'lemon' | 'orange';  \n</code></pre>\n\n<p>And I have some function like this:    </p>\n\n<pre><code>const validateFruit = (value): boolean =&gt; {\n  /// return true if value has type Fruits\n}\n</code></pre>\n\n<p>Is there any solution to create this function?  </p>\n"}, {"tags": ["angular", "typescript", "angular2-changedetection"], "comments": [{"owner": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "edited": false, "score": 0, "creation_date": 1504664282, "post_id": 46065535, "comment_id": 79092336, "body": "I never get that error but have you tried using async pipe ? may be that helps."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "edited": false, "score": 0, "creation_date": 1504694124, "post_id": 46065535, "comment_id": 79106557, "body": "@fastAsTortoise A pipe is not applicable here The error will appear regardless of the template."}], "answers": [{"comments": [{"owner": {"reputation": 494, "user_id": 664292, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TGnpm.jpg?s=128&g=1", "display_name": "Bernardo", "link": "https://stackoverflow.com/users/664292/bernardo"}, "edited": false, "score": 0, "creation_date": 1533805982, "post_id": 46088913, "comment_id": 90484918, "body": "I am having a similar problem (which I fixed with detectChanges). And I am too emiting to an Output after subscribing to an Observable. But how is that emission synchronous if it is done after subscribing to an Observable?"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 494, "user_id": 664292, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TGnpm.jpg?s=128&g=1", "display_name": "Bernardo", "link": "https://stackoverflow.com/users/664292/bernardo"}, "edited": false, "score": 0, "creation_date": 1534091456, "post_id": 46088913, "comment_id": 90576408, "body": "@Bernardo, I&#39;d need to see a stackblitz demo and code to answer your question"}], "tags": [], "owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "is_accepted": true, "score": 7, "last_activity_date": 1504779692, "last_edit_date": 1504779692, "creation_date": 1504764290, "answer_id": 46088913, "question_id": 46065535, "link": "https://stackoverflow.com/questions/46065535/expressionchangedafterithasbeencheckederror-in-two-way-angular-binding/46088913#46088913", "title": "ExpressionChangedAfterItHasBeenCheckedError in two-way Angular binding", "body": "<p>Let's first unwrap the two-way data binding to simplify explanation:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;h1&gt;{{ foo }}&lt;/h1&gt;    \n  &lt;bpp [foo]=\"foo\" (fooChange)=\"foo=$event\"&gt;&lt;/bpp&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>It still has the same effect and occasionally produces the error. The error will only be produced if the <code>potentiallyButNotNecessarilyAsyncObservable</code> is synchronous. So we can also replace this:</p>\n\n<pre><code>ngAfterViewInit() {\n    const potentiallyButNotNecessarilyAsyncObservable = Observable.of(null);\n\n    potentiallyButNotNecessarilyAsyncObservable.subscribe(() =&gt; {\n      this.fooChange.emit('foo');\n    })\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>ngAfterViewInit() {\n    this.fooChange.emit('foo');\n</code></pre>\n\n<p>This case falls into the <code>Synchronous event broadcasting</code> category of errors that is explained in the article <a href=\"https://blog.angularindepth.com/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error-e3fd9ce7dbb4#ea64\" rel=\"noreferrer\">Everything you need to know about the <code>ExpressionChangedAfterItHasBeenCheckedError</code> error</a>.</p>\n\n<p>The <code>ngAfterViewInit</code> lifecycle hook is triggered after the parent component changes have been processed. The order of hooks related to child components is explained in the <a href=\"https://blog.angularindepth.com/everything-you-need-to-know-about-change-detection-in-angular-8006c51d206f\" rel=\"noreferrer\">Everything you need to know about change detection in Angular</a>. Now Angular remembers that when it ran change detection for the <code>App</code> component the value of <code>foo</code> was <code>undefined</code>, but during validation phase the value is <code>foo</code> that is updated by the child <code>Bpp</code> component. Hence it produces the error.</p>\n\n<blockquote>\n  <p>What can be done to avoid this error here?</p>\n</blockquote>\n\n<p>The fixes and the problems are described in the article I linked. The only safe option here if you don't want to redesign you logic is asynchronous update. You could also run change detection for the parent component but they may lead to an infinite loop since change detection on a component triggers change detection for component's children.</p>\n\n<blockquote>\n  <p>Does ExpressionChangedAfterItHasBeenCheckedError error have ill\n  effects or can it be ignored?</p>\n</blockquote>\n\n<p>The ill affect is that you will have incosistent state in the application <code>App.foo==='foo'</code> and the view <code>{{foo}}===undefined</code> until the next <a href=\"https://blog.angularindepth.com/angulars-digest-is-reborn-in-the-newer-version-of-angular-718a961ebd3e\" rel=\"noreferrer\">digest cycle</a> iteration. The error cannot be turned off in the development mode but it will not appear in the production mode.</p>\n\n<p><a href=\"https://vsavkin.com/two-phases-of-angular-2-applications-fda2517604be\" rel=\"noreferrer\">Two Phases of Angular Applications</a> is also pretty good in explaining the mental model for this error.</p>\n"}], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2222, "favorite_count": 1, "accepted_answer_id": 46088913, "answer_count": 1, "score": 5, "last_activity_date": 1504779692, "creation_date": 1504661868, "question_id": 46065535, "link": "https://stackoverflow.com/questions/46065535/expressionchangedafterithasbeencheckederror-in-two-way-angular-binding", "title": "ExpressionChangedAfterItHasBeenCheckedError in two-way Angular binding", "body": "<p>Here's an <a href=\"http://plnkr.co/edit/XD9YrIjiy8py7J78SRVW?p=preview\" rel=\"noreferrer\">example</a>:</p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div&gt;\n      &lt;h1&gt;{{ foo }}&lt;/h1&gt;    \n      &lt;bpp [(foo)]=\"foo\"&gt;&lt;/bpp&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class App {\n  foo;\n}\n\n@Component({\n  selector: 'bpp',\n  template: `\n    &lt;div&gt;\n      &lt;h2&gt;{{ foo }}&lt;/h2&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class Bpp {\n  @Input('foo') foo;\n\n  @Output('fooChange') fooChange = new EventEmitter();\n\n  ngAfterViewInit() {\n    const potentiallyButNotNecessarilyAsyncObservable = Observable.of(null);\n\n    potentiallyButNotNecessarilyAsyncObservable.subscribe(() =&gt; {\n      this.fooChange.emit('foo');\n    })\n  }\n}\n</code></pre>\n\n<p>where error occasionally appears:</p>\n\n<blockquote>\n  <p>ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: 'undefined'. Current value: 'foo'</p>\n</blockquote>\n\n<p>It results from the fact that two-way binding is updated by an observable that can get a value on same tick. I would prefer to not wrap the logic above with <code>setTimeout</code> because it looks like a hack and complicates control flow</p>\n\n<p>What can be done to avoid this error here?</p>\n\n<p>Does <code>ExpressionChangedAfterItHasBeenCheckedError</code> error have ill effects or can it be ignored? If it can, can change detector be silent on it and not pollute the console?</p>\n"}, {"tags": ["angular", "typescript", "import", "autoscroll"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 5527132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d473643d6cc8696a090a76cac340994?s=128&d=identicon&r=PG&f=1", "display_name": "HHayat", "link": "https://stackoverflow.com/users/5527132/hhayat"}, "is_accepted": true, "score": 2, "last_activity_date": 1519349615, "creation_date": 1519349615, "answer_id": 48939858, "question_id": 46065471, "link": "https://stackoverflow.com/questions/46065471/import-dom-autoscroller-in-a-typescript-file-yields-can-not-find-module/48939858#48939858", "title": "import &#39;dom-autoscroller&#39; in a typescript file yields &#39;Can not find module&#39;", "body": "<p>Finally, I found a workaround to solve the issue by defining a typed version of required functions of dom-autoscroller. Here are the steps:<br/>\n1. Add script of \"node_modules/dom-autoscroller/dist/dom-autoscroller.js\" to your .html/.aspx file<br/>\n2. Declare autoScroll function wherever you want to use it something like this:</p>\n\n<pre><code>declare function autoScroll(elements: any, options: any): any;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5527132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d473643d6cc8696a090a76cac340994?s=128&d=identicon&r=PG&f=1", "display_name": "HHayat", "link": "https://stackoverflow.com/users/5527132/hhayat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 48939858, "answer_count": 1, "score": 2, "last_activity_date": 1548257591, "creation_date": 1504661363, "question_id": 46065471, "link": "https://stackoverflow.com/questions/46065471/import-dom-autoscroller-in-a-typescript-file-yields-can-not-find-module", "title": "import &#39;dom-autoscroller&#39; in a typescript file yields &#39;Can not find module&#39;", "body": "<p>I am trying to use 'dom-autoscroller' along with dragula in my angular4/typescript(v2.5) project. I have successfully installed 'dom-autoscroller' npm package but when I try to import AutoScrollerFactory or autoScroll function using following lines, I get the 'Can not find module' error:</p>\n\n<ul>\n<li>import AutoScrollerFactory from 'dom-autoscroller/dist/bundle.es';</li>\n<li>import * as autoScroll from 'dom-autoscroller';</li>\n</ul>\n\n<p>Need to note that I am using VS2015 and the error is shown when the mouse hovered above the 'dom-autoscroller' text.</p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "mongoose", "async-await"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1504660854, "post_id": 46065334, "comment_id": 79091525, "body": "I think the only thing you can do is make a function that returns a <code>Promise</code> to use <code>async&#47;await</code> with mongo/mongoose."}], "answers": [{"tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 2, "last_activity_date": 1504660990, "creation_date": 1504660990, "answer_id": 46065420, "question_id": 46065334, "link": "https://stackoverflow.com/questions/46065334/is-it-possible-to-make-an-async-function-return-a-mongoose-query-instead-of-a-pr/46065420#46065420", "title": "Is it possible to make an async function return a mongoose Query instead of a Promise?", "body": "<h2>No</h2>\n\n<p>It's impossible to make an <code>async function</code> return a custom object instead of a <code>Promise</code> - not even a promise subclass.</p>\n\n<h2>No</h2>\n\n<p>You cannot make your <code>findBarWithFooName</code> return a query anyway, since it has to wait for <code>Foo.findOne</code> before the <code>Bar.find</code> is even called and constructs the Query object you are looking for.</p>\n\n<p>To solve your problem, you will need to return some wrapper for the query - you cannot <code>return</code> the query directly as it is thenable and does get implicitly awaited. The call would then look like</p>\n\n<pre><code>let bars = await ( unwrap(await Bar.findBarWithFooName('fooName')).sort('date') );\n</code></pre>\n\n<p>with <code>unwrap</code> being something that takes the Query out of the wrapper. As a wrapper you can use anything without a <code>then</code> method - it can be a closure, an object with a property, an array with a single element\u2026</p>\n"}], "owner": {"reputation": 3282, "user_id": 4833127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2dbdd602d584725385f45ab6087bda58?s=128&d=identicon&r=PG&f=1", "display_name": "Zsw", "link": "https://stackoverflow.com/users/4833127/zsw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 46065420, "answer_count": 1, "score": 1, "last_activity_date": 1504660990, "creation_date": 1504660207, "question_id": 46065334, "link": "https://stackoverflow.com/questions/46065334/is-it-possible-to-make-an-async-function-return-a-mongoose-query-instead-of-a-pr", "title": "Is it possible to make an async function return a mongoose Query instead of a Promise?", "body": "<h1>Setup</h1>\n\n<p>Let's say we have some documents <code>Foo</code> and <code>Bar</code>. <code>Foo</code> has a <code>name</code> field that can be used to identify documents other than using the document's <code>_id</code>. <code>Bar</code> contains a reference to a <code>Foo</code> document.</p>\n\n<pre><code>const fooSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    unique: true\n  }\n});\nconst Foo = &lt;any&gt;mongoose.model&lt;any&gt;('Foo', fooSchema);\n\nconst barSchema = new mongoose.Schema({\n  foo: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Foo'\n  },\n  date: Date\n});\nconst Bar = &lt;any&gt;mongoose.model&lt;any&gt;('Bar', barSchema);\n</code></pre>\n\n<p>Now suppose we have the <code>name</code> of a <code>Foo</code> document, but not its <code>_id</code>. We want to find all <code>Bar</code> documents which reference that <code>Foo</code> document. So we write a function that first finds the <code>Foo</code> document with the given <code>name</code>, then use it to find <code>Bar</code> documents.</p>\n\n<pre><code>barSchema.statics.findBarWithFooName = async function(name: string) {\n  let foo = await Foo.findOne({ name: name });\n  return Bar.find({ foo: foo });\n};\n</code></pre>\n\n<p>And we can use this function by writing:</p>\n\n<pre><code>let bars = await Bar.findBarWithFooName('fooName');\n</code></pre>\n\n<h1>Problem</h1>\n\n<p>However, we also want to sort the <code>bars</code> by date. Normally, with mongoose's Query builder, we can write something like so:</p>\n\n<pre><code>let bars = await Bar.find({})\n                    .sort('date');\n</code></pre>\n\n<p>However, if we instead used the function that we wrote:</p>\n\n<pre><code>let bars = await Bar.findBarWithFooName('fooName')\n                    .sort('date');\n</code></pre>\n\n<p>We would instead get an error:</p>\n\n<blockquote>\n  <p>UnhandledPromiseRejectionWarning: Unhandled promise\n  rejection (rejection id: 1): TypeError:\n  Bar.findBarWithFooName(...).sort is not a function</p>\n</blockquote>\n\n<h1>Debugging</h1>\n\n<p>Upon investigating with <code>console.log(bars)</code>, I discovered that when we call <code>Bar.find({})</code>, the resulting object is mongoose's <code>Query</code> object.</p>\n\n<p>However, when we call <code>Bar.findBarWithFooName('fooName')</code>, the resulting object is a <code>Promise { &lt;pending&gt; }</code>. So it makes sense that the method <code>sort</code> doesn't exist on a <code>Promise { &lt;pending&gt; }</code>.</p>\n\n<h1>Question</h1>\n\n<p>My question is then, why is it that in the first case, it returns a <code>Query</code>, but in the second case, it returns a <code>Promise { &lt;pending&gt; }</code>? And what can I do to make <code>findBarWithFooName</code> return a <code>Query</code> so that I can continue to build the query, instead of a <code>Promise { &lt;pending&gt; }</code>?</p>\n\n<p>I am aware that one solution I can use is to take <code>await Foo.findOne({ name: name })</code> out of <code>findBarWithFooName</code>, and simply take a <code>_id</code> as parameter instead of a <code>name</code>. However, I am trying to abstract away the process of having to find a <code>Foo</code> first, which is why I am trying to create a single function that returns a <code>Query</code> instead.</p>\n"}, {"tags": ["typescript", "types"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1504660466, "last_edit_date": 1504660466, "creation_date": 1504660028, "answer_id": 46065317, "question_id": 46064898, "link": "https://stackoverflow.com/questions/46064898/how-to-initialize-a-typescript-object-from-a-list-of-constructors-maybe-mappe/46065317#46065317", "title": "How to initialize a TypeScript object from a list of constructors? (Maybe: Mapped Type? Type operator for opposite of `typeof`?)", "body": "<p>I think you're pretty close with mapped types.  Let's look at your classes:</p>\n\n<pre><code>class Base {\n    constructor(someArgument: string) {}\n}\n\nclass A extends Base { _brand: 'A'; }\nclass B extends Base { _brand: 'B'; }\nclass C extends Base { _brand: 'C'; }\n\nlet allOfTheLetters = { A, B, C };\n</code></pre>\n\n<p>Okay, so all your classes have a constructor that takes a single <code>string</code> argument.  Let's describe that:</p>\n\n<pre><code>type BaseConstructor&lt;T&gt; = new (someArgument: string) =&gt; T;\n</code></pre>\n\n<p>Now let's describe the type of <code>allOfTheLetters</code> as a function of the output you want from <code>getWhatIWant()</code>.  Yes, I'm doing it <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#inference-from-mapped-types\" rel=\"nofollow noreferrer\">backwards</a>.  If the output is an object whose values are instances, the input is an object whose values are constructors for those very same instances, mapped by key:  </p>\n\n<pre><code>type DictionaryOfConstructors&lt;T&gt; = {\n  [K in keyof T]: BaseConstructor&lt;T[K]&gt;\n}\n</code></pre>\n\n<p>Now we can define the type of <code>getWhatIWant()</code>:    </p>\n\n<pre><code>function getWhatIWant&lt;T&gt;(letters: DictionaryOfConstructors&lt;T&gt;): T {\n  let result: any = {};\n  // note I have to assert that `key` is `keyof T` below\n  Object.keys(letters).forEach((key:keyof T) =&gt; result[key] =\n    new letters[key]('same params'));\n  return result;\n}\n\nlet example = getWhatIWant(allOfTheLetters);\nlet test: 'B' = example.B._brand; // it works!\n</code></pre>\n\n<hr>\n\n<p>The reason this works is because it's easier to describe the constructor type given the instance type (<code>T</code> becomes <code>new(...)=&gt;T</code>) than it is to describe the instance type given the constructor type (there's nothing like <code>typeof new C(...)</code> in TypeScript, <a href=\"https://github.com/microsoft/typescript/issues/6606\" rel=\"nofollow noreferrer\">for now anyway</a>) And luckily <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#inference-from-mapped-types\" rel=\"nofollow noreferrer\">inference from mapped types</a> is there to handle the backwards mapping for us.</p>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 3150, "user_id": 3012550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e2667dc04d27136e29ccb9c9e19cfd3?s=128&d=identicon&r=PG", "display_name": "alexanderbird", "link": "https://stackoverflow.com/users/3012550/alexanderbird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "accepted_answer_id": 46065317, "answer_count": 1, "score": 0, "last_activity_date": 1504660466, "creation_date": 1504656115, "question_id": 46064898, "link": "https://stackoverflow.com/questions/46064898/how-to-initialize-a-typescript-object-from-a-list-of-constructors-maybe-mappe", "title": "How to initialize a TypeScript object from a list of constructors? (Maybe: Mapped Type? Type operator for opposite of `typeof`?)", "body": "<p>In TypeScript <code>class Foo {}</code> produces the name declaration <code>Foo</code> which is the type of an instance of the class <code>Foo</code>, and it produces the variable <code>Foo</code>, which is the constructor function for the <code>Foo</code> class. (<a href=\"https://github.com/basarat/typescript-book/blob/master/docs/project/declarationspaces.md\" rel=\"nofollow noreferrer\">TypeScript Declaration Spaces</a>.) Given the value <code>Foo</code> (the constructor function) one can use the <code>typeof</code> operator to get the type of the class (rather than the type of an instance of the class). </p>\n\n<p>Summary:</p>\n\n<pre>\nCode            Variable Declaration         Name Declaration\n--------------- ---------------------------- ----------------\nclass Foo {}    variable Foo                 type Foo\ntypeof Foo      type of variable Foo\n</pre>\n\n<p>What I want to know: given the type of the variable <code>Foo</code>, is there a compile-time operator to get the type <code>Foo</code>, the type of an instance of the class <code>Foo</code>?</p>\n\n<p><strong>Or, more generally, how can I tersely describe the return type of <code>getWhatIWant</code> (below)?</strong></p>\n\n<p>Consider:</p>\n\n<pre><code>class Base {\n  constructor(someArgument: string) {}\n}\n\nclass A extends Base { _brand: 'A' }\nclass B extends Base { _brand: 'B' }\nclass C extends Base { _brand: 'C' }\n\nlet allOfTheLetters = { A, B, C };\n</code></pre>\n\n<p>I want an object with constructor names as keys, and an instance of each class as the value. The literal version is:</p>\n\n<pre><code>let whatIWouldLike = {\n  A: new A('same params'),\n  B: new B('same params'),\n  C: new C('same params')\n}\n</code></pre>\n\n<p>I'm trying to transform <code>allOfTheLetters</code> into <code>whatIWouldLike</code>. It's no trouble in JavaScript - iterate over the keys and values: </p>\n\n<pre><code>function getWhatIWant(letters) {\n  let result = {};\n  Object.keys(letters).forEach((key) =&gt; result[key] = new letters[key]('same params'));\n  return result;\n}\n</code></pre>\n\n<p>How can I describe the return type of this function? Mapped types get me close: </p>\n\n<pre><code>type TypeIWant = {[key in keyof typeof allOfTheLetters ]: typeof allOfTheLetters [key]};\n\nlet example: TypeIWant;\nlet test: 'B' = example.B._brand; // Error: Property '_brand' does not exist on type 'typeof B'\n</code></pre>\n\n<p><code>example.A</code> has type <code>'typeof A'</code>, not <code>'A'</code> like I need. </p>\n\n<p>If <code>instanceof</code> was a compile-time operator that could transform types, then I could transform the type <code>'typeof A'</code> to <code>'A'</code> and I'd get what I want. But that's not how it works. </p>\n\n<p><strong>How can I describe the type of the object returned by the <code>getWhatIWant</code> function without writing out every key-value pair like I did to create <code>whatIWouldLike</code>?</strong></p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=class%20Base%20%7B%0D%0A%20%20%20%20constructor(someArgument%3A%20string)%20%7B%7D%0D%0A%7D%0D%0A%0D%0Aclass%20A%20extends%20Base%20%7B%20_brand%3A%20%27A%27%3B%20%7D%0D%0Aclass%20B%20extends%20Base%20%7B%20_brand%3A%20%27B%27%3B%20%7D%0D%0Aclass%20C%20extends%20Base%20%7B%20_brand%3A%20%27C%27%3B%20%7D%0D%0A%0D%0Alet%20allOfTheLetters%20%3D%20%7B%20A%2C%20B%2C%20C%20%7D%3B%0D%0A%0D%0Afunction%20getWhatIWant(letters)%20%7B%0D%0A%20%20let%20result%3A%20any%20%3D%20%7B%7D%3B%0D%0A%20%20Object.keys(letters).forEach((key)%20%3D%3E%20result%5Bkey%5D%20%3D%20new%20letters%5Bkey%5D(%27same%20params%27))%3B%0D%0A%20%20return%20result%3B%0D%0A%7D%0D%0A%0D%0Atype%20TypeIWant%20%3D%20%7B%5Bkey%20in%20keyof%20typeof%20allOfTheLetters%20%5D%3A%20typeof%20allOfTheLetters%20%5Bkey%5D%7D%3B%0D%0A%0D%0Alet%20example%3A%20TypeIWant%3B%0D%0A%0D%0Alet%20test%3A%20%27B%27%20%3D%20example.B._brand%3B\" rel=\"nofollow noreferrer\">TypeScript Playground (same code as in this question)</a></p>\n"}, {"tags": ["angular", "typescript", "interface", "decorator"], "answers": [{"tags": [], "owner": {"reputation": 7295, "user_id": 576767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OA4gc.jpg?s=128&g=1", "display_name": "F&#233;lix Gagnon-Grenier", "link": "https://stackoverflow.com/users/576767/f%c3%a9lix-gagnon-grenier"}, "is_accepted": true, "score": 6, "last_activity_date": 1506718670, "creation_date": 1506718670, "answer_id": 46496819, "question_id": 46064339, "link": "https://stackoverflow.com/questions/46064339/how-to-interface-output-and-input-decorators/46496819#46496819", "title": "How to interface Output() and Input() decorators?", "body": "<p>It is impossible presently to interface decorators with TypeScript. The next best way is to simply interface the types and add comments about it.</p>\n\n<pre><code>interface FooConfigurator {\n    fooWasConfigured: EventEmitter&lt;FooConfiguration&gt;;\n    fooInstance: Foo;\n}\n</code></pre>\n\n<p>This in essence pretty much covers the need, the EventEmitter will reliably looks like it should emit an event, and in fooInstance instructs the class to have such an a property. <em>How</em> these should be used resides in the comments realm however.</p>\n"}], "owner": {"reputation": 7295, "user_id": 576767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OA4gc.jpg?s=128&g=1", "display_name": "F&#233;lix Gagnon-Grenier", "link": "https://stackoverflow.com/users/576767/f%c3%a9lix-gagnon-grenier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2156, "favorite_count": 0, "accepted_answer_id": 46496819, "answer_count": 1, "score": 3, "last_activity_date": 1575991480, "creation_date": 1504651629, "last_edit_date": 1575991480, "question_id": 46064339, "link": "https://stackoverflow.com/questions/46064339/how-to-interface-output-and-input-decorators", "title": "How to interface Output() and Input() decorators?", "body": "<p>I want to create an interface for components that generate JSON. I want to force each implementing component to accept a type as Input and produce an Output:</p>\n\n<pre><code>import { EventEmitter, Output, Input } from '@angular/core';\nimport { Foo, FooConfiguration } from '../../interfaces';\ninterface FooConfigurator {\n    @Output() fooWasConfigured: EventEmitter&lt;FooConfiguration&gt;;\n    @Input() fooInstance: Foo;\n}\n</code></pre>\n\n<p>Then, components implementing FooConfigurator would ensure the following:</p>\n\n<pre><code>import { EventEmitter, Output, Input } from '@angular/core';\nimport { Foo, FooConfiguration, FooConfigurator } from '../../interfaces';\nclass ConcreteFooConfigurator implements FooConfigurator {\n    @Output() fooWasConfigured: EventEmitter&lt;FooConfiguration&gt;;\n    @Input() fooInstance: Foo; \n}\n</code></pre>\n\n<p>This interface definition fails because it is invalid syntax. How can I do it, or better approach the problem?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "edited": false, "score": 0, "creation_date": 1504648083, "post_id": 46063778, "comment_id": 79088474, "body": "<a href=\"https://github.com/yoannmoinet/nipplejs/issues/21\" rel=\"nofollow noreferrer\">github.com/yoannmoinet/nipplejs/issues/21</a> check this out"}, {"owner": {"reputation": 8073, "user_id": 2852624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682806d261e4f00f77aa8633689a9558?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias247", "link": "https://stackoverflow.com/users/2852624/matthias247"}, "edited": false, "score": 2, "creation_date": 1504657300, "post_id": 46063778, "comment_id": 79090807, "body": "No idea about the nipplejs thing, but <code>zone_joystick</code> will for sure be undefined in the constructor. That needs to be in another lifecycle callback, most likely <code>ngAfterViewInit</code>. where the DOM already had been created."}, {"owner": {"reputation": 1060, "user_id": 2627218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/926a12787ef18537d5a83a2f891b953b?s=128&d=identicon&r=PG", "display_name": "Hamed", "link": "https://stackoverflow.com/users/2627218/hamed"}, "edited": false, "score": 0, "creation_date": 1504737933, "post_id": 46063778, "comment_id": 79132808, "body": "I added a starter project <a href=\"https://github.com/ahmadi86/vjstarter\" rel=\"nofollow noreferrer\">&quot;vjstarter on github&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": true, "score": 3, "last_activity_date": 1504679376, "last_edit_date": 1504679376, "creation_date": 1504648798, "answer_id": 46063932, "question_id": 46063778, "link": "https://stackoverflow.com/questions/46063778/adding-a-javascript-virtual-joystick-to-ionic-3/46063932#46063932", "title": "Adding a javascript virtual joystick to ionic 3", "body": "<p>Seems like <code>nippleJS</code> is not built on the ES2015 standard, so you'll need to import it like this:</p>\n\n<p>First, install it: <code>npm install nipplejs --save</code></p>\n\n<p>Then import it like this </p>\n\n<p><code>import nipplejs from 'nipplejs';</code> </p>\n\n<p>and use it </p>\n\n<p><code>nipplejs.create(...);</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Just like @Matthias247 mentioned in his comment, since you need to include an element from the DOM in the options, you should place that code in the <code>ionViewDidLoad</code> lifecycle hook (the DOM is not ready yet when the constructor is executed):</p>\n\n<pre><code>ionViewDidLoad() {\n\n  // Now we know the DOM is ready\n  let options = {\n    zone: document.getElementById('zone_joystick')\n  };\n\n  let manager = nipplejs.create(options);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1060, "user_id": 2627218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/926a12787ef18537d5a83a2f891b953b?s=128&d=identicon&r=PG", "display_name": "Hamed", "link": "https://stackoverflow.com/users/2627218/hamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 46063932, "answer_count": 1, "score": 2, "last_activity_date": 1504679376, "creation_date": 1504647889, "last_edit_date": 1504648809, "question_id": 46063778, "link": "https://stackoverflow.com/questions/46063778/adding-a-javascript-virtual-joystick-to-ionic-3", "title": "Adding a javascript virtual joystick to ionic 3", "body": "<p>I would like to use <a href=\"https://github.com/yoannmoinet/nipplejs\" rel=\"nofollow noreferrer\">NippleJS virtual joystick</a> in my Ionic 3 project. I first installed the library using <code>npm install nipplejs --save</code>. Then, I added some stuff to my .html and .ts files as follows.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;ion-header&gt;\n  &lt;ion-navbar&gt;\n    &lt;ion-title&gt;\n      Test Virtual Joystick\n    &lt;/ion-title&gt;\n  &lt;/ion-navbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content padding&gt;\n\n  &lt;div id=\"zone_joystick\"&gt;&lt;/div&gt;\n\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { nipplejs } from 'nipplejs'\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController) {\n    var options = {\n        zone: document.getElementById('zone_joystick')\n    };\n\n    var manager = nipplejs.create(options);\n  }    \n}\n</code></pre>\n\n<p>However, I get <code>Cannot read property 'create' of undefined TypeError</code>. How should I handle this?</p>\n"}, {"tags": ["typescript", "redux-form", "react-redux-form"], "comments": [{"owner": {"reputation": 1037, "user_id": 1896429, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Fwjsy.jpg?s=128&g=1", "display_name": "Nemanja Milosavljevic", "link": "https://stackoverflow.com/users/1896429/nemanja-milosavljevic"}, "edited": false, "score": 0, "creation_date": 1531149106, "post_id": 46063734, "comment_id": 89476395, "body": "Having the same issue. I&#39;ve created an issue on the @types/redux-form GitHub site. <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/27095\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/issues/27095</a>"}], "owner": {"reputation": 344, "user_id": 4279928, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000455422723/picture?type=large", "display_name": "Deepan Cool", "link": "https://stackoverflow.com/users/4279928/deepan-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1145, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1504647606, "creation_date": 1504647606, "question_id": 46063734, "link": "https://stackoverflow.com/questions/46063734/using-redux-forms-with-connect-and-typescript", "title": "Using Redux-Forms with Connect and Typescript", "body": "<p>I have a saveMember(member: Member) method in my Action Creator. I should pass a Member type object to that method. I was able to do this with a normal HTML form. Then I tried to do it with redux-form library. </p>\n\n<p>I don't understand how to use both Connect and Redux Forms in the same component. When using the normal HTML forms, I was able to define a onSubmit handler method inside the MemberForm component itself and get the values from the inputs and call the saveMember action. But I don't understand how to do it now.</p>\n\n<p>Referring to some code on github I tried the following code:</p>\n\n<pre><code>import * as React from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { ApplicationState } from '../store';\nimport * as MembersState from '../store/Members';\nimport * as ReactDOM from 'react-dom';\nimport { Member } from \"../store/Members\";\nimport { reduxForm, Field, FormErrors, FormProps } from 'redux-form';\n\ninterface FormData {\n    name?: string;\n    age?: string;\n}\n\nconst validate = (values: Readonly&lt;FormData&gt;): FormErrors&lt;FormData&gt; =&gt; { \n    const errors: FormErrors&lt;FormData&gt; = {};\n\n    if(values.name === undefined) {\n        errors.name = 'name needed';\n    }\n\n    if(values.age === undefined) {\n        errors.age = 'age needed';\n    }\n\n    return errors;\n};\n\n\n// At runtime, Redux will merge together...\ntype MemberFormProps =\n    MembersState.MembersState        // ... state we've requested from the Redux store\n    &amp; typeof MembersState.actionCreators      // ... plus action creators we've requested\n    &amp; RouteComponentProps&lt;{}&gt;; // ... plus incoming routing parameters\n\nclass MemberForm extends React.Component&lt;MemberFormProps, {}&gt; {\n\n\n    componentWillMount() {\n        // This method runs when the component is first added to the page\n        this.props.getMembers();\n    }\n\n    public render() {\n        return &lt;div&gt;\n            &lt;h1&gt;Members&lt;/h1&gt;\n            {this.renderForecastsTable()}\n            &lt;hr/&gt;\n            {this.renderForm()}\n        &lt;/div&gt;;\n    }\n\n    private renderForecastsTable() {\n        return &lt;table className='table'&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Id&lt;/th&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Age&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                {this.props.members.map(member =&gt;\n                    &lt;tr key={member.id}&gt;\n                        &lt;td&gt;{member.id}&lt;/td&gt;\n                        &lt;td&gt;{member.name}&lt;/td&gt;\n                        &lt;td&gt;{member.age}&lt;/td&gt;\n                    &lt;/tr&gt;\n                )}\n            &lt;/tbody&gt;\n        &lt;/table&gt;;\n    }\n\n    private renderForm() {\n\n\n        return &lt;form className=\"htmlForm-horizontal\"&gt;\n                    &lt;div className=\"form-group\"&gt;\n                        &lt;label className=\"control-label col-sm-2\" htmlFor=\"name\"&gt;Name:&lt;/label&gt;\n                        &lt;Field placeholder=\"First name\" name=\"name\" component=\"input\" /&gt;\n                    &lt;/div&gt;\n                    &lt;br/&gt;&lt;br/&gt;\n                    &lt;div className=\"form-group\"&gt;\n                        &lt;label className=\"control-label col-sm-2\" htmlFor=\"age\"&gt;Age:&lt;/label&gt;\n                        &lt;Field placeholder=\"Age\" name=\"age\" component=\"input\" /&gt;\n                    &lt;/div&gt;\n                    &lt;br/&gt;&lt;br/&gt;\n                    &lt;div className=\"form-group\"&gt;        \n                        &lt;div className=\"col-sm-offset-2 col-sm-10\"&gt;\n                            &lt;button type=\"submit\" className=\"btn btn-default\"&gt;Submit&lt;/button&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;;\n    }\n}\n\nlet MemberFormConnect = connect(\n    (state: ApplicationState) =&gt; state.members, // Selects which state properties are merged into the component's props\n    MembersState.actionCreators                 // Selects which action creators are merged into the component's props\n)\n(MemberForm) as typeof MemberForm;\n\nexport default reduxForm&lt;MemberFormProps, MemberForm&gt;({\n    form: 'SelectionWithForm',\n    validate: validate,\n    onSubmit: (values, dispatch, props) =&gt; {\n        console.log('submit is being handled...');\n        let member: Member = { name: values.name, age: parseInt(values.age) }; \n        props.saveMember(member);\n    }\n})(MemberFormConnect);\n</code></pre>\n\n<p>When I use this code I get compilations errors in every line inside export default reduxForm. </p>\n\n<pre><code>ERROR in [at-loader] ./ClientApp/components/MemberForm.tsx:103:55 \n    TS2345: Argument of type '{ form: string; validate: (values: Readonly&lt;FormData&gt;) =&gt; FormErrors&lt;FormData, void&gt;; onSubmit: (...' is not assignable to parameter of type 'Partial&lt;ConfigProps&lt;MemberFormProps, MemberForm&gt;&gt;'.\n  Types of property 'validate' are incompatible.\n    Type '(values: Readonly&lt;FormData&gt;) =&gt; FormErrors&lt;FormData, void&gt;' is not assignable to type '((values: MemberFormProps, props: MemberForm &amp; InjectedFormProps&lt;MemberFormProps, MemberForm&gt;) =&gt;...'.\n      Type '(values: Readonly&lt;FormData&gt;) =&gt; FormErrors&lt;FormData, void&gt;' is not assignable to type '(values: MemberFormProps, props: MemberForm &amp; InjectedFormProps&lt;MemberFormProps, MemberForm&gt;) =&gt; ...'.\n        Type 'FormErrors&lt;FormData, void&gt;' has no properties in common with type 'FormErrors&lt;MemberFormProps, void&gt;'.\n</code></pre>\n\n<p>I don't have experience with react and redux, please help me. </p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 954, "user_id": 2012120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039776e188fc6fcb7b63a457f88f1353?s=128&d=identicon&r=PG", "display_name": "Sumi Straessle", "link": "https://stackoverflow.com/users/2012120/sumi-straessle"}, "edited": false, "score": 0, "creation_date": 1504647651, "post_id": 46063714, "comment_id": 79088306, "body": "Facebook has made <a href=\"https://flow.org/\" rel=\"nofollow noreferrer\">flow</a> which may play better with React, see <a href=\"https://flow.org/en/docs/react/\" rel=\"nofollow noreferrer\">this too</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1873, "user_id": 146563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f6bf2f425ac00518bec61e407628d94?s=128&d=identicon&r=PG", "display_name": "Jared", "link": "https://stackoverflow.com/users/146563/jared"}, "edited": false, "score": 0, "creation_date": 1504711147, "post_id": 46068088, "comment_id": 79119259, "body": "Thanks, that did the trick. One note is that IntelliJ doesn&#39;t recognize the export. <code>TS2694: Namespace &#39;React&#39; has no exported member &#39;DragEvent&#39;.</code> Any idea how to fix that?"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 1873, "user_id": 146563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f6bf2f425ac00518bec61e407628d94?s=128&d=identicon&r=PG", "display_name": "Jared", "link": "https://stackoverflow.com/users/146563/jared"}, "edited": false, "score": 1, "creation_date": 1504718285, "post_id": 46068088, "comment_id": 79123567, "body": "Unfortunately I do not have experience with IntelliJ. The common reason for this are missing or outdated typescript definitions for react. Try install their latest versions. You can also check this thread: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/208367645-TypeScript-types-node\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 23, "last_activity_date": 1618398898, "last_edit_date": 1618398898, "creation_date": 1504678665, "answer_id": 46068088, "question_id": 46063714, "link": "https://stackoverflow.com/questions/46063714/how-to-attach-drag-event-handlers-to-a-react-component-using-typescript/46068088#46068088", "title": "How to attach drag event handlers to a React component using TypeScript", "body": "<p>You must use <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react/index.d.ts#L1171\" rel=\"nofollow noreferrer\">React.DragEvent</a> interface instead of generic DOM <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.dom.d.ts#L5102\" rel=\"nofollow noreferrer\">DragEvent</a>:</p>\n<pre><code>export class JsonField extends React.Component&lt;JsonFieldProps, undefined&gt;\n{\n    private marginStyle = {\n        textIndent: `${this.props.indent * 15}px`\n    };\n\n    public render()\n    {\n        return (\n            &lt;div\n                draggable={true}\n                onDragStart={handleDrag}\n                style={this.marginStyle}&gt;\n                {this.props.name}: {this.props.type}\n            &lt;/div&gt;);\n    }\n}\n\nfunction handleDrag(ev: React.DragEvent&lt;HTMLDivElement&gt;): void\n{\n    const id = (ev.target as HTMLDivElement).id;\n    ev.dataTransfer.setData(&quot;text/plain&quot;, id);\n}\n</code></pre>\n<p>Note also change of <code>text-indent</code> to <code>textIndent</code> as you are using react and not pure html. Remember in react you are mainly working with virtual DOM, not real one - therefore all these changes.</p>\n<p>As a side note I would recommend you to keep event handlers within class and not outside of it. This way you will be able to access class instance properties and methods.</p>\n"}], "owner": {"reputation": 1873, "user_id": 146563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f6bf2f425ac00518bec61e407628d94?s=128&d=identicon&r=PG", "display_name": "Jared", "link": "https://stackoverflow.com/users/146563/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8934, "favorite_count": 1, "accepted_answer_id": 46068088, "answer_count": 1, "score": 10, "last_activity_date": 1618398898, "creation_date": 1504647453, "question_id": 46063714, "link": "https://stackoverflow.com/questions/46063714/how-to-attach-drag-event-handlers-to-a-react-component-using-typescript", "title": "How to attach drag event handlers to a React component using TypeScript", "body": "<p>I'm making my first foray into React (15.6.1) with TypeScript (2.4.2), and I'm trying to create a component that represents a JSON field which is draggable. Here is my component code:</p>\n\n<pre><code>import * as React from \"react\";\n\ninterface JsonFieldProps {\n    name: string;\n    type: string;\n    indent: number;\n}\n\nexport class JsonField extends React.Component&lt;JsonFieldProps, undefined&gt; {\n    marginStyle = {\n        'text-indent': `${this.props.indent * 15}px`\n    };\n\n    render() {\n        return &lt;div draggable={true} onDragStart={handleDrag} style={this.marginStyle}&gt;{this.props.name}: {this.props.type},&lt;/div&gt;;\n    }\n}\n\nfunction handleDrag(ev: DragEvent): void {\n    let id = (ev.target as HTMLDivElement).id;\n    ev.dataTransfer.setData(\"text/plain\", id);\n}\n</code></pre>\n\n<p>When I try to compile it (using webpack), I get the following error:</p>\n\n<pre><code>ERROR in [at-loader] ./src/components/JsonField.tsx:15:21 \n  TS2322: Type '{ draggable: true; onDragStart: (ev: DragEvent) =&gt; void;\n    style: { 'text-indent': string; }; child...' is not assignable to type 'DetailedHTMLProps&lt;HTMLAttributes&lt;HTMLDivElement&gt;, HTMLDivElement&gt;'.\n  Type '{ draggable: true; onDragStart: (ev: DragEvent) =&gt; void; style: { 'text-indent': string; }; child...' is not assignable to type 'HTMLAttributes&lt;HTMLDivElement&gt;'.\n    Types of property 'onDragStart' are incompatible.\n      Type '(ev: DragEvent) =&gt; void' is not assignable to type 'EventHandler&lt;DragEvent&lt;HTMLDivElement&gt;&gt;'.\n        Types of parameters 'ev' and 'event' are incompatible.\n          Type 'DragEvent&lt;HTMLDivElement&gt;' is not assignable to type 'DragEvent'.\n            Property 'initDragEvent' is missing in type 'DragEvent&lt;HTMLDivElement&gt;'.\n</code></pre>\n\n<p>I'm not sure if I'm using the wrong event type, but I can't seem to find any info about which one is correct if it is wrong.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "edited": false, "score": 0, "creation_date": 1504653294, "post_id": 46064101, "comment_id": 79089965, "body": "nice! why didn&#39;t I think of that ;)"}], "tags": [], "owner": {"reputation": 17293, "user_id": 2762747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6d016438453b0e1d4a07c9e2838c5f08?s=128&d=identicon&r=PG&f=1", "display_name": "Lyubomir", "link": "https://stackoverflow.com/users/2762747/lyubomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1504650014, "creation_date": 1504650014, "answer_id": 46064101, "question_id": 46063101, "link": "https://stackoverflow.com/questions/46063101/how-to-defaultprops-when-some-fields-are-required/46064101#46064101", "title": "How to &#39;defaultProps&#39; when some fields are required?", "body": "<p>In this case I'd split them, like that</p>\n\n<pre><code>interface interface IAppOptionalProps {\n  optionalProp?: string;\n}\n\ninterface IAppProps extends IAppOptionalProps {\n  requiredProp: string;\n}\n</code></pre>\n\n<p>and then let your <code>defaultProps</code> be of type <code>IAppOptionalProps</code></p>\n\n<pre><code>public static defaultProps: IAppOptionalProps = {\n  optionalProp: 'set from defaultProps!'\n};\n</code></pre>\n\n<p>When you think about it, your <code>defaultProps</code> are not <code>IAppProps</code> and shouldn't be of such type, they're rather of type <code>IAppOptionalProps</code> as defined above.</p>\n"}], "owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 46064101, "answer_count": 1, "score": 1, "last_activity_date": 1504650014, "creation_date": 1504644218, "question_id": 46063101, "link": "https://stackoverflow.com/questions/46063101/how-to-defaultprops-when-some-fields-are-required", "title": "How to &#39;defaultProps&#39; when some fields are required?", "body": "<p>I have a scenario where I want to set <code>defaultProps</code> for an optional prop:</p>\n\n<pre><code>interface IAppProps {\n  requiredProp : string; //should always be passed into component\n  optionalProp?: string;\n}\n\nexport class App extends React.Component&lt;IAppProps, {}&gt;{\n    public static defaultProps: IAppProps = {\n        optionalProp: 'set from defaultProps!'\n    };\n\n    public render(){\n      return &lt;div&gt;{this.props.requiredProp} - {this.props.optionalProp}&lt;/div&gt;\n    }\n}\nReactDOM.render(&lt;App requiredProp=\"Hello world\" /&gt;, document.getElementById('app'))\n</code></pre>\n\n<p>However, this throws and error because when I create <code>defaultProps</code>, it does not contain <code>requiredProp</code>:  </p>\n\n<blockquote>\n  <p>Type '{ optionalProp: string; }' is not assignable to type 'IAppProps'.\n    Property 'requiredProp' is missing in type '{ optionalProp: string; }'</p>\n</blockquote>\n\n<p>What is the standard way of doing this?  Do i just pass <code>null</code> or <code>undefined</code> into the required prop?</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "edited": false, "score": 0, "creation_date": 1504653164, "post_id": 46063082, "comment_id": 79089931, "body": "or just add Array extension methods <a href=\"https://stackoverflow.com/questions/38434337/how-to-create-an-extension-method-in-typescript-for-date-data-type\" title=\"how to create an extension method in typescript for date data type\">stackoverflow.com/questions/38434337/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3061, "user_id": 584081, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4uObY.jpg?s=128&g=1", "display_name": "Abanoub", "link": "https://stackoverflow.com/users/584081/abanoub"}, "edited": false, "score": 0, "creation_date": 1504644687, "post_id": 46063135, "comment_id": 79087105, "body": "-about declaring it as <code>Array</code> instead of <code>Collection</code> it was a mistake , I edited that, there is no way to gain full access over the <code>Array</code> properties ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "reply_to_user": {"reputation": 3061, "user_id": 584081, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4uObY.jpg?s=128&g=1", "display_name": "Abanoub", "link": "https://stackoverflow.com/users/584081/abanoub"}, "edited": false, "score": 0, "creation_date": 1504668369, "post_id": 46063135, "comment_id": 79093177, "body": "What do you mean when you say &quot;gain full access over the <code>Array</code> properties&quot;? You do have full access. What you cannot do is swap the object out from under itself. You can&#39;t to that with any kind of object."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "is_accepted": false, "score": 0, "last_activity_date": 1504644430, "creation_date": 1504644430, "answer_id": 46063135, "question_id": 46063082, "link": "https://stackoverflow.com/questions/46063082/javascript-extending-array-and-gain-full-control/46063135#46063135", "title": "javascript extending Array and gain full control", "body": "<p>First, <code>remove</code> won't be found at all unless you declare your array as </p>\n\n<pre><code>let users: Collection&lt;User&gt; = [];\n</code></pre>\n\n<p>Second, if you want to remove the elements in place, you need to use <code>splice</code>, or do it yourself:</p>\n\n<pre><code>remove(key, value) {\n    let j = 0;\n\n    for (const el of this) if (el[key] !== value) this[j++] = el;\n\n    this.length = j;\n}\n</code></pre>\n\n<p>Even after you've done all this, I wouldn't be surprised if you ran into unexpected behavior, especially as relates to <code>length</code>. Subclassing exotic objects such as arrays is still a work in progress.</p>\n"}], "owner": {"reputation": 3061, "user_id": 584081, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4uObY.jpg?s=128&g=1", "display_name": "Abanoub", "link": "https://stackoverflow.com/users/584081/abanoub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504644471, "creation_date": 1504644146, "last_edit_date": 1504644471, "question_id": 46063082, "link": "https://stackoverflow.com/questions/46063082/javascript-extending-array-and-gain-full-control", "title": "javascript extending Array and gain full control", "body": "<p>what I'm trying to accomplish is , a <code>sub/child</code> <code>class</code> of <code>Array&lt;T&gt;</code> , that has my own custom methods , but am facing a problem here , I can't edit the items within the <code>Array</code> ...</p>\n\n<p>lets see an example to clarify what I'm doing:</p>\n\n<pre><code>export class Collection&lt;T&gt; extends Array&lt;T&gt;\n{\n    remove(key, value) {\n        this = this.filter(function (el) {\n            return el[key] !== value;\n        });\n    }\n}\n</code></pre>\n\n<p>so I can have an <code>Array</code> of <code>User</code></p>\n\n<pre><code>let users:Collection&lt;User&gt; = [];\n\n//add stuff etc ...\n\n//then I can say \nusers.remove('name','Jhone Doe');\n</code></pre>\n\n<p>so it remove any items that has a <code>key</code> <code>name</code> and <code>value</code> <code>Jhone Doe</code> , but clearly I can't assign the <code>this</code> instance , so how would I tackle that?</p>\n"}, {"tags": ["function", "typescript", "ionic-framework", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1504662874, "post_id": 46063004, "comment_id": 79091980, "body": "You can use <a href=\"http://ionicframework.com/docs/api/navigation/NavParams/\" rel=\"nofollow noreferrer\">NavParam</a> to send data from your <code>app.component.ts</code> to <code>home.ts</code> and use that data to show or hide play button."}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "edited": false, "score": 0, "creation_date": 1504694529, "post_id": 46063158, "comment_id": 79106808, "body": "Hi Anjil, thanks for your feedback! However, as someone that is new to ionic, &quot;basically, create your service &amp; etc...&quot; isn&#39;t something basic to me :(  Are you able to provide an example please that I can perhaps follow to implement this feature. Thanks for your time, it is appreciated."}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "reply_to_user": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "edited": false, "score": 0, "creation_date": 1504709405, "post_id": 46063158, "comment_id": 79117941, "body": "Apologies! I was under the impression that you have fiddled with ionic3 for a while and would like to give my directions a try. Let me edit my answer."}, {"owner": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "edited": false, "score": 0, "creation_date": 1504742739, "post_id": 46063158, "comment_id": 79133913, "body": "Thanks for the above. Can you please elaborate a bit on where the <code>this.playerService.playAudio()</code> should be placed, directly in the <b>home.ts</b> replacing the <code>playAudio()</code> as the tap function OR leave the <code>(tap)=&quot;playAudio()&quot;</code> as is in home.html, then in <b>home.ts</b> have it as: <code>stopAudio() {     this.playerService.playAudio();</code>?? Either way, the challenge I&#39;m facing now is that I&#39;ve tried all these options in the last couple of hours, and the only thing I can&#39;t get to work is the play property, the buttons don&#39;t change following your method above. I&#39;ve tried almost everything"}, {"owner": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "edited": false, "score": 0, "creation_date": 1504743448, "post_id": 46063158, "comment_id": 79134074, "body": "Hi Anjil, as a sidenote: in the <b>app.component.ts</b> file I&#39;m merely just calling the function for a 3D Touch quick action, so when you use 3D force touch outside the app, it opens the app and should start playing the audio, its doing so now, as mentioned in my post above, but just as in the <b>home.ts / home.html</b> the play buttons are not alternating :("}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "reply_to_user": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "edited": false, "score": 0, "creation_date": 1504747767, "post_id": 46063158, "comment_id": 79135013, "body": "do a *ngIf on this.playerService.playing  &lt;div *ngIf=&quot;playerService.playing&quot;&gt;Pause&lt;/div&gt; &lt;div *ngIf=&quot;!playerService.playing&quot;&gt;Play&lt;/div&gt;"}, {"owner": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "edited": false, "score": 0, "creation_date": 1504801970, "post_id": 46063158, "comment_id": 79165034, "body": "Hey Anjil! Thanks a lot!!!!! IT WORKED!!! I can&#39;t thank you enough... you are awesome! Thanks buddy!"}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "reply_to_user": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "edited": false, "score": 0, "creation_date": 1504809161, "post_id": 46063158, "comment_id": 79168769, "body": "glad to help! :)"}], "tags": [], "owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "is_accepted": true, "score": 1, "last_activity_date": 1504710850, "last_edit_date": 1504710850, "creation_date": 1504644568, "answer_id": 46063158, "question_id": 46063004, "link": "https://stackoverflow.com/questions/46063004/passing-a-function-to-another-function-on-a-separate-component-in-ionic-2-or-3/46063158#46063158", "title": "Passing a function to another function on a separate component in Ionic 2 or 3", "body": "<p>First, a suggestion: \nOn your <code>playAudio()</code> function in home.ts, set <code>this.play = true</code> and vice versa in <code>stopAudio()</code>. In your html, do a checkpoint for <code>!play</code> instead of <code>play</code> and you have a sensible logic that can be understood by anybody else that reads your code.</p>\n\n<p>For your dilemma, I'd suggest using an angular service <a href=\"https://angular.io/api/core/Injectable\" rel=\"nofollow noreferrer\">injectable</a></p>\n\n<p>Basically, create your service. Decorate it as an injectable. Reference it as a provider in your app.module.ts and inject it into your app.component.ts's and home.ts's constructor. write and retrieve your <code>playAudio()</code> and <code>stopAudio()</code> in and from that service. </p>\n\n<p>something like this:</p>\n\n<pre><code>    import {Injectable} from '@angular/core';\n    import {StreamingMedia} from '@ionic-native/streaming-media';\n\n    @Injectable()\n    export class PlayerService {\n    playing: boolean;\n    audioUrl: string = //whatever url;\n\n    //Inject your dependencies here\n    constructor(public streamingMedia: StreamingMedia){\n      this.playing = false;\n    }\n\n    playAudio(){\n    this.streamingMedia.playAudio(this.audioUrl);\n    this.playing = true;\n    }\n\n    stopAudio(){\n    this.streamingMedia.stopAudio();\n    this.playing = false;\n    }\n\n    }\n</code></pre>\n\n<p>reference this as a provider in your app.module.ts under providers section: <code>providers: [PlayerService]</code></p>\n\n<p>In your home.ts's constructor, inject the service you just made</p>\n\n<pre><code>constructor(public playerService: PlayerService){}\n</code></pre>\n\n<p>To use the <code>playAudio()</code> and <code>stopAudio()</code> function, just type\n<code>this.playerService.playAudio()</code> and so on. Use the <code>playing</code> property of the service to tie up with the html. </p>\n\n<p>I hope that clears things up with injectables.</p>\n\n<p>In your app.component.ts, inject the service in the constructor as I showed before. Implement OnInit interface as </p>\n\n<p><code>export class AppComponent implements OnInit {}</code> and then create a <code>ngOnInit(){}</code> function where you can call the service's <code>playAudio()</code> function to start playing on initialization. And use service's <code>playing</code> property to again tie up with the UI.</p>\n"}], "owner": {"reputation": 185, "user_id": 6899031, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cfa336f3dbad59e483a334fd0b48de89?s=128&d=identicon&r=PG&f=1", "display_name": "TC Roberts", "link": "https://stackoverflow.com/users/6899031/tc-roberts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3453, "favorite_count": 1, "accepted_answer_id": 46063158, "answer_count": 1, "score": 2, "last_activity_date": 1504710850, "creation_date": 1504643797, "last_edit_date": 1504692269, "question_id": 46063004, "link": "https://stackoverflow.com/questions/46063004/passing-a-function-to-another-function-on-a-separate-component-in-ionic-2-or-3", "title": "Passing a function to another function on a separate component in Ionic 2 or 3", "body": "<p>a bit of a tricky one here. I've been trying to wrap my head around this one with no success. Ok, here it goes... I've got a function in a different ionic component set out like this:</p>\n\n<p><strong>home.ts</strong></p>\n\n<pre><code>   playAudio() { \n\n    this.streamingMedia.playAudio('MY-URL');\n\n    this.play = false;\n\n    }\n\n    stopAudio() {\n    this.streamingMedia.stopAudio();\n\n    this.play = true;\n    }\n</code></pre>\n\n<p>Then I set up this boolean within the same home.ts file to toggle between the play and pause buttons</p>\n\n<pre><code>play: boolean = true;\n</code></pre>\n\n<p>Now, in my home.html file I have it setup as follows:</p>\n\n<p><strong>home.html</strong></p>\n\n<pre><code>&lt;div *ngIf=\"play\"&gt;\n&lt;img src=\"assets/img/play.png\" class=\"play\" (tap)=\"playAudio()\" /&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"!play\"&gt;\n&lt;img src=\"assets/img/pause.png\" class=\"play animated flip\"     \n(tap)=\"stopAudio()\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Essentially what is happening here is, when I click the play button, play starts and then it shows the pause button. And likewise, when I click the pause button, play stops and shows the play button.</p>\n\n<p>So, here is my problem, I'm trying to call the function in a different page/component. I want it to automatically play the stream when I open the page, I tried doing that by writing the same <code>playAudio()</code> function (as in the home.ts file) in the app.component.ts file where I need to set the function:</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>play: boolean = true;\n\nconstructor() {\nthis.playAudio(); }\n\nplayAudio() {       \nthis.streamingMedia.playAudio('MY_URL');\nthis.play = false;\n}\n</code></pre>\n\n<p>but when the page opens, the stream plays but I then don't have the option to set the pause button in place of the play button.</p>\n\n<p>I hope I'm making sense. </p>\n"}, {"tags": ["angular", "typescript", "angular-routing", "roles", "angular-route-guards"], "comments": [{"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 0, "creation_date": 1504644094, "post_id": 46062934, "comment_id": 79086838, "body": "You could do a single guard that would manage both cases, even though it&#39;s not that clean, I don&#39;t see any other solution yet... That said, it seems pretty weird for an admin not to have some token check as well. You could fix that by adding an <code>admin</code> role to your tokens"}, {"owner": {"reputation": 428, "user_id": 1882888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4c11e85df0c2510bda935b8c3ffd6640?s=128&d=identicon&r=PG", "display_name": "Nathan Foss", "link": "https://stackoverflow.com/users/1882888/nathan-foss"}, "reply_to_user": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 0, "creation_date": 1504644264, "post_id": 46062934, "comment_id": 79086905, "body": "I&#39;d rather not combine because there&#39;s currently 6 roles with overlapping permissions. But if this isn&#39;t supported in Angular yet then that&#39;s my best option"}], "answers": [{"comments": [{"owner": {"reputation": 428, "user_id": 1882888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4c11e85df0c2510bda935b8c3ffd6640?s=128&d=identicon&r=PG", "display_name": "Nathan Foss", "link": "https://stackoverflow.com/users/1882888/nathan-foss"}, "edited": false, "score": 0, "creation_date": 1504701486, "post_id": 46063275, "comment_id": 79111800, "body": "Creative solution, I don&#39;t love having to pass so many string literals in different places in case these roles change or are renamed. Otherwise, it&#39;s an interesting solution."}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "reply_to_user": {"reputation": 428, "user_id": 1882888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4c11e85df0c2510bda935b8c3ffd6640?s=128&d=identicon&r=PG", "display_name": "Nathan Foss", "link": "https://stackoverflow.com/users/1882888/nathan-foss"}, "edited": false, "score": 2, "creation_date": 1504733386, "post_id": 46063275, "comment_id": 79131298, "body": "@NathanFoss you can use enums in this case."}], "tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": false, "score": 7, "last_activity_date": 1504682810, "last_edit_date": 1504682810, "creation_date": 1504645160, "answer_id": 46063275, "question_id": 46062934, "link": "https://stackoverflow.com/questions/46062934/angular-route-guards-or-vs-and/46063275#46063275", "title": "Angular Route Guards: Or vs. And", "body": "<p>Rather than having two separate <code>CanActivate</code> implementations, you could just use a single version that can be \"configured\". To do this, you can take advantage of the <code>data</code> property of <a href=\"https://angular.io/api/router/Route\" rel=\"noreferrer\"><code>Route</code></a>. For example, in your routes, you could do something like:</p>\n\n<pre><code>{\n    path: \"someroute\",\n    component: SomeComponent,\n    canActivate: [RoleRouteGuard],\n    data: {\n        requiredRoles: [\"Role1\", \"Role2\", \"Role3\"]\n    }\n}\n</code></pre>\n\n<p>Using this, you could take one of your existing <code>CanActivate</code> implementations, and make it more generic. You can access the <code>requiredRoles</code> property from <code>data</code> via the <code>ActivatedRouteSnapshot</code>. e.g:</p>\n\n<pre><code>canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    const requiredRoles = route.data.requiredRoles;\n    ....\n</code></pre>\n\n<p>Once you've got this, you can check if the token's role is in the array, etc, etc.</p>\n\n<p>If you have an always-required <code>Active</code> role and then a one-of <code>Admin</code> or <code>Manager</code> role, you could also extend this to have multiple <code>data</code> properties. For example, you could have <code>requiredRoles</code> and <code>atLeastOneOfRoles</code> and update your logic to process that accordingly... There are many options at this point but I don't think you will need help with that.</p>\n"}], "owner": {"reputation": 428, "user_id": 1882888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4c11e85df0c2510bda935b8c3ffd6640?s=128&d=identicon&r=PG", "display_name": "Nathan Foss", "link": "https://stackoverflow.com/users/1882888/nathan-foss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1475, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1557243189, "creation_date": 1504643461, "last_edit_date": 1557243189, "question_id": 46062934, "link": "https://stackoverflow.com/questions/46062934/angular-route-guards-or-vs-and", "title": "Angular Route Guards: Or vs. And", "body": "<p>I'm working on securing the front-end of my Angular application using route guards. In working with them in the past and researching online, adding multiple guards to a route requires <em>all</em> of them to return true to allow access.</p>\n\n<p>But what if I want <em>just one</em> to return true to allow access? <em>(like || instead of &amp;&amp;)</em></p>\n\n<p>For example, my route guards look for certain roles in the user's token:</p>\n\n<pre><code>@Injectable()\nexport class ActiveRoleGuard implements CanActivate {\n    constructor(private sessionService: SessionService, private router: Router) { }\n\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n        let token = this.sessionService.getToken();\n\n        if (!token) {\n             return false;\n        }\n\n        if (token.role.toLowerCase().indexOf(\"active\") &lt; 0) {\n            this.router.navigate([\"/issue\"]);\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p><em>And</em></p>\n\n<pre><code>@Injectable()\nexport class AdminRoleGuard implements CanActivate {\n    constructor(private sessionService: SessionService, private router: Router) { }\n\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n        let token = this.appSessionService.getToken();\n\n        if (!token) {\n            return false;\n        }\n\n        if (token.role.toLowerCase().indexOf(\"admin\") &lt; 0) {\n            this.router.navigate([\"/issue\"]);\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>If I was to combine them normally in a router module it would be something like...</p>\n\n<p><code>{path: \"someroute\", component: SomeComponent, canActivate: [ActiveRouteGuard, AdminRouteGuard]}</code></p>\n\n<p>... but that would require a user to be both <code>Active</code> and an <code>Admin</code>. But what if I wanted to enforce being <code>Active</code> and <em>either</em> an <code>Admin</code> <em>or</em> a <code>Manager</code>?</p>\n\n<p>It's simple to enforce on the API <em>like so:</em></p>\n\n<pre><code>[Authorize(Roles = \"Active\")]\n[Authorize(Roles = \"Admin, Manager\")]\npublic class SomeController : ApiController\n</code></pre>\n\n<p>but how do I do this in Angular?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1589381825, "post_id": 46062904, "comment_id": 109272658, "body": "It&#39;s a good question. Please share your views after reading all the answers what you did at the last."}], "answers": [{"comments": [{"owner": {"reputation": 1180, "user_id": 1572751, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f1be1a3371f77104850e062d8551a3?s=128&d=identicon&r=PG", "display_name": "amy8374", "link": "https://stackoverflow.com/users/1572751/amy8374"}, "edited": false, "score": 0, "creation_date": 1504650068, "post_id": 46063514, "comment_id": 79089109, "body": "Thanks for the answer. I have a field that is used by the view to show/hide elements, and its value is set by the setter of the @Input. I dislike making this property public, when its value is supposed to be exclusively set by this setter. I guess for code purity, i can continue with the setters/getters affair for this property as well."}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1589382531, "post_id": 46063514, "comment_id": 109273104, "body": "@DeborahK, Can you please answer this. I&#39;m asking from unit testing point of view. Let&#39;s say I&#39;ve an event handler <code>OnToggleSwitchChange()</code>. This will be used in it&#39;s template but not by any other component. What should be its access mode? public or private. Or else to be on the same page you can take any of your example on pluralsight and then explain (i follow all your lectures by the way :-) )."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1589900106, "post_id": 46063514, "comment_id": 109473061, "body": "When a method is private, it can&#39;t even be accessed by its template, only other code in the component. So the majority of the methods in the component will need to be public for the template to access them.And with the new default compiler in Angular v9, private methods accessed by the template will generate a syntax error."}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 1, "last_activity_date": 1504647069, "last_edit_date": 1504647069, "creation_date": 1504646458, "answer_id": 46063514, "question_id": 46062904, "link": "https://stackoverflow.com/questions/46062904/angular2-what-is-the-recommended-access-modifier-for-typescript-properties-and/46063514#46063514", "title": "Angular2: What is the recommended access modifier for typescript properties and functions that will be accessed in the view", "body": "<p>At first it would seem like Public would not be desired because that would mean it would be accessible to anything. But the thing is, they aren't really.</p>\n\n<p>It does not make sense to ever instantiate a component to call its properties and methods. Rather, the purpose of a component's class is to support the template.</p>\n\n<p>If you have a child component, you get at its properties using @Input.</p>\n\n<p>You could use <code>@ViewChild</code> or <code>@ViewChildren</code> to get a child component and access its properties or methods. I just tried this and indeed public properties are accessible and private properties are not. But this is the only scenario I could think of.</p>\n\n<p>Is there another scenario you are thinking of?</p>\n"}, {"tags": [], "owner": {"reputation": 673, "user_id": 1575421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc369adcfa3dd4fca50738cf0036e199?s=128&d=identicon&r=PG", "display_name": "jmmygoggle", "link": "https://stackoverflow.com/users/1575421/jmmygoggle"}, "is_accepted": false, "score": 0, "last_activity_date": 1516930238, "creation_date": 1516930238, "answer_id": 48454600, "question_id": 46062904, "link": "https://stackoverflow.com/questions/46062904/angular2-what-is-the-recommended-access-modifier-for-typescript-properties-and/48454600#48454600", "title": "Angular2: What is the recommended access modifier for typescript properties and functions that will be accessed in the view", "body": "<p>Currently, 'public' is probably ideal, though 'protected' suppresses an ALS warning message but should be avoided if you rely on AOT compilation.</p>\n\n<p>The <a href=\"https://www.npmjs.com/package/@angular/language-service\" rel=\"nofollow noreferrer\">Angular Language Service</a>  (which may be used by your IDE to highlight errors/warnings in your code) issues the warning: \"Identifier '' refers to a private member of the component\" when using private as the access modifier for a member.</p>\n\n<p>A <a href=\"https://stackoverflow.com/a/45521099/1575421\">stackoverflow answer for a similar question</a> on this topic involving the warning message also points to <a href=\"https://github.com/angular/angular/issues/11978\" rel=\"nofollow noreferrer\">a related access/AOT git hub issue</a> discussion that may explain why the warning exists and speaks to 'public' vs. 'private' in AOT and non-AOT as well as subtleties between access modifiers in TypeScript vs JavaScript.</p>\n\n<p>I've had success in avoiding the warning in my IDE while using 'protected' as long as I'm not concerned with Ahead-of-Time (AOT) compilation, but I've never seen this recommended elsewhere.</p>\n"}], "owner": {"reputation": 1180, "user_id": 1572751, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04f1be1a3371f77104850e062d8551a3?s=128&d=identicon&r=PG", "display_name": "amy8374", "link": "https://stackoverflow.com/users/1572751/amy8374"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2388, "favorite_count": 1, "closed_date": 1519846315, "accepted_answer_id": 46063514, "answer_count": 2, "score": 4, "last_activity_date": 1519830531, "creation_date": 1504643342, "question_id": 46062904, "link": "https://stackoverflow.com/questions/46062904/angular2-what-is-the-recommended-access-modifier-for-typescript-properties-and", "closed_reason": "Opinion-based", "title": "Angular2: What is the recommended access modifier for typescript properties and functions that will be accessed in the view", "body": "<p>What is the recommended access modifier for the ng2 properties and methods that are to be used exclusively from the view?</p>\n\n<p>I have been using private, but run across this post, that discourages it: <a href=\"https://stackoverflow.com/questions/34574167/angular2-should-private-variables-be-accessible-in-the-template\">Angular2 - should private variables be accessible in the template?</a></p>\n\n<p>At the same time, marking everything as public doesn't seem right, and neither does protected. </p>\n"}, {"tags": ["angular", "typescript", "browser-sync", "lite-server", "node8.4"], "comments": [{"owner": {"reputation": 460, "user_id": 2259477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4tZd.jpg?s=128&g=1", "display_name": "Tyler Christian", "link": "https://stackoverflow.com/users/2259477/tyler-christian"}, "edited": false, "score": 1, "creation_date": 1504640983, "post_id": 46062233, "comment_id": 79085374, "body": "Might check <a href=\"https://stackoverflow.com/questions/31005867/gulp-error-spawn-eacces\" title=\"gulp error spawn eacces\">stackoverflow.com/questions/31005867/gulp-error-spawn-eacces</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2270, "user_id": 6775407, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/EXxZe.png?s=128&g=1", "display_name": "Abhay Shiro", "link": "https://stackoverflow.com/users/6775407/abhay-shiro"}, "edited": false, "score": 0, "creation_date": 1532819824, "post_id": 46062496, "comment_id": 90117566, "body": "You sir, saved my life &lt;3"}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 9, "last_activity_date": 1504823523, "last_edit_date": 1504823523, "creation_date": 1504641442, "answer_id": 46062496, "question_id": 46062233, "link": "https://stackoverflow.com/questions/46062233/angular-quickstart-error-spawn-eacces/46062496#46062496", "title": "Angular Quickstart: Error: spawn EACCES", "body": "<h1>Easy and best solution</h1>\n\n<ol>\n<li>Update <code>npm</code> so the problem doesn't happen again <code>sudo npm update -g npm</code></li>\n<li><p>Run this from the directory of the angular project.</p>\n\n<pre><code>find ./node_modules/ -type f -name xdg-open -exec chmod a+x {} \\;\n</code></pre>\n\n<p>This gives <code>xdg-open</code> <code>+x</code> which permits <code>npm start</code> to open the browser to the applications url without throwing an exception.</p></li>\n</ol>\n\n<h1>Disable Opening the browser</h1>\n\n<p>Based on the suggestion in the comments by Tyler Christian, and similar to <a href=\"https://stackoverflow.com/a/33353944/124486\">this answer</a>, there is a file called <code>bs-config.json</code></p>\n\n<p>Change it from this,</p>\n\n<pre><code>{\n  \"server\": {\n    \"baseDir\": \"src\",\n    \"routes\": {\n      \"/node_modules\": \"node_modules\"\n    }\n  }\n}\n</code></pre>\n\n<p>by adding the open parameter to this, </p>\n\n<pre><code>{\n  \"open\": false,\n  \"server\": {\n    \"baseDir\": \"src\",\n    \"routes\": {\n      \"/node_modules\": \"node_modules\"\n    }\n  }\n}\n</code></pre>\n\n<p>I will investigate now as to why this cryptic error is generated, and what the underlying problem is.</p>\n\n<h1>The bug, identified</h1>\n\n<p><strong>And, here is the problem -- it's in the package <a href=\"https://github.com/sindresorhus/opn/issues/70\" rel=\"noreferrer\"><code>opn</code></a>. Thanks goes out to me for explaining how <a href=\"https://stackoverflow.com/a/42797387/124486\">this error prone process works on March 14, 2017.</a> Evan Carroll rocks.</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/sindresorhus/opn/pull/71\" rel=\"noreferrer\">Patch created and submitted</a> (<strong>update</strong> patch rejected)</li>\n</ul>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3478, "favorite_count": 0, "accepted_answer_id": 46062496, "answer_count": 1, "score": 3, "last_activity_date": 1504823523, "creation_date": 1504640418, "question_id": 46062233, "link": "https://stackoverflow.com/questions/46062233/angular-quickstart-error-spawn-eacces", "title": "Angular Quickstart: Error: spawn EACCES", "body": "<p>I cloned <a href=\"https://github.com/angular/quickstart\" rel=\"nofollow noreferrer\">Angular quickstart</a>. then I ran <code>npm install</code>, and then <code>npm start</code>. This is what I got.</p>\n\n<pre><code>$ npm start\n\n&gt; angular-quickstart@1.0.0 prestart /home/ecarroll/code/angular/quickstart\n&gt; npm run build\n\n\n&gt; angular-quickstart@1.0.0 build /home/ecarroll/code/angular/quickstart\n&gt; tsc -p src/\n\n\n&gt; angular-quickstart@1.0.0 start /home/ecarroll/code/angular/quickstart\n&gt; concurrently \"npm run build:watch\" \"npm run serve\"\n\n[1] \n[1] &gt; angular-quickstart@1.0.0 serve /home/ecarroll/code/angular/quickstart\n[1] &gt; lite-server -c=bs-config.json\n[1] \n[0] \n[0] &gt; angular-quickstart@1.0.0 build:watch /home/ecarroll/code/angular/quickstart\n[0] &gt; tsc -p src/ -w\n[0] \n[1] ** browser-sync config **\n[1] { injectChanges: false,\n[1]   files: [ './**/*.{html,htm,css,js}' ],\n[1]   watchOptions: { ignored: 'node_modules' },\n[1]   server: \n[1]    { baseDir: 'src',\n[1]      middleware: [ [Function], [Function] ],\n[1]      routes: { '/node_modules': 'node_modules' } } }\n[1] [Browsersync] Access URLs:\n[1]  --------------------------------------\n[1]        Local: http://localhost:3000\n[1]     External: http://192.168.2.159:3000\n[1]  --------------------------------------\n[1]           UI: http://localhost:3001\n[1]  UI External: http://192.168.2.159:3001\n[1]  --------------------------------------\n[1] [Browsersync] Serving files from: src\n[1] internal/child_process.js:325\n[1]     throw errnoException(err, 'spawn');\n[1]     ^\n[1] \n[1] Error: spawn EACCES\n[1]     at _errnoException (util.js:1041:11)\n[1]     at ChildProcess.spawn (internal/child_process.js:325:11)\n[1]     at Object.exports.spawn (child_process.js:493:9)\n[1]     at module.exports (/home/ecarroll/code/angular/quickstart/node_modules/opn/index.js:75:24)\n[1]     at Object.open (/home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/utils.js:186:9)\n[1]     at Object.openBrowser (/home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/utils.js:165:23)\n[1]     at EventEmitter.service:running (/home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/internal-events.js:42:23)\n[1]     at emitOne (events.js:120:20)\n[1]     at EventEmitter.emit (events.js:210:7)\n[1]     at /home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/browser-sync.js:260:19\n[1] npm\n[1]  ERR! code ELIFECYCLE\n[1] npm ERR!\n[1]  errno 1\n[1] npm\n[1]  ERR! angular-quickstart@1.0.0 serve: `lite-server -c=bs-config.json`\n[1] npm ERR! Exit status 1\n[1] npm ERR! \n[1] npm\n[1]  ERR! Failed at the angular-quickstart@1.0.0 serve script.\n[1] npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n[1] \n[1] npm ERR! A complete log of this run can be found in:\n[1] npm ERR!     /home/ecarroll/.npm/_logs/2017-09-05T19_38_23_635Z-debug.log\n[1] npm run serve exited with code 1\n[0] 14:38:25 - Compilation complete. Watching for file changes.\n</code></pre>\n\n<p>contents of <code>/home/ecarroll/.npm/_logs/2017-09-05T19_38_23_635Z-debug.log</code></p>\n\n<pre><code>0 info it worked if it ends with ok\n1 verbose cli [ '/usr/local/bin/node', '/usr/local/bin/npm', 'run', 'serve' ]\n2 info using npm@5.4.0\n3 info using node@v8.4.0\n4 verbose run-script [ 'preserve', 'serve', 'postserve' ]\n5 info lifecycle angular-quickstart@1.0.0~preserve: angular-quickstart@1.0.0\n6 info lifecycle angular-quickstart@1.0.0~serve: angular-quickstart@1.0.0\n7 verbose lifecycle angular-quickstart@1.0.0~serve: unsafe-perm in lifecycle true\n8 verbose lifecycle angular-quickstart@1.0.0~serve: PATH: /usr/local/lib/node_modules/npm/bin/node-gyp-bin:/home/ecarroll/code/angular/quickstart/node_modules/.bin:/usr/local/lib/node_modules/npm/bin/node-gyp-bin:/home/ecarroll/code/angular/quickstart/node_modules/.bin:/home/ecarroll/.config/composer/vendor/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/ecarroll/.fzf/bin\n9 verbose lifecycle angular-quickstart@1.0.0~serve: CWD: /home/ecarroll/code/angular/quickstart\n10 silly lifecycle angular-quickstart@1.0.0~serve: Args: [ '-c', 'lite-server -c=bs-config.json' ]\n11 silly lifecycle angular-quickstart@1.0.0~serve: Returned: code: 1  signal: null\n12 info lifecycle angular-quickstart@1.0.0~serve: Failed to exec serve script\n13 verbose stack Error: angular-quickstart@1.0.0 serve: `lite-server -c=bs-config.json`\n13 verbose stack Exit status 1\n13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:280:16)\n13 verbose stack     at emitTwo (events.js:125:13)\n13 verbose stack     at EventEmitter.emit (events.js:213:7)\n13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)\n13 verbose stack     at emitTwo (events.js:125:13)\n13 verbose stack     at ChildProcess.emit (events.js:213:7)\n13 verbose stack     at maybeClose (internal/child_process.js:927:16)\n13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:211:5)\n14 verbose pkgid angular-quickstart@1.0.0\n15 verbose cwd /home/ecarroll/code/angular/quickstart\n16 verbose Linux 4.10.0-33-generic\n17 verbose argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"run\" \"serve\"\n18 verbose node v8.4.0\n19 verbose npm  v5.4.0\n20 error code ELIFECYCLE\n21 error errno 1\n22 error angular-quickstart@1.0.0 serve: `lite-server -c=bs-config.json`\n22 error Exit status 1\n23 error Failed at the angular-quickstart@1.0.0 serve script.\n23 error This is probably not a problem with npm. There is likely additional logging output above.\n24 verbose exit [ 1, true ]\n</code></pre>\n\n<p>Versions,</p>\n\n<pre><code>node --version\nv8.4.0\n\nnpm --version\n5.4.0\n\ntsc --version\nVersion 2.5.2\n</code></pre>\n\n<p>If I try to exec <code>lite-server</code> manually, it's also failing</p>\n\n<pre><code>node ./node_modules/lite-server/bin/lite-server -c bs-config.json \n** browser-sync config **\n{ injectChanges: false,\n  files: [ './**/*.{html,htm,css,js}' ],\n  watchOptions: { ignored: 'node_modules' },\n  server: \n   { baseDir: 'src',\n     middleware: [ [Function], [Function] ],\n     routes: { '/node_modules': 'node_modules' } } }\n[Browsersync] Access URLs:\n --------------------------------------\n       Local: http://localhost:3000\n    External: http://192.168.2.159:3000\n --------------------------------------\n          UI: http://localhost:3001\n UI External: http://192.168.2.159:3001\n --------------------------------------\n[Browsersync] Serving files from: src\ninternal/child_process.js:325\n    throw errnoException(err, 'spawn');\n    ^\n\nError: spawn EACCES\n    at _errnoException (util.js:1041:11)\n    at ChildProcess.spawn (internal/child_process.js:325:11)\n    at Object.exports.spawn (child_process.js:493:9)\n    at module.exports (/home/ecarroll/code/angular/quickstart/node_modules/opn/index.js:75:24)\n    at Object.open (/home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/utils.js:186:9)\n    at Object.openBrowser (/home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/utils.js:165:23)\n    at EventEmitter.service:running (/home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/internal-events.js:42:23)\n    at emitOne (events.js:120:20)\n    at EventEmitter.emit (events.js:210:7)\n    at /home/ecarroll/code/angular/quickstart/node_modules/browser-sync/lib/browser-sync.js:260:19\n</code></pre>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 0, "creation_date": 1504639174, "post_id": 46061883, "comment_id": 79084403, "body": "If they don&#39;t return <code>myObservable</code> (or assign it somewhere), I don&#39;t think there&#39;s much you can do..."}, {"owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "edited": false, "score": 0, "creation_date": 1504639234, "post_id": 46061883, "comment_id": 79084431, "body": "I&#39;m pretty sure you can use promise and convert it into observable. I don&#39;t have IDE atm to provide you an example."}, {"owner": {"reputation": 63, "user_id": 2439556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce092d4cc498052f8ff782ea74a41d2?s=128&d=identicon&r=PG", "display_name": "Grey", "link": "https://stackoverflow.com/users/2439556/grey"}, "edited": false, "score": 0, "creation_date": 1504639272, "post_id": 46061883, "comment_id": 79084448, "body": "The callback is code I can change. I defined <code>myObservable</code> in there."}], "answers": [{"comments": [{"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1504639736, "post_id": 46062034, "comment_id": 79084696, "body": "That will create an observable of observables since <code>getData</code> returns an <code>Observable</code>.  I think you need to throw a <code>mergeMap&#47;flatMap</code> in there somewhere."}, {"owner": {"reputation": 296, "user_id": 7473184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L0gsx.jpg?s=128&g=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/7473184/rex"}, "reply_to_user": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1504639945, "post_id": 46062034, "comment_id": 79084807, "body": "I changed it to return an observable (whoops!), I am curious about why a merge or flat map?"}, {"owner": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "reply_to_user": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 1, "creation_date": 1504640089, "post_id": 46062034, "comment_id": 79084890, "body": "I think it&#39;s better to write <code>getData().subscribe(observer)</code> instead of using operator as @Pace suggested"}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "edited": false, "score": 1, "creation_date": 1504640995, "post_id": 46062034, "comment_id": 79085377, "body": "Well, what you have now will not chain errors or completion from the source observable to the observer.  Also, I think you mean <code>observer.next</code> and not <code>Observer.next</code>.  @Oles Savluk has a good point too (would chain all the events) but I still don&#39;t like it because it forces a subscription on the inner observable, even if no one subscribes to the outer one."}, {"owner": {"reputation": 296, "user_id": 7473184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L0gsx.jpg?s=128&g=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/7473184/rex"}, "edited": false, "score": 0, "creation_date": 1504641258, "post_id": 46062034, "comment_id": 79085512, "body": "I see. Your right, about the errors and complete, and I didn&#39;t think it would force the subscription before the function was invoked. Is the function  resolved directly after being defined? Im not sure I understand Oles point. what would <code>subscribe(observer)</code> do?"}, {"owner": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "edited": false, "score": 0, "creation_date": 1504643212, "post_id": 46062034, "comment_id": 79086443, "body": "No, my solution will not force subscribtion on inner observable, it is still &quot;cold&quot; which means that the <code>Observable.create</code> body will be executed only after someone have subscribed to it. So it is totaly fine :)"}, {"owner": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "edited": false, "score": 1, "creation_date": 1504643432, "post_id": 46062034, "comment_id": 79086540, "body": "@RavenDev look <code>.subscribe</code> accepts object with <code>Observer</code> interface and your <code>observer</code> variable realize that interface. So basically it would call <code>observer.next</code>, <code>observer.error</code>, <code>observer.complete</code> for you (instead of writing this manually as you did)"}, {"owner": {"reputation": 296, "user_id": 7473184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L0gsx.jpg?s=128&g=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/7473184/rex"}, "reply_to_user": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "edited": false, "score": 0, "creation_date": 1504654004, "post_id": 46062034, "comment_id": 79090121, "body": "@Oles Savluk,  I think I see what you did and said. Am I making sense if I said, &quot;The interface for subscribe allows three functions, which are equivalent to the next, complete, and error methods on the observer. So by placing the observer as subscribe&#39;s argument it assumes each function and doesn&#39;t invoke the subscription method and thereby keeps it cold.&quot;"}, {"owner": {"reputation": 63, "user_id": 2439556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce092d4cc498052f8ff782ea74a41d2?s=128&d=identicon&r=PG", "display_name": "Grey", "link": "https://stackoverflow.com/users/2439556/grey"}, "edited": false, "score": 0, "creation_date": 1504701727, "post_id": 46062034, "comment_id": 79111987, "body": "Thanks! This is what I was looking for."}], "tags": [], "owner": {"reputation": 296, "user_id": 7473184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L0gsx.jpg?s=128&g=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/7473184/rex"}, "is_accepted": true, "score": 2, "last_activity_date": 1504653652, "last_edit_date": 1504653652, "creation_date": 1504639608, "answer_id": 46062034, "question_id": 46061883, "link": "https://stackoverflow.com/questions/46061883/rxjs-merge-observable-in-callback/46062034#46062034", "title": "RxJS Merge Observable in Callback", "body": "<p>my solution:</p>\n\n<pre><code>mainFunction(): Observable&lt;any&gt; {\n\n    return Rx.Observable.create(observer =&gt; {\n        getAsyncWithCallback((): void =&gt; {\n            getData().subscribe(observer);\n        })\n    })\n}\n\nmainFunction().subscribe((data) =&gt; {\n    console.log(data);\n})); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 2439556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce092d4cc498052f8ff782ea74a41d2?s=128&d=identicon&r=PG", "display_name": "Grey", "link": "https://stackoverflow.com/users/2439556/grey"}, "edited": false, "score": 0, "creation_date": 1504641816, "post_id": 46062035, "comment_id": 79085772, "body": "The first option doesn&#39;t solve this, as I need to call <code>getAsyncWithCallback()</code>. As for the second option, it would not chain errors and completion. Will add this to my question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "reply_to_user": {"reputation": 63, "user_id": 2439556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce092d4cc498052f8ff782ea74a41d2?s=128&d=identicon&r=PG", "display_name": "Grey", "link": "https://stackoverflow.com/users/2439556/grey"}, "edited": false, "score": 1, "creation_date": 1504643085, "post_id": 46062035, "comment_id": 79086377, "body": "@Grey not sure what you mean by that, in your example you aren&#39;t handling the failing case of the callback, this should be a good start though and you can use obs.error() or obs.complete() to signal an error or completion of the observable."}, {"owner": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "edited": false, "score": 0, "creation_date": 1504645848, "post_id": 46062035, "comment_id": 79087576, "body": "@RudolfOlah you can&#39;t execute <code>.catch</code> after <code>.subscribe</code> and you don&#39;t send completion. It is better to write <code>.subscribe(obs)</code> as I&#39;ve described in the comments for another answer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "reply_to_user": {"reputation": 3847, "user_id": 3772379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444ca8c36af9dfdd52f57662dbfd0370?s=128&d=identicon&r=PG", "display_name": "Oles Savluk", "link": "https://stackoverflow.com/users/3772379/oles-savluk"}, "edited": false, "score": 0, "creation_date": 1504651129, "post_id": 46062035, "comment_id": 79089391, "body": "@OlesSavluk thx, no console at the moment to test this. I wonder if the stackoverflow runnable code thing could be used....also perhaps we should create a community wiki answer so your comments can show up as part of the answer"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "is_accepted": false, "score": 0, "last_activity_date": 1504700725, "last_edit_date": 1504700725, "creation_date": 1504639610, "answer_id": 46062035, "question_id": 46061883, "link": "https://stackoverflow.com/questions/46061883/rxjs-merge-observable-in-callback/46062035#46062035", "title": "RxJS Merge Observable in Callback", "body": "<p>You will want to return an Observable from <code>mainFunction</code>.</p>\n\n<p>If getData returns some other type of object that is not an Observable, you will construct your own Observable with <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-create\" rel=\"nofollow noreferrer\">Observable.create</a>:</p>\n\n<pre><code>function mainFunction() {\n  return Observable.create((obs) =&gt; {\n    getAsyncWithCallback(() =&gt; {\n      getData()\n        .subscribe((data) =&gt; { obs.next(data); })\n        .catch((err) =&gt; { obs.error(err) });\n    });\n  });\n}\n\nmainFunction().subscribe(data =&gt; console.log(data));\n</code></pre>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>create converts an onSubscription function to an actual Observable. Whenever someone subscribes to that Observable, the function will be called with an Observer instance as a first and only parameter</p>\n  \n  <p>Calling next with a value will emit that value to the observer.</p>\n  \n  <p>Most of the times you should not need to use create, because existing operators allow you to create an Observable for most of the use cases. That being said, create is low-level mechanism allowing you to create any Observable, if you have very specific needs.</p>\n</blockquote>\n\n<p>There's also <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-from\" rel=\"nofollow noreferrer\">Observable.from</a> which will create Observables from arrays, array-like objects, iterators, Observable-like objects and Promises.</p>\n"}], "owner": {"reputation": 63, "user_id": 2439556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce092d4cc498052f8ff782ea74a41d2?s=128&d=identicon&r=PG", "display_name": "Grey", "link": "https://stackoverflow.com/users/2439556/grey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 46062034, "answer_count": 2, "score": 6, "last_activity_date": 1504700725, "creation_date": 1504638909, "last_edit_date": 1504641893, "question_id": 46061883, "link": "https://stackoverflow.com/questions/46061883/rxjs-merge-observable-in-callback", "title": "RxJS Merge Observable in Callback", "body": "<p>I need a little help with making a function return an observable. I have a function (let's call it <code>mainFunction</code>), that calls an async function (let's call it <code>getAsyncWithCallback</code>) and executes a callback. Part of the callback is an async call that returns an observable (let's call it <code>getData</code>).</p>\n\n<p><code>getAsyncWithCallback</code> is part of a library and I cannot change it.</p>\n\n<p>This is what I have:</p>\n\n<pre><code>mainFunction(){\n    getAsyncWithCallback(() =&gt; {\n        let myObservable = getData();\n    });\n}\n</code></pre>\n\n<p>This is what I want to do:</p>\n\n<pre><code>mainFunction().subscribe((data) =&gt; { \n    // data is the data from getData()\n});\n</code></pre>\n\n<p>What is the best way to achieve this, and chain in the error and completion form the inner?</p>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 4232, "user_id": 69092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bd92fdc121a84f2ef16bc918a24dc18d?s=128&d=identicon&r=PG&f=1", "display_name": "vidalsasoon", "link": "https://stackoverflow.com/users/69092/vidalsasoon"}, "edited": false, "score": 0, "creation_date": 1504635737, "post_id": 46060892, "comment_id": 79082611, "body": "if you look in the network tab of the chrome debugger, what does the url request to openweathermap look like?"}, {"owner": {"reputation": 725, "user_id": 6779637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9427a3fff352aec7c4c1176539a0c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "JackSlayer94", "link": "https://stackoverflow.com/users/6779637/jackslayer94"}, "reply_to_user": {"reputation": 4232, "user_id": 69092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bd92fdc121a84f2ef16bc918a24dc18d?s=128&d=identicon&r=PG&f=1", "display_name": "vidalsasoon", "link": "https://stackoverflow.com/users/69092/vidalsasoon"}, "edited": false, "score": 0, "creation_date": 1504635963, "post_id": 46060892, "comment_id": 79082716, "body": "it never sends a request actually thats the biggest pain. I tried this <code>return this.Http.get(&#39;http:&#47;&#47;api.openweathermap.org&#47;data&#47;2.5&#47;weathe&zwnj;&#8203;r?appid=xxx&amp;q=&#39; + name)       .map(this.extractData)       .catch(this.handleError);</code> still nothing in network log or console."}, {"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 0, "creation_date": 1504636561, "post_id": 46060892, "comment_id": 79083023, "body": "For your map result, you can create an interface of what you need, and create a new object (of this interface), in which you bind your wanted properties with the returned result. Look at the destructuring operator from ES6 : <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1504637588, "post_id": 46060892, "comment_id": 79083628, "body": "@JackSlayer94 have u tried using {params: myParams} instead?"}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "reply_to_user": {"reputation": 725, "user_id": 6779637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9427a3fff352aec7c4c1176539a0c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "JackSlayer94", "link": "https://stackoverflow.com/users/6779637/jackslayer94"}, "edited": false, "score": 0, "creation_date": 1504656480, "post_id": 46061079, "comment_id": 79090655, "body": "@JackSlayer94 you can use HttpClientModule instead of httpclient in your app module and then you can do let params = new HttpParams()       .set(&#39;DataTable&#39;, &#39;tablename&#39;)       .set(&#39;pageSize&#39;, &#39;-1&#39;);     this.http       .get(baseUrl, { params})       .do(val =&gt; console.log(val)) in your service."}], "tags": [], "owner": {"reputation": 4232, "user_id": 69092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bd92fdc121a84f2ef16bc918a24dc18d?s=128&d=identicon&r=PG&f=1", "display_name": "vidalsasoon", "link": "https://stackoverflow.com/users/69092/vidalsasoon"}, "is_accepted": false, "score": 1, "last_activity_date": 1504635426, "creation_date": 1504635426, "answer_id": 46061079, "question_id": 46060892, "link": "https://stackoverflow.com/questions/46060892/angular-doesnt-pass-http-get-params-properly/46061079#46061079", "title": "Angular doesn&#39;t pass HTTP GET params properly", "body": "<p>Try passing a RequestOptions object to the http get instead:</p>\n\n<pre><code>import { RequestOptions } from '@angular/http';    \n\ngetWeatherbyName(name: string): Observable&lt;any&gt; {\n            let myParams = new URLSearchParams();\n            myParams.append('q', name);\n            myParams.append('appid', this.Appid);\n\n            let options = new RequestOptions({ search: myParams}); //&lt;----- NEW\n\n            // actual http request should look like this: http://api.openweathermap.org/data/2.5/weather?appid=xxx&amp;q=Chennai\n            return this.Http.get(this.APIurl, options) //&lt;&lt;----- NEW\n              .map(this.extractData)\n              .catch(this.handleError);\n          }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 725, "user_id": 6779637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9427a3fff352aec7c4c1176539a0c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "JackSlayer94", "link": "https://stackoverflow.com/users/6779637/jackslayer94"}, "edited": false, "score": 0, "creation_date": 1504767224, "post_id": 46062112, "comment_id": 79141021, "body": "Thanks for the pointers! Basically what I was doing in my constructor was using <code>Http: Http</code> so when I was performing a request, it referred to the Angular class and not the local instance. Changing from <code>constructor(private Http: Http) { }</code> to <code>constructor(private http: Http) { }</code> and also <code>return this.Http.get(this.APIurl, { search: myParams})</code> to <code>return this.http.get(this.APIurl, { search: myParams})</code> made it work!"}], "tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1504639915, "creation_date": 1504639915, "answer_id": 46062112, "question_id": 46060892, "link": "https://stackoverflow.com/questions/46060892/angular-doesnt-pass-http-get-params-properly/46062112#46062112", "title": "Angular doesn&#39;t pass HTTP GET params properly", "body": "<p>Your main problem here is that you are not subscribing to the <code>observable</code> that is being produced by your <code>getWeatherbyName</code> function. <code>Observable</code>s returned by <code>Http</code> are <a href=\"https://blog.thoughtram.io/angular/2016/06/16/cold-vs-hot-observables.html\" rel=\"nofollow noreferrer\">cold</a>:</p>\n\n<blockquote>\n  <p>Cold observables start running upon subscription, i.e., the observable sequence only starts pushing values to the observers when Subscribe is called. (\u2026) This is different from hot observables such as mouse move events or stock tickers which are already producing values even before a subscription is active.</p>\n</blockquote>\n\n<p>In order to subscribe to this observable, you can simply update your <code>search</code> function to the following:</p>\n\n<pre><code>search() {\n    this.weather.getWeatherbyName(this.cityName)\n        .subscribe();\n}\n</code></pre>\n\n<p>This is by no means the complete solution to your problem - You will want to do something in the subscription, such as assign the information received to properties of your component so that they can be rendered in the UI.</p>\n\n<p>You appear to have other issues in your linked project, but I suggest you ask separate questions on Stack Overflow if needed, or even better, your favorite search engine should be able to help.</p>\n"}], "owner": {"reputation": 725, "user_id": 6779637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9427a3fff352aec7c4c1176539a0c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "JackSlayer94", "link": "https://stackoverflow.com/users/6779637/jackslayer94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 46062112, "answer_count": 2, "score": 0, "last_activity_date": 1504639915, "creation_date": 1504634561, "question_id": 46060892, "link": "https://stackoverflow.com/questions/46060892/angular-doesnt-pass-http-get-params-properly", "title": "Angular doesn&#39;t pass HTTP GET params properly", "body": "<p>So I figuring out my way around Angular. Just started with a OpenWeather API based application using a simple GET method.</p>\n\n<p>So here is my app.component.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { WeatherService } from './weather.service';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [WeatherService]\n})\nexport class AppComponent {\n  title = 'Ng-Weather';\n  cityName: string;    \n  constructor(private weather: WeatherService) { }    \n  search() {\n    this.weather.getWeatherbyName(this.cityName);\n  }\n}\n</code></pre>\n\n<p>As you can guess, the <code>cityName</code> variable is two way binded. The <code>search()</code> function is invoked onclick of a button and the data is passed to the <code>weatherservice</code>. The contents of weather service is:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response, URLSearchParams } from '@angular/http';\nimport { Observable } from 'rxjs';\nimport { Weather } from './weather';\n@Injectable()\nexport class WeatherService {\n  APIurl = \"http://api.openweathermap.org/data/2.5/weather\";\n  Appid = \"xxx\";\n  constructor(private Http: Http) { }\n  getWeatherbyName(name: string): Observable&lt;any&gt; {\n    let myParams = new URLSearchParams();\n    myParams.append('q', name);\n    myParams.append('appid', this.Appid);\n    // actual http request should look like this: http://api.openweathermap.org/data/2.5/weather?appid=xxx&amp;q=Chennai\n    return this.Http.get(this.APIurl, { search: myParams})\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n  private extractData(res: Response) {\n    console.log(res.json());\n    let body = res.json();\n    return body.data;\n  }\n  private handleError(error: Response | any) {\n    console.error(error.message || error);\n    return Observable.throw(error.message || error);\n  }\n}\n</code></pre>\n\n<p>But I get no error in my console or during the compile process. What is being done wrong? Also, how can I map the JSON I get to my class and give back that instance to the <code>app.component</code>?</p>\n\n<p>Following is my class:</p>\n\n<pre><code>export class Weather {\n    city: String;\n    max_temp: String;\n    min_temp: String;\n    description: String;\n}\n</code></pre>\n\n<p>And this is a sample JSON I receive:</p>\n\n<pre><code>{  \n    \"coord\":{  \n        \"lon\":80.28,\n        \"lat\":13.09\n    },\n    \"weather\":[  \n        {  \n            \"id\":803,\n            \"main\":\"Clouds\",\n            \"description\":\"broken clouds\",\n            \"icon\":\"04n\"\n        }\n    ],\n    \"base\":\"stations\",\n    \"main\":{  \n        \"temp\":304.15,\n        \"pressure\":1008,\n        \"humidity\":79,\n        \"temp_min\":304.15,\n        \"temp_max\":304.15\n    },\n    \"visibility\":6000,\n    \"wind\":{  \n        \"speed\":3.1,\n        \"deg\":160\n    },\n    \"clouds\":{  \n        \"all\":75\n    },\n    \"dt\":1504629000,\n    \"sys\":{  \n        \"type\":1,\n        \"id\":7834,\n        \"message\":0.0029,\n        \"country\":\"IN\",\n        \"sunrise\":1504571272,\n        \"sunset\":1504615599\n    },\n    \"id\":1264527,\n    \"name\":\"Chennai\",\n    \"cod\":200\n}\n</code></pre>\n\n<p>As you can see all I need is some data from the JSON and not the whole thing.</p>\n"}, {"tags": ["forms", "angular", "validation", "typescript", "dirty-tracking"], "comments": [{"owner": {"reputation": 1690, "user_id": 1921979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRaTG.jpg?s=128&g=1", "display_name": "Conor Mancone", "link": "https://stackoverflow.com/users/1921979/conor-mancone"}, "edited": false, "score": 1, "creation_date": 1504634681, "post_id": 46060809, "comment_id": 79082153, "body": "Example to clarify: if a form starts clean with an input value of &#39;something&#39;, and then the user edits it to be &#39;something else&#39;, and then hits undo (for instance) to bring the value back to &#39;something&#39;, are you expecting dirty to become true when the input is changed and then false when the value is put back to its original?"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 1, "creation_date": 1504635996, "post_id": 46060809, "comment_id": 79082730, "body": "As the other sites referenced have said, &quot;dirty&quot; means edited ... even if you edit it back to the same value. The &quot;dirty&quot; processing does <i>not</i> track your form&#39;s original values so it does not know if the user put the same value back. Angular has <i>no</i> built in mechanism that keeps the state of your original data. If you need that functionality, you&#39;ll need to implement it yourself ... or use something like this: <a href=\"https://github.com/ngrx/store\" rel=\"nofollow noreferrer\">github.com/ngrx/store</a>"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 1, "creation_date": 1504636266, "post_id": 46060809, "comment_id": 79082865, "body": "Another option is to use reactive forms instead of template-driven forms. Then your data model is <i>not</i> changed by any changes that the user makes. Then you can compare the form values to your original data model to determine if the forms looks exactly like it did before editing."}, {"owner": {"reputation": 8843, "user_id": 1153121, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/917abd6048213a10a381471a03d0891b?s=128&d=identicon&r=PG", "display_name": "Cody", "link": "https://stackoverflow.com/users/1153121/cody"}, "reply_to_user": {"reputation": 1690, "user_id": 1921979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRaTG.jpg?s=128&g=1", "display_name": "Conor Mancone", "link": "https://stackoverflow.com/users/1921979/conor-mancone"}, "edited": false, "score": 0, "creation_date": 1504650051, "post_id": 46060809, "comment_id": 79089101, "body": "@ConorMancone, thanks for the inquiry. That&#39;s precisely the goal.&lt;br /&gt; @DeborahK, I&#39;m aware that Angular has a different notion of what <code>dirty</code> means, I happen to disagree to say that <i>edited</i> is actually <i>touched</i>. I also will be steering clear of Reactive Forms as the word on Google Avenue states they&#39;ll be deprecated -- but thanks for the suggestion."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1504652653, "post_id": 46060809, "comment_id": 79089793, "body": "@Cody Do you have the reference/link for that? I&#39;m on the Angular doc team and have not heard anything like that about Reactive Forms."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1504655104, "post_id": 46060809, "comment_id": 79090385, "body": "@Cody I just checked with the developer of both forms modules and <b>NEITHER</b> are going away. Not sure where you heard that one is being deprecated but it is not true. Could you provide the link to where you saw that?"}, {"owner": {"reputation": 8843, "user_id": 1153121, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/917abd6048213a10a381471a03d0891b?s=128&d=identicon&r=PG", "display_name": "Cody", "link": "https://stackoverflow.com/users/1153121/cody"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1504675769, "post_id": 46060809, "comment_id": 79095177, "body": "@DeborahK, that&#39;s great news. I didn&#39;t read it, though, a friend/colleague mentioned a fellow colleague at Google (I believe) stated this. I&#39;ll see if I can inquire from my colleague to see if such a statement is <code>pristine</code> or just plain old <code>dirty</code>."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1504676046, "post_id": 46060809, "comment_id": 79095281, "body": "I&#39;d appreciate that. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 2, "last_activity_date": 1504636555, "creation_date": 1504636555, "answer_id": 46061339, "question_id": 46060809, "link": "https://stackoverflow.com/questions/46060809/angular-2-ngform-form-dirty-is-always-dirty/46061339#46061339", "title": "Angular 2++ | NgForm: Form.Dirty is Always Dirty", "body": "<p>With template-driven forms and a very flat data model, I implemented it like this:</p>\n\n<pre><code>private currentProduct: IProduct;\nprivate originalProduct: IProduct;\n\nget isDirty(): boolean {\n    return JSON.stringify(this.originalProduct) !== JSON.stringify(this.currentProduct);\n}\n\nget product(): IProduct {\n    return this.currentProduct;\n}\nset product(value: IProduct) {\n    this.currentProduct = value;\n    // Clone the object to retain a copy\n    this.originalProduct = Object.assign({}, value);\n}\n</code></pre>\n\n<p>But this only works for very simple cases.</p>\n\n<p>As I mentioned in the comments, using reactive forms gives you more flexibility in managing your data model separate from your user entries.</p>\n"}, {"tags": [], "owner": {"reputation": 8843, "user_id": 1153121, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/917abd6048213a10a381471a03d0891b?s=128&d=identicon&r=PG", "display_name": "Cody", "link": "https://stackoverflow.com/users/1153121/cody"}, "is_accepted": false, "score": 0, "last_activity_date": 1504676003, "last_edit_date": 1504676003, "creation_date": 1504650882, "answer_id": 46064232, "question_id": 46060809, "link": "https://stackoverflow.com/questions/46060809/angular-2-ngform-form-dirty-is-always-dirty/46064232#46064232", "title": "Angular 2++ | NgForm: Form.Dirty is Always Dirty", "body": "<h3>What Was Most Useful</h3>\n\n<hr />\n\ntemplate.html\n\n<pre><code>&lt;form #form=\"ngForm\" (ngSubmit)=\"handleSubmission($event, {}, form)\"&gt;\n    ...\n    &lt;input\n        #input\n        type=\"text\"\n        [name]=\"item.title\"\n        [attr.name]=\"item.title\"\n        [(ngModel)]=\"item.estimate\"\n        (ngModelChange)=\"handleEstimateChange(item, item.estimate, input, form)\"\n    /&gt;\n    ...\n&lt;/form&gt;\n</code></pre>\n\ncomponent.ts\n\n<pre><code>export class LeComponent {\n    @Input('data') public section: any;\n    public handleEstimateChange: Function;\n\n    private resetFormControl = (input: HTMLInputElement, form: NgForm) =&gt; {\n        var name = input.name, control = form.controls[name];\n        control.reset();\n        // control.markAsPristine();\n        // control.setValue(undefined);\n        // control.updateValueAndValidity();\n    };\n\n    constructor(private $: Sandbox) {\n        this.handleEstimateChange = $.debounce(this.handleEstimate.bind(this), (1000*0.2));\n    }\n\n    handleEstimate(item: any, estimate: number, input: HTMLInputElement, form: NgForm) {\n        if (!estimate) this.resetFormControl(input, form);\n        (this, item, estimate, input, form);\n        // Why does form.dirty never change back to pristine again???\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Note</strong></p>\n  \n  <ul>\n  <li><code>[attr.name]=\"...\"</code> (template.html)</li>\n  <li><code>resetFormControl</code></li>\n  </ul>\n</blockquote>\n\n<p>Basically, simply <code>delete</code>ing the value was not enough because it was still present on the <code>FormControl</code> object (<code>form.controls</code>). To clear it properly, invoke <code>control.reset()</code> for the individual control -- this in-turn invokes <code>.markAsPristine()</code> which communicates to the parent <code>NgForm</code>. Also, <code>input.name</code> was empty as it was only represented by <code>ng-reflect-name</code> unless <code>[attr.name]</code> elucidated the same value -- <code>[name]</code> is really just there because its required by Angular.</p>\n\n<p>Now, anytime an <code>&lt;input /&gt;</code> value changes -- <em>and</em> its falsey -- we reset the input ensuring that if <em>all</em> are falsey, Angular will automatically handle the <code>NgForm</code>'s dirty-state correctly.</p>\n"}], "owner": {"reputation": 8843, "user_id": 1153121, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/917abd6048213a10a381471a03d0891b?s=128&d=identicon&r=PG", "display_name": "Cody", "link": "https://stackoverflow.com/users/1153121/cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2819, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1504676003, "creation_date": 1504634203, "question_id": 46060809, "link": "https://stackoverflow.com/questions/46060809/angular-2-ngform-form-dirty-is-always-dirty", "title": "Angular 2++ | NgForm: Form.Dirty is Always Dirty", "body": "<h3>Determine if NgForm Looks <em>Exactly</em> As It Did Before <em>Any</em> User-Input</h3>\n\n<p><hr />\nIt seems that <code>form.dirty</code> doesn't redact its value after it has been changed, and <code>form.touched</code> seems to always be <code>false</code> no matter what: <code>dirty</code> is <code>touched</code>, and <code>touched</code> is <a href=\"http://www.dictionary.com/browse/tetched?r=75&amp;src=ref&amp;ch=dic\" rel=\"nofollow noreferrer\">tetched</a>.</p>\n\ntemplate.html\n\n<pre><code>&lt;form #form=\"ngForm\" (ngSubmit)=\"handleSubmission($event, {}, form)\"&gt;\n    ...\n    &lt;input\n        #input\n        type=\"text\"\n        [name]=\"item.title\"\n        [(ngModel)]=\"item.estimate\"\n        (ngModelChange)=\"handleEstimateChange(item, item.estimate, input, form)\"\n    /&gt;\n    ...\n&lt;/form&gt;\n</code></pre>\n\ncomponent.ts\n\n<pre><code>export class LeComponent {\n    @Input('data') public data: any;\n    public handleEstimateChange: Function;\n\n    constructor(private $: Sandbox) {\n        this.handleEstimateChange = $.debounce(this.handleEstimate.bind(this), (1000*0.2));\n    }\n\n    handleEstimate(item: any, estimate: number, input: HTMLInputElement, form: NgForm) {\n        if (!estimate) delete item.esitmate;\n        (this, item, estimate, input, form);\n        // Why does form.dirty never change back to pristine again???\n    }\n\n}\n</code></pre>\n\n<p>In the TypeScript, I'm <em>debouncing</em> the <code>ngModelChange</code> handler to give Angular a chance to change the <code>form.dirty</code> value before I check it. This is because <code>ngModelChange</code> gets triggered before the <code>NgForm</code> object has been modified.</p>\n\n<p>If <code>!estimate</code>, because <code>estimate === \"\"</code>, then set it back to its original value of <code>undefined</code>. In this case, the form should look <em>exactly</em> like it did before <em>any</em> user-input had occurred.</p>\n\n<p>However, when I put a breakpoint on the line right above the comment and I output <code>form.dirty</code> to the <code>console</code>, <strong>the NgForm never changes <code>dirty</code> back to <code>false</code>.</strong></p>\n\n<p><strong>Is it possible to determine if the form looks <em>exactly</em> like it did before any user-input?</strong></p>\n\n<p>Obviously, I can write my own <em>dirty</em> logic, but wouldn't that mean that <code>NgForm</code> is kind of useless? There's got to be something I'm missing, right? How could <em>dirty</em> not mean <em>dirty</em>?</p>\n\n<p>I've taken a look at some other SO questions -- the first one being similar but definitely not the question I am asking. They are asking if this is <em>intentional</em> -- I don't care; I'd like to know how to accomplish the goal above.</p>\n\nClose, but no cigar:\n\n<p><a href=\"https://stackoverflow.com/questions/41022263/angular2-formcontrol-stays-dirty-even-if-set-to-original-value\">angular2 formcontrol stays dirty even if set to original value</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39091338/block-routing-if-form-is-dirty-angular-2\">Block routing if form is dirty [ Angular 2 ]</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37342444/angular-2-getting-only-the-dirty-values-in-a-controlgroup\">Angular 2 getting only the dirty values in a controlgroup</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37844092/how-do-i-programmatically-set-an-angular-2-form-control-to-dirty\">How do I programmatically set an Angular 2 form control to dirty?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/45813051/angular-2-x-4-x-bootstrap-patchvalue-does-not-alter-dirty-flag-possible-bug\">Angular 2.x/4.x &amp; bootstrap: patchValue does not alter dirty flag. Possible bug?</a></p>\n"}, {"tags": ["javascript", "typescript", "firebase", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 410, "user_id": 7468384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df98a9fd310e9bc0ad998192290f70a8?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Lovetro", "link": "https://stackoverflow.com/users/7468384/gabriel-lovetro"}, "edited": false, "score": 0, "creation_date": 1504716814, "post_id": 46060387, "comment_id": 79122755, "body": "This is something of a broad question to ask here. My answer down below is what I usually do when I want to make an admin-only area. There are many ways to implement that, though, and therefore your question wouldn&#39;t have a proper &quot;correct answer&quot; (unless someone managed to list every single way to do it... Which is unlikely)."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8564965, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1488519824520248/picture?type=large", "display_name": "Jo&#227;o Pedro", "link": "https://stackoverflow.com/users/8564965/jo%c3%a3o-pedro"}, "edited": false, "score": 1, "creation_date": 1504892950, "post_id": 46060738, "comment_id": 79206558, "body": "Yep, was thinking around it and found that using ng-if* to hide the admin functions from the users based on this flag in firebase should do the trick. Thanks for help."}], "tags": [], "owner": {"reputation": 410, "user_id": 7468384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df98a9fd310e9bc0ad998192290f70a8?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Lovetro", "link": "https://stackoverflow.com/users/7468384/gabriel-lovetro"}, "is_accepted": true, "score": -1, "last_activity_date": 1504633948, "creation_date": 1504633948, "answer_id": 46060738, "question_id": 46060387, "link": "https://stackoverflow.com/questions/46060387/create-an-admin-module-maybe-on-ionic3-app/46060738#46060738", "title": "Create an Admin Module (Maybe?) on Ionic3 App?", "body": "<p>The simplest solution (probably not the safest, though) would be to use a flag (as in, a boolean value stored in the user's data in your database) that determines whether an user is an admin or not and then just check that flag whenever you want to show or hide something from your users.</p>\n\n<p>As a recommended security measure, make sure to also use Firebase's rules to guarantee only users flagged as \"admin\" can make certain changes in the database. It would also be a good idea to have a node to store all the admin's User IDs - although the most secure way of going about that is by adding those UIDs manually through the Firebase console (therefore allowing the node itself to be read-only for everyone).</p>\n"}], "owner": {"reputation": 3, "user_id": 8564965, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1488519824520248/picture?type=large", "display_name": "Jo&#227;o Pedro", "link": "https://stackoverflow.com/users/8564965/jo%c3%a3o-pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 46060738, "answer_count": 1, "score": -3, "last_activity_date": 1504638284, "creation_date": 1504632393, "last_edit_date": 1504638284, "question_id": 46060387, "link": "https://stackoverflow.com/questions/46060387/create-an-admin-module-maybe-on-ionic3-app", "title": "Create an Admin Module (Maybe?) on Ionic3 App?", "body": "<p>I want to create an admin-module-like for my app. Something like, when an admin logs in, can add material to the app. Other people (usual users) can only see that material and use some functionalities. The admin account has more buttons to interact with and another interface (maybe?).</p>\n\n<p>Some ideas or help with this?\nThanks a lot.</p>\n\n<p>I'm using Ionic3 and Firebase.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "edited": false, "score": 1, "creation_date": 1504633378, "post_id": 46060382, "comment_id": 79081553, "body": "Thank you very much sir!! It worked like a charm. Just had to change a few things in TS: calculatesum(){ return parseFloat(this.select1) +parseFloat(this.select2)  }"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 1, "last_activity_date": 1504632378, "creation_date": 1504632378, "answer_id": 46060382, "question_id": 46060365, "link": "https://stackoverflow.com/questions/46060365/sum-dropdown-values-on-angularjs-4/46060382#46060382", "title": "Sum dropdown values on AngularJS 4", "body": "<p>Call a function with ngIf where it adds all the model variable values</p>\n\n<pre><code>&lt;label *ngIf=\"calculatesum() &gt; 16\"; else error\"&gt;Higher than 16 &lt;/label&gt;\n</code></pre>\n\n<p>and in <strong><code>TS</code></strong></p>\n\n<pre><code>calculatesum(){\n  return select1 + select2 +select3 + select4;\n}\n</code></pre>\n"}], "owner": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 46060382, "answer_count": 1, "score": 0, "last_activity_date": 1504633185, "creation_date": 1504632290, "last_edit_date": 1504633185, "question_id": 46060365, "link": "https://stackoverflow.com/questions/46060365/sum-dropdown-values-on-angularjs-4", "title": "Sum dropdown values on AngularJS 4", "body": "<p>I'm trying to make a page where the user will choose a few drop-downs, each option of each dropdown will have a number value. I want Angular to show the sum of all selected options and store on a variable or something so I can use it on an IF.</p>\n\n<p>Here's the code I used as a workaround:</p>\n\n<pre><code>&lt;select id=\"\" [(ngModel)]=\"select1\"&gt;\n          &lt;option value=\"1\"&gt;name1&lt;/option&gt;\n          &lt;option value=\"2\"&gt;name2&lt;/option&gt;\n&lt;/select\n\n&lt;select id=\"\" [(ngModel)]=\"select2\"&gt;\n          &lt;option value=\"1\"&gt;name1&lt;/option&gt;\n          &lt;option value=\"2\"&gt;name2&lt;/option&gt;\n&lt;/select\n\n&lt;b&gt;Points:  &lt;/b&gt; {{ select1 -- select2 }}\n</code></pre>\n\n<p>However this does not store in any variable so I cannot use on an IF.</p>\n\n<p>I want to do something like this:</p>\n\n<pre><code>&lt;label *ngIf=\"summ &gt; 16; else error\"&gt;Higher than 16 &lt;/label&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 960, "user_id": 7199563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e6b136e9fe378761c06ed1e91cfc0d6?s=128&d=identicon&r=PG&f=1", "display_name": "hagner", "link": "https://stackoverflow.com/users/7199563/hagner"}, "is_accepted": true, "score": 1, "last_activity_date": 1504692031, "creation_date": 1504692031, "answer_id": 46072278, "question_id": 46060178, "link": "https://stackoverflow.com/questions/46060178/extract-multiple-fieldname-from-a-string-to-create-a-values-hashmap/46072278#46072278", "title": "Extract multiple {fieldName} from a string to create a values hashmap", "body": "<p>I would use a regex to get all the values from the message string and then use them to create an object. The following example will use a regex to find all strings within curly braces and then search the fields object for them:</p>\n\n<pre><code>class Message {\n    constructor(public text: string, public values: any) { };\n}\n\nfunction GetMessage(text: string, fields: any): Message {\n    let values: any = {};\n\n    let regex: RegExp = new RegExp(/{(.*?)}/g);\n    let match: RegExpExecArray;\n\n    while (match = regex.exec(text)) {\n        let field = match[1];\n        values[field] = fields[field] ? fields[field].join(', ') : '';\n    }\n\n    return new Message(text, values)\n}\n\nlet fields: any = { userName: ['theUser'], newName: ['theNew'], oldName: ['theOld'] };\nlet str = 'Updated user {userName}. Set new name {newName} instead of old {oldName}.';\n\nlet msg = GetMessage(str, fields);\nconsole.log(msg);\n</code></pre>\n\n<p>The console logs this output: </p>\n\n<pre><code>msg : Object {\n    text : \"Updated user {userName}. Set new name {newName} instead of old {oldName}.\"\n    values : Object { \n        userName: \"theUser\", \n        newName: \"theNew\", \n        oldName: \"theOld\" \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 46072278, "answer_count": 1, "score": 1, "last_activity_date": 1504692031, "creation_date": 1504631456, "question_id": 46060178, "link": "https://stackoverflow.com/questions/46060178/extract-multiple-fieldname-from-a-string-to-create-a-values-hashmap", "title": "Extract multiple {fieldName} from a string to create a values hashmap", "body": "<p>I get a simple situation in typescript.</p>\n\n<p>I have a model with some strings inside of it.</p>\n\n<p>For example</p>\n\n<pre><code>let message = 'Updated user {userName}. Set new name {newName} instead of old {oldName}.'\n</code></pre>\n\n<p>Currently the actual values of these fields are stores in a <code>this.fields</code> attribute.</p>\n\n<p>We were doing inline replacement to return a \"filled\" message text. Using something like:</p>\n\n<pre><code>replaceFields(message): string {\n    return Object.keys(this.fields).reduce((currentMessage, field) =&gt; {\n        let values: String[] = this.fields[field];\n        if (values) {\n            return currentMessage.replace(`{${field}}`, values.join(', '));\n        } else {\n            return currentMessage;\n        }\n    }, message);\n}\n</code></pre>\n\n<p>For translation needs we need to do things in another way.</p>\n\n<p>We would like not to replace inline but instead return somethink like:</p>\n\n<pre><code>message = {\n    text: 'Updated user {userName}. Set new name {newName} instead of old {oldName}.',\n    values: {\n        userName: 'actual_username',\n        newName: 'bob',\n        oldName: 'jack'\n    }\n}\n</code></pre>\n\n<p>So we can use angular ngx-translate third party which will then use in a pipe:</p>\n\n<p><code>My message: {{message.text |translate:values}}</code></p>\n\n<p>I'm quite new in Typescript and I don't know how to exctract fieldNames from the string and then simply add them in the kind of <code>values</code> object.</p>\n"}, {"tags": ["angular", "http", "typescript", "file-upload", "multipartform-data"], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 5104851, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153457364183545/picture?type=large", "display_name": "Cristian J. Brito", "link": "https://stackoverflow.com/users/5104851/cristian-j-brito"}, "is_accepted": false, "score": 4, "last_activity_date": 1561026226, "last_edit_date": 1561026226, "creation_date": 1510154472, "answer_id": 47183403, "question_id": 46059226, "link": "https://stackoverflow.com/questions/46059226/upload-image-with-httpclient/47183403#47183403", "title": "Upload image with HttpClient", "body": "<p>I don't think the issue is with angular, I used the same code to send a file to the server (I am using spring in backend), the only difference is I am not observing the request or converting the response to promise.</p>\n\n<p>See my code below:</p>\n\n<pre><code>let formData: FormData = new FormData();\nformData.append('file', this.fileToUpload);\n\nthis.http.put(this.usersUrl, formData).subscribe(\n    data =&gt; {\n        console.log(data); \n    },\n    error =&gt; {\n        console.log(error);\n    }\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7138, "user_id": 4415642, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/253d1dc6571ed728099ff96b693f5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Ziobro", "link": "https://stackoverflow.com/users/4415642/micha%c5%82-ziobro"}, "edited": false, "score": 0, "creation_date": 1514843352, "post_id": 47277805, "comment_id": 83079248, "body": "Is FormData() cross-browser supported? What about Safari browser?"}, {"owner": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "reply_to_user": {"reputation": 7138, "user_id": 4415642, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/253d1dc6571ed728099ff96b693f5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Ziobro", "link": "https://stackoverflow.com/users/4415642/micha%c5%82-ziobro"}, "edited": false, "score": 1, "creation_date": 1514853728, "post_id": 47277805, "comment_id": 83081171, "body": "@Micha\u0142Ziobro <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/FormData</a>"}, {"owner": {"reputation": 179, "user_id": 5951524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N5Ejx.gif?s=128&g=1", "display_name": "Tallerlei", "link": "https://stackoverflow.com/users/5951524/tallerlei"}, "edited": false, "score": 0, "creation_date": 1532686560, "post_id": 47277805, "comment_id": 90078328, "body": "Thanks a lot, I tried to set encryption and all that stuff in the options and would never have tried not to set options :)"}, {"owner": {"reputation": 340, "user_id": 7083569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g5nMq.png?s=128&g=1", "display_name": "Dimas Crocco", "link": "https://stackoverflow.com/users/7083569/dimas-crocco"}, "edited": false, "score": 0, "creation_date": 1535586941, "post_id": 47277805, "comment_id": 91125346, "body": "Adding &#39;Content-Type&#39; or &#39;Accept&#39; to the header will bring pain and suffering: the upload will not work... the question that still remains is WHY?!"}, {"owner": {"reputation": 551, "user_id": 4687451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IbZuC.jpg?s=128&g=1", "display_name": "Ikenna Anthony Okafor", "link": "https://stackoverflow.com/users/4687451/ikenna-anthony-okafor"}, "edited": false, "score": 1, "creation_date": 1545300101, "post_id": 47277805, "comment_id": 94580025, "body": "Thank you for the multipart/form-data tip. I was setting the multipart headers and my reqquets weren&#39;t showing up on the server, even though they worked perfect in Insomnia (with the multipart headers set though). I&#39;ve been at this for over 12 hours!!"}], "tags": [], "owner": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "is_accepted": true, "score": 27, "last_activity_date": 1510634551, "creation_date": 1510634551, "answer_id": 47277805, "question_id": 46059226, "link": "https://stackoverflow.com/questions/46059226/upload-image-with-httpclient/47277805#47277805", "title": "Upload image with HttpClient", "body": "<p>For me the trick was not to set the content-type to multipart/form-data. But that was done automatically for me.</p>\n\n<pre><code>&lt;label&gt;\n  &lt;input type=\"file\" (change)=\"setFiles($event)\" style=\"display:none\" multiple/&gt;\n  &lt;a mat-raised-button color=\"primary\"&gt;\n    &lt;mat-icon&gt;file_upload&lt;/mat-icon&gt;\n    Select Documents\n  &lt;/a&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p>Here's my code that uploads multipart/form-data. No need to set the headers.</p>\n\n<pre><code>private setFile(event) {\n    let files = event.srcElement.files\n    if (!files) {\n      return\n    }\n\n    let path = `${environment.celoApiEndpoint}/api/patientFiles`\n    let data = {\"patientData\": {\n      \"uid\": \"\",\n      \"firstName\": \"\",\n      \"lastName\": \"\",\n      \"gender\": \"Not Specified\",\n      \"dateOfBirth\": \"\"\n    }}\n    // let headers = new HttpHeaders()\n    //   .set('content-type', 'multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW')\n    // let headers = new HttpHeaders().set('content-type', 'multipart/form-data')\n    const formData: FormData = new FormData();\n\n    for (let i = 0; i &lt; files.length; i++) {\n      formData.append(i.toString(), files[i], files[i].name);\n    }\n    formData.append(\"data\", JSON.stringify(data));\n    this.http.post(path, formData).subscribe(\n      (r)=&gt;{console.log('got r', r)}\n    )\n  }\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 4551707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8hn2.jpg?s=128&g=1", "display_name": "mrkvon", "link": "https://stackoverflow.com/users/4551707/mrkvon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33630, "favorite_count": 9, "accepted_answer_id": 47277805, "answer_count": 2, "score": 27, "last_activity_date": 1561026226, "creation_date": 1504627383, "question_id": 46059226, "link": "https://stackoverflow.com/questions/46059226/upload-image-with-httpclient", "title": "Upload image with HttpClient", "body": "<h1>Problem</h1>\n\n<p>I try to upload an image with angular's <a href=\"https://angular.io/api/common/http/HttpClient\" rel=\"noreferrer\"><code>HttpClient</code></a> to API <code>Content-Type: multipart/form-data</code> (angular v4+). Is it supported? How to do it?</p>\n\n<p>The upload works with <code>XMLHttpRequest</code> when using module like <a href=\"https://github.com/ogix/ng2-fancy-image-uploader\" rel=\"noreferrer\"><code>ng2-fancy-image-uploader</code></a>. I would prefer to use a custom method with <code>HttpClient</code> which i could put into a http service together with other methods for accessing API.</p>\n\n<h1>Here is what i have tried so far:</h1>\n\n<h2>model.service.ts</h2>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class ModelService {\n  constructor(private http: HttpClient) { }\n\n  public async updateAvatar(file: File): Promise&lt;void&gt; {\n\n    // headers\n    const headers = new HttpHeaders()\n      .append('Content-Type', 'multipart/form-data');\n\n    const formData: FormData = new FormData();\n    formData.append('avatar', file, file.name);\n\n    const response: HttpResponse = await this.http\n      .patch('https://example.com/avatar', formData, { headers, observe: 'response' })\n      .toPromise();\n\n    console.log(response.status);\n  }\n}\n</code></pre>\n\n<h2>avatar-uploader.component.ts</h2>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ModelService } from './path/to/model.service';\n\n@Component({\n  selector: 'app-avatar-uploader',\n  template: '&lt;input type=\"file\" #fileInput (changes)=\"uploadAvatar()\"&gt;'\n})\nexport class AvatarUploaderComponent implements OnInit {\n\n  @ViewChild('fileInput') fileInputElement: ElementRef;\n\n  constructor() { }\n\n  ngOnInit() { }\n\n  public async uploadAvatar() {\n    const file: File = this.fileInputElement.nativeElement.files[0];\n\n    await this.model.updateAvatar(file);\n  }\n\n}\n</code></pre>\n\n<p>This version sends a request to (express) API, but <code>multer</code> (a library for parsing <code>multipart/form-data</code> requests) fails to parse the request.</p>\n\n<p>So i guess i either use the <code>HttpClient</code> incorrectly, or it doesn't support <code>multipart/form-data</code> requests.</p>\n\n<p>I guess one could send base64 encoded file or use <code>XmlHttpRequest</code>, but i ask specifically about <code>HttpClient</code>'s ability to do it.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 789, "user_id": 1679279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b7ca058fe2c17d469b2caf6dd431b75b?s=128&d=identicon&r=PG", "display_name": "uzhas", "link": "https://stackoverflow.com/users/1679279/uzhas"}, "reply_to_user": {"reputation": 423, "user_id": 8188875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Iy6Su.jpg?s=128&g=1", "display_name": "arracso", "link": "https://stackoverflow.com/users/8188875/arracso"}, "edited": false, "score": 0, "creation_date": 1504626999, "post_id": 46058959, "comment_id": 79078352, "body": "this is not array of objects and i dont want to use jquery"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1504627247, "post_id": 46058959, "comment_id": 79078514, "body": "From the existing array, create a new array that doesn&#39;t have duplicates."}, {"owner": {"reputation": 423, "user_id": 8188875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Iy6Su.jpg?s=128&g=1", "display_name": "arracso", "link": "https://stackoverflow.com/users/8188875/arracso"}, "edited": false, "score": 0, "creation_date": 1504627293, "post_id": 46058959, "comment_id": 79078550, "body": "@uzhas at that question sort by votes, you will find lots of solutions. Using Jquery, filter, etc.. If you don&#39;t like them just use a loop. And what you are showing are 3 objects....."}], "answers": [{"tags": [], "owner": {"reputation": 712, "user_id": 2039422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lVoad.jpg?s=128&g=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/2039422/mahmoud"}, "is_accepted": false, "score": -1, "last_activity_date": 1504627586, "creation_date": 1504627586, "answer_id": 46059272, "question_id": 46058959, "link": "https://stackoverflow.com/questions/46058959/how-to-remove-duplicate-value-from-array/46059272#46059272", "title": "How to remove duplicate value from array?", "body": "<p>try to use a pipe like this</p>\n\n<pre><code>transform(items: Array&lt;any&gt;, args?: any): any {\n\n        let filtredItems= [];\n\n        if(Array.isArray(items) &amp;&amp; items.length &gt; 0)\n          items.forEach((el) =&gt; { \n             if(filtredItems.indexOf(el) &lt; 0) \n                filtredItems.push(el)  \n          });\n\n        return filtredItems;\n}\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 1679279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b7ca058fe2c17d469b2caf6dd431b75b?s=128&d=identicon&r=PG", "display_name": "uzhas", "link": "https://stackoverflow.com/users/1679279/uzhas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1504629417, "answer_count": 1, "score": -3, "last_activity_date": 1504628378, "creation_date": 1504626478, "last_edit_date": 1504628378, "question_id": 46058959, "link": "https://stackoverflow.com/questions/46058959/how-to-remove-duplicate-value-from-array", "closed_reason": "Duplicate", "title": "How to remove duplicate value from array?", "body": "<p>I have this in array:</p>\n\n<pre><code>[\n    {item: \"7621629-01/17-23\", phoneNum: \"032/406713\"},\n    {item: \"7621629-01/17-24\", phoneNum: \"032/406713\"},\n    {item: \"7621629-01/17-25\", phoneNum: \"032/406713\"}\n]\n</code></pre>\n\n<p>What i want is to remove all duplicates phoneNum and left only one. Any suggestion how can i do that? Its in .ts file. So to have object but to remove duplicate phoneNum because im using autocomplete and now in suggestion i get three same number</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 0, "last_activity_date": 1504626426, "creation_date": 1504626426, "answer_id": 46058939, "question_id": 46058596, "link": "https://stackoverflow.com/questions/46058596/typescript-union-type-inference-failure/46058939#46058939", "title": "TypeScript union type inference failure", "body": "<p><code>typeof name === 'string'</code> does not work as type guard for <code>keyof TData</code> because apparently <code>string</code> and <code>keyof TData</code> are assumed to be two different types by the compiler. If you add your own custom type guard for <code>keyof TData</code> it works:</p>\n\n<pre><code>function TypeStrictFieldToName&lt;TData&gt;(name: keyof TData | { name: keyof TData }): keyof TData {\n    if (isKeyofTData&lt;TData&gt;(name)) return name;\n    else return name.name; // type of name here is { name: keyof TData }\n}\n\nfunction isKeyofTData&lt;TData&gt;(name: keyof TData | {}): name is keyof TData {\n    return typeof name === 'string';\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "is_accepted": true, "score": 1, "last_activity_date": 1504629524, "last_edit_date": 1504629524, "creation_date": 1504627365, "answer_id": 46059218, "question_id": 46058596, "link": "https://stackoverflow.com/questions/46058596/typescript-union-type-inference-failure/46059218#46059218", "title": "TypeScript union type inference failure", "body": "<p>It seems to be a bug in the type checker, because the TypeScript handbook says \"a <code>keyof T</code> type is considered a subtype of <code>string</code>.\"</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html</a></p>\n\n<p>As a workaround, the type guard can be inverted to rule out the custom type first:  </p>\n\n<pre><code>function hasName(obj: string | { name: string }): obj is { name: string } {\n    return typeof obj.name === 'string';\n}\n\nfunction getName&lt;TData&gt;(name: keyof TData | { name: keyof TData }): keyof TData {\n    if (hasName(name)) return name.name;\n    else return name;\n}\n\n// compiles with valid keys\ngetName&lt;Entity&gt;('a');\ngetName&lt;Entity&gt;({ name: 'a' });\n\n// doesn't compile with invalid keys\ngetName&lt;Entity&gt;('z');\ngetName&lt;Entity&gt;({ name: 'z' });\n</code></pre>\n\n<p>You could search the TypeScript Issues in GitHub and file a new issue if this hasn't been addressed previously:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues</a></p>\n"}], "owner": {"reputation": 521, "user_id": 5860619, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ba6577881df7b0cd6d8896dcfae228d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Godyaev", "link": "https://stackoverflow.com/users/5860619/andrey-godyaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 46059218, "answer_count": 2, "score": 3, "last_activity_date": 1504629524, "creation_date": 1504625277, "last_edit_date": 1504626410, "question_id": 46058596, "link": "https://stackoverflow.com/questions/46058596/typescript-union-type-inference-failure", "title": "TypeScript union type inference failure", "body": "<p>It seems that sometimes TypeScript (of recent version) fails to narrow union types even if type guard is present.\nIs this behavior a bug or a feature:</p>\n\n<p>Preamble:</p>\n\n<pre><code>// some config\ninterface Config {\n    name: string;\n    option1?: number;\n    option2?: boolean;\n}\n\n// arbitrary type\ninterface Entity {\n    a: number;\n    b: number;\n}\n\n// name aware type guard for entity property-to-config map\n// some default config may be replaced with a property name\ntype TConfigSet&lt;TData&gt; = {\n    [P in keyof TData]: (Config &amp; { name: P }) | P;\n}\n\n// example of TConfigSet usage\nconst EntityConfigs: TConfigSet&lt;Entity&gt; = {\n    a: {\n        name: 'a',\n        option2: true\n    },\n    b: 'b'\n}\n</code></pre>\n\n<p>Question:</p>\n\n<pre><code>// this function compiles\nfunction TypeLooseFieldToName(name: string | Config): string {\n    if (typeof name === 'string') return name;\n    else return name.name;\n}\n\n// this one doesn't\nfunction TypeStrictFieldToName&lt;TData&gt;(name: keyof TData | { name: keyof TData }): keyof TData {\n    if (typeof name === 'string') return name;\n    else return name.name; // still keyof TData | { name: keyof TData }, should be shrinked to { name: keyof TData }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1504625967, "last_edit_date": 1504625967, "creation_date": 1504625656, "answer_id": 46058711, "question_id": 46058549, "link": "https://stackoverflow.com/questions/46058549/create-a-type-i-can-enumerate-on/46058711#46058711", "title": "create a type I can enumerate on", "body": "<p>You can not do that with type alias because they are not compiled into the javascript output and therefore are not available at runtime.</p>\n\n<p>You can do something similar with <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-4.html#string-enums\" rel=\"nofollow noreferrer\">string enums</a>:</p>\n\n<pre><code>enum MyType {\n    Value1 = \"value1\",\n    Value2 = \"value2\"\n};\n\nlet myTypeKeys: string[] = Object.keys(MyType);\nconsole.log(myTypeKeys); // [\"Value1\", \"Value2\"]\n\nlet myTypeValues: string[] = Object.keys(MyType).map(key =&gt; MyType[key]);\nconsole.log(myTypeValues); // [\"value1\", \"value2\"]\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=enum%20MyType%20%7B%0A%20%20%20%20Value1%20%3D%20%22value1%22%2C%0A%20%20%20%20Value2%20%3D%20%22value2%22%0A%7D%3B%0A%0Alet%20myTypeKeys%3A%20string%5B%5D%20%3D%20Object.keys(MyType)%3B%0Aconsole.log(myTypeKeys)%3B%20%2F%2F%20%5B%22Value1%22%2C%20%22Value2%22%5D%0A%0Alet%20myTypeValues%3A%20string%5B%5D%20%3D%20Object.keys(MyType).map(key%20%3D%3E%20MyType%5Bkey%5D)%3B%0Aconsole.log(myTypeValues)%3B%20%2F%2F%20%5B%22value1%22%2C%20%22value2%22%5D\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n"}], "owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504625967, "creation_date": 1504625107, "question_id": 46058549, "link": "https://stackoverflow.com/questions/46058549/create-a-type-i-can-enumerate-on", "title": "create a type I can enumerate on", "body": "<p>Is it possible to enumerate on a type.\nFor example if I declare:</p>\n\n<pre><code>type myType = 'value1' | 'value2';\n</code></pre>\n\n<p>Then  I would like to initialize <code>myTypeArray</code> with all the values of <code>myType</code>.</p>\n\n<pre><code>let myTypeArray: myType[] = // enumerate on the values authorized by `myType`.\n</code></pre>\n\n<p>Is there a structure with typescript that allows that ?</p>\n"}, {"tags": ["html", "angular", "typescript", "angular2-template"], "comments": [{"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1504625096, "post_id": 46058192, "comment_id": 79077146, "body": "The problem is that <code>name</code> updates the control once you press <code>enter</code>. I would write my own value accessor for <code>div</code> and use formControl from reactive forms module."}], "answers": [{"comments": [{"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1504703056, "post_id": 46063132, "comment_id": 79113001, "body": "If you wish to forgo the &#39;Viewchild&#39; reference, you can add a directive that will set the value of the element on directive ngOnInit. A little bit neater?"}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": true, "score": 2, "last_activity_date": 1528385008, "last_edit_date": 1528385008, "creation_date": 1504644416, "answer_id": 46063132, "question_id": 46058192, "link": "https://stackoverflow.com/questions/46058192/new-line-not-working-properly-in-angular-2-editable-div/46063132#46063132", "title": "New Line not working properly in Angular 2 editable div", "body": "<p>With some little changes you can make it work. </p>\n\n<ul>\n<li>Change textContent attribute to <code>innerText</code>.</li>\n<li>Set the the innerText value value in <code>ngOnInit</code> and forgo ngModel. </li>\n</ul>\n\n<p><strong>Typescript:</strong></p>\n\n<pre><code>@ViewChild('myEditable') private myEditable;\nname:string;\nconstructor() {\n  this.name = 'I am editable';\n}\nngOnInit(){\n  this.myEditable.nativeElement.innerText = this.name;\n}\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div #myEditable contentEditable (input)=\"name=$event.target.innerText\"&gt;&lt;/div&gt;\n&lt;div style=\"white-space:pre\"&gt;{{name}}&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-mzpqtc?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a></p>\n"}], "owner": {"reputation": 1399, "user_id": 1681760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f97621ebad8c47b0570d00624cf12a54?s=128&d=identicon&r=PG", "display_name": "rtaft", "link": "https://stackoverflow.com/users/1681760/rtaft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 1, "accepted_answer_id": 46063132, "answer_count": 1, "score": 0, "last_activity_date": 1528385008, "creation_date": 1504623952, "last_edit_date": 1528384917, "question_id": 46058192, "link": "https://stackoverflow.com/questions/46058192/new-line-not-working-properly-in-angular-2-editable-div", "title": "New Line not working properly in Angular 2 editable div", "body": "<p>I have a contenteditable div that works great until I assign the changed text back into initial variable.  When editing and I press enter, a new line appears properly in the editable div, but does not get stored into 'name'.  The next character typed ends up at the end of the previous line, and the cursor goes to the beginning of the first line.  If I remove the (input) line, the div behaves properly, but 'name' is not updated.  How do I get the div to behave properly and update 'name'?</p>\n\n<p><a href=\"https://embed.plnkr.co/XaHsSRcfieKI8VU6TjTf/\" rel=\"nofollow noreferrer\">Plunk Demo</a> </p>\n\n<pre><code>import {Component, NgModule} from '@angular/core'\nimport {BrowserModule} from '@angular/platform-browser'\n\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div style=\"white-space: pre-wrap;\"\n         [textContent]=name\n         (input)=\"name=$event.target.textContent\" \n      contenteditable&gt;\n    &lt;/div&gt;\n    &lt;div style=\"white-space: pre-wrap;\"&gt;{{name}}&lt;/div&gt;\n  `,\n})\nexport class App {\n  name:string;\n  constructor() {\n    this.name = `TEST`\n  }\n}\n\n@NgModule({\n  imports: [ BrowserModule  ],\n  declarations: [ App ],\n  bootstrap: [ App ] \n})\nexport class AppModule {}\n</code></pre>\n\n<p>Expected Result:</p>\n\n<pre><code>Test\nTest\n</code></pre>\n\n<p>Actual Result:</p>\n\n<pre><code>estTestT\n</code></pre>\n"}, {"tags": ["android", "html", "css", "typescript", "nativescript"], "comments": [{"owner": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "edited": false, "score": 1, "creation_date": 1504624121, "post_id": 46057988, "comment_id": 79076528, "body": "Did you try <code>border-bottom-width: 2;     border-bottom-color: red;</code> And the Border element shouldn&#39;t be necessary."}, {"owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "reply_to_user": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "edited": false, "score": 0, "creation_date": 1504624212, "post_id": 46057988, "comment_id": 79076574, "body": "yes I tried different width&#39;s and colors, nothing worked and there is also no exception occuring"}, {"owner": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "edited": false, "score": 1, "creation_date": 1504631900, "post_id": 46057988, "comment_id": 79080856, "body": "Try inputting some text content into the label, see if the lack of text is what could be causing it."}, {"owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "reply_to_user": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "edited": false, "score": 0, "creation_date": 1504682314, "post_id": 46057988, "comment_id": 79098607, "body": "Tried that too, it did not display text. But I actually found out, what might have caused the problem. I post an answer"}], "answers": [{"comments": [{"owner": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "edited": false, "score": 1, "creation_date": 1504683203, "post_id": 46069138, "comment_id": 79099175, "body": "Or just consider using/upgrading to 3+. Tons of fixes since 2.4. And 2.5 is the latest in the <code>2</code> major versions."}, {"owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "reply_to_user": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "edited": false, "score": 0, "creation_date": 1504683558, "post_id": 46069138, "comment_id": 79099388, "body": "@pkanev Of course you are right, but we are working on a lot of beta-versions atm and need to upgrade the complete project in order to upgrade certain modules (since the dependencies require this). I would call it a very ... sensitive shape"}], "tags": [], "owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "is_accepted": false, "score": 0, "last_activity_date": 1504682440, "creation_date": 1504682440, "answer_id": 46069138, "question_id": 46057988, "link": "https://stackoverflow.com/questions/46057988/use-border-in-nativescript-for-android/46069138#46069138", "title": "Use Border in NativeScript for Android", "body": "<p>Actually it was quite easy to fix this. I recognized I was running <code>tns-core-modules 2.2.1</code>, so simply upgrading to 2.4 via</p>\n\n<pre><code>npm uninstall tns-core-modules\n\nnpm install tns-core-modules@2.4 --save\n</code></pre>\n\n<p>worked and then reinstall the platforms and you are ready to go.</p>\n"}], "owner": {"reputation": 661, "user_id": 5524954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d40a932ec6ff67cda8ba84be8807295d?s=128&d=identicon&r=PG&f=1", "display_name": "R&#252;diger", "link": "https://stackoverflow.com/users/5524954/r%c3%bcdiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504682440, "creation_date": 1504623294, "question_id": 46057988, "link": "https://stackoverflow.com/questions/46057988/use-border-in-nativescript-for-android", "title": "Use Border in NativeScript for Android", "body": "<p>I wrote a NativeScript application and tested it with iOS. Now I wanted to try it out on Android and he is not using the borders properly. I want to use a Bordered-Label for a \"Seperator\" on a page.</p>\n\n<p>For iOS the following Code is working out:</p>\n\n<p>in my ts-file:</p>\n\n<pre><code>import { Border } from \"ui/border\";\n</code></pre>\n\n<p>in my html-file:</p>\n\n<pre><code>&lt;label class=\"separator-label\"&gt;&lt;/label&gt;\n</code></pre>\n\n<p>in my css file:</p>\n\n<pre><code>.separator-label {\n    border-bottom-color: rgba(255, 230, 0, 1);\n    border-width: 1;\n    margin-left: 10;\n    margin-right: 10;\n    margin-top: 20;\n    margin-bottom: 20;\n} \n</code></pre>\n\n<p>This is not displaying anything on Android. So I tried to use Borders according to the NativeScript Documentation:</p>\n\n<p>ts-file:</p>\n\n<pre><code>import { Border } from \"ui/border\";\n</code></pre>\n\n<p>html-file:</p>\n\n<pre><code>&lt;Border class=\"separator-border\"&gt;\n    &lt;label class=\"separator-label\"&gt;&lt;/label&gt;    \n&lt;/Border&gt;   \n</code></pre>\n\n<p>and also tried:</p>\n\n<pre><code>&lt;Border borderWidth=\"1\" border-Color=\"#FF0000\" borderRadius=\"10\"&gt;\n    &lt;label class=\"separator-label\"&gt;&lt;/label&gt;    \n&lt;/Border&gt;    \n</code></pre>\n\n<p>css-file:</p>\n\n<pre><code>.separator-label {\n    /*border-bottom-color: lightgrey;\n    border-width: 1;*/\n    margin-left: 10;\n    margin-right: 10;\n    margin-top: 30;\n    margin-bottom: 30;\n} \n\n.separator-border {\n    border-width: 1;\n    border-bottom-color: lightgray;\n}\n</code></pre>\n\n<p>nothing was even visible, when I set some text into the label the text is displayed but without border. Did I forget something?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "edited": false, "score": 1, "creation_date": 1504643928, "post_id": 46057779, "comment_id": 79086768, "body": "I added <code>webpack</code> tag since this appears to be a webpack bundling question (the error was at run time, not compile time)."}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 2529824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QD1qW.png?s=128&g=1", "display_name": "Andres Elizondo", "link": "https://stackoverflow.com/users/2529824/andres-elizondo"}, "edited": false, "score": 0, "creation_date": 1504623489, "post_id": 46057959, "comment_id": 79076108, "body": "Thanks! I already did, I edited my question to show how my package.json (partially) looks like."}, {"owner": {"reputation": 191, "user_id": 2529824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QD1qW.png?s=128&g=1", "display_name": "Andres Elizondo", "link": "https://stackoverflow.com/users/2529824/andres-elizondo"}, "edited": false, "score": 0, "creation_date": 1504624263, "post_id": 46057959, "comment_id": 79076611, "body": "Run time! Of course it would work if I just include gridstack.min.js manually as an HTML script, but I want it to be packed into bundle.js"}, {"owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "reply_to_user": {"reputation": 191, "user_id": 2529824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QD1qW.png?s=128&g=1", "display_name": "Andres Elizondo", "link": "https://stackoverflow.com/users/2529824/andres-elizondo"}, "edited": false, "score": 0, "creation_date": 1504624327, "post_id": 46057959, "comment_id": 79076650, "body": "So this question is actually not related to any of your tags. Its a bundling question. Which bundler are you using? Please add the config to your question."}, {"owner": {"reputation": 191, "user_id": 2529824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QD1qW.png?s=128&g=1", "display_name": "Andres Elizondo", "link": "https://stackoverflow.com/users/2529824/andres-elizondo"}, "edited": false, "score": 0, "creation_date": 1504624503, "post_id": 46057959, "comment_id": 79076769, "body": "Ok thanks, it&#39;s webpack, I used the one from the boilerplate, it&#39;s easier to check it on this link: <a href=\"https://github.com/barbar/vortigern/blob/develop/config/webpack/dev.js\" rel=\"nofollow noreferrer\">github.com/barbar/vortigern/blob/develop/config/webpack/dev.&zwnj;&#8203;js</a> Thanks for your help!"}, {"owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "reply_to_user": {"reputation": 191, "user_id": 2529824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QD1qW.png?s=128&g=1", "display_name": "Andres Elizondo", "link": "https://stackoverflow.com/users/2529824/andres-elizondo"}, "edited": false, "score": 0, "creation_date": 1504643859, "post_id": 46057959, "comment_id": 79086735, "body": "Hmm, I don&#39;t know much about webpack. I switched <a href=\"https://github.com/styfle/react-server-example-tsx\" rel=\"nofollow noreferrer\">my boilerplate</a>  to webpack recently and used <a href=\"https://github.com/styfle/react-server-example-tsx/blob/master/webpack.config.js#L31\" rel=\"nofollow noreferrer\">externals</a> to tell webpack to not bundle an imported module. Did you try just <code>import * as g from &#39;.&#47;gridstack.js&#39;</code>?"}], "tags": [], "owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "is_accepted": false, "score": 0, "last_activity_date": 1504623196, "creation_date": 1504623196, "answer_id": 46057959, "question_id": 46057779, "link": "https://stackoverflow.com/questions/46057779/how-to-use-third-party-library-gridstack-js-with-typescript-and-react/46057959#46057959", "title": "How to use third-party library (gridstack.js) with Typescript and React", "body": "<p>You need to install the type definitions for gridstack.</p>\n\n<p>Run <code>npm install --save-dev @types/gridstack</code>.</p>\n\n<p>This will install the <code>.d.ts</code> files from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/gridstack\" rel=\"nofollow noreferrer\">DefinitelyTyped</a>.</p>\n"}], "owner": {"reputation": 191, "user_id": 2529824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QD1qW.png?s=128&g=1", "display_name": "Andres Elizondo", "link": "https://stackoverflow.com/users/2529824/andres-elizondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1893, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504643721, "creation_date": 1504622681, "last_edit_date": 1504643721, "question_id": 46057779, "link": "https://stackoverflow.com/questions/46057779/how-to-use-third-party-library-gridstack-js-with-typescript-and-react", "title": "How to use third-party library (gridstack.js) with Typescript and React", "body": "<p>Maybe I'm missing some fundamental concepts of Typescript and/or React, but I can't make the following to work:</p>\n\n<ol>\n<li><p>I'm using a <a href=\"https://github.com/barbar/vortigern\" rel=\"nofollow noreferrer\">React/Typescript Boilerplate</a> as my app template. (No problems here).</p></li>\n<li><p>In the other hand, I'm using a plain JS library called <a href=\"https://github.com/troolee/gridstack.js\" rel=\"nofollow noreferrer\">GridStack.js</a> that extends jQuery with <code>$.fn.gridstack(options)</code>. When you import this library into a simple HTML page you just need to initialize it by calling <code>$('.grid-stack').gridstack(options)</code>. (Still no problems).</p></li>\n<li><p>Then <strong>my objective is to create a TypeScript/React wrapper for gridstack.js than can be used in my boilerplate</strong>. This is where I have problems. I'm a bit lost between typescript and react, I even found a <a href=\"https://github.com/pitrho/react-gridstack\" rel=\"nofollow noreferrer\">wrapper for React</a> and also <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/gridstack\" rel=\"nofollow noreferrer\">Gridstack.js typings</a> but I can't make everything work together. This is why I decided to try to create my own wrapper but still without success. Specially where to import either <code>react-gridstack</code> or <code>gridstack</code> to make it work.</p></li>\n</ol>\n\n<p>Can someone explain what am I missing? This is my code so far:</p>\n\n<p><strong><em>gridstackWrapper.tsx</em></strong>:</p>\n\n<pre><code>import * as React from 'react';\nimport * as $ from 'jquery';\n\nexport default class extends React.Component {\n    public shouldComponentUpdate() {\n        return false;\n    }\n\n    public componentDidMount() {\n        $(this.refs.gridstack).addClass('a-new-class');  // THIS WORKS\n\n        // ERROR: TypeError: $(...).gridstack is not a function\n        // So basically $.fn.gridstack(options) is not working\n        $(this.refs.gridstack).gridstack(this.gridstackOptions);\n    }\n\n    public render() {\n        return (\n            &lt;div ref=\"gridstack\" className=\"grid-stack\" /&gt;\n        );\n    }\n\n    private gridstackOptions = {\n        float: false,\n        animate: true,\n        resizable: {handles: 'se, sw'},\n        verticalMargin: 12,\n        placeholderText: 'Move Control Here',\n        minWidth: 767,\n    };\n}\n</code></pre>\n\n<p><strong><em>index.tsx</em></strong>:</p>\n\n<pre><code>import * as React from 'react';\nimport GridstackWrapper from './gridstackWrapper';\n\nclass About extends React.Component&lt;any, any&gt; {\n  public render() {\n    return (\n      &lt;GridstackWrapper /&gt;\n    );\n  }\n}\n\nexport {\u00a0About }\n</code></pre>\n\n<p><strong><em>package.json</em></strong>:</p>\n\n<pre><code>\"devDependencies\": {\n    \"@types/gridstack\": \"0.0.38\",\n    \"@types/jquery\": \"3.2.12\",\n    \"@types/jqueryui\": \"1.11.36\",\n    \"@types/lodash\": \"4.14.74\",\n}\n\"dependencies\": {\n    \"gridstack\": \"0.3.0\",\n    \"jquery\": \"3.2.1\",\n    \"jquery-ui\": \"1.12.1\",\n    \"lodash\": \"4.17.4\"\n}\n</code></pre>\n\n<p>Any help would be really appreciated, especially if I'm missing any fundamental concepts about React and Typescript.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["angular", "typescript", "angular2-template"], "answers": [{"comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 2, "creation_date": 1504623092, "post_id": 46057744, "comment_id": 79075798, "body": "You don&#39;t use <code>{{}}</code> in <code>ngIf</code> expressions!"}, {"owner": {"reputation": 1155, "user_id": 5155074, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153266055701284/picture?type=large", "display_name": "Nafiul Islam", "link": "https://stackoverflow.com/users/5155074/nafiul-islam"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1504623180, "post_id": 46057744, "comment_id": 79075856, "body": "My bad! Corrected it"}, {"owner": {"reputation": 15, "user_id": 8506091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/X1ouM.jpg?s=128&g=1", "display_name": "kadal sparkadal", "link": "https://stackoverflow.com/users/8506091/kadal-sparkadal"}, "edited": false, "score": 0, "creation_date": 1504623277, "post_id": 46057744, "comment_id": 79075939, "body": "sorry but I have try  what your suggest but  it&#39;s not working"}, {"owner": {"reputation": 1155, "user_id": 5155074, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153266055701284/picture?type=large", "display_name": "Nafiul Islam", "link": "https://stackoverflow.com/users/5155074/nafiul-islam"}, "edited": false, "score": 0, "creation_date": 1504631927, "post_id": 46057744, "comment_id": 79080868, "body": "In that case, can you please share a bit more? like your data structure of <code>comptes</code> and what exactly are you trying to show in your table?"}], "tags": [], "owner": {"reputation": 1155, "user_id": 5155074, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153266055701284/picture?type=large", "display_name": "Nafiul Islam", "link": "https://stackoverflow.com/users/5155074/nafiul-islam"}, "is_accepted": false, "score": 1, "last_activity_date": 1504623163, "last_edit_date": 1504623163, "creation_date": 1504622596, "answer_id": 46057744, "question_id": 46057711, "link": "https://stackoverflow.com/questions/46057711/how-to-access-to-an-json-objet-array-in-typescript-view/46057744#46057744", "title": "How to access to an json objet array in typescript view", "body": "<p>It should be <code>*ngIf=\"compte['ingroup'].length &gt; 0\"</code></p>\n"}], "owner": {"reputation": 15, "user_id": 8506091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/X1ouM.jpg?s=128&g=1", "display_name": "kadal sparkadal", "link": "https://stackoverflow.com/users/8506091/kadal-sparkadal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1504623302, "creation_date": 1504622483, "last_edit_date": 1504623302, "question_id": 46057711, "link": "https://stackoverflow.com/questions/46057711/how-to-access-to-an-json-objet-array-in-typescript-view", "title": "How to access to an json objet array in typescript view", "body": "<p>I'm working on a project which has front end app in Angular. After cast my response coming from back end API,I'am trying to display array data in table,if   condition come true here is my array of data  compte['ingroup'].</p>\n\n<pre><code>&lt;ul class=\"nav nav-list \" *ngFor=\" let compte of  comptes\"&gt;\n   &lt;label class=\"groupcompte\" *ngIf=\"{{compte['ingroup']}}.lenght &gt; 0\" &gt;                                                                \n      {{compte['ingroup']| json}}\n   &lt;/label&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>My question is about know how to get compte['ingroup'] lenght in my condition\n thank you</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1504621976, "post_id": 46057523, "comment_id": 79074962, "body": "use filter instead of forEach and return true or false based on condition"}, {"owner": {"reputation": 789, "user_id": 1679279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b7ca058fe2c17d469b2caf6dd431b75b?s=128&d=identicon&r=PG", "display_name": "uzhas", "link": "https://stackoverflow.com/users/1679279/uzhas"}, "reply_to_user": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1504622057, "post_id": 46057523, "comment_id": 79075018, "body": "i have array in array"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1504622172, "post_id": 46057523, "comment_id": 79075104, "body": "then use filter inside filter. and keep up unitil you get to end!"}, {"owner": {"reputation": 789, "user_id": 1679279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b7ca058fe2c17d469b2caf6dd431b75b?s=128&d=identicon&r=PG", "display_name": "uzhas", "link": "https://stackoverflow.com/users/1679279/uzhas"}, "reply_to_user": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1504622228, "post_id": 46057523, "comment_id": 79075145, "body": "when i use filter inside filter i get duplicated names again"}, {"owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 1, "creation_date": 1504622488, "post_id": 46057523, "comment_id": 79075335, "body": "It would be much easier if you provide sample data and desired output."}], "answers": [{"comments": [{"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1504623021, "post_id": 46057889, "comment_id": 79075755, "body": "adjust to get the actual result"}], "tags": [], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1504623007, "creation_date": 1504623007, "answer_id": 46057889, "question_id": 46057523, "link": "https://stackoverflow.com/questions/46057523/how-to-remove-duplicate-name-from-array/46057889#46057889", "title": "How to remove duplicate name from array?", "body": "<p>Try the below code, in your code you using filter for inner items but not for the original array which is the value;</p>\n\n<pre><code>  this.result  = this.autocompletedata.filter((entry) =&gt; {\n        if (this.showFilter == 1) {\n            entry['item'] = entry['items'].filter( a =&gt; a['item'] ? a['item'].startsWith(event.query) : false);\n            return true;\n        }\n        return false;\n  });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "edited": false, "score": 0, "creation_date": 1504627456, "post_id": 46058387, "comment_id": 79078650, "body": "Could you add some explanation around how your code answers the question? A code dump isn&#39;t very easy to learn from"}, {"owner": {"reputation": 2035, "user_id": 8344903, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Zv8rt45HPkk/AAAAAAAAAAI/AAAAAAAACcs/LqRInzeY_uw/photo.jpg?sz=128", "display_name": "Rohan Fating", "link": "https://stackoverflow.com/users/8344903/rohan-fating"}, "reply_to_user": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "edited": false, "score": 1, "creation_date": 1504627869, "post_id": 46058387, "comment_id": 79078897, "body": "Updated with explanation."}], "tags": [], "owner": {"reputation": 2035, "user_id": 8344903, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Zv8rt45HPkk/AAAAAAAAAAI/AAAAAAAACcs/LqRInzeY_uw/photo.jpg?sz=128", "display_name": "Rohan Fating", "link": "https://stackoverflow.com/users/8344903/rohan-fating"}, "is_accepted": false, "score": 0, "last_activity_date": 1504627850, "last_edit_date": 1504627850, "creation_date": 1504624573, "answer_id": 46058387, "question_id": 46057523, "link": "https://stackoverflow.com/questions/46057523/how-to-remove-duplicate-name-from-array/46058387#46058387", "title": "How to remove duplicate name from array?", "body": "<p>Use array.filter function to filter duplicate array like below:</p>\n\n<pre><code>// Array with duplicate names\nautocompletedata: Array&lt;string&gt; = ['a','b','v','c','p','a','b']; // For ex\noutput: Array&lt;string&gt; = []; // this will hold array filtered with duplicate one\n\nlet names: string = '';\nthis.output = this.autocompletedata.filter((item, index) =&gt; {\n    var flag =  names.indexOf(item)===-1; // check if item available or not\n    names = index === this.autocompletedata.length-1? '': `${names}${item}`; // creating string of items to compare duplicate names\n    return flag; // return true if item is not duplicate one\n})\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 1679279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b7ca058fe2c17d469b2caf6dd431b75b?s=128&d=identicon&r=PG", "display_name": "uzhas", "link": "https://stackoverflow.com/users/1679279/uzhas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1504627850, "creation_date": 1504621911, "last_edit_date": 1504624260, "question_id": 46057523, "link": "https://stackoverflow.com/questions/46057523/how-to-remove-duplicate-name-from-array", "title": "How to remove duplicate name from array?", "body": "<p>I have this in my .ts file :</p>\n\n<pre><code>  search(event) {\n    this.autocompletedata.filter((entry) =&gt; {\n        console.log('entryyyy',entry);\n        if (this.showFilter == 1) {\n            this.results = entry['items'].filter( a =&gt; a['item'] ? a['item'].startsWith(event.query) : false);\n        }\n        else if (this.showFilter == 2) {\n            this.results = entry['items'].filter( a =&gt; a['service'] ? a['service'].startsWith(event.query) : false);\n        } \n        else if (this.showFilter == 3){\n            this.results = entry['items'].filter( a =&gt; a['phoneNum'] ? a['phoneNum'].startsWith(event.query) : false);\n        }\n\n    });\n}\n</code></pre>\n\n<p>Problem is that i get data but i get duplicated data. Any suggestion how can i remove duplicated data from array?</p>\n\n<p>This is my full code for autocomplete.</p>\n\n<p>This is my structure of items :</p>\n\n<p><a href=\"https://i.stack.imgur.com/boLP1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/boLP1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now in last if statement i have results that they are suggestions, and because in array i have multiple times same number i get in suggestion that number and i dont want that- I want only one to be displayed.</p>\n"}, {"tags": ["typescript", "browserify", "aurelia", "web-worker"], "comments": [{"owner": {"reputation": 10689, "user_id": 2167109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3496781b80540d5a698d5cefe23eae?s=128&d=identicon&r=PG", "display_name": "Ashley Grant", "link": "https://stackoverflow.com/users/2167109/ashley-grant"}, "edited": false, "score": 0, "creation_date": 1504620962, "post_id": 46056758, "comment_id": 79074211, "body": "I don&#39;t believe the aurelia-pal-worker is quite what you&#39;re looking for, as it is simply an implementation of the Aurelia Platform Abstraction Layer for Web Workers. I believe it is part of work that might allow Aurelia to offload some framework tasks to Web Workers in the future."}, {"owner": {"reputation": 843, "user_id": 932315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xk3AF.jpg?s=128&g=1", "display_name": "Xceno", "link": "https://stackoverflow.com/users/932315/xceno"}, "reply_to_user": {"reputation": 10689, "user_id": 2167109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3496781b80540d5a698d5cefe23eae?s=128&d=identicon&r=PG", "display_name": "Ashley Grant", "link": "https://stackoverflow.com/users/2167109/ashley-grant"}, "edited": false, "score": 0, "creation_date": 1504621102, "post_id": 46056758, "comment_id": 79074291, "body": "@AshleyGrant thx for the quick reply! I was under the assumption that the <code>pal</code> provides a module loader abstraction that i could put to use here."}, {"owner": {"reputation": 10689, "user_id": 2167109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3496781b80540d5a698d5cefe23eae?s=128&d=identicon&r=PG", "display_name": "Ashley Grant", "link": "https://stackoverflow.com/users/2167109/ashley-grant"}, "edited": false, "score": 0, "creation_date": 1504621181, "post_id": 46056758, "comment_id": 79074346, "body": "And regarding Web Workers + TypeScript and Aurelia, the answer to how to do this is likely going to be the same as the answer to how to do this in a non-Aurelia project. So if you can figure out how to do this in a TypeScript + RequireJS project, that should probably work in an Aurelia CLI project."}, {"owner": {"reputation": 843, "user_id": 932315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xk3AF.jpg?s=128&g=1", "display_name": "Xceno", "link": "https://stackoverflow.com/users/932315/xceno"}, "reply_to_user": {"reputation": 10689, "user_id": 2167109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3496781b80540d5a698d5cefe23eae?s=128&d=identicon&r=PG", "display_name": "Ashley Grant", "link": "https://stackoverflow.com/users/2167109/ashley-grant"}, "edited": false, "score": 0, "creation_date": 1504621558, "post_id": 46056758, "comment_id": 79074631, "body": "Makes sense; then I&#39;ll keep hacking the build pipeline and post an update later. Thx!"}], "answers": [{"tags": [], "owner": {"reputation": 843, "user_id": 932315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xk3AF.jpg?s=128&g=1", "display_name": "Xceno", "link": "https://stackoverflow.com/users/932315/xceno"}, "is_accepted": true, "score": 1, "last_activity_date": 1505468041, "last_edit_date": 1505468041, "creation_date": 1505465857, "answer_id": 46235623, "question_id": 46056758, "link": "https://stackoverflow.com/questions/46056758/proper-implementation-of-web-workers-in-aurelia-and-typescript/46235623#46235623", "title": "Proper implementation of web workers in Aurelia and TypeScript", "body": "<p>So after some fiddling around I switched to a <a href=\"https://github.com/Xceno/aurelia-skeleton-typescript-react-webpack\" rel=\"nofollow noreferrer\">webpack based solution</a>, which allows me to use the amazing <a href=\"https://github.com/webpack-contrib/worker-loader\" rel=\"nofollow noreferrer\">webpack-worker-loader</a>.</p>\n\n<p>This was the best tradeoff between modifying my existing project and having it up and running again quickly.</p>\n\n<p>This is how it looks like in the end:</p>\n\n<p><strong><code>custom_typings/worker-loader.d.ts</code></strong></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>declare module \"worker-loader!*\" {\n  const content: new () =&gt; any;\n  export = content;\n}\n</code></pre>\n\n<p><strong><code>worker/some-service.ts</code></strong></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export class SomeService {\n  public doStuff() {\n    console.log(\"[SomeService] Stuff was done\");\n  }\n}\n</code></pre>\n\n<p><strong><code>worker/my-worker.ts</code></strong></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import \"rxjs/add/observable/interval\";\n\nimport { Observable } from \"rxjs/Observable\";\nimport { SomeService } from \"./some-service\";\n\nconst svc = new SomeService();\nsvc.doStuff();\n\nconsole.log(\"[Worker] Did stuff\");\nonmessage = event =&gt; {\n    console.log(event);\n};\n\nObservable.interval(1000).subscribe(x =&gt; postMessage(x));\n</code></pre>\n\n<p>After the worker is loaded like this:</p>\n\n<pre><code>import * as MyWorker from \"worker-loader!./worker/my-worker\";\nconst worker = new MyWorker();\nworker.onmessage = msg =&gt; console.log(\"[MyClass] got msg from worker\", msg);\n</code></pre>\n\n<p>It will generate the following console output:</p>\n\n<pre><code>1: \"[SomeService] Stuff was done\"\n2: \"[Worker] Did stuff\"\n3: \"[MyClass] got msg from worker\", 1\n4: \"[MyClass] got msg from worker\", 2\n...\n</code></pre>\n\n<p><strong>You need full blown DI in a worker?</strong></p>\n\n<p>Fear not, with a little help of <a href=\"https://stackoverflow.com/a/38294082/932315\">this answer</a> I figured out how rewrite this with our webpack based solution:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>let container: Container = null;\nlet myService: SuperComplexService = null;\n\n// Import the loader abstraction, so the DI container knows how to resolve our modules.\nimport(\"aurelia-pal-worker\")\n  .then(pal =&gt; pal.initialize())\n  // We need some polyfills (like \"Reflect.defineMetadata\")\n  .then(() =&gt; import(\"aurelia-polyfills\"))\n  // Then we get the DI service and create a container\n  .then(() =&gt; import(\"aurelia-dependency-injection\"))\n  .then(({ Container }) =&gt; (container = new Container()))\n  .then(() =&gt; import(\"../services/my-super-complex-service\")) // Here we go!\n  .then(({ SuperComplexService }) =&gt; (myService = container.get(SuperComplexService) as SuperComplexService))\n  .then(() =&gt; startWorker());\n\nconst startWorker = async() =&gt; {\n  // Let's get going!\n}\n</code></pre>\n\n<p>All credits for this loader-chain go to @jeremy-danyow.</p>\n"}], "owner": {"reputation": 843, "user_id": 932315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xk3AF.jpg?s=128&g=1", "display_name": "Xceno", "link": "https://stackoverflow.com/users/932315/xceno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 46235623, "answer_count": 1, "score": 1, "last_activity_date": 1505468041, "creation_date": 1504619602, "last_edit_date": 1504680976, "question_id": 46056758, "link": "https://stackoverflow.com/questions/46056758/proper-implementation-of-web-workers-in-aurelia-and-typescript", "title": "Proper implementation of web workers in Aurelia and TypeScript", "body": "<p>Sadly, I couldn't find a single answer to this on the whole web.</p>\n\n<p>I have an Aurelia app based on <code>TypeScript</code> / <code>Aurelia CLI</code> / <code>RequireJS</code>.\nWith a structure like this:</p>\n\n<pre><code>|data\n   |-MyService.ts\n|workers\n   |-SomeWorker.ts/js\n</code></pre>\n\n<p>There exists a package called <a href=\"https://github.com/aurelia/pal-worker\" rel=\"nofollow noreferrer\"><code>aurelia-pal-worker</code></a>, but without documentation or complex examples.</p>\n\n<hr>\n\n<p><strong>What I've tried so far</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/anderscan/typed-web-workers\" rel=\"nofollow noreferrer\"><code>Typed-Web-Workers</code></a> which is nice but too limiting</li>\n<li>Having a <code>SomeWorker</code><strong>.js</strong> and used <a href=\"https://github.com/browserify/browserify-handbook#gulp\" rel=\"nofollow noreferrer\">Browserify</a> as an additional buildstep in <em>aurelia_project</em>.</li>\n</ul>\n\n<p>The Browserify approach works, as long as I require external libs like <code>RxJs</code>.\nOf course this breaks when I try to <code>require(\"../data/MyService.ts\")</code>. For this to work, I would need to replace the whole build pipeline with another, that runs the entire aurelia project through Browserify with the tsify plugin.</p>\n\n<p>It seems to my I've got 3 choices:</p>\n\n<ul>\n<li>Find a working example to compile a TypeScript file down to a web worker and use <code>aurelia-pal-worker</code> to import dependencies.</li>\n<li>Use <code>TypedWorker</code> and just throw expensive functions into a thread like:<br/><code>new TypedWoker(expensiveFuncFromService, handleOutput)</code></li>\n<li>Compile <code>MyService.ts</code> to separate JS-Files (instead of bundling it) and require it like this:<br/>\n<code>require(\"/scripts/MyService.js\")</code></li>\n</ul>\n\n<p>The last two don't seem very appealing to me, but should be straightforward to do. Any hints or examples are highly appreciated!</p>\n\n<p>PS: For anyone not familiar with Aurelia: It uses a gulp pipeline under the hood.</p>\n"}, {"tags": ["typescript", "aurelia"], "comments": [{"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1504620274, "post_id": 46056164, "comment_id": 79073700, "body": "Is this what you are looking for? Your question is pretty unclear. Also, what have you tried already? <a href=\"http://aurelia.io/hub.html#/doc/article/aurelia/templating/latest/templating-html-behaviors-introduction/3\" rel=\"nofollow noreferrer\">aurelia.io/hub.html#/doc/article/aurelia/templating/latest/&hellip;</a>"}, {"owner": {"reputation": 10689, "user_id": 2167109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3496781b80540d5a698d5cefe23eae?s=128&d=identicon&r=PG", "display_name": "Ashley Grant", "link": "https://stackoverflow.com/users/2167109/ashley-grant"}, "edited": false, "score": 0, "creation_date": 1504621310, "post_id": 46056164, "comment_id": 79074444, "body": "Just answering the last question you asked, <code>window</code> is a global property in the browser, so you don&#39;t need to inject it. It&#39;s just there to use."}], "answers": [{"tags": [], "owner": {"reputation": 1583, "user_id": 4921289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mxhUI.jpg?s=128&g=1", "display_name": "Marc Scheib", "link": "https://stackoverflow.com/users/4921289/marc-scheib"}, "is_accepted": true, "score": 2, "last_activity_date": 1504638731, "creation_date": 1504638731, "answer_id": 46061827, "question_id": 46056164, "link": "https://stackoverflow.com/questions/46056164/aurelia-typescript-scroll-to-top-of-page/46061827#46061827", "title": "Aurelia typescript scroll to top of page", "body": "<p>I don't got your question completely, however, here is how I scroll to the top of the page on each navigation. Perhaps this helps you.</p>\n\n<p>I have a scroll function (<code>smoothScrollReset</code>) which gets an element (can be every element) and scrolls to that element based on a given function (e.g <code>linearTween()</code>, you can change scrolling behavior by exchanging this one). The element I scroll to is some container on the page.\nThen, I add a post render pipeline step to the Aurelia router. All together:</p>\n\n<p>Adding the pipeline step:</p>\n\n<pre><code>...\nlet appRouterConfig = config =&gt; {\n  config.addPipelineStep('postRender', ScrollToTopStep);\n};\n\nthis.router.configure(appRouterConfig);\n...\n</code></pre>\n\n<p>The pipeline step itself:</p>\n\n<pre><code>export class ScrollToTopStep {\n  run(instruction, next) {\n    let element = document.getElementsByTagName('main')[0];\n    smoothScrollReset(element);\n    return next();\n  }\n}\n</code></pre>\n\n<p>The scrolling function:</p>\n\n<pre><code>export function smoothScrollReset(element) {\n  if (!element) {\n    return;\n  }\n\n  const duration = 200;\n  const scrollFrom = element.scrollTop;\n  const diff = -scrollFrom;\n  let startTime = null;\n  let lastYOffset;\n  let scrollLoop = (currentTime) =&gt; {\n    let currentYOffset = element.scrollTop;\n    if (!startTime) {\n      startTime = currentTime - 1;\n    }\n\n    const timeElapsed = currentTime - startTime;\n    if (lastYOffset) {\n      if ((diff &gt; 0 &amp;&amp; lastYOffset &gt; currentYOffset) ||\n        (diff &lt; 0 &amp;&amp; lastYOffset &lt; currentYOffset)) {\n        return;\n      }\n    }\n\n    lastYOffset = currentYOffset;\n    element.scrollTop = linearTween(timeElapsed, scrollFrom, diff, duration);\n    if (timeElapsed &lt; duration) {\n      window.requestAnimationFrame(scrollLoop);\n    } else {\n      element.scrollTop = 0;\n    }\n  };\n\n  window.requestAnimationFrame(scrollLoop);\n}\n\nfunction linearTween(t, b, c, d) {\n  return c * t / d + b;\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2648378, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e3911d3d454c54bd3bdc64b6c3674aa6?s=128&d=identicon&r=PG&f=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/2648378/lars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "accepted_answer_id": 46061827, "answer_count": 1, "score": -1, "last_activity_date": 1504638731, "creation_date": 1504617986, "question_id": 46056164, "link": "https://stackoverflow.com/questions/46056164/aurelia-typescript-scroll-to-top-of-page", "title": "Aurelia typescript scroll to top of page", "body": "<p>How to scroll page top top or div/id element?</p>\n\n<p>Method in viewmodel (.ts) called by click.delegate from view (.html) scroll page to top or to selectable div by id etc. By using window? if, how to inject window in aurelia/typescript?</p>\n"}]